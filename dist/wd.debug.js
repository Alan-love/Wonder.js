var wd;
(function (wd) {
    wd.DebugConfig = {
        isTest: false,
        debugCollision: false,
        showDebugPanel: false
    };
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DebugStatistics = (function () {
        function DebugStatistics() {
        }
        DebugStatistics.clear = function () {
            this.count.renderGameObjects = 0;
            this.count.drawCalls = 0;
        };
        DebugStatistics.init = function () {
            var self = this;
            this._startLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.STARTLOOP)
                .subscribe(function () {
                if (wd.DebugConfig.showDebugPanel) {
                    console.log("totalGameObjects:" + self.count.totalGameObjects + ", renderGameObjects:" + self.count.renderGameObjects + ", drawCalls:" + self.count.drawCalls);
                    console.log("fps:" + self.during.fps);
                    self.clear();
                }
            });
        };
        DebugStatistics.dispose = function () {
            this._startLoopSubscription.dispose();
        };
        DebugStatistics.count = {
            get totalGameObjects() {
                var count = 0;
                wd.Director.getInstance().scene.getChildren().forEach(function (child) {
                    if (child.hasComponent(wd.SpacePartition)) {
                        count += child.getComponent(wd.SpacePartition).getChildren().getCount();
                        return;
                    }
                    count++;
                });
                return count;
            },
            renderGameObjects: 0,
            drawCalls: 0
        };
        DebugStatistics.during = {
            get fps() {
                return wd.Director.getInstance().fps;
            }
        };
        DebugStatistics._startLoopSubscription = null;
        return DebugStatistics;
    }());
    wd.DebugStatistics = DebugStatistics;
})(wd || (wd = {}));
var wdFrp;
(function (wdFrp) {
    wdFrp.fromCollection = function (collection, scheduler) {
        if (scheduler === void 0) { scheduler = wdFrp.Scheduler.create(); }
        var arr = collection.toArray();
        return arr.length === 0 ? wdFrp.empty() : wdFrp.fromArray(arr, scheduler);
    };
})(wdFrp || (wdFrp = {}));
var wd;
(function (wd) {
    function assert(cond, message) {
        if (message === void 0) { message = "contract error"; }
        wd.Log.error(!cond, message);
    }
    wd.assert = assert;
    function require(InFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (wd.Main.isTest) {
                    InFunc.apply(this, args);
                }
                return value.apply(this, args);
            };
            return descriptor;
        };
    }
    wd.require = require;
    function ensure(OutFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = value.apply(this, args), params = [result].concat(args);
                if (wd.Main.isTest) {
                    OutFunc.apply(this, params);
                }
                return result;
            };
            return descriptor;
        };
    }
    wd.ensure = ensure;
    function requireGetter(InFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                if (wd.Main.isTest) {
                    InFunc.call(this);
                }
                return getter.call(this);
            };
            return descriptor;
        };
    }
    wd.requireGetter = requireGetter;
    function requireSetter(InFunc) {
        return function (target, name, descriptor) {
            var setter = descriptor.set;
            descriptor.set = function (val) {
                if (wd.Main.isTest) {
                    InFunc.call(this, val);
                }
                setter.call(this, val);
            };
            return descriptor;
        };
    }
    wd.requireSetter = requireSetter;
    function ensureGetter(OutFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                var result = getter.call(this);
                if (wd.Main.isTest) {
                    OutFunc.call(this, result);
                }
                return result;
            };
            return descriptor;
        };
    }
    wd.ensureGetter = ensureGetter;
    function ensureSetter(OutFunc) {
        return function (target, name, descriptor) {
            var setter = descriptor.set;
            descriptor.set = function (val) {
                var result = setter.call(this, val), params = [result, val];
                if (wd.Main.isTest) {
                    OutFunc.apply(this, params);
                }
            };
            return descriptor;
        };
    }
    wd.ensureSetter = ensureSetter;
    function invariant(func) {
        return function (target) {
            if (wd.Main.isTest) {
                func(target);
            }
        };
    }
    wd.invariant = invariant;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function cacheGetter(judgeFunc, returnCacheValueFunc, setCacheFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                var result = null;
                if (judgeFunc.call(this)) {
                    return returnCacheValueFunc.call(this);
                }
                result = getter.call(this);
                setCacheFunc.call(this, result);
                return result;
            };
            return descriptor;
        };
    }
    wd.cacheGetter = cacheGetter;
    function cache(judgeFunc, returnCacheValueFunc, setCacheFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = null;
                if (judgeFunc.apply(this, args)) {
                    return returnCacheValueFunc.apply(this, args);
                }
                result = value.apply(this, args);
                setCacheFunc.apply(this, [result].concat(args));
                return result;
            };
            return descriptor;
        };
    }
    wd.cache = cache;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function virtual(target, name, descriptor) {
        return descriptor;
    }
    wd.virtual = virtual;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function operateBodyDataGetterAndSetter(dataName) {
        return function (target, name, descriptor) {
            var getter = descriptor.get, setter = descriptor.set;
            descriptor.get = function () {
                if (this.isPhysicsEngineAdapterExist()) {
                    var data = this.getPhysicsEngineAdapter()[("get" + dataName)](this.entityObject);
                    return data !== null ? data : this[("_" + lowerFirstChar(dataName))];
                }
                return getter.call(this);
            };
            descriptor.set = function (val) {
                setter.call(this, val);
                if (this.isPhysicsEngineAdapterExist()) {
                    this.getPhysicsEngineAdapter()[("set" + dataName)](this.entityObject, val);
                }
            };
            return descriptor;
        };
    }
    wd.operateBodyDataGetterAndSetter = operateBodyDataGetterAndSetter;
    function operateWorldDataGetterAndSetter(dataName) {
        return function (target, name, descriptor) {
            var getter = descriptor.get, setter = descriptor.set;
            descriptor.get = function () {
                var scene = wd.Director.getInstance().scene;
                if (isWorldDefined(scene)) {
                    var data = scene.physicsEngineAdapter[("get" + dataName)]();
                    return data !== null ? data : this[("_" + lowerFirstChar(dataName))];
                }
                return getter.call(this);
            };
            descriptor.set = function (val) {
                var scene = wd.Director.getInstance().scene;
                setter.call(this, val);
                if (isWorldDefined(scene)) {
                    scene.physicsEngineAdapter[("set" + dataName)](val);
                }
            };
            return descriptor;
        };
    }
    wd.operateWorldDataGetterAndSetter = operateWorldDataGetterAndSetter;
    function isWorldDefined(scene) {
        return scene.physicsEngineAdapter && scene.physicsEngineAdapter.world;
    }
    function lowerFirstChar(str) {
        var firstChar = str.slice(0, 1);
        return "" + firstChar.toLowerCase() + str.slice(1);
    }
})(wd || (wd = {}));
var wd;
(function (wd) {
    function script(scriptName) {
        return function (target) {
            wd.Script.addScript(scriptName, target);
        };
    }
    wd.script = script;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function execOnlyOnce(flagName) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = null;
                if (this[flagName]) {
                    return;
                }
                this[flagName] = true;
                return value.apply(this, args);
            };
            return descriptor;
        };
    }
    wd.execOnlyOnce = execOnlyOnce;
})(wd || (wd = {}));
var wd;
(function (wd) {
    wd.ABSTRACT_ATTRIBUTE = null;
})(wd || (wd = {}));
var wd;
(function (wd) {
})(wd || (wd = {}));
Object.defineProperty(wd, "root", {
    get: function () {
        if (wd.JudgeUtils.isNodeJs()) {
            return global;
        }
        return window;
    }
});
var wd;
(function (wd) {
    wd.DEG_TO_RAD = Math.PI / 180;
    wd.RAD_TO_DEG = 180 / Math.PI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector2 = (function () {
        function Vector2() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = new Float32Array(2);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
            }
        }
        Vector2.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1]);
            }
            return m;
        };
        Object.defineProperty(Vector2.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector2.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Vector2.prototype.set = function (x, y) {
            this.x = x;
            this.y = y;
        };
        Vector2.prototype.add = function (v) {
            this.values[0] = this.values[0] + v.values[0];
            this.values[1] = this.values[1] + v.values[1];
            return this;
        };
        Vector2.prototype.mul = function (v) {
            this.values[0] = this.values[0] * v.values[0];
            this.values[1] = this.values[1] * v.values[1];
            return this;
        };
        Vector2.prototype.copy = function () {
            return Vector2.create(this.x, this.y);
        };
        return Vector2;
    }());
    wd.Vector2 = Vector2;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector3 = (function () {
        function Vector3() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            this.values = new Float32Array(3);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
                this.values[2] = args[2];
            }
        }
        Vector3.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1], args[2]);
            }
            return m;
        };
        Object.defineProperty(Vector3.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector3.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector3.prototype, "z", {
            get: function () {
                return this.values[2];
            },
            set: function (z) {
                this.values[2] = z;
            },
            enumerable: true,
            configurable: true
        });
        Vector3.prototype.normalize = function () {
            var v = this.values;
            var d = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
            if (d === 0) {
                v[0] = 0;
                v[1] = 0;
                v[2] = 0;
                return this;
            }
            v[0] = v[0] / d;
            v[1] = v[1] / d;
            v[2] = v[2] / d;
            if (v[0] === -0) {
                v[0] = 0;
            }
            if (v[1] === -0) {
                v[1] = 0;
            }
            if (v[2] === -0) {
                v[2] = 0;
            }
            return this;
        };
        Vector3.prototype.isZero = function () {
            var v = this.values;
            return v[0] === 0 && v[1] === 0 && v[2] === 0;
        };
        Vector3.prototype.scale = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var v = this.values;
            if (args.length === 1) {
                var scalar = args[0];
                v[0] *= scalar;
                v[1] *= scalar;
                v[2] *= scalar;
            }
            else if (args.length === 3) {
                var x = args[0], y = args[1], z = args[2];
                v[0] *= x;
                v[1] *= y;
                v[2] *= z;
            }
            return this;
        };
        Vector3.prototype.set = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 3) {
                this.x = args[0];
                this.y = args[1];
                this.z = args[2];
            }
            else {
                var v = args[0];
                this.x = v.x;
                this.y = v.y;
                this.z = v.z;
            }
        };
        Vector3.prototype.sub = function (v) {
            this.values[0] = this.values[0] - v.values[0];
            this.values[1] = this.values[1] - v.values[1];
            this.values[2] = this.values[2] - v.values[2];
            return this;
        };
        Vector3.prototype.sub2 = function (v1, v2) {
            this.values[0] = v1.values[0] - v2.values[0];
            this.values[1] = v1.values[1] - v2.values[1];
            this.values[2] = v1.values[2] - v2.values[2];
            return this;
        };
        Vector3.prototype.add = function (v) {
            this.values[0] = this.values[0] + v.values[0];
            this.values[1] = this.values[1] + v.values[1];
            this.values[2] = this.values[2] + v.values[2];
            return this;
        };
        Vector3.prototype.add2 = function (v1, v2) {
            this.values[0] = v1.values[0] + v2.values[0];
            this.values[1] = v1.values[1] + v2.values[1];
            this.values[2] = v1.values[2] + v2.values[2];
            return this;
        };
        Vector3.prototype.mul = function (v) {
            this.values[0] = this.values[0] * v.values[0];
            this.values[1] = this.values[1] * v.values[1];
            this.values[2] = this.values[2] * v.values[2];
            return this;
        };
        Vector3.prototype.mul2 = function (v1, v2) {
            this.values[0] = v1.values[0] * v2.values[0];
            this.values[1] = v1.values[1] * v2.values[1];
            this.values[2] = v1.values[2] * v2.values[2];
            return this;
        };
        Vector3.prototype.reverse = function () {
            this.values[0] = -this.values[0];
            this.values[1] = -this.values[1];
            this.values[2] = -this.values[2];
            return this;
        };
        Vector3.prototype.copy = function () {
            var result = Vector3.create(), i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        Vector3.prototype.toVector4 = function () {
            return wd.Vector4.create(this.values[0], this.values[1], this.values[2], 1.0);
        };
        Vector3.prototype.length = function () {
            var v = this.values;
            return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
        };
        Vector3.prototype.cross = function (lhs, rhs) {
            var a, b, r, ax, ay, az, bx, by, bz;
            a = lhs.values;
            b = rhs.values;
            r = this.values;
            ax = a[0];
            ay = a[1];
            az = a[2];
            bx = b[0];
            by = b[1];
            bz = b[2];
            r[0] = ay * bz - by * az;
            r[1] = az * bx - bz * ax;
            r[2] = ax * by - bx * ay;
            return this;
        };
        Vector3.prototype.lerp = function (lhs, rhs, alpha) {
            var a = lhs.values, b = rhs.values, r = this.values;
            r[0] = a[0] + alpha * (b[0] - a[0]);
            r[1] = a[1] + alpha * (b[1] - a[1]);
            r[2] = a[2] + alpha * (b[2] - a[2]);
            return this;
        };
        Vector3.prototype.dot = function (rhs) {
            var a = this.values, b = rhs.values;
            return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
        };
        Vector3.prototype.min = function (v) {
            if (this.x > v.x) {
                this.x = v.x;
            }
            if (this.y > v.y) {
                this.y = v.y;
            }
            if (this.z > v.z) {
                this.z = v.z;
            }
            return this;
        };
        Vector3.prototype.max = function (v) {
            if (this.x < v.x) {
                this.x = v.x;
            }
            if (this.y < v.y) {
                this.y = v.y;
            }
            if (this.z < v.z) {
                this.z = v.z;
            }
            return this;
        };
        Vector3.prototype.isEqual = function (v) {
            return this.x === v.x && this.y === v.y && this.z === v.z;
        };
        Vector3.prototype.toArray = function () {
            return [this.x, this.y, this.z];
        };
        Vector3.prototype.applyMatrix4 = function (m) {
            var x = this.x, y = this.y, z = this.z, e = m.values;
            this.x = e[0] * x + e[4] * y + e[8] * z + e[12];
            this.y = e[1] * x + e[5] * y + e[9] * z + e[13];
            this.z = e[2] * x + e[6] * y + e[10] * z + e[14];
            return this;
        };
        Vector3.prototype.distanceTo = function (v) {
            return Math.sqrt(this.distanceToSquared(v));
        };
        Vector3.prototype.distanceToSquared = function (v) {
            var dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;
            return Math.pow(dx, 2) + Math.pow(dy, 2) + Math.pow(dz, 2);
        };
        Vector3.up = Vector3.create(0, 1, 0);
        Vector3.forward = Vector3.create(0, 0, 1);
        Vector3.right = Vector3.create(1, 0, 0);
        return Vector3;
    }());
    wd.Vector3 = Vector3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector4 = (function () {
        function Vector4() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = new Float32Array(4);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
                this.values[2] = args[2];
                this.values[3] = args[3];
            }
        }
        Vector4.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1], args[2], args[3]);
            }
            return m;
        };
        Object.defineProperty(Vector4.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "z", {
            get: function () {
                return this.values[2];
            },
            set: function (z) {
                this.values[2] = z;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "w", {
            get: function () {
                return this.values[3];
            },
            set: function (w) {
                this.values[3] = w;
            },
            enumerable: true,
            configurable: true
        });
        Vector4.prototype.normalize = function () {
            var v = this.values;
            var d = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]);
            if (d === 0) {
                return Vector4.create(0, 0, 0, 0);
            }
            v[0] = v[0] / d;
            v[1] = v[1] / d;
            v[2] = v[2] / d;
            v[3] = v[3] / d;
            return this;
        };
        Vector4.prototype.copy = function () {
            return this.copyHelper(Vector4.create());
        };
        Vector4.prototype.toVector3 = function () {
            return wd.Vector3.create(this.values[0], this.values[1], this.values[2]);
        };
        Vector4.prototype.multiplyScalar = function (scalar) {
            this.x *= scalar;
            this.y *= scalar;
            this.z *= scalar;
            this.w *= scalar;
            return this;
        };
        Vector4.prototype.dot = function (v) {
            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;
        };
        Vector4.prototype.set = function (x, y, z, w) {
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        };
        Vector4.prototype.copyHelper = function (vector4) {
            var result = vector4, i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        return Vector4;
    }());
    wd.Vector4 = Vector4;
})(wd || (wd = {}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var wd;
(function (wd) {
    var Matrix4 = (function () {
        function Matrix4() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            this._matrixArr = null;
            if (args.length === 1) {
                this.values = args[0];
            }
            else {
                this.values = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
            }
            this._matrixArr = [];
        }
        Matrix4.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0]);
            }
            return m;
        };
        Matrix4.prototype.push = function () {
            this._matrixArr.push(this.values);
        };
        Matrix4.prototype.pop = function () {
            this.values = this._matrixArr.pop();
        };
        Matrix4.prototype.set = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var te = this.values, values = null;
            if (args.length === 1) {
                var matrix = args[0];
                values = matrix.values;
            }
            else {
                values = [
                    args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11], args[12], args[13], args[14], args[15]
                ];
            }
            te[0] = values[0];
            te[1] = values[1];
            te[2] = values[2];
            te[3] = values[3];
            te[4] = values[4];
            te[5] = values[5];
            te[6] = values[6];
            te[7] = values[7];
            te[8] = values[8];
            te[9] = values[9];
            te[10] = values[10];
            te[11] = values[11];
            te[12] = values[12];
            te[13] = values[13];
            te[14] = values[14];
            te[15] = values[15];
            return this;
        };
        Matrix4.prototype.setIdentity = function () {
            var e = this.values;
            e[0] = 1;
            e[4] = 0;
            e[8] = 0;
            e[12] = 0;
            e[1] = 0;
            e[5] = 1;
            e[9] = 0;
            e[13] = 0;
            e[2] = 0;
            e[6] = 0;
            e[10] = 1;
            e[14] = 0;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.invert = function () {
            var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b00, b01, b02, b03, b04, b05, b06, b07, b08, b09, b10, b11, invDet, m;
            m = this.values;
            a00 = m[0];
            a01 = m[1];
            a02 = m[2];
            a03 = m[3];
            a10 = m[4];
            a11 = m[5];
            a12 = m[6];
            a13 = m[7];
            a20 = m[8];
            a21 = m[9];
            a22 = m[10];
            a23 = m[11];
            a30 = m[12];
            a31 = m[13];
            a32 = m[14];
            a33 = m[15];
            b00 = a00 * a11 - a01 * a10;
            b01 = a00 * a12 - a02 * a10;
            b02 = a00 * a13 - a03 * a10;
            b03 = a01 * a12 - a02 * a11;
            b04 = a01 * a13 - a03 * a11;
            b05 = a02 * a13 - a03 * a12;
            b06 = a20 * a31 - a21 * a30;
            b07 = a20 * a32 - a22 * a30;
            b08 = a20 * a33 - a23 * a30;
            b09 = a21 * a32 - a22 * a31;
            b10 = a21 * a33 - a23 * a31;
            b11 = a22 * a33 - a23 * a32;
            invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);
            m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;
            m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;
            m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;
            m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;
            m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;
            m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;
            m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;
            m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;
            m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;
            m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;
            m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;
            m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;
            m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;
            m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;
            m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;
            m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;
            return this;
        };
        Matrix4.prototype.invertTo3x3 = function () {
            var a11, a21, a31, a12, a22, a32, a13, a23, a33, m, r, det, idet;
            var mat3 = wd.Matrix3.create();
            m = this.values;
            r = mat3.values;
            a11 = m[10] * m[5] - m[6] * m[9];
            a21 = -m[10] * m[1] + m[2] * m[9];
            a31 = m[6] * m[1] - m[2] * m[5];
            a12 = -m[10] * m[4] + m[6] * m[8];
            a22 = m[10] * m[0] - m[2] * m[8];
            a32 = -m[6] * m[0] + m[2] * m[4];
            a13 = m[9] * m[4] - m[5] * m[8];
            a23 = -m[9] * m[0] + m[1] * m[8];
            a33 = m[5] * m[0] - m[1] * m[4];
            det = m[0] * a11 + m[1] * a12 + m[2] * a13;
            if (det === 0) {
                wd.Log.warn("can't invert matrix, determinant is 0");
                return mat3;
            }
            idet = 1 / det;
            r[0] = idet * a11;
            r[1] = idet * a21;
            r[2] = idet * a31;
            r[3] = idet * a12;
            r[4] = idet * a22;
            r[5] = idet * a32;
            r[6] = idet * a13;
            r[7] = idet * a23;
            r[8] = idet * a33;
            return mat3;
        };
        Matrix4.prototype.transpose = function () {
            var te = this.values;
            var tmp;
            tmp = te[1];
            te[1] = te[4];
            te[4] = tmp;
            tmp = te[2];
            te[2] = te[8];
            te[8] = tmp;
            tmp = te[6];
            te[6] = te[9];
            te[9] = tmp;
            tmp = te[3];
            te[3] = te[12];
            te[12] = tmp;
            tmp = te[7];
            te[7] = te[13];
            te[13] = tmp;
            tmp = te[11];
            te[11] = te[14];
            te[14] = tmp;
            return this;
        };
        Matrix4.prototype.setTranslate = function (x, y, z) {
            var e = this.values;
            e[0] = 1;
            e[4] = 0;
            e[8] = 0;
            e[12] = x;
            e[1] = 0;
            e[5] = 1;
            e[9] = 0;
            e[13] = y;
            e[2] = 0;
            e[6] = 0;
            e[10] = 1;
            e[14] = z;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.translate = function (x, y, z) {
            this.applyMatrix(Matrix4.create().setTranslate(x, y, z));
            return this;
        };
        Matrix4.prototype.setRotate = function (angle, x, y, z) {
            var e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;
            var angle = Math.PI * angle / 180;
            e = this.values;
            s = Math.sin(angle);
            c = Math.cos(angle);
            if (0 !== x && 0 === y && 0 === z) {
                if (x < 0) {
                    s = -s;
                }
                e[0] = 1;
                e[4] = 0;
                e[8] = 0;
                e[12] = 0;
                e[1] = 0;
                e[5] = c;
                e[9] = -s;
                e[13] = 0;
                e[2] = 0;
                e[6] = s;
                e[10] = c;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else if (0 === x && 0 !== y && 0 === z) {
                if (y < 0) {
                    s = -s;
                }
                e[0] = c;
                e[4] = 0;
                e[8] = s;
                e[12] = 0;
                e[1] = 0;
                e[5] = 1;
                e[9] = 0;
                e[13] = 0;
                e[2] = -s;
                e[6] = 0;
                e[10] = c;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else if (0 === x && 0 === y && 0 !== z) {
                if (z < 0) {
                    s = -s;
                }
                e[0] = c;
                e[4] = -s;
                e[8] = 0;
                e[12] = 0;
                e[1] = s;
                e[5] = c;
                e[9] = 0;
                e[13] = 0;
                e[2] = 0;
                e[6] = 0;
                e[10] = 1;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else {
                len = Math.sqrt(x * x + y * y + z * z);
                if (len !== 1) {
                    rlen = 1 / len;
                    x *= rlen;
                    y *= rlen;
                    z *= rlen;
                }
                nc = 1 - c;
                xy = x * y;
                yz = y * z;
                zx = z * x;
                xs = x * s;
                ys = y * s;
                zs = z * s;
                e[0] = x * x * nc + c;
                e[1] = xy * nc + zs;
                e[2] = zx * nc - ys;
                e[3] = 0;
                e[4] = xy * nc - zs;
                e[5] = y * y * nc + c;
                e[6] = yz * nc + xs;
                e[7] = 0;
                e[8] = zx * nc + ys;
                e[9] = yz * nc - xs;
                e[10] = z * z * nc + c;
                e[11] = 0;
                e[12] = 0;
                e[13] = 0;
                e[14] = 0;
                e[15] = 1;
            }
            return this;
        };
        Matrix4.prototype.rotate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = args[0];
            if (args.length === 2) {
                var vector3 = args[1];
                this.applyMatrix(Matrix4.create().setRotate(angle, vector3.values[0], vector3.values[1], vector3.values[2]));
            }
            else if (args.length === 4) {
                var x = args[1], y = args[2], z = args[3];
                this.applyMatrix(Matrix4.create().setRotate(angle, x, y, z));
            }
            return this;
        };
        Matrix4.prototype.setScale = function (x, y, z) {
            var e = this.values;
            e[0] = x;
            e[4] = 0;
            e[8] = 0;
            e[12] = 0;
            e[1] = 0;
            e[5] = y;
            e[9] = 0;
            e[13] = 0;
            e[2] = 0;
            e[6] = 0;
            e[10] = z;
            e[14] = 0;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.scale = function (x, y, z) {
            this.applyMatrix(Matrix4.create().setScale(x, y, z));
            return this;
        };
        Matrix4.prototype.setLookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var x, y, z, eye, center, up;
            if (args.length === 3) {
                eye = args[0];
                center = args[1];
                up = args[2];
            }
            else if (args.length === 9) {
                eye = wd.Vector3.create(args[0], args[1], args[2]);
                center = wd.Vector3.create(args[3], args[4], args[5]);
                up = wd.Vector3.create(args[6], args[7], args[8]);
            }
            x = wd.Vector3.create();
            z = eye.copy().sub(center).normalize();
            y = up.copy().normalize();
            x.cross(y, z).normalize();
            y.cross(z, x);
            var r = this.values;
            r[0] = x.x;
            r[1] = x.y;
            r[2] = x.z;
            r[3] = 0;
            r[4] = y.x;
            r[5] = y.y;
            r[6] = y.z;
            r[7] = 0;
            r[8] = z.x;
            r[9] = z.y;
            r[10] = z.z;
            r[11] = 0;
            r[12] = eye.x;
            r[13] = eye.y;
            r[14] = eye.z;
            r[15] = 1;
            return this;
        };
        Matrix4.prototype.lookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var matrix = Matrix4.create();
            this.applyMatrix(matrix.setLookAt.apply(matrix, args));
            return this;
        };
        Matrix4.prototype.setOrtho = function (left, right, bottom, top, near, far) {
            var e = this.values, rw, rh, rd;
            rw = 1 / (right - left);
            rh = 1 / (top - bottom);
            rd = 1 / (far - near);
            e[0] = 2 * rw;
            e[1] = 0;
            e[2] = 0;
            e[3] = 0;
            e[4] = 0;
            e[5] = 2 * rh;
            e[6] = 0;
            e[7] = 0;
            e[8] = 0;
            e[9] = 0;
            e[10] = -2 * rd;
            e[11] = 0;
            e[12] = -(right + left) * rw;
            e[13] = -(top + bottom) * rh;
            e[14] = -(far + near) * rd;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.ortho = function (left, right, bottom, top, near, far) {
            this.applyMatrix(Matrix4.create().setOrtho(left, right, bottom, top, near, far));
            return this;
        };
        Matrix4.prototype.setPerspective = function (fovy, aspect, near, far) {
            var e = null, rd = null, s = null, ct = null, fovy = Math.PI * fovy / 180 / 2;
            s = Math.sin(fovy);
            wd.Log.error(s === 0, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
            rd = 1 / (far - near);
            ct = Math.cos(fovy) / s;
            e = this.values;
            e[0] = ct / aspect;
            e[1] = 0;
            e[2] = 0;
            e[3] = 0;
            e[4] = 0;
            e[5] = ct;
            e[6] = 0;
            e[7] = 0;
            e[8] = 0;
            e[9] = 0;
            e[10] = -(far + near) * rd;
            e[11] = -1;
            e[12] = 0;
            e[13] = 0;
            e[14] = -2 * near * far * rd;
            e[15] = 0;
            return this;
        };
        Matrix4.prototype.perspective = function (fovy, aspect, near, far) {
            this.applyMatrix(Matrix4.create().setPerspective(fovy, aspect, near, far));
            return this;
        };
        Matrix4.prototype.applyMatrix = function (other) {
            var a = this, b = other.copy();
            this.values = b.multiply(a).values;
            return this;
        };
        Matrix4.prototype.multiply = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var mat1 = null, mat2 = null, result = null;
            result = this.values;
            if (args.length === 1) {
                mat1 = this.values;
                mat2 = args[0].values;
            }
            else if (args.length === 2) {
                mat1 = args[0].values;
                mat2 = args[1].values;
            }
            var a = mat1[0], b = mat1[1], c = mat1[2], d = mat1[3], e = mat1[4], f = mat1[5], g = mat1[6], h = mat1[7], i = mat1[8], j = mat1[9], k = mat1[10], l = mat1[11], m = mat1[12], n = mat1[13], o = mat1[14], p = mat1[15], A = mat2[0], B = mat2[1], C = mat2[2], D = mat2[3], E = mat2[4], F = mat2[5], G = mat2[6], H = mat2[7], I = mat2[8], J = mat2[9], K = mat2[10], L = mat2[11], M = mat2[12], N = mat2[13], O = mat2[14], P = mat2[15];
            result[0] = A * a + B * e + C * i + D * m;
            result[1] = A * b + B * f + C * j + D * n;
            result[2] = A * c + B * g + C * k + D * o;
            result[3] = A * d + B * h + C * l + D * p;
            result[4] = E * a + F * e + G * i + H * m;
            result[5] = E * b + F * f + G * j + H * n;
            result[6] = E * c + F * g + G * k + H * o;
            result[7] = E * d + F * h + G * l + H * p;
            result[8] = I * a + J * e + K * i + L * m;
            result[9] = I * b + J * f + K * j + L * n;
            result[10] = I * c + J * g + K * k + L * o;
            result[11] = I * d + J * h + K * l + L * p;
            result[12] = M * a + N * e + O * i + P * m;
            result[13] = M * b + N * f + O * j + P * n;
            result[14] = M * c + N * g + O * k + P * o;
            result[15] = M * d + N * h + O * l + P * p;
            return this;
        };
        Matrix4.prototype.multiplyVector4 = function (vector) {
            var mat1 = this.values, vec4 = vector.values;
            var result = [];
            result[0] = vec4[0] * mat1[0] + vec4[1] * mat1[4] + vec4[2] * mat1[8] + vec4[3] * mat1[12];
            result[1] = vec4[0] * mat1[1] + vec4[1] * mat1[5] + vec4[2] * mat1[9] + vec4[3] * mat1[13];
            result[2] = vec4[0] * mat1[2] + vec4[1] * mat1[6] + vec4[2] * mat1[10] + vec4[3] * mat1[14];
            result[3] = vec4[0] * mat1[3] + vec4[1] * mat1[7] + vec4[2] * mat1[11] + vec4[3] * mat1[15];
            return wd.Vector4.create(result[0], result[1], result[2], result[3]);
        };
        Matrix4.prototype.multiplyVector3 = function (vector) {
            var mat1 = this.values, vec3 = vector.values;
            var result = [];
            result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8];
            result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9];
            result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10];
            return wd.Vector3.create(result[0], result[1], result[2]);
        };
        Matrix4.prototype.multiplyPoint = function (vector) {
            var mat1 = this.values, vec3 = vector.values;
            var result = [];
            result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8] + mat1[12];
            result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9] + mat1[13];
            result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10] + mat1[14];
            return wd.Vector3.create(result[0], result[1], result[2]);
        };
        Matrix4.prototype.copy = function () {
            var result = Matrix4.create(), i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        Matrix4.prototype.getX = function () {
            return wd.Vector3.create(this.values[0], this.values[1], this.values[2]);
        };
        Matrix4.prototype.getY = function () {
            return wd.Vector3.create(this.values[4], this.values[5], this.values[6]);
        };
        Matrix4.prototype.getZ = function () {
            return wd.Vector3.create(this.values[8], this.values[9], this.values[10]);
        };
        Matrix4.prototype.getTranslation = function () {
            return wd.Vector3.create(this.values[12], this.values[13], this.values[14]);
        };
        Matrix4.prototype.getScale = function () {
            return wd.Vector3.create(this.getX().length(), this.getY().length(), this.getZ().length());
        };
        Matrix4.prototype.getRotation = function () {
            return wd.Quaternion.create().setFromMatrix(this);
        };
        Matrix4.prototype.getEulerAngles = function () {
            var x, y, z, sx, sy, sz, m, halfPi;
            var scale = this.getScale();
            sx = scale.x;
            sy = scale.y;
            sz = scale.z;
            m = this.values;
            y = Math.asin(-m[2] / sx);
            halfPi = Math.PI * 0.5;
            if (y < halfPi) {
                if (y > -halfPi) {
                    x = Math.atan2(m[6] / sy, m[10] / sz);
                    z = Math.atan2(m[1] / sx, m[0] / sx);
                }
                else {
                    z = 0;
                    x = -Math.atan2(m[4] / sy, m[5] / sy);
                }
            }
            else {
                z = 0;
                x = Math.atan2(m[4] / sy, m[5] / sy);
            }
            return wd.Vector3.create(x, y, z).scale(wd.RAD_TO_DEG);
        };
        Matrix4.prototype.setTRS = function (t, r, s) {
            var tx, ty, tz, qx, qy, qz, qw, sx, sy, sz, x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;
            tx = t.x;
            ty = t.y;
            tz = t.z;
            qx = r.x;
            qy = r.y;
            qz = r.z;
            qw = r.w;
            sx = s.x;
            sy = s.y;
            sz = s.z;
            x2 = qx + qx;
            y2 = qy + qy;
            z2 = qz + qz;
            xx = qx * x2;
            xy = qx * y2;
            xz = qx * z2;
            yy = qy * y2;
            yz = qy * z2;
            zz = qz * z2;
            wx = qw * x2;
            wy = qw * y2;
            wz = qw * z2;
            m = this.values;
            m[0] = (1 - (yy + zz)) * sx;
            m[1] = (xy + wz) * sx;
            m[2] = (xz - wy) * sx;
            m[3] = 0;
            m[4] = (xy - wz) * sy;
            m[5] = (1 - (xx + zz)) * sy;
            m[6] = (yz + wx) * sy;
            m[7] = 0;
            m[8] = (xz + wy) * sz;
            m[9] = (yz - wx) * sz;
            m[10] = (1 - (xx + yy)) * sz;
            m[11] = 0;
            m[12] = tx;
            m[13] = ty;
            m[14] = tz;
            m[15] = 1;
            return this;
        };
        __decorate([
            wd.require(function (left, right, bottom, top, near, far) {
                wd.assert(left !== right && bottom !== top && near !== far, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
            })
        ], Matrix4.prototype, "setOrtho", null);
        __decorate([
            wd.require(function (fovy, aspect, near, far) {
                wd.assert(near !== far && aspect !== 0, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
                wd.assert(near > 0, wd.Log.info.FUNC_MUST("near", "> 0"));
                wd.assert(far > 0, wd.Log.info.FUNC_MUST("far", "> 0"));
            })
        ], Matrix4.prototype, "setPerspective", null);
        return Matrix4;
    }());
    wd.Matrix4 = Matrix4;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Matrix3 = (function () {
        function Matrix3() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            if (args.length === 1) {
                this.values = args[0];
            }
            else {
                this.values = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            }
        }
        Matrix3.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0]);
            }
            return m;
        };
        Object.defineProperty(Matrix3.prototype, "a", {
            get: function () {
                return this.values[0];
            },
            set: function (a) {
                this.values[0] = a;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "c", {
            get: function () {
                return this.values[1];
            },
            set: function (c) {
                this.values[1] = c;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "b", {
            get: function () {
                return this.values[3];
            },
            set: function (b) {
                this.values[3] = b;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "d", {
            get: function () {
                return this.values[4];
            },
            set: function (d) {
                this.values[4] = d;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "tx", {
            get: function () {
                return this.values[6];
            },
            set: function (tx) {
                this.values[6] = tx;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "ty", {
            get: function () {
                return this.values[7];
            },
            set: function (ty) {
                this.values[7] = ty;
            },
            enumerable: true,
            configurable: true
        });
        Matrix3.prototype.setIdentity = function () {
            var e = this.values;
            e[0] = 1;
            e[3] = 0;
            e[6] = 0;
            e[1] = 0;
            e[4] = 1;
            e[7] = 0;
            e[2] = 0;
            e[5] = 0;
            e[8] = 1;
            return this;
        };
        Matrix3.prototype.invert = function () {
            var a1 = this.values[0];
            var b1 = this.values[1];
            var c1 = this.values[3];
            var d1 = this.values[4];
            var tx1 = this.values[6];
            var ty1 = this.values[7];
            var n = a1 * d1 - b1 * c1;
            this.values[0] = d1 / n;
            this.values[1] = -b1 / n;
            this.values[3] = -c1 / n;
            this.values[4] = a1 / n;
            this.values[6] = (c1 * ty1 - d1 * tx1) / n;
            this.values[7] = -(a1 * ty1 - b1 * tx1) / n;
            return this;
        };
        Matrix3.prototype.multiplyScalar = function (s) {
            var te = this.values;
            te[0] *= s;
            te[3] *= s;
            te[6] *= s;
            te[1] *= s;
            te[4] *= s;
            te[7] *= s;
            te[2] *= s;
            te[5] *= s;
            te[8] *= s;
            return this;
        };
        Matrix3.prototype.multiplyVector2 = function (vector) {
            var x = vector.x, y = vector.y, result = wd.Vector2.create(), e = this.values;
            result.x = e[0] * x + e[3] * y;
            result.y = e[1] * x + e[4] * y;
            return result;
        };
        Matrix3.prototype.multiplyPoint = function (vector) {
            var x = vector.x, y = vector.y, result = wd.Vector2.create(), e = this.values;
            result.x = e[0] * x + e[3] * y + this.tx;
            result.y = e[1] * x + e[4] * y + this.ty;
            return result;
        };
        Matrix3.prototype.multiply = function (matrix) {
            var m11 = this.a * matrix.a + this.c * matrix.b;
            var m12 = this.b * matrix.a + this.d * matrix.b;
            var m21 = this.a * matrix.c + this.c * matrix.d;
            var m22 = this.b * matrix.c + this.d * matrix.d;
            var dx = this.a * matrix.tx + this.c * matrix.ty + this.tx;
            var dy = this.b * matrix.tx + this.d * matrix.ty + this.ty;
            this.a = m11;
            this.b = m12;
            this.c = m21;
            this.d = m22;
            this.tx = dx;
            this.ty = dy;
            return this;
        };
        Matrix3.prototype.transpose = function () {
            var tmp, m = this.values;
            tmp = m[1];
            m[1] = m[3];
            m[3] = tmp;
            tmp = m[2];
            m[2] = m[6];
            m[6] = tmp;
            tmp = m[5];
            m[5] = m[7];
            m[7] = tmp;
            return this;
        };
        Matrix3.prototype.copy = function () {
            return Matrix3.create().set(this);
        };
        Matrix3.prototype.set = function (matrix) {
            var te = this.values, values = matrix.values;
            te[0] = values[0];
            te[3] = values[3];
            te[6] = values[6];
            te[1] = values[1];
            te[4] = values[4];
            te[7] = values[7];
            te[2] = values[2];
            te[5] = values[5];
            te[8] = values[8];
            return this;
        };
        Matrix3.prototype.setTS = function (t, s) {
            this.setPosition(t.x, t.y);
            this.setScale(s.x, s.y);
        };
        Matrix3.prototype.rotate = function (angle) {
            var rad = angle * wd.DEG_TO_RAD;
            var c = Math.cos(rad);
            var s = Math.sin(rad);
            var m11 = this.a * c + this.c * s;
            var m12 = this.b * c + this.d * s;
            var m21 = this.a * -s + this.c * c;
            var m22 = this.b * -s + this.d * c;
            this.a = m11;
            this.b = m12;
            this.c = m21;
            this.d = m22;
            return this;
        };
        Matrix3.prototype.setRotation = function (angle) {
            var rad = angle * wd.DEG_TO_RAD;
            var cos_a = Math.cos(rad);
            var sin_a = Math.sin(rad);
            var values = this.values;
            values[0] = cos_a;
            values[1] = -sin_a;
            values[3] = sin_a;
            values[4] = cos_a;
            return this;
        };
        Matrix3.prototype.translate = function (x, y) {
            this.tx += this.a * x + this.c * y;
            this.ty += this.b * x + this.d * y;
        };
        Matrix3.prototype.setPosition = function (x, y) {
            this.tx = x;
            this.ty = y;
        };
        Matrix3.prototype.scale = function (x, y) {
            this.a *= x;
            this.b *= x;
            this.c *= y;
            this.d *= y;
            return this;
        };
        Matrix3.prototype.setScale = function (x, y) {
            var values = this.values;
            values[0] = x;
            values[4] = y;
            return this;
        };
        Matrix3.prototype.getTranslation = function () {
            return wd.Vector2.create(this.tx, this.ty);
        };
        Matrix3.prototype.getScale = function () {
            return wd.Vector2.create(Math.sqrt(this.a * this.a + this.b * this.b), Math.sqrt(this.c * this.c + this.d * this.d));
        };
        Matrix3.prototype.getRotation = function () {
            return this._getSkewX();
        };
        Matrix3.prototype.getSkew = function () {
            return wd.Vector2.create(this._getSkewX(), this._getSkewY());
        };
        Matrix3.prototype._getDeltaTransformPoint = function (matrix, point) {
            return {
                x: point.x * matrix.a + point.y * matrix.c + 0,
                y: point.x * matrix.b + point.y * matrix.d + 0
            };
        };
        Matrix3.prototype._getSkewX = function () {
            var px = this._getDeltaTransformPoint(this, { x: 0, y: 1 });
            return ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);
        };
        Matrix3.prototype._getSkewY = function () {
            var py = this._getDeltaTransformPoint(this, { x: 1, y: 0 });
            return ((180 / Math.PI) * Math.atan2(py.y, py.x));
        };
        return Matrix3;
    }());
    wd.Matrix3 = Matrix3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Quaternion = (function () {
        function Quaternion(x, y, z, w) {
            if (x === void 0) { x = 0; }
            if (y === void 0) { y = 0; }
            if (z === void 0) { z = 0; }
            if (w === void 0) { w = 1; }
            this.x = null;
            this.y = null;
            this.z = null;
            this.w = null;
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        }
        Quaternion.create = function (x, y, z, w) {
            var obj = new this(x, y, z, w);
            return obj;
        };
        Quaternion.prototype.setFromEulerAngles = function (eulerAngles) {
            var sx, cx, sy, cy, sz, cz, halfToRad, ex = eulerAngles.x, ey = eulerAngles.y, ez = eulerAngles.z;
            halfToRad = 0.5 * wd.DEG_TO_RAD;
            ex *= halfToRad;
            ey *= halfToRad;
            ez *= halfToRad;
            sx = Math.sin(ex);
            cx = Math.cos(ex);
            sy = Math.sin(ey);
            cy = Math.cos(ey);
            sz = Math.sin(ez);
            cz = Math.cos(ez);
            this.x = sx * cy * cz - cx * sy * sz;
            this.y = cx * sy * cz + sx * cy * sz;
            this.z = cx * cy * sz - sx * sy * cz;
            this.w = cx * cy * cz + sx * sy * sz;
            return this;
        };
        Quaternion.prototype.multiply = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w, rhs1, rhs2, result = this;
            if (args.length === 1) {
                rhs1 = this;
                rhs2 = args[0];
            }
            else if (args.length === 2) {
                rhs1 = args[0];
                rhs2 = args[1];
            }
            q1x = rhs1.x;
            q1y = rhs1.y;
            q1z = rhs1.z;
            q1w = rhs1.w;
            q2x = rhs2.x;
            q2y = rhs2.y;
            q2z = rhs2.z;
            q2w = rhs2.w;
            result.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;
            result.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;
            result.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;
            result.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;
            return result;
        };
        Quaternion.prototype.setFromMatrix = function (matrix) {
            var m00, m01, m02, m10, m11, m12, m20, m21, m22, tr, s, rs, lx, ly, lz, m;
            m = matrix.values;
            m00 = m[0];
            m01 = m[1];
            m02 = m[2];
            m10 = m[4];
            m11 = m[5];
            m12 = m[6];
            m20 = m[8];
            m21 = m[9];
            m22 = m[10];
            lx = 1 / Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02);
            ly = 1 / Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12);
            lz = 1 / Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22);
            m00 *= lx;
            m01 *= lx;
            m02 *= lx;
            m10 *= ly;
            m11 *= ly;
            m12 *= ly;
            m20 *= lz;
            m21 *= lz;
            m22 *= lz;
            tr = m00 + m11 + m22;
            if (tr >= 0) {
                s = Math.sqrt(tr + 1);
                this.w = s * 0.5;
                s = 0.5 / s;
                this.x = (m12 - m21) * s;
                this.y = (m20 - m02) * s;
                this.z = (m01 - m10) * s;
            }
            else {
                if (m00 > m11) {
                    if (m00 > m22) {
                        rs = (m00 - (m11 + m22)) + 1;
                        rs = Math.sqrt(rs);
                        this.x = rs * 0.5;
                        rs = 0.5 / rs;
                        this.w = (m12 - m21) * rs;
                        this.y = (m01 + m10) * rs;
                        this.z = (m02 + m20) * rs;
                    }
                    else {
                        rs = (m22 - (m00 + m11)) + 1;
                        rs = Math.sqrt(rs);
                        this.z = rs * 0.5;
                        rs = 0.5 / rs;
                        this.w = (m01 - m10) * rs;
                        this.x = (m20 + m02) * rs;
                        this.y = (m21 + m12) * rs;
                    }
                }
                else if (m11 > m22) {
                    rs = (m11 - (m22 + m00)) + 1;
                    rs = Math.sqrt(rs);
                    this.y = rs * 0.5;
                    rs = 0.5 / rs;
                    this.w = (m20 - m02) * rs;
                    this.z = (m12 + m21) * rs;
                    this.x = (m10 + m01) * rs;
                }
                else {
                    rs = (m22 - (m00 + m11)) + 1;
                    rs = Math.sqrt(rs);
                    this.z = rs * 0.5;
                    rs = 0.5 / rs;
                    this.w = (m01 - m10) * rs;
                    this.x = (m20 + m02) * rs;
                    this.y = (m21 + m12) * rs;
                }
            }
            return this;
        };
        Quaternion.prototype.setFromAxisAngle = function (angle, axis) {
            var sa, ca;
            axis = axis.normalize();
            angle *= 0.5 * wd.DEG_TO_RAD;
            sa = Math.sin(angle);
            ca = Math.cos(angle);
            this.x = sa * axis.x;
            this.y = sa * axis.y;
            this.z = sa * axis.z;
            this.w = ca;
            return this;
        };
        Quaternion.prototype.invert = function () {
            return this.conjugate().normalize();
        };
        Quaternion.prototype.conjugate = function () {
            this.x *= -1;
            this.y *= -1;
            this.z *= -1;
            return this;
        };
        Quaternion.prototype.clone = function () {
            return Quaternion.create(this.x, this.y, this.z, this.w);
        };
        Quaternion.prototype.copy = function () {
            return Quaternion.create(this.x, this.y, this.z, this.w);
        };
        Quaternion.prototype.normalize = function () {
            var len = this.length();
            if (len === 0) {
                this.x = this.y = this.z = 0;
                this.w = 1;
            }
            else {
                len = 1 / len;
                this.x *= len;
                this.y *= len;
                this.z *= len;
                this.w *= len;
            }
            return this;
        };
        Quaternion.prototype.length = function () {
            var x, y, z, w;
            x = this.x;
            y = this.y;
            z = this.z;
            w = this.w;
            return Math.sqrt(x * x + y * y + z * z + w * w);
        };
        Quaternion.prototype.multiplyVector3 = function (vector) {
            var q = this;
            var x = vector.x;
            var y = vector.y;
            var z = vector.z;
            var qx = q.x;
            var qy = q.y;
            var qz = q.z;
            var qw = q.w;
            var ix = qw * x + qy * z - qz * y;
            var iy = qw * y + qz * x - qx * z;
            var iz = qw * z + qx * y - qy * x;
            var iw = -qx * x - qy * y - qz * z;
            return wd.Vector3.create(ix * qw + iw * -qx + iy * -qz - iz * -qy, iy * qw + iw * -qy + iz * -qx - ix * -qz, iz * qw + iw * -qz + ix * -qy - iy * -qx);
        };
        Quaternion.prototype.set = function (x, y, z, w) {
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        };
        Quaternion.prototype.sub = function (quat) {
            var result = quat.copy().invert().multiply(this);
            this.set(result.x, result.y, result.z, result.w);
            return this;
        };
        Quaternion.prototype.getEulerAngles = function () {
            var x, y, z, qx, qy, qz, qw, a2;
            qx = this.x;
            qy = this.y;
            qz = this.z;
            qw = this.w;
            a2 = 2 * (qw * qy - qx * qz);
            if (a2 <= -0.99999) {
                x = 2 * Math.atan2(qx, qw);
                y = -Math.PI / 2;
                z = 0;
            }
            else if (a2 >= 0.99999) {
                x = 2 * Math.atan2(qx, qw);
                y = Math.PI / 2;
                z = 0;
            }
            else {
                x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));
                y = Math.asin(a2);
                z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));
            }
            return wd.Vector3.create(x, y, z).scale(wd.RAD_TO_DEG);
        };
        Quaternion.prototype.slerp = function (left, right, amount) {
            var num2;
            var num3;
            var num = amount;
            var num4 = (((left.x * right.x) + (left.y * right.y)) + (left.z * right.z)) + (left.w * right.w);
            var flag = false;
            if (num4 < 0) {
                flag = true;
                num4 = -num4;
            }
            if (num4 > 0.999999) {
                num3 = 1 - num;
                num2 = flag ? -num : num;
            }
            else {
                var num5 = Math.acos(num4);
                var num6 = (1.0 / Math.sin(num5));
                num3 = (Math.sin((1.0 - num) * num5)) * num6;
                num2 = flag ? ((-Math.sin(num * num5)) * num6) : ((Math.sin(num * num5)) * num6);
            }
            return Quaternion.create((num3 * left.x) + (num2 * right.x), (num3 * left.y) + (num2 * right.y), (num3 * left.z) + (num2 * right.z), (num3 * left.w) + (num2 * right.w));
        };
        return Quaternion;
    }());
    wd.Quaternion = Quaternion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Plane = (function () {
        function Plane(a, b, c, d) {
            this.normal = wd.Vector3.create(0, 1, 0);
            this.d = 0;
            this.normal = wd.Vector3.create(a, b, c);
            this.d = d;
        }
        Plane.create = function (a, b, c, d) {
            var obj = new this(a, b, c, d);
            return obj;
        };
        Plane.prototype.getReflectionMatrix = function () {
            this.normalize();
            var x = this.normal.x;
            var y = this.normal.y;
            var z = this.normal.z;
            var temp = -2 * x;
            var temp2 = -2 * y;
            var temp3 = -2 * z;
            var result = wd.Matrix4.create();
            result.values[0] = (temp * x) + 1;
            result.values[1] = temp2 * x;
            result.values[2] = temp3 * x;
            result.values[3] = 0.0;
            result.values[4] = temp * y;
            result.values[5] = (temp2 * y) + 1;
            result.values[6] = temp3 * y;
            result.values[7] = 0.0;
            result.values[8] = temp * z;
            result.values[9] = temp2 * z;
            result.values[10] = (temp3 * z) + 1;
            result.values[11] = 0.0;
            result.values[12] = temp * this.d;
            result.values[13] = temp2 * this.d;
            result.values[14] = temp3 * this.d;
            result.values[15] = 1.0;
            return result;
        };
        Plane.prototype.normalize = function () {
            var norm = (Math.sqrt((this.normal.x * this.normal.x) + (this.normal.y * this.normal.y) + (this.normal.z * this.normal.z)));
            var magnitude = 0;
            if (norm !== 0) {
                magnitude = 1.0 / norm;
            }
            this.normal.x *= magnitude;
            this.normal.y *= magnitude;
            this.normal.z *= magnitude;
            this.d *= magnitude;
            return this;
        };
        Plane.prototype.copy = function () {
            return Plane.create(this.normal.x, this.normal.y, this.normal.z, this.d);
        };
        Plane.prototype.dotCoordinate = function (point) {
            return ((((this.normal.x * point.x) + (this.normal.y * point.y)) + (this.normal.z * point.z)) + this.d);
        };
        return Plane;
    }());
    wd.Plane = Plane;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Ray = (function () {
        function Ray(origin, direction) {
            this._origin = null;
            this._direction = null;
            this._origin = origin;
            this._direction = direction;
        }
        Ray.create = function (origin, direction) {
            var obj = new this(origin, direction);
            return obj;
        };
        Ray.prototype.isIntersectWithAABB = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var center = null, halfExtends = null, diff = wd.Vector3.create(), absDiff = null, absDir = null, cross = wd.Vector3.create(), prod = wd.Vector3.create(), rayOrigin = this._origin, rayDir = this._direction;
            if (args.length === 1) {
                var aabb = args[0];
                center = aabb.center;
                halfExtends = aabb.halfExtents;
            }
            else if (args.length === 2) {
                var minPoint = args[0], maxPoint = args[1];
                center = wd.AABBShape.getCenter(minPoint, maxPoint);
                halfExtends = wd.AABBShape.getHalfExtents(minPoint, maxPoint);
            }
            diff.sub2(rayOrigin, center);
            absDiff = wd.Vector3.create(Math.abs(diff.x), Math.abs(diff.y), Math.abs(diff.z));
            prod.mul2(diff, rayDir);
            if (absDiff.x > halfExtends.x && prod.x >= 0) {
                return false;
            }
            if (absDiff.y > halfExtends.y && prod.y >= 0) {
                return false;
            }
            if (absDiff.z > halfExtends.z && prod.z >= 0) {
                return false;
            }
            absDir = wd.Vector3.create(Math.abs(rayDir.x), Math.abs(rayDir.y), Math.abs(rayDir.z));
            cross.cross(rayDir, diff);
            cross.set(Math.abs(cross.x), Math.abs(cross.y), Math.abs(cross.z));
            if (cross.x > halfExtends.y * absDir.z + halfExtends.z * absDir.y) {
                return false;
            }
            if (cross.y > halfExtends.x * absDir.z + halfExtends.z * absDir.x) {
                return false;
            }
            if (cross.z > halfExtends.x * absDir.y + halfExtends.y * absDir.x) {
                return false;
            }
            return true;
        };
        Ray.prototype.isIntersectWithSphere = function (sphere) {
            var center = sphere.center, radius = sphere.radius, diff = wd.Vector3.create(), a = 0, b = 0, c = 0, discr = 0, rayOrigin = this._origin, rayDir = this._direction;
            diff.sub2(rayOrigin, center);
            if (diff.dot(diff) < radius * radius) {
                return true;
            }
            a = rayDir.dot(rayDir);
            b = 2 * rayDir.dot(diff);
            c = center.dot(center);
            c += rayOrigin.dot(rayOrigin);
            c -= 2 * center.dot(rayOrigin);
            c -= radius * radius;
            discr = (b * b) - (4 * a * c);
            if (discr < 0) {
                return false;
            }
            return true;
        };
        return Ray;
    }());
    wd.Ray = Ray;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Entity = (function () {
        function Entity() {
            this.uid = null;
            this._tagList = wdCb.Collection.create();
            this.uid = Entity._count;
            Entity._count += 1;
        }
        Entity.prototype.addTag = function (tag) {
            this._tagList.addChild(tag);
        };
        Entity.prototype.removeTag = function (tag) {
            this._tagList.removeChild(tag);
        };
        Entity.prototype.getTagList = function () {
            return this._tagList;
        };
        Entity.prototype.hasTag = function (tag) {
            return this._tagList.hasChild(tag);
        };
        Entity.prototype.containTag = function (tag) {
            return this._tagList.hasChild(function (t) {
                return t.indexOf(tag) > -1;
            });
        };
        Entity._count = 1;
        return Entity;
    }());
    wd.Entity = Entity;
})(wd || (wd = {}));
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var wd;
(function (wd) {
    var Component = (function (_super) {
        __extends(Component, _super);
        function Component() {
            _super.apply(this, arguments);
            this.entityObject = null;
        }
        Component.prototype.init = function () {
        };
        Component.prototype.dispose = function () {
        };
        Object.defineProperty(Component.prototype, "transform", {
            get: function () {
                if (!this.entityObject) {
                    return null;
                }
                return this.entityObject.transform;
            },
            enumerable: true,
            configurable: true
        });
        Component.prototype.addToObject = function (entityObject) {
            if (this.entityObject) {
                this.entityObject.removeComponent(this);
            }
            this.entityObject = entityObject;
        };
        Component.prototype.removeFromObject = function (entityObject) {
            this.entityObject = null;
        };
        __decorate([
            wd.virtual
        ], Component.prototype, "init", null);
        __decorate([
            wd.virtual
        ], Component.prototype, "dispose", null);
        return Component;
    }(wd.Entity));
    wd.Component = Component;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Scheduler = (function () {
        function Scheduler() {
            this._scheduleCount = 0;
            this._schedules = wdCb.Hash.create();
        }
        Scheduler.create = function () {
            var obj = new this();
            return obj;
        };
        Scheduler.prototype.update = function (elapsedTime) {
            var _this = this;
            this._schedules.forEach(function (scheduleItem, scheduleId) {
                if (scheduleItem.isStop || scheduleItem.isPause) {
                    return;
                }
                scheduleItem.update(elapsedTime);
                if (scheduleItem.isFinish) {
                    _this.remove(scheduleId);
                }
            });
        };
        Scheduler.prototype.scheduleLoop = function (task, args) {
            if (args === void 0) { args = []; }
            return this._schedule(LoopScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleFrame = function (task, frame, args) {
            if (frame === void 0) { frame = 1; }
            return this._schedule(FrameScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleInterval = function (task, time, args) {
            if (time === void 0) { time = 0; }
            return this._schedule(IntervalScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleTime = function (task, time, args) {
            if (time === void 0) { time = 0; }
            return this._schedule(TimeScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.pause = function (scheduleId) {
            if (arguments.length === 0) {
                var self_1 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_1.pause(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.pause();
            }
        };
        Scheduler.prototype.resume = function (scheduleId) {
            if (arguments.length === 0) {
                var self_2 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_2.resume(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.resume();
            }
        };
        Scheduler.prototype.start = function (scheduleId) {
            if (arguments.length === 0) {
                var self_3 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_3.start(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.start();
            }
        };
        Scheduler.prototype.stop = function (scheduleId) {
            if (arguments.length === 0) {
                var self_4 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_4.stop(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.stop();
            }
        };
        Scheduler.prototype.has = function (scheduleId) {
            return !!this._schedules.hasChild(scheduleId);
        };
        Scheduler.prototype.remove = function (scheduleId) {
            this._schedules.removeChild(scheduleId);
        };
        Scheduler.prototype.removeAll = function () {
            this._schedules.removeAllChildren();
        };
        Scheduler.prototype._schedule = function (_class, args) {
            var scheduleId = this._buildId();
            this._schedules.setValue(scheduleId, _class.create.apply(_class, args));
            return scheduleId;
        };
        Scheduler.prototype._buildId = function () {
            return 'Schedule_' + (this._scheduleCount++);
        };
        return Scheduler;
    }());
    wd.Scheduler = Scheduler;
    var ScheduleItem = (function () {
        function ScheduleItem(task, args) {
            this.isPause = false;
            this.isStop = false;
            this.pauseTime = null;
            this.pauseElapsed = null;
            this.startTime = null;
            this.isFinish = false;
            this.task = null;
            this.args = null;
            this.timeController = wd.CommonTimeController.create();
            this.task = task;
            this.args = args;
        }
        ScheduleItem.prototype.pause = function () {
            this.isPause = true;
            this.timeController.pause();
        };
        ScheduleItem.prototype.resume = function () {
            this.isPause = false;
            this.timeController.resume();
        };
        ScheduleItem.prototype.start = function () {
            this.isStop = false;
            this.timeController.start();
        };
        ScheduleItem.prototype.stop = function () {
            this.isStop = true;
            this.timeController.stop();
        };
        ScheduleItem.prototype.finish = function () {
            this.isFinish = true;
        };
        return ScheduleItem;
    }());
    var TimeScheduleItem = (function (_super) {
        __extends(TimeScheduleItem, _super);
        function TimeScheduleItem(task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._time = null;
            this._time = time;
        }
        TimeScheduleItem.create = function (task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            var obj = new this(task, time, args);
            return obj;
        };
        TimeScheduleItem.prototype.update = function (elapsedTime) {
            var elapsed = this.timeController.computeElapseTime(elapsedTime);
            if (elapsed >= this._time) {
                this.task.apply(this, this.args);
                this.finish();
            }
        };
        return TimeScheduleItem;
    }(ScheduleItem));
    var IntervalScheduleItem = (function (_super) {
        __extends(IntervalScheduleItem, _super);
        function IntervalScheduleItem(task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._intervalTime = null;
            this._elapsed = 0;
            this._intervalTime = time;
        }
        IntervalScheduleItem.create = function (task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            var obj = new this(task, time, args);
            return obj;
        };
        IntervalScheduleItem.prototype.update = function (elapsedTime) {
            var elapsed = this.timeController.computeElapseTime(elapsedTime);
            if (elapsed - this._elapsed >= this._intervalTime) {
                this.task.apply(this, this.args);
                this._elapsed = elapsed;
            }
        };
        IntervalScheduleItem.prototype.start = function () {
            _super.prototype.start.call(this);
            this._elapsed = 0;
        };
        return IntervalScheduleItem;
    }(ScheduleItem));
    var LoopScheduleItem = (function (_super) {
        __extends(LoopScheduleItem, _super);
        function LoopScheduleItem() {
            _super.apply(this, arguments);
        }
        LoopScheduleItem.create = function (task, args) {
            if (args === void 0) { args = []; }
            var obj = new this(task, args);
            return obj;
        };
        LoopScheduleItem.prototype.update = function (elapsedTime) {
            this.task.apply(this, this.args);
        };
        return LoopScheduleItem;
    }(ScheduleItem));
    var FrameScheduleItem = (function (_super) {
        __extends(FrameScheduleItem, _super);
        function FrameScheduleItem(task, frame, args) {
            if (frame === void 0) { frame = 1; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._frame = null;
            this._frame = frame;
        }
        FrameScheduleItem.create = function (task, frame, args) {
            if (frame === void 0) { frame = 1; }
            if (args === void 0) { args = []; }
            var obj = new this(task, frame, args);
            return obj;
        };
        FrameScheduleItem.prototype.update = function (elapsedTime) {
            this._frame--;
            if (this._frame <= 0) {
                this.task.apply(this, this.args);
                this.finish();
            }
        };
        return FrameScheduleItem;
    }(ScheduleItem));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EGameState;
    (function (EGameState) {
        EGameState[EGameState["NORMAL"] = 0] = "NORMAL";
        EGameState[EGameState["STOP"] = 1] = "STOP";
        EGameState[EGameState["PAUSE"] = 2] = "PAUSE";
    })(EGameState || (EGameState = {}));
    var Director = (function () {
        function Director() {
            this.scene = null;
            this.scheduler = null;
            this.renderer = null;
            this._gameLoop = null;
            this._eventSubscription = null;
            this._gameState = EGameState.NORMAL;
            this._timeController = wd.DirectorTimeController.create();
            this._domEventManager = wd.DomEventManager.create();
        }
        Director.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
                this._instance.initWhenCreate();
            }
            return this._instance;
        };
        Object.defineProperty(Director.prototype, "gameTime", {
            get: function () {
                return this._timeController.gameTime;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "fps", {
            get: function () {
                return this._timeController.fps;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isNormal", {
            get: function () {
                return this._gameState === EGameState.NORMAL;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isStop", {
            get: function () {
                return this._gameState === EGameState.STOP;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isPause", {
            get: function () {
                return this._gameState === EGameState.PAUSE;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isTimeChange", {
            get: function () {
                return this._timeController.isTimeChange;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "elapsed", {
            get: function () {
                return this._timeController.elapsed;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "view", {
            get: function () {
                return wd.DeviceManager.getInstance().view;
            },
            enumerable: true,
            configurable: true
        });
        Director.prototype.initWhenCreate = function () {
            this.scene = wd.SceneDispatcher.create();
            this.scheduler = wd.Scheduler.create();
            this.renderer = wd.WebGLRenderer.create();
        };
        Director.prototype.start = function () {
            this._gameState = EGameState.NORMAL;
            this._startLoop();
        };
        Director.prototype.stop = function () {
            this._gameLoop && this._gameLoop.dispose();
            this._gameState = EGameState.STOP;
            this._timeController.stop();
            this.scheduler.stop();
            this._eventSubscription && this._eventSubscription.dispose();
        };
        Director.prototype.pause = function () {
            if (this._gameState === EGameState.PAUSE) {
                return;
            }
            this._gameState = EGameState.PAUSE;
            this._timeController.pause();
            this.scheduler.pause();
        };
        Director.prototype.resume = function () {
            this._gameState = EGameState.NORMAL;
            this._timeController.resume();
            this.scheduler.resume();
        };
        Director.prototype.getDeltaTime = function () {
            return this._timeController.deltaTime;
        };
        Director.prototype.initUIObjectScene = function () {
            var uiObjectScene = this.scene.uiObjectScene;
            this._initDomEvent();
            uiObjectScene.onEnter();
            uiObjectScene.init();
        };
        Director.prototype.runUIObjectScene = function (elapseTime) {
            var uiObjectScene = this.scene.uiObjectScene;
            wd.EventManager.trigger(uiObjectScene, wd.CustomEvent.create(wd.EEngineEvent.STARTLOOP));
            uiObjectScene.update(elapseTime);
            wd.EventManager.trigger(uiObjectScene, wd.CustomEvent.create(wd.EEngineEvent.ENDLOOP));
        };
        Director.prototype._startLoop = function () {
            var self = this;
            this._gameLoop = this._buildInitStream()
                .ignoreElements()
                .concat(this._buildLoopStream())
                .subscribe(function (time) {
                self._loopBody(time);
            });
        };
        Director.prototype._buildInitStream = function () {
            var _this = this;
            return wdFrp.callFunc(function () {
                _this._init();
            }, this);
        };
        Director.prototype._init = function () {
            this._initGameObjectScene();
            this.initUIObjectScene();
            wd.DebugStatistics.init();
        };
        Director.prototype._initGameObjectScene = function () {
            var gameObjectScene = this.scene.gameObjectScene;
            this._initDomEvent();
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT));
            gameObjectScene.onEnter();
            gameObjectScene.init();
            this.renderer.init();
            this._timeController.start();
            this.scheduler.start();
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT));
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT));
        };
        Director.prototype._buildLoopStream = function () {
            return wdFrp.intervalRequest();
        };
        Director.prototype._loopBody = function (time) {
            var elapseTime = null;
            if (this._gameState === EGameState.PAUSE || this._gameState === EGameState.STOP) {
                return false;
            }
            elapseTime = this._timeController.computeElapseTime(time);
            this._run(elapseTime);
            return true;
        };
        Director.prototype._run = function (elapseTime) {
            this._runGameObjectScene(elapseTime);
            this.runUIObjectScene(elapseTime);
        };
        Director.prototype._runGameObjectScene = function (elapseTime) {
            var gameObjectScene = this.scene.gameObjectScene;
            this._timeController.tick(elapseTime);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.STARTLOOP));
            this.scheduler.update(elapseTime);
            gameObjectScene.update(elapseTime);
            gameObjectScene.render(this.renderer);
            if (this.renderer.hasCommand()) {
                this.renderer.render();
            }
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.ENDLOOP));
        };
        Director.prototype._initDomEvent = function () {
            this._eventSubscription = this._domEventManager.initDomEvent();
        };
        Director._instance = null;
        __decorate([
            wd.execOnlyOnce("_isInitUIScene")
        ], Director.prototype, "initUIObjectScene", null);
        __decorate([
            wd.execOnlyOnce("_isInitDomEvent")
        ], Director.prototype, "_initDomEvent", null);
        return Director;
    }());
    wd.Director = Director;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Main = (function () {
        function Main() {
        }
        Object.defineProperty(Main, "isTest", {
            get: function () {
                return this._isTest;
            },
            set: function (isTest) {
                this._isTest = isTest;
                wdFrp.Main.isTest = isTest;
            },
            enumerable: true,
            configurable: true
        });
        Main.setConfig = function (_a) {
            var canvasId = _a.canvasId, _b = _a.isTest, isTest = _b === void 0 ? wd.DebugConfig.isTest : _b, _c = _a.screenSize, screenSize = _c === void 0 ? wd.EScreenSize.FULL : _c;
            this.isTest = isTest;
            this.screenSize = screenSize;
            this._canvasId = canvasId;
            return this;
        };
        Main.init = function () {
            wd.DeviceManager.getInstance().createGL(this._canvasId);
            wd.DeviceManager.getInstance().setScreen();
            wd.GPUDetector.getInstance().detect();
            return this;
        };
        Main._isTest = false;
        Main.screenSize = null;
        Main._canvasId = null;
        return Main;
    }());
    wd.Main = Main;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventManager = (function () {
        function DomEventManager() {
            this._lastTriggerList = null;
        }
        DomEventManager.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(DomEventManager.prototype, "scene", {
            get: function () {
                return wd.Director.getInstance().scene;
            },
            enumerable: true,
            configurable: true
        });
        DomEventManager.prototype.initDomEvent = function () {
            var self = this;
            return wdFrp.fromArray([
                wd.EventManager.fromEvent(wd.EEventName.CLICK),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEDOWN),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEUP),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEWHEEL),
                this._buildMouseDragStream()
            ])
                .mergeAll()
                .filter(function (e) {
                return !wd.Director.getInstance().isPause;
            })
                .map(function (e) {
                return self._getMouseEventTriggerListData(e);
            })
                .merge(wd.EventManager.fromEvent(wd.EEventName.MOUSEMOVE)
                .filter(function (e) {
                return !wd.Director.getInstance().isPause;
            })
                .map(function (e) {
                var triggerList = self._getMouseEventTriggerList(e);
                var _a = self._getMouseOverAndMouseOutObject(triggerList, self._lastTriggerList), mouseoverObjects = _a.mouseoverObjects, mouseoutObjects = _a.mouseoutObjects;
                self._setMouseOverTag(mouseoverObjects);
                self._setMouseOutTag(mouseoutObjects);
                self._lastTriggerList = triggerList.copy();
                triggerList = mouseoutObjects.addChildren(triggerList);
                return self._getMouseEventTriggerListData(e, triggerList);
            }))
                .filter(function (_a) {
                var triggerList = _a[0], e = _a[1];
                return triggerList.getCount() > 0;
            })
                .subscribe(function (_a) {
                var triggerList = _a[0], e = _a[1];
                triggerList.forEach(function (entityObject) {
                    self._trigger(e.copy(), entityObject);
                });
            });
        };
        DomEventManager.prototype._buildMouseDragStream = function () {
            return wd.EventManager.fromEvent(document, wd.EEventName.MOUSEDOWN)
                .flatMap(function (e) {
                return wd.EventManager.fromEvent(document, wd.EEventName.MOUSEMOVE).takeUntil(wd.EventManager.fromEvent(document, wd.EEventName.MOUSEUP));
            })
                .map(function (e) {
                e.name = wd.EEventName.MOUSEDRAG;
                return e;
            });
        };
        DomEventManager.prototype._getMouseOverAndMouseOutObject = function (currentTriggerList, lastTriggerList) {
            var mouseoverObjects = wdCb.Collection.create(), mouseoutObjects = wdCb.Collection.create();
            if (!lastTriggerList) {
                mouseoverObjects = currentTriggerList;
            }
            else {
                lastTriggerList.forEach(function (lastObject) {
                    if (!currentTriggerList.hasChild(function (currentObject) {
                        return wd.JudgeUtils.isEqual(currentObject, lastObject);
                    })) {
                        mouseoutObjects.addChild(lastObject);
                    }
                });
                currentTriggerList.forEach(function (currentObject) {
                    if (!lastTriggerList.hasChild(function (lastObject) {
                        return wd.JudgeUtils.isEqual(currentObject, lastObject);
                    })) {
                        mouseoverObjects.addChild(currentObject);
                    }
                });
            }
            return {
                mouseoverObjects: mouseoverObjects,
                mouseoutObjects: mouseoutObjects
            };
        };
        DomEventManager.prototype._setMouseOverTag = function (objects) {
            objects.forEach(function (object) {
                object.addTag(EEventTag.MOUSE_OVER);
            });
        };
        DomEventManager.prototype._setMouseOutTag = function (objects) {
            objects.forEach(function (object) {
                object.addTag(EEventTag.MOUSE_OUT);
            });
        };
        DomEventManager.prototype._setEventNameByEventTag = function (object, e) {
            if (object.hasTag(EEventTag.MOUSE_OVER)) {
                e.name = wd.EEventName.MOUSEOVER;
            }
            else if (object.hasTag(EEventTag.MOUSE_OUT)) {
                e.name = wd.EEventName.MOUSEOUT;
            }
            return e;
        };
        DomEventManager.prototype._removeEventTag = function (object) {
            object.removeTag(EEventTag.MOUSE_OVER);
            object.removeTag(EEventTag.MOUSE_OUT);
        };
        DomEventManager.prototype._trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var e = args[0], entityObject = args[1], notSetTarget = false, event = null, customEvent = null, handlerName = null;
            if (args.length === 3 && args[2]) {
                notSetTarget = true;
                event = e;
            }
            else {
                event = this._setEventNameByEventTag(entityObject, e);
                this._removeEventTag(entityObject);
            }
            handlerName = wd.EventTriggerTable.getScriptHandlerName(event.name);
            customEvent = wd.CustomEvent.create(wd.EEngineEvent[wd.EventTriggerTable.getScriptEngineEvent(event.name)]);
            customEvent.getDataFromDomEvent(event);
            wd.EventManager.trigger(entityObject, customEvent, event, notSetTarget);
            event.getDataFromCustomEvent(customEvent);
            entityObject.execEventScript(handlerName, event);
            if (!event.isStopPropagation && entityObject.bubbleParent) {
                this._trigger(event.copy(), entityObject.bubbleParent, true);
            }
        };
        DomEventManager.prototype._getMouseEventTriggerList = function (e) {
            var topGameObject = null, topUIObject = null, triggerList = wdCb.Collection.create();
            topGameObject = this._findTopGameObject(e, this.scene.gameObjectScene);
            topUIObject = this._findTopUIObject(e, this.scene.uiObjectScene);
            if (topGameObject) {
                triggerList.addChild(topGameObject);
            }
            if (topUIObject) {
                triggerList.addChild(topUIObject);
            }
            if (this._isSceneAsTopOne(e, triggerList)) {
                triggerList.addChild(this.scene);
            }
            return triggerList;
        };
        DomEventManager.prototype._isSceneAsTopOne = function (e, triggerList) {
            return this._isTriggerScene(e) && triggerList.getCount() === 0;
        };
        DomEventManager.prototype._findTopGameObject = function (e, gameObjectScene) {
            var self = this;
            return this._findTriggerGameObjectList(e, gameObjectScene).sort(function (a, b) {
                return self._getDistanceToCamera(a) - self._getDistanceToCamera(b);
            })
                .getChild(0);
        };
        DomEventManager.prototype._getDistanceToCamera = function (obj) {
            return obj.transform.position.copy().sub(wd.Director.getInstance().scene.currentCamera.transform.position).length();
        };
        DomEventManager.prototype._findTopUIObject = function (e, uiObjectScene) {
            return this._findTriggerUIObjectList(e, uiObjectScene).sort(function (a, b) {
                return b.transform.zIndex - a.transform.zIndex;
            })
                .getChild(0);
        };
        DomEventManager.prototype._findTriggerGameObjectList = function (e, objectScene) {
            var triggerObjectList = wdCb.Collection.create(), self = this;
            var find = function (entityObject) {
                if (entityObject.hasComponent(wd.SpacePartition)) {
                    entityObject.getSpacePartition().getIntersectListWithRay(e)
                        .forEach(function (entityObject) {
                        self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                    });
                }
                else {
                    self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                    entityObject.forEach(function (child) {
                        find(child);
                    });
                }
            };
            objectScene.forEach(function (child) {
                find(child);
            });
            return triggerObjectList;
        };
        DomEventManager.prototype._findTriggerUIObjectList = function (e, objectScene) {
            var triggerObjectList = wdCb.Collection.create(), self = this;
            var find = function (entityObject) {
                self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                entityObject.forEach(function (child) {
                    find(child);
                });
            };
            objectScene.forEach(function (child) {
                find(child);
            });
            return triggerObjectList;
        };
        DomEventManager.prototype._addTriggerObjectByQueryDetector = function (entityObject, e, triggerObjectList) {
            if (entityObject.hasComponent(wd.EventTriggerDetector)) {
                var detector = entityObject.getComponent(wd.EventTriggerDetector);
                if (detector.isTrigger(e)) {
                    triggerObjectList.addChild(entityObject);
                }
            }
        };
        DomEventManager.prototype._isTriggerScene = function (e) {
            var detector = this.scene.getComponent(wd.EventTriggerDetector);
            return detector.isTrigger(e);
        };
        DomEventManager.prototype._getMouseEventTriggerListData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var e = args[0];
                return [this._getMouseEventTriggerList(e), e];
            }
            else {
                var e = args[0], triggerList = args[1];
                return [triggerList, e];
            }
        };
        return DomEventManager;
    }());
    wd.DomEventManager = DomEventManager;
    var EEventTag;
    (function (EEventTag) {
        EEventTag[EEventTag["MOUSE_OVER"] = "MOUSE_OVER"] = "MOUSE_OVER";
        EEventTag[EEventTag["MOUSE_OUT"] = "MOUSE_OUT"] = "MOUSE_OUT";
    })(EEventTag || (EEventTag = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EntityObject = (function (_super) {
        __extends(EntityObject, _super);
        function EntityObject() {
            _super.apply(this, arguments);
            this._scriptList = wdCb.Hash.create();
            this._bubbleParent = null;
            this._transform = null;
            this.name = null;
            this.parent = null;
            this.actionManager = wd.ActionManager.create();
            this.children = wdCb.Collection.create();
            this.startLoopHandler = null;
            this.endLoopHandler = null;
            this.components = wdCb.Collection.create();
            this._scriptExecuteHistory = wdCb.Hash.create();
        }
        Object.defineProperty(EntityObject.prototype, "scriptList", {
            get: function () {
                return this._scriptList;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EntityObject.prototype, "bubbleParent", {
            get: function () {
                return this._bubbleParent ? this._bubbleParent : this.parent;
            },
            set: function (bubbleParent) {
                this._bubbleParent = bubbleParent;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EntityObject.prototype, "transform", {
            get: function () {
                return this._transform;
            },
            set: function (transform) {
                if (!transform) {
                    return;
                }
                if (this._transform) {
                    this.removeComponent(this._transform);
                }
                this.addComponent(transform);
                this._transform = transform;
            },
            enumerable: true,
            configurable: true
        });
        EntityObject.prototype.initWhenCreate = function () {
            this.transform = this.createTransform();
        };
        EntityObject.prototype.init = function () {
            var _this = this;
            this.startLoopHandler = wdCb.FunctionUtils.bind(this, function () {
                _this.onStartLoop();
            });
            this.endLoopHandler = wdCb.FunctionUtils.bind(this, function () {
                _this.onEndLoop();
            });
            this.bindStartLoopEvent();
            this.bindEndLoopEvent();
            this.initComponent();
            this.forEach(function (child) {
                child.init();
            });
            this.afterInitChildren();
            return this;
        };
        EntityObject.prototype.onStartLoop = function () {
            this.execScript("onStartLoop");
        };
        EntityObject.prototype.onEndLoop = function () {
            this.execScript("onEndLoop");
        };
        EntityObject.prototype.onEnter = function () {
        };
        EntityObject.prototype.onExit = function () {
            this.execScript("onExit");
        };
        EntityObject.prototype.onDispose = function () {
            this.execScript("onDispose");
        };
        EntityObject.prototype.dispose = function () {
            var components = null;
            this.onDispose();
            if (this.parent) {
                this.parent.removeChild(this);
                this.parent = null;
            }
            wd.EventManager.off(this);
            wd.EventManager.off(wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
            wd.EventManager.off(wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
            components = this.removeAllComponent();
            components.forEach(function (component) {
                component.dispose();
            });
            this.forEach(function (child) {
                child.dispose();
            });
        };
        EntityObject.prototype.hasChild = function (child) {
            return this.children.hasChild(child);
        };
        EntityObject.prototype.addChild = function (child) {
            if (child.parent) {
                child.parent.removeChild(child);
            }
            child.parent = this;
            child.transform.parent = this.transform;
            this.children.addChild(child);
            child.onEnter();
            return this;
        };
        EntityObject.prototype.addChildren = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.children.addChildren(args[0]);
            return this;
        };
        EntityObject.prototype.forEach = function (func) {
            this.children.forEach(func);
            return this;
        };
        EntityObject.prototype.filter = function (func) {
            return this.children.filter(func);
        };
        EntityObject.prototype.sort = function (func, isSortSelf) {
            if (isSortSelf === void 0) { isSortSelf = false; }
            return this.children.sort(func, isSortSelf);
        };
        EntityObject.prototype.getChildren = function () {
            return this.children;
        };
        EntityObject.prototype.getChild = function (index) {
            return this.children.getChild(index);
        };
        EntityObject.prototype.findChildByUid = function (uid) {
            return this.children.findOne(function (child) {
                return child.uid === uid;
            });
        };
        EntityObject.prototype.findChildByTag = function (tag) {
            return this.children.findOne(function (child) {
                return child.hasTag(tag);
            });
        };
        EntityObject.prototype.findChildByName = function (name) {
            return this.children.findOne(function (child) {
                return child.name.search(name) > -1;
            });
        };
        EntityObject.prototype.findChildrenByName = function (name) {
            return this.children.filter(function (child) {
                return child.name.search(name) > -1;
            });
        };
        EntityObject.prototype.getComponent = function (_class) {
            return this.components.findOne(function (component) {
                return component instanceof _class;
            });
        };
        EntityObject.prototype.findComponentByUid = function (uid) {
            return this.components.findOne(function (component) {
                return component.uid === uid;
            });
        };
        EntityObject.prototype.getFirstComponent = function () {
            return this.components.getChild(0);
        };
        EntityObject.prototype.forEachComponent = function (func) {
            this.components.forEach(func);
            return this;
        };
        EntityObject.prototype.removeChild = function (child) {
            child.onExit();
            this.children.removeChild(child);
            child.parent = null;
            return this;
        };
        EntityObject.prototype.hasComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args[0] instanceof wd.Component) {
                var component = args[0];
                return this.components.hasChild(component);
            }
            else {
                var _class_1 = args[0];
                return this.components.hasChild(function (component) {
                    return component instanceof _class_1;
                });
            }
        };
        EntityObject.prototype.addComponent = function (component) {
            if (this.hasComponent(component)) {
                wd.Log.assert(false, "the component already exist");
                return this;
            }
            this.components.addChild(component);
            component.addToObject(this);
            return this;
        };
        EntityObject.prototype.removeComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var component = null;
            if (args[0] instanceof wd.Component) {
                component = args[0];
            }
            else {
                component = this.getComponent(args[0]);
            }
            this.components.removeChild(component);
            this._removeComponentHandler(component);
            return this;
        };
        EntityObject.prototype.removeAllComponent = function () {
            var _this = this;
            var result = wdCb.Collection.create();
            this.components.forEach(function (component) {
                _this._removeComponentHandler(component);
                result.addChild(component);
            }, this);
            this.components.removeAllChildren();
            return result;
        };
        EntityObject.prototype.render = function (renderer, camera) {
            var geometry = this._getGeometry(), rendererComponent = this._getRendererComponent();
            if (rendererComponent && geometry) {
                rendererComponent.render(renderer, geometry, camera);
                wd.DebugStatistics.count.renderGameObjects++;
            }
            this.getRenderList().forEach(function (child) {
                child.render(renderer, camera);
            });
        };
        EntityObject.prototype.update = function (elapsedTime) {
            var animation = this._getAnimation(), collider = this._getCollider();
            if (animation) {
                animation.update(elapsedTime);
            }
            this.actionManager.update(elapsedTime);
            this.execScript("update", elapsedTime);
            if (collider) {
                collider.update(elapsedTime);
            }
            this.beforeUpdateChildren(elapsedTime);
            this.forEach(function (child) {
                child.update(elapsedTime);
            });
        };
        EntityObject.prototype.execScript = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var method = args[0], self = this;
            if (args.length === 1) {
                this._scriptList.forEach(function (script, scriptName) {
                    script[method] && script[method]();
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
            else if (args.length === 2) {
                var arg_1 = args[1];
                this._scriptList.forEach(function (script, scriptName) {
                    script[method] && script[method](arg_1);
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
            else if (args.length === 3) {
                var arg_2 = args[1], isExecOnlyOnce_1 = args[2];
                this._scriptList.forEach(function (script, scriptName) {
                    if (isExecOnlyOnce_1 && self._isScriptExecuted(scriptName, method)) {
                        return;
                    }
                    script[method] && script[method](arg_2);
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
        };
        EntityObject.prototype.execEventScript = function (method, arg) {
            this._scriptList.forEach(function (script) {
                script[method] && (arg ? script[method](arg) : script[method]());
            });
        };
        EntityObject.prototype.beforeUpdateChildren = function (elapsedTime) {
        };
        EntityObject.prototype.afterInitChildren = function () {
        };
        EntityObject.prototype.bindStartLoopEvent = function () {
            wd.EventManager.on(wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
        };
        EntityObject.prototype.bindEndLoopEvent = function () {
            wd.EventManager.on(wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
        };
        EntityObject.prototype.getRenderList = function () {
            if (this.children.getCount() > 100) {
                console.log(this.children.getCount());
            }
            return this.children;
        };
        EntityObject.prototype.initComponent = function () {
            if (this.hasComponent(wd.Geometry)) {
                this.getComponent(wd.Geometry).init();
            }
            this.components.filter(function (component) {
                return !(component instanceof wd.Geometry);
            })
                .forEach(function (component) {
                component.init();
            });
        };
        EntityObject.prototype.getAllChildren = function () {
            var result = wdCb.Collection.create();
            var getChildren = function (entityObject) {
                result.addChildren(entityObject.getChildren());
                entityObject.forEach(function (child) {
                    getChildren(child);
                });
            };
            getChildren(this);
            return result;
        };
        EntityObject.prototype._getGeometry = function () {
            return this.getComponent(wd.Geometry);
        };
        EntityObject.prototype._getAnimation = function () {
            return this.getComponent(wd.Animation);
        };
        EntityObject.prototype._getRendererComponent = function () {
            return this.getComponent(wd.RendererComponent);
        };
        EntityObject.prototype._getCollider = function () {
            return this.getComponent(wd.Collider);
        };
        EntityObject.prototype.getComponentCount = function (_class) {
            return this.components.filter(function (component) {
                return component instanceof _class;
            }).getCount();
        };
        EntityObject.prototype._removeComponentHandler = function (component) {
            component.removeFromObject(this);
        };
        EntityObject.prototype._addToScriptExecuteHistory = function (scriptName, method) {
            this._scriptExecuteHistory.addChild(this._buildScriptHistoryKey(scriptName, method), true);
        };
        EntityObject.prototype._isScriptExecuted = function (scriptName, method) {
            return this._scriptExecuteHistory.getChild(this._buildScriptHistoryKey(scriptName, method));
        };
        EntityObject.prototype._buildScriptHistoryKey = function (scriptName, method) {
            return scriptName + "_" + method;
        };
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "initWhenCreate", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "beforeUpdateChildren", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "afterInitChildren", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "bindStartLoopEvent", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "bindEndLoopEvent", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "getRenderList", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Geometry) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 geometry component"));
            })
        ], EntityObject.prototype, "_getGeometry", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Animation) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 animation component"));
            })
        ], EntityObject.prototype, "_getAnimation", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.RendererComponent) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 rendererComponent"));
            })
        ], EntityObject.prototype, "_getRendererComponent", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Collider) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 collider component"));
            })
        ], EntityObject.prototype, "_getCollider", null);
        return EntityObject;
    }(wd.Entity));
    wd.EntityObject = EntityObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIObject = (function (_super) {
        __extends(UIObject, _super);
        function UIObject() {
            _super.apply(this, arguments);
            this.name = "uiObject" + String(this.uid);
            this.uiManager = wd.UIManager.create(this);
        }
        UIObject.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        UIObject.prototype.beforeUpdateChildren = function (elapsedTime) {
            this.uiManager.update(elapsedTime);
        };
        UIObject.prototype.createTransform = function () {
            return wd.RectTransform.create();
        };
        UIObject.prototype.addComponent = function (component) {
            _super.prototype.addComponent.call(this, component);
            return this;
        };
        UIObject.prototype.addChild = function (child) {
            _super.prototype.addChild.call(this, child);
            return this;
        };
        __decorate([
            wd.require(function (component) {
                if (component instanceof wd.UI) {
                    wd.assert(!!!this.getComponent(wd.UI), wd.Log.info.FUNC_SHOULD("only has one UI component"));
                }
            })
        ], UIObject.prototype, "addComponent", null);
        __decorate([
            wd.require(function (child) {
                wd.assert(this.getComponent(wd.UIRenderer) === child.getComponent(wd.UIRenderer), wd.Log.info.FUNC_MUST_BE("the UIRenderer of UIObject and its children", "the same one"));
            })
        ], UIObject.prototype, "addChild", null);
        return UIObject;
    }(wd.EntityObject));
    wd.UIObject = UIObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GameObject = (function (_super) {
        __extends(GameObject, _super);
        function GameObject() {
            _super.apply(this, arguments);
            this.name = "gameObject" + String(this.uid);
        }
        GameObject.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        GameObject.prototype.getSpacePartition = function () {
            return this.getComponent(wd.SpacePartition);
        };
        GameObject.prototype.addChild = function (child) {
            if (child.hasComponent(wd.CameraController)) {
                wd.Director.getInstance().scene.gameObjectScene.addToCameraList(child);
            }
            return _super.prototype.addChild.call(this, child);
        };
        GameObject.prototype.createTransform = function () {
            return wd.ThreeDTransform.create();
        };
        GameObject.prototype.getRenderList = function () {
            if (this.hasComponent(wd.Octree)) {
                return this.getSpacePartition().getRenderListByFrustumCull();
            }
            return this.children;
        };
        GameObject.prototype.afterInitChildren = function () {
            if (this.hasComponent(wd.Octree)) {
                return this.getSpacePartition().build();
            }
        };
        return GameObject;
    }(wd.EntityObject));
    wd.GameObject = GameObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SceneDispatcher = (function (_super) {
        __extends(SceneDispatcher, _super);
        function SceneDispatcher() {
            _super.apply(this, arguments);
            this.name = "scene" + String(this.uid);
            this.uiObjectScene = wd.UIObjectScene.create();
            this.gameObjectScene = wd.GameObjectScene.create();
        }
        SceneDispatcher.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(SceneDispatcher.prototype, "scriptList", {
            get: function () {
                return this.gameObjectScene.scriptList;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "actionManager", {
            get: function () {
                return this.gameObjectScene.actionManager;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "ambientLight", {
            get: function () {
                return this.gameObjectScene.ambientLight;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "directionLights", {
            get: function () {
                return this.gameObjectScene.directionLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "pointLights", {
            get: function () {
                return this.gameObjectScene.pointLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "side", {
            get: function () {
                return this.gameObjectScene.side;
            },
            set: function (side) {
                this.gameObjectScene.side = side;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "shadowMap", {
            get: function () {
                return this.gameObjectScene.shadowMap;
            },
            set: function (shadowMap) {
                this.gameObjectScene.shadowMap = shadowMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "shader", {
            get: function () {
                return this.gameObjectScene.shader;
            },
            set: function (shader) {
                this.gameObjectScene.shader = shader;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "currentCamera", {
            get: function () {
                return this.gameObjectScene.currentCamera;
            },
            set: function (arg) {
                this.gameObjectScene.currentCamera = arg;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "isUseProgram", {
            get: function () {
                return this.gameObjectScene.isUseProgram;
            },
            set: function (isUseProgram) {
                this.gameObjectScene.isUseProgram = isUseProgram;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "physics", {
            get: function () {
                return this.gameObjectScene.physics;
            },
            set: function (physics) {
                this.gameObjectScene.physics = physics;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "physicsEngineAdapter", {
            get: function () {
                return this.gameObjectScene.physicsEngineAdapter;
            },
            set: function (physicsEngineAdapter) {
                this.gameObjectScene.physicsEngineAdapter = physicsEngineAdapter;
            },
            enumerable: true,
            configurable: true
        });
        SceneDispatcher.prototype.initWhenCreate = function () {
            _super.prototype.initWhenCreate.call(this);
            this.addComponent(wd.SceneEventTriggerDetector.create());
        };
        SceneDispatcher.prototype.useProgram = function (shader) {
            this.gameObjectScene.useProgram(shader);
        };
        SceneDispatcher.prototype.unUseProgram = function () {
            this.gameObjectScene.unUseProgram();
        };
        SceneDispatcher.prototype.addChild = function (child) {
            if (child instanceof wd.GameObject) {
                this.gameObjectScene.addChild(child);
            }
            else if (child instanceof wd.UIObject) {
                this.uiObjectScene.addChild(child);
            }
            child.parent = this;
            return this;
        };
        SceneDispatcher.prototype.addRenderTargetRenderer = function (renderTargetRenderer) {
            return this.gameObjectScene.addRenderTargetRenderer(renderTargetRenderer);
        };
        SceneDispatcher.prototype.removeRenderTargetRenderer = function (renderTargetRenderer) {
            this.gameObjectScene.removeRenderTargetRenderer(renderTargetRenderer);
        };
        SceneDispatcher.prototype.dispose = function () {
            this.gameObjectScene.dispose();
            this.uiObjectScene.dispose();
        };
        SceneDispatcher.prototype.hasChild = function (child) {
            if (child instanceof wd.GameObject) {
                return this.gameObjectScene.hasChild(child);
            }
            else if (child instanceof wd.UIObject) {
                return this.uiObjectScene.hasChild(child);
            }
        };
        SceneDispatcher.prototype.addChildren = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args[0] instanceof wd.EntityObject) {
                var child = args[0];
                this.addChild(child);
            }
            if (args[0] instanceof wdCb.Collection) {
                var children = args[0], self_5 = this;
                children.forEach(function (child) {
                    self_5.addChild(child);
                });
            }
            else if (wd.JudgeUtils.isArray(args[0])) {
                var children = args[0];
                for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {
                    var child = children_1[_a];
                    this.addChild(child);
                }
            }
            return this;
        };
        SceneDispatcher.prototype.getChildren = function () {
            return this.gameObjectScene.getChildren().addChildren(this.uiObjectScene.getChildren());
        };
        SceneDispatcher.prototype.findChildByUid = function (uid) {
            var result = this.gameObjectScene.findChildByUid(uid);
            if (!result) {
                result = this.uiObjectScene.findChildByUid(uid);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildByTag = function (tag) {
            var result = this.gameObjectScene.findChildByTag(tag);
            if (!result) {
                result = this.uiObjectScene.findChildByTag(tag);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildByName = function (name) {
            var result = this.gameObjectScene.findChildByName(name);
            if (!result) {
                result = this.uiObjectScene.findChildByName(name);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildrenByName = function (name) {
            return this.gameObjectScene.findChildrenByName(name).addChildren(this.uiObjectScene.findChildrenByName(name));
        };
        SceneDispatcher.prototype.removeChild = function (child) {
            if (child instanceof wd.GameObject) {
                return this.gameObjectScene.removeChild(child);
            }
            else if (child instanceof wd.UIObject) {
                return this.uiObjectScene.removeChild(child);
            }
        };
        SceneDispatcher.prototype.onStartLoop = function () {
            this.gameObjectScene.onStartLoop();
            this.uiObjectScene.onStartLoop();
        };
        SceneDispatcher.prototype.onEndLoop = function () {
            this.gameObjectScene.onEndLoop();
            this.uiObjectScene.onEndLoop();
        };
        SceneDispatcher.prototype.onEnter = function () {
            this.gameObjectScene.onEnter();
            this.uiObjectScene.onEnter();
        };
        SceneDispatcher.prototype.onExit = function () {
            this.gameObjectScene.onExit();
            this.uiObjectScene.onExit();
        };
        SceneDispatcher.prototype.onDispose = function () {
            this.gameObjectScene.onDispose();
            this.uiObjectScene.onDispose();
        };
        SceneDispatcher.prototype.execScript = function (method, arg) {
            this.gameObjectScene.execScript.apply(this.gameObjectScene, arguments);
        };
        SceneDispatcher.prototype.execEventScript = function (method, arg) {
            this.gameObjectScene.execEventScript.apply(this.gameObjectScene, arguments);
        };
        SceneDispatcher.prototype.createTransform = function () {
            return null;
        };
        return SceneDispatcher;
    }(wd.EntityObject));
    wd.SceneDispatcher = SceneDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Scene = (function (_super) {
        __extends(Scene, _super);
        function Scene() {
            _super.apply(this, arguments);
        }
        return Scene;
    }(wd.EntityObject));
    wd.Scene = Scene;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GameObjectScene = (function (_super) {
        __extends(GameObjectScene, _super);
        function GameObjectScene() {
            _super.apply(this, arguments);
            this._currentCamera = null;
            this.side = null;
            this.shadowMap = {
                enable: true,
                softType: EShadowMapSoftType.NONE
            };
            this.shader = null;
            this.isUseProgram = false;
            this.physics = PhysicsConfig.create();
            this.physicsEngineAdapter = null;
            this._lightManager = wd.LightManager.create();
            this._renderTargetRenderers = wdCb.Collection.create();
            this._collisionDetector = wd.CollisionDetector.create();
            this._cameraList = wdCb.Collection.create();
        }
        GameObjectScene.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(GameObjectScene.prototype, "ambientLight", {
            get: function () {
                return this._lightManager.ambientLight;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "directionLights", {
            get: function () {
                return this._lightManager.directionLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "pointLights", {
            get: function () {
                return this._lightManager.pointLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "currentCamera", {
            get: function () {
                return this._currentCamera || this._cameraList.getChild(0);
            },
            set: function (arg) {
                if (wd.JudgeUtils.isNumber(arg)) {
                    var index = arg;
                    this._currentCamera = this._cameraList.getChild(index);
                }
                else if (arg instanceof wd.GameObject) {
                    var currentCamera = arg;
                    this._currentCamera = currentCamera;
                }
            },
            enumerable: true,
            configurable: true
        });
        GameObjectScene.prototype.init = function () {
            if (this.physics.enable) {
                this.physicsEngineAdapter = wd.PhysicsEngineFactory.create(this.physics.engine);
                this.physicsEngineAdapter.init();
            }
            _super.prototype.init.call(this);
            this._renderTargetRenderers.forEach(function (renderTargetRenderer) { return renderTargetRenderer.init(); });
            return this;
        };
        GameObjectScene.prototype.useProgram = function (shader) {
            this.isUseProgram = true;
            this.shader = shader;
        };
        GameObjectScene.prototype.unUseProgram = function () {
            this.isUseProgram = false;
        };
        GameObjectScene.prototype.addChild = function (child) {
            if (this._isCamera(child)) {
                this._cameraList.addChild(child);
            }
            else if (this._isLight(child)) {
                this._lightManager.addChild(child);
            }
            return _super.prototype.addChild.call(this, child);
        };
        GameObjectScene.prototype.addToCameraList = function (cameraObject) {
            this._cameraList.addChild(cameraObject);
        };
        GameObjectScene.prototype.addRenderTargetRenderer = function (renderTargetRenderer) {
            this._renderTargetRenderers.addChild(renderTargetRenderer);
        };
        GameObjectScene.prototype.removeRenderTargetRenderer = function (renderTargetRenderer) {
            this._renderTargetRenderers.removeChild(renderTargetRenderer);
        };
        GameObjectScene.prototype.update = function (elapsedTime) {
            var currentCameraComponent = this._getCurrentCameraComponent();
            if (this.physics.enable) {
                this.physicsEngineAdapter.update(elapsedTime);
            }
            if (currentCameraComponent) {
                currentCameraComponent.update(elapsedTime);
            }
            _super.prototype.update.call(this, elapsedTime);
            this._collisionDetector.detect(this);
        };
        GameObjectScene.prototype.render = function (renderer) {
            var self = this;
            this._renderTargetRenderers.forEach(function (target) {
                target.render(renderer, self.currentCamera);
            });
            _super.prototype.render.call(this, renderer, this.currentCamera);
        };
        GameObjectScene.prototype.createTransform = function () {
            return null;
        };
        GameObjectScene.prototype._isCamera = function (child) {
            return child.hasComponent(wd.CameraController);
        };
        GameObjectScene.prototype._isLight = function (child) {
            return child.hasComponent(wd.Light);
        };
        GameObjectScene.prototype._getCurrentCameraComponent = function () {
            if (!this.currentCamera) {
                return null;
            }
            return this.currentCamera.getComponent(wd.CameraController);
        };
        __decorate([
            wd.requireSetter(function (arg) {
                if (wd.JudgeUtils.isNumber(arg)) {
                    var index = arg;
                    wd.assert(!!this._cameraList.getChild(index), wd.Log.info.FUNC_NOT_EXIST("current camera in cameraList"));
                }
            })
        ], GameObjectScene.prototype, "currentCamera", null);
        __decorate([
            wd.require(function (cameraObject) {
                wd.assert(cameraObject.hasComponent(wd.CameraController), wd.Log.info.FUNC_SHOULD("only add camera object"));
            })
        ], GameObjectScene.prototype, "addToCameraList", null);
        return GameObjectScene;
    }(wd.Scene));
    wd.GameObjectScene = GameObjectScene;
    var PhysicsConfig = (function () {
        function PhysicsConfig() {
            this._gravity = wd.Vector3.create(0, -9.8, 0);
            this.enable = false;
            this.engine = wd.EPhysicsEngineType.CANNON;
            this.iterations = 10;
        }
        PhysicsConfig.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PhysicsConfig.prototype, "gravity", {
            get: function () {
                return this._gravity;
            },
            set: function (gravity) {
                this._gravity = gravity;
            },
            enumerable: true,
            configurable: true
        });
        __decorate([
            wd.operateWorldDataGetterAndSetter("Gravity")
        ], PhysicsConfig.prototype, "gravity", null);
        return PhysicsConfig;
    }());
    wd.PhysicsConfig = PhysicsConfig;
    (function (EShadowMapSoftType) {
        EShadowMapSoftType[EShadowMapSoftType["NONE"] = 0] = "NONE";
        EShadowMapSoftType[EShadowMapSoftType["PCF"] = 1] = "PCF";
    })(wd.EShadowMapSoftType || (wd.EShadowMapSoftType = {}));
    var EShadowMapSoftType = wd.EShadowMapSoftType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIObjectScene = (function (_super) {
        __extends(UIObjectScene, _super);
        function UIObjectScene() {
            _super.apply(this, arguments);
        }
        UIObjectScene.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        UIObjectScene.prototype.onEndLoop = function () {
            _super.prototype.onEndLoop.call(this);
            this._resetAllTransformState();
            this._resetAllRendererClearCanvasFlag();
        };
        UIObjectScene.prototype.onStartLoop = function () {
            _super.prototype.onStartLoop.call(this);
            this._sortSiblingChildren();
        };
        UIObjectScene.prototype.createTransform = function () {
            return null;
        };
        UIObjectScene.prototype.beforeUpdateChildren = function (elapsedTime) {
            var self = this;
            this._resetAllRendererState();
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                if (renderer.dirty) {
                    if (!renderer.isClearCanvas) {
                        renderer.clearCanvas();
                        renderer.dirtyDuringCurrentLoop = false;
                    }
                    renderer.state = wd.EUIRendererState.DIRTY;
                    renderer.resetDirty();
                }
                else {
                    if (renderer.state !== wd.EUIRendererState.DIRTY) {
                        renderer.state = wd.EUIRendererState.NOT_DIRTY;
                    }
                }
            });
        };
        UIObjectScene.prototype.bindStartLoopEvent = function () {
            wd.EventManager.on(this, wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
        };
        UIObjectScene.prototype.bindEndLoopEvent = function () {
            wd.EventManager.on(this, wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
        };
        UIObjectScene.prototype._getUIRenderer = function (uiObject) {
            return uiObject.getComponent(wd.UIRenderer);
        };
        UIObjectScene.prototype._resetAllRendererClearCanvasFlag = function () {
            var self = this;
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                renderer.isClearCanvas = false;
            });
        };
        UIObjectScene.prototype._resetAllRendererState = function () {
            var self = this;
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                renderer.state = wd.EUIRendererState.NORMAL;
            });
        };
        UIObjectScene.prototype._resetAllTransformState = function () {
            var self = this;
            var reset = function (uiObject) {
                if (self._isNotDirtyDuringThisLoop(self._getUIRenderer(uiObject))) {
                    self._resetTransformFlag(uiObject);
                }
                uiObject.forEach(function (child) {
                    reset(child);
                });
            };
            this.forEach(function (child) {
                reset(child);
            });
        };
        UIObjectScene.prototype._isNotDirtyDuringThisLoop = function (renderer) {
            return !renderer.dirtyDuringCurrentLoop;
        };
        UIObjectScene.prototype._resetTransformFlag = function (uiObject) {
            var transform = uiObject.transform;
            transform.isTranslate = false;
            transform.isScale = false;
            transform.isRotate = false;
        };
        UIObjectScene.prototype._sortSiblingChildren = function () {
            var sort = function (uiObject) {
                uiObject.sort(function (a, b) {
                    return a.transform.zIndex - b.transform.zIndex;
                }, true);
                uiObject.forEach(function (child) {
                    sort(child);
                });
            };
            sort(this);
        };
        __decorate([
            wd.require(function (elapsedTime) {
                this.forEach(function (child) {
                    wd.assert(child instanceof wd.UIObject, wd.Log.info.FUNC_MUST_BE("child", "UIObject"));
                    wd.assert(child.hasComponent(wd.UI), wd.Log.info.FUNC_SHOULD("UIObject", "contain ui component"));
                });
            })
        ], UIObjectScene.prototype, "beforeUpdateChildren", null);
        __decorate([
            wd.require(function (uiObject) {
                wd.assert(uiObject.getComponentCount(wd.UIRenderer) <= 1, wd.Log.info.FUNC_SHOULD_NOT("uiObject", "contain more than 1 uiRenderer component"));
            })
        ], UIObjectScene.prototype, "_getUIRenderer", null);
        __decorate([
            wd.ensure(function () {
                var self = this;
                this.getAllChildren().forEach(function (child) {
                    var renderer = self._getUIRenderer(child);
                    wd.assert(!renderer.isClearCanvas, wd.Log.info.FUNC_SHOULD("reset all UIRenderers->isClearCanvas"));
                });
            })
        ], UIObjectScene.prototype, "_resetAllRendererClearCanvasFlag", null);
        __decorate([
            wd.ensure(function () {
                var self = this;
                this.getAllChildren().forEach(function (child) {
                    var renderer = self._getUIRenderer(child);
                    wd.assert(renderer.state === wd.EUIRendererState.NORMAL, wd.Log.info.FUNC_SHOULD("reset all UIRenderers->state"));
                });
            })
        ], UIObjectScene.prototype, "_resetAllRendererState", null);
        return UIObjectScene;
    }(wd.Scene));
    wd.UIObjectScene = UIObjectScene;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Skybox = (function (_super) {
        __extends(Skybox, _super);
        function Skybox() {
            _super.apply(this, arguments);
        }
        Skybox.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Skybox.prototype.initWhenCreate = function () {
            _super.prototype.initWhenCreate.call(this);
            this.addComponent(wd.SkyboxRenderer.create());
        };
        return Skybox;
    }(wd.GameObject));
    wd.Skybox = Skybox;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CollisionDetector = (function () {
        function CollisionDetector() {
            this._lastCollideObjects = null;
            this._collisionTable = wdCb.Hash.create();
        }
        CollisionDetector.create = function () {
            var obj = new this();
            return obj;
        };
        CollisionDetector.prototype.detect = function (scene) {
            var checkTargetList = scene.filter(function (entityObject) {
                return entityObject.hasComponent(wd.Collider) || wd.JudgeUtils.isSpacePartitionObject(entityObject);
            }), self = this;
            this._clearCollisionTable();
            checkTargetList.forEach(function (entityObject) {
                if (entityObject.hasComponent(wd.RigidBody)) {
                    return;
                }
                var _a = self._getCollideObjects(entityObject, checkTargetList), targetCollideObjects = _a.targetCollideObjects, sourceCollideObjects = _a.sourceCollideObjects;
                sourceCollideObjects.forEach(function (sourceObject) {
                    if (targetCollideObjects.getCount() > 0) {
                        if (self._isCollisionStart(sourceObject)) {
                            sourceObject.execScript("onCollisionStart", targetCollideObjects);
                            sourceObject.execScript("onContact", targetCollideObjects);
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(targetCollideObjects, sourceObject, ["onCollisionStart", "onContact"]);
                        }
                        else {
                            sourceObject.execScript("onContact", targetCollideObjects);
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(targetCollideObjects, sourceObject, ["onContact"]);
                        }
                        sourceObject.addTag(ECollisionTag.COLLIDED);
                        self._lastCollideObjects = targetCollideObjects;
                    }
                    else {
                        if (self._isCollisionEnd(sourceObject)) {
                            sourceObject.execScript("onCollisionEnd");
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(self._lastCollideObjects, sourceObject, ["onCollisionEnd"]);
                        }
                        sourceObject.removeTag(ECollisionTag.COLLIDED);
                    }
                });
            });
        };
        CollisionDetector.prototype._getCollideObjects = function (sourceObject, checkTargetList) {
            var targetCollideObjects = wdCb.Collection.create(), sourceCollideObjects = wdCb.Collection.create(), self = this, sourceCollider = null;
            if (wd.JudgeUtils.isSpacePartitionObject(sourceObject)) {
                checkTargetList.forEach(function (targetObject) {
                    if (wd.JudgeUtils.isSelf(sourceObject, targetObject)) {
                        return;
                    }
                    if (wd.JudgeUtils.isSpacePartitionObject(targetObject)) {
                        self._getCollideObjectsWithSpacePartition(targetObject.getSpacePartition(), sourceObject.getSpacePartition(), targetCollideObjects, sourceCollideObjects);
                    }
                    else {
                        self._getCollideObjectsWithSpacePartition(targetObject, sourceObject.getSpacePartition(), targetCollideObjects, sourceCollideObjects);
                    }
                });
                this._recordCollisionTargets(targetCollideObjects, sourceCollideObjects);
                return {
                    targetCollideObjects: targetCollideObjects.removeRepeatItems(),
                    sourceCollideObjects: sourceCollideObjects.removeRepeatItems()
                };
            }
            sourceCollider = sourceObject.getComponent(wd.Collider);
            checkTargetList.forEach(function (targetObject) {
                if (wd.JudgeUtils.isSelf(sourceObject, targetObject)) {
                    return;
                }
                if (wd.JudgeUtils.isSpacePartitionObject(targetObject)) {
                    self._getCollideObjectsWithSpacePartition(targetObject.getSpacePartition(), sourceCollider, sourceObject, targetCollideObjects, sourceCollideObjects);
                }
                else {
                    self._getCollideObjectsByGameObjectToGameObject(sourceObject, sourceCollider, targetObject, targetCollideObjects);
                }
            });
            sourceCollideObjects.addChild(sourceObject);
            if (targetCollideObjects.getCount() > 0) {
                this._recordCollisionTargets(targetCollideObjects, sourceCollideObjects);
            }
            return {
                targetCollideObjects: targetCollideObjects.removeRepeatItems(),
                sourceCollideObjects: sourceCollideObjects.removeRepeatItems()
            };
        };
        CollisionDetector.prototype._getCollideObjectsByGameObjectToGameObject = function (sourceObject, sourceCollider, targetObject, targetCollideObjects) {
            if (this._isTargetCollidedWithSourceInCurrentFrame(sourceObject, targetObject)) {
                targetCollideObjects.addChild(targetObject);
            }
            else if (!(this._isNotTransform(sourceObject) && this._isNotTransform(targetObject) && !sourceObject.hasTag(ECollisionTag.COLLIDED))
                && sourceCollider.isCollide(targetObject)) {
                targetCollideObjects.addChild(targetObject);
            }
        };
        CollisionDetector.prototype._clearCollisionTable = function () {
            this._collisionTable.removeAllChildren();
        };
        CollisionDetector.prototype._isTargetCollidedWithSourceInCurrentFrame = function (sourceObject, targetObject) {
            var targetCollideObjects = this._collisionTable.getChild(String(targetObject.uid));
            if (!targetCollideObjects) {
                return false;
            }
            return targetCollideObjects.hasChild(function (targetCollideObject) {
                return wd.JudgeUtils.isEqual(targetCollideObject, sourceObject);
            });
        };
        CollisionDetector.prototype._recordCollisionTargets = function (targetCollideObjects, sourceCollideObjects) {
            var table = this._collisionTable;
            sourceCollideObjects.forEach(function (sourceObject) {
                targetCollideObjects.forEach(function (targetObject) {
                    table.appendChild(String(sourceObject.uid), targetObject);
                });
            });
        };
        CollisionDetector.prototype._getCollideObjectsWithSpacePartition = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 4) {
                if (args[0] instanceof wd.GameObject && args[1] instanceof wd.SpacePartition) {
                    var targetObject_1 = args[0], sourceSpacePartition = args[1], targetCollideObjects = args[2], sourceCollideObjects_1 = args[3], targetCollider_1 = targetObject_1.getComponent(wd.Collider), self_6 = this;
                    sourceSpacePartition.getCollideObjects(targetCollider_1.shape).forEach(function (sourceObject) {
                        self_6._getCollideObjectsByGameObjectToGameObject(targetObject_1, targetCollider_1, sourceObject, sourceCollideObjects_1);
                    });
                    if (sourceCollideObjects_1.getCount() > 0) {
                        targetCollideObjects.addChild(targetObject_1);
                    }
                    sourceCollideObjects_1.removeAllChildren();
                    sourceCollideObjects_1.addChildren(sourceSpacePartition.getChildren());
                }
                else if (args[0] instanceof wd.SpacePartition && args[1] instanceof wd.SpacePartition) {
                    var targetSpacePartition_1 = args[0], sourceSpacePartition = args[1], targetCollideObjects_1 = args[2], sourceCollideObjects_2 = args[3], self_7 = this;
                    sourceSpacePartition.getChildren()
                        .forEach(function (sourceObject) {
                        var sourceCollider = sourceObject.getComponent(wd.Collider);
                        self_7._getCollideObjectsWithSpacePartition(targetSpacePartition_1, sourceCollider, sourceObject, targetCollideObjects_1, sourceCollideObjects_2);
                    });
                }
            }
            else if (args.length === 5) {
                var targetSpacePartition = args[0], sourceCollider_1 = args[1], sourceObject_1 = args[2], targetCollideObjects_2 = args[3], sourceCollideObjects = args[4], self_8 = this;
                if (!sourceCollider_1) {
                    return;
                }
                targetSpacePartition.getCollideObjects(sourceCollider_1.shape).forEach(function (targetObject) {
                    self_8._getCollideObjectsByGameObjectToGameObject(sourceObject_1, sourceCollider_1, targetObject, targetCollideObjects_2);
                });
                sourceCollideObjects.addChild(sourceObject_1);
                return;
            }
        };
        CollisionDetector.prototype._isCollisionStart = function (entityObject) {
            return !entityObject.hasTag(ECollisionTag.COLLIDED);
        };
        CollisionDetector.prototype._isCollisionEnd = function (entityObject) {
            return entityObject.hasTag(ECollisionTag.COLLIDED);
        };
        CollisionDetector.prototype._triggerCollisionEventOfCollideObjectWhichHasRigidBody = function (collideObjects, currentGameObject, eventList) {
            collideObjects.filter(function (entityObject) {
                return entityObject.hasComponent(wd.RigidBody);
            })
                .forEach(function (collideObject) {
                for (var _i = 0, eventList_1 = eventList; _i < eventList_1.length; _i++) {
                    var eventName = eventList_1[_i];
                    collideObject.execScript(eventName, wdCb.Collection.create([currentGameObject]));
                }
            });
        };
        CollisionDetector.prototype._isNotTransform = function (entityObject) {
            return !entityObject.transform.isTransform;
        };
        __decorate([
            wd.require(function (sourceObject, checkTargetList) {
                checkTargetList.forEach(function (targetObject) {
                    wd.assert(targetObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("targetObject", "be GameObject"));
                });
            })
        ], CollisionDetector.prototype, "_getCollideObjects", null);
        __decorate([
            wd.require(function (sourceObject, sourceCollider, targetObject, targetCollideObjects) {
                wd.assert(sourceObject instanceof wd.GameObject && targetObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("sourceObject and targetObject", "be GameObject"));
            })
        ], CollisionDetector.prototype, "_getCollideObjectsByGameObjectToGameObject", null);
        return CollisionDetector;
    }());
    wd.CollisionDetector = CollisionDetector;
    var ECollisionTag;
    (function (ECollisionTag) {
        ECollisionTag[ECollisionTag["COLLIDED"] = "COLLIDED"] = "COLLIDED";
    })(ECollisionTag || (ECollisionTag = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventListenerMap = (function () {
        function EventListenerMap() {
            this.listenerMap = wdCb.Hash.create();
        }
        EventListenerMap.prototype.hasChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1 && wd.JudgeUtils.isFunction(args[0])) {
                return this.listenerMap.hasChild(args[0]);
            }
            else {
                var target = args[0], eventName = args[1], list = this.listenerMap.getChild(this.buildKey(target, eventName));
                return list && list.getCount() > 0;
            }
        };
        EventListenerMap.prototype.appendChild = function (target, eventName, data) {
            this.listenerMap.appendChild(this.buildKey(target, eventName), data);
        };
        EventListenerMap.prototype.filter = function (func) {
            return this.listenerMap.filter(func);
        };
        EventListenerMap.prototype.forEach = function (func) {
            return this.listenerMap.forEach(func);
        };
        EventListenerMap.prototype.getEventNameFromKey = function (key) {
            var separator = this.getEventSeparator();
            return key.indexOf(separator) > -1 ? key.split(separator)[1] : key;
        };
        EventListenerMap.prototype.isEventName = function (key, eventName) {
            return key.indexOf("" + this.getEventSeparator() + eventName) > -1
                || key === eventName;
        };
        return EventListenerMap;
    }());
    wd.EventListenerMap = EventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventListenerMap = (function (_super) {
        __extends(CustomEventListenerMap, _super);
        function CustomEventListenerMap() {
            _super.apply(this, arguments);
        }
        CustomEventListenerMap.create = function () {
            var obj = new this();
            return obj;
        };
        CustomEventListenerMap.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                return this.listenerMap.getChild(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_1 = args[0];
                return this.listenerMap.filter(function (list, key) {
                    return self.isTarget(key, target_1, list);
                });
            }
            else if (args.length === 2) {
                var target = args[0], eventName = args[1];
                return this.listenerMap.getChild(this.buildKey(target, eventName));
            }
        };
        CustomEventListenerMap.prototype.removeChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_1 = args[0];
                this.listenerMap.removeChild(function (list, key) {
                    return self.isEventName(key, eventName_1);
                });
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_2 = args[0];
                this.listenerMap.removeChild(function (list, key) {
                    return self.isTarget(key, target_2, list);
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler_1 = args[1], list = null;
                if (this.listenerMap.hasChild(eventName)) {
                    list = this.listenerMap.getChild(eventName);
                    wdCb.Collection.create().addChild(list.removeChild(function (val) {
                        return val.originHandler === handler_1;
                    }));
                    if (list.getCount() === 0) {
                        this.listenerMap.removeChild(eventName);
                    }
                }
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                this.listenerMap.removeChild(this.buildKey(uid, eventName));
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                this.listenerMap.removeChild(this.buildKey(target, eventName));
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var eventName = args[1], handler_2 = args[2];
                this.listenerMap.forEach(function (list, key) {
                    list.removeChild(function (val) {
                        return val.originHandler === handler_2;
                    });
                    if (list.getCount() === 0) {
                        return wdCb.$REMOVE;
                    }
                });
            }
        };
        CustomEventListenerMap.prototype.getUidFromKey = function (key) {
            var separator = "" + CustomEventListenerMap.eventSeparator;
            return key.indexOf(separator) > -1 ? Number(key.split(separator)[0]) : null;
        };
        CustomEventListenerMap.prototype.isTarget = function (key, target, list) {
            return key.indexOf(this._buildKeyPrefix(target.uid)) > -1 && list !== undefined;
        };
        CustomEventListenerMap.prototype.getEventSeparator = function () {
            return "" + CustomEventListenerMap.eventSeparator;
        };
        CustomEventListenerMap.prototype.buildKey = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                return this._buildKeyWithUid(uid, eventName);
            }
            else if (args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                return this._buildKeyWithUid(target.uid, eventName);
            }
            else if (args[0] === null) {
                var eventName = args[1];
                return eventName;
            }
        };
        CustomEventListenerMap.prototype._buildKeyWithUid = function (uid, eventName) {
            return "" + this._buildKeyPrefix(uid) + CustomEventListenerMap.eventSeparator + eventName;
        };
        CustomEventListenerMap.prototype._buildKeyPrefix = function (uid) {
            return "" + String(uid);
        };
        CustomEventListenerMap.eventSeparator = "@";
        return CustomEventListenerMap;
    }(wd.EventListenerMap));
    wd.CustomEventListenerMap = CustomEventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventListenerMap = (function (_super) {
        __extends(DomEventListenerMap, _super);
        function DomEventListenerMap() {
            _super.apply(this, arguments);
        }
        DomEventListenerMap.create = function () {
            var obj = new this();
            return obj;
        };
        DomEventListenerMap.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var eventName = args[0];
                return this.listenerMap.getChild(eventName);
            }
            else if (args.length === 2) {
                var dom = args[0], eventName = args[1];
                return this.listenerMap.getChild(this.buildKey(dom, eventName));
            }
        };
        DomEventListenerMap.prototype.removeChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, result = null;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_2 = args[0];
                result = this._getEventDataOffDataList(eventName_2, this.listenerMap.removeChild(function (list, key) {
                    return self.isEventName(key, eventName_2);
                }));
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName_3 = args[0], handler_3 = args[1], resultList_1 = wdCb.Collection.create();
                this.listenerMap.forEach(function (list, key) {
                    if (self.isEventName(key, eventName_3)) {
                        var result_1 = list.removeChild(function (val) {
                            return val.originHandler === handler_3;
                        });
                        if (result_1.getCount() > 0) {
                            resultList_1.addChild(result_1);
                        }
                        if (list.getCount() === 0) {
                            return wdCb.$REMOVE;
                        }
                    }
                });
                result = this._getEventDataOffDataList(eventName_3, resultList_1);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1];
                result = this._getEventDataOffDataList(eventName, this.listenerMap.removeChild(this.buildKey(dom, eventName)));
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var eventName = args[1], resultList_2 = wdCb.Collection.create(), handler_4 = args[2];
                this.listenerMap.forEach(function (list, key) {
                    var result = list.removeChild(function (val) {
                        return val.originHandler === handler_4;
                    });
                    if (result.getCount() > 0) {
                        resultList_2.addChild(result);
                    }
                    if (list.getCount() === 0) {
                        return wdCb.$REMOVE;
                    }
                });
                result = this._getEventDataOffDataList(eventName, resultList_2);
            }
            return result;
        };
        DomEventListenerMap.prototype.isDom = function (key, dom, list) {
            return key.indexOf(this._buildKeyPrefix(dom)) > -1 && list !== undefined;
        };
        DomEventListenerMap.prototype.getEventSeparator = function () {
            return "" + DomEventListenerMap.eventSeparator;
        };
        DomEventListenerMap.prototype.buildKey = function (dom, eventName) {
            return "" + this._buildKeyPrefix(dom) + DomEventListenerMap.eventSeparator + eventName;
        };
        DomEventListenerMap.prototype._buildKeyPrefix = function (dom) {
            return dom.id ? "" + dom.tagName + dom.id : "" + dom.tagName;
        };
        DomEventListenerMap.prototype._getEventDataOffDataList = function (eventName, result) {
            return result.map(function (list) {
                return list.map(function (data) {
                    return {
                        dom: data.dom,
                        eventName: eventName,
                        domHandler: data.domHandler
                    };
                });
            });
        };
        DomEventListenerMap.eventSeparator = "@";
        return DomEventListenerMap;
    }(wd.EventListenerMap));
    wd.DomEventListenerMap = DomEventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEventType) {
        EEventType[EEventType["MOUSE"] = 0] = "MOUSE";
        EEventType[EEventType["KEYBOARD"] = 1] = "KEYBOARD";
        EEventType[EEventType["CUSTOM"] = 2] = "CUSTOM";
    })(wd.EEventType || (wd.EEventType = {}));
    var EEventType = wd.EEventType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EBrowserIdentifier;
    (function (EBrowserIdentifier) {
        EBrowserIdentifier[EBrowserIdentifier["FALLBACK"] = "fallback"] = "FALLBACK";
        EBrowserIdentifier[EBrowserIdentifier["FIREFOX"] = "firefox"] = "FIREFOX";
        EBrowserIdentifier[EBrowserIdentifier["CHROME"] = "chrome"] = "CHROME";
    })(EBrowserIdentifier || (EBrowserIdentifier = {}));
    (function (EEventName) {
        EEventName[EEventName["CLICK"] = "click"] = "CLICK";
        EEventName[EEventName["MOUSEOVER"] = "mouseover"] = "MOUSEOVER";
        EEventName[EEventName["MOUSEUP"] = "mouseup"] = "MOUSEUP";
        EEventName[EEventName["MOUSEOUT"] = "mouseout"] = "MOUSEOUT";
        EEventName[EEventName["MOUSEMOVE"] = "mousemove"] = "MOUSEMOVE";
        EEventName[EEventName["MOUSEDOWN"] = "mousedown"] = "MOUSEDOWN";
        EEventName[EEventName["MOUSEWHEEL"] = ("mousewheel|DOMMouseScroll*" + EBrowserIdentifier.FIREFOX)] = "MOUSEWHEEL";
        EEventName[EEventName["MOUSEDRAG"] = "mousedrag"] = "MOUSEDRAG";
        EEventName[EEventName["KEYDOWN"] = "keydown"] = "KEYDOWN";
        EEventName[EEventName["KEYUP"] = "keyup"] = "KEYUP";
        EEventName[EEventName["KEYPRESS"] = "keypress"] = "KEYPRESS";
    })(wd.EEventName || (wd.EEventName = {}));
    var EEventName = wd.EEventName;
    var EVENTNAME_SPLITTER = '|', BROWSER_IDENTIFIER = '*';
    var EventNameHandler = (function () {
        function EventNameHandler() {
        }
        EventNameHandler.handleEventName = function (domEventName) {
            var eventName = domEventName, fallbackEventName = null, specifyBrowserEventNameArr = [], result = null;
            for (var _i = 0, _a = eventName.split(EVENTNAME_SPLITTER); _i < _a.length; _i++) {
                var name_1 = _a[_i];
                if (this._isFallbackEventName(name_1)) {
                    fallbackEventName = name_1;
                }
                else {
                    specifyBrowserEventNameArr.push(name_1);
                }
            }
            result = this._getSpecifyBrowserEventName(specifyBrowserEventNameArr);
            return result !== null ? result : fallbackEventName;
        };
        EventNameHandler._isFallbackEventName = function (eventName) {
            return eventName.split(BROWSER_IDENTIFIER).length === 1;
        };
        EventNameHandler._getSpecifyBrowserEventName = function (specifyBrowserEventNameArr) {
            var result = null;
            for (var _i = 0, specifyBrowserEventNameArr_1 = specifyBrowserEventNameArr; _i < specifyBrowserEventNameArr_1.length; _i++) {
                var eventName = specifyBrowserEventNameArr_1[_i];
                var _a = eventName.split(BROWSER_IDENTIFIER), domEventName = _a[0], browserIdentifier = _a[1];
                switch (browserIdentifier) {
                    case EBrowserIdentifier.CHROME:
                        if (bowser.chrome) {
                            result = domEventName;
                        }
                        break;
                    case EBrowserIdentifier.FIREFOX:
                        if (bowser.firefox) {
                            result = domEventName;
                        }
                        break;
                    default:
                        break;
                }
                if (result) {
                    break;
                }
            }
            return result;
        };
        return EventNameHandler;
    }());
    wd.EventNameHandler = EventNameHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEventPhase) {
        EEventPhase[EEventPhase["BROADCAST"] = 0] = "BROADCAST";
        EEventPhase[EEventPhase["EMIT"] = 1] = "EMIT";
    })(wd.EEventPhase || (wd.EEventPhase = {}));
    var EEventPhase = wd.EEventPhase;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EEventName.CLICK, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEOVER, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEOUT, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEMOVE, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEDOWN, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEUP, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEWHEEL, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEDRAG, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.KEYDOWN, wd.EEventType.KEYBOARD);
    _table.addChild(wd.EEventName.KEYPRESS, wd.EEventType.KEYBOARD);
    _table.addChild(wd.EEventName.KEYUP, wd.EEventType.KEYBOARD);
    var EventTable = (function () {
        function EventTable() {
        }
        EventTable.getEventType = function (eventName) {
            var result = _table.getChild(eventName);
            if (result === void 0) {
                result = wd.EEventType.CUSTOM;
            }
            return result;
        };
        return EventTable;
    }());
    wd.EventTable = EventTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Event = (function () {
        function Event(eventName) {
            this.p_type = null;
            this.name = null;
            this.currentTarget = null;
            this.isStopPropagation = false;
            this.phase = null;
            this.name = eventName;
        }
        Object.defineProperty(Event.prototype, "type", {
            get: function () {
                wd.Log.error(this.p_type === null, wd.Log.info.ABSTRACT_ATTRIBUTE);
                return this.p_type;
            },
            enumerable: true,
            configurable: true
        });
        Event.prototype.stopPropagation = function () {
            this.isStopPropagation = true;
        };
        Event.prototype.copyMember = function (destination, source, memberArr) {
            memberArr.forEach(function (member) {
                destination[member] = source[member];
            });
            return destination;
        };
        return Event;
    }());
    wd.Event = Event;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEvent = (function (_super) {
        __extends(DomEvent, _super);
        function DomEvent(event, eventName) {
            _super.call(this, eventName);
            this._event = null;
            this.event = event;
        }
        Object.defineProperty(DomEvent.prototype, "event", {
            get: function () {
                return this._event;
            },
            set: function (event) {
                this._event = event || wd.root.event;
            },
            enumerable: true,
            configurable: true
        });
        DomEvent.prototype.preventDefault = function () {
            var e = this._event;
            if (bowser.msie && Number(bowser.version) <= 8) {
                e.returnValue = false;
            }
            else {
                e.preventDefault();
            }
        };
        DomEvent.prototype.getDataFromCustomEvent = function (event) {
            this.target = event.target;
            this.currentTarget = event.currentTarget;
            this.isStopPropagation = event.isStopPropagation;
        };
        return DomEvent;
    }(wd.Event));
    wd.DomEvent = DomEvent;
})(wd || (wd = {}));
var wd;
(function (wd_1) {
    var MouseEvent = (function (_super) {
        __extends(MouseEvent, _super);
        function MouseEvent() {
            _super.apply(this, arguments);
            this._location = null;
            this._locationInView = null;
            this._button = null;
            this.lastX = null;
            this.lastY = null;
            this.p_type = wd_1.EEventType.MOUSE;
        }
        MouseEvent.create = function (event, eventName) {
            var obj = new this(event, eventName);
            return obj;
        };
        Object.defineProperty(MouseEvent.prototype, "location", {
            get: function () {
                var point = null, e = this.event;
                if (this._location) {
                    return this._location;
                }
                point = wd_1.Point.create();
                if (bowser.msie) {
                    point.x = e.clientX + document.body.scrollLeft || document.documentElement.scrollLeft;
                    point.y = e.clientY + document.body.scrollTop || document.documentElement.scrollTop;
                }
                else {
                    point.x = e.pageX;
                    point.y = e.pageY;
                }
                return point;
            },
            set: function (point) {
                this._location = point;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "locationInView", {
            get: function () {
                var point = null, viewOffset = null;
                if (this._locationInView) {
                    return this._locationInView;
                }
                point = this.location;
                viewOffset = wd_1.DeviceManager.getInstance().view.offset;
                return wd_1.Point.create(point.x - viewOffset.x, point.y - viewOffset.y);
            },
            set: function (locationInView) {
                this._locationInView = locationInView;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "button", {
            get: function () {
                var e = this.event, mouseButton = null;
                if (this._button) {
                    return this._button;
                }
                if (bowser.msie) {
                    switch (e.button) {
                        case 1:
                            mouseButton = wd_1.EMouseButton.LEFT;
                            break;
                        case 4:
                            mouseButton = wd_1.EMouseButton.RIGHT;
                            break;
                        case 2:
                            mouseButton = wd_1.EMouseButton.CENTER;
                            break;
                        default:
                            wd_1.Log.error(true, wd_1.Log.info.FUNC_NOT_SUPPORT("multi mouse button"));
                            break;
                    }
                }
                else {
                    switch (e.button) {
                        case 0:
                            mouseButton = wd_1.EMouseButton.LEFT;
                            break;
                        case 1:
                            mouseButton = wd_1.EMouseButton.RIGHT;
                            break;
                        case 2:
                            mouseButton = wd_1.EMouseButton.CENTER;
                            break;
                        default:
                            wd_1.Log.error(true, wd_1.Log.info.FUNC_NOT_SUPPORT("multi mouse button"));
                            break;
                    }
                }
                return mouseButton;
            },
            set: function (button) {
                this._button = button;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "wheel", {
            get: function () {
                var e = this.event;
                if (e.detail) {
                    return -1 * e.detail;
                }
                if (e.wheelDelta) {
                    return e.wheelDelta / 120;
                }
                return 0;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "movementDelta", {
            get: function () {
                var e = this.event, dx = null, wd = null;
                if (this._isPointerLocked()) {
                    dx = e.movementX || e.webkitMovementX || e.mozMovementX || 0;
                    wd = e.movementY || e.webkitMovementY || e.mozMovementY || 0;
                }
                else {
                    var location_1 = this.location, lastX = this.lastX, lastY = this.lastY;
                    if (lastX === null && lastY === null) {
                        dx = 0;
                        wd = 0;
                    }
                    else {
                        dx = location_1.x - lastX;
                        wd = location_1.y - lastY;
                    }
                }
                return {
                    x: dx,
                    y: wd
                };
            },
            enumerable: true,
            configurable: true
        });
        MouseEvent.prototype.copy = function () {
            var eventObj = MouseEvent.create(this.event, this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase", "lastX", "lastY"]);
        };
        MouseEvent.prototype._isPointerLocked = function () {
            return !!(document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement);
        };
        return MouseEvent;
    }(wd_1.DomEvent));
    wd_1.MouseEvent = MouseEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SPECIAL_KEY_MAP = {
        8: "backspace",
        9: "tab",
        10: "return",
        13: "return",
        16: "shift",
        17: "ctrl",
        18: "alt",
        19: "pause",
        20: "capslock",
        27: "esc",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        45: "insert",
        46: "del",
        59: ";",
        61: "=",
        65: "a",
        66: "b",
        67: "c",
        68: "d",
        69: "e",
        70: "f",
        71: "g",
        72: "h",
        73: "i",
        74: "j",
        75: "k",
        76: "l",
        77: "m",
        78: "n",
        79: "o",
        80: "p",
        81: "q",
        82: "r",
        83: "s",
        84: "t",
        85: "u",
        86: "v",
        87: "w",
        88: "x",
        89: "y",
        90: "z",
        96: "0",
        97: "1",
        98: "2",
        99: "3",
        100: "4",
        101: "5",
        102: "6",
        103: "7",
        104: "8",
        105: "9",
        106: "*",
        107: "+",
        109: "-",
        110: ".",
        111: "/",
        112: "f1",
        113: "f2",
        114: "f3",
        115: "f4",
        116: "f5",
        117: "f6",
        118: "f7",
        119: "f8",
        120: "f9",
        121: "f10",
        122: "f11",
        123: "f12",
        144: "numlock",
        145: "scroll",
        173: "-",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'"
    }, SHIFT_KEY_MAP = {
        "`": "~",
        "1": "!",
        "2": "@",
        "3": "#",
        "4": "$",
        "5": "%",
        "6": "^",
        "7": "&",
        "8": "*",
        "9": "(",
        "0": ")",
        "-": "_",
        "=": "+",
        ";": ": ",
        "'": "\"",
        ",": "<",
        ".": ">",
        "/": "?",
        "\\": "|"
    };
    var KeyboardEvent = (function (_super) {
        __extends(KeyboardEvent, _super);
        function KeyboardEvent() {
            _super.apply(this, arguments);
            this.p_type = wd.EEventType.KEYBOARD;
            this.keyState = null;
        }
        KeyboardEvent.create = function (event, eventName) {
            var obj = new this(event, eventName);
            return obj;
        };
        Object.defineProperty(KeyboardEvent.prototype, "ctrlKey", {
            get: function () {
                return this.event.ctrlKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "altKey", {
            get: function () {
                return this.event.altKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "shiftKey", {
            get: function () {
                return this.event.shiftKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "metaKey", {
            get: function () {
                return this.event.metaKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "keyCode", {
            get: function () {
                return this.event.keyCode;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "key", {
            get: function () {
                var key = SPECIAL_KEY_MAP[this.keyCode], char = null;
                if (!key) {
                    char = String.fromCharCode(this.keyCode).toLowerCase();
                    if (this.shiftKey) {
                        return SHIFT_KEY_MAP[char];
                    }
                    return char;
                }
                return key;
            },
            enumerable: true,
            configurable: true
        });
        KeyboardEvent.prototype.copy = function () {
            var eventObj = KeyboardEvent.create(this.event, this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase", "altKey", "shiftKey", "ctrlKey", "metaKey", "keyCode", "key"]);
        };
        return KeyboardEvent;
    }(wd.DomEvent));
    wd.KeyboardEvent = KeyboardEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEvent = (function (_super) {
        __extends(CustomEvent, _super);
        function CustomEvent() {
            _super.apply(this, arguments);
            this.userData = null;
            this.p_type = wd.EEventType.CUSTOM;
        }
        CustomEvent.create = function (eventName) {
            var obj = new this(eventName);
            return obj;
        };
        CustomEvent.prototype.copyPublicAttri = function (destination, source) {
            var property = null;
            wdCb.ExtendUtils.extend(destination, function (item, property) {
                return property.slice(0, 1) !== "_"
                    && !wd.JudgeUtils.isFunction(item);
            });
            return destination;
        };
        CustomEvent.prototype.copy = function () {
            var eventObj = CustomEvent.create(this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase"]);
        };
        CustomEvent.prototype.getDataFromDomEvent = function (event) {
            this.target = event.target;
            this.currentTarget = event.currentTarget;
            this.isStopPropagation = event.isStopPropagation;
        };
        return CustomEvent;
    }(wd.Event));
    wd.CustomEvent = CustomEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EMouseButton) {
        EMouseButton[EMouseButton["LEFT"] = 0] = "LEFT";
        EMouseButton[EMouseButton["RIGHT"] = 1] = "RIGHT";
        EMouseButton[EMouseButton["CENTER"] = 2] = "CENTER";
    })(wd.EMouseButton || (wd.EMouseButton = {}));
    var EMouseButton = wd.EMouseButton;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventListener = (function () {
        function EventListener(option) {
            this.eventType = null;
            this.priority = null;
            this.handlerDataList = wdCb.Collection.create();
            this.eventType = option.eventType;
            this.priority = option.priority || 1;
        }
        EventListener.create = function (option) {
            var obj = new this(option);
            obj.initWhenCreate(option);
            return obj;
        };
        EventListener.prototype.initWhenCreate = function (option) {
            this._setHandlerDataList(option);
        };
        EventListener.prototype._setHandlerDataList = function (option) {
            var i = null, REGEX_HANDER = /on\w+/;
            for (i in option) {
                if (option.hasOwnProperty(i)) {
                    if (REGEX_HANDER.test(i)) {
                        this.handlerDataList.addChild({
                            eventName: this._parseEventName(i),
                            handler: option[i]
                        });
                    }
                }
            }
        };
        EventListener.prototype._parseEventName = function (handlerName) {
            return handlerName.slice(2).toLowerCase();
        };
        return EventListener;
    }());
    wd.EventListener = EventListener;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventHandler = (function () {
        function EventHandler() {
        }
        return EventHandler;
    }());
    wd.EventHandler = EventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventHandler = (function (_super) {
        __extends(DomEventHandler, _super);
        function DomEventHandler() {
            _super.apply(this, arguments);
        }
        DomEventHandler.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, eventRegister = wd.DomEventRegister.getInstance(), eventOffDataList = null;
            eventOffDataList = eventRegister.remove.apply(eventRegister, args);
            if (eventOffDataList) {
                eventOffDataList.forEach(function (list) {
                    list.forEach(function (eventOffData) {
                        self._unBind(eventOffData.dom, eventOffData.eventName, eventOffData.domHandler);
                    });
                });
            }
        };
        DomEventHandler.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var dom = null, event = null, eventName = null, registerDataList = null;
            if (args.length === 1) {
                event = args[0];
                dom = this.getDefaultDom();
            }
            else {
                dom = args[0];
                event = args[1];
            }
            eventName = event.name;
            registerDataList = wd.DomEventRegister.getInstance().getEventRegisterDataList(dom, eventName);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return;
            }
            registerDataList.forEach(function (registerData) {
                var eventCopy = event.copy();
                registerData.handler(eventCopy, registerData.eventData);
            });
        };
        DomEventHandler.prototype.clearHandler = function () {
        };
        DomEventHandler.prototype.buildDomHandler = function (dom, eventName) {
            var self = this, context = wd.root;
            return wdCb.EventUtils.bindEvent(context, function (event) {
                self.triggerDomEvent(dom, event, eventName);
            });
        };
        DomEventHandler.prototype.handler = function (dom, eventName, handler, priority) {
            var domHandler = null, originHandler = handler;
            handler = this.addEngineHandler(eventName, handler);
            if (!wd.DomEventRegister.getInstance().isBinded(dom, eventName)) {
                domHandler = this._bind(dom, eventName);
            }
            else {
                domHandler = wd.DomEventRegister.getInstance().getDomHandler(dom, eventName);
            }
            wd.DomEventRegister.getInstance().register(dom, eventName, this.createEventData(), handler, originHandler, domHandler, priority);
        };
        DomEventHandler.prototype._bind = function (dom, eventName) {
            var domHandler = null;
            domHandler = this.buildDomHandler(dom, eventName);
            wdCb.EventUtils.addEvent(dom, wd.EventNameHandler.handleEventName(eventName), domHandler);
            return domHandler;
        };
        DomEventHandler.prototype._unBind = function (dom, eventName, handler) {
            wdCb.EventUtils.removeEvent(dom, wd.EventNameHandler.handleEventName(eventName), handler);
        };
        __decorate([
            wd.virtual
        ], DomEventHandler.prototype, "clearHandler", null);
        return DomEventHandler;
    }(wd.EventHandler));
    wd.DomEventHandler = DomEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MouseEventHandler = (function (_super) {
        __extends(MouseEventHandler, _super);
        function MouseEventHandler() {
            _super.apply(this, arguments);
        }
        MouseEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        MouseEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var dom = null, eventName = null, handler = null, priority = null;
            if (args.length === 3) {
                dom = this.getDefaultDom();
                eventName = args[0];
                handler = args[1];
                priority = args[2];
            }
            else {
                dom = args[0];
                eventName = args[1];
                handler = args[2];
                priority = args[3];
            }
            this.handler(dom, eventName, handler, priority);
        };
        MouseEventHandler.prototype.getDefaultDom = function () {
            return document.body;
        };
        MouseEventHandler.prototype.triggerDomEvent = function (dom, event, eventName) {
            var eventObj = this._createEventObject(dom, event, eventName);
            wd.EventManager.trigger(dom, eventObj);
        };
        MouseEventHandler.prototype.addEngineHandler = function (eventName, handler) {
            var resultHandler = null;
            switch (eventName) {
                case wd.EEventName.MOUSEMOVE:
                    resultHandler = this._handleMove(handler);
                    break;
                default:
                    resultHandler = handler;
                    break;
            }
            return resultHandler;
        };
        MouseEventHandler.prototype.createEventData = function () {
            var eventData = wdCb.Hash.create();
            eventData.addChild("lastX", null);
            eventData.addChild("lastY", null);
            return eventData;
        };
        MouseEventHandler.prototype._handleMove = function (handler) {
            var self = this;
            return function (event, eventData) {
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
                self._saveLocation(event, eventData);
            };
        };
        MouseEventHandler.prototype._createEventObject = function (dom, event, eventName) {
            var obj = wd.MouseEvent.create(event ? event : wd.root.event, eventName);
            obj.target = dom;
            return obj;
        };
        MouseEventHandler.prototype._copyEventDataToEventObject = function (event, eventData) {
            event.lastX = eventData.getChild("lastX");
            event.lastY = eventData.getChild("lastY");
        };
        MouseEventHandler.prototype._saveLocation = function (event, eventData) {
            var location = event.location;
            eventData.addChild("lastX", location.x);
            eventData.addChild("lastY", location.y);
        };
        MouseEventHandler._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 4) {
                    var dom = args[0];
                    wd.assert(wd.JudgeUtils.isDom(dom), wd.Log.info.FUNC_MUST_BE("first param", "HTMLElement"));
                }
            })
        ], MouseEventHandler.prototype, "on", null);
        return MouseEventHandler;
    }(wd.DomEventHandler));
    wd.MouseEventHandler = MouseEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var KeyboardEventHandler = (function (_super) {
        __extends(KeyboardEventHandler, _super);
        function KeyboardEventHandler() {
            _super.apply(this, arguments);
        }
        KeyboardEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        KeyboardEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventName = null, handler = null, priority = null;
            if (args.length === 3) {
                eventName = args[0];
                handler = args[1];
                priority = args[2];
            }
            else {
                wd.Log.warn("keyboard event can only bind on document.body");
                eventName = args[1];
                handler = args[2];
                priority = args[3];
            }
            this.handler(this.getDefaultDom(), eventName, handler, priority);
        };
        KeyboardEventHandler.prototype.triggerDomEvent = function (dom, event, eventName) {
            var eventObj = this._createEventObject(dom, event, eventName);
            wd.EventManager.trigger(dom, eventObj);
        };
        KeyboardEventHandler.prototype.getDefaultDom = function () {
            return document.body;
        };
        KeyboardEventHandler.prototype.addEngineHandler = function (eventName, handler) {
            var resultHandler = null;
            switch (eventName) {
                case wd.EEventName.KEYDOWN:
                    resultHandler = this._handleKeyDown(handler);
                    break;
                case wd.EEventName.KEYUP:
                    resultHandler = this._handleKeyUp(handler);
                    break;
                default:
                    resultHandler = handler;
                    break;
            }
            return resultHandler;
        };
        KeyboardEventHandler.prototype.createEventData = function () {
            var eventData = wdCb.Hash.create();
            eventData.addChild("keyState", {});
            return eventData;
        };
        KeyboardEventHandler.prototype._handleKeyDown = function (handler) {
            var self = this;
            return function (event, eventData) {
                var keyState = eventData.getChild("keyState");
                self._setKeyStateAllFalse(keyState);
                keyState[event.key] = true;
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
            };
        };
        KeyboardEventHandler.prototype._handleKeyUp = function (handler) {
            var self = this;
            return function (event, eventData) {
                self._setKeyStateAllFalse(eventData.getChild("keyState"));
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
            };
        };
        KeyboardEventHandler.prototype._copyEventDataToEventObject = function (event, eventData) {
            event.keyState = eventData.getChild("keyState");
        };
        KeyboardEventHandler.prototype._setKeyStateAllFalse = function (keyState) {
            for (var i in keyState) {
                if (keyState.hasOwnProperty(i)) {
                    keyState[i] = false;
                }
            }
        };
        KeyboardEventHandler.prototype._createEventObject = function (dom, event, eventName) {
            var obj = wd.KeyboardEvent.create(event ? event : wd.root.event, eventName);
            obj.target = dom;
            return obj;
        };
        KeyboardEventHandler._instance = null;
        return KeyboardEventHandler;
    }(wd.DomEventHandler));
    wd.KeyboardEventHandler = KeyboardEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventHandler = (function (_super) {
        __extends(CustomEventHandler, _super);
        function CustomEventHandler() {
            _super.apply(this, arguments);
        }
        CustomEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 3) {
                var eventName = args[0], handler = args[1], originHandler = handler, priority = args[2];
                wd.CustomEventRegister.getInstance().register(null, eventName, handler, originHandler, null, priority);
            }
            else if (args.length === 4) {
                var target = args[0], eventName = args[1], handler = args[2], originHandler = handler, priority = args[3];
                wd.CustomEventRegister.getInstance().register(target, eventName, handler, originHandler, null, priority);
            }
        };
        CustomEventHandler.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.CustomEventRegister.getInstance();
            eventRegister.remove.apply(eventRegister, args);
        };
        CustomEventHandler.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var event = null;
            if (args.length === 1 || args.length === 2) {
                var userData = null;
                if (args.length === 1) {
                    event = args[0];
                }
                else {
                    event = args[0];
                    userData = args[1];
                }
                return this._triggerEventHandler(event, userData);
            }
            else if (args.length === 3 || args.length === 4) {
                var target = null, userData = null, notSetTarget = null;
                if (args.length === 3) {
                    target = args[0];
                    event = args[1];
                    notSetTarget = args[2];
                }
                else {
                    target = args[0];
                    event = args[1];
                    userData = args[2];
                    notSetTarget = args[3];
                }
                return this._triggerTargetAndEventHandler(target, event, userData, notSetTarget);
            }
        };
        CustomEventHandler.prototype._triggerEventHandler = function (event, userData) {
            var registerDataList = null, self = this;
            registerDataList = wd.CustomEventRegister.getInstance().getEventRegisterDataList(event.name);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return false;
            }
            registerDataList.forEach(function (registerData) {
                event.currentTarget = registerData.target;
                event.target = registerData.target;
                self._setUserData(event, userData);
                registerData.handler(event);
            });
            return true;
        };
        CustomEventHandler.prototype._triggerTargetAndEventHandler = function (target, event, userData, notSetTarget) {
            var registerDataList = null, isStopPropagation = false, self = this;
            if (!notSetTarget) {
                event.target = target;
            }
            registerDataList = wd.CustomEventRegister.getInstance().getEventRegisterDataList(target, event.name);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return false;
            }
            registerDataList.forEach(function (registerData) {
                event.currentTarget = registerData.target;
                self._setUserData(event, userData);
                registerData.handler(event);
                if (event.isStopPropagation) {
                    isStopPropagation = true;
                }
            });
            return isStopPropagation;
        };
        CustomEventHandler.prototype._setUserData = function (event, userData) {
            if (userData) {
                event.userData = userData;
            }
        };
        CustomEventHandler._instance = null;
        return CustomEventHandler;
    }(wd.EventHandler));
    wd.CustomEventHandler = CustomEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventDispatcher = (function () {
        function EventDispatcher() {
        }
        return EventDispatcher;
    }());
    wd.EventDispatcher = EventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventDispatcher = (function (_super) {
        __extends(CustomEventDispatcher, _super);
        function CustomEventDispatcher() {
            _super.apply(this, arguments);
        }
        CustomEventDispatcher.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventDispatcher.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var event_1 = args[0], eventType = event_1.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_1);
            }
            else if (args.length === 2 && (args[0] instanceof wd.Event)) {
                var event_2 = args[0], userData = args[1], eventType = event_2.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_2, userData);
            }
            else if ((args.length === 2 && args[0] instanceof wd.EntityObject) || (args.length === 3 && wd.JudgeUtils.isBoolean(args[2]))) {
                var target = args[0], event_3 = args[1], notSetTarget = args[2] === void 0 ? false : args[2], eventType = event_3.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(target, event_3, notSetTarget);
            }
            else if (args.length === 3 || args.length === 4) {
                var target = args[0], event_4 = args[1], userData = args[2], notSetTarget = args[3] === void 0 ? false : args[3], eventType = event_4.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(target, event_4, userData, notSetTarget);
            }
        };
        CustomEventDispatcher.prototype.emit = function (target, eventObject, userData) {
            var isStopPropagation = false;
            if (!target) {
                return;
            }
            eventObject.phase = wd.EEventPhase.EMIT;
            eventObject.target = target;
            do {
                isStopPropagation = this._triggerWithUserData(target, eventObject, userData, true);
                if (isStopPropagation) {
                    break;
                }
                target = target.bubbleParent;
            } while (target);
        };
        CustomEventDispatcher.prototype.broadcast = function (target, eventObject, userData) {
            var self = this;
            var iterator = function (obj) {
                var children = obj.getChildren();
                if (children.getCount() === 0) {
                    return;
                }
                children.forEach(function (child) {
                    self._triggerWithUserData(child, eventObject, userData, true);
                    iterator(child);
                });
            };
            if (!target) {
                return;
            }
            eventObject.phase = wd.EEventPhase.BROADCAST;
            eventObject.target = target;
            this._triggerWithUserData(target, eventObject, userData, true);
            iterator(target);
        };
        CustomEventDispatcher.prototype._triggerWithUserData = function (target, event, userData, notSetTarget) {
            return userData ? this.trigger(target, event, userData, notSetTarget)
                : this.trigger(target, event, notSetTarget);
        };
        CustomEventDispatcher._instance = null;
        return CustomEventDispatcher;
    }(wd.EventDispatcher));
    wd.CustomEventDispatcher = CustomEventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventDispatcher = (function (_super) {
        __extends(DomEventDispatcher, _super);
        function DomEventDispatcher() {
            _super.apply(this, arguments);
        }
        DomEventDispatcher.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventDispatcher.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var event_5 = args[0], eventType = event_5.type;
                wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_5);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], event_6 = args[1], eventType = event_6.type;
                wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(dom, event_6);
            }
        };
        DomEventDispatcher._instance = null;
        return DomEventDispatcher;
    }(wd.EventDispatcher));
    wd.DomEventDispatcher = DomEventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventRegister = (function () {
        function EventRegister() {
            this.listenerMap = wd.ABSTRACT_ATTRIBUTE;
        }
        EventRegister.prototype.getEventRegisterDataList = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var result = this.listenerMap.getChild.apply(this.listenerMap, args);
            if (!result) {
                return null;
            }
            return result.sort(function (dataA, dataB) {
                return dataB.priority - dataA.priority;
            });
        };
        EventRegister.prototype.filter = function (func) {
            return this.listenerMap.filter(func);
        };
        EventRegister.prototype.forEach = function (func) {
            return this.listenerMap.forEach(func);
        };
        EventRegister.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            return this.listenerMap.getChild.apply(this.listenerMap, Array.prototype.slice.call(arguments, 0));
        };
        EventRegister.prototype.getEventNameFromKey = function (key) {
            return this.listenerMap.getEventNameFromKey(key);
        };
        return EventRegister;
    }());
    wd.EventRegister = EventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventRegister = (function (_super) {
        __extends(CustomEventRegister, _super);
        function CustomEventRegister() {
            _super.apply(this, arguments);
            this.listenerMap = wd.CustomEventListenerMap.create();
        }
        CustomEventRegister.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventRegister.prototype.register = function (target, eventName, handler, originHandler, domHandler, priority) {
            this.listenerMap.appendChild(target, eventName, {
                target: target,
                eventName: eventName,
                handler: handler,
                originHandler: originHandler,
                domHandler: domHandler,
                priority: priority
            });
        };
        CustomEventRegister.prototype.remove = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = args[0];
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                this.listenerMap.removeChild(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                this.listenerMap.removeChild(target);
                this._handleAfterAllEventHandlerRemoved(target);
            }
            else if (args.length === 2 && wd.JudgeUtils.isFunction(args[1])) {
                var eventName = args[0], handler = args[1];
                this.listenerMap.removeChild(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                this.listenerMap.removeChild(uid, eventName);
            }
            else if ((args.length === 2 && args[0] instanceof wd.EntityObject) || args.length === 3) {
                this.listenerMap.removeChild.apply(this.listenerMap, args);
                if (this._isAllEventHandlerRemoved(target)) {
                    this._handleAfterAllEventHandlerRemoved(target);
                }
            }
        };
        CustomEventRegister.prototype.setBubbleParent = function (target, parent) {
            target.bubbleParent = parent;
        };
        CustomEventRegister.prototype.getUidFromKey = function (key) {
            return this.listenerMap.getUidFromKey(key);
        };
        CustomEventRegister.prototype.isTarget = function (key, target, list) {
            return this.listenerMap.isTarget(key, target, list);
        };
        CustomEventRegister.prototype._isAllEventHandlerRemoved = function (target) {
            return !this.listenerMap.hasChild(function (list, key) {
                return key.indexOf(String(target.uid)) > -1 && (list && list.getCount() > 0);
            });
        };
        CustomEventRegister.prototype._handleAfterAllEventHandlerRemoved = function (target) {
            this.setBubbleParent(target, null);
        };
        CustomEventRegister._instance = null;
        return CustomEventRegister;
    }(wd.EventRegister));
    wd.CustomEventRegister = CustomEventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventRegister = (function (_super) {
        __extends(DomEventRegister, _super);
        function DomEventRegister() {
            _super.apply(this, arguments);
            this.listenerMap = wd.DomEventListenerMap.create();
        }
        DomEventRegister.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventRegister.prototype.register = function (dom, eventName, eventData, handler, originHandler, domHandler, priority) {
            this.listenerMap.appendChild(dom, eventName, {
                dom: dom,
                eventName: eventName,
                eventData: eventData,
                handler: handler,
                originHandler: originHandler,
                domHandler: domHandler,
                priority: priority
            });
        };
        DomEventRegister.prototype.remove = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var result = null;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                result = this.listenerMap.removeChild(eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isFunction(args[1])) {
                var eventName = args[0], handler = args[1];
                result = this.listenerMap.removeChild(eventName, handler);
            }
            else if ((args.length === 2 && wd.JudgeUtils.isDom(args[0])) || args.length === 3) {
                result = this.listenerMap.removeChild.apply(this.listenerMap, args);
            }
            return result;
        };
        DomEventRegister.prototype.isBinded = function (dom, eventName) {
            return this.listenerMap.hasChild(dom, eventName);
        };
        DomEventRegister.prototype.isDom = function (key, dom, list) {
            return this.listenerMap.isDom(key, dom, list);
        };
        DomEventRegister.prototype.getDomHandler = function (dom, eventName) {
            var list = this.getChild(dom, eventName);
            if (list && list.getCount() > 0) {
                return list.getChild(0).domHandler;
            }
        };
        DomEventRegister._instance = null;
        return DomEventRegister;
    }(wd.EventRegister));
    wd.DomEventRegister = DomEventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventBinder = (function () {
        function EventBinder() {
        }
        return EventBinder;
    }());
    wd.EventBinder = EventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventBinder = (function (_super) {
        __extends(CustomEventBinder, _super);
        function CustomEventBinder() {
            _super.apply(this, arguments);
        }
        CustomEventBinder.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventBinder.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 2) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler);
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler, priority);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(target, eventName, handler);
            }
            else if (args.length === 4) {
                var target = args[0], eventName = args[1], handler = args[2], priority = args[3];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(target, eventName, handler, priority);
            }
        };
        CustomEventBinder.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.CustomEventRegister.getInstance();
            if (args.length === 0) {
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key), targetUid = eventRegister.getUidFromKey(key);
                    if (!targetUid) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(eventName);
                    }
                    else {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName)).off(targetUid, eventName);
                    }
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_4 = args[0];
                eventRegister.forEach(function (list, key) {
                    var registeredEventName = eventRegister.getEventNameFromKey(key);
                    if (registeredEventName === eventName_4) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName_4))
                            .off(eventName_4);
                    }
                });
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_3 = args[0];
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    if (eventRegister.isTarget(key, target_3, list)) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(target_3, eventName);
                    }
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(eventName, handler);
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(target, eventName);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(target, eventName, handler);
            }
        };
        CustomEventBinder.prototype._checkEventSeparator = function (eventName) {
            wd.assert(eventName.indexOf(wd.CustomEventListenerMap.eventSeparator) === -1, wd.Log.info.FUNC_SHOULD_NOT("eventName", "contain " + wd.CustomEventListenerMap.eventSeparator));
        };
        CustomEventBinder._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 1) {
                }
                else if (args.length === 2) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 4) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
            })
        ], CustomEventBinder.prototype, "on", null);
        return CustomEventBinder;
    }(wd.EventBinder));
    wd.CustomEventBinder = CustomEventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventBinder = (function (_super) {
        __extends(DomEventBinder, _super);
        function DomEventBinder() {
            _super.apply(this, arguments);
        }
        DomEventBinder.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventBinder.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var listener_1 = !(args[0] instanceof wd.EventListener) ? wd.EventListener.create(args[0]) : args[0];
                listener_1.handlerDataList.forEach(function (handlerData) {
                    wd.EventHandlerFactory.createEventHandler(listener_1.eventType)
                        .on(handlerData.eventName, handlerData.handler, listener_1.priority);
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom_1 = args[0], listener_2 = !(args[0] instanceof wd.EventListener) ? wd.EventListener.create(args[0]) : args[0];
                listener_2.handlerDataList.forEach(function (handlerData) {
                    wd.EventHandlerFactory.createEventHandler(listener_2.eventType)
                        .on(dom_1, handlerData.eventName, handlerData.handler, listener_2.priority);
                });
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler, priority);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(dom, eventName, handler);
            }
            else if (args.length === 4) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = args[3];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(dom, eventName, handler, priority);
            }
        };
        DomEventBinder.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.DomEventRegister.getInstance();
            if (args.length === 0) {
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                        .off(eventName);
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_5 = args[0];
                eventRegister.forEach(function (list, key) {
                    var registeredEventName = eventRegister.getEventNameFromKey(key);
                    if (registeredEventName === eventName_5) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName_5))
                            .off(eventName_5);
                    }
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isDom(args[0])) {
                var dom_2 = args[0];
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    if (eventRegister.isDom(key, dom_2, list)) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(dom_2, eventName);
                    }
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(dom, eventName);
            }
            else if (args.length === 3) {
                var dom = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(dom, eventName, handler);
            }
        };
        DomEventBinder.prototype._checkEventSeparator = function (eventName) {
            wd.assert(eventName.indexOf(wd.DomEventListenerMap.eventSeparator) === -1, wd.Log.info.FUNC_SHOULD_NOT("eventName", "contain " + wd.DomEventListenerMap.eventSeparator));
        };
        DomEventBinder._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 1) {
                }
                else if (args.length === 2) {
                }
                else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 4) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
            })
        ], DomEventBinder.prototype, "on", null);
        return DomEventBinder;
    }(wd.EventBinder));
    wd.DomEventBinder = DomEventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventHandlerFactory = (function () {
        function EventHandlerFactory() {
        }
        EventHandlerFactory.createEventHandler = function (eventType) {
            var handler = null;
            switch (eventType) {
                case wd.EEventType.MOUSE:
                    handler = wd.MouseEventHandler.getInstance();
                    break;
                case wd.EEventType.KEYBOARD:
                    handler = wd.KeyboardEventHandler.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    handler = wd.CustomEventHandler.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("eventType"));
                    break;
            }
            return handler;
        };
        return EventHandlerFactory;
    }());
    wd.EventHandlerFactory = EventHandlerFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventBinderFactory = (function () {
        function EventBinderFactory() {
        }
        EventBinderFactory.createEventBinder = function (eventName) {
            var binder = null, eventType = wd.EventTable.getEventType(eventName);
            switch (eventType) {
                case wd.EEventType.MOUSE:
                case wd.EEventType.KEYBOARD:
                    binder = wd.DomEventBinder.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    binder = wd.CustomEventBinder.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("eventName:" + eventName));
                    break;
            }
            return binder;
        };
        return EventBinderFactory;
    }());
    wd.EventBinderFactory = EventBinderFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventDispatcherFactory = (function () {
        function EventDispatcherFactory() {
        }
        EventDispatcherFactory.createEventDispatcher = function (event) {
            var dispatcher = null, eventType = event.type;
            switch (eventType) {
                case wd.EEventType.MOUSE:
                case wd.EEventType.KEYBOARD:
                    dispatcher = wd.DomEventDispatcher.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    dispatcher = wd.CustomEventDispatcher.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("event:" + event));
                    break;
            }
            return dispatcher;
        };
        return EventDispatcherFactory;
    }());
    wd.EventDispatcherFactory = EventDispatcherFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventManager = (function () {
        function EventManager() {
        }
        EventManager.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var listener = args[0], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(listener);
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = 1, eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.on(eventName, handler, priority);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], listener = args[1], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, listener);
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.on(eventName, handler, priority);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], priority = 1, eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.on(target, eventName, handler, priority);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = 1, eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, eventName, handler, priority);
            }
            else if (args.length === 4 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], priority = args[3], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.on(target, eventName, handler, priority);
            }
            else if (args.length === 4 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = args[3], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, eventName, handler, priority);
            }
        };
        EventManager.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 0) {
                var customEventBinder = wd.CustomEventBinder.getInstance(), domEventBinder = wd.DomEventBinder.getInstance();
                customEventBinder.off();
                domEventBinder.off();
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.off(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var eventName = args[0], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(eventName);
            }
            else if (args.length === 1 && wd.JudgeUtils.isDom(args[0])) {
                var eventName = args[0], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.off(eventName, handler);
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(target, eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(dom, eventName);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(target, eventName, handler);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(dom, eventName, handler);
            }
        };
        EventManager.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var event_7 = args[0], eventDispatcher = wd.EventDispatcherFactory.createEventDispatcher(event_7);
                eventDispatcher.trigger(event_7);
            }
            else if (args.length === 2 && args[0] instanceof wd.Event) {
                var event_8 = args[0], userData = args[1], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                eventDispatcher.trigger(event_8, userData);
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], event_9 = args[1], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                eventDispatcher.trigger(target, event_9);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], event_10 = args[1], eventDispatcher = wd.DomEventDispatcher.getInstance();
                eventDispatcher.trigger(dom, event_10);
            }
            else if (args.length === 3) {
                var target = args[0], event_11 = args[1], userData = args[2], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                eventDispatcher.trigger(target, event_11, userData);
            }
            else if (args.length === 4) {
                var target = args[0], event_12 = args[1], userData = args[2], notSetTarget = args[3], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                eventDispatcher.trigger(target, event_12, userData, notSetTarget);
            }
        };
        EventManager.broadcast = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventDispatcher = wd.CustomEventDispatcher.getInstance();
            eventDispatcher.broadcast.apply(eventDispatcher, args);
        };
        EventManager.emit = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventDispatcher = wd.CustomEventDispatcher.getInstance();
            eventDispatcher.emit.apply(eventDispatcher, args);
        };
        EventManager.fromEvent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var addHandler = null, removeHandler = null;
            if (args.length === 1) {
                var eventName_6 = args[0];
                addHandler = function (handler) {
                    EventManager.on(eventName_6, handler);
                };
                removeHandler = function (handler) {
                    EventManager.off(eventName_6, handler);
                };
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[1])) {
                var eventName_7 = args[0], priority_1 = args[1];
                addHandler = function (handler) {
                    EventManager.on(eventName_7, handler, priority_1);
                };
                removeHandler = function (handler) {
                    EventManager.off(eventName_7, handler);
                };
            }
            else if (args.length === 2) {
                var eventName_8 = args[1];
                addHandler = function (handler) {
                    EventManager.on(args[0], eventName_8, handler);
                };
                removeHandler = function (handler) {
                    EventManager.off(args[0], eventName_8, handler);
                };
            }
            else if (args.length === 3) {
                var eventName_9 = args[1], priority_2 = args[2];
                addHandler = function (handler) {
                    EventManager.on(args[0], eventName_9, handler, priority_2);
                };
                removeHandler = function (handler) {
                    EventManager.off(args[0], eventName_9, handler);
                };
            }
            return wdFrp.fromEventPattern(addHandler, removeHandler);
        };
        EventManager.setBubbleParent = function (target, parent) {
            wd.CustomEventRegister.getInstance().setBubbleParent(target, parent);
        };
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    wd.assert(wd.EventTable.getEventType(eventName) === wd.EEventType.CUSTOM, wd.Log.info.FUNC_MUST_BE("event", "custom event"));
                }
                else if (wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1], eventType = wd.EventTable.getEventType(eventName);
                    wd.assert(eventType === wd.EEventType.MOUSE || eventType === wd.EEventType.KEYBOARD, wd.Log.info.FUNC_MUST_BE("event", "dom event"));
                }
            })
        ], EventManager, "on", null);
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length > 2 && args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    wd.assert(wd.EventTable.getEventType(eventName) === wd.EEventType.CUSTOM, wd.Log.info.FUNC_MUST_BE("event", "custom event"));
                }
                else if (args.length > 2 && wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1], eventType = wd.EventTable.getEventType(eventName);
                    wd.assert(eventType === wd.EEventType.MOUSE || eventType === wd.EEventType.KEYBOARD, wd.Log.info.FUNC_MUST_BE("event", "dom event"));
                }
            })
        ], EventManager, "off", null);
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 2 && args[0] instanceof wd.Event) {
                    var event_13 = args[0];
                    wd.assert(event_13 instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("event type", "CUSTOM"));
                }
                else if (args[0] instanceof wd.EntityObject) {
                    var event_14 = args[1];
                    wd.assert(event_14 instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("event type", "CUSTOM"));
                }
            })
        ], EventManager, "trigger", null);
        __decorate([
            wd.require(function (target, eventObject, userData) {
                wd.assert(eventObject instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("eventObject", "CustomEvent"));
            })
        ], EventManager, "broadcast", null);
        __decorate([
            wd.require(function (target, eventObject, userData) {
                wd.assert(eventObject instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("eventObject", "CustomEvent"));
            })
        ], EventManager, "emit", null);
        __decorate([
            wd.require(function (target, parent) {
                wd.assert(target instanceof wd.EntityObject, "only EntityObject can setBubleParent");
            })
        ], EventManager, "setBubbleParent", null);
        return EventManager;
    }());
    wd.EventManager = EventManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEngineEvent) {
        EEngineEvent[EEngineEvent["STARTLOOP"] = "dy_startLoop"] = "STARTLOOP";
        EEngineEvent[EEngineEvent["ENDLOOP"] = "dy_endLoop"] = "ENDLOOP";
        EEngineEvent[EEngineEvent["BEFORE_GAMEOBJECT_INIT"] = "dy_beforeGameObjectInit"] = "BEFORE_GAMEOBJECT_INIT";
        EEngineEvent[EEngineEvent["AFTER_GAMEOBJECT_INIT"] = "dy_afterGameObjectInit"] = "AFTER_GAMEOBJECT_INIT";
        EEngineEvent[EEngineEvent["AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT"] = "dy_afterGameObjectInit_rigidBody_addConstraint"] = "AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT";
        EEngineEvent[EEngineEvent["MOUSE_CLICK"] = "dy_mouseclick"] = "MOUSE_CLICK";
        EEngineEvent[EEngineEvent["MOUSE_DOWN"] = "dy_mousedown"] = "MOUSE_DOWN";
        EEngineEvent[EEngineEvent["MOUSE_UP"] = "dy_mouseup"] = "MOUSE_UP";
        EEngineEvent[EEngineEvent["MOUSE_MOVE"] = "dy_mousemove"] = "MOUSE_MOVE";
        EEngineEvent[EEngineEvent["MOUSE_OVER"] = "dy_mouseover"] = "MOUSE_OVER";
        EEngineEvent[EEngineEvent["MOUSE_OUT"] = "dy_mouseout"] = "MOUSE_OUT";
        EEngineEvent[EEngineEvent["MOUSE_WHEEL"] = "dy_mousewheel"] = "MOUSE_WHEEL";
        EEngineEvent[EEngineEvent["MOUSE_DRAG"] = "dy_mousedrag"] = "MOUSE_DRAG";
        EEngineEvent[EEngineEvent["MATERIAL_CHANGE"] = "dy_material_change"] = "MATERIAL_CHANGE";
        EEngineEvent[EEngineEvent["UI_WIDTH_CHANGE"] = "dy_ui_width_change"] = "UI_WIDTH_CHANGE";
        EEngineEvent[EEngineEvent["UI_HEIGHT_CHANGE"] = "dy_ui_height_change"] = "UI_HEIGHT_CHANGE";
        EEngineEvent[EEngineEvent["TRANSFORM_TRANSLATE"] = "dy_transform_translate"] = "TRANSFORM_TRANSLATE";
        EEngineEvent[EEngineEvent["TRANSFORM_ROTATE"] = "dy_transform_rotate"] = "TRANSFORM_ROTATE";
        EEngineEvent[EEngineEvent["TRANSFORM_SCALE"] = "dy_transform_scale"] = "TRANSFORM_SCALE";
    })(wd.EEngineEvent || (wd.EEngineEvent = {}));
    var EEngineEvent = wd.EEngineEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventTriggerDetector = (function (_super) {
        __extends(EventTriggerDetector, _super);
        function EventTriggerDetector() {
            _super.apply(this, arguments);
        }
        return EventTriggerDetector;
    }(wd.Component));
    wd.EventTriggerDetector = EventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIEventTriggerDetector = (function (_super) {
        __extends(UIEventTriggerDetector, _super);
        function UIEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        UIEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        UIEventTriggerDetector.prototype.isTrigger = function (e) {
            var transform = this.entityObject.transform, width = transform.width, height = transform.height, position = transform.position, locationInView = e.locationInView, leftUpCornerPosition = null;
            leftUpCornerPosition = wd.Vector2.create(position.x - width / 2, position.y - height / 2);
            return wd.EventTriggerDetectorUtils.isInRect(locationInView, leftUpCornerPosition, width, height);
        };
        return UIEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.UIEventTriggerDetector = UIEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RayCasterEventTriggerDetector = (function (_super) {
        __extends(RayCasterEventTriggerDetector, _super);
        function RayCasterEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        RayCasterEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        RayCasterEventTriggerDetector.prototype.isTrigger = function (e) {
            var scene = wd.Director.getInstance().scene, cameraController = scene.currentCamera.getComponent(wd.CameraController), locationInView = e.locationInView;
            return cameraController.isIntersectWithRay(this.entityObject, locationInView.x, locationInView.y);
        };
        return RayCasterEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.RayCasterEventTriggerDetector = RayCasterEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SceneEventTriggerDetector = (function (_super) {
        __extends(SceneEventTriggerDetector, _super);
        function SceneEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        SceneEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        SceneEventTriggerDetector.prototype.isTrigger = function (e) {
            var view = wd.DeviceManager.getInstance().view, width = view.width, height = view.height, locationInView = e.locationInView, leftUpCornerPosition = wd.Vector2.create(0, 0);
            return wd.EventTriggerDetectorUtils.isInRect(locationInView, leftUpCornerPosition, width, height);
        };
        return SceneEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.SceneEventTriggerDetector = SceneEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventTriggerDetectorUtils = (function () {
        function EventTriggerDetectorUtils() {
        }
        EventTriggerDetectorUtils.isInRect = function (locationInView, leftUpCornerPosition, width, height) {
            return locationInView.x >= leftUpCornerPosition.x && locationInView.x <= leftUpCornerPosition.x + width && locationInView.y >= leftUpCornerPosition.y && locationInView.y <= leftUpCornerPosition.y + height;
        };
        return EventTriggerDetectorUtils;
    }());
    wd.EventTriggerDetectorUtils = EventTriggerDetectorUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _scriptHandlerNameTable = wdCb.Hash.create(), _scriptEngineEventTable = wdCb.Hash.create();
    _scriptHandlerNameTable.addChild(wd.EEventName.CLICK, "onMouseClick");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEOVER, "onMouseOver");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEOUT, "onMouseOut");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEMOVE, "onMouseMove");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEDOWN, "onMouseDown");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEUP, "onMouseUp");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEWHEEL, "onMouseWheel");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEDRAG, "onMouseDrag");
    _scriptEngineEventTable.addChild(wd.EEventName.CLICK, "MOUSE_CLICK");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEDOWN, "MOUSE_DOWN");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEUP, "MOUSE_UP");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEMOVE, "MOUSE_MOVE");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEOVER, "MOUSE_OVER");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEOUT, "MOUSE_OUT");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEWHEEL, "MOUSE_WHEEL");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEDRAG, "MOUSE_DRAG");
    var EventTriggerTable = (function () {
        function EventTriggerTable() {
        }
        EventTriggerTable.getScriptHandlerName = function (eventName) {
            var result = _scriptHandlerNameTable.getChild(eventName);
            return result;
        };
        EventTriggerTable.getScriptEngineEvent = function (eventName) {
            var result = _scriptEngineEventTable.getChild(eventName);
            return result;
        };
        return EventTriggerTable;
    }());
    wd.EventTriggerTable = EventTriggerTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Script = (function (_super) {
        __extends(Script, _super);
        function Script(url) {
            if (url === void 0) { url = null; }
            _super.call(this);
            this.url = null;
            this.url = url;
        }
        Script.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 0) {
                return new this();
            }
            else if (args.length === 1) {
                var url = args[0];
                return new this(url);
            }
        };
        Script.addScript = function (scriptName, _class) {
            this.scriptList.push({
                name: scriptName,
                class: _class
            });
        };
        Script.prototype.createLoadJsStream = function () {
            wd.Log.error(!this.url, wd.Log.info.FUNC_MUST_DEFINE("url"));
            return wd.LoaderManager.getInstance().load(this.url)
                .map(function () {
                return Script.scriptList.pop();
            });
        };
        Script.prototype.addToObject = function (entityObject) {
            var self = this;
            _super.prototype.addToObject.call(this, entityObject);
            this.createLoadJsStream()
                .subscribe(function (data) {
                self._handlerAfterLoadedScript(data, entityObject);
            });
        };
        Script.prototype._handlerAfterLoadedScript = function (data, entityObject) {
            this._addScriptToEntityObject(entityObject, data);
            entityObject.execScript("onEnter", null, true);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT));
            entityObject.execScript("init", null, true);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT));
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT));
        };
        Script.prototype._addScriptToEntityObject = function (entityObject, data) {
            entityObject.scriptList.addChild(data.name, new data.class(entityObject));
        };
        Script.scriptList = wdCb.Stack.create();
        return Script;
    }(wd.Component));
    wd.Script = Script;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Transform = (function (_super) {
        __extends(Transform, _super);
        function Transform() {
            _super.apply(this, arguments);
            this.p_parent = null;
            this.dirtyLocal = true;
            this.children = wdCb.Collection.create();
        }
        Object.defineProperty(Transform.prototype, "parent", {
            get: function () {
                return this.p_parent;
            },
            set: function (parent) {
                this.setParent(parent);
            },
            enumerable: true,
            configurable: true
        });
        Transform.prototype.addChild = function (child) {
            this.children.addChild(child);
        };
        Transform.prototype.removeChild = function (child) {
            this.children.removeChild(child);
        };
        Transform.prototype.setParent = function (parent) {
            if (this.p_parent) {
                this.p_parent.removeChild(this);
            }
            if (!parent) {
                this.p_parent = null;
                return;
            }
            this.p_parent = parent;
            this.p_parent.addChild(this);
        };
        Transform.prototype.getMatrix = function (syncMethod, matrixAttriName) {
            var syncList = wdCb.Collection.create(), current = this.p_parent;
            syncList.addChild(this);
            while (current !== null) {
                syncList.addChild(current);
                current = current.parent;
            }
            syncList.reverse().forEach(function (transform) {
                transform[syncMethod]();
            });
            return this[matrixAttriName];
        };
        Transform.prototype.setChildrenTransformState = function (transformState) {
            if (this[transformState]) {
                this.children.forEach(function (child) {
                    child[transformState] = true;
                });
            }
        };
        return Transform;
    }(wd.Component));
    wd.Transform = Transform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ThreeDTransform = (function (_super) {
        __extends(ThreeDTransform, _super);
        function ThreeDTransform() {
            _super.apply(this, arguments);
            this._localToWorldMatrix = null;
            this._position = wd.Vector3.create();
            this._rotation = wd.Quaternion.create(0, 0, 0, 1);
            this._scale = wd.Vector3.create(1, 1, 1);
            this._eulerAngles = null;
            this._localPosition = wd.Vector3.create(0, 0, 0);
            this._localRotation = wd.Quaternion.create(0, 0, 0, 1);
            this._localEulerAngles = null;
            this._localScale = wd.Vector3.create(1, 1, 1);
            this._isTranslate = false;
            this._isRotate = false;
            this._isScale = false;
            this.dirtyWorld = null;
            this._localToParentMatrix = wd.Matrix4.create();
            this._endLoopSubscription = null;
        }
        ThreeDTransform.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(ThreeDTransform.prototype, "localToWorldMatrix", {
            get: function () {
                return this.getMatrix("sync", "_localToWorldMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "position", {
            get: function () {
                this._position = this.localToWorldMatrix.getTranslation();
                return this._position;
            },
            set: function (position) {
                if (this.p_parent === null) {
                    this._localPosition = position.copy();
                }
                else {
                    this._localPosition = this.p_parent.localToWorldMatrix.copy().invert().multiplyPoint(position);
                }
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "rotation", {
            get: function () {
                this._rotation.setFromMatrix(this.localToWorldMatrix);
                return this._rotation;
            },
            set: function (rotation) {
                if (this.p_parent === null) {
                    this._localRotation = rotation.copy();
                }
                else {
                    this._localRotation = this.p_parent.rotation.copy().invert().multiply(rotation);
                }
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "scale", {
            get: function () {
                this._scale = this.localToWorldMatrix.getScale();
                return this._scale;
            },
            set: function (scale) {
                if (this.p_parent === null) {
                    this._localScale = scale.copy();
                }
                else {
                    this._localScale = this.p_parent.localToWorldMatrix.copy().invert().multiplyVector3(scale);
                }
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "eulerAngles", {
            get: function () {
                this._eulerAngles = this.localToWorldMatrix.getEulerAngles();
                return this._eulerAngles;
            },
            set: function (eulerAngles) {
                this._localRotation.setFromEulerAngles(eulerAngles);
                if (this.p_parent !== null) {
                    this._localRotation = this.p_parent.rotation.copy().invert().multiply(this._localRotation);
                }
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localPosition", {
            get: function () {
                return this._localPosition;
            },
            set: function (position) {
                this._localPosition = position.copy();
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localRotation", {
            get: function () {
                return this._localRotation;
            },
            set: function (rotation) {
                this._localRotation = rotation.copy();
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localEulerAngles", {
            get: function () {
                this._localEulerAngles = this._localRotation.getEulerAngles();
                return this._localEulerAngles;
            },
            set: function (localEulerAngles) {
                this._localRotation.setFromEulerAngles(localEulerAngles);
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localScale", {
            get: function () {
                return this._localScale;
            },
            set: function (scale) {
                this._localScale = scale.copy();
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "up", {
            get: function () {
                return this.localToWorldMatrix.getY().normalize();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "right", {
            get: function () {
                return this.localToWorldMatrix.getX().normalize();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "forward", {
            get: function () {
                return this.localToWorldMatrix.getZ().normalize().scale(-1);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "isTransform", {
            get: function () {
                return this.isTranslate || this.isRotate || this.isScale;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "isTranslate", {
            get: function () {
                return this._isTranslate;
            },
            set: function (isTranslate) {
                this._isTranslate = isTranslate;
                if (isTranslate) {
                    this.dirtyLocal = true;
                    this.setChildrenTransformState("isTranslate");
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "isRotate", {
            get: function () {
                return this._isRotate;
            },
            set: function (isRotate) {
                this._isRotate = isRotate;
                if (isRotate) {
                    this.dirtyLocal = true;
                    this.setChildrenTransformState("isRotate");
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "isScale", {
            get: function () {
                return this._isScale;
            },
            set: function (isScale) {
                this._isScale = isScale;
                if (isScale) {
                    this.dirtyLocal = true;
                    this.setChildrenTransformState("isScale");
                }
            },
            enumerable: true,
            configurable: true
        });
        ThreeDTransform.prototype.init = function () {
            var self = this;
            this._endLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.ENDLOOP)
                .subscribe(function () {
                self._resetTransformFlag();
            });
        };
        ThreeDTransform.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._endLoopSubscription && this._endLoopSubscription.dispose();
        };
        ThreeDTransform.prototype.sync = function () {
            if (this.dirtyLocal) {
                this._localToParentMatrix.setTRS(this._localPosition, this._localRotation, this._localScale);
                this.dirtyLocal = false;
                this.dirtyWorld = true;
            }
            if (this.dirtyWorld) {
                if (this.p_parent === null) {
                    this._localToWorldMatrix = this._localToParentMatrix.copy();
                }
                else {
                    this._localToWorldMatrix = this.p_parent.localToWorldMatrix.copy().multiply(this._localToParentMatrix);
                }
                this.dirtyWorld = false;
                this.children.forEach(function (child) {
                    child.dirtyWorld = true;
                });
            }
        };
        ThreeDTransform.prototype.translateLocal = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 3) {
                translation = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                translation = args[0];
            }
            this._localPosition = this._localPosition.add(this._localRotation.multiplyVector3(translation));
            this.isTranslate = true;
            return this;
        };
        ThreeDTransform.prototype.translate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 3) {
                translation = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                translation = args[0];
            }
            this.position = translation.add(this.position);
            return this;
        };
        ThreeDTransform.prototype.rotate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eulerAngles = null, quaternion = wd.Quaternion.create();
            if (args.length === 3) {
                eulerAngles = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                eulerAngles = args[0];
            }
            quaternion.setFromEulerAngles(eulerAngles);
            if (this.p_parent === null) {
                this._localRotation = quaternion.multiply(this._localRotation);
            }
            else {
                quaternion = this.p_parent.rotation.copy().invert().multiply(quaternion);
                this._localRotation = quaternion.multiply(this.rotation);
            }
            this.isRotate = true;
            return this;
        };
        ThreeDTransform.prototype.rotateLocal = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eulerAngles = null, quaternion = wd.Quaternion.create();
            if (args.length === 3) {
                eulerAngles = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                eulerAngles = args[0];
            }
            quaternion.setFromEulerAngles(eulerAngles);
            this._localRotation.multiply(quaternion);
            this.isRotate = true;
            return this;
        };
        ThreeDTransform.prototype.rotateAround = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = null, center = null, axis = null, rot = null, dir = null;
            if (args.length === 3) {
                angle = args[0];
                center = args[1];
                axis = args[2];
            }
            else {
                angle = args[0];
                center = wd.Vector3.create(args[1], args[2], args[3]);
                axis = wd.Vector3.create(args[4], args[5], args[6]);
            }
            rot = wd.Quaternion.create().setFromAxisAngle(angle, axis);
            dir = this.position.copy().sub(center);
            dir = rot.multiplyVector3(dir);
            this.position = center.add(dir);
            this.rotation = rot.multiply(this.rotation);
            return this;
        };
        ThreeDTransform.prototype.lookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = null, up = null;
            if (args.length === 1) {
                target = args[0];
                up = wd.Vector3.up;
            }
            else if (args.length === 2) {
                target = args[0];
                up = args[1];
            }
            else if (args.length === 3) {
                target = wd.Vector3.create(args[0], args[1], args[2]);
                up = wd.Vector3.up;
            }
            else {
                target = wd.Vector3.create(args[0], args[1], args[2]);
                up = wd.Vector3.create(args[3], args[4], args[5]);
            }
            this.rotation = wd.Quaternion.create().setFromMatrix(wd.Matrix4.create().setLookAt(this.position, target, up));
            return this;
        };
        ThreeDTransform.prototype._resetTransformFlag = function () {
            this.isTranslate = false;
            this.isScale = false;
            this.isRotate = false;
        };
        return ThreeDTransform;
    }(wd.Transform));
    wd.ThreeDTransform = ThreeDTransform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectTransform = (function (_super) {
        __extends(RectTransform, _super);
        function RectTransform() {
            _super.apply(this, arguments);
            this._rotationMatrix = null;
            this._localPositionAndScaleMatrix = wd.Matrix3.create();
            this._position = wd.Vector2.create();
            this._rotation = 0;
            this._scale = wd.Vector2.create(1, 1);
            this._localPosition = wd.Vector2.create(0, 0);
            this._localScale = wd.Vector2.create(1, 1);
            this._anchorX = wd.Vector2.create(0.5, 0.5);
            this._anchorY = wd.Vector2.create(0.5, 0.5);
            this._width = null;
            this._height = null;
            this._isTranslate = false;
            this._isRotate = false;
            this._isScale = false;
            this.dirtyRotation = true;
            this.dirtyPositionAndScale = true;
            this.pivot = wd.Vector2.create(0, 0);
            this.zIndex = 1;
            this._localRotationMatrix = wd.Matrix3.create();
            this._localToParentMatrix = wd.Matrix3.create();
        }
        RectTransform.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(RectTransform.prototype, "rotationMatrix", {
            get: function () {
                return this.getMatrix("syncRotation", "_rotationMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localPositionAndScaleMatrix", {
            get: function () {
                return this.getMatrix("syncPositionAndScale", "_localPositionAndScaleMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "position", {
            get: function () {
                this._position = this.localPositionAndScaleMatrix.getTranslation();
                return this._position;
            },
            set: function (position) {
                if (this.p_parent === null) {
                    this._localPosition = position.copy();
                }
                else {
                    this._localPosition = this.p_parent.localPositionAndScaleMatrix.copy().invert().multiplyPoint(position);
                }
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "rotation", {
            get: function () {
                this._rotation = this.rotationMatrix.getRotation();
                return this._rotation;
            },
            set: function (angle) {
                this.resetRotation();
                this.rotate(angle);
                this.dirtyRotation = true;
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "scale", {
            get: function () {
                this._scale = this.localPositionAndScaleMatrix.getScale();
                return this._scale;
            },
            set: function (scale) {
                if (this.p_parent === null) {
                    this._localScale = scale.copy();
                }
                else {
                    this._localScale = this.p_parent.localPositionAndScaleMatrix.copy().invert().multiplyVector2(scale);
                }
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localPosition", {
            get: function () {
                return this._localPosition;
            },
            set: function (position) {
                this._localPosition = position.copy();
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localScale", {
            get: function () {
                return this._localScale;
            },
            set: function (scale) {
                this._localScale = scale.copy();
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "anchorX", {
            get: function () {
                return this._anchorX;
            },
            set: function (anchorX) {
                var parentWidth = null;
                this._anchorX = anchorX;
                if (anchorX.x === anchorX.y) {
                    var widthFromAnchorToPosition = (anchorX.x - 0.5) * this._getParentWidth();
                    this.position = wd.Vector2.create(this._getParentPosition().x + widthFromAnchorToPosition, this.position.y);
                    return;
                }
                parentWidth = this._getParentWidth();
                this.position = wd.Vector2.create(this._getParentPosition().x + (anchorX.x + anchorX.y - 1) / 2 * parentWidth, this.position.y);
                this.width = parentWidth / this._getParentScale().x * (anchorX.y - anchorX.x) * this.scale.x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "anchorY", {
            get: function () {
                return this._anchorY;
            },
            set: function (anchorY) {
                var parentHeight = null;
                this._anchorY = anchorY;
                if (anchorY.x === anchorY.y) {
                    var heightFromAnchorToPosition = (anchorY.x - 0.5) * this._getParentHeight();
                    this.position = wd.Vector2.create(this.position.x, this._getParentPosition().y + heightFromAnchorToPosition);
                    return;
                }
                parentHeight = this._getParentHeight();
                this.position = wd.Vector2.create(this.position.x, this._getParentPosition().y + (anchorY.x + anchorY.y - 1) / 2 * parentHeight);
                this.height = parentHeight / this._getParentScale().y * (anchorY.y - anchorY.x) * this.scale.y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "width", {
            get: function () {
                return this._width * this.scale.x;
            },
            set: function (width) {
                if (width !== this._width) {
                    this._width = width;
                    wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.UI_WIDTH_CHANGE));
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "height", {
            get: function () {
                return this._height * this.scale.y;
            },
            set: function (height) {
                if (height !== this._height) {
                    this._height = height;
                    wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.UI_HEIGHT_CHANGE));
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "isTransform", {
            get: function () {
                return this.isTranslate || this.isRotate || this.isScale;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "isTranslate", {
            get: function () {
                return this._isTranslate;
            },
            set: function (isTranslate) {
                this._isTranslate = isTranslate;
                if (isTranslate) {
                    this.dirtyLocal = true;
                    wd.EventManager.broadcast(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.TRANSFORM_TRANSLATE));
                    this.setChildrenTransformState("isTranslate");
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "isRotate", {
            get: function () {
                return this._isRotate;
            },
            set: function (isRotate) {
                this._isRotate = isRotate;
                if (isRotate) {
                    this.dirtyLocal = true;
                    wd.EventManager.broadcast(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.TRANSFORM_ROTATE));
                    this.setChildrenTransformState("isRotate");
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "isScale", {
            get: function () {
                return this._isScale;
            },
            set: function (isScale) {
                this._isScale = isScale;
                if (isScale) {
                    this.dirtyLocal = true;
                    wd.EventManager.broadcast(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.TRANSFORM_SCALE));
                    this.setChildrenTransformState("isScale");
                }
            },
            enumerable: true,
            configurable: true
        });
        RectTransform.prototype.syncRotation = function () {
            if (this.dirtyRotation) {
                if (this.p_parent === null) {
                    this._rotationMatrix = this._localRotationMatrix.copy();
                }
                else {
                    this._rotationMatrix = this.p_parent.rotationMatrix.copy().multiply(this._localRotationMatrix);
                }
                this.children.forEach(function (child) {
                    child.dirtyRotation = true;
                });
            }
        };
        RectTransform.prototype.syncPositionAndScale = function () {
            if (this.dirtyLocal) {
                this._localToParentMatrix.setTS(this._localPosition, this._localScale);
                this.dirtyLocal = false;
                this.dirtyPositionAndScale = true;
            }
            if (this.dirtyPositionAndScale) {
                if (this.p_parent === null) {
                    this._localPositionAndScaleMatrix = this._localToParentMatrix.copy();
                }
                else {
                    this._localPositionAndScaleMatrix = this.p_parent.localPositionAndScaleMatrix.copy().multiply(this._localToParentMatrix);
                }
                this.dirtyLocal = false;
                this.children.forEach(function (child) {
                    child.dirtyPositionAndScale = true;
                });
            }
        };
        RectTransform.prototype.translate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 2) {
                translation = wd.Vector2.create(args[0], args[1]);
            }
            else {
                translation = args[0];
            }
            this.position = translation.add(this.position);
            return this;
        };
        RectTransform.prototype.rotate = function (angle) {
            var position = this.position;
            this.rotateAround(angle, position.x + this.pivot.x, position.y - this.pivot.y);
            this.dirtyRotation = true;
            this.isRotate = true;
            return this;
        };
        RectTransform.prototype.rotateAround = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = null, center = null, position = null, x = null, y = null;
            if (args.length === 2) {
                angle = args[0];
                center = args[1];
            }
            else {
                angle = args[0];
                center = wd.Vector2.create(args[1], args[2]);
            }
            x = center.x;
            y = center.y;
            this._translateInRotationMatrix(x, y);
            this._rotateAroundCanvasOriginPoint(angle);
            this._translateInRotationMatrix(-x, -y);
            return this;
        };
        RectTransform.prototype._translateInRotationMatrix = function (x, y) {
            this._localRotationMatrix.translate(x, y);
            return this;
        };
        RectTransform.prototype.resetPosition = function () {
            this.position = wd.Vector2.create(0, 0);
        };
        RectTransform.prototype.resetScale = function () {
            this.scale = wd.Vector2.create(1, 1);
        };
        RectTransform.prototype.resetRotation = function () {
            this._localRotationMatrix.setIdentity();
        };
        RectTransform.prototype.setChildrenTransform = function () {
            this.setChildrenTransformState("isTranslate");
            this.setChildrenTransformState("isRotate");
            this.setChildrenTransformState("isScale");
        };
        RectTransform.prototype._rotateAroundCanvasOriginPoint = function (angle) {
            this._localRotationMatrix.rotate(angle);
            this.dirtyRotation = true;
            return this;
        };
        RectTransform.prototype._getParentWidth = function () {
            if (this.p_parent === null) {
                return wd.DeviceManager.getInstance().view.width;
            }
            return this.p_parent.width;
        };
        RectTransform.prototype._getParentHeight = function () {
            if (this.p_parent === null) {
                return wd.DeviceManager.getInstance().view.height;
            }
            return this.p_parent.height;
        };
        RectTransform.prototype._getParentPosition = function () {
            if (this.p_parent === null) {
                var view = wd.DeviceManager.getInstance().view;
                return wd.Vector2.create(view.width / 2, view.height / 2);
            }
            return this.p_parent.position;
        };
        RectTransform.prototype._getParentScale = function () {
            if (this.p_parent === null) {
                return wd.Vector2.create(1, 1);
            }
            return this.p_parent.scale;
        };
        __decorate([
            wd.requireSetter(function (anchorX) {
                wd.assert(anchorX.x <= anchorX.y, wd.Log.info.FUNC_SHOULD("minX", "<= maxY"));
                wd.assert(anchorX.x >= 0 && anchorX.x <= 1, wd.Log.info.FUNC_SHOULD("minX", ">= 0 && <= 1"));
                wd.assert(anchorX.y >= 0 && anchorX.y <= 1, wd.Log.info.FUNC_SHOULD("maxX", ">= 0 && <= 1"));
            })
        ], RectTransform.prototype, "anchorX", null);
        __decorate([
            wd.requireSetter(function (anchorY) {
                wd.assert(anchorY.x <= anchorY.y, wd.Log.info.FUNC_SHOULD("minY", "<= maxY"));
                wd.assert(anchorY.x >= 0 && anchorY.x <= 1, wd.Log.info.FUNC_SHOULD("minY", ">= 0 && <= 1"));
                wd.assert(anchorY.y >= 0 && anchorY.y <= 1, wd.Log.info.FUNC_SHOULD("maxY", ">= 0 && <= 1"));
            })
        ], RectTransform.prototype, "anchorY", null);
        return RectTransform;
    }(wd.Transform));
    wd.RectTransform = RectTransform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ComponentContainer = (function () {
        function ComponentContainer() {
            this.list = wdCb.Collection.create();
        }
        ComponentContainer.prototype.addChild = function (component) {
            if (this.hasChild(component)) {
                return;
            }
            this.list.addChild(component);
        };
        ComponentContainer.prototype.removeChild = function (component) {
            this.list.removeChild(component);
        };
        ComponentContainer.prototype.hasChild = function (component) {
            return this.list.hasChild(component);
        };
        return ComponentContainer;
    }());
    wd.ComponentContainer = ComponentContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionManager = (function (_super) {
        __extends(ActionManager, _super);
        function ActionManager() {
            _super.apply(this, arguments);
        }
        ActionManager.create = function () {
            var obj = new this();
            return obj;
        };
        ActionManager.prototype.update = function (elapsedTime) {
            var removeQueue = [];
            this.list.forEach(function (child) {
                if (child.isFinish) {
                    removeQueue.push(child);
                    return;
                }
                if (child.isStop || child.isPause) {
                    return;
                }
                child.update(elapsedTime);
            });
            removeQueue.forEach(function (child) {
                child.entityObject.removeComponent(child);
            });
        };
        return ActionManager;
    }(wd.ComponentContainer));
    wd.ActionManager = ActionManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIManager = (function (_super) {
        __extends(UIManager, _super);
        function UIManager(uiObject) {
            _super.call(this);
            this._uiObject = null;
            this._uiObject = uiObject;
        }
        UIManager.create = function (uiObject) {
            var obj = new this(uiObject);
            return obj;
        };
        UIManager.prototype.update = function (elapsedTime) {
            if (this.list.getCount() === 0) {
                return;
            }
            if (this._isDirty()) {
                this.list.forEach(function (ui) {
                    ui.update(elapsedTime);
                });
            }
        };
        UIManager.prototype._isDirty = function () {
            return this._uiObject.getComponent(wd.UIRenderer).state === wd.EUIRendererState.DIRTY;
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.list.getCount() <= 1, wd.Log.info.FUNC_SHOULD("only contain one ui component"));
            })
        ], UIManager.prototype, "update", null);
        return UIManager;
    }(wd.ComponentContainer));
    wd.UIManager = UIManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightManager = (function () {
        function LightManager() {
            this._lights = wdCb.Hash.create();
        }
        LightManager.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(LightManager.prototype, "ambientLight", {
            get: function () {
                return this._lights.getChild(wd.AmbientLight.type);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightManager.prototype, "directionLights", {
            get: function () {
                return this._lights.getChild(wd.DirectionLight.type);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightManager.prototype, "pointLights", {
            get: function () {
                return this._lights.getChild(wd.PointLight.type);
            },
            enumerable: true,
            configurable: true
        });
        LightManager.prototype.addChild = function (light) {
            if (light.hasComponent(wd.AmbientLight)) {
                this._lights.addChild(wd.AmbientLight.type, light);
            }
            else if (light.hasComponent(wd.DirectionLight)) {
                this._lights.appendChild(wd.DirectionLight.type, light);
            }
            else if (light.hasComponent(wd.PointLight)) {
                this._lights.appendChild(wd.PointLight.type, light);
            }
            else {
                wd.Log.error(true, wd.Log.info.FUNC_INVALID("light"));
            }
        };
        return LightManager;
    }());
    wd.LightManager = LightManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Animation = (function (_super) {
        __extends(Animation, _super);
        function Animation() {
            _super.apply(this, arguments);
            this.isFrameChange = false;
            this.state = EAnimationState.DEFAULT;
            this.pauseTime = null;
            this.resumeTime = null;
            this._isResume = false;
        }
        Object.defineProperty(Animation.prototype, "isStart", {
            get: function () {
                return this.state === EAnimationState.RUN;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Animation.prototype, "isStop", {
            get: function () {
                return this.state === EAnimationState.STOP;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Animation.prototype, "isPause", {
            get: function () {
                return this.state === EAnimationState.PAUSE;
            },
            enumerable: true,
            configurable: true
        });
        Animation.prototype.pause = function () {
            this.state = EAnimationState.PAUSE;
            this.pauseTime = this.getPauseTime();
        };
        Animation.prototype.resume = function () {
            this.state = EAnimationState.RUN;
            this._isResume = true;
            this.resumeTime = this.getResumeTime();
        };
        Animation.prototype.stop = function () {
            this.state = EAnimationState.STOP;
        };
        Animation.prototype.update = function (elapsedTime) {
            if (this.state === EAnimationState.DEFAULT || this.isStop) {
                return;
            }
            if (this.isPause) {
                this.handleWhenPause(elapsedTime);
                return;
            }
            if (this._isResume) {
                this._isResume = false;
                this.continueFromPausePoint(elapsedTime);
            }
            this.handleBeforeJudgeWhetherCurrentFrameFinish(elapsedTime);
            if (this.isCurrentFrameFinish(elapsedTime)) {
                this.handleWhenCurrentFrameFinish(elapsedTime);
            }
            else {
                this.isFrameChange = false;
            }
            this.computeInterpolation(elapsedTime);
            this.updateTargets();
        };
        return Animation;
    }(wd.Component));
    wd.Animation = Animation;
    (function (EAnimationState) {
        EAnimationState[EAnimationState["DEFAULT"] = 0] = "DEFAULT";
        EAnimationState[EAnimationState["RUN"] = 1] = "RUN";
        EAnimationState[EAnimationState["STOP"] = 2] = "STOP";
        EAnimationState[EAnimationState["PAUSE"] = 3] = "PAUSE";
    })(wd.EAnimationState || (wd.EAnimationState = {}));
    var EAnimationState = wd.EAnimationState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphAnimation = (function (_super) {
        __extends(MorphAnimation, _super);
        function MorphAnimation() {
            _super.apply(this, arguments);
            this.interpolation = 0;
            this.currentFrame = 0;
            this.nextFrame = 1;
            this.duration = null;
            this.fps = null;
            this.currentAnimName = null;
            this._oldTime = 0;
            this._frameCount = null;
            this._isStartFromStop = false;
        }
        MorphAnimation.create = function () {
            var obj = new this();
            return obj;
        };
        MorphAnimation.prototype.init = function () {
        };
        MorphAnimation.prototype.dispose = function () {
        };
        MorphAnimation.prototype.play = function (animName, fps) {
            var geometry = this.entityObject.getComponent(wd.ModelGeometry);
            this.currentAnimName = animName;
            this.fps = fps;
            this.duration = 1.0 / fps * 1000;
            this._frameCount = geometry.morphTargets.getChild(animName).getCount();
            this._start();
        };
        MorphAnimation.prototype.getPauseTime = function () {
            return wd.Director.getInstance().elapsed;
        };
        MorphAnimation.prototype.getResumeTime = function () {
            return this._oldTime;
        };
        MorphAnimation.prototype.handleWhenPause = function (elapsedTime) {
            this._oldTime = elapsedTime;
        };
        MorphAnimation.prototype.handleWhenCurrentFrameFinish = function (elapsedTime) {
            this.isFrameChange = true;
            this._oldTime = this._floor(elapsedTime);
            this.currentFrame = this.nextFrame;
            this.nextFrame++;
            if (this.nextFrame >= this._frameCount) {
                this.nextFrame = 0;
            }
        };
        MorphAnimation.prototype.handleBeforeJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
            if (this._isStartFromStop) {
                this._isStartFromStop = false;
                this._resetAnim(elapsedTime);
            }
        };
        MorphAnimation.prototype.isCurrentFrameFinish = function (elapsedTime) {
            return elapsedTime - this._oldTime > this.duration;
        };
        MorphAnimation.prototype.computeInterpolation = function (elapsedTime) {
            this.interpolation = this.fps * (elapsedTime - this._oldTime) / 1000;
        };
        MorphAnimation.prototype.updateTargets = function () {
        };
        MorphAnimation.prototype.continueFromPausePoint = function (elapsedTime) {
            this._oldTime = elapsedTime - (this.resumeTime - this.pauseTime) % this.duration;
        };
        MorphAnimation.prototype._start = function () {
            this._oldTime = 0;
            this.currentFrame = 0;
            this.nextFrame = this.currentFrame + 1;
            if (this.isStop) {
                this._isStartFromStop = true;
            }
            this.state = wd.EAnimationState.RUN;
        };
        MorphAnimation.prototype._floor = function (time) {
            return time - time % this.duration;
        };
        MorphAnimation.prototype._resetAnim = function (elapsedTime) {
            this._oldTime = elapsedTime;
        };
        __decorate([
            wd.require(function (animName, fps) {
                var geometry = this.entityObject.getComponent(wd.ModelGeometry);
                wd.assert(geometry, wd.Log.info.FUNC_SHOULD("this entityObject", "add ModelGeometry component"));
                wd.assert(geometry.morphTargets.getChild(animName) && geometry.morphTargets.getChild(animName).getCount() > 0, wd.Log.info.FUNC_NOT_EXIST("\"" + animName + "\" animation"));
            }),
            wd.ensure(function () {
                wd.assert(this._frameCount > 1, wd.Log.info.FUNC_SHOULD("frames.count", "> 1"));
            })
        ], MorphAnimation.prototype, "play", null);
        return MorphAnimation;
    }(wd.Animation));
    wd.MorphAnimation = MorphAnimation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArticulatedAnimation = (function (_super) {
        __extends(ArticulatedAnimation, _super);
        function ArticulatedAnimation() {
            _super.apply(this, arguments);
            this.data = null;
            this._interpolation = null;
            this._currentFrame = null;
            this._currentAnimName = null;
            this._beginElapsedTimeOfFirstFrame = null;
            this._lastFrameTime = null;
            this._pauseDuration = null;
            this._frameCount = null;
            this._currentAnimData = null;
            this._currentFrameData = null;
            this._prevFrameData = null;
            this._prevEndFrameDataMap = wdCb.Hash.create();
            this._startFrameDataMap = wdCb.Hash.create();
        }
        ArticulatedAnimation.create = function () {
            var obj = new this();
            return obj;
        };
        ArticulatedAnimation.prototype.init = function () {
        };
        ArticulatedAnimation.prototype.dispose = function () {
        };
        ArticulatedAnimation.prototype.play = function (animName) {
            this._currentAnimName = animName;
            this._currentAnimData = this.data.getChild(animName);
            this._resetAnim();
            this._saveStartFrameData();
            this._frameCount = this._currentAnimData.getCount();
            this.state = wd.EAnimationState.RUN;
        };
        ArticulatedAnimation.prototype.getPauseTime = function () {
            return this._getCurrentTime();
        };
        ArticulatedAnimation.prototype.getResumeTime = function () {
            return this._getCurrentTime();
        };
        ArticulatedAnimation.prototype.handleWhenPause = function (elapsedTime) {
        };
        ArticulatedAnimation.prototype.handleWhenCurrentFrameFinish = function (elapsedTime) {
            this._updateCurrentFrame(elapsedTime);
            this._updateTargetsToBeLastEndFrameData();
            this._saveStartFrameData();
        };
        ArticulatedAnimation.prototype.handleBeforeJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
        };
        ArticulatedAnimation.prototype.isCurrentFrameFinish = function (elapsedTime) {
            return elapsedTime - this._beginElapsedTimeOfFirstFrame - this._pauseDuration > this._currentFrameData.time;
        };
        ArticulatedAnimation.prototype.computeInterpolation = function (elapsedTime) {
            switch (this._currentFrameData.interpolationMethod) {
                case wd.EKeyFrameInterpolation.LINEAR:
                    if (this._currentFrameData.time - this._lastFrameTime === 0) {
                        this._interpolation = 1;
                    }
                    else {
                        this._interpolation = (elapsedTime - this._beginElapsedTimeOfFirstFrame - this._pauseDuration - this._lastFrameTime) / (this._currentFrameData.time - this._lastFrameTime);
                    }
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("interpolationMethod:" + this._currentFrameData.interpolationMethod));
                    break;
            }
        };
        ArticulatedAnimation.prototype.updateTargets = function () {
            var transform = this.entityObject.transform, interpolation = this._interpolation, isFrameChange = this.isFrameChange, prevEndFrameDataMap = this._prevEndFrameDataMap, startFrameDataMap = this._startFrameDataMap;
            this._currentFrameData.targets.forEach(function (target) {
                var endFrameData = target.data, startFrameData = startFrameDataMap.getChild(target.target);
                switch (target.target) {
                    case wd.EArticulatedAnimationTarget.TRANSLATION:
                        transform.position = wd.Vector3.create().lerp(startFrameData, endFrameData, interpolation);
                        break;
                    case wd.EArticulatedAnimationTarget.ROTATION:
                        transform.rotation = wd.Quaternion.create().slerp(startFrameData, endFrameData, interpolation);
                        break;
                    case wd.EArticulatedAnimationTarget.SCALE:
                        transform.scale = wd.Vector3.create().lerp(startFrameData, endFrameData, interpolation);
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target.target));
                        break;
                }
                if (isFrameChange || !prevEndFrameDataMap.hasChild(target.target)) {
                    prevEndFrameDataMap.addChild(target.target, endFrameData);
                }
            });
        };
        ArticulatedAnimation.prototype.continueFromPausePoint = function (elapsedTime) {
            this._pauseDuration += this.resumeTime - this.pauseTime;
        };
        ArticulatedAnimation.prototype._resetAnim = function () {
            this._beginElapsedTimeOfFirstFrame = this._getCurrentTime();
            this._lastFrameTime = 0;
            this._pauseDuration = 0;
            this._currentFrame = 0;
            this._prevFrameData = null;
            this._updateCurrentFrameData();
            this._prevEndFrameDataMap.removeAllChildren();
            this._startFrameDataMap.removeAllChildren();
        };
        ArticulatedAnimation.prototype._getCurrentTime = function () {
            return wd.Director.getInstance().elapsed;
        };
        ArticulatedAnimation.prototype._saveStartFrameData = function () {
            var startFrameDataMap = this._startFrameDataMap, transform = this.entityObject.transform;
            this._currentFrameData.targets.forEach(function (target) {
                var startFrameData = null;
                switch (target.target) {
                    case wd.EArticulatedAnimationTarget.TRANSLATION:
                        startFrameData = transform.position;
                        break;
                    case wd.EArticulatedAnimationTarget.ROTATION:
                        startFrameData = transform.rotation;
                        break;
                    case wd.EArticulatedAnimationTarget.SCALE:
                        startFrameData = transform.scale;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target.target));
                        break;
                }
                startFrameDataMap.addChild(target.target, startFrameData);
            });
        };
        ArticulatedAnimation.prototype._updateCurrentFrameData = function () {
            this._currentFrameData = this._currentAnimData.getChild(this._currentFrame);
        };
        ArticulatedAnimation.prototype._updateCurrentFrame = function (elapsedTime) {
            this.isFrameChange = true;
            this._currentFrame++;
            if (this._currentFrame >= this._frameCount) {
                this._currentFrame = 0;
                this._beginElapsedTimeOfFirstFrame = elapsedTime - elapsedTime % this._currentAnimData.getChild(this._frameCount - 1).time;
                this._lastFrameTime = 0;
            }
            else {
                this._lastFrameTime = this._currentAnimData.getChild(this._currentFrame - 1).time;
            }
            this._prevFrameData = this._currentFrameData;
            this._updateCurrentFrameData();
        };
        ArticulatedAnimation.prototype._updateTargetsToBeLastEndFrameData = function () {
            var self = this, transform = this.entityObject.transform, prevEndFrameDataMap = this._prevEndFrameDataMap;
            this._prevFrameData.targets.forEach(function (target) {
                var prevEndFrameData = prevEndFrameDataMap.hasChild(target.target) ? prevEndFrameDataMap.getChild(target.target) : target.data;
                self._setTargetData(target.target, transform, prevEndFrameData);
            });
        };
        ArticulatedAnimation.prototype._setTargetData = function (target, transform, data) {
            switch (target) {
                case wd.EArticulatedAnimationTarget.TRANSLATION:
                    transform.position = data;
                    break;
                case wd.EArticulatedAnimationTarget.ROTATION:
                    transform.rotation = data;
                    break;
                case wd.EArticulatedAnimationTarget.SCALE:
                    transform.scale = data;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target));
                    break;
            }
        };
        __decorate([
            wd.require(function (animName) {
                this.data.getChild(animName).forEach(function (data) {
                    wd.assert(data.time >= 0, wd.Log.info.FUNC_SHOULD("time", ">= 0"));
                    wd.assert(data.targets.getCount() > 0, wd.Log.info.FUNC_SHOULD("ArticulatedAnimationFrameData->targets.getCount()", "> 0"));
                    data.targets.forEach(function (target) {
                        var data = target.data;
                        switch (target.target) {
                            case wd.EArticulatedAnimationTarget.TRANSLATION:
                                wd.assert(data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget === TRANSLATION, its data", "Vector3"));
                                break;
                            case wd.EArticulatedAnimationTarget.ROTATION:
                                wd.assert(data instanceof wd.Quaternion, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget ===ROTATION, its data", "Quaternion"));
                                break;
                            case wd.EArticulatedAnimationTarget.SCALE:
                                wd.assert(data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget === SCALE, its data", "Vector3"));
                                break;
                            default:
                                wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target.target));
                                break;
                        }
                    });
                });
            })
        ], ArticulatedAnimation.prototype, "play", null);
        __decorate([
            wd.require(function () {
                wd.assert(this._currentFrameData !== null, wd.Log.info.FUNC_SHOULD("set currentFrameData"));
            })
        ], ArticulatedAnimation.prototype, "_saveStartFrameData", null);
        __decorate([
            wd.require(function () {
                wd.assert(this._prevFrameData !== null, wd.Log.info.FUNC_SHOULD_NOT("prevFrameData", "be null"));
            })
        ], ArticulatedAnimation.prototype, "_updateTargetsToBeLastEndFrameData", null);
        return ArticulatedAnimation;
    }(wd.Animation));
    wd.ArticulatedAnimation = ArticulatedAnimation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EKeyFrameInterpolation) {
        EKeyFrameInterpolation[EKeyFrameInterpolation["LINEAR"] = 0] = "LINEAR";
    })(wd.EKeyFrameInterpolation || (wd.EKeyFrameInterpolation = {}));
    var EKeyFrameInterpolation = wd.EKeyFrameInterpolation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EArticulatedAnimationTarget) {
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["TRANSLATION"] = "position"] = "TRANSLATION";
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["ROTATION"] = "rotation"] = "ROTATION";
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["SCALE"] = "scale"] = "SCALE";
    })(wd.EArticulatedAnimationTarget || (wd.EArticulatedAnimationTarget = {}));
    var EArticulatedAnimationTarget = wd.EArticulatedAnimationTarget;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Geometry = (function (_super) {
        __extends(Geometry, _super);
        function Geometry() {
            _super.apply(this, arguments);
            this._material = null;
            this.buffers = null;
            this.drawMode = wd.EDrawMode.TRIANGLES;
        }
        Object.defineProperty(Geometry.prototype, "material", {
            get: function () {
                return this._material;
            },
            set: function (material) {
                if (!wd.JudgeUtils.isEqual(material, this._material)) {
                    this._material = material;
                    this._material.geometry = this;
                    wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.MATERIAL_CHANGE));
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Geometry.prototype, "geometryData", {
            get: function () {
                return this.buffers.geometryData;
            },
            enumerable: true,
            configurable: true
        });
        Geometry.prototype.init = function () {
            var geometryData = null, _a = this.computeData(), vertices = _a.vertices, faces = _a.faces, texCoords = _a.texCoords, colors = _a.colors, morphTargets = _a.morphTargets;
            this.buffers = this.createBufferContainer();
            geometryData = this.createGeometryData(vertices, faces, texCoords, colors, morphTargets);
            this.buffers.geometryData = geometryData;
            this.buffers.init();
            this._material.init();
            this.computeNormals();
        };
        Geometry.prototype.hasFaceNormals = function () {
            return this.buffers.geometryData.hasFaceNormals();
        };
        Geometry.prototype.hasVertexNormals = function () {
            return this.buffers.geometryData.hasVertexNormals();
        };
        Geometry.prototype.isSmoothShading = function () {
            return this._material.shading === wd.EShading.SMOOTH;
        };
        Geometry.prototype.dispose = function () {
            this.buffers.dispose();
            this._material.dispose();
        };
        Geometry.prototype.computeFaceNormals = function () {
            this.buffers.geometryData.computeFaceNormals();
        };
        Geometry.prototype.computeVertexNormals = function () {
            this.buffers.geometryData.computeVertexNormals();
        };
        Geometry.prototype.computeNormals = function () {
            if (this.isSmoothShading()) {
                if (!this.hasVertexNormals()) {
                    this.computeVertexNormals();
                }
            }
            else {
                if (!this.hasFaceNormals()) {
                    this.computeFaceNormals();
                }
            }
        };
        Geometry.prototype.createBufferContainer = function () {
            return wd.CommonBufferContainer.create(this.entityObject);
        };
        Geometry.prototype.createGeometryData = function (vertices, faces, texCoords, colors, morphTargets) {
            return this.createCommonGeometryData(vertices, faces, texCoords, colors);
        };
        Geometry.prototype.createCommonGeometryData = function (vertices, faces, texCoords, colors) {
            var geometryData = wd.CommonGeometryData.create(this);
            geometryData.vertices = vertices;
            geometryData.faces = faces;
            geometryData.texCoords = texCoords;
            geometryData.colors = colors;
            return geometryData;
        };
        __decorate([
            wd.ensure(function () {
                var geometryData = this.buffers.geometryData;
                wd.assert(geometryData.vertices.length > 0, wd.Log.info.FUNC_MUST("vertices.count", "> 0"));
                wd.assert(geometryData.faces.length * 3 === geometryData.indices.length, wd.Log.info.FUNC_SHOULD("faces.count", "be " + geometryData.indices.length / 3 + ", but actual is " + geometryData.faces.length));
            })
        ], Geometry.prototype, "init", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "hasFaceNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "hasVertexNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "computeFaceNormals", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "computeNormals", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "createBufferContainer", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "createGeometryData", null);
        return Geometry;
    }(wd.Component));
    wd.Geometry = Geometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GeometryUtils = (function () {
        function GeometryUtils() {
        }
        GeometryUtils.convertToFaces = function (indices, normals) {
            var hasNormals = this.hasData(normals), faces = [];
            for (var i = 0, len = indices.length; i < len; i += 3) {
                var a = indices[i], b = indices[i + 1], c = indices[i + 2], face = wd.Face3.create(a, b, c);
                if (hasNormals) {
                    face.vertexNormals.addChildren([
                        this.getThreeComponent(normals, a),
                        this.getThreeComponent(normals, b),
                        this.getThreeComponent(normals, c)
                    ]);
                    face.faceNormal = face.vertexNormals.getChild(0).copy();
                }
                faces.push(face);
            }
            return faces;
        };
        GeometryUtils.hasData = function (data) {
            return data && ((data.length && data.length > 0) || (data.getCount && data.getCount() > 0));
        };
        GeometryUtils.getThreeComponent = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        GeometryUtils.iterateThreeComponent = function (dataArr, iterator) {
            for (var i = 0, len = dataArr.length; i < len; i += 3) {
                iterator(wd.Vector3.create(dataArr[i], dataArr[i + 1], dataArr[i + 2]));
            }
        };
        GeometryUtils.setThreeComponent = function (targetData, sourceData, index) {
            if (sourceData instanceof wd.Vector3) {
                targetData[index * 3] = sourceData.x;
                targetData[index * 3 + 1] = sourceData.y;
                targetData[index * 3 + 2] = sourceData.z;
            }
            else {
                targetData[index * 3] = sourceData[0];
                targetData[index * 3 + 1] = sourceData[1];
                targetData[index * 3 + 2] = sourceData[2];
            }
        };
        __decorate([
            wd.require(function (data) {
                if (data) {
                    wd.assert(data instanceof wdCb.Collection || data instanceof wdCb.Hash || wd.JudgeUtils.isArray(data), wd.Log.info.FUNC_SHOULD("data", "be Array or Collection or Hash"));
                }
            })
        ], GeometryUtils, "hasData", null);
        __decorate([
            wd.require(function (dataArr, iterator) {
                wd.assert(dataArr.length % 3 === 0, wd.Log.info.FUNC_SHOULD("dataArr.length", "times of three"));
            })
        ], GeometryUtils, "iterateThreeComponent", null);
        return GeometryUtils;
    }());
    wd.GeometryUtils = GeometryUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomGeometry = (function (_super) {
        __extends(CustomGeometry, _super);
        function CustomGeometry() {
            _super.apply(this, arguments);
            this._vertices = [];
            this._texCoords = [];
            this._colors = [];
            this._indices = [];
            this._normals = [];
        }
        CustomGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        Object.defineProperty(CustomGeometry.prototype, "vertices", {
            get: function () {
                return this._vertices;
            },
            set: function (vertices) {
                this._vertices = vertices;
                if (this.buffers) {
                    this.buffers.geometryData.vertices = vertices;
                    this.buffers.removeCache(wd.EBufferDataType.VERTICE);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "texCoords", {
            get: function () {
                return this._texCoords;
            },
            set: function (texCoords) {
                this._texCoords = texCoords;
                if (this.buffers) {
                    this.buffers.geometryData.texCoords = texCoords;
                    this.buffers.removeCache(wd.EBufferDataType.TEXCOORD);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "colors", {
            get: function () {
                return this._colors;
            },
            set: function (colors) {
                this._colors = colors;
                if (this.buffers) {
                    this.buffers.geometryData.colors = colors;
                    this.buffers.removeCache(wd.EBufferDataType.COLOR);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "indices", {
            get: function () {
                return this._indices;
            },
            set: function (indices) {
                this._indices = indices;
                if (this.buffers) {
                    this.buffers.geometryData.faces = wd.GeometryUtils.convertToFaces(indices, this.normals);
                    this.buffers.removeCache(wd.EBufferDataType.INDICE);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "normals", {
            get: function () {
                return this._normals;
            },
            set: function (normals) {
                this._normals = normals;
                if (this.buffers) {
                    this.buffers.geometryData.faces = wd.GeometryUtils.convertToFaces(this.indices, normals);
                    this.buffers.removeCache(wd.EBufferDataType.NORMAL);
                }
            },
            enumerable: true,
            configurable: true
        });
        CustomGeometry.prototype.computeData = function () {
            return {
                vertices: this.vertices,
                faces: wd.GeometryUtils.convertToFaces(this.indices, this.normals),
                texCoords: this.texCoords,
                colors: this.colors
            };
        };
        return CustomGeometry;
    }(wd.Geometry));
    wd.CustomGeometry = CustomGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ModelGeometry = (function (_super) {
        __extends(ModelGeometry, _super);
        function ModelGeometry() {
            _super.apply(this, arguments);
            this.vertices = null;
            this.colors = null;
            this.texCoords = null;
            this.faces = null;
            this.morphTargets = null;
            this.morphFaceNormals = wdCb.Hash.create();
            this.morphVertexNormals = wdCb.Hash.create();
        }
        ModelGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        ModelGeometry.prototype.hasAnimation = function () {
            return this._hasMorphTargets() && (this.entityObject && this.entityObject.hasComponent(wd.MorphAnimation));
        };
        ModelGeometry.prototype.hasMorphFaceNormals = function () {
            return this.buffers.geometryData.hasMorphFaceNormals();
        };
        ModelGeometry.prototype.hasMorphVertexNormals = function () {
            return this.buffers.geometryData.hasMorphVertexNormals();
        };
        ModelGeometry.prototype.computeMorphNormals = function () {
            this.buffers.geometryData.computeMorphNormals();
        };
        ModelGeometry.prototype.computeNormals = function () {
            _super.prototype.computeNormals.call(this);
            if (this._hasMorphTargets()) {
                if (this.isSmoothShading()) {
                    if (!this.hasMorphVertexNormals()) {
                        this.computeMorphNormals();
                    }
                }
                else {
                    if (!this.hasMorphFaceNormals()) {
                        this.computeMorphNormals();
                    }
                }
            }
        };
        ModelGeometry.prototype.computeData = function () {
            return {
                vertices: this.vertices,
                faces: this.faces,
                texCoords: this.texCoords,
                colors: this.colors,
                morphTargets: this.morphTargets
            };
        };
        ModelGeometry.prototype.createBufferContainer = function () {
            if (this.hasAnimation()) {
                return wd.MorphBufferContainer.create(this.entityObject, this.entityObject.getComponent(wd.MorphAnimation));
            }
            return wd.CommonBufferContainer.create(this.entityObject);
        };
        ModelGeometry.prototype.createGeometryData = function (vertices, faces, texCoords, colors, morphTargets) {
            if (this.hasAnimation()) {
                var geometryData = wd.MorphGeometryData.create(this);
                geometryData.vertices = vertices;
                geometryData.faces = faces;
                geometryData.texCoords = texCoords;
                geometryData.colors = colors;
                geometryData.morphTargets = morphTargets;
                return geometryData;
            }
            return this.createCommonGeometryData(vertices, faces, texCoords, colors);
        };
        ModelGeometry.prototype._hasMorphTargets = function () {
            return this.morphTargets && this.morphTargets.getCount() > 0;
        };
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "hasMorphFaceNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "hasMorphVertexNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "computeMorphNormals", null);
        __decorate([
            wd.require(function () {
                if (this.hasAnimation()) {
                    wd.assert(this.entityObject.getComponent(wd.MorphAnimation), wd.Log.info.FUNC_SHOULD("entityObject with ModelGeometry", "add MorphAnimation component"));
                }
            })
        ], ModelGeometry.prototype, "createBufferContainer", null);
        return ModelGeometry;
    }(wd.Geometry));
    wd.ModelGeometry = ModelGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxGeometry = (function (_super) {
        __extends(BoxGeometry, _super);
        function BoxGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
            this.depth = null;
            this.widthSegments = 1;
            this.heightSegments = 1;
            this.depthSegments = 1;
        }
        BoxGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        BoxGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, depth = this.depth, widthSegments = this.widthSegments, heightSegments = this.heightSegments, depthSegments = this.depthSegments, sides = {
                FRONT: 0,
                BACK: 1,
                TOP: 2,
                BOTTOM: 3,
                RIGHT: 4,
                LEFT: 5
            };
            var faceAxes = [
                [0, 1, 3],
                [4, 5, 7],
                [3, 2, 6],
                [1, 0, 4],
                [1, 4, 2],
                [5, 0, 6]
            ];
            var faceNormals = [
                [0, 0, 1],
                [0, 0, -1],
                [0, 1, 0],
                [0, -1, 0],
                [1, 0, 0],
                [-1, 0, 0]
            ];
            var corners = [
                wd.Vector3.create(-width, -height, depth),
                wd.Vector3.create(width, -height, depth),
                wd.Vector3.create(width, height, depth),
                wd.Vector3.create(-width, height, depth),
                wd.Vector3.create(width, -height, -depth),
                wd.Vector3.create(-width, -height, -depth),
                wd.Vector3.create(-width, height, -depth),
                wd.Vector3.create(width, height, -depth)
            ];
            var vertices = [];
            var normals = [];
            var texCoords = [];
            var indices = [];
            function generateFace(side, uSegments, vSegments) {
                var x, y, z, u, v;
                var i, j;
                var offset = vertices.length / 3;
                for (i = 0; i <= uSegments; i++) {
                    for (j = 0; j <= vSegments; j++) {
                        var temp1 = wd.Vector3.create();
                        var temp2 = wd.Vector3.create();
                        var temp3 = wd.Vector3.create();
                        var r = wd.Vector3.create();
                        temp1.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][1]], i / uSegments);
                        temp2.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][2]], j / vSegments);
                        temp3.sub2(temp2, corners[faceAxes[side][0]]);
                        r.add2(temp1, temp3);
                        u = i / uSegments;
                        v = j / vSegments;
                        vertices.push(r.x, r.y, r.z);
                        normals.push(faceNormals[side][0], faceNormals[side][1], faceNormals[side][2]);
                        texCoords.push(u, v);
                        if ((i < uSegments) && (j < vSegments)) {
                            indices.push(offset + j + i * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1), offset + j + i * (uSegments + 1) + 1);
                            indices.push(offset + j + (i + 1) * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1) + 1, offset + j + i * (uSegments + 1) + 1);
                        }
                    }
                }
            }
            generateFace(sides.FRONT, widthSegments, heightSegments);
            generateFace(sides.BACK, widthSegments, heightSegments);
            generateFace(sides.TOP, widthSegments, depthSegments);
            generateFace(sides.BOTTOM, widthSegments, depthSegments);
            generateFace(sides.RIGHT, depthSegments, heightSegments);
            generateFace(sides.LEFT, depthSegments, heightSegments);
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return BoxGeometry;
    }(wd.Geometry));
    wd.BoxGeometry = BoxGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectGeometry = (function (_super) {
        __extends(RectGeometry, _super);
        function RectGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
        }
        RectGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        RectGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, left = -width / 2, right = width / 2, up = height / 2, down = -height / 2, vertices = [], texCoords = [], indices = [], normals = [];
            vertices = [
                right, up, 0,
                left, up, 0,
                left, down, 0,
                right, down, 0
            ];
            indices = [
                0, 1, 2, 0, 2, 3
            ];
            texCoords = [
                1.0, 1.0,
                0.0, 1.0,
                0.0, 0.0,
                1.0, 0.0
            ];
            normals = [
                0, 0, 1,
                0, 0, 1,
                0, 0, 1,
                0, 0, 1
            ];
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return RectGeometry;
    }(wd.Geometry));
    wd.RectGeometry = RectGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PlaneGeometry = (function (_super) {
        __extends(PlaneGeometry, _super);
        function PlaneGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
            this.widthSegments = 1;
            this.heightSegments = 1;
        }
        PlaneGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        PlaneGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, widthSegments = this.widthSegments, heightSegments = this.heightSegments, x = null, y = null, z = null, u = null, v = null, i = null, j = null, vertices = [], texCoords = [], normals = [], indices = [];
            for (i = 0; i <= widthSegments; i++) {
                for (j = 0; j <= heightSegments; j++) {
                    x = -width + 2.0 * width * i / widthSegments;
                    y = 0.0;
                    z = -(-height + 2.0 * height * j / heightSegments);
                    u = i / widthSegments;
                    v = j / heightSegments;
                    vertices.push(x, y, z);
                    normals.push(0.0, 1.0, 0.0);
                    texCoords.push(u, v);
                    if ((i < widthSegments) && (j < heightSegments)) {
                        indices.push(j + i * (widthSegments + 1), j + (i + 1) * (widthSegments + 1), j + i * (widthSegments + 1) + 1);
                        indices.push(j + (i + 1) * (widthSegments + 1), j + (i + 1) * (widthSegments + 1) + 1, j + i * (widthSegments + 1) + 1);
                    }
                }
            }
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return PlaneGeometry;
    }(wd.Geometry));
    wd.PlaneGeometry = PlaneGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ESphereDrawMode) {
        ESphereDrawMode[ESphereDrawMode["LATITUDELONGTITUDE"] = 0] = "LATITUDELONGTITUDE";
    })(wd.ESphereDrawMode || (wd.ESphereDrawMode = {}));
    var ESphereDrawMode = wd.ESphereDrawMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereGeometry = (function (_super) {
        __extends(SphereGeometry, _super);
        function SphereGeometry() {
            _super.apply(this, arguments);
            this.radius = 1;
            this.sphereDrawMode = wd.ESphereDrawMode.LATITUDELONGTITUDE;
            this.segments = 20;
        }
        SphereGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        SphereGeometry.prototype.computeData = function () {
            var radius = this.radius, sphereDrawMode = this.sphereDrawMode, segments = this.segments, data = null;
            if (sphereDrawMode === wd.ESphereDrawMode.LATITUDELONGTITUDE) {
                var _a = GetDataByLatitudeLongtitude.create(radius, segments).getData(), vertices = _a.vertices, indices = _a.indices, normals = _a.normals, texCoords = _a.texCoords;
                return {
                    vertices: vertices,
                    faces: wd.GeometryUtils.convertToFaces(indices, normals),
                    texCoords: texCoords
                };
            }
            return data;
        };
        return SphereGeometry;
    }(wd.Geometry));
    wd.SphereGeometry = SphereGeometry;
    var GetDataByLatitudeLongtitude = (function () {
        function GetDataByLatitudeLongtitude(radius, bands) {
            this._radius = null;
            this._latitudeBands = null;
            this._longitudeBands = null;
            this._radius = radius;
            this._latitudeBands = bands;
            this._longitudeBands = bands;
        }
        GetDataByLatitudeLongtitude.create = function (radius, bands) {
            var geom = new this(radius, bands);
            return geom;
        };
        GetDataByLatitudeLongtitude.prototype.getData = function () {
            var vertices = [];
            var normals = [];
            var texCoords = [];
            var indices = [];
            for (var latNumber = 0; latNumber <= this._latitudeBands; latNumber++) {
                var theta = latNumber * Math.PI / this._latitudeBands;
                var sinTheta = Math.sin(theta);
                var cosTheta = Math.cos(theta);
                for (var longNumber = 0; longNumber <= this._longitudeBands; longNumber++) {
                    var phi = longNumber * 2 * Math.PI / this._longitudeBands;
                    var sinPhi = Math.sin(phi);
                    var cosPhi = Math.cos(phi);
                    var x = this._radius * cosPhi * sinTheta;
                    var y = this._radius * cosTheta;
                    var z = this._radius * sinPhi * sinTheta;
                    var u = 1 - (longNumber / this._longitudeBands);
                    var v = 1 - (latNumber / this._latitudeBands);
                    normals.push(x);
                    normals.push(y);
                    normals.push(z);
                    texCoords.push(u);
                    texCoords.push(v);
                    vertices.push(x);
                    vertices.push(y);
                    vertices.push(z);
                }
            }
            for (var latNumber = 0; latNumber < this._latitudeBands; latNumber++) {
                for (var longNumber = 0; longNumber < this._longitudeBands; longNumber++) {
                    var first = latNumber * (this._longitudeBands + 1) + longNumber;
                    var second = first + this._longitudeBands + 1;
                    indices.push(first + 1);
                    indices.push(second);
                    indices.push(first);
                    indices.push(first + 1);
                    indices.push(second + 1);
                    indices.push(second);
                }
            }
            return {
                vertices: vertices,
                indices: indices,
                normals: normals,
                texCoords: texCoords
            };
        };
        return GetDataByLatitudeLongtitude;
    }());
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TriangleGeometry = (function (_super) {
        __extends(TriangleGeometry, _super);
        function TriangleGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
        }
        TriangleGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        TriangleGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, left = -width / 2, right = width / 2, up = height / 2, down = -height / 2, vertices = [], texCoords = [], indices = [], normals = [];
            vertices = [
                0.0, up, 0,
                left, down, 0,
                right, down, 0
            ];
            indices = [
                0, 1, 2
            ];
            texCoords = [
                0.5, 1.0,
                0.0, 0.0,
                1.0, 0.0
            ];
            normals = [
                0, 0, 1,
                0, 0, 1,
                0, 0, 1
            ];
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return TriangleGeometry;
    }(wd.Geometry));
    wd.TriangleGeometry = TriangleGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GeometryData = (function () {
        function GeometryData(geometry) {
            this._vertices = null;
            this._faces = null;
            this._texCoords = null;
            this._colors = null;
            this._tangents = null;
            this.isTangentDirty = true;
            this.geometry = null;
            this._normalCache = null;
            this._normalFromFaceCache = null;
            this._normalFromVertexCache = null;
            this._indiceCache = null;
            this._normalDirty = true;
            this._indiceDirty = true;
            this.geometry = geometry;
        }
        Object.defineProperty(GeometryData.prototype, "vertices", {
            get: function () {
                return this._vertices;
            },
            set: function (vertices) {
                this._vertices = vertices;
                this.isTangentDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normals", {
            get: function () {
                var geometry = this.geometry;
                if (geometry.isSmoothShading()) {
                    if (!this.hasVertexNormals()) {
                        this.computeVertexNormals();
                    }
                    return this.normalsFromVertexNormals;
                }
                if (!this.hasFaceNormals()) {
                    this.computeFaceNormals();
                }
                return this.normalsFromFaceNormal;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normalsFromFaceNormal", {
            get: function () {
                var normals = null;
                if (!this.hasFaceNormals()) {
                    return [];
                }
                normals = [];
                this._faces.forEach(function (face) {
                    var normal = face.faceNormal;
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.aIndex);
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.bIndex);
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.cIndex);
                });
                this._fillEmptyData(normals);
                return normals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normalsFromVertexNormals", {
            get: function () {
                var normals = null;
                if (!this.hasVertexNormals()) {
                    return [];
                }
                normals = [];
                this._faces.forEach(function (face) {
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(0), face.aIndex);
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(1), face.bIndex);
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(2), face.cIndex);
                });
                this._fillEmptyData(normals);
                return normals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "indices", {
            get: function () {
                var indices = [];
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    indices.push(face.aIndex, face.bIndex, face.cIndex);
                }
                return indices;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "faces", {
            get: function () {
                return this._faces;
            },
            set: function (faces) {
                this._faces = faces;
                this.onChangeFace();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "texCoords", {
            get: function () {
                return this._texCoords;
            },
            set: function (texCoords) {
                this._texCoords = texCoords;
                this.isTangentDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "colors", {
            get: function () {
                return this._getColors(this._colors, this._vertices);
            },
            set: function (colors) {
                this._colors = colors;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "tangents", {
            get: function () {
                if (this.isTangentDirty) {
                    this.isTangentDirty = false;
                    this._tangents = this._calculateTangents(this._vertices, this.normals, this.texCoords, this.indices);
                }
                return this._tangents;
            },
            enumerable: true,
            configurable: true
        });
        GeometryData.prototype.computeFaceNormals = function () {
            var vertices = this._vertices;
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                face.faceNormal = this.computeFaceNormalsHelper(vertices, face.aIndex, face.bIndex, face.cIndex);
            }
        };
        GeometryData.prototype.computeVertexNormals = function () {
            var normals = null;
            if (!this.hasFaceNormals()) {
                this.computeFaceNormals();
            }
            normals = this.computeVertexNormalsHelper(this._vertices);
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                face.vertexNormals = wdCb.Collection.create([
                    normals[face.aIndex],
                    normals[face.bIndex],
                    normals[face.cIndex]
                ]);
            }
        };
        GeometryData.prototype.hasFaceNormals = function () {
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                if (!face.hasFaceNormal()) {
                    return false;
                }
            }
            return true;
        };
        GeometryData.prototype.hasVertexNormals = function () {
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                if (!face.hasVertexNormal()) {
                    return false;
                }
            }
            return true;
        };
        GeometryData.prototype.onChangeFace = function () {
            this.isTangentDirty = true;
            this._normalDirty = true;
            this._indiceDirty = true;
        };
        GeometryData.prototype.computeFaceNormalsHelper = function (vertices, aIndex, bIndex, cIndex) {
            var p0 = wd.GeometryUtils.getThreeComponent(vertices, aIndex), p1 = wd.GeometryUtils.getThreeComponent(vertices, bIndex), p2 = wd.GeometryUtils.getThreeComponent(vertices, cIndex), v0 = wd.Vector3.create().sub2(p2, p1), v1 = wd.Vector3.create().sub2(p0, p1);
            return wd.Vector3.create().cross(v0, v1).normalize();
        };
        GeometryData.prototype.computeVertexNormalsHelper = function (vertices) {
            var vl = vertices.length / 3, normals = null;
            normals = new Array(vl);
            for (var v = 0; v < vl; v++) {
                normals[v] = wd.Vector3.create();
            }
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                var faceNormal = null;
                faceNormal = face.faceNormal;
                normals[face.aIndex].add(faceNormal);
                normals[face.bIndex].add(faceNormal);
                normals[face.cIndex].add(faceNormal);
            }
            for (var v = 0; v < vl; v++) {
                normals[v].normalize();
            }
            return normals;
        };
        GeometryData.prototype._getColors = function (colors, vertices) {
            if (colors && colors.length > 0) {
                return colors;
            }
            else {
                return this._getColorsFromMaterial(vertices);
            }
        };
        GeometryData.prototype._getColorsFromMaterial = function (vertices) {
            var arr = [], i = 0, material = this.geometry.material, color = material.color, len = null;
            wdCb.Log.error(!vertices || vertices.length === 0, wdCb.Log.info.FUNC_MUST("has vertice data"));
            len = vertices.length;
            for (i = 0; i < len; i++) {
                arr.push(color.r, color.g, color.b);
            }
            return arr;
        };
        GeometryData.prototype._fillEmptyData = function (data) {
            for (var i = 0, len = data.length; i < len; i++) {
                if (isNaN(data[i])) {
                    data[i] = 0;
                }
            }
        };
        GeometryData.prototype._calculateTangents = function (vertices, normals, texCoords, indices) {
            var triangleCount = indices.length / 3, vertexCount = vertices.length / 3, i1, i2, i3, x1, x2, y1, y2, z1, z2, s1, s2, t1, t2, r, sdir = wd.Vector3.create(), tdir = wd.Vector3.create(), v1 = wd.Vector3.create(), v2 = wd.Vector3.create(), v3 = wd.Vector3.create(), w1 = wd.Vector2.create(), w2 = wd.Vector2.create(), w3 = wd.Vector2.create(), i, tan1 = new Float32Array(vertexCount * 3), tan2 = new Float32Array(vertexCount * 3), n = wd.Vector3.create(), temp = wd.Vector3.create(), tangents = [];
            for (i = 0; i < triangleCount; i++) {
                i1 = indices[i * 3];
                i2 = indices[i * 3 + 1];
                i3 = indices[i * 3 + 2];
                v1.set(vertices[i1 * 3], vertices[i1 * 3 + 1], vertices[i1 * 3 + 2]);
                v2.set(vertices[i2 * 3], vertices[i2 * 3 + 1], vertices[i2 * 3 + 2]);
                v3.set(vertices[i3 * 3], vertices[i3 * 3 + 1], vertices[i3 * 3 + 2]);
                w1.set(texCoords[i1 * 2], texCoords[i1 * 2 + 1]);
                w2.set(texCoords[i2 * 2], texCoords[i2 * 2 + 1]);
                w3.set(texCoords[i3 * 2], texCoords[i3 * 2 + 1]);
                x1 = v2.x - v1.x;
                x2 = v3.x - v1.x;
                y1 = v2.y - v1.y;
                y2 = v3.y - v1.y;
                z1 = v2.z - v1.z;
                z2 = v3.z - v1.z;
                s1 = w2.x - w1.x;
                s2 = w3.x - w1.x;
                t1 = w2.y - w1.y;
                t2 = w3.y - w1.y;
                r = 1.0 / (s1 * t2 - s2 * t1);
                sdir.set((t2 * x1 - t1 * x2) * r, (t2 * y1 - t1 * y2) * r, (t2 * z1 - t1 * z2) * r);
                tdir.set((s1 * x2 - s2 * x1) * r, (s1 * y2 - s2 * y1) * r, (s1 * z2 - s2 * z1) * r);
                tan1[i1 * 3 + 0] += sdir.x;
                tan1[i1 * 3 + 1] += sdir.y;
                tan1[i1 * 3 + 2] += sdir.z;
                tan1[i2 * 3 + 0] += sdir.x;
                tan1[i2 * 3 + 1] += sdir.y;
                tan1[i2 * 3 + 2] += sdir.z;
                tan1[i3 * 3 + 0] += sdir.x;
                tan1[i3 * 3 + 1] += sdir.y;
                tan1[i3 * 3 + 2] += sdir.z;
                tan2[i1 * 3 + 0] += tdir.x;
                tan2[i1 * 3 + 1] += tdir.y;
                tan2[i1 * 3 + 2] += tdir.z;
                tan2[i2 * 3 + 0] += tdir.x;
                tan2[i2 * 3 + 1] += tdir.y;
                tan2[i2 * 3 + 2] += tdir.z;
                tan2[i3 * 3 + 0] += tdir.x;
                tan2[i3 * 3 + 1] += tdir.y;
                tan2[i3 * 3 + 2] += tdir.z;
            }
            t1 = wd.Vector3.create();
            t2 = wd.Vector3.create();
            for (i = 0; i < vertexCount; i++) {
                var ndott = null;
                n.set(normals[i * 3], normals[i * 3 + 1], normals[i * 3 + 2]);
                t1.set(tan1[i * 3], tan1[i * 3 + 1], tan1[i * 3 + 2]);
                t2.set(tan2[i * 3], tan2[i * 3 + 1], tan2[i * 3 + 2]);
                ndott = n.dot(t1);
                temp = n.copy().scale(ndott);
                temp.sub2(t1, temp).normalize();
                tangents[i * 4] = temp.x;
                tangents[i * 4 + 1] = temp.y;
                tangents[i * 4 + 2] = temp.z;
                temp.cross(n, t1);
                tangents[i * 4 + 3] = (temp.dot(t2) < 0.0) ? -1.0 : 1.0;
            }
            return tangents;
        };
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("faces.count", "> 0"));
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    if (this.geometry.isSmoothShading()) {
                        wd.assert(face.vertexNormals && face.vertexNormals.getCount() === 3, wd.Log.info.FUNC_SHOULD("faces->vertexNormals.count", "=== 3"));
                    }
                    else {
                        wd.assert(face.hasFaceNormal(), wd.Log.info.FUNC_SHOULD("faces->faceNormal", "has data"));
                    }
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalCache;
            }, function () {
                return this._normalCache;
            }, function (result) {
                this._normalCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normals", null);
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("geometry", "has faces"));
            }),
            wd.ensureGetter(function (normals) {
                for (var _i = 0, normals_1 = normals; _i < normals_1.length; _i++) {
                    var data = normals_1[_i];
                    wd.assert(wd.JudgeUtils.isNumber(data), wd.Log.info.FUNC_SHOULD("normals data", "be number"));
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalFromFaceCache;
            }, function () {
                return this._normalFromFaceCache;
            }, function (result) {
                this._normalFromFaceCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normalsFromFaceNormal", null);
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("geometry", "has faces"));
            }),
            wd.ensureGetter(function (normals) {
                for (var _i = 0, normals_2 = normals; _i < normals_2.length; _i++) {
                    var data = normals_2[_i];
                    wd.assert(wd.JudgeUtils.isNumber(data), wd.Log.info.FUNC_SHOULD("normals data", "be number"));
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalFromVertexCache;
            }, function () {
                return this._normalFromVertexCache;
            }, function (result) {
                this._normalFromVertexCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normalsFromVertexNormals", null);
        __decorate([
            wd.cacheGetter(function () {
                return !this._indiceDirty && this._indiceCache;
            }, function () {
                return this._indiceCache;
            }, function (result) {
                this._indiceCache = result;
                this._indiceDirty = false;
            })
        ], GeometryData.prototype, "indices", null);
        __decorate([
            wd.require(function () {
                wd.assert(wd.GeometryUtils.hasData(this.vertices), wd.Log.info.FUNC_MUST("contain vertices"));
            }),
            wd.ensure(function () {
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    wd.assert(face.faceNormal instanceof wd.Vector3, wd.Log.info.FUNC_SHOULD_NOT("faceNormal", "be null"));
                }
            })
        ], GeometryData.prototype, "computeFaceNormals", null);
        __decorate([
            wd.virtual
        ], GeometryData.prototype, "onChangeFace", null);
        return GeometryData;
    }());
    wd.GeometryData = GeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonGeometryData = (function (_super) {
        __extends(CommonGeometryData, _super);
        function CommonGeometryData() {
            _super.apply(this, arguments);
        }
        CommonGeometryData.create = function (geometry) {
            var obj = new this(geometry);
            return obj;
        };
        return CommonGeometryData;
    }(wd.GeometryData));
    wd.CommonGeometryData = CommonGeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphGeometryData = (function (_super) {
        __extends(MorphGeometryData, _super);
        function MorphGeometryData() {
            _super.apply(this, arguments);
            this._morphTargets = null;
            this._morphNormalCache = null;
            this._morphNormalDirty = true;
        }
        MorphGeometryData.create = function (geometry) {
            var obj = new this(geometry);
            return obj;
        };
        Object.defineProperty(MorphGeometryData.prototype, "morphNormals", {
            get: function () {
                var geometry = this.geometry;
                this._morphNormalDirty = false;
                if (geometry.isSmoothShading()) {
                    if (!this.hasMorphVertexNormals()) {
                        this.computeMorphNormals();
                    }
                    return geometry.morphVertexNormals;
                }
                if (!this.hasMorphFaceNormals()) {
                    this.computeMorphNormals();
                }
                return geometry.morphFaceNormals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MorphGeometryData.prototype, "morphTargets", {
            get: function () {
                return this._morphTargets;
            },
            set: function (morphTargets) {
                this._morphTargets = morphTargets;
                this._morphNormalDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        MorphGeometryData.prototype.computeMorphNormals = function () {
            var geometry = this.geometry, self = this;
            this._morphTargets.forEach(function (frames, animName) {
                var faceNormalList = wdCb.Collection.create(), vertexNormalList = wdCb.Collection.create();
                frames.forEach(function (vertices) {
                    var tempGeometryData = MorphGeometryData.create(geometry), faceNormalsOfEachFrame = null, vertexNormalsOfEachFrame = null;
                    tempGeometryData.vertices = vertices;
                    tempGeometryData.faces = self._copyFaces(geometry.faces);
                    tempGeometryData.computeFaceNormals();
                    tempGeometryData.computeVertexNormals();
                    _a = self._getMorphNormals(tempGeometryData), faceNormalsOfEachFrame = _a[0], vertexNormalsOfEachFrame = _a[1];
                    faceNormalList.addChild(faceNormalsOfEachFrame);
                    vertexNormalList.addChild(vertexNormalsOfEachFrame);
                    var _a;
                });
                geometry.morphFaceNormals.addChild(animName, faceNormalList);
                geometry.morphVertexNormals.addChild(animName, vertexNormalList);
            });
        };
        MorphGeometryData.prototype.hasMorphFaceNormals = function () {
            return this.geometry.morphFaceNormals.getCount() > 0;
        };
        MorphGeometryData.prototype.hasMorphVertexNormals = function () {
            return this.geometry.morphVertexNormals.getCount() > 0;
        };
        MorphGeometryData.prototype.onChangeFace = function () {
            this._morphNormalDirty = true;
        };
        MorphGeometryData.prototype._copyFaces = function (faces) {
            var copyFaces = [];
            for (var _i = 0, faces_1 = faces; _i < faces_1.length; _i++) {
                var face = faces_1[_i];
                copyFaces.push(face.copy());
            }
            return copyFaces;
        };
        MorphGeometryData.prototype._getMorphNormals = function (geometryData) {
            return [geometryData.normalsFromFaceNormal, geometryData.normalsFromVertexNormals];
        };
        __decorate([
            wd.cacheGetter(function () {
                return !this._morphNormalDirty && this._morphNormalCache;
            }, function () {
                return this._morphNormalCache;
            }, function (result) {
                this._morphNormalCache = result;
            })
        ], MorphGeometryData.prototype, "morphNormals", null);
        return MorphGeometryData;
    }(wd.GeometryData));
    wd.MorphGeometryData = MorphGeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BufferContainer = (function () {
        function BufferContainer(entityObject) {
            this.geometryData = null;
            this.entityObject = null;
            this.container = wdCb.Hash.create();
            this._colorBuffer = null;
            this._texCoordBuffer = null;
            this._tangentBuffer = null;
            this._indiceBuffer = null;
            this.entityObject = entityObject;
        }
        BufferContainer.prototype.init = function () {
            var self = this;
            wd.EventManager.on(this.entityObject, wd.EEngineEvent.MATERIAL_CHANGE, function () {
                self.removeCache(wd.EBufferDataType.COLOR);
            });
        };
        BufferContainer.prototype.removeCache = function (type) {
            this.container.removeChild(type);
        };
        BufferContainer.prototype.getChild = function (type) {
            var result = null;
            switch (type) {
                case wd.EBufferDataType.VERTICE:
                    result = this.getVertice(type);
                    break;
                case wd.EBufferDataType.NORMAL:
                    result = this.getNormal(type);
                    break;
                case wd.EBufferDataType.TANGENT:
                    result = this._getTangent(type);
                    break;
                case wd.EBufferDataType.COLOR:
                    result = this._getColor(type);
                    break;
                case wd.EBufferDataType.INDICE:
                    result = this._getIndice(type);
                    break;
                case wd.EBufferDataType.TEXCOORD:
                    result = this._getTexCoord(type);
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNKNOW("EBufferDataType: " + type));
                    break;
            }
            return result;
        };
        BufferContainer.prototype.hasChild = function (type) {
            var data = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            return !!data && data.length > 0;
        };
        BufferContainer.prototype.dispose = function () {
            this.container.forEach(function (buffer) {
                buffer.dispose();
            });
        };
        BufferContainer.prototype.createBufferOnlyOnce = function (bufferAttriName, bufferClass) {
            if (this[bufferAttriName]) {
                return;
            }
            this[bufferAttriName] = bufferClass.create();
        };
        BufferContainer.prototype._getTangent = function (type) {
            var geometryData = null;
            this.createBufferOnlyOnce("_tangentBuffer", wd.ArrayBuffer);
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this._tangentBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._tangentBuffer;
        };
        BufferContainer.prototype._getColor = function (type) {
            var geometryData = null;
            this.createBufferOnlyOnce("_colorBuffer", wd.ArrayBuffer);
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this._colorBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._colorBuffer;
        };
        BufferContainer.prototype._getIndice = function (type) {
            var geometryData = null;
            this.createBufferOnlyOnce("_indiceBuffer", wd.ElementBuffer);
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this._indiceBuffer.resetData(new Uint16Array(geometryData), wd.EBufferType.UNSIGNED_SHORT);
            return this._indiceBuffer;
        };
        BufferContainer.prototype._getTexCoord = function (type) {
            var geometryData = null;
            this.createBufferOnlyOnce("_texCoordBuffer", wd.ArrayBuffer);
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this._texCoordBuffer.resetData(new Float32Array(geometryData), 2, wd.EBufferType.FLOAT);
            return this._texCoordBuffer;
        };
        BufferContainer.prototype._needReCalcuteTangent = function (type) {
            return this.geometryData.isTangentDirty && type === wd.EBufferDataType.TANGENT;
        };
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type) && !this._needReCalcuteTangent(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getTangent", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getColor", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getIndice", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getTexCoord", null);
        return BufferContainer;
    }());
    wd.BufferContainer = BufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonBufferContainer = (function (_super) {
        __extends(CommonBufferContainer, _super);
        function CommonBufferContainer() {
            _super.apply(this, arguments);
            this._verticeBuffer = null;
            this._normalBuffer = null;
        }
        CommonBufferContainer.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        CommonBufferContainer.prototype.getVertice = function (type) {
            var geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this.createBufferOnlyOnce("_verticeBuffer", wd.ArrayBuffer);
            this._verticeBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._verticeBuffer;
        };
        CommonBufferContainer.prototype.getNormal = function (type) {
            var geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            this.createBufferOnlyOnce("_normalBuffer", wd.ArrayBuffer);
            this._normalBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._normalBuffer;
        };
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], CommonBufferContainer.prototype, "getVertice", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], CommonBufferContainer.prototype, "getNormal", null);
        return CommonBufferContainer;
    }(wd.BufferContainer));
    wd.CommonBufferContainer = CommonBufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphBufferContainer = (function (_super) {
        __extends(MorphBufferContainer, _super);
        function MorphBufferContainer(entityObject, animation) {
            _super.call(this, entityObject);
            this._animation = null;
            this._isCacheChangeFlag = {};
            this._isCacheChangeInLastLoop = {};
            this._currentVerticeBuffer = null;
            this._nextVerticeBuffer = null;
            this._currentNormalBuffer = null;
            this._nextNormalBuffer = null;
            this._animation = animation;
        }
        MorphBufferContainer.create = function (entityObject, animation) {
            var obj = new this(entityObject, animation);
            return obj;
        };
        MorphBufferContainer.prototype.getVertice = function (type) {
            return this._getMorphData(type, this.geometryData.morphTargets);
        };
        MorphBufferContainer.prototype.getNormal = function (type) {
            return this._getMorphData(type, this.geometryData.morphNormals);
        };
        MorphBufferContainer.prototype._getMorphData = function (type, morphDataTargets) {
            var cacheData = null, frames = null, result = null;
            if (this._isNotPlayAnimation()) {
                return this._getStaticData(type);
            }
            frames = morphDataTargets.getChild(this._animation.currentAnimName);
            wdCb.Log.error(!frames, wdCb.Log.info.FUNC_SHOULD("\"" + this._animation.currentAnimName + "\" animation", "contain frame data"));
            cacheData = this.container.getChild(type);
            if (!cacheData) {
                var currentBuffer = this._getCurrentBuffer(type), nextBuffer = this._getNextBuffer(type);
                currentBuffer.resetData(new Float32Array(frames.getChild(this._animation.currentFrame)), 3, wd.EBufferType.FLOAT);
                nextBuffer.resetData(new Float32Array(frames.getChild(this._animation.nextFrame)), 3, wd.EBufferType.FLOAT);
                result = [currentBuffer, nextBuffer];
                this.container.addChild(type, result);
                this._isCacheChangeInLastLoop[type] = false;
            }
            else {
                if (this._animation.isFrameChange && (this._isCacheChangeInLastLoop[type] || this._isCacheNotChange(type))) {
                    var currentBuffer = cacheData[0], nextBuffer = cacheData[1], newCurrentBuffer = null, newNextBuffer = null;
                    newCurrentBuffer = nextBuffer;
                    newNextBuffer = currentBuffer.resetData(new Float32Array(frames.getChild(this._animation.nextFrame)));
                    result = [newCurrentBuffer, newNextBuffer];
                    this.container.addChild(type, result);
                    this._isCacheChangeFlag[type] = true;
                    this._isCacheChangeInLastLoop[type] = true;
                }
                else {
                    this._isCacheChangeFlag[type] = false;
                    this._isCacheChangeInLastLoop[type] = false;
                    result = cacheData;
                }
            }
            return result;
        };
        MorphBufferContainer.prototype._getCurrentBuffer = function (type) {
            if (type === wd.EBufferDataType.VERTICE) {
                this.createBufferOnlyOnce("_currentVerticeBuffer", wd.ArrayBuffer);
                return this._currentVerticeBuffer;
            }
            this.createBufferOnlyOnce("_currentNormalBuffer", wd.ArrayBuffer);
            return this._currentNormalBuffer;
        };
        MorphBufferContainer.prototype._getNextBuffer = function (type) {
            if (type === wd.EBufferDataType.VERTICE) {
                this.createBufferOnlyOnce("_nextVerticeBuffer", wd.ArrayBuffer);
                return this._nextVerticeBuffer;
            }
            this.createBufferOnlyOnce("_nextNormalBuffer", wd.ArrayBuffer);
            return this._nextNormalBuffer;
        };
        MorphBufferContainer.prototype._isCacheNotChange = function (type) {
            return !this._isCacheChangeFlag[type];
        };
        MorphBufferContainer.prototype._isNotPlayAnimation = function () {
            return this._animation.currentAnimName === null;
        };
        MorphBufferContainer.prototype._getStaticData = function (type) {
            var data = null, result = null;
            switch (type) {
                case wd.EBufferDataType.VERTICE:
                    data = this.geometryData.vertices;
                    break;
                case wd.EBufferDataType.NORMAL:
                    data = this.geometryData.normals;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
                    break;
            }
            this._animation.interpolation = 0;
            result = [
                this._getCurrentBuffer(type).resetData(new Float32Array(data), 3, wd.EBufferType.FLOAT),
                this._getNextBuffer(type).resetData(new Float32Array(data), 3, wd.EBufferType.FLOAT)
            ];
            return result;
        };
        MorphBufferContainer.prototype._getStaticDataCacheData = function (type) {
            return "static_" + type;
        };
        __decorate([
            wd.require(function (type) {
                wd.assert(this.geometryData.morphTargets && this.geometryData.morphTargets.getCount() > 0, wd.Log.info.FUNC_SHOULD("set morphTargets"));
            })
        ], MorphBufferContainer.prototype, "getVertice", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(this.geometryData.morphTargets && this.geometryData.morphTargets.getCount() > 0, wd.Log.info.FUNC_SHOULD("set morphTargets"));
            })
        ], MorphBufferContainer.prototype, "getNormal", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(type === wd.EBufferDataType.VERTICE || type === wd.EBufferDataType.NORMAL, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
            })
        ], MorphBufferContainer.prototype, "_getCurrentBuffer", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(type === wd.EBufferDataType.VERTICE || type === wd.EBufferDataType.NORMAL, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
            })
        ], MorphBufferContainer.prototype, "_getNextBuffer", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(this._getStaticDataCacheData(type));
            }, function (type) {
                return this.container.getChild(this._getStaticDataCacheData(type));
            }, function (result, type) {
                this.container.addChild(this._getStaticDataCacheData(type), result);
            })
        ], MorphBufferContainer.prototype, "_getStaticData", null);
        return MorphBufferContainer;
    }(wd.BufferContainer));
    wd.MorphBufferContainer = MorphBufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Camera = (function () {
        function Camera() {
            this._worldToCameraMatrix = null;
            this._near = null;
            this._far = null;
            this.pMatrix = wd.Matrix4.create();
            this.entityObject = null;
            this.dirty = false;
        }
        Object.defineProperty(Camera.prototype, "cameraToWorldMatrix", {
            get: function () {
                return this.entityObject.transform.localToWorldMatrix.copy();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "worldToCameraMatrix", {
            get: function () {
                if (this._worldToCameraMatrix) {
                    return this._worldToCameraMatrix;
                }
                return this.cameraToWorldMatrix.invert();
            },
            set: function (matrix) {
                this._worldToCameraMatrix = matrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "near", {
            get: function () {
                return this._near;
            },
            set: function (near) {
                this._near = near;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "far", {
            get: function () {
                return this._far;
            },
            set: function (far) {
                this._far = far;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Camera.prototype.init = function () {
            if (this.dirty) {
                this.updateProjectionMatrix();
                this.dirty = false;
            }
        };
        Camera.prototype.dispose = function () {
        };
        Camera.prototype.update = function (elapsedTime) {
            if (this.dirty) {
                this.updateProjectionMatrix();
                this.dirty = false;
            }
        };
        Camera.prototype.getInvViewProjMat = function () {
            return this.pMatrix.copy().multiply(this.worldToCameraMatrix).invert();
        };
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this.entityObject, wd.Log.info.FUNC_MUST_DEFINE("entityObject"));
            })
        ], Camera.prototype, "cameraToWorldMatrix", null);
        __decorate([
            wd.virtual
        ], Camera.prototype, "init", null);
        __decorate([
            wd.virtual
        ], Camera.prototype, "dispose", null);
        return Camera;
    }());
    wd.Camera = Camera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var OrthographicCamera = (function (_super) {
        __extends(OrthographicCamera, _super);
        function OrthographicCamera() {
            _super.apply(this, arguments);
            this._left = null;
            this._right = null;
            this._bottom = null;
            this._top = null;
        }
        OrthographicCamera.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(OrthographicCamera.prototype, "left", {
            get: function () {
                return this._left;
            },
            set: function (left) {
                this._left = left;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "right", {
            get: function () {
                return this._right;
            },
            set: function (right) {
                this._right = right;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "bottom", {
            get: function () {
                return this._bottom;
            },
            set: function (bottom) {
                this._bottom = bottom;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "top", {
            get: function () {
                return this._top;
            },
            set: function (top) {
                this._top = top;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        OrthographicCamera.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            var device = wd.DeviceManager.getInstance(), width = device.view.width, height = device.view.height, normalizedDeviceCoordinate = wd.Vector3.create(2 * screenX / width - 1, (height - screenY) / height * 2 - 1, (distanceFromCamera - this.far) / (this.far - this.near) * 2 + 1);
            return this.getInvViewProjMat().multiplyPoint(normalizedDeviceCoordinate);
        };
        OrthographicCamera.prototype.updateProjectionMatrix = function () {
            this.pMatrix.setOrtho(this._left, this._right, this._bottom, this._top, this.near, this.far);
        };
        return OrthographicCamera;
    }(wd.Camera));
    wd.OrthographicCamera = OrthographicCamera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PerspectiveCamera = (function (_super) {
        __extends(PerspectiveCamera, _super);
        function PerspectiveCamera() {
            _super.apply(this, arguments);
            this._fovy = null;
            this._aspect = null;
        }
        PerspectiveCamera.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PerspectiveCamera.prototype, "fovy", {
            get: function () {
                return this._fovy;
            },
            set: function (fovy) {
                this._fovy = fovy;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PerspectiveCamera.prototype, "aspect", {
            get: function () {
                return this._aspect;
            },
            set: function (aspect) {
                this._aspect = aspect;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        PerspectiveCamera.prototype.zoomIn = function (speed, min) {
            if (min === void 0) { min = 1; }
            this.fovy = Math.max(this.fovy - speed, min);
        };
        PerspectiveCamera.prototype.zoomOut = function (speed, max) {
            if (max === void 0) { max = 179; }
            this.fovy = Math.min(this.fovy + speed, max);
        };
        PerspectiveCamera.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            var device = wd.DeviceManager.getInstance(), width = device.view.width, height = device.view.height, normalizedDeviceCoordinate = wd.Vector3.create(2 * screenX / width - 1, 1 - 2 * screenY / height, 1), invViewProjMat = this.getInvViewProjMat(), point = null, w = null;
            point = invViewProjMat.multiplyPoint(normalizedDeviceCoordinate);
            w = normalizedDeviceCoordinate.x * invViewProjMat.values[3] +
                normalizedDeviceCoordinate.y * invViewProjMat.values[7] +
                normalizedDeviceCoordinate.z * invViewProjMat.values[11] +
                invViewProjMat.values[15];
            point.scale(1 / w);
            return wd.Vector3.create().lerp(this.entityObject.transform.position, point, distanceFromCamera / this.far);
        };
        PerspectiveCamera.prototype.updateProjectionMatrix = function () {
            this.pMatrix.setPerspective(this._fovy, this._aspect, this.near, this.far);
        };
        return PerspectiveCamera;
    }(wd.Camera));
    wd.PerspectiveCamera = PerspectiveCamera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CameraController = (function (_super) {
        __extends(CameraController, _super);
        function CameraController(cameraComponent) {
            _super.call(this);
            this.camera = null;
            this.camera = cameraComponent;
        }
        Object.defineProperty(CameraController.prototype, "cameraToWorldMatrix", {
            get: function () {
                return this.camera.cameraToWorldMatrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CameraController.prototype, "worldToCameraMatrix", {
            get: function () {
                return this.camera.worldToCameraMatrix;
            },
            set: function (matrix) {
                this.camera.worldToCameraMatrix = matrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CameraController.prototype, "pMatrix", {
            get: function () {
                return this.camera.pMatrix;
            },
            set: function (pMatrix) {
                this.camera.pMatrix = pMatrix;
            },
            enumerable: true,
            configurable: true
        });
        CameraController.prototype.init = function () {
            this.camera.entityObject = this.entityObject;
            this.camera.init();
        };
        CameraController.prototype.update = function (elapsedTime) {
            this.camera.update(elapsedTime);
        };
        CameraController.prototype.dispose = function () {
            this.camera.dispose();
        };
        CameraController.prototype.isIntersectWithRay = function (entityObject, screenX, screenY) {
            var shape = null;
            if (!entityObject.hasComponent(wd.Collider)) {
                return false;
            }
            shape = entityObject.getComponent(wd.Collider).shape;
            return shape.isIntersectWithRay(this.createRay(screenX, screenY));
        };
        CameraController.prototype.createRay = function (screenX, screenY) {
            var from = this.convertScreenToWorld(screenX, screenY, this.camera.near), to = this.convertScreenToWorld(screenX, screenY, this.camera.far);
            return wd.Ray.create(from, to.sub(from));
        };
        CameraController.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            return this.camera.convertScreenToWorld(screenX, screenY, distanceFromCamera);
        };
        CameraController.prototype.getPlanes = function () {
            var frustumPlanes = [], transform = this.worldToCameraMatrix.applyMatrix(this.pMatrix);
            for (var index = 0; index < 6; index++) {
                frustumPlanes.push(wd.Plane.create(0, 0, 0, 0));
            }
            this._setPlanes(transform, frustumPlanes);
            return frustumPlanes;
        };
        CameraController.prototype._setPlanes = function (transform, frustumPlanes) {
            frustumPlanes[0].normal.x = transform.values[3] + transform.values[2];
            frustumPlanes[0].normal.y = transform.values[7] + transform.values[6];
            frustumPlanes[0].normal.z = transform.values[11] + transform.values[10];
            frustumPlanes[0].d = transform.values[15] + transform.values[14];
            frustumPlanes[0].normalize();
            frustumPlanes[1].normal.x = transform.values[3] - transform.values[2];
            frustumPlanes[1].normal.y = transform.values[7] - transform.values[6];
            frustumPlanes[1].normal.z = transform.values[11] - transform.values[10];
            frustumPlanes[1].d = transform.values[15] - transform.values[14];
            frustumPlanes[1].normalize();
            frustumPlanes[2].normal.x = transform.values[3] + transform.values[0];
            frustumPlanes[2].normal.y = transform.values[7] + transform.values[4];
            frustumPlanes[2].normal.z = transform.values[11] + transform.values[8];
            frustumPlanes[2].d = transform.values[15] + transform.values[12];
            frustumPlanes[2].normalize();
            frustumPlanes[3].normal.x = transform.values[3] - transform.values[0];
            frustumPlanes[3].normal.y = transform.values[7] - transform.values[4];
            frustumPlanes[3].normal.z = transform.values[11] - transform.values[8];
            frustumPlanes[3].d = transform.values[15] - transform.values[12];
            frustumPlanes[3].normalize();
            frustumPlanes[4].normal.x = transform.values[3] - transform.values[1];
            frustumPlanes[4].normal.y = transform.values[7] - transform.values[5];
            frustumPlanes[4].normal.z = transform.values[11] - transform.values[9];
            frustumPlanes[4].d = transform.values[15] - transform.values[13];
            frustumPlanes[4].normalize();
            frustumPlanes[5].normal.x = transform.values[3] + transform.values[1];
            frustumPlanes[5].normal.y = transform.values[7] + transform.values[5];
            frustumPlanes[5].normal.z = transform.values[11] + transform.values[9];
            frustumPlanes[5].d = transform.values[15] + transform.values[13];
            frustumPlanes[5].normalize();
        };
        return CameraController;
    }(wd.Component));
    wd.CameraController = CameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicCameraController = (function (_super) {
        __extends(BasicCameraController, _super);
        function BasicCameraController() {
            _super.apply(this, arguments);
        }
        BasicCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        return BasicCameraController;
    }(wd.CameraController));
    wd.BasicCameraController = BasicCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyCameraController = (function (_super) {
        __extends(FlyCameraController, _super);
        function FlyCameraController(cameraComponent) {
            _super.call(this, cameraComponent);
            this._control = null;
            if (cameraComponent instanceof wd.PerspectiveCamera) {
                this._control = wd.FlyPerspectiveCameraControl.create(cameraComponent);
            }
            else {
                this._control = wd.FlyOrthographicCameraControl.create(cameraComponent);
            }
        }
        FlyCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyCameraController.prototype.init = function () {
            _super.prototype.init.call(this);
            this._control.init(this.entityObject);
        };
        FlyCameraController.prototype.update = function (elapsedTime) {
            _super.prototype.update.call(this, elapsedTime);
            this._control.update(elapsedTime);
        };
        FlyCameraController.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._control.dispose();
        };
        return FlyCameraController;
    }(wd.CameraController));
    wd.FlyCameraController = FlyCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyCameraControl = (function () {
        function FlyCameraControl(cameraComponent) {
            this.moveSpeed = 1.2;
            this.rotateSpeed = 100;
            this.cameraComponent = null;
            this._rotateX = 0;
            this._rotateY = 0;
            this._isRotate = false;
            this._mouseDragSubscription = null;
            this._keydownSubscription = null;
            this._gameObject = null;
            this.cameraComponent = cameraComponent;
        }
        FlyCameraControl.prototype.init = function (entityObject) {
            var eulerAngles = entityObject.transform.eulerAngles;
            this._rotateX = eulerAngles.x;
            this._rotateY = eulerAngles.y;
            this._gameObject = entityObject;
            this._bindCanvasEvent();
        };
        FlyCameraControl.prototype.update = function (elapsedTime) {
            if (!this._isRotate) {
                return;
            }
            this._isRotate = false;
            this._gameObject.transform.eulerAngles = wd.Vector3.create(this._rotateX, this._rotateY, 0);
        };
        FlyCameraControl.prototype.dispose = function () {
            this._removeEvent();
        };
        FlyCameraControl.prototype._move = function (event) {
            var speed = this.moveSpeed, entityObject = this._gameObject, keyState = event.keyState;
            if (keyState["a"] || keyState["left"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(-speed, 0, 0));
            }
            else if (keyState["d"] || keyState["right"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(speed, 0, 0));
            }
            else if (keyState["w"] || keyState["up"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(0, 0, -speed));
            }
            else if (keyState["s"] || keyState["down"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(0, 0, speed));
            }
        };
        FlyCameraControl.prototype._bindCanvasEvent = function () {
            var self = this, rotateSpeed = this.rotateSpeed, mousedrag = wd.EventManager.fromEvent(wd.Director.getInstance().scene, wd.EEngineEvent.MOUSE_DRAG), keydown = wd.EventManager.fromEvent(wd.EEventName.KEYDOWN), canvas = wd.Director.getInstance().view;
            this._mouseDragSubscription = mousedrag
                .map(function (e) {
                var movementDelta = e.userData.movementDelta, dx = null, dy = null, factor = rotateSpeed / canvas.height;
                dx = factor * movementDelta.x;
                dy = factor * movementDelta.y;
                self._isRotate = true;
                return {
                    dx: dx,
                    dy: dy
                };
            })
                .subscribe(function (pos) {
                self._rotateY -= pos.dx;
                self._rotateX -= pos.dy;
            });
            this._keydownSubscription = keydown.subscribe(function (e) {
                self._move(e);
                self.zoom(e);
            });
        };
        FlyCameraControl.prototype._removeEvent = function () {
            this._mouseDragSubscription.dispose();
            this._keydownSubscription.dispose();
        };
        return FlyCameraControl;
    }());
    wd.FlyCameraControl = FlyCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyPerspectiveCameraControl = (function (_super) {
        __extends(FlyPerspectiveCameraControl, _super);
        function FlyPerspectiveCameraControl() {
            _super.apply(this, arguments);
            this.zoomSpeed = 10;
        }
        FlyPerspectiveCameraControl.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyPerspectiveCameraControl.prototype.zoom = function (event) {
            var speed = this.zoomSpeed, keyState = event.keyState;
            if (keyState["g"]) {
                this.cameraComponent.zoomIn(speed);
            }
            else if (keyState["h"]) {
                this.cameraComponent.zoomOut(speed);
            }
        };
        return FlyPerspectiveCameraControl;
    }(wd.FlyCameraControl));
    wd.FlyPerspectiveCameraControl = FlyPerspectiveCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyOrthographicCameraControl = (function (_super) {
        __extends(FlyOrthographicCameraControl, _super);
        function FlyOrthographicCameraControl() {
            _super.apply(this, arguments);
        }
        FlyOrthographicCameraControl.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyOrthographicCameraControl.prototype.zoom = function (event) {
        };
        return FlyOrthographicCameraControl;
    }(wd.FlyCameraControl));
    wd.FlyOrthographicCameraControl = FlyOrthographicCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArcballCameraController = (function (_super) {
        __extends(ArcballCameraController, _super);
        function ArcballCameraController() {
            _super.apply(this, arguments);
            this.moveSpeedX = 1;
            this.moveSpeedY = 1;
            this.rotateSpeed = 1;
            this.distance = 10;
            this.phi = Math.PI / 2;
            this.theta = Math.PI / 2;
            this.target = wd.Vector3.create(0, 0, 0);
            this.thetaMargin = 0.05;
            this.minDistance = 0.05;
            this._isChange = true;
            this._mouseDragSubscription = null;
            this._mouseWheelSubscription = null;
            this._keydownSubscription = null;
        }
        ArcballCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        ArcballCameraController.prototype.init = function () {
            _super.prototype.init.call(this);
            this._bindCanvasEvent();
        };
        ArcballCameraController.prototype.update = function (elapsedTime) {
            var x = null, y = null, z = null;
            _super.prototype.update.call(this, elapsedTime);
            if (!this._isChange) {
                return;
            }
            this._isChange = false;
            x = ((this.distance) * Math.cos(this.phi) * Math.sin(this.theta) + this.target.x);
            z = ((this.distance) * Math.sin(this.phi) * Math.sin(this.theta) + this.target.z);
            y = ((this.distance) * Math.cos(this.theta) + this.target.y);
            this.entityObject.transform.position = wd.Vector3.create(x, y, z);
            this.entityObject.transform.lookAt(this.target);
        };
        ArcballCameraController.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._removeEvent();
        };
        ArcballCameraController.prototype._bindCanvasEvent = function () {
            var self = this, mousewheel = wd.EventManager.fromEvent(wd.Director.getInstance().scene, wd.EEngineEvent.MOUSE_WHEEL), mousedrag = wd.EventManager.fromEvent(wd.Director.getInstance().scene, wd.EEngineEvent.MOUSE_DRAG), keydown = wd.EventManager.fromEvent(wd.EEventName.KEYDOWN);
            this._mouseDragSubscription = mousedrag.subscribe(function (e) {
                self._changeOrbit(e.userData);
            });
            this._mouseWheelSubscription = mousewheel.subscribe(function (e) {
                var mouseEvent = e.userData;
                mouseEvent.preventDefault();
                self._changeDistance(mouseEvent);
            });
            this._keydownSubscription = keydown.subscribe(function (e) {
                self._changeTarget(e);
            });
        };
        ArcballCameraController.prototype._changeOrbit = function (e) {
            var movementDelta = e.movementDelta;
            this._isChange = true;
            this.phi += movementDelta.x / (100 / this.rotateSpeed);
            this.theta -= movementDelta.y / (100 / this.rotateSpeed);
            this._contrainTheta();
        };
        ArcballCameraController.prototype._changeTarget = function (e) {
            var moveSpeedX = this.moveSpeedX, moveSpeedY = this.moveSpeedY, dx = null, dy = null, keyState = e.keyState, transform = this.entityObject.transform;
            this._isChange = true;
            if (keyState["a"] || keyState["left"]) {
                dx = -moveSpeedX;
            }
            else if (keyState["d"] || keyState["right"]) {
                dx = moveSpeedX;
            }
            else if (keyState["w"] || keyState["up"]) {
                dy = moveSpeedY;
            }
            else if (keyState["s"] || keyState["down"]) {
                dy = -moveSpeedY;
            }
            this.target.add(wd.Vector3.create(transform.right.x * (dx), 0, transform.right.z * (dx)));
            this.target.add(wd.Vector3.create(transform.up.x * dy, transform.up.y * dy, 0));
        };
        ArcballCameraController.prototype._changeDistance = function (e) {
            this._isChange = true;
            this.distance -= e.wheel;
            this._contrainDistance();
        };
        ArcballCameraController.prototype._contrainDistance = function () {
            this.distance = wd.MathUtils.bigThan(this.distance, this.minDistance);
        };
        ArcballCameraController.prototype._contrainTheta = function () {
            this.theta = wd.MathUtils.clamp(this.theta, this.thetaMargin, Math.PI - this.thetaMargin);
        };
        ArcballCameraController.prototype._removeEvent = function () {
            this._mouseDragSubscription.dispose();
            this._mouseWheelSubscription.dispose();
            this._keydownSubscription.dispose();
        };
        return ArcballCameraController;
    }(wd.CameraController));
    wd.ArcballCameraController = ArcballCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Action = (function (_super) {
        __extends(Action, _super);
        function Action() {
            _super.apply(this, arguments);
            this.p_target = null;
            this.isFinish = false;
        }
        Object.defineProperty(Action.prototype, "isStart", {
            get: function () {
                return !this.isStop;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "isStop", {
            get: function () {
                return wd.Log.error(true, wd.Log.info.ABSTRACT_ATTRIBUTE);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "isPause", {
            get: function () {
                return wd.Log.error(true, wd.Log.info.ABSTRACT_ATTRIBUTE);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "target", {
            get: function () {
                return this.p_target;
            },
            set: function (target) {
                this.p_target = target;
            },
            enumerable: true,
            configurable: true
        });
        Action.prototype.reset = function () {
            this.isFinish = false;
        };
        Action.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
            this.target = entityObject;
            entityObject.actionManager.addChild(this);
        };
        Action.prototype.removeFromObject = function (entityObject) {
            _super.prototype.removeFromObject.call(this, entityObject);
            entityObject.actionManager.removeChild(this);
        };
        Action.prototype.init = function () {
            this.start();
        };
        Action.prototype.finish = function () {
            this.isFinish = true;
            this.stop();
        };
        return Action;
    }(wd.Component));
    wd.Action = Action;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionInstant = (function (_super) {
        __extends(ActionInstant, _super);
        function ActionInstant() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(ActionInstant.prototype, "isStop", {
            get: function () {
                return false;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActionInstant.prototype, "isPause", {
            get: function () {
                return false;
            },
            enumerable: true,
            configurable: true
        });
        ActionInstant.prototype.start = function () {
        };
        ActionInstant.prototype.stop = function () {
        };
        ActionInstant.prototype.pause = function () {
        };
        ActionInstant.prototype.resume = function () {
        };
        return ActionInstant;
    }(wd.Action));
    wd.ActionInstant = ActionInstant;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CallFunc = (function (_super) {
        __extends(CallFunc, _super);
        function CallFunc(func, context, dataArr) {
            _super.call(this);
            this._context = null;
            this._callFunc = null;
            this._dataArr = null;
            this._context = context || wd.root;
            this._callFunc = func;
            this._dataArr = wdCb.Collection.create(dataArr);
        }
        CallFunc.create = function (func, context) {
            var data = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                data[_i - 2] = arguments[_i];
            }
            var dataArr = Array.prototype.slice.call(arguments, 2), action = new this(func, context, dataArr);
            return action;
        };
        CallFunc.prototype.reverse = function () {
            return this;
        };
        CallFunc.prototype.update = function (elapsedTime) {
            if (this._callFunc) {
                this._callFunc.call(this._context, this.p_target, this._dataArr);
            }
            this.finish();
        };
        CallFunc.prototype.copy = function () {
            return new CallFunc(this._context, this._callFunc, this._dataArr.copy(true).getChildren());
        };
        return CallFunc;
    }(wd.ActionInstant));
    wd.CallFunc = CallFunc;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionInterval = (function (_super) {
        __extends(ActionInterval, _super);
        function ActionInterval() {
            _super.apply(this, arguments);
            this.elapsed = null;
            this.duration = null;
            this._isStop = true;
            this._isPause = false;
            this._timeController = wd.CommonTimeController.create();
        }
        Object.defineProperty(ActionInterval.prototype, "isStop", {
            get: function () {
                return this._isStop;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActionInterval.prototype, "isPause", {
            get: function () {
                return this._isPause;
            },
            enumerable: true,
            configurable: true
        });
        ActionInterval.prototype.update = function (elapsedTime) {
            if (elapsedTime < this._timeController.startTime) {
                return;
            }
            this.elapsed = this._convertToRatio(this._timeController.computeElapseTime(elapsedTime));
            this.updateBody(elapsedTime);
            if (this.elapsed === 1) {
                this.finish();
            }
        };
        ActionInterval.prototype.start = function () {
            this._isStop = false;
            this._timeController.start();
        };
        ActionInterval.prototype.stop = function () {
            this._isStop = true;
            this._timeController.stop();
        };
        ActionInterval.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._isStop = true;
        };
        ActionInterval.prototype.pause = function () {
            this._isPause = true;
            this._timeController.pause();
        };
        ActionInterval.prototype.resume = function () {
            this._isPause = false;
            this._timeController.resume();
        };
        ActionInterval.prototype.updateBody = function (time) {
        };
        ActionInterval.prototype._convertToRatio = function (elapsed) {
            var ratio = elapsed / this.duration;
            return ratio > 1 ? 1 : ratio;
        };
        __decorate([
            wd.virtual
        ], ActionInterval.prototype, "updateBody", null);
        return ActionInterval;
    }(wd.Action));
    wd.ActionInterval = ActionInterval;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Control = (function (_super) {
        __extends(Control, _super);
        function Control() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(Control.prototype, "target", {
            set: function (target) {
                this.p_target = target;
                this.getInnerActions().forEach(function (action) {
                    action.target = target;
                });
            },
            enumerable: true,
            configurable: true
        });
        Control.prototype.init = function () {
            _super.prototype.init.call(this);
            this.iterate("init");
        };
        Control.prototype.reverse = function () {
            this.iterate("reverse");
            return this;
        };
        Control.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this.iterate("reset");
            return this;
        };
        Control.prototype.iterate = function (method, argArr) {
            this.getInnerActions().forEach(function (action) {
                action[method].apply(action, argArr);
            });
        };
        return Control;
    }(wd.ActionInterval));
    wd.Control = Control;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Sequence = (function (_super) {
        __extends(Sequence, _super);
        function Sequence(actionArr) {
            _super.call(this);
            this._actions = wdCb.Collection.create();
            this._currentAction = null;
            this._actionIndex = 0;
            this._actions.addChildren(actionArr);
        }
        Sequence.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var sequence = null;
            wd.Log.assert(args.length >= 2, "Sequence should has two actions at least");
            sequence = new this(args);
            sequence.initWhenCreate();
            return sequence;
        };
        Sequence.prototype.initWhenCreate = function () {
            this._currentAction = this._actions.getChild(0);
        };
        Sequence.prototype.update = function (elapsedTime) {
            if (this._actionIndex === this._actions.getCount()) {
                this.finish();
                return;
            }
            this._currentAction = this._actions.getChild(this._actionIndex);
            if (this._currentAction.isFinish) {
                this._startNextActionAndJudgeFinish();
                return;
            }
            this._currentAction.update(elapsedTime);
            if (this._currentAction.isFinish) {
                this._startNextActionAndJudgeFinish();
            }
            return null;
        };
        Sequence.prototype.copy = function () {
            var actionArr = [];
            this._actions.forEach(function (action) {
                actionArr.push(action.copy());
            });
            return Sequence.create.apply(Sequence, actionArr);
        };
        Sequence.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._actionIndex = 0;
            this._currentAction = this._actions.getChild(this._actionIndex);
            return this;
        };
        Sequence.prototype.start = function () {
            _super.prototype.start.call(this);
            this._currentAction.start();
            return this;
        };
        Sequence.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._currentAction.stop();
            return this;
        };
        Sequence.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._currentAction.pause();
            return this;
        };
        Sequence.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._currentAction.resume();
            return this;
        };
        Sequence.prototype.reverse = function () {
            this._actions = this._actions.reverse();
            _super.prototype.reverse.call(this);
            return this;
        };
        Sequence.prototype.getInnerActions = function () {
            return this._actions;
        };
        Sequence.prototype._startNextActionAndJudgeFinish = function () {
            this._actionIndex++;
            if (this._actionIndex === this._actions.getCount()) {
                this.finish();
                return;
            }
            this._actions.getChild(this._actionIndex).start();
        };
        return Sequence;
    }(wd.Control));
    wd.Sequence = Sequence;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Spawn = (function (_super) {
        __extends(Spawn, _super);
        function Spawn(actionArr) {
            _super.call(this);
            this._actions = wdCb.Collection.create();
            this._actions.addChildren(actionArr);
        }
        Spawn.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var spawn = null;
            wd.Log.assert(args.length >= 2, "Sequence should has two actions at least");
            spawn = new this(args);
            return spawn;
        };
        Spawn.prototype.update = function (elapsedTime) {
            if (this._isFinish()) {
                this.finish();
                return;
            }
            this.iterate("update", [elapsedTime]);
            if (this._isFinish()) {
                this.finish();
            }
        };
        Spawn.prototype.start = function () {
            _super.prototype.start.call(this);
            this.iterate("start");
            return this;
        };
        Spawn.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this.iterate("stop");
            return this;
        };
        Spawn.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this.iterate("pause");
            return this;
        };
        Spawn.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this.iterate("resume");
            return this;
        };
        Spawn.prototype.copy = function () {
            var actions = [];
            this._actions.forEach(function (action) {
                actions.push(action.copy());
            });
            return Spawn.create.apply(Spawn, actions);
        };
        Spawn.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this.iterate("reset");
            return this;
        };
        Spawn.prototype.reverse = function () {
            this._actions = this._actions.reverse();
            _super.prototype.reverse.call(this);
            return this;
        };
        Spawn.prototype.getInnerActions = function () {
            return this._actions;
        };
        Spawn.prototype.iterate = function (method, argArr) {
            this._actions.forEach(function (action) {
                action[method].apply(action, argArr);
            });
        };
        Spawn.prototype._isFinish = function () {
            var isFinish = true;
            this._actions.forEach(function (action) {
                if (!action.isFinish) {
                    isFinish = false;
                    return wdCb.$BREAK;
                }
            });
            return isFinish;
        };
        return Spawn;
    }(wd.Control));
    wd.Spawn = Spawn;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DelayTime = (function (_super) {
        __extends(DelayTime, _super);
        function DelayTime(delayTime) {
            _super.call(this);
            this.duration = delayTime;
        }
        DelayTime.create = function (delayTime) {
            var action = new this(delayTime);
            return action;
        };
        DelayTime.prototype.reverse = function () {
            return this;
        };
        DelayTime.prototype.copy = function () {
            return DelayTime.create(this.duration);
        };
        return DelayTime;
    }(wd.ActionInterval));
    wd.DelayTime = DelayTime;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Repeat = (function (_super) {
        __extends(Repeat, _super);
        function Repeat(action, times) {
            _super.call(this);
            this._innerAction = null;
            this._originTimes = null;
            this._times = null;
            this._innerAction = action;
            this._times = times;
        }
        Repeat.create = function (action, times) {
            var repeat = new this(action, times);
            repeat.initWhenCreate();
            return repeat;
        };
        Repeat.prototype.initWhenCreate = function () {
            this._originTimes = this._times;
        };
        Repeat.prototype.update = function (elapsedTime) {
            if (this._times === 0) {
                this.finish();
                return;
            }
            this._innerAction.update(elapsedTime);
            if (this._innerAction.isFinish) {
                this._times -= 1;
                if (this._times !== 0) {
                    this._innerAction.reset();
                    this._innerAction.start();
                    return;
                }
                this.finish();
            }
        };
        Repeat.prototype.copy = function () {
            return Repeat.create(this._innerAction.copy(), this._times);
        };
        Repeat.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._times = this._originTimes;
            return this;
        };
        Repeat.prototype.start = function () {
            _super.prototype.start.call(this);
            this._innerAction.start();
        };
        Repeat.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._innerAction.stop();
        };
        Repeat.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._innerAction.pause();
        };
        Repeat.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._innerAction.resume();
        };
        Repeat.prototype.getInnerActions = function () {
            return wdCb.Collection.create([this._innerAction]);
        };
        return Repeat;
    }(wd.Control));
    wd.Repeat = Repeat;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RepeatForever = (function (_super) {
        __extends(RepeatForever, _super);
        function RepeatForever(action) {
            _super.call(this);
            this._innerAction = null;
            this._innerAction = action;
        }
        RepeatForever.create = function (action) {
            var repeat = new this(action);
            return repeat;
        };
        RepeatForever.prototype.update = function (elapsedTime) {
            this._innerAction.update(elapsedTime);
            if (this._innerAction.isFinish) {
                this._innerAction.reset();
                this._innerAction.start();
            }
        };
        RepeatForever.prototype.copy = function () {
            return RepeatForever.create(this._innerAction.copy());
        };
        RepeatForever.prototype.start = function () {
            _super.prototype.start.call(this);
            this._innerAction.start();
        };
        RepeatForever.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._innerAction.stop();
        };
        RepeatForever.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._innerAction.pause();
        };
        RepeatForever.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._innerAction.resume();
        };
        RepeatForever.prototype.getInnerActions = function () {
            return wdCb.Collection.create([this._innerAction]);
        };
        return RepeatForever;
    }(wd.Control));
    wd.RepeatForever = RepeatForever;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Tween = (function (_super) {
        __extends(Tween, _super);
        function Tween() {
            _super.apply(this, arguments);
            this._object = null;
            this._valuesStart = wdCb.Hash.create();
            this._valuesEnd = wdCb.Hash.create();
            this._easingFunction = Tween.Easing.Linear.None;
            this._interpolationFunction = Tween.Interpolation.Linear;
            this._onStartCallback = null;
            this._onStartCallbackFired = false;
            this._onUpdateCallback = null;
            this._onFinishCallback = null;
            this._onStopCallback = null;
        }
        Tween.create = function () {
            var obj = new this();
            return obj;
        };
        Tween.prototype.updateBody = function (time) {
            var self = this, easeValue = null;
            if (this._onStartCallbackFired === false) {
                if (this._onStartCallback !== null) {
                    this._onStartCallback.call(this._object.getChildren());
                }
                this._onStartCallbackFired = true;
            }
            easeValue = this._easingFunction(this.elapsed);
            this._valuesEnd.forEach(function (value, key) {
                var start = self._valuesStart.getChild(key), end = value;
                if (end instanceof Array) {
                    self._object.setValue(key, self._interpolationFunction(end, easeValue));
                }
                else {
                    if (wd.JudgeUtils.isString(end)) {
                        end = start + wd.root.parseFloat(end, 10);
                    }
                    if (wd.JudgeUtils.isNumber(end)) {
                        self._object.setValue(key, start + (end - start) * easeValue);
                    }
                }
            });
            if (this._onUpdateCallback !== null) {
                this._onUpdateCallback.call(this._object.getChildren(), easeValue);
            }
            return true;
        };
        Tween.prototype.from = function (object) {
            var self = this;
            this._object = wdCb.Hash.create(object);
            this._object.forEach(function (value, key) {
                self._valuesStart.addChild(key, wd.root.parseFloat(value, 10));
            });
            return this;
        };
        Tween.prototype.to = function (properties, duration) {
            if (duration === void 0) { duration = 1000; }
            this.duration = duration;
            this._valuesEnd = wdCb.Hash.create(properties);
            return this;
        };
        Tween.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._valuesEnd.forEach(function (value, key) {
                if (value instanceof Array) {
                    if (value.length === 0) {
                        return;
                    }
                    self._valuesEnd.setValue(key, [self._object.getChild(key)].concat(self._valuesEnd.getChild(key)));
                }
                self._valuesStart.setValue(key, self._object.getChild(key));
                if ((self._valuesStart.getChild(key) instanceof Array) === false) {
                    self._valuesStart.setValue(key, self._valuesStart.getChild(key) * 1.0);
                }
            });
        };
        Tween.prototype.start = function () {
            _super.prototype.start.call(this);
            this._onStartCallbackFired = false;
            return this;
        };
        Tween.prototype.stop = function () {
            _super.prototype.stop.call(this);
            if (this._onStopCallback !== null) {
                this._onStopCallback.call(this._object.getChildren());
            }
            return this;
        };
        Tween.prototype.copy = function () {
            return Tween.create().from(this._valuesStart.getChildren())
                .to(this._valuesEnd.getChildren(), this.duration)
                .easing(this._easingFunction)
                .interpolation(this._interpolationFunction)
                .onStart(this._onStartCallback)
                .onStop(this._onStopCallback)
                .onFinish(this._onFinishCallback)
                .onUpdate(this._onUpdateCallback);
        };
        Tween.prototype.reverse = function () {
            var tmp = this._valuesStart;
            this._valuesStart = this._valuesEnd;
            this._valuesEnd = tmp;
        };
        Tween.prototype.easing = function (easing) {
            this._easingFunction = easing;
            return this;
        };
        Tween.prototype.interpolation = function (interpolation) {
            this._interpolationFunction = interpolation;
            return this;
        };
        Tween.prototype.onUpdate = function (callback) {
            this._onUpdateCallback = callback;
            return this;
        };
        Tween.prototype.onFinish = function (callback) {
            this._onFinishCallback = callback;
            return this;
        };
        Tween.prototype.onStart = function (callback) {
            this._onStartCallback = callback;
            return this;
        };
        Tween.prototype.onStop = function (callback) {
            this._onStopCallback = callback;
            return this;
        };
        Tween.prototype.finish = function () {
            _super.prototype.finish.call(this);
            if (this._onFinishCallback !== null) {
                this._onFinishCallback.call(this._object.getChildren());
            }
        };
        Tween.Easing = {
            Linear: {
                None: function (k) {
                    return k;
                }
            },
            Quadratic: {
                In: function (k) {
                    return k * k;
                },
                Out: function (k) {
                    return k * (2 - k);
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k;
                    return -0.5 * (--k * (k - 2) - 1);
                }
            },
            Cubic: {
                In: function (k) {
                    return k * k * k;
                },
                Out: function (k) {
                    return --k * k * k + 1;
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k;
                    return 0.5 * ((k -= 2) * k * k + 2);
                }
            },
            Quartic: {
                In: function (k) {
                    return k * k * k * k;
                },
                Out: function (k) {
                    return 1 - (--k * k * k * k);
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k * k;
                    return -0.5 * ((k -= 2) * k * k * k - 2);
                }
            },
            Quintic: {
                In: function (k) {
                    return k * k * k * k * k;
                },
                Out: function (k) {
                    return --k * k * k * k * k + 1;
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k * k * k;
                    return 0.5 * ((k -= 2) * k * k * k * k + 2);
                }
            },
            Sinusoidal: {
                In: function (k) {
                    return 1 - Math.cos(k * Math.PI / 2);
                },
                Out: function (k) {
                    return Math.sin(k * Math.PI / 2);
                },
                InOut: function (k) {
                    return 0.5 * (1 - Math.cos(Math.PI * k));
                }
            },
            Exponential: {
                In: function (k) {
                    return k === 0 ? 0 : Math.pow(1024, k - 1);
                },
                Out: function (k) {
                    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
                },
                InOut: function (k) {
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if ((k *= 2) < 1)
                        return 0.5 * Math.pow(1024, k - 1);
                    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
                }
            },
            Circular: {
                In: function (k) {
                    return 1 - Math.sqrt(1 - k * k);
                },
                Out: function (k) {
                    return Math.sqrt(1 - (--k * k));
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return -0.5 * (Math.sqrt(1 - k * k) - 1);
                    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
                }
            },
            Elastic: {
                In: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
                },
                Out: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    return (a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);
                },
                InOut: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    if ((k *= 2) < 1)
                        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
                    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
                }
            },
            Back: {
                In: function (k) {
                    var s = 1.70158;
                    return k * k * ((s + 1) * k - s);
                },
                Out: function (k) {
                    var s = 1.70158;
                    return --k * k * ((s + 1) * k + s) + 1;
                },
                InOut: function (k) {
                    var s = 1.70158 * 1.525;
                    if ((k *= 2) < 1)
                        return 0.5 * (k * k * ((s + 1) * k - s));
                    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
                }
            },
            Bounce: {
                In: function (k) {
                    return 1 - Tween.Easing.Bounce.Out(1 - k);
                },
                Out: function (k) {
                    if (k < (1 / 2.75)) {
                        return 7.5625 * k * k;
                    }
                    else if (k < (2 / 2.75)) {
                        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;
                    }
                    else if (k < (2.5 / 2.75)) {
                        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;
                    }
                    else {
                        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;
                    }
                },
                InOut: function (k) {
                    if (k < 0.5)
                        return Tween.Easing.Bounce.In(k * 2) * 0.5;
                    return Tween.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;
                }
            }
        };
        Tween.Interpolation = {
            Linear: function (v, k) {
                var m = v.length - 1, f = m * k, i = Math.floor(f), fn = Tween.Interpolation.Utils.Linear;
                if (k < 0)
                    return fn(v[0], v[1], f);
                if (k > 1)
                    return fn(v[m], v[m - 1], m - f);
                return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);
            },
            Bezier: function (v, k) {
                var b = 0, n = v.length - 1, pw = Math.pow, bn = Tween.Interpolation.Utils.Bernstein, i;
                for (i = 0; i <= n; i++) {
                    b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);
                }
                return b;
            },
            CatmullRom: function (v, k) {
                var m = v.length - 1, f = m * k, i = Math.floor(f), fn = Tween.Interpolation.Utils.CatmullRom;
                if (v[0] === v[m]) {
                    if (k < 0)
                        i = Math.floor(f = m * (1 + k));
                    return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);
                }
                else {
                    if (k < 0)
                        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);
                    if (k > 1)
                        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);
                    return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);
                }
            },
            Utils: {
                Linear: function (p0, p1, t) {
                    return (p1 - p0) * t + p0;
                },
                Bernstein: function (n, i) {
                    var fc = Tween.Interpolation.Utils.Factorial;
                    return fc(n) / fc(i) / fc(n - i);
                },
                Factorial: (function () {
                    var a = [1];
                    return function (n) {
                        var s = 1, i;
                        if (a[n])
                            return a[n];
                        for (i = n; i > 1; i--)
                            s *= i;
                        return a[n] = s;
                    };
                })(),
                CatmullRom: function (p0, p1, p2, p3, t) {
                    var v0 = (p2 - p0) * 0.5, v1 = (p3 - p1) * 0.5, t2 = t * t, t3 = t * t2;
                    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;
                }
            }
        };
        return Tween;
    }(wd.ActionInterval));
    wd.Tween = Tween;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RendererComponent = (function (_super) {
        __extends(RendererComponent, _super);
        function RendererComponent() {
            _super.apply(this, arguments);
        }
        return RendererComponent;
    }(wd.Component));
    wd.RendererComponent = RendererComponent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MeshRenderer = (function (_super) {
        __extends(MeshRenderer, _super);
        function MeshRenderer() {
            _super.apply(this, arguments);
        }
        MeshRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        MeshRenderer.prototype.render = function (renderer, geometry, camera) {
            renderer.addCommand(this.createDrawCommand(renderer, geometry, camera));
        };
        MeshRenderer.prototype.createDrawCommand = function (renderer, geometry, camera) {
            var quadCmd = renderer.createQuadCommand(), cameraComponent = camera.getComponent(wd.CameraController), material = geometry.material;
            quadCmd.buffers = geometry.buffers;
            quadCmd.animation = geometry.entityObject.getComponent(wd.Animation);
            quadCmd.drawMode = geometry.drawMode;
            quadCmd.mMatrix = this.entityObject.transform.localToWorldMatrix;
            quadCmd.vMatrix = cameraComponent.worldToCameraMatrix;
            quadCmd.pMatrix = cameraComponent.pMatrix;
            quadCmd.material = material;
            quadCmd.z = this.entityObject.transform.position.z;
            return quadCmd;
        };
        __decorate([
            wd.require(function (renderer, geometry, camera) {
                var controller = camera.getComponent(wd.CameraController);
                wd.assert(!!controller && !!controller.camera, wd.Log.info.FUNC_MUST("camera", "add Camera Component"));
                wd.assert(!!geometry, wd.Log.info.FUNC_MUST("Mesh", "add geometry component"));
            })
        ], MeshRenderer.prototype, "createDrawCommand", null);
        return MeshRenderer;
    }(wd.RendererComponent));
    wd.MeshRenderer = MeshRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxRenderer = (function (_super) {
        __extends(SkyboxRenderer, _super);
        function SkyboxRenderer() {
            _super.apply(this, arguments);
        }
        SkyboxRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        SkyboxRenderer.prototype.render = function (renderer, geometry, camera) {
            renderer.skyboxCommand = this.createDrawCommand(renderer, geometry, camera);
        };
        return SkyboxRenderer;
    }(wd.MeshRenderer));
    wd.SkyboxRenderer = SkyboxRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIRenderer = (function (_super) {
        __extends(UIRenderer, _super);
        function UIRenderer() {
            _super.apply(this, arguments);
            this._zIndex = 1;
            this.dirtyDuringCurrentLoop = false;
            this._dirty = true;
            this.context = null;
            this.isClearCanvas = false;
            this.state = wd.EUIRendererState.NORMAL;
            this.canvas = null;
            this._referenceList = wdCb.Collection.create();
        }
        UIRenderer.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(UIRenderer.prototype, "zIndex", {
            get: function () {
                return this._zIndex;
            },
            set: function (zIndex) {
                if (zIndex !== this._zIndex) {
                    this._zIndex = zIndex;
                    if (this.canvas) {
                        wdCb.DomQuery.create(this.canvas).css("zIndex", zIndex);
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UIRenderer.prototype, "dirty", {
            get: function () {
                return this._dirty;
            },
            set: function (dirty) {
                if (dirty) {
                    this._dirty = true;
                    this.dirtyDuringCurrentLoop = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        UIRenderer.prototype.resetDirty = function () {
            this._dirty = false;
        };
        UIRenderer.prototype.addToObject = function (object) {
            this._referenceList.addChild(object);
            this.entityObject = object;
        };
        UIRenderer.prototype.removeFromObject = function (object) {
            this._referenceList.removeChild(object);
            if (this._referenceList.getCount() > 0) {
                return;
            }
            _super.prototype.removeFromObject.call(this, object);
        };
        UIRenderer.prototype.init = function () {
        };
        UIRenderer.prototype.initWhenCreate = function () {
            this._createOverlayCanvas();
        };
        UIRenderer.prototype.dispose = function () {
            if (this._referenceList.getCount() > 0) {
                return;
            }
            wdCb.DomQuery.create(this.canvas).remove();
        };
        UIRenderer.prototype.render = function (renderer, geometry, camera) {
        };
        UIRenderer.prototype.clearCanvas = function () {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.isClearCanvas = true;
        };
        UIRenderer.prototype._createOverlayCanvas = function () {
            var canvas = null, view = null;
            if (this.canvas) {
                return;
            }
            canvas = wdCb.DomQuery.create("<canvas></canvas>").prependTo("body");
            view = wd.DeviceManager.getInstance().view;
            canvas.css("position", "absolute");
            canvas.css("left", view.x + "px");
            canvas.css("top", view.y + "px");
            canvas.css("zIndex", this.zIndex);
            canvas.attr("width", view.width);
            canvas.attr("height", view.height);
            this.canvas = canvas.get(0);
            this.context = this.canvas.getContext("2d");
        };
        __decorate([
            wd.execOnlyOnce("_isInit")
        ], UIRenderer.prototype, "init", null);
        return UIRenderer;
    }(wd.RendererComponent));
    wd.UIRenderer = UIRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EUIRendererState) {
        EUIRendererState[EUIRendererState["NORMAL"] = 0] = "NORMAL";
        EUIRendererState[EUIRendererState["DIRTY"] = 1] = "DIRTY";
        EUIRendererState[EUIRendererState["NOT_DIRTY"] = 2] = "NOT_DIRTY";
    })(wd.EUIRendererState || (wd.EUIRendererState = {}));
    var EUIRendererState = wd.EUIRendererState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpacePartition = (function (_super) {
        __extends(SpacePartition, _super);
        function SpacePartition() {
            _super.apply(this, arguments);
        }
        return SpacePartition;
    }(wd.Component));
    wd.SpacePartition = SpacePartition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Octree = (function (_super) {
        __extends(Octree, _super);
        function Octree() {
            _super.apply(this, arguments);
            this.maxDepth = 2;
            this.maxNodeCapacity = 64;
            this._root = null;
            this._selectionList = wdCb.Collection.create();
        }
        Octree.create = function () {
            var obj = new this();
            return obj;
        };
        Octree.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
        };
        Octree.prototype.build = function () {
            var entityObjectList = this.getChildren(), currentDepth = 0, maxNodeCapacity = this.maxNodeCapacity, maxDepth = this.maxDepth;
            var buildTree = function (worldMin, worldMax, currentDepth, entityObjectList, parentNode) {
                var halfExtends = new wd.Vector3((worldMax.x - worldMin.x) / 2, (worldMax.y - worldMin.y) / 2, (worldMax.z - worldMin.z) / 2);
                for (var x = 0; x < 2; x++) {
                    for (var y = 0; y < 2; y++) {
                        for (var z = 0; z < 2; z++) {
                            var localMin = worldMin.copy().add(halfExtends.copy().scale(x, y, z)), localMax = worldMin.copy().add(halfExtends.copy().scale(x + 1, y + 1, z + 1)), node = wd.OctreeNode.create(localMin, localMax, maxNodeCapacity, currentDepth + 1, maxDepth);
                            node.addEntityObjects(entityObjectList);
                            if (node.entityObjectCount > maxNodeCapacity && currentDepth < maxDepth) {
                                buildTree(localMin, localMax, currentDepth + 1, entityObjectList, node);
                            }
                            parentNode.addNode(node);
                        }
                    }
                }
            };
            this._updateColliderForFirstCheck(entityObjectList);
            var _a = this._getWorldExtends(entityObjectList), worldMin = _a.worldMin, worldMax = _a.worldMax;
            this._root = wd.OctreeNode.create(worldMin, worldMax, maxNodeCapacity, currentDepth + 1, maxDepth);
            buildTree(worldMin, worldMax, currentDepth, entityObjectList, this._root);
        };
        Octree.prototype.getRenderListByFrustumCull = function () {
            var frustumPlanes = wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController).getPlanes();
            return this._visitRoot("findAndAddToRenderList", [frustumPlanes, this._selectionList]);
        };
        Octree.prototype.getIntersectListWithRay = function (e) {
            var locationInView = e.locationInView;
            return this._visitRoot("findAndAddToIntersectList", [wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController).createRay(locationInView.x, locationInView.y), this._selectionList]);
        };
        Octree.prototype.getCollideObjects = function (shape) {
            return this._visitRoot("findAndAddToCollideList", [shape, this._selectionList]);
        };
        Octree.prototype.getChildren = function () {
            return this.entityObject.getChildren();
        };
        Octree.prototype._visitRoot = function (method, args) {
            this._selectionList.removeAllChildren();
            this._root.nodeList.forEach(function (topNode) {
                topNode[method].apply(topNode, args);
            });
            this._selectionList = this._selectionList.removeRepeatItems();
            return this._selectionList;
        };
        Octree.prototype._updateColliderForFirstCheck = function (entityObjectList) {
            var collider = null, self = this;
            entityObjectList.forEach(function (entityObject) {
                if (!entityObject.hasComponent(wd.ColliderForFirstCheck)) {
                    collider = self._createCollider();
                    entityObject.addComponent(collider);
                    collider.init();
                }
                else {
                    collider = entityObject.getComponent(wd.BoxColliderForFirstCheck);
                }
                collider.update(null);
            });
        };
        Octree.prototype._getWorldExtends = function (entityObjectList) {
            var worldMin = wd.Vector3.create(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE), worldMax = wd.Vector3.create(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE), self = this;
            entityObjectList.forEach(function (entityObject) {
                var min = null, max = null, collider = null, shape = null;
                collider = entityObject.getComponent(wd.BoxColliderForFirstCheck);
                shape = collider.shape;
                min = shape.getMin();
                max = shape.getMax();
                self._checkExtends(min, worldMin, worldMax);
                self._checkExtends(max, worldMin, worldMax);
            });
            return {
                worldMin: worldMin,
                worldMax: worldMax
            };
        };
        Octree.prototype._createCollider = function () {
            return wd.BoxColliderForFirstCheck.create();
        };
        Octree.prototype._checkExtends = function (v, min, max) {
            if (v.x < min.x) {
                min.x = v.x;
            }
            if (v.y < min.y) {
                min.y = v.y;
            }
            if (v.z < min.z) {
                min.z = v.z;
            }
            if (v.x > max.x) {
                max.x = v.x;
            }
            if (v.y > max.y) {
                max.y = v.y;
            }
            if (v.z > max.z) {
                max.z = v.z;
            }
        };
        __decorate([
            wd.require(function (entityObject) {
                wd.assert(entityObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("Octree component", "add to GameObject"));
            })
        ], Octree.prototype, "addToObject", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController), wd.Log.info.FUNC_SHOULD("contain CameraController component"));
            })
        ], Octree.prototype, "getRenderListByFrustumCull", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController), wd.Log.info.FUNC_SHOULD("contain CameraController component"));
            })
        ], Octree.prototype, "getIntersectListWithRay", null);
        return Octree;
    }(wd.SpacePartition));
    wd.Octree = Octree;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var OctreeNode = (function () {
        function OctreeNode(minPoint, maxPoint, capacity, depth, maxDepth) {
            this.entityObjectList = wdCb.Collection.create();
            this.nodeList = wdCb.Collection.create();
            this._depth = null;
            this._maxDepth = null;
            this._capacity = null;
            this._minPoint = null;
            this._maxPoint = null;
            this._boundingVectors = null;
            this._capacity = capacity;
            this._depth = depth;
            this._maxDepth = maxDepth;
            this._minPoint = minPoint;
            this._maxPoint = maxPoint;
        }
        OctreeNode.create = function (minPoint, maxPoint, capacity, depth, maxDepth) {
            var obj = new this(minPoint, maxPoint, capacity, depth, maxDepth);
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(OctreeNode.prototype, "entityObjectCount", {
            get: function () {
                return this.entityObjectList.getCount();
            },
            enumerable: true,
            configurable: true
        });
        OctreeNode.prototype.initWhenCreate = function () {
            this._boundingVectors = wd.BoundingRegionUtils.buildBoundingVectors(this._minPoint, this._maxPoint);
        };
        OctreeNode.prototype.addEntityObjects = function (entityObjectList) {
            var self = this, localMin = this._minPoint, localMax = this._maxPoint;
            entityObjectList.forEach(function (entityObject) {
                if (entityObject.getComponent(wd.BoxColliderForFirstCheck).shape.isIntersectWithBox(localMin, localMax)) {
                    self.entityObjectList.addChild(entityObject);
                }
            });
        };
        OctreeNode.prototype.addNode = function (node) {
            this.nodeList.addChild(node);
        };
        OctreeNode.prototype.findAndAddToRenderList = function (frustumPlanes, selectionList) {
            if (wd.BoundingRegionUtils.isAABBIntersectFrustum(this._boundingVectors, frustumPlanes)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToRenderList(frustumPlanes, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList);
            }
        };
        OctreeNode.prototype.findAndAddToIntersectList = function (ray, selectionList) {
            if (ray.isIntersectWithAABB(this._minPoint, this._maxPoint)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToIntersectList(ray, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList);
            }
        };
        OctreeNode.prototype.findAndAddToCollideList = function (shape, selectionList) {
            if (shape.isIntersectWithBox(this._minPoint, this._maxPoint)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToCollideList(shape, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList);
            }
        };
        OctreeNode.prototype._hasNode = function () {
            return this.nodeList.getCount() > 0;
        };
        __decorate([
            wd.require(function (entityObjectList) {
                entityObjectList.forEach(function (entityObject) {
                    wd.assert(entityObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("add gameObjects"));
                });
            })
        ], OctreeNode.prototype, "addEntityObjects", null);
        return OctreeNode;
    }());
    wd.OctreeNode = OctreeNode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColliderForFirstCheck = (function (_super) {
        __extends(ColliderForFirstCheck, _super);
        function ColliderForFirstCheck() {
            _super.apply(this, arguments);
        }
        return ColliderForFirstCheck;
    }(wd.Component));
    wd.ColliderForFirstCheck = ColliderForFirstCheck;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxColliderForFirstCheck = (function (_super) {
        __extends(BoxColliderForFirstCheck, _super);
        function BoxColliderForFirstCheck() {
            _super.apply(this, arguments);
            this._collider = wd.BoxCollider.create();
        }
        BoxColliderForFirstCheck.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BoxColliderForFirstCheck.prototype, "shape", {
            get: function () {
                return this._collider.shape;
            },
            enumerable: true,
            configurable: true
        });
        BoxColliderForFirstCheck.prototype.init = function () {
            this._collider.entityObject = this.entityObject;
            this._collider.init();
        };
        BoxColliderForFirstCheck.prototype.update = function (elapsedTime) {
            this._collider.update(elapsedTime);
        };
        return BoxColliderForFirstCheck;
    }(wd.ColliderForFirstCheck));
    wd.BoxColliderForFirstCheck = BoxColliderForFirstCheck;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Collider = (function (_super) {
        __extends(Collider, _super);
        function Collider() {
            _super.apply(this, arguments);
            this.type = wd.ABSTRACT_ATTRIBUTE;
            this.boundingRegion = null;
        }
        Object.defineProperty(Collider.prototype, "shape", {
            get: function () {
                return this.boundingRegion.shape;
            },
            enumerable: true,
            configurable: true
        });
        Collider.prototype.init = function () {
            this.boundingRegion = this.createBoundingRegion();
            this.boundingRegion.init();
            this.buildBoundingRegion();
        };
        Collider.prototype.update = function (elapsedTime) {
            this.boundingRegion.update();
        };
        Collider.prototype.updateShape = function () {
            this.boundingRegion.updateShape();
        };
        Collider.prototype.isIntersectWith = function (collider) {
            if (collider instanceof wd.BoxCollider) {
                return this.boundingRegion.isIntersectWithBox(collider.boundingRegion);
            }
            else if (collider instanceof wd.SphereCollider) {
                return this.boundingRegion.isIntersectWithSphere(collider.boundingRegion);
            }
            else {
                wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT(this.type + " collider", "intersect with " + collider.type + " collider"));
            }
        };
        Collider.prototype.isCollide = function (targetObject) {
            var collider = null;
            if (this._isSelf(targetObject) || !targetObject.hasComponent(Collider)) {
                return false;
            }
            collider = targetObject.getComponent(Collider);
            if (targetObject.hasComponent(wd.RigidBody)) {
                collider.updateShape();
            }
            return this.isIntersectWith(collider);
        };
        Collider.prototype._isSelf = function (entityObject) {
            return wd.JudgeUtils.isSelf(this.entityObject, entityObject);
        };
        __decorate([
            wd.require(function (collider) {
                wd.assert(collider instanceof Collider, wd.Log.info.FUNC_SHOULD("target", "be collider"));
            })
        ], Collider.prototype, "isIntersectWith", null);
        return Collider;
    }(wd.Component));
    wd.Collider = Collider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxCollider = (function (_super) {
        __extends(BoxCollider, _super);
        function BoxCollider() {
            _super.apply(this, arguments);
            this.center = wd.Vector3.create(0, 0, 0);
            this.halfExtents = null;
            this.type = wd.EColliderType.BOX;
        }
        BoxCollider.create = function () {
            var obj = new this();
            return obj;
        };
        BoxCollider.prototype.createBoundingRegion = function () {
            return wd.BoxBoundingRegion.create(this.entityObject);
        };
        BoxCollider.prototype.buildBoundingRegion = function () {
            this.boundingRegion.build(this.center, this.halfExtents);
        };
        return BoxCollider;
    }(wd.Collider));
    wd.BoxCollider = BoxCollider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereCollider = (function (_super) {
        __extends(SphereCollider, _super);
        function SphereCollider() {
            _super.apply(this, arguments);
            this.center = wd.Vector3.create(0, 0, 0);
            this.radius = null;
            this.type = wd.EColliderType.SPHERE;
        }
        SphereCollider.create = function () {
            var obj = new this();
            return obj;
        };
        SphereCollider.prototype.createBoundingRegion = function () {
            return wd.SphereBoundingRegion.create(this.entityObject);
        };
        SphereCollider.prototype.buildBoundingRegion = function () {
            this.boundingRegion.build(this.center, this.radius);
        };
        return SphereCollider;
    }(wd.Collider));
    wd.SphereCollider = SphereCollider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoundingRegion = (function () {
        function BoundingRegion(entityObject) {
            this.shape = null;
            this.entityObject = null;
            this.isUserSpecifyTheRegion = false;
            this.originShape = null;
            this.debugObject = null;
            this.entityObject = entityObject;
        }
        BoundingRegion.prototype.init = function () {
            this.shape = this.createShape();
        };
        BoundingRegion.prototype.build = function (center) {
            var args = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                args[_i - 1] = arguments[_i];
            }
            var params = Array.prototype.slice.call(arguments, 0);
            if (this.isBuildUserSpecifyBoundingRegion.apply(this, params)) {
                this.isUserSpecifyTheRegion = true;
                this.shape.setFromShapeParam.apply(this.shape, params);
            }
            else {
                this.shape.setFromPoints(wd.ColliderUtils.getVertices(this.entityObject));
            }
            this.originShape = this.shape.copy();
            if (wd.DebugConfig.debugCollision) {
                this.debugObject = this.buildDebugObjectFromShape(this.shape);
                wd.Director.getInstance().scene.addChild(this.debugObject);
            }
        };
        BoundingRegion.prototype.update = function () {
            if (this.isNotTransformed()) {
                return;
            }
            if (wd.DebugConfig.debugCollision) {
                this.updateShape();
                this.updateDebugObjectFromShape(this.shape);
            }
            else if (!this.entityObject.hasComponent(wd.RigidBody)) {
                this.updateShape();
            }
        };
        BoundingRegion.prototype.isIntersectWithSphere = function (boundingRegion) {
            return this.shape.isIntersectWithSphere(boundingRegion.shape);
        };
        BoundingRegion.prototype.isIntersectWithBox = function (boundingRegion) {
            return this.shape.isIntersectWithBox(boundingRegion.shape);
        };
        BoundingRegion.prototype.buildDebugObjectFromShape = function (shape) {
            var material = null, geometry = null, renderer = null, entityObject = null;
            material = wd.BasicMaterial.create();
            material.color = wd.Color.create("rgb(255,0,0)");
            geometry = wd.CustomGeometry.create();
            geometry.material = material;
            geometry.drawMode = wd.EDrawMode.LINES;
            this.setDebugObjectGeometry(geometry, shape);
            renderer = wd.MeshRenderer.create();
            entityObject = wd.GameObject.create();
            entityObject.addComponent(geometry);
            entityObject.addComponent(renderer);
            entityObject.transform.translate(shape.center);
            entityObject.name = "debugBoundingRegion" + this.entityObject.uid;
            entityObject.init();
            return entityObject;
        };
        __decorate([
            wd.ensure(function (returnValue, center) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                if (this.isBuildUserSpecifyBoundingRegion.apply(this, Array.prototype.slice.call(arguments, 1))) {
                    wd.assert(this.shape.center.isEqual(center), wd.Log.info.FUNC_SHOULD_NOT("transform shape when build"));
                }
            })
        ], BoundingRegion.prototype, "build", null);
        return BoundingRegion;
    }());
    wd.BoundingRegion = BoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxBoundingRegion = (function (_super) {
        __extends(BoxBoundingRegion, _super);
        function BoxBoundingRegion() {
            _super.apply(this, arguments);
        }
        BoxBoundingRegion.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        BoxBoundingRegion.prototype.updateShape = function () {
            var transform = this.entityObject.transform;
            if (this.isUserSpecifyTheRegion) {
                this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
            }
            else {
                if (transform.isRotate) {
                    this.shape.setFromObject(this.entityObject);
                }
                else {
                    this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
                }
            }
        };
        BoxBoundingRegion.prototype.createShape = function () {
            return wd.AABBShape.create();
        };
        BoxBoundingRegion.prototype.updateDebugObjectFromShape = function (shape) {
            var geometry = this.debugObject.getComponent(wd.CustomGeometry);
            this.setDebugObjectGeometry(geometry, shape);
            this.debugObject.transform.position = shape.center;
        };
        BoxBoundingRegion.prototype.setDebugObjectGeometry = function (geometry, shape) {
            var halfExtents = shape.halfExtents, x = halfExtents.x, y = halfExtents.y, z = halfExtents.z;
            geometry.vertices = [
                -x, -y, -z, -x, -y, z, x, -y, z, x, -y, -z,
                -x, y, -z, -x, y, z, x, y, z, x, y, -z
            ];
            geometry.indices = [
                0, 1, 1, 2, 2, 3, 3, 0,
                4, 5, 5, 6, 6, 7, 7, 4,
                0, 4, 1, 5, 2, 6, 3, 7
            ];
        };
        BoxBoundingRegion.prototype.isBuildUserSpecifyBoundingRegion = function (center, halfExtents) {
            return !!center && !!halfExtents;
        };
        BoxBoundingRegion.prototype.isNotTransformed = function () {
            var transform = this.entityObject.transform;
            return !transform.isRotate && !transform.isTranslate && !transform.isScale;
        };
        __decorate([
            wd.require(function (shape) {
                wd.assert(this.debugObject, wd.Log.info.FUNC_SHOULD("build debugObject"));
            })
        ], BoxBoundingRegion.prototype, "updateDebugObjectFromShape", null);
        __decorate([
            wd.require(function (geometry, shape) {
                wd.assert(shape.halfExtents && !shape.halfExtents.isZero(), wd.Log.info.FUNC_SHOULD_NOT("halfExtents", "be zero"));
            })
        ], BoxBoundingRegion.prototype, "setDebugObjectGeometry", null);
        return BoxBoundingRegion;
    }(wd.BoundingRegion));
    wd.BoxBoundingRegion = BoxBoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereBoundingRegion = (function (_super) {
        __extends(SphereBoundingRegion, _super);
        function SphereBoundingRegion() {
            _super.apply(this, arguments);
        }
        SphereBoundingRegion.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        SphereBoundingRegion.prototype.updateShape = function () {
            var transform = this.entityObject.transform;
            this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
        };
        SphereBoundingRegion.prototype.createShape = function () {
            return wd.SphereShape.create();
        };
        SphereBoundingRegion.prototype.updateDebugObjectFromShape = function (shape) {
            this.debugObject.transform.position = shape.center;
            var scaleTimes = shape.radius / this.originShape.radius;
            this.debugObject.transform.scale = wd.Vector3.create(scaleTimes, scaleTimes, scaleTimes);
        };
        SphereBoundingRegion.prototype.isNotTransformed = function () {
            var transform = this.entityObject.transform;
            return !transform.isTranslate && !transform.isScale;
        };
        SphereBoundingRegion.prototype.isBuildUserSpecifyBoundingRegion = function (center, radius) {
            return !!center && !!radius;
        };
        SphereBoundingRegion.prototype.setDebugObjectGeometry = function (geometry, shape) {
            var SEGMENTS = 40, RINGCOUNT = 3;
            var radius = shape.radius, vertices = [], x = 0;
            for (var ring = 0; ring < RINGCOUNT; ring++) {
                var xo = 0, yo = 1, zo = 2, theta = null;
                if (ring === 1) {
                    xo = 1;
                    yo = 0;
                    zo = 2;
                }
                else if (ring === 2) {
                    xo = 0;
                    yo = 2;
                    zo = 1;
                }
                for (var i = 0; i < SEGMENTS; i++) {
                    theta = 2 * Math.PI * (i / SEGMENTS);
                    vertices[x + xo] = radius * Math.cos(theta);
                    vertices[x + yo] = 0;
                    vertices[x + zo] = radius * Math.sin(theta);
                    x += 3;
                    theta = 2 * Math.PI * ((i + 1) / SEGMENTS);
                    vertices[x + xo] = radius * Math.cos(theta);
                    vertices[x + yo] = 0;
                    vertices[x + zo] = radius * Math.sin(theta);
                    x += 3;
                }
            }
            geometry.vertices = vertices;
        };
        __decorate([
            wd.require(function (shape) {
                wd.assert(this.debugObject, wd.Log.info.FUNC_SHOULD("build debugObject"));
            })
        ], SphereBoundingRegion.prototype, "updateDebugObjectFromShape", null);
        __decorate([
            wd.require(function (geometry, shape) {
                wd.assert(shape.radius > 0, wd.Log.info.FUNC_SHOULD("radius", "> 0"));
            })
        ], SphereBoundingRegion.prototype, "setDebugObjectGeometry", null);
        return SphereBoundingRegion;
    }(wd.BoundingRegion));
    wd.SphereBoundingRegion = SphereBoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoundingRegionUtils = (function () {
        function BoundingRegionUtils() {
        }
        BoundingRegionUtils.isAABBInFrustum = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var boundingVectors = null, frustumPlanes = null;
            if (args.length === 2) {
                boundingVectors = args[0];
                frustumPlanes = args[1];
            }
            else if (args.length === 3) {
                var minPoint = args[0], maxPoint = args[1];
                boundingVectors = this.buildBoundingVectors(minPoint, maxPoint);
                frustumPlanes = args[2];
            }
            for (var p = 0; p < 6; p++) {
                for (var i = 0; i < 8; i++) {
                    if (frustumPlanes[p].dotCoordinate(boundingVectors[i]) < 0) {
                        return false;
                    }
                }
            }
            return true;
        };
        BoundingRegionUtils.isAABBIntersectFrustum = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var boundingVectors = null, frustumPlanes = null;
            if (args.length === 2) {
                boundingVectors = args[0];
                frustumPlanes = args[1];
            }
            else if (args.length === 3) {
                var minPoint = args[0], maxPoint = args[1];
                boundingVectors = this.buildBoundingVectors(minPoint, maxPoint);
                frustumPlanes = args[2];
            }
            for (var p = 0; p < 6; p++) {
                var inCount = 8;
                for (var i = 0; i < 8; i++) {
                    if (frustumPlanes[p].dotCoordinate(boundingVectors[i]) < 0) {
                        inCount--;
                    }
                    else {
                        break;
                    }
                }
                if (inCount === 0) {
                    return false;
                }
            }
            return true;
        };
        BoundingRegionUtils.buildBoundingVectors = function (minPoint, maxPoint) {
            var boundingVectors = [];
            boundingVectors.push(minPoint.copy());
            boundingVectors.push(maxPoint.copy());
            boundingVectors.push(minPoint.copy());
            boundingVectors[2].x = maxPoint.x;
            boundingVectors.push(minPoint.copy());
            boundingVectors[3].y = maxPoint.y;
            boundingVectors.push(minPoint.copy());
            boundingVectors[4].z = maxPoint.z;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[5].z = minPoint.z;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[6].x = minPoint.x;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[7].y = minPoint.y;
            return boundingVectors;
        };
        return BoundingRegionUtils;
    }());
    wd.BoundingRegionUtils = BoundingRegionUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Shape = (function () {
        function Shape() {
            this.center = wd.Vector3.create(0, 0, 0);
        }
        Shape.prototype.isBoxAndSphereIntersected = function (box, sphere) {
            var sphereCenter = sphere.center, sphereRadius = sphere.radius;
            return sphereCenter.distanceToSquared(box.closestPointTo(sphereCenter)) < Math.pow(sphereRadius, 2);
        };
        return Shape;
    }());
    wd.Shape = Shape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AABBShape = (function (_super) {
        __extends(AABBShape, _super);
        function AABBShape() {
            _super.apply(this, arguments);
            this.halfExtents = wd.Vector3.create(0.5, 0.5, 0.5);
        }
        AABBShape.create = function () {
            var obj = new this();
            return obj;
        };
        AABBShape.getCenter = function (min, max) {
            return wd.Vector3.create().add2(max, min).scale(0.5);
        };
        AABBShape.getHalfExtents = function (min, max) {
            return wd.Vector3.create().sub2(max, min).scale(0.5);
        };
        AABBShape.prototype.setMinMax = function (min, max) {
            this.center = AABBShape.getCenter(min, max);
            this.halfExtents = AABBShape.getHalfExtents(min, max);
        };
        AABBShape.prototype.getMin = function () {
            return this.center.copy().sub(this.halfExtents);
        };
        AABBShape.prototype.getMax = function () {
            return this.center.copy().add(this.halfExtents);
        };
        AABBShape.prototype.setFromShapeParam = function (center, halfExtents) {
            this.center = center;
            this.halfExtents = halfExtents;
        };
        AABBShape.prototype.setFromPoints = function (points) {
            var self = this, min = this._getEmptyMin(), max = this._getEmptyMax();
            wd.GeometryUtils.iterateThreeComponent(points, function (point) {
                self._expandByPoint(point, min, max);
            });
            this.setMinMax(min, max);
            return this;
        };
        AABBShape.prototype.setFromTransformedAABB = function (aabb, matrix) {
            var bc = this.center, br = this.halfExtents, ac = aabb.center.values, ar = aabb.halfExtents.values, m = matrix.values, mx0 = m[0], mx1 = m[4], mx2 = m[8], my0 = m[1], my1 = m[5], my2 = m[9], mz0 = m[2], mz1 = m[6], mz2 = m[10], mx0a = Math.abs(mx0), mx1a = Math.abs(mx1), mx2a = Math.abs(mx2), my0a = Math.abs(my0), my1a = Math.abs(my1), my2a = Math.abs(my2), mz0a = Math.abs(mz0), mz1a = Math.abs(mz1), mz2a = Math.abs(mz2);
            bc.set(m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2], m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2], m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2]);
            br.set(mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2], my0a * ar[0] + my1a * ar[1] + my2a * ar[2], mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2]);
        };
        AABBShape.prototype.setFromTranslationAndScale = function (aabb, matrix) {
            var translation = matrix.getTranslation(), scale = matrix.getScale();
            this.center = aabb.center.copy().add(translation);
            this.halfExtents = aabb.halfExtents.copy().mul(scale);
        };
        AABBShape.prototype.setFromObject = function (entityObject) {
            var modelMatrix = entityObject.transform.localToWorldMatrix, vertices = wd.ColliderUtils.getVertices(entityObject), self = this, min = this._getEmptyMin(), max = this._getEmptyMax();
            wd.GeometryUtils.iterateThreeComponent(vertices, function (point) {
                point.applyMatrix4(modelMatrix);
                self._expandByPoint(point, min, max);
            });
            this.setMinMax(min, max);
        };
        AABBShape.prototype.isIntersectWithBox = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var aMax = this.getMax(), aMin = this.getMin(), bMax = null, bMin = null;
            if (args.length === 1) {
                var shape = args[0];
                bMin = shape.getMin();
                bMax = shape.getMax();
            }
            else if (args.length === 2) {
                bMin = args[0];
                bMax = args[1];
            }
            return (aMin.x <= bMax.x) && (aMax.x >= bMin.x) &&
                (aMin.y <= bMax.y) && (aMax.y >= bMin.y) &&
                (aMin.z <= bMax.z) && (aMax.z >= bMin.z);
        };
        AABBShape.prototype.isIntersectWithSphere = function (shape) {
            return this.isBoxAndSphereIntersected(this, shape);
        };
        AABBShape.prototype.isIntersectWithRay = function (ray) {
            return ray.isIntersectWithAABB(this);
        };
        AABBShape.prototype.closestPointTo = function (point) {
            var min = this.getMin(), max = this.getMax(), resultPoint = wd.Vector3.create();
            if (point.x < min.x) {
                resultPoint.x = min.x;
            }
            else if (point.x > max.x) {
                resultPoint.x = max.x;
            }
            else {
                resultPoint.x = point.x;
            }
            if (point.y < min.y) {
                resultPoint.y = min.y;
            }
            else if (point.y > max.y) {
                resultPoint.y = max.y;
            }
            else {
                resultPoint.y = point.y;
            }
            if (point.z < min.z) {
                resultPoint.z = min.z;
            }
            else if (point.z > max.z) {
                resultPoint.z = max.z;
            }
            else {
                resultPoint.z = point.z;
            }
            return resultPoint;
        };
        AABBShape.prototype.containPoint = function (point) {
            var min = this.getMin(), max = this.getMax();
            for (var i = 0; i < 3; ++i) {
                if (point.values[i] < min.values[i] || point.values[i] > max.values[i]) {
                    return false;
                }
            }
            return true;
        };
        AABBShape.prototype.copy = function () {
            var shape = AABBShape.create();
            shape.center = this.center.copy();
            shape.halfExtents = this.halfExtents.copy();
            return shape;
        };
        AABBShape.prototype._getEmptyMin = function () {
            return wd.Vector3.create(Infinity, Infinity, Infinity);
        };
        AABBShape.prototype._getEmptyMax = function () {
            return wd.Vector3.create(-Infinity, -Infinity, -Infinity);
        };
        AABBShape.prototype._expandByPoint = function (point, min, max) {
            min.min(point);
            max.max(point);
        };
        __decorate([
            wd.require(function (entityObject) {
                var vertices = wd.ColliderUtils.getVertices(entityObject);
                wd.assert(vertices && vertices.length > 0, wd.Log.info.FUNC_MUST_DEFINE("vertices"));
            })
        ], AABBShape.prototype, "setFromObject", null);
        return AABBShape;
    }(wd.Shape));
    wd.AABBShape = AABBShape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereShape = (function (_super) {
        __extends(SphereShape, _super);
        function SphereShape() {
            _super.apply(this, arguments);
            this.radius = 1;
        }
        SphereShape.create = function () {
            var obj = new this();
            return obj;
        };
        SphereShape.prototype.setFromShapeParam = function (center, radius) {
            this.center = center;
            this.radius = radius;
        };
        SphereShape.prototype.setFromPoints = function (points) {
            var aabb = wd.AABBShape.create();
            this.center = aabb.setFromPoints(points).center;
            this.radius = this._findMaxDistanceOfPointsToCenter(points);
        };
        SphereShape.prototype.setFromTranslationAndScale = function (sphere, matrix) {
            var translation = matrix.getTranslation(), scale = matrix.getScale();
            this.center = sphere.center.copy().add(translation);
            this.radius = sphere.radius * Math.max(scale.x, scale.y, scale.z);
        };
        SphereShape.prototype.isIntersectWithSphere = function (shape) {
            var radiusSum = this.radius + shape.radius;
            return shape.center.distanceToSquared(this.center) <= (Math.pow(radiusSum, 2));
        };
        SphereShape.prototype.isIntersectWithBox = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var shape = null;
            if (args.length === 1) {
                shape = args[0];
            }
            else if (args.length === 2) {
                var min = args[0], max = args[1];
                shape = wd.AABBShape.create();
                shape.setMinMax(min, max);
            }
            return this.isBoxAndSphereIntersected(shape, this);
        };
        SphereShape.prototype.isIntersectWithRay = function (ray) {
            return ray.isIntersectWithSphere(this);
        };
        SphereShape.prototype.containPoint = function (point) {
            return point.distanceToSquared(this.center) <= (Math.pow(this.radius, 2));
        };
        SphereShape.prototype.copy = function () {
            var shape = SphereShape.create();
            shape.center = this.center.copy();
            shape.radius = this.radius;
            return shape;
        };
        SphereShape.prototype._findMaxDistanceOfPointsToCenter = function (points) {
            var maxRadiusSq = 0, center = this.center;
            wd.GeometryUtils.iterateThreeComponent(points, function (point) {
                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(point));
            });
            return Math.sqrt(maxRadiusSq);
        };
        return SphereShape;
    }(wd.Shape));
    wd.SphereShape = SphereShape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EColliderType) {
        EColliderType[EColliderType["BOX"] = "box"] = "BOX";
        EColliderType[EColliderType["SPHERE"] = "sphere"] = "SPHERE";
    })(wd.EColliderType || (wd.EColliderType = {}));
    var EColliderType = wd.EColliderType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColliderUtils = (function () {
        function ColliderUtils() {
        }
        ColliderUtils.getVertices = function (entityObject) {
            if (!entityObject.hasComponent(wd.Geometry)) {
                if (entityObject.hasTag(wd.EWDTag.CONTAINER)) {
                    return entityObject.getChild(0).getComponent(wd.Geometry).vertices;
                }
                return null;
            }
            return entityObject.getComponent(wd.Geometry).geometryData.vertices;
        };
        __decorate([
            wd.require(function (entityObject) {
                if (!entityObject.hasComponent(wd.Geometry)) {
                    if (entityObject.hasTag(wd.EWDTag.CONTAINER)) {
                        var firstChildVertices = entityObject.getChild(0).getComponent(wd.Geometry).vertices, secondChildVertices = entityObject.getChild(1).getComponent(wd.Geometry).vertices;
                        wd.assert(!!firstChildVertices && firstChildVertices.length === secondChildVertices.length, wd.Log.info.FUNC_SHOULD("if entityObject is EWDTag.CONTAINER, then its children should has its vertices"));
                    }
                }
            })
        ], ColliderUtils, "getVertices", null);
        return ColliderUtils;
    }());
    wd.ColliderUtils = ColliderUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RigidBody = (function (_super) {
        __extends(RigidBody, _super);
        function RigidBody() {
            _super.apply(this, arguments);
            this._friction = 0;
            this._restitution = 0;
            this._children = wdCb.Collection.create();
            this.lockConstraint = wd.LockConstraint.create(this);
            this.distanceConstraint = wd.DistanceConstraint.create(this);
            this.hingeConstraint = wd.HingeConstraint.create(this);
            this.pointToPointConstraintList = wd.PointToPointConstraintList.create(this);
            this._afterInitSubscription = null;
            this._afterInitRigidbodyAddConstraintSubscription = null;
        }
        Object.defineProperty(RigidBody.prototype, "friction", {
            get: function () {
                return this._friction;
            },
            set: function (friction) {
                this._friction = friction;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RigidBody.prototype, "restitution", {
            get: function () {
                return this._restitution;
            },
            set: function (restitution) {
                this._restitution = restitution;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RigidBody.prototype, "children", {
            get: function () {
                return this._children;
            },
            set: function (children) {
                if (wd.JudgeUtils.isArray(children)) {
                    var arr = children;
                    this._children = wdCb.Collection.create(arr);
                }
                else {
                    var list = children;
                    this._children = list;
                }
                this._children.forEach(function (child) {
                    child.addTag("isRigidbodyChild");
                });
            },
            enumerable: true,
            configurable: true
        });
        RigidBody.prototype.init = function () {
            var self = this;
            this._afterInitSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT)
                .subscribe(function () {
                self._afterInitHandler();
            });
            this._afterInitRigidbodyAddConstraintSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT)
                .subscribe(function () {
                self._afterInitRigidbodyAddConstraintHandler();
            });
        };
        RigidBody.prototype.addConstraint = function () {
            var _this = this;
            var engineAdapter = this.getPhysicsEngineAdapter();
            if (this.lockConstraint && this.lockConstraint.connectedBody) {
                engineAdapter.addLockConstraint(this.entityObject, this.lockConstraint);
            }
            if (this.distanceConstraint && this.distanceConstraint.connectedBody) {
                engineAdapter.addDistanceConstraint(this.entityObject, this.distanceConstraint);
            }
            if (this.hingeConstraint && this.hingeConstraint.connectedBody) {
                engineAdapter.addHingeConstraint(this.entityObject, this.hingeConstraint);
            }
            if (this.pointToPointConstraintList && this.pointToPointConstraintList.getCount() > 0) {
                this.pointToPointConstraintList.forEach(function (constraint) {
                    engineAdapter.addPointToPointConstraint(_this.entityObject, constraint);
                }, this);
            }
        };
        RigidBody.prototype.removeFromObject = function (entityObject) {
            var engineAdapter = this.getPhysicsEngineAdapter();
            if (engineAdapter) {
                this.getPhysicsEngineAdapter().removeGameObject(entityObject);
                this.getPhysicsEngineAdapter().removeConstraints(entityObject);
            }
            _super.prototype.removeFromObject.call(this, entityObject);
        };
        RigidBody.prototype.dispose = function () {
            this._children.forEach(function (child) {
                child.removeTag("isRigidbodyChild");
            }, this);
            this._afterInitSubscription && this._afterInitSubscription.dispose();
            this._afterInitRigidbodyAddConstraintSubscription && this._afterInitRigidbodyAddConstraintSubscription.dispose();
        };
        RigidBody.prototype.getPhysicsEngineAdapter = function () {
            return wd.Director.getInstance().scene.physicsEngineAdapter;
        };
        RigidBody.prototype.isPhysicsEngineAdapterExist = function () {
            return !!wd.Director.getInstance().scene && !!wd.Director.getInstance().scene.physicsEngineAdapter;
        };
        RigidBody.prototype.addBodyToPhysicsEngine = function (method, data) {
            if (data === void 0) { data = {}; }
            var engineAdapter = this.getPhysicsEngineAdapter(), position = this.entityObject.transform.position, rotation = this.entityObject.transform.rotation;
            engineAdapter[method](this.entityObject, wdCb.ExtendUtils.extend({
                position: position,
                rotation: rotation,
                children: this._children,
                lockConstraint: this.lockConstraint,
                onContact: wdCb.FunctionUtils.bind(this, this._onContact),
                onCollisionStart: wdCb.FunctionUtils.bind(this, this._onCollisionStart),
                onCollisionEnd: wdCb.FunctionUtils.bind(this, this._onCollisionEnd),
                friction: this.friction,
                restitution: this.restitution
            }, data));
        };
        RigidBody.prototype._onContact = function (collideObject) {
            this.entityObject.execScript("onContact", wdCb.Collection.create([collideObject]));
        };
        RigidBody.prototype._onCollisionStart = function (collideObject) {
            this.entityObject.execScript("onCollisionStart", wdCb.Collection.create([collideObject]));
        };
        RigidBody.prototype._onCollisionEnd = function () {
            this.entityObject.execScript("onCollisionEnd");
        };
        RigidBody.prototype._isContainer = function (entityObject) {
            var rigidBody = entityObject.getComponent(RigidBody);
            return rigidBody.children.getCount() > 0;
        };
        RigidBody.prototype._afterInitHandler = function () {
            this.addBody();
        };
        RigidBody.prototype._afterInitRigidbodyAddConstraintHandler = function () {
            this.addConstraint();
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("Friction")
        ], RigidBody.prototype, "friction", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Restitution")
        ], RigidBody.prototype, "restitution", null);
        __decorate([
            wd.require(function () {
                if (this._isContainer(this.entityObject)) {
                    wd.assert(!this.entityObject.getComponent(wd.Collider), wd.Log.info.FUNC_SHOULD_NOT("container", "add collider component in the case of compound"));
                }
                else {
                    wd.assert(!!this.entityObject.getComponent(wd.Collider), wd.Log.info.FUNC_MUST_DEFINE("collider component when add rigid body component"));
                    wd.assert(!!this.entityObject.getComponent(wd.Collider).shape, wd.Log.info.FUNC_SHOULD("create collider.shape before adding rigid body component"));
                }
            })
        ], RigidBody.prototype, "addBodyToPhysicsEngine", null);
        __decorate([
            wd.execOnlyOnce("_isAfterInit")
        ], RigidBody.prototype, "_afterInitHandler", null);
        __decorate([
            wd.execOnlyOnce("_isAfterInitRigidbodyAddConstraint")
        ], RigidBody.prototype, "_afterInitRigidbodyAddConstraintHandler", null);
        return RigidBody;
    }(wd.Component));
    wd.RigidBody = RigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicRigidBody = (function (_super) {
        __extends(DynamicRigidBody, _super);
        function DynamicRigidBody() {
            _super.apply(this, arguments);
            this._linearDamping = 0;
            this._angularDamping = 0;
            this._velocity = wd.Vector3.create(0, 0, 0);
            this._angularVelocity = wd.Vector3.create(0, 0, 0);
            this._mass = 1;
            this.impulse = null;
            this.force = null;
            this.hitPoint = null;
        }
        DynamicRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(DynamicRigidBody.prototype, "linearDamping", {
            get: function () {
                return this._linearDamping;
            },
            set: function (linearDamping) {
                this._linearDamping = linearDamping;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "angularDamping", {
            get: function () {
                return this._angularDamping;
            },
            set: function (angularDamping) {
                this._angularDamping = angularDamping;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "velocity", {
            get: function () {
                return this._velocity;
            },
            set: function (velocity) {
                this._velocity = velocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "angularVelocity", {
            get: function () {
                return this._angularVelocity;
            },
            set: function (angularVelocity) {
                this._angularVelocity = angularVelocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "mass", {
            get: function () {
                return this._mass;
            },
            set: function (mass) {
                this._mass = mass;
            },
            enumerable: true,
            configurable: true
        });
        DynamicRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addDynamicBody", {
                mass: this.mass,
                linearDamping: this.linearDamping,
                angularDamping: this.angularDamping,
                velocity: this.velocity,
                angularVelocity: this.angularVelocity,
                impulse: this.impulse,
                force: this.force,
                hitPoint: this.hitPoint
            });
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("LinearDamping")
        ], DynamicRigidBody.prototype, "linearDamping", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularDamping")
        ], DynamicRigidBody.prototype, "angularDamping", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Velocity")
        ], DynamicRigidBody.prototype, "velocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularVelocity")
        ], DynamicRigidBody.prototype, "angularVelocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Mass")
        ], DynamicRigidBody.prototype, "mass", null);
        return DynamicRigidBody;
    }(wd.RigidBody));
    wd.DynamicRigidBody = DynamicRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var KinematicRigidBody = (function (_super) {
        __extends(KinematicRigidBody, _super);
        function KinematicRigidBody() {
            _super.apply(this, arguments);
            this._velocity = wd.Vector3.create(0, 0, 0);
            this._angularVelocity = wd.Vector3.create(0, 0, 0);
            this._mass = 1;
        }
        KinematicRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(KinematicRigidBody.prototype, "velocity", {
            get: function () {
                return this._velocity;
            },
            set: function (velocity) {
                this._velocity = velocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KinematicRigidBody.prototype, "angularVelocity", {
            get: function () {
                return this._angularVelocity;
            },
            set: function (angularVelocity) {
                this._angularVelocity = angularVelocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KinematicRigidBody.prototype, "mass", {
            get: function () {
                return this._mass;
            },
            set: function (mass) {
                this._mass = mass;
            },
            enumerable: true,
            configurable: true
        });
        KinematicRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addKinematicBody", {
                mass: this.mass,
                velocity: this.velocity,
                angularVelocity: this.angularVelocity
            });
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("Velocity")
        ], KinematicRigidBody.prototype, "velocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularVelocity")
        ], KinematicRigidBody.prototype, "angularVelocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Mass")
        ], KinematicRigidBody.prototype, "mass", null);
        return KinematicRigidBody;
    }(wd.RigidBody));
    wd.KinematicRigidBody = KinematicRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var StaticRigidBody = (function (_super) {
        __extends(StaticRigidBody, _super);
        function StaticRigidBody() {
            _super.apply(this, arguments);
        }
        StaticRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        StaticRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addStaticBody");
        };
        return StaticRigidBody;
    }(wd.RigidBody));
    wd.StaticRigidBody = StaticRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PhysicsConstraint = (function () {
        function PhysicsConstraint(rigidBody) {
            this.maxForce = null;
            this.rigidBody = null;
            this.rigidBody = rigidBody;
        }
        return PhysicsConstraint;
    }());
    wd.PhysicsConstraint = PhysicsConstraint;
    var LockConstraint = (function (_super) {
        __extends(LockConstraint, _super);
        function LockConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
        }
        LockConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(LockConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeLockConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return LockConstraint;
    }(PhysicsConstraint));
    wd.LockConstraint = LockConstraint;
    var DistanceConstraint = (function (_super) {
        __extends(DistanceConstraint, _super);
        function DistanceConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
            this.distance = null;
        }
        DistanceConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(DistanceConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeDistanceConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return DistanceConstraint;
    }(PhysicsConstraint));
    wd.DistanceConstraint = DistanceConstraint;
    var HingeConstraint = (function (_super) {
        __extends(HingeConstraint, _super);
        function HingeConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
            this.pivotA = null;
            this.pivotB = null;
            this.axisA = null;
            this.axisB = null;
        }
        HingeConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(HingeConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeHingeConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return HingeConstraint;
    }(PhysicsConstraint));
    wd.HingeConstraint = HingeConstraint;
    var PointToPointConstraint = (function (_super) {
        __extends(PointToPointConstraint, _super);
        function PointToPointConstraint() {
            _super.apply(this, arguments);
            this.connectedBody = null;
            this.pivotA = null;
            this.pivotB = null;
        }
        PointToPointConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        return PointToPointConstraint;
    }(PhysicsConstraint));
    wd.PointToPointConstraint = PointToPointConstraint;
    var PointToPointConstraintList = (function () {
        function PointToPointConstraintList(rigidBody) {
            this._rigidBody = null;
            this._list = wdCb.Collection.create();
            this._rigidBody = rigidBody;
        }
        PointToPointConstraintList.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        PointToPointConstraintList.prototype.forEach = function (func, context) {
            if (context === void 0) { context = wd.root; }
            this._list.forEach(func, context);
        };
        PointToPointConstraintList.prototype.getCount = function () {
            return this._list.getCount();
        };
        PointToPointConstraintList.prototype.addChild = function (constraint) {
            var engineAdapter = null;
            this._list.addChild(constraint);
            if (!this._rigidBody.isPhysicsEngineAdapterExist()) {
                return;
            }
            engineAdapter = this._rigidBody.getPhysicsEngineAdapter();
            engineAdapter.addPointToPointConstraint(this._rigidBody.entityObject, constraint);
        };
        PointToPointConstraintList.prototype.addChildren = function (arg) {
            var _this = this;
            if (wd.JudgeUtils.isArray(arg)) {
                for (var _i = 0, _a = arg; _i < _a.length; _i++) {
                    var constraint = _a[_i];
                    this.addChild(constraint);
                }
            }
            else {
                var constraintList = arg;
                constraintList.forEach(function (constraint) {
                    _this.addChild(constraint);
                }, this);
            }
        };
        PointToPointConstraintList.prototype.removeChild = function (constraint) {
            var engineAdapter = null;
            this._list.removeChild(constraint);
            if (!this._rigidBody.isPhysicsEngineAdapterExist()) {
                return;
            }
            engineAdapter = this._rigidBody.getPhysicsEngineAdapter();
            engineAdapter.removePointToPointConstraint(constraint);
        };
        return PointToPointConstraintList;
    }());
    wd.PointToPointConstraintList = PointToPointConstraintList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PhysicsEngineFactory = (function () {
        function PhysicsEngineFactory() {
        }
        PhysicsEngineFactory.create = function (type) {
            var result = null;
            switch (type) {
                case wd.EPhysicsEngineType.CANNON:
                    result = wd.CannonAdapter.create();
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNEXPECT("physics engine type"));
                    break;
            }
            return result;
        };
        return PhysicsEngineFactory;
    }());
    wd.PhysicsEngineFactory = PhysicsEngineFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EPhysicsEngineType) {
        EPhysicsEngineType[EPhysicsEngineType["CANNON"] = 0] = "CANNON";
    })(wd.EPhysicsEngineType || (wd.EPhysicsEngineType = {}));
    var EPhysicsEngineType = wd.EPhysicsEngineType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDataList = (function () {
        function CannonDataList() {
            this.dataList = wdCb.Collection.create();
        }
        CannonDataList.prototype.getCount = function () {
            return this.dataList.getCount();
        };
        CannonDataList.prototype.removeByGameObject = function (obj) {
            this.dataList.removeChild(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
        };
        return CannonDataList;
    }());
    wd.CannonDataList = CannonDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonGameObjectDataList = (function (_super) {
        __extends(CannonGameObjectDataList, _super);
        function CannonGameObjectDataList() {
            _super.apply(this, arguments);
        }
        CannonGameObjectDataList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonGameObjectDataList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonGameObjectDataList.prototype.updateBodyTransformData = function () {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                var transform = entityObject.transform;
                if (transform.isTranslate || transform.isRotate) {
                    body.position = wd.CannonUtils.convertToCannonVector3(entityObject.transform.position);
                    body.quaternion = wd.CannonUtils.convertToCannonQuaternion(entityObject.transform.rotation);
                }
            });
        };
        CannonGameObjectDataList.prototype.updateGameObjectTransformData = function () {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                if (entityObject.hasTag("isRigidbodyChild")) {
                    return;
                }
                entityObject.transform.position = wd.CannonUtils.convertToWonderVector3(body.position);
                entityObject.transform.rotation = wd.CannonUtils.convertToWonderQuaternion(body.quaternion);
            });
        };
        CannonGameObjectDataList.prototype.add = function (obj, body) {
            this.dataList.addChild({
                entityObject: obj,
                body: body
            });
        };
        CannonGameObjectDataList.prototype.findGameObjectByBody = function (b) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return body === b;
            });
            return result !== null ? result.entityObject : null;
        };
        CannonGameObjectDataList.prototype.findBodyByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.body : null;
        };
        return CannonGameObjectDataList;
    }(wd.CannonDataList));
    wd.CannonGameObjectDataList = CannonGameObjectDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonMaterialList = (function (_super) {
        __extends(CannonMaterialList, _super);
        function CannonMaterialList() {
            _super.apply(this, arguments);
        }
        CannonMaterialList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonMaterialList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonMaterialList.prototype.findMaterialByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.material : null;
        };
        CannonMaterialList.prototype.add = function (obj, material) {
            this.dataList.addChild({
                entityObject: obj,
                material: material
            });
        };
        CannonMaterialList.prototype.addContactMaterial = function (world, currentMaterial, friction, restitution) {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                world.addContactMaterial(new CANNON.ContactMaterial(material, currentMaterial, {
                    friction: friction,
                    restitution: restitution
                }));
            });
        };
        CannonMaterialList.prototype.getContactMaterialData = function (world, currentMaterial, dataName) {
            var result = null;
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                result = contactMaterial[dataName];
                return wdCb.$BREAK;
            });
            return result;
        };
        CannonMaterialList.prototype.getContactMaterials = function (world, currentMaterial) {
            var resultArr = [];
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                resultArr.push(contactMaterial);
            });
            return resultArr;
        };
        CannonMaterialList.prototype.setContactMaterialData = function (world, currentMaterial, dataName, data) {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                contactMaterial[dataName] = data;
            });
        };
        return CannonMaterialList;
    }(wd.CannonDataList));
    wd.CannonMaterialList = CannonMaterialList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonConstraintDataList = (function (_super) {
        __extends(CannonConstraintDataList, _super);
        function CannonConstraintDataList() {
            _super.apply(this, arguments);
        }
        return CannonConstraintDataList;
    }(wd.CannonDataList));
    wd.CannonConstraintDataList = CannonConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonSingleConstraintDataList = (function (_super) {
        __extends(CannonSingleConstraintDataList, _super);
        function CannonSingleConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonSingleConstraintDataList.prototype.add = function (obj, constraint) {
            this.dataList.addChild({
                entityObject: obj,
                constraint: constraint
            });
        };
        CannonSingleConstraintDataList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonSingleConstraintDataList.prototype.findConstraintByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.constraint : null;
        };
        return CannonSingleConstraintDataList;
    }(wd.CannonConstraintDataList));
    wd.CannonSingleConstraintDataList = CannonSingleConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonLockConstraintDataList = (function (_super) {
        __extends(CannonLockConstraintDataList, _super);
        function CannonLockConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonLockConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonLockConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonLockConstraintDataList = CannonLockConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonPointToPointConstraintDataList = (function (_super) {
        __extends(CannonPointToPointConstraintDataList, _super);
        function CannonPointToPointConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonPointToPointConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonPointToPointConstraintDataList.prototype.filter = function (func) {
            return this.dataList.filter(func);
        };
        CannonPointToPointConstraintDataList.prototype.forEach = function (func) {
            this.dataList.forEach(func);
        };
        CannonPointToPointConstraintDataList.prototype.add = function (entityObject, pointToPointConstraint, constraint) {
            this.dataList.addChild({
                entityObject: entityObject,
                pointToPointConstraint: pointToPointConstraint,
                cannonConstraint: constraint
            });
        };
        CannonPointToPointConstraintDataList.prototype.remove = function (constraint) {
            this.dataList.removeChild(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                return wd.JudgeUtils.isEqual(pointToPointConstraint, constraint);
            });
        };
        CannonPointToPointConstraintDataList.prototype.findCannonConstraintByPointToPointConstraint = function (constraint) {
            var result = this.dataList.findOne(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                return wd.JudgeUtils.isEqual(pointToPointConstraint, constraint);
            });
            return result !== null ? result.cannonConstraint : null;
        };
        return CannonPointToPointConstraintDataList;
    }(wd.CannonConstraintDataList));
    wd.CannonPointToPointConstraintDataList = CannonPointToPointConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDistanceConstraintDataList = (function (_super) {
        __extends(CannonDistanceConstraintDataList, _super);
        function CannonDistanceConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonDistanceConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonDistanceConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonDistanceConstraintDataList = CannonDistanceConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonHingeConstraintDataList = (function (_super) {
        __extends(CannonHingeConstraintDataList, _super);
        function CannonHingeConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonHingeConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonHingeConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonHingeConstraintDataList = CannonHingeConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonUtils = (function () {
        function CannonUtils() {
        }
        CannonUtils.convertToCannonVector3 = function (v) {
            return new CANNON.Vec3(v.x, v.y, v.z);
        };
        CannonUtils.convertToCannonQuaternion = function (rotation) {
            return new CANNON.Quaternion(rotation.x, rotation.y, rotation.z, rotation.w);
        };
        CannonUtils.convertToWonderVector3 = function (v) {
            return wd.Vector3.create(v.x, v.y, v.z);
        };
        CannonUtils.convertToWonderQuaternion = function (r) {
            return wd.Quaternion.create(r.x, r.y, r.z, r.w);
        };
        return CannonUtils;
    }());
    wd.CannonUtils = CannonUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonAdapter = (function () {
        function CannonAdapter() {
            this.world = null;
            this._materialList = wd.CannonMaterialList.create();
            this._gameObjectDataList = wd.CannonGameObjectDataList.create();
            this._lockConstraintDataList = wd.CannonLockConstraintDataList.create();
            this._distanceConstraintDataList = wd.CannonDistanceConstraintDataList.create();
            this._hingeConstraintDataList = wd.CannonHingeConstraintDataList.create();
            this._pointToPointConstraintDataList = wd.CannonPointToPointConstraintDataList.create();
            this._dynamicBody = null;
            this._kinematicBody = null;
            this._staticBody = null;
            this._lockConstraint = null;
            this._distanceConstraint = null;
            this._hingeConstraint = null;
            this._pointToPointConstraint = null;
        }
        CannonAdapter.create = function () {
            var obj = new this();
            return obj;
        };
        CannonAdapter.prototype.getGravity = function (gravity) {
            return wd.CannonUtils.convertToWonderVector3(this.world.gravity);
        };
        CannonAdapter.prototype.setGravity = function (gravity) {
            this.world.gravity = wd.CannonUtils.convertToCannonVector3(gravity);
        };
        CannonAdapter.prototype.getFriction = function (obj, friction) {
            return this._getMaterialData(obj, "friction");
        };
        CannonAdapter.prototype.setFriction = function (obj, friction) {
            this._setMaterialData(obj, "friction", friction);
        };
        CannonAdapter.prototype.getRestitution = function (obj, restitution) {
            return this._getMaterialData(obj, "restitution");
        };
        CannonAdapter.prototype.setRestitution = function (obj, restitution) {
            this._setMaterialData(obj, "restitution", restitution);
        };
        CannonAdapter.prototype.getLinearDamping = function (obj) {
            return this._getNumberData(obj, "linearDamping");
        };
        CannonAdapter.prototype.setLinearDamping = function (obj, linearDamping) {
            return this._setNumberData(obj, "linearDamping", linearDamping);
        };
        CannonAdapter.prototype.getAngularDamping = function (obj) {
            return this._getNumberData(obj, "angularDamping");
        };
        CannonAdapter.prototype.setAngularDamping = function (obj, angularDamping) {
            return this._setNumberData(obj, "angularDamping", angularDamping);
        };
        CannonAdapter.prototype.getMass = function (obj) {
            return this._getNumberData(obj, "mass");
        };
        CannonAdapter.prototype.setMass = function (obj, mass) {
            return this._setNumberData(obj, "mass", mass);
        };
        CannonAdapter.prototype.getVelocity = function (obj) {
            return this._getVec3Data(obj, "velocity");
        };
        CannonAdapter.prototype.setVelocity = function (obj, velocity) {
            this._setVec3Data(obj, "velocity", velocity);
        };
        CannonAdapter.prototype.getAngularVelocity = function (obj) {
            return this._getVec3Data(obj, "angularVelocity");
        };
        CannonAdapter.prototype.setAngularVelocity = function (obj, angularVelocity) {
            this._setVec3Data(obj, "angularVelocity", angularVelocity);
        };
        CannonAdapter.prototype.init = function () {
            var _a = wd.Director.getInstance().scene.physics, gravity = _a.gravity, iterations = _a.iterations;
            this.world = new CANNON.World();
            this.world.broadphase = new CANNON.NaiveBroadphase();
            this.world.solver.iterations = iterations;
            this.world.gravity.set(gravity.x, gravity.y, gravity.z);
            this._dynamicBody = wd.CannonDynamicBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._kinematicBody = wd.CannonKinematicBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._staticBody = wd.CannonStaticBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._lockConstraint = wd.CannonLockConstraint.create(this.world, this._gameObjectDataList, this._lockConstraintDataList);
            this._distanceConstraint = wd.CannonDistanceConstraint.create(this.world, this._gameObjectDataList, this._distanceConstraintDataList);
            this._hingeConstraint = wd.CannonHingeConstraint.create(this.world, this._gameObjectDataList, this._hingeConstraintDataList);
            this._pointToPointConstraint = wd.CannonPointToPointConstraint.create(this.world, this._gameObjectDataList, this._pointToPointConstraintDataList);
        };
        CannonAdapter.prototype.addDynamicBody = function (entityObject, data) {
            this._dynamicBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addKinematicBody = function (entityObject, data) {
            this._kinematicBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addStaticBody = function (entityObject, data) {
            this._staticBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addLockConstraint = function (entityObject, lockConstraint) {
            this._lockConstraint.addConstraint(entityObject, lockConstraint);
        };
        CannonAdapter.prototype.removeLockConstraint = function (entityObject) {
            this._lockConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addDistanceConstraint = function (entityObject, distanceConstraint) {
            this._distanceConstraint.addConstraint(entityObject, distanceConstraint);
        };
        CannonAdapter.prototype.removeDistanceConstraint = function (entityObject) {
            this._distanceConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addHingeConstraint = function (entityObject, hingeConstraint) {
            this._hingeConstraint.addConstraint(entityObject, hingeConstraint);
        };
        CannonAdapter.prototype.removeHingeConstraint = function (entityObject) {
            this._hingeConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addPointToPointConstraint = function (entityObject, pointToPointConstraint) {
            this._pointToPointConstraint.addConstraint(entityObject, pointToPointConstraint);
        };
        CannonAdapter.prototype.removePointToPointConstraint = function (pointToPointConstraint) {
            this._pointToPointConstraint.removeConstraint(pointToPointConstraint);
        };
        CannonAdapter.prototype.removeGameObject = function (obj) {
            var material = this._getMaterial(obj), body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (body) {
                this.world.remove(body);
            }
            this._gameObjectDataList.remove(obj);
            this._materialList.remove(obj);
        };
        CannonAdapter.prototype.removeConstraints = function (obj) {
            var self = this;
            this._lockConstraint.removeConstraint(obj);
            this._distanceConstraint.removeConstraint(obj);
            this._hingeConstraint.removeConstraint(obj);
            this._pointToPointConstraintDataList
                .filter(function (_a) {
                var entityObject = _a.entityObject;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            })
                .forEach(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                self._pointToPointConstraint.removeConstraint(pointToPointConstraint);
            });
        };
        CannonAdapter.prototype.update = function (elapsedTime) {
            this._gameObjectDataList.updateBodyTransformData();
            this.world.step(wd.Director.getInstance().getDeltaTime() / 1000);
            this._gameObjectDataList.updateGameObjectTransformData();
        };
        CannonAdapter.prototype._getMaterial = function (obj) {
            return this._materialList.findMaterialByGameObject(obj);
        };
        CannonAdapter.prototype._getNumberData = function (obj, dataName) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            return body[dataName];
        };
        CannonAdapter.prototype._setNumberData = function (obj, dataName, data) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            body[dataName] = data;
        };
        CannonAdapter.prototype._getVec3Data = function (obj, dataName) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            return wd.CannonUtils.convertToWonderVector3(body[dataName]);
        };
        CannonAdapter.prototype._setVec3Data = function (obj, dataName, data) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            body[dataName] = wd.CannonUtils.convertToCannonVector3(data);
        };
        CannonAdapter.prototype._getMaterialData = function (obj, dataName) {
            var result = null, currentMaterial = this._getMaterial(obj);
            if (!currentMaterial) {
                return null;
            }
            return this._materialList.getContactMaterialData(this.world, currentMaterial, dataName);
        };
        CannonAdapter.prototype._setMaterialData = function (obj, dataName, data) {
            var world = this.world, currentMaterial = this._getMaterial(obj);
            if (!currentMaterial) {
                wd.Log.warn("no material find, please add material first");
                return;
            }
            this._materialList.setContactMaterialData(this.world, currentMaterial, dataName, data);
        };
        __decorate([
            wd.require(function (obj, dataName) {
                var resultArr = [], firstData = null, currentMaterial = this._getMaterial(obj);
                if (!currentMaterial) {
                    return null;
                }
                resultArr = this._materialList.getContactMaterials(this.world, currentMaterial);
                firstData = resultArr[0];
                for (var _i = 0, resultArr_1 = resultArr; _i < resultArr_1.length; _i++) {
                    var data = resultArr_1[_i];
                    wd.assert(data === firstData, wd.Log.info.FUNC_SHOULD("the data of contact material which contains the same material", "be the same"));
                }
            })
        ], CannonAdapter.prototype, "_getMaterialData", null);
        return CannonAdapter;
    }());
    wd.CannonAdapter = CannonAdapter;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonBody = (function () {
        function CannonBody(world, gameObjectDataList, materialList) {
            this.world = null;
            this.materialList = null;
            this.gameObjectList = null;
            this.world = world;
            this.gameObjectList = gameObjectDataList;
            this.materialList = materialList;
        }
        CannonBody.prototype.addBody = function (entityObject, data) {
            var body = this.createBody(data);
            if (data.children.getCount() > 0) {
                this._addCompounds(entityObject, data.children, body);
            }
            else {
                body.addShape(this._createShape(entityObject.getComponent(wd.Collider).shape));
            }
            this.afterAddShape(body, data);
            body.material = this._createMaterial(entityObject, data.friction, data.restitution);
            body.position = wd.CannonUtils.convertToCannonVector3(data.position);
            body.quaternion = wd.CannonUtils.convertToCannonQuaternion(data.rotation);
            this.world.addBody(body);
            this.gameObjectList.add(entityObject, body);
            this._bindCollideEvent(body, data.onCollisionStart, data.onContact, data.onCollisionEnd);
            return body;
        };
        CannonBody.prototype.afterAddShape = function (body, data) {
        };
        CannonBody.prototype._createShape = function (shape) {
            var cannonShape = null;
            if (shape instanceof wd.AABBShape) {
                cannonShape = new CANNON.Box(wd.CannonUtils.convertToCannonVector3(shape.halfExtents));
            }
            else if (shape instanceof wd.SphereShape) {
                cannonShape = new CANNON.Sphere(shape.radius);
            }
            return cannonShape;
        };
        CannonBody.prototype._bindCollideEvent = function (targetBody, onCollisionStart, onContact, onCollisionEnd) {
            var self = this;
            targetBody.addEventListener("collide", function (e) {
                var entityObject = self.gameObjectList.findGameObjectByBody(e.body), collideObject = null;
                if (!entityObject) {
                    return;
                }
                collideObject = entityObject;
                onCollisionStart(collideObject);
                onContact(collideObject);
                onCollisionEnd(collideObject);
            });
        };
        CannonBody.prototype._createMaterial = function (entityObject, friction, restitution) {
            var material = null, currentMaterial = null;
            material = this._getMaterial(entityObject);
            if (material) {
                return material;
            }
            currentMaterial = new CANNON.Material("material");
            this._addMaterial(entityObject, currentMaterial, friction, restitution);
            return currentMaterial;
        };
        CannonBody.prototype._getMaterial = function (obj) {
            return this.materialList.findMaterialByGameObject(obj);
        };
        CannonBody.prototype._addMaterial = function (entityObject, currentMaterial, friction, restitution) {
            this.materialList.add(entityObject, currentMaterial);
            this.materialList.addContactMaterial(this.world, currentMaterial, friction, restitution);
        };
        CannonBody.prototype._addCompounds = function (entityObject, children, body) {
            var _this = this;
            var position = entityObject.transform.position, rotation = entityObject.transform.rotation;
            children.forEach(function (child) {
                body.addShape(_this._createShape(child.getComponent(wd.Collider).shape), wd.CannonUtils.convertToCannonVector3(child.transform.position.copy().sub(position)), wd.CannonUtils.convertToCannonQuaternion(child.transform.rotation.copy().sub(rotation)));
            }, this);
        };
        __decorate([
            wd.virtual
        ], CannonBody.prototype, "afterAddShape", null);
        __decorate([
            wd.require(function (entityObject, children, body) {
                children.forEach(function (child) {
                    wd.assert(!!child.getComponent(wd.Collider), wd.Log.info.FUNC_MUST_DEFINE("collider component"));
                    wd.assert(!!child.getComponent(wd.Collider).shape, wd.Log.info.FUNC_SHOULD("create collider.shape"));
                });
            })
        ], CannonBody.prototype, "_addCompounds", null);
        return CannonBody;
    }());
    wd.CannonBody = CannonBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDynamicBody = (function (_super) {
        __extends(CannonDynamicBody, _super);
        function CannonDynamicBody() {
            _super.apply(this, arguments);
        }
        CannonDynamicBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonDynamicBody.prototype.createBody = function (_a) {
            var mass = _a.mass, linearDamping = _a.linearDamping, angularDamping = _a.angularDamping, velocity = _a.velocity, angularVelocity = _a.angularVelocity;
            return new CANNON.Body({
                mass: mass,
                linearDamping: linearDamping,
                angularDamping: angularDamping,
                velocity: wd.CannonUtils.convertToCannonVector3(velocity),
                angularVelocity: wd.CannonUtils.convertToCannonVector3(angularVelocity)
            });
        };
        CannonDynamicBody.prototype.afterAddShape = function (body, _a) {
            var impulse = _a.impulse, force = _a.force, hitPoint = _a.hitPoint;
            if (impulse && hitPoint) {
                body.applyImpulse(wd.CannonUtils.convertToCannonVector3(impulse), wd.CannonUtils.convertToCannonVector3(hitPoint));
            }
            if (force && hitPoint) {
                body.applyForce(wd.CannonUtils.convertToCannonVector3(force), wd.CannonUtils.convertToCannonVector3(hitPoint));
            }
        };
        return CannonDynamicBody;
    }(wd.CannonBody));
    wd.CannonDynamicBody = CannonDynamicBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonKinematicBody = (function (_super) {
        __extends(CannonKinematicBody, _super);
        function CannonKinematicBody() {
            _super.apply(this, arguments);
        }
        CannonKinematicBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonKinematicBody.prototype.createBody = function (_a) {
            var mass = _a.mass, velocity = _a.velocity, angularVelocity = _a.angularVelocity;
            return new CANNON.Body({
                type: CANNON.Body.KINEMATIC,
                mass: mass,
                velocity: wd.CannonUtils.convertToCannonVector3(velocity),
                angularVelocity: wd.CannonUtils.convertToCannonVector3(angularVelocity)
            });
        };
        return CannonKinematicBody;
    }(wd.CannonBody));
    wd.CannonKinematicBody = CannonKinematicBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonStaticBody = (function (_super) {
        __extends(CannonStaticBody, _super);
        function CannonStaticBody() {
            _super.apply(this, arguments);
        }
        CannonStaticBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonStaticBody.prototype.createBody = function (_a) {
            return new CANNON.Body({
                mass: 0
            });
        };
        return CannonStaticBody;
    }(wd.CannonBody));
    wd.CannonStaticBody = CannonStaticBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonConstraint = (function () {
        function CannonConstraint(world, gameObjectDataList, constraintDataList) {
            this.world = null;
            this.gameObjectList = null;
            this.constraintDataList = null;
            this.world = world;
            this.gameObjectList = gameObjectDataList;
            this.constraintDataList = constraintDataList;
        }
        CannonConstraint.prototype.addConstraint = function (entityObject, wonderConstraint) {
            var constraint = null, body = this.gameObjectList.findBodyByGameObject(entityObject);
            constraint = this.createCannonConstraint(body, wonderConstraint);
            this.world.addConstraint(constraint);
            this.addToConstraintDataList(entityObject, wonderConstraint, constraint);
        };
        CannonConstraint.prototype.findBody = function (rigidBody) {
            return this.gameObjectList.findBodyByGameObject(rigidBody.entityObject);
        };
        __decorate([
            wd.require(function (entityObject, pointToPointConstraint) {
                wd.assert(this.gameObjectList.findBodyByGameObject(entityObject) !== null, wd.Log.info.FUNC_SHOULD("add rigid body"));
                wd.assert(this.findBody(pointToPointConstraint.connectedBody), wd.Log.info.FUNC_SHOULD("add connectedBody"));
            })
        ], CannonConstraint.prototype, "addConstraint", null);
        return CannonConstraint;
    }());
    wd.CannonConstraint = CannonConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonSingleConstraint = (function (_super) {
        __extends(CannonSingleConstraint, _super);
        function CannonSingleConstraint() {
            _super.apply(this, arguments);
        }
        CannonSingleConstraint.prototype.removeConstraint = function (entityObject) {
            var constraint = this.constraintDataList.findConstraintByGameObject(entityObject);
            if (constraint) {
                this.world.removeConstraint(constraint);
            }
            this.constraintDataList.remove(entityObject);
        };
        CannonSingleConstraint.prototype.addToConstraintDataList = function (entityObject, wonderConstraint, cannonConstraint) {
            this.constraintDataList.add(entityObject, cannonConstraint);
        };
        return CannonSingleConstraint;
    }(wd.CannonConstraint));
    wd.CannonSingleConstraint = CannonSingleConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonLockConstraint = (function (_super) {
        __extends(CannonLockConstraint, _super);
        function CannonLockConstraint() {
            _super.apply(this, arguments);
        }
        CannonLockConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonLockConstraint.prototype.createCannonConstraint = function (body, lockConstraint) {
            var constraint = null, connectedBody = this.findBody(lockConstraint.connectedBody);
            if (lockConstraint.maxForce) {
                constraint = new CANNON.LockConstraint(body, connectedBody, lockConstraint.maxForce);
            }
            else {
                constraint = new CANNON.LockConstraint(body, connectedBody);
            }
            return constraint;
        };
        return CannonLockConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonLockConstraint = CannonLockConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonPointToPointConstraint = (function (_super) {
        __extends(CannonPointToPointConstraint, _super);
        function CannonPointToPointConstraint() {
            _super.apply(this, arguments);
        }
        CannonPointToPointConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonPointToPointConstraint.prototype.removeConstraint = function (pointToPointConstraint) {
            var constraint = this.constraintDataList.findCannonConstraintByPointToPointConstraint(pointToPointConstraint);
            if (constraint) {
                this.world.removeConstraint(constraint);
            }
            this.constraintDataList.remove(pointToPointConstraint);
        };
        CannonPointToPointConstraint.prototype.createCannonConstraint = function (body, pointToPointConstraint) {
            var constraint = null, connectedBody = this.findBody(pointToPointConstraint.connectedBody), pivotA = wd.CannonUtils.convertToCannonVector3(pointToPointConstraint.pivotA), pivotB = wd.CannonUtils.convertToCannonVector3(pointToPointConstraint.pivotB);
            if (pointToPointConstraint.maxForce) {
                constraint = new CANNON.PointToPointConstraint(body, pivotA, connectedBody, pivotB, pointToPointConstraint.maxForce);
            }
            else {
                constraint = new CANNON.PointToPointConstraint(body, pivotA, connectedBody, pivotB);
            }
            return constraint;
        };
        CannonPointToPointConstraint.prototype.addToConstraintDataList = function (entityObject, wonderConstraint, cannonConstraint) {
            this.constraintDataList.add(entityObject, wonderConstraint, cannonConstraint);
        };
        return CannonPointToPointConstraint;
    }(wd.CannonConstraint));
    wd.CannonPointToPointConstraint = CannonPointToPointConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDistanceConstraint = (function (_super) {
        __extends(CannonDistanceConstraint, _super);
        function CannonDistanceConstraint() {
            _super.apply(this, arguments);
        }
        CannonDistanceConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonDistanceConstraint.prototype.createCannonConstraint = function (body, distanceConstraint) {
            var constraint = null, connectedBody = this.findBody(distanceConstraint.connectedBody);
            constraint = new CANNON.DistanceConstraint(body, connectedBody, distanceConstraint.distance !== null ? distanceConstraint.distance : void 0, distanceConstraint.maxForce !== null ? distanceConstraint.maxForce : void 0);
            return constraint;
        };
        return CannonDistanceConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonDistanceConstraint = CannonDistanceConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonHingeConstraint = (function (_super) {
        __extends(CannonHingeConstraint, _super);
        function CannonHingeConstraint() {
            _super.apply(this, arguments);
        }
        CannonHingeConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonHingeConstraint.prototype.createCannonConstraint = function (body, hingeConstraint) {
            var constraint = null, connectedBody = this.findBody(hingeConstraint.connectedBody), pivotA = wd.CannonUtils.convertToCannonVector3(hingeConstraint.pivotA), axisA = wd.CannonUtils.convertToCannonVector3(hingeConstraint.axisA), pivotB = wd.CannonUtils.convertToCannonVector3(hingeConstraint.pivotB), axisB = wd.CannonUtils.convertToCannonVector3(hingeConstraint.axisB), options = {};
            if (hingeConstraint.pivotA) {
                options.pivotA = pivotA;
            }
            if (hingeConstraint.axisA) {
                options.axisA = axisA;
            }
            if (hingeConstraint.pivotB) {
                options.pivotB = pivotB;
            }
            if (hingeConstraint.axisB) {
                options.axisB = axisB;
            }
            if (hingeConstraint.maxForce) {
                options.maxForce = hingeConstraint.maxForce;
            }
            constraint = new CANNON.HingeConstraint(body, connectedBody, options);
            return constraint;
        };
        return CannonHingeConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonHingeConstraint = CannonHingeConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Light = (function (_super) {
        __extends(Light, _super);
        function Light() {
            _super.apply(this, arguments);
            this._shadowMapWidth = null;
            this._shadowMapHeight = null;
            this.color = wd.Color.create("#ffffff");
            this.castShadow = false;
            this.shadowCameraNear = 0.1;
            this.shadowCameraFar = 5000;
            this.shadowBias = wd.ShaderChunk.NULL;
            this.shadowDarkness = 0;
            this.shadowMap = null;
            this.shadowMapRenderer = null;
        }
        Object.defineProperty(Light.prototype, "position", {
            get: function () {
                return this.entityObject.transform.position;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Light.prototype, "shadowMapWidth", {
            get: function () {
                var maxCubemapTextureSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
                if (!this._shadowMapWidth || this._shadowMapWidth > maxCubemapTextureSize) {
                    return maxCubemapTextureSize;
                }
                return this._shadowMapWidth;
            },
            set: function (shadowMapWidth) {
                this._shadowMapWidth = shadowMapWidth;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Light.prototype, "shadowMapHeight", {
            get: function () {
                var maxCubemapTextureSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
                if (!this._shadowMapHeight || this._shadowMapHeight > maxCubemapTextureSize) {
                    return maxCubemapTextureSize;
                }
                return this._shadowMapHeight;
            },
            set: function (shadowMapHeight) {
                this._shadowMapHeight = shadowMapHeight;
            },
            enumerable: true,
            configurable: true
        });
        return Light;
    }(wd.Component));
    wd.Light = Light;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AmbientLight = (function (_super) {
        __extends(AmbientLight, _super);
        function AmbientLight() {
            _super.apply(this, arguments);
        }
        AmbientLight.create = function () {
            var obj = new this();
            return obj;
        };
        AmbientLight.type = "ambientLight";
        return AmbientLight;
    }(wd.Light));
    wd.AmbientLight = AmbientLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SourceLight = (function (_super) {
        __extends(SourceLight, _super);
        function SourceLight() {
            _super.apply(this, arguments);
            this.intensity = 1;
            this._beforeInitSubscription = null;
        }
        SourceLight.prototype.initWhenCreate = function () {
            var self = this;
            this._beforeInitSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT)
                .subscribe(function () {
                self.beforeInitHandler();
            });
        };
        SourceLight.prototype.dispose = function () {
            this.shadowMap && this.shadowMap.dispose();
            wd.Director.getInstance().scene.removeRenderTargetRenderer(this.shadowMapRenderer);
            this._beforeInitSubscription && this._beforeInitSubscription.dispose();
        };
        SourceLight.prototype.beforeInitHandler = function () {
            if (this.castShadow) {
                this.shadowMap = this.createShadowMap();
                this.shadowMapRenderer = this.createShadowMapRenderer();
                wd.Director.getInstance().scene.addRenderTargetRenderer(this.shadowMapRenderer);
            }
        };
        __decorate([
            wd.execOnlyOnce("_isBeforeInit")
        ], SourceLight.prototype, "beforeInitHandler", null);
        return SourceLight;
    }(wd.Light));
    wd.SourceLight = SourceLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DirectionLight = (function (_super) {
        __extends(DirectionLight, _super);
        function DirectionLight() {
            _super.apply(this, arguments);
            this._shadowRenderList = null;
            this.shadowCameraLeft = -1000;
            this.shadowCameraRight = 1000;
            this.shadowCameraTop = 1000;
            this.shadowCameraBottom = -1000;
        }
        DirectionLight.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(DirectionLight.prototype, "shadowRenderList", {
            get: function () {
                return this._shadowRenderList;
            },
            set: function (shadowRenderList) {
                this._shadowRenderList = wdCb.Collection.create(shadowRenderList);
            },
            enumerable: true,
            configurable: true
        });
        DirectionLight.prototype.createShadowMap = function () {
            return wd.TwoDShadowMapTexture.create();
        };
        DirectionLight.prototype.createShadowMapRenderer = function () {
            return wd.TwoDShadowMapRenderTargetRenderer.create(this);
        };
        DirectionLight.type = "directionLight";
        DirectionLight.defaultPosition = wd.Vector3.create(0, 0, 1);
        __decorate([
            wd.requireSetter(function (shadowRenderList) {
                wd.assert(wd.JudgeUtils.isArray(shadowRenderList), wd.Log.info.FUNC_MUST_BE("shadowRenderList", "array"));
            })
        ], DirectionLight.prototype, "shadowRenderList", null);
        return DirectionLight;
    }(wd.SourceLight));
    wd.DirectionLight = DirectionLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PointLight = (function (_super) {
        __extends(PointLight, _super);
        function PointLight() {
            _super.apply(this, arguments);
            this._rangeLevel = null;
            this._shadowRenderList = wdCb.Hash.create();
            this._attenuation = wd.Attenuation.create();
        }
        PointLight.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(PointLight.prototype, "rangeLevel", {
            get: function () {
                return this._rangeLevel;
            },
            set: function (rangeLevel) {
                this._rangeLevel = rangeLevel;
                this._attenuation.rangeLevel = this._rangeLevel;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "range", {
            get: function () {
                return this._attenuation.range;
            },
            set: function (range) {
                this._attenuation.range = range;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "constant", {
            get: function () {
                return this._attenuation.constant;
            },
            set: function (constant) {
                this._attenuation.constant = constant;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "linear", {
            get: function () {
                return this._attenuation.linear;
            },
            set: function (linear) {
                this._attenuation.linear = linear;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "quadratic", {
            get: function () {
                return this._attenuation.quadratic;
            },
            set: function (quadratic) {
                this._attenuation.quadratic = quadratic;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "shadowRenderList", {
            get: function () {
                return this._shadowRenderList;
            },
            set: function (shadowRenderList) {
                shadowRenderList = shadowRenderList;
                for (var direction in shadowRenderList) {
                    if (shadowRenderList.hasOwnProperty(direction)) {
                        var list = shadowRenderList[direction];
                        this._shadowRenderList.addChild(direction, wdCb.Collection.create(list));
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        PointLight.prototype.createShadowMap = function () {
            return wd.CubemapShadowMapTexture.create();
        };
        PointLight.prototype.createShadowMapRenderer = function () {
            return wd.CubemapShadowMapRenderTargetRenderer.create(this);
        };
        PointLight.type = "pointLight";
        __decorate([
            wd.requireSetter(function (shadowRenderList) {
                wd.assert(wd.JudgeUtils.isDirectObject(shadowRenderList), wd.Log.info.FUNC_MUST_BE("shadowRenderList", "object"));
                for (var direction in shadowRenderList) {
                    if (shadowRenderList.hasOwnProperty(direction)) {
                        var list = shadowRenderList[direction];
                        wd.assert(wd.JudgeUtils.isArray(list) || shadowRenderList instanceof wdCb.Hash, wd.Log.info.FUNC_MUST_BE("renderList in each direction of shadowRenderList", "array"));
                    }
                }
            })
        ], PointLight.prototype, "shadowRenderList", null);
        return PointLight;
    }(wd.SourceLight));
    wd.PointLight = PointLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Attenuation = (function () {
        function Attenuation() {
            this._constant = 1;
            this._range = null;
            this._linear = 0;
            this._quadratic = 0;
            this._rangeLevel = 0;
        }
        Attenuation.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Attenuation.prototype, "constant", {
            get: function () {
                return this._constant;
            },
            set: function (constant) {
                this._constant = constant;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "range", {
            get: function () {
                return this._range;
            },
            set: function (range) {
                this._range = range;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "linear", {
            get: function () {
                return this._linear;
            },
            set: function (linear) {
                this._linear = linear;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "quadratic", {
            get: function () {
                return this._quadratic;
            },
            set: function (quadratic) {
                this._quadratic = quadratic;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "rangeLevel", {
            get: function () {
                return this._rangeLevel;
            },
            set: function (rangeLevel) {
                this._rangeLevel = rangeLevel;
                this.setByRangeLevel();
            },
            enumerable: true,
            configurable: true
        });
        Attenuation.prototype.setByRangeLevel = function () {
            switch (this._rangeLevel) {
                case 0:
                    this._range = 7;
                    this._linear = 0.7;
                    this._quadratic = 1.8;
                    break;
                case 1:
                    this._range = 13;
                    this._linear = 0.35;
                    this._quadratic = 0.44;
                    break;
                case 2:
                    this._range = 20;
                    this._linear = 0.22;
                    this._quadratic = 0.20;
                    break;
                case 3:
                    this._range = 32;
                    this._linear = 0.14;
                    this._quadratic = 0.07;
                    break;
                case 4:
                    this._range = 50;
                    this._linear = 0.09;
                    this._quadratic = 0.032;
                    break;
                case 5:
                    this._range = 65;
                    this._linear = 0.07;
                    this._quadratic = 0.017;
                    break;
                case 6:
                    this._range = 100;
                    this._linear = 0.045;
                    this._quadratic = 0.0075;
                    break;
                case 7:
                    this._range = 160;
                    this._linear = 0.027;
                    this._quadratic = 0.0028;
                    break;
                case 8:
                    this._range = 200;
                    this._linear = 0.022;
                    this._quadratic = 0.0019;
                    break;
                case 9:
                    this._range = 325;
                    this._linear = 0.014;
                    this._quadratic = 0.0007;
                    break;
                case 10:
                    this._range = 600;
                    this._linear = 0.007;
                    this._quadratic = 0.0002;
                    break;
                case 11:
                    this._range = 3250;
                    this._linear = 0.0014;
                    this._quadratic = 0.000007;
                    break;
                default:
                    wd.Log.error(true, "over light range");
                    break;
            }
        };
        return Attenuation;
    }());
    wd.Attenuation = Attenuation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ELightModel) {
        ELightModel[ELightModel["PHONG"] = "PHONG"] = "PHONG";
        ELightModel[ELightModel["BLINN"] = "BLINN"] = "BLINN";
        ELightModel[ELightModel["LAMBERT"] = "LAMBERT"] = "LAMBERT";
        ELightModel[ELightModel["CONSTANT"] = "CONSTANT"] = "CONSTANT";
    })(wd.ELightModel || (wd.ELightModel = {}));
    var ELightModel = wd.ELightModel;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UI = (function (_super) {
        __extends(UI, _super);
        function UI() {
            _super.apply(this, arguments);
            this.context = null;
        }
        Object.defineProperty(UI.prototype, "dirty", {
            get: function () {
                var renderer = this.getUIRenderer();
                if (!renderer) {
                    return true;
                }
                return renderer.dirty;
            },
            set: function (dirty) {
                if (dirty) {
                    var renderer = this.getUIRenderer();
                    if (!renderer) {
                        return;
                    }
                    renderer.dirty = dirty;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UI.prototype, "width", {
            get: function () {
                return this.entityObject ? this.entityObject.transform.width : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UI.prototype, "height", {
            get: function () {
                return this.entityObject ? this.entityObject.transform.height : null;
            },
            enumerable: true,
            configurable: true
        });
        UI.prototype.init = function () {
            this.context = this.getContext();
        };
        UI.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
            entityObject.uiManager.addChild(this);
        };
        UI.prototype.removeFromObject = function (entityObject) {
            _super.prototype.removeFromObject.call(this, entityObject);
            entityObject.uiManager.removeChild(this);
        };
        UI.prototype.update = function (elapsedTime) {
            var context = this.context;
            if (this.shouldNotUpdate()) {
                return;
            }
            context.save();
            this._setCanvasTransformForRotation();
            this.draw(elapsedTime);
            context.restore();
        };
        UI.prototype.draw = function (elapsedTime) {
        };
        UI.prototype.shouldNotUpdate = function () {
            return false;
        };
        UI.prototype.getContext = function () {
            return this.getUIRenderer().context;
        };
        UI.prototype.getCanvas = function () {
            return this.getUIRenderer().canvas;
        };
        UI.prototype.getUIRenderer = function () {
            if (!this.entityObject) {
                return null;
            }
            return this.entityObject.getComponent(wd.UIRenderer);
        };
        UI.prototype.drawInCenterPoint = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var context = args[0], source = args[1];
            if (args.length === 5) {
                var position = args[2], width = args[3], height = args[4];
                context.drawImage(source, position.x - width / 2, position.y - height / 2, width, height);
            }
            else if (args.length === 9) {
                var sx = args[2], sy = args[3], sw = args[4], sh = args[5], position = args[6], width = args[7], height = args[8];
                context.drawImage(source, sx, sy, sw, sh, position.x - width / 2, position.y - height / 2, width, height);
            }
        };
        UI.prototype._setCanvasTransformForRotation = function () {
            var matrix = this.entityObject.transform.rotationMatrix;
            this.context.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);
        };
        __decorate([
            wd.virtual
        ], UI.prototype, "dirty", null);
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.context !== null, wd.Log.info.FUNC_SHOULD("set context"));
            })
        ], UI.prototype, "update", null);
        __decorate([
            wd.virtual
        ], UI.prototype, "draw", null);
        __decorate([
            wd.virtual
        ], UI.prototype, "shouldNotUpdate", null);
        return UI;
    }(wd.Component));
    wd.UI = UI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontXAlignment) {
        EFontXAlignment[EFontXAlignment["LEFT"] = 0] = "LEFT";
        EFontXAlignment[EFontXAlignment["CENTER"] = 1] = "CENTER";
        EFontXAlignment[EFontXAlignment["RIGHT"] = 2] = "RIGHT";
    })(wd.EFontXAlignment || (wd.EFontXAlignment = {}));
    var EFontXAlignment = wd.EFontXAlignment;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontYAlignment) {
        EFontYAlignment[EFontYAlignment["TOP"] = 0] = "TOP";
        EFontYAlignment[EFontYAlignment["MIDDLE"] = 1] = "MIDDLE";
        EFontYAlignment[EFontYAlignment["BOTTOM"] = 2] = "BOTTOM";
    })(wd.EFontYAlignment || (wd.EFontYAlignment = {}));
    var EFontYAlignment = wd.EFontYAlignment;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontDimension) {
        EFontDimension[EFontDimension["AUTO"] = "auto"] = "AUTO";
    })(wd.EFontDimension || (wd.EFontDimension = {}));
    var EFontDimension = wd.EFontDimension;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Font = (function (_super) {
        __extends(Font, _super);
        function Font() {
            _super.apply(this, arguments);
            this.needFormat = false;
            this._isFirstUpdate = true;
            this._sizeChangeEventSubscription = null;
        }
        Font.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._sizeChangeEventSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.UI_WIDTH_CHANGE)
                .merge(wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.UI_HEIGHT_CHANGE))
                .subscribe(function () {
                self.dirty = true;
                self.needFormat = true;
            });
        };
        Font.prototype.dispose = function () {
            if (this._sizeChangeEventSubscription) {
                this._sizeChangeEventSubscription.dispose();
            }
        };
        Font.prototype.update = function (elapsedTime) {
            if (!this._isFirstUpdate) {
                if (this.needFormat) {
                    this.reFormat();
                }
            }
            else {
                this._isFirstUpdate = false;
            }
            this.needFormat = false;
            _super.prototype.update.call(this, elapsedTime);
        };
        Font.prototype.reFormat = function () {
        };
        Font.prototype.getLeftCornerPosition = function () {
            var transform = this.entityObject.transform, position = transform.position;
            return wd.Vector2.create(position.x - transform.width / 2, position.y - transform.height / 2);
        };
        __decorate([
            wd.virtual
        ], Font.prototype, "reFormat", null);
        return Font;
    }(wd.UI));
    wd.Font = Font;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WORD_REX = /([a-zA-Z0-9]+|\S)/, FIRST_ENGLISH_OR_NUM = /^[a-zA-Z0-9]/, LAST_ENGLISH_OR_NUM = /[a-zA-Z0-9]+$/, LAST_INVALID_CHAR = /\s+$/;
    var PlainFont = (function (_super) {
        __extends(PlainFont, _super);
        function PlainFont() {
            _super.apply(this, arguments);
            this._text = "";
            this._fontSize = 10;
            this._fontFamily = "sans-serif";
            this._xAlignment = wd.EFontXAlignment.LEFT;
            this._yAlignment = wd.EFontYAlignment.TOP;
            this._fillEnabled = true;
            this._fillStyle = "rgba(0, 0, 0, 1)";
            this._strokeEnabled = false;
            this._strokeStyle = null;
            this._strokeSize = null;
            this._fontClientHeightCache = wdCb.Hash.create();
            this._lineHeight = null;
            this._strArr = [];
        }
        PlainFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PlainFont.prototype, "text", {
            get: function () {
                return this._text;
            },
            set: function (text) {
                if (text !== this._text) {
                    this._text = text;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "fontSize", {
            get: function () {
                return this._fontSize;
            },
            set: function (fontSize) {
                if (fontSize !== this._fontSize) {
                    this._fontSize = fontSize;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "fontFamily", {
            get: function () {
                return this._fontFamily;
            },
            set: function (fontFamily) {
                if (fontFamily !== this._fontFamily) {
                    this._fontFamily = fontFamily;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "xAlignment", {
            get: function () {
                return this._xAlignment;
            },
            set: function (xAlignment) {
                if (xAlignment !== this._xAlignment) {
                    this._xAlignment = xAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "yAlignment", {
            get: function () {
                return this._yAlignment;
            },
            set: function (yAlignment) {
                if (yAlignment !== this._yAlignment) {
                    this._yAlignment = yAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        PlainFont.prototype.init = function () {
            _super.prototype.init.call(this);
            this._formatText();
            this._lineHeight = this._getDefaultLineHeight();
        };
        PlainFont.prototype.setFillStyle = function (fillStyle) {
            this._fillStyle = fillStyle;
        };
        PlainFont.prototype.enableStroke = function (strokeStyle, strokeSize) {
            this._strokeEnabled = true;
            this._fillEnabled = false;
            this._strokeStyle = strokeStyle;
            this._strokeSize = strokeSize;
        };
        PlainFont.prototype.enableFill = function (fillStyle) {
            this._fillEnabled = true;
            this._strokeEnabled = false;
            this._fillStyle = fillStyle;
        };
        PlainFont.prototype.setLineHeight = function (lineHeight) {
            this._lineHeight = lineHeight;
        };
        PlainFont.prototype.reFormat = function () {
            this._formatText();
            this._lineHeight = this._getDefaultLineHeight();
        };
        PlainFont.prototype.draw = function () {
            var context = this.context;
            context.font = this.fontSize + "px '" + this.fontFamily + "'";
            context.textBaseline = "top";
            context.textAlign = "start";
            if (this._strArr.length > 1) {
                this._drawMultiLine();
            }
            else {
                this._drawSingleLine();
            }
        };
        PlainFont.prototype._formatText = function () {
            var maxWidth = this.width;
            this._trimStr();
            if (maxWidth !== 0) {
                this._strArr = this._text.split('\n');
                for (var i = 0; i < this._strArr.length; i++) {
                    var text = this._strArr[i], allWidth = this._measure(text);
                    if (allWidth > maxWidth && text.length > 1) {
                        this._formatMultiLine(i, text, allWidth, maxWidth);
                    }
                }
            }
        };
        PlainFont.prototype._trimStr = function () {
            this._text = this._text.replace(LAST_INVALID_CHAR, "");
        };
        PlainFont.prototype._formatMultiLine = function (i, text, allWidth, maxWidth) {
            var _this = this;
            var LOOP_MAX_NUM = 100;
            var self = this, preText = null, truncationPointIndex = text.length * (maxWidth / allWidth) | 0, nextText = text.substr(truncationPointIndex), loopIndex = 0, width = allWidth - this._measure(nextText), pushNum = 0;
            var truncate = function () {
                while (width > maxWidth && loopIndex < LOOP_MAX_NUM) {
                    truncationPointIndex *= maxWidth / width;
                    truncationPointIndex = Math.floor(truncationPointIndex);
                    nextText = text.substr(truncationPointIndex);
                    width = allWidth - _this._measure(nextText);
                    loopIndex = loopIndex + 1;
                }
                loopIndex = 0;
            };
            var findTruncationPoint = function () {
                while (width < maxWidth && loopIndex < LOOP_MAX_NUM) {
                    if (nextText) {
                        var exec = WORD_REX.exec(nextText);
                        pushNum = exec ? exec[0].length : 1;
                    }
                    truncationPointIndex = truncationPointIndex + pushNum;
                    nextText = text.substr(truncationPointIndex);
                    width = allWidth - _this._measure(nextText);
                    loopIndex = loopIndex + 1;
                }
            };
            var handleTruncationPointIndex = function () {
                if (FIRST_ENGLISH_OR_NUM.test(nextText)) {
                    var preText_1 = text.substr(0, truncationPointIndex), pExec = LAST_ENGLISH_OR_NUM.exec(preText_1);
                    if (pExec) {
                        truncationPointIndex = truncationPointIndex - pExec[0].length;
                    }
                }
                else {
                    truncationPointIndex = truncationPointIndex - pushNum;
                }
                if (truncationPointIndex === 0) {
                    truncationPointIndex = 1;
                }
            };
            var setString = function () {
                nextText = text.substr(truncationPointIndex);
                preText = text.substr(0, truncationPointIndex);
                self._strArr[i] = nextText;
                self._strArr.splice(i, 0, preText);
            };
            truncate();
            findTruncationPoint();
            handleTruncationPointIndex();
            setString();
        };
        PlainFont.prototype._measure = function (text) {
            var context = this.context;
            context.font = this.fontSize + "px '" + this.fontFamily + "'";
            return context.measureText(text).width;
        };
        PlainFont.prototype._getDefaultLineHeight = function () {
            return this._computeLineHeight("normal");
        };
        PlainFont.prototype._computeLineHeight = function (lineHeight) {
            var div = wdCb.DomQuery.create("<div></div>"), dom = div.get(0), resultLineHeight = null;
            dom.style.cssText = "\n             font-family: " + this.fontFamily + ";\n             font-size: " + this.fontSize + "px;\n             position: absolute;\n             left: -100px;\n             top: -100px;\n             line-height: " + lineHeight + ";\n             ";
            div.prependTo("body");
            dom.innerHTML = "abc!";
            resultLineHeight = dom.clientHeight;
            div.remove();
            return resultLineHeight;
        };
        PlainFont.prototype._getFontClientHeight = function () {
            var fontSize = this.fontSize, fontName = this.fontFamily, key = fontSize + "." + fontName, cacheHeight = this._fontClientHeightCache.getChild(key), height = null;
            if (cacheHeight) {
                return cacheHeight;
            }
            height = this._computeLineHeight(1);
            this._fontClientHeightCache.addChild(key, height);
            return height;
        };
        PlainFont.prototype._drawMultiLine = function () {
            var context = this.context, position = this.getLeftCornerPosition(), x = position.x, y = position.y, lineHeight = this._lineHeight, fontClientHeight = this._getFontClientHeight(), self = this, lineCount = this._strArr.length, lineTotalHeight = (lineCount - 1) * lineHeight + fontClientHeight;
            if (self.yAlignment === wd.EFontYAlignment.BOTTOM) {
                y = y + self.height - lineTotalHeight;
            }
            else if (self.yAlignment === wd.EFontYAlignment.MIDDLE) {
                y = y + (self.height - lineTotalHeight) / 2;
            }
            for (var _i = 0, _a = this._strArr; _i < _a.length; _i++) {
                var str = _a[_i];
                if (self.xAlignment === wd.EFontXAlignment.RIGHT) {
                    x = x + self.width - self._measure(str);
                }
                else if (self.xAlignment == wd.EFontXAlignment.CENTER) {
                    x = x + (self.width - self._measure(str)) / 2;
                }
                if (self._fillEnabled) {
                    context.fillStyle = self._fillStyle;
                    context.fillText(str, x, y);
                }
                else if (self._strokeEnabled) {
                    context.strokeStyle = self._strokeStyle;
                    context.lineWidth = self._strokeSize;
                    context.strokeText(str, x, y);
                }
                x = position.x;
                y = y + lineHeight;
            }
        };
        PlainFont.prototype._drawSingleLine = function () {
            var context = this.context, position = this.getLeftCornerPosition(), x = position.x, y = position.y, fontClientHeight = this._getFontClientHeight(), self = this, lineCount = 1, lineTotalHeight = fontClientHeight, str = this._strArr[0];
            if (self.yAlignment === wd.EFontYAlignment.BOTTOM) {
                y = y + self.height - lineTotalHeight;
            }
            else if (self.yAlignment === wd.EFontYAlignment.MIDDLE) {
                y = y + (self.height - lineTotalHeight) / 2;
            }
            if (self.xAlignment === wd.EFontXAlignment.RIGHT) {
                x = x + self.width - self._measure(str);
            }
            else if (self.xAlignment == wd.EFontXAlignment.CENTER) {
                x = x + (self.width - self._measure(str)) / 2;
            }
            if (self._fillEnabled) {
                context.fillStyle = self._fillStyle;
                context.fillText(str, x, y);
            }
            else if (self._strokeEnabled) {
                context.strokeStyle = self._strokeStyle;
                context.lineWidth = self._strokeSize;
                context.strokeText(str, x, y);
            }
        };
        return PlainFont;
    }(wd.Font));
    wd.PlainFont = PlainFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BitmapFont = (function (_super) {
        __extends(BitmapFont, _super);
        function BitmapFont() {
            _super.apply(this, arguments);
            this._text = "";
            this._xAlignment = wd.EFontXAlignment.LEFT;
            this.fntId = null;
            this.bitmapId = null;
            this._charFontList = wdCb.Collection.create();
        }
        BitmapFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BitmapFont.prototype, "text", {
            get: function () {
                return this._text;
            },
            set: function (text) {
                if (text !== this._text) {
                    this._text = text;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BitmapFont.prototype, "xAlignment", {
            get: function () {
                return this._xAlignment;
            },
            set: function (xAlignment) {
                if (xAlignment !== this._xAlignment) {
                    this._xAlignment = xAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        BitmapFont.prototype.init = function () {
            var fntObj = this._getFntObj(), imageAsset = this._getImageAsset();
            if (!fntObj) {
                wd.Log.log("impossible to create font: not find fnt file");
                return false;
            }
            if (!imageAsset) {
                wd.Log.log("impossible to create font: not find bitmap file");
                return false;
            }
            _super.prototype.init.call(this);
            this._createAndAddFontCharUIObjects(fntObj, imageAsset.source);
            this._formatText(fntObj);
        };
        BitmapFont.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._removeAllCharFont();
        };
        BitmapFont.prototype.reFormat = function () {
            var fntObj = this._getFntObj(), imageAsset = this._getImageAsset();
            this._removeAllCharFont();
            if (!fntObj) {
                wd.Log.log("impossible to create font: not find fnt file");
                return false;
            }
            if (!imageAsset) {
                wd.Log.log("impossible to create font: not find bitmap file");
                return false;
            }
            this._createAndAddFontCharUIObjects(fntObj, imageAsset.source);
            this._formatText(fntObj);
        };
        BitmapFont.prototype._getFntObj = function () {
            return wd.LoaderManager.getInstance().get(this.fntId);
        };
        BitmapFont.prototype._getImageAsset = function () {
            return wd.LoaderManager.getInstance().get(this.bitmapId);
        };
        BitmapFont.prototype._createAndAddFontCharUIObjects = function (fntObj, image) {
            var locStr = this.text, locFontDict = fntObj.fontDefDictionary, nextFontPositionX = 0, nextFontPositionY = 0, position = this.getLeftCornerPosition(), uiRenderer = this.getUIRenderer(), charFontUIObject = null, charFont = null;
            for (var i = 0, stringLen = locStr.length; i < stringLen; i++) {
                var key = String(locStr.charCodeAt(i)), char = locStr[i];
                if (this._isNewLine(char)) {
                    var charFontData_1 = this._createAndAddFontCharObjectOfNewLineChar(i, char, uiRenderer);
                    charFontUIObject = charFontData_1.charFontUIObject;
                    charFont = charFontData_1.charFont;
                    this._setCharFontUIObjectPosition(charFontUIObject, position.x + nextFontPositionX, position.y + nextFontPositionY);
                    charFont.startPosX = nextFontPositionX;
                    charFont.xAdvance = 0;
                    nextFontPositionX = 0;
                    nextFontPositionY = nextFontPositionY + fntObj.commonHeight;
                    continue;
                }
                var fontDef = this._getFontDef(locFontDict, key), charFontData = null;
                if (!fontDef) {
                    wd.Log.log("character not found " + char);
                    continue;
                }
                charFontData = this._createAndAddFontCharObjectOfCommonChar(fontDef, image, i, char, uiRenderer);
                charFontUIObject = charFontData.charFontUIObject;
                charFont = charFontData.charFont;
                this._setCharFontUIObjectPosition(charFontUIObject, position.x + nextFontPositionX + fontDef.xOffset, position.y + nextFontPositionY + fontDef.yOffset);
                charFont.startPosX = nextFontPositionX;
                charFont.xAdvance = fontDef.xAdvance;
                nextFontPositionX = nextFontPositionX + fontDef.xAdvance;
            }
        };
        BitmapFont.prototype._createAndAddFontCharObjectOfNewLineChar = function (index, char, uiRenderer) {
            var charFontUIObject = this._findCharFontUIObject(index), charFont = null;
            if (!charFontUIObject) {
                var charFontData = this._createCharFont(index, uiRenderer);
                charFontUIObject = charFontData.charFontUIObject;
                charFont = charFontData.charFont;
                this._addCharFontUIObject(charFontUIObject);
            }
            else {
                charFont = charFontUIObject.getComponent(wd.CharFont);
            }
            charFont.char = char;
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._createAndAddFontCharObjectOfCommonChar = function (fontDef, image, index, char, uiRenderer) {
            var rect = wd.RectRegion.create(fontDef.rect.x, fontDef.rect.y, fontDef.rect.width, fontDef.rect.height), charFontUIObject = this._findCharFontUIObject(index), charFont = null;
            if (!charFontUIObject) {
                var charFontData = this._createCharFont(index, uiRenderer), transform = null;
                charFontUIObject = charFontData.charFontUIObject;
                transform = charFontUIObject.transform,
                    charFont = charFontData.charFont;
                charFont.image = image;
                charFont.rectRegion = rect;
                transform.width = rect.width;
                transform.height = rect.height;
                this._addCharFontUIObject(charFontUIObject);
            }
            else {
                charFont = charFontUIObject.getComponent(wd.CharFont);
            }
            charFont.char = char;
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._formatText = function (fntObj) {
            if (this.width > 0) {
                this._formatMultiLine(fntObj);
            }
            this._formatAlign();
        };
        BitmapFont.prototype._formatMultiLine = function (fntObj) {
            var entityObject = this.entityObject, characterUIObject = null, charFont = null, position = this.getLeftCornerPosition(), x = 0, y = 0, lineHeight = fntObj.commonHeight;
            for (var i = 1, stringLen = this.text.length; i < stringLen; i++) {
                characterUIObject = this._findCharFontUIObject(i);
                charFont = characterUIObject.getComponent(wd.CharFont);
                if (this._isNewLine(charFont.char)) {
                    charFont.isNewLine = true;
                    charFont.isFullLine = false;
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                    x = 0;
                }
                if (this._isExceedWidth(position, charFont, x)) {
                    var prevCharUIObject = this._findCharFontUIObject(i - 1);
                    if (prevCharUIObject) {
                        var prevCharFont = prevCharUIObject.getComponent(wd.CharFont);
                        prevCharFont.isNewLine = true;
                        if (!this._isSpaceUnicode(prevCharFont.char)) {
                            prevCharFont.isFullLine = true;
                        }
                    }
                    x = this._getLetterPosXLeft(charFont);
                    y = y + lineHeight;
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                }
                else {
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                }
            }
        };
        BitmapFont.prototype._formatAlign = function () {
            var position = this.getLeftCornerPosition(), self = this;
            if (this._xAlignment != wd.EFontXAlignment.LEFT) {
                var line_1 = [];
                this._charFontList.forEach(function (charFontUIObject) {
                    var charFont = charFontUIObject.getComponent(wd.CharFont);
                    if (!charFont.isNewLine) {
                        line_1.push(charFont);
                        return;
                    }
                    if (charFont.isNewLine && charFont.isFullLine) {
                        line_1 = [];
                        return;
                    }
                    self._alignLine(position, line_1, line_1[line_1.length - 1]);
                    line_1 = [];
                });
                if (line_1.length > 0) {
                    self._alignLine(position, line_1, line_1[line_1.length - 1]);
                }
            }
        };
        BitmapFont.prototype._createCharFont = function (index, uiRenderer) {
            var charFontUIObject = wd.UIObject.create(), charFont = wd.CharFont.create();
            charFontUIObject.addComponent(charFont);
            charFontUIObject.addComponent(uiRenderer);
            charFontUIObject.addTag(String(index));
            charFontUIObject.init();
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._addCharFontUIObject = function (charFontUIObject) {
            this._charFontList.addChild(charFontUIObject);
            this.entityObject.addChild(charFontUIObject);
        };
        BitmapFont.prototype._findCharFontUIObject = function (index) {
            return this.entityObject.findChildByTag(String(index));
        };
        BitmapFont.prototype._isSpaceUnicode = function (char) {
            var charCode = char.charCodeAt(0);
            return charCode == 32 || charCode == 133 || charCode == 160 || charCode == 5760 || (charCode >= 8192 && charCode <= 8202) || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288;
        };
        BitmapFont.prototype._isNewLine = function (char) {
            return char.charCodeAt(0) == 10;
        };
        BitmapFont.prototype._getLetterPosXLeft = function (sp) {
            return sp.startPosX;
        };
        BitmapFont.prototype._getLetterPosXRight = function (leftCornerPosition, sp) {
            return wd.CoordinateUtils.convertCenterPositionXToLeftCornerPositionX(sp.x, sp.width) - leftCornerPosition.x + sp.xAdvance;
        };
        BitmapFont.prototype._getFontDef = function (fontDict, key) {
            return fontDict[key];
        };
        BitmapFont.prototype._isExceedWidth = function (leftCornerPosition, charFont, x) {
            return this._getLetterPosXRight(leftCornerPosition, charFont) - x > this.width;
        };
        BitmapFont.prototype._alignLine = function (leftCornerPosition, line, lastCharFont) {
            var self = this;
            line = this._trimBottomSpaceChar(line);
            lastCharFont = line[line.length - 1];
            line.forEach(function (cp) {
                var shift = null, lineWidth = self._getLetterPosXRight(leftCornerPosition, lastCharFont);
                switch (self._xAlignment) {
                    case wd.EFontXAlignment.CENTER:
                        shift = (self.width - lineWidth) / 2;
                        break;
                    case wd.EFontXAlignment.RIGHT:
                        shift = self.width - lineWidth;
                        break;
                    default:
                        break;
                }
                cp.x = cp.x + shift;
            });
        };
        BitmapFont.prototype._trimBottomSpaceChar = function (line) {
            var i = line.length - 1;
            if (this._isNewLine(line[i].char)) {
                i = i - 1;
            }
            while (i >= 0 && this._isSpaceUnicode(line[i].char)) {
                i = i - 1;
            }
            line = line.splice(0, i + 1);
            return line;
        };
        BitmapFont.prototype._setCharFontUIObjectPosition = function (charFontUIObject, x, y) {
            var transform = charFontUIObject.transform;
            charFontUIObject.transform.position = wd.CoordinateUtils.convertLeftCornerPositionToCenterPosition(wd.Vector2.create(x, y), transform.width, transform.height);
        };
        BitmapFont.prototype._translateCharFontUIObject = function (charFontUIObject, x, y) {
            charFontUIObject.transform.translate(x, y);
        };
        BitmapFont.prototype._removeAllCharFont = function () {
            this._charFontList.forEach(function (charFont) {
                charFont.dispose();
            });
            this._charFontList.removeAllChildren();
        };
        __decorate([
            wd.require(function (fntObj) {
                if (this.width > 0) {
                    for (var i = 1, stringLen = this.text.length; i < stringLen; i++) {
                        var characterUIObject = this.entityObject.findChildByTag(String(i));
                        wd.assert(!!characterUIObject, "char not has corresponding entityObject");
                        wd.assert(characterUIObject.hasComponent(wd.CharFont), wd.Log.info.FUNC_SHOULD("char entityObject", "contain CharFont component"));
                    }
                }
            })
        ], BitmapFont.prototype, "_formatText", null);
        return BitmapFont;
    }(wd.Font));
    wd.BitmapFont = BitmapFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CharFont = (function (_super) {
        __extends(CharFont, _super);
        function CharFont() {
            _super.apply(this, arguments);
            this._char = null;
            this.startPosX = null;
            this.xAdvance = null;
            this.image = null;
            this.rectRegion = null;
            this.isNewLine = false;
            this.isFullLine = false;
            this._subscription = null;
        }
        CharFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(CharFont.prototype, "x", {
            get: function () {
                return this.entityObject.transform.position.x;
            },
            set: function (x) {
                var position = this.entityObject.transform.position;
                this.entityObject.transform.position = wd.Vector2.create(x, position.y);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CharFont.prototype, "y", {
            get: function () {
                return this.entityObject.transform.position.y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CharFont.prototype, "char", {
            get: function () {
                return this._char;
            },
            set: function (char) {
                if (this._char !== null) {
                    wd.Log.log(wd.Log.info.FUNC_NOT_SUPPORT("change char"));
                    return;
                }
                this._char = char;
            },
            enumerable: true,
            configurable: true
        });
        CharFont.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._subscription = wdFrp.fromArray([wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_TRANSLATE), wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_ROTATE), wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_SCALE)])
                .mergeAll()
                .subscribe(function () {
                self.dirty = true;
            });
        };
        CharFont.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._subscription.dispose();
        };
        CharFont.prototype.shouldNotUpdate = function () {
            return this.rectRegion === null || (this.width === 0 && this.height === 0);
        };
        CharFont.prototype.draw = function (elapsedTime) {
            var transform = null, position = null, dw = null, dh = null;
            transform = this.entityObject.transform;
            position = transform.position;
            dw = this.width;
            dh = this.height;
            this.drawInCenterPoint(this.context, this.image, this.rectRegion.x, this.rectRegion.y, this.rectRegion.width, this.rectRegion.height, position, dw, dh);
        };
        __decorate([
            wd.execOnlyOnce("_isInit")
        ], CharFont.prototype, "init", null);
        return CharFont;
    }(wd.Font));
    wd.CharFont = CharFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProgressBar = (function (_super) {
        __extends(ProgressBar, _super);
        function ProgressBar() {
            _super.apply(this, arguments);
            this._percent = 0;
            this.borderStyle = "rgba(0, 0, 0, 1)";
            this.fillStyle = "rgba(255, 0, 0, 1)";
            this.radius = 5;
            this._offScreenCanvas = null;
            this._offScreenContext = null;
        }
        ProgressBar.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(ProgressBar.prototype, "percent", {
            get: function () {
                return this._percent;
            },
            set: function (percent) {
                if (this._percent !== percent) {
                    this._percent = percent;
                    this.dirty = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        ProgressBar.prototype.init = function () {
            _super.prototype.init.call(this);
            this._createOffScreenCanvas();
            this._drawProgressBar();
        };
        ProgressBar.prototype.shouldNotUpdate = function () {
            return this.percent <= 0;
        };
        ProgressBar.prototype.draw = function (elapsedTime) {
            var position = this.entityObject.transform.position;
            this._drawFromLeft(position);
            this._drawBorder(position);
        };
        ProgressBar.prototype._drawFromLeft = function (position) {
            var offscreenCanvas = this._offScreenCanvas, loadedWidth = this.width * this.percent;
            this.drawInCenterPoint(this.context, offscreenCanvas, 0, 0, loadedWidth, this.height, wd.Vector2.create(position.x - this.width / 2 + loadedWidth / 2, position.y), loadedWidth, this.height);
        };
        ProgressBar.prototype._drawBorder = function (position) {
            wd.RoundedRectUtils.drawRoundedRect(this.context, this.borderStyle, null, position.x - this.width / 2, position.y - this.height / 2, this.width, this.height, this.radius);
        };
        ProgressBar.prototype._createOffScreenCanvas = function () {
            var canvas = wdCb.DomQuery.create("<canvas></canvas>");
            canvas.attr("width", this.context.canvas.width);
            canvas.attr("height", this.context.canvas.height);
            this._offScreenCanvas = canvas.get(0);
            this._offScreenContext = this._offScreenCanvas.getContext("2d");
        };
        ProgressBar.prototype._drawProgressBar = function () {
            this._offScreenContext.clearRect(0, 0, this._offScreenCanvas.width, this._offScreenCanvas.height);
            wd.RoundedRectUtils.drawRoundedRect(this._offScreenContext, this.borderStyle, this.fillStyle, 0, 0, this.width, this.height, this.radius);
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.percent >= 0 && this.percent <= 1, wd.Log.info.FUNC_SHOULD("percent", " >= 0 and <= 1"));
            })
        ], ProgressBar.prototype, "draw", null);
        return ProgressBar;
    }(wd.UI));
    wd.ProgressBar = ProgressBar;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function _canUseNewCanvasBlendModes() {
        var canvas = null, context = null;
        if (typeof document === 'undefined') {
            return false;
        }
        canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        context = canvas.getContext('2d');
        context.fillStyle = '#000';
        context.fillRect(0, 0, 1, 1);
        context.globalCompositeOperation = 'multiply';
        context.fillStyle = '#fff';
        context.fillRect(0, 0, 1, 1);
        return context.getImageData(0, 0, 1, 1).data[0] === 0;
    }
    var Image = (function (_super) {
        __extends(Image, _super);
        function Image() {
            _super.apply(this, arguments);
            this._source = null;
            this.color = null;
            this.targetSource = null;
            this.targetColor = null;
        }
        Image.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Image.prototype, "source", {
            get: function () {
                return this._source;
            },
            set: function (source) {
                if (source !== this._source) {
                    this._source = source;
                    this.dirty = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Image.prototype.shouldNotUpdate = function () {
            return this._getDrawSource() === null && this._getDrawColor() === null;
        };
        Image.prototype.draw = function (elapsedTime) {
            var drawColor = this._getDrawColor(), drawSource = this._getDrawSource();
            if (drawColor !== null) {
                var position = this.entityObject.transform.position;
                this._setFillStyle(drawColor.toString());
                if (drawColor.a < 1) {
                    this._setGlobalAlpha(this.context, drawColor.a);
                }
                this.context.fillRect(position.x - this.width / 2, position.y - this.height / 2, this.width, this.height);
                if (drawSource) {
                    this._blendColorWithSource();
                }
            }
            else {
                this.drawInCenterPoint(this.context, drawSource.source, this.entityObject.transform.position, this.width, this.height);
            }
        };
        Image.prototype._setFillStyle = function (style) {
            this.context.fillStyle = style;
        };
        Image.prototype._getDrawSource = function () {
            if (this.targetSource) {
                return this.targetSource;
            }
            return this.source;
        };
        Image.prototype._getDrawColor = function () {
            if (this.targetColor) {
                return this.targetColor;
            }
            return this.color;
        };
        Image.prototype._blendByMultiply = function () {
            this._setGlobalCompositeOperation(this.context, "multiply");
            this.drawInCenterPoint(this.context, this._getDrawSource().source, this.entityObject.transform.position, this.width, this.height);
        };
        Image.prototype._blendByPerPixel = function () {
            var context = this.context, canvas = this.getCanvas(), r = this.color.r, g = this.color.g, b = this.color.b, pixelData = null, pixels = null;
            context.globalCompositeOperation = "copy";
            this.drawInCenterPoint(this.context, this._getDrawSource().source, this.entityObject.transform.position, this.width, this.height);
            pixelData = context.getImageData(0, 0, canvas.width, canvas.height);
            pixels = pixelData.data;
            for (var i = 0, len = pixels.length; i < len; i += 4) {
                pixels[i] *= r;
                pixels[i + 1] *= g;
                pixels[i + 2] *= b;
            }
            context.putImageData(pixelData, 0, 0);
        };
        Image.prototype._setGlobalCompositeOperation = function (context, mode) {
            context.globalCompositeOperation = mode;
        };
        Image.prototype._setGlobalAlpha = function (context, alpha) {
            context.globalAlpha = alpha;
        };
        Image.constructorForBlend = function (obj) {
            obj._blendColorWithSource = _canUseNewCanvasBlendModes() ?
                obj._blendByMultiply : obj._blendByPerPixel;
            return true;
        };
        Image.constructorInitForBlend = Image.constructorForBlend(Image.prototype);
        __decorate([
            wd.require(function () {
                wd.assert(!!this._getDrawSource(), wd.Log.info.FUNC_SHOULD("source", "exist"));
            })
        ], Image.prototype, "_blendByMultiply", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!this._getDrawSource(), wd.Log.info.FUNC_SHOULD("source", "exist"));
            })
        ], Image.prototype, "_blendByPerPixel", null);
        return Image;
    }(wd.UI));
    wd.Image = Image;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var InteractionUI = (function (_super) {
        __extends(InteractionUI, _super);
        function InteractionUI() {
            _super.apply(this, arguments);
            this.p_transitionMode = null;
            this.transitionManager = wd.TransitionManager.create(this);
        }
        Object.defineProperty(InteractionUI.prototype, "transitionMode", {
            get: function () {
                return this.p_transitionMode;
            },
            set: function (transitionMode) {
                this.p_transitionMode = transitionMode;
            },
            enumerable: true,
            configurable: true
        });
        return InteractionUI;
    }(wd.UI));
    wd.InteractionUI = InteractionUI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Button = (function (_super) {
        __extends(Button, _super);
        function Button() {
            _super.apply(this, arguments);
            this._text = null;
            this._mousedownSubscription = null;
            this._mouseupSubscription = null;
            this._mouseoverSubscription = null;
            this._mouseoutSubscription = null;
            this._stateMachine = wd.UIStateMachine.create(this);
        }
        Button.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(Button.prototype, "text", {
            get: function () {
                var fontObject = null;
                if (this.entityObject === null) {
                    return this._text;
                }
                fontObject = this.getObject(wd.EButtonObjectName.TEXT);
                if (fontObject) {
                    return fontObject.getComponent(wd.PlainFont).text;
                }
                return null;
            },
            set: function (text) {
                var fontObject = null;
                this._text = text;
                if (this.entityObject === null || !this.getUIRenderer()) {
                    return;
                }
                fontObject = this.getObject(wd.EButtonObjectName.TEXT);
                if (fontObject) {
                    fontObject.getComponent(wd.PlainFont).text = text;
                }
                else {
                    this.entityObject.addChild(this._createFontObject());
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Button.prototype, "isDisabled", {
            get: function () {
                return this._stateMachine.currentState === wd.EUIState.DISABLED;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Button.prototype, "currentState", {
            get: function () {
                return this._stateMachine.currentState;
            },
            enumerable: true,
            configurable: true
        });
        Button.prototype.initWhenCreate = function () {
            this.transitionMode = wd.ETransitionMode.SPRITE;
            this.text = "button";
        };
        Button.prototype.init = function () {
            _super.prototype.init.call(this);
            if (!this._hasFontObject()) {
                this.entityObject.addChild(this._createFontObject());
            }
            this.entityObject.addChild(this._createBackgroundObject());
            this._bindEvent();
        };
        Button.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._mousedownSubscription.dispose();
            this._mouseupSubscription.dispose();
            this._mouseoverSubscription.dispose();
            this._mouseoutSubscription.dispose();
        };
        Button.prototype.getObject = function (objectName) {
            return this.entityObject.findChildByName(objectName);
        };
        Button.prototype.getObjectTransition = function (objectName) {
            return this.transitionManager.getObjectTransition(objectName);
        };
        Button.prototype.enable = function () {
            this._stateMachine.changeState(wd.EUIState.NORMAL);
        };
        Button.prototype.disable = function () {
            this._stateMachine.changeState(wd.EUIState.DISABLED);
        };
        Button.prototype.update = function (elapsedTime) {
            var target = this.transitionManager.getObjectTarget(wd.EButtonObjectName.BACKGROUND);
            if (!target) {
                var image = this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image);
                switch (this.p_transitionMode) {
                    case wd.ETransitionMode.SPRITE:
                        image.targetSource = null;
                        break;
                    case wd.ETransitionMode.COLOR:
                        image.targetColor = null;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                        break;
                }
                return;
            }
            switch (this.p_transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image).targetSource = target;
                    break;
                case wd.ETransitionMode.COLOR:
                    this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image).targetColor = target;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
        };
        Button.prototype._createBackgroundObject = function () {
            var object = wd.UIObject.create(), image = wd.Image.create(), transform = this.entityObject.transform;
            object.addComponent(image);
            object.addComponent(this.getUIRenderer());
            object.transform.width = transform.width;
            object.transform.height = transform.height;
            object.transform.zIndex = 1;
            object.name = wd.EButtonObjectName.BACKGROUND;
            return object;
        };
        Button.prototype._createFontObject = function () {
            var fontObject = wd.UIObject.create(), font = wd.PlainFont.create(), transform = this.entityObject.transform;
            font.text = this._text;
            font.enableFill("#000000");
            font.xAlignment = wd.EFontXAlignment.CENTER;
            font.yAlignment = wd.EFontYAlignment.MIDDLE;
            fontObject.addComponent(font);
            fontObject.addComponent(this.getUIRenderer());
            fontObject.transform.width = transform.width;
            fontObject.transform.height = transform.height;
            fontObject.transform.zIndex = 2;
            fontObject.name = wd.EButtonObjectName.TEXT;
            return fontObject;
        };
        Button.prototype._hasFontObject = function () {
            return !!this.getObject(wd.EButtonObjectName.TEXT);
        };
        Button.prototype._bindEvent = function () {
            var self = this;
            this._mousedownSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_DOWN)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.changeState(wd.EUIState.PRESSED);
            });
            this._mouseupSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_UP)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.backState();
            });
            this._mouseoverSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_OVER)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.changeState(wd.EUIState.HIGHLIGHT);
            });
            this._mouseoutSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_OUT)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.backState();
            });
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.getObject(wd.EButtonObjectName.BACKGROUND).hasComponent(wd.Image), wd.Log.info.FUNC_SHOULD("Button UIObject", "contain Image component"));
            })
        ], Button.prototype, "update", null);
        return Button;
    }(wd.InteractionUI));
    wd.Button = Button;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EButtonObjectName) {
        EButtonObjectName[EButtonObjectName["BACKGROUND"] = "background"] = "BACKGROUND";
        EButtonObjectName[EButtonObjectName["TEXT"] = "text"] = "TEXT";
    })(wd.EButtonObjectName || (wd.EButtonObjectName = {}));
    var EButtonObjectName = wd.EButtonObjectName;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EUIState) {
        EUIState[EUIState["NORMAL"] = 0] = "NORMAL";
        EUIState[EUIState["HIGHLIGHT"] = 1] = "HIGHLIGHT";
        EUIState[EUIState["PRESSED"] = 2] = "PRESSED";
        EUIState[EUIState["DISABLED"] = 3] = "DISABLED";
    })(wd.EUIState || (wd.EUIState = {}));
    var EUIState = wd.EUIState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIStateMachine = (function () {
        function UIStateMachine(ui) {
            this._ui = null;
            this._stateHistory = wdCb.Stack.create();
            this._ui = ui;
        }
        UIStateMachine.create = function (ui) {
            var obj = new this(ui);
            return obj;
        };
        Object.defineProperty(UIStateMachine.prototype, "transitionManager", {
            get: function () {
                return this._ui.transitionManager;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UIStateMachine.prototype, "currentState", {
            get: function () {
                return this._stateHistory.top || wd.EUIState.NORMAL;
            },
            enumerable: true,
            configurable: true
        });
        UIStateMachine.prototype.changeState = function (state) {
            this._stateHistory.push(state);
            this.transitionManager.changeState(state);
            this._ui.dirty = true;
        };
        UIStateMachine.prototype.backState = function () {
            var lastState = null;
            this._stateHistory.pop();
            lastState = this._stateHistory.top;
            if (!lastState) {
                lastState = wd.EUIState.NORMAL;
            }
            this.transitionManager.changeState(lastState);
            this._ui.dirty = true;
        };
        return UIStateMachine;
    }());
    wd.UIStateMachine = UIStateMachine;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Transition = (function () {
        function Transition() {
            this._target = null;
        }
        Object.defineProperty(Transition.prototype, "target", {
            get: function () {
                if (this._target === null) {
                    this.changeState(wd.EUIState.NORMAL);
                }
                return this._target;
            },
            set: function (target) {
                this._target = target;
            },
            enumerable: true,
            configurable: true
        });
        return Transition;
    }());
    wd.Transition = Transition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpriteTransition = (function (_super) {
        __extends(SpriteTransition, _super);
        function SpriteTransition() {
            _super.apply(this, arguments);
            this.normalSprite = null;
            this.highlightSprite = null;
            this.pressedSprite = null;
            this.disabledSprite = null;
        }
        SpriteTransition.create = function () {
            var obj = new this();
            return obj;
        };
        SpriteTransition.prototype.changeState = function (state) {
            switch (state) {
                case wd.EUIState.NORMAL:
                    this.target = this.normalSprite;
                    break;
                case wd.EUIState.HIGHLIGHT:
                    this.target = this.highlightSprite;
                    break;
                case wd.EUIState.PRESSED:
                    this.target = this.pressedSprite;
                    break;
                case wd.EUIState.DISABLED:
                    this.target = this.disabledSprite;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("state"));
                    break;
            }
        };
        return SpriteTransition;
    }(wd.Transition));
    wd.SpriteTransition = SpriteTransition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColorTransition = (function (_super) {
        __extends(ColorTransition, _super);
        function ColorTransition() {
            _super.apply(this, arguments);
            this.normalColor = null;
            this.highlightColor = null;
            this.pressedColor = null;
            this.disabledColor = null;
        }
        ColorTransition.create = function () {
            var obj = new this();
            return obj;
        };
        ColorTransition.prototype.changeState = function (state) {
            switch (state) {
                case wd.EUIState.NORMAL:
                    this.target = this.normalColor;
                    break;
                case wd.EUIState.HIGHLIGHT:
                    this.target = this.highlightColor;
                    break;
                case wd.EUIState.PRESSED:
                    this.target = this.pressedColor;
                    break;
                case wd.EUIState.DISABLED:
                    this.target = this.disabledColor;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("state"));
                    break;
            }
        };
        return ColorTransition;
    }(wd.Transition));
    wd.ColorTransition = ColorTransition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETransitionMode) {
        ETransitionMode[ETransitionMode["SPRITE"] = 0] = "SPRITE";
        ETransitionMode[ETransitionMode["COLOR"] = 1] = "COLOR";
    })(wd.ETransitionMode || (wd.ETransitionMode = {}));
    var ETransitionMode = wd.ETransitionMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TransitionManager = (function () {
        function TransitionManager(ui) {
            this._ui = null;
            this._spriteTransitionMap = wdCb.Hash.create();
            this._colorTransitionMap = wdCb.Hash.create();
            this._ui = ui;
        }
        TransitionManager.create = function (ui) {
            var obj = new this(ui);
            return obj;
        };
        TransitionManager.prototype.getObjectTransition = function (objectName) {
            var result = this._getTransitionMap().getChild(objectName);
            if (!result) {
                result = this._createTransitionInstance();
                this._getTransitionMap().addChild(objectName, result);
            }
            return result;
        };
        TransitionManager.prototype.getObjectTarget = function (objectName) {
            return this.getObjectTransition(objectName).target;
        };
        TransitionManager.prototype.changeState = function (state) {
            wdFrp.fromArray([
                this._spriteTransitionMap,
                this._colorTransitionMap
            ])
                .subscribe(function (map) {
                map.forEach(function (transition) {
                    transition.changeState(state);
                });
            });
        };
        TransitionManager.prototype._getTransitionMap = function () {
            var map = null;
            switch (this._ui.transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    map = this._spriteTransitionMap;
                    break;
                case wd.ETransitionMode.COLOR:
                    map = this._colorTransitionMap;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
            return map;
        };
        TransitionManager.prototype._createTransitionInstance = function () {
            var transition = null;
            switch (this._ui.transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    transition = wd.SpriteTransition.create();
                    break;
                case wd.ETransitionMode.COLOR:
                    transition = wd.ColorTransition.create();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
            return transition;
        };
        return TransitionManager;
    }());
    wd.TransitionManager = TransitionManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RoundedRectUtils = (function () {
        function RoundedRectUtils() {
        }
        RoundedRectUtils.drawRoundedRect = function (context, strokeStyle, fillStyle, cornerX, cornerY, width, height, cornerRadius) {
            context.save();
            context.beginPath();
            if (width > 0) {
                context.moveTo(cornerX + cornerRadius, cornerY);
            }
            else {
                context.moveTo(cornerX - cornerRadius, cornerY);
            }
            context.arcTo(cornerX + width, cornerY, cornerX + width, cornerY + height, cornerRadius);
            context.arcTo(cornerX + width, cornerY + height, cornerX, cornerY + height, cornerRadius);
            context.arcTo(cornerX, cornerY + height, cornerX, cornerY, cornerRadius);
            if (width > 0) {
                context.arcTo(cornerX, cornerY, cornerX + cornerRadius, cornerY, cornerRadius);
            }
            else {
                context.arcTo(cornerX, cornerY, cornerX - cornerRadius, cornerY, cornerRadius);
            }
            context.closePath();
            context.strokeStyle = strokeStyle;
            context.fillStyle = fillStyle;
            if (strokeStyle) {
                context.stroke();
            }
            if (fillStyle) {
                context.fill();
            }
            context.restore();
        };
        return RoundedRectUtils;
    }());
    wd.RoundedRectUtils = RoundedRectUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var JudgeUtils = (function (_super) {
        __extends(JudgeUtils, _super);
        function JudgeUtils() {
            _super.apply(this, arguments);
        }
        JudgeUtils.isView = function (obj) {
            return !!obj && obj.offset && obj.width && obj.height && this.isFunction(obj.getContext);
        };
        JudgeUtils.isEqual = function (target1, target2) {
            if ((!target1 && target2) || (target1 && !target2)) {
                return false;
            }
            if (target1.uid && target2.uid) {
                return target1.uid === target2.uid;
            }
            return target1 === target2;
        };
        JudgeUtils.isPowerOfTwo = function (value) {
            return (value & (value - 1)) === 0 && value !== 0;
        };
        JudgeUtils.isFloatArray = function (data) {
            return wd.EntityObject.prototype.toString.call(data) === "[object Float32Array]" || wd.EntityObject.prototype.toString.call(data) === "[object Float16Array]";
        };
        JudgeUtils.isInterface = function (target, memberOfInterface) {
            return !!target[memberOfInterface];
        };
        JudgeUtils.isSpacePartitionObject = function (entityObject) {
            return entityObject.hasComponent(wd.SpacePartition);
        };
        JudgeUtils.isSelf = function (self, entityObject) {
            return self.uid === entityObject.uid;
        };
        return JudgeUtils;
    }(wdCb.JudgeUtils));
    wd.JudgeUtils = JudgeUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MathUtils = (function () {
        function MathUtils() {
        }
        MathUtils.clamp = function (num, below, up) {
            if (num < below) {
                return below;
            }
            else if (num > up) {
                return up;
            }
            return num;
        };
        MathUtils.bigThan = function (num, below) {
            return num < below ? below : num;
        };
        MathUtils.generateZeroToOne = function () {
            return Math.random();
        };
        MathUtils.generateInteger = function (min, max) {
            var max = max + 1;
            return Math.floor(Math.random() * (max - min) + min);
        };
        __decorate([
            wd.require(function (min, max) {
                wd.assert(min < max, wd.Log.info.FUNC_SHOULD("min", "< max"));
            })
        ], MathUtils, "generateInteger", null);
        return MathUtils;
    }());
    wd.MathUtils = MathUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CoordinateUtils = (function () {
        function CoordinateUtils() {
        }
        CoordinateUtils.convertWebGLPositionToCanvasPosition = function (position) {
            var view = wd.DeviceManager.getInstance().view;
            return wd.Vector2.create(view.width / 2 + position.x, view.height / 2 - position.y);
        };
        CoordinateUtils.convertCanvasPositionToWebGLPosition = function (position) {
            var view = wd.DeviceManager.getInstance().view;
            return wd.Vector3.create(position.x - view.width / 2, view.height / 2 - position.y, 0);
        };
        CoordinateUtils.convertLeftCornerPositionToCenterPosition = function (position, width, height) {
            return wd.Vector2.create(this.convertLeftCornerPositionXToCenterPositionX(position.x, width), this.convertLeftCornerPositionYToCenterPositionY(position.y, height));
        };
        CoordinateUtils.convertLeftCornerPositionXToCenterPositionX = function (positionX, width) {
            return positionX + width / 2;
        };
        CoordinateUtils.convertLeftCornerPositionYToCenterPositionY = function (positionY, height) {
            return positionY + height / 2;
        };
        CoordinateUtils.convertCenterPositionToLeftCornerPosition = function (position, width, height) {
            return wd.Vector2.create(this.convertCenterPositionXToLeftCornerPositionX(position.x, width), this.convertCenterPositionYToLeftCornerPositionY(position.y, height));
        };
        CoordinateUtils.convertCenterPositionXToLeftCornerPositionX = function (positionX, width) {
            return positionX - width / 2;
        };
        CoordinateUtils.convertCenterPositionYToLeftCornerPositionY = function (positionY, height) {
            return positionY - height / 2;
        };
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.DeviceManager.getInstance().view, wd.Log.info.FUNC_SHOULD("set view"));
            })
        ], CoordinateUtils, "convertWebGLPositionToCanvasPosition", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.DeviceManager.getInstance().view, wd.Log.info.FUNC_SHOULD("set view"));
            })
        ], CoordinateUtils, "convertCanvasPositionToWebGLPosition", null);
        return CoordinateUtils;
    }());
    wd.CoordinateUtils = CoordinateUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Log = (function (_super) {
        __extends(Log, _super);
        function Log() {
            _super.apply(this, arguments);
        }
        return Log;
    }(wdCb.Log));
    wd.Log = Log;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TimeController = (function () {
        function TimeController() {
            this.elapsed = null;
            this.pauseElapsed = 0;
            this.pauseTime = null;
            this.startTime = null;
        }
        TimeController.prototype.start = function () {
            this.startTime = this.getNow();
            this.pauseElapsed = null;
        };
        TimeController.prototype.stop = function () {
            this.startTime = null;
        };
        TimeController.prototype.pause = function () {
            this.pauseTime = this.getNow();
        };
        TimeController.prototype.resume = function () {
            this.pauseElapsed += this.getNow() - this.pauseTime;
            this.pauseTime = null;
        };
        TimeController.prototype.computeElapseTime = function (time) {
            if (this.pauseElapsed) {
                this.elapsed = time - this.pauseElapsed - this.startTime;
                return this.elapsed;
            }
            this.elapsed = time - this.startTime;
            return this.elapsed;
        };
        return TimeController;
    }());
    wd.TimeController = TimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var STARTING_FPS = 60, GAMETIME_SCALE = 1000;
    var DirectorTimeController = (function (_super) {
        __extends(DirectorTimeController, _super);
        function DirectorTimeController() {
            _super.apply(this, arguments);
            this.gameTime = null;
            this.fps = null;
            this.isTimeChange = false;
            this.deltaTime = null;
            this._lastTime = null;
        }
        DirectorTimeController.create = function () {
            var obj = new this();
            return obj;
        };
        DirectorTimeController.prototype.tick = function (time) {
            this.deltaTime = this._lastTime !== null ? time - this._lastTime : time;
            this._updateFps(this.deltaTime);
            this.gameTime = time / GAMETIME_SCALE;
            this._lastTime = time;
        };
        DirectorTimeController.prototype.start = function () {
            _super.prototype.start.call(this);
            this.isTimeChange = true;
            this.elapsed = 0;
        };
        DirectorTimeController.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this.isTimeChange = true;
        };
        DirectorTimeController.prototype.getNow = function () {
            return wd.root.performance.now();
        };
        DirectorTimeController.prototype._updateFps = function (deltaTime) {
            if (this._lastTime === null) {
                this.fps = STARTING_FPS;
            }
            else {
                this.fps = 1000 / deltaTime;
            }
        };
        return DirectorTimeController;
    }(wd.TimeController));
    wd.DirectorTimeController = DirectorTimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonTimeController = (function (_super) {
        __extends(CommonTimeController, _super);
        function CommonTimeController() {
            _super.apply(this, arguments);
        }
        CommonTimeController.create = function () {
            var obj = new this();
            return obj;
        };
        CommonTimeController.prototype.getNow = function () {
            if (wd.Director.getInstance().isTimeChange) {
                return wd.Director.getInstance().elapsed;
            }
            return wd.root.performance.now();
        };
        return CommonTimeController;
    }(wd.TimeController));
    wd.CommonTimeController = CommonTimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RenderTargetRenderer = (function () {
        function RenderTargetRenderer(renderTargetTexture) {
            this.texture = null;
            this.frameBufferOperator = null;
            this.texture = renderTargetTexture;
        }
        RenderTargetRenderer.prototype.initWhenCreate = function () {
            this.frameBufferOperator = wd.FrameBuffer.create(this.texture.width, this.texture.height);
        };
        RenderTargetRenderer.prototype.init = function () {
            this.texture.createEmptyTexture();
            this.initFrameBuffer();
        };
        RenderTargetRenderer.prototype.render = function (renderer, camera) {
            this.beforeRender();
            this.renderFrameBufferTexture(renderer, camera);
            this.afterRender();
        };
        RenderTargetRenderer.prototype.dispose = function () {
            this.frameBufferOperator.dispose();
            this.disposeFrameBuffer();
            this.texture.dispose();
        };
        RenderTargetRenderer.prototype.beforeRender = function () {
        };
        RenderTargetRenderer.prototype.afterRender = function () {
        };
        __decorate([
            wd.virtual
        ], RenderTargetRenderer.prototype, "beforeRender", null);
        __decorate([
            wd.virtual
        ], RenderTargetRenderer.prototype, "afterRender", null);
        return RenderTargetRenderer;
    }());
    wd.RenderTargetRenderer = RenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDRenderTargetRenderer = (function (_super) {
        __extends(TwoDRenderTargetRenderer, _super);
        function TwoDRenderTargetRenderer() {
            _super.apply(this, arguments);
            this.frameBuffer = null;
            this.renderBuffer = null;
            this._lastCamera = null;
        }
        TwoDRenderTargetRenderer.prototype.initFrameBuffer = function () {
            var frameBuffer = this.frameBufferOperator, gl = wd.DeviceManager.getInstance().gl;
            this.frameBuffer = frameBuffer.createFrameBuffer();
            this.renderBuffer = frameBuffer.createRenderBuffer();
            frameBuffer.bindFrameBuffer(this.frameBuffer);
            frameBuffer.attachTexture(gl.TEXTURE_2D, this.texture.glTexture);
            frameBuffer.attachRenderBuffer("DEPTH_ATTACHMENT", this.renderBuffer);
            frameBuffer.check();
            frameBuffer.unBind();
        };
        TwoDRenderTargetRenderer.prototype.renderFrameBufferTexture = function (renderer, camera) {
            var renderCamera = this.createCamera(camera);
            if (this._lastCamera) {
                this._lastCamera.dispose();
            }
            this._lastCamera = renderCamera;
            this.beforeRenderFrameBufferTexture(renderCamera);
            this.frameBufferOperator.bindFrameBuffer(this.frameBuffer);
            this.texture.bindToUnit(0);
            this.frameBufferOperator.setViewport();
            this.getRenderList().forEach(function (child) {
                child.render(renderer, renderCamera);
            });
            this.renderRenderer(renderer);
            this.frameBufferOperator.unBind();
            this.frameBufferOperator.restoreViewport();
        };
        TwoDRenderTargetRenderer.prototype.disposeFrameBuffer = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteFramebuffer(this.frameBuffer);
            gl.deleteRenderbuffer(this.renderBuffer);
        };
        return TwoDRenderTargetRenderer;
    }(wd.RenderTargetRenderer));
    wd.TwoDRenderTargetRenderer = TwoDRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorRenderTargetRenderer = (function (_super) {
        __extends(MirrorRenderTargetRenderer, _super);
        function MirrorRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        MirrorRenderTargetRenderer.create = function (mirrorTexture) {
            var obj = new this(mirrorTexture);
            obj.initWhenCreate();
            return obj;
        };
        MirrorRenderTargetRenderer.prototype.beforeRenderFrameBufferTexture = function (renderCamera) {
        };
        MirrorRenderTargetRenderer.prototype.getRenderList = function () {
            return this.texture.renderList;
        };
        MirrorRenderTargetRenderer.prototype.renderRenderer = function (renderer) {
            this._setSceneSide(wd.ESide.BACK);
            renderer.render();
            this._setSceneSide(null);
        };
        MirrorRenderTargetRenderer.prototype.createCamera = function (camera) {
            var mirrorCameraComponent = null, plane = null, cameraComponent = camera.getComponent(wd.CameraController), mirrorCameraViewMatrix = null, projectionMatrix = null;
            plane = this.texture.getPlane();
            mirrorCameraViewMatrix =
                plane.getReflectionMatrix().applyMatrix(cameraComponent.worldToCameraMatrix);
            projectionMatrix = this._setClipPlane(mirrorCameraViewMatrix, cameraComponent.pMatrix, plane);
            mirrorCameraComponent = wd.PerspectiveCamera.create();
            mirrorCameraComponent.worldToCameraMatrix = mirrorCameraViewMatrix.copy();
            mirrorCameraComponent.pMatrix = projectionMatrix;
            return wd.GameObject.create().addComponent(wd.BasicCameraController.create(mirrorCameraComponent)).init();
        };
        MirrorRenderTargetRenderer.prototype._setSceneSide = function (side) {
            var scene = wd.Director.getInstance().scene;
            scene.side = side;
        };
        MirrorRenderTargetRenderer.prototype._setClipPlane = function (vMatrix, pMatrix, plane) {
            var projectionMatrix = pMatrix.copy(), q = wd.Vector4.create(), clipPlane = this._getClipPlaneInCameraSpace(vMatrix, plane), c = wd.Vector4.create();
            q.x = (Math.sign(clipPlane.x) + projectionMatrix.values[8]) / projectionMatrix.values[0];
            q.y = (Math.sign(clipPlane.y) + projectionMatrix.values[9]) / projectionMatrix.values[5];
            q.z = -1.0;
            q.w = (1.0 + projectionMatrix.values[10]) / projectionMatrix.values[14];
            c = clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));
            projectionMatrix.values[2] = c.x;
            projectionMatrix.values[6] = c.y;
            projectionMatrix.values[10] = c.z + 1.0;
            projectionMatrix.values[14] = c.w;
            return projectionMatrix;
        };
        MirrorRenderTargetRenderer.prototype._getClipPlaneInCameraSpace = function (vMatrix, plane) {
            var clipPlane = wd.Vector4.create(), p = vMatrix.multiplyPoint(this.texture.getPosition()), n = vMatrix.copy().invert().transpose().multiplyPoint(plane.normal).normalize();
            clipPlane.set(n.x, n.y, n.z, -p.dot(n));
            return clipPlane;
        };
        return MirrorRenderTargetRenderer;
    }(wd.TwoDRenderTargetRenderer));
    wd.MirrorRenderTargetRenderer = MirrorRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapRenderTargetRenderer = (function (_super) {
        __extends(TwoDShadowMapRenderTargetRenderer, _super);
        function TwoDShadowMapRenderTargetRenderer(light) {
            _super.call(this, light.shadowMap);
            this._light = null;
            this._shadowMapRendererUtils = null;
            this._light = light;
        }
        TwoDShadowMapRenderTargetRenderer.create = function (light) {
            var obj = new this(light);
            obj.initWhenCreate();
            return obj;
        };
        TwoDShadowMapRenderTargetRenderer.prototype.initWhenCreate = function () {
            this._shadowMapRendererUtils = wd.TwoDShadowMapRenderTargetRendererUtils.create(this._light, this.texture);
            _super.prototype.initWhenCreate.call(this);
        };
        TwoDShadowMapRenderTargetRenderer.prototype.init = function () {
            var self = this;
            this._handleShadowRendererList();
            this._shadowMapRendererUtils.bindEndLoop(function () {
                self._light.shadowRenderList.forEach(function (child) {
                    self._shadowMapRendererUtils.clearTwoDShadowMapData(child);
                });
            });
            this._shadowMapRendererUtils.createShaderWithShaderLib(wd.BuildTwoDShadowMapShaderLib.create());
            _super.prototype.init.call(this);
        };
        TwoDShadowMapRenderTargetRenderer.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._shadowMapRendererUtils.unBindEndLoop();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.beforeRenderFrameBufferTexture = function (renderCamera) {
            var self = this;
            this._light.shadowRenderList.removeRepeatItems().forEach(function (child) {
                self._shadowMapRendererUtils.setShadowMapData(child, renderCamera);
            });
        };
        TwoDShadowMapRenderTargetRenderer.prototype.getRenderList = function () {
            return this._light.shadowRenderList;
        };
        TwoDShadowMapRenderTargetRenderer.prototype.renderRenderer = function (renderer) {
            renderer.render();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.beforeRender = function () {
            this._shadowMapRendererUtils.beforeRender();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.afterRender = function () {
            this._shadowMapRendererUtils.afterRender();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.createCamera = function () {
            var orthoCameraComponent = wd.OrthographicCamera.create(), light = this._light, camera = wd.GameObject.create();
            orthoCameraComponent.left = light.shadowCameraLeft;
            orthoCameraComponent.right = light.shadowCameraRight;
            orthoCameraComponent.top = light.shadowCameraTop;
            orthoCameraComponent.bottom = light.shadowCameraBottom;
            orthoCameraComponent.near = light.shadowCameraNear;
            orthoCameraComponent.far = light.shadowCameraFar;
            camera.addComponent(wd.BasicCameraController.create(orthoCameraComponent));
            camera.transform.translate(light.position);
            camera.transform.lookAt(0, 0, 0);
            camera.init();
            return camera;
        };
        TwoDShadowMapRenderTargetRenderer.prototype._handleShadowRendererList = function () {
            var _this = this;
            var self = this, children = [];
            this._light.shadowRenderList.forEach(function (renderTarget) {
                children = children.concat(_this._shadowMapRendererUtils.addAllChildren(renderTarget));
            }, this);
            this._light.shadowRenderList.addChildren(children);
            this._light.shadowRenderList.removeChild(function (renderTarget) {
                return self._shadowMapRendererUtils.isContainer(renderTarget);
            });
        };
        return TwoDShadowMapRenderTargetRenderer;
    }(wd.TwoDRenderTargetRenderer));
    wd.TwoDShadowMapRenderTargetRenderer = TwoDShadowMapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapRenderTargetRenderer = (function (_super) {
        __extends(CubemapRenderTargetRenderer, _super);
        function CubemapRenderTargetRenderer() {
            _super.apply(this, arguments);
            this._frameBufferList = wdCb.Collection.create();
            this._renderBufferList = wdCb.Collection.create();
            this._lastCameraList = null;
            this._lastPosition = null;
        }
        CubemapRenderTargetRenderer.prototype.initFrameBuffer = function () {
            var frameBufferOperator = this.frameBufferOperator, gl = wd.DeviceManager.getInstance().gl;
            for (var i = 0; i < 6; i++) {
                var frameBuffer = frameBufferOperator.createFrameBuffer(), renderBuffer = frameBufferOperator.createRenderBuffer();
                this._frameBufferList.addChild(frameBuffer);
                this._renderBufferList.addChild(renderBuffer);
                frameBufferOperator.bindFrameBuffer(frameBuffer);
                frameBufferOperator.attachTexture(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, this.texture.glTexture);
                frameBufferOperator.attachRenderBuffer("DEPTH_ATTACHMENT", renderBuffer);
                frameBufferOperator.check();
            }
            frameBufferOperator.unBind();
        };
        CubemapRenderTargetRenderer.prototype.renderFrameBufferTexture = function (renderer, camera) {
            var renderCamera = null, faceRenderList = null, newCameraList = null, position = this.getPosition(), renderList = null;
            renderList = this.getRenderList();
            this.texture.bindToUnit(0);
            if (this._needCreateCamera(position)) {
                newCameraList = wdCb.Collection.create();
            }
            for (var i = 0; i < 6; i++) {
                faceRenderList = renderList.getChild(this._convertIndexToFaceKey(i));
                if (this._isEmpty(faceRenderList)) {
                    continue;
                }
                if (this._needCreateCamera(position)) {
                    renderCamera = this.createCamera(i);
                    newCameraList.addChild(renderCamera);
                }
                else {
                    renderCamera = this._lastCameraList.getChild(i);
                }
                this.frameBufferOperator.bindFrameBuffer(this._frameBufferList.getChild(i));
                this.frameBufferOperator.setViewport();
                faceRenderList.forEach(function (child) {
                    child.render(renderer, renderCamera);
                });
                renderer.render();
            }
            if (this._needCreateCamera(position)) {
                if (this._lastCameraList) {
                    this._lastCameraList.forEach(function (camera) {
                        camera.dispose();
                    });
                }
                this._lastCameraList = newCameraList;
                this._lastPosition = position;
            }
            this.frameBufferOperator.unBind();
            this.frameBufferOperator.restoreViewport();
        };
        CubemapRenderTargetRenderer.prototype.disposeFrameBuffer = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            this._frameBufferList.forEach(function (buffer) { return gl.deleteFramebuffer(buffer); });
            this._renderBufferList.forEach(function (buffer) { return gl.deleteRenderbuffer(buffer); });
        };
        CubemapRenderTargetRenderer.prototype.createCamera = function (index) {
            var cubeCameraComponent = wd.PerspectiveCamera.create(), camera = wd.GameObject.create(), pos = this.getPosition();
            cubeCameraComponent.fovy = 90;
            this.setCamera(cubeCameraComponent);
            camera.addComponent(wd.BasicCameraController.create(cubeCameraComponent));
            camera.transform.translate(pos);
            this._lookAtFace(camera, pos, index);
            camera.init();
            return camera;
        };
        CubemapRenderTargetRenderer.prototype._isEmpty = function (faceRenderList) {
            return !faceRenderList || (faceRenderList.length && faceRenderList.length === 0) || (faceRenderList.getCount && faceRenderList.getCount() === 0);
        };
        CubemapRenderTargetRenderer.prototype._convertIndexToFaceKey = function (index) {
            var face = null;
            switch (index) {
                case 0:
                    face = "px";
                    break;
                case 1:
                    face = "nx";
                    break;
                case 2:
                    face = "py";
                    break;
                case 3:
                    face = "ny";
                    break;
                case 4:
                    face = "pz";
                    break;
                case 5:
                    face = "nz";
                    break;
                default:
                    break;
            }
            return face;
        };
        CubemapRenderTargetRenderer.prototype._lookAtFace = function (camera, position, index) {
            switch (index) {
                case 0:
                    camera.transform.lookAt(position.x + 1, position.y, position.z, 0, -1, 0);
                    break;
                case 1:
                    camera.transform.lookAt(position.x - 1, position.y, position.z, 0, -1, 0);
                    break;
                case 2:
                    camera.transform.lookAt(position.x, position.y + 1, position.z, 0, 0, 1);
                    break;
                case 3:
                    camera.transform.lookAt(position.x, position.y - 1, position.z, 0, 0, -1);
                    break;
                case 4:
                    camera.transform.lookAt(position.x, position.y, position.z + 1, 0, -1, 0);
                    break;
                case 5:
                    camera.transform.lookAt(position.x, position.y, position.z - 1, 0, -1, 0);
                    break;
                default:
                    break;
            }
        };
        CubemapRenderTargetRenderer.prototype._needCreateCamera = function (position) {
            if (this._lastPosition === null || this._lastCameraList === null) {
                return true;
            }
            return !position.isEqual(this._lastPosition);
        };
        return CubemapRenderTargetRenderer;
    }(wd.RenderTargetRenderer));
    wd.CubemapRenderTargetRenderer = CubemapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapRenderTargetRenderer = (function (_super) {
        __extends(CubemapShadowMapRenderTargetRenderer, _super);
        function CubemapShadowMapRenderTargetRenderer(light) {
            _super.call(this, light.shadowMap);
            this._light = null;
            this._shadowMapRendererUtils = null;
            this._light = light;
        }
        CubemapShadowMapRenderTargetRenderer.create = function (light) {
            var obj = new this(light);
            obj.initWhenCreate();
            return obj;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.initWhenCreate = function () {
            this._shadowMapRendererUtils = wd.CubemapShadowMapRenderTargetRendererUtils.create(this._light, this.texture);
            _super.prototype.initWhenCreate.call(this);
        };
        CubemapShadowMapRenderTargetRenderer.prototype.init = function () {
            var self = this;
            this._handleShadowRendererList();
            this._shadowMapRendererUtils.bindEndLoop(function () {
                self._light.shadowRenderList.forEach(function (childList) {
                    childList.forEach(function (child) {
                        self._shadowMapRendererUtils.clearCubemapShadowMapData(child);
                    });
                });
            });
            this._shadowMapRendererUtils.createShaderWithShaderLib(wd.BuildCubemapShadowMapShaderLib.create());
            _super.prototype.init.call(this);
        };
        CubemapShadowMapRenderTargetRenderer.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._shadowMapRendererUtils.unBindEndLoop();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.getRenderList = function () {
            return this._light.shadowRenderList;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.beforeRender = function () {
            var utils = this._shadowMapRendererUtils;
            this._convertRenderListToCollection(this.getRenderList()).removeRepeatItems().forEach(function (child) {
                utils.setShadowMapData(child);
            });
            this._shadowMapRendererUtils.beforeRender();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.afterRender = function () {
            this._shadowMapRendererUtils.afterRender();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.setCamera = function (camera) {
            var light = this._light;
            camera.aspect = light.shadowMapWidth / light.shadowMapHeight;
            camera.near = light.shadowCameraNear;
            camera.far = light.shadowCameraFar;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.getPosition = function () {
            return this._light.position;
        };
        CubemapShadowMapRenderTargetRenderer.prototype._convertRenderListToCollection = function (renderList) {
            var resultList = wdCb.Collection.create();
            renderList.forEach(function (list) {
                resultList.addChildren(list);
            });
            return resultList;
        };
        CubemapShadowMapRenderTargetRenderer.prototype._handleShadowRendererList = function () {
            var self = this, childrenMap = wdCb.Hash.create();
            this._light.shadowRenderList.forEach(function (childList, direction) {
                var children = [];
                childList.forEach(function (renderTarget) {
                    children = children.concat(self._shadowMapRendererUtils.addAllChildren(renderTarget));
                });
                childrenMap.addChild(direction, children);
            }, this);
            this._light.shadowRenderList.forEach(function (childList, direction) {
                childList.addChildren(childrenMap.getChild(direction));
            });
            this._light.shadowRenderList.forEach(function (childList) {
                childList.removeChild(function (renderTarget) {
                    return self._shadowMapRendererUtils.isContainer(renderTarget);
                });
            });
        };
        return CubemapShadowMapRenderTargetRenderer;
    }(wd.CubemapRenderTargetRenderer));
    wd.CubemapShadowMapRenderTargetRenderer = CubemapShadowMapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicCubemapRenderTargetRenderer = (function (_super) {
        __extends(DynamicCubemapRenderTargetRenderer, _super);
        function DynamicCubemapRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        DynamicCubemapRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        DynamicCubemapRenderTargetRenderer.prototype.getRenderList = function () {
            return this.texture.renderList;
        };
        DynamicCubemapRenderTargetRenderer.prototype.setCamera = function (camera) {
            camera.aspect = 1;
            camera.near = this.texture.near;
            camera.far = this.texture.far;
        };
        DynamicCubemapRenderTargetRenderer.prototype.getPosition = function () {
            return this.texture.getPosition();
        };
        return DynamicCubemapRenderTargetRenderer;
    }(wd.CubemapRenderTargetRenderer));
    wd.DynamicCubemapRenderTargetRenderer = DynamicCubemapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapRenderTargetRendererUtils = (function () {
        function ShadowMapRenderTargetRendererUtils(light, texture) {
            this.texture = null;
            this.light = null;
            this._endLoopHandler = null;
            this._shader = null;
            this.light = light;
            this.texture = texture;
        }
        ShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            this.texture.width = this.light.shadowMapWidth;
            this.texture.height = this.light.shadowMapHeight;
        };
        ShadowMapRenderTargetRendererUtils.prototype.init = function () {
            this.texture.init();
        };
        ShadowMapRenderTargetRendererUtils.prototype.setShadowMapData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = args[0], material = target.getComponent(wd.Geometry).material, shadowMapCamera = null;
            if (args.length === 2) {
                shadowMapCamera = args[1];
            }
            wd.Log.error(!(material instanceof wd.LightMaterial), wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            this.setMaterialShadowMapData(material, target, shadowMapCamera);
        };
        ShadowMapRenderTargetRendererUtils.prototype.bindEndLoop = function (func) {
            this._endLoopHandler = func;
            wd.EventManager.on(wd.EEngineEvent.ENDLOOP, this._endLoopHandler);
        };
        ShadowMapRenderTargetRendererUtils.prototype.unBindEndLoop = function () {
            wd.EventManager.off(wd.EEngineEvent.ENDLOOP, this._endLoopHandler);
        };
        ShadowMapRenderTargetRendererUtils.prototype.beforeRender = function () {
            var scene = wd.Director.getInstance().scene;
            scene.useProgram(this._shader);
        };
        ShadowMapRenderTargetRendererUtils.prototype.afterRender = function () {
            var scene = wd.Director.getInstance().scene;
            scene.unUseProgram();
        };
        ShadowMapRenderTargetRendererUtils.prototype.createShaderWithShaderLib = function (lib) {
            this._shader = wd.Shader.create();
            this._shader.addLib(wd.CommonShaderLib.create());
            this._shader.addLib(wd.CommonVerticeShaderLib.create());
            this._shader.addLib(lib);
        };
        ShadowMapRenderTargetRendererUtils.prototype.isContainer = function (entityObject) {
            return !entityObject.hasComponent(wd.Geometry);
        };
        ShadowMapRenderTargetRendererUtils.prototype.addAllChildren = function (entityObject) {
            var children = [], add = function (entityObject) {
                entityObject.forEach(function (child) {
                    children.push(child);
                    add(child);
                });
            };
            add(entityObject);
            return children;
        };
        ShadowMapRenderTargetRendererUtils.prototype.setShadowMap = function (target, shadowMap) {
            var material = null;
            if (!target.hasComponent(wd.Geometry)) {
                return;
            }
            material = target.getComponent(wd.Geometry).material;
            if (material.hasShadowMap(shadowMap)) {
                return;
            }
            wd.Log.error(!(material instanceof wd.LightMaterial), wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            this.addShadowMap(material, shadowMap);
        };
        return ShadowMapRenderTargetRendererUtils;
    }());
    wd.ShadowMapRenderTargetRendererUtils = ShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapRenderTargetRendererUtils = (function (_super) {
        __extends(CubemapShadowMapRenderTargetRendererUtils, _super);
        function CubemapShadowMapRenderTargetRendererUtils() {
            _super.apply(this, arguments);
        }
        CubemapShadowMapRenderTargetRendererUtils.create = function (light, texture) {
            var obj = new this(light, texture);
            obj.initWhenCreate();
            return obj;
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            var self = this;
            _super.prototype.initWhenCreate.call(this);
            this.light.shadowRenderList.forEach(function (childList) {
                childList.forEach(function (child) {
                    self.setShadowMap(child, self.texture);
                });
            });
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.clearCubemapShadowMapData = function (target) {
            var material = target.getComponent(wd.Geometry).material;
            material.clearCubemapShadowMapData();
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.setMaterialShadowMapData = function (material, target, shadowMapCamera) {
            material.addCubemapShadowMapData({
                shadowBias: this.light.shadowBias,
                shadowDarkness: this.light.shadowDarkness,
                lightPos: this.light.position,
                farPlane: this.light.shadowCameraFar
            });
            material.buildCubemapShadowMapData = {
                lightPos: this.light.position,
                farPlane: this.light.shadowCameraFar
            };
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.addShadowMap = function (material, shadowMap) {
            material.addCubemapShadowMap(shadowMap);
        };
        __decorate([
            wd.require(function (target) {
                var material = target.getComponent(wd.Geometry).material;
                wd.assert(material instanceof wd.LightMaterial, wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            })
        ], CubemapShadowMapRenderTargetRendererUtils.prototype, "clearCubemapShadowMapData", null);
        return CubemapShadowMapRenderTargetRendererUtils;
    }(wd.ShadowMapRenderTargetRendererUtils));
    wd.CubemapShadowMapRenderTargetRendererUtils = CubemapShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapRenderTargetRendererUtils = (function (_super) {
        __extends(TwoDShadowMapRenderTargetRendererUtils, _super);
        function TwoDShadowMapRenderTargetRendererUtils() {
            _super.apply(this, arguments);
        }
        TwoDShadowMapRenderTargetRendererUtils.create = function (light, texture) {
            var obj = new this(light, texture);
            obj.initWhenCreate();
            return obj;
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            var self = this;
            _super.prototype.initWhenCreate.call(this);
            this.light.shadowRenderList.forEach(function (child) {
                self.setShadowMap(child, self.texture);
            });
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.clearTwoDShadowMapData = function (target) {
            var material = target.getComponent(wd.Geometry).material;
            material.clearTwoDShadowMapData();
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.setMaterialShadowMapData = function (material, target, shadowMapCamera) {
            var cameraComponent = shadowMapCamera.getComponent(wd.CameraController);
            material.addTwoDShadowMapData({
                shadowBias: this.light.shadowBias,
                shadowDarkness: this.light.shadowDarkness,
                shadowSize: [this.light.shadowMapWidth, this.light.shadowMapHeight],
                lightPos: this.light.position,
                vpMatrixFromLight: cameraComponent.worldToCameraMatrix.applyMatrix(cameraComponent.pMatrix)
            });
            material.buildTwoDShadowMapData = {
                vpMatrixFromLight: cameraComponent.worldToCameraMatrix.applyMatrix(cameraComponent.pMatrix)
            };
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.addShadowMap = function (material, shadowMap) {
            material.addTwoDShadowMap(shadowMap);
        };
        __decorate([
            wd.require(function (target) {
                var material = target.getComponent(wd.Geometry).material;
                wd.assert(material instanceof wd.LightMaterial, wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            })
        ], TwoDShadowMapRenderTargetRendererUtils.prototype, "clearTwoDShadowMapData", null);
        return TwoDShadowMapRenderTargetRendererUtils;
    }(wd.ShadowMapRenderTargetRendererUtils));
    wd.TwoDShadowMapRenderTargetRendererUtils = TwoDShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Renderer = (function () {
        function Renderer() {
            this.skyboxCommand = null;
        }
        Renderer.prototype.init = function () {
        };
        return Renderer;
    }());
    wd.Renderer = Renderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WebGLRenderer = (function (_super) {
        __extends(WebGLRenderer, _super);
        function WebGLRenderer() {
            _super.apply(this, arguments);
            this._commandQueue = wdCb.Collection.create();
            this._clearOptions = {
                color: wd.Color.create("#000000")
            };
        }
        WebGLRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        WebGLRenderer.prototype.createQuadCommand = function () {
            return wd.QuadCommand.create();
        };
        WebGLRenderer.prototype.addCommand = function (command) {
            if (this._commandQueue.hasChild(command)) {
                return;
            }
            this._commandQueue.addChild(command);
            command.init();
        };
        WebGLRenderer.prototype.hasCommand = function () {
            return this._commandQueue.getCount() > 0 || !!this.skyboxCommand;
        };
        WebGLRenderer.prototype.render = function () {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.clear(this._clearOptions);
            this._renderOpaqueCommands();
            deviceManager.depthWrite = false;
            this._renderSortedTransparentCommands();
            deviceManager.depthWrite = true;
            if (this.skyboxCommand) {
                deviceManager.depthFunc = wd.EDepthFunction.LEQUAL;
                this.skyboxCommand.execute();
                deviceManager.depthFunc = wd.EDepthFunction.LESS;
            }
            this._clearCommand();
        };
        WebGLRenderer.prototype.init = function () {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.depthTest = true;
            deviceManager.blend = false;
            deviceManager.setColorWrite(true, true, true, true);
            deviceManager.side = wd.ESide.FRONT;
            deviceManager.depthWrite = true;
        };
        WebGLRenderer.prototype.setClearColor = function (color) {
            this._setClearOptions({
                color: color
            });
        };
        WebGLRenderer.prototype._renderOpaqueCommands = function () {
            this._commandQueue
                .removeChild(function (command) {
                return !command.material.blend;
            })
                .forEach(function (command) {
                command.execute();
            });
        };
        WebGLRenderer.prototype._renderSortedTransparentCommands = function () {
            var self = this;
            this._commandQueue
                .sort(function (a, b) {
                return self._getObjectToCameraZDistance(b) - self._getObjectToCameraZDistance(a);
            })
                .forEach(function (command) {
                command.execute();
            });
        };
        WebGLRenderer.prototype._getObjectToCameraZDistance = function (quad) {
            return wd.Director.getInstance().scene.currentCamera.transform.position.z - quad.z;
        };
        WebGLRenderer.prototype._clearCommand = function () {
            this._commandQueue.removeAllChildren();
            this.skyboxCommand = null;
        };
        WebGLRenderer.prototype._setClearOptions = function (clearOptions) {
            wdCb.ExtendUtils.extend(this._clearOptions, clearOptions);
        };
        return WebGLRenderer;
    }(wd.Renderer));
    wd.WebGLRenderer = WebGLRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EDrawMode) {
        EDrawMode[EDrawMode["POINTS"] = "POINTS"] = "POINTS";
        EDrawMode[EDrawMode["LINES"] = "LINES"] = "LINES";
        EDrawMode[EDrawMode["LINE_LOOP"] = "LINE_LOOP"] = "LINE_LOOP";
        EDrawMode[EDrawMode["LINE_STRIP"] = "LINE_STRIP"] = "LINE_STRIP";
        EDrawMode[EDrawMode["TRIANGLES"] = "TRIANGLES"] = "TRIANGLES";
        EDrawMode[EDrawMode["TRIANGLE_STRIP"] = "TRIANGLE_STRIP"] = "TRIANGLE_STRIP";
        EDrawMode[EDrawMode["TRANGLE_FAN"] = "TRIANGLE_FAN"] = "TRANGLE_FAN";
    })(wd.EDrawMode || (wd.EDrawMode = {}));
    var EDrawMode = wd.EDrawMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferType) {
        EBufferType[EBufferType["BYTE"] = "BYTE"] = "BYTE";
        EBufferType[EBufferType["UNSIGNED_BYTE"] = "UNSIGNED_BYTE"] = "UNSIGNED_BYTE";
        EBufferType[EBufferType["SHORT"] = "SHORT"] = "SHORT";
        EBufferType[EBufferType["UNSIGNED_SHORT"] = "UNSIGNED_SHORT"] = "UNSIGNED_SHORT";
        EBufferType[EBufferType["INT"] = "INT"] = "INT";
        EBufferType[EBufferType["UNSIGNED_INT"] = "UNSIGNED_INT"] = "UNSIGNED_INT";
        EBufferType[EBufferType["FLOAT"] = "FLOAT"] = "FLOAT";
    })(wd.EBufferType || (wd.EBufferType = {}));
    var EBufferType = wd.EBufferType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferDataType) {
        EBufferDataType[EBufferDataType["VERTICE"] = "VERTICE"] = "VERTICE";
        EBufferDataType[EBufferDataType["INDICE"] = "INDICE"] = "INDICE";
        EBufferDataType[EBufferDataType["NORMAL"] = "NORMAL"] = "NORMAL";
        EBufferDataType[EBufferDataType["TEXCOORD"] = "TEXCOORD"] = "TEXCOORD";
        EBufferDataType[EBufferDataType["TANGENT"] = "TANGENT"] = "TANGENT";
        EBufferDataType[EBufferDataType["COLOR"] = "COLOR"] = "COLOR";
    })(wd.EBufferDataType || (wd.EBufferDataType = {}));
    var EBufferDataType = wd.EBufferDataType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferUsage) {
        EBufferUsage[EBufferUsage["STREAM_DRAW"] = "STREAM_DRAW"] = "STREAM_DRAW";
        EBufferUsage[EBufferUsage["STATIC_DRAW"] = "STATIC_DRAW"] = "STATIC_DRAW";
        EBufferUsage[EBufferUsage["DYNAMIC_DRAW"] = "DYNAMIC_DRAW"] = "DYNAMIC_DRAW";
    })(wd.EBufferUsage || (wd.EBufferUsage = {}));
    var EBufferUsage = wd.EBufferUsage;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Buffer = (function () {
        function Buffer() {
            this.buffer = null;
            this.type = null;
            this.count = null;
        }
        Buffer.prototype.dispose = function () {
            wd.DeviceManager.getInstance().gl.deleteBuffer(this.buffer);
            delete this.buffer;
        };
        return Buffer;
    }());
    wd.Buffer = Buffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ElementBuffer = (function (_super) {
        __extends(ElementBuffer, _super);
        function ElementBuffer() {
            _super.apply(this, arguments);
            this._typeSize = null;
            this.data = null;
            this._type = null;
        }
        ElementBuffer.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var obj = new this();
            obj.initWhenCreate.apply(obj, args);
            return obj;
        };
        Object.defineProperty(ElementBuffer.prototype, "typeSize", {
            get: function () { return this._typeSize; },
            enumerable: true,
            configurable: true
        });
        ElementBuffer.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.buffer = gl.createBuffer();
            if (!this.buffer) {
                wd.Log.log('Failed to create the this.buffer object');
                return null;
            }
            if (args.length === 0) {
                return;
            }
            else {
                var data = args[0], type = args[1], usage = args[2] || wd.EBufferUsage.STATIC_DRAW;
                if (!data || !this._checkDataType(data, type)) {
                    return null;
                }
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);
                gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl[usage]);
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                this.type = gl[type];
                this._type = type;
                this.count = data.length;
                this.data = data;
                this._typeSize = this._getInfo(type).size;
                return this.buffer;
            }
        };
        ElementBuffer.prototype.resetData = function (data, type) {
            if (type === void 0) { type = this._type; }
            var gl = wd.DeviceManager.getInstance().gl;
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);
            this.type = gl[type];
            this._type = type;
            this.data = data;
            this.count = data.length;
            this._typeSize = this._getInfo(type).size;
            return this;
        };
        ElementBuffer.prototype._checkDataType = function (data, type) {
            var info = this._getInfo(type);
            return data instanceof info.typeClass;
        };
        ElementBuffer.prototype._getInfo = function (type) {
            var info = null;
            switch (type) {
                case wd.EBufferType.UNSIGNED_BYTE:
                    info = {
                        typeClass: Uint8Array,
                        size: 1
                    };
                    break;
                case wd.EBufferType.SHORT:
                    info = {
                        typeClass: Int16Array,
                        size: 2
                    };
                    break;
                case wd.EBufferType.UNSIGNED_SHORT:
                    info = {
                        typeClass: Uint16Array,
                        size: 2
                    };
                    break;
                case wd.EBufferType.INT:
                    info = {
                        typeClass: Int32Array,
                        size: 4
                    };
                    break;
                case wd.EBufferType.UNSIGNED_INT:
                    info = {
                        typeClass: Uint32Array,
                        size: 4
                    };
                    break;
                case wd.EBufferType.FLOAT:
                    info = {
                        typeClass: Float32Array,
                        size: 4
                    };
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EBufferType"));
                    break;
            }
            return info;
        };
        __decorate([
            wd.require(function (data, type) {
                if (type === void 0) { type = this._type; }
                wd.assert(this.buffer, wd.Log.info.FUNC_MUST("create gl buffer"));
            })
        ], ElementBuffer.prototype, "resetData", null);
        return ElementBuffer;
    }(wd.Buffer));
    wd.ElementBuffer = ElementBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArrayBuffer = (function (_super) {
        __extends(ArrayBuffer, _super);
        function ArrayBuffer() {
            _super.apply(this, arguments);
            this.size = null;
            this.data = null;
            this._type = null;
        }
        ArrayBuffer.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var obj = new this();
            obj.initWhenCreate.apply(obj, args);
            return obj;
        };
        ArrayBuffer.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.buffer = gl.createBuffer();
            if (!this.buffer) {
                wd.Log.log('Failed to create the this.buffer object');
                return null;
            }
            if (args.length === 0) {
                return;
            }
            else {
                var data = args[0], size = args[1], type = args[2], usage = args[3] || wd.EBufferUsage.STATIC_DRAW;
                if (!data) {
                    return null;
                }
                gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
                gl.bufferData(gl.ARRAY_BUFFER, data, gl[usage]);
                gl.bindBuffer(gl.ARRAY_BUFFER, null);
                this.size = size;
                this.type = gl[type];
                this._type = type;
                this.count = data.length / size;
                this.data = data;
                return this.buffer;
            }
        };
        ArrayBuffer.prototype.resetData = function (data, size, type) {
            if (size === void 0) { size = this.size; }
            if (type === void 0) { type = this._type; }
            var gl = wd.DeviceManager.getInstance().gl;
            gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
            gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);
            this.size = size;
            this.type = gl[type];
            this._type = type;
            this.count = data.length / size;
            this.data = data;
            return this;
        };
        __decorate([
            wd.require(function (data, size, type) {
                if (size === void 0) { size = this.size; }
                if (type === void 0) { type = this._type; }
                wd.assert(this.buffer, wd.Log.info.FUNC_MUST("create gl buffer"));
            })
        ], ArrayBuffer.prototype, "resetData", null);
        return ArrayBuffer;
    }(wd.Buffer));
    wd.ArrayBuffer = ArrayBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EBufferDataType.VERTICE, "vertices");
    _table.addChild(wd.EBufferDataType.INDICE, "indices");
    _table.addChild(wd.EBufferDataType.NORMAL, "normals");
    _table.addChild(wd.EBufferDataType.TEXCOORD, "texCoords");
    _table.addChild(wd.EBufferDataType.COLOR, "colors");
    _table.addChild(wd.EBufferDataType.TANGENT, "tangents");
    var BufferDataTable = (function () {
        function BufferDataTable() {
        }
        BufferDataTable.getGeometryDataName = function (type) {
            var result = _table.getChild(type);
            wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(type, "in BufferDataTable"));
            return result;
        };
        return BufferDataTable;
    }());
    wd.BufferDataTable = BufferDataTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Program = (function () {
        function Program() {
            this._program = null;
            this._shader = null;
        }
        Program.create = function () {
            var obj = new this();
            return obj;
        };
        Program.prototype.use = function () {
            wd.DeviceManager.getInstance().gl.useProgram(this._program);
        };
        Program.prototype.getUniformLocation = function (name) {
            return wd.DeviceManager.getInstance().gl.getUniformLocation(this._program, name);
        };
        Program.prototype.sendUniformData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl, pos = null, type = null, data = null;
            if (args[0] === null || args[0] instanceof WebGLUniformLocation) {
                pos = args[0];
            }
            else {
                var name_2 = args[0];
                pos = this.getUniformLocation(name_2);
            }
            type = args[1];
            data = args[2];
            if (this.isUniformDataNotExistByLocation(pos) || data === null) {
                return;
            }
            if (wd.JudgeUtils.isFunction(data)) {
                data = data();
            }
            switch (type) {
                case wd.EVariableType.FLOAT_1:
                    gl.uniform1f(pos, data);
                    break;
                case wd.EVariableType.FLOAT_2:
                    gl.uniform2f(pos, data[0], data[1]);
                    break;
                case wd.EVariableType.FLOAT_3:
                    data = this._convertToVector3(data);
                    gl.uniform3f(pos, data.x, data.y, data.z);
                    break;
                case wd.EVariableType.FLOAT_4:
                    data = this._convertToVector4(data);
                    gl.uniform4f(pos, data.x, data.y, data.z, data.w);
                    break;
                case wd.EVariableType.FLOAT_MAT3:
                    gl.uniformMatrix3fv(pos, false, data.values);
                    break;
                case wd.EVariableType.FLOAT_MAT4:
                    gl.uniformMatrix4fv(pos, false, data.values);
                    break;
                case wd.EVariableType.NUMBER_1:
                case wd.EVariableType.SAMPLER_CUBE:
                case wd.EVariableType.SAMPLER_2D:
                    gl.uniform1i(pos, data);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EVariableType:", type));
                    break;
            }
        };
        Program.prototype.sendUniformDataFromCustomShader = function () {
            var self = this;
            this._shader.uniforms
                .filter(function (val) {
                return val.value !== wd.EVariableCategory.ENGINE;
            })
                .forEach(function (val, key) {
                if (val.type === wd.EVariableType.STRUCTURE) {
                    wd.Log.error(!wd.JudgeUtils.isDirectObject(val.value), wd.Log.info.FUNC_MUST_BE("value's type", "object{}"));
                    for (var i in val.value) {
                        self.sendStructureData(key + "." + i, val.value[i].type, val.value[i].value);
                    }
                }
                else {
                    self.sendUniformData(key, val.type, val.value);
                }
            });
        };
        Program.prototype.sendAttributeData = function (name, type, data) {
            var gl = wd.DeviceManager.getInstance().gl, pos = null, buffer = null;
            pos = gl.getAttribLocation(this._program, name);
            if (pos === -1 || data === null) {
                return;
            }
            if (wd.JudgeUtils.isFunction(data)) {
                buffer = data();
                wd.Log.error(!(data instanceof wd.ArrayBuffer), wd.Log.info.FUNC_MUST_BE("ArrayBuffer"));
            }
            else {
                buffer = data;
            }
            switch (type) {
                case wd.EVariableType.BUFFER:
                    gl.bindBuffer(gl.ARRAY_BUFFER, buffer.buffer);
                    gl.vertexAttribPointer(pos, buffer.size, buffer.type, false, 0, 0);
                    gl.enableVertexAttribArray(pos);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EVariableType:", type));
                    break;
            }
        };
        Program.prototype.sendAttributeDataFromCustomShader = function () {
            var self = this;
            this._shader.attributes
                .filter(function (val) {
                return val.value !== wd.EVariableCategory.ENGINE;
            })
                .forEach(function (val, key) {
                self.sendAttributeData(key, self._convertAttributeDataType(val), val.value);
            });
        };
        Program.prototype.sendStructureData = function (name, type, data) {
            this.sendUniformData(name, type, data);
        };
        Program.prototype.initWithShader = function (shader) {
            var gl = wd.DeviceManager.getInstance().gl, vs = null, fs = null;
            this._program = wd.DeviceManager.getInstance().gl.createProgram();
            vs = shader.createVsShader();
            fs = shader.createFsShader();
            this._shader = shader;
            gl.attachShader(this._program, vs);
            gl.attachShader(this._program, fs);
            gl.bindAttribLocation(this._program, 0, "a_position");
            gl.linkProgram(this._program);
            wd.Log.error(gl.getProgramParameter(this._program, gl.LINK_STATUS) === false, gl.getProgramInfoLog(this._program));
            gl.deleteShader(vs);
            gl.deleteShader(fs);
            return this;
        };
        Program.prototype.dispose = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteProgram(this._program);
            this._program = undefined;
        };
        Program.prototype.isUniformDataNotExistByLocation = function (pos) {
            return pos === null;
        };
        Program.prototype._convertAttributeDataType = function (val) {
            return wd.EVariableType.BUFFER;
        };
        Program.prototype._convertToVector3 = function (data) {
            if (wd.JudgeUtils.isArray(data)) {
                return wd.Vector3.create(data[0], data[1], data[2]);
            }
            return data;
        };
        Program.prototype._convertToVector4 = function (data) {
            if (wd.JudgeUtils.isArray(data)) {
                return wd.Vector4.create(data[0], data[1], data[2], data[3]);
            }
            return data;
        };
        __decorate([
            wd.require(function (data) {
                wd.assert(wd.JudgeUtils.isArray(data) || data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("shader->attributes->value", "Array<Array<any>> or Array<Vector3> stucture"));
            })
        ], Program.prototype, "_convertToVector3", null);
        __decorate([
            wd.require(function (data) {
                wd.assert(wd.JudgeUtils.isArray(data) || data instanceof wd.Vector4, wd.Log.info.FUNC_MUST_BE("shader->attributes->value", "Array<Array<any>> or Array<Vector4> stucture"));
            })
        ], Program.prototype, "_convertToVector4", null);
        return Program;
    }());
    wd.Program = Program;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var QuadCommand = (function () {
        function QuadCommand() {
            this.buffers = null;
            this.mMatrix = null;
            this.vMatrix = null;
            this.pMatrix = null;
            this.drawMode = wd.EDrawMode.TRIANGLES;
            this.z = null;
            this.material = null;
            this.animation = null;
        }
        QuadCommand.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(QuadCommand.prototype, "program", {
            get: function () {
                return this.material.program;
            },
            enumerable: true,
            configurable: true
        });
        QuadCommand.prototype.execute = function () {
            this.material.updateTexture();
            this.material.updateShader(this);
            this._draw();
        };
        QuadCommand.prototype.init = function () {
        };
        QuadCommand.prototype._draw = function () {
            var totalNum = 0, startOffset = 0, vertexBuffer = null, gl = wd.DeviceManager.getInstance().gl;
            this._setEffects();
            if (this.buffers.hasChild(wd.EBufferDataType.INDICE)) {
                var indexBuffer = this.buffers.getChild(wd.EBufferDataType.INDICE);
                totalNum = indexBuffer.count;
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer.buffer);
                wd.GlUtils.drawElements(gl[this.drawMode], totalNum, indexBuffer.type, indexBuffer.typeSize * startOffset);
            }
            else {
                vertexBuffer = this.buffers.getChild(wd.EBufferDataType.VERTICE);
                totalNum = vertexBuffer.count;
                wd.GlUtils.drawArrays(gl[this.drawMode], startOffset, totalNum);
            }
        };
        QuadCommand.prototype._setEffects = function () {
            var deviceManager = wd.DeviceManager.getInstance(), material = this.material;
            deviceManager.setColorWrite(material.redWrite, material.greenWrite, material.blueWrite, material.alphaWrite);
            deviceManager.polygonOffsetMode = material.polygonOffsetMode;
            deviceManager.side = this._getSide();
            deviceManager.blend = material.blend;
            if (material.blendFuncSeparate && material.blendEquationSeparate) {
                deviceManager.setBlendFuncSeparate(material.blendFuncSeparate);
                deviceManager.setBlendEquationSeparate(material.blendEquationSeparate);
            }
            else {
                wdCb.Log.error(!material.blendSrc || !material.blendDst || !material.blendEquation, wdCb.Log.info.FUNC_MUST("material.blendSrc || material.blendDst || material.blendEquation", "be set"));
                deviceManager.setBlendFunc(material.blendSrc, material.blendDst);
                deviceManager.setBlendEquation(material.blendEquation);
            }
        };
        QuadCommand.prototype._getSide = function () {
            var scene = wd.Director.getInstance().scene;
            return scene.side ? scene.side : this.material.side;
        };
        return QuadCommand;
    }());
    wd.QuadCommand = QuadCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GlUtils = (function () {
        function GlUtils() {
        }
        GlUtils.drawElements = function (mode, count, type, offset) {
            wd.DebugStatistics.count.drawCalls++;
            this._getGl().drawElements(mode, count, type, offset);
        };
        GlUtils.drawArrays = function (mode, first, count) {
            wd.DebugStatistics.count.drawCalls++;
            this._getGl().drawArrays(mode, first, count);
        };
        GlUtils._getGl = function () {
            return wd.DeviceManager.getInstance().gl;
        };
        return GlUtils;
    }());
    wd.GlUtils = GlUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FrameBuffer = (function () {
        function FrameBuffer(width, height) {
            this.width = null;
            this.height = null;
            this._originScissorTest = null;
            this.width = width;
            this.height = height;
        }
        FrameBuffer.create = function (width, height) {
            var obj = new this(width, height);
            return obj;
        };
        Object.defineProperty(FrameBuffer.prototype, "gl", {
            get: function () {
                return wd.DeviceManager.getInstance().gl;
            },
            enumerable: true,
            configurable: true
        });
        FrameBuffer.prototype.createFrameBuffer = function () {
            return this.gl.createFramebuffer();
        };
        FrameBuffer.prototype.bindFrameBuffer = function (buffer) {
            var gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);
        };
        FrameBuffer.prototype.setViewport = function () {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.setViewport(0, 0, this.width, this.height);
            this._originScissorTest = deviceManager.scissorTest;
            deviceManager.scissorTest = false;
        };
        FrameBuffer.prototype.restoreViewport = function () {
            var deviceManager = wd.DeviceManager.getInstance(), view = deviceManager.view;
            deviceManager.setViewport(0, 0, view.width, view.height);
            deviceManager.scissorTest = this._originScissorTest;
        };
        FrameBuffer.prototype.dispose = function () {
            this.unBind();
        };
        FrameBuffer.prototype.unBind = function () {
            var gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
            gl.bindRenderbuffer(gl.RENDERBUFFER, null);
        };
        FrameBuffer.prototype.createRenderBuffer = function () {
            var gl = this.gl, renderBuffer = gl.createRenderbuffer();
            wd.Log.error(!renderBuffer, "Failed to create renderbuffer object");
            return renderBuffer;
        };
        FrameBuffer.prototype.attachTexture = function (glTarget, texture) {
            var gl = this.gl;
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, glTarget, texture, 0);
        };
        FrameBuffer.prototype.attachRenderBuffer = function (type, renderBuffer) {
            var gl = this.gl;
            gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);
            gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.width, this.height);
            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl[type], gl.RENDERBUFFER, renderBuffer);
        };
        FrameBuffer.prototype.check = function () {
            var gl = this.gl, e = gl.checkFramebufferStatus(gl.FRAMEBUFFER);
            if (e !== gl.FRAMEBUFFER_COMPLETE) {
                wd.Log.error(true, "Frame buffer object is incomplete:" + e.toString());
            }
        };
        return FrameBuffer;
    }());
    wd.FrameBuffer = FrameBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Shader = (function () {
        function Shader() {
            this._attributes = wdCb.Hash.create();
            this._uniforms = wdCb.Hash.create();
            this._vsSource = "";
            this._fsSource = "";
            this.program = wd.Program.create();
            this._definitionDataDirty = true;
            this._libs = wdCb.Collection.create();
            this._sourceBuilder = wd.ShaderSourceBuilder.create();
        }
        Shader.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Shader.prototype, "attributes", {
            get: function () {
                return this._attributes;
            },
            set: function (attributes) {
                if (this._isNotEqual(attributes, this._attributes)) {
                    this._definitionDataDirty = true;
                }
                this._attributes = attributes;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "uniforms", {
            get: function () {
                return this._uniforms;
            },
            set: function (uniforms) {
                if (this._isNotEqual(uniforms, this._uniforms)) {
                    this._definitionDataDirty = true;
                }
                this._uniforms = uniforms;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "vsSource", {
            get: function () {
                return this._vsSource;
            },
            set: function (vsSource) {
                if (vsSource !== this._vsSource) {
                    this._definitionDataDirty = true;
                }
                this._vsSource = vsSource;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "fsSource", {
            get: function () {
                return this._fsSource;
            },
            set: function (fsSource) {
                if (fsSource !== this._fsSource) {
                    this._definitionDataDirty = true;
                }
                this._fsSource = fsSource;
            },
            enumerable: true,
            configurable: true
        });
        Shader.prototype.createVsShader = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            return this._initShader(gl.createShader(gl.VERTEX_SHADER), this.vsSource);
        };
        Shader.prototype.createFsShader = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            return this._initShader(gl.createShader(gl.FRAGMENT_SHADER), this.fsSource);
        };
        Shader.prototype.isEqual = function (other) {
            return this.vsSource === other.vsSource
                && this.fsSource === other.fsSource;
        };
        Shader.prototype.init = function () {
        };
        Shader.prototype.update = function (quadCmd, material) {
            var program = this.program;
            this.buildDefinitionData(quadCmd, material);
            if (this._definitionDataDirty) {
                this.program.initWithShader(this);
                this._definitionDataDirty = false;
            }
            this.program.use();
            this._libs.forEach(function (lib) {
                lib.sendShaderVariables(program, quadCmd, material);
            });
            program.sendAttributeDataFromCustomShader();
            program.sendUniformDataFromCustomShader();
            material.mapManager.sendData(program);
        };
        Shader.prototype.hasLib = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args[0] instanceof wd.ShaderLib) {
                var lib = args[0];
                return this._libs.hasChild(lib);
            }
            else {
                var _class_2 = args[0];
                return this._libs.hasChild(function (lib) {
                    return lib instanceof _class_2;
                });
            }
        };
        Shader.prototype.addLib = function (lib) {
            this._libs.addChild(lib);
        };
        Shader.prototype.addShaderLibToTop = function (lib) {
            this._libs.unShiftChild(lib);
        };
        Shader.prototype.getLib = function (libClass) {
            return this._libs.findOne(function (lib) {
                return lib instanceof libClass;
            });
        };
        Shader.prototype.getLibs = function () {
            return this._libs;
        };
        Shader.prototype.removeLib = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            return this._libs.removeChild(args[0]);
        };
        Shader.prototype.removeAllLibs = function () {
            this._libs.removeAllChildren();
        };
        Shader.prototype.sortLib = function (func) {
            this._libs = this._libs.sort(func);
        };
        Shader.prototype.read = function (definitionData) {
            this._sourceBuilder.read(definitionData);
        };
        Shader.prototype.buildDefinitionData = function (quadCmd, material) {
            this._libs.forEach(function (lib) {
                lib.setShaderDefinition(quadCmd, material);
            });
            this._sourceBuilder.clearShaderDefinition();
            this._sourceBuilder.build(this._libs);
            this.attributes = this._sourceBuilder.attributes;
            this.uniforms = this._sourceBuilder.uniforms;
            this.vsSource = this._sourceBuilder.vsSource;
            this.fsSource = this._sourceBuilder.fsSource;
        };
        Shader.prototype._initShader = function (shader, source) {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                return shader;
            }
            else {
                wd.Log.log(gl.getShaderInfoLog(shader));
                wd.Log.log("attributes:\n", this.attributes);
                wd.Log.log("uniforms:\n", this.uniforms);
                wd.Log.log("source:\n", source);
            }
        };
        Shader.prototype._isNotEqual = function (list1, list2) {
            var result = false;
            list1.forEach(function (data, key) {
                var list2Data = list2.getChild(key);
                if (!list2Data || data.type !== list2Data.type || data.value !== list2Data.value) {
                    result = true;
                    return wdCb.$BREAK;
                }
            });
            return result;
        };
        return Shader;
    }());
    wd.Shader = Shader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderSourceBuilder = (function () {
        function ShaderSourceBuilder() {
            this.attributes = wdCb.Hash.create();
            this.uniforms = wdCb.Hash.create();
            this.vsSource = "";
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.fsSource = "";
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.vsSourceDefineList = wdCb.Collection.create();
            this.fsSourceDefineList = wdCb.Collection.create();
            this.attributesFromShaderLib = wdCb.Hash.create();
            this.uniformsFromShaderLib = wdCb.Hash.create();
            this.vsSourceTopFromShaderLib = "";
            this.vsSourceDefineFromShaderLib = "";
            this.vsSourceVarDeclareFromShaderLib = "";
            this.vsSourceFuncDeclareFromShaderLib = "";
            this.vsSourceFuncDefineFromShaderLib = "";
            this.vsSourceBodyFromShaderLib = "";
            this.fsSourceTopFromShaderLib = "";
            this.fsSourceDefineFromShaderLib = "";
            this.fsSourceVarDeclareFromShaderLib = "";
            this.fsSourceFuncDeclareFromShaderLib = "";
            this.fsSourceFuncDefineFromShaderLib = "";
            this.fsSourceBodyFromShaderLib = "";
        }
        ShaderSourceBuilder.create = function () {
            var obj = new this();
            return obj;
        };
        ShaderSourceBuilder.prototype.read = function (definitionData) {
            if (definitionData.attributes) {
                this.attributesFromShaderLib = (definitionData.attributes instanceof wdCb.Hash ? definitionData.attributes : wdCb.Hash.create(definitionData.attributes));
            }
            if (definitionData.uniforms) {
                this.uniformsFromShaderLib = (definitionData.uniforms instanceof wdCb.Hash ? definitionData.uniforms : wdCb.Hash.create(definitionData.uniforms));
            }
            this.vsSourceTopFromShaderLib = definitionData.vsSourceTop || "";
            this.vsSourceDefineFromShaderLib = definitionData.vsSourceDefine || "";
            this.vsSourceVarDeclareFromShaderLib = definitionData.vsSourceVarDeclare || "";
            this.vsSourceFuncDeclareFromShaderLib = definitionData.vsSourceFuncDeclare || "";
            this.vsSourceFuncDefineFromShaderLib = definitionData.vsSourceFuncDefine || "";
            this.vsSourceBodyFromShaderLib = definitionData.vsSourceBody || "";
            this.fsSourceTopFromShaderLib = definitionData.fsSourceTop || "";
            this.fsSourceDefineFromShaderLib = definitionData.fsSourceDefine || "";
            this.fsSourceVarDeclareFromShaderLib = definitionData.fsSourceVarDeclare || "";
            this.fsSourceFuncDeclareFromShaderLib = definitionData.fsSourceFuncDeclare || "";
            this.fsSourceFuncDefineFromShaderLib = definitionData.fsSourceFuncDefine || "";
            this.fsSourceBodyFromShaderLib = definitionData.fsSourceBody || "";
        };
        ShaderSourceBuilder.prototype.build = function (libs) {
            var self = this;
            this._readLibSource(libs);
            this._buildVsSource();
            this._buildFsSource();
            this.attributes
                .filter(function (data) {
                return (wd.JudgeUtils.isArray(data.value) || wd.JudgeUtils.isFloatArray(data.value)) && data.value !== wd.EVariableCategory.ENGINE;
            })
                .forEach(function (data, key) {
                data.value = self._convertArrayToArrayBuffer(data.type, data.value);
            });
        };
        ShaderSourceBuilder.prototype.clearShaderDefinition = function () {
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.vsSourceDefineList.removeAllChildren();
            this.fsSourceDefineList.removeAllChildren();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
        };
        ShaderSourceBuilder.prototype._readLibSource = function (libs) {
            var self = this, vsSourceTop = "", vsSourceDefine = "", vsSourceVarDeclare = "", vsSourceFuncDeclare = "", vsSourceFuncDefine = "", vsSourceBody = "", fsSourceTop = "", fsSourceDefine = "", fsSourceVarDeclare = "", fsSourceFuncDeclare = "", fsSourceFuncDefine = "", fsSourceBody = "";
            libs.forEach(function (lib) {
                self.attributes.addChildren(lib.attributes);
                self.uniforms.addChildren(lib.uniforms);
                vsSourceTop += lib.vsSourceTop;
                vsSourceDefine += lib.vsSourceDefine;
                vsSourceVarDeclare += lib.vsSourceVarDeclare;
                vsSourceFuncDeclare += lib.vsSourceFuncDeclare;
                vsSourceFuncDefine += lib.vsSourceFuncDefine;
                vsSourceBody += lib.vsSourceBody;
                fsSourceTop += lib.fsSourceTop;
                fsSourceDefine += lib.fsSourceDefine;
                fsSourceVarDeclare += lib.fsSourceVarDeclare;
                fsSourceFuncDeclare += lib.fsSourceFuncDeclare;
                fsSourceFuncDefine += lib.fsSourceFuncDefine;
                fsSourceBody += lib.fsSourceBody;
                self.vsSourceDefineList.addChildren(lib.vsSourceDefineList);
                self.fsSourceDefineList.addChildren(lib.fsSourceDefineList);
            });
            this.attributes.addChildren(this.attributesFromShaderLib);
            this.uniforms.addChildren(this.uniformsFromShaderLib);
            this.vsSourceTop = vsSourceTop + this.vsSourceTopFromShaderLib;
            this.vsSourceDefine = vsSourceDefine + this.vsSourceDefineFromShaderLib;
            this.vsSourceVarDeclare = vsSourceVarDeclare + this.vsSourceVarDeclareFromShaderLib;
            this.vsSourceFuncDeclare = vsSourceFuncDeclare + this.vsSourceFuncDeclareFromShaderLib;
            this.vsSourceFuncDefine = vsSourceFuncDefine + this.vsSourceFuncDefineFromShaderLib;
            this.vsSourceBody = vsSourceBody + this.vsSourceBodyFromShaderLib;
            this.fsSourceTop = fsSourceTop + this.fsSourceTopFromShaderLib;
            this.fsSourceDefine = fsSourceDefine + this.fsSourceDefineFromShaderLib;
            this.fsSourceVarDeclare = fsSourceVarDeclare + this.fsSourceVarDeclareFromShaderLib;
            this.fsSourceFuncDeclare = fsSourceFuncDeclare + this.fsSourceFuncDeclareFromShaderLib;
            this.fsSourceFuncDefine = fsSourceFuncDefine + this.fsSourceFuncDefineFromShaderLib;
            this.fsSourceBody = fsSourceBody + this.fsSourceBodyFromShaderLib;
        };
        ShaderSourceBuilder.prototype._buildVsSource = function () {
            this.vsSource = this._buildVsSourceTop() + this._buildVsSourceDefine() + this._buildVsSourceVarDeclare() + this._buildVsSourceFuncDeclare() + this._buildVsSourceFuncDefine() + this._buildVsSourceBody();
        };
        ShaderSourceBuilder.prototype._buildFsSource = function () {
            this.fsSource = this._buildFsSourceTop() + this._buildFsSourceDefine() + this._buildFsSourceVarDeclare() + this._buildFsSourceFuncDeclare() + this._buildFsSourceFuncDefine() + this._buildFsSourceBody();
        };
        ShaderSourceBuilder.prototype._buildVsSourceTop = function () {
            return this._getPrecisionSource() + this.vsSourceTop;
        };
        ShaderSourceBuilder.prototype._buildVsSourceDefine = function () {
            return this._buildSourceDefine(this.vsSourceDefineList) + this.vsSourceDefine;
        };
        ShaderSourceBuilder.prototype._buildVsSourceVarDeclare = function () {
            return this._generateAttributeSource() + this._generateUniformSource(this.vsSourceVarDeclare, this.vsSourceFuncDefine, this.vsSourceBody) + this.vsSourceVarDeclare;
        };
        ShaderSourceBuilder.prototype._buildVsSourceFuncDeclare = function () {
            return this.vsSourceFuncDeclare;
        };
        ShaderSourceBuilder.prototype._buildVsSourceFuncDefine = function () {
            return this.vsSourceFuncDefine;
        };
        ShaderSourceBuilder.prototype._buildVsSourceBody = function () {
            return wd.ShaderSnippet.main_begin + this.vsSourceBody + wd.ShaderSnippet.main_end;
        };
        ShaderSourceBuilder.prototype._buildFsSourceTop = function () {
            return this._getPrecisionSource() + this.fsSourceTop;
        };
        ShaderSourceBuilder.prototype._buildFsSourceDefine = function () {
            return this._buildSourceDefine(this.fsSourceDefineList) + this.fsSourceDefine;
        };
        ShaderSourceBuilder.prototype._buildFsSourceVarDeclare = function () {
            return this._generateUniformSource(this.fsSourceVarDeclare, this.fsSourceFuncDefine, this.fsSourceBody) + this.fsSourceVarDeclare;
        };
        ShaderSourceBuilder.prototype._buildFsSourceFuncDeclare = function () {
            return this.fsSourceFuncDeclare;
        };
        ShaderSourceBuilder.prototype._buildFsSourceFuncDefine = function () {
            return this.fsSourceFuncDefine;
        };
        ShaderSourceBuilder.prototype._buildFsSourceBody = function () {
            return wd.ShaderSnippet.main_begin + this.fsSourceBody + wd.ShaderSnippet.main_end;
        };
        ShaderSourceBuilder.prototype._buildSourceDefine = function (defineList) {
            var result = "";
            defineList.forEach(function (define) {
                if (define.value === void 0) {
                    result += "#define " + define.name + "\n";
                }
                else {
                    result += "#define " + define.name + " " + define.value + "\n";
                }
            });
            return result;
        };
        ShaderSourceBuilder.prototype._getPrecisionSource = function () {
            var precision = wd.GPUDetector.getInstance().precision, result = null;
            switch (precision) {
                case wd.EGPUPrecision.HIGHP:
                    result = wd.ShaderChunk.highp_fragment.top;
                    break;
                case wd.EGPUPrecision.MEDIUMP:
                    result = wd.ShaderChunk.mediump_fragment.top;
                    break;
                case wd.EGPUPrecision.LOWP:
                    result = wd.ShaderChunk.lowp_fragment.top;
                    break;
                default:
                    result = "";
                    break;
            }
            return result;
        };
        ShaderSourceBuilder.prototype._generateAttributeSource = function () {
            var result = "";
            this.attributes.filter(function (data, key) {
                return !!data;
            }).forEach(function (data, key) {
                result += "attribute " + wd.VariableTypeTable.getVariableType(data.type) + " " + key + ";\n";
            });
            return result;
        };
        ShaderSourceBuilder.prototype._generateUniformSource = function (sourceVarDeclare, sourceFuncDefine, sourceBody) {
            var result = "", self = this;
            this.uniforms.filter(function (data, key) {
                return !!data && data.type !== wd.EVariableType.STRUCTURE && data.type !== wd.EVariableType.STRUCTURES && !self._isExistInSource(key, sourceVarDeclare) && (self._isExistInSource(key, sourceFuncDefine) || self._isExistInSource(key, sourceBody));
            }).forEach(function (data, key) {
                result += "uniform " + wd.VariableTypeTable.getVariableType(data.type) + " " + key + ";\n";
            });
            return result;
        };
        ShaderSourceBuilder.prototype._isExistInSource = function (key, source) {
            return source.indexOf(key) !== -1;
        };
        ShaderSourceBuilder.prototype._convertArrayToArrayBuffer = function (type, value) {
            var size = this._getBufferSize(type);
            if (wd.JudgeUtils.isArray(value)) {
                return wd.ArrayBuffer.create(new Float32Array(value), size, wd.EBufferType.FLOAT);
            }
            else if (wd.JudgeUtils.isFloatArray(value)) {
                return wd.ArrayBuffer.create(value, size, wd.EBufferType.FLOAT);
            }
        };
        ShaderSourceBuilder.prototype._getBufferSize = function (type) {
            var size = null;
            switch (type) {
                case wd.EVariableType.FLOAT_1:
                case wd.EVariableType.NUMBER_1:
                    size = 1;
                    break;
                case wd.EVariableType.FLOAT_3:
                    size = 3;
                    break;
                case wd.EVariableType.FLOAT_4:
                    size = 4;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("EVariableType", type));
                    break;
            }
            return size;
        };
        return ShaderSourceBuilder;
    }());
    wd.ShaderSourceBuilder = ShaderSourceBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EVariableType) {
        EVariableType[EVariableType["FLOAT_1"] = 0] = "FLOAT_1";
        EVariableType[EVariableType["FLOAT_2"] = 1] = "FLOAT_2";
        EVariableType[EVariableType["FLOAT_3"] = 2] = "FLOAT_3";
        EVariableType[EVariableType["FLOAT_4"] = 3] = "FLOAT_4";
        EVariableType[EVariableType["FLOAT_MAT3"] = 4] = "FLOAT_MAT3";
        EVariableType[EVariableType["FLOAT_MAT4"] = 5] = "FLOAT_MAT4";
        EVariableType[EVariableType["BUFFER"] = 6] = "BUFFER";
        EVariableType[EVariableType["SAMPLER_CUBE"] = 7] = "SAMPLER_CUBE";
        EVariableType[EVariableType["SAMPLER_2D"] = 8] = "SAMPLER_2D";
        EVariableType[EVariableType["NUMBER_1"] = 9] = "NUMBER_1";
        EVariableType[EVariableType["STRUCTURE"] = 10] = "STRUCTURE";
        EVariableType[EVariableType["STRUCTURES"] = 11] = "STRUCTURES";
    })(wd.EVariableType || (wd.EVariableType = {}));
    var EVariableType = wd.EVariableType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EVariableCategory) {
        EVariableCategory[EVariableCategory["ENGINE"] = "ENGINE"] = "ENGINE";
        EVariableCategory[EVariableCategory["CUSTOM"] = "CUSTOM"] = "CUSTOM";
    })(wd.EVariableCategory || (wd.EVariableCategory = {}));
    var EVariableCategory = wd.EVariableCategory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VariableLib = (function () {
        function VariableLib() {
        }
        VariableLib.a_position = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_currentFramePosition = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_nextFramePosition = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_normal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_currentFrameNormal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_nextFrameNormal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_color = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_texCoord = {
            type: wd.EVariableType.FLOAT_2,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_tangent = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_vMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_pMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_normalMatrix = {
            type: wd.EVariableType.FLOAT_MAT3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_samplerCube0 = {
            type: wd.EVariableType.SAMPLER_CUBE,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_sampler2D0 = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_sampler2D1 = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuseMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_specularMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_emissionMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_normalMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mirrorSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_cameraPos = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_refractionRatio = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_reflectivity = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_sourceRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_repeatRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_combineMode = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mixRatio = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuse = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_specular = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_emission = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_shininess = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightModel = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_isBothSide = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_opacity = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_ambient = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_directionLights = {
            type: wd.EVariableType.STRUCTURES,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_pointLights = {
            type: wd.EVariableType.STRUCTURES,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_vpMatrixFromLight = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightPos = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_farPlane = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_interpolation = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        return VariableLib;
    }());
    wd.VariableLib = VariableLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EVariableType.FLOAT_1, "float");
    _table.addChild(wd.EVariableType.FLOAT_2, "vec2");
    _table.addChild(wd.EVariableType.FLOAT_3, "vec3");
    _table.addChild(wd.EVariableType.FLOAT_4, "vec4");
    _table.addChild(wd.EVariableType.FLOAT_MAT3, "mat3");
    _table.addChild(wd.EVariableType.FLOAT_MAT4, "mat4");
    _table.addChild(wd.EVariableType.NUMBER_1, "int");
    _table.addChild(wd.EVariableType.SAMPLER_CUBE, "samplerCube");
    _table.addChild(wd.EVariableType.SAMPLER_2D, "sampler2D");
    var VariableTypeTable = (function () {
        function VariableTypeTable() {
        }
        VariableTypeTable.getVariableType = function (type) {
            var result = _table.getChild(type);
            wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(type, "in VariableTypeTable"));
            return result;
        };
        return VariableTypeTable;
    }());
    wd.VariableTypeTable = VariableTypeTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild("diffuseMap", "u_diffuseMapSampler");
    _table.addChild("specularMap", "u_specularMapSampler");
    _table.addChild("emissionMap", "u_emissionMapSampler");
    _table.addChild("normalMap", "u_normalMapSampler");
    _table.addChild("mirrorReflectionMap", "u_mirrorSampler");
    var VariableNameTable = (function () {
        function VariableNameTable() {
        }
        VariableNameTable.getVariableName = function (name) {
            var result = _table.getChild(name);
            wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(name, "in VariableNameTable"));
            return result;
        };
        return VariableNameTable;
    }());
    wd.VariableNameTable = VariableNameTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderLib = (function () {
        function ShaderLib() {
            this.type = wd.ABSTRACT_ATTRIBUTE;
            this.attributes = wdCb.Hash.create();
            this.uniforms = wdCb.Hash.create();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.vsSourceDefineList = wdCb.Collection.create();
            this.fsSourceDefineList = wdCb.Collection.create();
        }
        ShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            var vs = null, fs = null;
            this._clearShaderDefinition();
            vs = this.getVsChunk();
            fs = this.getFsChunk();
            vs && this.setVsSource(vs);
            fs && this.setFsSource(fs);
        };
        ShaderLib.prototype.getVsChunk = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args.length === 0 ? this.type : args[0];
            return this._getChunk(type, EShaderLibType.vs);
        };
        ShaderLib.prototype.getFsChunk = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args.length === 0 ? this.type : args[0];
            return this._getChunk(type, EShaderLibType.fs);
        };
        ShaderLib.prototype.setVsSource = function (vs, operator) {
            if (operator === void 0) { operator = "="; }
            this._setSource(vs, EShaderLibType.vs, operator);
        };
        ShaderLib.prototype.setFsSource = function (fs, operator) {
            if (operator === void 0) { operator = "="; }
            this._setSource(fs, EShaderLibType.fs, operator);
        };
        ShaderLib.prototype.addAttributeVariable = function (variableArr) {
            this._addVariable(this.attributes, variableArr);
        };
        ShaderLib.prototype.addUniformVariable = function (variableArr) {
            this._addVariable(this.uniforms, variableArr);
        };
        ShaderLib.prototype.sendAttributeData = function (program, name, data) {
            program.sendAttributeData(name, wd.EVariableType.BUFFER, data);
        };
        ShaderLib.prototype.sendUniformData = function (program, name, data) {
            program.sendUniformData(name, wd.VariableLib[name].type, data);
        };
        ShaderLib.prototype._clearShaderDefinition = function () {
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.vsSourceDefineList.removeAllChildren();
            this.fsSourceDefineList.removeAllChildren();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
        };
        ShaderLib.prototype._getChunk = function (type, sourceType) {
            var key = null;
            if (type.indexOf(".glsl") > -1) {
                key = "" + wdCb.PathUtils.basename(type, ".glsl");
            }
            else {
                if (sourceType === EShaderLibType.vs) {
                    key = type + "_vertex";
                }
                else {
                    key = type + "_fragment";
                }
            }
            return wd.ShaderChunk[key] ? wd.ShaderChunk[key] : wd.ShaderChunk.empty;
        };
        ShaderLib.prototype._setSource = function (chunk, sourceType, operator) {
            if (!chunk) {
                return;
            }
            switch (operator) {
                case "+":
                    this[(sourceType + "SourceTop")] += chunk.top;
                    this[(sourceType + "SourceDefine")] += chunk.define;
                    this[(sourceType + "SourceVarDeclare")] += chunk.varDeclare;
                    this[(sourceType + "SourceFuncDeclare")] += chunk.funcDeclare;
                    this[(sourceType + "SourceFuncDefine")] += chunk.funcDefine;
                    this[(sourceType + "SourceBody")] += chunk.body;
                    break;
                case "=":
                    this[(sourceType + "SourceTop")] = chunk.top;
                    this[(sourceType + "SourceDefine")] = chunk.define;
                    this[(sourceType + "SourceVarDeclare")] = chunk.varDeclare;
                    this[(sourceType + "SourceFuncDeclare")] = chunk.funcDeclare;
                    this[(sourceType + "SourceFuncDefine")] = chunk.funcDefine;
                    this[(sourceType + "SourceBody")] = chunk.body;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("opertor:", operator));
                    break;
            }
        };
        ShaderLib.prototype._addVariable = function (target, variableArr) {
            variableArr.forEach(function (variable) {
                wd.Log.assert(wd.VariableLib[variable], wd.Log.info.FUNC_SHOULD(variable, "exist in VariableLib"));
                target.addChild(variable, wd.VariableLib[variable]);
            });
        };
        __decorate([
            wd.virtual
        ], ShaderLib.prototype, "setShaderDefinition", null);
        __decorate([
            wd.require(function (program, name, data) {
                wd.assert(!!wd.VariableLib[name], name + " should exist in VariableLib");
            })
        ], ShaderLib.prototype, "sendUniformData", null);
        return ShaderLib;
    }());
    wd.ShaderLib = ShaderLib;
    var EShaderLibType;
    (function (EShaderLibType) {
        EShaderLibType[EShaderLibType["vs"] = "vs"] = "vs";
        EShaderLibType[EShaderLibType["fs"] = "fs"] = "fs";
    })(EShaderLibType || (EShaderLibType = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonShaderLib = (function (_super) {
        __extends(CommonShaderLib, _super);
        function CommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "common";
        }
        CommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_mMatrix", quadCmd.mMatrix);
            this.sendUniformData(program, "u_vMatrix", quadCmd.vMatrix);
            this.sendUniformData(program, "u_pMatrix", quadCmd.pMatrix);
        };
        CommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_mMatrix", "u_vMatrix", "u_pMatrix"]);
            this.vsSourceDefine = wd.ShaderChunk.common_define.define + wd.ShaderChunk.common_vertex.define;
            this.vsSourceFuncDefine = wd.ShaderChunk.common_function.funcDefine + wd.ShaderChunk.common_vertex.funcDefine;
            this.fsSourceDefine = wd.ShaderChunk.common_define.define + wd.ShaderChunk.common_fragment.define;
            this.fsSourceFuncDefine = wd.ShaderChunk.common_function.funcDefine + wd.ShaderChunk.common_fragment.funcDefine;
        };
        return CommonShaderLib;
    }(wd.ShaderLib));
    wd.CommonShaderLib = CommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonVerticeShaderLib = (function (_super) {
        __extends(CommonVerticeShaderLib, _super);
        function CommonVerticeShaderLib() {
            _super.apply(this, arguments);
            this.type = "commonVertice";
        }
        CommonVerticeShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonVerticeShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this._sendAttributeVariables(program, quadCmd);
        };
        CommonVerticeShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_position"]);
        };
        CommonVerticeShaderLib.prototype._sendAttributeVariables = function (program, quadCmd) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.VERTICE)) {
                this.sendAttributeData(program, "a_position", quadCmd.buffers.getChild(wd.EBufferDataType.VERTICE));
            }
        };
        return CommonVerticeShaderLib;
    }(wd.ShaderLib));
    wd.CommonVerticeShaderLib = CommonVerticeShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonNormalShaderLib = (function (_super) {
        __extends(CommonNormalShaderLib, _super);
        function CommonNormalShaderLib() {
            _super.apply(this, arguments);
            this.type = "commonNormal";
        }
        CommonNormalShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonNormalShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this._sendAttributeVariables(program, quadCmd);
        };
        CommonNormalShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_normal"]);
        };
        CommonNormalShaderLib.prototype._sendAttributeVariables = function (program, quadCmd) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.NORMAL)) {
                this.sendAttributeData(program, "a_normal", quadCmd.buffers.getChild(wd.EBufferDataType.NORMAL));
            }
        };
        return CommonNormalShaderLib;
    }(wd.ShaderLib));
    wd.CommonNormalShaderLib = CommonNormalShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicShaderLib = (function (_super) {
        __extends(BasicShaderLib, _super);
        function BasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic";
        }
        BasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.COLOR)) {
                this.sendAttributeData(program, "a_color", quadCmd.buffers.getChild(wd.EBufferDataType.COLOR));
                this.sendUniformData(program, "u_opacity", material.opacity);
            }
        };
        BasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_color"]);
            this.addUniformVariable(["u_opacity"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + wd.ShaderChunk.basic_vertex.body;
        };
        return BasicShaderLib;
    }(wd.ShaderLib));
    wd.BasicShaderLib = BasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEndShaderLib = (function (_super) {
        __extends(BasicEndShaderLib, _super);
        function BasicEndShaderLib() {
            _super.apply(this, arguments);
            this.type = "basicEnd";
        }
        BasicEndShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BasicEndShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return BasicEndShaderLib;
    }(wd.ShaderLib));
    wd.BasicEndShaderLib = BasicEndShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphCommonShaderLib = (function (_super) {
        __extends(MorphCommonShaderLib, _super);
        function MorphCommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphCommon";
        }
        MorphCommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphCommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var anim = (quadCmd.animation);
            this.sendUniformData(program, "u_interpolation", anim.interpolation);
        };
        MorphCommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_interpolation"]);
        };
        __decorate([
            wd.require(function (program, quadCmd, material) {
                wd.assert(!!quadCmd.animation, wd.Log.info.FUNC_SHOULD("entityObject", "add MorphAnimation component"));
            })
        ], MorphCommonShaderLib.prototype, "sendShaderVariables", null);
        return MorphCommonShaderLib;
    }(wd.ShaderLib));
    wd.MorphCommonShaderLib = MorphCommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphVerticeShaderLib = (function (_super) {
        __extends(MorphVerticeShaderLib, _super);
        function MorphVerticeShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphVertice";
        }
        MorphVerticeShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphVerticeShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.VERTICE)) {
                var morphVerticeData = quadCmd.buffers.getChild(wd.EBufferDataType.VERTICE);
                this.sendAttributeData(program, "a_currentFramePosition", morphVerticeData[0]);
                this.sendAttributeData(program, "a_nextFramePosition", morphVerticeData[1]);
            }
        };
        MorphVerticeShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_currentFramePosition", "a_nextFramePosition"]);
        };
        __decorate([
            wd.require(function (program, quadCmd, material) {
                wd.assert(!!quadCmd.animation, wd.Log.info.FUNC_SHOULD("entityObject", "add MorphAnimation component"));
            })
        ], MorphVerticeShaderLib.prototype, "sendShaderVariables", null);
        return MorphVerticeShaderLib;
    }(wd.ShaderLib));
    wd.MorphVerticeShaderLib = MorphVerticeShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphNormalShaderLib = (function (_super) {
        __extends(MorphNormalShaderLib, _super);
        function MorphNormalShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphNormal";
        }
        MorphNormalShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphNormalShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.NORMAL)) {
                var morphNormalData = quadCmd.buffers.getChild(wd.EBufferDataType.NORMAL);
                this.sendAttributeData(program, "a_currentFrameNormal", morphNormalData[0]);
                this.sendAttributeData(program, "a_nextFrameNormal", morphNormalData[1]);
            }
        };
        MorphNormalShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_currentFrameNormal", "a_nextFrameNormal"]);
        };
        return MorphNormalShaderLib;
    }(wd.ShaderLib));
    wd.MorphNormalShaderLib = MorphNormalShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxShaderLib = (function (_super) {
        __extends(SkyboxShaderLib, _super);
        function SkyboxShaderLib() {
            _super.apply(this, arguments);
            this.type = "skybox";
        }
        SkyboxShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        SkyboxShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        SkyboxShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0"]);
        };
        return SkyboxShaderLib;
    }(wd.ShaderLib));
    wd.SkyboxShaderLib = SkyboxShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EnvMapForBasicShaderLib = (function (_super) {
        __extends(EnvMapForBasicShaderLib, _super);
        function EnvMapForBasicShaderLib() {
            _super.apply(this, arguments);
        }
        EnvMapForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_normalMatrix", quadCmd.mMatrix.copy().invertTo3x3().transpose());
            this.sendUniformData(program, "u_cameraPos", wd.Director.getInstance().scene.currentCamera.transform.position);
        };
        EnvMapForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0", "u_cameraPos", "u_normalMatrix"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + this.getVsChunk().body;
        };
        EnvMapForBasicShaderLib.prototype.setEnvMapSource = function () {
            var vs = this.getVsChunk("envMap_forBasic"), fs = this.getFsChunk("envMap_forBasic");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody += vs.body;
            this.setFsSource(fs);
        };
        return EnvMapForBasicShaderLib;
    }(wd.ShaderLib));
    wd.EnvMapForBasicShaderLib = EnvMapForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEnvMapForBasicShaderLib = (function (_super) {
        __extends(BasicEnvMapForBasicShaderLib, _super);
        function BasicEnvMapForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic_envMap_forBasic";
        }
        BasicEnvMapForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicEnvMapForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.BasicEnvMapForBasicShaderLib = BasicEnvMapForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ReflectionForBasicShaderLib = (function (_super) {
        __extends(ReflectionForBasicShaderLib, _super);
        function ReflectionForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "reflection_forBasic";
        }
        ReflectionForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        ReflectionForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return ReflectionForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.ReflectionForBasicShaderLib = ReflectionForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RefractionForBasicShaderLib = (function (_super) {
        __extends(RefractionForBasicShaderLib, _super);
        function RefractionForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "refraction_forBasic";
        }
        RefractionForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        RefractionForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
        };
        RefractionForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return RefractionForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.RefractionForBasicShaderLib = RefractionForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FresnelForBasicShaderLib = (function (_super) {
        __extends(FresnelForBasicShaderLib, _super);
        function FresnelForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "fresnel_forBasic";
        }
        FresnelForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        FresnelForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
            this.sendUniformData(program, "u_reflectivity", material.reflectivity);
        };
        FresnelForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio", "u_reflectivity"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return FresnelForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.FresnelForBasicShaderLib = FresnelForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EnvMapForLightShaderLib = (function (_super) {
        __extends(EnvMapForLightShaderLib, _super);
        function EnvMapForLightShaderLib() {
            _super.apply(this, arguments);
        }
        EnvMapForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        EnvMapForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + this.getVsChunk().body;
        };
        EnvMapForLightShaderLib.prototype.setEnvMapSource = function () {
            var vs = this.getVsChunk("envMap_forLight"), fs = this.getFsChunk("envMap_forLight");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody += vs.body;
            this.setFsSource(fs);
        };
        return EnvMapForLightShaderLib;
    }(wd.ShaderLib));
    wd.EnvMapForLightShaderLib = EnvMapForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEnvMapForLightShaderLib = (function (_super) {
        __extends(BasicEnvMapForLightShaderLib, _super);
        function BasicEnvMapForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic_forLight_envMap";
        }
        BasicEnvMapForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicEnvMapForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.BasicEnvMapForLightShaderLib = BasicEnvMapForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ReflectionForLightShaderLib = (function (_super) {
        __extends(ReflectionForLightShaderLib, _super);
        function ReflectionForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "reflection_forLight";
        }
        ReflectionForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        ReflectionForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return ReflectionForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.ReflectionForLightShaderLib = ReflectionForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RefractionForLightShaderLib = (function (_super) {
        __extends(RefractionForLightShaderLib, _super);
        function RefractionForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "refraction_forLight";
        }
        RefractionForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        RefractionForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
        };
        RefractionForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return RefractionForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.RefractionForLightShaderLib = RefractionForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FresnelForLightShaderLib = (function (_super) {
        __extends(FresnelForLightShaderLib, _super);
        function FresnelForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "fresnel_forLight";
        }
        FresnelForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        FresnelForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            if (material.reflectivity !== null) {
                this.sendUniformData(program, "u_reflectivity", material.reflectivity);
            }
            else {
                this.sendUniformData(program, "u_reflectivity", wd.ShaderChunk.NULL);
                this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
            }
        };
        FresnelForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio", "u_reflectivity"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return FresnelForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.FresnelForLightShaderLib = FresnelForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MapShaderLib = (function (_super) {
        __extends(MapShaderLib, _super);
        function MapShaderLib() {
            _super.apply(this, arguments);
        }
        MapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.TEXCOORD)) {
                this.sendAttributeData(program, "a_texCoord", quadCmd.buffers.getChild(wd.EBufferDataType.TEXCOORD));
            }
        };
        MapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_texCoord"]);
            this.addUniformVariable(["u_sampler2D0", "u_sourceRegion", "u_repeatRegion"]);
            this._setMapSource();
        };
        MapShaderLib.prototype._setMapSource = function () {
            var vs = this.getVsChunk("map_forBasic"), fs = this.getFsChunk("map_forBasic");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody = vs.body;
            this.setFsSource(fs);
        };
        return MapShaderLib;
    }(wd.ShaderLib));
    wd.MapShaderLib = MapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicMapShaderLib = (function (_super) {
        __extends(BasicMapShaderLib, _super);
        function BasicMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "map_forBasic";
        }
        BasicMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicMapShaderLib;
    }(wd.MapShaderLib));
    wd.BasicMapShaderLib = BasicMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MultiMapShaderLib = (function (_super) {
        __extends(MultiMapShaderLib, _super);
        function MultiMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "multi_map_forBasic";
        }
        MultiMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MultiMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_combineMode", material.mapCombineMode);
            this.sendUniformData(program, "u_mixRatio", material.mapMixRatio);
        };
        MultiMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_sampler2D1", "u_combineMode", "u_mixRatio"]);
            this.fsSourceFuncDefine = this.getFsChunk().funcDefine;
            this.fsSourceBody = this.getFsChunk().body;
        };
        return MultiMapShaderLib;
    }(wd.MapShaderLib));
    wd.MultiMapShaderLib = MultiMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorForBasicShaderLib = (function (_super) {
        __extends(MirrorForBasicShaderLib, _super);
        function MirrorForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "mirror_forBasic";
        }
        MirrorForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MirrorForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        MirrorForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_mirrorSampler"]);
        };
        return MirrorForBasicShaderLib;
    }(wd.ShaderLib));
    wd.MirrorForBasicShaderLib = MirrorForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightCommonShaderLib = (function (_super) {
        __extends(LightCommonShaderLib, _super);
        function LightCommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "lightCommon";
        }
        LightCommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightCommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        LightCommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setVsSource(this.getVsChunk("light_common.glsl"));
            this.setVsSource(this.getVsChunk(), "+");
            this.setFsSource(this.getFsChunk("light_common.glsl"));
            this.setFsSource(this.getFsChunk(), "+");
        };
        return LightCommonShaderLib;
    }(wd.ShaderLib));
    wd.LightCommonShaderLib = LightCommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightShaderLib = (function (_super) {
        __extends(LightShaderLib, _super);
        function LightShaderLib() {
            _super.apply(this, arguments);
            this.type = "light";
        }
        LightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_normalMatrix", quadCmd.mMatrix.copy().invertTo3x3().transpose());
            this.sendUniformData(program, "u_cameraPos", wd.Director.getInstance().scene.currentCamera.transform.position);
            this.sendUniformData(program, "u_shininess", material.shininess);
            this.sendUniformData(program, "u_opacity", material.opacity);
            this.sendUniformData(program, "u_lightModel", this._convertLightModelToGLSLVariable(material.lightModel));
            this._sendLightVariables(program);
        };
        LightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_normalMatrix", "u_cameraPos", "u_shininess", "u_ambient", "u_opacity", "u_isBothSide", "u_lightModel"]);
            this._setLightDefinition(material);
        };
        LightShaderLib.prototype._sendLightVariables = function (program) {
            var scene = wd.Director.getInstance().scene, directionLights = scene.directionLights, ambientLight = scene.ambientLight, pointLights = scene.pointLights;
            if (ambientLight) {
                this.sendUniformData(program, "u_ambient", ambientLight.getComponent(wd.AmbientLight).color.toVector3());
            }
            if (pointLights) {
                this._sendPointLightVariables(program, pointLights);
            }
            if (directionLights) {
                this._sendDirectionLightVariables(program, directionLights);
            }
        };
        LightShaderLib.prototype._sendPointLightVariables = function (program, pointLights) {
            pointLights.forEach(function (pointLight, index) {
                var lightComponent = pointLight.getComponent(wd.PointLight);
                program.sendStructureData("u_pointLights[" + index + "].position", wd.EVariableType.FLOAT_3, lightComponent.position);
                program.sendStructureData("u_pointLights[" + index + "].color", wd.EVariableType.FLOAT_3, lightComponent.color.toVector3());
                program.sendStructureData("u_pointLights[" + index + "].intensity", wd.EVariableType.FLOAT_1, lightComponent.intensity);
                program.sendStructureData("u_pointLights[" + index + "].constant", wd.EVariableType.FLOAT_1, lightComponent.constant);
                program.sendStructureData("u_pointLights[" + index + "].linear", wd.EVariableType.FLOAT_1, lightComponent.linear);
                program.sendStructureData("u_pointLights[" + index + "].quadratic", wd.EVariableType.FLOAT_1, lightComponent.quadratic);
                if (lightComponent.range !== null) {
                    program.sendStructureData("u_pointLights[" + index + "].range", wd.EVariableType.FLOAT_1, lightComponent.range);
                }
                else {
                    program.sendStructureData("u_pointLights[" + index + "].range", wd.EVariableType.FLOAT_1, wd.ShaderChunk.NULL);
                }
            });
        };
        LightShaderLib.prototype._sendDirectionLightVariables = function (program, directionLights) {
            var self = this;
            directionLights.forEach(function (directionLight, index) {
                var lightComponent = directionLight.getComponent(wd.DirectionLight);
                if (self._isZero(lightComponent.position)) {
                    program.sendStructureData("u_directionLights[" + index + "].position", wd.EVariableType.FLOAT_3, wd.DirectionLight.defaultPosition);
                }
                else {
                    program.sendStructureData("u_directionLights[" + index + "].position", wd.EVariableType.FLOAT_3, lightComponent.position);
                }
                program.sendStructureData("u_directionLights[" + index + "].color", wd.EVariableType.FLOAT_3, lightComponent.color.toVector3());
                program.sendStructureData("u_directionLights[" + index + "].intensity", wd.EVariableType.FLOAT_1, lightComponent.intensity);
            });
        };
        LightShaderLib.prototype._isZero = function (position) {
            var val = position.values;
            return val[0] === 0 && val[1] === 0 && val[2] === 0;
        };
        LightShaderLib.prototype._setLightDefinition = function (material) {
            var scene = wd.Director.getInstance().scene, directionLights = scene.directionLights, pointLights = scene.pointLights, direction_lights_count = 0, point_lights_count = 0;
            if (directionLights) {
                this.addUniformVariable(["u_directionLights"]);
                direction_lights_count = directionLights.getCount();
            }
            if (pointLights) {
                this.addUniformVariable(["u_pointLights"]);
                point_lights_count = pointLights.getCount();
            }
            this._addDefine(this.vsSourceDefineList, direction_lights_count, point_lights_count);
            this._addDefine(this.fsSourceDefineList, direction_lights_count, point_lights_count);
            if (material.side === wd.ESide.BOTH) {
                this.fsSourceDefineList.addChildren([{
                        name: "BOTH_SIDE"
                    }]);
            }
        };
        LightShaderLib.prototype._addDefine = function (list, direction_lights_count, point_lights_count) {
            list.addChildren([{
                    name: "DIRECTION_LIGHTS_COUNT",
                    value: direction_lights_count
                }, {
                    name: "POINT_LIGHTS_COUNT",
                    value: point_lights_count
                }]);
        };
        LightShaderLib.prototype._convertLightModelToGLSLVariable = function (lightModel) {
            switch (lightModel) {
                case wd.ELightModel.BLINN:
                    return 1;
                case wd.ELightModel.PHONG:
                    return 2;
                case wd.ELightModel.CONSTANT:
                    return 3;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("lightModel:" + lightModel));
                    break;
            }
        };
        __decorate([
            wd.require(function (lightModel) {
                wd.assert(lightModel !== wd.ELightModel.LAMBERT, wd.Log.info.FUNC_SHOULD_NOT("lightModel", "=== ELightModel.LAMBERT"));
            })
        ], LightShaderLib.prototype, "_convertLightModelToGLSLVariable", null);
        return LightShaderLib;
    }(wd.ShaderLib));
    wd.LightShaderLib = LightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightEndShaderLib = (function (_super) {
        __extends(LightEndShaderLib, _super);
        function LightEndShaderLib() {
            _super.apply(this, arguments);
            this.type = "lightEnd";
        }
        LightEndShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightEndShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return LightEndShaderLib;
    }(wd.ShaderLib));
    wd.LightEndShaderLib = LightEndShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightMapShaderLib = (function (_super) {
        __extends(LightMapShaderLib, _super);
        function LightMapShaderLib() {
            _super.apply(this, arguments);
        }
        LightMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.TEXCOORD)) {
                this.sendAttributeData(program, "a_texCoord", quadCmd.buffers.getChild(wd.EBufferDataType.TEXCOORD));
            }
        };
        LightMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_texCoord"]);
        };
        return LightMapShaderLib;
    }(wd.ShaderLib));
    wd.LightMapShaderLib = LightMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DiffuseMapShaderLib = (function (_super) {
        __extends(DiffuseMapShaderLib, _super);
        function DiffuseMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "diffuseMap";
        }
        DiffuseMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        DiffuseMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("diffuseMap"),
                "u_sourceRegion", "u_repeatRegion"
            ]);
        };
        return DiffuseMapShaderLib;
    }(wd.LightMapShaderLib));
    wd.DiffuseMapShaderLib = DiffuseMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpecularMapShaderLib = (function (_super) {
        __extends(SpecularMapShaderLib, _super);
        function SpecularMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "specularMap";
        }
        SpecularMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        SpecularMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("specularMap")
            ]);
        };
        return SpecularMapShaderLib;
    }(wd.LightMapShaderLib));
    wd.SpecularMapShaderLib = SpecularMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EmissionMapShaderLib = (function (_super) {
        __extends(EmissionMapShaderLib, _super);
        function EmissionMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "emissionMap";
        }
        EmissionMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        EmissionMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("emissionMap")
            ]);
        };
        return EmissionMapShaderLib;
    }(wd.LightMapShaderLib));
    wd.EmissionMapShaderLib = EmissionMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NormalMapShaderLib = (function (_super) {
        __extends(NormalMapShaderLib, _super);
        function NormalMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "normalMap";
        }
        NormalMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NormalMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            if (quadCmd.buffers.hasChild(wd.EBufferDataType.TANGENT)) {
                this.sendAttributeData(program, "a_tangent", quadCmd.buffers.getChild(wd.EBufferDataType.TANGENT));
            }
        };
        NormalMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_tangent"]);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("normalMap")
            ]);
        };
        return NormalMapShaderLib;
    }(wd.LightMapShaderLib));
    wd.NormalMapShaderLib = NormalMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoDiffuseMapShaderLib = (function (_super) {
        __extends(NoDiffuseMapShaderLib, _super);
        function NoDiffuseMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noDiffuseMap";
        }
        NoDiffuseMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoDiffuseMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_diffuse", material.color.toVector3());
        };
        NoDiffuseMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_diffuse"]);
        };
        return NoDiffuseMapShaderLib;
    }(wd.ShaderLib));
    wd.NoDiffuseMapShaderLib = NoDiffuseMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoSpecularMapShaderLib = (function (_super) {
        __extends(NoSpecularMapShaderLib, _super);
        function NoSpecularMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noSpecularMap";
        }
        NoSpecularMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoSpecularMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_specular", material.specularColor.toVector3());
        };
        NoSpecularMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_specular"]);
        };
        return NoSpecularMapShaderLib;
    }(wd.ShaderLib));
    wd.NoSpecularMapShaderLib = NoSpecularMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoEmissionMapShaderLib = (function (_super) {
        __extends(NoEmissionMapShaderLib, _super);
        function NoEmissionMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noEmissionMap";
        }
        NoEmissionMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoEmissionMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_emission", material.emissionColor.toVector3());
        };
        NoEmissionMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_emission"]);
        };
        return NoEmissionMapShaderLib;
    }(wd.ShaderLib));
    wd.NoEmissionMapShaderLib = NoEmissionMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoNormalMapShaderLib = (function (_super) {
        __extends(NoNormalMapShaderLib, _super);
        function NoNormalMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noNormalMap";
        }
        NoNormalMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoNormalMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return NoNormalMapShaderLib;
    }(wd.ShaderLib));
    wd.NoNormalMapShaderLib = NoNormalMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildShadowMapShaderLib = (function (_super) {
        __extends(BuildShadowMapShaderLib, _super);
        function BuildShadowMapShaderLib() {
            _super.apply(this, arguments);
        }
        BuildShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setFsSource(this.getFsChunk("commonBuildShadowMap_fragment.glsl"));
            this.setFsSource(this.getFsChunk(), "+");
        };
        return BuildShadowMapShaderLib;
    }(wd.ShaderLib));
    wd.BuildShadowMapShaderLib = BuildShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildTwoDShadowMapShaderLib = (function (_super) {
        __extends(BuildTwoDShadowMapShaderLib, _super);
        function BuildTwoDShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "buildTwoDShadowMap";
        }
        BuildTwoDShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BuildTwoDShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_vpMatrixFromLight", material.buildTwoDShadowMapData.vpMatrixFromLight);
        };
        BuildTwoDShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                "u_vpMatrixFromLight"
            ]);
        };
        return BuildTwoDShadowMapShaderLib;
    }(wd.BuildShadowMapShaderLib));
    wd.BuildTwoDShadowMapShaderLib = BuildTwoDShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildCubemapShadowMapShaderLib = (function (_super) {
        __extends(BuildCubemapShadowMapShaderLib, _super);
        function BuildCubemapShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "buildCubemapShadowMap";
        }
        BuildCubemapShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BuildCubemapShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_lightPos", material.buildCubemapShadowMapData.lightPos);
            this.sendUniformData(program, "u_farPlane", material.buildCubemapShadowMapData.farPlane);
        };
        BuildCubemapShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                "u_lightPos", "u_farPlane"
            ]);
        };
        return BuildCubemapShadowMapShaderLib;
    }(wd.BuildShadowMapShaderLib));
    wd.BuildCubemapShadowMapShaderLib = BuildCubemapShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TotalShadowMapShaderLib = (function (_super) {
        __extends(TotalShadowMapShaderLib, _super);
        function TotalShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "totalShadowMap";
        }
        TotalShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        TotalShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return TotalShadowMapShaderLib;
    }(wd.ShaderLib));
    wd.TotalShadowMapShaderLib = TotalShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapShaderLib = (function (_super) {
        __extends(ShadowMapShaderLib, _super);
        function ShadowMapShaderLib() {
            _super.apply(this, arguments);
        }
        ShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this._setShadowMapSource();
        };
        ShadowMapShaderLib.prototype._setShadowMapSource = function () {
            var scene = wd.Director.getInstance().scene, twoDShadowMapCount = scene.directionLights ? scene.directionLights.filter(function (light) {
                return light.getComponent(wd.DirectionLight).castShadow;
            }).getCount() : 0, cubemapShadowMapCount = scene.pointLights ? scene.pointLights.filter(function (light) {
                return light.getComponent(wd.PointLight).castShadow;
            }).getCount() : 0;
            if (scene.shadowMap.softType === wd.EShadowMapSoftType.PCF) {
                this.fsSourceDefineList.addChildren([{
                        name: "SHADOWMAP_TYPE_PCF"
                    }]);
            }
            this.vsSourceDefineList.addChild({
                name: "TWOD_SHADOWMAP_COUNT",
                value: twoDShadowMapCount
            });
            this.fsSourceDefineList.addChildren([
                {
                    name: "TWOD_SHADOWMAP_COUNT",
                    value: twoDShadowMapCount
                },
                {
                    name: "CUBEMAP_SHADOWMAP_COUNT",
                    value: cubemapShadowMapCount
                },
            ]);
        };
        return ShadowMapShaderLib;
    }(wd.ShaderLib));
    wd.ShadowMapShaderLib = ShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapShaderLib = (function (_super) {
        __extends(TwoDShadowMapShaderLib, _super);
        function TwoDShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "twoDShadowMap";
        }
        TwoDShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        TwoDShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            material.twoDShadowMapDatas.forEach(function (data, index) {
                program.sendStructureData("u_vpMatrixFromLight[" + index + "]", wd.EVariableType.FLOAT_MAT4, data.vpMatrixFromLight);
                program.sendStructureData("u_twoDShadowSize[" + index + "]", wd.EVariableType.FLOAT_2, data.shadowSize);
                program.sendStructureData("u_twoDShadowBias[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowBias);
                program.sendStructureData("u_twoDShadowDarkness[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowDarkness);
                program.sendStructureData("u_twoDLightPos[" + index + "]", wd.EVariableType.FLOAT_3, data.lightPos);
            });
        };
        return TwoDShadowMapShaderLib;
    }(wd.ShadowMapShaderLib));
    wd.TwoDShadowMapShaderLib = TwoDShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapShaderLib = (function (_super) {
        __extends(CubemapShadowMapShaderLib, _super);
        function CubemapShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "cubemapShadowMap";
        }
        CubemapShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CubemapShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            material.cubemapShadowMapDatas.forEach(function (data, index) {
                program.sendStructureData("u_cubemapLightPos[" + index + "]", wd.EVariableType.FLOAT_3, data.lightPos);
                program.sendStructureData("u_farPlane[" + index + "]", wd.EVariableType.FLOAT_1, data.farPlane);
                program.sendStructureData("u_cubemapShadowBias[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowBias);
                program.sendStructureData("u_cubemapShadowDarkness[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowDarkness);
            });
        };
        return CubemapShadowMapShaderLib;
    }(wd.ShadowMapShaderLib));
    wd.CubemapShadowMapShaderLib = CubemapShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoShadowMapShaderLib = (function (_super) {
        __extends(NoShadowMapShaderLib, _super);
        function NoShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noShadowMap";
        }
        NoShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return NoShadowMapShaderLib;
    }(wd.ShaderLib));
    wd.NoShadowMapShaderLib = NoShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderSnippet = (function () {
        function ShaderSnippet() {
        }
        ShaderSnippet.main_begin = "void main(void){\n";
        ShaderSnippet.main_end = "}\n";
        ShaderSnippet.setPos_mvp = "gl_Position = u_pMatrix * u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\n";
        return ShaderSnippet;
    }());
    wd.ShaderSnippet = ShaderSnippet;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Material = (function () {
        function Material() {
            this._blendType = null;
            this._blendSrc = wd.EBlendFunc.ONE;
            this._blendDst = wd.EBlendFunc.ZERO;
            this._blendEquation = wd.EBlendEquation.ADD;
            this.shader = wd.Shader.create();
            this.color = wd.Color.create("#ffffff");
            this.redWrite = true;
            this.greenWrite = true;
            this.blueWrite = true;
            this.alphaWrite = true;
            this.polygonOffsetMode = wd.EPolygonOffsetMode.NONE;
            this.side = wd.ESide.FRONT;
            this.blend = false;
            this.blendFuncSeparate = null;
            this.blendEquationSeparate = [wd.EBlendEquation.ADD, wd.EBlendEquation.ADD];
            this.shading = wd.EShading.FLAT;
            this.refractionRatio = 0;
            this.reflectivity = null;
            this.mapCombineMode = wd.ETextureCombineMode.MIX;
            this.mapMixRatio = 0.5;
            this.mapManager = wd.MapManager.create(this);
            this.geometry = null;
            this._afterInitSubscription = null;
        }
        Object.defineProperty(Material.prototype, "program", {
            get: function () {
                return this.shader.program;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendType", {
            get: function () {
                if (this._blendType) {
                    return this._blendType;
                }
                if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ZERO)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.NONE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.SRC_ALPHA)
                    && (this.blendDst === wd.EBlendFunc.ONE_MINUS_SRC_ALPHA)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.NORMAL;
                }
                else if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ONE)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.ADDITIVE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.SRC_ALPHA)
                    && (this.blendDst === wd.EBlendFunc.ONE)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.ADDITIVEALPHA;
                }
                else if ((this.blendSrc === wd.EBlendFunc.DST_COLOR)
                    && (this.blendDst === wd.EBlendFunc.ZERO)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.MULTIPLICATIVE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ONE_MINUS_SRC_ALPHA)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.PREMULTIPLIED;
                }
                else {
                    return wd.EBlendType.NORMAL;
                }
            },
            set: function (blendType) {
                switch (blendType) {
                    case wd.EBlendType.NONE:
                        this.blend = false;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ZERO;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.NORMAL:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.SRC_ALPHA;
                        this.blendDst = wd.EBlendFunc.ONE_MINUS_SRC_ALPHA;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.PREMULTIPLIED:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ONE_MINUS_SRC_ALPHA;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.ADDITIVE:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ONE;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.ADDITIVEALPHA:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.SRC_ALPHA;
                        this.blendDst = wd.EBlendFunc.ONE;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.MULTIPLICATIVE:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.DST_COLOR;
                        this.blendDst = wd.EBlendFunc.ZERO;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_INVALID("blendType"));
                        break;
                }
                this._blendType = blendType;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "envMap", {
            get: function () {
                return this.mapManager.getEnvMap();
            },
            set: function (envMap) {
                this.mapManager.setEnvMap(envMap);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendSrc", {
            get: function () {
                return this._blendSrc;
            },
            set: function (blendSrc) {
                this._blendSrc = blendSrc;
                this.blendFuncSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendDst", {
            get: function () {
                return this._blendDst;
            },
            set: function (blendDst) {
                this._blendDst = blendDst;
                this.blendFuncSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendEquation", {
            get: function () {
                return this._blendEquation;
            },
            set: function (blendEquation) {
                this._blendEquation = blendEquation;
                this.blendEquationSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Material.prototype.init = function () {
            var self = this;
            this.shader.init();
            this.mapManager.init();
            this._afterInitSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT)
                .subscribe(function () {
                self._afterInitHandler();
            });
        };
        Material.prototype.dispose = function () {
            this.mapManager.dispose();
            this._afterInitSubscription && this._afterInitSubscription.dispose();
        };
        Material.prototype.updateTexture = function () {
            this.mapManager.update();
        };
        Material.prototype.updateShader = function (quadCmd) {
            var scene = wd.Director.getInstance().scene;
            if (scene.isUseProgram) {
                scene.shader.update(quadCmd, this);
            }
            else {
                this.shader.update(quadCmd, this);
            }
        };
        Material.prototype.addShaderLib = function () {
        };
        Material.prototype.addMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.mapManager.addMap.apply(this.mapManager, args);
        };
        Material.prototype.addNormalShaderLib = function () {
            if (this._hasAnimation() && !this.shader.hasLib(wd.MorphNormalShaderLib)) {
                this._addShaderLibToTop(wd.MorphNormalShaderLib.create());
            }
            else if (!this.shader.hasLib(wd.CommonNormalShaderLib)) {
                this._addShaderLibToTop(wd.CommonNormalShaderLib.create());
            }
        };
        Material.prototype.setBlendByOpacity = function (opacity) {
            if (opacity < 1.0 && opacity > 0.0) {
                this.blend = true;
            }
            else {
                this.blend = false;
            }
        };
        Material.prototype._addTopShaderLib = function () {
            this.shader.addLib(wd.CommonShaderLib.create());
            if (this._hasAnimation()) {
                this.shader.addLib(wd.MorphCommonShaderLib.create());
                this.shader.addLib(wd.MorphVerticeShaderLib.create());
            }
            else {
                this.shader.addLib(wd.CommonVerticeShaderLib.create());
            }
        };
        Material.prototype._addShaderLibToTop = function (lib) {
            this.shader.addShaderLibToTop(lib);
        };
        Material.prototype._hasAnimation = function () {
            if (this.geometry instanceof wd.ModelGeometry) {
                var geo = (this.geometry);
                return geo.hasAnimation();
            }
            return false;
        };
        Material.prototype._afterInitHandler = function () {
            this._addTopShaderLib();
            this.addShaderLib();
        };
        __decorate([
            wd.require(function () {
                wd.assert(!(this.mirrorMap && this.envMap), wd.Log.info.FUNC_SHOULD_NOT("mirrorMap and envMap", "be set both"));
            })
        ], Material.prototype, "init", null);
        __decorate([
            wd.virtual
        ], Material.prototype, "addShaderLib", null);
        __decorate([
            wd.execOnlyOnce("_isAfterInit")
        ], Material.prototype, "_afterInitHandler", null);
        return Material;
    }());
    wd.Material = Material;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicMaterial = (function (_super) {
        __extends(BasicMaterial, _super);
        function BasicMaterial() {
            _super.apply(this, arguments);
            this._opacity = 1.0;
        }
        BasicMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BasicMaterial.prototype, "map", {
            set: function (map) {
                if (map instanceof wd.Texture || map instanceof wd.TextureAsset) {
                    this.addMap(map);
                }
                else {
                    var mapArr = (arguments[0]);
                    wdCb.Log.error(mapArr.length > 2, wdCb.Log.info.FUNC_SUPPORT("only", "map.count <= 2"));
                    for (var _i = 0, mapArr_1 = mapArr; _i < mapArr_1.length; _i++) {
                        var m = mapArr_1[_i];
                        this.addMap(m);
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicMaterial.prototype, "mirrorMap", {
            get: function () {
                return this.mapManager.getMirrorMap();
            },
            set: function (mirrorMap) {
                this.mapManager.setMirrorMap(mirrorMap);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicMaterial.prototype, "opacity", {
            get: function () {
                return this._opacity;
            },
            set: function (opacity) {
                this.setBlendByOpacity(opacity);
                this._opacity = opacity;
            },
            enumerable: true,
            configurable: true
        });
        BasicMaterial.prototype.addShaderLib = function () {
            var envMap = null;
            this.shader.addLib(wd.BasicShaderLib.create());
            this._setMapShaderLib();
            envMap = this.envMap;
            if (envMap) {
                this._setEnvMapShaderLib(envMap);
            }
            this._setMirrorMapShaderLib();
            this.shader.addLib(wd.BasicEndShaderLib.create());
        };
        BasicMaterial.prototype._setMapShaderLib = function () {
            var mapManager = this.mapManager, mapCount = mapManager.getMapCount(function (map) {
                return !mapManager.isMirrorMap(map);
            });
            if (mapCount > 0) {
                if (mapCount > 1) {
                    this.shader.addLib(wd.MultiMapShaderLib.create());
                }
                else {
                    this.shader.addLib(wd.BasicMapShaderLib.create());
                }
            }
        };
        BasicMaterial.prototype._setEnvMapShaderLib = function (envMap) {
            this.addNormalShaderLib();
            switch (envMap.mode) {
                case wd.EEnvMapMode.BASIC:
                    this.shader.addLib(wd.BasicEnvMapForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFLECTION:
                    this.shader.addLib(wd.ReflectionForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFRACTION:
                    this.shader.addLib(wd.RefractionForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.FRESNEL:
                    this.shader.addLib(wd.FresnelForBasicShaderLib.create());
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EEnvMapMode"));
                    break;
            }
        };
        BasicMaterial.prototype._setMirrorMapShaderLib = function () {
            if (this.mirrorMap) {
                this.shader.addLib(wd.MirrorForBasicShaderLib.create());
            }
        };
        return BasicMaterial;
    }(wd.Material));
    wd.BasicMaterial = BasicMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxMaterial = (function (_super) {
        __extends(SkyboxMaterial, _super);
        function SkyboxMaterial() {
            _super.apply(this, arguments);
        }
        SkyboxMaterial.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        SkyboxMaterial.prototype.initWhenCreate = function () {
            this.side = wd.ESide.BACK;
        };
        SkyboxMaterial.prototype.addShaderLib = function () {
            this.shader.addLib(wd.SkyboxShaderLib.create());
        };
        return SkyboxMaterial;
    }(wd.Material));
    wd.SkyboxMaterial = SkyboxMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightMaterial = (function (_super) {
        __extends(LightMaterial, _super);
        function LightMaterial() {
            _super.apply(this, arguments);
            this._diffuseMap = null;
            this._specularMap = null;
            this._emissionMap = null;
            this._normalMap = null;
            this._shininess = 32;
            this._opacity = 1.0;
            this.lightModel = wd.ELightModel.PHONG;
            this.twoDShadowMapDatas = wdCb.Collection.create();
            this.cubemapShadowMapDatas = wdCb.Collection.create();
            this.buildTwoDShadowMapData = null;
            this.buildCubemapShadowMapData = null;
            this.specularColor = wd.Color.create("0x111111");
            this.emissionColor = wd.Color.create("0x111111");
            this._twoDShadowMapSamplerIndex = 0;
            this._cubemapShadowMapSamplerIndex = 0;
        }
        LightMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(LightMaterial.prototype, "diffuseMap", {
            get: function () {
                return this._diffuseMap;
            },
            set: function (diffuseMap) {
                this.addMap(diffuseMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("diffuseMap")
                });
                this._diffuseMap = diffuseMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "specularMap", {
            get: function () {
                return this._specularMap;
            },
            set: function (specularMap) {
                this.addMap(specularMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("specularMap")
                });
                this._specularMap = specularMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "emissionMap", {
            get: function () {
                return this._emissionMap;
            },
            set: function (emissionMap) {
                this.addMap(emissionMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("emissionMap")
                });
                this._emissionMap = emissionMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "normalMap", {
            get: function () {
                return this._normalMap;
            },
            set: function (normalMap) {
                this.addMap(normalMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("normalMap")
                });
                this._normalMap = normalMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "shininess", {
            get: function () {
                if (Number(this._shininess) <= 0) {
                    return 32;
                }
                return this._shininess;
            },
            set: function (shininess) {
                this._shininess = shininess;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "opacity", {
            get: function () {
                return this._opacity;
            },
            set: function (opacity) {
                this.setBlendByOpacity(opacity);
                this._opacity = opacity;
            },
            enumerable: true,
            configurable: true
        });
        LightMaterial.prototype.addTwoDShadowMap = function (shadowMap) {
            this.addMap(shadowMap, {
                samplerData: this._twoDShadowMapSamplerIndex
            });
            this._twoDShadowMapSamplerIndex++;
        };
        LightMaterial.prototype.addCubemapShadowMap = function (shadowMap) {
            this.addMap(shadowMap, {
                samplerData: this._cubemapShadowMapSamplerIndex
            });
            this._cubemapShadowMapSamplerIndex++;
        };
        LightMaterial.prototype.hasShadowMap = function (map) {
            return this.mapManager.hasMap(map);
        };
        LightMaterial.prototype.addTwoDShadowMapData = function (shadowMapData) {
            this.twoDShadowMapDatas.addChild(shadowMapData);
        };
        LightMaterial.prototype.addCubemapShadowMapData = function (shadowMapData) {
            this.cubemapShadowMapDatas.addChild(shadowMapData);
        };
        LightMaterial.prototype.clearTwoDShadowMapData = function () {
            this.twoDShadowMapDatas.removeAllChildren();
        };
        LightMaterial.prototype.clearCubemapShadowMapData = function () {
            this.cubemapShadowMapDatas.removeAllChildren();
        };
        LightMaterial.prototype.addShaderLib = function () {
            var envMap = null;
            this.addNormalShaderLib();
            this.shader.addLib(wd.LightCommonShaderLib.create());
            this._setLightMapShaderLib();
            this.shader.addLib(wd.LightShaderLib.create());
            envMap = this.envMap;
            if (envMap) {
                this._setEnvMapShaderLib(envMap);
            }
            this.shader.addLib(wd.LightEndShaderLib.create());
        };
        LightMaterial.prototype._setLightMapShaderLib = function () {
            var scene = wd.Director.getInstance().scene;
            if (this._diffuseMap) {
                this.shader.addLib(wd.DiffuseMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoDiffuseMapShaderLib.create());
            }
            if (this._specularMap) {
                this.shader.addLib(wd.SpecularMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoSpecularMapShaderLib.create());
            }
            if (this._emissionMap) {
                this.shader.addLib(wd.EmissionMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoEmissionMapShaderLib.create());
            }
            if (this._normalMap) {
                this.shader.addLib(wd.NormalMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoNormalMapShaderLib.create());
            }
            if (scene.shadowMap.enable && (this._hasTwoDShadowMap() || this._hasCubemapShadowMap())) {
                if (this._hasTwoDShadowMap()) {
                    this.shader.addLib(wd.TwoDShadowMapShaderLib.create());
                }
                if (this._hasCubemapShadowMap()) {
                    this.shader.addLib(wd.CubemapShadowMapShaderLib.create());
                }
                this.shader.addLib(wd.TotalShadowMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoShadowMapShaderLib.create());
            }
        };
        LightMaterial.prototype._setEnvMapShaderLib = function (envMap) {
            switch (envMap.mode) {
                case wd.EEnvMapMode.BASIC:
                    this.shader.addLib(wd.BasicEnvMapForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFLECTION:
                    this.shader.addLib(wd.ReflectionForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFRACTION:
                    this.shader.addLib(wd.RefractionForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.FRESNEL:
                    this.shader.addLib(wd.FresnelForLightShaderLib.create());
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EEnvMapMode"));
                    break;
            }
        };
        LightMaterial.prototype._hasTwoDShadowMap = function () {
            return this.mapManager.hasMap(function (map) {
                return map instanceof wd.TwoDShadowMapTexture;
            });
        };
        LightMaterial.prototype._hasCubemapShadowMap = function () {
            return this.mapManager.hasMap(function (map) {
                return map instanceof wd.CubemapShadowMapTexture;
            });
        };
        return LightMaterial;
    }(wd.Material));
    wd.LightMaterial = LightMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderMaterial = (function (_super) {
        __extends(ShaderMaterial, _super);
        function ShaderMaterial() {
            _super.apply(this, arguments);
        }
        ShaderMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        return ShaderMaterial;
    }(wd.Material));
    wd.ShaderMaterial = ShaderMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EShading) {
        EShading[EShading["FLAT"] = 0] = "FLAT";
        EShading[EShading["SMOOTH"] = 1] = "SMOOTH";
    })(wd.EShading || (wd.EShading = {}));
    var EShading = wd.EShading;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MapManager = (function () {
        function MapManager(material) {
            this._material = null;
            this._textures = wdCb.Hash.create();
            this._mirrorMap = null;
            this._material = material;
        }
        MapManager.create = function (material) {
            var obj = new this(material);
            return obj;
        };
        MapManager.prototype.init = function () {
            this._getMapList().forEach(function (texture) {
                texture.init();
            });
        };
        MapManager.prototype.addMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var map = null;
            if (args[0] instanceof wd.TextureAsset) {
                var asset = args[0];
                map = asset.toTexture();
            }
            else if (args[0] instanceof wd.Texture) {
                map = args[0];
            }
            if (args.length === 2) {
                var option = args[1];
                this._setMapOption(map, option);
            }
            map.material = this._material;
            this._textures.appendChild("map", map);
        };
        MapManager.prototype.getMap = function (index) {
            return this._textures.getChild("map").getChild(index);
        };
        MapManager.prototype.hasMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var maps = null;
            maps = this._textures.getChild("map");
            return maps && maps.hasChild(args[0]);
        };
        MapManager.prototype.getMapCount = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 0) {
                var map = this._textures.getChild("map");
                return map ? map.getCount() : 0;
            }
            else {
                var filterFunc = args[0], map = this._textures.getChild("map");
                return map ? map.filter(filterFunc).getCount() : 0;
            }
        };
        MapManager.prototype.getEnvMap = function () {
            return this._getMap("envMap");
        };
        MapManager.prototype.setEnvMap = function (envMap) {
            this._setMap("envMap", envMap);
        };
        MapManager.prototype.getMirrorMap = function () {
            return this._mirrorMap;
        };
        MapManager.prototype.setMirrorMap = function (mirrorMap) {
            this.addMap(mirrorMap, {
                samplerVariableName: wd.VariableNameTable.getVariableName("mirrorReflectionMap")
            });
            this._mirrorMap = mirrorMap;
        };
        MapManager.prototype.isMirrorMap = function (map) {
            return map === this._mirrorMap;
        };
        MapManager.prototype.removeAllChildren = function () {
            this._textures.removeAllChildren();
        };
        MapManager.prototype.dispose = function () {
            this._getMapList().forEach(function (texture) {
                texture.dispose();
            });
            this.removeAllChildren();
        };
        MapManager.prototype.update = function () {
            this._getMapList()
                .filter(function (texture) {
                return texture instanceof wd.BasicTexture && texture.needUpdate;
            })
                .forEach(function (texture, index) {
                texture.update(index);
            });
        };
        MapManager.prototype.sendData = function (program) {
            this._getMapList().forEach(function (texture, index) {
                var samplerName = texture.getSamplerName(index), pos = program.getUniformLocation(samplerName);
                if (program.isUniformDataNotExistByLocation(pos)) {
                    return;
                }
                texture.bindToUnit(index);
                texture.sendData(program, pos, index);
            });
        };
        MapManager.prototype._getMapList = function () {
            return this._textures.toCollection();
        };
        MapManager.prototype._getMap = function (key) {
            return this._textures.getChild(key);
        };
        MapManager.prototype._setMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var key = args[0], map = args[1];
            if (!map) {
                this._removeMap(key, map);
                return;
            }
            if (arguments.length === 3) {
                var option = args[1];
                this._setMapOption(map, option);
            }
            map.material = this._material;
            this._textures.addChild(key, map);
        };
        MapManager.prototype._removeMap = function (key, map) {
            this._textures.removeChild(key);
        };
        MapManager.prototype._setMapOption = function (map, option) {
            map.variableData = option;
        };
        return MapManager;
    }());
    wd.MapManager = MapManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EAssetType) {
        EAssetType[EAssetType["UNKNOW"] = 0] = "UNKNOW";
        EAssetType[EAssetType["FONT"] = 1] = "FONT";
    })(wd.EAssetType || (wd.EAssetType = {}));
    var EAssetType = wd.EAssetType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Loader = (function () {
        function Loader() {
            this._container = wdCb.Hash.create();
        }
        Loader.prototype.load = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], id = null, self = this, data = null, stream = null;
            if (args.length === 1) {
                if (wd.JudgeUtils.isArray(url)) {
                    id = url.join("-");
                }
                else {
                    id = url;
                }
            }
            else {
                id = args[1];
            }
            data = this._container.getChild(id);
            if (data) {
                stream = wdFrp.just(data);
            }
            else {
                stream = this.loadAsset(url, id)
                    .do(function (data) {
                    self._container.addChild(id, data);
                }, function (err) {
                    self._errorHandle(url, err);
                }, null);
            }
            return stream;
        };
        Loader.prototype.get = function (id) {
            return this._container.getChild(id);
        };
        Loader.prototype.has = function (id) {
            return this._container.hasChild(id);
        };
        Loader.prototype.dispose = function () {
            this._container.removeAllChildren();
        };
        Loader.prototype._errorHandle = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var path = null, err = null;
            if (wd.JudgeUtils.isArray(args[0])) {
                path = args[0].join(",");
            }
            else {
                path = args[0];
            }
            err = args[1];
            wd.Log.log("load " + path + " asset fail:" + err);
        };
        return Loader;
    }());
    wd.Loader = Loader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLSLLoader = (function (_super) {
        __extends(GLSLLoader, _super);
        function GLSLLoader() {
            _super.apply(this, arguments);
        }
        GLSLLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        GLSLLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0];
            return wd.AjaxLoader.load(url, "text");
        };
        GLSLLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], GLSLLoader.prototype, "loadAsset", null);
        return GLSLLoader;
    }(wd.Loader));
    wd.GLSLLoader = GLSLLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var JsLoader = (function (_super) {
        __extends(JsLoader, _super);
        function JsLoader() {
            _super.apply(this, arguments);
        }
        JsLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        JsLoader.prototype.loadAsset = function () {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, url = args[0];
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                var script = self._createScript();
                script.async = false;
                script.addEventListener("error", function (e) {
                    reject("load js file error. url:" + url);
                });
                if (script.readyState) {
                    script.onreadystatechange = function () {
                        if (script.readyState === "loaded" || script.readyState === "complete") {
                            script.onreadystatechange = null;
                            resolve(url);
                        }
                    };
                }
                else {
                    script.onload = function () {
                        resolve(url);
                    };
                }
                script.src = url;
                _this._appendScript(script);
            }));
        };
        JsLoader.prototype._createScript = function () {
            var script = document.createElement("script");
            script.type = "text/javascript";
            return script;
        };
        JsLoader.prototype._appendScript = function (script) {
            document.getElementsByTagName("head")[0].appendChild(script);
        };
        JsLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], JsLoader.prototype, "loadAsset", null);
        return JsLoader;
    }(wd.Loader));
    wd.JsLoader = JsLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoLoader = (function (_super) {
        __extends(VideoLoader, _super);
        function VideoLoader() {
            _super.apply(this, arguments);
        }
        VideoLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        VideoLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var urlArr = null;
            if (wd.JudgeUtils.isString(args[0])) {
                urlArr = [args[0]];
            }
            else {
                urlArr = args[0];
            }
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                wd.Video.create({
                    urlArr: urlArr,
                    onLoad: function (video) {
                        resolve(wd.VideoTextureAsset.create(video));
                    },
                    onError: function (err) {
                        reject(err);
                    }
                });
            }));
        };
        VideoLoader._instance = null;
        return VideoLoader;
    }(wd.Loader));
    wd.VideoLoader = VideoLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureLoader = (function (_super) {
        __extends(TextureLoader, _super);
        function TextureLoader() {
            _super.apply(this, arguments);
        }
        TextureLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        TextureLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var extname = null, stream = null, url = args[0];
            extname = wdCb.PathUtils.extname(url).toLowerCase();
            switch (extname) {
                case ".jpg":
                case ".jpeg":
                case ".gif":
                case ".bmp":
                    stream = wd.ImageLoader.load(url)
                        .map(function (image) {
                        var asset = wd.ImageTextureAsset.create(image);
                        asset.format = wd.ETextureFormat.RGB;
                        return asset;
                    });
                    break;
                case ".png":
                    stream = wd.ImageLoader.load(url)
                        .map(function (image) {
                        return wd.ImageTextureAsset.create(image);
                    });
                    break;
                case ".dds":
                    stream = wd.CompressedTextureLoader.load(url);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT(extname));
                    break;
            }
            return stream;
        };
        TextureLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], TextureLoader.prototype, "loadAsset", null);
        return TextureLoader;
    }(wd.Loader));
    wd.TextureLoader = TextureLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageLoader = (function () {
        function ImageLoader() {
        }
        ImageLoader.load = function (url) {
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                var img = null;
                img = new wd.root.Image();
                img.onload = function () {
                    this.onload = null;
                    resolve(img);
                };
                img.onerror = function () {
                    reject("error");
                };
                img.src = url;
            }));
        };
        return ImageLoader;
    }());
    wd.ImageLoader = ImageLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AjaxLoader = (function () {
        function AjaxLoader() {
        }
        AjaxLoader.load = function (url, dataType) {
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                wdCb.AjaxUtils.ajax({
                    type: "get",
                    url: url,
                    contentType: "text/plain; charset=utf-8",
                    dataType: dataType,
                    success: function (data) {
                        resolve(data);
                    },
                    error: function (XMLHttpRequest, errorThrown) {
                        reject("url:" + url + "\nreadyState:" + XMLHttpRequest.readyState + "\nstatus:" + XMLHttpRequest.status + "\nmessage:" + errorThrown.message + "\nresponseText:" + XMLHttpRequest.responseText);
                    }
                });
            }));
        };
        return AjaxLoader;
    }());
    wd.AjaxLoader = AjaxLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ModelLoaderUtils = (function () {
        function ModelLoaderUtils() {
        }
        ModelLoaderUtils.getPath = function (filePath, mapUrl) {
            return wdCb.PathUtils.dirname(filePath) + "/" + mapUrl;
        };
        return ModelLoaderUtils;
    }());
    wd.ModelLoaderUtils = ModelLoaderUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTextureLoader = (function () {
        function CompressedTextureLoader() {
        }
        CompressedTextureLoader.load = function (url) {
            var _this = this;
            return wd.AjaxLoader.load(url, "arraybuffer")
                .map(function (data) {
                var texDatas = wd.DDSParser.parse(data, true), asset = wd.CompressedTextureAsset.create();
                asset.width = texDatas.width;
                asset.height = texDatas.height;
                asset.mipmaps = texDatas.mipmaps;
                if (texDatas.mipmapCount == 1) {
                    asset.minFilter = wd.ETextureFilterMode.LINEAR;
                }
                asset.format = _this._getCompressedFormat(texDatas.format);
                return asset;
            });
        };
        CompressedTextureLoader._getCompressedFormat = function (format) {
            var extension = wd.GPUDetector.getInstance().extensionCompressedTextureS3TC;
            if (format === wd.ETextureFormat.RGBA) {
                return format;
            }
            if (!extension) {
                return null;
            }
            switch (format) {
                case wd.ETextureFormat.RGB_S3TC_DXT1:
                    format = extension.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT1:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT3:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT5:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;
                    break;
            }
            return format;
        };
        return CompressedTextureLoader;
    }());
    wd.CompressedTextureLoader = CompressedTextureLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DDS_MAGIC = 0x20534444, DDSD_CAPS = 0x1, DDSD_HEIGHT = 0x2, DDSD_WIDTH = 0x4, DDSD_PITCH = 0x8, DDSD_PIXELFORMAT = 0x1000, DDSD_MIPMAPCOUNT = 0x20000, DDSD_LINEARSIZE = 0x80000, DDSD_DEPTH = 0x800000, DDSCAPS_COMPLEX = 0x8, DDSCAPS_MIPMAP = 0x400000, DDSCAPS_TEXTURE = 0x1000, DDSCAPS2_CUBEMAP = 0x200, DDSCAPS2_CUBEMAP_POSITIVEX = 0x400, DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800, DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000, DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000, DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000, DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000, DDSCAPS2_VOLUME = 0x200000, DDPF_ALPHAPIXELS = 0x1, DDPF_ALPHA = 0x2, DDPF_FOURCC = 0x4, DDPF_RGB = 0x40, DDPF_YUV = 0x200, DDPF_LUMINANCE = 0x20000;
    var DDSParser = (function () {
        function DDSParser() {
        }
        DDSParser.parse = function (buffer, loadMipmaps) {
            if (loadMipmaps === void 0) { loadMipmaps = true; }
            var dds = new DDSData(), FOURCC_DXT1 = this._fourCCToInt32("DXT1"), FOURCC_DXT3 = this._fourCCToInt32("DXT3"), FOURCC_DXT5 = this._fourCCToInt32("DXT5"), headerLengthInt = 31, off_magic = 0, off_size = 1, off_flags = 2, off_height = 3, off_width = 4, off_mipmapCount = 7, off_pfFlags = 20, off_pfFourCC = 21, off_RGBBitCount = 22, off_RBitMask = 23, off_GBitMask = 24, off_BBitMask = 25, off_ABitMask = 26, off_caps = 27, off_caps2 = 28, off_caps3 = 29, off_caps4 = 30, header = new Int32Array(buffer, 0, headerLengthInt), blockBytes = null, fourCC = null, isRGBAUncompressed = null, dataOffset = null, width = null, height = null, faces = null;
            if (header[off_magic] !== DDS_MAGIC) {
                wd.Log.error(true, "Invalid magic number in DDS header.");
                return dds;
            }
            if ((!header[off_pfFlags]) & DDPF_FOURCC) {
                wd.Log.error(true, "Unsupported format, must contain a FourCC code.");
                return dds;
            }
            fourCC = header[off_pfFourCC];
            isRGBAUncompressed = false;
            switch (fourCC) {
                case FOURCC_DXT1:
                    blockBytes = 8;
                    dds.format = wd.ETextureFormat.RGB_S3TC_DXT1;
                    break;
                case FOURCC_DXT3:
                    blockBytes = 16;
                    dds.format = wd.ETextureFormat.RGBA_S3TC_DXT3;
                    break;
                case FOURCC_DXT5:
                    blockBytes = 16;
                    dds.format = wd.ETextureFormat.RGBA_S3TC_DXT5;
                    break;
                default:
                    if (header[off_RGBBitCount] == 32
                        && header[off_RBitMask] & 0xff0000
                        && header[off_GBitMask] & 0xff00
                        && header[off_BBitMask] & 0xff
                        && header[off_ABitMask] & 0xff000000) {
                        isRGBAUncompressed = true;
                        blockBytes = 64;
                        dds.format = wd.ETextureFormat.RGBA;
                    }
                    else {
                        wd.Log.error(true, "Unsupported FourCC code " + this._int32ToFourCC(fourCC));
                        return dds;
                    }
            }
            dds.mipmapCount = 1;
            if (header[off_flags] & DDSD_MIPMAPCOUNT && loadMipmaps !== false) {
                dds.mipmapCount = Math.max(1, header[off_mipmapCount]);
            }
            dds.isCubemap = header[off_caps2] & DDSCAPS2_CUBEMAP ? true : false;
            dds.width = header[off_width];
            dds.height = header[off_height];
            dataOffset = header[off_size] + 4;
            width = dds.width;
            height = dds.height;
            faces = dds.isCubemap ? 6 : 1;
            for (var face = 0; face < faces; face++) {
                for (var i = 0; i < dds.mipmapCount; i++) {
                    var mipmap = null, byteArray = null, dataLength = null;
                    if (isRGBAUncompressed) {
                        byteArray = this._loadARGBMip(buffer, dataOffset, width, height);
                        dataLength = byteArray.length;
                    }
                    else {
                        dataLength = Math.max(4, width) / 4 * Math.max(4, height) / 4 * blockBytes;
                        byteArray = new Uint8Array(buffer, dataOffset, dataLength);
                    }
                    mipmap = { "data": byteArray, "width": width, "height": height };
                    dds.mipmaps.addChild(mipmap);
                    dataOffset += dataLength;
                    width = Math.max(width * 0.5, 1);
                    height = Math.max(height * 0.5, 1);
                }
                width = dds.width;
                height = dds.height;
            }
            return dds;
        };
        DDSParser._fourCCToInt32 = function (value) {
            return value.charCodeAt(0) +
                (value.charCodeAt(1) << 8) +
                (value.charCodeAt(2) << 16) +
                (value.charCodeAt(3) << 24);
        };
        DDSParser._int32ToFourCC = function (value) {
            return String.fromCharCode(value & 0xff, (value >> 8) & 0xff, (value >> 16) & 0xff, (value >> 24) & 0xff);
        };
        DDSParser._loadARGBMip = function (buffer, dataOffset, width, height) {
            var dataLength = width * height * 4, srcBuffer = new Uint8Array(buffer, dataOffset, dataLength), byteArray = new Uint8Array(dataLength), dst = 0, src = 0;
            for (var y = 0; y < height; y++) {
                for (var x = 0; x < width; x++) {
                    var b = null, g = null, r = null, a = null;
                    b = srcBuffer[src];
                    src++;
                    g = srcBuffer[src];
                    src++;
                    r = srcBuffer[src];
                    src++;
                    a = srcBuffer[src];
                    src++;
                    byteArray[dst] = r;
                    dst++;
                    byteArray[dst] = g;
                    dst++;
                    byteArray[dst] = b;
                    dst++;
                    byteArray[dst] = a;
                    dst++;
                }
            }
            return byteArray;
        };
        return DDSParser;
    }());
    wd.DDSParser = DDSParser;
    var DDSData = (function () {
        function DDSData() {
            this.mipmaps = wdCb.Collection.create();
            this.width = 0;
            this.height = 0;
            this.format = null;
            this.mipmapCount = 1;
            this.isCubemap = false;
        }
        return DDSData;
    }());
    wd.DDSData = DDSData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureAsset = (function () {
        function TextureAsset() {
            this._width = null;
            this._height = null;
            this.generateMipmaps = true;
            this.sourceRegionMethod = wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            this.format = wd.ETextureFormat.RGBA;
            this.source = TextureAsset.defaultTexture;
            this.repeatRegion = wd.RectRegion.create(0, 0, 1, 1);
            this.sourceRegion = null;
            this.sourceRegionMapping = wd.ETextureSourceRegionMapping.CANVAS;
            this.flipY = true;
            this.premultiplyAlpha = false;
            this.unpackAlignment = 4;
            this.wrapS = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.wrapT = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.magFilter = wd.ETextureFilterMode.LINEAR;
            this.minFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR;
            this.type = wd.ETextureType.UNSIGNED_BYTE;
            this.mipmaps = wdCb.Collection.create();
            this.anisotropy = 0;
            this.needUpdate = true;
        }
        Object.defineProperty(TextureAsset.prototype, "width", {
            get: function () {
                return this._width === null ? (this.source ? this.source.width : null) : this._width;
            },
            set: function (width) {
                this._width = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(TextureAsset.prototype, "height", {
            get: function () {
                return this._height === null ? (this.source ? this.source.height : null) : this._height;
            },
            set: function (height) {
                this._height = height;
            },
            enumerable: true,
            configurable: true
        });
        TextureAsset.prototype.copyToCubemapTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.generateMipmaps = this.generateMipmaps;
            cubemapFaceTexture.minFilter = this.minFilter;
            cubemapFaceTexture.magFilter = this.magFilter;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.wrapS = this.wrapS;
            cubemapFaceTexture.wrapT = this.wrapT;
            cubemapFaceTexture.anisotropy = this.anisotropy;
            cubemapFaceTexture.premultiplyAlpha = this.premultiplyAlpha;
            cubemapFaceTexture.unpackAlignment = this.unpackAlignment;
            cubemapFaceTexture.needUpdate = this.needUpdate;
            cubemapFaceTexture.mode = wd.EEnvMapMode.BASIC;
        };
        TextureAsset.prototype.copyTo = function (texture) {
            wd.Log.error(!texture, wd.Log.info.FUNC_MUST_DEFINE("texture"));
            texture.source = this.source;
            texture.width = this.width;
            texture.height = this.height;
            texture.mipmaps = this.mipmaps.copy();
            texture.wrapS = this.wrapS;
            texture.wrapT = this.wrapT;
            texture.magFilter = this.magFilter;
            texture.minFilter = this.minFilter;
            texture.anisotropy = this.anisotropy;
            texture.format = this.format;
            texture.type = this.type;
            texture.repeatRegion = this.repeatRegion.copy();
            texture.sourceRegion = this.sourceRegion && this.sourceRegion.copy();
            texture.sourceRegionMapping = this.sourceRegionMapping;
            texture.sourceRegionMethod = this.sourceRegionMethod;
            texture.generateMipmaps = this.generateMipmaps;
            texture.premultiplyAlpha = this.premultiplyAlpha;
            texture.flipY = this.flipY;
            texture.unpackAlignment = this.unpackAlignment;
            texture.needUpdate = this.needUpdate;
            return texture;
        };
        TextureAsset.defaultTexture = null;
        return TextureAsset;
    }());
    wd.TextureAsset = TextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageTextureAsset = (function (_super) {
        __extends(ImageTextureAsset, _super);
        function ImageTextureAsset(source) {
            _super.call(this);
            this.source = source;
        }
        ImageTextureAsset.create = function (source) {
            var obj = new this(source);
            return obj;
        };
        ImageTextureAsset.prototype.toTexture = function () {
            return wd.ImageTexture.create(this);
        };
        ImageTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.CubemapFaceImageTexture.create(this);
        };
        ImageTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.source = this.source;
            cubemapFaceTexture.type = this.type;
            cubemapFaceTexture.format = this.format;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.sourceRegion = this.sourceRegion;
            cubemapFaceTexture.sourceRegionMethod = wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
        };
        return ImageTextureAsset;
    }(wd.TextureAsset));
    wd.ImageTextureAsset = ImageTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoTextureAsset = (function (_super) {
        __extends(VideoTextureAsset, _super);
        function VideoTextureAsset(video) {
            _super.call(this);
            this.video = null;
            this.video = video;
            this.source = this.video.source;
        }
        VideoTextureAsset.create = function (video) {
            var obj = new this(video);
            obj.initWhenCreate();
            return obj;
        };
        VideoTextureAsset.prototype.initWhenCreate = function () {
            this.width = 0;
            this.height = 0;
            this.generateMipmaps = false;
            this.minFilter = null;
            this.magFilter = null;
            this.sourceRegion = null;
            this.sourceRegionMethod = null;
        };
        VideoTextureAsset.prototype.toTexture = function () {
            return wd.VideoTexture.create(this);
        };
        VideoTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("video texture", "cubemap"));
        };
        VideoTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("video texture", "cubemap"));
        };
        return VideoTextureAsset;
    }(wd.TextureAsset));
    wd.VideoTextureAsset = VideoTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTextureAsset = (function (_super) {
        __extends(CompressedTextureAsset, _super);
        function CompressedTextureAsset() {
            _super.apply(this, arguments);
        }
        CompressedTextureAsset.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        CompressedTextureAsset.prototype.initWhenCreate = function () {
            this.generateMipmaps = false;
            this.flipY = false;
        };
        CompressedTextureAsset.prototype.toTexture = function () {
            return wd.CompressedTexture.create(this);
        };
        CompressedTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.CubemapFaceCompressedTexture.create(this);
        };
        CompressedTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.type = this.type;
            cubemapFaceTexture.format = this.format;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.mipmaps = this.mipmaps;
            cubemapFaceTexture.minFilter = this.minFilter;
        };
        return CompressedTextureAsset;
    }(wd.TextureAsset));
    wd.CompressedTextureAsset = CompressedTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureFilterMode) {
        ETextureFilterMode[ETextureFilterMode["NEAREST"] = "NEAREST"] = "NEAREST";
        ETextureFilterMode[ETextureFilterMode["NEAREST_MIPMAP_MEAREST"] = "NEAREST_MIPMAP_MEAREST"] = "NEAREST_MIPMAP_MEAREST";
        ETextureFilterMode[ETextureFilterMode["NEAREST_MIPMAP_LINEAR"] = "NEAREST_MIPMAP_LINEAR"] = "NEAREST_MIPMAP_LINEAR";
        ETextureFilterMode[ETextureFilterMode["LINEAR"] = "LINEAR"] = "LINEAR";
        ETextureFilterMode[ETextureFilterMode["LINEAR_MIPMAP_NEAREST"] = "LINEAR_MIPMAP_NEAREST"] = "LINEAR_MIPMAP_NEAREST";
        ETextureFilterMode[ETextureFilterMode["LINEAR_MIPMAP_LINEAR"] = "LINEAR_MIPMAP_LINEAR"] = "LINEAR_MIPMAP_LINEAR";
    })(wd.ETextureFilterMode || (wd.ETextureFilterMode = {}));
    var ETextureFilterMode = wd.ETextureFilterMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureWrapMode) {
        ETextureWrapMode[ETextureWrapMode["REPEAT"] = "REPEAT"] = "REPEAT";
        ETextureWrapMode[ETextureWrapMode["MIRRORED_REPEAT"] = "MIRRORED_REPEAT"] = "MIRRORED_REPEAT";
        ETextureWrapMode[ETextureWrapMode["CLAMP_TO_EDGE"] = "CLAMP_TO_EDGE"] = "CLAMP_TO_EDGE";
    })(wd.ETextureWrapMode || (wd.ETextureWrapMode = {}));
    var ETextureWrapMode = wd.ETextureWrapMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureFormat) {
        ETextureFormat[ETextureFormat["RGB"] = "RGB"] = "RGB";
        ETextureFormat[ETextureFormat["RGBA"] = "RGBA"] = "RGBA";
        ETextureFormat[ETextureFormat["ALPHA"] = "ALPHA"] = "ALPHA";
        ETextureFormat[ETextureFormat["LUMINANCE"] = "LUMINANCE"] = "LUMINANCE";
        ETextureFormat[ETextureFormat["LUMINANCE_ALPHA"] = "LUMINANCE_ALPHA"] = "LUMINANCE_ALPHA";
        ETextureFormat[ETextureFormat["RGB_S3TC_DXT1"] = "RGB_S3TC_DXT1"] = "RGB_S3TC_DXT1";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT1"] = "RGBA_S3TC_DXT1"] = "RGBA_S3TC_DXT1";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT3"] = "RGBA_S3TC_DXT3"] = "RGBA_S3TC_DXT3";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT5"] = "RGBA_S3TC_DXT5"] = "RGBA_S3TC_DXT5";
    })(wd.ETextureFormat || (wd.ETextureFormat = {}));
    var ETextureFormat = wd.ETextureFormat;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureType) {
        ETextureType[ETextureType["UNSIGNED_BYTE"] = "UNSIGNED_BYTE"] = "UNSIGNED_BYTE";
        ETextureType[ETextureType["UNSIGNED_SHORT_5_6_5"] = "UNSIGNED_SHORT_5_6_5"] = "UNSIGNED_SHORT_5_6_5";
        ETextureType[ETextureType["UNSIGNED_SHORT_4_4_4_4"] = "UNSIGNED_SHORT_4_4_4_4"] = "UNSIGNED_SHORT_4_4_4_4";
        ETextureType[ETextureType["UNSIGNED_SHORT_5_5_5_1"] = "UNSIGNED_SHORT_5_5_5_1"] = "UNSIGNED_SHORT_5_5_5_1";
    })(wd.ETextureType || (wd.ETextureType = {}));
    var ETextureType = wd.ETextureType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEnvMapMode) {
        EEnvMapMode[EEnvMapMode["BASIC"] = 0] = "BASIC";
        EEnvMapMode[EEnvMapMode["REFLECTION"] = 1] = "REFLECTION";
        EEnvMapMode[EEnvMapMode["REFRACTION"] = 2] = "REFRACTION";
        EEnvMapMode[EEnvMapMode["FRESNEL"] = 3] = "FRESNEL";
    })(wd.EEnvMapMode || (wd.EEnvMapMode = {}));
    var EEnvMapMode = wd.EEnvMapMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureCombineMode) {
        ETextureCombineMode[ETextureCombineMode["MIX"] = 0] = "MIX";
        ETextureCombineMode[ETextureCombineMode["MULTIPLY"] = 1] = "MULTIPLY";
        ETextureCombineMode[ETextureCombineMode["ADD"] = 2] = "ADD";
    })(wd.ETextureCombineMode || (wd.ETextureCombineMode = {}));
    var ETextureCombineMode = wd.ETextureCombineMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureSourceRegionMapping) {
        ETextureSourceRegionMapping[ETextureSourceRegionMapping["CANVAS"] = 0] = "CANVAS";
        ETextureSourceRegionMapping[ETextureSourceRegionMapping["UV"] = 1] = "UV";
    })(wd.ETextureSourceRegionMapping || (wd.ETextureSourceRegionMapping = {}));
    var ETextureSourceRegionMapping = wd.ETextureSourceRegionMapping;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureSourceRegionMethod) {
        ETextureSourceRegionMethod[ETextureSourceRegionMethod["CHANGE_TEXCOORDS_IN_GLSL"] = 0] = "CHANGE_TEXCOORDS_IN_GLSL";
        ETextureSourceRegionMethod[ETextureSourceRegionMethod["DRAW_IN_CANVAS"] = 1] = "DRAW_IN_CANVAS";
    })(wd.ETextureSourceRegionMethod || (wd.ETextureSourceRegionMethod = {}));
    var ETextureSourceRegionMethod = wd.ETextureSourceRegionMethod;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureTarget) {
        ETextureTarget[ETextureTarget["TEXTURE_2D"] = "TEXTURE_2D"] = "TEXTURE_2D";
        ETextureTarget[ETextureTarget["TEXTURE_CUBE_MAP"] = "TEXTURE_CUBE_MAP"] = "TEXTURE_CUBE_MAP";
    })(wd.ETextureTarget || (wd.ETextureTarget = {}));
    var ETextureTarget = wd.ETextureTarget;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LoaderManager = (function () {
        function LoaderManager() {
            this.assetCount = 0;
            this.currentLoadedCount = 0;
            this._assetTable = wdCb.Hash.create();
        }
        LoaderManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        LoaderManager.prototype.load = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (wd.JudgeUtils.isString(args[0])) {
                var url = args[0], id = url;
                return this._createLoadSingleAssetStream(url, id);
            }
            else {
                var assetArr = args[0];
                return wdFrp.fromArray(assetArr).flatMap(function (asset) {
                    return self._createLoadMultiAssetStream(asset.type || wd.EAssetType.UNKNOW, asset.url, asset.id);
                });
            }
        };
        LoaderManager.prototype.reset = function () {
            this.assetCount = 0;
            this.currentLoadedCount = 0;
        };
        LoaderManager.prototype.dispose = function () {
            this.reset();
            wd.LoaderFactory.createAllLoader().forEach(function (loader) {
                loader.dispose();
            });
        };
        LoaderManager.prototype.get = function (id) {
            var loader = this._assetTable.getChild(id);
            return loader ? loader.get(id) : null;
        };
        LoaderManager.prototype._createLoadMultiAssetStream = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args[0], url = args[1], id = args[2], loader = this._getLoader(type, url), stream = null, self = this;
            if (!loader.has(id)) {
                self.assetCount++;
            }
            return this._addToAssetTable(loader.load(url, id)
                .map(function (data) {
                self.currentLoadedCount++;
                return {
                    currentLoadedCount: self.currentLoadedCount,
                    assetCount: self.assetCount
                };
            }), id, loader);
        };
        LoaderManager.prototype._createLoadSingleAssetStream = function (url, id) {
            var loader = this._getLoader(wd.EAssetType.UNKNOW, url);
            return this._addToAssetTable(loader.load(url, id), id, loader);
        };
        LoaderManager.prototype._getLoader = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args[0], extname = null;
            if (wd.JudgeUtils.isArray(args[1])) {
                extname = wdCb.PathUtils.extname(args[1][0]);
            }
            else {
                extname = wdCb.PathUtils.extname(args[1]);
            }
            return wd.LoaderFactory.create(type, extname.toLowerCase());
        };
        LoaderManager.prototype._addToAssetTable = function (loadStream, id, loader) {
            var self = this;
            return loadStream.do(null, null, function () {
                self._assetTable.addChild(id, loader);
            });
        };
        LoaderManager._instance = null;
        return LoaderManager;
    }());
    wd.LoaderManager = LoaderManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LoaderFactory = (function () {
        function LoaderFactory() {
        }
        LoaderFactory.create = function (type, extname) {
            var loader = null;
            switch (type) {
                case wd.EAssetType.FONT:
                    loader = wd.FontLoader.getInstance();
                    break;
                case wd.EAssetType.UNKNOW:
                    loader = this._getLoaderByExtname(extname);
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNKNOW("asset type:" + type));
                    break;
            }
            return loader;
        };
        LoaderFactory.createAllLoader = function () {
            return wdCb.Collection.create([wd.JsLoader.getInstance(), wd.GLSLLoader.getInstance(), wd.TextureLoader.getInstance(), wd.VideoLoader.getInstance(), wd.FontLoader.getInstance(), wd.FntLoader.getInstance()]);
        };
        LoaderFactory._getLoaderByExtname = function (extname) {
            var loader = null;
            switch (extname) {
                case ".js":
                    loader = wd.JsLoader.getInstance();
                    break;
                case ".glsl":
                    loader = wd.GLSLLoader.getInstance();
                    break;
                case ".jpg":
                case ".jpeg":
                case ".png":
                case ".dds":
                case ".gif":
                case ".bmp":
                    loader = wd.TextureLoader.getInstance();
                    break;
                case ".mp4":
                case ".ogv":
                case ".webm":
                    loader = wd.VideoLoader.getInstance();
                    break;
                case ".gltf":
                    loader = wd.GLTFLoader.getInstance();
                    break;
                case ".wd":
                    loader = wd.WDLoader.getInstance();
                    break;
                case ".eot":
                case ".ttf":
                case ".woff":
                case ".svg":
                    loader = wd.FontLoader.getInstance();
                    break;
                case ".fnt":
                    loader = wd.FntLoader.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNKNOW("extname:" + extname));
                    break;
            }
            return loader;
        };
        return LoaderFactory;
    }());
    wd.LoaderFactory = LoaderFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFLoader = (function (_super) {
        __extends(GLTFLoader, _super);
        function GLTFLoader() {
            _super.apply(this, arguments);
            this._gltfAssembler = wd.GLTFAssembler.create();
            this._gltfParser = wd.GLTFParser.create();
            this._arrayBufferMap = wdCb.Hash.create();
            this._imageMap = wdCb.Hash.create();
        }
        GLTFLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        GLTFLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this, jsonData = null;
            return wd.AjaxLoader.load(url, "json")
                .flatMap(function (json) {
                jsonData = json;
                return self._createLoadAllAssetsStream(url, json);
            })
                .concat(wdFrp.callFunc(function () {
                return self._gltfAssembler.build(self._gltfParser.parse(jsonData, self._arrayBufferMap, self._imageMap));
            }));
        };
        GLTFLoader.prototype._createLoadAllAssetsStream = function (url, json) {
            return wdFrp.fromArray([
                this._createLoadBuffersStream(url, json),
                this._createLoadImageAssetStream(url, json)
            ])
                .mergeAll();
        };
        GLTFLoader.prototype._createLoadBuffersStream = function (filePath, json) {
            var arrayBufferMap = this._arrayBufferMap;
            return this._createLoadAssetStream(filePath, json, json.buffers, arrayBufferMap, function (id, url) {
                return wd.AjaxLoader.load(url, "arraybuffer")
                    .do(function (buffer) {
                    wd.Log.error(!(buffer instanceof ArrayBuffer), wd.Log.info.FUNC_SHOULD("Buffer:" + id, "be an array buffer"));
                    wd.Log.error(buffer.byteLength !== buffer.byteLength, wd.Log.info.FUNC_SHOULD("Buffer:" + id + "'s length is " + buffer.byteLength + ", but it", "be " + buffer.byteLength));
                    arrayBufferMap.addChild(id, buffer);
                });
            });
        };
        GLTFLoader.prototype._createLoadImageAssetStream = function (filePath, json) {
            var imageMap = this._imageMap;
            return this._createLoadAssetStream(filePath, json, json.images, imageMap, function (id, url) {
                return wd.ImageLoader.load(url)
                    .do(function (image) {
                    imageMap.addChild(id, image);
                });
            });
        };
        GLTFLoader.prototype._createLoadAssetStream = function (filePath, json, datas, dataMap, loadStreamFunc) {
            var streamArr = [];
            if (datas) {
                var id = null;
                for (id in datas) {
                    if (datas.hasOwnProperty(id)) {
                        var data = datas[id];
                        if (wd.GLTFUtils.isBase64(data.uri)) {
                            dataMap.addChild(id, wd.GLTFUtils.decodeArrayBuffer(data.uri));
                        }
                        else {
                            var url = wd.ModelLoaderUtils.getPath(filePath, data.uri);
                            streamArr.push(loadStreamFunc(id, url));
                        }
                    }
                }
            }
            return wdFrp.fromArray(streamArr).mergeAll();
        };
        GLTFLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], GLTFLoader.prototype, "loadAsset", null);
        return GLTFLoader;
    }(wd.Loader));
    wd.GLTFLoader = GLTFLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFAssembler = (function () {
        function GLTFAssembler() {
            this._result = wdCb.Hash.create();
        }
        GLTFAssembler.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFAssembler.prototype.build = function (parseData) {
            this._buildMetadata(parseData);
            this._buildModels(parseData);
            return this._result;
        };
        GLTFAssembler.prototype._buildMetadata = function (parseData) {
            var metadata = wdCb.Hash.create();
            for (var i in parseData.metadata) {
                if (parseData.metadata.hasOwnProperty(i)) {
                    metadata.addChild(i, parseData.metadata[i]);
                }
            }
            this._result.addChild("metadata", metadata);
        };
        GLTFAssembler.prototype._buildModels = function (parseData) {
            var models = wdCb.Collection.create(), self = this;
            var build = function (object) {
                var model = wd.GameObject.create();
                if (object.name) {
                    model.name = object.name;
                }
                if (self._isModelContainer(object)) {
                    model.addTag(wd.EWDTag.CONTAINER);
                }
                self._addComponents(model, object.components);
                model.addComponent(wd.MeshRenderer.create());
                if (object.children) {
                    object.children.forEach(function (child) {
                        model.addChild(build(child));
                    });
                }
                return model;
            };
            if (!parseData.objects) {
                return;
            }
            parseData.objects.forEach(function (object) {
                models.addChild(build(object));
            });
            this._result.addChild("models", models);
        };
        GLTFAssembler.prototype._isModelContainer = function (object) {
            return object.isContainer;
        };
        GLTFAssembler.prototype._addComponents = function (model, components) {
            var self = this;
            components.forEach(function (component) {
                if (self._isTransform(component)) {
                    model.transform = self._createTransform(component);
                }
                else if (self._isCamera(component)) {
                    model.addComponent(self._createCamera(component));
                }
                else if (self._isLight(component)) {
                    model.addComponent(self._createLight(component));
                }
                else if (self._isGeometry(component)) {
                    model.addComponent(self._createGeometry(component));
                }
                else if (self._isArticulatedAnimation(component)) {
                    model.addComponent(self._createArticulatedAnimation(component));
                }
            });
        };
        GLTFAssembler.prototype._isTransform = function (component) {
            return !!component.matrix || !!component.position;
        };
        GLTFAssembler.prototype._isCamera = function (component) {
            return !!component.camera;
        };
        GLTFAssembler.prototype._isLight = function (component) {
            return !!component.lightColor && !!component.type;
        };
        GLTFAssembler.prototype._isGeometry = function (component) {
            return !!component.material;
        };
        GLTFAssembler.prototype._isArticulatedAnimation = function (component) {
            return wd.GLTFUtils.isIGLTFArticulatedAnimation(component);
        };
        GLTFAssembler.prototype._createTransform = function (component) {
            var transform = wd.ThreeDTransform.create();
            if (component.matrix) {
                transform.position = component.matrix.getTranslation();
                transform.rotation = component.matrix.getRotation();
                transform.scale = component.matrix.getScale();
            }
            else {
                transform.position = component.position;
                transform.rotation = component.rotation;
                transform.scale = component.scale;
            }
            return transform;
        };
        GLTFAssembler.prototype._createCamera = function (component) {
            return wd.BasicCameraController.create(component.camera);
        };
        GLTFAssembler.prototype._createLight = function (component) {
            var light = null;
            switch (component.type) {
                case "ambient":
                    light = wd.AmbientLight.create();
                    light.color = component.lightColor;
                    break;
                case "directional":
                    light = wd.DirectionLight.create();
                    light.color = component.lightColor;
                    break;
                case "point":
                    light = wd.PointLight.create();
                    light.color = component.lightColor;
                    wd.GLTFUtils.addData(light, "range", component.distance);
                    wd.GLTFUtils.addData(light, "constant", component.constantAttenuation);
                    wd.GLTFUtils.addData(light, "linear", component.linearAttenuation);
                    wd.GLTFUtils.addData(light, "quadratic", component.quadraticAttenuation);
                    break;
                default:
                    break;
            }
            return light;
        };
        GLTFAssembler.prototype._createGeometry = function (component) {
            var geometry = wd.ModelGeometry.create();
            geometry.vertices = component.vertices;
            geometry.faces = component.faces;
            wd.GLTFUtils.addData(geometry, "colors", component.colors);
            wd.GLTFUtils.addData(geometry, "texCoords", component.texCoords);
            geometry.drawMode = component.drawMode;
            geometry.material = this._createMaterial(component.material);
            return geometry;
        };
        GLTFAssembler.prototype._createMaterial = function (materialData) {
            var material = null;
            switch (materialData.type) {
                case "BasicMaterial":
                    material = this._createBasicMaterial(materialData);
                    break;
                case "LightMaterial":
                    material = this._createLightMaterial(materialData);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("material type:" + materialData.type));
                    break;
            }
            return material;
        };
        GLTFAssembler.prototype._createBasicMaterial = function (materialData) {
            var material = wd.BasicMaterial.create();
            this._setBasicDataOfMaterial(material, materialData);
            return material;
        };
        GLTFAssembler.prototype._createLightMaterial = function (materialData) {
            var material = wd.LightMaterial.create();
            this._setBasicDataOfMaterial(material, materialData);
            if (!!materialData.transparent && materialData.transparent === true && materialData.opacity) {
                material.opacity = materialData.opacity;
            }
            if (materialData.lightModel === wd.ELightModel.LAMBERT) {
                wd.Log.log(wd.Log.info.FUNC_NOT_SUPPORT("LAMBERT light model, use PHONG light model instead"));
                material.lightModel = wd.ELightModel.PHONG;
            }
            else {
                material.lightModel = materialData.lightModel;
            }
            wd.GLTFUtils.addData(material, "color", materialData.diffuseColor);
            wd.GLTFUtils.addData(material, "specularColor", materialData.specularColor);
            wd.GLTFUtils.addData(material, "emissionColor", materialData.emissionColor);
            wd.GLTFUtils.addData(material, "diffuseMap", materialData.diffuseMap);
            wd.GLTFUtils.addData(material, "specularMap", materialData.specularMap);
            wd.GLTFUtils.addData(material, "emissionMap", materialData.emissionMap);
            wd.GLTFUtils.addData(material, "shininess", materialData.shininess);
            return material;
        };
        GLTFAssembler.prototype._setBasicDataOfMaterial = function (material, materialData) {
            if (!!materialData.doubleSided && materialData.doubleSided === true) {
                material.side = wd.ESide.BOTH;
            }
            else {
                material.side = wd.ESide.FRONT;
            }
        };
        GLTFAssembler.prototype._createArticulatedAnimation = function (component) {
            var anim = wd.ArticulatedAnimation.create();
            anim.data = wdCb.Hash.create(component);
            return anim;
        };
        return GLTFAssembler;
    }());
    wd.GLTFAssembler = GLTFAssembler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFParser = (function () {
        function GLTFParser() {
            this._data = {};
            this._arrayBufferMap = null;
            this._imageMap = null;
            this._json = null;
            this._geometryParser = wd.GLTFGeometryParser.create();
            this._articulatedAnimationParser = wd.GLTFArticulatedAnimationParser.create();
        }
        GLTFParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFParser.prototype.parse = function (json, arrayBufferMap, imageMap) {
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            this._imageMap = imageMap;
            if (json.asset) {
                this._parseMetadata();
            }
            this._parseObjects();
            if (json.animations) {
                this._articulatedAnimationParser.parse(json, this._data.objects, this._arrayBufferMap);
            }
            return this._data;
        };
        GLTFParser.prototype._parseMetadata = function () {
            var metadata = {}, json = this._json;
            for (var i in json.asset) {
                if (json.asset.hasOwnProperty(i)) {
                    metadata[i] = json.asset[i];
                }
            }
            this._data.metadata = metadata;
        };
        GLTFParser.prototype._parseObjects = function () {
            var self = this, json = this._json, objects = wdCb.Collection.create();
            var parse = function (nodeId, node) {
                var object = wd.GLTFUtils.createObjectData();
                object.id = nodeId;
                if (node.name) {
                    object.name = node.name;
                }
                if (node.meshes && node.meshes.length > 0) {
                    var mesh = null;
                    if (node.meshes.length > 1) {
                        wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("multi mesh(geometry), just use the first mesh(geometry)"));
                    }
                    mesh = json.meshes[node.meshes[0]];
                    if (!node.name && mesh.name) {
                        object.name = mesh.name;
                    }
                    self._geometryParser.parse(json, object, mesh, self._arrayBufferMap, self._imageMap);
                }
                if (node.extensions) {
                    if (node.extensions["KHR_materials_common"] && node.extensions["KHR_materials_common"].light) {
                        object.components.addChild(self._parseLight(node.extensions["KHR_materials_common"].light));
                    }
                }
                if (node.camera) {
                    object.components.addChild(self._parseCamera(node.camera));
                }
                if (node.matrix) {
                    object.components.addChild(self._parseTransform(node.matrix));
                }
                else if (node.rotation && node.scale && node.translation) {
                    object.components.addChild(self._parseTransform(node.translation, node.rotation, node.scale));
                }
                if (node.children) {
                    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {
                        var childId = _a[_i];
                        object.children.addChild(parse(childId, json.nodes[childId]));
                    }
                }
                return object;
            };
            if (!json.scenes[json.scene]) {
                this._data.objects = objects;
                return;
            }
            for (var _i = 0, _a = json.scenes[json.scene].nodes; _i < _a.length; _i++) {
                var nodeId = _a[_i];
                objects.addChild(parse(nodeId, json.nodes[nodeId]));
            }
            this._data.objects = objects;
        };
        GLTFParser.prototype._parseLight = function (lightId) {
            var lightData = this._json.extensions["KHR_materials_common"].lights[lightId], light = {};
            wd.GLTFUtils.addData(light, "type", lightData.type);
            this._parseLightDataByType(light, lightData, light.type);
            return light;
        };
        GLTFParser.prototype._parseLightDataByType = function (light, lightData, type) {
            var data = lightData[type];
            switch (type) {
                case "ambient":
                case "directional":
                    light.lightColor = wd.GLTFUtils.getColor(data.color);
                    break;
                case "point":
                    light.lightColor = wd.GLTFUtils.getColor(data.color);
                    wd.GLTFUtils.addData(light, "distance", data.distance);
                    wd.GLTFUtils.addData(light, "constantAttenuation", data.constantAttenuation);
                    wd.GLTFUtils.addData(light, "linearAttenuation", data.linearAttenuation);
                    wd.GLTFUtils.addData(light, "quadraticAttenuation", data.quadraticAttenuation);
                    break;
                default:
                    break;
            }
        };
        GLTFParser.prototype._parseCamera = function (cameraId) {
            var cameraData = this._json.cameras[cameraId], camera = {};
            this._parseCameraDataByType(camera, cameraData);
            return camera;
        };
        GLTFParser.prototype._parseCameraDataByType = function (camera, cameraData) {
            var cameraComponent = null, type = cameraData.type, data = cameraData[type];
            switch (type) {
                case "perspective":
                    data = cameraData[type];
                    cameraComponent = wd.PerspectiveCamera.create();
                    cameraComponent.near = data.znear;
                    cameraComponent.far = data.zfar;
                    if (data.aspectRatio) {
                        cameraComponent.aspect = data.aspectRatio;
                    }
                    else {
                        var view = wd.DeviceManager.getInstance().view;
                        cameraComponent.aspect = view.width / view.height;
                    }
                    cameraComponent.fovy = data.yfov;
                    camera.camera = cameraComponent;
                    break;
                case "orthographic":
                    cameraComponent = wd.OrthographicCamera.create();
                    cameraComponent.near = data.znear;
                    cameraComponent.far = data.zfar;
                    cameraComponent.left = -data.xmag;
                    cameraComponent.right = data.xmag;
                    cameraComponent.top = data.ymag;
                    cameraComponent.bottom = -data.ymag;
                    camera.camera = cameraComponent;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("camera type:" + type));
                    break;
            }
        };
        GLTFParser.prototype._parseTransform = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var transform = {};
            if (args.length === 1) {
                var matrix = args[0];
                transform.matrix = wd.Matrix4.create(new Float32Array(matrix));
            }
            else if (args.length === 3) {
                var translation = args[0], rotation = args[1], scale = args[2];
                transform.position = wd.Vector3.create(translation[0], translation[1], translation[2]);
                transform.rotation = wd.Quaternion.create(rotation[0], rotation[1], rotation[2], rotation[3]);
                transform.scale = wd.Vector3.create(scale[0], scale[1], scale[2]);
            }
            return transform;
        };
        __decorate([
            wd.require(function (lightId) {
                var lights = this._json.extensions["KHR_materials_common"].lights;
                wd.assert(lights && lights[lightId], wd.Log.info.FUNC_NOT_EXIST("lightId:" + lightId));
            })
        ], GLTFParser.prototype, "_parseLight", null);
        __decorate([
            wd.require(function (cameraId) {
                var cameras = this._json.cameras;
                wd.assert(cameras && cameras[cameraId], wd.Log.info.FUNC_NOT_EXIST("cameraId:" + cameraId));
            })
        ], GLTFParser.prototype, "_parseCamera", null);
        return GLTFParser;
    }());
    wd.GLTFParser = GLTFParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFGeometryParser = (function () {
        function GLTFGeometryParser() {
            this._arrayBufferMap = null;
            this._imageMap = null;
            this._json = null;
            this._materialParser = wd.GLTFMaterialParser.create();
        }
        GLTFGeometryParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFGeometryParser.prototype.parse = function (json, object, mesh, arrayBufferMap, imageMap) {
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            this._imageMap = imageMap;
            if (mesh.primitives.length > 1) {
                for (var _i = 0, _a = mesh.primitives; _i < _a.length; _i++) {
                    var primitive = _a[_i];
                    var childObject = wd.GLTFUtils.createObjectData();
                    this._setChildObjectNameWithMultiPrimitives(childObject, primitive);
                    childObject.components.addChild(this._parseGeometry(primitive));
                    object.children.addChild(childObject);
                }
                object.isContainer = true;
            }
            else if (mesh.primitives.length === 1) {
                object.components.addChild(this._parseGeometry(mesh.primitives[0]));
            }
            else {
            }
        };
        GLTFGeometryParser.prototype._setChildObjectNameWithMultiPrimitives = function (object, primitive) {
            object.name = primitive.material;
        };
        GLTFGeometryParser.prototype._parseGeometry = function (primitive) {
            var json = this._json, arrayBufferMap = this._arrayBufferMap, accessor = null, bufferArr = null, geometry = {}, vertices = null, texCoords = null, colors = null, normals = null, faces = null;
            for (var semantic in primitive.attributes) {
                if (primitive.attributes.hasOwnProperty(semantic)) {
                    var attribute = primitive.attributes[semantic];
                    accessor = json.accessors[attribute];
                    bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, arrayBufferMap);
                    if (semantic === "POSITION") {
                        vertices = [];
                        this._addGeometryData(vertices, bufferArr);
                    }
                    else if (semantic.indexOf("TEXCOORD_") > -1) {
                        texCoords = [];
                        this._addGeometryData(texCoords, bufferArr);
                        this._normalizeTexCoords(texCoords);
                    }
                    else if (semantic === "NORMAL") {
                        normals = [];
                        for (var _i = 0, bufferArr_1 = bufferArr; _i < bufferArr_1.length; _i++) {
                            var data = bufferArr_1[_i];
                            normals.push(data);
                        }
                    }
                    else if (semantic === "COLOR") {
                        colors = [];
                        this._addGeometryData(colors, bufferArr);
                    }
                }
            }
            faces = this._getFaces(json, primitive.indices, normals);
            wd.GLTFUtils.addData(geometry, "vertices", vertices);
            wd.GLTFUtils.addData(geometry, "colors", colors);
            wd.GLTFUtils.addData(geometry, "texCoords", texCoords);
            wd.GLTFUtils.addData(geometry, "faces", faces);
            wd.GLTFUtils.addData(geometry, "drawMode", this._parseDrawMode(primitive.mode));
            geometry.material = this._materialParser.parse(json, primitive.material, this._imageMap);
            return geometry;
        };
        GLTFGeometryParser.prototype._addGeometryData = function (geometryData, sourceData) {
            for (var i = 0, len = sourceData.length; i < len; i++) {
                geometryData.push(sourceData[i]);
            }
        };
        GLTFGeometryParser.prototype._getFaces = function (json, indices, normals) {
            var accessor = null, bufferArr = null, face = null, faces = [];
            if (!indices) {
                return [];
            }
            accessor = json.accessors[indices];
            bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, this._arrayBufferMap);
            for (var i = 0, len = bufferArr.length; i < len; i += 3) {
                var aIndex = bufferArr[i], bIndex = bufferArr[i + 1], cIndex = bufferArr[i + 2], verticeIndiceArr = [aIndex, bIndex, cIndex];
                face = wd.Face3.create(aIndex, bIndex, cIndex);
                if (wd.GeometryUtils.hasData(normals)) {
                    this._addNormalData(face.vertexNormals, normals, verticeIndiceArr);
                }
                faces.push(face);
            }
            return faces;
        };
        GLTFGeometryParser.prototype._addNormalData = function (targetNormals, sourceNormals, normalIndiceArr) {
            var aIndex = normalIndiceArr[0], bIndex = normalIndiceArr[1], cIndex = normalIndiceArr[2];
            targetNormals.addChildren([
                this._getThreeComponentData(sourceNormals, aIndex),
                this._getThreeComponentData(sourceNormals, bIndex),
                this._getThreeComponentData(sourceNormals, cIndex)
            ]);
        };
        GLTFGeometryParser.prototype._getThreeComponentData = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        GLTFGeometryParser.prototype._parseDrawMode = function (mode) {
            var drawMode = null;
            if (!mode) {
                return null;
            }
            switch (mode) {
                case 0:
                    drawMode = wd.EDrawMode.POINTS;
                    break;
                case 1:
                    drawMode = wd.EDrawMode.LINES;
                    break;
                case 2:
                    drawMode = wd.EDrawMode.LINE_LOOP;
                    break;
                case 3:
                    drawMode = wd.EDrawMode.LINE_STRIP;
                    break;
                case 4:
                    drawMode = wd.EDrawMode.TRIANGLES;
                    break;
                case 5:
                    drawMode = wd.EDrawMode.TRIANGLE_STRIP;
                    break;
                case 6:
                    drawMode = wd.EDrawMode.TRANGLE_FAN;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("mode:" + mode));
                    break;
            }
            return drawMode;
        };
        GLTFGeometryParser.prototype._normalizeTexCoords = function (texCoords) {
            if (!texCoords) {
                return;
            }
            for (var i = 0, len = texCoords.length / 2; i < len; i++) {
                texCoords[i * 2 + 1] = 1.0 - texCoords[i * 2 + 1];
            }
        };
        __decorate([
            wd.require(function (json, indices, normals) {
                var accessor = null, bufferArr = null;
                if (!indices) {
                    return [];
                }
                accessor = json.accessors[indices];
                bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, this._arrayBufferMap);
                wd.assert(bufferArr.length % 3 === 0, wd.Log.info.FUNC_SHOULD("indices' count", "3 times"));
            })
        ], GLTFGeometryParser.prototype, "_getFaces", null);
        return GLTFGeometryParser;
    }());
    wd.GLTFGeometryParser = GLTFGeometryParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFMaterialParser = (function () {
        function GLTFMaterialParser() {
            this._imageMap = null;
            this._json = null;
        }
        GLTFMaterialParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFMaterialParser.prototype.parse = function (json, materialId, imageMap) {
            var materialData = null, materialExtension = null;
            this._json = json;
            this._imageMap = imageMap;
            if (!this._isUseKHRMaterialExtension()) {
                wd.Log.log("no KHR_materials_common extension found, will use default material instead");
                var material_1 = {
                    type: "BasicMaterial",
                    doubleSided: false
                };
                return material_1;
            }
            var material = {};
            materialData = json.materials[materialId];
            wd.Log.error(!materialData.extensions || !materialData.extensions.KHR_materials_common, wd.Log.info.FUNC_SHOULD("materials", "define KHR_materials_common extensions"));
            materialExtension = materialData.extensions.KHR_materials_common;
            wd.GLTFUtils.addData(material, "doubleSided", materialExtension.doubleSided);
            wd.GLTFUtils.addData(material, "transparent", materialExtension.transparent);
            wd.GLTFUtils.addData(material, "opacity", materialExtension.transparency);
            material.type = this._getMaterialType(materialExtension.technique);
            material.lightModel = this._getLightModel(materialExtension.technique);
            this._addMaterialExtensionValues(material, materialExtension.values);
            return material;
        };
        GLTFMaterialParser.prototype._isUseKHRMaterialExtension = function () {
            var extensionsUsed = this._json.extensionsUsed;
            if (!extensionsUsed) {
                return false;
            }
            return extensionsUsed.indexOf("KHR_materials_common") > -1;
        };
        GLTFMaterialParser.prototype._getMaterialType = function (technique) {
            var type = null;
            switch (technique) {
                case "PHONG":
                case "BLINN":
                case "CONSTANT":
                case "LAMBERT":
                    type = "LightMaterial";
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("technique:" + technique));
                    break;
            }
            return type;
        };
        GLTFMaterialParser.prototype._getLightModel = function (technique) {
            var model = null;
            switch (technique) {
                case "PHONG":
                    model = wd.ELightModel.PHONG;
                    break;
                case "BLINN":
                    model = wd.ELightModel.BLINN;
                    break;
                case "CONSTANT":
                    model = wd.ELightModel.CONSTANT;
                    break;
                case "LAMBERT":
                    model = wd.ELightModel.LAMBERT;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("technique:" + technique));
                    break;
            }
            return model;
        };
        GLTFMaterialParser.prototype._addMaterialExtensionValues = function (material, values) {
            if (!values) {
                return;
            }
            if (values.ambient) {
                wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("ambient of material"));
            }
            this._addMaterialLightColor(material, "diffuse", values.diffuse);
            this._addMaterialLightColor(material, "specular", values.specular);
            this._addMaterialLightColor(material, "emission", values.emission);
            if (values.shininess) {
                material.shininess = values.shininess.value;
            }
        };
        GLTFMaterialParser.prototype._addMaterialLightColor = function (material, colorName, colorData) {
            if (!colorData) {
                return;
            }
            if (wd.JudgeUtils.isArray(colorData)) {
                material[(colorName + "Color")] = wd.GLTFUtils.getColor(colorData);
            }
            else {
                if (this._isColor(colorData.type)) {
                    material[(colorName + "Color")] = wd.GLTFUtils.getColor(colorData.value);
                }
                else {
                    material[(colorName + "Map")] = this._getTexture(colorData.value);
                }
            }
        };
        GLTFMaterialParser.prototype._isColor = function (type) {
            return Number(type) === 35666;
        };
        GLTFMaterialParser.prototype._getTexture = function (textureId) {
            var texture = null, asset = null;
            if (!this._json.textures || !this._json.textures[textureId]) {
                return null;
            }
            texture = this._json.textures[textureId];
            asset = this._createTextureAsset(texture.target, texture.source);
            if (texture.internalFormat !== texture.format) {
                wd.Log.warn("texture.internalFormat(" + texture.internalFormat + ") !== texture.format(" + texture.format + "), here take texture.format value as their value");
            }
            if (texture.format) {
                asset.format = this._getTextureFormat(texture.format);
            }
            if (texture.type) {
                asset.type = this._getTextureType(texture.type);
            }
            this._addTextureSampler(asset, texture.sampler);
            return asset.toTexture();
        };
        GLTFMaterialParser.prototype._createTextureAsset = function (target, imageId) {
            var asset = null, source = this._imageMap.getChild(imageId);
            if (!source) {
                wd.Log.warn("no image found in loader(id:" + imageId + ")");
            }
            switch (target) {
                case 3553:
                    asset = wd.ImageTextureAsset.create(source);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("target except TEXTURE_2D"));
                    break;
            }
            return asset;
        };
        GLTFMaterialParser.prototype._getTextureType = function (type) {
            var textureType = null;
            switch (type) {
                case 5121:
                    textureType = wd.ETextureType.UNSIGNED_BYTE;
                    break;
                case 33635:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_5_6_5;
                    break;
                case 32819:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_4_4_4_4;
                    break;
                case 32820:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_5_5_5_1;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture->type:" + type));
                    break;
            }
            return textureType;
        };
        GLTFMaterialParser.prototype._getTextureFormat = function (format) {
            var textureFormat = null;
            switch (format) {
                case 6406:
                    textureFormat = wd.ETextureFormat.ALPHA;
                    break;
                case 6407:
                    textureFormat = wd.ETextureFormat.RGB;
                    break;
                case 6408:
                    textureFormat = wd.ETextureFormat.RGBA;
                    break;
                case 6409:
                    textureFormat = wd.ETextureFormat.LUMINANCE;
                    break;
                case 6410:
                    textureFormat = wd.ETextureFormat.LUMINANCE_ALPHA;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture->format:" + format));
                    break;
            }
            return textureFormat;
        };
        GLTFMaterialParser.prototype._addTextureSampler = function (asset, samplerId) {
            var sampler = this._json.samplers[samplerId];
            asset.wrapT = this._getTextureWrap(sampler.wrapT);
            asset.wrapS = this._getTextureWrap(sampler.wrapS);
            asset.minFilter = this._getTextureFilter(sampler.minFilter);
            asset.magFilter = this._getTextureFilter(sampler.magFilter);
        };
        GLTFMaterialParser.prototype._getTextureFilter = function (filter) {
            var textureFilter = null;
            switch (filter) {
                case 9728:
                    textureFilter = wd.ETextureFilterMode.NEAREST;
                    break;
                case 9729:
                    textureFilter = wd.ETextureFilterMode.LINEAR;
                    break;
                case 9984:
                    textureFilter = wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST;
                    break;
                case 9985:
                    textureFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_NEAREST;
                    break;
                case 9986:
                    textureFilter = wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR;
                    break;
                case 9987:
                    textureFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture filter:" + filter));
                    break;
            }
            return textureFilter;
        };
        GLTFMaterialParser.prototype._getTextureWrap = function (wrap) {
            var textureWrap = null;
            switch (wrap) {
                case 33071:
                    textureWrap = wd.ETextureWrapMode.CLAMP_TO_EDGE;
                    break;
                case 33648:
                    textureWrap = wd.ETextureWrapMode.MIRRORED_REPEAT;
                    break;
                case 10497:
                    textureWrap = wd.ETextureWrapMode.REPEAT;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture wrap:" + wrap));
                    break;
            }
            return textureWrap;
        };
        __decorate([
            wd.require(function (asset, samplerId) {
                wd.assert(!!this._json.samplers[samplerId], wd.Log.info.FUNC_NOT_EXIST("samplerId:" + samplerId));
            })
        ], GLTFMaterialParser.prototype, "_addTextureSampler", null);
        return GLTFMaterialParser;
    }());
    wd.GLTFMaterialParser = GLTFMaterialParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFArticulatedAnimationParser = (function () {
        function GLTFArticulatedAnimationParser() {
            this._arrayBufferMap = null;
            this._json = null;
            this._arrayOffset = null;
        }
        GLTFArticulatedAnimationParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFArticulatedAnimationParser.prototype.parse = function (json, objects, arrayBufferMap) {
            var nodeWithAnimationMap = wdCb.Hash.create();
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            for (var animName in json.animations) {
                if (json.animations.hasOwnProperty(animName)) {
                    var animation = json.animations[animName], keyFrameDataList = wdCb.Collection.create();
                    for (var i = 0, len = animation.channels.length; i < len; i++) {
                        var channel = animation.channels[i], sampler = animation.samplers[channel.sampler], targetId = null, targetNode = null;
                        if (!sampler) {
                            continue;
                        }
                        targetId = channel.target.id;
                        targetNode = this._findNode(objects, targetId);
                        if (targetNode === null) {
                            wd.Log.warn("can't find node whose id is " + targetId + " to attach to animation named " + animName);
                            continue;
                        }
                        this._addAnimationToNode(nodeWithAnimationMap, targetId, targetNode, animName, keyFrameDataList);
                        this._addKeyFrameDatas(keyFrameDataList, channel, animation, sampler);
                    }
                }
            }
            this._addAnimationComponent(nodeWithAnimationMap);
        };
        GLTFArticulatedAnimationParser.prototype._addAnimationToNode = function (nodeWithAnimationMap, targetId, targetNode, animName, keyFrameDataList) {
            if (!nodeWithAnimationMap.hasChild(targetId)) {
                nodeWithAnimationMap.addChild(targetId, {
                    node: targetNode,
                    animationData: {}
                });
            }
            nodeWithAnimationMap.getChild(targetId).animationData[animName] = keyFrameDataList;
        };
        GLTFArticulatedAnimationParser.prototype._addKeyFrameDatas = function (keyFrameDataList, channel, animation, sampler) {
            var targetPath = channel.target.path, json = this._json, arrayBufferMap = this._arrayBufferMap, inputData = animation.parameters[sampler.input], bufferInput = wd.GLTFUtils.getBufferArrFromAccessor(json, json.accessors[inputData], arrayBufferMap);
            this._arrayOffset = 0;
            for (var j = 0; j < bufferInput.length; j++) {
                var keyFrameData = {};
                keyFrameData.time = this._convertSecondToMillisecond(bufferInput[j]);
                keyFrameData.interpolationMethod = this._convertTointerpolationMethod(sampler.interpolation);
                keyFrameData.targets = this._getKeyFrameDataTargets(targetPath, animation, sampler);
                keyFrameDataList.addChild(keyFrameData);
            }
        };
        GLTFArticulatedAnimationParser.prototype._getKeyFrameDataTargets = function (targetPath, animation, sampler) {
            var targets = wdCb.Collection.create(), outputData = animation.parameters[sampler.output], bufferOutput = wd.GLTFUtils.getBufferArrFromAccessor(this._json, this._json.accessors[outputData], this._arrayBufferMap);
            switch (targetPath) {
                case "translation":
                    targets.addChild({
                        target: wd.EArticulatedAnimationTarget.TRANSLATION,
                        data: wd.Vector3.create(bufferOutput[this._arrayOffset], bufferOutput[this._arrayOffset + 1], bufferOutput[this._arrayOffset + 2])
                    });
                    this._arrayOffset += 3;
                    break;
                case "rotation":
                    targets.addChild({
                        target: wd.EArticulatedAnimationTarget.ROTATION,
                        data: wd.Quaternion.create(bufferOutput[this._arrayOffset], bufferOutput[this._arrayOffset + 1], bufferOutput[this._arrayOffset + 2], bufferOutput[this._arrayOffset + 3])
                    });
                    this._arrayOffset += 4;
                    break;
                case "scale":
                    targets.addChild({
                        target: wd.EArticulatedAnimationTarget.SCALE,
                        data: wd.Vector3.create(bufferOutput[this._arrayOffset], bufferOutput[this._arrayOffset + 1], bufferOutput[this._arrayOffset + 2])
                    });
                    this._arrayOffset += 3;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("path:" + targetPath));
                    break;
            }
            return targets;
        };
        GLTFArticulatedAnimationParser.prototype._findNode = function (objects, targetId) {
            var find = function (objects) {
                var result = objects.findOne(function (object) {
                    return object.id === targetId;
                });
                if (result) {
                    return result;
                }
                objects.forEach(function (object) {
                    result = find(object.children);
                    if (result) {
                        return wdCb.$BREAK;
                    }
                });
                return result;
            };
            return find(objects);
        };
        GLTFArticulatedAnimationParser.prototype._addAnimationComponent = function (nodeWithAnimationMap) {
            nodeWithAnimationMap.forEach(function (_a) {
                var node = _a.node, animationData = _a.animationData;
                node.components.addChild(animationData);
            });
        };
        GLTFArticulatedAnimationParser.prototype._convertSecondToMillisecond = function (time) {
            return 1000 * time;
        };
        GLTFArticulatedAnimationParser.prototype._convertTointerpolationMethod = function (jsonInterpolation) {
            switch (jsonInterpolation) {
                case "LINEAR":
                    return wd.EKeyFrameInterpolation.LINEAR;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("interpolation:" + jsonInterpolation));
                    break;
            }
        };
        __decorate([
            wd.ensure(function (returnVal, nodeWithAnimationMap) {
                nodeWithAnimationMap.forEach(function (_a) {
                    var node = _a.node, animationData = _a.animationData;
                    wd.assert(node.components.filter(function (component) {
                        return wd.GLTFUtils.isIGLTFArticulatedAnimation(component);
                    }).getCount() <= 1, wd.Log.info.FUNC_SHOULD("node", "only has 1 IGLTFArticulatedAnimation component"));
                });
            })
        ], GLTFArticulatedAnimationParser.prototype, "_addAnimationComponent", null);
        return GLTFArticulatedAnimationParser;
    }());
    wd.GLTFArticulatedAnimationParser = GLTFArticulatedAnimationParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFUtils = (function () {
        function GLTFUtils() {
        }
        GLTFUtils.addData = function (target, sourceName, sourceData) {
            if (sourceData !== undefined && sourceData !== null) {
                target[sourceName] = sourceData;
            }
        };
        GLTFUtils.isBase64 = function (uri) {
            return uri.length < 5 ? false : uri.substr(0, 5) === "data:";
        };
        GLTFUtils.decodeArrayBuffer = function (base64Str) {
            var base64 = base64Str.split(',')[1], decodedString = atob(base64), bufferLength = decodedString.length, arraybuffer = new Uint8Array(new ArrayBuffer(bufferLength));
            for (var i = 0; i < bufferLength; i++) {
                arraybuffer[i] = decodedString.charCodeAt(i);
            }
            return arraybuffer.buffer;
        };
        GLTFUtils.createObjectData = function () {
            return {
                id: null,
                isContainer: false,
                components: wdCb.Collection.create(),
                children: wdCb.Collection.create()
            };
        };
        GLTFUtils.getColor = function (value) {
            var color = wd.Color.create();
            color.r = Number(value[0]);
            color.g = Number(value[1]);
            color.b = Number(value[2]);
            if (value.length === 4) {
                color.a = Number(value[3]);
            }
            return color;
        };
        GLTFUtils.getBufferArrFromAccessor = function (json, accessor, arrayBufferMap) {
            var bufferView = json.bufferViews[accessor.bufferView], arrayBuffer = arrayBufferMap.getChild(bufferView.buffer), byteOffset = accessor.byteOffset + bufferView.byteOffset, count = accessor.count * this.getAccessorTypeSize(accessor);
            switch (accessor.componentType) {
                case 5120:
                    return new Int8Array(arrayBuffer, byteOffset, count);
                case 5121:
                    return new Uint8Array(arrayBuffer, byteOffset, count);
                case 5122:
                    return new Int16Array(arrayBuffer, byteOffset, count);
                case 5123:
                    return new Uint16Array(arrayBuffer, byteOffset, count);
                case 5126:
                    return new Float32Array(arrayBuffer, byteOffset, count);
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("componentType:" + accessor.componentType));
                    break;
            }
        };
        GLTFUtils.getAccessorTypeSize = function (accessor) {
            var type = accessor.type;
            switch (type) {
                case "VEC2":
                    return 2;
                case "VEC3":
                    return 3;
                case "VEC4":
                    return 4;
                case "MAT2":
                    return 4;
                case "MAT3":
                    return 9;
                case "MAT4":
                    return 16;
                default:
                    return 1;
            }
        };
        GLTFUtils.isIGLTFArticulatedAnimation = function (component) {
            if (!wd.JudgeUtils.isDirectObject(component)) {
                return false;
            }
            for (var animName in component) {
                return component[animName] instanceof wdCb.Collection && component[animName].getCount() > 0 && component[animName].getChild(0).time !== void 0;
            }
        };
        return GLTFUtils;
    }());
    wd.GLTFUtils = GLTFUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EWDTag) {
        EWDTag[EWDTag["CONTAINER"] = "CONTAINER"] = "CONTAINER";
    })(wd.EWDTag || (wd.EWDTag = {}));
    var EWDTag = wd.EWDTag;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDLoader = (function (_super) {
        __extends(WDLoader, _super);
        function WDLoader() {
            _super.apply(this, arguments);
            this._wdParser = wd.WDParser.create();
            this._wdBuilder = wd.WDBuilder.create();
            this._parseData = null;
        }
        WDLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        WDLoader.prototype.loadAsset = function () {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this;
            return wd.AjaxLoader.load(url, "json")
                .flatMap(function (json) {
                self._parseData = self._wdParser.parse(json);
                return _this._createLoadMapStream(url);
            })
                .concat(wdFrp.callFunc(function () {
                return self._wdBuilder.build(self._parseData);
            }));
        };
        WDLoader.prototype._createLoadMapStream = function (filePath) {
            var streamArr = [], parseData = this._parseData, i = null;
            parseData.materials.forEach(function (material) {
                var mapUrlArr = [];
                if (material.diffuseMapUrl) {
                    mapUrlArr.push(["diffuseMap", material.diffuseMapUrl]);
                }
                if (material.specularMapUrl) {
                    mapUrlArr.push(["specularMap", material.specularMapUrl]);
                }
                if (material.normalMapUrl) {
                    mapUrlArr.push(["normalMap", material.normalMapUrl]);
                }
                streamArr.push(wdFrp.fromArray(mapUrlArr)
                    .flatMap(function (_a) {
                    var type = _a[0], mapUrl = _a[1];
                    return wd.TextureLoader.getInstance().load(wd.ModelLoaderUtils.getPath(filePath, mapUrl))
                        .do(function (asset) {
                        material[type] = asset.toTexture();
                    }, null, null);
                }));
            });
            return wdFrp.fromArray(streamArr).mergeAll();
        };
        WDLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], WDLoader.prototype, "loadAsset", null);
        return WDLoader;
    }(wd.Loader));
    wd.WDLoader = WDLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDParser = (function () {
        function WDParser() {
            this._data = {};
            this._objectParser = wd.WDObjectParser.create();
        }
        WDParser.create = function () {
            var obj = new this();
            return obj;
        };
        WDParser.prototype.parse = function (json) {
            this._parseMetadata(json);
            this._parseScene(json);
            this._parseMaterial(json);
            this._parseObject(json);
            return this._data;
        };
        WDParser.prototype._parseMetadata = function (json) {
            this._data.metadata = json.metadata;
        };
        WDParser.prototype._parseObject = function (json) {
            this._objectParser.parse(this._data, json);
        };
        WDParser.prototype._parseScene = function (json) {
            this._data.scene = json.scene;
            if (json.scene.ambientColor) {
                this._data.scene.ambientColor = this._createColor(json.scene.ambientColor);
            }
        };
        WDParser.prototype._parseMaterial = function (json) {
            var _this = this;
            this._data.materials = wdCb.Hash.create(json.materials);
            this._data.materials.forEach(function (material) {
                if (material.diffuseColor) {
                    material.diffuseColor = _this._createColor(material.diffuseColor);
                }
                if (material.specularColor) {
                    material.specularColor = _this._createColor(material.specularColor);
                }
            });
        };
        WDParser.prototype._createColor = function (colorArr) {
            return wd.Color.create("rgb(" + colorArr.join(",").replace(/^(\d+),/g, "$1.0,").replace(/,(\d+),/g, ",$1.0,").replace(/,(\d+)$/g, ",$1.0") + ")");
        };
        return WDParser;
    }());
    wd.WDParser = WDParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDObjectParser = (function () {
        function WDObjectParser() {
        }
        WDObjectParser.create = function () {
            var obj = new this();
            return obj;
        };
        WDObjectParser.prototype.parse = function (data, json) {
            var parse = null, self = this;
            data.objects = wdCb.Collection.create(json.objects);
            parse = function (object) {
                if (self._isObjectContainer(object)) {
                    object.isContainer = true;
                }
                else {
                    object.isContainer = false;
                    self._parseFromIndices(object);
                }
                if (object.children) {
                    object.children = wdCb.Collection.create(object.children);
                    object.children.forEach(function (child) {
                        child.parent = object;
                        parse(child);
                    });
                }
            };
            data.objects.forEach(function (object) {
                object.parent = null;
                parse(object);
                self._removeObjectContainerData(object);
            });
        };
        WDObjectParser.prototype._isObjectContainer = function (object) {
            return !wd.GeometryUtils.hasData(object.verticeIndices);
        };
        WDObjectParser.prototype._parseFromIndices = function (object) {
            this._duplicateVertexWithDifferentUvs(object);
            this._parseObjectFromIndices(object);
            this._removeRebundantIndiceData(object);
        };
        WDObjectParser.prototype._duplicateVertexWithDifferentUvs = function (object) {
            var arr = [], container = wdCb.Hash.create(), verticeIndices = object.verticeIndices, uvIndices = object.uvIndices;
            if (!wd.GeometryUtils.hasData(uvIndices)) {
                return;
            }
            for (var i = 0, len = verticeIndices.length; i < len; i++) {
                var verticeIndex = verticeIndices[i];
                if (this._isSameVertexWithDifferentUvsByCompareToFirstOne(arr, uvIndices[i], verticeIndex)) {
                    if (this._isUvIndiceEqualTheOneOfAddedVertex(container, verticeIndex, uvIndices[i])) {
                        verticeIndices[i] = this._getVerticeIndexOfAddedVertexByFindContainer(container, verticeIndex, uvIndices[i]);
                    }
                    else {
                        this._addVertexData(object, container, verticeIndex, i);
                    }
                    verticeIndex = verticeIndices[i];
                }
                arr[verticeIndex] = uvIndices[i];
            }
        };
        WDObjectParser.prototype._isSameVertexWithDifferentUvsByCompareToFirstOne = function (arr, uvIndex, verticeIndex) {
            return arr[verticeIndex] !== void 0 && arr[verticeIndex] !== uvIndex;
        };
        WDObjectParser.prototype._addVertexData = function (object, container, verticeIndex, index) {
            var verticeIndices = object.verticeIndices, uvIndices = object.uvIndices, normalIndices = object.normalIndices, vertices = this._findData(object, "vertices"), normals = this._findData(object, "normals"), morphTargets = this._findData(object, "morphTargets"), verticeIndexOfAddedVertex = null;
            this._addThreeComponent(vertices, verticeIndex);
            verticeIndexOfAddedVertex = this._getVerticeIndexOfAddedVertex(vertices);
            verticeIndices[index] = verticeIndexOfAddedVertex;
            if (wd.GeometryUtils.hasData(morphTargets)) {
                for (var _i = 0, morphTargets_1 = morphTargets; _i < morphTargets_1.length; _i++) {
                    var frame = morphTargets_1[_i];
                    this._addThreeComponent(frame.vertices, verticeIndex);
                    if (wd.GeometryUtils.hasData(frame.normals)) {
                        this._addDuplicateNormalOfAddedVertex(frame.normals, normalIndices, index, verticeIndex);
                    }
                }
            }
            if (wd.GeometryUtils.hasData(normals)) {
                this._addDuplicateNormalOfAddedVertex(normals, normalIndices, index, verticeIndex);
                if (wd.GeometryUtils.hasData(normalIndices)) {
                    normalIndices[index] = verticeIndexOfAddedVertex;
                }
            }
            container.appendChild(String(verticeIndex), [uvIndices[index], verticeIndexOfAddedVertex]);
        };
        WDObjectParser.prototype._addDuplicateNormalOfAddedVertex = function (normals, normalIndices, index, oldVerticeIndex) {
            if (!wd.GeometryUtils.hasData(normalIndices)) {
                this._addThreeComponent(normals, normals, oldVerticeIndex);
                return;
            }
            this._addThreeComponent(normals, normals, normalIndices[index]);
        };
        WDObjectParser.prototype._isUvIndiceEqualTheOneOfAddedVertex = function (container, targetVerticeIndex, targetUvIndex) {
            var data = container.getChild(String(targetVerticeIndex));
            if (!data) {
                return false;
            }
            return data.hasChild(function (_a) {
                var uvIndex = _a[0], verticeIndex = _a[1];
                return uvIndex === targetUvIndex;
            });
        };
        WDObjectParser.prototype._getVerticeIndexOfAddedVertexByFindContainer = function (container, targetVerticeIndex, targetUvIndex) {
            var data = container.getChild(String(targetVerticeIndex));
            return data.findOne(function (_a) {
                var uvIndex = _a[0], verticeIndex = _a[1];
                return uvIndex === targetUvIndex;
            })[1];
        };
        WDObjectParser.prototype._getVerticeIndexOfAddedVertex = function (vertices) {
            return vertices.length / 3 - 1;
        };
        WDObjectParser.prototype._addThreeComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 2) {
                var data = args[0], index = args[1];
                data.push(data[index * 3], data[index * 3 + 1], data[index * 3 + 2]);
            }
            else {
                var targetData = args[0], sourceData = args[1], index = args[2];
                targetData.push(sourceData[index * 3], sourceData[index * 3 + 1], sourceData[index * 3 + 2]);
            }
        };
        WDObjectParser.prototype._parseObjectFromIndices = function (object) {
            var vertices = [], uvs = [], faces = [], face = null, colors = [], objectVertices = this._findData(object, "vertices"), objectUVs = this._findData(object, "uvs"), objectNormals = this._findData(object, "normals"), objectColors = this._findData(object, "colors");
            for (var i = 0, len = object.verticeIndices.length; i < len; i += 3) {
                var aIndex = object.verticeIndices[i], bIndex = object.verticeIndices[i + 1], cIndex = object.verticeIndices[i + 2], indexArr = [i, i + 1, i + 2], verticeIndiceArr = [aIndex, bIndex, cIndex];
                face = wd.Face3.create(aIndex, bIndex, cIndex);
                if (wd.GeometryUtils.hasData(object.uvIndices) && wd.GeometryUtils.hasData(objectUVs)) {
                    this._setUV(uvs, objectUVs, object.uvIndices, indexArr, verticeIndiceArr);
                }
                if (wd.GeometryUtils.hasData(objectNormals)) {
                    this._setNormal(face.vertexNormals, objectNormals, object.normalIndices, indexArr, verticeIndiceArr);
                }
                faces.push(face);
            }
            object.vertices = objectVertices;
            if (!wd.GeometryUtils.hasData(object.uvIndices)) {
                object.uvs = objectUVs;
            }
            else {
                object.uvs = uvs;
            }
            object.colors = objectColors;
            object.faces = faces;
            this._setMorphTargets(object, object.verticeIndices, object.normalIndices);
        };
        WDObjectParser.prototype._getAnimName = function (frameName) {
            var PATTERN = /([a-z]+)_?(\d+)/, DEFAULT_ANIM_NAME = "default";
            var parts = frameName.match(PATTERN);
            return parts && parts.length > 1 ? parts[1] : DEFAULT_ANIM_NAME;
        };
        WDObjectParser.prototype._removeRebundantIndiceData = function (object) {
            delete object.verticeIndices;
            delete object.uvIndices;
            delete object.normalIndices;
        };
        WDObjectParser.prototype._removeObjectContainerData = function (object) {
            var remove = null;
            remove = function (object) {
                if (object.isContainer) {
                    delete object.vertices;
                    delete object.uvs;
                    delete object.colors;
                }
                if (object.children) {
                    object.children.forEach(function (child) {
                        remove(child);
                    });
                }
            };
            remove(object);
        };
        WDObjectParser.prototype._findData = function (object, dataName) {
            var data = null;
            do {
                data = object[dataName];
            } while (!data && (object = object.parent) !== null);
            return data;
        };
        WDObjectParser.prototype._setUV = function (targetUVs, sourceUVs, uvIndices, indexArr, verticeIndiceArr) {
            var uvIndice1 = null, uvIndice2 = null, uvIndice3 = null, index1 = indexArr[0], index2 = indexArr[1], index3 = indexArr[2], aIndex = verticeIndiceArr[0], bIndex = verticeIndiceArr[1], cIndex = verticeIndiceArr[2];
            uvIndice1 = uvIndices[index1];
            uvIndice2 = uvIndices[index2];
            uvIndice3 = uvIndices[index3];
            this._setTwoComponentData(targetUVs, sourceUVs, aIndex, uvIndice1);
            this._setTwoComponentData(targetUVs, sourceUVs, bIndex, uvIndice2);
            this._setTwoComponentData(targetUVs, sourceUVs, cIndex, uvIndice3);
        };
        WDObjectParser.prototype._setTwoComponentData = function (targetData, sourceData, index, indice) {
            targetData[index * 2] = sourceData[indice * 2];
            targetData[index * 2 + 1] = sourceData[indice * 2 + 1];
        };
        WDObjectParser.prototype._setThreeComponentData = function (targetData, sourceData, index, indice) {
            targetData[index * 3] = sourceData[indice * 3];
            targetData[index * 3 + 1] = sourceData[indice * 3 + 1];
            targetData[index * 3 + 2] = sourceData[indice * 3 + 2];
        };
        WDObjectParser.prototype._getThreeComponentData = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        WDObjectParser.prototype._setNormal = function (targetNormals, sourceNormals, normalIndices, indexArr, verticeIndiceArr) {
            var index1 = indexArr[0], index2 = indexArr[1], index3 = indexArr[2];
            if (!wd.GeometryUtils.hasData(normalIndices)) {
                this._addNormalData(targetNormals, sourceNormals, verticeIndiceArr);
                return;
            }
            this._addNormalData(targetNormals, sourceNormals, [normalIndices[index1], normalIndices[index2], normalIndices[index3]]);
        };
        WDObjectParser.prototype._addNormalData = function (targetNormals, sourceNormals, normalIndiceArr) {
            var aIndex = normalIndiceArr[0], bIndex = normalIndiceArr[1], cIndex = normalIndiceArr[2];
            if (targetNormals instanceof wdCb.Collection) {
                targetNormals.addChildren([
                    this._getThreeComponentData(sourceNormals, aIndex),
                    this._getThreeComponentData(sourceNormals, bIndex),
                    this._getThreeComponentData(sourceNormals, cIndex)
                ]);
            }
            else {
                var normals = targetNormals;
                for (var _i = 0, _a = [this._getThreeComponentData(sourceNormals, aIndex), this._getThreeComponentData(sourceNormals, bIndex), this._getThreeComponentData(sourceNormals, cIndex)]; _i < _a.length; _i++) {
                    var v = _a[_i];
                    normals.push(v.x, v.y, v.z);
                }
            }
        };
        WDObjectParser.prototype._setMorphTargets = function (object, verticeIndices, normalIndices) {
            var objectMorphTargets = this._findData(object, "morphTargets"), morphTargets = null, morphNormals = null;
            if (wd.GeometryUtils.hasData(objectMorphTargets)) {
                morphTargets = wdCb.Hash.create();
                morphNormals = wdCb.Hash.create();
                for (var _i = 0, objectMorphTargets_1 = objectMorphTargets; _i < objectMorphTargets_1.length; _i++) {
                    var frameData = objectMorphTargets_1[_i];
                    var animName = this._getAnimName(frameData.name);
                    morphTargets.appendChild(animName, frameData.vertices);
                    if (wd.GeometryUtils.hasData(frameData.normals)) {
                        if (wd.GeometryUtils.hasData(normalIndices)) {
                            var normals = [];
                            for (var i = 0, len = verticeIndices.length; i < len; i++) {
                                this._setThreeComponentData(normals, frameData.normals, verticeIndices[i], normalIndices[i]);
                            }
                            morphNormals.appendChild(animName, normals);
                        }
                        else {
                            morphNormals.appendChild(animName, frameData.normals);
                        }
                    }
                }
            }
            object.morphTargets = morphTargets;
            object.morphNormals = morphNormals;
        };
        __decorate([
            wd.require(function (container, targetVerticeIndex, targetUvIndex) {
                wd.assert(this._isUvIndiceEqualTheOneOfAddedVertex(container, targetVerticeIndex, targetUvIndex), wd.Log.info.FUNC_SHOULD("uvIndex", "equal the one of added vertex"));
            })
        ], WDObjectParser.prototype, "_getVerticeIndexOfAddedVertexByFindContainer", null);
        __decorate([
            wd.ensure(function (returnValue, object) {
                wd.assert(!object.verticeIndices, wd.Log.info.FUNC_SHOULD("object.verticeIndices", "be removed"));
                wd.assert(!object.uvIndices, wd.Log.info.FUNC_SHOULD("object.uvIndices", "be removed"));
                wd.assert(!object.normalIndices, wd.Log.info.FUNC_SHOULD("object.normalIndices", "be removed"));
            })
        ], WDObjectParser.prototype, "_removeRebundantIndiceData", null);
        return WDObjectParser;
    }());
    wd.WDObjectParser = WDObjectParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDBuilder = (function () {
        function WDBuilder() {
            this._result = wdCb.Hash.create();
        }
        WDBuilder.create = function () {
            var obj = new this();
            return obj;
        };
        WDBuilder.prototype.build = function (parseData) {
            this._buildMetadata(parseData);
            this._buildScene(parseData);
            this._buildModels(parseData);
            return this._result;
        };
        WDBuilder.prototype._buildMetadata = function (parseData) {
            var metadata = wdCb.Hash.create();
            for (var i in parseData.metadata) {
                if (parseData.metadata.hasOwnProperty(i)) {
                    metadata.addChild(i, parseData.metadata[i]);
                }
            }
            this._result.addChild("metadata", metadata);
        };
        WDBuilder.prototype._buildScene = function (parseData) {
            var scene = wdCb.Hash.create();
            if (parseData.scene.ambientColor) {
                scene.addChild("ambientColor", parseData.scene.ambientColor);
            }
            this._result.addChild("scene", scene);
        };
        WDBuilder.prototype._buildModels = function (parseData) {
            var models = wdCb.Collection.create(), self = this, build = null;
            build = function (objects, models) {
                objects.forEach(function (object) {
                    var geometry = null, model = null;
                    model = wd.GameObject.create();
                    if (self._isModelContainer(object)) {
                        model.addTag(wd.EWDTag.CONTAINER);
                    }
                    else {
                        geometry = wd.ModelGeometry.create();
                        geometry.vertices = object.vertices;
                        geometry.faces = object.faces;
                        geometry.texCoords = object.uvs;
                        geometry.colors = object.colors;
                        if (object.material) {
                            geometry.material = self._buildMaterial(object.material, parseData.materials);
                        }
                        geometry.morphTargets = object.morphTargets;
                        geometry.morphFaceNormals = object.morphNormals;
                        geometry.morphVertexNormals = object.morphNormals;
                        if (wd.GeometryUtils.hasData(geometry.morphTargets)) {
                            model.addComponent(wd.MorphAnimation.create());
                        }
                        model.addComponent(geometry);
                    }
                    model.name = object.name;
                    model.addComponent(wd.MeshRenderer.create());
                    models.addChild(model);
                    if (object.children) {
                        build(object.children, model);
                    }
                });
            };
            build(parseData.objects, models);
            this._result.addChild("models", models);
        };
        WDBuilder.prototype._isModelContainer = function (object) {
            return object.isContainer;
        };
        WDBuilder.prototype._buildMaterial = function (materialName, materials) {
            var DEFAULTYPE = "LightMaterial";
            var materialData = null, type = null, material = null;
            _a = materials.findOne(function (material, name) {
                return name === materialName;
            }), materialData = _a[1];
            type = materialData.type || DEFAULTYPE;
            wdCb.Log.error(!wd[type], wdCb.Log.info.FUNC_NOT_EXIST("materialClass:" + type));
            material = wd[type].create();
            material.name = materialName;
            if (materialData.diffuseColor) {
                material.color = materialData.diffuseColor;
            }
            if (materialData.specularColor) {
                material.specularColor = materialData.specularColor;
            }
            if (materialData.diffuseMap) {
                material.diffuseMap = materialData.diffuseMap;
            }
            if (materialData.specularMap) {
                material.specularMap = materialData.specularMap;
            }
            if (materialData.normalMap) {
                material.normalMap = materialData.normalMap;
            }
            if (materialData.shininess !== null) {
                material.shininess = materialData.shininess;
            }
            if (materialData.opacity !== null) {
                material.opacity = materialData.opacity;
            }
            return material;
            var _a;
        };
        return WDBuilder;
    }());
    wd.WDBuilder = WDBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TYPE = {
        ".eot": "embedded-opentype",
        ".ttf": "truetype",
        ".woff": "woff",
        ".svg": "svg"
    };
    var FontLoader = (function (_super) {
        __extends(FontLoader, _super);
        function FontLoader() {
            _super.apply(this, arguments);
            this._familyName = null;
        }
        FontLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        FontLoader.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            wdCb.DomQuery.create("#" + this._familyName).remove();
        };
        FontLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var familyName = args[1], self = this;
            this._familyName = familyName;
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                self._addStyleElement(args, familyName);
                if (document.fonts) {
                    document.fonts.load("1em " + familyName).then(function () {
                        resolve();
                    }, function (e) {
                        reject(e);
                    });
                }
                else {
                    wd.Log.warn("your browser not support document.fonts api, so it can't ensure that the font is loaded");
                    resolve();
                }
            }));
        };
        FontLoader.prototype._getType = function (url) {
            return TYPE[wdCb.PathUtils.extname(url).toLowerCase()];
        };
        FontLoader.prototype._addStyleElement = function (args, familyName) {
            var fontStyleEle = wdCb.DomQuery.create("<style id=\"" + familyName + "\"></style>"), fontStr = null;
            fontStyleEle.prependTo("body");
            fontStr = "@font-face { font-family:" + familyName + "; src:";
            if (wd.JudgeUtils.isArray(args[0])) {
                var urlArr = args[0];
                for (var _i = 0, urlArr_1 = urlArr; _i < urlArr_1.length; _i++) {
                    var url = urlArr_1[_i];
                    fontStr += "url('" + url + "') format('" + this._getType(url) + "'),";
                }
                fontStr = fontStr.replace(/,$/, ";");
            }
            else {
                var url = args[0];
                fontStr += "url('" + url + "') format('" + this._getType(url) + "');";
            }
            fontStyleEle.get(0).textContent += fontStr + "};";
        };
        FontLoader._instance = null;
        __decorate([
            wd.require(function (url) {
                var extname = wdCb.PathUtils.extname(url).toLowerCase();
                wd.assert(!!TYPE[extname], wd.Log.info.FUNC_UNKNOW("type:" + extname));
            })
        ], FontLoader.prototype, "_getType", null);
        return FontLoader;
    }(wd.Loader));
    wd.FontLoader = FontLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var COMMON_EXP = /common [^\n]*(\n|$)/gi, PAGE_EXP = /page [^\n]*(\n|$)/gi, CHAR_EXP = /char [^\n]*(\n|$)/gi, ITEM_EXP = /\w+=[^ \r\n]+/gi, INT_EXP = /^[\-]?\d+$/;
    var FntParser = (function () {
        function FntParser() {
        }
        FntParser.create = function () {
            var obj = new this();
            return obj;
        };
        FntParser.prototype.parseFnt = function (fntStr, url) {
            var fnt = {}, commonObj = null, pageObj = null;
            commonObj = this._parseStrToObj(fntStr.match(COMMON_EXP)[0]);
            fnt.commonHeight = commonObj["lineHeight"];
            if (commonObj["pages"] !== 1) {
                wd.Log.log("only supports 1 page");
            }
            pageObj = this._parseStrToObj(fntStr.match(PAGE_EXP)[0]);
            if (pageObj["id"] !== 0) {
                wd.Log.log("file could not be found");
            }
            fnt.atlasName = wdCb.PathUtils.changeBasename(url, pageObj["file"]);
            this._parseChar(fntStr, fnt);
            return fnt;
        };
        FntParser.prototype._parseStrToObj = function (str) {
            var arr = str.match(ITEM_EXP), obj = {};
            if (arr) {
                for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
                    var tempStr = arr_1[_i];
                    var index = tempStr.indexOf("="), key = tempStr.substring(0, index), value = tempStr.substring(index + 1);
                    if (value.match(INT_EXP)) {
                        value = parseInt(value);
                    }
                    else if (value[0] == '"') {
                        value = value.substring(1, value.length - 1);
                    }
                    obj[key] = value;
                }
            }
            return obj;
        };
        FntParser.prototype._parseChar = function (fntStr, fnt) {
            var charLines = fntStr.match(CHAR_EXP), fontDefDictionary = {};
            for (var _i = 0, charLines_1 = charLines; _i < charLines_1.length; _i++) {
                var char = charLines_1[_i];
                var charObj = this._parseStrToObj(char), charId = charObj["id"];
                fontDefDictionary[charId] = {
                    rect: { x: charObj["x"], y: charObj["y"], width: charObj["width"], height: charObj["height"] },
                    xOffset: charObj["xoffset"],
                    yOffset: charObj["yoffset"],
                    xAdvance: charObj["xadvance"]
                };
            }
            fnt.fontDefDictionary = fontDefDictionary;
        };
        return FntParser;
    }());
    wd.FntParser = FntParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FntLoader = (function (_super) {
        __extends(FntLoader, _super);
        function FntLoader() {
            _super.apply(this, arguments);
            this._parser = wd.FntParser.create();
        }
        FntLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        FntLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this;
            return wd.AjaxLoader.load(url, "text")
                .map(function (fntStr) {
                return self._parser.parseFnt(fntStr, url);
            });
        };
        FntLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArray(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], FntLoader.prototype, "loadAsset", null);
        return FntLoader;
    }(wd.Loader));
    wd.FntLoader = FntLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DeviceManager = (function () {
        function DeviceManager() {
            this.view = null;
            this.gl = null;
            this._scissorTest = null;
            this._depthTest = null;
            this._depthFunc = null;
            this._side = null;
            this.polygonOffset = null;
            this._polygonOffsetMode = null;
            this._depthWrite = null;
            this._blend = null;
            this._writeRed = null;
            this._writeGreen = null;
            this._writeBlue = null;
            this._writeAlpha = null;
            this._blendSrc = null;
            this._blendDst = null;
            this._blendEquation = null;
            this._blendFuncSeparate = null;
            this._blendEquationSeparate = null;
        }
        DeviceManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        Object.defineProperty(DeviceManager.prototype, "scissorTest", {
            get: function () {
                return this._scissorTest;
            },
            set: function (scissorTest) {
                var gl = this.gl;
                if (scissorTest) {
                    gl.enable(gl.SCISSOR_TEST);
                }
                else {
                    gl.disable(gl.SCISSOR_TEST);
                }
                this._scissorTest = scissorTest;
            },
            enumerable: true,
            configurable: true
        });
        DeviceManager.prototype.setScissor = function (x, y, width, height) {
            this.gl.scissor(x, y, width, height);
            if (!this.scissorTest) {
                this.scissorTest = true;
            }
        };
        DeviceManager.prototype.setViewport = function (x, y, width, height) {
            this.gl.viewport(x, y, width, height);
        };
        Object.defineProperty(DeviceManager.prototype, "depthTest", {
            get: function () {
                return this._depthTest;
            },
            set: function (depthTest) {
                var gl = this.gl;
                if (this._depthTest !== depthTest) {
                    if (depthTest) {
                        gl.enable(gl.DEPTH_TEST);
                    }
                    else {
                        gl.disable(gl.DEPTH_TEST);
                    }
                    this._depthTest = depthTest;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "depthFunc", {
            get: function () {
                return this._depthFunc;
            },
            set: function (depthFunc) {
                var gl = this.gl;
                if (this._depthFunc !== depthFunc) {
                    gl.depthFunc(gl[depthFunc]);
                    this._depthFunc = depthFunc;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "side", {
            get: function () {
                return this._side;
            },
            set: function (side) {
                var gl = this.gl;
                if (this._side !== side) {
                    switch (side) {
                        case ESide.NONE:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.FRONT_AND_BACK);
                            break;
                        case ESide.BOTH:
                            gl.disable(gl.CULL_FACE);
                            break;
                        case ESide.FRONT:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.BACK);
                            break;
                        case ESide.BACK:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.FRONT);
                            break;
                        default:
                            wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("side", side));
                            break;
                    }
                    this._side = side;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "polygonOffsetMode", {
            get: function () {
                return this._polygonOffsetMode;
            },
            set: function (polygonOffsetMode) {
                var gl = this.gl;
                if (this._polygonOffsetMode !== polygonOffsetMode) {
                    switch (polygonOffsetMode) {
                        case EPolygonOffsetMode.NONE:
                            gl.polygonOffset(0.0, 0.0);
                            gl.disable(gl.POLYGON_OFFSET_FILL);
                            break;
                        case EPolygonOffsetMode.IN:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            gl.polygonOffset(1.0, 1.0);
                            break;
                        case EPolygonOffsetMode.OUT:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            gl.polygonOffset(-1.0, -1.0);
                            break;
                        case EPolygonOffsetMode.CUSTOM:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            wd.Log.error(!this.polygonOffset, wd.Log.info.FUNC_MUST_DEFINE("polygonOffset"));
                            gl.polygonOffset(this.polygonOffset.x, this.polygonOffset.y);
                            break;
                        default:
                            break;
                    }
                    this._polygonOffsetMode = polygonOffsetMode;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "depthWrite", {
            get: function () {
                return this._depthWrite;
            },
            set: function (depthWrite) {
                if (this._depthWrite !== depthWrite) {
                    this.gl.depthMask(depthWrite);
                    this._depthWrite = depthWrite;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "blend", {
            get: function () {
                return this._blend;
            },
            set: function (blend) {
                var gl = this.gl;
                if (this._blend !== blend) {
                    if (blend) {
                        gl.enable(gl.BLEND);
                    }
                    else {
                        gl.disable(gl.BLEND);
                    }
                    this._blend = blend;
                }
            },
            enumerable: true,
            configurable: true
        });
        DeviceManager.prototype.setBlendFunc = function (blendSrc, blendDst) {
            if ((this._blendSrc !== blendSrc) || (this._blendDst !== blendDst)) {
                this._blend && this.gl.blendFunc(this.gl[blendSrc], this.gl[blendDst]);
                this._blendSrc = blendSrc;
                this._blendDst = blendDst;
            }
        };
        DeviceManager.prototype.setBlendEquation = function (blendEquation) {
            if (this._blendEquation !== blendEquation) {
                this._blend && this.gl.blendEquation(this.gl[blendEquation]);
                this._blendEquation = blendEquation;
            }
        };
        DeviceManager.prototype.setBlendFuncSeparate = function (blendFuncSeparate) {
            var gl = this.gl;
            if (!this._blendFuncSeparate || this._blendFuncSeparate[0] !== blendFuncSeparate[0] || this._blendFuncSeparate[1] !== blendFuncSeparate[1]) {
                this._blend && gl.blendFuncSeparate(gl[blendFuncSeparate[0]], gl[blendFuncSeparate[1]], gl[blendFuncSeparate[2]], gl[blendFuncSeparate[3]]);
                this._blendFuncSeparate = blendFuncSeparate;
            }
        };
        DeviceManager.prototype.setBlendEquationSeparate = function (blendEquationSeparate) {
            var gl = this.gl;
            if (!this._blendEquationSeparate || this._blendEquationSeparate[0] !== blendEquationSeparate[0] || this._blendEquationSeparate[1] !== blendEquationSeparate[1]) {
                this._blend && gl.blendEquationSeparate(gl[blendEquationSeparate[0]], gl[blendEquationSeparate[1]]);
                this._blendEquationSeparate = blendEquationSeparate;
            }
        };
        DeviceManager.prototype.setColorWrite = function (writeRed, writeGreen, writeBlue, writeAlpha) {
            if (this._writeRed !== writeRed
                || this._writeGreen !== writeGreen
                || this._writeBlue !== writeBlue
                || this._writeAlpha !== writeAlpha) {
                this.gl.colorMask(writeRed, writeGreen, writeBlue, writeAlpha);
                this._writeRed = writeRed;
                this._writeGreen = writeGreen;
                this._writeBlue = writeBlue;
                this._writeAlpha = writeAlpha;
            }
        };
        DeviceManager.prototype.clear = function (options) {
            var gl = this.gl, color = options.color;
            gl.clearColor(color.r, color.g, color.b, color.a);
            this.setColorWrite(true, true, true, true);
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);
        };
        DeviceManager.prototype.createGL = function (canvasId) {
            var canvas = null;
            if (canvasId) {
                canvas = wdCb.DomQuery.create(canvasId).get(0);
            }
            else {
                canvas = wdCb.DomQuery.create("<canvas></canvas>").prependTo("body").get(0);
            }
            this.view = wd.ViewWebGL.create(canvas);
            this.gl = this.view.getContext();
        };
        DeviceManager.prototype.setScreen = function () {
            var screenSize = wd.Main.screenSize, x = null, y = null, width = null, height = null;
            if (screenSize === wd.EScreenSize.FULL) {
                x = 0;
                y = 0;
                width = wd.root.innerWidth;
                height = wd.root.innerHeight;
                wdCb.DomQuery.create("body").css("margin", "0");
            }
            else {
                x = screenSize.x || 0;
                y = screenSize.y || 0;
                width = screenSize.width || wd.root.innerWidth;
                height = screenSize.height || wd.root.innerHeight;
            }
            this.view.x = x;
            this.view.y = y;
            this.view.width = width;
            this.view.height = height;
            this.setViewport(0, 0, width, height);
        };
        DeviceManager._instance = null;
        __decorate([
            wd.require(function () {
                wd.assert(wd.Main.screenSize !== null, wd.Log.info.FUNC_NOT_EXIST("Main.screenSize"));
            })
        ], DeviceManager.prototype, "setScreen", null);
        return DeviceManager;
    }());
    wd.DeviceManager = DeviceManager;
    (function (EDepthFunction) {
        EDepthFunction[EDepthFunction["NEVER"] = "NEVER"] = "NEVER";
        EDepthFunction[EDepthFunction["ALWAYS"] = "ALWAYS"] = "ALWAYS";
        EDepthFunction[EDepthFunction["LESS"] = "LESS"] = "LESS";
        EDepthFunction[EDepthFunction["LEQUAL"] = "LEQUAL"] = "LEQUAL";
        EDepthFunction[EDepthFunction["EQUAL"] = "EQUAL"] = "EQUAL";
        EDepthFunction[EDepthFunction["GEQUAL"] = "GEQUAL"] = "GEQUAL";
        EDepthFunction[EDepthFunction["GREATER"] = "GREATER"] = "GREATER";
        EDepthFunction[EDepthFunction["NOTEQUAL"] = "NOTEQUAL"] = "NOTEQUAL";
    })(wd.EDepthFunction || (wd.EDepthFunction = {}));
    var EDepthFunction = wd.EDepthFunction;
    (function (ESide) {
        ESide[ESide["NONE"] = 0] = "NONE";
        ESide[ESide["BOTH"] = 1] = "BOTH";
        ESide[ESide["BACK"] = 2] = "BACK";
        ESide[ESide["FRONT"] = 3] = "FRONT";
    })(wd.ESide || (wd.ESide = {}));
    var ESide = wd.ESide;
    (function (EPolygonOffsetMode) {
        EPolygonOffsetMode[EPolygonOffsetMode["NONE"] = 0] = "NONE";
        EPolygonOffsetMode[EPolygonOffsetMode["IN"] = 1] = "IN";
        EPolygonOffsetMode[EPolygonOffsetMode["OUT"] = 2] = "OUT";
        EPolygonOffsetMode[EPolygonOffsetMode["CUSTOM"] = 3] = "CUSTOM";
    })(wd.EPolygonOffsetMode || (wd.EPolygonOffsetMode = {}));
    var EPolygonOffsetMode = wd.EPolygonOffsetMode;
    (function (EBlendFunc) {
        EBlendFunc[EBlendFunc["ZERO"] = "ZEOR"] = "ZERO";
        EBlendFunc[EBlendFunc["ONE"] = "ONE"] = "ONE";
        EBlendFunc[EBlendFunc["SRC_COLOR"] = "SRC_COLOR"] = "SRC_COLOR";
        EBlendFunc[EBlendFunc["ONE_MINUS_SRC_COLOR"] = "ONE_MINUS_SRC_COLOR"] = "ONE_MINUS_SRC_COLOR";
        EBlendFunc[EBlendFunc["DST_COLOR"] = "DST_COLOR"] = "DST_COLOR";
        EBlendFunc[EBlendFunc["ONE_MINUS_DST_COLOR"] = "ONE_MINUS_DST_COLOR"] = "ONE_MINUS_DST_COLOR";
        EBlendFunc[EBlendFunc["SRC_ALPHA"] = "SRC_ALPHA"] = "SRC_ALPHA";
        EBlendFunc[EBlendFunc["SRC_ALPHA_SATURATE"] = "SRC_ALPHA_SATURATE"] = "SRC_ALPHA_SATURATE";
        EBlendFunc[EBlendFunc["ONE_MINUS_SRC_ALPHA"] = "ONE_MINUS_SRC_ALPHA"] = "ONE_MINUS_SRC_ALPHA";
        EBlendFunc[EBlendFunc["DST_ALPHA"] = "DST_ALPHA"] = "DST_ALPHA";
        EBlendFunc[EBlendFunc["ONE_MINUS_DST_ALPH"] = "ONE_MINUS_DST_ALPHA"] = "ONE_MINUS_DST_ALPH";
    })(wd.EBlendFunc || (wd.EBlendFunc = {}));
    var EBlendFunc = wd.EBlendFunc;
    (function (EBlendEquation) {
        EBlendEquation[EBlendEquation["ADD"] = "FUNC_ADD"] = "ADD";
        EBlendEquation[EBlendEquation["SUBTRACT"] = "FUNC_SUBTRACT"] = "SUBTRACT";
        EBlendEquation[EBlendEquation["REVERSE_SUBTRAC"] = "FUNC_REVERSE_SUBTRACT"] = "REVERSE_SUBTRAC";
    })(wd.EBlendEquation || (wd.EBlendEquation = {}));
    var EBlendEquation = wd.EBlendEquation;
    (function (EBlendType) {
        EBlendType[EBlendType["NONE"] = 0] = "NONE";
        EBlendType[EBlendType["NORMAL"] = 1] = "NORMAL";
        EBlendType[EBlendType["ADDITIVE"] = 2] = "ADDITIVE";
        EBlendType[EBlendType["ADDITIVEALPHA"] = 3] = "ADDITIVEALPHA";
        EBlendType[EBlendType["MULTIPLICATIVE"] = 4] = "MULTIPLICATIVE";
        EBlendType[EBlendType["PREMULTIPLIED"] = 5] = "PREMULTIPLIED";
    })(wd.EBlendType || (wd.EBlendType = {}));
    var EBlendType = wd.EBlendType;
    (function (ECanvasType) {
        ECanvasType[ECanvasType["UI"] = "UI"] = "UI";
    })(wd.ECanvasType || (wd.ECanvasType = {}));
    var ECanvasType = wd.ECanvasType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GPUDetector = (function () {
        function GPUDetector() {
            this.maxTextureUnit = null;
            this.maxTextureSize = null;
            this.maxCubemapTextureSize = null;
            this.maxAnisotropy = null;
            this.extensionCompressedTextureS3TC = null;
            this.extensionTextureFilterAnisotropic = null;
            this.precision = null;
            this._isDetected = false;
        }
        GPUDetector.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        Object.defineProperty(GPUDetector.prototype, "gl", {
            get: function () {
                return wd.DeviceManager.getInstance().gl;
            },
            enumerable: true,
            configurable: true
        });
        GPUDetector.prototype.detect = function () {
            this._isDetected = true;
            this._detectExtension();
            this._detectCapabilty();
        };
        GPUDetector.prototype._detectExtension = function () {
            this.extensionCompressedTextureS3TC = this._getExtension("WEBGL_compressed_texture_s3tc");
            this.extensionTextureFilterAnisotropic = this._getExtension("EXT_texture_filter_anisotropic");
        };
        GPUDetector.prototype._detectCapabilty = function () {
            var gl = this.gl;
            this.maxTextureUnit = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
            this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);
            this.maxCubemapTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
            this.maxAnisotropy = this._getMaxAnisotropy();
            this._detectPrecision();
        };
        GPUDetector.prototype._getExtension = function (name) {
            var extension, gl = this.gl;
            switch (name) {
                case "EXT_texture_filter_anisotropic":
                    extension = gl.getExtension("EXT_texture_filter_anisotropic") || gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                    break;
                case "WEBGL_compressed_texture_s3tc":
                    extension = gl.getExtension("WEBGL_compressed_texture_s3tc") || gl.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                    break;
                case "WEBGL_compressed_texture_pvrtc":
                    extension = gl.getExtension("WEBGL_compressed_texture_pvrtc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                    break;
                default:
                    extension = gl.getExtension(name);
            }
            return extension;
        };
        GPUDetector.prototype._getMaxAnisotropy = function () {
            var extension = this.extensionTextureFilterAnisotropic, gl = this.gl;
            return extension !== null ? gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;
        };
        GPUDetector.prototype._detectPrecision = function () {
            var gl = this.gl, vertexShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT), vertexShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT), fragmentShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT), fragmentShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT), highpAvailable = vertexShaderPrecisionHighpFloat.precision > 0 && fragmentShaderPrecisionHighpFloat.precision > 0, mediumpAvailable = vertexShaderPrecisionMediumpFloat.precision > 0 && fragmentShaderPrecisionMediumpFloat.precision > 0;
            if (!highpAvailable) {
                if (mediumpAvailable) {
                    this.precision = EGPUPrecision.MEDIUMP;
                    wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("gpu", "highp, using mediump"));
                }
                else {
                    this.precision = EGPUPrecision.LOWP;
                    wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("gpu", "highp and mediump, using lowp"));
                }
            }
            else {
                this.precision = EGPUPrecision.HIGHP;
            }
        };
        GPUDetector._instance = null;
        return GPUDetector;
    }());
    wd.GPUDetector = GPUDetector;
    (function (EGPUPrecision) {
        EGPUPrecision[EGPUPrecision["HIGHP"] = 0] = "HIGHP";
        EGPUPrecision[EGPUPrecision["MEDIUMP"] = 1] = "MEDIUMP";
        EGPUPrecision[EGPUPrecision["LOWP"] = 2] = "LOWP";
    })(wd.EGPUPrecision || (wd.EGPUPrecision = {}));
    var EGPUPrecision = wd.EGPUPrecision;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EScreenSize) {
        EScreenSize[EScreenSize["FULL"] = 0] = "FULL";
    })(wd.EScreenSize || (wd.EScreenSize = {}));
    var EScreenSize = wd.EScreenSize;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Point = (function () {
        function Point(x, y) {
            if (x === void 0) { x = null; }
            if (y === void 0) { y = null; }
            this.x = null;
            this.y = null;
            this.x = x;
            this.y = y;
        }
        Point.create = function (x, y) {
            if (x === void 0) { x = null; }
            if (y === void 0) { y = null; }
            var obj = new this(x, y);
            return obj;
        };
        return Point;
    }());
    wd.Point = Point;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Face3 = (function () {
        function Face3(aIndex, bIndex, cIndex, faceNormal, vertexNormals) {
            this._faceNormal = null;
            this.aIndex = null;
            this.bIndex = null;
            this.cIndex = null;
            this.vertexNormals = null;
            this.aIndex = aIndex;
            this.bIndex = bIndex;
            this.cIndex = cIndex;
            this._faceNormal = faceNormal;
            this.vertexNormals = vertexNormals;
        }
        Face3.create = function (aIndex, bIndex, cIndex, faceNormal, vertexNormals) {
            if (faceNormal === void 0) { faceNormal = null; }
            if (vertexNormals === void 0) { vertexNormals = wdCb.Collection.create(); }
            var obj = new this(aIndex, bIndex, cIndex, faceNormal, vertexNormals);
            return obj;
        };
        Object.defineProperty(Face3.prototype, "faceNormal", {
            get: function () {
                return this._faceNormal !== null ? this._faceNormal : wd.Vector3.create(0, 0, 0);
            },
            set: function (faceNormal) {
                this._faceNormal = faceNormal;
            },
            enumerable: true,
            configurable: true
        });
        Face3.prototype.hasFaceNormal = function () {
            return this._faceNormal !== null;
        };
        Face3.prototype.hasVertexNormal = function () {
            return this.vertexNormals.getCount() > 0;
        };
        Face3.prototype.copy = function () {
            var copyFaceNormal = this._faceNormal ? this._faceNormal.copy() : null, copyVertexNormals = null;
            if (this.vertexNormals) {
                copyVertexNormals = wdCb.Collection.create();
                this.vertexNormals.forEach(function (vertexNormal) {
                    copyVertexNormals.addChild(vertexNormal.copy());
                });
            }
            return Face3.create(this.aIndex, this.bIndex, this.cIndex, copyFaceNormal, copyVertexNormals);
        };
        return Face3;
    }());
    wd.Face3 = Face3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectRegion = (function (_super) {
        __extends(RectRegion, _super);
        function RectRegion() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(RectRegion.prototype, "width", {
            get: function () {
                return this.z;
            },
            set: function (width) {
                this.z = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectRegion.prototype, "height", {
            get: function () {
                return this.w;
            },
            set: function (height) {
                this.w = height;
            },
            enumerable: true,
            configurable: true
        });
        RectRegion.prototype.copy = function () {
            return this.copyHelper(RectRegion.create());
        };
        RectRegion.prototype.isNotEmpty = function () {
            return this.x !== 0
                || this.y !== 0
                || this.width !== 0
                || this.height !== 0;
        };
        return RectRegion;
    }(wd.Vector4));
    wd.RectRegion = RectRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ViewWebGL = (function () {
        function ViewWebGL(dom) {
            this._dom = null;
            this._dom = dom;
        }
        ViewWebGL.create = function (view) {
            var obj = new this(view);
            return obj;
        };
        Object.defineProperty(ViewWebGL.prototype, "offset", {
            get: function () {
                var view = this._dom, offset = { x: view.offsetLeft, y: view.offsetTop };
                while (view = view.offsetParent) {
                    offset.x += view.offsetLeft;
                    offset.y += view.offsetTop;
                }
                return offset;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "dom", {
            get: function () {
                return this._dom;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "width", {
            get: function () {
                return this._dom.width;
            },
            set: function (width) {
                this._dom.width = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "height", {
            get: function () {
                return this._dom.height;
            },
            set: function (height) {
                this._dom.height = height;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "x", {
            get: function () {
                return Number(this._dom.style.left.slice(0, -2));
            },
            set: function (x) {
                this._dom.style.position = "absolute";
                this._dom.style.left = x + "px";
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "y", {
            get: function () {
                return Number(this._dom.style.top.slice(0, -2));
            },
            set: function (y) {
                this._dom.style.position = "absolute";
                this._dom.style.top = y + "px";
            },
            enumerable: true,
            configurable: true
        });
        ViewWebGL.prototype.getContext = function () {
            return this._dom.getContext("webgl") || this._dom.getContext("experimental-webgl");
        };
        return ViewWebGL;
    }());
    wd.ViewWebGL = ViewWebGL;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Color = (function () {
        function Color() {
            this.r = null;
            this.g = null;
            this.b = null;
            this.a = null;
            this._colorString = null;
        }
        Color.create = function (colorVal) {
            var obj = new this();
            obj.initWhenCreate(colorVal);
            return obj;
        };
        Color.prototype.initWhenCreate = function (colorVal) {
            if (!colorVal) {
                return;
            }
            this._colorString = colorVal;
            this._setColor(colorVal);
        };
        Color.prototype.toVector3 = function () {
            return wd.Vector3.create(this.r, this.g, this.b);
        };
        Color.prototype.toVector4 = function () {
            return wd.Vector4.create(this.r, this.g, this.b, this.a);
        };
        Color.prototype.toString = function () {
            return this._colorString;
        };
        Color.prototype._setColor = function (colorVal) {
            var REGEX_RGBA = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*([^\)]+)\)$/i, REGEX_RGB = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/i, REGEX_RGB_2 = /^rgb\((\d+\.\d+),\s*(\d+\.\d+),\s*(\d+\.\d+)\)$/i, REGEX_NUM = /^\#([0-9a-f]{6})$/i;
            var color = null;
            if (REGEX_RGBA.test(colorVal)) {
                color = REGEX_RGBA.exec(colorVal);
                this.r = this._getColorValue(color, 1);
                this.g = this._getColorValue(color, 2);
                this.b = this._getColorValue(color, 3);
                this.a = Number(color[4]);
                return this;
            }
            if (REGEX_RGB.test(colorVal)) {
                color = REGEX_RGB.exec(colorVal);
                this.r = this._getColorValue(color, 1);
                this.g = this._getColorValue(color, 2);
                this.b = this._getColorValue(color, 3);
                this.a = 1;
                return this;
            }
            if (REGEX_RGB_2.test(colorVal)) {
                color = REGEX_RGB_2.exec(colorVal);
                this.r = parseFloat(color[1]);
                this.g = parseFloat(color[2]);
                this.b = parseFloat(color[3]);
                this.a = 1;
                return this;
            }
            if (REGEX_NUM.test(colorVal)) {
                color = REGEX_NUM.exec(colorVal);
                this._setHex(parseInt(color[1], 16));
                return this;
            }
        };
        Color.prototype._getColorValue = function (color, index, num) {
            if (num === void 0) { num = 255; }
            return Math.min(num, parseInt(color[index], 10)) / num;
        };
        Color.prototype._setHex = function (hex) {
            hex = Math.floor(hex);
            this.r = (hex >> 16 & 255) / 255;
            this.g = (hex >> 8 & 255) / 255;
            this.b = (hex & 255) / 255;
            this.a = 1;
            return this;
        };
        return Color;
    }());
    wd.Color = Color;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Texture = (function () {
        function Texture() {
            this.material = null;
            this.width = null;
            this.height = null;
            this.variableData = null;
            this.wrapS = null;
            this.wrapT = null;
            this.magFilter = null;
            this.minFilter = null;
            this.glTexture = null;
            this.target = wd.ETextureTarget.TEXTURE_2D;
        }
        Object.defineProperty(Texture.prototype, "geometry", {
            get: function () {
                return this.material.geometry;
            },
            enumerable: true,
            configurable: true
        });
        Texture.prototype.bindToUnit = function (unit) {
            var gl = wd.DeviceManager.getInstance().gl, maxUnit = wd.GPUDetector.getInstance().maxTextureUnit;
            if (unit >= maxUnit) {
                wd.Log.warn("trying to use " + unit + " texture units, but GPU only supports " + maxUnit + " units");
            }
            gl.activeTexture(gl["TEXTURE" + String(unit)]);
            gl.bindTexture(gl[this.target], this.glTexture);
            return this;
        };
        Texture.prototype.sendData = function (program, pos, unit) {
            program.sendUniformData(pos, this.getSamplerType(), unit);
            this.sendOtherData(program, unit);
        };
        Texture.prototype.dispose = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteTexture(this.glTexture);
            delete this.glTexture;
        };
        Texture.prototype.filterFallback = function (filter) {
            if (filter === wd.ETextureFilterMode.NEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR) {
                return wd.ETextureFilterMode.NEAREST;
            }
            return wd.ETextureFilterMode.LINEAR;
        };
        Texture.prototype.sendOtherData = function (program, unit) {
        };
        Texture.prototype.getSamplerNameByVariableData = function (unit, type) {
            var samplerName = null;
            if (this.variableData) {
                if (this.variableData.samplerVariableName) {
                    samplerName = this.variableData.samplerVariableName;
                }
            }
            else {
                samplerName = type === wd.EVariableType.SAMPLER_2D ? "u_sampler2D" + unit : "u_samplerCube" + unit;
            }
            return samplerName;
        };
        Texture.prototype.getSamplerType = function () {
            var type = null;
            switch (this.target) {
                case wd.ETextureTarget.TEXTURE_2D:
                    type = wd.EVariableType.SAMPLER_2D;
                    break;
                case wd.ETextureTarget.TEXTURE_CUBE_MAP:
                    type = wd.EVariableType.SAMPLER_CUBE;
                    break;
                default:
                    break;
            }
            return type;
        };
        Texture.prototype.isSourcePowerOfTwo = function () {
            return wd.TextureUtils.isPowerOfTwo(this.width, this.height);
        };
        Texture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            var gl = wd.DeviceManager.getInstance().gl;
            if (isSourcePowerOfTwo) {
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_S, gl[this.wrapS]);
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_T, gl[this.wrapT]);
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl[this.magFilter]);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl[this.minFilter]);
            }
            else {
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl[this.filterFallback(this.magFilter)]);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl[this.filterFallback(this.minFilter)]);
            }
        };
        __decorate([
            wd.virtual
        ], Texture.prototype, "sendOtherData", null);
        __decorate([
            wd.virtual
        ], Texture.prototype, "isSourcePowerOfTwo", null);
        return Texture;
    }());
    wd.Texture = Texture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureUtils = (function () {
        function TextureUtils() {
        }
        TextureUtils.isPowerOfTwo = function (width, height) {
            return wd.JudgeUtils.isPowerOfTwo(width) && wd.JudgeUtils.isPowerOfTwo(height);
        };
        return TextureUtils;
    }());
    wd.TextureUtils = TextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd_2) {
    var BasicTextureUtils = (function (_super) {
        __extends(BasicTextureUtils, _super);
        function BasicTextureUtils() {
            _super.apply(this, arguments);
        }
        BasicTextureUtils.isDrawPartOfTexture = function (sourceRegion, sourceRegionMethod) {
            return sourceRegion && sourceRegion.isNotEmpty() && sourceRegionMethod === wd_2.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
        };
        BasicTextureUtils.drawPartOfTextureByCanvas = function (source, canvasWidth, canvasHeight, sx, sy, sWidth, sHeight, dx, wd, dWidth, dHeight) {
            var canvas = wdCb.DomQuery.create("<canvas></canvas>").get(0), ctx = null;
            canvas.width = canvasWidth;
            canvas.height = canvasHeight;
            ctx = canvas.getContext("2d");
            ctx.drawImage(source, sx, sy, sWidth, sHeight, dx, wd, dWidth, dHeight);
            return canvas;
        };
        BasicTextureUtils.isSourcePowerOfTwo = function (sourceRegion, sourceRegionMethod, width, height) {
            if (this.isDrawPartOfTexture(sourceRegion, sourceRegionMethod)) {
                return this.isPowerOfTwo(sourceRegion.width, sourceRegion.height);
            }
            return this.isPowerOfTwo(width, height);
        };
        BasicTextureUtils.needClampMaxSize = function (maxSize, width, height) {
            return width > maxSize || height > maxSize;
        };
        BasicTextureUtils.clampToMaxSize = function (source, maxSize) {
            var maxDimension = null, newWidth = null, newHeight = null, canvas = null;
            maxDimension = Math.max(source.width, source.height);
            newWidth = Math.floor(source.width * maxSize / maxDimension);
            newHeight = Math.floor(source.height * maxSize / maxDimension);
            canvas = this.drawPartOfTextureByCanvas(source, newWidth, newHeight, 0, 0, source.width, source.height, 0, 0, newWidth, newHeight);
            wd_2.Log.log("source is too big (width:" + source.width + ", height:" + source.height + "), resize it to be width:" + canvas.width + ", height:" + canvas.height + ".");
            return canvas;
        };
        return BasicTextureUtils;
    }(wd_2.TextureUtils));
    wd_2.BasicTextureUtils = BasicTextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RenderTargetTexture = (function (_super) {
        __extends(RenderTargetTexture, _super);
        function RenderTargetTexture() {
            _super.apply(this, arguments);
        }
        RenderTargetTexture.prototype.init = function () {
            this.minFilter = wd.ETextureFilterMode.LINEAR;
            this.magFilter = wd.ETextureFilterMode.LINEAR;
            this.wrapS = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.wrapT = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            return this;
        };
        RenderTargetTexture.prototype.getPosition = function () {
            return this.geometry.entityObject.transform.position;
        };
        RenderTargetTexture.prototype.setEmptyTexture = function (texture) {
            var gl = wd.DeviceManager.getInstance().gl;
            wd.Log.error(!texture, "Failed to create texture object");
            gl.bindTexture(gl[this.target], texture);
            this.setTextureParameters(gl[this.target], this.isSourcePowerOfTwo());
        };
        return RenderTargetTexture;
    }(wd.Texture));
    wd.RenderTargetTexture = RenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDRenderTargetTexture = (function (_super) {
        __extends(TwoDRenderTargetTexture, _super);
        function TwoDRenderTargetTexture() {
            _super.apply(this, arguments);
            this._renderList = null;
            this.width = 256;
            this.height = 256;
        }
        Object.defineProperty(TwoDRenderTargetTexture.prototype, "renderList", {
            get: function () {
                return this._renderList;
            },
            set: function (renderList) {
                if (wd.JudgeUtils.isArray(renderList)) {
                    this._renderList = wdCb.Collection.create(renderList);
                }
                else if (renderList instanceof wdCb.Collection) {
                    this._renderList = renderList;
                }
                else {
                    wd.Log.error(true, wd.Log.info.FUNC_MUST_BE("renderList", "array or wdCb.Collection"));
                }
            },
            enumerable: true,
            configurable: true
        });
        TwoDRenderTargetTexture.prototype.createEmptyTexture = function () {
            var gl = wd.DeviceManager.getInstance().gl, texture = gl.createTexture();
            this.setEmptyTexture(texture);
            gl.texImage2D(gl[this.target], 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
            this.glTexture = texture;
        };
        return TwoDRenderTargetTexture;
    }(wd.RenderTargetTexture));
    wd.TwoDRenderTargetTexture = TwoDRenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapTextureUtils = (function () {
        function ShadowMapTextureUtils() {
        }
        ShadowMapTextureUtils.setTextureParameters = function (textureType) {
            var gl = wd.DeviceManager.getInstance().gl, scene = wd.Director.getInstance().scene;
            if (scene.shadowMap.softType === wd.EShadowMapSoftType.PCF) {
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
            }
        };
        return ShadowMapTextureUtils;
    }());
    wd.ShadowMapTextureUtils = ShadowMapTextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorTexture = (function (_super) {
        __extends(MirrorTexture, _super);
        function MirrorTexture() {
            _super.apply(this, arguments);
            this._plane = null;
        }
        MirrorTexture.create = function () {
            var obj = new this();
            return obj;
        };
        MirrorTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addRenderTargetRenderer(wd.MirrorRenderTargetRenderer.create(this));
            return this;
        };
        MirrorTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_2D);
        };
        MirrorTexture.prototype.getPlane = function () {
            var normalData = null, normal = null, p = null;
            if (this._plane && !this.geometry.entityObject.transform.dirtyLocal) {
                return this._plane;
            }
            wd.Log.error(!(this.geometry instanceof wd.PlaneGeometry), wd.Log.info.FUNC_MUST_BE("geometry", "PlaneGeometry"));
            normalData = this.geometry.geometryData.normals;
            normal = this.geometry.entityObject.transform.localRotation.multiplyVector3(wd.Vector3.create(normalData[0], normalData[1], normalData[2])).normalize();
            p = this.getPosition();
            this._plane = wd.Plane.create(normal.x, normal.y, normal.z, -p.dot(normal));
            return this._plane;
        };
        return MirrorTexture;
    }(wd.TwoDRenderTargetTexture));
    wd.MirrorTexture = MirrorTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapTexture = (function (_super) {
        __extends(TwoDShadowMapTexture, _super);
        function TwoDShadowMapTexture() {
            _super.apply(this, arguments);
        }
        TwoDShadowMapTexture.create = function () {
            var obj = new this();
            return obj;
        };
        TwoDShadowMapTexture.prototype.getSamplerName = function (unit) {
            wd.Log.error(!wd.JudgeUtils.isNumber(this.variableData.samplerData), wd.Log.info.FUNC_MUST_BE("shadowMapTexture->variableData.samplerData", "samplerIndex"));
            return "u_twoDShadowMapSampler[" + this.variableData.samplerData + "]";
        };
        TwoDShadowMapTexture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            _super.prototype.setTextureParameters.call(this, textureType, isSourcePowerOfTwo);
            wd.ShadowMapTextureUtils.setTextureParameters(textureType);
        };
        return TwoDShadowMapTexture;
    }(wd.TwoDRenderTargetTexture));
    wd.TwoDShadowMapTexture = TwoDShadowMapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapRenderTargetTexture = (function (_super) {
        __extends(CubemapRenderTargetTexture, _super);
        function CubemapRenderTargetTexture() {
            _super.apply(this, arguments);
            this.target = wd.ETextureTarget.TEXTURE_CUBE_MAP;
        }
        CubemapRenderTargetTexture.prototype.createEmptyTexture = function () {
            var gl = wd.DeviceManager.getInstance().gl, texture = gl.createTexture(), i = null;
            this.setEmptyTexture(texture);
            for (i = 0; i < 6; i++) {
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
            }
            this.glTexture = texture;
        };
        return CubemapRenderTargetTexture;
    }(wd.RenderTargetTexture));
    wd.CubemapRenderTargetTexture = CubemapRenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapTexture = (function (_super) {
        __extends(CubemapShadowMapTexture, _super);
        function CubemapShadowMapTexture() {
            _super.apply(this, arguments);
        }
        CubemapShadowMapTexture.create = function () {
            var obj = new this();
            return obj;
        };
        CubemapShadowMapTexture.prototype.getSamplerName = function (unit) {
            wd.Log.error(!wd.JudgeUtils.isNumber(this.variableData.samplerData), wd.Log.info.FUNC_MUST_BE("shadowMapTexture->variableData.samplerData", "samplerIndex"));
            return "u_cubemapShadowMapSampler[" + this.variableData.samplerData + "]";
        };
        return CubemapShadowMapTexture;
    }(wd.CubemapRenderTargetTexture));
    wd.CubemapShadowMapTexture = CubemapShadowMapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicCubemapTexture = (function (_super) {
        __extends(DynamicCubemapTexture, _super);
        function DynamicCubemapTexture() {
            _super.apply(this, arguments);
            this._renderList = null;
            this.size = 256;
            this.near = 0.1;
            this.far = 100;
            this.mode = null;
        }
        DynamicCubemapTexture.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(DynamicCubemapTexture.prototype, "renderList", {
            get: function () {
                return this._renderList;
            },
            set: function (renderList) {
                if (wd.JudgeUtils.isDirectObject(renderList)) {
                    this._renderList = wdCb.Hash.create(renderList);
                }
                else if (renderList instanceof wdCb.Hash) {
                    this._renderList = renderList;
                }
                else {
                    wd.Log.error(true, wd.Log.info.FUNC_MUST_BE("renderList", "array or wdCb.Collection"));
                }
            },
            enumerable: true,
            configurable: true
        });
        DynamicCubemapTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            this.width = this.size;
            this.height = this.size;
            wd.Director.getInstance().scene.addRenderTargetRenderer(wd.DynamicCubemapRenderTargetRenderer.create(this));
            return this;
        };
        DynamicCubemapTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_CUBE);
        };
        return DynamicCubemapTexture;
    }(wd.CubemapRenderTargetTexture));
    wd.DynamicCubemapTexture = DynamicCubemapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicTexture = (function (_super) {
        __extends(BasicTexture, _super);
        function BasicTexture() {
            _super.apply(this, arguments);
            this.p_sourceRegionMethod = null;
            this.generateMipmaps = null;
            this.format = null;
            this.source = null;
            this.repeatRegion = null;
            this.sourceRegion = null;
            this.sourceRegionMapping = null;
            this.flipY = null;
            this.premultiplyAlpha = null;
            this.unpackAlignment = null;
            this.type = null;
            this.mipmaps = null;
            this.anisotropy = null;
            this.needUpdate = null;
        }
        Object.defineProperty(BasicTexture.prototype, "sourceRegionMethod", {
            get: function () {
                return this.p_sourceRegionMethod;
            },
            set: function (sourceRegionMethod) {
                this.p_sourceRegionMethod = sourceRegionMethod;
            },
            enumerable: true,
            configurable: true
        });
        BasicTexture.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.glTexture = gl.createTexture();
        };
        BasicTexture.prototype.init = function () {
        };
        BasicTexture.prototype.update = function (index) {
            var gl = wd.DeviceManager.getInstance().gl, isSourcePowerOfTwo = this.isSourcePowerOfTwo();
            this.bindToUnit(index);
            gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, this.flipY);
            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
            gl.pixelStorei(gl.UNPACK_ALIGNMENT, this.unpackAlignment);
            if (this.needClampMaxSize()) {
                this.clampToMaxSize();
                isSourcePowerOfTwo = this.isSourcePowerOfTwo();
                if (!isSourcePowerOfTwo) {
                    wd.Log.warn("texture size is not power of two after clampToMaxSize()");
                }
            }
            this.setTextureParameters(gl[this.target], isSourcePowerOfTwo);
            this.allocateSourceToTexture(isSourcePowerOfTwo);
            if (this.generateMipmaps && isSourcePowerOfTwo) {
                gl.generateMipmap(gl[this.target]);
            }
            this.needUpdate = false;
            return this;
        };
        BasicTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_2D);
        };
        BasicTexture.prototype.sendOtherData = function (program, unit) {
            var sourceRegion = null;
            if (this.sourceRegion && this.sourceRegionMethod === wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL) {
                sourceRegion = this._convertSourceRegionToUV();
            }
            else {
                sourceRegion = wd.RectRegion.create(0, 0, 1, 1);
            }
            program.sendUniformData("u_sourceRegion", wd.EVariableType.FLOAT_4, sourceRegion);
            program.sendUniformData("u_repeatRegion", wd.EVariableType.FLOAT_4, this.repeatRegion);
            return this;
        };
        BasicTexture.prototype.needClampMaxSize = function () {
            if (!this.source) {
                return false;
            }
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxTextureSize, this.source.width, this.source.height);
        };
        BasicTexture.prototype.clampToMaxSize = function () {
            this.source = wd.BasicTextureUtils.clampToMaxSize(this.source, wd.GPUDetector.getInstance().maxTextureSize);
        };
        BasicTexture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            _super.prototype.setTextureParameters.call(this, textureType, isSourcePowerOfTwo);
            this._setAnisotropy(textureType);
        };
        BasicTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(this.sourceRegion, this.sourceRegionMethod, this.width, this.height);
        };
        BasicTexture.prototype._setAnisotropy = function (textureType) {
            var gpu = wd.GPUDetector.getInstance(), gl = wd.DeviceManager.getInstance().gl;
            if (!gpu.extensionTextureFilterAnisotropic) {
                return;
            }
            if (this.anisotropy > 1) {
                gl.texParameterf(textureType, gpu.extensionTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(this.anisotropy, gpu.maxAnisotropy));
            }
        };
        BasicTexture.prototype._convertSourceRegionCanvasMapToUV = function (sourceRegion) {
            var width = this.width, height = this.height, region = null;
            region = wd.RectRegion.create(sourceRegion.x / width, sourceRegion.y / height, sourceRegion.width / width, sourceRegion.height / height);
            region.y = 1 - region.y - region.height;
            return region;
        };
        BasicTexture.prototype._convertSourceRegionToUV = function () {
            if (this.sourceRegionMapping === wd.ETextureSourceRegionMapping.CANVAS) {
                return this._convertSourceRegionCanvasMapToUV(this.sourceRegion);
            }
            else if (this.sourceRegionMapping === wd.ETextureSourceRegionMapping.UV) {
                return this.sourceRegion;
            }
        };
        __decorate([
            wd.virtual
        ], BasicTexture.prototype, "needClampMaxSize", null);
        return BasicTexture;
    }(wd.Texture));
    wd.BasicTexture = BasicTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDTexture = (function (_super) {
        __extends(TwoDTexture, _super);
        function TwoDTexture() {
            _super.apply(this, arguments);
        }
        TwoDTexture.prototype.initWhenCreate = function (asset) {
            _super.prototype.initWhenCreate.call(this);
            asset.copyTo(this);
        };
        return TwoDTexture;
    }(wd.BasicTexture));
    wd.TwoDTexture = TwoDTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonTexture = (function (_super) {
        __extends(CommonTexture, _super);
        function CommonTexture() {
            _super.apply(this, arguments);
        }
        CommonTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            var mipmapCmd = null, noMipmapCmd = null, gl = wd.DeviceManager.getInstance().gl;
            if (isSourcePowerOfTwo && this.mipmaps.getCount() > 0) {
                mipmapCmd = wd.DrawMipmapTwoDTextureCommand.create();
                mipmapCmd.mipmaps = this.mipmaps;
                mipmapCmd.format = this.format;
                mipmapCmd.type = this.type;
                mipmapCmd.sourceRegion = this.sourceRegion;
                mipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
                mipmapCmd.glTarget = gl.TEXTURE_2D;
                mipmapCmd.execute();
                this.generateMipmaps = false;
            }
            else {
                noMipmapCmd = wd.DrawNoMipmapTwoDTextureCommand.create();
                noMipmapCmd.source = this.source;
                noMipmapCmd.format = this.format;
                noMipmapCmd.type = this.type;
                noMipmapCmd.sourceRegion = this.sourceRegion;
                noMipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
                noMipmapCmd.glTarget = gl.TEXTURE_2D;
                noMipmapCmd.execute();
            }
        };
        return CommonTexture;
    }(wd.TwoDTexture));
    wd.CommonTexture = CommonTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageTexture = (function (_super) {
        __extends(ImageTexture, _super);
        function ImageTexture() {
            _super.apply(this, arguments);
        }
        ImageTexture.create = function (arg) {
            var obj = new this();
            obj.initWhenCreate(arg);
            return obj;
        };
        ImageTexture.prototype.initWhenCreate = function (arg) {
            if (arguments[0] instanceof wd.ImageTextureAsset) {
                var asset = arguments[0];
                _super.prototype.initWhenCreate.call(this, asset);
            }
            else {
                var canvas = arguments[0];
                _super.prototype.initWhenCreate.call(this, wd.ImageTextureAsset.create(canvas));
            }
        };
        return ImageTexture;
    }(wd.CommonTexture));
    wd.ImageTexture = ImageTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoTexture = (function (_super) {
        __extends(VideoTexture, _super);
        function VideoTexture() {
            _super.apply(this, arguments);
            this._video = null;
            this._startLoopHandler = null;
        }
        VideoTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        VideoTexture.prototype.initWhenCreate = function (asset) {
            _super.prototype.initWhenCreate.call(this, asset);
            this._video = asset.video;
        };
        VideoTexture.prototype.init = function () {
            var _this = this;
            _super.prototype.init.call(this);
            this._startLoopHandler = wdCb.FunctionUtils.bind(this, function () {
                if (_this._video.isStop) {
                    _this.needUpdate = false;
                }
                else {
                    _this.needUpdate = true;
                }
            });
            wd.EventManager.on(wd.EEngineEvent.STARTLOOP, this._startLoopHandler);
            return this;
        };
        VideoTexture.prototype.dispose = function () {
            wd.EventManager.off(wd.EEngineEvent.STARTLOOP, this._startLoopHandler);
        };
        VideoTexture.prototype.needClampMaxSize = function () {
            return false;
        };
        return VideoTexture;
    }(wd.CommonTexture));
    wd.VideoTexture = VideoTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapTexture = (function (_super) {
        __extends(CubemapTexture, _super);
        function CubemapTexture(assets) {
            _super.call(this);
            this.assets = null;
            this.textures = wdCb.Collection.create();
            this.mode = null;
            this.target = wd.ETextureTarget.TEXTURE_CUBE_MAP;
            this._areAllCompressedAsset = false;
            this.assets = assets;
        }
        CubemapTexture.create = function (assets) {
            var obj = new this(assets);
            obj.initWhenCreate(assets);
            return obj;
        };
        CubemapTexture.prototype.initWhenCreate = function (assets) {
            _super.prototype.initWhenCreate.call(this);
            if (this._areAssetsAllCompressedAsset(assets)) {
                this._areAllCompressedAsset = true;
            }
            else {
                this._areAllCompressedAsset = false;
            }
            this._createTextures(assets);
            this._getRepresentAsset(assets).copyToCubemapTexture(this);
            if (this._areAllCompressedAsset) {
                this.generateMipmaps = false;
                if (this._hasNoMipmapCompressedAsset()) {
                    this.minFilter = this.filterFallback(this.minFilter);
                }
            }
            else {
                this.generateMipmaps = true;
            }
            this.flipY = false;
        };
        CubemapTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_CUBE);
        };
        CubemapTexture.prototype.sendOtherData = function (program, unit) {
            program.sendUniformData("u_repeatRegion", wd.EVariableType.FLOAT_4, this.repeatRegion);
            return this;
        };
        CubemapTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            if (this._areAllCompressedAsset) {
                this.textures.forEach(function (texture, i) {
                    texture.draw(i);
                });
            }
            else {
                this.textures.forEach(function (texture, i) {
                    texture.draw(i);
                });
            }
        };
        CubemapTexture.prototype.needClampMaxSize = function () {
            var needAllClampMaxSize = false;
            this.textures.forEach(function (texture) {
                if (texture.needClampMaxSize()) {
                    needAllClampMaxSize = true;
                    return wdCb.$BREAK;
                }
            });
            return needAllClampMaxSize;
        };
        CubemapTexture.prototype.isSourcePowerOfTwo = function () {
            var areAllSourcePowerOfTwo = true;
            this.textures.forEach(function (texture) {
                if (!texture.isSourcePowerOfTwo()) {
                    areAllSourcePowerOfTwo = false;
                    return wdCb.$BREAK;
                }
            });
            return areAllSourcePowerOfTwo;
        };
        CubemapTexture.prototype.clampToMaxSize = function () {
            this.textures.forEach(function (texture) {
                texture.clampToMaxSize();
            });
        };
        CubemapTexture.prototype._hasNoMipmapCompressedAsset = function () {
            var self = this;
            if (!this._areAllCompressedAsset) {
                return false;
            }
            return this.textures.filter(function (texture) {
                return !self._isMipmapFilter(texture.minFilter);
            }).getCount() > 0;
        };
        CubemapTexture.prototype._isMipmapFilter = function (filter) {
            return filter === wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR || filter === wd.ETextureFilterMode.LINEAR_MIPMAP_NEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST;
        };
        CubemapTexture.prototype._getRepresentAsset = function (assets) {
            return assets[0].asset;
        };
        CubemapTexture.prototype._areAssetsAllImageAssets = function (assets) {
            var areImageAssets = [];
            for (var _i = 0, assets_1 = assets; _i < assets_1.length; _i++) {
                var data = assets_1[_i];
                if (data.asset instanceof wd.ImageTextureAsset) {
                    areImageAssets.push(data);
                }
            }
            return areImageAssets.length === 6;
        };
        CubemapTexture.prototype._areAssetsAllCompressedAsset = function (assets) {
            var areCompressedAssets = [];
            for (var _i = 0, assets_2 = assets; _i < assets_2.length; _i++) {
                var data = assets_2[_i];
                if (data.asset instanceof wd.CompressedTextureAsset) {
                    areCompressedAssets.push(data);
                }
            }
            return areCompressedAssets.length === 6;
        };
        CubemapTexture.prototype._createTextures = function (assets) {
            var self = this;
            for (var _i = 0, assets_3 = assets; _i < assets_3.length; _i++) {
                var data = assets_3[_i];
                var face = data.asset.toCubemapFaceTexture();
                if (data.sourceRegion && face instanceof wd.CubemapFaceImageTexture) {
                    var twoDFace = face;
                    twoDFace.sourceRegion = data.sourceRegion;
                }
                if (data.type) {
                    face.type = data.type;
                }
                self.textures.addChild(face);
            }
        };
        CubemapTexture.prototype._areTextureSizOfAllFaceseEqual = function (assets) {
            var textureWidthSizeArr = [], textureHeightSizeArr = [];
            for (var _i = 0, assets_4 = assets; _i < assets_4.length; _i++) {
                var data = assets_4[_i];
                if (data.sourceRegion) {
                    textureWidthSizeArr.push(data.sourceRegion.width);
                    textureHeightSizeArr.push(data.sourceRegion.height);
                }
                else {
                    textureWidthSizeArr.push(data.asset.width);
                    textureHeightSizeArr.push(data.asset.height);
                }
            }
            return this._areAllElementsEqual(textureWidthSizeArr) && this._areAllElementsEqual(textureHeightSizeArr);
        };
        CubemapTexture.prototype._hasSourceRegion = function (assets) {
            for (var _i = 0, assets_5 = assets; _i < assets_5.length; _i++) {
                var data = assets_5[_i];
                if (data.sourceRegion) {
                    return true;
                }
            }
            return false;
        };
        CubemapTexture.prototype._areAllElementsEqual = function (arr) {
            var lastEle = arr[0];
            for (var _i = 0, arr_2 = arr; _i < arr_2.length; _i++) {
                var ele = arr_2[_i];
                if (ele !== lastEle) {
                    return false;
                }
            }
            return true;
        };
        __decorate([
            wd.require(function (assets) {
                wd.assert(assets.length === 6, wd.Log.info.FUNC_MUST("cubemap", "has 6 assets"));
                wd.assert(this._areAssetsAllImageAssets(assets) || this._areAssetsAllCompressedAsset(assets), wd.Log.info.FUNC_MUST_BE("cubemap six face's assets", "all ImageTextureAsset or all CompressedTextureAsset"));
                if (this._areAssetsAllCompressedAsset(assets)) {
                    wd.assert(!this._hasSourceRegion(assets), wd.Log.info.FUNC_SHOULD_NOT("compressed face", "contain sourceRegion data"));
                }
                wd.assert(this._areTextureSizOfAllFaceseEqual(assets), wd.Log.info.FUNC_MUST_BE("all cubemap faces' texture size", "equal"));
            })
        ], CubemapTexture.prototype, "initWhenCreate", null);
        return CubemapTexture;
    }(wd.BasicTexture));
    wd.CubemapTexture = CubemapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceTexture = (function () {
        function CubemapFaceTexture() {
            this.type = wd.ETextureType.UNSIGNED_BYTE;
            this.format = null;
            this.width = null;
            this.height = null;
        }
        return CubemapFaceTexture;
    }());
    wd.CubemapFaceTexture = CubemapFaceTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceImageTexture = (function (_super) {
        __extends(CubemapFaceImageTexture, _super);
        function CubemapFaceImageTexture() {
            _super.apply(this, arguments);
            this.sourceRegion = null;
            this.source = null;
        }
        CubemapFaceImageTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        Object.defineProperty(CubemapFaceImageTexture.prototype, "sourceRegionMethod", {
            get: function () {
                return wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
            },
            set: function (sourceRegionMethod) {
                var a = sourceRegionMethod;
            },
            enumerable: true,
            configurable: true
        });
        CubemapFaceImageTexture.prototype.initWhenCreate = function (asset) {
            asset.copyToCubemapFaceTexture(this);
        };
        CubemapFaceImageTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(this.sourceRegion, this.sourceRegionMethod, this.width, this.height);
        };
        CubemapFaceImageTexture.prototype.needClampMaxSize = function () {
            if (!this.source) {
                return false;
            }
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxCubemapTextureSize, this.source.width, this.source.height);
        };
        CubemapFaceImageTexture.prototype.clampToMaxSize = function () {
            var maxSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
            this.source = wd.BasicTextureUtils.clampToMaxSize(this.source, maxSize);
        };
        CubemapFaceImageTexture.prototype.draw = function (index) {
            var noMipmapCmd = wd.DrawNoMipmapTwoDTextureCommand.create(), gl = wd.DeviceManager.getInstance().gl;
            noMipmapCmd.source = this.source;
            noMipmapCmd.sourceRegion = this.sourceRegion;
            noMipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
            noMipmapCmd.glTarget = gl.TEXTURE_CUBE_MAP_POSITIVE_X + index;
            noMipmapCmd.format = this.format;
            noMipmapCmd.type = this.type;
            noMipmapCmd.execute();
        };
        __decorate([
            wd.requireSetter(function (sourceRegionMethod) {
                wd.assert(sourceRegionMethod === wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS, wd.Log.info.FUNC_SUPPORT("cubemap twoD face texture->sourceRegionMethod only", "DRAW_IN_CANVAS"));
            })
        ], CubemapFaceImageTexture.prototype, "sourceRegionMethod", null);
        return CubemapFaceImageTexture;
    }(wd.CubemapFaceTexture));
    wd.CubemapFaceImageTexture = CubemapFaceImageTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceCompressedTexture = (function (_super) {
        __extends(CubemapFaceCompressedTexture, _super);
        function CubemapFaceCompressedTexture() {
            _super.apply(this, arguments);
            this.mipmaps = null;
            this.minFilter = null;
        }
        CubemapFaceCompressedTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        CubemapFaceCompressedTexture.prototype.initWhenCreate = function (asset) {
            asset.copyToCubemapFaceTexture(this);
        };
        CubemapFaceCompressedTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(null, null, this.width, this.height);
        };
        CubemapFaceCompressedTexture.prototype.needClampMaxSize = function () {
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxCubemapTextureSize, this.width, this.height);
        };
        CubemapFaceCompressedTexture.prototype.clampToMaxSize = function () {
            wd.Log.warn("CubemapFaceCompressedTexture's texture size is over maxCubemapTextureSize");
        };
        CubemapFaceCompressedTexture.prototype.draw = function (index) {
            var compressedCmd = wd.DrawCompressedTextureCommand.create(), gl = wd.DeviceManager.getInstance().gl;
            compressedCmd.glTarget = gl.TEXTURE_CUBE_MAP_POSITIVE_X + index;
            compressedCmd.type = this.type;
            compressedCmd.format = this.format;
            compressedCmd.mipmaps = this.mipmaps;
            compressedCmd.execute();
        };
        return CubemapFaceCompressedTexture;
    }(wd.CubemapFaceTexture));
    wd.CubemapFaceCompressedTexture = CubemapFaceCompressedTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTexture = (function (_super) {
        __extends(CompressedTexture, _super);
        function CompressedTexture() {
            _super.apply(this, arguments);
        }
        CompressedTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        Object.defineProperty(CompressedTexture.prototype, "sourceRegionMethod", {
            get: function () {
                wd.Log.assert(this.p_sourceRegionMethod === wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS, "compressed texture not support ETextureSourceRegionMethod.DRAW_IN_CANVAS, will use ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL instead");
                return wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            },
            enumerable: true,
            configurable: true
        });
        CompressedTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            var gl = wd.DeviceManager.getInstance().gl, compressedCmd = wd.DrawCompressedTextureCommand.create();
            compressedCmd.glTarget = gl.TEXTURE_2D;
            compressedCmd.type = this.type;
            compressedCmd.format = this.format;
            compressedCmd.mipmaps = this.mipmaps;
            compressedCmd.sourceRegion = this.sourceRegion;
            compressedCmd.sourceRegionMethod = this.sourceRegionMethod;
            compressedCmd.execute();
            if (this.mipmaps.getCount() > 1) {
                this.generateMipmaps = false;
            }
        };
        CompressedTexture.prototype.needClampMaxSize = function () {
            return false;
        };
        return CompressedTexture;
    }(wd.TwoDTexture));
    wd.CompressedTexture = CompressedTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawTextureCommand = (function () {
        function DrawTextureCommand() {
            this.format = null;
            this.type = null;
            this.sourceRegion = null;
            this.sourceRegionMethod = wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            this.glTarget = null;
        }
        DrawTextureCommand.prototype.getDrawTarget = function (source, sourceRegion) {
            if (sourceRegion === void 0) { sourceRegion = this.sourceRegion; }
            var result = null;
            if (wd.BasicTextureUtils.isDrawPartOfTexture(sourceRegion, this.sourceRegionMethod)) {
                result = wd.BasicTextureUtils.drawPartOfTextureByCanvas(source, sourceRegion.width, sourceRegion.height, sourceRegion.x, sourceRegion.y, sourceRegion.width, sourceRegion.height, 0, 0, sourceRegion.width, sourceRegion.height);
            }
            else {
                result = source;
            }
            return result;
        };
        return DrawTextureCommand;
    }());
    wd.DrawTextureCommand = DrawTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawCompressedTextureCommand = (function (_super) {
        __extends(DrawCompressedTextureCommand, _super);
        function DrawCompressedTextureCommand() {
            _super.apply(this, arguments);
            this.mipmaps = null;
        }
        DrawCompressedTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawCompressedTextureCommand.prototype.execute = function () {
            var gl = wd.DeviceManager.getInstance().gl, self = this;
            wd.Log.error(this.format === null, wd.Log.info.FUNC_NOT_SUPPORT(this.format));
            if (this.format !== wd.ETextureFormat.RGBA) {
                this.mipmaps.forEach(function (mipmap, index) {
                    gl.compressedTexImage2D(self.glTarget, index, self.format, mipmap.width, mipmap.height, 0, self.getDrawTarget(mipmap.data));
                });
            }
            else {
                this.mipmaps.forEach(function (mipmap, index) {
                    gl.texImage2D(self.glTarget, index, gl[self.format], mipmap.width, mipmap.height, 0, gl[self.format], gl[self.type], self.getDrawTarget(mipmap.data));
                });
            }
        };
        return DrawCompressedTextureCommand;
    }(wd.DrawTextureCommand));
    wd.DrawCompressedTextureCommand = DrawCompressedTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawTwoDTextureCommand = (function (_super) {
        __extends(DrawTwoDTextureCommand, _super);
        function DrawTwoDTextureCommand() {
            _super.apply(this, arguments);
            this.source = null;
        }
        DrawTwoDTextureCommand.prototype.drawTexture = function (index, source) {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.texImage2D(this.glTarget, index, gl[this.format], gl[this.format], gl[this.type], this.getDrawTarget(source));
        };
        return DrawTwoDTextureCommand;
    }(wd.DrawTextureCommand));
    wd.DrawTwoDTextureCommand = DrawTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawMipmapTwoDTextureCommand = (function (_super) {
        __extends(DrawMipmapTwoDTextureCommand, _super);
        function DrawMipmapTwoDTextureCommand() {
            _super.apply(this, arguments);
            this.mipmaps = null;
        }
        DrawMipmapTwoDTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawMipmapTwoDTextureCommand.prototype.execute = function () {
            var self = this;
            this.mipmaps.forEach(function (mipmap, index) {
                self.drawTexture(index, mipmap);
            });
        };
        return DrawMipmapTwoDTextureCommand;
    }(wd.DrawTwoDTextureCommand));
    wd.DrawMipmapTwoDTextureCommand = DrawMipmapTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawNoMipmapTwoDTextureCommand = (function (_super) {
        __extends(DrawNoMipmapTwoDTextureCommand, _super);
        function DrawNoMipmapTwoDTextureCommand() {
            _super.apply(this, arguments);
        }
        DrawNoMipmapTwoDTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawNoMipmapTwoDTextureCommand.prototype.execute = function () {
            this.drawTexture(0, this.source);
        };
        return DrawNoMipmapTwoDTextureCommand;
    }(wd.DrawTwoDTextureCommand));
    wd.DrawNoMipmapTwoDTextureCommand = DrawNoMipmapTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Video = (function () {
        function Video(_a) {
            var urlArr = _a.urlArr, _b = _a.onLoad, onLoad = _b === void 0 ? function (video) { } : _b, _c = _a.onError, onError = _c === void 0 ? function (err) { } : _c;
            this.url = null;
            this.source = null;
            this.isStop = false;
            this._urlArr = null;
            this._onLoad = null;
            this._onError = null;
            this._urlArr = wdCb.Collection.create(urlArr);
            this._onLoad = onLoad;
            this._onError = onError;
        }
        Video.create = function (data) {
            var obj = new this(data);
            obj.initWhenCreate();
            return obj;
        };
        Video.prototype.initWhenCreate = function () {
            this.url = this._getCanPlayUrl();
            this.source = document.createElement("video");
            this.source.src = this.url;
            this._bindEvent();
        };
        Video.prototype.play = function () {
            this.isStop = false;
            this.source.play();
        };
        Video.prototype._getCanPlayUrl = function () {
            var self = this, canPlayUrl = null, extnameArr = [];
            this._urlArr.forEach(function (url) {
                var extname = wdCb.PathUtils.extname(url);
                extnameArr.push(extname);
                if (self._canplay(extname)) {
                    canPlayUrl = url;
                    return wdCb.$BREAK;
                }
            });
            wd.Log.error(canPlayUrl === null, wd.Log.info.FUNC_NOT_SUPPORT("browser", extnameArr.join(",")));
            return canPlayUrl;
        };
        Video.prototype._canplay = function (extname) {
            var video = document.createElement("video"), mimeStr = null;
            switch (extname) {
                case '.mp4':
                    mimeStr = 'video/mp4; codecs="avc1.42e01e, mp4a.40.2"';
                    break;
                case ".ogv":
                    mimeStr = 'video/ogg; codecs="theora, vorbis"';
                    break;
                case ".webm":
                    mimeStr = 'video/webm; codecs="vp8, vorbis"';
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT(extname));
                    break;
            }
            return !!video.canPlayType && video.canPlayType(mimeStr) !== "";
        };
        Video.prototype._bindEvent = function () {
            var self = this;
            this.source.addEventListener("canplaythrough", function () {
                self._onLoad(self);
            }, false);
            this.source.addEventListener("error", function () {
                self._onError("errorCode " + self.source.error.code);
            }, false);
            this.source.addEventListener("ended", function () {
                self.isStop = true;
            }, false);
        };
        return Video;
    }());
    wd.Video = Video;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoManager = (function () {
        function VideoManager() {
        }
        VideoManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        VideoManager.prototype.play = function (id) {
            var asset = wd.VideoLoader.getInstance().get(id), video = null;
            wd.Log.error(!asset, wd.Log.info.FUNC_NOT_EXIST("video asset which id is " + id));
            video = asset.video;
            video.play();
        };
        VideoManager._instance = null;
        return VideoManager;
    }());
    wd.VideoManager = VideoManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderChunk = (function () {
        function ShaderChunk() {
        }
        ShaderChunk.empty = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "" };
        ShaderChunk.NULL = -1.0;
        ShaderChunk.morphNormal_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 a_normal = a_currentFrameNormal + (a_nextFrameNormal - a_currentFrameNormal) * u_interpolation;\n", };
        ShaderChunk.morphVertice_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 a_position = a_currentFramePosition + (a_nextFramePosition - a_currentFramePosition) * u_interpolation;\n", };
        ShaderChunk.basicEnd_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\n", };
        ShaderChunk.basic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_color;\n", funcDeclare: "", funcDefine: "", body: "vec4 totalColor = vec4(v_color, 1.0);\n", };
        ShaderChunk.basic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_color;\n", funcDeclare: "", funcDefine: "", body: "v_color = a_color;\n", };
        ShaderChunk.common_define = { top: "", define: "#define NULL -1.0\n", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.common_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.common_function = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "mat2 transpose(mat2 m) {\n  return mat2(  m[0][0], m[1][0],   // new col 0\n                m[0][1], m[1][1]    // new col 1\n             );\n  }\nmat3 transpose(mat3 m) {\n  return mat3(  m[0][0], m[1][0], m[2][0],  // new col 0\n                m[0][1], m[1][1], m[2][1],  // new col 1\n                m[0][2], m[1][2], m[2][2]   // new col 1\n             );\n  }\n", body: "", };
        ShaderChunk.common_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.highp_fragment = { top: "precision highp float;\nprecision highp int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.lowp_fragment = { top: "precision lowp float;\nprecision lowp int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.mediump_fragment = { top: "precision mediump float;\nprecision mediump int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.map_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= texture2D(u_sampler2D0, v_mapCoord);\n", };
        ShaderChunk.map_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord;\n", funcDeclare: "", funcDefine: "", body: "vec2 sourceTexCoord = a_texCoord * u_sourceRegion.zw + u_sourceRegion.xy;\n    v_mapCoord = sourceTexCoord * u_repeatRegion.zw + u_repeatRegion.xy;\n", };
        ShaderChunk.multi_map_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec4 getMapColor(){\n            vec4 color0 = texture2D(u_sampler2D0, v_mapCoord);\n            vec4 color1 = texture2D(u_sampler2D1, v_mapCoord);\n            if(u_combineMode == 0){\n                return mix(color0, color1, u_mixRatio);\n            }\n            else if(u_combineMode == 1){\n                return color0 * color1;\n            }\n            else if(u_combineMode == 2){\n                return color0 + color1;\n            }\n		}\n", body: "totalColor *= getMapColor();\n", };
        ShaderChunk.lightCommon_fragment = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n#if POINT_LIGHTS_COUNT > 0\nstruct PointLight {\n    vec3 position;\n    vec3 color;\n    float intensity;\n\n    float range;\n    float constant;\n    float linear;\n    float quadratic;\n};\nuniform PointLight u_pointLights[POINT_LIGHTS_COUNT];\n\n#endif\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\nstruct DirectionLight {\n    vec3 position;\n\n    float intensity;\n\n    vec3 color;\n};\nuniform DirectionLight u_directionLights[DIRECTION_LIGHTS_COUNT];\n#endif\n", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.lightCommon_vertex = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n#if POINT_LIGHTS_COUNT > 0\nstruct PointLight {\n    vec3 position;\n    vec3 color;\n    float intensity;\n\n    float range;\n    float constant;\n    float linear;\n    float quadratic;\n};\nuniform PointLight u_pointLights[POINT_LIGHTS_COUNT];\n\n#endif\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\nstruct DirectionLight {\n    vec3 position;\n\n    float intensity;\n\n    vec3 color;\n};\nuniform DirectionLight u_directionLights[DIRECTION_LIGHTS_COUNT];\n#endif\n", funcDeclare: "", funcDefine: "", body: "v_worldPosition = vec3(u_mMatrix * vec4(a_position, 1.0));\n", };
        ShaderChunk.lightEnd_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\n", };
        ShaderChunk.light_common = { top: "", define: "", varDeclare: "", funcDeclare: "vec3 getDirectionLightDirByLightPos(vec3 lightPos);\nvec3 getPointLightDirByLightPos(vec3 lightPos);\nvec3 getPointLightDirByLightPos(vec3 lightPos, vec3 worldPosition);\n", funcDefine: "vec3 getDirectionLightDirByLightPos(vec3 lightPos){\n    return lightPos - vec3(0.0);\n    //return vec3(0.0) - lightPos;\n}\nvec3 getPointLightDirByLightPos(vec3 lightPos){\n    return lightPos - v_worldPosition;\n}\nvec3 getPointLightDirByLightPos(vec3 lightPos, vec3 worldPosition){\n    return lightPos - worldPosition;\n}\n", body: "", };
        ShaderChunk.light_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float getBlinnShininess(float shininess, vec3 normal, vec3 lightDir, vec3 viewDir, float dotResultBetweenNormAndLight){\n        vec3 halfAngle = normalize(lightDir + viewDir);\n        float blinnTerm = dot(normal, halfAngle);\n\n        blinnTerm = clamp(blinnTerm, 0.0, 1.0);\n        blinnTerm = dotResultBetweenNormAndLight != 0.0 ? blinnTerm : 0.0;\n        blinnTerm = pow(blinnTerm, shininess);\n\n        return blinnTerm;\n}\n\nfloat getPhongShininess(float shininess, vec3 normal, vec3 lightDir, vec3 viewDir, float dotResultBetweenNormAndLight){\n        vec3 reflectDir = reflect(-lightDir, normal);\n        float phongTerm = dot(viewDir, reflectDir);\n\n        phongTerm = clamp(phongTerm, 0.0, 1.0);\n        phongTerm = dotResultBetweenNormAndLight != 0.0 ? phongTerm : 0.0;\n        phongTerm = pow(phongTerm, shininess);\n\n        return phongTerm;\n}\n\nvec3 calcLight(vec3 lightDir, vec3 color, float intensity, float attenuation, vec3 normal, vec3 viewDir)\n{\n        vec3 materialDiffuse = getMaterialDiffuse();\n        vec3 materialSpecular = getMaterialSpecular();\n        vec3 materialEmission = getMaterialEmission();\n\n        float dotResultBetweenNormAndLight = dot(normal, lightDir);\n        float diff = max(dotResultBetweenNormAndLight, 0.0);\n\n        vec3 emissionColor = u_emission * materialEmission;\n\n        vec3 ambientColor = u_ambient * materialDiffuse;\n\n\n        if(u_lightModel == 3){\n            return emissionColor + ambientColor;\n        }\n\n        vec3 diffuseColor = diff * color * materialDiffuse * intensity;\n\n\n        float spec = 0.0;\n\n        if(u_lightModel == 2){\n                spec = getPhongShininess(u_shininess, normal, lightDir, viewDir, diff);\n        }\n        else if(u_lightModel == 1){\n                spec = getBlinnShininess(u_shininess, normal, lightDir, viewDir, diff);\n        }\n\n        vec3 specularColor = spec * materialSpecular * intensity;\n\n        return emissionColor + ambientColor + attenuation * (diffuseColor + specularColor);\n}\n\n\n\n\n\n#if POINT_LIGHTS_COUNT > 0\n        vec3 calcPointLight(vec3 lightDir, PointLight light, vec3 normal, vec3 viewDir)\n{\n        //lightDir is not normalize computing distance\n        float distance = length(lightDir);\n\n        float attenuation = 0.0;\n\n        if(light.range == NULL || distance < light.range)\n        {\n                attenuation = 1.0 / (light.constant + light.linear * distance + light.quadratic * (distance * distance));\n        }\n\n        lightDir = normalize(lightDir);\n\n        return calcLight(lightDir, light.color, light.intensity, attenuation, normal, viewDir);\n}\n#endif\n\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\n        vec3 calcDirectionLight(vec3 lightDir, DirectionLight light, vec3 normal, vec3 viewDir)\n{\n        float attenuation = 1.0;\n\n        lightDir = normalize(lightDir);\n\n        return calcLight(lightDir, light.color, light.intensity, attenuation, normal, viewDir);\n}\n#endif\n\n\n\nvec3 calcTotalLight(vec3 norm, vec3 viewDir){\n        vec3 totalLight = vec3(0.0);\n\n    #if POINT_LIGHTS_COUNT > 0\n                for(int i = 0; i < POINT_LIGHTS_COUNT; i++){\n                totalLight += calcPointLight(getPointLightDir(i), u_pointLights[i], norm, viewDir);\n        }\n    #endif\n\n    #if DIRECTION_LIGHTS_COUNT > 0\n                for(int i = 0; i < DIRECTION_LIGHTS_COUNT; i++){\n                totalLight += calcDirectionLight(getDirectionLightDir(i), u_directionLights[i], norm, viewDir);\n        }\n    #endif\n\n        return totalLight;\n}\n", body: "vec3 normal = normalize(getNormal());\n\n#ifdef BOTH_SIDE\nnormal = normal * (-1.0 + 2.0 * float(gl_FrontFacing));\n#endif\n\nvec3 viewDir = normalize(getViewDir());\n\nvec4 totalColor = vec4(calcTotalLight(normal, viewDir), 1.0);\n\ntotalColor *= vec4(getShadowVisibility(), 1.0);\n", };
        ShaderChunk.light_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_Position = u_pMatrix * u_vMatrix * vec4(v_worldPosition, 1.0);\n", };
        ShaderChunk.mirror_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec4 v_mirrorCoord;\n", funcDeclare: "", funcDefine: "//todo add more blend way to mix mirror color and textureColor\n		float blendOverlay(float base, float blend) {\n			return( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n		}\n		vec4 getMirrorColor(in vec4 materialColor){\n			vec4 color = texture2DProj(u_mirrorSampler, v_mirrorCoord);\n\n			color = vec4(blendOverlay(materialColor.r, color.r), blendOverlay(materialColor.g, color.g), blendOverlay(materialColor.b, color.b), 1.0);\n\n			return color;\n		}\n", body: "totalColor = getMirrorColor(totalColor);\n", };
        ShaderChunk.mirror_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec4 v_mirrorCoord;\n", funcDeclare: "", funcDefine: "", body: "mat4 textureMatrix = mat4(\n                        0.5, 0.0, 0.0, 0.0,\n                        0.0, 0.5, 0.0, 0.0,\n                        0.0, 0.0, 0.5, 0.0,\n                        0.5, 0.5, 0.5, 1.0\n);\n\nv_mirrorCoord = textureMatrix * gl_Position;\n", };
        ShaderChunk.skybox_fragment = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "gl_FragColor = textureCube(u_samplerCube0, v_dir);\n", };
        ShaderChunk.skybox_vertex = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "vec4 pos = u_pMatrix * mat4(mat3(u_vMatrix)) * u_mMatrix * vec4(a_position, 1.0);\n\n    gl_Position = pos.xyww;\n\n    v_dir = a_position;\n", };
        ShaderChunk.basic_envMap_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, v_dir);\n", };
        ShaderChunk.basic_envMap_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "v_dir = a_position;\n", };
        ShaderChunk.envMap_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_normal;\nvarying vec3 v_position;\n", funcDeclare: "", funcDefine: "", body: "vec3 inDir = normalize(v_position - u_cameraPos);\n", };
        ShaderChunk.envMap_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_normal;\nvarying vec3 v_position;\n", funcDeclare: "", funcDefine: "", body: "v_normal = normalize( u_normalMatrix * a_normal);\n    v_position = vec3(u_mMatrix * vec4(a_position, 1.0));\n", };
        ShaderChunk.fresnel_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float computeFresnelRatio(vec3 inDir, vec3 normal, float refractionRatio){\n    float f = pow(1.0 - refractionRatio, 2.0) / pow(1.0 + refractionRatio, 2.0);\n    float fresnelPower = 5.0;\n    float ratio = f + (1.0 - f) * pow((1.0 - dot(inDir, normal)), fresnelPower);\n\n    return ratio / 100.0;\n}\nvec4 getEnvMapTotalColor(vec3 inDir, vec3 normal){\n    vec3 reflectDir = reflect(inDir, normal);\n    vec3 refractDir = refract(inDir, normal, u_refractionRatio);\n\n    vec4 reflectColor = textureCube(u_samplerCube0, reflectDir);\n    vec4 refractColor = textureCube(u_samplerCube0, refractDir);\n\n    vec4 totalColor = vec4(0.0);\n\n	if(u_reflectivity != NULL){\n        totalColor = mix(reflectColor, refractColor, u_reflectivity);\n	}\n	else{\n        totalColor = mix(reflectColor, refractColor, computeFresnelRatio(inDir, normal, u_refractionRatio));\n	}\n\n	return totalColor;\n}\n", body: "totalColor *= getEnvMapTotalColor(inDir, normalize(v_normal));\n", };
        ShaderChunk.reflection_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, reflect(inDir, normalize(v_normal)));\n", };
        ShaderChunk.refraction_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, refract(inDir, normalize(v_normal), u_refractionRatio));\n", };
        ShaderChunk.basic_envMap_forLight_fragment = { top: "", define: "", varDeclare: "varying vec3 v_basicEnvMap_dir;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, v_basicEnvMap_dir);\n", };
        ShaderChunk.basic_envMap_forLight_vertex = { top: "", define: "", varDeclare: "varying vec3 v_basicEnvMap_dir;\n", funcDeclare: "", funcDefine: "", body: "v_basicEnvMap_dir = a_position;\n", };
        ShaderChunk.envMap_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 inDir = normalize(v_worldPosition - u_cameraPos);\n", };
        ShaderChunk.envMap_forLight_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.fresnel_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float computeFresnelRatio(vec3 inDir, vec3 normal, float refractionRatio){\n    float f = pow(1.0 - refractionRatio, 2.0) / pow(1.0 + refractionRatio, 2.0);\n    float fresnelPower = 5.0;\n    float ratio = f + (1.0 - f) * pow((1.0 - dot(inDir, normal)), fresnelPower);\n\n    return ratio / 100.0;\n}\n\nvec4 getEnvMapTotalColor(vec3 inDir, vec3 normal){\n    vec3 reflectDir = reflect(inDir, normal);\n    vec3 refractDir = refract(inDir, normal, u_refractionRatio);\n\n    vec4 reflectColor = textureCube(u_samplerCube0, reflectDir);\n    vec4 refractColor = textureCube(u_samplerCube0, refractDir);\n\n    vec4 totalColor = vec4(0.0);\n\n	if(u_reflectivity != NULL){\n        totalColor = mix(reflectColor, refractColor, u_reflectivity);\n	}\n	else{\n        totalColor = mix(reflectColor, refractColor, computeFresnelRatio(inDir, normal, u_refractionRatio));\n	}\n\n	return totalColor;\n}\n", body: "totalColor *= getEnvMapTotalColor(inDir, normalize(getNormal()));\n", };
        ShaderChunk.reflection_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, reflect(inDir, normalize(getNormal())));\n", };
        ShaderChunk.refraction_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, refract(inDir, getNormal(), u_refractionRatio));\n", };
        ShaderChunk.diffuseMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_diffuseMapTexCoord;\n", funcDeclare: "", funcDefine: "vec3 getMaterialDiffuse() {\n        return vec3(texture2D(u_diffuseMapSampler, v_diffuseMapTexCoord));\n    }\n", body: "", };
        ShaderChunk.diffuseMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_diffuseMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "vec2 sourceTexCoord = a_texCoord * u_sourceRegion.zw + u_sourceRegion.xy;\n    v_diffuseMapTexCoord = sourceTexCoord * u_repeatRegion.zw + u_repeatRegion.xy;\n    //v_diffuseMapTexCoord = a_texCoord;\n", };
        ShaderChunk.emissionMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_emissionMapTexCoord;\n", funcDeclare: "", funcDefine: "vec3 getMaterialEmission() {\n        return vec3(texture2D(u_emissionMapSampler, v_emissionMapTexCoord));\n    }\n", body: "", };
        ShaderChunk.emissionMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_emissionMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_emissionMapTexCoord = a_texCoord;\n", };
        ShaderChunk.noDiffuseMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec3 getMaterialDiffuse() {\n        return u_diffuse;\n    }\n", body: "", };
        ShaderChunk.noEmissionMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec3 getMaterialEmission() {\n        return u_emission;\n    }\n", body: "", };
        ShaderChunk.noNormalMap_fragment = { top: "", define: "", varDeclare: "varying vec3 v_normal;\n", funcDeclare: "vec3 getNormal();\n\n", funcDefine: "#if POINT_LIGHTS_COUNT > 0\nvec3 getPointLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= POINT_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return getPointLightDirByLightPos(u_pointLights[x].position);\n        }\n    }\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvec3 getDirectionLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= DIRECTION_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return getDirectionLightDirByLightPos(u_directionLights[x].position);\n        }\n    }\n\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n\nvec3 getViewDir(){\n    return normalize(u_cameraPos - v_worldPosition);\n}\nvec3 getNormal(){\n    return v_normal;\n}\n\n", body: "", };
        ShaderChunk.noNormalMap_vertex = { top: "", define: "", varDeclare: "varying vec3 v_normal;\n", funcDeclare: "", funcDefine: "", body: "//v_normal = normalize( vec3(u_normalMatrix * vec4(a_normal, 1.0)));\n    v_normal = normalize( u_normalMatrix * a_normal);\n", };
        ShaderChunk.noSpecularMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec3 getMaterialSpecular() {\n        return u_specular;\n    }\n", body: "", };
        ShaderChunk.normalMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_normalMapTexCoord;\nvarying vec3 v_viewDir;\n#if POINT_LIGHTS_COUNT > 0\nvarying vec3 v_pointLightDir[POINT_LIGHTS_COUNT];\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvarying vec3 v_directionLightDir[DIRECTION_LIGHTS_COUNT];\n#endif\n\n", funcDeclare: "vec3 getNormal();\n\nvec3 getLightDir(vec3 lightPos);\n\n", funcDefine: "#if POINT_LIGHTS_COUNT > 0\nvec3 getPointLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= POINT_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return v_pointLightDir[x];\n        }\n    }\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\n\nvec3 getDirectionLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= DIRECTION_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return v_directionLightDir[x];\n        }\n    }\n\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n\nvec3 getViewDir(){\n    return v_viewDir;\n}\nvec3 getNormal(){\n        // Obtain normal from normal map in range [0,1]\n        vec3 normal = texture2D(u_normalMapSampler, v_normalMapTexCoord).rgb;\n\n        // Transform normal vector to range [-1,1]\n        return normalize(normal * 2.0 - 1.0);  // this normal is in tangent space\n}\n", body: "", };
        ShaderChunk.normalMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_normalMapTexCoord;\n	varying vec3 v_viewDir;\n\n\n#if POINT_LIGHTS_COUNT > 0\nvarying vec3 v_pointLightDir[POINT_LIGHTS_COUNT];\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvarying vec3 v_directionLightDir[DIRECTION_LIGHTS_COUNT];\n#endif\n\n", funcDeclare: "", funcDefine: "mat3 computeTBN(){\n            //vec3 T = normalize(normalMatrix * tangent);\n            //vec3 B = normalize(normalMatrix * bitangent);\n            //vec3 N = normalize(normalMatrix * normal);\n\n            vec3 T = normalize(u_normalMatrix * a_tangent);\n            vec3 N = normalize(u_normalMatrix * a_normal);\n            // re-orthogonalize T with respect to N\n            T = normalize(T - dot(T, N) * N);\n            // then retrieve perpendicular vector B with the cross product of T and N\n            vec3 B = cross(T, N);\n\n\n            return transpose(mat3(T, B, N));\n        }\n", body: "mat3 TBN = computeTBN();\n\n    //v_tangentLightPos = TBN * light.position;\n    //v_tangentCameraPos  = TBN * u_cameraPos;\n    //v_tangentPos  = TBN * v_position;\n\n\n    vec3 tangentPosition = TBN * vec3(u_mMatrix * vec4(a_position, 1.0));\n\n    v_normalMapTexCoord = a_texCoord;\n\n    v_viewDir = normalize(TBN * u_cameraPos - tangentPosition);\n\n\n#if POINT_LIGHTS_COUNT > 0\n       for(int i = 0; i < POINT_LIGHTS_COUNT; i++){\n            //not normalize for computing distance\n            v_pointLightDir[i] = TBN * getPointLightDirByLightPos(u_pointLights[i].position, tangentPosition);\n       }\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\n       for(int i = 0; i < DIRECTION_LIGHTS_COUNT; i++){\n            v_directionLightDir[i] = normalize(- TBN * getDirectionLightDirByLightPos(u_directionLights[i].position));\n       }\n#endif\n\n", };
        ShaderChunk.specularMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_specularMapTexCoord;\n", funcDeclare: "", funcDefine: "vec3 getMaterialSpecular() {\n        return vec3(texture2D(u_specularMapSampler, v_specularMapTexCoord));\n    }\n", body: "", };
        ShaderChunk.specularMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_specularMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_specularMapTexCoord = a_texCoord;\n", };
        ShaderChunk.buildCubemapShadowMap_fragment = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n", funcDeclare: "", funcDefine: "", body: "\n// get distance between fragment and light source\n    float lightDistance = length(v_worldPosition - u_lightPos);\n\n    // map to [0,1] range by dividing by farPlane\n    lightDistance = lightDistance / u_farPlane;\n\n\ngl_FragData[0] = packDepth(lightDistance);\n\n\n//gl_FragColor = vec4(0.5, 0.0, 1.0, 1.0);\n//gl_FragData[0] = vec4(lightDistance, 1.0, 1.0, 1.0);\n", };
        ShaderChunk.buildCubemapShadowMap_vertex = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n", funcDeclare: "", funcDefine: "", body: "v_worldPosition = vec3(u_mMatrix * vec4(a_position, 1.0));\n    gl_Position = u_pMatrix * u_vMatrix * vec4(v_worldPosition, 1.0);\n", };
        ShaderChunk.buildTwoDShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragData[0] = packDepth(gl_FragCoord.z);\n", };
        ShaderChunk.buildTwoDShadowMap_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_Position = u_vpMatrixFromLight * u_mMatrix * vec4(a_position, 1.0);\n//gl_Position = u_pMatrix* u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\n", };
        ShaderChunk.commonBuildShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "// Packing a float in GLSL with multiplication and mod\nvec4 packDepth(in float depth) {\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n    const vec4 bit_mask = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n    // combination of mod and multiplication and division works better\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n    res -= res.xxyz * bit_mask;\n\n    return res;\n}\n", body: "", };
        ShaderChunk.cubemapShadowMap_fragment = { top: "", define: "", varDeclare: "uniform samplerCube u_cubemapShadowMapSampler[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_cubemapShadowDarkness[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_cubemapShadowBias[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_farPlane[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform vec3 u_cubemapLightPos[ CUBEMAP_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "// PCF\nfloat getCubemapShadowVisibilityByPCF(float currentDepth, vec3 fragToLight, samplerCube cubemapShadowMapSampler, float shadowBias, float farPlane, float shadowDarkness){\n    //only support in opengl es 3.0+\n    //vec3 sampleOffsetDirections[20] = vec3[]\n    //(\n       //vec3( 1,  1,  1), vec3( 1, -1,  1), vec3(-1, -1,  1), vec3(-1,  1,  1),\n       //vec3( 1,  1, -1), vec3( 1, -1, -1), vec3(-1, -1, -1), vec3(-1,  1, -1),\n       //vec3( 1,  1,  0), vec3( 1, -1,  0), vec3(-1, -1,  0), vec3(-1,  1,  0),\n       //vec3( 1,  0,  1), vec3(-1,  0,  1), vec3( 1,  0, -1), vec3(-1,  0, -1),\n       //vec3( 0,  1,  1), vec3( 0, -1,  1), vec3( 0, -1, -1), vec3( 0,  1, -1)\n    //);\n\n    vec3 sampleOffsetDirections[20];\n\n    sampleOffsetDirections[0] = vec3( 1,  1,  1);\n    sampleOffsetDirections[1] = vec3( 1,  -1,  1);\n    sampleOffsetDirections[2] = vec3( -1,  -1,  1);\n    sampleOffsetDirections[3] = vec3( -1,  1,  1);\n\n    sampleOffsetDirections[4] = vec3( 1,  1,  -1);\n    sampleOffsetDirections[5] = vec3( 1,  -1,  -1);\n    sampleOffsetDirections[6] = vec3( -1,  -1,  -1);\n    sampleOffsetDirections[7] = vec3( -1,  1,  -1);\n\n    sampleOffsetDirections[8] = vec3( 1,  1,  0);\n    sampleOffsetDirections[9] = vec3( 1,  -1,  0);\n    sampleOffsetDirections[10] = vec3( -1,  -1,  0);\n    sampleOffsetDirections[11] = vec3( -1,  1,  0);\n\n    sampleOffsetDirections[12] = vec3( 1,  0,  1);\n    sampleOffsetDirections[13] = vec3( -1,  0,  1);\n    sampleOffsetDirections[14] = vec3( 1,  0,  -1);\n    sampleOffsetDirections[15] = vec3( -1,  0,  -1);\n\n    sampleOffsetDirections[16] = vec3( 0,  1,  1);\n    sampleOffsetDirections[17] = vec3( 0,  -1,  1);\n    sampleOffsetDirections[18] = vec3( 0,  -1,  -1);\n    sampleOffsetDirections[19] = vec3( 0,  1,  -1);\n\n    float shadow = 0.0;\n    int samples = 20;\n\n    //float diskRadius = 0.00000;\n    //Another interesting trick we can apply here is that we can change the diskRadius based on how far the viewer is away from a fragment; this way we can increase the offset radius by the distance to the viewer, making the shadows softer when far away and sharper when close by.\n    float viewDistance = length(u_cameraPos - v_worldPosition);\n    float diskRadius = (1.0 + (viewDistance / farPlane)) / 25.0;\n\n    //for(int i = 0; i < samples; ++i)\n    for(int i = 0; i < 20; ++i)\n    {\n        float pcfDepth = unpackDepth(textureCube(cubemapShadowMapSampler, fragToLight + sampleOffsetDirections[i] * diskRadius));\n        pcfDepth *= farPlane;   // Undo mapping [0;1]\n        shadow += currentDepth - shadowBias > pcfDepth  ? shadowDarkness : 1.0;\n    }\n    shadow /= float(samples);\n\n    return shadow;\n}\n\n\nfloat getCubemapShadowVisibility(vec3 lightDir, samplerCube cubemapShadowMapSampler, vec3 lightPos, float farPlane, float shadowBias, float  shadowDarkness) {\n// Get vector between fragment position and light position\n    vec3 fragToLight= v_worldPosition - lightPos;\n    // Use the light to fragment vector to sample from the depth map\n    // Now get current linear depth as the length between the fragment and light position\n    float currentDepth = length(fragToLight);\n\n    #if defined(SHADOWMAP_TYPE_PCF)\n    return getCubemapShadowVisibilityByPCF(currentDepth, fragToLight, cubemapShadowMapSampler, getShadowBias(lightDir, shadowBias), farPlane, shadowDarkness);\n    #endif\n\n    float closestDepth = unpackDepth(textureCube(cubemapShadowMapSampler, fragToLight));\n\n    // It is currently in linear range between [0,1]. Re-transform back to original value\n    closestDepth *= farPlane;\n\n\n    return float(currentDepth > closestDepth + getShadowBias(lightDir, shadowBias) ? shadowDarkness : 1.0);\n}\n", body: "", };
        ShaderChunk.noShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec3 getShadowVisibility() {\n        return vec3(1.0);\n    }\n", body: "", };
        ShaderChunk.totalShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "float getShadowBias(vec3 lightDir, float shadowBias);\nfloat unpackDepth(vec4 rgbaDepth);\n", funcDefine: "float getShadowBias(vec3 lightDir, float shadowBias){\n    float bias = shadowBias;\n\n    if(shadowBias == NULL){\n        bias = 0.005;\n    }\n\n\n     /*!\n     A shadow bias of 0.005 solves the issues of our scene by a large extent, but some surfaces that have a steep angle to the light source might still produce shadow acne. A more solid approach would be to change the amount of bias based on the surface angle towards the light: something we can solve with the dot product:\n     */\n\n     return max(bias * (1.0 - dot(normalize(getNormal()), lightDir)), bias);\n\n    //return bias;\n}\n\nfloat unpackDepth(vec4 rgbaDepth) {\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n    return dot(rgbaDepth, bitShift);\n}\n\nvec3 getShadowVisibility() {\n    vec3 shadowColor = vec3(1.0);\n    vec3 twoDLightDir = vec3(0.0);\n    vec3 cubemapLightDir = vec3(0.0);\n\n\n    //to normalMap, the lightDir use the origin one instead of normalMap's lightDir here(the lightDir is used for computing shadowBias, the origin one is enough for it)\n\n    #if TWOD_SHADOWMAP_COUNT > 0\n	for( int i = 0; i < TWOD_SHADOWMAP_COUNT; i ++ ) {\n        twoDLightDir = getDirectionLightDirByLightPos(u_twoDLightPos[i]);\n\n	////if is opposite to direction of light rays, no shadow\n\n        shadowColor *= getTwoDShadowVisibility(twoDLightDir, u_twoDShadowMapSampler[i], v_positionFromLight[i], u_twoDShadowBias[i], u_twoDShadowDarkness[i], u_twoDShadowSize[i]);\n	}\n	#endif\n\n\n	#if CUBEMAP_SHADOWMAP_COUNT > 0\n	for( int i = 0; i < CUBEMAP_SHADOWMAP_COUNT; i ++ ) {\n        cubemapLightDir = getPointLightDirByLightPos(u_cubemapLightPos[i]);\n\n	////if is opposite to direction of light rays, no shadow\n\n        shadowColor *= getCubemapShadowVisibility(cubemapLightDir, u_cubemapShadowMapSampler[i], u_cubemapLightPos[i], u_farPlane[i], u_cubemapShadowBias[i], u_cubemapShadowDarkness[i]);\n	}\n	#endif\n\n	return shadowColor;\n}\n\n", body: "", };
        ShaderChunk.twoDShadowMap_fragment = { top: "", define: "", varDeclare: "varying vec4 v_positionFromLight[ TWOD_SHADOWMAP_COUNT ];\n	uniform sampler2D u_twoDShadowMapSampler[ TWOD_SHADOWMAP_COUNT ];\n	uniform float u_twoDShadowDarkness[ TWOD_SHADOWMAP_COUNT ];\n	uniform float u_twoDShadowBias[ TWOD_SHADOWMAP_COUNT ];\n	uniform vec2 u_twoDShadowSize[ TWOD_SHADOWMAP_COUNT ];\n	uniform vec3 u_twoDLightPos[ TWOD_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "// PCF\nfloat getTwoDShadowVisibilityByPCF(float currentDepth, vec2 shadowCoord, sampler2D twoDShadowMapSampler, float shadowBias, float shadowDarkness, vec2 shadowMapSize){\n\n    float shadow = 0.0;\n    vec2 texelSize = vec2(1.0 / shadowMapSize[0], 1.0 / shadowMapSize[1]);\n\n    for(int x = -1; x <= 1; ++x)\n    {\n        for(int y = -1; y <= 1; ++y)\n        {\n            float pcfDepth = unpackDepth(texture2D(twoDShadowMapSampler, shadowCoord + vec2(x, y) * texelSize));\n            shadow += currentDepth - shadowBias > pcfDepth  ? shadowDarkness : 1.0;\n        }\n    }\n    shadow /= 9.0;\n\n    return shadow;\n}\n\n\n\nfloat getTwoDShadowVisibility(vec3 lightDir, sampler2D twoDShadowMapSampler, vec4 v_positionFromLight, float shadowBias, float shadowDarkness, vec2 shadowSize) {\n    //project texture\n    vec3 shadowCoord = (v_positionFromLight.xyz / v_positionFromLight.w) / 2.0 + 0.5;\n    //vec3 shadowCoord = vec3(0.5, 0.5, 0.5);\n\n    #ifdef SHADOWMAP_TYPE_PCF\n    // Percentage-close filtering\n    // (9 pixel kernel)\n    return getTwoDShadowVisibilityByPCF(shadowCoord.z, shadowCoord.xy, twoDShadowMapSampler, getShadowBias(lightDir, shadowBias), shadowDarkness, shadowSize);\n\n    #else\n    return shadowCoord.z > unpackDepth(texture2D(twoDShadowMapSampler, shadowCoord.xy)) + getShadowBias(lightDir, shadowBias) ? shadowDarkness : 1.0;\n    #endif\n}\n", body: "", };
        ShaderChunk.twoDShadowMap_vertex = { top: "", define: "", varDeclare: "varying vec4 v_positionFromLight[ TWOD_SHADOWMAP_COUNT ];\nuniform mat4 u_vpMatrixFromLight[ TWOD_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "", body: "for( int i = 0; i < TWOD_SHADOWMAP_COUNT; i ++ ) {\n    v_positionFromLight[i] = u_vpMatrixFromLight[i] * vec4(v_worldPosition, 1.0);\n	}\n", };
        return ShaderChunk;
    }());
    wd.ShaderChunk = ShaderChunk;
})(wd || (wd = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9EZWJ1Z0NvbmZpZy50cyIsImRlYnVnL0RlYnVnU3RhdGlzdGljcy50cyIsImV4dGVuZC93ZEZycC50cyIsImRlZmluaXRpb24vdHlwZXNjcmlwdC9kZWNvcmF0b3IvY29udHJhY3QudHMiLCJkZWZpbml0aW9uL3R5cGVzY3JpcHQvZGVjb3JhdG9yL2NhY2hlLnRzIiwiZGVmaW5pdGlvbi90eXBlc2NyaXB0L2RlY29yYXRvci92aXJ0dWFsLnRzIiwiZGVmaW5pdGlvbi90eXBlc2NyaXB0L2RlY29yYXRvci9yaWdpZEJvZHkudHMiLCJkZWZpbml0aW9uL3R5cGVzY3JpcHQvZGVjb3JhdG9yL3NjcmlwdC50cyIsImRlZmluaXRpb24vdHlwZXNjcmlwdC9kZWNvcmF0b3IvY29udHJvbC50cyIsImRlZmluaXRpb24vR2xvYmFsLnRzIiwiZGVmaW5pdGlvbi9WYXJpYWJsZS50cyIsIm1hdGgvR2xvYmFsLnRzIiwibWF0aC9WZWN0b3IyLnRzIiwibWF0aC9WZWN0b3IzLnRzIiwibWF0aC9WZWN0b3I0LnRzIiwibWF0aC9NYXRyaXg0LnRzIiwibWF0aC9NYXRyaXgzLnRzIiwibWF0aC9RdWF0ZXJuaW9uLnRzIiwibWF0aC9QbGFuZS50cyIsIm1hdGgvUmF5LnRzIiwiY29yZS9FbnRpdHkudHMiLCJjb3JlL0NvbXBvbmVudC50cyIsImNvcmUvU2NoZWR1bGVyLnRzIiwiY29yZS9EaXJlY3Rvci50cyIsImNvcmUvTWFpbi50cyIsImNvcmUvRG9tRXZlbnRNYW5hZ2VyLnRzIiwiY29yZS9lbnRpdHlPYmplY3QvRW50aXR5T2JqZWN0LnRzIiwiY29yZS9lbnRpdHlPYmplY3QvVUlPYmplY3QudHMiLCJjb3JlL2VudGl0eU9iamVjdC9HYW1lT2JqZWN0LnRzIiwiY29yZS9lbnRpdHlPYmplY3QvU2NlbmVEaXNwYXRjaGVyLnRzIiwiY29yZS9lbnRpdHlPYmplY3QvU2NlbmUudHMiLCJjb3JlL2VudGl0eU9iamVjdC9HYW1lT2JqZWN0U2NlbmUudHMiLCJjb3JlL2VudGl0eU9iamVjdC9VSU9iamVjdFNjZW5lLnRzIiwiY29yZS9lbnRpdHlPYmplY3QvU2t5Ym94LnRzIiwiY29sbGlzaW9uL0NvbGxpc2lvbkRldGVjdG9yLnRzIiwiZXZlbnQvc3RydWN0dXJlL0V2ZW50TGlzdGVuZXJNYXAudHMiLCJldmVudC9zdHJ1Y3R1cmUvQ3VzdG9tRXZlbnRMaXN0ZW5lck1hcC50cyIsImV2ZW50L3N0cnVjdHVyZS9Eb21FdmVudExpc3RlbmVyTWFwLnRzIiwiZXZlbnQvb2JqZWN0L0VFdmVudFR5cGUudHMiLCJldmVudC9vYmplY3QvRXZlbnROYW1lSGFuZGxlci50cyIsImV2ZW50L29iamVjdC9FRXZlbnRQaGFzZS50cyIsImV2ZW50L29iamVjdC9FdmVudFRhYmxlLnRzIiwiZXZlbnQvb2JqZWN0L0V2ZW50LnRzIiwiZXZlbnQvb2JqZWN0L0RvbUV2ZW50LnRzIiwiZXZlbnQvb2JqZWN0L01vdXNlRXZlbnQudHMiLCJldmVudC9vYmplY3QvS2V5Ym9hcmRFdmVudC50cyIsImV2ZW50L29iamVjdC9DdXN0b21FdmVudC50cyIsImV2ZW50L29iamVjdC9FTW91c2VCdXR0b24udHMiLCJldmVudC9saXN0ZW5lci9FdmVudExpc3RlbmVyLnRzIiwiZXZlbnQvaGFuZGxlci9FdmVudEhhbmRsZXIudHMiLCJldmVudC9oYW5kbGVyL0RvbUV2ZW50SGFuZGxlci50cyIsImV2ZW50L2hhbmRsZXIvTW91c2VFdmVudEhhbmRsZXIudHMiLCJldmVudC9oYW5kbGVyL0tleWJvYXJkRXZlbnRIYW5kbGVyLnRzIiwiZXZlbnQvaGFuZGxlci9DdXN0b21FdmVudEhhbmRsZXIudHMiLCJldmVudC9kaXNwYXRjaGVyL0V2ZW50RGlzcGF0Y2hlci50cyIsImV2ZW50L2Rpc3BhdGNoZXIvQ3VzdG9tRXZlbnREaXNwYXRjaGVyLnRzIiwiZXZlbnQvZGlzcGF0Y2hlci9Eb21FdmVudERpc3BhdGNoZXIudHMiLCJldmVudC9iaW5kZXIvRXZlbnRSZWdpc3Rlci50cyIsImV2ZW50L2JpbmRlci9DdXN0b21FdmVudFJlZ2lzdGVyLnRzIiwiZXZlbnQvYmluZGVyL0RvbUV2ZW50UmVnaXN0ZXIudHMiLCJldmVudC9iaW5kZXIvRXZlbnRCaW5kZXIudHMiLCJldmVudC9iaW5kZXIvQ3VzdG9tRXZlbnRCaW5kZXIudHMiLCJldmVudC9iaW5kZXIvRG9tRXZlbnRCaW5kZXIudHMiLCJldmVudC9mYWN0b3J5L0V2ZW50SGFuZGxlckZhY3RvcnkudHMiLCJldmVudC9mYWN0b3J5L0V2ZW50QmluZGVyRmFjdG9yeS50cyIsImV2ZW50L2ZhY3RvcnkvRXZlbnREaXNwYXRjaGVyRmFjdG9yeS50cyIsImV2ZW50L0V2ZW50TWFuYWdlci50cyIsImV2ZW50L0VFbmdpbmVFdmVudC50cyIsImNvbXBvbmVudC9ldmVudC9kZXRlY3Rvci9FdmVudFRyaWdnZXJEZXRlY3Rvci50cyIsImNvbXBvbmVudC9ldmVudC9kZXRlY3Rvci9VSUV2ZW50VHJpZ2dlckRldGVjdG9yLnRzIiwiY29tcG9uZW50L2V2ZW50L2RldGVjdG9yL1JheUNhc3RlckV2ZW50VHJpZ2dlckRldGVjdG9yLnRzIiwiY29tcG9uZW50L2V2ZW50L2RldGVjdG9yL1NjZW5lRXZlbnRUcmlnZ2VyRGV0ZWN0b3IudHMiLCJjb21wb25lbnQvZXZlbnQvZGV0ZWN0b3IvRXZlbnRUcmlnZ2VyRGV0ZWN0b3JVdGlscy50cyIsImNvbXBvbmVudC9ldmVudC9FdmVudFRyaWdnZXJUYWJsZS50cyIsImNvbXBvbmVudC9zY3JpcHQvU2NyaXB0LnRzIiwiY29tcG9uZW50L3RyYW5zZm9ybS9UcmFuc2Zvcm0udHMiLCJjb21wb25lbnQvdHJhbnNmb3JtL1RocmVlRFRyYW5zZm9ybS50cyIsImNvbXBvbmVudC90cmFuc2Zvcm0vUmVjdFRyYW5zZm9ybS50cyIsImNvbXBvbmVudC9jb250YWluZXIvQ29tcG9uZW50Q29udGFpbmVyLnRzIiwiY29tcG9uZW50L2NvbnRhaW5lci9BY3Rpb25NYW5hZ2VyLnRzIiwiY29tcG9uZW50L2NvbnRhaW5lci9VSU1hbmFnZXIudHMiLCJjb21wb25lbnQvY29udGFpbmVyL0xpZ2h0TWFuYWdlci50cyIsImNvbXBvbmVudC9hbmltYXRpb24vQW5pbWF0aW9uLnRzIiwiY29tcG9uZW50L2FuaW1hdGlvbi9Nb3JwaEFuaW1hdGlvbi50cyIsImNvbXBvbmVudC9hbmltYXRpb24vQXJ0aWN1bGF0ZWRBbmltYXRpb24udHMiLCJjb21wb25lbnQvYW5pbWF0aW9uL0VLZXlGcmFtZUludGVycG9sYXRpb24udHMiLCJjb21wb25lbnQvYW5pbWF0aW9uL0VBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9HZW9tZXRyeS50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9HZW9tZXRyeVV0aWxzLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L0N1c3RvbUdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L01vZGVsR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvQm94R2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvUmVjdEdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvRVNwaGVyZURyYXdNb2RlLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1NwaGVyZUdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1RyaWFuZ2xlR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9HZW9tZXRyeURhdGEudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9Db21tb25HZW9tZXRyeURhdGEudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9Nb3JwaEdlb21ldHJ5RGF0YS50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9kYXRhL0J1ZmZlckNvbnRhaW5lci50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9kYXRhL0NvbW1vbkJ1ZmZlckNvbnRhaW5lci50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9kYXRhL01vcnBoQnVmZmVyQ29udGFpbmVyLnRzIiwiY29tcG9uZW50L2NhbWVyYS9DYW1lcmEudHMiLCJjb21wb25lbnQvY2FtZXJhL09ydGhvZ3JhcGhpY0NhbWVyYS50cyIsImNvbXBvbmVudC9jYW1lcmEvUGVyc3BlY3RpdmVDYW1lcmEudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvQ2FtZXJhQ29udHJvbGxlci50cyIsImNvbXBvbmVudC9jYW1lcmEvY29udHJvbGxlci9iYXNpYy9CYXNpY0NhbWVyYUNvbnRyb2xsZXIudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvZmx5L0ZseUNhbWVyYUNvbnRyb2xsZXIudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvZmx5L0ZseUNhbWVyYUNvbnRyb2wudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvZmx5L0ZseVBlcnNwZWN0aXZlQ2FtZXJhQ29udHJvbC50cyIsImNvbXBvbmVudC9jYW1lcmEvY29udHJvbGxlci9mbHkvRmx5T3J0aG9ncmFwaGljQ2FtZXJhQ29udHJvbC50cyIsImNvbXBvbmVudC9jYW1lcmEvY29udHJvbGxlci9hcmNiYWxsL0FyY2JhbGxDYW1lcmFDb250cm9sbGVyLnRzIiwiY29tcG9uZW50L2FjdGlvbi9BY3Rpb24udHMiLCJjb21wb25lbnQvYWN0aW9uL0FjdGlvbkluc3RhbnQudHMiLCJjb21wb25lbnQvYWN0aW9uL0NhbGxGdW5jLnRzIiwiY29tcG9uZW50L2FjdGlvbi9BY3Rpb25JbnRlcnZhbC50cyIsImNvbXBvbmVudC9hY3Rpb24vQ29udHJvbC50cyIsImNvbXBvbmVudC9hY3Rpb24vU2VxdWVuY2UudHMiLCJjb21wb25lbnQvYWN0aW9uL1NwYXduLnRzIiwiY29tcG9uZW50L2FjdGlvbi9EZWxheVRpbWUudHMiLCJjb21wb25lbnQvYWN0aW9uL1JlcGVhdC50cyIsImNvbXBvbmVudC9hY3Rpb24vUmVwZWF0Rm9yZXZlci50cyIsImNvbXBvbmVudC9hY3Rpb24vVHdlZW4udHMiLCJjb21wb25lbnQvcmVuZGVyZXIvUmVuZGVyZXJDb21wb25lbnQudHMiLCJjb21wb25lbnQvcmVuZGVyZXIvTWVzaFJlbmRlcmVyLnRzIiwiY29tcG9uZW50L3JlbmRlcmVyL1NreWJveFJlbmRlcmVyLnRzIiwiY29tcG9uZW50L3JlbmRlcmVyL1VJUmVuZGVyZXIudHMiLCJjb21wb25lbnQvcmVuZGVyZXIvRVVJUmVuZGVyZXJTdGF0ZS50cyIsImNvbXBvbmVudC9zcGFjZV9wYXJ0aXRpb24vU3BhY2VQYXJ0aXRpb24udHMiLCJjb21wb25lbnQvc3BhY2VfcGFydGl0aW9uL09jdHJlZS50cyIsImNvbXBvbmVudC9zcGFjZV9wYXJ0aXRpb24vT2N0cmVlTm9kZS50cyIsImNvbXBvbmVudC9jb2xsaWRlci9jb2xsaWRlckZvckZpcnN0Q2hlY2svQ29sbGlkZXJGb3JGaXJzdENoZWNrLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL2NvbGxpZGVyRm9yRmlyc3RDaGVjay9Cb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sudHMiLCJjb21wb25lbnQvY29sbGlkZXIvQ29sbGlkZXIudHMiLCJjb21wb25lbnQvY29sbGlkZXIvQm94Q29sbGlkZXIudHMiLCJjb21wb25lbnQvY29sbGlkZXIvU3BoZXJlQ29sbGlkZXIudHMiLCJjb21wb25lbnQvY29sbGlkZXIvQm91bmRpbmdSZWdpb24udHMiLCJjb21wb25lbnQvY29sbGlkZXIvQm94Qm91bmRpbmdSZWdpb24udHMiLCJjb21wb25lbnQvY29sbGlkZXIvU3BoZXJlQm91bmRpbmdSZWdpb24udHMiLCJjb21wb25lbnQvY29sbGlkZXIvQm91bmRpbmdSZWdpb25VdGlscy50cyIsImNvbXBvbmVudC9jb2xsaWRlci9TaGFwZS50cyIsImNvbXBvbmVudC9jb2xsaWRlci9BQUJCU2hhcGUudHMiLCJjb21wb25lbnQvY29sbGlkZXIvU3BoZXJlU2hhcGUudHMiLCJjb21wb25lbnQvY29sbGlkZXIvRUNvbGxpZGVyVHlwZS50cyIsImNvbXBvbmVudC9jb2xsaWRlci9Db2xsaWRlclV0aWxzLnRzIiwiY29tcG9uZW50L3BoeXNpY3MvUmlnaWRCb2R5LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvRHluYW1pY1JpZ2lkQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL0tpbmVtYXRpY1JpZ2lkQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL1N0YXRpY1JpZ2lkQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL21vZGVsL1BoeXNpY3NDb25zdHJhaW50TW9kZWwudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvUGh5c2ljc0VuZ2luZUZhY3RvcnkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9FUGh5c2ljc0VuZ2luZVR5cGUudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vc3RydWN0dXJlL0Nhbm5vbkRhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9DYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vc3RydWN0dXJlL0Nhbm5vbk1hdGVyaWFsTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9zdHJ1Y3R1cmUvY29uc3RyYWludC9DYW5ub25Db25zdHJhaW50RGF0YUxpc3QudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vc3RydWN0dXJlL2NvbnN0cmFpbnQvQ2Fubm9uU2luZ2xlQ29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9jb25zdHJhaW50L0Nhbm5vbkxvY2tDb25zdHJhaW50RGF0YUxpc3QudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vc3RydWN0dXJlL2NvbnN0cmFpbnQvQ2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9jb25zdHJhaW50L0Nhbm5vbkRpc3RhbmNlQ29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9jb25zdHJhaW50L0Nhbm5vbkhpbmdlQ29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL0Nhbm5vblV0aWxzLnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL0Nhbm5vbkFkYXB0ZXIudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vYm9keS9DYW5ub25Cb2R5LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2JvZHkvQ2Fubm9uRHluYW1pY0JvZHkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vYm9keS9DYW5ub25LaW5lbWF0aWNCb2R5LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2JvZHkvQ2Fubm9uU3RhdGljQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9jb25zdHJhaW50L0Nhbm5vbkNvbnN0cmFpbnQudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vY29uc3RyYWludC9DYW5ub25TaW5nbGVDb25zdHJhaW50LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2NvbnN0cmFpbnQvQ2Fubm9uTG9ja0NvbnN0cmFpbnQudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vY29uc3RyYWludC9DYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2NvbnN0cmFpbnQvQ2Fubm9uRGlzdGFuY2VDb25zdHJhaW50LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2NvbnN0cmFpbnQvQ2Fubm9uSGluZ2VDb25zdHJhaW50LnRzIiwiY29tcG9uZW50L2xpZ2h0L0xpZ2h0LnRzIiwiY29tcG9uZW50L2xpZ2h0L0FtYmllbnRMaWdodC50cyIsImNvbXBvbmVudC9saWdodC9Tb3VyY2VMaWdodC50cyIsImNvbXBvbmVudC9saWdodC9EaXJlY3Rpb25MaWdodC50cyIsImNvbXBvbmVudC9saWdodC9Qb2ludExpZ2h0LnRzIiwiY29tcG9uZW50L2xpZ2h0L0F0dGVudWF0aW9uLnRzIiwiY29tcG9uZW50L2xpZ2h0L0VMaWdodE1vZGVsLnRzIiwiY29tcG9uZW50L3VpL1VJLnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvRUZvbnRYQWxpZ25tZW50LnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvRUZvbnRZQWxpZ25tZW50LnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvRUZvbnREaW1lbnNpb24udHMiLCJjb21wb25lbnQvdWkvZm9udC9Gb250LnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvUGxhaW5Gb250LnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvQml0bWFwRm9udC50cyIsImNvbXBvbmVudC91aS9mb250L0NoYXJGb250LnRzIiwiY29tcG9uZW50L3VpL3Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyLnRzIiwiY29tcG9uZW50L3VpL2ltYWdlL0ltYWdlLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uVUkudHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vYnV0dG9uL0J1dHRvbi50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi9idXR0b24vRUJ1dHRvbk9iamVjdE5hbWUudHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vc3RhdGUvRVVJU3RhdGUudHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vc3RhdGUvVUlTdGF0ZU1hY2hpbmUudHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vdHJhbnNpdGlvbi9UcmFuc2l0aW9uLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL3RyYW5zaXRpb24vU3ByaXRlVHJhbnNpdGlvbi50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi90cmFuc2l0aW9uL0NvbG9yVHJhbnNpdGlvbi50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi90cmFuc2l0aW9uL0VUcmFuc2l0aW9uTW9kZS50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi90cmFuc2l0aW9uL1RyYW5zaXRpb25NYW5hZ2VyLnRzIiwiY29tcG9uZW50L3VpL3V0aWxzL1JvdW5kZWRSZWN0VXRpbHMudHMiLCJ1dGlscy9KdWRnZVV0aWxzLnRzIiwidXRpbHMvTWF0aFV0aWxzLnRzIiwidXRpbHMvQ29vcmRpbmF0ZVV0aWxzLnRzIiwidXRpbHMvTG9nLnRzIiwidXRpbHMvdGltZS9UaW1lQ29udHJvbGxlci50cyIsInV0aWxzL3RpbWUvRGlyZWN0b3JUaW1lQ29udHJvbGxlci50cyIsInV0aWxzL3RpbWUvQ29tbW9uVGltZUNvbnRyb2xsZXIudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci9SZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL1R3b0RSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL01pcnJvclJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvVHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvQ3ViZW1hcFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvRHluYW1pY0N1YmVtYXBSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL3V0aWxzL1NoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci91dGlscy9DdWJlbWFwU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJVdGlscy50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL3V0aWxzL1R3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxzLnRzIiwicmVuZGVyZXIvUmVuZGVyZXIudHMiLCJyZW5kZXJlci9XZWJHTFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvRURyYXdNb2RlLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VCdWZmZXJUeXBlLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VCdWZmZXJEYXRhVHlwZS50cyIsInJlbmRlcmVyL2J1ZmZlci9FQnVmZmVyVXNhZ2UudHMiLCJyZW5kZXJlci9idWZmZXIvQnVmZmVyLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VsZW1lbnRCdWZmZXIudHMiLCJyZW5kZXJlci9idWZmZXIvQXJyYXlCdWZmZXIudHMiLCJyZW5kZXJlci9idWZmZXIvQnVmZmVyRGF0YVRhYmxlLnRzIiwicmVuZGVyZXIvUHJvZ3JhbS50cyIsInJlbmRlcmVyL1F1YWRDb21tYW5kLnRzIiwicmVuZGVyZXIvR2xVdGlscy50cyIsInJlbmRlcmVyL2J1ZmZlci9GcmFtZUJ1ZmZlci50cyIsInJlbmRlcmVyL3NoYWRlci9TaGFkZXIudHMiLCJyZW5kZXJlci9zaGFkZXIvU2hhZGVyU291cmNlQnVpbGRlci50cyIsInJlbmRlcmVyL3NoYWRlci92YXJpYWJsZS9FVmFyaWFibGVUeXBlLnRzIiwicmVuZGVyZXIvc2hhZGVyL3ZhcmlhYmxlL0VWYXJpYWJsZUNhdGVnb3J5LnRzIiwicmVuZGVyZXIvc2hhZGVyL3ZhcmlhYmxlL1ZhcmlhYmxlTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL3ZhcmlhYmxlL1ZhcmlhYmxlVHlwZVRhYmxlLnRzIiwicmVuZGVyZXIvc2hhZGVyL3ZhcmlhYmxlL1ZhcmlhYmxlTmFtZVRhYmxlLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9TaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2NvbW1vbi9Db21tb25TaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2NvbW1vbi9Db21tb25WZXJ0aWNlU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9jb21tb24vQ29tbW9uTm9ybWFsU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9iYXNpYy9CYXNpY1NoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYmFzaWMvQmFzaWNFbmRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2FuaW1hdGlvbi9tb3JwaC9Nb3JwaENvbW1vblNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYW5pbWF0aW9uL21vcnBoL01vcnBoVmVydGljZVNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYW5pbWF0aW9uL21vcnBoL01vcnBoTm9ybWFsU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9za3lib3gvU2t5Ym94U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvRW52TWFwRm9yQmFzaWNTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2Vudk1hcC9mb3JCYXNpYy9CYXNpY0Vudk1hcEZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvUmVmbGVjdGlvbkZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvUmVmcmFjdGlvbkZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvRnJlc25lbEZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvRW52TWFwRm9yTGlnaHRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2Vudk1hcC9mb3JMaWdodC9CYXNpY0Vudk1hcEZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvUmVmbGVjdGlvbkZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvUmVmcmFjdGlvbkZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvRnJlc25lbEZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9tYXAvTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9tYXAvQmFzaWNNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL21hcC9NdWx0aU1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbWlycm9yL01pcnJvckZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9MaWdodENvbW1vblNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvTGlnaHRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L0xpZ2h0RW5kU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9MaWdodE1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvRGlmZnVzZU1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvU3BlY3VsYXJNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L2xpZ2h0TWFwL0VtaXNzaW9uTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9Ob3JtYWxNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L2xpZ2h0TWFwL05vRGlmZnVzZU1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvTm9TcGVjdWxhck1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvTm9FbWlzc2lvbk1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvTm9Ob3JtYWxNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L3NoYWRvd01hcC9CdWlsZFNoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL0J1aWxkVHdvRFNoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL0J1aWxkQ3ViZW1hcFNoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL1RvdGFsU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvVHdvRFNoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL0N1YmVtYXBTaGFkb3dNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L3NoYWRvd01hcC9Ob1NoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9zbmlwcGV0L1NoYWRlclNuaXBwZXQudHMiLCJtYXRlcmlhbC9NYXRlcmlhbC50cyIsIm1hdGVyaWFsL0Jhc2ljTWF0ZXJpYWwudHMiLCJtYXRlcmlhbC9Ta3lib3hNYXRlcmlhbC50cyIsIm1hdGVyaWFsL0xpZ2h0TWF0ZXJpYWwudHMiLCJtYXRlcmlhbC9TaGFkZXJNYXRlcmlhbC50cyIsIm1hdGVyaWFsL0VTaGFkaW5nLnRzIiwibWF0ZXJpYWwvTWFwTWFuYWdlci50cyIsImFzc2V0L0VBc3NldFR5cGUudHMiLCJhc3NldC9Mb2FkZXIudHMiLCJhc3NldC9HTFNMTG9hZGVyLnRzIiwiYXNzZXQvSnNMb2FkZXIudHMiLCJhc3NldC9WaWRlb0xvYWRlci50cyIsImFzc2V0L1RleHR1cmVMb2FkZXIudHMiLCJhc3NldC91dGlscy9JbWFnZUxvYWRlci50cyIsImFzc2V0L3V0aWxzL0FqYXhMb2FkZXIudHMiLCJhc3NldC91dGlscy9Nb2RlbExvYWRlclV0aWxzLnRzIiwiYXNzZXQvdGV4dHVyZS9Db21wcmVzc2VkVGV4dHVyZUxvYWRlci50cyIsImFzc2V0L3RleHR1cmUvRERTUGFyc2VyLnRzIiwiYXNzZXQvdGV4dHVyZS9UZXh0dXJlQXNzZXQudHMiLCJhc3NldC90ZXh0dXJlL0ltYWdlVGV4dHVyZUFzc2V0LnRzIiwiYXNzZXQvdGV4dHVyZS9WaWRlb1RleHR1cmVBc3NldC50cyIsImFzc2V0L3RleHR1cmUvQ29tcHJlc3NlZFRleHR1cmVBc3NldC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVGaWx0ZXJNb2RlLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZVdyYXBNb2RlLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZUZvcm1hdC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVUeXBlLnRzIiwiYXNzZXQvdGV4dHVyZS9FRW52TWFwTW9kZS50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVDb21iaW5lTW9kZS50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVUYXJnZXQudHMiLCJhc3NldC9Mb2FkZXJNYW5hZ2VyLnRzIiwiYXNzZXQvTG9hZGVyRmFjdG9yeS50cyIsImFzc2V0L2dsdGYvR0xURkxvYWRlci50cyIsImFzc2V0L2dsdGYvR0xURkFzc2VtYmxlci50cyIsImFzc2V0L2dsdGYvR0xURlBhcnNlci50cyIsImFzc2V0L2dsdGYvR0xURkdlb21ldHJ5UGFyc2VyLnRzIiwiYXNzZXQvZ2x0Zi9HTFRGTWF0ZXJpYWxQYXJzZXIudHMiLCJhc3NldC9nbHRmL0dMVEZBcnRpY3VsYXRlZEFuaW1hdGlvblBhcnNlci50cyIsImFzc2V0L2dsdGYvR0xURlV0aWxzLnRzIiwiYXNzZXQvd2QvRVdEVGFnLnRzIiwiYXNzZXQvd2QvV0RMb2FkZXIudHMiLCJhc3NldC93ZC9XRFBhcnNlci50cyIsImFzc2V0L3dkL1dET2JqZWN0UGFyc2VyLnRzIiwiYXNzZXQvd2QvV0RCdWlsZGVyLnRzIiwiYXNzZXQvZm9udC9Gb250TG9hZGVyLnRzIiwiYXNzZXQvZm9udC9GbnRQYXJzZXIudHMiLCJhc3NldC9mb250L0ZudExvYWRlci50cyIsImRldmljZS9EZXZpY2VNYW5hZ2VyLnRzIiwiZGV2aWNlL0dQVURldGVjdG9yLnRzIiwiZGV2aWNlL0VTY3JlZW5TaXplLnRzIiwic3RydWN0dXJlL1BvaW50LnRzIiwic3RydWN0dXJlL0ZhY2UzLnRzIiwic3RydWN0dXJlL1JlY3RSZWdpb24udHMiLCJzdHJ1Y3R1cmUvVmlldy50cyIsInN0cnVjdHVyZS9Db2xvci50cyIsInRleHR1cmUvVGV4dHVyZS50cyIsInRleHR1cmUvdXRpbHMvVGV4dHVyZVV0aWxzLnRzIiwidGV4dHVyZS91dGlscy9CYXNpY1RleHR1cmVVdGlscy50cyIsInRleHR1cmUvcmVuZGVyVGFyZ2V0VGV4dHVyZS9SZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL1R3b0RSZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL3V0aWxzL1NoYWRvd01hcFRleHR1cmVVdGlscy50cyIsInRleHR1cmUvcmVuZGVyVGFyZ2V0VGV4dHVyZS9NaXJyb3JUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL1R3b0RTaGFkb3dNYXBUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0N1YmVtYXBSZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0N1YmVtYXBTaGFkb3dNYXBUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0R5bmFtaWNDdWJlbWFwVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL0Jhc2ljVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL1R3b0RUZXh0dXJlLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvQ29tbW9uVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL0ltYWdlVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL1ZpZGVvVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2N1YmVtYXAvQ3ViZW1hcFRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9jdWJlbWFwL0N1YmVtYXBGYWNlVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2N1YmVtYXAvQ3ViZW1hcEZhY2VJbWFnZVRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9jdWJlbWFwL0N1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9Db21wcmVzc2VkVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2NvbW1hbmQvRHJhd1RleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3Q29tcHJlc3NlZFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3VHdvRFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3TWlwbWFwVHdvRFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3Tm9NaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQudHMiLCJ2aWRlby9WaWRlby50cyIsInZpZGVvL1ZpZGVvTWFuYWdlci50cyIsInJlbmRlcmVyL3NoYWRlci9jaHVuay9TaGFkZXJDaHVuay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFPLEVBQUUsQ0FNUjtBQU5ELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDSyxjQUFXLEdBQUc7UUFDckIsTUFBTSxFQUFDLEtBQUs7UUFDWixjQUFjLEVBQUMsS0FBSztRQUNwQixjQUFjLEVBQUUsS0FBSztLQUN4QixDQUFBO0FBQ0wsQ0FBQyxFQU5NLEVBQUUsS0FBRixFQUFFLFFBTVI7QUNORCxJQUFPLEVBQUUsQ0F1RFI7QUF2REQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUVOO1FBQUE7UUFvREEsQ0FBQztRQXRCaUIscUJBQUssR0FBbkI7WUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDN0IsQ0FBQztRQUVhLG9CQUFJLEdBQWxCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLElB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LENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFOUMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sc0JBQUksR0FBWCxVQUFZLEVBQVUsRUFBRSxFQUFVO1lBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTdDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHFCQUFHLEdBQVYsVUFBVyxDQUFTO1lBQ2hCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxD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LENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRTdCLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQzNCLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxNQUFNLEdBQUc7b0JBQ0wsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQztpQkFDdkosQ0FBQztZQUNOLENBQUM7WUFFRCxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxFQUFFLENBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEIsRUFBRSxDQUFFLEVBQUUsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0QixFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RCLEVBQUUsQ0FBRSxFQUFFLENBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEIsRUFBRSxDQUFFLEVBQUUsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0QixFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLDZCQUFXLEdBQWxCO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9DLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQU9NLHdCQUFNLEdBQWI7WUFDSSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUNsQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQ2xCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUNsQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQ2xCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUVkLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ2hCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ1osR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNaLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDWixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ1osR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNaLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFWixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUU1QixNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUVyRixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNwRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNyRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNwRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUN0RCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFFckQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sNkJBQVcsR0FBbEI7WUFDQSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUMzQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUM7WUFDaEIsSUFBSSxJQUFJLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRWhDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLEdBQUcsR0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FB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QUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVNNLDJCQUFTLEdBQWhCLFVBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXpELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVdNLDJCQUFTLEdBQWhCLFVBQWtCLEtBQWEsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVE7WUFDM0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUVuRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDbEMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFaEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFcEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDUixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQztnQkFDRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEQsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXZDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNSLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDO2dCQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ1IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUM7Z0JBQ0QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hELENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFFSixHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFWixJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDZixDQUFDLElBQUksSUFBSSxDQUFDO29CQUNWLENBQUMsSUFBSSxJQUFJLENBQUM7b0JBQ1YsQ0FBQyxJQUFJLElBQUksQ0FBQztnQkFDZCxDQUFDO2dCQUVELEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVYLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxHQUFDLEVBQUUsR0FBSSxDQUFDLENB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QUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRWQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNkLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDZCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRVYsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBWU0sd0JBQU0sR0FBYjtZQUFlLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDbEIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRTlCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFFdkQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBS00sMEJBQVEsR0FBZixVQUFpQixJQUFXLEVBQUUsS0FBWSxFQUFFLE1BQWEsRUFBRSxHQUFVLEVBQUUsSUFBVyxFQUFFLEdBQVU7WUFDMUYsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFDZixFQUFFLEVBQ0YsRUFBRSxFQUNGLEVBQUUsQ0FBQztZQUVQLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDeEIsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQztZQUN4QixFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBRXRCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ2YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBRVYsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ2YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFFVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDaEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM3QixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDN0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzNCLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx1QkFBSyxHQUFaLFVBQWMsSUFBVyxFQUFFLEtBQVksRUFBRSxNQUFhLEVBQUUsR0FBVSxFQUFFLElBQVcsRUFBRSxHQUFVO1lBQ3ZGLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFakYsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBZ0JNLGdDQUFjLEdBQXJCLFVBQXVCLElBQVksRUFBRSxNQUFhLEVBQUUsSUFBVyxFQUFFLEdBQVU7WUFDdkUsSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUNSLEVBQUUsR0FBRyxJQUFJLEVBQ1QsQ0FBQyxHQUFHLElBQUksRUFDUixFQUFFLEdBQUcsSUFBSSxFQUNULElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBRXBDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25CLE1BQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBRWpFLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDdEIsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXhCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLEdBQUcsTUFBTSxDQUFDO1lBQ3BCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUVWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFDO1lBQ1gsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFFVixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMzQixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFWCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUM3QixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRVYsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sNkJBQVcsR0FBbEIsVUFBb0IsSUFBWSxFQUFFLE1BQWEsRUFBRSxJQUFXLEVBQUUsR0FBVTtZQUNwRSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUUzRSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSw2QkFBVyxHQUFsQixVQUFvQixLQUFhO1lBQzdCLElBQUksQ0FBQyxHQUFHLElBQUksRUFDUixDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1lBTWpCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBS00sMEJBQVEsR0FBZjtZQUFnQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ25CLElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxJQUFJLEdBQUcsSUFBSSxFQUNYLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFFbEIsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFDbkIsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDMUIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZCLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUN0QixJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUUxQixDQUFDO1lBRUQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsRCxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsRCxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUNwRCxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUN0RCxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsRCxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsRCxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUNwRCxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRTNELE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRTNDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGlDQUFlLEdBQXRCLFVBQXVCLE1BQWM7WUFDakMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFDbEIsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDekIsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1lBRWhCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzVGLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRTVGLE1BQU0sQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLENBQUM7UUFFTSxpQ0FBZSxHQUF0QixVQUF1QixNQUFjO1lBQ2pDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ2xCLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLEVB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QUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLENBQUM7WUFHRCxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFFTSxzQkFBSSxHQUFYO1lBQ0ksTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRSxDQUFDO1FBRU0sc0JBQUksR0FBWDtZQUNJLE1BQU0sQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUUsQ0FBQztRQUVNLHNCQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFFTSxnQ0FBYyxHQUFyQjtZQUNJLE1BQU0sQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0UsQ0FBQztRQUVNLDBCQUFRLEdBQWY7WUFDSSxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFF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QztZQUNULEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVULEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVULEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUViLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzVCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDN0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDWCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1gsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFsVkQ7WUFBQyxVQUFPLENBQUMsVUFBUyxJQUFXLEVBQUUsS0FBWSxFQUFFLE1BQWEsRUFBRSxHQUFVLEVBQUUsSUFBVyxFQUFFLEdBQVU7Z0JBQzNGLFNBQU0sQ0FBQyxJQUFJLEtBQUssS0FBSyxJQUFJLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxLQUFLLEdBQUcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQzNHLENBQUMsQ0FBQzsrQ0FBQTtRQWdERjtZQUFDLFVBQU8sQ0FBQyxVQUFTLElBQVksRUFBRSxNQUFhLEVBQUUsSUFBVyxFQUFFLEdBQVU7Z0JBQ2xFLFNBQU0sQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDbkYsU0FBTSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3BELFNBQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBRXRELENBQUMsQ0FBQztxREFBQTtRQTRSTixjQUFDO0lBQUQsQ0FoekJBLEFBZ3pCQyxJQUFBO0lBaHpCWSxVQUFPLFVBZ3pCbkIsQ0FBQTtBQUNMLENBQUMsRUF2ekJNLEVBQUUsS0FBRixFQUFFLFFBdXpCUjtBQ3Z6QkQsSUFBTyxFQUFFLENBK1ZSO0FBL1ZELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQW9CSTtZQUFZLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFtRFosV0FBTSxHQUFnQixJQUFJLENBQUM7WUFsRDlCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEUsQ0FBQztRQUNMLENBQUM7UUF2QmEsY0FBTSxHQUFwQjtZQUFxQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3hCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztZQUViLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDbkIsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNGLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBRUQsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNiLENBQUM7UUFjRCxzQkFBSSxzQkFBQztpQkFBTDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO2lCQUNELFVBQU0sQ0FBUTtnQkFDVixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixDQUFDOzs7V0FIQTtRQUtELHNCQUFJLHNCQUFDO2lCQUFMO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7aUJBQ0QsVUFBTSxDQUFRO2dCQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7OztXQUhBO1FBS0Qsc0JBQUksc0JBQUM7aUJBQUw7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFNLENBQVE7Z0JBQ1YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdkIsQ0FBQzs7O1dBSEE7UUFLRCxzQkFBSSxzQkFBQztpQkFBTDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO2lCQUNELFVBQU0sQ0FBUTtnQkFDVixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixDQUFDOzs7V0FIQTtRQUtELHNCQUFJLHVCQUFFO2lCQUFOO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7aUJBQ0QsVUFBTyxFQUFTO2dCQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLENBQUM7OztXQUhBO1FBS0Qsc0JBQUksdUJBQUU7aUJBQU47Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFPLEVBQVM7Z0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDeEIsQ0FBQzs7O1dBSEE7UUFPTSw2QkFBVyxHQUFsQjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFcEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRVQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sd0JBQU0sR0FBYjtZQUNJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBQyxFQUFFLEdBQUMsRUFBRSxHQUFDLEVBQUUsQ0FBQztZQUVwQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsR0FBRyxHQUFDLEVBQUUsR0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFDLEdBQUcsR0FBQyxFQUFFLEdBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGdDQUFjLEdBQXJCLFVBQXNCLENBQVE7WUFDMUIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVyQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDWCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDWCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFWCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxpQ0FBZSxHQUF0QixVQUF3QixNQUFjO1lBQ2xDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQ1osQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQ1osTUFBTSxHQUFHLFVBQU8sQ0FBQyxNQUFNLEVBQUUsRUFDekIsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFcEIsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUM7WUFFbkMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRU0sK0JBQWEsR0FBcEIsVUFBc0IsTUFBYztZQUNoQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUNaLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUNaLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxFQUFFLEVBQ3pCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXBCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDN0MsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUU3QyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFFTSwwQkFBUSxHQUFmLFVBQWdCLE1BQWM7WUFDMUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNoRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBRWhELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDaEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUVoRCxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDM0QsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBRTNELElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2IsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDYixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNiLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2IsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUViLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLDJCQUFTLEdBQWhCO1lBQ0ksSUFBSSxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFekIsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBRVgsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sc0JBQUksR0FBWDtZQUNJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RDLENBQUM7UUFFTSxxQkFBRyxHQUFWLFVBQVcsTUFBYztZQUNyQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUNoQixNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUUzQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUQsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlELEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENB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QyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNaLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUVaLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDN0IsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBRW5CLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQzt3QkFDbEIsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7d0JBQ2QsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7d0JBQzFCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO3dCQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDOUIsQ0FBQztvQkFBQyxJQUFJLENBQUMsQ0FBQzt3QkFFSixFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQzdCLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dCQUVuQixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7d0JBQ2xCLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO3dCQUNkLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO3dCQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzt3QkFDMUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzlCLENBQUM7Z0JBQ0wsQ0FBQztnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBRW5CLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0IsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBRW5CLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQztvQkFDbEIsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7b0JBQ2QsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzFCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDOUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFFSixFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzdCLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUVuQixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7b0JBQ2xCLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO29CQUNkLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcs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QUFDLE1BQU0sRUFBRSxDQUFDO1lBRTlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDdkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2QixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEdB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QUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRS9FLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRXhCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDakIsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDakIsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDakIsQ0FBQztZQUVELE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEYsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FB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UUFDVixFQUFFLEVBQUUsTUFBTTtRQUNWLEVBQUUsRUFBRSxJQUFJO1FBQ1IsRUFBRSxFQUFFLE9BQU87UUFDWCxFQUFFLEVBQUUsTUFBTTtRQUNWLEVBQUUsRUFBRSxRQUFRO1FBQ1osRUFBRSxFQUFFLEtBQUs7UUFDVCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsS0FBSztRQUNWLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFFBQVE7UUFDYixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7S0FDWCxFQUNELGFBQWEsR0FBRztRQUNaLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLElBQUksRUFBRSxHQUFHO0tBQ1osQ0FBQztJQUVOO1FBQW1DLGlDQUFRO1FBQTNDO1lBQW1DLDhCQUFRO1lBTzdCLFdBQU0sR0FBYyxhQUFVLENBQUMsUUFBUSxDQUFDO1lBd0MzQyxhQUFRLEdBQU8sSUFBSSxDQUFDO1FBTy9CLENBQUM7UUFyRGlCLG9CQUFNLEdBQXBCLFVBQXFCLEtBQVMsRUFBRSxTQUFvQjtZQUNoRCxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFckMsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFJRCxzQkFBSSxrQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFDOUIsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxpQ0FBTTtpQkFBVjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDN0IsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxtQ0FBUTtpQkFBWjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDL0IsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxrQ0FBTztpQkFBWDtnQkFFSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFDOUIsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxrQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFDOUIsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSw4QkFBRztpQkFBUDtnQkFDSSxJQUFJLEdBQUcsR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUNuQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUVoQixFQUFFLENBQUEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBLENBQUM7b0JBQ0wsSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUV2RCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQzt3QkFDZCxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUMvQixDQUFDO29CQUVELE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ2hCLENBQUM7Z0JBRUQsTUFBTSxDQUFDLEdBQUcsQ0FBQztZQUNmLENBQUM7OztXQUFBO1FBSU0sNEJBQUksR0FBWDtZQUNJLElBQUksUUFBUSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFM0QsTUFBTSxDQUFnQixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLG1CQUFtQixFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkwsQ0FBQztRQUNMLG9CQUFDO0lBQUQsQ0F0REEsQUFzREMsQ0F0RGtDLFdBQVEsR0FzRDFDO0lBdERZLGdCQUFhLGdCQXNEekIsQ0FBQTtBQUNMLENBQUMsRUExS00sRUFBRSxLQUFGLEVBQUUsUUEwS1I7QUMxS0QsSUFBTyxFQUFFLENBeUNSO0FBekNELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFpQywrQkFBSztRQUF0QztZQUFpQyw4QkFBSztZQU8zQixhQUFRLEdBQU8sSUFBSSxDQUFDO1lBRWpCLFdBQU0sR0FBYyxhQUFVLENBQUMsTUFBTSxDQUFDO1FBOEJwRCxDQUFDO1FBdENpQixrQkFBTSxHQUFwQixVQUFxQixTQUFnQjtZQUNqQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBTSxTQUFTLENBQUMsQ0FBQztZQUVuQyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQU9NLHFDQUFlLEdBQXRCLFVBQXVCLFdBQVcsRUFBRSxNQUFVO1lBQzFDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztZQUVwQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsVUFBUyxJQUFJLEVBQUUsUUFBUTtnQkFDeEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUc7dUJBQzVCLENBQUMsYUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QyxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdkIsQ0FBQztRQUVNLDBCQUFJLEdBQVg7WUFDSSxJQUFJLFFBQVEsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQWMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ25ILENBQUM7UUFPTSx5Q0FBbUIsR0FBMUIsVUFBMkIsS0FBZ0I7WUFDdkMsSUFBSSxDQUFDLE1BQU0sR0FBaUIsS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUN6QyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7WUFDekMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztRQUNyRCxDQUFDO1FBQ0wsa0JBQUM7SUFBRCxDQXZDQSxBQXVDQyxDQXZDZ0MsUUFBSyxHQXVDckM7SUF2Q1ksY0FBVyxjQXVDdkIsQ0FBQTtBQUNMLENBQUMsRUF6Q00sRUFBRSxLQUFGLEVBQUUsUUF5Q1I7QUN6Q0QsSUFBTyxFQUFFLENBTVI7QUFORCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1AsV0FBWSxZQUFZO1FBQ3BCLCtDQUFJLENBQUE7UUFDSixpREFBSyxDQUFBO1FBQ0wsbURBQU0sQ0FBQTtJQUNWLENBQUMsRUFKVyxlQUFZLEtBQVosZUFBWSxRQUl2QjtJQUpELElBQVksWUFBWSxHQUFaLGVBSVgsQ0FBQTtBQUNMLENBQUMsRUFOTSxFQUFFLEtBQUYsRUFBRSxRQU1SO0FDTkQsSUFBTyxFQUFFLENBZ0RSO0FBaERELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQWFJLHVCQUFZLE1BQVU7WUFKZixjQUFTLEdBQWMsSUFBSSxDQUFDO1lBQzVCLGFBQVEsR0FBVSxJQUFJLENBQUM7WUFDdkIsb0JBQWUsR0FBcUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQW9CLENBQUM7WUFHbEcsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQztRQWZhLG9CQUFNLEdBQXBCLFVBQXFCLE1BQU07WUFDdkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFM0IsR0FBRyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUUzQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQVdNLHNDQUFjLEdBQXJCLFVBQXNCLE1BQVk7WUFDOUIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFTywyQ0FBbUIsR0FBM0IsVUFBNEIsTUFBWTtZQUNwQyxJQUFJLENBQUMsR0FBRyxJQUFJLEVBQ1IsWUFBWSxHQUFHLE9BQU8sQ0FBQztZQUUzQixHQUFHLENBQUEsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUEsQ0FBQztnQkFDYixFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDekIsRUFBRSxDQUFBLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7d0JBQ3JCLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDOzRCQUMxQixTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7NEJBQ2xDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO3lCQUNyQixDQUFDLENBQUM7b0JBQ1AsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFTyx1Q0FBZSxHQUF2QixVQUF3QixXQUFXO1lBQy9CLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzlDLENBQUM7UUFDTCxvQkFBQztJQUFELENBekNBLEFBeUNDLElBQUE7SUF6Q1ksZ0JBQWEsZ0JBeUN6QixDQUFBO0FBTUwsQ0FBQyxFQWhETSxFQUFFLEtBQUYsRUFBRSxRQWdEUjtBQ2hERCxJQUFPLEVBQUUsQ0FRUjtBQVJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFBO1FBTUEsQ0FBQztRQUFELG1CQUFDO0lBQUQsQ0FOQSxBQU1DLElBQUE7SUFOcUIsZUFBWSxlQU1qQyxDQUFBO0FBQ0wsQ0FBQyxFQVJNLEVBQUUsS0FBRixFQUFFLFFBUVI7QUNSRCxJQUFPLEVBQUUsQ0F3SFI7QUF4SEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQThDLG1DQUFZO1FBQTFEO1lBQThDLDhCQUFZO1FBc0gxRCxDQUFDO1FBOUdVLDZCQUFHLEdBQVY7WUFBVyxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2QsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUNYLGFBQWEsR0FBRyxtQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsRUFDOUMsZ0JBQWdCLEdBQW9DLElBQUksQ0FBQztZQUU3RCxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFFbkUsRUFBRSxDQUFBLENBQUMsZ0JBQWdCLENBQUMsQ0FBQSxDQUFDO2dCQUNqQixnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFxQztvQkFDM0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQTRCO3dCQUN0QyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQ3BGLENBQUMsQ0FBQyxDQUFDO2dCQUNQLENBQUMsQ0FBQyxDQUFBO1lBQ04sQ0FBQztRQUdMLENBQUM7UUFLTSxpQ0FBTyxHQUFkO1lBQWUsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNsQixJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQ1YsS0FBSyxHQUFHLElBQUksRUFDWixTQUFTLEdBQUcsSUFBSSxFQUNoQixnQkFBZ0IsR0FBeUMsSUFBSSxDQUFDO1lBRWxFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEIsR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUMvQixDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDZCxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLENBQUM7WUFFRCxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztZQUV2QixnQkFBZ0IsR0FBRyxtQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFM0YsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hFLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxZQUFpQztnQkFDdkQsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUU3QixZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBUVMsc0NBQVksR0FBdEI7UUFDQSxDQUFDO1FBRVMseUNBQWUsR0FBekIsVUFBMEIsR0FBZSxFQUFFLFNBQW9CO1lBQzNELElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxPQUFPLEdBQUcsT0FBSSxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLO2dCQUNyRCxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRVMsaUNBQU8sR0FBakIsVUFBa0IsR0FBZSxFQUFFLFNBQW9CLEVBQUUsT0FBZ0IsRUFBRSxRQUFlO1lBQ3RGLElBQUksVUFBVSxHQUFHLElBQUksRUFDakIsYUFBYSxHQUFHLE9BQU8sQ0FBQztZQUU1QixPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUVwRCxFQUFFLENBQUMsQ0FBQyxDQUFDLG1CQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDNUMsQ0FBQztZQUNELElBQUksQ0FBQSxDQUFDO2dCQUNELFVBQVUsR0FBRyxtQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzlFLENBQUM7WUFFRCxtQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQ25DLEdBQUcsRUFDSCxTQUFTLEVBQ1QsSUFBSSxDQUFDLGVBQWUsRUFBRSxFQUN0QixPQUFPLEVBQ1AsYUFBYSxFQUNiLFVBQVUsRUFDVixRQUFRLENBQ1gsQ0FBQztRQUNOLENBQUM7UUFFTywrQkFBSyxHQUFiLFVBQWMsR0FBZSxFQUFFLFNBQW9CO1lBQy9DLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQztZQUV0QixVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFbEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQ3BCLEdBQUcsRUFDSCxtQkFBZ0IsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEVBQzNDLFVBQVUsQ0FDYixDQUFDO1lBRUYsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUN0QixDQUFDO1FBRU8saUNBQU8sR0FBZixVQUFnQixHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU87WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLG1CQUFnQixDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzRixDQUFDO1FBckREO1lBQUMsVUFBTzsyREFBQTtRQXNEWixzQkFBQztJQUFELENBdEhBLEFBc0hDLENBdEg2QyxlQUFZLEdBc0h6RDtJQXRIcUIsa0JBQWUsa0JBc0hwQyxDQUFBO0FBQ0wsQ0FBQyxFQXhITSxFQUFFLEtBQUYsRUFBRSxRQXdIUjtBQ3hIRCxJQUFPLEVBQUUsQ0F5SFI7QUF6SEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQXVDLHFDQUFlO1FBQXREO1lBQXVDLDhCQUFlO1FBdUh0RCxDQUFDO1FBcEhpQiw2QkFBVyxHQUF6QjtZQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2hDLENBQUM7WUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDO1FBdUJNLDhCQUFFLEdBQVQ7WUFBVSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2IsSUFBSSxHQUFHLEdBQWUsSUFBSSxFQUN0QixTQUFTLEdBQUcsSUFBSSxFQUNoQixPQUFPLEdBQUcsSUFBSSxFQUNkLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFcEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO2dCQUUzQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNkLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsQ0FBQztZQUVELElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVTLHlDQUFhLEdBQXZCO1lBQ0ksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDekIsQ0FBQztRQUVTLDJDQUFlLEdBQXpCLFVBQTBCLEdBQWUsRUFBRSxLQUFXLEVBQUUsU0FBb0I7WUFDeEUsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFOUQsZUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDeEMsQ0FBQztRQUVTLDRDQUFnQixHQUExQixVQUEyQixTQUFvQixFQUFFLE9BQWtDO1lBQy9FLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQztZQUV6QixNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO2dCQUNmLEtBQUssYUFBVSxDQUFDLFNBQVM7b0JBQ3JCLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUMxQyxLQUFLLENBQUM7Z0JBQ1Y7b0JBQ0ksYUFBYSxHQUFHLE9BQU8sQ0FBQztvQkFDeEIsS0FBSyxDQUFDO1lBQ2QsQ0FBQztZQUVELE1BQU0sQ0FBQyxhQUFhLENBQUM7UUFDekIsQ0FBQztRQUVTLDJDQUFlLEdBQXpCO1lBQ0ksSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQU8sQ0FBQztZQUV4QyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNsQyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVsQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ3JCLENBQUM7UUFFTyx1Q0FBVyxHQUFuQixVQUFvQixPQUFrQztZQUNsRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7WUFFaEIsTUFBTSxDQUFDLFVBQUMsS0FBZ0IsRUFBRSxTQUF3QjtnQkFDOUMsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztnQkFFbkQsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUVmLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3pDLENBQUMsQ0FBQztRQUNOLENBQUM7UUFFTyw4Q0FBa0IsR0FBMUIsVUFBMkIsR0FBZSxFQUFFLEtBQVMsRUFBRSxTQUFvQjtZQUN2RSxJQUFJLEdBQUcsR0FBRyxhQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsT0FBSSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztZQUVuRSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUVqQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUVPLHVEQUEyQixHQUFuQyxVQUFvQyxLQUFnQixFQUFFLFNBQXdCO1lBQzFFLEtBQUssQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxQyxLQUFLLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUVPLHlDQUFhLEdBQXJCLFVBQXNCLEtBQWdCLEVBQUUsU0FBd0I7WUFDNUQsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUU5QixTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLENBQUM7UUFySGMsMkJBQVMsR0FBRyxJQUFJLENBQUM7UUF1QmhDO1lBQUMsVUFBTyxDQUFDO2dCQUFTLGNBQU87cUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztvQkFBUCw2QkFBTzs7Z0JBQ3JCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDbEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUVsQixTQUFNLENBQUMsYUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztnQkFDdkYsQ0FBQztZQUNMLENBQUMsQ0FBQzttREFBQTtRQXlGTix3QkFBQztJQUFELENBdkhBLEFBdUhDLENBdkhzQyxrQkFBZSxHQXVIckQ7SUF2SFksb0JBQWlCLG9CQXVIN0IsQ0FBQTtBQUNMLENBQUMsRUF6SE0sRUFBRSxLQUFGLEVBQUUsUUF5SFI7QUN6SEQsSUFBTyxFQUFFLENBMkhSO0FBM0hELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFJUDtRQUEwQyx3Q0FBZTtRQUF6RDtZQUEwQyw4QkFBZTtRQXNIekQsQ0FBQztRQW5IaUIsZ0NBQVcsR0FBekI7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQztRQU9NLGlDQUFFLEdBQVQ7WUFBVSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2IsSUFBSSxTQUFTLEdBQUcsSUFBSSxFQUNoQixPQUFPLEdBQUcsSUFBSSxFQUNkLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFcEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxNQUFHLENBQUMsSUFBSSxDQUFDLCtDQUErQyxDQUFDLENBQUM7Z0JBRTFELFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsQ0FBQztZQUVELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUVTLDhDQUFlLEdBQXpCLFVBQTBCLEdBQWUsRUFBRSxLQUFXLEVBQUUsU0FBb0I7WUFDeEUsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFFOUQsZUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDeEMsQ0FBQztRQUVTLDRDQUFhLEdBQXZCO1lBQ0ksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDekIsQ0FBQztRQUVTLCtDQUFnQixHQUExQixVQUEyQixTQUFvQixFQUFFLE9BQXFDO1lBQ2xGLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQztZQUV6QixNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO2dCQUNmLEtBQUssYUFBVSxDQUFDLE9BQU87b0JBQ25CLGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM3QyxLQUFLLENBQUM7Z0JBQ1YsS0FBSyxhQUFVLENBQUMsS0FBSztvQkFDakIsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQzNDLEtBQUssQ0FBQztnQkFDVjtvQkFDSSxhQUFhLEdBQUcsT0FBTyxDQUFDO29CQUN4QixLQUFLLENBQUM7WUFDZCxDQUFDO1lBRUQsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUN6QixDQUFDO1FBRVMsOENBQWUsR0FBekI7WUFDSSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBTyxDQUFDO1lBRXhDLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBRW5DLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDckIsQ0FBQztRQUVPLDZDQUFjLEdBQXRCLFVBQXVCLE9BQXFDO1lBQ3hELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixNQUFNLENBQUMsVUFBQyxLQUFtQixFQUFFLFNBQXdCO2dCQUNqRCxJQUFJLFFBQVEsR0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUVsRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3BDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUUzQixJQUFJLENBQUMsMkJBQTJCLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2dCQUVuRCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkIsQ0FBQyxDQUFDO1FBQ04sQ0FBQztRQUVPLDJDQUFZLEdBQXBCLFVBQXFCLE9BQXFDO1lBQ3RELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixNQUFNLENBQUMsVUFBQyxLQUFtQixFQUFFLFNBQXdCO2dCQUNqRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUUxRCxJQUFJLENBQUMsMkJBQTJCLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2dCQUVuRCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkIsQ0FBQyxDQUFDO1FBQ04sQ0FBQztRQUVPLDBEQUEyQixHQUFuQyxVQUFvQyxLQUFtQixFQUFFLFNBQXdCO1lBQzdFLEtBQUssQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBRU8sbURBQW9CLEdBQTVCLFVBQTZCLFFBQVk7WUFDckMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDckIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzdCLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQ3hCLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVPLGlEQUFrQixHQUExQixVQUEyQixHQUFlLEVBQUUsS0FBUyxFQUFFLFNBQW9CO1lBQ3ZFLElBQUksR0FBRyxHQUFHLGdCQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsT0FBSSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztZQUV0RSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUVqQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQXBIYyw4QkFBUyxHQUFHLElBQUksQ0FBQztRQXFIcEMsMkJBQUM7SUFBRCxDQXRIQSxBQXNIQyxDQXRIeUMsa0JBQWUsR0FzSHhEO0lBdEhZLHVCQUFvQix1QkFzSGhDLENBQUE7QUFDTCxDQUFDLEVBM0hNLEVBQUUsS0FBRixFQUFFLFFBMkhSO0FDM0hELElBQU8sRUFBRSxDQXNMUjtBQXRMRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBd0Msc0NBQVk7UUFBcEQ7WUFBd0MsOEJBQVk7UUFvTHBELENBQUM7UUFqTGlCLDhCQUFXLEdBQXpCO1lBQ0ksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDaEMsQ0FBQztZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzFCLENBQUM7UUFLTSwrQkFBRSxHQUFUO1lBQVUsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNiLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNqQixhQUFhLEdBQUcsT0FBTyxFQUN2QixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixzQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQ3RDLElBQUksRUFDQyxTQUFTLEVBQ2QsT0FBTyxFQUNQLGFBQWEsRUFDYixJQUFJLEVBQ0osUUFBUSxDQUNYLENBQUM7WUFDTixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNqQixhQUFhLEdBQUcsT0FBTyxFQUN2QixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixzQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQ3RDLE1BQU0sRUFDRCxTQUFTLEVBQ2QsT0FBTyxFQUNQLGFBQWEsRUFDYixJQUFJLEVBQ0osUUFBUSxDQUNYLENBQUM7WUFDTixDQUFDO1FBQ0wsQ0FBQztRQU9NLGdDQUFHLEdBQVY7WUFBVyxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2QsSUFBSSxhQUFhLEdBQUcsc0JBQW1CLENBQUMsV0FBVyxFQUFFLENBQUM7WUFFdEQsYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFPTSxvQ0FBTyxHQUFkO1lBQWUsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNsQixJQUFJLEtBQUssR0FBUyxJQUFJLENBQUM7WUFFdkIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN2QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBRXBCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDbEIsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsQ0FBQztnQkFDRCxJQUFJLENBQUEsQ0FBQztvQkFDRCxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNoQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixDQUFDO2dCQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3RELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUM1QyxJQUFJLE1BQU0sR0FBRyxJQUFJLEVBQ2IsUUFBUSxHQUFHLElBQUksRUFDZixZQUFZLEdBQUcsSUFBSSxDQUFDO2dCQUV4QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQ2xCLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2pCLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2hCLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNCLENBQUM7Z0JBQ0QsSUFBSSxDQUFBLENBQUM7b0JBQ0QsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDakIsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDaEIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbkIsWUFBWSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsQ0FBQztnQkFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ3JGLENBQUM7UUFFTCxDQUFDO1FBRU8saURBQW9CLEdBQTVCLFVBQTZCLEtBQUssRUFBRSxRQUFRO1lBQ3hDLElBQUksZ0JBQWdCLEdBQTRDLElBQUksRUFDaEUsSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixnQkFBZ0IsR0FBRyxzQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFMUYsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hFLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDakIsQ0FBQztZQUVELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQW9DO2dCQVMxRCxLQUFLLENBQUMsYUFBYSxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUM7Z0JBQzFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQztnQkFFbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBRW5DLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEMsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTywwREFBNkIsR0FBckMsVUFBc0MsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsWUFBWTtZQUN2RSxJQUFJLGdCQUFnQixHQUE0QyxJQUFJLEVBQ2hFLGlCQUFpQixHQUFHLEtBQUssRUFDekIsSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixFQUFFLENBQUEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQ2QsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDMUIsQ0FBQztZQUVELGdCQUFnQixHQUFHLHNCQUFtQixDQUFDLFdBQVcsRUFBRSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFbEcsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hFLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDakIsQ0FBQztZQUVELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQW9DO2dCQWUxRCxLQUFLLENBQUMsYUFBYSxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUM7Z0JBRTFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUVuQyxZQUFZLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUU1QixFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQSxDQUFDO29CQUN4QixpQkFBaUIsR0FBRyxJQUFJLENBQUM7Z0JBQzdCLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUM3QixDQUFDO1FBRU8seUNBQVksR0FBcEIsVUFBcUIsS0FBaUIsRUFBRSxRQUFRO1lBQzVDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxDQUFBLENBQUM7Z0JBQ1QsS0FBSyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDOUIsQ0FBQztRQUNMLENBQUM7UUFsTGMsNEJBQVMsR0FBRyxJQUFJLENBQUM7UUFtTHBDLHlCQUFDO0lBQUQsQ0FwTEEsQUFvTEMsQ0FwTHVDLGVBQVksR0FvTG5EO0lBcExZLHFCQUFrQixxQkFvTDlCLENBQUE7QUFDTCxDQUFDLEVBdExNLEVBQUUsS0FBRixFQUFFLFFBc0xSO0FDdExELElBQU8sRUFBRSxDQUlSO0FBSkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQUE7UUFFQSxDQUFDO1FBQUQsc0JBQUM7SUFBRCxDQUZBLEFBRUMsSUFBQTtJQUZxQixrQkFBZSxrQkFFcEMsQ0FBQTtBQUNMLENBQUMsRUFKTSxFQUFFLEtBQUYsRUFBRSxRQUlSO0FDSkQsSUFBTyxFQUFFLENBeUhSO0FBekhELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUEyQyx5Q0FBZTtRQUExRDtZQUEyQyw4QkFBZTtRQXVIMUQsQ0FBQztRQXBIaUIsaUNBQVcsR0FBekI7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQztRQVlNLHVDQUFPLEdBQWQ7WUFBZSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2xCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxPQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLFNBQVMsR0FBRyxPQUFLLENBQUMsSUFBSSxDQUFDO2dCQUUzQixNQUFNLENBQUMsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDO3FCQUNuRCxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7WUFDeEIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxRQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3JELElBQUksT0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDZixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsQixTQUFTLEdBQUcsT0FBSyxDQUFDLElBQUksQ0FBQztnQkFFM0IsTUFBTSxDQUFDLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztxQkFDbkQsT0FBTyxDQUFDLE9BQUssRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNsQyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDcEgsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixPQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkQsU0FBUyxHQUFHLE9BQUssQ0FBQyxJQUFJLENBQUM7Z0JBRTNCLE1BQU0sQ0FBQyxzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUM7cUJBQ25ELE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzlDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUM1QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLE9BQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2YsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEIsWUFBWSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuRCxTQUFTLEdBQUcsT0FBSyxDQUFDLElBQUksQ0FBQztnQkFFM0IsTUFBTSxDQUFDLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztxQkFDbkQsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFLLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ3hELENBQUM7UUFDTCxDQUFDO1FBT00sb0NBQUksR0FBWCxVQUFZLE1BQW1CLEVBQUUsV0FBaUIsRUFBRSxRQUFhO1lBQzdELElBQUksaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1lBRTlCLEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQztnQkFDUixNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsV0FBVyxDQUFDLEtBQUssR0FBRyxjQUFXLENBQUMsSUFBSSxDQUFDO1lBQ3JDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBRTVCLEdBQUUsQ0FBQztnQkFDQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBRW5GLEVBQUUsQ0FBQSxDQUFDLGlCQUFpQixDQUFDLENBQUEsQ0FBQztvQkFDbEIsS0FBSyxDQUFDO2dCQUNWLENBQUM7Z0JBQ0QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUM7WUFDakMsQ0FBQyxRQUFNLE1BQU0sRUFBRTtRQUNuQixDQUFDO1FBT00seUNBQVMsR0FBaEIsVUFBaUIsTUFBbUIsRUFBRSxXQUFpQixFQUFFLFFBQWE7WUFDbEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2hCLElBQUksUUFBUSxHQUFHLFVBQUMsR0FBZ0I7Z0JBQzVCLElBQUksUUFBUSxHQUFpQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRS9ELEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO29CQUMxQixNQUFNLENBQUM7Z0JBQ1gsQ0FBQztnQkFFRCxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBa0I7b0JBQ2hDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFFOUQsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNwQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQTtZQUVELEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQztnQkFDUixNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsV0FBVyxDQUFDLEtBQUssR0FBRyxjQUFXLENBQUMsU0FBUyxDQUFDO1lBQzFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBRTVCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUUvRCxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsQ0FBQztRQUVPLG9EQUFvQixHQUE1QixVQUE2QixNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxZQUFZO1lBQzlELE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUM7a0JBQy9ELElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBckhjLCtCQUFTLEdBQUcsSUFBSSxDQUFDO1FBc0hwQyw0QkFBQztJQUFELENBdkhBLEFBdUhDLENBdkgwQyxrQkFBZSxHQXVIekQ7SUF2SFksd0JBQXFCLHdCQXVIakMsQ0FBQTtBQUNMLENBQUMsRUF6SE0sRUFBRSxLQUFGLEVBQUUsUUF5SFI7QUN6SEQsSUFBTyxFQUFFLENBZ0NSO0FBaENELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUF3QyxzQ0FBZTtRQUF2RDtZQUF3Qyw4QkFBZTtRQThCdkQsQ0FBQztRQTNCaUIsOEJBQVcsR0FBekI7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQztRQUtNLG9DQUFPLEdBQWQ7WUFBZSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2xCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxPQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLFNBQVMsR0FBRyxPQUFLLENBQUMsSUFBSSxDQUFDO2dCQUUzQixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUM7cUJBQzVDLE9BQU8sQ0FBQyxPQUFLLENBQUMsQ0FBQztZQUN4QixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsT0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDZixTQUFTLEdBQUcsT0FBSyxDQUFDLElBQUksQ0FBQztnQkFFM0Isc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDO3FCQUM1QyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQUssQ0FBQyxDQUFDO1lBQzdCLENBQUM7UUFDTCxDQUFDO1FBNUJjLDRCQUFTLEdBQUcsSUFBSSxDQUFDO1FBNkJwQyx5QkFBQztJQUFELENBOUJBLEFBOEJDLENBOUJ1QyxrQkFBZSxHQThCdEQ7SUE5QlkscUJBQWtCLHFCQThCOUIsQ0FBQTtBQUNMLENBQUMsRUFoQ00sRUFBRSxLQUFGLEVBQUUsUUFnQ1I7QUNoQ0QsSUFBTyxFQUFFLENBMkRSO0FBM0RELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFBO1lBQ2MsZ0JBQVcsR0FBb0IscUJBQWtCLENBQUM7UUE4Q2hFLENBQUM7UUFwQ1UsZ0RBQXdCLEdBQS9CO1lBQWdDLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDbkMsSUFBSSxNQUFNLEdBQXNDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRXhHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDVixNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ2hCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssRUFBRSxLQUFLO2dCQUNyQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1lBQzNDLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUVNLDhCQUFNLEdBQWIsVUFBYyxJQUFhO1lBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxDQUFDO1FBRU0sK0JBQU8sR0FBZCxVQUFlLElBQWE7WUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFRTSxnQ0FBUSxHQUFmO1lBQWdCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FDbEMsSUFBSSxDQUFDLFdBQVcsRUFDaEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FDM0MsQ0FBQztRQUNOLENBQUM7UUFFTSwyQ0FBbUIsR0FBMUIsVUFBMkIsR0FBVTtZQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyRCxDQUFDO1FBQ0wsb0JBQUM7SUFBRCxDQS9DQSxBQStDQyxJQUFBO0lBL0NxQixnQkFBYSxnQkErQ2xDLENBQUE7QUFXTCxDQUFDLEVBM0RNLEVBQUUsS0FBRixFQUFFLFFBMkRSO0FDM0RELElBQU8sRUFBRSxDQXVHUjtBQXZHRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBeUMsdUNBQWE7UUFBdEQ7WUFBeUMsOEJBQWE7WUFXeEMsZ0JBQVcsR0FBMEIseUJBQXNCLENBQUMsTUFBTSxFQUFFLENBQUM7UUErRW5GLENBQUM7UUF2RmlCLCtCQUFXLEdBQXpCO1lBQ0ksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDaEMsQ0FBQztZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzFCLENBQUM7UUFNTSxzQ0FBUSxHQUFmLFVBQWdCLE1BQW1CLEVBQUUsU0FBb0IsRUFBRSxPQUFnQixFQUFFLGFBQXNCLEVBQUUsVUFBbUIsRUFBRSxRQUFlO1lBQ3JJLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQTJCO2dCQUNyRSxNQUFNLEVBQUUsTUFBTTtnQkFDZCxTQUFTLEVBQUUsU0FBUztnQkFDcEIsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLGFBQWEsRUFBRSxhQUFhO2dCQUM1QixVQUFVLEVBQUUsVUFBVTtnQkFDdEIsUUFBUSxFQUFFLFFBQVE7YUFDckIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQVlNLG9DQUFNLEdBQWI7WUFBYyxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVyQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV4QixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM1QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxlQUFZLENBQUMsQ0FBQyxDQUFDO2dCQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFFckMsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3JELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV4QixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDakQsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxlQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25GLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUUzRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN6QyxJQUFJLENBQUMsa0NBQWtDLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BELENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVNLDZDQUFlLEdBQXRCLFVBQXVCLE1BQW1CLEVBQUUsTUFBbUI7WUFDM0QsTUFBTSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7UUFDakMsQ0FBQztRQUVNLDJDQUFhLEdBQXBCLFVBQXFCLEdBQVU7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9DLENBQUM7UUFFTSxzQ0FBUSxHQUFmLFVBQWdCLEdBQVUsRUFBRSxNQUFtQixFQUFFLElBQTZDO1lBQzFGLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hELENBQUM7UUFFTyx1REFBeUIsR0FBakMsVUFBa0MsTUFBbUI7WUFDakQsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsVUFBQyxJQUE2QyxFQUFFLEdBQVU7Z0JBQ3hGLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDakYsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU8sZ0VBQWtDLEdBQTFDLFVBQTJDLE1BQW1CO1lBQzFELElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7UUF4RmMsNkJBQVMsR0FBRyxJQUFJLENBQUM7UUF5RnBDLDBCQUFDO0lBQUQsQ0ExRkEsQUEwRkMsQ0ExRndDLGdCQUFhLEdBMEZyRDtJQTFGWSxzQkFBbUIsc0JBMEYvQixDQUFBO0FBWUwsQ0FBQyxFQXZHTSxFQUFFLEtBQUYsRUFBRSxRQXVHUjtBQ3ZHRCxJQUFPLEVBQUUsQ0F1RlI7QUF2RkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQXNDLG9DQUFhO1FBQW5EO1lBQXNDLDhCQUFhO1lBV3JDLGdCQUFXLEdBQXVCLHNCQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDO1FBNEQ3RSxDQUFDO1FBcEVpQiw0QkFBVyxHQUF6QjtZQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2hDLENBQUM7WUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDO1FBTU0sbUNBQVEsR0FBZixVQUFnQixHQUFlLEVBQUUsU0FBb0IsRUFBRSxTQUF3QixFQUFFLE9BQWdCLEVBQUUsYUFBc0IsRUFBRSxVQUFtQixFQUFFLFFBQWU7WUFDM0osSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBd0I7Z0JBQy9ELEdBQUcsRUFBRSxHQUFHO2dCQUNSLFNBQVMsRUFBRSxTQUFTO2dCQUVwQixTQUFTLEVBQUUsU0FBUztnQkFDcEIsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLGFBQWEsRUFBRSxhQUFhO2dCQUM1QixVQUFVLEVBQUUsVUFBVTtnQkFDdEIsUUFBUSxFQUFFLFFBQVE7YUFDckIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQVVNLGlDQUFNLEdBQWI7WUFBYyxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztZQUVsQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV4QixNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckQsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzlELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM3RSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDeEUsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVNLG1DQUFRLEdBQWYsVUFBZ0IsR0FBZSxFQUFFLFNBQW9CO1lBQ2pELE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDckQsQ0FBQztRQUVNLGdDQUFLLEdBQVosVUFBYSxHQUFVLEVBQUUsR0FBZSxFQUFFLElBQTBDO1lBQ2hGLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xELENBQUM7UUFFTSx3Q0FBYSxHQUFwQixVQUFxQixHQUFlLEVBQUUsU0FBb0I7WUFDdEQsSUFBSSxJQUFJLEdBQXlDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBRS9FLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO1lBQ3ZDLENBQUM7UUFDTCxDQUFDO1FBckVjLDBCQUFTLEdBQUcsSUFBSSxDQUFDO1FBc0VwQyx1QkFBQztJQUFELENBdkVBLEFBdUVDLENBdkVxQyxnQkFBYSxHQXVFbEQ7SUF2RVksbUJBQWdCLG1CQXVFNUIsQ0FBQTtBQWVMLENBQUMsRUF2Rk0sRUFBRSxLQUFGLEVBQUUsUUF1RlI7QUN2RkQsSUFBTyxFQUFFLENBS1I7QUFMRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBQTtRQUdBLENBQUM7UUFBRCxrQkFBQztJQUFELENBSEEsQUFHQyxJQUFBO0lBSHFCLGNBQVcsY0FHaEMsQ0FBQTtBQUNMLENBQUMsRUFMTSxFQUFFLEtBQUYsRUFBRSxRQUtSO0FDTEQsSUFBTyxFQUFFLENBNEpSO0FBNUpELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUF1QyxxQ0FBVztRQUFsRDtZQUF1Qyw4QkFBVztRQTBKbEQsQ0FBQztRQXZKaUIsNkJBQVcsR0FBekI7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQztRQWlDTSw4QkFBRSxHQUFUO1lBQVUsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNiLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxFQUFFLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdkIsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDckUsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDMUMsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztnQkFDMUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUN4QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNqQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbEQsQ0FBQztRQUNMLENBQUM7UUFZTSwrQkFBRyxHQUFWO1lBQVcsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNkLElBQUksYUFBYSxHQUFHLHNCQUFtQixDQUFDLFdBQVcsRUFBRSxDQUFDO1lBRXRELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQXNDLEVBQUUsR0FBVTtvQkFDckUsSUFBSSxTQUFTLEdBQUcsYUFBYSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxFQUNsRCxTQUFTLEdBQUcsYUFBYSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFakQsRUFBRSxDQUFBLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO3dCQUNYLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7NkJBQ3JFLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDeEIsQ0FBQztvQkFDRCxJQUFJLENBQUEsQ0FBQzt3QkFDRCxzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztvQkFDekcsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksV0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFeEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQXNDLEVBQUUsR0FBVTtvQkFDckUsSUFBSSxtQkFBbUIsR0FBRyxhQUFhLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRWpFLEVBQUUsQ0FBQSxDQUFDLG1CQUFtQixLQUFLLFdBQVMsQ0FBQyxDQUFBLENBQUM7d0JBQ2xDLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsV0FBUyxDQUFDLENBQUM7NkJBQ3JFLEdBQUcsQ0FBQyxXQUFTLENBQUMsQ0FBQztvQkFDeEIsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQzFELElBQUksUUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFckIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQTZDLEVBQUUsR0FBVTtvQkFDNUUsSUFBSSxTQUFTLEdBQUcsYUFBYSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUV2RCxFQUFFLENBQUEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxRQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQSxDQUFDO3dCQUMxQyxzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDOzZCQUNyRSxHQUFHLENBQUMsUUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO29CQUNoQyxDQUFDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxHQUFHLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2pDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQzFELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDaEIsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFeEIsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDckUsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxlQUFZLENBQUMsQ0FBQSxDQUFDO2dCQUMxRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ25CLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXRCLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQ3JFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3pDLENBQUM7UUFDTCxDQUFDO1FBRU8sZ0RBQW9CLEdBQTVCLFVBQTZCLFNBQWdCO1lBQ3pDLFNBQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLHlCQUFzQixDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsRUFBRSxhQUFXLHlCQUFzQixDQUFDLGNBQWdCLENBQUMsQ0FBQyxDQUFDO1FBQ3ZLLENBQUM7UUF4SmMsMkJBQVMsR0FBRyxJQUFJLENBQUM7UUFnQmhDO1lBQUMsVUFBTyxDQUFDO2dCQUFTLGNBQU87cUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztvQkFBUCw2QkFBTzs7Z0JBQ3JCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdEIsQ0FBQztnQkFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO29CQUN2QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBRXhCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDekMsQ0FBQztnQkFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFeEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDO2dCQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztvQkFDMUQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUV4QixJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3pDLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDeEIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUV4QixJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3pDLENBQUM7WUFDTCxDQUFDLENBQUM7bURBQUE7UUFrSE4sd0JBQUM7SUFBRCxDQTFKQSxBQTBKQyxDQTFKc0MsY0FBVyxHQTBKakQ7SUExSlksb0JBQWlCLG9CQTBKN0IsQ0FBQTtBQUNMLENBQUMsRUE1Sk0sRUFBRSxLQUFGLEVBQUUsUUE0SlI7QUM1SkQsSUFBTyxFQUFFLENBdUtSO0FBdktELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFvQyxrQ0FBVztRQUEvQztZQUFvQyw4QkFBVztRQXFLL0MsQ0FBQztRQWxLaUIsMEJBQVcsR0FBekI7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQztRQWlDTSwyQkFBRSxHQUFUO1lBQVUsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNiLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxVQUFRLEdBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZ0JBQWEsQ0FBQyxHQUFJLGdCQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFM0csVUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsVUFBVSxXQUE0QjtvQkFDbkUsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsVUFBUSxDQUFDLFNBQVMsQ0FBQzt5QkFDckQsRUFBRSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLE9BQU8sRUFBRSxVQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzNFLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxFQUFFLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3BELElBQUksS0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixVQUFRLEdBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZ0JBQWEsQ0FBQyxHQUFJLGdCQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFM0csVUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsVUFBVSxXQUE0QjtvQkFDbkUsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsVUFBUSxDQUFDLFNBQVMsQ0FBQzt5QkFDckQsRUFBRSxDQUFDLEtBQUcsRUFBRSxXQUFXLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxPQUFPLEVBQUUsVUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoRixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdkIsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDckUsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDMUMsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDcEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNiLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ25CLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXRCLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQ3JFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3JDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdkIsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDckUsRUFBRSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQy9DLENBQUM7UUFDTCxDQUFDO1FBWU0sNEJBQUcsR0FBVjtZQUFXLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDZCxJQUFJLGFBQWEsR0FBRyxtQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUVuRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFzQyxFQUFFLEdBQVU7b0JBQ3JFLElBQUksU0FBUyxHQUFHLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFbkQsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQzt5QkFDckUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM1QixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksV0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFeEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQXNDLEVBQUUsR0FBVTtvQkFDckUsSUFBSSxtQkFBbUIsR0FBRyxhQUFhLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRWpFLEVBQUUsQ0FBQSxDQUFDLG1CQUFtQixLQUFLLFdBQVMsQ0FBQyxDQUFBLENBQUM7d0JBQ2xDLHNCQUFtQixDQUFDLGtCQUFrQixDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsV0FBUyxDQUFDLENBQUM7NkJBQ3JFLEdBQUcsQ0FBQyxXQUFTLENBQUMsQ0FBQztvQkFDeEIsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3BELElBQUksS0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFbEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQXNDLEVBQUUsR0FBVTtvQkFDckUsSUFBSSxTQUFTLEdBQUcsYUFBYSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUV2RCxFQUFFLENBQUEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQSxDQUFDO3dCQUNwQyxzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDOzZCQUNyRSxHQUFHLENBQUMsS0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO29CQUM3QixDQUFDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV0QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxHQUFHLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2pDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3BELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV4QixzQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3FCQUNyRSxHQUFHLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzdCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdEIsc0JBQW1CLENBQUMsa0JBQWtCLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDckUsR0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdEMsQ0FBQztRQUNMLENBQUM7UUFFTyw2Q0FBb0IsR0FBNUIsVUFBNkIsU0FBZ0I7WUFDekMsU0FBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsc0JBQW1CLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxFQUFFLGFBQVcsc0JBQW1CLENBQUMsY0FBZ0IsQ0FBQyxDQUFDLENBQUM7UUFDakssQ0FBQztRQW5LYyx3QkFBUyxHQUFHLElBQUksQ0FBQztRQW1CaEM7WUFBQyxVQUFPLENBQUM7Z0JBQVMsY0FBTztxQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO29CQUFQLDZCQUFPOztnQkFDckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN0QixDQUFDO2dCQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQzNCLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO29CQUN2RCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBRXhCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDekMsQ0FBQztnQkFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQ3BELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFeEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDO2dCQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3hCLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFeEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDO1lBQ0wsQ0FBQyxDQUFDO2dEQUFBO1FBNkhOLHFCQUFDO0lBQUQsQ0FyS0EsQUFxS0MsQ0FyS21DLGNBQVcsR0FxSzlDO0lBcktZLGlCQUFjLGlCQXFLMUIsQ0FBQTtBQUNMLENBQUMsRUF2S00sRUFBRSxLQUFGLEVBQUUsUUF1S1I7QUN2S0QsSUFBTyxFQUFFLENBd0JSO0FBeEJELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUFBO1FBc0JBLENBQUM7UUFyQmlCLHNDQUFrQixHQUFoQyxVQUFpQyxTQUFvQjtZQUNqRCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFFbkIsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUEsQ0FBQztnQkFDZixLQUFLLGFBQVUsQ0FBQyxLQUFLO29CQUNqQixPQUFPLEdBQUcsb0JBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzFDLEtBQUssQ0FBQztnQkFDVixLQUFLLGFBQVUsQ0FBQyxRQUFRO29CQUNwQixPQUFPLEdBQUcsdUJBQW9CLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzdDLEtBQUssQ0FBQztnQkFDVixLQUFLLGFBQVUsQ0FBQyxNQUFNO29CQUNsQixPQUFPLEdBQUcscUJBQWtCLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzNDLEtBQUssQ0FBQztnQkFFVjtvQkFDSSxNQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUNwRCxLQUFLLENBQUM7WUFDZCxDQUFDO1lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNuQixDQUFDO1FBQ0wsMEJBQUM7SUFBRCxDQXRCQSxBQXNCQyxJQUFBO0lBdEJZLHNCQUFtQixzQkFzQi9CLENBQUE7QUFDTCxDQUFDLEVBeEJNLEVBQUUsS0FBRixFQUFFLFFBd0JSO0FDeEJELElBQU8sRUFBRSxDQXNCUjtBQXRCRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ047UUFBQTtRQW9CQSxDQUFDO1FBbkJpQixvQ0FBaUIsR0FBL0IsVUFBZ0MsU0FBb0I7WUFDaEQsSUFBSSxNQUFNLEdBQUcsSUFBSSxFQUNiLFNBQVMsR0FBRyxhQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRW5ELE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2YsS0FBSyxhQUFVLENBQUMsS0FBSyxDQUFDO2dCQUN0QixLQUFLLGFBQVUsQ0FBQyxRQUFRO29CQUNwQixNQUFNLEdBQUcsaUJBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDdEMsS0FBSyxDQUFDO2dCQUNWLEtBQUssYUFBVSxDQUFDLE1BQU07b0JBQ2xCLE1BQU0sR0FBRyxvQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDekMsS0FBSyxDQUFDO2dCQUNWO29CQUNJLE1BQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWEsU0FBVyxDQUFDLENBQUMsQ0FBQztvQkFDakUsS0FBSyxDQUFDO1lBQ2QsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUNMLHlCQUFDO0lBQUQsQ0FwQkEsQUFvQkMsSUFBQTtJQXBCWSxxQkFBa0IscUJBb0I5QixDQUFBO0FBQ0wsQ0FBQyxFQXRCTSxFQUFFLEtBQUYsRUFBRSxRQXNCUjtBQ3RCRCxJQUFPLEVBQUUsQ0FzQlI7QUF0QkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQUE7UUFvQkEsQ0FBQztRQW5CaUIsNENBQXFCLEdBQW5DLFVBQW9DLEtBQVc7WUFDM0MsSUFBSSxVQUFVLEdBQUcsSUFBSSxFQUNqQixTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztZQUUzQixNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO2dCQUNmLEtBQUssYUFBVSxDQUFDLEtBQUssQ0FBQztnQkFDdEIsS0FBSyxhQUFVLENBQUMsUUFBUTtvQkFDcEIsVUFBVSxHQUFHLHFCQUFrQixDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUM5QyxLQUFLLENBQUM7Z0JBQ1YsS0FBSyxhQUFVLENBQUMsTUFBTTtvQkFDbEIsVUFBVSxHQUFHLHdCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNqRCxLQUFLLENBQUM7Z0JBQ1Y7b0JBQ0ksTUFBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBUyxLQUFPLENBQUMsQ0FBQyxDQUFDO29CQUN6RCxLQUFLLENBQUM7WUFDZCxDQUFDO1lBRUQsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUN0QixDQUFDO1FBQ0wsNkJBQUM7SUFBRCxDQXBCQSxBQW9CQyxJQUFBO0lBcEJZLHlCQUFzQix5QkFvQmxDLENBQUE7QUFDTCxDQUFDLEVBdEJNLEVBQUUsS0FBRixFQUFFLFFBc0JSO0FDdEJELElBQU8sRUFBRSxDQTRWUjtBQTVWRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBQTtRQTBWQSxDQUFDO1FBaFVpQixlQUFFLEdBQWhCO1lBQWlCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDcEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLFdBQVcsR0FBRyxpQkFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUUvQyxXQUFXLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLENBQUMsRUFDWixXQUFXLEdBQUcscUJBQWtCLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBRWxFLFdBQVcsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNqRCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEIsV0FBVyxHQUFHLGlCQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRS9DLFdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2xDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEIsV0FBVyxHQUFHLHFCQUFrQixDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUVsRSxXQUFXLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDakQsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztnQkFDMUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNqQixRQUFRLEdBQUcsQ0FBQyxFQUNaLFdBQVcsR0FBRyxvQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFbEQsV0FBVyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN6RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLENBQUMsRUFDWixXQUFXLEdBQUcsaUJBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFL0MsV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN0RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxlQUFZLENBQUMsQ0FBQSxDQUFDO2dCQUMxRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ25CLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2pCLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLFdBQVcsR0FBRyxvQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFbEQsV0FBVyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN6RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEIsV0FBVyxHQUFHLGlCQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRS9DLFdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDdEQsQ0FBQztRQUNMLENBQUM7UUE2QmEsZ0JBQUcsR0FBakI7WUFBa0IsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNyQixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLElBQUksaUJBQWlCLEdBQUcsb0JBQWlCLENBQUMsV0FBVyxFQUFFLEVBQ25ELGNBQWMsR0FBRyxpQkFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUVsRCxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDeEIsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsV0FBVyxHQUFHLHFCQUFrQixDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUVsRSxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9CLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQzFELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsV0FBVyxHQUFHLG9CQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUVsRCxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9CLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3BELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsV0FBVyxHQUFHLGlCQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRS9DLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0IsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNqQixXQUFXLEdBQUcscUJBQWtCLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBRWxFLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3hDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQzFELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDaEIsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsV0FBVyxHQUFHLG9CQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUVsRCxXQUFXLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztZQUN2QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLGFBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsV0FBVyxHQUFHLGlCQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRS9DLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3BDLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7Z0JBQzFELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDaEIsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDakIsV0FBVyxHQUFHLG9CQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUVsRCxXQUFXLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDaEQsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDcEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNiLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ25CLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2pCLFdBQVcsR0FBRyxpQkFBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUUvQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDN0MsQ0FBQztRQUNMLENBQUM7UUF5QmEsb0JBQU8sR0FBckI7WUFBc0IsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUN6QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLElBQUksT0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDZixlQUFlLEdBQUcseUJBQXNCLENBQUMscUJBQXFCLENBQUMsT0FBSyxDQUFDLENBQUM7Z0JBRTFFLGVBQWUsQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksUUFBSyxDQUFDLENBQUEsQ0FBQztnQkFDbkQsSUFBSSxPQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLGVBQWUsR0FBRyx3QkFBcUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFMUQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxPQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDN0MsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztnQkFDMUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixPQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLGVBQWUsR0FBRyx3QkFBcUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFMUQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBSyxDQUFDLENBQUM7WUFDM0MsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDcEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNiLFFBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2YsZUFBZSxHQUFHLHFCQUFrQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUV2RCxlQUFlLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFLLENBQUMsQ0FBQztZQUN4QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoQixRQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNmLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2xCLGVBQWUsR0FBRyx3QkFBcUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFMUQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsUUFBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3JELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLFFBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2YsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEIsWUFBWSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDdEIsZUFBZSxHQUFHLHdCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUUxRCxlQUFlLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFLLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ25FLENBQUM7UUFDTCxDQUFDO1FBU2Esc0JBQVMsR0FBdkI7WUFBd0IsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUMzQixJQUFJLGVBQWUsR0FBRyx3QkFBcUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUUxRCxlQUFlLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQVFhLGlCQUFJLEdBQWxCO1lBQW1CLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDdEIsSUFBSSxlQUFlLEdBQUcsd0JBQXFCLENBQUMsV0FBVyxFQUFFLENBQUM7WUFFMUQsZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELENBQUM7UUFXYSxzQkFBUyxHQUF2QjtZQUF3QixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQzNCLElBQUksVUFBVSxHQUFHLElBQUksRUFDakIsYUFBYSxHQUFHLElBQUksQ0FBQztZQUV6QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksV0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFeEIsVUFBVSxHQUFHLFVBQVUsT0FBTztvQkFDMUIsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ3hDLENBQUMsQ0FBQztnQkFDRixhQUFhLEdBQUcsVUFBVSxPQUFPO29CQUM3QixZQUFZLENBQUMsR0FBRyxDQUFDLFdBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDekMsQ0FBQyxDQUFDO1lBQ04sQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxhQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekQsSUFBSSxXQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixVQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixVQUFVLEdBQUcsVUFBVSxPQUFPO29CQUMxQixZQUFZLENBQUMsRUFBRSxDQUFDLFdBQVMsRUFBRSxPQUFPLEVBQUUsVUFBUSxDQUFDLENBQUM7Z0JBQ2xELENBQUMsQ0FBQztnQkFDRixhQUFhLEdBQUcsVUFBVSxPQUFPO29CQUM3QixZQUFZLENBQUMsR0FBRyxDQUFDLFdBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDekMsQ0FBQyxDQUFDO1lBQ04sQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksV0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFeEIsVUFBVSxHQUFHLFVBQVUsT0FBTztvQkFDMUIsWUFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNqRCxDQUFDLENBQUM7Z0JBQ0YsYUFBYSxHQUFHLFVBQVUsT0FBTztvQkFDN0IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRCxDQUFDLENBQUM7WUFDTixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxXQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixVQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixVQUFVLEdBQUcsVUFBVSxPQUFPO29CQUMxQixZQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxXQUFTLEVBQUUsT0FBTyxFQUFFLFVBQVEsQ0FBQyxDQUFDO2dCQUMzRCxDQUFDLENBQUM7Z0JBQ0YsYUFBYSxHQUFHLFVBQVUsT0FBTztvQkFDN0IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRCxDQUFDLENBQUM7WUFDTixDQUFDO1lBRUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUthLDRCQUFlLEdBQTdCLFVBQThCLE1BQW1CLEVBQUUsTUFBVTtZQUN6RCxzQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3RFLENBQUM7UUE1VUQ7WUFBQyxVQUFPLENBQUM7Z0JBQVMsY0FBTztxQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO29CQUFQLDZCQUFPOztnQkFDckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGVBQVksQ0FBQyxDQUFBLENBQUM7b0JBQ2hDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFeEIsU0FBTSxDQUFDLGFBQVUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEtBQUssYUFBVSxDQUFDLE1BQU0sRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztnQkFDckgsQ0FBQztnQkFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsYUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQy9CLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsU0FBUyxHQUFHLGFBQVUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBRW5ELFNBQU0sQ0FBQyxTQUFTLEtBQUssYUFBVSxDQUFDLEtBQUssSUFBSSxTQUFTLEtBQUssYUFBVSxDQUFDLFFBQVEsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDN0gsQ0FBQztZQUNMLENBQUMsQ0FBQztvQ0FBQTtRQW1GRjtZQUFDLFVBQU8sQ0FBQztnQkFBUyxjQUFPO3FCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87b0JBQVAsNkJBQU87O2dCQUNyQixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztvQkFDbkQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUV4QixTQUFNLENBQUMsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxhQUFVLENBQUMsTUFBTSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO2dCQUNySCxDQUFDO2dCQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxhQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDbEQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNuQixTQUFTLEdBQUcsYUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFFbkQsU0FBTSxDQUFDLFNBQVMsS0FBSyxhQUFVLENBQUMsS0FBSyxJQUFJLFNBQVMsS0FBSyxhQUFVLENBQUMsUUFBUSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUM3SCxDQUFDO1lBQ0wsQ0FBQyxDQUFDO3FDQUFBO1FBNkVGO1lBQUMsVUFBTyxDQUFDO2dCQUFTLGNBQU87cUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztvQkFBUCw2QkFBTzs7Z0JBQ3JCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxRQUFLLENBQUMsQ0FBQSxDQUFDO29CQUM5QyxJQUFJLFFBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBRXBCLFNBQU0sQ0FBQyxRQUFLLFlBQVksY0FBVyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUN4RixDQUFDO2dCQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksZUFBWSxDQUFDLENBQUEsQ0FBQztvQkFDckMsSUFBSSxRQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUVwQixTQUFNLENBQUMsUUFBSyxZQUFZLGNBQVcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDeEYsQ0FBQztZQUNMLENBQUMsQ0FBQzt5Q0FBQTtRQW9ERjtZQUFDLFVBQU8sQ0FBQyxVQUFTLE1BQW1CLEVBQUUsV0FBaUIsRUFBRSxRQUFhO2dCQUNuRSxTQUFNLENBQUMsV0FBVyxZQUFZLGNBQVcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUNwRyxDQUFDLENBQUM7MkNBQUE7UUFVRjtZQUFDLFVBQU8sQ0FBQyxVQUFTLE1BQW1CLEVBQUUsV0FBaUIsRUFBRSxRQUFhO2dCQUNuRSxTQUFNLENBQUMsV0FBVyxZQUFZLGNBQVcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUNwRyxDQUFDLENBQUM7c0NBQUE7UUFrRUY7WUFBQyxVQUFPLENBQUMsVUFBUyxNQUFtQixFQUFFLE1BQVU7Z0JBQzdDLFNBQU0sQ0FBQyxNQUFNLFlBQVksZUFBWSxFQUFFLHNDQUFzQyxDQUFDLENBQUM7WUFDbkYsQ0FBQyxDQUFDO2lEQUFBO1FBSU4sbUJBQUM7SUFBRCxDQTFWQSxBQTBWQyxJQUFBO0lBMVZZLGVBQVksZUEwVnhCLENBQUE7QUFDTCxDQUFDLEVBNVZNLEVBQUUsS0FBRixFQUFFLFFBNFZSO0FDNVZELElBQU8sRUFBRSxDQTJCUjtBQTNCRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ04sV0FBWSxZQUFZO1FBRXBCLHlDQUFpQixjQUFjLGVBQUEsQ0FBQTtRQUMvQix1Q0FBZSxZQUFZLGFBQUEsQ0FBQTtRQUMzQixzREFBOEIseUJBQXlCLDRCQUFBLENBQUE7UUFDdkQscURBQTZCLHdCQUF3QiwyQkFBQSxDQUFBO1FBQ3JELDhFQUFzRCxnREFBZ0Qsb0RBQUEsQ0FBQTtRQUV0RywyQ0FBbUIsZUFBZSxpQkFBQSxDQUFBO1FBQ2xDLDBDQUFrQixjQUFjLGdCQUFBLENBQUE7UUFDaEMsd0NBQWdCLFlBQVksY0FBQSxDQUFBO1FBQzVCLDBDQUFrQixjQUFjLGdCQUFBLENBQUE7UUFDaEMsMENBQWtCLGNBQWMsZ0JBQUEsQ0FBQTtRQUNoQyx5Q0FBaUIsYUFBYSxlQUFBLENBQUE7UUFDOUIsMkNBQW1CLGVBQWUsaUJBQUEsQ0FBQTtRQUNsQywwQ0FBa0IsY0FBYyxnQkFBQSxDQUFBO1FBRWhDLCtDQUF1QixvQkFBb0IscUJBQUEsQ0FBQTtRQUUzQywrQ0FBdUIsb0JBQW9CLHFCQUFBLENBQUE7UUFDM0MsZ0RBQXdCLHFCQUFxQixzQkFBQSxDQUFBO1FBRTdDLG1EQUEyQix3QkFBd0IseUJBQUEsQ0FBQTtRQUNuRCxnREFBd0IscUJBQXFCLHNCQUFBLENBQUE7UUFDN0MsK0NBQXVCLG9CQUFvQixxQkFBQSxDQUFBO0lBQy9DLENBQUMsRUF6QlcsZUFBWSxLQUFaLGVBQVksUUF5QnZCO0lBekJELElBQVksWUFBWSxHQUFaLGVBeUJYLENBQUE7QUFDTCxDQUFDLEVBM0JNLEVBQUUsS0FBRixFQUFFLFFBMkJSO0FDM0JELElBQU8sRUFBRSxDQU1SO0FBTkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQW1ELHdDQUFTO1FBQTVEO1lBQW1ELDhCQUFTO1FBSTVELENBQUM7UUFBRCwyQkFBQztJQUFELENBSkEsQUFJQyxDQUprRCxZQUFTLEdBSTNEO0lBSnFCLHVCQUFvQix1QkFJekMsQ0FBQTtBQUNMLENBQUMsRUFOTSxFQUFFLEtBQUYsRUFBRSxRQU1SO0FDTkQsSUFBTyxFQUFFLENBc0JSO0FBdEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFFUDtRQUE0QywwQ0FBb0I7UUFBaEU7WUFBNEMsOEJBQW9CO1FBbUJoRSxDQUFDO1FBbEJpQiw2QkFBTSxHQUFwQjtZQUNJLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFFckIsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFFTSwwQ0FBUyxHQUFoQixVQUFpQixDQUFZO1lBQ3pCLElBQUksU0FBUyxHQUFnQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFDcEUsS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLEVBQ3ZCLE1BQU0sR0FBRyxTQUFTLENBQUMsTUFBTSxFQUN6QixRQUFRLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFDN0IsY0FBYyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQ2pDLG9CQUFvQixHQUFHLElBQUksQ0FBQztZQUVoQyxvQkFBb0IsR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztZQUV2RixNQUFNLENBQUMsNEJBQXlCLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbkcsQ0FBQztRQUNMLDZCQUFDO0lBQUQsQ0FuQkEsQUFtQkMsQ0FuQjJDLHVCQUFvQixHQW1CL0Q7SUFuQlkseUJBQXNCLHlCQW1CbEMsQ0FBQTtBQUNMLENBQUMsRUF0Qk0sRUFBRSxLQUFGLEVBQUUsUUFzQlI7QUN0QkQsSUFBTyxFQUFFLENBZ0JSO0FBaEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFtRCxpREFBb0I7UUFBdkU7WUFBbUQsOEJBQW9CO1FBY3ZFLENBQUM7UUFiaUIsb0NBQU0sR0FBcEI7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBRU0saURBQVMsR0FBaEIsVUFBaUIsQ0FBWTtZQUN6QixJQUFJLEtBQUssR0FBbUIsV0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFDcEQsZ0JBQWdCLEdBQW9CLEtBQUssQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFtQixtQkFBZ0IsQ0FBQyxFQUN4RyxjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQztZQUV0QyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQWEsSUFBSSxDQUFDLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsSCxDQUFDO1FBQ0wsb0NBQUM7SUFBRCxDQWRBLEFBY0MsQ0Fka0QsdUJBQW9CLEdBY3RFO0lBZFksZ0NBQTZCLGdDQWN6QyxDQUFBO0FBQ0wsQ0FBQyxFQWhCTSxFQUFFLEtBQUYsRUFBRSxRQWdCUjtBQ2hCRCxJQUFPLEVBQUUsQ0FrQlI7QUFsQkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQStDLDZDQUFvQjtRQUFuRTtZQUErQyw4QkFBb0I7UUFnQm5FLENBQUM7UUFmaUIsZ0NBQU0sR0FBcEI7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBRU0sNkNBQVMsR0FBaEIsVUFBaUIsQ0FBWTtZQUN6QixJQUFJLElBQUksR0FBUyxnQkFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFDN0MsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQ2xCLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUNwQixjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFDakMsb0JBQW9CLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFaEQsTUFBTSxDQUFDLDRCQUF5QixDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsb0JBQW9CLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25HLENBQUM7UUFDTCxnQ0FBQztJQUFELENBaEJBLEFBZ0JDLENBaEI4Qyx1QkFBb0IsR0FnQmxFO0lBaEJZLDRCQUF5Qiw0QkFnQnJDLENBQUE7QUFDTCxDQUFDLEVBbEJNLEVBQUUsS0FBRixFQUFFLFFBa0JSO0FDbEJELElBQU8sRUFBRSxDQU1SO0FBTkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQUE7UUFJQSxDQUFDO1FBSGlCLGtDQUFRLEdBQXRCLFVBQXVCLGNBQW9CLEVBQUUsb0JBQTRCLEVBQUUsS0FBWSxFQUFFLE1BQWE7WUFDbEcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksb0JBQW9CLENBQUMsQ0FBQyxJQUFJLGNBQWMsQ0FBQyxDQUFDLElBQUksb0JBQW9CLENBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSxjQUFjLENBQUMsQ0FBQyxJQUFJLG9CQUFvQixDQUFDLENBQUMsSUFBSSxjQUFjLENBQUMsQ0FBQyxJQUFJLG9CQUFvQixDQUFDLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDak4sQ0FBQztRQUNMLGdDQUFDO0lBQUQsQ0FKQSxBQUlDLElBQUE7SUFKWSw0QkFBeUIsNEJBSXJDLENBQUE7QUFDTCxDQUFDLEVBTk0sRUFBRSxLQUFGLEVBQUUsUUFNUjtBQ05ELElBQU8sRUFBRSxDQXFDUjtBQXJDRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ04sSUFBTSx1QkFBdUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBVSxFQUN0RCx1QkFBdUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBVSxDQUFDO0lBR3pELHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3hFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3pFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3ZFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQzdFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3RFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3hFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzVFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRTFFO1FBQUE7UUFZQSxDQUFDO1FBWGlCLHNDQUFvQixHQUFsQyxVQUFtQyxTQUFvQjtZQUNuRCxJQUFJLE1BQU0sR0FBRyx1QkFBdUIsQ0FBQyxRQUFRLENBQU0sU0FBUyxDQUFDLENBQUM7WUFFOUQsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRWEsc0NBQW9CLEdBQWxDLFVBQW1DLFNBQW9CO1lBQ25ELElBQUksTUFBTSxHQUFHLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxTQUFTLENBQUMsQ0FBQztZQUU5RCxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDTCx3QkFBQztJQUFELENBWkEsQUFZQyxJQUFBO0lBWlksb0JBQWlCLG9CQVk3QixDQUFBO0FBQ0wsQ0FBQyxFQXJDTSxFQUFFLEtBQUYsRUFBRSxRQXFDUjtBQ3JDRCxJQUFPLEVBQUUsQ0EyRVI7QUEzRUQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQTRCLDBCQUFTO1FBd0JqQyxnQkFBWSxHQUFpQjtZQUFqQixtQkFBaUIsR0FBakIsVUFBaUI7WUFDekIsaUJBQU8sQ0FBQztZQUtMLFFBQUcsR0FBVSxJQUFJLENBQUM7WUFIckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDbkIsQ0FBQztRQXRCYSxhQUFNLEdBQXBCO1lBQXFCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDeEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixNQUFNLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUN0QixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVsQixNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekIsQ0FBQztRQUNMLENBQUM7UUFFYSxnQkFBUyxHQUF2QixVQUF3QixVQUFpQixFQUFFLE1BQWU7WUFDdEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQWlCO2dCQUNqQyxJQUFJLEVBQUUsVUFBVTtnQkFDaEIsS0FBSyxFQUFFLE1BQU07YUFDaEIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQVVNLG1DQUFrQixHQUF6QjtZQUNJLE1BQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUV2RCxNQUFNLENBQUMsZ0JBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztpQkFDaEQsR0FBRyxDQUFDO2dCQUNHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ25DLENBQUMsQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVNLDRCQUFXLEdBQWxCLFVBQW1CLFlBQXlCO1lBQ3hDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixnQkFBSyxDQUFDLFdBQVcsWUFBQyxZQUFZLENBQUMsQ0FBQztZQUVoQyxJQUFJLENBQUMsa0JBQWtCLEVBQUU7aUJBQ3BCLFNBQVMsQ0FBQyxVQUFDLElBQW1CO2dCQUMzQixJQUFJLENBQUMseUJBQXlCLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQ3ZELENBQUMsQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVPLDBDQUF5QixHQUFqQyxVQUFrQyxJQUFtQixFQUFFLFlBQXlCO1lBQzVFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDbEQsWUFBWSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRS9DLGVBQVksQ0FBQyxPQUFPLENBQUMsY0FBVyxDQUFDLE1BQU0sQ0FBTSxlQUFZLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDO1lBRW5GLFlBQVksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUU1QyxlQUFZLENBQUMsT0FBTyxDQUFDLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztZQUVsRixlQUFZLENBQUMsT0FBTyxDQUFDLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLDhDQUE4QyxDQUFDLENBQUMsQ0FBQztRQUMvRyxDQUFDO1FBRU8seUNBQXdCLEdBQWhDLFVBQWlDLFlBQXlCLEVBQUUsSUFBbUI7WUFDM0UsWUFBWSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUM5RSxDQUFDO1FBbEVhLGlCQUFVLEdBQThCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFrQixDQUFDO1FBbUU5RixhQUFDO0lBQUQsQ0FwRUEsQUFvRUMsQ0FwRTJCLFlBQVMsR0FvRXBDO0lBcEVZLFNBQU0sU0FvRWxCLENBQUE7QUFNTCxDQUFDLEVBM0VNLEVBQUUsS0FBRixFQUFFLFFBMkVSO0FDM0VELElBQU8sRUFBRSxDQW1FUjtBQW5FRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ047UUFBK0IsNkJBQVM7UUFBeEM7WUFBK0IsOEJBQVM7WUFDMUIsYUFBUSxHQUFhLElBQUksQ0FBQztZQVE3QixlQUFVLEdBQVcsSUFBSSxDQUFDO1lBRXZCLGFBQVEsR0FBOEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQWEsQ0FBQztRQXNEeEYsQ0FBQztRQS9ERyxzQkFBSSw2QkFBTTtpQkFBVjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDO2lCQUNELFVBQVcsTUFBZ0I7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDM0IsQ0FBQzs7O1dBSEE7UUFVTSw0QkFBUSxHQUFmLFVBQWdCLEtBQWU7WUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEMsQ0FBQztRQUVNLCtCQUFXLEdBQWxCLFVBQW1CLEtBQWU7WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVTLDZCQUFTLEdBQW5CLFVBQW9CLE1BQWdCO1lBQ2hDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFDO2dCQUNkLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLENBQUM7WUFFRCxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUM7Z0JBQ1IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBRXJCLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztZQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUdqQyxDQUFDO1FBRVMsNkJBQVMsR0FBbkIsVUFBb0IsVUFBaUIsRUFBRSxlQUFzQjtZQUN6RCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBYSxFQUM5QyxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUU1QixRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRXhCLE9BQU8sT0FBTyxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUN0QixRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMzQixPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUM3QixDQUFDO1lBRUQsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFDLFNBQW1CO2dCQUMzQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDakMsQ0FBQztRQUVTLDZDQUF5QixHQUFuQyxVQUFvQyxjQUFxQjtZQUNyRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQWU7b0JBQ2xDLEtBQUssQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQ2pDLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztRQUNMLENBQUM7UUFFTCxnQkFBQztJQUFELENBakVBLEFBaUVDLENBakU4QixZQUFTLEdBaUV2QztJQWpFWSxZQUFTLFlBaUVyQixDQUFBO0FBQ0wsQ0FBQyxFQW5FTSxFQUFFLEtBQUYsRUFBRSxRQW1FUjtBQ25FRCxJQUFPLEVBQUUsQ0EwWVI7QUExWUQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQXFDLG1DQUFTO1FBQTlDO1lBQXFDLDhCQUFTO1lBT2xDLHdCQUFtQixHQUFXLElBQUksQ0FBQztZQUtuQyxjQUFTLEdBQVcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBaUJyQyxjQUFTLEdBQWMsYUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQWlCckQsV0FBTSxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQWlCekMsaUJBQVksR0FBVyxJQUFJLENBQUM7WUFlNUIsbUJBQWMsR0FBVyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFVakQsbUJBQWMsR0FBYyxhQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBVTFELHNCQUFpQixHQUFXLElBQUksQ0FBQztZQVdqQyxnQkFBVyxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQTZCOUMsaUJBQVksR0FBVyxLQUFLLENBQUM7WUFjN0IsY0FBUyxHQUFXLEtBQUssQ0FBQztZQWMxQixhQUFRLEdBQVcsS0FBSyxDQUFDO1lBYzFCLGVBQVUsR0FBVyxJQUFJLENBQUM7WUFLekIseUJBQW9CLEdBQVcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hELHlCQUFvQixHQUFxQixJQUFJLENBQUM7UUE4TTFELENBQUM7UUF2WWlCLHNCQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUdELHNCQUFJLCtDQUFrQjtpQkFBdEI7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLHFCQUFxQixDQUFDLENBQUM7WUFDekQsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSxxQ0FBUTtpQkFBWjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFFMUQsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFhLFFBQWdCO2dCQUN6QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUMxQyxDQUFDO2dCQUNELElBQUksQ0FBQyxDQUFDO29CQUNGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ25HLENBQUM7Z0JBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDNUIsQ0FBQzs7O1dBVkE7UUFhRCxzQkFBSSxxQ0FBUTtpQkFBWjtnQkFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFFdEQsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFhLFFBQW1CO2dCQUM1QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUMxQyxDQUFDO2dCQUNELElBQUksQ0FBQyxDQUFDO29CQUNGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNwRixDQUFDO2dCQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3pCLENBQUM7OztXQVZBO1FBYUQsc0JBQUksa0NBQUs7aUJBQVQ7Z0JBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBRWpELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3ZCLENBQUM7aUJBQ0QsVUFBVSxLQUFhO2dCQUNuQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNwQyxDQUFDO2dCQUNELElBQUksQ0FBQyxDQUFDO29CQUNGLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQy9GLENBQUM7Z0JBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFDeEIsQ0FBQzs7O1dBVkE7UUFhRCxzQkFBSSx3Q0FBVztpQkFBZjtnQkFDSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDN0QsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDN0IsQ0FBQztpQkFDRCxVQUFnQixXQUFtQjtnQkFDL0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFcEQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQy9GLENBQUM7Z0JBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDekIsQ0FBQzs7O1dBVEE7UUFZRCxzQkFBSSwwQ0FBYTtpQkFBakI7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7WUFDL0IsQ0FBQztpQkFDRCxVQUFrQixRQUFnQjtnQkFDOUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBRXRDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBQzVCLENBQUM7OztXQUxBO1FBUUQsc0JBQUksMENBQWE7aUJBQWpCO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQy9CLENBQUM7aUJBQ0QsVUFBa0IsUUFBbUI7Z0JBQ2pDLElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUV0QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUN6QixDQUFDOzs7V0FMQTtRQVFELHNCQUFJLDZDQUFnQjtpQkFBcEI7Z0JBQ0ksSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQzlELE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDbEMsQ0FBQztpQkFDRCxVQUFxQixnQkFBd0I7Z0JBQ3pDLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFFekQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDekIsQ0FBQzs7O1dBTEE7UUFRRCxzQkFBSSx1Q0FBVTtpQkFBZDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUM1QixDQUFDO2lCQUNELFVBQWUsS0FBYTtnQkFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBRWhDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLENBQUM7OztXQUxBO1FBT0Qsc0JBQUksK0JBQUU7aUJBQU47Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN0RCxDQUFDOzs7V0FBQTtRQUVELHNCQUFJLGtDQUFLO2lCQUFUO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDdEQsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxvQ0FBTztpQkFBWDtnQkFHSSxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hFLENBQUM7OztXQUFBO1FBR0Qsc0JBQUksd0NBQVc7aUJBQWY7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQzdELENBQUM7OztXQUFBO1FBR0Qsc0JBQUksd0NBQVc7aUJBQWY7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDN0IsQ0FBQztpQkFDRCxVQUFnQixXQUFtQjtnQkFDL0IsSUFBSSxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUM7Z0JBRWhDLEVBQUUsQ0FBQSxDQUFDLFdBQVcsQ0FBQyxDQUFBLENBQUM7b0JBQ1osSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7b0JBRXZCLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDbEQsQ0FBQztZQUNMLENBQUM7OztXQVRBO1FBWUQsc0JBQUkscUNBQVE7aUJBQVo7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFhLFFBQWdCO2dCQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFFMUIsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQztvQkFDVCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztvQkFFdkIsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUMvQyxDQUFDO1lBQ0wsQ0FBQzs7O1dBVEE7UUFZRCxzQkFBSSxvQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDO2lCQUNELFVBQVksT0FBZTtnQkFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Z0JBRXhCLEVBQUUsQ0FBQSxDQUFDLE9BQU8sQ0FBQyxDQUFBLENBQUM7b0JBQ1IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7b0JBRXZCLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDOUMsQ0FBQztZQUNMLENBQUM7OztXQVRBO1FBb0JNLDhCQUFJLEdBQVg7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7WUFFaEIsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGVBQVksQ0FBQyxTQUFTLENBQU0sZUFBWSxDQUFDLE9BQU8sQ0FBQztpQkFDeEUsU0FBUyxDQUFDO2dCQUNQLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQy9CLENBQUMsQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVNLGlDQUFPLEdBQWQ7WUFDSSxnQkFBSyxDQUFDLE9BQU8sV0FBRSxDQUFDO1lBRWhCLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDckUsQ0FBQztRQUVNLDhCQUFJLEdBQVg7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUU3RixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7WUFDM0IsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ2hFLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLENBQUM7b0JBQ0YsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUMzRyxDQUFDO2dCQUVELElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO2dCQUV4QixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQXFCO29CQUN4QyxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztnQkFDNUIsQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDO1FBQ0wsQ0FBQztRQU1NLHdDQUFjLEdBQXJCO1lBQXNCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDekIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRXZCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsV0FBVyxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1RCxDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBRUQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBRWhHLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRXhCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUtNLG1DQUFTLEdBQWhCO1lBQWlCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDcEIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRXZCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsV0FBVyxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1RCxDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUUvQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFLTSxnQ0FBTSxHQUFiO1lBQWMsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNqQixJQUFJLFdBQVcsR0FBRyxJQUFJLEVBQ2xCLFVBQVUsR0FBRyxhQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFckMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNsQixXQUFXLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVELENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFFRCxVQUFVLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFM0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ25FLENBQUM7WUFDRCxJQUFJLENBQUMsQ0FBQztnQkFFRixVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN6RSxJQUFJLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdELENBQUM7WUFFRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUVyQixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFLTSxxQ0FBVyxHQUFsQjtZQUFtQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3RCLElBQUksV0FBVyxHQUFHLElBQUksRUFDbEIsVUFBVSxHQUFHLGFBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUVyQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLFdBQVcsR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUQsQ0FBQztZQUNELElBQUksQ0FBQSxDQUFDO2dCQUNELFdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQztZQUVELFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUUzQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUV6QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUVyQixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFLTSxzQ0FBWSxHQUFuQjtZQUFvQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3ZCLElBQUksS0FBSyxHQUFHLElBQUksRUFDWixNQUFNLEdBQUcsSUFBSSxFQUNiLElBQUksR0FBRyxJQUFJLEVBQ1gsR0FBRyxHQUFjLElBQUksRUFDckIsR0FBRyxHQUFXLElBQUksQ0FBQztZQUV2QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsQ0FBQztZQUNELElBQUksQ0FBQSxDQUFDO2dCQUNELEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELElBQUksR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckQsQ0FBQztZQUVELEdBQUcsR0FBRyxhQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRXhELEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUd2QyxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUcvQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFaEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUU1QyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFPTSxnQ0FBTSxHQUFiO1lBQWMsY0FBTztpQkFBUCxXQUFPLENBQVAsc0JBQU8sQ0FBUCxJQUFPO2dCQUFQLDZCQUFPOztZQUNqQixJQUFJLE1BQU0sR0FBRyxJQUFJLEVBQ2IsRUFBRSxHQUFHLElBQUksQ0FBQztZQUVkLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDakIsRUFBRSxHQUFHLFVBQU8sQ0FBQyxFQUFFLENBQUM7WUFDcEIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZCLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZCLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELEVBQUUsR0FBRyxVQUFPLENBQUMsRUFBRSxDQUFDO1lBQ3BCLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxNQUFNLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuRCxFQUFFLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25ELENBQUM7WUFFRCxJQUFJLENBQUMsUUFBUSxHQUFHLGFBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxhQUFhLENBQUMsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXpHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVPLDZDQUFtQixHQUEzQjtZQUNJLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7UUFDTCxzQkFBQztJQUFELENBeFlBLEFBd1lDLENBeFlvQyxZQUFTLEdBd1k3QztJQXhZWSxrQkFBZSxrQkF3WTNCLENBQUE7QUFDTCxDQUFDLEVBMVlNLEVBQUUsS0FBRixFQUFFLFFBMFlSO0FDMVlELElBQU8sRUFBRSxDQThaUjtBQTlaRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ047UUFBbUMsaUNBQVM7UUFBNUM7WUFBbUMsOEJBQVM7WUFPaEMsb0JBQWUsR0FBVyxJQUFJLENBQUM7WUFLL0IsaUNBQTRCLEdBQVcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBS3hELGNBQVMsR0FBVyxVQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7WUFpQnJDLGNBQVMsR0FBVSxDQUFDLENBQUM7WUFjckIsV0FBTSxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBb0J0QyxtQkFBYyxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBVTlDLGdCQUFXLEdBQVcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFZM0MsYUFBUSxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBNkI1QyxhQUFRLEdBQVcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUE2QjVDLFdBQU0sR0FBVSxJQUFJLENBQUM7WUFZckIsWUFBTyxHQUFVLElBQUksQ0FBQztZQWdCdEIsaUJBQVksR0FBVyxLQUFLLENBQUM7WUFpQjdCLGNBQVMsR0FBVyxLQUFLLENBQUM7WUFnQjFCLGFBQVEsR0FBVyxLQUFLLENBQUM7WUFnQjFCLGtCQUFhLEdBQVcsSUFBSSxDQUFDO1lBQzdCLDBCQUFxQixHQUFXLElBQUksQ0FBQztZQUNyQyxVQUFLLEdBQVcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckMsV0FBTSxHQUFVLENBQUMsQ0FBQztZQUtqQix5QkFBb0IsR0FBVyxVQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDaEQseUJBQW9CLEdBQVcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBa0w1RCxDQUFDO1FBM1ppQixvQkFBTSxHQUFwQjtZQUNJLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFFckIsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFHRCxzQkFBSSx5Q0FBYztpQkFBbEI7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLENBQUM7WUFDN0QsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSxzREFBMkI7aUJBQS9CO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLHNCQUFzQixFQUFFLDhCQUE4QixDQUFDLENBQUM7WUFDbEYsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSxtQ0FBUTtpQkFBWjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFFbkUsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDMUIsQ0FBQztpQkFDRCxVQUFhLFFBQWdCO2dCQUN6QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUMxQyxDQUFDO2dCQUNELElBQUksQ0FBQyxDQUFDO29CQUNGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzVHLENBQUM7Z0JBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDNUIsQ0FBQzs7O1dBVkE7UUFhRCxzQkFBSSxtQ0FBUTtpQkFBWjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBRW5ELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzFCLENBQUM7aUJBQ0QsVUFBYSxLQUFZO2dCQUNyQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRW5CLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO2dCQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUN6QixDQUFDOzs7V0FQQTtRQVVELHNCQUFJLGdDQUFLO2lCQUFUO2dCQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUUxRCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN2QixDQUFDO2lCQUNELFVBQVUsS0FBYTtnQkFDbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDcEMsQ0FBQztnQkFDRCxJQUFJLENBQUMsQ0FBQztvQkFDRixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN4RyxDQUFDO2dCQUVELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLENBQUM7OztXQVZBO1FBZ0JELHNCQUFJLHdDQUFhO2lCQUFqQjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUMvQixDQUFDO2lCQUNELFVBQWtCLFFBQWdCO2dCQUM5QixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDNUIsQ0FBQzs7O1dBTEE7UUFRRCxzQkFBSSxxQ0FBVTtpQkFBZDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUM1QixDQUFDO2lCQUNELFVBQWUsS0FBYTtnQkFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBRWhDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLENBQUM7OztXQUxBO1FBVUQsc0JBQUksa0NBQU87aUJBQVg7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDekIsQ0FBQztpQkFNRCxVQUFZLE9BQWU7Z0JBQ3ZCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztnQkFFdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Z0JBRXhCLEVBQUUsQ0FBQSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQ3hCLElBQUkseUJBQXlCLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztvQkFFM0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsR0FBRyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUV6RyxNQUFNLENBQUM7Z0JBQ1gsQ0FBQztnQkFFRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUVyQyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxXQUFXLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFN0gsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2pHLENBQUM7OztXQXhCQTtRQTJCRCxzQkFBSSxrQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDO2lCQU1ELFVBQVksT0FBZTtnQkFDdkIsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO2dCQUV4QixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztnQkFFeEIsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDeEIsSUFBSSwwQkFBMEIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7b0JBRTdFLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsMEJBQTBCLENBQUMsQ0FBQztvQkFFMUcsTUFBTSxDQUFDO2dCQUNYLENBQUM7Z0JBRUQsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUV2QyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQztnQkFFOUgsSUFBSSxDQUFDLE1BQU0sR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ25HLENBQUM7OztXQXhCQTtRQTJCRCxzQkFBSSxnQ0FBSztpQkFBVDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN0QyxDQUFDO2lCQUNELFVBQVUsS0FBWTtnQkFDbEIsRUFBRSxDQUFBLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDO29CQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFFcEIsZUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ25HLENBQUM7WUFDTCxDQUFDOzs7V0FQQTtRQVVELHNCQUFJLGlDQUFNO2lCQUFWO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLENBQUM7aUJBQ0QsVUFBVyxNQUFhO2dCQUNwQixFQUFFLENBQUEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLENBQUM7b0JBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO29CQUV0QixlQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsY0FBVyxDQUFDLE1BQU0sQ0FBTSxlQUFZLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO2dCQUNwRyxDQUFDO1lBQ0wsQ0FBQzs7O1dBUEE7UUFTRCxzQkFBSSxzQ0FBVztpQkFBZjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDN0QsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSxzQ0FBVztpQkFBZjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUM3QixDQUFDO2lCQUNELFVBQWdCLFdBQW1CO2dCQUMvQixJQUFJLENBQUMsWUFBWSxHQUFHLFdBQVcsQ0FBQztnQkFFaEMsRUFBRSxDQUFBLENBQUMsV0FBVyxDQUFDLENBQUEsQ0FBQztvQkFDWixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztvQkFFdkIsZUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztvQkFHckcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUNsRCxDQUFDO1lBQ0wsQ0FBQzs7O1dBWkE7UUFlRCxzQkFBSSxtQ0FBUTtpQkFBWjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUMxQixDQUFDO2lCQUNELFVBQWEsUUFBZ0I7Z0JBQ3pCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO2dCQUUxQixFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFDO29CQUNULElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO29CQUV2QixlQUFZLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsY0FBVyxDQUFDLE1BQU0sQ0FBTSxlQUFZLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO29CQUVsRyxJQUFJLENBQUMseUJBQXlCLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQy9DLENBQUM7WUFDTCxDQUFDOzs7V0FYQTtRQWNELHNCQUFJLGtDQUFPO2lCQUFYO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3pCLENBQUM7aUJBQ0QsVUFBWSxPQUFlO2dCQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztnQkFFeEIsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLENBQUEsQ0FBQztvQkFDUixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztvQkFFdkIsZUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7b0JBRWpHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDOUMsQ0FBQztZQUNMLENBQUM7OztXQVhBO1FBd0JNLG9DQUFZLEdBQW5CO1lBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBLENBQUM7Z0JBQ25CLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDekIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzVELENBQUM7Z0JBQ0QsSUFBSSxDQUFDLENBQUM7b0JBQ0YsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ25HLENBQUM7Z0JBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFtQjtvQkFDdEMsS0FBSyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7Z0JBQy9CLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztRQUNMLENBQUM7UUFFTSw0Q0FBb0IsR0FBM0I7WUFDSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFdkUsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7WUFDdEMsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDekIsSUFBSSxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDekUsQ0FBQztnQkFDRCxJQUFJLENBQUMsQ0FBQztvQkFDRixJQUFJLENBQUMsNEJBQTRCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQzdILENBQUM7Z0JBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBRXhCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBbUI7b0JBQ3RDLEtBQUssQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7Z0JBQ3ZDLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztRQUNMLENBQUM7UUFLTSxpQ0FBUyxHQUFoQjtZQUFpQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3BCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztZQUV2QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLFdBQVcsR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRCxDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUUvQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFRTSw4QkFBTSxHQUFiLFVBQWMsS0FBWTtZQUN0QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBRTdCLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRS9FLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUtNLG9DQUFZLEdBQW5CO1lBQW9CLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDdkIsSUFBSSxLQUFLLEdBQUcsSUFBSSxFQUNaLE1BQU0sR0FBRyxJQUFJLEVBQ2IsUUFBUSxHQUFHLElBQUksRUFDZixDQUFDLEdBQUcsSUFBSSxFQUNSLENBQUMsR0FBRyxJQUFJLENBQUM7WUFFYixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2xCLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckIsQ0FBQztZQUNELElBQUksQ0FBQSxDQUFDO2dCQUNELEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QyxDQUFDO1lBRUQsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDYixDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUViLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLDhCQUE4QixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVPLGtEQUEwQixHQUFsQyxVQUFtQyxDQUFRLEVBQUUsQ0FBUTtZQUNqRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUUxQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxxQ0FBYSxHQUFwQjtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekMsQ0FBQztRQUVNLGtDQUFVLEdBQWpCO1lBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBRU0scUNBQWEsR0FBcEI7WUFDSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDNUMsQ0FBQztRQVVNLDRDQUFvQixHQUEzQjtZQUNJLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMseUJBQXlCLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDM0MsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFFTyxzREFBOEIsR0FBdEMsVUFBdUMsS0FBWTtZQUMvQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXhDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBRTFCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVPLHVDQUFlLEdBQXZCO1lBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixNQUFNLENBQUMsZ0JBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ2xELENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDL0IsQ0FBQztRQUVPLHdDQUFnQixHQUF4QjtZQUNJLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUEsQ0FBQztnQkFDdkIsTUFBTSxDQUFDLGdCQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNuRCxDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO1FBQ2hDLENBQUM7UUFFTywwQ0FBa0IsR0FBMUI7WUFDSSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFBLENBQUM7Z0JBQ3ZCLElBQUksSUFBSSxHQUFHLGdCQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDO2dCQUU1QyxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzNELENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7UUFDbEMsQ0FBQztRQUVPLHVDQUFlLEdBQXZCO1lBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDaEMsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUMvQixDQUFDO1FBN1REO1lBQUMsZ0JBQWEsQ0FBQyxVQUFTLE9BQWU7Z0JBQ25DLFNBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hFLFNBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztnQkFDdkYsU0FBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQzNGLENBQUMsQ0FBQztvREFBQTtRQXlCRjtZQUFDLGdCQUFhLENBQUMsVUFBUyxPQUFlO2dCQUNuQyxTQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUN4RSxTQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZGLFNBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUMzRixDQUFDLENBQUM7b0RBQUE7UUE2Uk4sb0JBQUM7SUFBRCxDQTVaQSxBQTRaQyxDQTVaa0MsWUFBUyxHQTRaM0M7SUE1WlksZ0JBQWEsZ0JBNFp6QixDQUFBO0FBQ0wsQ0FBQyxFQTlaTSxFQUFFLEtBQUYsRUFBRSxRQThaUjtBQzlaRCxJQUFPLEVBQUUsQ0FvQlI7QUFwQkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQUE7WUFDYyxTQUFJLEdBQThCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFhLENBQUM7UUFpQnBGLENBQUM7UUFmVSxxQ0FBUSxHQUFmLFVBQWdCLFNBQW1CO1lBQy9CLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN6QixNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsQ0FBQztRQUVNLHdDQUFXLEdBQWxCLFVBQW1CLFNBQW1CO1lBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFTSxxQ0FBUSxHQUFmLFVBQWdCLFNBQW1CO1lBQy9CLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO1FBQ0wseUJBQUM7SUFBRCxDQWxCQSxBQWtCQyxJQUFBO0lBbEJxQixxQkFBa0IscUJBa0J2QyxDQUFBO0FBQ0wsQ0FBQyxFQXBCTSxFQUFFLEtBQUYsRUFBRSxRQW9CUjtBQ3BCRCxJQUFPLEVBQUUsQ0FtQ1I7QUFuQ0QsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQW1DLGlDQUFrQjtRQUFyRDtZQUFtQyw4QkFBa0I7UUFpQ3JELENBQUM7UUFoQ2lCLG9CQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUlNLDhCQUFNLEdBQWIsVUFBYyxXQUFrQjtZQUM1QixJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFFckIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBUyxLQUFZO2dCQUtuQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDakIsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDeEIsTUFBTSxDQUFDO2dCQUNYLENBQUM7Z0JBRUQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztvQkFDaEMsTUFBTSxDQUFDO2dCQUNYLENBQUM7Z0JBRUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUM5QixDQUFDLENBQUMsQ0FBQztZQUVILFdBQVcsQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFZO2dCQUN0QyxLQUFLLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFDTCxvQkFBQztJQUFELENBakNBLEFBaUNDLENBakNrQyxxQkFBa0IsR0FpQ3BEO0lBakNZLGdCQUFhLGdCQWlDekIsQ0FBQTtBQUNMLENBQUMsRUFuQ00sRUFBRSxLQUFGLEVBQUUsUUFtQ1I7QUNuQ0QsSUFBTyxFQUFFLENBbUNSO0FBbkNELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUErQiw2QkFBa0I7UUFPN0MsbUJBQVksUUFBaUI7WUFDekIsaUJBQU8sQ0FBQztZQUtKLGNBQVMsR0FBWSxJQUFJLENBQUM7WUFIOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDOUIsQ0FBQztRQVZhLGdCQUFNLEdBQXBCLFVBQXFCLFFBQWlCO1lBQ2xDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRTdCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBYU0sMEJBQU0sR0FBYixVQUFjLFdBQWtCO1lBQzVCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDM0IsTUFBTSxDQUFDO1lBQ1gsQ0FBQztZQUVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQUMsRUFBSztvQkFDcEIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDM0IsQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDO1FBQ0wsQ0FBQztRQUVPLDRCQUFRLEdBQWhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFhLGFBQVUsQ0FBQyxDQUFDLEtBQUssS0FBSyxtQkFBZ0IsQ0FBQyxLQUFLLENBQUM7UUFDaEcsQ0FBQztRQWpCRDtZQUFDLFVBQU8sQ0FBQyxVQUFTLFdBQWtCO2dCQUNoQyxTQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsK0JBQStCLENBQUMsQ0FBQyxDQUFDO1lBQzdGLENBQUMsQ0FBQzsrQ0FBQTtRQWdCTixnQkFBQztJQUFELENBakNBLEFBaUNDLENBakM4QixxQkFBa0IsR0FpQ2hEO0lBakNZLFlBQVMsWUFpQ3JCLENBQUE7QUFDTCxDQUFDLEVBbkNNLEVBQUUsS0FBRixFQUFFLFFBbUNSO0FDbkNELElBQU8sRUFBRSxDQXFDUjtBQXJDRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBQTtZQW1CWSxZQUFPLEdBQWtCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFPLENBQUM7UUFnQjdELENBQUM7UUFsQ2lCLG1CQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUVELHNCQUFJLHNDQUFZO2lCQUFoQjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsZUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BELENBQUM7OztXQUFBO1FBRUQsc0JBQUkseUNBQWU7aUJBQW5CO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxpQkFBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3RELENBQUM7OztXQUFBO1FBRUQsc0JBQUkscUNBQVc7aUJBQWY7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGFBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsRCxDQUFDOzs7V0FBQTtRQUlNLCtCQUFRLEdBQWYsVUFBZ0IsS0FBZ0I7WUFDNUIsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFZLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGVBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDcEQsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGlCQUFjLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGlCQUFjLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3pELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxhQUFVLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDckQsQ0FBQztZQUNELElBQUksQ0FBQSxDQUFDO2dCQUNBLE1BQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDckQsQ0FBQztRQUNMLENBQUM7UUFDTCxtQkFBQztJQUFELENBbkNBLEFBbUNDLElBQUE7SUFuQ1ksZUFBWSxlQW1DeEIsQ0FBQTtBQUNMLENBQUMsRUFyQ00sRUFBRSxLQUFGLEVBQUUsUUFxQ1I7QUNyQ0QsSUFBTyxFQUFFLENBc0ZSO0FBdEZELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUF3Qyw2QkFBUztRQUFqRDtZQUF3Qyw4QkFBUztZQVl0QyxrQkFBYSxHQUFXLEtBQUssQ0FBQztZQUUzQixVQUFLLEdBQW1CLGVBQWUsQ0FBQyxPQUFPLENBQUM7WUFDaEQsY0FBUyxHQUFVLElBQUksQ0FBQztZQUN4QixlQUFVLEdBQVUsSUFBSSxDQUFDO1lBRTNCLGNBQVMsR0FBVyxLQUFLLENBQUM7UUEyRHRDLENBQUM7UUE1RUcsc0JBQUksOEJBQU87aUJBQVg7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssZUFBZSxDQUFDLEdBQUcsQ0FBQztZQUM5QyxDQUFDOzs7V0FBQTtRQUNELHNCQUFJLDZCQUFNO2lCQUFWO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLGVBQWUsQ0FBQyxJQUFJLENBQUM7WUFDL0MsQ0FBQzs7O1dBQUE7UUFDRCxzQkFBSSw4QkFBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxlQUFlLENBQUMsS0FBSyxDQUFDO1lBQ2hELENBQUM7OztXQUFBO1FBYU0seUJBQUssR0FBWjtZQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQztZQUVuQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN6QyxDQUFDO1FBRU0sMEJBQU0sR0FBYjtZQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQztZQUVqQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUMzQyxDQUFDO1FBRU0sd0JBQUksR0FBWDtZQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQztRQUN0QyxDQUFDO1FBRU0sMEJBQU0sR0FBYixVQUFjLFdBQWtCO1lBQzVCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssZUFBZSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQztnQkFDdEQsTUFBTSxDQUFDO1lBQ1gsQ0FBQztZQUVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQSxDQUFDO2dCQUNiLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ2xDLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUEsQ0FBQztnQkFDZixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzdDLENBQUM7WUFFRCxJQUFJLENBQUMsMENBQTBDLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFN0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLFdBQVcsQ0FBQyxDQUFBO1lBQ2xELENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMvQixDQUFDO1lBRUQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXZDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixDQUFDO1FBV0wsZ0JBQUM7SUFBRCxDQTdFQSxBQTZFQyxDQTdFdUMsWUFBUyxHQTZFaEQ7SUE3RXFCLFlBQVMsWUE2RTlCLENBQUE7SUFFRCxXQUFZLGVBQWU7UUFDdkIsMkRBQU8sQ0FBQTtRQUNQLG1EQUFHLENBQUE7UUFDSCxxREFBSSxDQUFBO1FBQ0osdURBQUssQ0FBQTtJQUNULENBQUMsRUFMVyxrQkFBZSxLQUFmLGtCQUFlLFFBSzFCO0lBTEQsSUFBWSxlQUFlLEdBQWYsa0JBS1gsQ0FBQTtBQUNMLENBQUMsRUF0Rk0sRUFBRSxLQUFGLEVBQUUsUUFzRlI7QUN0RkQsSUFBTyxFQUFFLENBa0hSO0FBbEhELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUFvQyxrQ0FBUztRQUE3QztZQUFvQyw4QkFBUztZQU9sQyxrQkFBYSxHQUFVLENBQUMsQ0FBQztZQUN6QixpQkFBWSxHQUFVLENBQUMsQ0FBQztZQUN4QixjQUFTLEdBQVUsQ0FBQyxDQUFDO1lBQ3JCLGFBQVEsR0FBVSxJQUFJLENBQUM7WUFDdkIsUUFBRyxHQUFVLElBQUksQ0FBQztZQUNsQixvQkFBZSxHQUFVLElBQUksQ0FBQztZQUU3QixhQUFRLEdBQVUsQ0FBQyxDQUFDO1lBQ3BCLGdCQUFXLEdBQVUsSUFBSSxDQUFDO1lBQzFCLHFCQUFnQixHQUFXLEtBQUssQ0FBQztRQThGN0MsQ0FBQztRQTdHaUIscUJBQU0sR0FBcEI7WUFDQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDWixDQUFDO1FBYU0sNkJBQUksR0FBWDtRQUNBLENBQUM7UUFFTSxnQ0FBTyxHQUFkO1FBQ0EsQ0FBQztRQVdNLDZCQUFJLEdBQVgsVUFBWSxRQUFlLEVBQUUsR0FBVTtZQUNuQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBZ0IsZ0JBQWEsQ0FBQyxDQUFDO1lBRTVFLElBQUksQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBRWYsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztZQUVqQyxJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRXZFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNsQixDQUFDO1FBRVMscUNBQVksR0FBdEI7WUFDSSxNQUFNLENBQUMsV0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQztRQUMxQyxDQUFDO1FBRVMsc0NBQWEsR0FBdkI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDO1FBRVMsd0NBQWUsR0FBekIsVUFBMEIsV0FBa0I7WUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUM7UUFDaEMsQ0FBQztRQUVTLHFEQUE0QixHQUF0QyxVQUF1QyxXQUFrQjtZQUNyRCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztZQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFekMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ25DLElBQUksQ0FBQyxTQUFTLEVBQUcsQ0FBQztZQUNsQixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztZQUN2QixDQUFDO1FBQ0wsQ0FBQztRQUVTLG1FQUEwQyxHQUFwRCxVQUFxRCxXQUFrQjtZQUNuRSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQSxDQUFDO2dCQUN0QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO2dCQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ2pDLENBQUM7UUFDTCxDQUFDO1FBRVMsNkNBQW9CLEdBQTlCLFVBQStCLFdBQWtCO1lBQzdDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZELENBQUM7UUFFUyw2Q0FBb0IsR0FBOUIsVUFBK0IsV0FBa0I7WUFDN0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDekUsQ0FBQztRQUVTLHNDQUFhLEdBQXZCO1FBQ0EsQ0FBQztRQUVTLCtDQUFzQixHQUFoQyxVQUFpQyxXQUFrQjtZQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDckYsQ0FBQztRQUVPLCtCQUFNLEdBQWQ7WUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNsQixJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1lBRXZDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDO2dCQUNaLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDakMsQ0FBQztZQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsa0JBQWUsQ0FBQyxHQUFHLENBQUM7UUFDckMsQ0FBQztRQUVPLCtCQUFNLEdBQWQsVUFBZSxJQUFXO1lBQ3RCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkMsQ0FBQztRQUVPLG1DQUFVLEdBQWxCLFVBQW1CLFdBQWtCO1lBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLENBQUM7UUFyRkQ7WUFBQyxVQUFPLENBQUMsVUFBUyxRQUFlLEVBQUUsR0FBVTtnQkFDekMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsZ0JBQWEsQ0FBQyxDQUFDO2dCQUU3RCxTQUFNLENBQUMsUUFBUSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLDZCQUE2QixDQUFDLENBQUMsQ0FBQztnQkFDM0YsU0FBTSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFJLFFBQVEsaUJBQWEsQ0FBQyxDQUFDLENBQUM7WUFDcEssQ0FBQyxDQUFDO1lBQ0QsU0FBTSxDQUFDO2dCQUNKLFNBQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM5RSxDQUFDLENBQUM7a0RBQUE7UUE4RU4scUJBQUM7SUFBRCxDQTlHQSxBQThHQyxDQTlHbUMsWUFBUyxHQThHNUM7SUE5R1ksaUJBQWMsaUJBOEcxQixDQUFBO0FBR0wsQ0FBQyxFQWxITSxFQUFFLEtBQUYsRUFBRSxRQWtIUjtBQ2xIRCxJQUFPLEVBQUUsQ0E4UFI7QUE5UEQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOO1FBQTBDLHdDQUFTO1FBQW5EO1lBQTBDLDhCQUFTO1lBT3hDLFNBQUksR0FBNEIsSUFBSSxDQUFDO1lBRXBDLG1CQUFjLEdBQVUsSUFBSSxDQUFDO1lBQzdCLGtCQUFhLEdBQVUsSUFBSSxDQUFDO1lBQzVCLHFCQUFnQixHQUFVLElBQUksQ0FBQztZQUMvQixrQ0FBNkIsR0FBVSxJQUFJLENBQUM7WUFDNUMsbUJBQWMsR0FBVSxJQUFJLENBQUM7WUFDN0IsbUJBQWMsR0FBVSxJQUFJLENBQUM7WUFDN0IsZ0JBQVcsR0FBVSxJQUFJLENBQUM7WUFDMUIscUJBQWdCLEdBQWtELElBQUksQ0FBQztZQUN2RSxzQkFBaUIsR0FBaUMsSUFBSSxDQUFDO1lBQ3ZELG1CQUFjLEdBQWlDLElBQUksQ0FBQztZQUNwRCx5QkFBb0IsR0FBa0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQU8sQ0FBQztZQUM5RCx1QkFBa0IsR0FBa0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQU8sQ0FBQztRQTBOeEUsQ0FBQztRQTdPaUIsMkJBQU0sR0FBcEI7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBaUJNLG1DQUFJLEdBQVg7UUFDQSxDQUFDO1FBRU0sc0NBQU8sR0FBZDtRQUNBLENBQUM7UUE0Qk0sbUNBQUksR0FBWCxVQUFZLFFBQWU7WUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQztZQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckQsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ3BELElBQUksQ0FBQyxLQUFLLEdBQUcsa0JBQWUsQ0FBQyxHQUFHLENBQUM7UUFDckMsQ0FBQztRQUVTLDJDQUFZLEdBQXRCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUNsQyxDQUFDO1FBRVMsNENBQWEsR0FBdkI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ2xDLENBQUM7UUFFUyw4Q0FBZSxHQUF6QixVQUEwQixXQUFrQjtRQUM1QyxDQUFDO1FBRVMsMkRBQTRCLEdBQXRDLFVBQXVDLFdBQWtCO1lBQ3JELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsQ0FBQztZQUMxQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMvQixDQUFDO1FBRVMseUVBQTBDLEdBQXBELFVBQXFELFdBQWtCO1FBQ3ZFLENBQUM7UUFFUyxtREFBb0IsR0FBOUIsVUFBK0IsV0FBa0I7WUFDN0MsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsNkJBQTZCLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQ2hILENBQUM7UUFFUyxtREFBb0IsR0FBOUIsVUFBK0IsV0FBa0I7WUFDN0MsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLENBQUEsQ0FBQztnQkFDaEQsS0FBSyx5QkFBc0IsQ0FBQyxNQUFNO29CQUM5QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQzt3QkFDeEQsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7b0JBQzVCLENBQUM7b0JBQ0QsSUFBSSxDQUFBLENBQUM7d0JBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsNkJBQTZCLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDL0ssQ0FBQztvQkFDRCxLQUFLLENBQUM7Z0JBQ1Y7b0JBQ0ksTUFBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx5QkFBdUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLG1CQUFxQixDQUFDLENBQUMsQ0FBQztvQkFDaEgsS0FBSyxDQUFBO1lBQ2IsQ0FBQztRQUNMLENBQUM7UUFFUyw0Q0FBYSxHQUF2QjtZQUNJLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUN2QyxhQUFhLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFDbkMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQ2xDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsRUFDL0MsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1lBRWhELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBMEM7Z0JBQzlFLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQzFCLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxRQUFRLENBQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUVwRSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQztvQkFDbkIsS0FBSyw4QkFBMkIsQ0FBQyxXQUFXO3dCQUN4QyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxhQUFhLENBQUMsQ0FBQzt3QkFDeEYsS0FBSyxDQUFDO29CQUNWLEtBQUssOEJBQTJCLENBQUMsUUFBUTt3QkFDckMsU0FBUyxDQUFDLFFBQVEsR0FBRyxhQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLENBQUM7d0JBQzVGLEtBQUssQ0FBQztvQkFDVixLQUFLLDhCQUEyQixDQUFDLEtBQUs7d0JBQ2xDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO3dCQUNyRixLQUFLLENBQUM7b0JBQ1Y7d0JBQ0ksTUFBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQ0FBK0IsTUFBTSxDQUFDLE1BQVEsQ0FBQyxDQUFDLENBQUM7d0JBQzNGLEtBQUssQ0FBQztnQkFDZCxDQUFDO2dCQUVELEVBQUUsQ0FBQSxDQUFDLGFBQWEsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBTSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQSxDQUFDO29CQUNuRSxtQkFBbUIsQ0FBQyxRQUFRLENBQU0sTUFBTSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFDbkUsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUVTLHFEQUFzQixHQUFoQyxVQUFpQyxXQUFrQjtZQUMvQyxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUM1RCxDQUFDO1FBRU8seUNBQVUsR0FBbEI7WUFDSSxJQUFJLENBQUMsNkJBQTZCLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzVELElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO1lBRXZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1lBQzNCLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1lBRS9CLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzlDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ2hELENBQUM7UUFFTyw4Q0FBZSxHQUF2QjtZQUNJLE1BQU0sQ0FBQyxXQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDO1FBQzFDLENBQUM7UUFLTyxrREFBbUIsR0FBM0I7WUFDSSxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFDM0MsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO1lBRTVDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBMEM7Z0JBQzlFLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQztnQkFFMUIsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUM7b0JBQ25CLEtBQUssOEJBQTJCLENBQUMsV0FBVzt3QkFDeEMsY0FBYyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7d0JBQ3BDLEtBQUssQ0FBQztvQkFDVixLQUFLLDhCQUEyQixDQUFDLFFBQVE7d0JBQ3JDLGNBQWMsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDO3dCQUNwQyxLQUFLLENBQUM7b0JBQ1YsS0FBSyw4QkFBMkIsQ0FBQyxLQUFLO3dCQUNsQyxjQUFjLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQzt3QkFDakMsS0FBSyxDQUFDO29CQUNWO3dCQUNJLE1BQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUNBQStCLE1BQU0sQ0FBQyxNQUFRLENBQUMsQ0FBQyxDQUFDO3dCQUMzRixLQUFLLENBQUM7Z0JBQ2QsQ0FBQztnQkFFRCxpQkFBaUIsQ0FBQyxRQUFRLENBQU0sTUFBTSxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsQ0FBQztZQUNuRSxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTyxzREFBdUIsR0FBL0I7WUFDSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDaEYsQ0FBQztRQUVPLGtEQUFtQixHQUEzQixVQUE0QixXQUFrQjtZQUMxQyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztZQUUxQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFFckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUEsQ0FBQztnQkFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyw2QkFBNkIsR0FBRyxXQUFXLEdBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQzVILElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDdEYsQ0FBQztZQUVELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQzdDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQ25DLENBQUM7UUFLTyxpRUFBa0MsR0FBMUM7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQ1gsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUN2QyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUM7WUFFcEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBMEM7Z0JBQzNFLElBQUksZ0JBQWdCLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBRXpJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRSxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTyw2Q0FBYyxHQUF0QixVQUF1QixNQUFrQyxFQUFFLFNBQXlCLEVBQUUsSUFBUTtZQUMxRixNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDO2dCQUNaLEtBQUssOEJBQTJCLENBQUMsV0FBVztvQkFDeEMsU0FBUyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7b0JBQzFCLEtBQUssQ0FBQztnQkFDVixLQUFLLDhCQUEyQixDQUFDLFFBQVE7b0JBQ3JDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO29CQUMxQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyw4QkFBMkIsQ0FBQyxLQUFLO29CQUNsQyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztvQkFDdkIsS0FBSyxDQUFDO2dCQUNWO29CQUNJLE1BQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUNBQStCLE1BQVEsQ0FBQyxDQUFDLENBQUM7b0JBQ3BGLEtBQUssQ0FBQztZQUNkLENBQUM7UUFDTCxDQUFDO1FBak5EO1lBQUMsVUFBTyxDQUFDLFVBQVMsUUFBZTtnQkFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBa0M7b0JBQ3BFLFNBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFFN0QsU0FBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1EQUFtRCxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBRXRILElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBMEM7d0JBQzVELElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7d0JBRXZCLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDOzRCQUNuQixLQUFLLDhCQUEyQixDQUFDLFdBQVc7Z0NBQ3hDLFNBQU0sQ0FBQyxJQUFJLFlBQVksVUFBTyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGlFQUFpRSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0NBQ3JJLEtBQUssQ0FBQzs0QkFDVixLQUFLLDhCQUEyQixDQUFDLFFBQVE7Z0NBQ3JDLFNBQU0sQ0FBQyxJQUFJLFlBQVksYUFBVSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDZEQUE2RCxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0NBQ3ZJLEtBQUssQ0FBQzs0QkFDVixLQUFLLDhCQUEyQixDQUFDLEtBQUs7Z0NBQ2xDLFNBQU0sQ0FBQyxJQUFJLFlBQVksVUFBTyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDJEQUEyRCxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0NBQy9ILEtBQUssQ0FBQzs0QkFDVjtnQ0FDSSxNQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGlDQUErQixNQUFNLENBQUMsTUFBUSxDQUFDLENBQUMsQ0FBQztnQ0FDM0YsS0FBSyxDQUFDO3dCQUNkLENBQUM7b0JBQ0wsQ0FBQyxDQUFDLENBQUE7Z0JBQ04sQ0FBQyxDQUFDLENBQUE7WUFDTixDQUFDLENBQUM7d0RBQUE7UUF1R0Y7WUFBQyxVQUFPLENBQUM7Z0JBQ0wsU0FBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxJQUFJLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDO1lBQzFGLENBQUMsQ0FBQzt1RUFBQTtRQWlERjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsS0FBSyxJQUFJLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDL0YsQ0FBQyxDQUFDO3NGQUFBO1FBNkJOLDJCQUFDO0lBQUQsQ0E5T0EsQUE4T0MsQ0E5T3lDLFlBQVMsR0E4T2xEO0lBOU9ZLHVCQUFvQix1QkE4T2hDLENBQUE7QUFlTCxDQUFDLEVBOVBNLEVBQUUsS0FBRixFQUFFLFFBOFBSO0FDOVBELElBQU8sRUFBRSxDQUlSO0FBSkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOLFdBQVksc0JBQXNCO1FBQzlCLHVFQUFNLENBQUE7SUFDVixDQUFDLEVBRlcseUJBQXNCLEtBQXRCLHlCQUFzQixRQUVqQztJQUZELElBQVksc0JBQXNCLEdBQXRCLHlCQUVYLENBQUE7QUFDTCxDQUFDLEVBSk0sRUFBRSxLQUFGLEVBQUUsUUFJUjtBQ0pELElBQU8sRUFBRSxDQU1SO0FBTkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNOLFdBQVksMkJBQTJCO1FBQ25DLHlFQUFtQixVQUFVLGlCQUFBLENBQUE7UUFDN0Isc0VBQWdCLFVBQVUsY0FBQSxDQUFBO1FBQzFCLG1FQUFhLE9BQU8sV0FBQSxDQUFBO0lBQ3hCLENBQUMsRUFKVyw4QkFBMkIsS0FBM0IsOEJBQTJCLFFBSXRDO0lBSkQsSUFBWSwyQkFBMkIsR0FBM0IsOEJBSVgsQ0FBQTtBQUNMLENBQUMsRUFOTSxFQUFFLEtBQUYsRUFBRSxRQU1SO0FDTkQsSUFBTyxFQUFFLENBb0lSO0FBcElELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUF1Qyw0QkFBUztRQUFoRDtZQUF1Qyw4QkFBUztZQUNwQyxjQUFTLEdBQVksSUFBSSxDQUFDO1lBa0IzQixZQUFPLEdBQW1CLElBQUksQ0FBQztZQUMvQixhQUFRLEdBQWEsWUFBUyxDQUFDLFNBQVMsQ0FBQztRQXNHcEQsQ0FBQztRQXhIRyxzQkFBSSw4QkFBUTtpQkFBWjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUMxQixDQUFDO2lCQUNELFVBQWEsUUFBaUI7Z0JBQzFCLEVBQUUsQ0FBQSxDQUFDLENBQUMsYUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDOUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7b0JBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztvQkFFL0IsZUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGNBQVcsQ0FBQyxNQUFNLENBQU0sZUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ25HLENBQUM7WUFDTCxDQUFDOzs7V0FSQTtRQVVELHNCQUFJLGtDQUFZO2lCQUFoQjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7WUFDckMsQ0FBQzs7O1dBQUE7UUFZTSx1QkFBSSxHQUFYO1lBQ0ksSUFBSSxZQUFZLEdBQUcsSUFBSSxFQUNuQix1QkFNMEIsRUFMdEIsc0JBQVEsRUFDUixnQkFBSyxFQUNMLHdCQUFTLEVBQ1Qsa0JBQU0sRUFDTiw4QkFBWSxDQUNXO1lBRS9CLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7WUFFNUMsWUFBWSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFekYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO1lBRXpDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFcEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUV0QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUIsQ0FBQztRQUtNLGlDQUFjLEdBQXJCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RELENBQUM7UUFLTSxtQ0FBZ0IsR0FBdkI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4RCxDQUFDO1FBRU0sa0NBQWUsR0FBdEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEtBQUssV0FBUSxDQUFDLE1BQU0sQ0FBQztRQUN0RCxDQUFDO1FBRU0sMEJBQU8sR0FBZDtZQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QixDQUFDO1FBS00scUNBQWtCLEdBQXpCO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNuRCxDQUFDO1FBRU0sdUNBQW9CLEdBQTNCO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNyRCxDQUFDO1FBS1MsaUNBQWMsR0FBeEI7WUFDSSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUEsQ0FBQztvQkFDekIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7Z0JBQ2hDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQSxDQUFDO29CQUN2QixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztnQkFDOUIsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBR1Msd0NBQXFCLEdBQS9CO1lBQ0ksTUFBTSxDQUFDLHdCQUFxQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQUdTLHFDQUFrQixHQUE1QixVQUE2QixRQUFzQixFQUFFLEtBQWtCLEVBQUUsU0FBdUIsRUFBRSxNQUFvQixFQUFFLFlBQXdDO1lBQzVKLE1BQU0sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0UsQ0FBQztRQUVTLDJDQUF3QixHQUFsQyxVQUFtQyxRQUFzQixFQUFFLEtBQWtCLEVBQUUsU0FBdUIsRUFBRSxNQUFvQjtZQUN4SCxJQUFJLFlBQVksR0FBRyxxQkFBa0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFbkQsWUFBWSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDakMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDM0IsWUFBWSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7WUFDbkMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFFN0IsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUN4QixDQUFDO1FBbkdEO1lBQUMsU0FBTSxDQUFDO2dCQUNKLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO2dCQUU3QyxTQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3RGLFNBQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLFFBQU0sWUFBWSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyx3QkFBbUIsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ3BNLENBQUMsQ0FBQzs0Q0FBQTtRQXdCRjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQztZQUMxRyxDQUFDLENBQUM7c0RBQUE7UUFLRjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQztZQUMxRyxDQUFDLENBQUM7d0RBQUE7UUFlRjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQztZQUMxRyxDQUFDLENBQUM7MERBQUE7UUFXRjtZQUFDLFVBQU87c0RBQUE7UUFjUjtZQUFDLFVBQU87NkRBQUE7UUFLUjtZQUFDLFVBQU87MERBQUE7UUFlWixlQUFDO0lBQUQsQ0ExSEEsQUEwSEMsQ0ExSHNDLFlBQVMsR0EwSC9DO0lBMUhxQixXQUFRLFdBMEg3QixDQUFBO0FBU0wsQ0FBQyxFQXBJTSxFQUFFLEtBQUYsRUFBRSxRQW9JUjtBQ3BJRCxJQUFPLEVBQUUsQ0F1RVI7QUF2RUQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQUE7UUFxRUEsQ0FBQztRQXBFaUIsNEJBQWMsR0FBNUIsVUFBNkIsT0FBcUIsRUFBRSxPQUFzQjtZQUMxRSxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUNsQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBRWYsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFFLENBQUMsRUFBQyxDQUFDO2dCQUNoRCxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQ2QsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQ2xCLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUNsQixJQUFJLEdBQUcsUUFBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUVqQyxFQUFFLENBQUEsQ0FBQyxVQUFVLENBQUMsQ0FBQSxDQUFDO29CQUNYLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDO3dCQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQzt3QkFDbEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7d0JBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO3FCQUNyQyxDQUFDLENBQUM7b0JBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDNUQsQ0FBQztnQkFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JCLENBQUM7WUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2pCLENBQUM7UUFPaUIscUJBQU8sR0FBckIsVUFBc0IsSUFBUTtZQUMxQixNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hHLENBQUM7UUFFYSwrQkFBaUIsR0FBL0IsVUFBZ0MsVUFBd0IsRUFBRSxLQUFZO1lBQ2xFLElBQUksVUFBVSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7WUFFM0IsTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQ2pCLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFDdEIsVUFBVSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsRUFDMUIsVUFBVSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FDN0IsQ0FBQztRQUNOLENBQUM7UUFLYSxtQ0FBcUIsR0FBbkMsVUFBb0MsT0FBcUIsRUFBRSxRQUE0QjtZQUNuRixHQUFHLENBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUM7Z0JBQ2xELFFBQVEsQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pFLENBQUM7UUFDTCxDQUFDO1FBS2EsK0JBQWlCLEdBQS9CLFVBQWdDLFVBQXdCLEVBQUUsVUFBYyxFQUFFLEtBQVk7WUFDbEYsRUFBRSxDQUFBLENBQUMsVUFBVSxZQUFZLFVBQU8sQ0FBQyxDQUFBLENBQUM7Z0JBQzlCLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDckMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDekMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUM3QyxDQUFDO1lBQ0QsSUFBSSxDQUFBLENBQUM7Z0JBQ0QsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLENBQUM7UUFDTCxDQUFDO1FBMUNEO1lBQUMsVUFBTyxDQUFDLFVBQVMsSUFBSTtnQkFDbEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQztvQkFDTCxTQUFNLENBQUMsSUFBSSxZQUFZLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxZQUFZLElBQUksQ0FBQyxJQUFJLElBQUksYUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUcsZ0NBQWdDLENBQUMsQ0FBQyxDQUFDO2dCQUN0SyxDQUFDO1lBQ0wsQ0FBQyxDQUFDOzBDQUFBO1FBZUY7WUFBQyxVQUFPLENBQUMsVUFBUyxPQUFxQixFQUFFLFFBQTRCO2dCQUNqRSxTQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUMvRixDQUFDLENBQUM7d0RBQUE7UUFzQk4sb0JBQUM7SUFBRCxDQXJFQSxBQXFFQyxJQUFBO0lBckVZLGdCQUFhLGdCQXFFekIsQ0FBQTtBQUNMLENBQUMsRUF2RU0sRUFBRSxLQUFGLEVBQUUsUUF1RVI7QUN2RUQsSUFBTyxFQUFFLENBZ0ZSO0FBaEZELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFFTjtRQUFvQyxrQ0FBUTtRQUE1QztZQUFvQyw4QkFBUTtZQU9oQyxjQUFTLEdBQWlCLEVBQUUsQ0FBQztZQWE3QixlQUFVLEdBQWlCLEVBQUUsQ0FBQztZQWE5QixZQUFPLEdBQWlCLEVBQUUsQ0FBQztZQVkzQixhQUFRLEdBQWlCLEVBQUUsQ0FBQztZQVk1QixhQUFRLEdBQWlCLEVBQUUsQ0FBQztRQW9CeEMsQ0FBQztRQTVFaUIscUJBQU0sR0FBcEI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUdELHNCQUFJLG9DQUFRO2lCQUFaO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzFCLENBQUM7aUJBQ0QsVUFBYSxRQUFzQjtnQkFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7Z0JBRTFCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQSxDQUFDO29CQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7b0JBQzlDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3RELENBQUM7WUFDTCxDQUFDOzs7V0FSQTtRQVdELHNCQUFJLHFDQUFTO2lCQUFiO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQzNCLENBQUM7aUJBQ0QsVUFBYyxTQUF1QjtnQkFDakMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7Z0JBRTVCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7b0JBQ2hELElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3ZELENBQUM7WUFDTCxDQUFDOzs7V0FSQTtRQVdELHNCQUFJLGtDQUFNO2lCQUFWO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ3hCLENBQUM7aUJBQ0QsVUFBVyxNQUFvQjtnQkFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7Z0JBQ3RCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7b0JBQzFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3BELENBQUM7WUFDTCxDQUFDOzs7V0FQQTtRQVVELHNCQUFJLG1DQUFPO2lCQUFYO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3pCLENBQUM7aUJBQ0QsVUFBWSxPQUFxQjtnQkFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Z0JBQ3hCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxnQkFBYSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUN0RixJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNyRCxDQUFDO1lBQ0wsQ0FBQzs7O1dBUEE7UUFVRCxzQkFBSSxtQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDO2lCQUNELFVBQVksT0FBcUI7Z0JBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO2dCQUN4QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztvQkFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsZ0JBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztvQkFDdEYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsa0JBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDckQsQ0FBQztZQUNMLENBQUM7OztXQVBBO1FBU1Msb0NBQVcsR0FBckI7WUFDSSxNQUFNLENBQUM7Z0JBQ0gsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUN2QixLQUFLLEVBQUUsZ0JBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUMvRCxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7Z0JBQ3pCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTthQUN0QixDQUFDO1FBQ04sQ0FBQztRQUNMLHFCQUFDO0lBQUQsQ0E3RUEsQUE2RUMsQ0E3RW1DLFdBQVEsR0E2RTNDO0lBN0VZLGlCQUFjLGlCQTZFMUIsQ0FBQTtBQUNMLENBQUMsRUFoRk0sRUFBRSxLQUFGLEVBQUUsUUFnRlI7QUNoRkQsSUFBTyxFQUFFLENBdUdSO0FBdkdELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUFtQyxpQ0FBUTtRQUEzQztZQUFtQyw4QkFBUTtZQU9oQyxhQUFRLEdBQWlCLElBQUksQ0FBQztZQUM5QixXQUFNLEdBQWlCLElBQUksQ0FBQztZQUM1QixjQUFTLEdBQWlCLElBQUksQ0FBQztZQUMvQixVQUFLLEdBQWdCLElBQUksQ0FBQztZQUMxQixpQkFBWSxHQUErQixJQUFJLENBQUM7WUFDaEQscUJBQWdCLEdBQTZDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFrQyxDQUFDO1lBQ2hILHVCQUFrQixHQUE2QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBa0MsQ0FBQztRQXdGN0gsQ0FBQztRQXBHaUIsb0JBQU0sR0FBcEI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVlNLG9DQUFZLEdBQW5CO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxpQkFBYyxDQUFDLENBQUMsQ0FBQztRQUM1RyxDQUFDO1FBS00sMkNBQW1CLEdBQTFCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0QsQ0FBQztRQUtNLDZDQUFxQixHQUE1QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdELENBQUM7UUFLTSwyQ0FBbUIsR0FBMUI7WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3BELENBQUM7UUFFUyxzQ0FBYyxHQUF4QjtZQUNJLGdCQUFLLENBQUMsY0FBYyxXQUFFLENBQUM7WUFFdkIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQSxDQUFDO2dCQUN4QixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQSxDQUFDO29CQUN2QixFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUEsQ0FBQzt3QkFDOUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7b0JBQy9CLENBQUM7Z0JBQ0wsQ0FBQztnQkFDRCxJQUFJLENBQUEsQ0FBQztvQkFDRCxFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUEsQ0FBQzt3QkFDNUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7b0JBQy9CLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRVMsbUNBQVcsR0FBckI7WUFDSSxNQUFNLENBQU07Z0JBQ1IsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUN2QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7Z0JBQ2pCLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFDekIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7YUFDbEMsQ0FBQztRQUNOLENBQUM7UUFPUyw2Q0FBcUIsR0FBL0I7WUFDSSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQSxDQUFDO2dCQUNwQixNQUFNLENBQUMsdUJBQW9CLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQWlCLGlCQUFjLENBQUMsQ0FBQyxDQUFDO1lBQzFILENBQUM7WUFFRCxNQUFNLENBQUMsd0JBQXFCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRVMsMENBQWtCLEdBQTVCLFVBQTZCLFFBQXNCLEVBQUUsS0FBa0IsRUFBRSxTQUF1QixFQUFFLE1BQW9CLEVBQUUsWUFBd0M7WUFDNUosRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUEsQ0FBQztnQkFDcEIsSUFBSSxZQUFZLEdBQUcsb0JBQWlCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUVsRCxZQUFZLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztnQkFDakMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQzNCLFlBQVksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO2dCQUNuQyxZQUFZLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztnQkFDN0IsWUFBWSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7Z0JBRXpDLE1BQU0sQ0FBQyxZQUFZLENBQUM7WUFDeEIsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0UsQ0FBQztRQUVPLHdDQUFnQixHQUF4QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUEvRUQ7WUFBQyxVQUFPLENBQUM7Z0JBQ0wsU0FBTSxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7WUFDMUcsQ0FBQyxDQUFDO2dFQUFBO1FBS0Y7WUFBQyxVQUFPLENBQUM7Z0JBQ0wsU0FBTSxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7WUFDMUcsQ0FBQyxDQUFDO2tFQUFBO1FBS0Y7WUFBQyxVQUFPLENBQUM7Z0JBQ0wsU0FBTSxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7WUFDMUcsQ0FBQyxDQUFDO2dFQUFBO1FBZ0NGO1lBQUMsVUFBTyxDQUFDO2dCQUNMLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLFNBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxpQkFBYyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsaUNBQWlDLEVBQUUsOEJBQThCLENBQUMsQ0FBQyxDQUFDO2dCQUNwSixDQUFDO1lBQ0wsQ0FBQyxDQUFDO2tFQUFBO1FBNEJOLG9CQUFDO0lBQUQsQ0FyR0EsQUFxR0MsQ0FyR2tDLFdBQVEsR0FxRzFDO0lBckdZLGdCQUFhLGdCQXFHekIsQ0FBQTtBQUNMLENBQUMsRUF2R00sRUFBRSxLQUFGLEVBQUUsUUF1R1I7QUN2R0QsSUFBTyxFQUFFLENBNkdSO0FBN0dELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUFpQywrQkFBUTtRQUF6QztZQUFpQyw4QkFBUTtZQU85QixVQUFLLEdBQVUsSUFBSSxDQUFDO1lBQ3BCLFdBQU0sR0FBVSxJQUFJLENBQUM7WUFDckIsVUFBSyxHQUFVLElBQUksQ0FBQztZQUNwQixrQkFBYSxHQUFVLENBQUMsQ0FBQztZQUN6QixtQkFBYyxHQUFVLENBQUMsQ0FBQztZQUMxQixrQkFBYSxHQUFVLENBQUMsQ0FBQztRQStGcEMsQ0FBQztRQTFHaUIsa0JBQU0sR0FBcEI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVNTLGlDQUFXLEdBQXJCO1lBQ0ksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFDbEIsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ3BCLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUNsQixhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFDbEMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQ3BDLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUNsQyxLQUFLLEdBQUc7Z0JBQ0osS0FBSyxFQUFJLENBQUM7Z0JBQ1YsSUFBSSxFQUFLLENBQUM7Z0JBQ1YsR0FBRyxFQUFNLENBQUM7Z0JBQ1YsTUFBTSxFQUFHLENBQUM7Z0JBQ1YsS0FBSyxFQUFJLENBQUM7Z0JBQ1YsSUFBSSxFQUFLLENBQUM7YUFDYixDQUFDO1lBQ04sSUFBSSxRQUFRLEdBQUc7Z0JBQ1gsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBRTtnQkFDWCxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFO2dCQUNYLENBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUU7Z0JBQ1gsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBRTtnQkFDWCxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFO2dCQUNYLENBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUU7YUFDZCxDQUFDO1lBRUYsSUFBSSxXQUFXLEdBQUc7Z0JBQ2QsQ0FBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsQ0FBRTtnQkFDZCxDQUFHLENBQUMsRUFBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUU7Z0JBQ2QsQ0FBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsQ0FBRTtnQkFDZCxDQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRyxDQUFDLENBQUU7Z0JBQ2QsQ0FBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsQ0FBRTtnQkFDZCxDQUFFLENBQUMsQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFDLENBQUU7YUFDakIsQ0FBQztZQUNGLElBQUksT0FBTyxHQUFHO2dCQUNWLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDO2dCQUN0QyxVQUFPLENBQUMsTUFBTSxDQUFFLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUM7Z0JBQ3RDLFVBQU8sQ0FBQyxNQUFNLENBQUUsS0FBSyxFQUFHLE1BQU0sRUFBRSxLQUFLLENBQUM7Z0JBQ3RDLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUcsTUFBTSxFQUFFLEtBQUssQ0FBQztnQkFDdEMsVUFBTyxDQUFDLE1BQU0sQ0FBRSxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0JBQ3ZDLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUM7Z0JBQ3ZDLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUcsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUN2QyxVQUFPLENBQUMsTUFBTSxDQUFFLEtBQUssRUFBRyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUM7YUFDMUMsQ0FBQztZQUVGLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNsQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7WUFDakIsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQ25CLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUVqQixzQkFBc0IsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTO2dCQUM1QyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDVCxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztnQkFFakMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQzlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUM5QixJQUFJLEtBQUssR0FBRyxVQUFPLENBQUMsTUFBTSxFQUFFLENBQUE7d0JBQzVCLElBQUksS0FBSyxHQUFHLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQzt3QkFDN0IsSUFBSSxLQUFLLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO3dCQUM3QixJQUFJLENBQUMsR0FBRyxVQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7d0JBQ3pCLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUM7d0JBQ2xGLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUM7d0JBQ2xGLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUM5QyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFDckIsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUM7d0JBQ2xCLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDO3dCQUVsQixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENB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QUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUVqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUVqQixDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQzVCLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUN2QixDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUM1QixDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFDdkIsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFN0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFFM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztZQUMvQixDQUFDO1lBRUQsRUFBRSxHQUFHLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN0QixFQUFFLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRXRCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUMvQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBRWpCLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5RCxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEQsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBR3RELEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNsQixJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBRWhDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDekIsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFHN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQ2xCLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUQsQ0FBQztZQUVELE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDcEIsQ0FBQztRQWhhRDtZQUFDLGdCQUFhLENBQUM7Z0JBQ1gsU0FBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFFM0UsR0FBRyxDQUFDLENBQWEsVUFBVyxFQUFYLEtBQUEsSUFBSSxDQUFDLE1BQU0sRUFBWCxjQUFXLEVBQVgsSUFBVyxDQUFDO29CQUF4QixJQUFJLElBQUksU0FBQTtvQkFDVCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDbEMsU0FBTSxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsNEJBQTRCLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztvQkFDbkksQ0FBQztvQkFDRCxJQUFJLENBQUMsQ0FBQzt3QkFDRixTQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7b0JBQ3hGLENBQUM7aUJBQ0o7WUFDTCxDQUFDLENBQUM7WUFDRCxjQUFXLENBQUM7Z0JBQ1QsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ25ELENBQUMsRUFBRTtnQkFDQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUM3QixDQUFDLEVBQUUsVUFBUyxNQUFNO2dCQUNkLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO2dCQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUM5QixDQUFDLENBQUM7bURBQUE7UUFrQkY7WUFBQyxnQkFBYSxDQUFDO2dCQUNYLFNBQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDbEYsQ0FBQyxDQUFDO1lBQ0QsZUFBWSxDQUFDLFVBQVUsT0FBTztnQkFDM0IsR0FBRyxDQUFBLENBQWEsVUFBTyxFQUFQLG1CQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPLENBQUM7b0JBQXBCLElBQUksSUFBSSxnQkFBQTtvQkFDUixTQUFNLENBQUMsYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztpQkFDeEY7WUFDTCxDQUFDLENBQUM7WUFDRCxjQUFXLENBQUM7Z0JBQ1QsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUM7WUFDM0QsQ0FBQyxFQUFFO2dCQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7WUFDckMsQ0FBQyxFQUFFLFVBQVMsTUFBTTtnQkFDZCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsTUFBTSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUM5QixDQUFDLENBQUM7aUVBQUE7UUF3QkY7WUFBQyxnQkFBYSxDQUFDO2dCQUNYLFNBQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDbEYsQ0FBQyxDQUFDO1lBQ0QsZUFBWSxDQUFDLFVBQVUsT0FBTztnQkFDM0IsR0FBRyxDQUFBLENBQWEsVUFBTyxFQUFQLG1CQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPLENBQUM7b0JBQXBCLElBQUksSUFBSSxnQkFBQTtvQkFDUixTQUFNLENBQUMsYUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztpQkFDeEY7WUFDTCxDQUFDLENBQUM7WUFDRCxjQUFXLENBQUM7Z0JBQ1QsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDN0QsQ0FBQyxFQUFFO2dCQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDdkMsQ0FBQyxFQUFFLFVBQVMsTUFBTTtnQkFDZCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsTUFBTSxDQUFDO2dCQUNyQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUM5QixDQUFDLENBQUM7b0VBQUE7UUFzQkY7WUFBQyxjQUFXLENBQUM7Z0JBQ1QsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ25ELENBQUMsRUFBRTtnQkFDQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUM3QixDQUFDLEVBQUUsVUFBUyxNQUFNO2dCQUNkLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO2dCQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUM5QixDQUFDLENBQUM7bURBQUE7UUE4REY7WUFBQyxVQUFPLENBQUM7Z0JBQ0wsU0FBTSxDQUFDLGdCQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7WUFDekYsQ0FBQyxDQUFDO1lBQ0QsU0FBTSxDQUFDO2dCQUNKLEdBQUcsQ0FBQSxDQUFhLFVBQVcsRUFBWCxLQUFBLElBQUksQ0FBQyxNQUFNLEVBQVgsY0FBVyxFQUFYLElBQVcsQ0FBQztvQkFBeEIsSUFBSSxJQUFJLFNBQUE7b0JBQ1IsU0FBTSxDQUFDLElBQUksQ0FBQyxVQUFVLFlBQVksVUFBTyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO2lCQUNqRztZQUNMLENBQUMsQ0FBQzs4REFBQTtRQWlERjtZQUFDLFVBQU87d0RBQUE7UUFtTFosbUJBQUM7SUFBRCxDQWhiQSxBQWdiQyxJQUFBO0lBaGJxQixlQUFZLGVBZ2JqQyxDQUFBO0FBQ0wsQ0FBQyxFQWxiTSxFQUFFLEtBQUYsRUFBRSxRQWtiUjtBQ2xiRCxJQUFPLEVBQUUsQ0FRUjtBQVJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUF3QyxzQ0FBWTtRQUFwRDtZQUF3Qyw4QkFBWTtRQU1wRCxDQUFDO1FBTGlCLHlCQUFNLEdBQXBCLFVBQXFCLFFBQWlCO1lBQ2xDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRTdCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBQ0wseUJBQUM7SUFBRCxDQU5BLEFBTUMsQ0FOdUMsZUFBWSxHQU1uRDtJQU5ZLHFCQUFrQixxQkFNOUIsQ0FBQTtBQUNMLENBQUMsRUFSTSxFQUFFLEtBQUYsRUFBRSxRQVFSO0FDUkQsSUFBTyxFQUFFLENBeUdSO0FBekdELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUF1QyxxQ0FBWTtRQUFuRDtZQUF1Qyw4QkFBWTtZQWtDdkMsa0JBQWEsR0FBK0IsSUFBSSxDQUFDO1lBV2pELHNCQUFpQixHQUFpQixJQUFJLENBQUM7WUFDdkMsc0JBQWlCLEdBQVcsSUFBSSxDQUFDO1FBeUQ3QyxDQUFDO1FBdEdpQix3QkFBTSxHQUFwQixVQUFxQixRQUFpQjtZQUNsQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUU3QixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQVNELHNCQUFJLDJDQUFZO2lCQUFoQjtnQkFDSSxJQUFJLFFBQVEsR0FBc0IsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFFaEQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztnQkFFL0IsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDN0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ2hDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO29CQUMvQixDQUFDO29CQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUM7Z0JBQ3ZDLENBQUM7Z0JBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQzlCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO2dCQUMvQixDQUFDO2dCQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7WUFDckMsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSwyQ0FBWTtpQkFBaEI7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7WUFDOUIsQ0FBQztpQkFDRCxVQUFpQixZQUF3QztnQkFDckQsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7WUFDbEMsQ0FBQzs7O1dBSkE7UUFXTSwrQ0FBbUIsR0FBMUI7WUFDUSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUM1QixJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBdUIsRUFBRSxRQUFRO2dCQUN6RCxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBaUIsRUFDeEQsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQWlCLENBQUM7Z0JBRS9ELE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxRQUFzQjtvQkFDbEMsSUFBSSxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQ3JELHNCQUFzQixHQUFHLElBQUksRUFDN0Isd0JBQXdCLEdBQUcsSUFBSSxDQUFDO29CQUVwQyxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO29CQUNyQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBRXpELGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLENBQUM7b0JBQ3RDLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFLENBQUM7b0JBRXhDLDRDQUE0RixFQUEzRiw4QkFBc0IsRUFBRSxnQ0FBd0IsQ0FBNEM7b0JBRTdGLGNBQWMsQ0FBQyxRQUFRLENBQUMsc0JBQXNCLENBQUMsQ0FBQztvQkFDaEQsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDLENBQUM7O2dCQUN4RCxDQUFDLENBQUMsQ0FBQztnQkFFSCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxjQUFjLENBQUMsQ0FBQztnQkFDN0QsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNyRSxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTSwrQ0FBbUIsR0FBMUI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDekQsQ0FBQztRQUVNLGlEQUFxQixHQUE1QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRVMsd0NBQVksR0FBdEI7WUFDSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLENBQUM7UUFFTyxzQ0FBVSxHQUFsQixVQUFtQixLQUFrQjtZQUNqQyxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFFbkIsR0FBRyxDQUFDLENBQWEsVUFBSyxFQUFMLGVBQUssRUFBTCxtQkFBSyxFQUFMLElBQUssQ0FBQztnQkFBbEIsSUFBSSxJQUFJLGNBQUE7Z0JBQ1QsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQzthQUMvQjtZQUVELE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDckIsQ0FBQztRQUVPLDRDQUFnQixHQUF4QixVQUF5QixZQUE4QjtZQUNuRCxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUUsWUFBWSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDdkYsQ0FBQztRQS9GRDtZQUFDLGNBQVcsQ0FBQztnQkFDVCxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQzdELENBQUMsRUFBRTtnQkFDQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ2xDLENBQUMsRUFBRSxVQUFTLE1BQU07Z0JBQ2QsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE1BQU0sQ0FBQztZQUNwQyxDQUFDLENBQUM7NkRBQUE7UUEwRk4sd0JBQUM7SUFBRCxDQXZHQSxBQXVHQyxDQXZHc0MsZUFBWSxHQXVHbEQ7SUF2R1ksb0JBQWlCLG9CQXVHN0IsQ0FBQTtBQUNMLENBQUMsRUF6R00sRUFBRSxLQUFGLEVBQUUsUUF5R1I7QUN6R0QsSUFBTyxFQUFFLENBZ0tSO0FBaEtELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUNJLHlCQUFZLFlBQXVCO1lBSTVCLGlCQUFZLEdBQWdCLElBQUksQ0FBQztZQUU5QixpQkFBWSxHQUFjLElBQUksQ0FBQztZQUMvQixjQUFTLEdBQXFCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFVLENBQUM7WUFFM0QsaUJBQVksR0FBZSxJQUFJLENBQUM7WUFDaEMsb0JBQWUsR0FBZSxJQUFJLENBQUM7WUFDbkMsbUJBQWMsR0FBZSxJQUFJLENBQUM7WUFDbEMsa0JBQWEsR0FBaUIsSUFBSSxDQUFDO1lBWHZDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO1FBQ3JDLENBQUM7UUFZTSw4QkFBSSxHQUFYO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLGVBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBTyxlQUFZLENBQUMsZUFBZSxFQUFFO2dCQUNsRSxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU0scUNBQVcsR0FBbEIsVUFBbUIsSUFBb0I7WUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVNLGtDQUFRLEdBQWYsVUFBZ0IsSUFBb0I7WUFDaEMsSUFBSSxNQUFNLEdBQU8sSUFBSSxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ1gsS0FBSyxrQkFBZSxDQUFDLE9BQU87b0JBQ3hCLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUMvQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxrQkFBZSxDQUFDLE1BQU07b0JBQ3ZCLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUM5QixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxrQkFBZSxDQUFDLE9BQU87b0JBQ3hCLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNoQyxLQUFLLENBQUM7Z0JBQ1YsS0FBSyxrQkFBZSxDQUFDLEtBQUs7b0JBQ3RCLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUM5QixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxrQkFBZSxDQUFDLE1BQU07b0JBQ3ZCLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUMvQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxrQkFBZSxDQUFDLFFBQVE7b0JBQ3pCLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNqQyxLQUFLLENBQUM7Z0JBQ1Y7b0JBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBb0IsSUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDNUUsS0FBSyxDQUFDO1lBQ2QsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFFbEIsQ0FBQztRQUVNLGtDQUFRLEdBQWYsVUFBZ0IsSUFBb0I7WUFDaEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFFeEUsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVNLGlDQUFPLEdBQWQ7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQWE7Z0JBQ2pDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNyQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFLUyw4Q0FBb0IsR0FBOUIsVUFBK0IsZUFBc0IsRUFBRSxXQUFlO1lBQ2xFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3RCLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2pELENBQUM7UUFTTyxxQ0FBVyxHQUFuQixVQUFvQixJQUFJO1lBQ3BCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQztZQUV4QixJQUFJLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUUsY0FBVyxDQUFDLENBQUM7WUFFekQsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFcEYsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDL0IsQ0FBQztRQVNPLG1DQUFTLEdBQWpCLFVBQWtCLElBQUk7WUFDbEIsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLEVBQUUsY0FBVyxDQUFDLENBQUM7WUFFdkQsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEYsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDN0IsQ0FBQztRQVNPLG9DQUFVLEdBQWxCLFVBQW1CLElBQUk7WUFDbkIsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLEVBQUUsZ0JBQWEsQ0FBQyxDQUFDO1lBRTFELFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUU1RSxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxZQUFZLENBQUMsRUFBRSxjQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7WUFFeEYsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDOUIsQ0FBQztRQVNPLHNDQUFZLEdBQXBCLFVBQXFCLElBQUk7WUFDckIsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsRUFBRSxjQUFXLENBQUMsQ0FBQztZQUUxRCxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFFNUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsSUFBSSxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFLGNBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVyRixNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUNoQyxDQUFDO1FBRU8sK0NBQXFCLEdBQTdCLFVBQThCLElBQW9CO1lBQzlDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsSUFBSSxJQUFJLEtBQUssa0JBQWUsQ0FBQyxPQUFPLENBQUM7UUFDaEYsQ0FBQztRQTVFRDtZQUFDLFFBQUssQ0FBQyxVQUFTLElBQW9CO2dCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkYsQ0FBQyxFQUFFLFVBQVMsSUFBSTtnQkFDWixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUE7WUFDN0MsQ0FBQyxFQUFFLFVBQVMsTUFBTSxFQUFFLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFNLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUM7MERBQUE7UUFZRjtZQUFDLFFBQUssQ0FBQyxVQUFTLElBQW9CO2dCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUM7WUFDOUMsQ0FBQyxFQUFFLFVBQVMsSUFBSTtnQkFDWixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUE7WUFDN0MsQ0FBQyxFQUFFLFVBQVMsTUFBTSxFQUFFLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFNLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUM7d0RBQUE7UUFZRjtZQUFDLFFBQUssQ0FBQyxVQUFTLElBQW9CO2dCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUM7WUFDOUMsQ0FBQyxFQUFFLFVBQVMsSUFBSTtnQkFDWixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUE7WUFDN0MsQ0FBQyxFQUFFLFVBQVMsTUFBTSxFQUFFLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFNLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUM7eURBQUE7UUFhRjtZQUFDLFFBQUssQ0FBQyxVQUFTLElBQW9CO2dCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUM7WUFDOUMsQ0FBQyxFQUFFLFVBQVMsSUFBSTtnQkFDWixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLENBQUE7WUFDN0MsQ0FBQyxFQUFFLFVBQVMsTUFBTSxFQUFFLElBQUk7Z0JBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFNLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUM7MkRB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Q0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7WUFHN0IsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDeEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRzdCLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUc3QixhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7WUFHN0IsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRzdCLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQyxDQUFDO1FBQ0wsdUJBQUM7SUFBRCxDQTlIQSxBQThIQyxDQTlIOEMsWUFBUyxHQThIdkQ7SUE5SHFCLG1CQUFnQixtQkE4SHJDLENBQUE7QUFDTCxDQUFDLEVBaElNLEVBQUUsS0FBRixFQUFFLFFBZ0lSO0FDaElELElBQU8sRUFBRSxDQVFSO0FBUkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQTJDLHlDQUFnQjtRQUEzRDtZQUEyQyw4QkFBZ0I7UUFNM0QsQ0FBQztRQUxpQiw0QkFBTSxHQUFwQixVQUFxQixlQUFzQjtZQUN2QyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUVwQyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUNMLDRCQUFDO0lBQUQsQ0FOQSxBQU1DLENBTjBDLG1CQUFnQixHQU0xRDtJQU5ZLHdCQUFxQix3QkFNakMsQ0FBQTtBQUNMLENBQUMsRUFSTSxFQUFFLEtBQUYsRUFBRSxRQVFSO0FDUkQsSUFBTyxFQUFFLENBdUNSO0FBdkNELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUF5Qyx1Q0FBZ0I7UUFPckQsNkJBQVksZUFBc0I7WUFDOUIsa0JBQU0sZUFBZSxDQUFDLENBQUM7WUFVbkIsYUFBUSxHQUFvQixJQUFJLENBQUM7WUFSckMsRUFBRSxDQUFBLENBQUMsZUFBZSxZQUFZLG9CQUFpQixDQUFDLENBQUEsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLFFBQVEsR0FBRyw4QkFBMkIsQ0FBQyxNQUFNLENBQW9CLGVBQWUsQ0FBQyxDQUFDO1lBQzNGLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLCtCQUE0QixDQUFDLE1BQU0sQ0FBcUIsZUFBZSxDQUFDLENBQUM7WUFDN0YsQ0FBQztRQUNMLENBQUM7UUFmYSwwQkFBTSxHQUFwQixVQUFxQixlQUFzQjtZQUN2QyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUVwQyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQWVNLGtDQUFJLEdBQVg7WUFDSSxnQkFBSyxDQUFDLElBQUksV0FBRSxDQUFDO1lBRWIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFFTSxvQ0FBTSxHQUFiLFVBQWMsV0FBa0I7WUFDNUIsZ0JBQUssQ0FBQyxNQUFNLFlBQUMsV0FBVyxDQUFDLENBQUM7WUFFMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdEMsQ0FBQztRQUVNLHFDQUFPLEdBQWQ7WUFDSSxnQkFBSyxDQUFDLE9BQU8sV0FBRSxDQUFDO1lBRWhCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDNUIsQ0FBQztRQUNMLDBCQUFDO0lBQUQsQ0FyQ0EsQUFxQ0MsQ0FyQ3dDLG1CQUFnQixHQXFDeEQ7SUFyQ1ksc0JBQW1CLHNCQXFDL0IsQ0FBQTtBQUNMLENBQUMsRUF2Q00sRUFBRSxLQUFGLEVBQUUsUUF1Q1I7QUN2Q0QsSUFBTyxFQUFFLENBMEdSO0FBMUdELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFHUDtRQUNJLDBCQUFZLGVBQXNCO1lBSTNCLGNBQVMsR0FBVSxHQUFHLENBQUM7WUFDdkIsZ0JBQVcsR0FBVSxHQUFHLENBQUM7WUFFdEIsb0JBQWUsR0FBVSxJQUFJLENBQUM7WUFFaEMsYUFBUSxHQUFVLENBQUMsQ0FBQztZQUNwQixhQUFRLEdBQVUsQ0FBQyxDQUFDO1lBQ3BCLGNBQVMsR0FBVyxLQUFLLENBQUM7WUFDMUIsMkJBQXNCLEdBQXFCLElBQUksQ0FBQztZQUNoRCx5QkFBb0IsR0FBcUIsSUFBSSxDQUFDO1lBQzlDLGdCQUFXLEdBQWMsSUFBSSxDQUFDO1lBYmxDLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO1FBQzNDLENBQUM7UUFjTSwrQkFBSSxHQUFYLFVBQVksWUFBdUI7WUFDL0IsSUFBSSxXQUFXLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7WUFFckQsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUU5QixJQUFJLENBQUMsV0FBVyxHQUFHLFlBQVksQ0FBQztZQUVoQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUM1QixDQUFDO1FBRU0saUNBQU0sR0FBYixVQUFjLFdBQWtCO1lBQzVCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUV2QixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0YsQ0FBQztRQUVNLGtDQUFPLEdBQWQ7WUFDSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDeEIsQ0FBQztRQUlPLGdDQUFLLEdBQWIsVUFBYyxLQUFtQjtZQUM3QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxFQUN0QixZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFDL0IsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFFOUIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BDLFlBQVksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEUsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkUsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN4RSxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxZQUFZLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN2RSxDQUFDO1FBQ0wsQ0FBQztRQUVPLDJDQUFnQixHQUF4QjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFDOUIsU0FBUyxHQUFHLGVBQVksQ0FBQyxTQUFTLENBQUMsV0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBTyxlQUFZLENBQUMsVUFBVSxDQUFDLEVBQzlGLE9BQU8sR0FBRyxlQUFZLENBQUMsU0FBUyxDQUFDLGFBQVUsQ0FBQyxPQUFPLENBQUMsRUFDcEQsTUFBTSxHQUFHLFdBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFFekMsSUFBSSxDQUFDLHNCQUFzQixHQUFHLFNBQVM7aUJBQ2xDLEdBQUcsQ0FBQyxVQUFDLENBQWE7Z0JBQ2YsSUFBSSxhQUFhLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQ3hDLEVBQUUsR0FBRyxJQUFJLEVBQ1QsRUFBRSxHQUFHLElBQUksRUFDVCxNQUFNLEdBQUcsV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBRXpDLEVBQUUsR0FBRyxNQUFNLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQztnQkFDOUIsRUFBRSxHQUFHLE1BQU0sR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDO2dCQUU5QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFFdEIsTUFBTSxDQUFDO29CQUNILEVBQUUsRUFBRSxFQUFFO29CQUNOLEVBQUUsRUFBRSxFQUFFO2lCQUNULENBQUM7WUFDTixDQUFDLENBQUM7aUJBQ0QsU0FBUyxDQUFDLFVBQVUsR0FBRztnQkFDcEIsSUFBSSxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsUUFBUSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDNUIsQ0FBQyxDQUFDLENBQUM7WUFFUCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxVQUFDLENBQWU7Z0JBQzFELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTyx1Q0FBWSxHQUFwQjtZQUNJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEMsQ0FBQztRQUNMLHVCQUFDO0lBQUQsQ0F0R0EsQUFzR0MsSUFBQTtJQXRHcUIsbUJBQWdCLG1CQXNHckMsQ0FBQTtBQUNMLENBQUMsRUExR00sRUFBRSxLQUFGLEVBQUUsUUEwR1I7QUMxR0QsSUFBTyxFQUFFLENBd0JSO0FBeEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFpRCwrQ0FBZ0I7UUFBakU7WUFBaUQsOEJBQWdCO1lBT3RELGNBQVMsR0FBVSxFQUFFLENBQUM7UUFlakMsQ0FBQztRQXJCaUIsa0NBQU0sR0FBcEIsVUFBcUIsZUFBc0I7WUFDdkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFFcEMsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFNUywwQ0FBSSxHQUFkLFVBQWUsS0FBbUI7WUFDOUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFDdEIsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFFOUIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkMsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4QyxDQUFDO1FBQ0wsQ0FBQztRQUNMLGtDQUFDO0lBQUQsQ0F0QkEsQUFzQkMsQ0F0QmdELG1CQUFnQixHQXNCaEU7SUF0QlksOEJBQTJCLDhCQXNCdkMsQ0FBQTtBQUNMLENBQUMsRUF4Qk0sRUFBRSxLQUFGLEVBQUUsUUF3QlI7QUN4QkQsSUFBTyxFQUFFLENBV1I7QUFYRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBa0QsZ0RBQWdCO1FBQWxFO1lBQWtELDhCQUFnQjtRQVNsRSxDQUFDO1FBUmlCLG1DQUFNLEdBQXBCLFVBQXFCLGVBQXNCO1lBQ3ZDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBRVMsMkNBQUksR0FBZCxVQUFlLEtBQW1CO1FBQ2xDLENBQUM7UUFDTCxtQ0FBQztJQUFELENBVEEsQUFTQyxDQVRpRCxtQkFBZ0IsR0FTakU7SUFUWSwrQkFBNEIsK0JBU3hDLENBQUE7QUFDTCxDQUFDLEVBWE0sRUFBRSxLQUFGLEVBQUUsUUFXUjtBQ1hELElBQU8sRUFBRSxDQW1KUjtBQW5KRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBSVA7UUFBNkMsMkNBQWdCO1FBQTdEO1lBQTZDLDhCQUFnQjtZQU9sRCxlQUFVLEdBQVUsQ0FBQyxDQUFDO1lBQ3RCLGVBQVUsR0FBVSxDQUFDLENBQUM7WUFDdEIsZ0JBQVcsR0FBVSxDQUFDLENBQUM7WUFDdkIsYUFBUSxHQUFVLEVBQUUsQ0FBQztZQUNyQixRQUFHLEdBQVUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDekIsVUFBSyxHQUFVLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzNCLFdBQU0sR0FBVyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekMsZ0JBQVcsR0FBRyxJQUFJLENBQUM7WUFDbkIsZ0JBQVcsR0FBVSxJQUFJLENBQUM7WUFFekIsY0FBUyxHQUFXLElBQUksQ0FBQztZQUN6QiwyQkFBc0IsR0FBcUIsSUFBSSxDQUFDO1lBQ2hELDRCQUF1QixHQUFxQixJQUFJLENBQUM7WUFDakQseUJBQW9CLEdBQXFCLElBQUksQ0FBQztRQTBIMUQsQ0FBQztRQTdJaUIsOEJBQU0sR0FBcEIsVUFBcUIsZUFBc0I7WUFDdkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFFcEMsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFpQk0sc0NBQUksR0FBWDtZQUNJLGdCQUFLLENBQUMsSUFBSSxXQUFFLENBQUM7WUFFYixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUM1QixDQUFDO1FBRU0sd0NBQU0sR0FBYixVQUFjLFdBQWtCO1lBTTVCLElBQUksQ0FBQyxHQUFHLElBQUksRUFDUixDQUFDLEdBQUcsSUFBSSxFQUNSLENBQUMsR0FBRyxJQUFJLENBQUM7WUFFYixnQkFBSyxDQUFDLE1BQU0sWUFBQyxXQUFXLENBQUMsQ0FBQztZQUUxQixFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFDO2dCQUNoQixNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFFdkIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsRixDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xGLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFN0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFFTSx5Q0FBTyxHQUFkO1lBQ0ksZ0JBQUssQ0FBQyxPQUFPLFdBQUUsQ0FBQztZQUVoQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDeEIsQ0FBQztRQUdPLGtEQUFnQixHQUF4QjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxVQUFVLEdBQUcsZUFBWSxDQUFDLFNBQVMsQ0FBQyxXQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxFQUFPLGVBQVksQ0FBQyxXQUFXLENBQUMsRUFDaEcsU0FBUyxHQUFHLGVBQVksQ0FBQyxTQUFTLENBQUMsV0FBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBTyxlQUFZLENBQUMsVUFBVSxDQUFDLEVBQ2xHLE9BQU8sR0FBRyxlQUFZLENBQUMsU0FBUyxDQUFDLGFBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUVyRCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFDLENBQWE7Z0JBQzVELElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLHVCQUF1QixHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBQyxDQUFhO2dCQUM5RCxJQUFJLFVBQVUsR0FBYyxDQUFDLENBQUMsUUFBUSxDQUFDO2dCQUV2QyxVQUFVLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBRTVCLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDckMsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7Z0JBQ3JELElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU8sOENBQVksR0FBcEIsVUFBcUIsQ0FBWTtZQUM3QixJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDO1lBRXBDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBRXRCLElBQUksQ0FBQyxHQUFHLElBQUksYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLEtBQUssSUFBSSxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUV6RCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUIsQ0FBQztRQUVPLCtDQUFhLEdBQXJCLFVBQXNCLENBQWU7WUFDakMsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFDNUIsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQzVCLEVBQUUsR0FBRyxJQUFJLEVBQ1QsRUFBRSxHQUFHLElBQUksRUFDVCxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFDckIsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO1lBRTVDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBRXRCLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUM7WUFDckIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekMsRUFBRSxHQUFHLFVBQVUsQ0FBQztZQUNwQixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxFQUFFLEdBQUcsVUFBVSxDQUFDO1lBQ3BCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQztZQUNyQixDQUFDO1lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRixDQUFDO1FBRU8saURBQWUsR0FBdkIsVUFBd0IsQ0FBWTtZQUNoQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUV0QixJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDN0IsQ0FBQztRQUVPLG1EQUFpQixHQUF6QjtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsWUFBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2RSxDQUFDO1FBRU8sZ0RBQWMsR0FBdEI7WUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLFlBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNGLENBQUM7UUFFTyw4Q0FBWSxHQUFwQjtZQUNJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsdUJBQXVCLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDdkMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3hDLENBQUM7UUFDTCw4QkFBQztJQUFELENBOUlBLEFBOElDLENBOUk0QyxtQkFBZ0IsR0E4STVEO0lBOUlZLDBCQUF1QiwwQkE4SW5DLENBQUE7QUFDTCxDQUFDLEVBbkpNLEVBQUUsS0FBRixFQUFFLFFBbUpSO0FDbkpELElBQU8sRUFBRSxDQWdFUjtBQWhFRCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ047UUFBcUMsMEJBQVM7UUFBOUM7WUFBcUMsOEJBQVM7WUFhaEMsYUFBUSxHQUFnQixJQUFJLENBQUM7WUFRaEMsYUFBUSxHQUFXLEtBQUssQ0FBQztRQXlDcEMsQ0FBQztRQTdERyxzQkFBSSwyQkFBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3hCLENBQUM7OztXQUFBO1FBRUQsc0JBQUksMEJBQU07aUJBQVY7Z0JBQ0ksTUFBTSxDQUFDLE1BQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUN4RCxDQUFDOzs7V0FBQTtRQUVELHNCQUFJLDJCQUFPO2lCQUFYO2dCQUNJLE1BQU0sQ0FBQyxNQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDeEQsQ0FBQzs7O1dBQUE7UUFHRCxzQkFBSSwwQkFBTTtpQkFBVjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDO2lCQUNELFVBQVcsTUFBbUI7Z0JBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1lBQzNCLENBQUM7OztXQUhBO1FBT00sc0JBQUssR0FBWjtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7UUFnQk0sNEJBQVcsR0FBbEIsVUFBbUIsWUFBeUI7WUFDeEMsZ0JBQUssQ0FBQyxXQUFXLFlBQUMsWUFBWSxDQUFDLENBQUM7WUFFaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxZQUFZLENBQUM7WUFDM0IsWUFBWSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUVNLGlDQUFnQixHQUF2QixVQUF3QixZQUF5QjtZQUM3QyxnQkFBSyxDQUFDLGdCQUFnQixZQUFDLFlBQVksQ0FBQyxDQUFDO1lBRXJDLFlBQVksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFFTSxxQkFBSSxHQUFYO1lBQ0ksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2pCLENBQUM7UUFFUyx1QkFBTSxHQUFoQjtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixDQUFDO1FBQ0wsYUFBQztJQUFELENBOURBLEFBOERDLENBOURvQyxZQUFTLEdBOEQ3QztJQTlEcUIsU0FBTSxTQThEM0IsQ0FBQTtBQUNMLENBQUMsRUFoRU0sRUFBRSxLQUFGLEVBQUUsUUFnRVI7QUNoRUQsSUFBTyxFQUFFLENBc0JSO0FBdEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUE0QyxpQ0FBTTtRQUFsRDtZQUE0Qyw4QkFBTTtRQW9CbEQsQ0FBQztRQW5CRyxzQkFBSSxpQ0FBTTtpQkFBVjtnQkFDSSxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2pCLENBQUM7OztXQUFBO1FBRUQsc0JBQUksa0NBQU87aUJBQVg7Z0JBQ0ksTUFBTSxDQUFDLEtBQUssQ0FBQztZQUNqQixDQUFDOzs7V0FBQTtRQUVNLDZCQUFLLEdBQVo7UUFDQSxDQUFDO1FBRU0sNEJBQUksR0FBWDtRQUNBLENBQUM7UUFFTSw2QkFBSyxHQUFaO1FBQ0EsQ0FBQztRQUVNLDhCQUFNLEdBQWI7UUFDQSxDQUFDO1FBQ0wsb0JBQUM7SUFBRCxDQXBCQSxBQW9CQyxDQXBCMkMsU0FBTSxHQW9CakQ7SUFwQnFCLGdCQUFhLGdCQW9CbEMsQ0FBQTtBQUNMLENBQUMsRUF0Qk0sRUFBRSxLQUFGLEVBQUUsUUFzQlI7QUN0QkQsSUFBTyxFQUFFLENBbUNSO0FBbkNELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUE4Qiw0QkFBYTtRQVF2QyxrQkFBWSxJQUFhLEVBQUUsT0FBVyxFQUFFLE9BQWtCO1lBQ3RELGlCQUFPLENBQUM7WUFPSixhQUFRLEdBQU8sSUFBSSxDQUFDO1lBQ3BCLGNBQVMsR0FBWSxJQUFJLENBQUM7WUFDMUIsYUFBUSxHQUF3QixJQUFJLENBQUM7WUFQekMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLElBQUksT0FBSSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQU0sT0FBTyxDQUFDLENBQUM7UUFDekQsQ0FBQztRQWJhLGVBQU0sR0FBcEIsVUFBcUIsSUFBYSxFQUFFLE9BQVc7WUFBRSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3BELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQ2xELE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBRTlDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQWNNLDBCQUFPLEdBQWQ7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFDTSx5QkFBTSxHQUFiLFVBQWMsV0FBVztZQUNyQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyRSxDQUFDO1lBRUQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2xCLENBQUM7UUFDTSx1QkFBSSxHQUFYO1lBQ0ksTUFBTSxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQy9GLENBQUM7UUFDTCxlQUFDO0lBQUQsQ0FqQ0EsQUFpQ0MsQ0FqQzZCLGdCQUFhLEdBaUMxQztJQWpDWSxXQUFRLFdBaUNwQixDQUFBO0FBQ0wsQ0FBQyxFQW5DTSxFQUFFLEtBQUYsRUFBRSxRQW1DUjtBQ25DRCxJQUFPLEVBQUUsQ0FtRVI7QUFuRUQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQTZDLGtDQUFNO1FBQW5EO1lBQTZDLDhCQUFNO1lBQ3JDLFlBQU8sR0FBVSxJQUFJLENBQUM7WUFDdEIsYUFBUSxHQUFVLElBQUksQ0FBQztZQUV6QixZQUFPLEdBQVcsSUFBSSxDQUFDO1lBQ3ZCLGFBQVEsR0FBVyxLQUFLLENBQUM7WUFDekIsb0JBQWUsR0FBd0IsdUJBQW9CLENBQUMsTUFBTSxFQUFFLENBQUM7UUEyRGpGLENBQUM7UUF6REcsc0JBQUksa0NBQU07aUJBQVY7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDeEIsQ0FBQzs7O1dBQUE7UUFFRCxzQkFBSSxtQ0FBTztpQkFBWDtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN6QixDQUFDOzs7V0FBQTtRQUVNLCtCQUFNLEdBQWIsVUFBYyxXQUFrQjtZQUM1QixFQUFFLENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUMvQyxNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUV6RixJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRTdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2xCLENBQUM7UUFDTCxDQUFDO1FBRU0sOEJBQUssR0FBWjtZQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakMsQ0FBQztRQUVNLDZCQUFJLEdBQVg7WUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNwQixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hDLENBQUM7UUFFTSw4QkFBSyxHQUFaO1lBQ0ksZ0JBQUssQ0FBQyxLQUFLLFdBQUUsQ0FBQztZQUVkLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLENBQUM7UUFFTSw4QkFBSyxHQUFaO1lBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDckIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxDQUFDO1FBRU0sK0JBQU0sR0FBYjtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEMsQ0FBQztRQUdTLG1DQUFVLEdBQXBCLFVBQXFCLElBQVc7UUFDaEMsQ0FBQztRQUVPLHdDQUFlLEdBQXZCLFVBQXdCLE9BQWM7WUFDbEMsSUFBSSxLQUFLLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFFcEMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNqQyxDQUFDO1FBUkQ7WUFBQyxVQUFPO3dEQUFBO1FBU1oscUJBQUM7SUFBRCxDQWpFQSxBQWlFQyxDQWpFNEMsU0FBTSxHQWlFbEQ7SUFqRXFCLGlCQUFjLGlCQWlFbkMsQ0FBQTtBQUNMLENBQUMsRUFuRU0sRUFBRSxLQUFGLEVBQUUsUUFtRVI7QUNuRUQsSUFBTyxFQUFFLENBc0NSO0FBdENELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFzQywyQkFBYztRQUFwRDtZQUFzQyw4QkFBYztRQW9DcEQsQ0FBQztRQW5DRyxzQkFBSSwyQkFBTTtpQkFBVixVQUFXLE1BQW1CO2dCQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztnQkFFdkIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQWE7b0JBQ3pDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO2dCQUMzQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7OztXQUFBO1FBSU0sc0JBQUksR0FBWDtZQUNJLGdCQUFLLENBQUMsSUFBSSxXQUFFLENBQUM7WUFFYixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pCLENBQUM7UUFFTSx5QkFBTyxHQUFkO1lBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUV4QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx1QkFBSyxHQUFaO1lBQ0ksZ0JBQUssQ0FBQyxLQUFLLFdBQUUsQ0FBQztZQUVkLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFdEIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRVMseUJBQU8sR0FBakIsVUFBa0IsTUFBYSxFQUFFLE1BQWtCO1lBQy9DLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNO2dCQUNsQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUN6QyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFDTCxjQUFDO0lBQUQsQ0FwQ0EsQUFvQ0MsQ0FwQ3FDLGlCQUFjLEdBb0NuRDtJQXBDcUIsVUFBTyxVQW9DNUIsQ0FBQTtBQUNMLENBQUMsRUF0Q00sRUFBRSxLQUFGLEVBQUUsUUFzQ1I7QUN0Q0QsSUFBTyxFQUFFLENBNkhSO0FBN0hELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUE4Qiw0QkFBTztRQWFqQyxrQkFBWSxTQUF1QjtZQUMvQixpQkFBTyxDQUFDO1lBS0osYUFBUSxHQUEyQixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBVSxDQUFDO1lBQ3BFLG1CQUFjLEdBQVUsSUFBSSxDQUFDO1lBQzdCLGlCQUFZLEdBQVUsQ0FBQyxDQUFDO1lBTDVCLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pDLENBQUM7UUFoQmEsZUFBTSxHQUFwQjtZQUFxQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3hCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztZQUVwQixNQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLDBDQUEwQyxDQUFDLENBQUM7WUFFekUsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTFCLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUUxQixNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ3BCLENBQUM7UUFZTSxpQ0FBYyxHQUFyQjtZQUNJLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVNLHlCQUFNLEdBQWIsVUFBYyxXQUFXO1lBQ3JCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDZCxNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFaEUsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFDO2dCQUM3QixJQUFJLENBQUMsOEJBQThCLEVBQUUsQ0FBQztnQkFFdEMsTUFBTSxDQUFDO1lBQ1gsQ0FBQztZQUVELElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXhDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLDhCQUE4QixFQUFFLENBQUM7WUFDMUMsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHVCQUFJLEdBQVg7WUFDSSxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFFbkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBVSxNQUFNO2dCQUNsQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBRU0sd0JBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUVoRSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx3QkFBSyxHQUFaO1lBQ0ksZ0JBQUssQ0FBQyxLQUFLLFdBQUUsQ0FBQztZQUVkLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUM7WUFFNUIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sdUJBQUksR0FBWDtZQUNJLGdCQUFLLENBQUMsSUFBSSxXQUFFLENBQUM7WUFFYixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO1lBRTNCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUFLLEdBQVo7WUFDSSxnQkFBSyxDQUFDLEtBQUssV0FBRSxDQUFDO1lBRWQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUU1QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx5QkFBTSxHQUFiO1lBQ0ksZ0JBQUssQ0FBQyxNQUFNLFdBQUUsQ0FBQztZQUVmLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7WUFFN0IsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sMEJBQU8sR0FBZDtZQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUV4QyxnQkFBSyxDQUFDLE9BQU8sV0FBRSxDQUFDO1lBRWhCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGtDQUFlLEdBQXRCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQztRQUVPLGlEQUE4QixHQUF0QztZQUNJLElBQUksQ0FBQyxZQUFZLEVBQUcsQ0FBQztZQUVyQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2QsTUFBTSxDQUFDO1lBQ1gsQ0FBQztZQUVELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0RCxDQUFDO1FBQ0wsZUFBQztJQUFELENBM0hBLEFBMkhDLENBM0g2QixVQUFPLEdBMkhwQztJQTNIWSxXQUFRLFdBMkhwQixDQUFBO0FBQ0wsQ0FBQyxFQTdITSxFQUFFLEtBQUYsRUFBRSxRQTZIUjtBQzdIRCxJQUFPLEVBQUUsQ0FpSFI7QUFqSEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQTJCLHlCQUFPO1FBVzlCLGVBQVksU0FBdUI7WUFDL0IsaUJBQU8sQ0FBQztZQUtKLGFBQVEsR0FBMkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQVUsQ0FBQztZQUh4RSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO1FBZGEsWUFBTSxHQUFwQjtZQUFxQixjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ3hCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztZQUVqQixNQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLDBDQUEwQyxDQUFDLENBQUM7WUFFekUsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRXZCLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQVVNLHNCQUFNLEdBQWIsVUFBYyxXQUFXO1lBQ3JCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDZCxNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBRXRDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDO1FBQ0wsQ0FBQztRQUVNLHFCQUFLLEdBQVo7WUFDSSxnQkFBSyxDQUFDLEtBQUssV0FBRSxDQUFDO1lBRWQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUV0QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxvQkFBSSxHQUFYO1lBQ0ksZ0JBQUssQ0FBQyxJQUFJLFdBQUUsQ0FBQztZQUViLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFckIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0scUJBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHNCQUFNLEdBQWI7WUFDSSxnQkFBSyxDQUFDLE1BQU0sV0FBRSxDQUFDO1lBRWYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV2QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxvQkFBSSxHQUFYO1lBQ0ksSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1lBRWpCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsTUFBTTtnQkFDbEMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUNoQyxDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUVNLHFCQUFLLEdBQVo7WUFDSSxnQkFBSyxDQUFDLEtBQUssV0FBRSxDQUFDO1lBRWQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUV0QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx1QkFBTyxHQUFkO1lBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRXhDLGdCQUFLLENBQUMsT0FBTyxXQUFFLENBQUM7WUFFaEIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sK0JBQWUsR0FBdEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDO1FBRVMsdUJBQU8sR0FBakIsVUFBa0IsTUFBYSxFQUFFLE1BQWtCO1lBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBYTtnQkFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU8seUJBQVMsR0FBakI7WUFDSSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFhO2dCQUNoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO29CQUNuQixRQUFRLEdBQUcsS0FBSyxDQUFDO29CQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFDdkIsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNwQixDQUFDO1FBQ0wsWUFBQztJQUFELENBL0dBLEFBK0dDLENBL0cwQixVQUFPLEdBK0dqQztJQS9HWSxRQUFLLFFBK0dqQixDQUFBO0FBQ0wsQ0FBQyxFQWpITSxFQUFFLEtBQUYsRUFBRSxRQWlIUjtBQ2pIRCxJQUFPLEVBQUUsQ0F1QlI7QUF2QkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQStCLDZCQUFjO1FBT3pDLG1CQUFZLFNBQWdCO1lBQ3hCLGlCQUFPLENBQUM7WUFFUixJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztRQUM5QixDQUFDO1FBVmEsZ0JBQU0sR0FBcEIsVUFBcUIsU0FBZ0I7WUFDakMsSUFBSSxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFakMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBUU0sMkJBQU8sR0FBZDtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsQ0FBQztRQUVMLGdCQUFDO0lBQUQsQ0FyQkEsQUFxQkMsQ0FyQjhCLGlCQUFjLEdBcUI1QztJQXJCWSxZQUFTLFlBcUJyQixDQUFBO0FBQ0wsQ0FBQyxFQXZCTSxFQUFFLEtBQUYsRUFBRSxRQXVCUjtBQ3ZCRCxJQUFPLEVBQUUsQ0FzRlI7QUF0RkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQTRCLDBCQUFPO1FBUy9CLGdCQUFZLE1BQWEsRUFBRSxLQUFZO1lBQ25DLGlCQUFPLENBQUM7WUFNSixpQkFBWSxHQUFVLElBQUksQ0FBQztZQUMzQixpQkFBWSxHQUFVLElBQUksQ0FBQztZQUMzQixXQUFNLEdBQVUsSUFBSSxDQUFDO1lBTnpCLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLENBQUM7UUFiYSxhQUFNLEdBQXBCLFVBQXFCLE1BQWEsRUFBRSxLQUFZO1lBQzVDLElBQUksTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUVyQyxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBYU0sK0JBQWMsR0FBckI7WUFDSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDcEMsQ0FBQztRQUVNLHVCQUFNLEdBQWIsVUFBYyxXQUFXO1lBQ3JCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUVkLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUV0QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO2dCQUVqQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQzFCLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBRTFCLE1BQU0sQ0FBQztnQkFDWCxDQUFDO2dCQUNELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDO1FBQ0wsQ0FBQztRQUVNLHFCQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRSxDQUFDO1FBRU0sc0JBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7WUFFaEMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sc0JBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzlCLENBQUM7UUFFTSxxQkFBSSxHQUFYO1lBQ0ksZ0JBQUssQ0FBQyxJQUFJLFdBQUUsQ0FBQztZQUViLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0IsQ0FBQztRQUVNLHNCQUFLLEdBQVo7WUFDSSxnQkFBSyxDQUFDLEtBQUssV0FBRSxDQUFDO1lBRWQsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBRU0sdUJBQU0sR0FBYjtZQUNJLGdCQUFLLENBQUMsTUFBTSxXQUFFLENBQUM7WUFFZixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9CLENBQUM7UUFFTSxnQ0FBZSxHQUF0QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQy9ELENBQUM7UUFDTCxhQUFDO0lBQUQsQ0FwRkEsQUFvRkMsQ0FwRjJCLFVBQU8sR0FvRmxDO0lBcEZZLFNBQU0sU0FvRmxCLENBQUE7QUFDTCxDQUFDLEVBdEZNLEVBQUUsS0FBRixFQUFFLFFBc0ZSO0FDdEZELElBQU8sRUFBRSxDQXlEUjtBQXpERCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBbUMsaUNBQU87UUFPdEMsdUJBQVksTUFBYTtZQUNyQixpQkFBTyxDQUFDO1lBS0osaUJBQVksR0FBVSxJQUFJLENBQUM7WUFIL0IsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7UUFDL0IsQ0FBQztRQVZhLG9CQUFNLEdBQXBCLFVBQXFCLE1BQWE7WUFDOUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFOUIsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBVU0sOEJBQU0sR0FBYixVQUFjLFdBQVc7WUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFdEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzlCLENBQUM7UUFDTCxDQUFDO1FBRU0sNEJBQUksR0FBWDtZQUNJLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUMxRCxDQUFDO1FBRU0sNkJBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzlCLENBQUM7UUFFTSw0QkFBSSxHQUFYO1lBQ0ksZ0JBQUssQ0FBQyxJQUFJLFdBQUUsQ0FBQztZQUViLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0IsQ0FBQztRQUVNLDZCQUFLLEdBQVo7WUFDSSxnQkFBSyxDQUFDLEtBQUssV0FBRSxDQUFDO1lBRWQsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBRU0sOEJBQU0sR0FBYjtZQUNJLGdCQUFLLENBQUMsTUFBTSxXQUFFLENBQUM7WUFFZixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9CLENBQUM7UUFFTSx1Q0FBZSxHQUF0QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQy9ELENBQUM7UUFDTCxvQkFBQztJQUFELENBdkRBLEFBdURDLENBdkRrQyxVQUFPLEdBdUR6QztJQXZEWSxnQkFBYSxnQkF1RHpCLENBQUE7QUFDTCxDQUFDLEVBekRNLEVBQUUsS0FBRixFQUFFLFFBeURSO0FDekRELElBQU8sRUFBRSxDQXdqQlI7QUF4akJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFNUDtRQUEyQix5QkFBYztRQUF6QztZQUEyQiw4QkFBYztZQTRYN0IsWUFBTyxHQUFrQixJQUFJLENBQUM7WUFDOUIsaUJBQVksR0FBa0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQU8sQ0FBQztZQUN0RCxlQUFVLEdBQWtCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFPLENBQUM7WUFDcEQsb0JBQWUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDM0MsMkJBQXNCLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7WUFDcEQscUJBQWdCLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLDBCQUFxQixHQUFHLEtBQUssQ0FBQztZQUM5QixzQkFBaUIsR0FBRyxJQUFJLENBQUM7WUFDekIsc0JBQWlCLEdBQUcsSUFBSSxDQUFDO1lBQ3pCLG9CQUFlLEdBQUcsSUFBSSxDQUFDO1FBNEtuQyxDQUFDO1FBM0xpQixZQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQWFTLDBCQUFVLEdBQXBCLFVBQXFCLElBQVc7WUFDNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUNYLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFFckIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQixLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBRXZDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUVqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztnQkFFM0QsQ0FBQztnQkFFRCxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1lBRXRDLENBQUM7WUFFRCxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFL0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFTLEVBQUUsR0FBVTtnQkFDMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQ3ZDLEdBQUcsR0FBRyxLQUFLLENBQUM7Z0JBRWhCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUM1RSxDQUFDO2dCQUNELElBQUksQ0FBQyxDQUFDO29CQUVGLEVBQUUsQ0FBQyxDQUFDLGFBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUMzQixHQUFHLEdBQUcsS0FBSyxHQUFHLE9BQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUMzQyxDQUFDO29CQUdELEVBQUUsQ0FBQyxDQUFDLGFBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxHQUFHLENBQUUsR0FBRyxHQUFHLEtBQUssQ0FBRSxHQUFHLFNBQVMsQ0FBQyxDQUFDO29CQUNwRSxDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUdILEVBQUUsQ0FBQyxDQUFFLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxJQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDdkUsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLG9CQUFJLEdBQVgsVUFBWSxNQUFVO1lBQ2xCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUVoQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFNLE1BQU0sQ0FBQyxDQUFDO1lBRzdDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBUyxFQUFFLEdBQVU7Z0JBQ3ZDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxPQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2hFLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sa0JBQUUsR0FBVCxVQUFVLFVBQWMsRUFBRSxRQUFzQjtZQUF0Qix3QkFBc0IsR0FBdEIsZUFBc0I7WUFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBTSxVQUFVLENBQUMsQ0FBQztZQUVwRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxvQkFBSSxHQUFYO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLGdCQUFLLENBQUMsSUFBSSxXQUFFLENBQUM7WUFFYixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQVMsRUFBRSxHQUFVO2dCQUUxQyxFQUFFLENBQUMsQ0FBQyxLQUFLLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFFekIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNyQixNQUFNLENBQUM7b0JBQ1gsQ0FBQztvQkFHRCxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RHLENBQUM7Z0JBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRTVELEVBQUUsQ0FBQyxDQUFDLENBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFlBQVksS0FBSyxDQUFFLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDakUsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUMzRSxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU0scUJBQUssR0FBWjtZQUNJLGdCQUFLLENBQUMsS0FBSyxXQUFFLENBQUM7WUFFZCxJQUFJLENBQUMscUJBQXFCLEdBQUcsS0FBSyxDQUFDO1lBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLG9CQUFJLEdBQVg7WUFDSSxnQkFBSyxDQUFDLElBQUksV0FBRSxDQUFDO1lBRWIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7WUFDMUQsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLG9CQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDO2lCQUMxRCxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDO2lCQUM1QyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztpQkFDNUIsYUFBYSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztpQkFDMUMsT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztpQkFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7aUJBQzVCLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7aUJBQ2hDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMxQyxDQUFDO1FBRU0sdUJBQU8sR0FBZDtZQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7WUFFNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQzFCLENBQUM7UUFFTSxzQkFBTSxHQUFiLFVBQWMsTUFBTTtZQUNoQixJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQztZQUU5QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSw2QkFBYSxHQUFwQixVQUFxQixhQUFhO1lBQzlCLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxhQUFhLENBQUM7WUFFNUMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sd0JBQVEsR0FBZixVQUFnQixRQUFpQjtZQUM3QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsUUFBUSxDQUFDO1lBRWxDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUFRLEdBQWYsVUFBZ0IsUUFBaUI7WUFDN0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFFBQVEsQ0FBQztZQUVsQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx1QkFBTyxHQUFkLFVBQWUsUUFBaUI7WUFDNUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQztZQUVqQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxzQkFBTSxHQUFiLFVBQWMsUUFBaUI7WUFDM0IsSUFBSSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUM7WUFFaEMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRVMsc0JBQU0sR0FBaEI7WUFDSSxnQkFBSyxDQUFDLE1BQU0sV0FBRSxDQUFDO1lBRWYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1lBQzVELENBQUM7UUFDTCxDQUFDO1FBL2lCYSxZQUFNLEdBQUc7WUFDbkIsTUFBTSxFQUFFO2dCQUVKLElBQUksRUFBRSxVQUFVLENBQUM7b0JBRWIsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFFYixDQUFDO2FBRUo7WUFFRCxTQUFTLEVBQUU7Z0JBRVAsRUFBRSxFQUFFLFVBQVUsQ0FBQztvQkFFWCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFakIsQ0FBQztnQkFFRCxHQUFHLEVBQUUsVUFBVSxDQUFDO29CQUVaLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUM7Z0JBRXpCLENBQUM7Z0JBRUQsS0FBSyxFQUFFLFVBQVUsQ0FBQztvQkFFZCxFQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUN2QyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBRSxFQUFFLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUUsQ0FBQztnQkFFMUMsQ0FBQzthQUVKO1lBRUQsS0FBSyxFQUFFO2dCQUVILEVBQUUsRUFBRSxVQUFVLENBQUM7b0JBRVgsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVyQixDQUFDO2dCQUVELEdBQUcsRUFBRSxVQUFVLENBQUM7b0JBRVosTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUUzQixDQUFDO2dCQUVELEtBQUssRUFBRSxVQUFVLENBQUM7b0JBRWQsRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzNDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBRSxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDO2dCQUU1QyxDQUFDO2FBRUo7WUFFRCxPQUFPLEVBQUU7Z0JBRUwsRUFBRSxFQUFFLFVBQVUsQ0FBQztvQkFFWCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUV6QixDQUFDO2dCQUVELEdBQUcsRUFBRSxVQUFVLENBQUM7b0JBRVosTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUM7Z0JBRW5DLENBQUM7Z0JBRUQsS0FBSyxFQUFFLFVBQVUsQ0FBQztvQkFFZCxFQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQy9DLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFFLENBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDO2dCQUVqRCxDQUFDO2FBRUo7WUFFRCxPQUFPLEVBQUU7Z0JBRUwsRUFBRSxFQUFFLFVBQVUsQ0FBQztvQkFFWCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFN0IsQ0FBQztnQkFFRCxHQUFHLEVBQUUsVUFBVSxDQUFDO29CQUVaLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVuQyxDQUFDO2dCQUVELEtBQUssRUFBRSxVQUFVLENBQUM7b0JBRWQsRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDbkQsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFFLENBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQztnQkFFcEQsQ0FBQzthQUVKO1lBRUQsVUFBVSxFQUFFO2dCQUVSLEVBQUUsRUFBRSxVQUFVLENBQUM7b0JBRVgsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUV6QyxDQUFDO2dCQUVELEdBQUcsRUFBRSxVQUFVLENBQUM7b0JBRVosTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRXJDLENBQUM7Z0JBRUQsS0FBSyxFQUFFLFVBQVUsQ0FBQztvQkFFZCxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBRSxDQUFDO2dCQUUvQyxDQUFDO2FBRUo7WUFFRCxXQUFXLEVBQUU7Z0JBRVQsRUFBRSxFQUFFLFVBQVUsQ0FBQztvQkFFWCxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUUvQyxDQUFDO2dCQUVELEdBQUcsRUFBRSxVQUFVLENBQUM7b0JBRVosTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFbEQsQ0FBQztnQkFFRCxLQUFLLEVBQUUsVUFBVSxDQUFDO29CQUVkLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDdEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUN0QixFQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZELE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUM7Z0JBRXZELENBQUM7YUFFSjtZQUVELFFBQVEsRUFBRTtnQkFFTixFQUFFLEVBQUUsVUFBVSxDQUFDO29CQUVYLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUVwQyxDQUFDO2dCQUVELEdBQUcsRUFBRSxVQUFVLENBQUM7b0JBRVosTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBQztnQkFFdEMsQ0FBQztnQkFFRCxLQUFLLEVBQUUsVUFBVSxDQUFDO29CQUVkLEVBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBRSxHQUFHLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQzlELE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFckQsQ0FBQzthQUVKO1lBRUQsT0FBTyxFQUFFO2dCQUVMLEVBQUUsRUFBRSxVQUFVLENBQUM7b0JBRVgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUN4QixFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0JBQ3RCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDdEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2QsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDTixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDZCxDQUFDO29CQUNELElBQUk7d0JBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFFLENBQUM7b0JBQ2hELE1BQU0sQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBRSxHQUFHLENBQUMsQ0FBQyxDQUFFLENBQUM7Z0JBRTdGLENBQUM7Z0JBRUQsR0FBRyxFQUFFLFVBQVUsQ0FBQztvQkFFWixJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7b0JBQ3hCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDdEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUN0QixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDZCxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUNOLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNkLENBQUM7b0JBQ0QsSUFBSTt3QkFBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUUsQ0FBQztvQkFDaEQsTUFBTSxDQUFDLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDO2dCQUV4RixDQUFDO2dCQUVELEtBQUssRUFBRSxVQUFVLENBQUM7b0JBRWQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUN4QixFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0JBQ3RCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDdEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2QsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDTixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDZCxDQUFDO29CQUNELElBQUk7d0JBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFFLENBQUM7b0JBQ2hELEVBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBRSxHQUFHLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUUsQ0FBQztvQkFDbkgsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBRW5HLENBQUM7YUFFSjtZQUVELElBQUksRUFBRTtnQkFFRixFQUFFLEVBQUUsVUFBVSxDQUFDO29CQUVYLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQztvQkFDaEIsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUM7Z0JBRXpDLENBQUM7Z0JBRUQsR0FBRyxFQUFFLFVBQVUsQ0FBQztvQkFFWixJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7b0JBQ2hCLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUUvQyxDQUFDO2dCQUVELEtBQUssRUFBRSxVQUFVLENBQUM7b0JBRWQsSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLEtBQUssQ0FBQztvQkFDeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFFLENBQUM7b0JBQ25FLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBRSxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFFLENBQUM7Z0JBRWhFLENBQUM7YUFFSjtZQUVELE1BQU0sRUFBRTtnQkFFSixFQUFFLEVBQUUsVUFBVSxDQUFDO29CQUVYLE1BQU0sQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFOUMsQ0FBQztnQkFFRCxHQUFHLEVBQUUsVUFBVSxDQUFDO29CQUVaLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUM7d0JBRW5CLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFMUIsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQzt3QkFFMUIsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFFLENBQUMsSUFBSSxDQUFFLEdBQUcsR0FBRyxJQUFJLENBQUUsQ0FBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7b0JBRXZELENBQUM7b0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFFLEdBQUcsR0FBRyxJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUM7d0JBRTVCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLEdBQUcsSUFBSSxDQUFFLENBQUUsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO29CQUUxRCxDQUFDO29CQUFDLElBQUksQ0FBQyxDQUFDO3dCQUVKLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBRSxDQUFDLElBQUksQ0FBRSxLQUFLLEdBQUcsSUFBSSxDQUFFLENBQUUsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDO29CQUU3RCxDQUFDO2dCQUVMLENBQUM7Z0JBRUQsS0FBSyxFQUFFLFVBQVUsQ0FBQztvQkFFZCxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDeEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7Z0JBRTFELENBQUM7YUFFSjtTQUVKLENBQUM7UUFFWSxtQkFBYSxHQUFHO1lBQzFCLE1BQU0sRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDO2dCQUVsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2dCQUUxRixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDcEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFNUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRXJELENBQUM7WUFFRCxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FBQztnQkFFbEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztnQkFFeEYsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQ3RCLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDdkQsQ0FBQztnQkFFRCxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBRWIsQ0FBQztZQUVELFVBQVUsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDO2dCQUV0QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO2dCQUU5RixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUM7b0JBRTdDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRXJGLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBRUosRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDO29CQUNuRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDO29CQUU5RSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUVqRyxDQUFDO1lBRUwsQ0FBQztZQUVELEtBQUssRUFBRTtnQkFFSCxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7b0JBRXZCLE1BQU0sQ0FBQyxDQUFFLEVBQUUsR0FBRyxFQUFFLENBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUVoQyxDQUFDO2dCQUVELFNBQVMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDO29CQUVyQixJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7b0JBQzdDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRXJDLENBQUM7Z0JBRUQsU0FBUyxFQUFFLENBQUM7b0JBRVIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFWixNQUFNLENBQUMsVUFBVSxDQUFDO3dCQUVkLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3RCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7NEJBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDL0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRXBCLENBQUMsQ0FBQztnQkFFTixDQUFDLENBQUMsRUFBRTtnQkFFSixVQUFVLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztvQkFFbkMsSUFBSSxFQUFFLEdBQUcsQ0FBRSxFQUFFLEdBQUcsRUFBRSxDQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFFLEVBQUUsR0FBRyxFQUFFLENBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzVFLE1BQU0sQ0FBQyxDQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBRXRHLENBQUM7YUFFSjtTQUVKLENBQUM7UUE2TE4sWUFBQztJQUFELENBampCQSxBQWlqQkMsQ0FqakIwQixpQkFBYyxHQWlqQnhDO0lBampCWSxRQUFLLFFBaWpCakIsQ0FBQTtBQUNMLENBQUMsRUF4akJNLEVBQUUsS0FBRixFQUFFLFFBd2pCUjtBQ3hqQkQsSUFBTyxFQUFFLENBSVI7QUFKRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBZ0QscUNBQVM7UUFBekQ7WUFBZ0QsOEJBQVM7UUFFekQsQ0FBQztRQUFELHdCQUFDO0lBQUQsQ0FGQSxBQUVDLENBRitDLFlBQVMsR0FFeEQ7SUFGcUIsb0JBQWlCLG9CQUV0QyxDQUFBO0FBQ0wsQ0FBQyxFQUpNLEVBQUUsS0FBRixFQUFFLFFBSVI7QUNKRCxJQUFPLEVBQUUsQ0E0Q1I7QUE1Q0QsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQWtDLGdDQUFpQjtRQUFuRDtZQUFrQyw4QkFBaUI7UUEwQ25ELENBQUM7UUF6Q2lCLG1CQUFNLEdBQXBCO1lBQ0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ1osQ0FBQztRQUlNLDZCQUFNLEdBQWIsVUFBYyxRQUFpQixFQUFFLFFBQWlCLEVBQUUsTUFBaUI7WUFDakUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzVFLENBQUM7UUFRUyx3Q0FBaUIsR0FBM0IsVUFBNEIsUUFBaUIsRUFBRSxRQUFpQixFQUFFLE1BQWlCO1lBQzlFLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxFQUN2QyxlQUFlLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBbUIsbUJBQWdCLENBQUMsRUFDekUsUUFBUSxHQUFZLFFBQVEsQ0FBQyxRQUFRLENBQUM7WUFFMUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDO1lBRW5DLE9BQU8sQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsWUFBUyxDQUFDLENBQUM7WUFFbEUsT0FBTyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDO1lBRXJDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUM7WUFFakUsT0FBTyxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUMsbUJBQW1CLENBQUM7WUFDdEQsT0FBTyxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDO1lBRTFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBRTVCLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUduRCxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQ25CLENBQUM7UUE1QkQ7WUFBQyxVQUFPLENBQUMsVUFBUyxRQUFpQixFQUFFLFFBQWlCLEVBQUUsTUFBaUI7Z0JBQ3JFLElBQUksVUFBVSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQW1CLG1CQUFnQixDQUFDLENBQUM7Z0JBRXpFLFNBQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRyxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7Z0JBQ25HLFNBQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7WUFDN0UsQ0FBQyxDQUFDOzZEQUFBO1FBd0JOLG1CQUFDO0lBQUQsQ0ExQ0EsQUEwQ0MsQ0ExQ2lDLG9CQUFpQixHQTBDbEQ7SUExQ1ksZUFBWSxlQTBDeEIsQ0FBQTtBQUNMLENBQUMsRUE1Q00sRUFBRSxLQUFGLEVBQUUsUUE0Q1I7QUM1Q0QsSUFBTyxFQUFFLENBWVI7QUFaRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBb0Msa0NBQVk7UUFBaEQ7WUFBb0MsOEJBQVk7UUFVaEQsQ0FBQztRQVRpQixxQkFBTSxHQUFwQjtZQUNJLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFFckIsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFFTSwrQkFBTSxHQUFiLFVBQWMsUUFBaUIsRUFBRSxRQUFpQixFQUFFLE1BQWlCO1lBQ2pFLFFBQVEsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDaEYsQ0FBQztRQUNMLHFCQUFDO0lBQUQsQ0FWQSxBQVVDLENBVm1DLGVBQVksR0FVL0M7SUFWWSxpQkFBYyxpQkFVMUIsQ0FBQTtBQUNMLENBQUMsRUFaTSxFQUFFLEtBQUYsRUFBRSxRQVlSO0FDWkQsSUFBTyxFQUFFLENBbUhSO0FBbkhELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFnQyw4QkFBaUI7UUFBakQ7WUFBZ0MsOEJBQWlCO1lBU3JDLFlBQU8sR0FBVSxDQUFDLENBQUM7WUFjcEIsMkJBQXNCLEdBQVcsS0FBSyxDQUFDO1lBQ3RDLFdBQU0sR0FBVyxJQUFJLENBQUM7WUFZdkIsWUFBTyxHQUFPLElBQUksQ0FBQztZQUNuQixrQkFBYSxHQUFXLEtBQUssQ0FBQztZQUM5QixVQUFLLEdBQW9CLG1CQUFnQixDQUFDLE1BQU0sQ0FBQztZQUNqRCxXQUFNLEdBQXFCLElBQUksQ0FBQztZQUUvQixtQkFBYyxHQUE2QixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBWSxDQUFDO1FBd0UxRixDQUFDO1FBaEhpQixpQkFBTSxHQUFwQjtZQUNJLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFFckIsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBR0Qsc0JBQUksOEJBQU07aUJBQVY7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDeEIsQ0FBQztpQkFDRCxVQUFXLE1BQWE7Z0JBQ3BCLEVBQUUsQ0FBQSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUEsQ0FBQztvQkFDeEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7b0JBRXRCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDO3dCQUNaLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUM1RCxDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDOzs7V0FUQTtRQWFELHNCQUFJLDZCQUFLO2lCQUFUO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3ZCLENBQUM7aUJBQ0QsVUFBVSxLQUFhO2dCQUNuQixFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQSxDQUFDO29CQUNOLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO29CQUVuQixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDO2dCQUN2QyxDQUFDO1lBQ0wsQ0FBQzs7O1dBUEE7UUFnQk0sK0JBQVUsR0FBakI7WUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN4QixDQUFDO1FBRU0sZ0NBQVcsR0FBbEIsVUFBbUIsTUFBZTtZQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUtyQyxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQztRQUMvQixDQUFDO1FBRU0scUNBQWdCLEdBQXZCLFVBQXdCLE1BQWU7WUFDbkMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFeEMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNuQyxNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsZ0JBQUssQ0FBQyxnQkFBZ0IsWUFBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxDQUFDO1FBR00seUJBQUksR0FBWDtRQUNBLENBQUM7UUFFTSxtQ0FBYyxHQUFyQjtZQUNJLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ2hDLENBQUM7UUFFTSw0QkFBTyxHQUFkO1lBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNuQyxNQUFNLENBQUM7WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9DLENBQUM7UUFFTSwyQkFBTSxHQUFiLFVBQWMsUUFBaUIsRUFBRSxRQUFpQixFQUFFLE1BQWlCO1FBQ3JFLENBQUM7UUFFTSxnQ0FBVyxHQUFsQjtZQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVwRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUM5QixDQUFDO1FBRU8seUNBQW9CLEdBQTVCO1lBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxFQUNiLElBQUksR0FBRyxJQUFJLENBQUM7WUFFaEIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUM7Z0JBQ1osTUFBTSxDQUFDO1lBQ1gsQ0FBQztZQUVELE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRSxJQUFJLEdBQUcsZ0JBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFFeEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUssSUFBSSxDQUFDLENBQUMsT0FBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUssSUFBSSxDQUFDLENBQUMsT0FBSSxDQUFDLENBQUM7WUFDakMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRWxDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFbkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQTlDRDtZQUFDLGVBQVksQ0FBQyxTQUFTLENBQUM7OENBQUE7UUErQzVCLGlCQUFDO0lBQUQsQ0FqSEEsQUFpSEMsQ0FqSCtCLG9CQUFpQixHQWlIaEQ7SUFqSFksYUFBVSxhQWlIdEIsQ0FBQTtBQUNMLENBQUMsRUFuSE0sRUFBRSxLQUFGLEVBQUUsUUFtSFI7QUNuSEQsSUFBTyxFQUFFLENBTVI7QUFORCxXQUFPLEVBQUUsRUFBQSxDQUFDO0lBQ04sV0FBWSxnQkFBZ0I7UUFDeEIsMkRBQU0sQ0FBQTtRQUNOLHlEQUFLLENBQUE7UUFDTCxpRUFBUyxDQUFBO0lBQ2IsQ0FBQyxFQUpXLG1CQUFnQixLQUFoQixtQkFBZ0IsUUFJM0I7SUFKRCxJQUFZLGdCQUFnQixHQUFoQixtQkFJWCxDQUFBO0FBQ0wsQ0FBQyxFQU5NLEVBQUUsS0FBRixFQUFFLFFBTVI7QUNORCxJQUFPLEVBQUUsQ0FRUjtBQVJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUE2QyxrQ0FBUztRQUF0RDtZQUE2Qyw4QkFBUztRQU10RCxDQUFDO1FBQUQscUJBQUM7SUFBRCxDQU5BLEFBTUMsQ0FONEMsWUFBUyxHQU1yRDtJQU5xQixpQkFBYyxpQkFNbkMsQ0FBQTtBQUNMLENBQUMsRUFSTSxFQUFFLEtBQUYsRUFBRSxRQVFSO0FDUkQsSUFBTyxFQUFFLENBNktSO0FBN0tELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUE0QiwwQkFBYztRQUExQztZQUE0Qiw4QkFBYztZQU8vQixhQUFRLEdBQVUsQ0FBQyxDQUFDO1lBQ3BCLG9CQUFlLEdBQVUsRUFBRSxDQUFDO1lBRTNCLFVBQUssR0FBYyxJQUFJLENBQUM7WUFDeEIsbUJBQWMsR0FBK0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQWMsQ0FBQztRQWdLOUYsQ0FBQztRQTFLaUIsYUFBTSxHQUFwQjtZQUNDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFFckIsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUNaLENBQUM7UUFXTSw0QkFBVyxHQUFsQixVQUFtQixZQUF1QjtZQUN0QyxnQkFBSyxDQUFDLFdBQVcsWUFBQyxZQUFZLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBRU0sc0JBQUssR0FBWjtZQUNJLElBQUksZ0JBQWdCLEdBQStCLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFDakUsWUFBWSxHQUFHLENBQUMsRUFDaEIsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQ3RDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBRTdCLElBQUksU0FBUyxHQUFHLFVBQUMsUUFBZ0IsRUFBRSxRQUFnQixFQUFFLFlBQVksRUFBRSxnQkFBNEMsRUFBRSxVQUFxQjtnQkFDbEksSUFBSSxXQUFXLEdBQUcsSUFBSSxVQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFM0gsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDekIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDekIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQzs0QkFDekIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDakUsUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQzdFLElBQUksR0FBRyxhQUFVLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLFlBQVksR0FBRyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7NEJBRTlGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDOzRCQUV4QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZUFBZSxJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dDQUN0RSxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEdBQUcsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUM1RSxDQUFDOzRCQUVELFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQzdCLENBQUM7b0JBQ0wsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQyxDQUFBO1lBRUQsSUFBSSxDQUFDLDRCQUE0QixDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFcEQsSUFBQSw0Q0FBb0UsRUFBOUQsc0JBQVEsRUFBRSxzQkFBUSxDQUE2QztZQUVyRSxJQUFJLENBQUMsS0FBSyxHQUFHLGFBQVUsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsWUFBWSxHQUFHLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUVoRyxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlFLENBQUM7UUFLTSwyQ0FBMEIsR0FBakM7WUFDSSxJQUFJLGFBQWEsR0FBRyxXQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsbUJBQWdCLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUUxRyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUMzRixDQUFDO1FBS00sd0NBQXVCLEdBQTlCLFVBQStCLENBQVk7WUFDdkMsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQztZQUV0QyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLFdBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxtQkFBZ0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUN4TSxDQUFDO1FBRU0sa0NBQWlCLEdBQXhCLFVBQXlCLEtBQVc7WUFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDcEYsQ0FBQztRQUVNLDRCQUFXLEdBQWxCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDM0MsQ0FBQztRQUVPLDJCQUFVLEdBQWxCLFVBQW1CLE1BQWEsRUFBRSxJQUFlO1lBQzdDLElBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUV4QyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxPQUFrQjtnQkFDM0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDekMsQ0FBQyxDQUFDLENBQUE7WUFFRixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUU5RCxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUMvQixDQUFDO1FBRU8sNkNBQTRCLEdBQXBDLFVBQXFDLGdCQUE0QztZQUM3RSxJQUFJLFFBQVEsR0FBNEIsSUFBSSxFQUN4QyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQXVCO2dCQUM3QyxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsd0JBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3BELFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7b0JBRWxDLFlBQVksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBRXBDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDcEIsQ0FBQztnQkFDRCxJQUFJLENBQUEsQ0FBQztvQkFDRCxRQUFRLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBMkIsMkJBQXdCLENBQUMsQ0FBQztnQkFDN0YsQ0FBQztnQkFFRCxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzFCLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUVPLGlDQUFnQixHQUF4QixVQUF5QixnQkFBNEM7WUFDakUsSUFBSSxRQUFRLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUNuRixRQUFRLEdBQUcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUM5RSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQXVCO2dCQUM3QyxJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQ1YsR0FBRyxHQUFHLElBQUksRUFDVixRQUFRLEdBQTRCLElBQUksRUFDeEMsS0FBSyxHQUFhLElBQUksQ0FBQztnQkFFM0IsUUFBUSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQTJCLDJCQUF3QixDQUFDLENBQUM7Z0JBRXpGLEtBQUssR0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDO2dCQUNsQyxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNyQixHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUVyQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNoRCxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQztnQkFDSCxRQUFRLEVBQUUsUUFBUTtnQkFDbEIsUUFBUSxFQUFFLFFBQVE7YUFDckIsQ0FBQztRQUNOLENBQUM7UUFFTyxnQ0FBZSxHQUF2QjtZQUNJLE1BQU0sQ0FBQywyQkFBd0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM3QyxDQUFDO1FBRU8sOEJBQWEsR0FBckIsVUFBc0IsQ0FBVSxFQUFFLEdBQVksRUFBRSxHQUFZO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2IsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLENBQUM7WUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNiLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQixDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDYixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2IsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLENBQUM7WUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUNiLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQixDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDYixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsQ0FBQztRQUNMLENBQUM7UUE3SkQ7WUFBQyxVQUFPLENBQUMsVUFBUyxZQUF1QjtnQkFDckMsU0FBTSxDQUFDLFlBQVksWUFBWSxhQUFVLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1lBQzlHLENBQUMsQ0FBQztpREFBQTtRQTBDRjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsQ0FBQyxDQUFDLFdBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxtQkFBZ0IsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG9DQUFvQyxDQUFDLENBQUMsQ0FBQztZQUNwSixDQUFDLENBQUM7Z0VBQUE7UUFPRjtZQUFDLFVBQU8sQ0FBQztnQkFDTCxTQUFNLENBQUMsQ0FBQyxDQUFDLFdBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxtQkFBZ0IsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG9DQUFvQyxDQUFDLENBQUMsQ0FBQztZQUNwSixDQUFDLENBQUM7NkRBQUE7UUF1R04sYUFBQztJQUFELENBM0tBLEFBMktDLENBM0syQixpQkFBYyxHQTJLekM7SUEzS1ksU0FBTSxTQTJLbEIsQ0FBQTtBQUNMLENBQUMsRUE3S00sRUFBRSxLQUFGLEVBQUUsUUE2S1I7QUM3S0QsSUFBTyxFQUFFLENBd0dSO0FBeEdELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQXVCSSxvQkFBWSxRQUFpQixFQUFFLFFBQWlCLEVBQUUsUUFBZ0IsRUFBRSxLQUFhLEVBQUUsUUFBZ0I7WUFWNUYscUJBQWdCLEdBQWlDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFnQixDQUFDO1lBQ3hGLGFBQVEsR0FBK0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQWMsQ0FBQztZQUUzRSxXQUFNLEdBQVUsSUFBSSxDQUFDO1lBQ3JCLGNBQVMsR0FBVSxJQUFJLENBQUM7WUFDeEIsY0FBUyxHQUFVLElBQUksQ0FBQztZQUN4QixjQUFTLEdBQVcsSUFBSSxDQUFDO1lBQ3pCLGNBQVMsR0FBVyxJQUFJLENBQUM7WUFDekIscUJBQWdCLEdBQWtCLElBQUksQ0FBQztZQUczQyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztZQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztZQUUxQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztZQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUM5QixDQUFDO1FBN0JhLGlCQUFNLEdBQXBCLFVBQXFCLFFBQWlCLEVBQUUsUUFBaUIsRUFBRSxRQUFnQixFQUFFLEtBQWEsRUFBRSxRQUFnQjtZQUN4RyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFFbEUsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBRUQsc0JBQUkseUNBQWlCO2lCQUFyQjtnQkFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQzVDLENBQUM7OztXQUFBO1FBcUJNLG1DQUFjLEdBQXJCO1lBQ0ksSUFBSSxDQUFDLGdCQUFnQixHQUFHLHNCQUFtQixDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JHLENBQUM7UUFPTSxxQ0FBZ0IsR0FBdkIsVUFBd0IsZ0JBQTRDO1lBQ2hFLElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFDekIsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7WUFFOUIsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLFVBQUMsWUFBdUI7Z0JBQzdDLEVBQUUsQ0FBQSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQTJCLDJCQUF3QixDQUFDLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQzNILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ2pELENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTSw0QkFBTyxHQUFkLFVBQWUsSUFBZTtZQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBRU0sMkNBQXNCLEdBQTdCLFVBQThCLGFBQTBCLEVBQUUsYUFBMkM7WUFDakcsRUFBRSxDQUFDLENBQUMsc0JBQW1CLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFlO3dCQUNsQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsYUFBYSxFQUFFLGFBQWEsQ0FBQyxDQUFDO29CQUM5RCxDQUFDLENBQUMsQ0FBQztvQkFFSCxNQUFNLENBQUM7Z0JBQ1gsQ0FBQztnQkFFRCxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JELENBQUM7UUFDTCxDQUFDO1FBRU0sOENBQXlCLEdBQWhDLFVBQWlDLEdBQU8sRUFBRSxhQUEyQztZQUNqRixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNsQixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQWU7d0JBQ2xDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLENBQUM7b0JBQ3ZELENBQUMsQ0FBQyxDQUFDO29CQUVILE1BQU0sQ0FBQztnQkFDWCxDQUFDO2dCQUVELGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDckQsQ0FBQztRQUNMLENBQUM7UUFFTSw0Q0FBdUIsR0FBOUIsVUFBK0IsS0FBVyxFQUFFLGFBQTJDO1lBQ25GLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3pELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ2xCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBZTt3QkFDbEMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQztvQkFDdkQsQ0FBQyxDQUFDLENBQUM7b0JBRUgsTUFBTSxDQUFDO2dCQUNYLENBQUM7Z0JBRUQsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyRCxDQUFDO1FBQ0wsQ0FBQztRQUVPLDZCQUFRLEdBQWhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFqRUQ7WUFBQyxVQUFPLENBQUMsVUFBUyxnQkFBNEM7Z0JBQzFELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQXVCO29CQUM3QyxTQUFNLENBQUMsWUFBWSxZQUFZLGFBQVUsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hGLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDOzBEQUFBO1FBOEROLGlCQUFDO0lBQUQsQ0F0R0EsQUFzR0MsSUFBQTtJQXRHWSxhQUFVLGFBc0d0QixDQUFBO0FBQ0wsQ0FBQyxFQXhHTSxFQUFFLEtBQUYsRUFBRSxRQXdHUjtBQ3hHRCxJQUFPLEVBQUUsQ0FPUjtBQVBELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFvRCx5Q0FBUztRQUE3RDtZQUFvRCw4QkFBUztRQUs3RCxDQUFDO1FBQUQsNEJBQUM7SUFBRCxDQUxBLEFBS0MsQ0FMbUQsWUFBUyxHQUs1RDtJQUxxQix3QkFBcUIsd0JBSzFDLENBQUE7QUFDTCxDQUFDLEVBUE0sRUFBRSxLQUFGLEVBQUUsUUFPUjtBQ1BELElBQU8sRUFBRSxDQXlCUjtBQXpCRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBOEMsNENBQXFCO1FBQW5FO1lBQThDLDhCQUFxQjtZQVl2RCxjQUFTLEdBQWUsY0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBV3pELENBQUM7UUF0QmlCLCtCQUFNLEdBQXBCO1lBQ0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ1osQ0FBQztRQUdELHNCQUFJLDJDQUFLO2lCQUFUO2dCQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUNoQyxDQUFDOzs7V0FBQTtRQUlNLHVDQUFJLEdBQVg7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBRWhELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDMUIsQ0FBQztRQUVNLHlDQUFNLEdBQWIsVUFBYyxXQUFrQjtZQUM1QixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2QyxDQUFDO1FBQ0wsK0JBQUM7SUFBRCxDQXZCQSxBQXVCQyxDQXZCNkMsd0JBQXFCLEdBdUJsRTtJQXZCWSwyQkFBd0IsMkJBdUJwQyxDQUFBO0FBQ0wsQ0FBQyxFQXpCTSxFQUFFLEtBQUYsRUFBRSxRQXlCUjtBQ3pCRCxJQUFPLEVBQUUsQ0FpRVI7QUFqRUQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQXVDLDRCQUFTO1FBQWhEO1lBQXVDLDhCQUFTO1lBT3JDLFNBQUksR0FBVSxxQkFBa0IsQ0FBQztZQUVqQyxtQkFBYyxHQUFrQixJQUFJLENBQUM7UUFzRGhELENBQUM7UUE5REcsc0JBQUksMkJBQUs7aUJBQVQ7Z0JBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO1lBQ3JDLENBQUM7OztXQUFBO1FBV00sdUJBQUksR0FBWDtZQUNJLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUUzQixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMvQixDQUFDO1FBRU0seUJBQU0sR0FBYixVQUFjLFdBQWtCO1lBQzVCLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDakMsQ0FBQztRQUVNLDhCQUFXLEdBQWxCO1lBQ0ksSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN0QyxDQUFDO1FBS00sa0NBQWUsR0FBdEIsVUFBdUIsUUFBaUI7WUFDcEMsRUFBRSxDQUFBLENBQUMsUUFBUSxZQUFZLGNBQVcsQ0FBQyxDQUFBLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMzRSxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsWUFBWSxpQkFBYyxDQUFDLENBQUEsQ0FBQztnQkFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxNQUFHLENBQUMsSUFBSSxDQUFDLE1BQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUksSUFBSSxDQUFDLElBQUksY0FBVyxFQUFFLG9CQUFrQixRQUFRLENBQUMsSUFBSSxjQUFXLENBQUMsQ0FBQyxDQUFDO1lBQzdHLENBQUM7UUFDTCxDQUFDO1FBRU0sNEJBQVMsR0FBaEIsVUFBaUIsWUFBdUI7WUFDcEMsSUFBSSxRQUFRLEdBQVksSUFBSSxDQUFDO1lBRTdCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbkUsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUNqQixDQUFDO1lBRUQsUUFBUSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQVcsUUFBUSxDQUFDLENBQUM7WUFFekQsRUFBRSxDQUFBLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxZQUFTLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ3JDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMzQixDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUMsQ0FBQztRQUVPLDBCQUFPLEdBQWYsVUFBZ0IsWUFBdUI7WUFDbkMsTUFBTSxDQUFDLGFBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUM5RCxDQUFDO1FBakNEO1lBQUMsVUFBTyxDQUFDLFVBQVMsUUFBaUI7Z0JBQy9CLFNBQU0sQ0FBQyxRQUFRLFlBQVksUUFBUSxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFBO1lBQ3ZGLENBQUMsQ0FBQzt1REFBQTtRQWdDTixlQUFDO0lBQUQsQ0EvREEsQUErREMsQ0EvRHNDLFlBQVMsR0ErRC9DO0lBL0RxQixXQUFRLFdBK0Q3QixDQUFBO0FBQ0wsQ0FBQyxFQWpFTSxFQUFFLEtBQUYsRUFBRSxRQWlFUjtBQ2pFRCxJQUFPLEVBQUUsQ0FzQlI7QUF0QkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQWlDLCtCQUFRO1FBQXpDO1lBQWlDLDhCQUFRO1lBUzlCLFdBQU0sR0FBVyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekMsZ0JBQVcsR0FBVyxJQUFJLENBQUM7WUFDM0IsU0FBSSxHQUFlLGdCQUFhLENBQUMsR0FBRyxDQUFDO1FBU2hELENBQUM7UUFuQmlCLGtCQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQVFNLDBDQUFvQixHQUEzQjtZQUNJLE1BQU0sQ0FBQyxvQkFBaUIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3ZELENBQUM7UUFFTSx5Q0FBbUIsR0FBMUI7WUFDSSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBQ0wsa0JBQUM7SUFBRCxDQXBCQSxBQW9CQyxDQXBCZ0MsV0FBUSxHQW9CeEM7SUFwQlksY0FBVyxjQW9CdkIsQ0FBQTtBQUNMLENBQUMsRUF0Qk0sRUFBRSxLQUFGLEVBQUUsUUFzQlI7QUN0QkQsSUFBTyxFQUFFLENBc0JSO0FBdEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUFvQyxrQ0FBUTtRQUE1QztZQUFvQyw4QkFBUTtZQVNqQyxXQUFNLEdBQVcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLFdBQU0sR0FBVSxJQUFJLENBQUM7WUFDckIsU0FBSSxHQUFlLGdCQUFhLENBQUMsTUFBTSxDQUFDO1FBU25ELENBQUM7UUFuQmlCLHFCQUFNLEdBQXBCO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUVyQixNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQVFNLDZDQUFvQixHQUEzQjtZQUNJLE1BQU0sQ0FBQyx1QkFBb0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFELENBQUM7UUFFTSw0Q0FBbUIsR0FBMUI7WUFDSSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxDQUFDO1FBQ0wscUJBQUM7SUFBRCxDQXBCQSxBQW9CQyxDQXBCbUMsV0FBUSxHQW9CM0M7SUFwQlksaUJBQWMsaUJBb0IxQixDQUFBO0FBQ0wsQ0FBQyxFQXRCTSxFQUFFLEtBQUYsRUFBRSxRQXNCUjtBQ3RCRCxJQUFPLEVBQUUsQ0F5R1I7QUF6R0QsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQ0ksd0JBQVksWUFBdUI7WUFJNUIsVUFBSyxHQUFTLElBQUksQ0FBQztZQUVoQixpQkFBWSxHQUFjLElBQUksQ0FBQztZQUMvQiwyQkFBc0IsR0FBVyxLQUFLLENBQUM7WUFDdkMsZ0JBQVcsR0FBUyxJQUFJLENBQUM7WUFDekIsZ0JBQVcsR0FBYyxJQUFJLENBQUM7WUFScEMsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDckMsQ0FBQztRQVlNLDZCQUFJLEdBQVg7WUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwQyxDQUFDO1FBVU0sOEJBQUssR0FBWixVQUFhLE1BQWM7WUFBRSxjQUFPO2lCQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87Z0JBQVAsNkJBQU87O1lBQ2hDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFdEQsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUMxRCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzNELENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxnQkFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUMzRSxDQUFDO1lBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1lBRXJDLEVBQUUsQ0FBQSxDQUFDLGNBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQSxDQUFDO2dCQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzlELFdBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUM1RCxDQUFDO1FBQ0wsQ0FBQztRQUVNLCtCQUFNLEdBQWI7WUFFSSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFBLENBQUM7Z0JBQ3hCLE1BQU0sQ0FBQztZQUNYLENBQUM7WUFFRCxFQUFFLENBQUEsQ0FBQyxjQUFXLENBQUMsY0FBYyxDQUFDLENBQUEsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNuQixJQUFJLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hELENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxZQUFTLENBQUMsQ0FBQyxDQUFBLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN2QixDQUFDO1FBQ0wsQ0FBQztRQUVNLDhDQUFxQixHQUE1QixVQUE2QixjQUFtQztZQUM1RCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEUsQ0FBQztRQUVNLDJDQUFrQixHQUF6QixVQUEwQixjQUFnQztZQUN0RCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0QsQ0FBQztRQVFTLGtEQUF5QixHQUFuQyxVQUFvQyxLQUFXO1lBQzNDLElBQUksUUFBUSxHQUFHLElBQUksRUFDZixRQUFRLEdBQUcsSUFBSSxFQUNmLFFBQVEsR0FBRyxJQUFJLEVBQ2YsWUFBWSxHQUFHLElBQUksQ0FBQztZQUV4QixRQUFRLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNyQyxRQUFRLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBRWpELFFBQVEsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3RDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQzdCLFFBQVEsQ0FBQyxRQUFRLEdBQUcsWUFBUyxDQUFDLEtBQUssQ0FBQztZQUNwQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRTdDLFFBQVEsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRXBDLFlBQVksR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3RDLFlBQVksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEMsWUFBWSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUVwQyxZQUFZLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFL0MsWUFBWSxDQUFDLElBQUksR0FBRyx3QkFBc0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFLLENBQUM7WUFFbEUsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO1lBRXBCLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFDeEIsQ0FBQztRQW5GRDtZQUFDLFNBQU0sQ0FBQyxVQUFTLFdBQVcsRUFBRSxNQUFNO2dCQUFFLGNBQU87cUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztvQkFBUCw2QkFBTzs7Z0JBQ3pDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQzVGLFNBQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxDQUFDO2dCQUN0RyxDQUFDO1lBSUwsQ0FBQyxDQUFDO21EQUFBO1FBNkVOLHFCQUFDO0lBQUQsQ0F2R0EsQUF1R0MsSUFBQTtJQXZHcUIsaUJBQWMsaUJBdUduQyxDQUFBO0FBQ0wsQ0FBQyxFQXpHTSxFQUFFLEtBQUYsRUFBRSxRQXlHUjtBQ3pHRCxJQUFPLEVBQUUsQ0FpRlI7QUFqRkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQO1FBQXVDLHFDQUFjO1FBQXJEO1lBQXVDLDhCQUFjO1FBK0VyRCxDQUFDO1FBOUVpQix3QkFBTSxHQUFwQixVQUFxQixZQUF1QjtZQUN4QyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUVqQyxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQU9NLHVDQUFXLEdBQWxCO1lBQ0ksSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7WUFFNUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUEsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1lBQ3pGLENBQUM7WUFDRCxJQUFJLENBQUEsQ0FBQztnQkFDRCxFQUFFLENBQUEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQztvQkFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNoRCxDQUFDO2dCQUNELElBQUksQ0FBQSxDQUFDO29CQUVELElBQUksQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtnQkFDekYsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRVMsdUNBQVcsR0FBckI7WUFFSSxNQUFNLENBQUMsWUFBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzlCLENBQUM7UUFLUyxzREFBMEIsR0FBcEMsVUFBcUMsS0FBZTtZQUNoRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBaUIsaUJBQWMsQ0FBQyxDQUFDO1lBRTdFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDdkQsQ0FBQztRQUtTLGtEQUFzQixHQUFoQyxVQUFpQyxRQUF1QixFQUFFLEtBQWU7WUFDckUsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsRUFDL0IsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEVBQ2pCLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxFQUNqQixDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUV0QixRQUFRLENBQUMsUUFBUSxHQUFHO2dCQUNoQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUN6QyxDQUFDO1lBTUYsUUFBUSxDQUFDLE9BQU8sR0FBRztnQkFDZixDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztnQkFDZixDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztnQkFDZixDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQzthQUNsQixDQUFDO1FBQ04sQ0FBQztRQUVTLDREQUFnQyxHQUExQyxVQUEyQyxNQUFjLEVBQUUsV0FBbUI7WUFDMUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztRQUNyQyxDQUFDO1FBRVMsNENBQWdCLEdBQTFCO1lBQ0ksSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7WUFFNUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQy9FLENBQUM7UUE1Q0Q7WUFBQyxVQUFPLENBQUMsVUFBUyxLQUFlO2dCQUM3QixTQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7WUFDeEUsQ0FBQyxDQUFDOzJFQUFBO1FBU0Y7WUFBQyxVQUFPLENBQUMsVUFBUyxRQUF1QixFQUFFLEtBQWU7Z0JBQ3RELFNBQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUNqSCxDQUFDLENBQUM7dUVBQUE7UUFnQ04sd0JBQUM7SUFBRCxDQS9FQSxBQStFQyxDQS9Fc0MsaUJBQWMsR0ErRXBEO0lBL0VZLG9CQUFpQixvQkErRTdCLENBQUE7QUFDTCxDQUFDLEVBakZNLEVBQUUsS0FBRixFQUFFLFFBaUZSO0FDakZELElBQU8sRUFBRSxDQXdGUjtBQXhGRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBMEMsd0NBQWM7UUFBeEQ7WUFBMEMsOEJBQWM7UUFzRnhELENBQUM7UUFyRmlCLDJCQUFNLEdBQXBCLFVBQXFCLFlBQXVCO1lBQ3hDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBRWpDLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBT00sMENBQVcsR0FBbEI7WUFDSSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztZQUU1QyxJQUFJLENBQUMsS0FBSyxDQUFDLDBCQUEwQixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDMUYsQ0FBQztRQUVTLDBDQUFXLEdBQXJCO1lBQ0ksTUFBTSxDQUFDLGNBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQyxDQUFDO1FBS1MseURBQTBCLEdBQXBDLFVBQXFDLEtBQWlCO1lBQ2xELElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1lBRW5ELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7WUFDeEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMxRixDQUFDO1FBRVMsK0NBQWdCLEdBQTFCO1lBQ0ksSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7WUFFNUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLFdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUM7UUFDeEQsQ0FBQztRQUVTLCtEQUFnQyxHQUExQyxVQUEyQyxNQUFjLEVBQUUsTUFBTTtZQUM3RCxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2hDLENBQUM7UUFLUyxxREFBc0IsR0FBaEMsVUFBaUMsUUFBdUIsRUFBRSxLQUFpQjtZQUN2RSxJQUFNLFFBQVEsR0FBRyxFQUFFLEVBQ2YsU0FBUyxHQUFHLENBQUMsQ0FBQztZQUNsQixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxFQUNyQixRQUFRLEdBQUcsRUFBRSxFQUNiLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVixHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUMxQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQ04sRUFBRSxHQUFHLENBQUMsRUFDTixFQUFFLEdBQUcsQ0FBQyxFQUNOLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBRWpCLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNiLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ1AsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDUCxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNsQixFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUNQLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ1AsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDWCxDQUFDO2dCQUVELEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQ2hDLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztvQkFDckMsUUFBUSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDMUMsUUFBUSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ25CLFFBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzFDLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBRVAsS0FBSyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7b0JBQzNDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNuQixRQUFRLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUMxQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNYLENBQUM7WUFDTCxDQUFDO1lBRUQsUUFBUSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDakMsQ0FBQztRQS9ERDtZQUFDLFVBQU8sQ0FBQyxVQUFTLEtBQWlCO2dCQUMvQixTQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7WUFDeEUsQ0FBQyxDQUFDOzhFQUFBO1FBa0JGO1lBQUMsVUFBTyxDQUFDLFVBQVMsUUFBdUIsRUFBRSxLQUFpQjtnQkFDeEQsU0FBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3BFLENBQUMsQ0FBQzswRUFBQTtRQTBDTiwyQkFBQztJQUFELENBdEZBLEFBc0ZDLENBdEZ5QyxpQkFBYyxHQXNGdkQ7SUF0RlksdUJBQW9CLHVCQXNGaEMsQ0FBQTtBQUNMLENBQUMsRUF4Rk0sRUFBRSxLQUFGLEVBQUUsUUF3RlI7QUN4RkQsSUFBTyxFQUFFLENBbUdSO0FBbkdELFdBQU8sRUFBRSxFQUFBLENBQUM7SUFDTjtRQUFBO1FBaUdBLENBQUM7UUE3RmlCLG1DQUFlLEdBQTdCO1lBQThCLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDakMsSUFBSSxlQUFlLEdBQUcsSUFBSSxFQUN0QixhQUFhLEdBQUcsSUFBSSxDQUFDO1lBRXpCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsZUFBZSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixlQUFlLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFFaEUsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDekIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDekIsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUN6RCxNQUFNLENBQUMsS0FBSyxDQUFDO29CQUNqQixDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBS2EsMENBQXNCLEdBQXBDO1lBQXFDLGNBQU87aUJBQVAsV0FBTyxDQUFQLHNCQUFPLENBQVAsSUFBTztnQkFBUCw2QkFBTzs7WUFDNUMsSUFBSSxlQUFlLEdBQUcsSUFBSSxFQUN0QixhQUFhLEdBQUcsSUFBSSxDQUFDO1lBRXJCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsZUFBZSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDdkIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNsQixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUV2QixlQUFlLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFFaEUsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDekIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDO2dCQUVoQixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO29CQUN6QixFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3pELE9BQU8sRUFBRSxDQUFDO29CQUNkLENBQUM7b0JBQ0QsSUFBSSxDQUFDLENBQUM7d0JBQ0YsS0FBSyxDQUFDO29CQUNWLENBQUM7Z0JBQ0wsQ0FBQztnQkFDRCxFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztvQkFDZixNQUFNLENBQUMsS0FBSyxDQUFDO2dCQUNqQixDQUFDO1lBQ0wsQ0FBQztZQUVELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVhLHdDQUFvQixHQUFsQyxVQUFtQyxRQUFnQixFQUFFLFFBQWdCO1lBQ2pFLElBQUksZUFBZSxHQUFHLEVBQUUsQ0FBQztZQUV6QixlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLGVBQWUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7WUFFdEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFbEMsTUFBTSxDQUFDLGVBQWUsQ0FBQztRQUMzQixDQUFDO1FBQ0wsMEJBQUM7SUFBRCxDQWpHQSxBQWlHQyxJQUFBO0lBakdZLHNCQUFtQixzQkFpRy9CLENBQUE7QUFDTCxDQUFDLEVBbkdNLEVBQUUsS0FBRixFQUFFLFFBbUdSO0FDbkdELElBQU8sRUFBRSxDQXFCUjtBQXJCRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1A7UUFBQTtZQUNXLFdBQU0sR0FBVyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFrQnBELENBQUM7UUFOYSx5Q0FBeUIsR0FBbkMsVUFBb0MsR0FBYSxFQUFFLE1BQWtCO1lBQ2pFLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQzVCLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBRWpDLE1BQU0sQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFNBQUEsWUFBWSxFQUFFLENBQUMsQ0FBQSxDQUFDO1FBQzlGLENBQUM7UUFDTCxZQUFDO0lBQUQsQ0FuQkEsQUFtQkMsSUFBQTtJQW5CcUIsUUFBSyxRQW1CMUIsQ0FBQTtBQUNMLENBQUMsRUFyQk0sRUFBRSxLQUFGLEVBQUUsUUFxQlI7QUNyQkQsSUFBTyxFQUFFLENBeU9SO0FBek9ELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUDtRQUErQiw2QkFBSztRQUFwQztZQUErQiw4QkFBSztZQWV6QixnQkFBVyxHQUFXLFVBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQXdOL0QsQ0FBQztRQXRPaUIsZ0JBQU0sR0FBcEI7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBRXJCLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDZixDQUFDO1FBRWEsbUJBQVMsR0FBdkIsVUFBd0IsR0FBVyxFQUFFLEdBQVc7WUFDNUMsTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBRWEsd0JBQWMsR0FBNUIsVUFBNkIsR0FBVyxFQUFFLEdBQVc7WUFDakQsTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBSU0sNkJBQVMsR0FBaEIsVUFBaUIsR0FBVyxFQUFFLEdBQVc7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzFELENBQUM7UUFFTSwwQkFBTSxHQUFiO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBRU0sMEJBQU0sR0FBYjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVNLHFDQUFpQixHQUF4QixVQUF5QixNQUFjLEVBQUUsV0FBbUI7WUFDeEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDbkMsQ0FBQztRQUVNLGlDQUFhLEdBQXBCLFVBQXFCLE1BQW9CO1lBQ3JDLElBQUksSUFBSSxHQUFHLElBQUksRUFDWCxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUN6QixHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRTlCLGdCQUFhLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBYTtnQkFDdEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3pDLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFFekIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUVoQixDQUFDO1FBT00sMENBQXNCLEdBQTdCLFVBQThCLElBQWMsRUFBRSxNQUFjO1lBQ3hELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ2hCLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUNyQixFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQ3ZCLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFDNUIsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQ2pCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ1YsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNWLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ1YsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNWLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ1YsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUNYLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFekIsRUFBRSxDQUFDLEdBQUcsQ0FDRixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMs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QUksRUFBRSxFQUFFLEdBQUUsQ0FBQTtRQUM3SyxtQ0FBdUIsR0FBYSxFQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUMsTUFBTSxFQUFFLEVBQUUsRUFBQyxVQUFVLEVBQUUsRUFBRSxFQUFDLFdBQVcsRUFBRSw2RkFBNkYsRUFBQyxVQUFVLEVBQUUsbThEQUFtOEQsRUFBQyxJQUFJLEVBQUUsRUFBRSxHQUFFLENBQUE7UUFDNW9FLGtDQUFzQixHQUFhLEVBQUMsR0FBRyxFQUFFLEVBQUUsRUFBQyxNQUFNLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSx5V0FBeVcsRUFBQyxXQUFXLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSxnM0NBQWczQyxFQUFDLElBQUksRUFBRSxFQUFFLEdBQUUsQ0FBQTtRQUNwMEQsZ0NBQW9CLEdBQWEsRUFBQyxHQUFHLEVBQUUsRUFBRSxFQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUMsVUFBVSxFQUFFLHdIQUF3SCxFQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUMsVUFBVSxFQUFFLEVBQUUsRUFBQyxJQUFJLEVBQUUsNklBQTZJLEdBQUUsQ0FBQTtRQUM1WCxrQkFBQztJQUFELENBaEVBLEFBZ0VDLElBQUE7SUFoRVksY0FBVyxjQWdFdkIsQ0FBQTtBQUVELENBQUMsRUFuRU0sRUFBRSxLQUFGLEVBQUUsUUFtRVIiLCJmaWxlIjoid2QuZGVidWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IHZhciBEZWJ1Z0NvbmZpZyA9IHtcbiAgICAgICAgaXNUZXN0OmZhbHNlLFxuICAgICAgICBkZWJ1Z0NvbGxpc2lvbjpmYWxzZSxcbiAgICAgICAgc2hvd0RlYnVnUGFuZWw6IGZhbHNlXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIHVzZSB1aSBjb21wb25lbnQgdG8gZHJhdyBkZWJ1ZyBwYW5lbCFcbiAgICBleHBvcnQgY2xhc3MgRGVidWdTdGF0aXN0aWNze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNvdW50ID0ge1xuICAgICAgICAgICAgZ2V0IHRvdGFsR2FtZU9iamVjdHMoKXtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5nZXRDaGlsZHJlbigpLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihjaGlsZC5oYXNDb21wb25lbnQoU3BhY2VQYXJ0aXRpb24pKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IGNoaWxkLmdldENvbXBvbmVudDxTcGFjZVBhcnRpdGlvbj4oU3BhY2VQYXJ0aXRpb24pLmdldENoaWxkcmVuKCkuZ2V0Q291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICsrO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVuZGVyR2FtZU9iamVjdHM6MCxcbiAgICAgICAgICAgIGRyYXdDYWxsczowXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBkdXJpbmcgPSB7XG4gICAgICAgICAgICBnZXQgZnBzKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpcmVjdG9yLmdldEluc3RhbmNlKCkuZnBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy90b2RvIGNvbXB1dGUgcG90ZW50aWFsIGZwcz9cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfc3RhcnRMb29wU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNsZWFyKCl7XG4gICAgICAgICAgICB0aGlzLmNvdW50LnJlbmRlckdhbWVPYmplY3RzID0gMDtcbiAgICAgICAgICAgIHRoaXMuY291bnQuZHJhd0NhbGxzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGFydExvb3BTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LlNUQVJUTE9PUClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKERlYnVnQ29uZmlnLnNob3dEZWJ1Z1BhbmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHRvdGFsR2FtZU9iamVjdHM6JHtzZWxmLmNvdW50LnRvdGFsR2FtZU9iamVjdHN9LCByZW5kZXJHYW1lT2JqZWN0czoke3NlbGYuY291bnQucmVuZGVyR2FtZU9iamVjdHN9LCBkcmF3Q2FsbHM6JHtzZWxmLmNvdW50LmRyYXdDYWxsc31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGZwczoke3NlbGYuZHVyaW5nLmZwc31gKTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TG9vcFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2RGcnB7XG4gICAgZXhwb3J0IHZhciBmcm9tQ29sbGVjdGlvbiA9IChjb2xsZWN0aW9uOndkQ2IuQ29sbGVjdGlvbjxhbnk+LCBzY2hlZHVsZXIgPSBTY2hlZHVsZXIuY3JlYXRlKCkpID0+e1xuICAgICAgICB2YXIgYXJyID0gY29sbGVjdGlvbi50b0FycmF5KCk7XG5cbiAgICAgICAgcmV0dXJuIGFyci5sZW5ndGggPT09IDAgPyBlbXB0eSgpIDogZnJvbUFycmF5KGFyciwgc2NoZWR1bGVyKTtcbiAgICB9O1xufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZDpib29sZWFuLCBtZXNzYWdlOnN0cmluZz1cImNvbnRyYWN0IGVycm9yXCIpe1xuICAgICAgICBMb2cuZXJyb3IoIWNvbmQsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZXF1aXJlKEluRnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgICAgIGlmKE1haW4uaXNUZXN0KXtcbiAgICAgICAgICAgICAgICAgICAgSW5GdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZShPdXRGdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWUuYXBwbHkodGhpcywgYXJncyksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IFtyZXN1bHRdLmNvbmNhdChhcmdzKTtcblxuICAgICAgICAgICAgICAgIGlmKE1haW4uaXNUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIE91dEZ1bmMuYXBwbHkodGhpcywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVxdWlyZUdldHRlcihJbkZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZihNYWluLmlzVGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIEluRnVuYy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVTZXR0ZXIoSW5GdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgc2V0dGVyID0gZGVzY3JpcHRvci5zZXQ7XG5cbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgaWYoTWFpbi5pc1Rlc3Qpe1xuICAgICAgICAgICAgICAgICAgICBJbkZ1bmMuY2FsbCh0aGlzLCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnN1cmVHZXR0ZXIoT3V0RnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIGlmKE1haW4uaXNUZXN0KXtcbiAgICAgICAgICAgICAgICAgICAgT3V0RnVuYy5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVNldHRlcihPdXRGdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgc2V0dGVyID0gZGVzY3JpcHRvci5zZXQ7XG5cbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHNldHRlci5jYWxsKHRoaXMsIHZhbCksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IFtyZXN1bHQsIHZhbF07XG5cbiAgICAgICAgICAgICAgICBpZihNYWluLmlzVGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIE91dEZ1bmMuYXBwbHkodGhpcywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgaWYoTWFpbi5pc1Rlc3QpIHtcbiAgICAgICAgICAgICAgICBmdW5jKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNhY2hlR2V0dGVyKGp1ZGdlRnVuYzooKSA9PiBib29sZWFuLCByZXR1cm5DYWNoZVZhbHVlRnVuYzooKSA9PiBhbnksIHNldENhY2hlRnVuYzoocmV0dXJuVmFsKSA9PiB2b2lkKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmKGp1ZGdlRnVuYy5jYWxsKHRoaXMpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkNhY2hlVmFsdWVGdW5jLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2V0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBzZXRDYWNoZUZ1bmMuY2FsbCh0aGlzLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNhY2hlKGp1ZGdlRnVuYzooLi4uYXJncykgPT4gYm9vbGVhbiwgcmV0dXJuQ2FjaGVWYWx1ZUZ1bmM6KC4uLmFyZ3MpID0+IGFueSwgc2V0Q2FjaGVGdW5jOiguLi5yZXR1cm5WYWwpID0+IHZvaWQpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYoanVkZ2VGdW5jLmFwcGx5KHRoaXMsIGFyZ3MpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkNhY2hlVmFsdWVGdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgc2V0Q2FjaGVGdW5jLmFwcGx5KHRoaXMsIFtyZXN1bHRdLmNvbmNhdChhcmdzKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoZGF0YU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBkZXNjcmlwdG9yLnNldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpW2BnZXQke2RhdGFOYW1lfWBdKHRoaXMuZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiB0aGlzW2BfJHtsb3dlckZpcnN0Q2hhcihkYXRhTmFtZSl9YF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzUGh5c2ljc0VuZ2luZUFkYXB0ZXJFeGlzdCgpKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpW2BzZXQke2RhdGFOYW1lfWBdKHRoaXMuZW50aXR5T2JqZWN0LCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBleHBvcnQgZnVuY3Rpb24gb3BlcmF0ZVdvcmxkRGF0YUdldHRlckFuZFNldHRlcihkYXRhTmFtZSkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0LFxuICAgICAgICAgICAgICAgIHNldHRlciA9IGRlc2NyaXB0b3Iuc2V0O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NlbmUgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICAgICAgaWYoaXNXb3JsZERlZmluZWQoc2NlbmUpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBzY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlcltgZ2V0JHtkYXRhTmFtZX1gXSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHRoaXNbYF8ke2xvd2VyRmlyc3RDaGFyKGRhdGFOYW1lKX1gXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnNldCA9IGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjZW5lID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcblxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZihpc1dvcmxkRGVmaW5lZChzY2VuZSkpe1xuICAgICAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlcltgc2V0JHtkYXRhTmFtZX1gXSh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNXb3JsZERlZmluZWQoc2NlbmU6U2NlbmVEaXNwYXRjaGVyKXtcbiAgICAgICAgcmV0dXJuIHNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyICYmIHNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyLndvcmxkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvd2VyRmlyc3RDaGFyKHN0cil7XG4gICAgICAgIHZhciBmaXJzdENoYXIgPSBzdHIuc2xpY2UoMCwgMSk7XG5cbiAgICAgICAgcmV0dXJuIGAke2ZpcnN0Q2hhci50b0xvd2VyQ2FzZSgpfSR7c3RyLnNsaWNlKDEpfWA7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZnVuY3Rpb24gc2NyaXB0KHNjcmlwdE5hbWU6c3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBTY3JpcHQuYWRkU2NyaXB0KHNjcmlwdE5hbWUsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBleGVjT25seU9uY2UoZmxhZ05hbWU6c3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ZsYWdOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpc1tmbGFnTmFtZV0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNvbnN0IEFCU1RSQUNUX0FUVFJJQlVURSA9IG51bGw7XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgdmFyIHJvb3Q6YW55O1xufVxuXG5kZWNsYXJlIHZhciBnbG9iYWw6YW55LHdpbmRvdzpXaW5kb3c7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZCwgXCJyb290XCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih3ZC5KdWRnZVV0aWxzLmlzTm9kZUpzKCkpe1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxufSk7XG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgREVHX1RPX1JBRFxuICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJzaW9uIGZhY3RvciBiZXR3ZWVuIGRlZ3JlZXMgYW5kIHJhZGlhbnNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENvbnZlcnQgMTgwIGRlZ3JlZXMgdG8gcGkgcmFkaWFuc1xuICAgICAqIHZhciByYWQgPSAxODAgKiBERUdfVE9fUkFEO1xuICAgICAqL1xuICAgIGV4cG9ydCBjb25zdCBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIFJBRF9UT19ERUdcbiAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVyc2lvbiBmYWN0b3IgYmV0d2VlbiBkZWdyZWVzIGFuZCByYWRpYW5zXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb252ZXJ0IHBpIHJhZGlhbnMgdG8gMTgwIGRlZ3JlZXNcbiAgICAgKiB2YXIgZGVnID0gTWF0aC5QSSAqIFJBRF9UT19ERUc7XG4gICAgICovXG4gICAgZXhwb3J0IGNvbnN0IFJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBWZWN0b3Iye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh4LCB5KTpWZWN0b3IyIDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpWZWN0b3IyIDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSguLi5hcmdzKTpWZWN0b3IyIHtcbiAgICAgICAgICAgIHZhciBtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoeCwgeSk7XG4gICAgICAgIGNvbnN0cnVjdG9yKCk7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB4KHg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHkoeTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHZhbHVlczogRmxvYXQzMkFycmF5O1xuXG4gICAgICAgIHB1YmxpYyBzZXQoeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZCh2OlZlY3RvcjIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB0aGlzLnZhbHVlc1swXSArIHYudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB0aGlzLnZhbHVlc1sxXSArIHYudmFsdWVzWzFdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWwodjpWZWN0b3IyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gdGhpcy52YWx1ZXNbMF0gKiB2LnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gdGhpcy52YWx1ZXNbMV0gKiB2LnZhbHVlc1sxXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjIuY3JlYXRlKHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIFZlY3RvcjN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdXAgPSBWZWN0b3IzLmNyZWF0ZSgwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBmb3J3YXJkID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMSk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmlnaHQgPSBWZWN0b3IzLmNyZWF0ZSgxLCAwLCAwKTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh4LCB5LCB6KTpWZWN0b3IzIDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpWZWN0b3IzIDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSguLi5hcmdzKTpWZWN0b3IzIHtcbiAgICAgICAgICAgIHZhciBtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgeik7XG4gICAgICAgIGNvbnN0cnVjdG9yKCk7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPWFyZ3NbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB4KHg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHkoeTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHooKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1syXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeih6Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IHo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdmFsdWVzOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBub3JtYWxpemUoKTogVmVjdG9yM3tcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy52YWx1ZXM7XG4gICAgICAgICAgICB2YXIgZCA9IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICB2WzBdICogdlswXSArIHZbMV0gKiB2WzFdICsgdlsyXSAqIHZbMl1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmKGQgPT09IDApe1xuICAgICAgICAgICAgICAgIHZbMF0gPSAwO1xuICAgICAgICAgICAgICAgIHZbMV0gPSAwO1xuICAgICAgICAgICAgICAgIHZbMl0gPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2WzBdID0gdlswXSAvIGQ7XG4gICAgICAgICAgICB2WzFdID0gdlsxXSAvIGQ7XG4gICAgICAgICAgICB2WzJdID0gdlsyXSAvIGQ7XG5cbiAgICAgICAgICAgIC8vIGZvciBqYXNtaW5lIHRlc3Q6XG4gICAgICAgICAgICAvLyAtMC5pc0VxdWFsKDApOy8vbm90IHBhc3MsIHNvIGhlcmUgY2hhbmdlIC0wIHRvIDBcbiAgICAgICAgICAgIGlmKHZbMF0gPT09IC0wKXtcbiAgICAgICAgICAgICAgICB2WzBdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZbMV0gPT09IC0wKXtcbiAgICAgICAgICAgICAgICB2WzFdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZbMl0gPT09IC0wKXtcbiAgICAgICAgICAgICAgICB2WzJdID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNaZXJvKCl7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICByZXR1cm4gdlswXSA9PT0gMCAmJiB2WzFdID09PSAwICYmIHZbMl0gPT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2NhbGUoc2NhbGFyOm51bWJlcik7XG4gICAgICAgIHB1YmxpYyBzY2FsZSh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTtcblxuICAgICAgICBwdWJsaWMgc2NhbGUoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHYgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBzY2FsYXIgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdlswXSAqPSBzY2FsYXI7XG4gICAgICAgICAgICAgICAgdlsxXSAqPSBzY2FsYXI7XG4gICAgICAgICAgICAgICAgdlsyXSAqPSBzY2FsYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHkgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB6ID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIHZbMF0gKj0geDtcbiAgICAgICAgICAgICAgICB2WzFdICo9IHk7XG4gICAgICAgICAgICAgICAgdlsyXSAqPSB6O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXQodjpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIHNldCh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTtcblxuICAgICAgICBwdWJsaWMgc2V0KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIHRoaXMueCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnogPSBhcmdzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgdjpWZWN0b3IzID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHYueDtcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB2Lnk7XG4gICAgICAgICAgICAgICAgdGhpcy56ID0gdi56O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN1Yih2OlZlY3RvcjMpOlZlY3RvcjMge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB0aGlzLnZhbHVlc1swXSAtIHYudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB0aGlzLnZhbHVlc1sxXSAtIHYudmFsdWVzWzFdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSB0aGlzLnZhbHVlc1syXSAtIHYudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdWIyKHYxOlZlY3RvcjMsIHYyOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB2MS52YWx1ZXNbMF0gLSB2Mi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHYxLnZhbHVlc1sxXSAtIHYyLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gdjEudmFsdWVzWzJdIC0gdjIudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGQodjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gdGhpcy52YWx1ZXNbMF0gKyB2LnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gdGhpcy52YWx1ZXNbMV0gKyB2LnZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gdGhpcy52YWx1ZXNbMl0gKyB2LnZhbHVlc1syXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkMih2MTpWZWN0b3IzLCB2MjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gdjEudmFsdWVzWzBdICsgdjIudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB2MS52YWx1ZXNbMV0gKyB2Mi52YWx1ZXNbMV07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IHYxLnZhbHVlc1syXSArIHYyLnZhbHVlc1syXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsKHY6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHRoaXMudmFsdWVzWzBdICogdi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHRoaXMudmFsdWVzWzFdICogdi52YWx1ZXNbMV07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IHRoaXMudmFsdWVzWzJdICogIHYudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWwyKHYxOlZlY3RvcjMsIHYyOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB2MS52YWx1ZXNbMF0gKiB2Mi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHYxLnZhbHVlc1sxXSAqIHYyLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gdjEudmFsdWVzWzJdICogIHYyLnZhbHVlc1syXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmV2ZXJzZSgpOlZlY3RvcjN7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IC10aGlzLnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gLXRoaXMudmFsdWVzWzFdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSAtdGhpcy52YWx1ZXNbMl07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKTogVmVjdG9yM3tcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMudmFsdWVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbaV0gPSB0aGlzLnZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0b1ZlY3RvcjQoKTogVmVjdG9yNHtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3I0LmNyZWF0ZSh0aGlzLnZhbHVlc1swXSwgdGhpcy52YWx1ZXNbMV0sIHRoaXMudmFsdWVzWzJdLCAxLjApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQodlswXSAqIHZbMF0gKyB2WzFdICogdlsxXSArIHZbMl0gKiB2WzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgY3Jvc3NcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIHJlc3VsdCBvZiBhIGNyb3NzIHByb2R1Y3Qgb3BlcmF0aW9uIHBlcmZvcm1lZCBvbiB0aGUgdHdvIHNwZWNpZmllZCAzLWRpbWVuc2lvbmFsIHZlY3RvcnMuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gbGhzIFRoZSBmaXJzdCAzLWRpbWVuc2lvbmFsIHZlY3RvciBvcGVyYW5kIG9mIHRoZSBjcm9zcyBwcm9kdWN0LlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IHJocyBUaGUgc2Vjb25kIDMtZGltZW5zaW9uYWwgdmVjdG9yIG9wZXJhbmQgb2YgdGhlIGNyb3NzIHByb2R1Y3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtWZWMzfSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIGJhY2sgPSBuZXcgVmVjMygpLmNyb3NzKFZlYzMuUklHSFQsIFZlYzMuVVApO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBTaG91bGQgcHJpbnQgdGhlIFogYXhpcyAoaS5lLiBbMCwgMCwgMV0pXG4gICAgICAgICAqIGNvbnNvbGUubG9nKFwiVGhlIHJlc3VsdCBvZiB0aGUgY3Jvc3MgcHJvZHVjdCBpczogXCIgKyBiYWNrLnRvU3RyaW5nKCkpO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGNyb3NzKGxoczpWZWN0b3IzLCByaHM6VmVjdG9yMykge1xuICAgICAgICAgICAgdmFyIGEsIGIsIHIsIGF4LCBheSwgYXosIGJ4LCBieSwgYno7XG5cbiAgICAgICAgICAgIGEgPSBsaHMudmFsdWVzO1xuICAgICAgICAgICAgYiA9IHJocy52YWx1ZXM7XG4gICAgICAgICAgICByID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIGF4ID0gYVswXTtcbiAgICAgICAgICAgIGF5ID0gYVsxXTtcbiAgICAgICAgICAgIGF6ID0gYVsyXTtcbiAgICAgICAgICAgIGJ4ID0gYlswXTtcbiAgICAgICAgICAgIGJ5ID0gYlsxXTtcbiAgICAgICAgICAgIGJ6ID0gYlsyXTtcblxuICAgICAgICAgICAgclswXSA9IGF5ICogYnogLSBieSAqIGF6O1xuICAgICAgICAgICAgclsxXSA9IGF6ICogYnggLSBieiAqIGF4O1xuICAgICAgICAgICAgclsyXSA9IGF4ICogYnkgLSBieCAqIGF5O1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgbGVycFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gc3BlY2lmaWVkIDMtZGltZW5zaW9uYWwgdmVjdG9ycy5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSBsaHMgVGhlIDMtZGltZW5zaW9uYWwgdG8gaW50ZXJwb2xhdGUgZnJvbS5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSByaHMgVGhlIDMtZGltZW5zaW9uYWwgdG8gaW50ZXJwb2xhdGUgdG8uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbHBoYSBUaGUgdmFsdWUgY29udHJvbGxpbmcgdGhlIHBvaW50IG9mIGludGVycG9sYXRpb24uIEJldHdlZW4gMCBhbmQgMSwgdGhlIGxpbmVhciBpbnRlcnBvbGFudFxuICAgICAgICAgKiB3aWxsIG9jY3VyIG9uIGEgc3RyYWlnaHQgbGluZSBiZXR3ZWVuIGxocyBhbmQgcmhzLiBPdXRzaWRlIG9mIHRoaXMgcmFuZ2UsIHRoZSBsaW5lYXIgaW50ZXJwb2xhbnQgd2lsbCBvY2N1ciBvblxuICAgICAgICAgKiBhIHJheSBleHRyYXBvbGF0ZWQgZnJvbSB0aGlzIGxpbmUuXG4gICAgICAgICAqIEByZXR1cm5zIHtWZWMzfSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIGEgPSBuZXcgVmVjMygwLCAwLCAwKTtcbiAgICAgICAgICogdmFyIGIgPSBuZXcgVmVjMygxMCwgMTAsIDEwKTtcbiAgICAgICAgICogdmFyIHIgPSBuZXcgVmVjMygpO1xuICAgICAgICAgKlxuICAgICAgICAgKiByLmxlcnAoYSwgYiwgMCk7ICAgLy8gciBpcyBlcXVhbCB0byBhXG4gICAgICAgICAqIHIubGVycChhLCBiLCAwLjUpOyAvLyByIGlzIDUsIDUsIDVcbiAgICAgICAgICogci5sZXJwKGEsIGIsIDEpOyAgIC8vIHIgaXMgZXF1YWwgdG8gYlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGxlcnAobGhzOlZlY3RvcjMsIHJoczpWZWN0b3IzLCBhbHBoYTpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBhID0gbGhzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICBiID0gcmhzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICByID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJbMF0gPSBhWzBdICsgYWxwaGEgKiAoYlswXSAtIGFbMF0pO1xuICAgICAgICAgICAgclsxXSA9IGFbMV0gKyBhbHBoYSAqIChiWzFdIC0gYVsxXSk7XG4gICAgICAgICAgICByWzJdID0gYVsyXSArIGFscGhhICogKGJbMl0gLSBhWzJdKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGRvdFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGEgZG90IHByb2R1Y3Qgb3BlcmF0aW9uIHBlcmZvcm1lZCBvbiB0aGUgdHdvIHNwZWNpZmllZCAzLWRpbWVuc2lvbmFsIHZlY3RvcnMuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gcmhzIFRoZSBzZWNvbmQgMy1kaW1lbnNpb25hbCB2ZWN0b3Igb3BlcmFuZCBvZiB0aGUgZG90IHByb2R1Y3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSByZXN1bHQgb2YgdGhlIGRvdCBwcm9kdWN0IG9wZXJhdGlvbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHYxID0gbmV3IFZlYzMoNSwgMTAsIDIwKTtcbiAgICAgICAgICogdmFyIHYyID0gbmV3IFZlYzMoMTAsIDIwLCA0MCk7XG4gICAgICAgICAqIHZhciB2MWRvdHYyID0gdjEuZG90KHYyKTtcbiAgICAgICAgICogY29uc29sZS5sb2coXCJUaGUgcmVzdWx0IG9mIHRoZSBkb3QgcHJvZHVjdCBpczogXCIgKyB2MWRvdHYyKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBkb3QocmhzKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgIGIgPSByaHMudmFsdWVzO1xuXG4gICAgICAgICAgICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1pbih2OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnggPiB2LngpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB2Lng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy55ID4gdi55KSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdi55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMueiA+IHYueikge1xuICAgICAgICAgICAgICAgIHRoaXMueiA9IHYuejtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtYXgodjpWZWN0b3IzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54IDwgdi54KSB7XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gdi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMueSA8IHYueSkge1xuICAgICAgICAgICAgICAgIHRoaXMueSA9IHYueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnogPCB2LnopIHtcbiAgICAgICAgICAgICAgICB0aGlzLnogPSB2Lno7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNFcXVhbCh2OlZlY3RvcjMpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gdi54ICYmIHRoaXMueSA9PT0gdi55ICYmIHRoaXMueiA9PT0gdi56O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRvQXJyYXkoKXtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXBwbHlNYXRyaXg0KG06TWF0cml4NCkge1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLngsXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMueSxcbiAgICAgICAgICAgICAgICB6ID0gdGhpcy56LFxuICAgICAgICAgICAgICAgIGUgPSBtLnZhbHVlcztcblxuICAgICAgICAgICAgdGhpcy54ID0gZVsgMCBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA4IF0gICogeiArIGVbIDEyIF07XG4gICAgICAgICAgICB0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAgKiB6ICsgZVsgMTMgXTtcbiAgICAgICAgICAgIHRoaXMueiA9IGVbIDIgXSAqIHggKyBlWyA2IF0gKiB5ICsgZVsgMTAgXSAqIHogKyBlWyAxNCBdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZVRvKHY6VmVjdG9yMykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZVRvU3F1YXJlZCh2OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciBkeCA9IHRoaXMueCAtIHYueCxcbiAgICAgICAgICAgICAgICBkeSA9IHRoaXMueSAtIHYueSxcbiAgICAgICAgICAgICAgICBkeiA9IHRoaXMueiAtIHYuejtcblxuICAgICAgICAgICAgcmV0dXJuIGR4KioyICsgZHkqKjIgKyBkeioqMjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBWZWN0b3I0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh4LCB5LCB6LCB3KTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgbSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHgsIHksIHosIHcpO1xuICAgICAgICBjb25zdHJ1Y3RvcigpO1xuICAgICAgICBjb25zdHJ1Y3RvciguLi5hcmdzKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID1hcmdzWzJdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzNdID1hcmdzWzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1swXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeCh4Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgeSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB5KHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB6KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMl07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHooejpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSB6O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHcoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1szXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdyh3Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1szXSA9IHc7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdmFsdWVzOiBGbG9hdDMyQXJyYXk7XG5cbiAgICAgICAgcHVibGljIG5vcm1hbGl6ZSgpOiBWZWN0b3I0e1xuICAgICAgICAgICAgdmFyIHYgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgIHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0gKyB2WzJdICogdlsyXSArIHZbM10gKiB2WzNdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZihkID09PSAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yNC5jcmVhdGUoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZbMF0gPSB2WzBdIC8gZDtcbiAgICAgICAgICAgIHZbMV0gPSB2WzFdIC8gZDtcbiAgICAgICAgICAgIHZbMl0gPSB2WzJdIC8gZDtcbiAgICAgICAgICAgIHZbM10gPSB2WzNdIC8gZDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOlZlY3RvcjR7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3B5SGVscGVyKFZlY3RvcjQuY3JlYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRvVmVjdG9yMygpOiBWZWN0b3Ize1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHRoaXMudmFsdWVzWzBdLCB0aGlzLnZhbHVlc1sxXSwgdGhpcy52YWx1ZXNbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5U2NhbGFyKHNjYWxhcjpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMueCAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xuICAgICAgICAgICAgdGhpcy56ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMudyAqPSBzY2FsYXI7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRvdCh2OlZlY3RvcjQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2LnogKyB0aGlzLncgKiB2Lnc7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0KHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29weUhlbHBlcih2ZWN0b3I0OlZlY3RvcjQpOmFueXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB2ZWN0b3I0LFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMudmFsdWVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbaV0gPSB0aGlzLnZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIC8qIVxuICAgICDms6jmhI/vvJrnn6npmLXlhYPntKDmmK/mjInliJfkuLvluo/lrZjlgqjlnKjmlbDnu4TkuK3nmoTjgIJcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTWF0cml4NHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUobWF0OkZsb2F0MzJBcnJheSk6TWF0cml4NDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpNYXRyaXg0O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIG0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcyhhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihtYXQ6RmxvYXQzMkFycmF5KTtcbiAgICAgICAgY29uc3RydWN0b3IoKTtcblxuICAgICAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbWF0cml4QXJyID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdmFsdWVzOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX21hdHJpeEFycjpBcnJheTxGbG9hdDMyQXJyYXk+ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgcHVzaCgpe1xuICAgICAgICAgICAgdGhpcy5fbWF0cml4QXJyLnB1c2godGhpcy52YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBvcCgpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSB0aGlzLl9tYXRyaXhBcnIucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0KGluaXRpYWxNMTE6IG51bWJlciwgaW5pdGlhbE0xMjogbnVtYmVyLCBpbml0aWFsTTEzOiBudW1iZXIsIGluaXRpYWxNMTQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxNMjE6IG51bWJlciwgaW5pdGlhbE0yMjogbnVtYmVyLCBpbml0aWFsTTIzOiBudW1iZXIsIGluaXRpYWxNMjQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxNMzE6IG51bWJlciwgaW5pdGlhbE0zMjogbnVtYmVyLCBpbml0aWFsTTMzOiBudW1iZXIsIGluaXRpYWxNMzQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxNNDE6IG51bWJlciwgaW5pdGlhbE00MjogbnVtYmVyLCBpbml0aWFsTTQzOiBudW1iZXIsIGluaXRpYWxNNDQ6IG51bWJlcik7XG4gICAgICAgIHB1YmxpYyBzZXQobWF0cml4Ok1hdHJpeDQpO1xuXG4gICAgICAgIHB1YmxpYyBzZXQoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHRlID0gdGhpcy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgdmFsdWVzOmFueSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgbWF0cml4Ok1hdHJpeDQgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gbWF0cml4LnZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgICAgICBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdLCBhcmdzWzddLCBhcmdzWzhdLCBhcmdzWzldLCBhcmdzWzEwXSwgYXJnc1sxMV0sIGFyZ3NbMTJdLCBhcmdzWzEzXSwgYXJnc1sxNF0sIGFyZ3NbMTVdXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVbIDAgXSA9IHZhbHVlc1swXTtcbiAgICAgICAgICAgIHRlWyAxIF0gPSB2YWx1ZXNbMV07XG4gICAgICAgICAgICB0ZVsgMiBdID0gdmFsdWVzWzJdO1xuICAgICAgICAgICAgdGVbIDMgXSA9IHZhbHVlc1szXTtcbiAgICAgICAgICAgIHRlWyA0IF0gPSB2YWx1ZXNbNF07XG4gICAgICAgICAgICB0ZVsgNSBdID0gdmFsdWVzWzVdO1xuICAgICAgICAgICAgdGVbIDYgXSA9IHZhbHVlc1s2XTtcbiAgICAgICAgICAgIHRlWyA3IF0gPSB2YWx1ZXNbN107XG4gICAgICAgICAgICB0ZVsgOCBdID0gdmFsdWVzWzhdO1xuICAgICAgICAgICAgdGVbIDkgXSA9IHZhbHVlc1s5XTtcbiAgICAgICAgICAgIHRlWyAxMCBdID0gdmFsdWVzWzEwXTtcbiAgICAgICAgICAgIHRlWyAxMSBdID0gdmFsdWVzWzExXTtcbiAgICAgICAgICAgIHRlWyAxMiBdID0gdmFsdWVzWzEyXTtcbiAgICAgICAgICAgIHRlWyAxMyBdID0gdmFsdWVzWzEzXTtcbiAgICAgICAgICAgIHRlWyAxNCBdID0gdmFsdWVzWzE0XTtcbiAgICAgICAgICAgIHRlWyAxNSBdID0gdmFsdWVzWzE1XTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0SWRlbnRpdHkgKCk6IE1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIGVbMF0gPSAxOyAgIGVbNF0gPSAwOyAgIGVbOF0gID0gMDsgICBlWzEyXSA9IDA7XG4gICAgICAgICAgICBlWzFdID0gMDsgICBlWzVdID0gMTsgICBlWzldICA9IDA7ICAgZVsxM10gPSAwO1xuICAgICAgICAgICAgZVsyXSA9IDA7ICAgZVs2XSA9IDA7ICAgZVsxMF0gPSAxOyAgIGVbMTRdID0gMDtcbiAgICAgICAgICAgIGVbM10gPSAwOyAgIGVbN10gPSAwOyAgIGVbMTFdID0gMDsgICBlWzE1XSA9IDE7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxjdWxhdGUgdGhlIGludmVyc2UgbWF0cml4IG9mIHNwZWNpZmllZCBtYXRyaXgsIGFuZCBzZXQgdG8gdGhpcy5cbiAgICAgICAgICogQHBhcmFtIG90aGVyIFRoZSBzb3VyY2UgbWF0cml4XG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGludmVydCAoKTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciBhMDAsIGEwMSwgYTAyLCBhMDMsXG4gICAgICAgICAgICAgICAgYTEwLCBhMTEsIGExMiwgYTEzLFxuICAgICAgICAgICAgICAgIGEyMCwgYTIxLCBhMjIsIGEyMyxcbiAgICAgICAgICAgICAgICBhMzAsIGEzMSwgYTMyLCBhMzMsXG4gICAgICAgICAgICAgICAgYjAwLCBiMDEsIGIwMiwgYjAzLFxuICAgICAgICAgICAgICAgIGIwNCwgYjA1LCBiMDYsIGIwNyxcbiAgICAgICAgICAgICAgICBiMDgsIGIwOSwgYjEwLCBiMTEsXG4gICAgICAgICAgICAgICAgaW52RGV0LCBtO1xuXG4gICAgICAgICAgICBtID0gdGhpcy52YWx1ZXM7XG4gICAgICAgICAgICBhMDAgPSBtWzBdO1xuICAgICAgICAgICAgYTAxID0gbVsxXTtcbiAgICAgICAgICAgIGEwMiA9IG1bMl07XG4gICAgICAgICAgICBhMDMgPSBtWzNdO1xuICAgICAgICAgICAgYTEwID0gbVs0XTtcbiAgICAgICAgICAgIGExMSA9IG1bNV07XG4gICAgICAgICAgICBhMTIgPSBtWzZdO1xuICAgICAgICAgICAgYTEzID0gbVs3XTtcbiAgICAgICAgICAgIGEyMCA9IG1bOF07XG4gICAgICAgICAgICBhMjEgPSBtWzldO1xuICAgICAgICAgICAgYTIyID0gbVsxMF07XG4gICAgICAgICAgICBhMjMgPSBtWzExXTtcbiAgICAgICAgICAgIGEzMCA9IG1bMTJdO1xuICAgICAgICAgICAgYTMxID0gbVsxM107XG4gICAgICAgICAgICBhMzIgPSBtWzE0XTtcbiAgICAgICAgICAgIGEzMyA9IG1bMTVdO1xuXG4gICAgICAgICAgICBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gICAgICAgICAgICBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gICAgICAgICAgICBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gICAgICAgICAgICBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gICAgICAgICAgICBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gICAgICAgICAgICBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gICAgICAgICAgICBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gICAgICAgICAgICBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gICAgICAgICAgICBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gICAgICAgICAgICBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gICAgICAgICAgICBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gICAgICAgICAgICBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7XG5cbiAgICAgICAgICAgIGludkRldCA9IDEgLyAoYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2KTtcblxuICAgICAgICAgICAgbVswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogaW52RGV0O1xuICAgICAgICAgICAgbVsxXSA9ICgtYTAxICogYjExICsgYTAyICogYjEwIC0gYTAzICogYjA5KSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bM10gPSAoLWEyMSAqIGIwNSArIGEyMiAqIGIwNCAtIGEyMyAqIGIwMykgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzRdID0gKC1hMTAgKiBiMTEgKyBhMTIgKiBiMDggLSBhMTMgKiBiMDcpICogaW52RGV0O1xuICAgICAgICAgICAgbVs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogaW52RGV0O1xuICAgICAgICAgICAgbVs2XSA9ICgtYTMwICogYjA1ICsgYTMyICogYjAyIC0gYTMzICogYjAxKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGludkRldDtcbiAgICAgICAgICAgIG1bOV0gPSAoLWEwMCAqIGIxMCArIGEwMSAqIGIwOCAtIGEwMyAqIGIwNikgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogaW52RGV0O1xuICAgICAgICAgICAgbVsxMV0gPSAoLWEyMCAqIGIwNCArIGEyMSAqIGIwMiAtIGEyMyAqIGIwMCkgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzEyXSA9ICgtYTEwICogYjA5ICsgYTExICogYjA3IC0gYTEyICogYjA2KSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzE0XSA9ICgtYTMwICogYjAzICsgYTMxICogYjAxIC0gYTMyICogYjAwKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBpbnZEZXQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGludmVydFRvM3gzKCk6TWF0cml4MyB7XG4gICAgICAgIHZhciBhMTEsIGEyMSwgYTMxLCBhMTIsIGEyMiwgYTMyLCBhMTMsIGEyMywgYTMzLFxuICAgICAgICAgICAgbSwgciwgZGV0LCBpZGV0O1xuICAgICAgICAgICAgdmFyIG1hdDMgPSBNYXRyaXgzLmNyZWF0ZSgpO1xuXG4gICAgICAgIG0gPSB0aGlzLnZhbHVlcztcblxuICAgICAgICByID0gbWF0My52YWx1ZXM7XG5cbiAgICAgICAgYTExID0gIG1bMTBdICogbVs1XSAtIG1bNl0gKiBtWzldO1xuICAgICAgICBhMjEgPSAtbVsxMF0gKiBtWzFdICsgbVsyXSAqIG1bOV07XG4gICAgICAgIGEzMSA9ICBtWzZdICAqIG1bMV0gLSBtWzJdICogbVs1XTtcbiAgICAgICAgYTEyID0gLW1bMTBdICogbVs0XSArIG1bNl0gKiBtWzhdO1xuICAgICAgICBhMjIgPSAgbVsxMF0gKiBtWzBdIC0gbVsyXSAqIG1bOF07XG4gICAgICAgIGEzMiA9IC1tWzZdICAqIG1bMF0gKyBtWzJdICogbVs0XTtcbiAgICAgICAgYTEzID0gIG1bOV0gICogbVs0XSAtIG1bNV0gKiBtWzhdO1xuICAgICAgICBhMjMgPSAtbVs5XSAgKiBtWzBdICsgbVsxXSAqIG1bOF07XG4gICAgICAgIGEzMyA9ICBtWzVdICAqIG1bMF0gLSBtWzFdICogbVs0XTtcblxuICAgICAgICBkZXQgPSAgbVswXSAqIGExMSArIG1bMV0gKiBhMTIgKyBtWzJdICogYTEzO1xuICAgICAgICBpZiAoZGV0ID09PSAwKSB7IC8vIG5vIGludmVyc2VcbiAgICAgICAgICAgICAgICBMb2cud2FybihcImNhbid0IGludmVydCBtYXRyaXgsIGRldGVybWluYW50IGlzIDBcIik7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXQzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWRldCA9IDEgLyBkZXQ7XG5cbiAgICAgICAgclswXSA9IGlkZXQgKiBhMTE7XG4gICAgICAgIHJbMV0gPSBpZGV0ICogYTIxO1xuICAgICAgICByWzJdID0gaWRldCAqIGEzMTtcbiAgICAgICAgclszXSA9IGlkZXQgKiBhMTI7XG4gICAgICAgIHJbNF0gPSBpZGV0ICogYTIyO1xuICAgICAgICByWzVdID0gaWRldCAqIGEzMjtcbiAgICAgICAgcls2XSA9IGlkZXQgKiBhMTM7XG4gICAgICAgIHJbN10gPSBpZGV0ICogYTIzO1xuICAgICAgICByWzhdID0gaWRldCAqIGEzMztcblxuICAgICAgICByZXR1cm4gbWF0MztcbiAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4LlxuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyB0cmFuc3Bvc2UgKCk6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgdGUgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIHZhciB0bXA7XG5cbiAgICAgICAgICAgIHRtcCA9IHRlWyAxIF07IHRlWyAxIF0gPSB0ZVsgNCBdOyB0ZVsgNCBdID0gdG1wO1xuICAgICAgICAgICAgdG1wID0gdGVbIDIgXTsgdGVbIDIgXSA9IHRlWyA4IF07IHRlWyA4IF0gPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSB0ZVsgNiBdOyB0ZVsgNiBdID0gdGVbIDkgXTsgdGVbIDkgXSA9IHRtcDtcblxuICAgICAgICAgICAgdG1wID0gdGVbIDMgXTsgdGVbIDMgXSA9IHRlWyAxMiBdOyB0ZVsgMTIgXSA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IHRlWyA3IF07IHRlWyA3IF0gPSB0ZVsgMTMgXTsgdGVbIDEzIF0gPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSB0ZVsgMTEgXTsgdGVbIDExIF0gPSB0ZVsgMTQgXTsgdGVbIDE0IF0gPSB0bXA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbWF0cml4IGZvciB0cmFuc2xhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHggVGhlIFggdmFsdWUgb2YgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHkgVGhlIFkgdmFsdWUgb2YgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHogVGhlIFogdmFsdWUgb2YgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICogQHJldHVybiB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0VHJhbnNsYXRlICh4LCB5LCB6KTogTWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgZVswXSA9IDE7ICBlWzRdID0gMDsgIGVbOF0gID0gMDsgIGVbMTJdID0geDtcbiAgICAgICAgICAgIGVbMV0gPSAwOyAgZVs1XSA9IDE7ICBlWzldICA9IDA7ICBlWzEzXSA9IHk7XG4gICAgICAgICAgICBlWzJdID0gMDsgIGVbNl0gPSAwOyAgZVsxMF0gPSAxOyAgZVsxNF0gPSB6O1xuICAgICAgICAgICAgZVszXSA9IDA7ICBlWzddID0gMDsgIGVbMTFdID0gMDsgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRoZSBtYXRyaXggZm9yIHRyYW5zbGF0aW9uIGZyb20gdGhlIHJpZ2h0LlxuICAgICAgICAgKiBAcGFyYW0geCBUaGUgWCB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geSBUaGUgWSB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geiBUaGUgWiB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGUgKHgsIHksIHopOiBNYXRyaXg0IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlNYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRUcmFuc2xhdGUoeCwgeSwgeikpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG1hdHJpeCBmb3Igcm90YXRpb24uXG4gICAgICAgICAqIFRoZSB2ZWN0b3Igb2Ygcm90YXRpb24gYXhpcyBtYXkgbm90IGJlIG5vcm1hbGl6ZWQuXG4gICAgICAgICAqIEBwYXJhbSBhbmdsZSBUaGUgYW5nbGUgb2Ygcm90YXRpb24gKGRlZ3JlZXMpXG4gICAgICAgICAqIEBwYXJhbSB4IFRoZSBYIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEBwYXJhbSB5IFRoZSBZIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEBwYXJhbSB6IFRoZSBaIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldFJvdGF0ZSAoYW5nbGU6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6bnVtYmVyKTogTWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSwgcywgYywgbGVuLCBybGVuLCBuYywgeHksIHl6LCB6eCwgeHMsIHlzLCB6cztcblxuICAgICAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5QSSAqIGFuZ2xlIC8gMTgwO1xuICAgICAgICAgICAgZSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgYyA9IE1hdGguY29zKGFuZ2xlKTtcblxuICAgICAgICAgICAgaWYgKDAgIT09IHggJiYgMCA9PT0geSAmJiAwID09PSB6KSB7XG4gICAgICAgICAgICAgICAgLy8gUm90YXRpb24gYXJvdW5kIFggYXhpc1xuICAgICAgICAgICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzID0gLXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVbMF0gPSAxOyAgZVs0XSA9IDA7ICBlWyA4XSA9IDA7ICBlWzEyXSA9IDA7XG4gICAgICAgICAgICAgICAgZVsxXSA9IDA7ICBlWzVdID0gYzsgIGVbIDldID0tczsgIGVbMTNdID0gMDtcbiAgICAgICAgICAgICAgICBlWzJdID0gMDsgIGVbNl0gPSBzOyAgZVsxMF0gPSBjOyAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgICAgIGVbM10gPSAwOyAgZVs3XSA9IDA7ICBlWzExXSA9IDA7ICBlWzE1XSA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IHggJiYgMCAhPT0geSAmJiAwID09PSB6KSB7XG4gICAgICAgICAgICAgICAgLy8gUm90YXRpb24gYXJvdW5kIFkgYXhpc1xuICAgICAgICAgICAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzID0gLXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVbMF0gPSBjOyAgZVs0XSA9IDA7ICBlWyA4XSA9IHM7ICBlWzEyXSA9IDA7XG4gICAgICAgICAgICAgICAgZVsxXSA9IDA7ICBlWzVdID0gMTsgIGVbIDldID0gMDsgIGVbMTNdID0gMDtcbiAgICAgICAgICAgICAgICBlWzJdID0tczsgIGVbNl0gPSAwOyAgZVsxMF0gPSBjOyAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgICAgIGVbM10gPSAwOyAgZVs3XSA9IDA7ICBlWzExXSA9IDA7ICBlWzE1XSA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IHggJiYgMCA9PT0geSAmJiAwICE9PSB6KSB7XG4gICAgICAgICAgICAgICAgLy8gUm90YXRpb24gYXJvdW5kIFogYXhpc1xuICAgICAgICAgICAgICAgIGlmICh6IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzID0gLXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVbMF0gPSBjOyAgZVs0XSA9LXM7ICBlWyA4XSA9IDA7ICBlWzEyXSA9IDA7XG4gICAgICAgICAgICAgICAgZVsxXSA9IHM7ICBlWzVdID0gYzsgIGVbIDldID0gMDsgIGVbMTNdID0gMDtcbiAgICAgICAgICAgICAgICBlWzJdID0gMDsgIGVbNl0gPSAwOyAgZVsxMF0gPSAxOyAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgICAgIGVbM10gPSAwOyAgZVs3XSA9IDA7ICBlWzExXSA9IDA7ICBlWzE1XSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJvdGF0aW9uIGFyb3VuZCBhbm90aGVyIGF4aXNcbiAgICAgICAgICAgICAgICBsZW4gPSBNYXRoLnNxcnQoeCp4ICsgeSp5ICsgeip6KTtcbiAgICAgICAgICAgICAgICBpZiAobGVuICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8v6L2s5o2i5Li65Y2V5L2N5ZCR6YePXG4gICAgICAgICAgICAgICAgICAgIHJsZW4gPSAxIC8gbGVuO1xuICAgICAgICAgICAgICAgICAgICB4ICo9IHJsZW47XG4gICAgICAgICAgICAgICAgICAgIHkgKj0gcmxlbjtcbiAgICAgICAgICAgICAgICAgICAgeiAqPSBybGVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5jID0gMSAtIGM7XG4gICAgICAgICAgICAgICAgeHkgPSB4ICogeTtcbiAgICAgICAgICAgICAgICB5eiA9IHkgKiB6O1xuICAgICAgICAgICAgICAgIHp4ID0geiAqIHg7XG4gICAgICAgICAgICAgICAgeHMgPSB4ICogcztcbiAgICAgICAgICAgICAgICB5cyA9IHkgKiBzO1xuICAgICAgICAgICAgICAgIHpzID0geiAqIHM7XG5cbiAgICAgICAgICAgICAgICBlWyAwXSA9IHgqeCpuYyArICBjO1xuICAgICAgICAgICAgICAgIGVbIDFdID0geHkgKm5jICsgenM7XG4gICAgICAgICAgICAgICAgZVsgMl0gPSB6eCAqbmMgLSB5cztcbiAgICAgICAgICAgICAgICBlWyAzXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBlWyA0XSA9IHh5ICpuYyAtIHpzO1xuICAgICAgICAgICAgICAgIGVbIDVdID0geSp5Km5jICsgIGM7XG4gICAgICAgICAgICAgICAgZVsgNl0gPSB5eiAqbmMgKyB4cztcbiAgICAgICAgICAgICAgICBlWyA3XSA9IDA7XG5cbiAgICAgICAgICAgICAgICBlWyA4XSA9IHp4ICpuYyArIHlzO1xuICAgICAgICAgICAgICAgIGVbIDldID0geXogKm5jIC0geHM7XG4gICAgICAgICAgICAgICAgZVsxMF0gPSB6KnoqbmMgKyAgYztcbiAgICAgICAgICAgICAgICBlWzExXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBlWzEyXSA9IDA7XG4gICAgICAgICAgICAgICAgZVsxM10gPSAwO1xuICAgICAgICAgICAgICAgIGVbMTRdID0gMDtcbiAgICAgICAgICAgICAgICBlWzE1XSA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRoZSBtYXRyaXggZm9yIHJvdGF0aW9uIGZyb20gdGhlIHJpZ2h0LlxuICAgICAgICAgKiBUaGUgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMgbWF5IG5vdCBiZSBub3JtYWxpemVkLlxuICAgICAgICAgKiBAcGFyYW0gYW5nbGUgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIChkZWdyZWVzKVxuICAgICAgICAgKiBAcGFyYW0geCBUaGUgWCBjb29yZGluYXRlIG9mIHZlY3RvciBvZiByb3RhdGlvbiBheGlzLlxuICAgICAgICAgKiBAcGFyYW0geSBUaGUgWSBjb29yZGluYXRlIG9mIHZlY3RvciBvZiByb3RhdGlvbiBheGlzLlxuICAgICAgICAgKiBAcGFyYW0geiBUaGUgWiBjb29yZGluYXRlIG9mIHZlY3RvciBvZiByb3RhdGlvbiBheGlzLlxuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyByb3RhdGUgKGFuZ2xlLCB2ZWN0b3IzOlZlY3RvcjMpOiBNYXRyaXg0O1xuICAgICAgICBwdWJsaWMgcm90YXRlIChhbmdsZSwgeCwgeSwgeik6IE1hdHJpeDQ7XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZSAoLi4uYXJncyk6IE1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gYXJnc1swXTtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCB2ZWN0b3IzID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlNYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRSb3RhdGUoYW5nbGUsIHZlY3RvcjMudmFsdWVzWzBdLCB2ZWN0b3IzLnZhbHVlc1sxXSwgdmVjdG9yMy52YWx1ZXNbMl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDQpe1xuICAgICAgICAgICAgICAgIGxldCB4ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgeSA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHogPSBhcmdzWzNdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU1hdHJpeChNYXRyaXg0LmNyZWF0ZSgpLnNldFJvdGF0ZShhbmdsZSwgeCwgeSwgeikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG1hdHJpeCBmb3Igc2NhbGluZy5cbiAgICAgICAgICogQHBhcmFtIHggVGhlIHNjYWxlIGZhY3RvciBhbG9uZyB0aGUgWCBheGlzXG4gICAgICAgICAqIEBwYXJhbSB5IFRoZSBzY2FsZSBmYWN0b3IgYWxvbmcgdGhlIFkgYXhpc1xuICAgICAgICAgKiBAcGFyYW0geiBUaGUgc2NhbGUgZmFjdG9yIGFsb25nIHRoZSBaIGF4aXNcbiAgICAgICAgICogQHJldHVybiB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0U2NhbGUgKHgsIHksIHopOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIGVbMF0gPSB4OyAgZVs0XSA9IDA7ICBlWzhdICA9IDA7ICBlWzEyXSA9IDA7XG4gICAgICAgICAgICBlWzFdID0gMDsgIGVbNV0gPSB5OyAgZVs5XSAgPSAwOyAgZVsxM10gPSAwO1xuICAgICAgICAgICAgZVsyXSA9IDA7ICBlWzZdID0gMDsgIGVbMTBdID0gejsgIGVbMTRdID0gMDtcbiAgICAgICAgICAgIGVbM10gPSAwOyAgZVs3XSA9IDA7ICBlWzExXSA9IDA7ICBlWzE1XSA9IDE7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdWx0aXBseSB0aGUgbWF0cml4IGZvciBzY2FsaW5nIGZyb20gdGhlIHJpZ2h0LlxuICAgICAgICAgKiBAcGFyYW0geCBUaGUgc2NhbGUgZmFjdG9yIGFsb25nIHRoZSBYIGF4aXNcbiAgICAgICAgICogQHBhcmFtIHkgVGhlIHNjYWxlIGZhY3RvciBhbG9uZyB0aGUgWSBheGlzXG4gICAgICAgICAqIEBwYXJhbSB6IFRoZSBzY2FsZSBmYWN0b3IgYWxvbmcgdGhlIFogYXhpc1xuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzY2FsZSAoeCwgeSwgeik6TWF0cml4NCB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0cml4KE1hdHJpeDQuY3JlYXRlKCkuc2V0U2NhbGUoeCwgeSwgeikpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRMb29rQXQgKGV5ZTpWZWN0b3IzLCBjZW50ZXI6VmVjdG9yMywgdXA6VmVjdG9yMyk6TWF0cml4NDtcbiAgICAgICAgcHVibGljIHNldExvb2tBdCAoZXllWDpudW1iZXIsIGV5ZVk6bnVtYmVyLCBleWVaOm51bWJlciwgY2VudGVyWDpudW1iZXIsIGNlbnRlclk6bnVtYmVyLCBjZW50ZXJaOm51bWJlciwgdXBYOm51bWJlciwgdXBZOm51bWJlciwgdXBaOm51bWJlcik6TWF0cml4NDtcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0TG9va0F0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHRoZSBzcGVjaWZpZWQgbWF0cml4IHRvIGEgdmlld2luZyBtYXRyaXggZGVyaXZlZCBmcm9tIGFuIGV5ZSBwb2ludCwgYSB0YXJnZXQgcG9pbnRcbiAgICAgICAgICogYW5kIGFuIHVwIHZlY3Rvci4gVGhlIG1hdHJpeCBtYXBzIHRoZSB0YXJnZXQgcG9pbnQgdG8gdGhlIG5lZ2F0aXZlIHotYXhpcyBhbmQgdGhlIGV5ZSBwb2ludCB0byB0aGVcbiAgICAgICAgICogb3JpZ2luLCBzbyB0aGF0IHdoZW4geW91IHVzZSBhIHR5cGljYWwgcHJvamVjdGlvbiBtYXRyaXgsIHRoZSBjZW50ZXIgb2YgdGhlIHNjZW5lIG1hcHMgdG8gdGhlIGNlbnRlclxuICAgICAgICAgKiBvZiB0aGUgdmlld3BvcnQuIFNpbWlsYXJseSwgdGhlIGRpcmVjdGlvbiBkZXNjcmliZWQgYnkgdGhlIHVwIHZlY3RvciBwcm9qZWN0ZWQgb250byB0aGUgdmlld2luZyBwbGFuZVxuICAgICAgICAgKiBpcyBtYXBwZWQgdG8gdGhlIHBvc2l0aXZlIHktYXhpcyBzbyB0aGF0IGl0IHBvaW50cyB1cHdhcmQgaW4gdGhlIHZpZXdwb3J0LiBUaGUgdXAgdmVjdG9yIG11c3Qgbm90IGJlXG4gICAgICAgICAqIHBhcmFsbGVsIHRvIHRoZSBsaW5lIG9mIHNpZ2h0IGZyb20gdGhlIGV5ZSB0byB0aGUgcmVmZXJlbmNlIHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIDMtZCB2ZWN0b3IgaG9sZGluZyB2aWV3IHBvc2l0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCAzLWQgdmVjdG9yIGhvbGRpbmcgcmVmZXJlbmNlIHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IHVwIDMtZCB2ZWN0b3IgaG9sZGluZyB0aGUgdXAgZGlyZWN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7TWF0NH0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0TG9va0F0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB4LCB5LCB6LFxuICAgICAgICAgICAgICAgIGV5ZSwgY2VudGVyLCB1cDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGV5ZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY2VudGVyID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB1cCA9IGFyZ3NbMl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDkpe1xuICAgICAgICAgICAgICAgIGV5ZSA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICAgIGNlbnRlciA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgICAgICAgIHVwID0gVmVjdG9yMy5jcmVhdGUoYXJnc1s2XSwgYXJnc1s3XSwgYXJnc1s4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ID0gVmVjdG9yMy5jcmVhdGUoKTtcblxuICAgICAgICAgICAgeiA9IGV5ZS5jb3B5KCkuc3ViKGNlbnRlcikubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIHkgPSB1cC5jb3B5KCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB4LmNyb3NzKHksIHopLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgeS5jcm9zcyh6LCB4KTtcblxuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgclswXSAgPSB4Lng7XG4gICAgICAgICAgICByWzFdICA9IHgueTtcbiAgICAgICAgICAgIHJbMl0gID0geC56O1xuICAgICAgICAgICAgclszXSAgPSAwO1xuICAgICAgICAgICAgcls0XSAgPSB5Lng7XG4gICAgICAgICAgICByWzVdICA9IHkueTtcbiAgICAgICAgICAgIHJbNl0gID0geS56O1xuICAgICAgICAgICAgcls3XSAgPSAwO1xuICAgICAgICAgICAgcls4XSAgPSB6Lng7XG4gICAgICAgICAgICByWzldICA9IHoueTtcbiAgICAgICAgICAgIHJbMTBdID0gei56O1xuICAgICAgICAgICAgclsxMV0gPSAwO1xuICAgICAgICAgICAgclsxMl0gPSBleWUueDtcbiAgICAgICAgICAgIHJbMTNdID0gZXllLnk7XG4gICAgICAgICAgICByWzE0XSA9IGV5ZS56O1xuICAgICAgICAgICAgclsxNV0gPSAxO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdWx0aXBseSB0aGUgdmlld2luZyBtYXRyaXggZnJvbSB0aGUgcmlnaHQuXG4gICAgICAgICAqIEBwYXJhbSBleWVYLCBleWVZLCBleWVaIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXllIHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0gY2VudGVyWCwgY2VudGVyWSwgY2VudGVyWiBUaGUgcG9zaXRpb24gb2YgdGhlIHJlZmVyZW5jZSBwb2ludC5cbiAgICAgICAgICogQHBhcmFtIHVwWCwgdXBZLCB1cFogVGhlIGRpcmVjdGlvbiBvZiB0aGUgdXAgdmVjdG9yLlxuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBsb29rQXQgKGV5ZTpWZWN0b3IzLCBjZW50ZXI6VmVjdG9yMywgdXA6VmVjdG9yMyk6TWF0cml4NDtcbiAgICAgICAgcHVibGljIGxvb2tBdCAoZXllWDpudW1iZXIsIGV5ZVk6bnVtYmVyLCBleWVaOm51bWJlciwgY2VudGVyWDpudW1iZXIsIGNlbnRlclk6bnVtYmVyLCBjZW50ZXJaOm51bWJlciwgdXBYOm51bWJlciwgdXBZOm51bWJlciwgdXBaOm51bWJlcik6TWF0cml4NDtcblxuICAgICAgICBwdWJsaWMgbG9va0F0ICguLi5hcmdzKTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBNYXRyaXg0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0cml4KG1hdHJpeC5zZXRMb29rQXQuYXBwbHkobWF0cml4LCBhcmdzKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24obGVmdDpudW1iZXIsIHJpZ2h0Om51bWJlciwgYm90dG9tOm51bWJlciwgdG9wOm51bWJlciwgbmVhcjpudW1iZXIsIGZhcjpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KGxlZnQgIT09IHJpZ2h0ICYmIGJvdHRvbSAhPT0gdG9wICYmIG5lYXIgIT09IGZhciwgTG9nLmluZm8uRlVOQ19NVVNUX05PVF9CRShcImZydXN0dW1cIiwgXCJudWxsXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHNldE9ydGhvIChsZWZ0Om51bWJlciwgcmlnaHQ6bnVtYmVyLCBib3R0b206bnVtYmVyLCB0b3A6bnVtYmVyLCBuZWFyOm51bWJlciwgZmFyOm51bWJlcik6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHJ3LFxuICAgICAgICAgICAgICAgIHJoLFxuICAgICAgICAgICAgICAgIHJkO1xuXG4gICAgICAgICAgICBydyA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgICAgICAgICAgIHJoID0gMSAvICh0b3AgLSBib3R0b20pO1xuICAgICAgICAgICAgcmQgPSAxIC8gKGZhciAtIG5lYXIpO1xuXG4gICAgICAgICAgICBlWzBdICA9IDIgKiBydztcbiAgICAgICAgICAgIGVbMV0gID0gMDtcbiAgICAgICAgICAgIGVbMl0gID0gMDtcbiAgICAgICAgICAgIGVbM10gID0gMDtcblxuICAgICAgICAgICAgZVs0XSAgPSAwO1xuICAgICAgICAgICAgZVs1XSAgPSAyICogcmg7XG4gICAgICAgICAgICBlWzZdICA9IDA7XG4gICAgICAgICAgICBlWzddICA9IDA7XG5cbiAgICAgICAgICAgIGVbOF0gID0gMDtcbiAgICAgICAgICAgIGVbOV0gID0gMDtcbiAgICAgICAgICAgIGVbMTBdID0gLTIgKiByZDtcbiAgICAgICAgICAgIGVbMTFdID0gMDtcblxuICAgICAgICAgICAgZVsxMl0gPSAtKHJpZ2h0ICsgbGVmdCkgKiBydztcbiAgICAgICAgICAgIGVbMTNdID0gLSh0b3AgKyBib3R0b20pICogcmg7XG4gICAgICAgICAgICBlWzE0XSA9IC0oZmFyICsgbmVhcikgKiByZDtcbiAgICAgICAgICAgIGVbMTVdID0gMTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb3J0aG8gKGxlZnQ6bnVtYmVyLCByaWdodDpudW1iZXIsIGJvdHRvbTpudW1iZXIsIHRvcDpudW1iZXIsIG5lYXI6bnVtYmVyLCBmYXI6bnVtYmVyKTpNYXRyaXg0e1xuICAgICAgICAgICAgdGhpcy5hcHBseU1hdHJpeChNYXRyaXg0LmNyZWF0ZSgpLnNldE9ydGhvKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggYnkgZm92eSBhbmQgYXNwZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZm92eSBUaGUgYW5nbGUgYmV0d2VlbiB0aGUgdXBwZXIgYW5kIGxvd2VyIHNpZGVzIG9mIHRoZSBmcnVzdHVtLlxuICAgICAgICAgKiBAcGFyYW0gYXNwZWN0IFRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGZydXN0dW0uICh3aWR0aC9oZWlnaHQpXG4gICAgICAgICAqIEBwYXJhbSBuZWFyIFRoZSBkaXN0YW5jZXMgdG8gdGhlIG5lYXJlciBkZXB0aCBjbGlwcGluZyBwbGFuZS4gVGhpcyB2YWx1ZSBtdXN0IGJlIHBsdXMgdmFsdWUuXG4gICAgICAgICAqIEBwYXJhbSBmYXIgVGhlIGRpc3RhbmNlcyB0byB0aGUgZmFydGhlciBkZXB0aCBjbGlwcGluZyBwbGFuZS4gVGhpcyB2YWx1ZSBtdXN0IGJlIHBsdXMgdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZm92eTogbnVtYmVyLCBhc3BlY3Q6bnVtYmVyLCBuZWFyOm51bWJlciwgZmFyOm51bWJlcil7XG4gICAgICAgICAgICBhc3NlcnQobmVhciAhPT0gZmFyICYmIGFzcGVjdCAhPT0gMCwgTG9nLmluZm8uRlVOQ19NVVNUX05PVF9CRShcImZydXN0dW1cIiwgXCJudWxsXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChuZWFyID4gMCwgTG9nLmluZm8uRlVOQ19NVVNUKFwibmVhclwiLCBcIj4gMFwiKSk7XG4gICAgICAgICAgICBhc3NlcnQoZmFyID4gMCwgTG9nLmluZm8uRlVOQ19NVVNUKFwiZmFyXCIsIFwiPiAwXCIpKTtcblxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2V0UGVyc3BlY3RpdmUgKGZvdnk6IG51bWJlciwgYXNwZWN0Om51bWJlciwgbmVhcjpudW1iZXIsIGZhcjpudW1iZXIpOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIHJkID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZm92eSA9IE1hdGguUEkgKiBmb3Z5IC8gMTgwIC8gMjtcblxuICAgICAgICAgICAgcyA9IE1hdGguc2luKGZvdnkpO1xuICAgICAgICAgICAgTG9nLmVycm9yKHMgPT09IDAsIExvZy5pbmZvLkZVTkNfTVVTVF9OT1RfQkUoXCJmcnVzdHVtXCIsIFwibnVsbFwiKSk7XG5cbiAgICAgICAgICAgIHJkID0gMSAvIChmYXIgLSBuZWFyKTtcbiAgICAgICAgICAgIGN0ID0gTWF0aC5jb3MoZm92eSkgLyBzO1xuXG4gICAgICAgICAgICBlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIGVbMF0gID0gY3QgLyBhc3BlY3Q7XG4gICAgICAgICAgICBlWzFdICA9IDA7XG4gICAgICAgICAgICBlWzJdICA9IDA7XG4gICAgICAgICAgICBlWzNdICA9IDA7XG5cbiAgICAgICAgICAgIGVbNF0gID0gMDtcbiAgICAgICAgICAgIGVbNV0gID0gY3Q7XG4gICAgICAgICAgICBlWzZdICA9IDA7XG4gICAgICAgICAgICBlWzddICA9IDA7XG5cbiAgICAgICAgICAgIGVbOF0gID0gMDtcbiAgICAgICAgICAgIGVbOV0gID0gMDtcbiAgICAgICAgICAgIGVbMTBdID0gLShmYXIgKyBuZWFyKSAqIHJkO1xuICAgICAgICAgICAgZVsxMV0gPSAtMTtcblxuICAgICAgICAgICAgZVsxMl0gPSAwO1xuICAgICAgICAgICAgZVsxM10gPSAwO1xuICAgICAgICAgICAgZVsxNF0gPSAtMiAqIG5lYXIgKiBmYXIgKiByZDtcbiAgICAgICAgICAgIGVbMTVdID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGVyc3BlY3RpdmUgKGZvdnk6IG51bWJlciwgYXNwZWN0Om51bWJlciwgbmVhcjpudW1iZXIsIGZhcjpudW1iZXIpOk1hdHJpeDR7XG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0cml4KE1hdHJpeDQuY3JlYXRlKCkuc2V0UGVyc3BlY3RpdmUoZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXBwbHlNYXRyaXggKG90aGVyOk1hdHJpeDQpOk1hdHJpeDR7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYiA9IG90aGVyLmNvcHkoKTtcblxuICAgICAgICAgICAgLy90aGlzLnZhbHVlcyA9IE1hdGhVdGlscy5tdWx0aXBseShhLCBiKTtcbiAgICAgICAgICAgICAgICAvL2IqYe+8jOiAjOS4jeaYr2EqYlxuICAgICAgICAgICAgICAgIC8v6L+Z5piv5Zug5Li65Zyod2ViZ2zkuK3vvIzlkJHph4/mmK/lj7PkuZjnmoTvvIxcbiAgICAgICAgICAgICAgICAvL+atpOWkhOW4jOacm+WdkOagh+WQkemHj+WFiOi/m+ihjHRoaXMudmFsdWVz55qE5Y+Y5o2i77yM54S25ZCO6L+b6KGMb3RoZXIudmFsdWVz55qE5Y+Y5o2i77yM5Zug5q2k6KaBYiph77yM5LuO6ICM5Zyo5Y+z5LmY5ZCR6YeP5pe25Li6YiphKnZlY1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzID0gYi5tdWx0aXBseShhKS52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5KG1hdHJpeDpNYXRyaXg0KTpNYXRyaXg0O1xuICAgICAgICBwdWJsaWMgbXVsdGlwbHkobWF0cml4MTpNYXRyaXg0LCBtYXRyaXgyOk1hdHJpeDQpOk1hdHJpeDQ7XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5KC4uLmFyZ3MpOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIG1hdDEgPSBudWxsLFxuICAgICAgICAgICAgICAgIG1hdDIgPSBudWxsLFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbWF0MSA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgICAgIG1hdDIgPSBhcmdzWzBdLnZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIG1hdDEgPSBhcmdzWzBdLnZhbHVlcztcbiAgICAgICAgICAgICAgICBtYXQyID0gYXJnc1sxXS52YWx1ZXM7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGEgPSBtYXQxWzBdLCBiID0gbWF0MVsxXSwgYyA9IG1hdDFbMl0sIGQgPSBtYXQxWzNdLFxuICAgICAgICAgICAgICAgIGUgPSBtYXQxWzRdLCBmID0gbWF0MVs1XSwgZyA9IG1hdDFbNl0sIGggPSBtYXQxWzddLFxuICAgICAgICAgICAgICAgIGkgPSBtYXQxWzhdLCBqID0gbWF0MVs5XSwgayA9IG1hdDFbMTBdLCBsID0gbWF0MVsxMV0sXG4gICAgICAgICAgICAgICAgbSA9IG1hdDFbMTJdLCBuID0gbWF0MVsxM10sIG8gPSBtYXQxWzE0XSwgcCA9IG1hdDFbMTVdLFxuICAgICAgICAgICAgICAgIEEgPSBtYXQyWzBdLCBCID0gbWF0MlsxXSwgQyA9IG1hdDJbMl0sIEQgPSBtYXQyWzNdLFxuICAgICAgICAgICAgICAgIEUgPSBtYXQyWzRdLCBGID0gbWF0Mls1XSwgRyA9IG1hdDJbNl0sIEggPSBtYXQyWzddLFxuICAgICAgICAgICAgICAgIEkgPSBtYXQyWzhdLCBKID0gbWF0Mls5XSwgSyA9IG1hdDJbMTBdLCBMID0gbWF0MlsxMV0sXG4gICAgICAgICAgICAgICAgTSA9IG1hdDJbMTJdLCBOID0gbWF0MlsxM10sIE8gPSBtYXQyWzE0XSwgUCA9IG1hdDJbMTVdO1xuXG4gICAgICAgICAgICByZXN1bHRbMF0gPSBBICogYSArIEIgKiBlICsgQyAqIGkgKyBEICogbTtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IEEgKiBiICsgQiAqIGYgKyBDICogaiArIEQgKiBuO1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gQSAqIGMgKyBCICogZyArIEMgKiBrICsgRCAqIG87XG4gICAgICAgICAgICByZXN1bHRbM10gPSBBICogZCArIEIgKiBoICsgQyAqIGwgKyBEICogcDtcbiAgICAgICAgICAgIHJlc3VsdFs0XSA9IEUgKiBhICsgRiAqIGUgKyBHICogaSArIEggKiBtO1xuICAgICAgICAgICAgcmVzdWx0WzVdID0gRSAqIGIgKyBGICogZiArIEcgKiBqICsgSCAqIG47XG4gICAgICAgICAgICByZXN1bHRbNl0gPSBFICogYyArIEYgKiBnICsgRyAqIGsgKyBIICogbztcbiAgICAgICAgICAgIHJlc3VsdFs3XSA9IEUgKiBkICsgRiAqIGggKyBHICogbCArIEggKiBwO1xuICAgICAgICAgICAgcmVzdWx0WzhdID0gSSAqIGEgKyBKICogZSArIEsgKiBpICsgTCAqIG07XG4gICAgICAgICAgICByZXN1bHRbOV0gPSBJICogYiArIEogKiBmICsgSyAqIGogKyBMICogbjtcbiAgICAgICAgICAgIHJlc3VsdFsxMF0gPSBJICogYyArIEogKiBnICsgSyAqIGsgKyBMICogbztcbiAgICAgICAgICAgIHJlc3VsdFsxMV0gPSBJICogZCArIEogKiBoICsgSyAqIGwgKyBMICogcDtcbiAgICAgICAgICAgIHJlc3VsdFsxMl0gPSBNICogYSArIE4gKiBlICsgTyAqIGkgKyBQICogbTtcbiAgICAgICAgICAgIHJlc3VsdFsxM10gPSBNICogYiArIE4gKiBmICsgTyAqIGogKyBQICogbjtcbiAgICAgICAgICAgIHJlc3VsdFsxNF0gPSBNICogYyArIE4gKiBnICsgTyAqIGsgKyBQICogbztcbiAgICAgICAgICAgIHJlc3VsdFsxNV0gPSBNICogZCArIE4gKiBoICsgTyAqIGwgKyBQICogcDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHlWZWN0b3I0KHZlY3RvcjpWZWN0b3I0KTpWZWN0b3I0IHtcbiAgICAgICAgICAgIHZhciBtYXQxID0gdGhpcy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgdmVjNCA9IHZlY3Rvci52YWx1ZXM7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIHJlc3VsdFswXSA9IHZlYzRbMF0gKiBtYXQxWzBdICsgdmVjNFsxXSAqIG1hdDFbNF0gKyB2ZWM0WzJdICogbWF0MVs4XSArIHZlYzRbM10gKiBtYXQxWzEyXTtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IHZlYzRbMF0gKiBtYXQxWzFdICsgdmVjNFsxXSAqIG1hdDFbNV0gKyB2ZWM0WzJdICogbWF0MVs5XSArIHZlYzRbM10gKiBtYXQxWzEzXTtcbiAgICAgICAgICAgIHJlc3VsdFsyXSA9IHZlYzRbMF0gKiBtYXQxWzJdICsgdmVjNFsxXSAqIG1hdDFbNl0gKyB2ZWM0WzJdICogbWF0MVsxMF0gKyB2ZWM0WzNdICogbWF0MVsxNF07XG4gICAgICAgICAgICByZXN1bHRbM10gPSB2ZWM0WzBdICogbWF0MVszXSArIHZlYzRbMV0gKiBtYXQxWzddICsgdmVjNFsyXSAqIG1hdDFbMTFdICsgdmVjNFszXSAqIG1hdDFbMTVdO1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yNC5jcmVhdGUocmVzdWx0WzBdLCByZXN1bHRbMV0sIHJlc3VsdFsyXSwgcmVzdWx0WzNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVZlY3RvcjModmVjdG9yOlZlY3RvcjMpOlZlY3RvcjMge1xuICAgICAgICAgICAgdmFyIG1hdDEgPSB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB2ZWMzID0gdmVjdG9yLnZhbHVlcztcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgcmVzdWx0WzBdID0gdmVjM1swXSAqIG1hdDFbMF0gKyB2ZWMzWzFdICogbWF0MVs0XSArIHZlYzNbMl0gKiBtYXQxWzhdO1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gdmVjM1swXSAqIG1hdDFbMV0gKyB2ZWMzWzFdICogbWF0MVs1XSArIHZlYzNbMl0gKiBtYXQxWzldO1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gdmVjM1swXSAqIG1hdDFbMl0gKyB2ZWMzWzFdICogbWF0MVs2XSArIHZlYzNbMl0gKiBtYXQxWzEwXTtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHJlc3VsdFswXSwgcmVzdWx0WzFdLCByZXN1bHRbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5UG9pbnQodmVjdG9yOlZlY3RvcjMpOlZlY3RvcjMge1xuICAgICAgICAgICAgdmFyIG1hdDEgPSB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB2ZWMzID0gdmVjdG9yLnZhbHVlcztcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgcmVzdWx0WzBdID0gdmVjM1swXSAqIG1hdDFbMF0gKyB2ZWMzWzFdICogbWF0MVs0XSArIHZlYzNbMl0gKiBtYXQxWzhdICsgbWF0MVsxMl07XG4gICAgICAgICAgICByZXN1bHRbMV0gPSB2ZWMzWzBdICogbWF0MVsxXSArIHZlYzNbMV0gKiBtYXQxWzVdICsgdmVjM1syXSAqIG1hdDFbOV0gKyBtYXQxWzEzXTtcbiAgICAgICAgICAgIHJlc3VsdFsyXSA9IHZlYzNbMF0gKiBtYXQxWzJdICsgdmVjM1sxXSAqIG1hdDFbNl0gKyB2ZWMzWzJdICogbWF0MVsxMF0gKyBtYXQxWzE0XTtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHJlc3VsdFswXSwgcmVzdWx0WzFdLCByZXN1bHRbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKTogTWF0cml4NHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBNYXRyaXg0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMudmFsdWVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbaV0gPSB0aGlzLnZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFgoKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh0aGlzLnZhbHVlc1swXSwgdGhpcy52YWx1ZXNbMV0sIHRoaXMudmFsdWVzWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRZKCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUodGhpcy52YWx1ZXNbNF0sIHRoaXMudmFsdWVzWzVdLCB0aGlzLnZhbHVlc1s2XSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Wigpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHRoaXMudmFsdWVzWzhdLCB0aGlzLnZhbHVlc1s5XSwgdGhpcy52YWx1ZXNbMTBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRUcmFuc2xhdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh0aGlzLnZhbHVlc1sxMl0sIHRoaXMudmFsdWVzWzEzXSwgdGhpcy52YWx1ZXNbMTRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTY2FsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh0aGlzLmdldFgoKS5sZW5ndGgoKSwgdGhpcy5nZXRZKCkubGVuZ3RoKCksIHRoaXMuZ2V0WigpLmxlbmd0aCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRSb3RhdGlvbigpIHtcbiAgICAgICAgICAgIC8vcmV0dXJuIFF1YXRlcm5pb24uY3JlYXRlKCkuc2V0RnJvbUV1bGVyQW5nbGVzKHRoaXMuZ2V0RXVsZXJBbmdsZXMoKSk7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5jcmVhdGUoKS5zZXRGcm9tTWF0cml4KHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldEV1bGVyQW5nbGVzKCkge1xuICAgICAgICAgICAgdmFyIHgsIHksIHosIHN4LCBzeSwgc3osIG0sIGhhbGZQaTtcbiAgICAgICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcblxuICAgICAgICAgICAgc3ggPSBzY2FsZS54O1xuICAgICAgICAgICAgc3kgPSBzY2FsZS55O1xuICAgICAgICAgICAgc3ogPSBzY2FsZS56O1xuXG4gICAgICAgICAgICBtID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHkgPSBNYXRoLmFzaW4oLW1bMl0gLyBzeCk7XG4gICAgICAgICAgICBoYWxmUGkgPSBNYXRoLlBJICogMC41O1xuXG4gICAgICAgICAgICBpZiAoeSA8IGhhbGZQaSkge1xuICAgICAgICAgICAgICAgIGlmICh5ID4gLWhhbGZQaSkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gTWF0aC5hdGFuMihtWzZdIC8gc3ksIG1bMTBdIC8gc3opO1xuICAgICAgICAgICAgICAgICAgICB6ID0gTWF0aC5hdGFuMihtWzFdIC8gc3gsIG1bMF0gLyBzeCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90IGEgdW5pcXVlIHNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgIHogPSAwO1xuICAgICAgICAgICAgICAgICAgICB4ID0gLU1hdGguYXRhbjIobVs0XSAvIHN5LCBtWzVdIC8gc3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgdW5pcXVlIHNvbHV0aW9uXG4gICAgICAgICAgICAgICAgeiA9IDA7XG4gICAgICAgICAgICAgICAgeCA9IE1hdGguYXRhbjIobVs0XSAvIHN5LCBtWzVdIC8gc3kpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoeCwgeSwgeikuc2NhbGUoUkFEX1RPX0RFRyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldFRSU1xuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2V0cyB0aGUgc3BlY2lmaWVkIG1hdHJpeCB0byB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhIHRyYW5zbGF0aW9uLCBhXG4gICAgICAgICAqIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIGEgc2NhbGUuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gdCBBIDMtZCB2ZWN0b3IgdHJhbnNsYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UXVhdH0gciBBIHF1YXRlcm5pb24gcm90YXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gcyBBIDMtZCB2ZWN0b3Igc2NhbGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtNYXQ0fSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHQgPSBuZXcgVmVjMygxMCwgMjAsIDMwKTtcbiAgICAgICAgICogdmFyIHIgPSBuZXcgUXVhdCgpO1xuICAgICAgICAgKiB2YXIgcyA9IG5ldyBWZWMzKDIsIDIsIDIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiB2YXIgbSA9IG5ldyBNYXQ0KCk7XG4gICAgICAgICAqIG0uc2V0VFJTKHQsIHIsIHMpO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldFRSUyh0OlZlY3RvcjMsIHI6UXVhdGVybmlvbiwgczpWZWN0b3IzKSB7XG4gICAgICAgICAgICB2YXIgdHgsIHR5LCB0eiwgcXgsIHF5LCBxeiwgcXcsIHN4LCBzeSwgc3osXG4gICAgICAgICAgICAgICAgeDIsIHkyLCB6MiwgeHgsIHh5LCB4eiwgeXksIHl6LCB6eiwgd3gsIHd5LCB3eiwgbTtcblxuICAgICAgICAgICAgdHggPSB0Lng7XG4gICAgICAgICAgICB0eSA9IHQueTtcbiAgICAgICAgICAgIHR6ID0gdC56O1xuXG4gICAgICAgICAgICBxeCA9IHIueDtcbiAgICAgICAgICAgIHF5ID0gci55O1xuICAgICAgICAgICAgcXogPSByLno7XG4gICAgICAgICAgICBxdyA9IHIudztcblxuICAgICAgICAgICAgc3ggPSBzLng7XG4gICAgICAgICAgICBzeSA9IHMueTtcbiAgICAgICAgICAgIHN6ID0gcy56O1xuXG4gICAgICAgICAgICB4MiA9IHF4ICsgcXg7XG4gICAgICAgICAgICB5MiA9IHF5ICsgcXk7XG4gICAgICAgICAgICB6MiA9IHF6ICsgcXo7XG4gICAgICAgICAgICB4eCA9IHF4ICogeDI7XG4gICAgICAgICAgICB4eSA9IHF4ICogeTI7XG4gICAgICAgICAgICB4eiA9IHF4ICogejI7XG4gICAgICAgICAgICB5eSA9IHF5ICogeTI7XG4gICAgICAgICAgICB5eiA9IHF5ICogejI7XG4gICAgICAgICAgICB6eiA9IHF6ICogejI7XG4gICAgICAgICAgICB3eCA9IHF3ICogeDI7XG4gICAgICAgICAgICB3eSA9IHF3ICogeTI7XG4gICAgICAgICAgICB3eiA9IHF3ICogejI7XG5cbiAgICAgICAgICAgIG0gPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgbVswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICAgICAgICAgICAgbVsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICAgICAgICAgICAgbVsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICAgICAgICAgICAgbVszXSA9IDA7XG5cbiAgICAgICAgICAgIG1bNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgICAgICAgICAgIG1bNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgICAgICAgICAgIG1bNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgICAgICAgICAgIG1bN10gPSAwO1xuXG4gICAgICAgICAgICBtWzhdID0gKHh6ICsgd3kpICogc3o7XG4gICAgICAgICAgICBtWzldID0gKHl6IC0gd3gpICogc3o7XG4gICAgICAgICAgICBtWzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICAgICAgICAgICAgbVsxMV0gPSAwO1xuXG4gICAgICAgICAgICBtWzEyXSA9IHR4O1xuICAgICAgICAgICAgbVsxM10gPSB0eTtcbiAgICAgICAgICAgIG1bMTRdID0gdHo7XG4gICAgICAgICAgICBtWzE1XSA9IDE7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTWF0cml4MyB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1hdDpGbG9hdDMyQXJyYXkpOk1hdHJpeDM7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6TWF0cml4MztcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSguLi5hcmdzKTpNYXRyaXgzIHtcbiAgICAgICAgICAgIHZhciBtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoYXJnc1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IobWF0OkZsb2F0MzJBcnJheSk7XG4gICAgICAgIGNvbnN0cnVjdG9yKCk7XG5cbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgYSgpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGEoYTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSBhO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGMoKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjKGM6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gYztcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBiKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1szXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYihiOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1szXSA9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZCgpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbNF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGQoZDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbNF0gPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHR4KCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1s2XTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdHgodHg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzZdID0gdHg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdHkoKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzddO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0eSh0eTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbN10gPSB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2YWx1ZXM6RmxvYXQzMkFycmF5ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc2V0SWRlbnRpdHkoKTpNYXRyaXgzIHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIGVbMF0gPSAxO1xuICAgICAgICAgICAgZVszXSA9IDA7XG4gICAgICAgICAgICBlWzZdID0gMDtcbiAgICAgICAgICAgIGVbMV0gPSAwO1xuICAgICAgICAgICAgZVs0XSA9IDE7XG4gICAgICAgICAgICBlWzddID0gMDtcbiAgICAgICAgICAgIGVbMl0gPSAwO1xuICAgICAgICAgICAgZVs1XSA9IDA7XG4gICAgICAgICAgICBlWzhdID0gMTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW52ZXJ0KCk6TWF0cml4MyB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLnZhbHVlc1swXTtcbiAgICAgICAgICAgIHZhciBiMSA9IHRoaXMudmFsdWVzWzFdO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy52YWx1ZXNbM107XG4gICAgICAgICAgICB2YXIgZDEgPSB0aGlzLnZhbHVlc1s0XTtcbiAgICAgICAgICAgIHZhciB0eDEgPSB0aGlzLnZhbHVlc1s2XTtcbiAgICAgICAgICAgIHZhciB0eTEgPSB0aGlzLnZhbHVlc1s3XTtcbiAgICAgICAgICAgIHZhciBuID0gYTEqZDEtYjEqYzE7XG5cbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gZDEvbjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gLWIxL247XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1szXSA9IC1jMS9uO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbNF0gPSBhMS9uO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbNl0gPSAoYzEqdHkxLWQxKnR4MSkvbjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzddID0gLShhMSp0eTEtYjEqdHgxKS9uO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVNjYWxhcihzOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIHRlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHRlWzBdICo9IHM7XG4gICAgICAgICAgICB0ZVszXSAqPSBzO1xuICAgICAgICAgICAgdGVbNl0gKj0gcztcbiAgICAgICAgICAgIHRlWzFdICo9IHM7XG4gICAgICAgICAgICB0ZVs0XSAqPSBzO1xuICAgICAgICAgICAgdGVbN10gKj0gcztcbiAgICAgICAgICAgIHRlWzJdICo9IHM7XG4gICAgICAgICAgICB0ZVs1XSAqPSBzO1xuICAgICAgICAgICAgdGVbOF0gKj0gcztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHlWZWN0b3IyKCB2ZWN0b3I6VmVjdG9yMiApIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVjdG9yLngsXG4gICAgICAgICAgICAgICAgeSA9IHZlY3Rvci55LFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFZlY3RvcjIuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgZSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICByZXN1bHQueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5O1xuICAgICAgICAgICAgcmVzdWx0LnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVBvaW50KCB2ZWN0b3I6VmVjdG9yMiApIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVjdG9yLngsXG4gICAgICAgICAgICAgICAgeSA9IHZlY3Rvci55LFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFZlY3RvcjIuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgZSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICByZXN1bHQueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgdGhpcy50eDtcbiAgICAgICAgICAgIHJlc3VsdC55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5KG1hdHJpeDpNYXRyaXgzKSB7XG4gICAgICAgICAgICB2YXIgbTExID0gdGhpcy5hICogbWF0cml4LmEgKyB0aGlzLmMgKiBtYXRyaXguYjtcbiAgICAgICAgICAgIHZhciBtMTIgPSB0aGlzLmIgKiBtYXRyaXguYSArIHRoaXMuZCAqIG1hdHJpeC5iO1xuXG4gICAgICAgICAgICB2YXIgbTIxID0gdGhpcy5hICogbWF0cml4LmMgKyB0aGlzLmMgKiBtYXRyaXguZDtcbiAgICAgICAgICAgIHZhciBtMjIgPSB0aGlzLmIgKiBtYXRyaXguYyArIHRoaXMuZCAqIG1hdHJpeC5kO1xuXG4gICAgICAgICAgICB2YXIgZHggPSB0aGlzLmEgKiBtYXRyaXgudHggKyB0aGlzLmMgKiBtYXRyaXgudHkgKyB0aGlzLnR4O1xuICAgICAgICAgICAgdmFyIGR5ID0gdGhpcy5iICogbWF0cml4LnR4ICsgdGhpcy5kICogbWF0cml4LnR5ICsgdGhpcy50eTtcblxuICAgICAgICAgICAgdGhpcy5hID0gbTExO1xuICAgICAgICAgICAgdGhpcy5iID0gbTEyO1xuICAgICAgICAgICAgdGhpcy5jID0gbTIxO1xuICAgICAgICAgICAgdGhpcy5kID0gbTIyO1xuICAgICAgICAgICAgdGhpcy50eCA9IGR4O1xuICAgICAgICAgICAgdGhpcy50eSA9IGR5O1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmFuc3Bvc2UoKTpNYXRyaXgzIHtcbiAgICAgICAgICAgIHZhciB0bXAsIG0gPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgdG1wID0gbVsxXTtcbiAgICAgICAgICAgIG1bMV0gPSBtWzNdO1xuICAgICAgICAgICAgbVszXSA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IG1bMl07XG4gICAgICAgICAgICBtWzJdID0gbVs2XTtcbiAgICAgICAgICAgIG1bNl0gPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSBtWzVdO1xuICAgICAgICAgICAgbVs1XSA9IG1bN107XG4gICAgICAgICAgICBtWzddID0gdG1wO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdHJpeDMuY3JlYXRlKCkuc2V0KHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldChtYXRyaXg6TWF0cml4Mykge1xuICAgICAgICAgICAgdmFyIHRlID0gdGhpcy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gbWF0cml4LnZhbHVlcztcblxuICAgICAgICAgICAgdGVbIDAgXSA9IHZhbHVlc1swXTsgdGVbIDMgXSA9IHZhbHVlc1szXTsgdGVbIDYgXSA9IHZhbHVlc1s2XTtcbiAgICAgICAgICAgIHRlWyAxIF0gPSB2YWx1ZXNbMV07IHRlWyA0IF0gPSB2YWx1ZXNbNF07IHRlWyA3IF0gPSB2YWx1ZXNbN107XG4gICAgICAgICAgICB0ZVsgMiBdID0gdmFsdWVzWzJdOyB0ZVsgNSBdID0gdmFsdWVzWzVdOyB0ZVsgOCBdID0gdmFsdWVzWzhdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRUUyh0OlZlY3RvcjIsIHM6VmVjdG9yMil7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHQueCwgdC55KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2NhbGUocy54LCBzLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZShhbmdsZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciByYWQgPSBhbmdsZSAqIERFR19UT19SQUQ7XG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gICAgICAgICAgICB2YXIgbTExID0gdGhpcy5hICogYyArIHRoaXMuYyAqIHM7XG4gICAgICAgICAgICB2YXIgbTEyID0gdGhpcy5iICogYyArIHRoaXMuZCAqIHM7XG4gICAgICAgICAgICB2YXIgbTIxID0gdGhpcy5hICogLXMgKyB0aGlzLmMgKiBjO1xuICAgICAgICAgICAgdmFyIG0yMiA9IHRoaXMuYiAqIC1zICsgdGhpcy5kICogYztcbiAgICAgICAgICAgIHRoaXMuYSA9IG0xMTtcbiAgICAgICAgICAgIHRoaXMuYiA9IG0xMjtcbiAgICAgICAgICAgIHRoaXMuYyA9IG0yMTtcbiAgICAgICAgICAgIHRoaXMuZCA9IG0yMjtcblxuICAgICAgICAgICAgLy92YXIgcmFkID0gYW5nbGUgKiBERUdfVE9fUkFEO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFyIGNvc19hID0gTWF0aC5jb3MocmFkKTtcbiAgICAgICAgICAgIC8vdmFyIHNpbl9hID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YXIgbTAwID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgLy92YXIgbTEwID0gdmFsdWVzWzFdO1xuICAgICAgICAgICAgLy92YXIgbTIwID0gdmFsdWVzWzJdO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFyIG0wMSA9IHZhbHVlc1szXTtcbiAgICAgICAgICAgIC8vdmFyIG0xMSA9IHZhbHVlc1s0XTtcbiAgICAgICAgICAgIC8vdmFyIG0yMSA9IHZhbHVlc1s1XTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhciBtMDIgPSB2YWx1ZXNbNl07XG4gICAgICAgICAgICAvL3ZhciBtMTIgPSB2YWx1ZXNbN107XG4gICAgICAgICAgICAvL3ZhciBtMjIgPSB2YWx1ZXNbOF07XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YWx1ZXNbMF0gPSBjb3NfYSAqIG0wMCAtIHNpbl9hICogbTEwO1xuICAgICAgICAgICAgLy92YWx1ZXNbMV0gPSBzaW5fYSAqIG0wMCArIGNvc19hICogbTEwO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFsdWVzWzNdID0gY29zX2EgKiBtMDEgLSBzaW5fYSAqIG0xMTtcbiAgICAgICAgICAgIC8vdmFsdWVzWzRdID0gc2luX2EgKiBtMDEgKyBjb3NfYSAqIG0xMTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhbHVlc1s2XSA9IGNvc19hICogbTAyIC0gc2luX2EgKiBtMTI7XG4gICAgICAgICAgICAvL3ZhbHVlc1s3XSA9IHNpbl9hICogbTAyICsgY29zX2EgKiBtMTI7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFJvdGF0aW9uKGFuZ2xlOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgcmFkID0gYW5nbGUgKiBERUdfVE9fUkFEO1xuXG4gICAgICAgICAgICB2YXIgY29zX2EgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgICAgICAgdmFyIHNpbl9hID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgLy92YWx1ZXNbMF0gPSBjb3NfYTtcbiAgICAgICAgICAgIC8vdmFsdWVzWzFdID0gc2luX2E7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YWx1ZXNbM10gPSAtc2luX2E7XG4gICAgICAgICAgICAvL3ZhbHVlc1s0XSA9IGNvc19hO1xuICAgICAgICAgICAgdmFsdWVzWzBdID0gY29zX2E7XG4gICAgICAgICAgICB2YWx1ZXNbMV0gPSAtc2luX2E7XG5cbiAgICAgICAgICAgIHZhbHVlc1szXSA9IHNpbl9hO1xuICAgICAgICAgICAgdmFsdWVzWzRdID0gY29zX2E7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZSh4Om51bWJlciwgeTpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMudHggKz0gdGhpcy5hICogeCArIHRoaXMuYyAqIHk7XG4gICAgICAgICAgICB0aGlzLnR5ICs9IHRoaXMuYiAqIHggKyB0aGlzLmQgKiB5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFBvc2l0aW9uKHg6bnVtYmVyLCB5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnR4ID0geDtcbiAgICAgICAgICAgIHRoaXMudHkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNjYWxlKHg6bnVtYmVyLCB5Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5hICo9IHg7XG4gICAgICAgICAgICB0aGlzLmIgKj0geDtcbiAgICAgICAgICAgIHRoaXMuYyAqPSB5O1xuICAgICAgICAgICAgdGhpcy5kICo9IHk7XG5cbiAgICAgICAgICAgIC8vdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFsdWVzWzBdICo9IHg7XG4gICAgICAgICAgICAvL3ZhbHVlc1sxXSAqPSB4O1xuICAgICAgICAgICAgLy92YWx1ZXNbMl0gKj0geDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhbHVlc1szXSAqPSB5O1xuICAgICAgICAgICAgLy92YWx1ZXNbNF0gKj0geTtcbiAgICAgICAgICAgIC8vdmFsdWVzWzVdICo9IHk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2NhbGUoeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgdmFsdWVzWzBdID0geDtcbiAgICAgICAgICAgIHZhbHVlc1s0XSA9IHk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFRyYW5zbGF0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodGhpcy50eCwgdGhpcy50eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0U2NhbGUoKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBNYXRoLnNxcnQodGhpcy5hICogdGhpcy5hICsgdGhpcy5iICogdGhpcy5iKSxcbiAgICAgICAgICAgICAgICBNYXRoLnNxcnQodGhpcy5jICogdGhpcy5jICsgdGhpcy5kICogdGhpcy5kKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRSb3RhdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNrZXdYKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0U2tldygpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjIuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFNrZXdYKCksXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2tld1koKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldERlbHRhVHJhbnNmb3JtUG9pbnQobWF0cml4Ok1hdHJpeDMsIHBvaW50Ont4Om51bWJlciwgeTpudW1iZXJ9KSAge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC54ICogbWF0cml4LmEgKyBwb2ludC55ICogbWF0cml4LmMgKyAwLFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnggKiBtYXRyaXguYiArIHBvaW50LnkgKiBtYXRyaXguZCArIDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRTa2V3WCgpe1xuICAgICAgICAgICAgdmFyIHB4ID0gdGhpcy5fZ2V0RGVsdGFUcmFuc2Zvcm1Qb2ludCh0aGlzLCB7eDogMCwgeTogMX0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKCgxODAgLyBNYXRoLlBJKSAqIE1hdGguYXRhbjIocHgueSwgcHgueCkgLSA5MCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRTa2V3WSgpe1xuICAgICAgICAgICAgdmFyIHB5ID0gdGhpcy5fZ2V0RGVsdGFUcmFuc2Zvcm1Qb2ludCh0aGlzLCB7IHg6IDEsIHk6IDAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoKDE4MCAvIE1hdGguUEkpICogTWF0aC5hdGFuMihweS55LCBweS54KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgUXVhdGVybmlvbiB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHg/Om51bWJlciwgeT86bnVtYmVyLCB6PzpudW1iZXIsIHc/Om51bWJlcikge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHgsIHksIHosIHcpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoeDpudW1iZXIgPSAwLCB5Om51bWJlciA9IDAsIHo6bnVtYmVyID0gMCwgdzpudW1iZXIgPSAxKSB7XG4gICAgICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHo6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHc6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldEZyb21FdWxlckFuZ2xlc1xuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2V0cyBhIHF1YXRlcm5pb24gZnJvbSBFdWxlciBhbmdsZXMgc3BlY2lmaWVkIGluIFhZWiBvcmRlci5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV4IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWCBheGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBleSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFkgYXhpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXogQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBaIGF4aXMgaW4gZGVncmVlcy5cbiAgICAgICAgICogQHJldHVybnMge1F1YXR9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgcSA9IG5ldyBRdWF0KCk7XG4gICAgICAgICAqIHEuc2V0RnJvbUV1bGVyQW5nbGVzKDQ1LCA5MCwgMTgwKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tRXVsZXJBbmdsZXMoZXVsZXJBbmdsZXM6VmVjdG9yMykge1xuICAgICAgICAgICAgdmFyIHN4LCBjeCwgc3ksIGN5LCBzeiwgY3osIGhhbGZUb1JhZCxcbiAgICAgICAgICAgICAgICBleCA9IGV1bGVyQW5nbGVzLngsXG4gICAgICAgICAgICAgICAgZXkgPSBldWxlckFuZ2xlcy55LFxuICAgICAgICAgICAgICAgIGV6ID0gZXVsZXJBbmdsZXMuejtcblxuICAgICAgICAgICAgaGFsZlRvUmFkID0gMC41ICogREVHX1RPX1JBRDtcbiAgICAgICAgICAgIGV4ICo9IGhhbGZUb1JhZDtcbiAgICAgICAgICAgIGV5ICo9IGhhbGZUb1JhZDtcbiAgICAgICAgICAgIGV6ICo9IGhhbGZUb1JhZDtcblxuICAgICAgICAgICAgc3ggPSBNYXRoLnNpbihleCk7XG4gICAgICAgICAgICBjeCA9IE1hdGguY29zKGV4KTtcbiAgICAgICAgICAgIHN5ID0gTWF0aC5zaW4oZXkpO1xuICAgICAgICAgICAgY3kgPSBNYXRoLmNvcyhleSk7XG4gICAgICAgICAgICBzeiA9IE1hdGguc2luKGV6KTtcbiAgICAgICAgICAgIGN6ID0gTWF0aC5jb3MoZXopO1xuXG4gICAgICAgICAgICB0aGlzLnggPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gICAgICAgICAgICB0aGlzLnkgPSBjeCAqIHN5ICogY3ogKyBzeCAqIGN5ICogc3o7XG4gICAgICAgICAgICB0aGlzLnogPSBjeCAqIGN5ICogc3ogLSBzeCAqIHN5ICogY3o7XG4gICAgICAgICAgICB0aGlzLncgPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5KHJoczpRdWF0ZXJuaW9uKTtcbiAgICAgICAgcHVibGljIG11bHRpcGx5KHJoczE6UXVhdGVybmlvbiwgcmhzMjpRdWF0ZXJuaW9uKTtcblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHkoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHExeCwgcTF5LCBxMXosIHExdywgcTJ4LCBxMnksIHEyeiwgcTJ3LFxuICAgICAgICAgICAgICAgIHJoczEsIHJoczIsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIHJoczEgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJoczIgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgcmhzMSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgcmhzMiA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHExeCA9IHJoczEueDtcbiAgICAgICAgICAgIHExeSA9IHJoczEueTtcbiAgICAgICAgICAgIHExeiA9IHJoczEuejtcbiAgICAgICAgICAgIHExdyA9IHJoczEudztcblxuICAgICAgICAgICAgcTJ4ID0gcmhzMi54O1xuICAgICAgICAgICAgcTJ5ID0gcmhzMi55O1xuICAgICAgICAgICAgcTJ6ID0gcmhzMi56O1xuICAgICAgICAgICAgcTJ3ID0gcmhzMi53O1xuXG4gICAgICAgICAgICByZXN1bHQueCA9IHExdyAqIHEyeCArIHExeCAqIHEydyArIHExeSAqIHEyeiAtIHExeiAqIHEyeTtcbiAgICAgICAgICAgIHJlc3VsdC55ID0gcTF3ICogcTJ5ICsgcTF5ICogcTJ3ICsgcTF6ICogcTJ4IC0gcTF4ICogcTJ6O1xuICAgICAgICAgICAgcmVzdWx0LnogPSBxMXcgKiBxMnogKyBxMXogKiBxMncgKyBxMXggKiBxMnkgLSBxMXkgKiBxMng7XG4gICAgICAgICAgICByZXN1bHQudyA9IHExdyAqIHEydyAtIHExeCAqIHEyeCAtIHExeSAqIHEyeSAtIHExeiAqIHEyejtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0RnJvbU1hdDRcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgNHg0IG1hdHJpeCB0byBhIHF1YXRlcm5pb24uIE5vdGUgdGhhdCBzaW5jZVxuICAgICAgICAgKiBhIHF1YXRlcm5pb24gaXMgcHVyZWx5IGEgcmVwcmVzZW50YXRpb24gZm9yIG9yaWVudGF0aW9uLCBvbmx5IHRoZSB0cmFuc2xhdGlvbmFsIHBhcnRcbiAgICAgICAgICogb2YgdGhlIG1hdHJpeCBpcyBsb3N0LlxuICAgICAgICAgKiBAcGFyYW0ge01hdDR9IG0gVGhlIDR4NCBtYXRyaXggdG8gY29udmVydC5cbiAgICAgICAgICogQHJldHVybnMge1F1YXR9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDcmVhdGUgYSA0eDQgcm90YXRpb24gbWF0cml4IG9mIDE4MCBkZWdyZWVzIGFyb3VuZCB0aGUgeS1heGlzXG4gICAgICAgICAqIHZhciByb3QgPSBuZXcgTWF0NCgpLnNldEZyb21BeGlzQW5nbGUoVmVjMy5VUCwgMTgwKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gQ29udmVydCB0byBhIHF1YXRlcm5pb25cbiAgICAgICAgICogdmFyIHEgPSBuZXcgUXVhdCgpLnNldEZyb21NYXQ0KHJvdCk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0RnJvbU1hdHJpeChtYXRyaXg6TWF0cml4NCkge1xuICAgICAgICAgICAgdmFyIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIsXG4gICAgICAgICAgICAgICAgdHIsIHMsIHJzLCBseCwgbHksIGx6LCBtO1xuXG4gICAgICAgICAgICBtID0gbWF0cml4LnZhbHVlcztcblxuICAgICAgICAgICAgLy8gQ2FjaGUgbWF0cml4IHZhbHVlcyBmb3Igc3VwZXItc3BlZWRcbiAgICAgICAgICAgIG0wMCA9IG1bMF07XG4gICAgICAgICAgICBtMDEgPSBtWzFdO1xuICAgICAgICAgICAgbTAyID0gbVsyXTtcbiAgICAgICAgICAgIG0xMCA9IG1bNF07XG4gICAgICAgICAgICBtMTEgPSBtWzVdO1xuICAgICAgICAgICAgbTEyID0gbVs2XTtcbiAgICAgICAgICAgIG0yMCA9IG1bOF07XG4gICAgICAgICAgICBtMjEgPSBtWzldO1xuICAgICAgICAgICAgbTIyID0gbVsxMF07XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc2NhbGUgZnJvbSB0aGUgbWF0cml4XG4gICAgICAgICAgICBseCA9IDEgLyBNYXRoLnNxcnQobTAwICogbTAwICsgbTAxICogbTAxICsgbTAyICogbTAyKTtcbiAgICAgICAgICAgIGx5ID0gMSAvIE1hdGguc3FydChtMTAgKiBtMTAgKyBtMTEgKiBtMTEgKyBtMTIgKiBtMTIpO1xuICAgICAgICAgICAgbHogPSAxIC8gTWF0aC5zcXJ0KG0yMCAqIG0yMCArIG0yMSAqIG0yMSArIG0yMiAqIG0yMik7XG5cbiAgICAgICAgICAgIG0wMCAqPSBseDtcbiAgICAgICAgICAgIG0wMSAqPSBseDtcbiAgICAgICAgICAgIG0wMiAqPSBseDtcbiAgICAgICAgICAgIG0xMCAqPSBseTtcbiAgICAgICAgICAgIG0xMSAqPSBseTtcbiAgICAgICAgICAgIG0xMiAqPSBseTtcbiAgICAgICAgICAgIG0yMCAqPSBsejtcbiAgICAgICAgICAgIG0yMSAqPSBsejtcbiAgICAgICAgICAgIG0yMiAqPSBsejtcblxuICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5jcy51Y3IuZWR1L352YnovcmVzb3VyY2VzL3F1YXR1dC5wZGZcblxuICAgICAgICAgICAgdHIgPSBtMDAgKyBtMTEgKyBtMjI7XG4gICAgICAgICAgICBpZiAodHIgPj0gMCkge1xuICAgICAgICAgICAgICAgIHMgPSBNYXRoLnNxcnQodHIgKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLncgPSBzICogMC41O1xuICAgICAgICAgICAgICAgIHMgPSAwLjUgLyBzO1xuICAgICAgICAgICAgICAgIHRoaXMueCA9IChtMTIgLSBtMjEpICogcztcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSAobTIwIC0gbTAyKSAqIHM7XG4gICAgICAgICAgICAgICAgdGhpcy56ID0gKG0wMSAtIG0xMCkgKiBzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobTAwID4gbTExKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtMDAgPiBtMjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFhEaWFnRG9tTWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICBycyA9IChtMDAgLSAobTExICsgbTIyKSkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnMgPSBNYXRoLnNxcnQocnMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBycyAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzID0gMC41IC8gcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLncgPSAobTEyIC0gbTIxKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gKG0wMSArIG0xMCkgKiBycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueiA9IChtMDIgKyBtMjApICogcnM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBaRGlhZ0RvbU1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMgPSAobTIyIC0gKG0wMCArIG0xMSkpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzID0gTWF0aC5zcXJ0KHJzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56ID0gcnMgKiAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBycyA9IDAuNSAvIHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ID0gKG0wMSAtIG0xMCkgKiBycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IChtMjAgKyBtMDIpICogcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSAobTIxICsgbTEyKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtMTEgPiBtMjIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWURpYWdEb21NYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgcnMgPSAobTExIC0gKG0yMiArIG0wMCkpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgcnMgPSBNYXRoLnNxcnQocnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IHJzICogMC41O1xuICAgICAgICAgICAgICAgICAgICBycyA9IDAuNSAvIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLncgPSAobTIwIC0gbTAyKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnogPSAobTEyICsgbTIxKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSAobTEwICsgbTAxKSAqIHJzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFpEaWFnRG9tTWF0cml4XG4gICAgICAgICAgICAgICAgICAgIHJzID0gKG0yMiAtIChtMDAgKyBtMTEpKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHJzID0gTWF0aC5zcXJ0KHJzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnogPSBycyAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgcnMgPSAwLjUgLyBycztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53ID0gKG0wMSAtIG0xMCkgKiBycztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0gKG0yMCArIG0wMikgKiBycztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gKG0yMSArIG0xMikgKiBycztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBzZXRGcm9tQXhpc0FuZ2xlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGEgcXVhdGVybmlvbiBmcm9tIGFuIGFuZ3VsYXIgcm90YXRpb24gYXJvdW5kIGFuIGF4aXMuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gYXhpcyBXb3JsZCBzcGFjZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGUuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtRdWF0fSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHEgPSBuZXcgUXVhdCgpO1xuICAgICAgICAgKiBxLnNldEZyb21BeGlzQW5nbGUoVmVjMy5VUCwgOTApO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldEZyb21BeGlzQW5nbGUoYW5nbGU6bnVtYmVyLCBheGlzOlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciBzYSwgY2E7XG5cbiAgICAgICAgICAgIGF4aXMgPSBheGlzLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICBhbmdsZSAqPSAwLjUgKiBERUdfVE9fUkFEO1xuXG4gICAgICAgICAgICBzYSA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICAgIGNhID0gTWF0aC5jb3MoYW5nbGUpO1xuXG4gICAgICAgICAgICB0aGlzLnggPSBzYSAqIGF4aXMueDtcbiAgICAgICAgICAgIHRoaXMueSA9IHNhICogYXhpcy55O1xuICAgICAgICAgICAgdGhpcy56ID0gc2EgKiBheGlzLno7XG4gICAgICAgICAgICB0aGlzLncgPSBjYTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGludmVydFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2VuZXJhdGVzIHRoZSBpbnZlcnNlIG9mIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbi5cbiAgICAgICAgICogQHJldHVybnMge1F1YXR9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDcmVhdGUgYSBxdWF0ZXJuaW9uIHJvdGF0ZWQgMTgwIGRlZ3JlZXMgYXJvdW5kIHRoZSB5LWF4aXNcbiAgICAgICAgICogdmFyIHJvdCA9IG5ldyBRdWF0KCkuc2V0RnJvbUV1bGVyQW5nbGVzKDAsIDE4MCwgMCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIEludmVydCBpbiBwbGFjZVxuICAgICAgICAgKiByb3QuaW52ZXJ0KCk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgaW52ZXJ0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uanVnYXRlKCkubm9ybWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29uanVnYXRlKCkge1xuICAgICAgICAgICAgdGhpcy54ICo9IC0xO1xuICAgICAgICAgICAgdGhpcy55ICo9IC0xO1xuICAgICAgICAgICAgdGhpcy56ICo9IC0xO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgY2xvbmVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYW4gaWRlbnRpY2FsIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7UXVhdH0gQSBxdWF0ZXJuaW9uIGNvbnRhaW5pbmcgdGhlIHJlc3VsdCBvZiB0aGUgY2xvbmluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHEgPSBuZXcgUXVhdCgtMC4xMSwgLTAuMTUsIC0wLjQ2LCAwLjg3KTtcbiAgICAgICAgICogdmFyIHFjbG9uZSA9IHEuY2xvbmUoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc29sZS5sb2coXCJUaGUgcmVzdWx0IG9mIHRoZSBjbG9uaW5nIGlzOiBcIiArIHEudG9TdHJpbmcoKSk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgY2xvbmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5jcmVhdGUodGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uY3JlYXRlKHRoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMudyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIG5vcm1hbGl6ZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24gY29udmVydGVkIGluIHBsYWNlIHRvIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7UXVhdH0gVGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsaXphdGlvbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHYgPSBuZXcgUXVhdCgwLCAwLCAwLCA1KTtcbiAgICAgICAgICpcbiAgICAgICAgICogdi5ub3JtYWxpemUoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gU2hvdWxkIG91dHB1dCAwLCAwLCAwLCAxXG4gICAgICAgICAqIGNvbnNvbGUubG9nKFwiVGhlIHJlc3VsdCBvZiB0aGUgdmVjdG9yIG5vcm1hbGl6YXRpb24gaXM6IFwiICsgdi50b1N0cmluZygpKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBub3JtYWxpemUoKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGgoKTtcbiAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLnkgPSB0aGlzLnogPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMudyA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxlbiA9IDEgLyBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy54ICo9IGxlbjtcbiAgICAgICAgICAgICAgICB0aGlzLnkgKj0gbGVuO1xuICAgICAgICAgICAgICAgIHRoaXMueiAqPSBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy53ICo9IGxlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGxlbmd0aFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgbWFnbml0dWRlIG9mIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbi5cbiAgICAgICAgICogQHJldHVybnMge051bWJlcn0gVGhlIG1hZ25pdHVkZSBvZiB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHZhciBxID0gbmV3IFF1YXQoMCwgMCwgMCwgNSk7XG4gICAgICAgICAqIHZhciBsZW4gPSBxLmxlbmd0aCgpO1xuICAgICAgICAgKiAvLyBTaG91bGQgb3V0cHV0IDVcbiAgICAgICAgICogY29uc29sZS5sb2coXCJUaGUgbGVuZ3RoIG9mIHRoZSBxdWF0ZXJuaW9uIGlzOiBcIiArIGxlbik7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgbGVuZ3RoKCkge1xuICAgICAgICAgICAgdmFyIHgsIHksIHosIHc7XG5cbiAgICAgICAgICAgIHggPSB0aGlzLng7XG4gICAgICAgICAgICB5ID0gdGhpcy55O1xuICAgICAgICAgICAgeiA9IHRoaXMuejtcbiAgICAgICAgICAgIHcgPSB0aGlzLnc7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHlWZWN0b3IzKHZlY3RvcjpWZWN0b3IzKSB7XG4gICAgICAgICAgICB2YXIgcSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgeCA9IHZlY3Rvci54O1xuICAgICAgICAgICAgdmFyIHkgPSB2ZWN0b3IueTtcbiAgICAgICAgICAgIHZhciB6ID0gdmVjdG9yLno7XG5cbiAgICAgICAgICAgIHZhciBxeCA9IHEueDtcbiAgICAgICAgICAgIHZhciBxeSA9IHEueTtcbiAgICAgICAgICAgIHZhciBxeiA9IHEuejtcbiAgICAgICAgICAgIHZhciBxdyA9IHEudztcblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcblxuICAgICAgICAgICAgdmFyIGl4ID0gIHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgICAgICAgICAgIHZhciBpeSA9ICBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gICAgICAgICAgICB2YXIgaXogPSAgcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICAgICAgICAgICAgdmFyIGl3ID0gLSBxeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgICAgICAgIGl4ICogcXcgKyBpdyAqIC0gcXggKyBpeSAqIC0gcXogLSBpeiAqIC0gcXksXG4gICAgICAgICAgICAgICAgaXkgKiBxdyArIGl3ICogLSBxeSArIGl6ICogLSBxeCAtIGl4ICogLSBxeixcbiAgICAgICAgICAgICAgICBpeiAqIHF3ICsgaXcgKiAtIHF6ICsgaXggKiAtIHF5IC0gaXkgKiAtIHF4XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldCh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyLCB3Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN1YihxdWF0OlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHF1YXQuY29weSgpLmludmVydCgpLm11bHRpcGx5KHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLnNldChyZXN1bHQueCwgcmVzdWx0LnksIHJlc3VsdC56LCByZXN1bHQudyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBnZXRFdWxlckFuZ2xlc1xuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHN1cHBsaWVkIHF1YXRlcm5pb24gdG8gRXVsZXIgYW5nbGVzLlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IFtldWxlcnNdIFRoZSAzLWRpbWVuc2lvbmFsIHZlY3RvciB0byByZWNlaXZlIHRoZSBFdWxlciBhbmdsZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtWZWMzfSBUaGUgMy1kaW1lbnNpb25hbCB2ZWN0b3IgaG9sZGluZyB0aGUgRXVsZXIgYW5nbGVzIHRoYXRcbiAgICAgICAgICogY29ycmVzcG9uZCB0byB0aGUgc3VwcGxpZWQgcXVhdGVybmlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBnZXRFdWxlckFuZ2xlcygpIHtcbiAgICAgICAgICAgIHZhciB4LCB5LCB6LCBxeCwgcXksIHF6LCBxdywgYTI7XG5cbiAgICAgICAgICAgIHF4ID0gdGhpcy54O1xuICAgICAgICAgICAgcXkgPSB0aGlzLnk7XG4gICAgICAgICAgICBxeiA9IHRoaXMuejtcbiAgICAgICAgICAgIHF3ID0gdGhpcy53O1xuXG4gICAgICAgICAgICBhMiA9IDIgKiAocXcgKiBxeSAtIHF4ICogcXopO1xuICAgICAgICAgICAgaWYgKGEyIDw9IC0wLjk5OTk5KSB7XG4gICAgICAgICAgICAgICAgeCA9IDIgKiBNYXRoLmF0YW4yKHF4LCBxdyk7XG4gICAgICAgICAgICAgICAgeSA9IC1NYXRoLlBJIC8gMjtcbiAgICAgICAgICAgICAgICB6ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYTIgPj0gMC45OTk5OSkge1xuICAgICAgICAgICAgICAgIHggPSAyICogTWF0aC5hdGFuMihxeCwgcXcpO1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgICAgICB6ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IE1hdGguYXRhbjIoMiAqIChxdyAqIHF4ICsgcXkgKiBxeiksIDEgLSAyICogKHF4ICogcXggKyBxeSAqIHF5KSk7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguYXNpbihhMik7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGguYXRhbjIoMiAqIChxdyAqIHF6ICsgcXggKiBxeSksIDEgLSAyICogKHF5ICogcXkgKyBxeiAqIHF6KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh4LCB5LCB6KS5zY2FsZShSQURfVE9fREVHKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzbGVycChsZWZ0OiBRdWF0ZXJuaW9uLCByaWdodDogUXVhdGVybmlvbiwgYW1vdW50OiBudW1iZXIpOiBRdWF0ZXJuaW9uIHtcbiAgICAgICAgICAgIHZhciBudW0yO1xuICAgICAgICAgICAgdmFyIG51bTM7XG4gICAgICAgICAgICB2YXIgbnVtID0gYW1vdW50O1xuICAgICAgICAgICAgdmFyIG51bTQgPSAoKChsZWZ0LnggKiByaWdodC54KSArIChsZWZ0LnkgKiByaWdodC55KSkgKyAobGVmdC56ICogcmlnaHQueikpICsgKGxlZnQudyAqIHJpZ2h0LncpO1xuICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKG51bTQgPCAwKSB7XG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgbnVtNCA9IC1udW00O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobnVtNCA+IDAuOTk5OTk5KSB7XG4gICAgICAgICAgICAgICAgbnVtMyA9IDEgLSBudW07XG4gICAgICAgICAgICAgICAgbnVtMiA9IGZsYWcgPyAtbnVtIDogbnVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bTUgPSBNYXRoLmFjb3MobnVtNCk7XG4gICAgICAgICAgICAgICAgdmFyIG51bTYgPSAoMS4wIC8gTWF0aC5zaW4obnVtNSkpO1xuICAgICAgICAgICAgICAgIG51bTMgPSAoTWF0aC5zaW4oKDEuMCAtIG51bSkgKiBudW01KSkgKiBudW02O1xuICAgICAgICAgICAgICAgIG51bTIgPSBmbGFnID8gKCgtTWF0aC5zaW4obnVtICogbnVtNSkpICogbnVtNikgOiAoKE1hdGguc2luKG51bSAqIG51bTUpKSAqIG51bTYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5jcmVhdGUoKG51bTMgKiBsZWZ0LngpICsgKG51bTIgKiByaWdodC54KSwgKG51bTMgKiBsZWZ0LnkpICsgKG51bTIgKiByaWdodC55KSwgKG51bTMgKiBsZWZ0LnopICsgKG51bTIgKiByaWdodC56KSwgKG51bTMgKiBsZWZ0LncpICsgKG51bTIgKiByaWdodC53KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIFBsYW5le1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoYSwgYiwgYywgZCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsID0gVmVjdG9yMy5jcmVhdGUoYSwgYiwgYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5vcm1hbDpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMSwgMCk7XG4gICAgICAgIHB1YmxpYyBkOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHVibGljIGdldFJlZmxlY3Rpb25NYXRyaXgoKTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMubm9ybWFsLng7XG4gICAgICAgICAgICB2YXIgeSA9IHRoaXMubm9ybWFsLnk7XG4gICAgICAgICAgICB2YXIgeiA9IHRoaXMubm9ybWFsLno7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IC0yICogeDtcbiAgICAgICAgICAgIHZhciB0ZW1wMiA9IC0yICogeTtcbiAgICAgICAgICAgIHZhciB0ZW1wMyA9IC0yICogejtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBNYXRyaXg0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzBdID0gKHRlbXAgKiB4KSArIDE7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzFdID0gdGVtcDIgKiB4O1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1syXSA9IHRlbXAzICogeDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbM10gPSAwLjA7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzRdID0gdGVtcCAqIHk7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzVdID0gKHRlbXAyICogeSkgKyAxO1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1s2XSA9IHRlbXAzICogeTtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbN10gPSAwLjA7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzhdID0gdGVtcCAqIHo7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzldID0gdGVtcDIgKiB6O1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1sxMF0gPSAodGVtcDMgKiB6KSArIDE7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzExXSA9IDAuMDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMTJdID0gdGVtcCAqIHRoaXMuZDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMTNdID0gdGVtcDIgKiB0aGlzLmQ7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzE0XSA9IHRlbXAzICogdGhpcy5kO1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1sxNV0gPSAxLjA7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbm9ybWFsaXplKCk6UGxhbmUge1xuICAgICAgICAgICAgdmFyIG5vcm0gPSAoTWF0aC5zcXJ0KCh0aGlzLm5vcm1hbC54ICogdGhpcy5ub3JtYWwueCkgKyAodGhpcy5ub3JtYWwueSAqIHRoaXMubm9ybWFsLnkpICsgKHRoaXMubm9ybWFsLnogKiB0aGlzLm5vcm1hbC56KSkpO1xuICAgICAgICAgICAgdmFyIG1hZ25pdHVkZSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChub3JtICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWFnbml0dWRlID0gMS4wIC8gbm9ybTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ub3JtYWwueCAqPSBtYWduaXR1ZGU7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbC55ICo9IG1hZ25pdHVkZTtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLnogKj0gbWFnbml0dWRlO1xuXG4gICAgICAgICAgICB0aGlzLmQgKj0gbWFnbml0dWRlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCk6IFBsYW5lIHtcbiAgICAgICAgICAgIHJldHVybiBQbGFuZS5jcmVhdGUodGhpcy5ub3JtYWwueCwgdGhpcy5ub3JtYWwueSwgdGhpcy5ub3JtYWwueiwgdGhpcy5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkb3RDb29yZGluYXRlKHBvaW50KTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiAoKCgodGhpcy5ub3JtYWwueCAqIHBvaW50LngpICsgKHRoaXMubm9ybWFsLnkgKiBwb2ludC55KSkgKyAodGhpcy5ub3JtYWwueiAqIHBvaW50LnopKSArIHRoaXMuZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFJheSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9yaWdpbjogVmVjdG9yMywgZGlyZWN0aW9uOiBWZWN0b3IzKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMob3JpZ2luLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3Iob3JpZ2luOiBWZWN0b3IzLCBkaXJlY3Rpb246IFZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb3JpZ2luOlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9kaXJlY3Rpb246VmVjdG9yMyA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQUFCQihhYWJiOkFBQkJTaGFwZSk6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhBQUJCKG1pblBvaW50OiBWZWN0b3IzLCBtYXhQb2ludDogVmVjdG9yMyk6IGJvb2xlYW47XG5cbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aEFBQkIoLi4uYXJncyk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIGNlbnRlcjpWZWN0b3IzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoYWxmRXh0ZW5kczpWZWN0b3IzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBkaWZmID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBhYnNEaWZmID0gbnVsbCxcbiAgICAgICAgICAgICAgICBhYnNEaXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNyb3NzID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBwcm9kID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICByYXlPcmlnaW4gPSB0aGlzLl9vcmlnaW4sXG4gICAgICAgICAgICAgICAgcmF5RGlyID0gdGhpcy5fZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IGFhYmI6QUFCQlNoYXBlID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGNlbnRlciA9IGFhYmIuY2VudGVyO1xuICAgICAgICAgICAgICAgIGhhbGZFeHRlbmRzID0gYWFiYi5oYWxmRXh0ZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBtaW5Qb2ludCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGNlbnRlciA9IEFBQkJTaGFwZS5nZXRDZW50ZXIobWluUG9pbnQsIG1heFBvaW50KTtcbiAgICAgICAgICAgICAgICBoYWxmRXh0ZW5kcyA9IEFBQkJTaGFwZS5nZXRIYWxmRXh0ZW50cyhtaW5Qb2ludCwgbWF4UG9pbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaWZmLnN1YjIocmF5T3JpZ2luLCBjZW50ZXIpO1xuICAgICAgICAgICAgYWJzRGlmZiA9IFZlY3RvcjMuY3JlYXRlKE1hdGguYWJzKGRpZmYueCksIE1hdGguYWJzKGRpZmYueSksIE1hdGguYWJzKGRpZmYueikpO1xuXG4gICAgICAgICAgICBwcm9kLm11bDIoZGlmZiwgcmF5RGlyKTtcblxuICAgICAgICAgICAgaWYgKGFic0RpZmYueCA+IGhhbGZFeHRlbmRzLnggJiYgcHJvZC54ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWJzRGlmZi55ID4gaGFsZkV4dGVuZHMueSAmJiBwcm9kLnkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhYnNEaWZmLnogPiBoYWxmRXh0ZW5kcy56ICYmIHByb2QueiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhYnNEaXIgPSBWZWN0b3IzLmNyZWF0ZShNYXRoLmFicyhyYXlEaXIueCksIE1hdGguYWJzKHJheURpci55KSwgTWF0aC5hYnMocmF5RGlyLnopKTtcbiAgICAgICAgICAgIGNyb3NzLmNyb3NzKHJheURpciwgZGlmZik7XG4gICAgICAgICAgICBjcm9zcy5zZXQoTWF0aC5hYnMoY3Jvc3MueCksIE1hdGguYWJzKGNyb3NzLnkpLCBNYXRoLmFicyhjcm9zcy56KSk7XG5cbiAgICAgICAgICAgIGlmIChjcm9zcy54ID4gaGFsZkV4dGVuZHMueSAqIGFic0Rpci56ICsgaGFsZkV4dGVuZHMueiAqIGFic0Rpci55KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNyb3NzLnkgPiBoYWxmRXh0ZW5kcy54ICogYWJzRGlyLnogKyBoYWxmRXh0ZW5kcy56ICogYWJzRGlyLngpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Jvc3MueiA+IGhhbGZFeHRlbmRzLnggKiBhYnNEaXIueSArIGhhbGZFeHRlbmRzLnkgKiBhYnNEaXIueCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoU3BoZXJlKHNwaGVyZTpTcGhlcmVTaGFwZSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIGNlbnRlcjpWZWN0b3IzID0gc3BoZXJlLmNlbnRlcixcbiAgICAgICAgICAgICAgICByYWRpdXM6bnVtYmVyID0gc3BoZXJlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBkaWZmID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBhID0gMCxcbiAgICAgICAgICAgICAgICBiID0gMCxcbiAgICAgICAgICAgICAgICBjID0gMCxcbiAgICAgICAgICAgICAgICBkaXNjciA9IDAsXG4gICAgICAgICAgICAgICAgcmF5T3JpZ2luID0gdGhpcy5fb3JpZ2luLFxuICAgICAgICAgICAgICAgIHJheURpciA9IHRoaXMuX2RpcmVjdGlvbjtcblxuICAgICAgICAgICAgZGlmZi5zdWIyKHJheU9yaWdpbiwgY2VudGVyKTtcbiAgICAgICAgICAgIGlmIChkaWZmLmRvdChkaWZmKSA8IHJhZGl1cyAqIHJhZGl1cyApIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydHMgaW5zaWRlIHRoaXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYSA9IHJheURpci5kb3QocmF5RGlyKTtcbiAgICAgICAgICAgIGIgPSAyICogcmF5RGlyLmRvdChkaWZmKTtcbiAgICAgICAgICAgIGMgPSBjZW50ZXIuZG90KGNlbnRlcik7XG4gICAgICAgICAgICBjICs9IHJheU9yaWdpbi5kb3QocmF5T3JpZ2luKTtcbiAgICAgICAgICAgIGMgLT0gMiAqIGNlbnRlci5kb3QocmF5T3JpZ2luKTtcbiAgICAgICAgICAgIGMgLT0gcmFkaXVzICogcmFkaXVzO1xuXG4gICAgICAgICAgICBkaXNjciA9IChiICogYikgLSAoNCAqIGEgKiBjKTtcbiAgICAgICAgICAgIGlmIChkaXNjciA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbnRpdHkge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfY291bnQ6bnVtYmVyID0gMTtcblxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRoaXMudWlkID0gRW50aXR5Ll9jb3VudDtcbiAgICAgICAgICAgIEVudGl0eS5fY291bnQgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1aWQ6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF90YWdMaXN0OndkQ2IuQ29sbGVjdGlvbjxzdHJpbmc+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxzdHJpbmc+KCk7XG5cblxuICAgICAgICBwdWJsaWMgYWRkVGFnKHRhZzpzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhZ0xpc3QuYWRkQ2hpbGQodGFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVUYWcodGFnOnN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fdGFnTGlzdC5yZW1vdmVDaGlsZCh0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFRhZ0xpc3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFnTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNUYWcodGFnOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhZ0xpc3QuaGFzQ2hpbGQodGFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb250YWluVGFnKHRhZzpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YWdMaXN0Lmhhc0NoaWxkKCh0OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmluZGV4T2YodGFnKSA+IC0xO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IGV4dGVuZHMgRW50aXR5e1xuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCA9IG51bGw7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0IHRyYW5zZm9ybSgpOlRyYW5zZm9ybSB7XG4gICAgICAgICAgICBpZighdGhpcy5lbnRpdHlPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QucmVtb3ZlQ29tcG9uZW50KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QgPSBlbnRpdHlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU2NoZWR1bGVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2NoZWR1bGVDb3VudCA9IDA7XG4gICAgICAgIHByaXZhdGUgX3NjaGVkdWxlczp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGVJdGVtOmFueSwgc2NoZWR1bGVJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZihzY2hlZHVsZUl0ZW0uaXNTdG9wIHx8IHNjaGVkdWxlSXRlbS5pc1BhdXNlKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjaGVkdWxlSXRlbS51cGRhdGUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYoc2NoZWR1bGVJdGVtLmlzRmluaXNoKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoc2NoZWR1bGVJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NoZWR1bGUgdGhlIHRhc2sgdG8gZWFjaCBmcmFtZVxuICAgICAgICAgKiBAcGFyYW0gdGFza1xuICAgICAgICAgKiBAcGFyYW0gYXJnc1xuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzY2hlZHVsZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNjaGVkdWxlTG9vcCh0YXNrOkZ1bmN0aW9uLCBhcmdzOkFycmF5PGFueT49W10pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZShMb29wU2NoZWR1bGVJdGVtLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2hlZHVsZSB0aGUgdGFzayB0byB0aGUgbmV4dCBzcGVmaWNpZWQgZnJhbWVcbiAgICAgICAgICogQHBhcmFtIHRhc2tcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lXG4gICAgICAgICAqIEBwYXJhbSBhcmdzXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHNjaGVkdWxlIGlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2NoZWR1bGVGcmFtZSh0YXNrLCBmcmFtZT0xLCBhcmdzPykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlKEZyYW1lU2NoZWR1bGVJdGVtLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2hlZHVsZSB0aGUgdGFzayB0byBpbnRlcm5hbCwgbGlrZSBzZXRJbnRlcnZhbFxuICAgICAgICAgKiBAcGFyYW0gdGFza1xuICAgICAgICAgKiBAcGFyYW0gdGltZVxuICAgICAgICAgKiBAcGFyYW0gYXJnc1xuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzY2hlZHVsZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNjaGVkdWxlSW50ZXJ2YWwodGFzaywgdGltZT0wLCBhcmdzPykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlKEludGVydmFsU2NoZWR1bGVJdGVtLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2hlZHVsZSB0aGUgdGFzayB0byB0aW1lLCBsaWtlIHNldFRpbWVvdXRcbiAgICAgICAgICogQHBhcmFtIHRhc2tcbiAgICAgICAgICogQHBhcmFtIHRpbWVcbiAgICAgICAgICogQHBhcmFtIGFyZ3NcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gc2NoZWR1bGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzY2hlZHVsZVRpbWUodGFzaywgdGltZT0wLCBhcmdzPykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlKFRpbWVTY2hlZHVsZUl0ZW0sIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHBhdXNlIHRoZSBzcGVjaWZpZWQgc2NoZWR1bGVcbiAgICAgICAgICogQHBhcmFtIHNjaGVkdWxlSWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBwYXVzZShzY2hlZHVsZUlkPzpzdHJpbmcpIHtcbiAgICAgICAgICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlcy5mb3JFYWNoKChzY2hlZHVsZUl0ZW06YW55LCBzY2hlZHVsZUlkOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhdXNlKHNjaGVkdWxlSWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlSXRlbSA9IHRoaXMuX3NjaGVkdWxlcy5nZXRDaGlsZChhcmd1bWVudHNbMF0pO1xuXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVJdGVtLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVzdW1lIHRoZSBzcGVjaWZpZWQgc2NoZWR1bGVcbiAgICAgICAgICogQHBhcmFtIHNjaGVkdWxlSWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyByZXN1bWUoc2NoZWR1bGVJZD86c3RyaW5nKSB7XG4gICAgICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGVJdGVtOmFueSwgc2NoZWR1bGVJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXN1bWUoc2NoZWR1bGVJZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2NoZWR1bGVJdGVtID0gdGhpcy5fc2NoZWR1bGVzLmdldENoaWxkKGFyZ3VtZW50c1swXSk7XG5cbiAgICAgICAgICAgICAgICBzY2hlZHVsZUl0ZW0ucmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoc2NoZWR1bGVJZD86c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlcy5mb3JFYWNoKChzY2hlZHVsZUl0ZW06YW55LCBzY2hlZHVsZUlkOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0KHNjaGVkdWxlSWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgc2NoZWR1bGVJdGVtID0gdGhpcy5fc2NoZWR1bGVzLmdldENoaWxkKGFyZ3VtZW50c1swXSk7XG5cbiAgICAgICAgICAgICAgICBzY2hlZHVsZUl0ZW0uc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKHNjaGVkdWxlSWQ/OnN0cmluZyl7XG4gICAgICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGVJdGVtOmFueSwgc2NoZWR1bGVJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wKHNjaGVkdWxlSWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgc2NoZWR1bGVJdGVtID0gdGhpcy5fc2NoZWR1bGVzLmdldENoaWxkKGFyZ3VtZW50c1swXSk7XG5cbiAgICAgICAgICAgICAgICBzY2hlZHVsZUl0ZW0uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhcyhzY2hlZHVsZUlkOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fc2NoZWR1bGVzLmhhc0NoaWxkKHNjaGVkdWxlSWQpXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVtb3ZlIHRoZSBzcGVjaWZ5IHNjaGVkdWxlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHJlbW92ZShzY2hlZHVsZUlkOnN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVzLnJlbW92ZUNoaWxkKHNjaGVkdWxlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUFsbCgpe1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zY2hlZHVsZShfY2xhc3M6YW55LCBhcmdzOkFycmF5PGFueT4pe1xuICAgICAgICAgICAgdmFyIHNjaGVkdWxlSWQgPSB0aGlzLl9idWlsZElkKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlcy5zZXRWYWx1ZShzY2hlZHVsZUlkLCBfY2xhc3MuY3JlYXRlLmFwcGx5KF9jbGFzcywgYXJncykpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkSWQoKXtcbiAgICAgICAgICAgIHJldHVybiAnU2NoZWR1bGVfJyArICh0aGlzLl9zY2hlZHVsZUNvdW50KyspO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xhc3MgU2NoZWR1bGVJdGVte1xuICAgICAgICBjb25zdHJ1Y3Rvcih0YXNrOkZ1bmN0aW9uLCBhcmdzOkFycmF5PGFueT4pe1xuICAgICAgICAgICAgdGhpcy50YXNrID0gdGFzaztcbiAgICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNQYXVzZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBpc1N0b3A6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGF1c2VUaW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwYXVzZUVsYXBzZWQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHN0YXJ0VGltZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaXNGaW5pc2g6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCB0YXNrOkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGFyZ3M6QXJyYXk8YW55PiA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCB0aW1lQ29udHJvbGxlcjpDb21tb25UaW1lQ29udHJvbGxlciA9IENvbW1vblRpbWVDb250cm9sbGVyLmNyZWF0ZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwYXVzZSB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlXG4gICAgICAgICAqIEBwYXJhbSBzY2hlZHVsZUlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICB0aGlzLmlzUGF1c2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aW1lQ29udHJvbGxlci5wYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlc3VtZSB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlXG4gICAgICAgICAqIEBwYXJhbSBzY2hlZHVsZUlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgcmVzdW1lKCl7XG4gICAgICAgICAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGltZUNvbnRyb2xsZXIucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKXtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRpbWVDb250cm9sbGVyLnN0YXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpe1xuICAgICAgICAgICAgdGhpcy5pc1N0b3AgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aW1lQ29udHJvbGxlci5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluaXNoKCl7XG4gICAgICAgICAgICB0aGlzLmlzRmluaXNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIFRpbWVTY2hlZHVsZUl0ZW0gZXh0ZW5kcyBTY2hlZHVsZUl0ZW17XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRhc2s6RnVuY3Rpb24sIHRpbWU6bnVtYmVyID0gMCwgYXJnczpBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0YXNrLCB0aW1lLCBhcmdzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHRhc2s6RnVuY3Rpb24sIHRpbWU6bnVtYmVyID0gMCwgYXJnczpBcnJheTxhbnk+ID0gW10pe1xuICAgICAgICAgICAgc3VwZXIodGFzaywgYXJncyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdGltZTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy50aW1lQ29udHJvbGxlci5jb21wdXRlRWxhcHNlVGltZShlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIGlmIChlbGFwc2VkID49IHRoaXMuX3RpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhc2suYXBwbHkodGhpcywgdGhpcy5hcmdzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xhc3MgSW50ZXJ2YWxTY2hlZHVsZUl0ZW0gZXh0ZW5kcyBTY2hlZHVsZUl0ZW17XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRhc2s6RnVuY3Rpb24sIHRpbWU6bnVtYmVyID0gMCwgYXJnczpBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0YXNrLCB0aW1lLCBhcmdzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHRhc2s6RnVuY3Rpb24sIHRpbWU6bnVtYmVyID0gMCwgYXJnczpBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgICAgIHN1cGVyKHRhc2ssIGFyZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbFRpbWUgPSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW50ZXJ2YWxUaW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2VsYXBzZWQ6bnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMudGltZUNvbnRyb2xsZXIuY29tcHV0ZUVsYXBzZVRpbWUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZiAoZWxhcHNlZCAtIHRoaXMuX2VsYXBzZWQgPj0gdGhpcy5faW50ZXJ2YWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrLmFwcGx5KHRoaXMsIHRoaXMuYXJncyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxhcHNlZCA9ICBlbGFwc2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCl7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGFwc2VkID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIExvb3BTY2hlZHVsZUl0ZW0gZXh0ZW5kcyBTY2hlZHVsZUl0ZW17XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRhc2s6RnVuY3Rpb24sIGFyZ3M6QXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGFzaywgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnRhc2suYXBwbHkodGhpcywgdGhpcy5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIEZyYW1lU2NoZWR1bGVJdGVtIGV4dGVuZHMgU2NoZWR1bGVJdGVtIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodGFzazpGdW5jdGlvbiwgZnJhbWU6bnVtYmVyID0gMSwgYXJnczpBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0YXNrLCBmcmFtZSwgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih0YXNrOkZ1bmN0aW9uLCBmcmFtZTpudW1iZXIgPSAxLCBhcmdzOkFycmF5PGFueT4gPSBbXSkge1xuICAgICAgICAgICAgc3VwZXIodGFzaywgYXJncyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mcmFtZTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLS07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mcmFtZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrLmFwcGx5KHRoaXMsIHRoaXMuYXJncyk7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBlbnVtIEVHYW1lU3RhdGV7XG4gICAgICAgIE5PUk1BTCxcbiAgICAgICAgU1RPUCxcbiAgICAgICAgUEFVU0VcbiAgICB9XG5cbiAgICAvL3RvZG8gaW52b2tlIHNjZW5lLm9uRXhpdFxuXG4gICAgZXhwb3J0IGNsYXNzIERpcmVjdG9ye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UuaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBnYW1lVGltZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVDb250cm9sbGVyLmdhbWVUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGZwcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVDb250cm9sbGVyLmZwcztcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc05vcm1hbCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5OT1JNQUw7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNTdG9wKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZVN0YXRlID09PSBFR2FtZVN0YXRlLlNUT1A7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNQYXVzZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5QQVVTRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc1RpbWVDaGFuZ2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lQ29udHJvbGxlci5pc1RpbWVDaGFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZWxhcHNlZCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVDb250cm9sbGVyLmVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdmlldygpe1xuICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzY2hlZHVsZXI6U2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHJlbmRlcmVyOlJlbmRlcmVyPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2dhbWVMb29wOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZXZlbnRTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9nYW1lU3RhdGU6RUdhbWVTdGF0ZSA9IEVHYW1lU3RhdGUuTk9STUFMO1xuICAgICAgICBwcml2YXRlIF90aW1lQ29udHJvbGxlcjpEaXJlY3RvclRpbWVDb250cm9sbGVyPSBEaXJlY3RvclRpbWVDb250cm9sbGVyLmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9kb21FdmVudE1hbmFnZXI6RG9tRXZlbnRNYW5hZ2VyID0gRG9tRXZlbnRNYW5hZ2VyLmNyZWF0ZSgpO1xuXG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLnNjZW5lID0gU2NlbmVEaXNwYXRjaGVyLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBTY2hlZHVsZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gV2ViR0xSZW5kZXJlci5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpe1xuICAgICAgICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gRUdhbWVTdGF0ZS5OT1JNQUw7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TG9vcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKXtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVMb29wICYmIHRoaXMuX2dhbWVMb29wLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVTdGF0ZSA9IEVHYW1lU3RhdGUuU1RPUDtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9uICYmIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpe1xuICAgICAgICAgICAgaWYgKHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5QQVVTRSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gRUdhbWVTdGF0ZS5QQVVTRTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5wYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpe1xuICAgICAgICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gRUdhbWVTdGF0ZS5OT1JNQUw7XG4gICAgICAgICAgICB0aGlzLl90aW1lQ29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIGFkZCBkaXNwb3NlXG5cbiAgICAgICAgcHVibGljIGdldERlbHRhVGltZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVDb250cm9sbGVyLmRlbHRhVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBleGVjT25seU9uY2UoXCJfaXNJbml0VUlTY2VuZVwiKVxuICAgICAgICBwdWJsaWMgaW5pdFVJT2JqZWN0U2NlbmUoKXtcbiAgICAgICAgICAgIHZhciB1aU9iamVjdFNjZW5lOlVJT2JqZWN0U2NlbmUgPSB0aGlzLnNjZW5lLnVpT2JqZWN0U2NlbmU7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXREb21FdmVudCgpO1xuXG4gICAgICAgICAgICB1aU9iamVjdFNjZW5lLm9uRW50ZXIoKTtcbiAgICAgICAgICAgIHVpT2JqZWN0U2NlbmUuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJ1blVJT2JqZWN0U2NlbmUoZWxhcHNlVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHVpT2JqZWN0U2NlbmU6VUlPYmplY3RTY2VuZSA9IHRoaXMuc2NlbmUudWlPYmplY3RTY2VuZTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodWlPYmplY3RTY2VuZSwgQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LlNUQVJUTE9PUCkpO1xuXG4gICAgICAgICAgICB1aU9iamVjdFNjZW5lLnVwZGF0ZShlbGFwc2VUaW1lKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodWlPYmplY3RTY2VuZSwgQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1ApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3N0YXJ0TG9vcCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5fZ2FtZUxvb3AgPSB0aGlzLl9idWlsZEluaXRTdHJlYW0oKVxuICAgICAgICAgICAgICAgIC5pZ25vcmVFbGVtZW50cygpXG4gICAgICAgICAgICAgICAgLmNvbmNhdCh0aGlzLl9idWlsZExvb3BTdHJlYW0oKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCh0aW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vdG9kbyBuZWVkIHBvbHlmaWxsXG4gICAgICAgICAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgICAgICAgICAgSSBhc3N1bWUgdGhhdCB0aGUgdGltZSBpcyBET01IaWdoUmVzVGltZVN0YW1wLCBidXQgaXQgbWF5IGJlIERPTVRpbWVTdGFtcCBpbiBzb21lIGJyb3dzZXIhXG4gICAgICAgICAgICAgICAgICAgICBzbyBpdCBuZWVkIHBvbHlmaWxsXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb29wQm9keSh0aW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkSW5pdFN0cmVhbSgpe1xuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmNhbGxGdW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2luaXQoKXtcbiAgICAgICAgICAgIHRoaXMuX2luaXRHYW1lT2JqZWN0U2NlbmUoKTtcblxuICAgICAgICAgICAgdGhpcy5pbml0VUlPYmplY3RTY2VuZSgpO1xuXG4gICAgICAgICAgICBEZWJ1Z1N0YXRpc3RpY3MuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5pdEdhbWVPYmplY3RTY2VuZSgpe1xuICAgICAgICAgICAgdmFyIGdhbWVPYmplY3RTY2VuZTpHYW1lT2JqZWN0U2NlbmUgPSB0aGlzLnNjZW5lLmdhbWVPYmplY3RTY2VuZTtcblxuICAgICAgICAgICAgdGhpcy5faW5pdERvbUV2ZW50KCk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5CRUZPUkVfR0FNRU9CSkVDVF9JTklUKSk7XG5cbiAgICAgICAgICAgIGdhbWVPYmplY3RTY2VuZS5vbkVudGVyKCk7XG4gICAgICAgICAgICBnYW1lT2JqZWN0U2NlbmUuaW5pdCgpO1xuXG4gICAgICAgICAgICAvL3RvZG8gbm90IHB1dCBoZXJlP1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5zdGFydCgpO1xuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUKSk7XG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUX1JJR0lEQk9EWV9BRERfQ09OU1RSQUlOVCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRMb29wU3RyZWFtKCl7XG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuaW50ZXJ2YWxSZXF1ZXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9sb29wQm9keSh0aW1lKSB7XG4gICAgICAgICAgICB2YXIgZWxhcHNlVGltZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5QQVVTRSB8fCB0aGlzLl9nYW1lU3RhdGUgPT09IEVHYW1lU3RhdGUuU1RPUCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGFwc2VUaW1lID0gdGhpcy5fdGltZUNvbnRyb2xsZXIuY29tcHV0ZUVsYXBzZVRpbWUodGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3J1bihlbGFwc2VUaW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ydW4oZWxhcHNlVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcnVuR2FtZU9iamVjdFNjZW5lKGVsYXBzZVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnJ1blVJT2JqZWN0U2NlbmUoZWxhcHNlVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ydW5HYW1lT2JqZWN0U2NlbmUoZWxhcHNlVGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBnYW1lT2JqZWN0U2NlbmU6R2FtZU9iamVjdFNjZW5lID0gdGhpcy5zY2VuZS5nYW1lT2JqZWN0U2NlbmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnRpY2soZWxhcHNlVGltZSk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1ApKTtcblxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIudXBkYXRlKGVsYXBzZVRpbWUpO1xuXG4gICAgICAgICAgICBnYW1lT2JqZWN0U2NlbmUudXBkYXRlKGVsYXBzZVRpbWUpO1xuICAgICAgICAgICAgZ2FtZU9iamVjdFNjZW5lLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcblxuICAgICAgICAgICAgaWYodGhpcy5yZW5kZXJlci5oYXNDb21tYW5kKCkpe1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5FTkRMT09QKSk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzSW5pdERvbUV2ZW50XCIpXG4gICAgICAgIHByaXZhdGUgX2luaXREb21FdmVudCgpe1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb24gPSB0aGlzLl9kb21FdmVudE1hbmFnZXIuaW5pdERvbUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1haW57XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pc1Rlc3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBzdGF0aWMgZ2V0IGlzVGVzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgc2V0IGlzVGVzdChpc1Rlc3Q6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9pc1Rlc3QgPSBpc1Rlc3Q7XG5cbiAgICAgICAgICAgIHdkRnJwLk1haW4uaXNUZXN0ID0gaXNUZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBzY3JlZW5TaXplOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2NhbnZhc0lkOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXRDb25maWcoe1xuICAgICAgICAgICAgY2FudmFzSWQsXG4gICAgICAgICAgICBpc1Rlc3QgPSBEZWJ1Z0NvbmZpZy5pc1Rlc3QsXG4gICAgICAgICAgICBzY3JlZW5TaXplID0gRVNjcmVlblNpemUuRlVMTFxuICAgICAgICAgICAgfSl7XG4gICAgICAgICAgICB0aGlzLmlzVGVzdCA9IGlzVGVzdDtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuU2l6ZSA9IHNjcmVlblNpemU7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXNJZCA9IGNhbnZhc0lkO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQoKXtcbiAgICAgICAgICAgIHdkLkRldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVHTCh0aGlzLl9jYW52YXNJZCk7XG4gICAgICAgICAgICB3ZC5EZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0U2NyZWVuKCk7XG4gICAgICAgICAgICBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLmRldGVjdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBkb2N1bWVudDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRNYW5hZ2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgc2NlbmUoKTpTY2VuZURpc3BhdGNoZXJ7XG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xhc3RUcmlnZ2VyTGlzdDphbnkgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0RG9tRXZlbnQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21BcnJheShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5DTElDSyksXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5NT1VTRURPV04pLFxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KEVFdmVudE5hbWUuTU9VU0VVUCksXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5NT1VTRVdIRUVMKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRNb3VzZURyYWdTdHJlYW0oKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLm1lcmdlQWxsKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlOk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmlzUGF1c2UgO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9nZXRNb3VzZUV2ZW50VHJpZ2dlckxpc3REYXRhKGUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1lcmdlKFxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KEVFdmVudE5hbWUuTU9VU0VNT1ZFKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmlzUGF1c2UgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGU6TW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyTGlzdCA9IHNlbGYuX2dldE1vdXNlRXZlbnRUcmlnZ2VyTGlzdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIge21vdXNlb3Zlck9iamVjdHMsIG1vdXNlb3V0T2JqZWN0c30gPSBzZWxmLl9nZXRNb3VzZU92ZXJBbmRNb3VzZU91dE9iamVjdCh0cmlnZ2VyTGlzdCwgc2VsZi5fbGFzdFRyaWdnZXJMaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NldE1vdXNlT3ZlclRhZyhtb3VzZW92ZXJPYmplY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZXRNb3VzZU91dFRhZyhtb3VzZW91dE9iamVjdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFzdFRyaWdnZXJMaXN0ID0gdHJpZ2dlckxpc3QuY29weSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckxpc3QgPSBtb3VzZW91dE9iamVjdHMuYWRkQ2hpbGRyZW4odHJpZ2dlckxpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dldE1vdXNlRXZlbnRUcmlnZ2VyTGlzdERhdGEoZSwgdHJpZ2dlckxpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW3RyaWdnZXJMaXN0LCBlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlckxpc3QuZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChbdHJpZ2dlckxpc3QsIGVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXIoZS5jb3B5KCksIGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZE1vdXNlRHJhZ1N0cmVhbSgpe1xuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgaGVyZSBiaW5kIG9uIGRvY3VtZW50KG5vdCBvbiBkb2N1bWVudC5ib2R5KSwgc28gdGhlIGV2ZW50IGhhbmRsZXIgYmluZGVkIHdpbGwgbm90IGFmZmVjdGVkIGJ5IG90aGVyIGV2ZW50IGhhbmRsZXIgYmluZGVkIG9uIHRoZSBzYW1lIGV2ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KGRvY3VtZW50LCBFRXZlbnROYW1lLk1PVVNFRE9XTilcbiAgICAgICAgICAgICAgICAuZmxhdE1hcCgoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KGRvY3VtZW50LCBFRXZlbnROYW1lLk1PVVNFTU9WRSkudGFrZVVudGlsKEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoZG9jdW1lbnQsIEVFdmVudE5hbWUuTU9VU0VVUCkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUubmFtZSA9IEVFdmVudE5hbWUuTU9VU0VEUkFHO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNb3VzZU92ZXJBbmRNb3VzZU91dE9iamVjdChjdXJyZW50VHJpZ2dlckxpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4sIGxhc3RUcmlnZ2VyTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICB2YXIgbW91c2VvdmVyT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpLFxuICAgICAgICAgICAgICAgIG1vdXNlb3V0T2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpO1xuXG4gICAgICAgICAgICBpZighbGFzdFRyaWdnZXJMaXN0KXtcbiAgICAgICAgICAgICAgICBtb3VzZW92ZXJPYmplY3RzID0gY3VycmVudFRyaWdnZXJMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAvL3RvZG8gb3B0aW1pemVcbiAgICAgICAgICAgICAgICBsYXN0VHJpZ2dlckxpc3QuZm9yRWFjaCgobGFzdE9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWN1cnJlbnRUcmlnZ2VyTGlzdC5oYXNDaGlsZCgoY3VycmVudE9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSnVkZ2VVdGlscy5pc0VxdWFsKGN1cnJlbnRPYmplY3QsIGxhc3RPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VvdXRPYmplY3RzLmFkZENoaWxkKGxhc3RPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50VHJpZ2dlckxpc3QuZm9yRWFjaCgoY3VycmVudE9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWxhc3RUcmlnZ2VyTGlzdC5oYXNDaGlsZCgobGFzdE9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSnVkZ2VVdGlscy5pc0VxdWFsKGN1cnJlbnRPYmplY3QsIGxhc3RPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VvdmVyT2JqZWN0cy5hZGRDaGlsZChjdXJyZW50T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vdXNlb3Zlck9iamVjdHM6IG1vdXNlb3Zlck9iamVjdHMsXG4gICAgICAgICAgICAgICAgbW91c2VvdXRPYmplY3RzOiBtb3VzZW91dE9iamVjdHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE1vdXNlT3ZlclRhZyhvYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KXtcbiAgICAgICAgICAgIG9iamVjdHMuZm9yRWFjaCgob2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIG9iamVjdC5hZGRUYWcoPGFueT5FRXZlbnRUYWcuTU9VU0VfT1ZFUik7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TW91c2VPdXRUYWcob2JqZWN0czp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICBvYmplY3RzLmZvckVhY2goKG9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBvYmplY3QuYWRkVGFnKDxhbnk+RUV2ZW50VGFnLk1PVVNFX09VVCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0RXZlbnROYW1lQnlFdmVudFRhZyhvYmplY3Q6RW50aXR5T2JqZWN0LCBlOk1vdXNlRXZlbnQpe1xuICAgICAgICAgICAgaWYob2JqZWN0Lmhhc1RhZyg8YW55PkVFdmVudFRhZy5NT1VTRV9PVkVSKSl7XG4gICAgICAgICAgICAgICAgZS5uYW1lID0gRUV2ZW50TmFtZS5NT1VTRU9WRVI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG9iamVjdC5oYXNUYWcoPGFueT5FRXZlbnRUYWcuTU9VU0VfT1VUKSl7XG4gICAgICAgICAgICAgICAgZS5uYW1lID0gRUV2ZW50TmFtZS5NT1VTRU9VVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZW1vdmVFdmVudFRhZyhvYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIG9iamVjdC5yZW1vdmVUYWcoPGFueT5FRXZlbnRUYWcuTU9VU0VfT1ZFUik7XG4gICAgICAgICAgICBvYmplY3QucmVtb3ZlVGFnKDxhbnk+RUV2ZW50VGFnLk1PVVNFX09VVCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyKGU6TW91c2VFdmVudCwgZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCk7XG4gICAgICAgIHByaXZhdGUgX3RyaWdnZXIoZTpNb3VzZUV2ZW50LCBlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0LCBpc0J1YmJsZTpib29sZWFuKTtcblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBlOk1vdXNlRXZlbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV2ZW50Ok1vdXNlRXZlbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50OkN1c3RvbUV2ZW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyTmFtZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMl0pe1xuICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBldmVudCA9IHRoaXMuX3NldEV2ZW50TmFtZUJ5RXZlbnRUYWcoZW50aXR5T2JqZWN0LCBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVFdmVudFRhZyhlbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyTmFtZSA9IEV2ZW50VHJpZ2dlclRhYmxlLmdldFNjcmlwdEhhbmRsZXJOYW1lKGV2ZW50Lm5hbWUpO1xuXG4gICAgICAgICAgICBjdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudFtFdmVudFRyaWdnZXJUYWJsZS5nZXRTY3JpcHRFbmdpbmVFdmVudChldmVudC5uYW1lKV0pO1xuXG4gICAgICAgICAgICBjdXN0b21FdmVudC5nZXREYXRhRnJvbURvbUV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgLy90b2RvIHJlZmFjdG9yOiBzdXBwb3J0IGRpcmVjdGx5IHRyaWdnZXIgbW91c2UgZXZlbnQgb24gdGFyZ2V0XG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihlbnRpdHlPYmplY3QsIGN1c3RvbUV2ZW50LCBldmVudCwgbm90U2V0VGFyZ2V0KTtcblxuICAgICAgICAgICAgZXZlbnQuZ2V0RGF0YUZyb21DdXN0b21FdmVudChjdXN0b21FdmVudCk7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5leGVjRXZlbnRTY3JpcHQoaGFuZGxlck5hbWUsIGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKCFldmVudC5pc1N0b3BQcm9wYWdhdGlvbiAmJiBlbnRpdHlPYmplY3QuYnViYmxlUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihldmVudC5jb3B5KCksIGVudGl0eU9iamVjdC5idWJibGVQYXJlbnQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TW91c2VFdmVudFRyaWdnZXJMaXN0KGU6TW91c2VFdmVudCl7XG4gICAgICAgICAgICB2YXIgdG9wR2FtZU9iamVjdDpHYW1lT2JqZWN0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0b3BVSU9iamVjdDpVSU9iamVjdCA9IG51bGwsXG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEVudGl0eU9iamVjdD4oKTtcblxuXG4gICAgICAgICAgICB0b3BHYW1lT2JqZWN0ID0gdGhpcy5fZmluZFRvcEdhbWVPYmplY3QoZSwgdGhpcy5zY2VuZS5nYW1lT2JqZWN0U2NlbmUpO1xuICAgICAgICAgICAgdG9wVUlPYmplY3QgPSB0aGlzLl9maW5kVG9wVUlPYmplY3QoZSwgdGhpcy5zY2VuZS51aU9iamVjdFNjZW5lKTtcblxuICAgICAgICAgICAgaWYodG9wR2FtZU9iamVjdCl7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3QuYWRkQ2hpbGQodG9wR2FtZU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRvcFVJT2JqZWN0KXtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyTGlzdC5hZGRDaGlsZCh0b3BVSU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2lzU2NlbmVBc1RvcE9uZShlLCB0cmlnZ2VyTGlzdCkpe1xuICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0LmFkZENoaWxkKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlckxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1NjZW5lQXNUb3BPbmUoZTpNb3VzZUV2ZW50LCB0cmlnZ2VyTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNUcmlnZ2VyU2NlbmUoZSkgJiYgdHJpZ2dlckxpc3QuZ2V0Q291bnQoKSA9PT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbmRUb3BHYW1lT2JqZWN0KGU6TW91c2VFdmVudCwgZ2FtZU9iamVjdFNjZW5lOkdhbWVPYmplY3RTY2VuZSl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maW5kVHJpZ2dlckdhbWVPYmplY3RMaXN0KGUsIGdhbWVPYmplY3RTY2VuZSkuc29ydCgoYTpHYW1lT2JqZWN0LCBiOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dldERpc3RhbmNlVG9DYW1lcmEoYSkgLSBzZWxmLl9nZXREaXN0YW5jZVRvQ2FtZXJhKGIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmdldENoaWxkKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RGlzdGFuY2VUb0NhbWVyYShvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gb2JqLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KCkuc3ViKERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24pLmxlbmd0aCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZFRvcFVJT2JqZWN0KGU6TW91c2VFdmVudCwgdWlPYmplY3RTY2VuZTpVSU9iamVjdFNjZW5lKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maW5kVHJpZ2dlclVJT2JqZWN0TGlzdChlLCB1aU9iamVjdFNjZW5lKS5zb3J0KChhOlVJT2JqZWN0LCBiOlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiLnRyYW5zZm9ybS56SW5kZXggLSBhLnRyYW5zZm9ybS56SW5kZXg7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZ2V0Q2hpbGQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maW5kVHJpZ2dlckdhbWVPYmplY3RMaXN0KGU6TW91c2VFdmVudCwgb2JqZWN0U2NlbmU6R2FtZU9iamVjdFNjZW5lKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD57XG4gICAgICAgICAgICB2YXIgdHJpZ2dlck9iamVjdExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBmaW5kID0gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChTcGFjZVBhcnRpdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QuZ2V0U3BhY2VQYXJ0aXRpb24oKS5nZXRJbnRlcnNlY3RMaXN0V2l0aFJheShlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRkVHJpZ2dlck9iamVjdEJ5UXVlcnlEZXRlY3RvcihlbnRpdHlPYmplY3QsIGUsIHRyaWdnZXJPYmplY3RMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZGRUcmlnZ2VyT2JqZWN0QnlRdWVyeURldGVjdG9yKGVudGl0eU9iamVjdCwgZSwgdHJpZ2dlck9iamVjdExpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5kKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3RTY2VuZS5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZmluZChjaGlsZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJPYmplY3RMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZFRyaWdnZXJVSU9iamVjdExpc3QoZTpNb3VzZUV2ZW50LCBvYmplY3RTY2VuZTpVSU9iamVjdFNjZW5lKTp3ZENiLkNvbGxlY3Rpb248VUlPYmplY3Q+e1xuICAgICAgICAgICAgdmFyIHRyaWdnZXJPYmplY3RMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KCksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZmluZCA9IChlbnRpdHlPYmplY3Q6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9hZGRUcmlnZ2VyT2JqZWN0QnlRdWVyeURldGVjdG9yKGVudGl0eU9iamVjdCwgZSwgdHJpZ2dlck9iamVjdExpc3QpO1xuXG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LmZvckVhY2goKGNoaWxkOlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3RTY2VuZS5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbmQoY2hpbGQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2JqZWN0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFRyaWdnZXJPYmplY3RCeVF1ZXJ5RGV0ZWN0b3IoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCwgZTpNb3VzZUV2ZW50LCB0cmlnZ2VyT2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICBpZiAoZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChFdmVudFRyaWdnZXJEZXRlY3RvcikpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGV0ZWN0b3IgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEV2ZW50VHJpZ2dlckRldGVjdG9yPihFdmVudFRyaWdnZXJEZXRlY3Rvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0b3IuaXNUcmlnZ2VyKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJPYmplY3RMaXN0LmFkZENoaWxkKGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNUcmlnZ2VyU2NlbmUoZTpNb3VzZUV2ZW50KXtcbiAgICAgICAgICAgIHZhciBkZXRlY3RvciA9IHRoaXMuc2NlbmUuZ2V0Q29tcG9uZW50PEV2ZW50VHJpZ2dlckRldGVjdG9yPihFdmVudFRyaWdnZXJEZXRlY3Rvcik7XG5cbiAgICAgICAgICAgIHJldHVybiBkZXRlY3Rvci5pc1RyaWdnZXIoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNb3VzZUV2ZW50VHJpZ2dlckxpc3REYXRhKGU6TW91c2VFdmVudCk7XG4gICAgICAgIHByaXZhdGUgX2dldE1vdXNlRXZlbnRUcmlnZ2VyTGlzdERhdGEoZTpNb3VzZUV2ZW50LCB0cmlnZ2VyTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pik7XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TW91c2VFdmVudFRyaWdnZXJMaXN0RGF0YSguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgZTpNb3VzZUV2ZW50ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5fZ2V0TW91c2VFdmVudFRyaWdnZXJMaXN0KGUpLCBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IGU6TW91c2VFdmVudCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0OndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBbdHJpZ2dlckxpc3QsIGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW51bSBFRXZlbnRUYWd7XG4gICAgICAgIE1PVVNFX09WRVIgPSA8YW55PlwiTU9VU0VfT1ZFUlwiLFxuICAgICAgICBNT1VTRV9PVVQgPSA8YW55PlwiTU9VU0VfT1VUXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIC8vdG9kbyBhZGQgY29weSBtZXRob2RcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRW50aXR5T2JqZWN0IGV4dGVuZHMgRW50aXR5e1xuICAgICAgICBwcml2YXRlIF9zY3JpcHRMaXN0OndkQ2IuSGFzaDxJU2NyaXB0QmVoYXZpb3I+ID0gd2RDYi5IYXNoLmNyZWF0ZTxJU2NyaXB0QmVoYXZpb3I+KCk7XG4gICAgICAgIGdldCBzY3JpcHRMaXN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NyaXB0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1YmJsZVBhcmVudDpFbnRpdHlPYmplY3QgPSBudWxsO1xuICAgICAgICBnZXQgYnViYmxlUGFyZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnViYmxlUGFyZW50ID8gdGhpcy5fYnViYmxlUGFyZW50IDogdGhpcy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1YmJsZVBhcmVudChidWJibGVQYXJlbnQ6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2J1YmJsZVBhcmVudCA9IGJ1YmJsZVBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyYW5zZm9ybTpUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBnZXQgdHJhbnNmb3JtKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0cmFuc2Zvcm0odHJhbnNmb3JtOlRyYW5zZm9ybSl7XG4gICAgICAgICAgICBpZighdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX3RyYW5zZm9ybSl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQodGhpcy5fdHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBuYW1lOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwYXJlbnQ6RW50aXR5T2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgYWN0aW9uTWFuYWdlcjpBY3Rpb25NYW5hZ2VyID0gQWN0aW9uTWFuYWdlci5jcmVhdGUoKTtcblxuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0TG9vcEhhbmRsZXI6KCkgPT4gdm9pZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBlbmRMb29wSGFuZGxlcjooKSA9PiB2b2lkID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGNvbXBvbmVudHM6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBwcml2YXRlIF9zY3JpcHRFeGVjdXRlSGlzdG9yeTp3ZENiLkhhc2g8Ym9vbGVhbj4gPSB3ZENiLkhhc2guY3JlYXRlPGJvb2xlYW4+KCk7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMb29wSGFuZGxlciA9IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RhcnRMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW5kTG9vcEhhbmRsZXIgPSB3ZENiLkZ1bmN0aW9uVXRpbHMuYmluZCh0aGlzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVuZExvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmJpbmRTdGFydExvb3BFdmVudCgpO1xuICAgICAgICAgICAgdGhpcy5iaW5kRW5kTG9vcEV2ZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdENvbXBvbmVudCgpO1xuXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLmluaXQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFmdGVySW5pdENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RhcnRMb29wKCkge1xuICAgICAgICAgICAgdGhpcy5leGVjU2NyaXB0KFwib25TdGFydExvb3BcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbmRMb29wKCkge1xuICAgICAgICAgICAgdGhpcy5leGVjU2NyaXB0KFwib25FbmRMb29wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRW50ZXIoKSB7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FeGl0KCkge1xuICAgICAgICAgICAgdGhpcy5leGVjU2NyaXB0KFwib25FeGl0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5leGVjU2NyaXB0KFwib25EaXNwb3NlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICB2YXIgY29tcG9uZW50cyA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMub25EaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMucGFyZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vZmYodGhpcyk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vZmYoPGFueT5FRW5naW5lRXZlbnQuU1RBUlRMT09QLCB0aGlzLnN0YXJ0TG9vcEhhbmRsZXIpO1xuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZig8YW55PkVFbmdpbmVFdmVudC5FTkRMT09QLCB0aGlzLmVuZExvb3BIYW5kbGVyKTtcblxuICAgICAgICAgICAgY29tcG9uZW50cyA9IHRoaXMucmVtb3ZlQWxsQ29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNDaGlsZChjaGlsZDpFbnRpdHlPYmplY3QpOmJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uaGFzQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6RW50aXR5T2JqZWN0IHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZENoaWxkKGNoaWxkKTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgbm8gbmVlZCB0byBzb3J0IVxuICAgICAgICAgICAgIGJlY2F1c2UgV2ViR0xSZW5kZXJlciBlbmFibGUgZGVwdGggdGVzdCwgaXQgd2lsbCBzb3J0IHdoZW4gbmVlZGVkKGp1c3QgYXMgV2ViR0xSZW5kZXJlci0+cmVuZGVyU29ydGVkVHJhbnNwYXJlbnRDb21tYW5kcyBzb3J0IHRoZSBjb21tYW5kcylcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBjaGlsZC5vbkVudGVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOkVudGl0eU9iamVjdCk7XG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZHJlbihjaGlsZHJlbjpBcnJheTxFbnRpdHlPYmplY3Q+KTtcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KTtcblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oLi4uYXJncykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5hZGRDaGlsZHJlbihhcmdzWzBdKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9yRWFjaChmdW5jOihlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KSA9PiB2b2lkKXtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmlsdGVyKGZ1bmM6KGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpID0+IGJvb2xlYW4pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmlsdGVyKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNvcnQoZnVuYzooYTpFbnRpdHlPYmplY3QsIGI6RW50aXR5T2JqZWN0KSA9PiBhbnksIGlzU29ydFNlbGYgPSBmYWxzZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5zb3J0KGZ1bmMsIGlzU29ydFNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkcmVuKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZChpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZ2V0Q2hpbGQoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDaGlsZEJ5VWlkKHVpZDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZE9uZSgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnVpZCA9PT0gdWlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZENoaWxkQnlUYWcodGFnOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5maW5kT25lKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaGFzVGFnKHRhZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRCeU5hbWUobmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZE9uZSgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLm5hbWUuc2VhcmNoKG5hbWUpID4gLTE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRyZW5CeU5hbWUobmFtZTpzdHJpbmcpOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmlsdGVyKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQubmFtZS5zZWFyY2gobmFtZSkgPiAtMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvbXBvbmVudDxUPihfY2xhc3M6RnVuY3Rpb24pOlR7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLmZpbmRPbmUoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgX2NsYXNzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZENvbXBvbmVudEJ5VWlkKHVpZDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5maW5kT25lKChjb21wb25lbnQ6Q29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC51aWQgPT09IHVpZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldEZpcnN0Q29tcG9uZW50KCk6Q29tcG9uZW50IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZ2V0Q2hpbGQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9yRWFjaENvbXBvbmVudChmdW5jOihjb21wb25lbnQ6Q29tcG9uZW50KSA9PiB2b2lkKXtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKGZ1bmMpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZChjaGlsZDpFbnRpdHlPYmplY3QpOkVudGl0eU9iamVjdCB7XG4gICAgICAgICAgICBjaGlsZC5vbkV4aXQoKTtcblxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVDaGlsZChjaGlsZCk7XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NvbXBvbmVudChjb21wb25lbnQ6Q29tcG9uZW50KTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgaGFzQ29tcG9uZW50KF9jbGFzczpGdW5jdGlvbik6Ym9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgaGFzQ29tcG9uZW50KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIENvbXBvbmVudCl7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLmhhc0NoaWxkKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBfY2xhc3MgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5oYXNDaGlsZCgoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBfY2xhc3M7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICBpZih0aGlzLmhhc0NvbXBvbmVudChjb21wb25lbnQpKXtcbiAgICAgICAgICAgICAgICBMb2cuYXNzZXJ0KGZhbHNlLCBcInRoZSBjb21wb25lbnQgYWxyZWFkeSBleGlzdFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmFkZENoaWxkKGNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIGNvbXBvbmVudC5hZGRUb09iamVjdCh0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDpDb21wb25lbnQpO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KF9jbGFzczpGdW5jdGlvbik7XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNvbXBvbmVudCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQ6Q29tcG9uZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIENvbXBvbmVudCl7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gPENvbXBvbmVudD5hcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudDxhbnk+KDxGdW5jdGlvbj5hcmdzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnJlbW92ZUNoaWxkKGNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbXBvbmVudEhhbmRsZXIoY29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQWxsQ29tcG9uZW50KCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQ6Q29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tcG9uZW50SGFuZGxlcihjb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZENoaWxkKGNvbXBvbmVudClcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW5kZXIocmVuZGVyZXI6UmVuZGVyZXIsIGNhbWVyYTpHYW1lT2JqZWN0KTp2b2lkIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dldEdlb21ldHJ5KCksXG4gICAgICAgICAgICAgICAgcmVuZGVyZXJDb21wb25lbnQgPSB0aGlzLl9nZXRSZW5kZXJlckNvbXBvbmVudCgpO1xuXG4gICAgICAgICAgICBpZihyZW5kZXJlckNvbXBvbmVudCAmJiBnZW9tZXRyeSl7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXJDb21wb25lbnQucmVuZGVyKHJlbmRlcmVyLCBnZW9tZXRyeSwgIGNhbWVyYSk7XG5cbiAgICAgICAgICAgICAgICBEZWJ1Z1N0YXRpc3RpY3MuY291bnQucmVuZGVyR2FtZU9iamVjdHMrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5nZXRSZW5kZXJMaXN0KCkuZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVuZGVyKHJlbmRlcmVyLCBjYW1lcmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gdGhpcy5fZ2V0QW5pbWF0aW9uKCksXG4gICAgICAgICAgICAgICAgY29sbGlkZXIgPSB0aGlzLl9nZXRDb2xsaWRlcigpO1xuXG4gICAgICAgICAgICBpZihhbmltYXRpb24pe1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFjdGlvbk1hbmFnZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5leGVjU2NyaXB0KFwidXBkYXRlXCIsIGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYoY29sbGlkZXIpe1xuICAgICAgICAgICAgICAgIGNvbGxpZGVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmVmb3JlVXBkYXRlQ2hpbGRyZW4oZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBleGVjU2NyaXB0KG1ldGhvZDpzdHJpbmcpO1xuICAgICAgICBwdWJsaWMgZXhlY1NjcmlwdChtZXRob2Q6c3RyaW5nLCBhcmc6YW55KTtcbiAgICAgICAgcHVibGljIGV4ZWNTY3JpcHQobWV0aG9kOnN0cmluZywgYXJnOmFueSwgaXNFeGVjT25seU9uY2U6Ym9vbGVhbik7XG5cbiAgICAgICAgcHVibGljIGV4ZWNTY3JpcHQoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgbWV0aG9kOnN0cmluZyA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JpcHRMaXN0LmZvckVhY2goKHNjcmlwdDpJU2NyaXB0QmVoYXZpb3IsIHNjcmlwdE5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFttZXRob2RdICYmIHNjcmlwdFttZXRob2RdKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRkVG9TY3JpcHRFeGVjdXRlSGlzdG9yeShzY3JpcHROYW1lLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IGFyZzphbnkgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NyaXB0TGlzdC5mb3JFYWNoKChzY3JpcHQ6SVNjcmlwdEJlaGF2aW9yLCBzY3JpcHROYW1lOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHRbbWV0aG9kXSAmJiBzY3JpcHRbbWV0aG9kXShhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkZFRvU2NyaXB0RXhlY3V0ZUhpc3Rvcnkoc2NyaXB0TmFtZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCBhcmc6YW55ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaXNFeGVjT25seU9uY2U6Ym9vbGVhbiA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JpcHRMaXN0LmZvckVhY2goKHNjcmlwdDpJU2NyaXB0QmVoYXZpb3IsIHNjcmlwdE5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGlzRXhlY09ubHlPbmNlICYmIHNlbGYuX2lzU2NyaXB0RXhlY3V0ZWQoc2NyaXB0TmFtZSwgbWV0aG9kKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRbbWV0aG9kXSAmJiBzY3JpcHRbbWV0aG9kXShhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkZFRvU2NyaXB0RXhlY3V0ZUhpc3Rvcnkoc2NyaXB0TmFtZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBleGVjRXZlbnRTY3JpcHQobWV0aG9kOnN0cmluZywgYXJnPzphbnkpe1xuICAgICAgICAgICAgdGhpcy5fc2NyaXB0TGlzdC5mb3JFYWNoKChzY3JpcHQ6SUV2ZW50U2NyaXB0QmVoYXZpb3IpID0+IHtcbiAgICAgICAgICAgICAgICBzY3JpcHRbbWV0aG9kXSAmJiAoYXJnID8gc2NyaXB0W21ldGhvZF0oYXJnKSA6IHNjcmlwdFttZXRob2RdKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlVHJhbnNmb3JtKCk6VHJhbnNmb3JtO1xuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVVcGRhdGVDaGlsZHJlbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVySW5pdENoaWxkcmVuKCl7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgYmluZFN0YXJ0TG9vcEV2ZW50KCl7XG4gICAgICAgICAgICBFdmVudE1hbmFnZXIub24oPGFueT5FRW5naW5lRXZlbnQuU1RBUlRMT09QLCB0aGlzLnN0YXJ0TG9vcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGJpbmRFbmRMb29wRXZlbnQoKXtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbig8YW55PkVFbmdpbmVFdmVudC5FTkRMT09QLCB0aGlzLmVuZExvb3BIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZW5kZXJMaXN0KCl7XG4gICAgICAgICAgICBpZih0aGlzLmNoaWxkcmVuLmdldENvdW50KCkgPiAxMDApe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hpbGRyZW4uZ2V0Q291bnQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRDb21wb25lbnQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQ29tcG9uZW50KEdlb21ldHJ5KSl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5pbml0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShjb21wb25lbnQgaW5zdGFuY2VvZiBHZW9tZXRyeSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuaW5pdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QWxsQ2hpbGRyZW4oKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEVudGl0eU9iamVjdD4oKTtcbiAgICAgICAgICAgIHZhciBnZXRDaGlsZHJlbiA9IChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZENoaWxkcmVuKGVudGl0eU9iamVjdC5nZXRDaGlsZHJlbigpKTtcblxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q2hpbGRyZW4oY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRDaGlsZHJlbih0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZXRDb21wb25lbnRDb3VudChHZW9tZXRyeSkgPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwiZW50aXR5T2JqZWN0XCIsIFwiY29udGFpbiBtb3JlIHRoYW4gMSBnZW9tZXRyeSBjb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRHZW9tZXRyeSgpOkdlb21ldHJ5e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZ2V0Q29tcG9uZW50Q291bnQoQW5pbWF0aW9uKSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIG1vcmUgdGhhbiAxIGFuaW1hdGlvbiBjb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRBbmltYXRpb24oKTpBbmltYXRpb257XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnQ8QW5pbWF0aW9uPihBbmltYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmdldENvbXBvbmVudENvdW50KFJlbmRlcmVyQ29tcG9uZW50KSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIG1vcmUgdGhhbiAxIHJlbmRlcmVyQ29tcG9uZW50XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0UmVuZGVyZXJDb21wb25lbnQoKTpSZW5kZXJlckNvbXBvbmVudHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudDxSZW5kZXJlckNvbXBvbmVudD4oUmVuZGVyZXJDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmdldENvbXBvbmVudENvdW50KENvbGxpZGVyKSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIG1vcmUgdGhhbiAxIGNvbGxpZGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVyKCk6Q29sbGlkZXJ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnQ8Q29sbGlkZXI+KENvbGxpZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDb21wb25lbnRDb3VudChfY2xhc3M6RnVuY3Rpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgX2NsYXNzO1xuICAgICAgICAgICAgfSkuZ2V0Q291bnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZUNvbXBvbmVudEhhbmRsZXIoY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICBjb21wb25lbnQucmVtb3ZlRnJvbU9iamVjdCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFRvU2NyaXB0RXhlY3V0ZUhpc3Rvcnkoc2NyaXB0TmFtZTpzdHJpbmcsIG1ldGhvZDpzdHJpbmcpe1xuICAgICAgICAgICAgdGhpcy5fc2NyaXB0RXhlY3V0ZUhpc3RvcnkuYWRkQ2hpbGQodGhpcy5fYnVpbGRTY3JpcHRIaXN0b3J5S2V5KHNjcmlwdE5hbWUsIG1ldGhvZCksIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNTY3JpcHRFeGVjdXRlZChzY3JpcHROYW1lOnN0cmluZywgbWV0aG9kOnN0cmluZyk6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRFeGVjdXRlSGlzdG9yeS5nZXRDaGlsZCh0aGlzLl9idWlsZFNjcmlwdEhpc3RvcnlLZXkoc2NyaXB0TmFtZSwgbWV0aG9kKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFNjcmlwdEhpc3RvcnlLZXkoc2NyaXB0TmFtZTpzdHJpbmcsIG1ldGhvZDpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuIGAke3NjcmlwdE5hbWV9XyR7bWV0aG9kfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBVSU9iamVjdCBleHRlbmRzIEVudGl0eU9iamVjdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNmb3JtOlJlY3RUcmFuc2Zvcm07XG5cbiAgICAgICAgcHVibGljIG5hbWU6c3RyaW5nID0gYHVpT2JqZWN0JHtTdHJpbmcodGhpcy51aWQpfWA7XG4gICAgICAgIHB1YmxpYyB1aU1hbmFnZXI6VUlNYW5hZ2VyID0gVUlNYW5hZ2VyLmNyZWF0ZSh0aGlzKTtcblxuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPFVJT2JqZWN0PjtcblxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlVXBkYXRlQ2hpbGRyZW4oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudWlNYW5hZ2VyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVHJhbnNmb3JtKCl7XG4gICAgICAgICAgICByZXR1cm4gUmVjdFRyYW5zZm9ybS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgaWYoY29tcG9uZW50IGluc3RhbmNlb2YgVUkpe1xuICAgICAgICAgICAgICAgIGFzc2VydCghISF0aGlzLmdldENvbXBvbmVudChVSSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib25seSBoYXMgb25lIFVJIGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICBzdXBlci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihjaGlsZDpFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZ2V0Q29tcG9uZW50KFVJUmVuZGVyZXIpID09PSBjaGlsZC5nZXRDb21wb25lbnQoVUlSZW5kZXJlciksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInRoZSBVSVJlbmRlcmVyIG9mIFVJT2JqZWN0IGFuZCBpdHMgY2hpbGRyZW5cIiwgXCJ0aGUgc2FtZSBvbmVcIikpXG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZChjaGlsZDpFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgc3VwZXIuYWRkQ2hpbGQoY2hpbGQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0IGV4dGVuZHMgRW50aXR5T2JqZWN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmFuc2Zvcm06VGhyZWVEVHJhbnNmb3JtO1xuXG4gICAgICAgIHB1YmxpYyBuYW1lOnN0cmluZyA9IGBnYW1lT2JqZWN0JHtTdHJpbmcodGhpcy51aWQpfWA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PjtcblxuXG4gICAgICAgIHB1YmxpYyBnZXRTcGFjZVBhcnRpdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50PFNwYWNlUGFydGl0aW9uPihTcGFjZVBhcnRpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGQoY2hpbGQ6R2FtZU9iamVjdCk6RW50aXR5T2JqZWN0IHtcbiAgICAgICAgICAgIGlmKGNoaWxkLmhhc0NvbXBvbmVudChDYW1lcmFDb250cm9sbGVyKSl7XG4gICAgICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5nYW1lT2JqZWN0U2NlbmUuYWRkVG9DYW1lcmFMaXN0KGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHJldHVybiBUaHJlZURUcmFuc2Zvcm0uY3JlYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVuZGVyTGlzdCgpe1xuICAgICAgICAgICAgaWYodGhpcy5oYXNDb21wb25lbnQoT2N0cmVlKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3BhY2VQYXJ0aXRpb24oKS5nZXRSZW5kZXJMaXN0QnlGcnVzdHVtQ3VsbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckluaXRDaGlsZHJlbigpe1xuICAgICAgICAgICAgaWYodGhpcy5oYXNDb21wb25lbnQoT2N0cmVlKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3BhY2VQYXJ0aXRpb24oKS5idWlsZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTY2VuZURpc3BhdGNoZXIgZXh0ZW5kcyBFbnRpdHlPYmplY3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgICB1c2UgZ2FtZU9iamVjdFNjZW5lLT5zY3JpcHRMaXN0IGFzIHNjZW5lLT5zY3JpcHRMaXN0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQgc2NyaXB0TGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNjcmlwdExpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKiFcbiAgICAgICAgIHVzZSBnYW1lT2JqZWN0U2NlbmUtPmFjdGlvbk1hbmFnZXIgYXMgc2NlbmUtPmFjdGlvbk1hbmFnZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldCBhY3Rpb25NYW5hZ2VyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUuYWN0aW9uTWFuYWdlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBhbWJpZW50TGlnaHQoKTpHYW1lT2JqZWN0IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5hbWJpZW50TGlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGdldCBkaXJlY3Rpb25MaWdodHMoKTogd2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmRpcmVjdGlvbkxpZ2h0cztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2V0IHBvaW50TGlnaHRzKCk6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5wb2ludExpZ2h0cztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2V0IHNpZGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5zaWRlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBzaWRlKHNpZGU6RVNpZGUpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUuc2lkZSA9IHNpZGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGdldCBzaGFkb3dNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5zaGFkb3dNYXA7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNoYWRvd01hcChzaGFkb3dNYXA6YW55KXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNoYWRvd01hcCA9IHNoYWRvd01hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBzaGFkZXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5zaGFkZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNoYWRlcihzaGFkZXI6U2hhZGVyKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjdXJyZW50Q2FtZXJhKCk6R2FtZU9iamVjdHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5jdXJyZW50Q2FtZXJhO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjdXJyZW50Q2FtZXJhKGFyZzpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmN1cnJlbnRDYW1lcmEgPSBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNVc2VQcm9ncmFtKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUuaXNVc2VQcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIHNldCBpc1VzZVByb2dyYW0oaXNVc2VQcm9ncmFtOmJvb2xlYW4pe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUuaXNVc2VQcm9ncmFtID0gaXNVc2VQcm9ncmFtO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHBoeXNpY3MoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5waHlzaWNzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBwaHlzaWNzKHBoeXNpY3M6UGh5c2ljc0NvbmZpZyl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5waHlzaWNzID0gcGh5c2ljcztcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBwaHlzaWNzRW5naW5lQWRhcHRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyO1xuICAgICAgICB9XG4gICAgICAgIHNldCBwaHlzaWNzRW5naW5lQWRhcHRlcihwaHlzaWNzRW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUucGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBwaHlzaWNzRW5naW5lQWRhcHRlcjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIG5hbWU6c3RyaW5nID0gYHNjZW5lJHtTdHJpbmcodGhpcy51aWQpfWA7XG5cbiAgICAgICAgcHVibGljIHVpT2JqZWN0U2NlbmU6VUlPYmplY3RTY2VuZSA9IFVJT2JqZWN0U2NlbmUuY3JlYXRlKCk7XG4gICAgICAgIHB1YmxpYyBnYW1lT2JqZWN0U2NlbmU6R2FtZU9iamVjdFNjZW5lID0gR2FtZU9iamVjdFNjZW5lLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoU2NlbmVFdmVudFRyaWdnZXJEZXRlY3Rvci5jcmVhdGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXNlUHJvZ3JhbShzaGFkZXI6U2hhZGVyKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnVzZVByb2dyYW0oc2hhZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1blVzZVByb2dyYW0oKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnVuVXNlUHJvZ3JhbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6RW50aXR5T2JqZWN0e1xuICAgICAgICAgICAgaWYoY2hpbGQgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNoaWxkIGluc3RhbmNlb2YgVUlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHRoaXMudWlPYmplY3RTY2VuZS5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyOlJlbmRlclRhcmdldFJlbmRlcmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5hZGRSZW5kZXJUYXJnZXRSZW5kZXJlcihyZW5kZXJUYXJnZXRSZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUucmVtb3ZlUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMudWlPYmplY3RTY2VuZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzQ2hpbGQoY2hpbGQ6RW50aXR5T2JqZWN0KTpib29sZWFuIHtcbiAgICAgICAgICAgIGlmKGNoaWxkIGluc3RhbmNlb2YgR2FtZU9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmhhc0NoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY2hpbGQgaW5zdGFuY2VvZiBVSU9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudWlPYmplY3RTY2VuZS5oYXNDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oY2hpbGRyZW46RW50aXR5T2JqZWN0KTtcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOkFycmF5PEVudGl0eU9iamVjdD4pO1xuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pO1xuXG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZHJlbiguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQ6RW50aXR5T2JqZWN0ID0gPEVudGl0eU9iamVjdD5hcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2Ygd2RDYi5Db2xsZWN0aW9uKXtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4gPSA8d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4+YXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKEp1ZGdlVXRpbHMuaXNBcnJheShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuOkFycmF5PEVudGl0eU9iamVjdD4gPSA8QXJyYXk8RW50aXR5T2JqZWN0Pj5hcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgZm9yKGxldCBjaGlsZCBvZiBjaGlsZHJlbil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGRyZW4oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5nZXRDaGlsZHJlbigpLmFkZENoaWxkcmVuKHRoaXMudWlPYmplY3RTY2VuZS5nZXRDaGlsZHJlbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRCeVVpZCh1aWQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmdhbWVPYmplY3RTY2VuZS5maW5kQ2hpbGRCeVVpZCh1aWQpO1xuXG4gICAgICAgICAgICBpZighcmVzdWx0KXtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnVpT2JqZWN0U2NlbmUuZmluZENoaWxkQnlVaWQodWlkKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDaGlsZEJ5VGFnKHRhZzpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZ2FtZU9iamVjdFNjZW5lLmZpbmRDaGlsZEJ5VGFnKHRhZyk7XG5cbiAgICAgICAgICAgIGlmKCFyZXN1bHQpe1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMudWlPYmplY3RTY2VuZS5maW5kQ2hpbGRCeVRhZyh0YWcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZENoaWxkQnlOYW1lKG5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmdhbWVPYmplY3RTY2VuZS5maW5kQ2hpbGRCeU5hbWUobmFtZSk7XG5cbiAgICAgICAgICAgIGlmKCFyZXN1bHQpe1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMudWlPYmplY3RTY2VuZS5maW5kQ2hpbGRCeU5hbWUobmFtZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRyZW5CeU5hbWUobmFtZTpzdHJpbmcpOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmZpbmRDaGlsZHJlbkJ5TmFtZShuYW1lKS5hZGRDaGlsZHJlbih0aGlzLnVpT2JqZWN0U2NlbmUuZmluZENoaWxkcmVuQnlOYW1lKG5hbWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZChjaGlsZDpFbnRpdHlPYmplY3QpOkVudGl0eU9iamVjdCB7XG4gICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIEdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNoaWxkIGluc3RhbmNlb2YgVUlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVpT2JqZWN0U2NlbmUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RhcnRMb29wKCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUub25TdGFydExvb3AoKTtcbiAgICAgICAgICAgIHRoaXMudWlPYmplY3RTY2VuZS5vblN0YXJ0TG9vcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRW5kTG9vcCgpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLm9uRW5kTG9vcCgpO1xuICAgICAgICAgICAgdGhpcy51aU9iamVjdFNjZW5lLm9uRW5kTG9vcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRW50ZXIoKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5vbkVudGVyKCk7XG4gICAgICAgICAgICB0aGlzLnVpT2JqZWN0U2NlbmUub25FbnRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRXhpdCgpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLm9uRXhpdCgpO1xuICAgICAgICAgICAgdGhpcy51aU9iamVjdFNjZW5lLm9uRXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUub25EaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnVpT2JqZWN0U2NlbmUub25EaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZXhlY1NjcmlwdChtZXRob2Q6c3RyaW5nLCBhcmc/OmFueSl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5leGVjU2NyaXB0LmFwcGx5KHRoaXMuZ2FtZU9iamVjdFNjZW5lLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGV4ZWNFdmVudFNjcmlwdChtZXRob2Q6c3RyaW5nLCBhcmc/OmFueSl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5leGVjRXZlbnRTY3JpcHQuYXBwbHkodGhpcy5nYW1lT2JqZWN0U2NlbmUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVHJhbnNmb3JtKCl7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2NlbmUgZXh0ZW5kcyBFbnRpdHlPYmplY3Qge1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgR2FtZU9iamVjdFNjZW5lIGV4dGVuZHMgU2NlbmV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGFtYmllbnRMaWdodCgpOkdhbWVPYmplY3Qge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0TWFuYWdlci5hbWJpZW50TGlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZGlyZWN0aW9uTGlnaHRzKCk6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodE1hbmFnZXIuZGlyZWN0aW9uTGlnaHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHBvaW50TGlnaHRzKCk6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodE1hbmFnZXIucG9pbnRMaWdodHM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jdXJyZW50Q2FtZXJhOkdhbWVPYmplY3QgPSBudWxsO1xuICAgICAgICBnZXQgY3VycmVudENhbWVyYSgpOmFueXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50Q2FtZXJhIHx8IHRoaXMuX2NhbWVyYUxpc3QuZ2V0Q2hpbGQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oYXJnOmFueSl7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZykpe1xuICAgICAgICAgICAgICAgIGxldCBpbmRleDpudW1iZXIgPSBhcmc7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoISF0aGlzLl9jYW1lcmFMaXN0LmdldENoaWxkKGluZGV4KSwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoXCJjdXJyZW50IGNhbWVyYSBpbiBjYW1lcmFMaXN0XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgc2V0IGN1cnJlbnRDYW1lcmEoYXJnOmFueSl7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZykpe1xuICAgICAgICAgICAgICAgIGxldCBpbmRleDpudW1iZXIgPSBhcmc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Q2FtZXJhID0gdGhpcy5fY2FtZXJhTGlzdC5nZXRDaGlsZChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZyBpbnN0YW5jZW9mIEdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q2FtZXJhOkdhbWVPYmplY3QgPSBhcmc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Q2FtZXJhID0gY3VycmVudENhbWVyYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaWRlOkVTaWRlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNoYWRvd01hcCA9IHtcbiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHNvZnRUeXBlOiBFU2hhZG93TWFwU29mdFR5cGUuTk9ORVxuICAgICAgICB9O1xuICAgICAgICBwdWJsaWMgc2hhZGVyOlNoYWRlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1VzZVByb2dyYW06Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGh5c2ljcyA9IFBoeXNpY3NDb25maWcuY3JlYXRlKCk7XG4gICAgICAgIHB1YmxpYyBwaHlzaWNzRW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2xpZ2h0TWFuYWdlcjpMaWdodE1hbmFnZXIgPSBMaWdodE1hbmFnZXIuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX3JlbmRlclRhcmdldFJlbmRlcmVyczp3ZENiLkNvbGxlY3Rpb248UmVuZGVyVGFyZ2V0UmVuZGVyZXI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxSZW5kZXJUYXJnZXRSZW5kZXJlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfY29sbGlzaW9uRGV0ZWN0b3I6Q29sbGlzaW9uRGV0ZWN0b3IgPSBDb2xsaXNpb25EZXRlY3Rvci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfY2FtZXJhTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMucGh5c2ljcy5lbmFibGUpe1xuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBQaHlzaWNzRW5naW5lRmFjdG9yeS5jcmVhdGUodGhpcy5waHlzaWNzLmVuZ2luZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzRW5naW5lQWRhcHRlci5pbml0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFyZ2V0UmVuZGVyZXJzLmZvckVhY2goKHJlbmRlclRhcmdldFJlbmRlcmVyOlJlbmRlclRhcmdldFJlbmRlcmVyKSA9PiByZW5kZXJUYXJnZXRSZW5kZXJlci5pbml0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1c2VQcm9ncmFtKHNoYWRlcjpTaGFkZXIpe1xuICAgICAgICAgICAgdGhpcy5pc1VzZVByb2dyYW0gPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1blVzZVByb2dyYW0oKXtcbiAgICAgICAgICAgIHRoaXMuaXNVc2VQcm9ncmFtID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGQoY2hpbGQ6R2FtZU9iamVjdCk6R2FtZU9iamVjdHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzQ2FtZXJhKGNoaWxkKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhTGlzdC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuX2lzTGlnaHQoY2hpbGQpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodE1hbmFnZXIuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gPEdhbWVPYmplY3Q+c3VwZXIuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oY2FtZXJhT2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgYXNzZXJ0KGNhbWVyYU9iamVjdC5oYXNDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib25seSBhZGQgY2FtZXJhIG9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRUb0NhbWVyYUxpc3QoY2FtZXJhT2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5fY2FtZXJhTGlzdC5hZGRDaGlsZChjYW1lcmFPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyOlJlbmRlclRhcmdldFJlbmRlcmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcmdldFJlbmRlcmVycy5hZGRDaGlsZChyZW5kZXJUYXJnZXRSZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFyZ2V0UmVuZGVyZXJzLnJlbW92ZUNoaWxkKHJlbmRlclRhcmdldFJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2FtZXJhQ29tcG9uZW50ID0gdGhpcy5fZ2V0Q3VycmVudENhbWVyYUNvbXBvbmVudCgpO1xuXG4gICAgICAgICAgICBpZih0aGlzLnBoeXNpY3MuZW5hYmxlKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3NFbmdpbmVBZGFwdGVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGN1cnJlbnRDYW1lcmFDb21wb25lbnQpe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDYW1lcmFDb21wb25lbnQudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY29sbGlzaW9uRGV0ZWN0b3IuZGV0ZWN0KHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbmRlcihyZW5kZXJlcjpSZW5kZXJlcikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXRSZW5kZXJlcnMuZm9yRWFjaCgodGFyZ2V0OlJlbmRlclRhcmdldFJlbmRlcmVyKSA9PntcbiAgICAgICAgICAgICAgICB0YXJnZXQucmVuZGVyKHJlbmRlcmVyLCBzZWxmLmN1cnJlbnRDYW1lcmEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN1cGVyLnJlbmRlcihyZW5kZXJlciwgdGhpcy5jdXJyZW50Q2FtZXJhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDYW1lcmEoY2hpbGQ6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuaGFzQ29tcG9uZW50KENhbWVyYUNvbnRyb2xsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNMaWdodChjaGlsZDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5oYXNDb21wb25lbnQoTGlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q3VycmVudENhbWVyYUNvbXBvbmVudCgpOkNhbWVyYUNvbnRyb2xsZXJ7XG4gICAgICAgICAgICBpZighdGhpcy5jdXJyZW50Q2FtZXJhKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgUGh5c2ljc0NvbmZpZ3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dyYXZpdHk6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIC05LjgsIDApO1xuICAgICAgICBAb3BlcmF0ZVdvcmxkRGF0YUdldHRlckFuZFNldHRlcihcIkdyYXZpdHlcIilcbiAgICAgICAgZ2V0IGdyYXZpdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmF2aXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBncmF2aXR5KGdyYXZpdHk6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl9ncmF2aXR5ID0gZ3Jhdml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbmFibGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZW5naW5lOkVQaHlzaWNzRW5naW5lVHlwZSA9IEVQaHlzaWNzRW5naW5lVHlwZS5DQU5OT047XG4gICAgICAgIHB1YmxpYyBpdGVyYXRpb25zOm51bWJlciA9IDEwO1xuICAgIH1cblxuXG4gICAgZXhwb3J0IHR5cGUgU2hhZG93TWFwQ29uZmlnID0ge1xuICAgICAgICBlbmFibGU6Ym9vbGVhbjtcbiAgICAgICAgc29mdFR5cGU6RVNoYWRvd01hcFNvZnRUeXBlXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRVNoYWRvd01hcFNvZnRUeXBle1xuICAgICAgICBOT05FLFxuICAgICAgICBQQ0ZcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFVJT2JqZWN0U2NlbmUgZXh0ZW5kcyBTY2VuZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbmRMb29wKCkge1xuICAgICAgICAgICAgc3VwZXIub25FbmRMb29wKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0QWxsVHJhbnNmb3JtU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0QWxsUmVuZGVyZXJDbGVhckNhbnZhc0ZsYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvblN0YXJ0TG9vcCgpe1xuICAgICAgICAgICAgc3VwZXIub25TdGFydExvb3AoKTtcblxuICAgICAgICAgICAgdGhpcy5fc29ydFNpYmxpbmdDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVRyYW5zZm9ybSgpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydChjaGlsZCBpbnN0YW5jZW9mIFVJT2JqZWN0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJjaGlsZFwiLCBcIlVJT2JqZWN0XCIpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2hpbGQuaGFzQ29tcG9uZW50KFVJKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJVSU9iamVjdFwiLCBcImNvbnRhaW4gdWkgY29tcG9uZW50XCIpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVVcGRhdGVDaGlsZHJlbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNldEFsbFJlbmRlcmVyU3RhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgaWYocmVuZGVyZXIuZGlydHkpe1xuICAgICAgICAgICAgICAgICAgICBpZighcmVuZGVyZXIuaXNDbGVhckNhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuY2xlYXJDYW52YXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmRpcnR5RHVyaW5nQ3VycmVudExvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5ESVJUWTtcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5yZXNldERpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlbmRlcmVyLnN0YXRlICE9PSBFVUlSZW5kZXJlclN0YXRlLkRJUlRZKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5OT1RfRElSVFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiaW5kU3RhcnRMb29wRXZlbnQoKXtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbih0aGlzLCA8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1AsIHRoaXMuc3RhcnRMb29wSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYmluZEVuZExvb3BFdmVudCgpe1xuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKHRoaXMsIDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1AsIHRoaXMuZW5kTG9vcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odWlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgYXNzZXJ0KHVpT2JqZWN0LmdldENvbXBvbmVudENvdW50KFVJUmVuZGVyZXIpIDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInVpT2JqZWN0XCIsIFwiY29udGFpbiBtb3JlIHRoYW4gMSB1aVJlbmRlcmVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldFVJUmVuZGVyZXIodWlPYmplY3Q6VUlPYmplY3QpOlVJUmVuZGVyZXJ7XG4gICAgICAgICAgICByZXR1cm4gdWlPYmplY3QuZ2V0Q29tcG9uZW50PFVJUmVuZGVyZXI+KFVJUmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmdldEFsbENoaWxkcmVuKCkuZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gc2VsZi5fZ2V0VUlSZW5kZXJlcihjaGlsZCk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoIXJlbmRlcmVyLmlzQ2xlYXJDYW52YXMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwicmVzZXQgYWxsIFVJUmVuZGVyZXJzLT5pc0NsZWFyQ2FudmFzXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9yZXNldEFsbFJlbmRlcmVyQ2xlYXJDYW52YXNGbGFnKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBzZWxmLl9nZXRVSVJlbmRlcmVyKGNoaWxkKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5pc0NsZWFyQ2FudmFzID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5nZXRBbGxDaGlsZHJlbigpLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHJlbmRlcmVyLnN0YXRlID09PSBFVUlSZW5kZXJlclN0YXRlLk5PUk1BTCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJyZXNldCBhbGwgVUlSZW5kZXJlcnMtPnN0YXRlXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9yZXNldEFsbFJlbmRlcmVyU3RhdGUoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc3RhdGUgPSBFVUlSZW5kZXJlclN0YXRlLk5PUk1BTDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzZXRBbGxUcmFuc2Zvcm1TdGF0ZSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgcmVzZXQgPSAodWlPYmplY3Q6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZihzZWxmLl9pc05vdERpcnR5RHVyaW5nVGhpc0xvb3Aoc2VsZi5fZ2V0VUlSZW5kZXJlcih1aU9iamVjdCkpKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVzZXRUcmFuc2Zvcm1GbGFnKHVpT2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1aU9iamVjdC5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNldChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNldChjaGlsZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTm90RGlydHlEdXJpbmdUaGlzTG9vcChyZW5kZXJlcjpVSVJlbmRlcmVyKXtcbiAgICAgICAgICAgIHJldHVybiAhcmVuZGVyZXIuZGlydHlEdXJpbmdDdXJyZW50TG9vcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc2V0VHJhbnNmb3JtRmxhZyh1aU9iamVjdDpVSU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtOlJlY3RUcmFuc2Zvcm0gPSB1aU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybS5pc1RyYW5zbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJhbnNmb3JtLmlzU2NhbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5pc1JvdGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgXCJwdXQgYWxsIGNoaWxkcmVuIHRvZ2V0aGVyLCBzbyBpdCBjYW4gc29ydCBhbGwgY2hpbGRyZW4gYnkgekluZGV4XCI/XG4gICAgICAgIHByaXZhdGUgX3NvcnRTaWJsaW5nQ2hpbGRyZW4oKXtcbiAgICAgICAgICAgIHZhciBzb3J0ID0gKHVpT2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpT2JqZWN0LnNvcnQoKGE6VUlPYmplY3QsIGI6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudHJhbnNmb3JtLnpJbmRleCAtIGIudHJhbnNmb3JtLnpJbmRleDtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHVpT2JqZWN0LmZvckVhY2goKGNoaWxkOlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3J0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIC8qIWl0J3MgZmxpcFggd2hlbiB2aWV3ZXIgaXMgaW5zaWRlIHRoZSBza3lib3gqL1xuXG4gICAgZXhwb3J0IGNsYXNzIFNreWJveCBleHRlbmRzIEdhbWVPYmplY3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChTa3lib3hSZW5kZXJlci5jcmVhdGUoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29sbGlzaW9uRGV0ZWN0b3J7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xhc3RDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jb2xsaXNpb25UYWJsZTp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+PiA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+PigpO1xuXG4gICAgICAgIHB1YmxpYyBkZXRlY3Qoc2NlbmU6R2FtZU9iamVjdFNjZW5lKXtcbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTp1c2Ugd29ya2VyXG4gICAgICAgICAgICB2YXIgY2hlY2tUYXJnZXRMaXN0ID0gc2NlbmUuZmlsdGVyKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChDb2xsaWRlcikgfHwgSnVkZ2VVdGlscy5pc1NwYWNlUGFydGl0aW9uT2JqZWN0KGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sbGlzaW9uVGFibGUoKTtcblxuICAgICAgICAgICAgY2hlY2tUYXJnZXRMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChSaWdpZEJvZHkpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB7dGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzfSA9IHNlbGYuX2dldENvbGxpZGVPYmplY3RzKGVudGl0eU9iamVjdCwgY2hlY2tUYXJnZXRMaXN0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLmZvckVhY2goKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldENvbGxpZGVPYmplY3RzLmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzQ29sbGlzaW9uU3RhcnQoc291cmNlT2JqZWN0KSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VPYmplY3QuZXhlY1NjcmlwdChcIm9uQ29sbGlzaW9uU3RhcnRcIiwgdGFyZ2V0Q29sbGlkZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZU9iamVjdC5leGVjU2NyaXB0KFwib25Db250YWN0XCIsIHRhcmdldENvbGxpZGVPYmplY3RzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXJDb2xsaXNpb25FdmVudE9mQ29sbGlkZU9iamVjdFdoaWNoSGFzUmlnaWRCb2R5KHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VPYmplY3QsIFtcIm9uQ29sbGlzaW9uU3RhcnRcIiwgXCJvbkNvbnRhY3RcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VPYmplY3QuZXhlY1NjcmlwdChcIm9uQ29udGFjdFwiLCB0YXJnZXRDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlckNvbGxpc2lvbkV2ZW50T2ZDb2xsaWRlT2JqZWN0V2hpY2hIYXNSaWdpZEJvZHkodGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZU9iamVjdCwgW1wib25Db250YWN0XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlT2JqZWN0LmFkZFRhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFzdENvbGxpZGVPYmplY3RzID0gdGFyZ2V0Q29sbGlkZU9iamVjdHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzQ29sbGlzaW9uRW5kKHNvdXJjZU9iamVjdCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZU9iamVjdC5leGVjU2NyaXB0KFwib25Db2xsaXNpb25FbmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlckNvbGxpc2lvbkV2ZW50T2ZDb2xsaWRlT2JqZWN0V2hpY2hIYXNSaWdpZEJvZHkoc2VsZi5fbGFzdENvbGxpZGVPYmplY3RzLCBzb3VyY2VPYmplY3QsIFtcIm9uQ29sbGlzaW9uRW5kXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlT2JqZWN0LnJlbW92ZVRhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBjaGVja1RhcmdldExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0YXJnZXRPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRhcmdldE9iamVjdFwiLCBcImJlIEdhbWVPYmplY3RcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBjaGVja1RhcmdldExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDb2xsaWRlT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzU3BhY2VQYXJ0aXRpb25PYmplY3Qoc291cmNlT2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc1NlbGYoc291cmNlT2JqZWN0LCB0YXJnZXRPYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTcGFjZVBhcnRpdGlvbk9iamVjdCh0YXJnZXRPYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRPYmplY3QuZ2V0U3BhY2VQYXJ0aXRpb24oKSwgc291cmNlT2JqZWN0LmdldFNwYWNlUGFydGl0aW9uKCksIHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKHRhcmdldE9iamVjdCwgc291cmNlT2JqZWN0LmdldFNwYWNlUGFydGl0aW9uKCksIHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZENvbGxpc2lvblRhcmdldHModGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcblxuICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHM6dGFyZ2V0Q29sbGlkZU9iamVjdHMucmVtb3ZlUmVwZWF0SXRlbXMoKSxcbiAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOnNvdXJjZUNvbGxpZGVPYmplY3RzLnJlbW92ZVJlcGVhdEl0ZW1zKClcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291cmNlQ29sbGlkZXIgPSBzb3VyY2VPYmplY3QuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcik7XG5cbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTZWxmKHNvdXJjZU9iamVjdCwgdGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzU3BhY2VQYXJ0aXRpb25PYmplY3QodGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKHRhcmdldE9iamVjdC5nZXRTcGFjZVBhcnRpdGlvbigpLCBzb3VyY2VDb2xsaWRlciwgc291cmNlT2JqZWN0LCB0YXJnZXRDb2xsaWRlT2JqZWN0cywgc291cmNlQ29sbGlkZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c0J5R2FtZU9iamVjdFRvR2FtZU9iamVjdChzb3VyY2VPYmplY3QsIHNvdXJjZUNvbGxpZGVyLCB0YXJnZXRPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHMuYWRkQ2hpbGQoc291cmNlT2JqZWN0KTtcblxuICAgICAgICAgICAgaWYodGFyZ2V0Q29sbGlkZU9iamVjdHMuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZENvbGxpc2lvblRhcmdldHModGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0czp0YXJnZXRDb2xsaWRlT2JqZWN0cy5yZW1vdmVSZXBlYXRJdGVtcygpLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOnNvdXJjZUNvbGxpZGVPYmplY3RzLnJlbW92ZVJlcGVhdEl0ZW1zKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciwgdGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pil7XG4gICAgICAgICAgICBhc3NlcnQoc291cmNlT2JqZWN0IGluc3RhbmNlb2YgR2FtZU9iamVjdCAmJiB0YXJnZXRPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNvdXJjZU9iamVjdCBhbmQgdGFyZ2V0T2JqZWN0XCIsIFwiYmUgR2FtZU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzQnlHYW1lT2JqZWN0VG9HYW1lT2JqZWN0KHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciwgdGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pil7XG4gICAgICAgICAgICBpZih0aGlzLl9pc1RhcmdldENvbGxpZGVkV2l0aFNvdXJjZUluQ3VycmVudEZyYW1lKHNvdXJjZU9iamVjdCwgdGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHMuYWRkQ2hpbGQodGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoXG4gICAgICAgICAgICAgICAgISh0aGlzLl9pc05vdFRyYW5zZm9ybShzb3VyY2VPYmplY3QpICYmIHRoaXMuX2lzTm90VHJhbnNmb3JtKHRhcmdldE9iamVjdCkgJiYgIXNvdXJjZU9iamVjdC5oYXNUYWcoPGFueT5FQ29sbGlzaW9uVGFnLkNPTExJREVEKSlcbiAgICAgICAgICAgICAgICAmJiBzb3VyY2VDb2xsaWRlci5pc0NvbGxpZGUodGFyZ2V0T2JqZWN0KVxuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0cy5hZGRDaGlsZCh0YXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDb2xsaXNpb25UYWJsZSgpe1xuICAgICAgICAgICAgdGhpcy5fY29sbGlzaW9uVGFibGUucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVGFyZ2V0Q29sbGlkZWRXaXRoU291cmNlSW5DdXJyZW50RnJhbWUoc291cmNlT2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldE9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDb2xsaWRlT2JqZWN0cyA9IHRoaXMuX2NvbGxpc2lvblRhYmxlLmdldENoaWxkKFN0cmluZyh0YXJnZXRPYmplY3QudWlkKSk7XG5cbiAgICAgICAgICAgIGlmKCF0YXJnZXRDb2xsaWRlT2JqZWN0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldENvbGxpZGVPYmplY3RzLmhhc0NoaWxkKCh0YXJnZXRDb2xsaWRlT2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSnVkZ2VVdGlscy5pc0VxdWFsKHRhcmdldENvbGxpZGVPYmplY3QsIHNvdXJjZU9iamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlY29yZENvbGxpc2lvblRhcmdldHModGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBzb3VyY2VDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pe1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gdGhpcy5fY29sbGlzaW9uVGFibGU7XG5cbiAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLmZvckVhY2goKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHMuZm9yRWFjaCgodGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQoU3RyaW5nKHNvdXJjZU9iamVjdC51aWQpLCB0YXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCwgc291cmNlU3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24sIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Piwgc291cmNlQ29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KTtcbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q29sbGlkZU9iamVjdHNXaXRoU3BhY2VQYXJ0aXRpb24odGFyZ2V0U3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24sIHNvdXJjZVNwYWNlUGFydGl0aW9uOlNwYWNlUGFydGl0aW9uLCB0YXJnZXRDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pik7XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q29sbGlkZU9iamVjdHNXaXRoU3BhY2VQYXJ0aXRpb24odGFyZ2V0U3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24sIHNvdXJjZUNvbGxpZGVyOkNvbGxpZGVyLCBzb3VyY2VPYmplY3Q6R2FtZU9iamVjdCwgdGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBzb3VyY2VDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pO1xuXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2YgR2FtZU9iamVjdCAmJiBhcmdzWzFdIGluc3RhbmNlb2YgU3BhY2VQYXJ0aXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlU3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24gPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlciA9IHRhcmdldE9iamVjdC5nZXRDb21wb25lbnQ8Q29sbGlkZXI+KENvbGxpZGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVNwYWNlUGFydGl0aW9uLmdldENvbGxpZGVPYmplY3RzKHRhcmdldENvbGxpZGVyLnNoYXBlKS5mb3JFYWNoKChzb3VyY2VPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZ2V0Q29sbGlkZU9iamVjdHNCeUdhbWVPYmplY3RUb0dhbWVPYmplY3QodGFyZ2V0T2JqZWN0LCB0YXJnZXRDb2xsaWRlciwgc291cmNlT2JqZWN0LCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHNvdXJjZUNvbGxpZGVPYmplY3RzLmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbGxpZGVPYmplY3RzLmFkZENoaWxkKHRhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlT2JqZWN0cy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlT2JqZWN0cy5hZGRDaGlsZHJlbihzb3VyY2VTcGFjZVBhcnRpdGlvbi5nZXRDaGlsZHJlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihhcmdzWzBdIGluc3RhbmNlb2YgU3BhY2VQYXJ0aXRpb24gJiYgYXJnc1sxXSBpbnN0YW5jZW9mIFNwYWNlUGFydGl0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFNwYWNlUGFydGl0aW9uOlNwYWNlUGFydGl0aW9uID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVNwYWNlUGFydGl0aW9uOlNwYWNlUGFydGl0aW9uID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBhcmdzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgc291cmNlU3BhY2VQYXJ0aXRpb24uZ2V0Q2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZUNvbGxpZGVyID0gc291cmNlT2JqZWN0LmdldENvbXBvbmVudDxDb2xsaWRlcj4oQ29sbGlkZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZ2V0Q29sbGlkZU9iamVjdHNXaXRoU3BhY2VQYXJ0aXRpb24odGFyZ2V0U3BhY2VQYXJ0aXRpb24sIHNvdXJjZUNvbGxpZGVyLCBzb3VyY2VPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA1KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZU9iamVjdCA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IGFyZ3NbNF0sXG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYoIXNvdXJjZUNvbGxpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhcmdldFNwYWNlUGFydGl0aW9uLmdldENvbGxpZGVPYmplY3RzKHNvdXJjZUNvbGxpZGVyLnNoYXBlKS5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c0J5R2FtZU9iamVjdFRvR2FtZU9iamVjdChzb3VyY2VPYmplY3QsIHNvdXJjZUNvbGxpZGVyLCB0YXJnZXRPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLmFkZENoaWxkKHNvdXJjZU9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0NvbGxpc2lvblN0YXJ0KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiAhZW50aXR5T2JqZWN0Lmhhc1RhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDb2xsaXNpb25FbmQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eU9iamVjdC5oYXNUYWcoPGFueT5FQ29sbGlzaW9uVGFnLkNPTExJREVEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyaWdnZXJDb2xsaXNpb25FdmVudE9mQ29sbGlkZU9iamVjdFdoaWNoSGFzUmlnaWRCb2R5KGNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiwgY3VycmVudEdhbWVPYmplY3Q6R2FtZU9iamVjdCwgZXZlbnRMaXN0OkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgY29sbGlkZU9iamVjdHMuZmlsdGVyKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChSaWdpZEJvZHkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNvbGxpZGVPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGV2ZW50TmFtZSBvZiBldmVudExpc3Qpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlkZU9iamVjdC5leGVjU2NyaXB0KGV2ZW50TmFtZSwgd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZShbY3VycmVudEdhbWVPYmplY3RdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTm90VHJhbnNmb3JtKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiAhZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5pc1RyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVudW0gRUNvbGxpc2lvblRhZ3tcbiAgICAgICAgQ09MTElERUQgPSA8YW55PlwiQ09MTElERURcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRXZlbnRMaXN0ZW5lck1hcHtcbiAgICAgICAgcHJvdGVjdGVkIGxpc3RlbmVyTWFwOndkQ2IuSGFzaDx3ZENiLkNvbGxlY3Rpb248RXZlbnRSZWdpc3RlckRhdGE+PiA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPEV2ZW50UmVnaXN0ZXJEYXRhPj4oKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0Q2hpbGQoLi4uYXJncyk6d2RDYi5Db2xsZWN0aW9uPGFueT47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCByZW1vdmVDaGlsZCguLi5hcmdzKTphbnk7XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkKGZ1bmM6KC4uLmFyZ3MpID0+IGJvb2xlYW4pOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBoYXNDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIGhhc0NoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOmJvb2xlYW47XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc0Z1bmN0aW9uKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5oYXNDaGlsZChhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSB0aGlzLmxpc3RlbmVyTWFwLmdldENoaWxkKHRoaXMuYnVpbGRLZXkodGFyZ2V0LCBldmVudE5hbWUpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ICYmIGxpc3QuZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXBwZW5kQ2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdHxIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZEtleSh0YXJnZXQsIGV2ZW50TmFtZSksXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaWx0ZXIoZnVuYzpGdW5jdGlvbil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5maWx0ZXIoZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9yRWFjaChmdW5jOkZ1bmN0aW9uKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZvckVhY2goZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnROYW1lRnJvbUtleShrZXk6c3RyaW5nKTpFRXZlbnROYW1le1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuZ2V0RXZlbnRTZXBhcmF0b3IoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHNlcGFyYXRvcikgPiAtMSA/IDxhbnk+a2V5LnNwbGl0KHNlcGFyYXRvcilbMV0gOiBrZXk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBidWlsZEtleSguLi5hcmdzKTpzdHJpbmc7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRFdmVudFNlcGFyYXRvcigpOnN0cmluZztcblxuXG4gICAgICAgIHByb3RlY3RlZCBpc0V2ZW50TmFtZShrZXk6c3RyaW5nLCBldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICByZXR1cm4ga2V5LmluZGV4T2YoYCR7dGhpcy5nZXRFdmVudFNlcGFyYXRvcigpfSR7ZXZlbnROYW1lfWApID4gLTFcbiAgICAgICAgICAgICAgICB8fCBrZXkgPT09IDxhbnk+ZXZlbnROYW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbUV2ZW50TGlzdGVuZXJNYXAgZXh0ZW5kcyBFdmVudExpc3RlbmVyTWFwe1xuICAgICAgICBwdWJsaWMgc3RhdGljIGV2ZW50U2VwYXJhdG9yID0gXCJAXCI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxpc3RlbmVyTWFwOndkQ2IuSGFzaDx3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+PjtcblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT47XG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0KTp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT47XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKC4uLmFyZ3MpOmFueXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5nZXRDaGlsZChldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZpbHRlcigobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzVGFyZ2V0KGtleSwgdGFyZ2V0LCBsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQodGhpcy5idWlsZEtleSh0YXJnZXQsIGV2ZW50TmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCh1aWQ6bnVtYmVyLCBldmVudE5hbWU6RUV2ZW50TmFtZSk6dm9pZDtcbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCguLi5hcmdzKTp2b2lke1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5pc0V2ZW50TmFtZShrZXksIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCgobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzVGFyZ2V0KGtleSwgdGFyZ2V0LCBsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4gPSBudWxsO1xuXG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmxpc3RlbmVyTWFwLmhhc0NoaWxkKGV2ZW50TmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gdGhpcy5saXN0ZW5lck1hcC5nZXRDaGlsZChldmVudE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKS5hZGRDaGlsZChsaXN0LnJlbW92ZUNoaWxkKCh2YWw6Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwub3JpZ2luSGFuZGxlciA9PT0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCh0aGlzLmJ1aWxkS2V5KHVpZCwgZXZlbnROYW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKHRoaXMuYnVpbGRLZXkodGFyZ2V0LCBldmVudE5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5yZW1vdmVDaGlsZCgodmFsOkN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLm9yaWdpbkhhbmRsZXIgPT09IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kUkVNT1ZFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0VWlkRnJvbUtleShrZXk6c3RyaW5nKTpudW1iZXJ7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gYCR7Q3VzdG9tRXZlbnRMaXN0ZW5lck1hcC5ldmVudFNlcGFyYXRvcn1gO1xuXG4gICAgICAgICAgICByZXR1cm4ga2V5LmluZGV4T2Yoc2VwYXJhdG9yKSA+IC0xID8gTnVtYmVyKDxhbnk+a2V5LnNwbGl0KHNlcGFyYXRvcilbMF0pIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RhcmdldChrZXk6c3RyaW5nLCB0YXJnZXQ6RW50aXR5T2JqZWN0LCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4pe1xuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHRoaXMuX2J1aWxkS2V5UHJlZml4KHRhcmdldC51aWQpKSA+IC0xICYmIGxpc3QgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRFdmVudFNlcGFyYXRvcigpOnN0cmluZ3tcbiAgICAgICAgICAgIHJldHVybiBgJHtDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYnVpbGRLZXkodWlkOm51bWJlciwgZXZlbnROYW1lOkVFdmVudE5hbWUpOnN0cmluZztcbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkS2V5KHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTpzdHJpbmc7XG5cbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkS2V5KC4uLmFyZ3MpOnN0cmluZ3tcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkS2V5V2l0aFVpZCh1aWQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkS2V5V2l0aFVpZCh0YXJnZXQudWlkLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzWzBdID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEtleVdpdGhVaWQodWlkOm51bWJlciwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuX2J1aWxkS2V5UHJlZml4KHVpZCl9JHtDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yfSR7ZXZlbnROYW1lfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEtleVByZWZpeCh1aWQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBgJHtTdHJpbmcodWlkKX1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBEb21FdmVudExpc3RlbmVyTWFwIGV4dGVuZHMgRXZlbnRMaXN0ZW5lck1hcHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBldmVudFNlcGFyYXRvciA9IFwiQFwiO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsaXN0ZW5lck1hcDp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPj47XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPjtcblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoLi4uYXJncyk6YW55e1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQodGhpcy5idWlsZEtleShkb20sIGV2ZW50TmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp3ZENiLkNvbGxlY3Rpb248d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50T2ZmRGF0YT4+O1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZChldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6d2RDYi5Db2xsZWN0aW9uPHdkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+PjtcbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjx3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRPZmZEYXRhPj47XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOndkQ2IuQ29sbGVjdGlvbjx3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRPZmZEYXRhPj47XG5cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoLi4uYXJncyk6d2RDYi5Db2xsZWN0aW9uPHdkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+PntcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICByZXN1bHQ6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPXRoaXMuX2dldEV2ZW50RGF0YU9mZkRhdGFMaXN0KGV2ZW50TmFtZSwgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzRXZlbnROYW1lKGtleSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5pc0V2ZW50TmFtZShrZXksIGV2ZW50TmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBsaXN0LnJlbW92ZUNoaWxkKCh2YWw6RG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5vcmlnaW5IYW5kbGVyID09PSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5hZGRDaGlsZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRSRU1PVkU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWUsIHJlc3VsdExpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZG9tID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID10aGlzLl9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWUsIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQodGhpcy5idWlsZEtleShkb20sIGV2ZW50TmFtZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGxpc3QucmVtb3ZlQ2hpbGQoKHZhbDpEb21FdmVudFJlZ2lzdGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5vcmlnaW5IYW5kbGVyID09PSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5hZGRDaGlsZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYobGlzdC5nZXRDb3VudCgpID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRSRU1PVkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldEV2ZW50RGF0YU9mZkRhdGFMaXN0KGV2ZW50TmFtZSwgcmVzdWx0TGlzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNEb20oa2V5OnN0cmluZywgZG9tOkhUTUxFbGVtZW50LCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4pe1xuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHRoaXMuX2J1aWxkS2V5UHJlZml4KGRvbSkpID4gLTEgJiYgbGlzdCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldEV2ZW50U2VwYXJhdG9yKCk6c3RyaW5ne1xuICAgICAgICAgICAgcmV0dXJuIGAke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBidWlsZEtleShkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTpzdHJpbmd7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5fYnVpbGRLZXlQcmVmaXgoZG9tKX0ke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9JHtldmVudE5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkS2V5UHJlZml4KGRvbTpIVE1MRWxlbWVudCl7XG4gICAgICAgICAgICByZXR1cm4gZG9tLmlkID8gYCR7ZG9tLnRhZ05hbWV9JHtkb20uaWR9YCA6IGAke2RvbS50YWdOYW1lfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWU6c3RyaW5nLCByZXN1bHQ6YW55KTphbnl7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgobGlzdDp3ZENiLkNvbGxlY3Rpb248YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0Lm1hcCgoZGF0YTpEb21FdmVudFJlZ2lzdGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tOiBkYXRhLmRvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tSGFuZGxlcjogZGF0YS5kb21IYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgRG9tRXZlbnRPZmZEYXRhID0ge1xuICAgICAgICBkb206SFRNTEVsZW1lbnQsXG4gICAgICAgIGV2ZW50TmFtZTpFRXZlbnROYW1lLFxuICAgICAgICBkb21IYW5kbGVyOkZ1bmN0aW9uXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZW51bSBFRXZlbnRUeXBle1xuICAgICAgICBNT1VTRSxcbiAgICAgICAgS0VZQk9BUkQsXG4gICAgICAgIENVU1RPTVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBlbnVtIEVCcm93c2VySWRlbnRpZmllcntcbiAgICAgICAgRkFMTEJBQ0sgPSA8YW55PlwiZmFsbGJhY2tcIixcbiAgICAgICAgRklSRUZPWCA9IDxhbnk+XCJmaXJlZm94XCIsXG4gICAgICAgIENIUk9NRSA9IDxhbnk+XCJjaHJvbWVcIlxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVFdmVudE5hbWV7XG4gICAgICAgIENMSUNLID0gPGFueT5cImNsaWNrXCIsXG4gICAgICAgIE1PVVNFT1ZFUiA9IDxhbnk+XCJtb3VzZW92ZXJcIixcbiAgICAgICAgTU9VU0VVUCA9IDxhbnk+XCJtb3VzZXVwXCIsXG4gICAgICAgIE1PVVNFT1VUID0gPGFueT5cIm1vdXNlb3V0XCIsXG4gICAgICAgIE1PVVNFTU9WRSA9IDxhbnk+XCJtb3VzZW1vdmVcIixcbiAgICAgICAgTU9VU0VET1dOID0gPGFueT5cIm1vdXNlZG93blwiLFxuICAgICAgICBNT1VTRVdIRUVMID0gPGFueT5gbW91c2V3aGVlbHxET01Nb3VzZVNjcm9sbCoke0VCcm93c2VySWRlbnRpZmllci5GSVJFRk9YfWAsXG4gICAgICAgIE1PVVNFRFJBRyA9IDxhbnk+XCJtb3VzZWRyYWdcIixcblxuICAgICAgICBLRVlET1dOID0gPGFueT5cImtleWRvd25cIixcbiAgICAgICAgS0VZVVAgPSA8YW55Plwia2V5dXBcIixcbiAgICAgICAgS0VZUFJFU1MgPSA8YW55Plwia2V5cHJlc3NcIlxuICAgIH1cblxuICAgIGNvbnN0IEVWRU5UTkFNRV9TUExJVFRFUiA9ICd8JyxcbiAgICAgICAgQlJPV1NFUl9JREVOVElGSUVSID0gJyonO1xuXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50TmFtZUhhbmRsZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaGFuZGxlRXZlbnROYW1lKGRvbUV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWU6c3RyaW5nID0gPGFueT5kb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tFdmVudE5hbWUgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyID0gW10sXG4gICAgICAgICAgICAgICAgcmVzdWx0OnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgZXZlbnROYW1lLnNwbGl0KEVWRU5UTkFNRV9TUExJVFRFUikpe1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5faXNGYWxsYmFja0V2ZW50TmFtZShuYW1lKSl7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrRXZlbnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lmeUJyb3dzZXJFdmVudE5hbWVBcnIucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldFNwZWNpZnlCcm93c2VyRXZlbnROYW1lKHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdCA6IGZhbGxiYWNrRXZlbnROYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2lzRmFsbGJhY2tFdmVudE5hbWUoZXZlbnROYW1lOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lLnNwbGl0KEJST1dTRVJfSURFTlRJRklFUikubGVuZ3RoID09PSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2dldFNwZWNpZnlCcm93c2VyRXZlbnROYW1lKHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvcihsZXQgZXZlbnROYW1lIG9mIHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyKXtcbiAgICAgICAgICAgICAgICBsZXQgW2RvbUV2ZW50TmFtZSwgYnJvd3NlcklkZW50aWZpZXJdID0gZXZlbnROYW1lLnNwbGl0KEJST1dTRVJfSURFTlRJRklFUik7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKDxhbnk+YnJvd3NlcklkZW50aWZpZXIpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVCcm93c2VySWRlbnRpZmllci5DSFJPTUU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihib3dzZXIuY2hyb21lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFQnJvd3NlcklkZW50aWZpZXIuRklSRUZPWDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJvd3Nlci5maXJlZm94KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyBqdWRnZSBJRVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUV2ZW50UGhhc2V7XG4gICAgICAgIEJST0FEQ0FTVCxcbiAgICAgICAgRU1JVFxuICAgIH1cbn1cbiIsIi8vdG9kbyBhZGQgbW9yZSBldmVudCB0eXBlXG5tb2R1bGUgd2Qge1xuICAgICBjb25zdCBfdGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPEVFdmVudFR5cGU+KCk7XG5cbiAgICAvL3RvZG8gbm90IGRlY2xhcmUgXCI8YW55PlwiIVxuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuQ0xJQ0ssIEVFdmVudFR5cGUuTU9VU0UpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VPVkVSLCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFT1VULCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFTU9WRSwgRUV2ZW50VHlwZS5NT1VTRSk7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRURPV04sIEVFdmVudFR5cGUuTU9VU0UpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VVUCwgRUV2ZW50VHlwZS5NT1VTRSk7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRVdIRUVMLCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFRFJBRywgRUV2ZW50VHlwZS5NT1VTRSk7XG5cbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLktFWURPV04sIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuS0VZUFJFU1MsIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuS0VZVVAsIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50VGFibGUge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEV2ZW50VHlwZShldmVudE5hbWU6RUV2ZW50TmFtZSk6RUV2ZW50VHlwZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RhYmxlLmdldENoaWxkKDxhbnk+ZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYocmVzdWx0ID09PSB2b2lkIDApe1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEVFdmVudFR5cGUuQ1VTVE9NO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudHtcbiAgICAgICAgY29uc3RydWN0b3IoZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdHlwZTpFRXZlbnRUeXBlID0gbnVsbDtcbiAgICAgICAgZ2V0IHR5cGUoKXtcbiAgICAgICAgICAgIExvZy5lcnJvcih0aGlzLnBfdHlwZSA9PT0gbnVsbCwgTG9nLmluZm8uQUJTVFJBQ1RfQVRUUklCVVRFKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF90eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5hbWU6RUV2ZW50TmFtZSA9IG51bGw7XG4gICAgICAgIC8vdGFyZ2V0IGlzIHRoZSBhY3R1YWwgdGFyZ2V0IHRoYXQgcmVjZWl2ZWQgdGhlIGV2ZW50LlxuICAgICAgICBwdWJsaWMgdGFyZ2V0OkhUTUxFbGVtZW50fEVudGl0eU9iamVjdDtcbiAgICAgICAgLy9jdXJyZW50VGFyZ2V0IGlzIGFsd2F5cyB0aGUgb2JqZWN0IGxpc3RlbmluZyBmb3IgdGhlIGV2ZW50XG4gICAgICAgIHB1YmxpYyBjdXJyZW50VGFyZ2V0OkhUTUxFbGVtZW50fEVudGl0eU9iamVjdCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1N0b3BQcm9wYWdhdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBwaGFzZTpFRXZlbnRQaGFzZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNvcHkoKTtcblxuICAgICAgICBwdWJsaWMgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29weU1lbWJlcihkZXN0aW5hdGlvbjpFdmVudCwgc291cmNlOkV2ZW50LCBtZW1iZXJBcnI6W2FueV0pe1xuICAgICAgICAgICAgbWVtYmVyQXJyLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW21lbWJlcl0gPSBzb3VyY2VbbWVtYmVyXTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEb21FdmVudCBleHRlbmRzIEV2ZW50e1xuICAgICAgICBjb25zdHJ1Y3RvcihldmVudDphbnksIGV2ZW50TmFtZTpFRXZlbnROYW1lKSB7XG4gICAgICAgICAgICBzdXBlcihldmVudE5hbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ldmVudDphbnkgPSBudWxsO1xuICAgICAgICBnZXQgZXZlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGV2ZW50KGV2ZW50OmFueSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnQgPSBldmVudCB8fCByb290LmV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHByZXZlbnREZWZhdWx0KCl7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMuX2V2ZW50O1xuXG4gICAgICAgICAgICBpZiAoYm93c2VyLm1zaWUgJiYgTnVtYmVyKGJvd3Nlci52ZXJzaW9uKSA8PSA4KSB7XG4gICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQoZXZlbnQ6Q3VzdG9tRXZlbnQpe1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BQcm9wYWdhdGlvbiA9IGV2ZW50LmlzU3RvcFByb3BhZ2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBNb3VzZUV2ZW50IGV4dGVuZHMgRG9tRXZlbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGV2ZW50OmFueSwgZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhldmVudCwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvY2F0aW9uOlBvaW50ID0gbnVsbDtcbiAgICAgICAgLy9HZXQgY3Vyc29yIGxvY2F0aW9uKHJlbGF0ZWQgdG8gZG9jdW1lbnQpXG4gICAgICAgIGdldCBsb2NhdGlvbigpOlBvaW50IHtcbiAgICAgICAgICAgIHZhciBwb2ludDpQb2ludCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZSA9IHRoaXMuZXZlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9pbnQgPSBQb2ludC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgaWYgKGJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IGUuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBwb2ludC55ID0gZS5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50LnggPSBlLnBhZ2VYO1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSBlLnBhZ2VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxvY2F0aW9uKHBvaW50OlBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IHBvaW50O1xuICAgICAgICB9XG5cblxuICAgICAgICBwcml2YXRlIF9sb2NhdGlvbkluVmlldzpQb2ludCA9IG51bGw7XG4gICAgICAgIC8vUmV0dXJucyB0aGUgY3VycmVudCBjdXJzb3IgbG9jYXRpb24gaW4gc2NyZWVuIGNvb3JkaW5hdGVzKHJlbGF0ZWQgdG8gY2FudmFzKVxuICAgICAgICBnZXQgbG9jYXRpb25JblZpZXcoKTpQb2ludCB7XG4gICAgICAgICAgICB2YXIgcG9pbnQ6UG9pbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHZpZXdPZmZzZXQ6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2F0aW9uSW5WaWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uSW5WaWV3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludCA9IHRoaXMubG9jYXRpb247XG5cblxuICAgICAgICAgICAgdmlld09mZnNldCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3Lm9mZnNldDtcblxuICAgICAgICAgICAgcmV0dXJuIFBvaW50LmNyZWF0ZShwb2ludC54IC0gdmlld09mZnNldC54LCBwb2ludC55IC0gdmlld09mZnNldC55KTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYXRpb25JblZpZXcobG9jYXRpb25JblZpZXc6UG9pbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2F0aW9uSW5WaWV3ID0gbG9jYXRpb25JblZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idXR0b246bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IGJ1dHRvbigpIHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5ldmVudCxcbiAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbjpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1dHRvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbiA9IEVNb3VzZUJ1dHRvbi5MRUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLlJJR0hUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLkNFTlRFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJtdWx0aSBtb3VzZSBidXR0b25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbiA9IEVNb3VzZUJ1dHRvbi5MRUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLlJJR0hUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLkNFTlRFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJtdWx0aSBtb3VzZSBidXR0b25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbW91c2VCdXR0b247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1dHRvbihidXR0b246bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24gPSBidXR0b247XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgd2hlZWwoKXtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIEZGIHVzZXMgJ2RldGFpbCcgYW5kIHJldHVybnMgYSB2YWx1ZSBpbiAnbm8uIG9mIGxpbmVzJyB0byBzY3JvbGxcbiAgICAgICAgICAgICBXZWJLaXQgYW5kIE9wZXJhIHVzZSAnd2hlZWxEZWx0YScsIFdlYktpdCBnb2VzIGluIG11bHRpcGxlcyBvZiAxMjAgcGVyIHdoZWVsIG5vdGNoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5ldmVudDtcblxuICAgICAgICAgICAgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xICogZS5kZXRhaWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlLndoZWVsRGVsdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBtb3ZlbWVudERlbHRhKCl7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAgICAgZHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHdkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNQb2ludGVyTG9ja2VkKCkpe1xuICAgICAgICAgICAgICAgIGR4ID0gZS5tb3ZlbWVudFggfHwgZS53ZWJraXRNb3ZlbWVudFggfHwgZS5tb3pNb3ZlbWVudFggfHwgMDtcbiAgICAgICAgICAgICAgICB3ZCA9IGUubW92ZW1lbnRZIHx8IGUud2Via2l0TW92ZW1lbnRZIHx8IGUubW96TW92ZW1lbnRZIHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RYID0gdGhpcy5sYXN0WCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFkgPSB0aGlzLmxhc3RZO1xuXG4gICAgICAgICAgICAgICAgaWYobGFzdFggPT09IG51bGwgJiYgbGFzdFkgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdkID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZHggPSBsb2NhdGlvbi54IC0gbGFzdFg7XG4gICAgICAgICAgICAgICAgICAgIHdkID0gbG9jYXRpb24ueSAtIGxhc3RZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBkeCxcbiAgICAgICAgICAgICAgICB5OiB3ZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGxhc3RYOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBsYXN0WTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3R5cGU6RUV2ZW50VHlwZSA9IEVFdmVudFR5cGUuTU9VU0U7XG5cblxuICAgICAgICBwdWJsaWMgY29weSgpOk1vdXNlRXZlbnR7XG4gICAgICAgICAgICB2YXIgZXZlbnRPYmogPSBNb3VzZUV2ZW50LmNyZWF0ZSh0aGlzLmV2ZW50LCB0aGlzLm5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gPE1vdXNlRXZlbnQ+dGhpcy5jb3B5TWVtYmVyKGV2ZW50T2JqLCB0aGlzLCBbXCJ0YXJnZXRcIiwgXCJjdXJyZW50VGFyZ2V0XCIsIFwiaXNTdG9wUHJvcGFnYXRpb25cIiwgXCJwaGFzZVwiLCBcImxhc3RYXCIsIFwibGFzdFlcIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNQb2ludGVyTG9ja2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCB8fCBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0UG9pbnRlckxvY2tFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgY29uc3QgU1BFQ0lBTF9LRVlfTUFQID0ge1xuICAgICAgICAgICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAgICAgICAgIDk6IFwidGFiXCIsXG4gICAgICAgICAgICAxMDogXCJyZXR1cm5cIixcbiAgICAgICAgICAgIDEzOiBcInJldHVyblwiLFxuICAgICAgICAgICAgMTY6IFwic2hpZnRcIixcbiAgICAgICAgICAgIDE3OiBcImN0cmxcIixcbiAgICAgICAgICAgIDE4OiBcImFsdFwiLFxuICAgICAgICAgICAgMTk6IFwicGF1c2VcIixcbiAgICAgICAgICAgIDIwOiBcImNhcHNsb2NrXCIsXG4gICAgICAgICAgICAyNzogXCJlc2NcIixcbiAgICAgICAgICAgIDMyOiBcInNwYWNlXCIsXG4gICAgICAgICAgICAzMzogXCJwYWdldXBcIixcbiAgICAgICAgICAgIDM0OiBcInBhZ2Vkb3duXCIsXG4gICAgICAgICAgICAzNTogXCJlbmRcIixcbiAgICAgICAgICAgIDM2OiBcImhvbWVcIixcbiAgICAgICAgICAgIDM3OiBcImxlZnRcIixcbiAgICAgICAgICAgIDM4OiBcInVwXCIsXG4gICAgICAgICAgICAzOTogXCJyaWdodFwiLFxuICAgICAgICAgICAgNDA6IFwiZG93blwiLFxuICAgICAgICAgICAgNDU6IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICA0NjogXCJkZWxcIixcbiAgICAgICAgICAgIDU5OiBcIjtcIixcbiAgICAgICAgICAgIDYxOiBcIj1cIixcbiAgICAgICAgICAgIDY1OiBcImFcIixcbiAgICAgICAgICAgIDY2OiBcImJcIixcbiAgICAgICAgICAgIDY3OiBcImNcIixcbiAgICAgICAgICAgIDY4OiBcImRcIixcbiAgICAgICAgICAgIDY5OiBcImVcIixcbiAgICAgICAgICAgIDcwOiBcImZcIixcbiAgICAgICAgICAgIDcxOiBcImdcIixcbiAgICAgICAgICAgIDcyOiBcImhcIixcbiAgICAgICAgICAgIDczOiBcImlcIixcbiAgICAgICAgICAgIDc0OiBcImpcIixcbiAgICAgICAgICAgIDc1OiBcImtcIixcbiAgICAgICAgICAgIDc2OiBcImxcIixcbiAgICAgICAgICAgIDc3OiBcIm1cIixcbiAgICAgICAgICAgIDc4OiBcIm5cIixcbiAgICAgICAgICAgIDc5OiBcIm9cIixcbiAgICAgICAgICAgIDgwOiBcInBcIixcbiAgICAgICAgICAgIDgxOiBcInFcIixcbiAgICAgICAgICAgIDgyOiBcInJcIixcbiAgICAgICAgICAgIDgzOiBcInNcIixcbiAgICAgICAgICAgIDg0OiBcInRcIixcbiAgICAgICAgICAgIDg1OiBcInVcIixcbiAgICAgICAgICAgIDg2OiBcInZcIixcbiAgICAgICAgICAgIDg3OiBcIndcIixcbiAgICAgICAgICAgIDg4OiBcInhcIixcbiAgICAgICAgICAgIDg5OiBcInlcIixcbiAgICAgICAgICAgIDkwOiBcInpcIixcbiAgICAgICAgICAgIDk2OiBcIjBcIixcbiAgICAgICAgICAgIDk3OiBcIjFcIixcbiAgICAgICAgICAgIDk4OiBcIjJcIixcbiAgICAgICAgICAgIDk5OiBcIjNcIixcbiAgICAgICAgICAgIDEwMDogXCI0XCIsXG4gICAgICAgICAgICAxMDE6IFwiNVwiLFxuICAgICAgICAgICAgMTAyOiBcIjZcIixcbiAgICAgICAgICAgIDEwMzogXCI3XCIsXG4gICAgICAgICAgICAxMDQ6IFwiOFwiLFxuICAgICAgICAgICAgMTA1OiBcIjlcIixcbiAgICAgICAgICAgIDEwNjogXCIqXCIsXG4gICAgICAgICAgICAxMDc6IFwiK1wiLFxuICAgICAgICAgICAgMTA5OiBcIi1cIixcbiAgICAgICAgICAgIDExMDogXCIuXCIsXG4gICAgICAgICAgICAxMTE6IFwiL1wiLFxuICAgICAgICAgICAgMTEyOiBcImYxXCIsXG4gICAgICAgICAgICAxMTM6IFwiZjJcIixcbiAgICAgICAgICAgIDExNDogXCJmM1wiLFxuICAgICAgICAgICAgMTE1OiBcImY0XCIsXG4gICAgICAgICAgICAxMTY6IFwiZjVcIixcbiAgICAgICAgICAgIDExNzogXCJmNlwiLFxuICAgICAgICAgICAgMTE4OiBcImY3XCIsXG4gICAgICAgICAgICAxMTk6IFwiZjhcIixcbiAgICAgICAgICAgIDEyMDogXCJmOVwiLFxuICAgICAgICAgICAgMTIxOiBcImYxMFwiLFxuICAgICAgICAgICAgMTIyOiBcImYxMVwiLFxuICAgICAgICAgICAgMTIzOiBcImYxMlwiLFxuICAgICAgICAgICAgMTQ0OiBcIm51bWxvY2tcIixcbiAgICAgICAgICAgIDE0NTogXCJzY3JvbGxcIixcbiAgICAgICAgICAgIDE3MzogXCItXCIsXG4gICAgICAgICAgICAxODY6IFwiO1wiLFxuICAgICAgICAgICAgMTg3OiBcIj1cIixcbiAgICAgICAgICAgIDE4ODogXCIsXCIsXG4gICAgICAgICAgICAxODk6IFwiLVwiLFxuICAgICAgICAgICAgMTkwOiBcIi5cIixcbiAgICAgICAgICAgIDE5MTogXCIvXCIsXG4gICAgICAgICAgICAxOTI6IFwiYFwiLFxuICAgICAgICAgICAgMjE5OiBcIltcIixcbiAgICAgICAgICAgIDIyMDogXCJcXFxcXCIsXG4gICAgICAgICAgICAyMjE6IFwiXVwiLFxuICAgICAgICAgICAgMjIyOiBcIidcIlxuICAgICAgICB9LFxuICAgICAgICBTSElGVF9LRVlfTUFQID0ge1xuICAgICAgICAgICAgXCJgXCI6IFwiflwiLFxuICAgICAgICAgICAgXCIxXCI6IFwiIVwiLFxuICAgICAgICAgICAgXCIyXCI6IFwiQFwiLFxuICAgICAgICAgICAgXCIzXCI6IFwiI1wiLFxuICAgICAgICAgICAgXCI0XCI6IFwiJFwiLFxuICAgICAgICAgICAgXCI1XCI6IFwiJVwiLFxuICAgICAgICAgICAgXCI2XCI6IFwiXlwiLFxuICAgICAgICAgICAgXCI3XCI6IFwiJlwiLFxuICAgICAgICAgICAgXCI4XCI6IFwiKlwiLFxuICAgICAgICAgICAgXCI5XCI6IFwiKFwiLFxuICAgICAgICAgICAgXCIwXCI6IFwiKVwiLFxuICAgICAgICAgICAgXCItXCI6IFwiX1wiLFxuICAgICAgICAgICAgXCI9XCI6IFwiK1wiLFxuICAgICAgICAgICAgXCI7XCI6IFwiOiBcIixcbiAgICAgICAgICAgIFwiJ1wiOiBcIlxcXCJcIixcbiAgICAgICAgICAgIFwiLFwiOiBcIjxcIixcbiAgICAgICAgICAgIFwiLlwiOiBcIj5cIixcbiAgICAgICAgICAgIFwiL1wiOiBcIj9cIixcbiAgICAgICAgICAgIFwiXFxcXFwiOiBcInxcIlxuICAgICAgICB9O1xuXG4gICAgZXhwb3J0IGNsYXNzIEtleWJvYXJkRXZlbnQgZXh0ZW5kcyBEb21FdmVudHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZXZlbnQ6YW55LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGV2ZW50LCBldmVudE5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdHlwZTpFRXZlbnRUeXBlID0gRUV2ZW50VHlwZS5LRVlCT0FSRDtcblxuICAgICAgICBnZXQgY3RybEtleSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuY3RybEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBhbHRLZXkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmFsdEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBzaGlmdEtleSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgbWV0YUtleSgpe1xuICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5ldmVudC5tZXRhS2V5ICYmICF0aGlzLmN0cmxLZXk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5tZXRhS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGtleUNvZGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmtleUNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQga2V5KCl7XG4gICAgICAgICAgICB2YXIga2V5ID0gU1BFQ0lBTF9LRVlfTUFQW3RoaXMua2V5Q29kZV0sXG4gICAgICAgICAgICAgICAgY2hhciA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCFrZXkpe1xuICAgICAgICAgICAgICAgIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMua2V5Q29kZSkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2hpZnRLZXkpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0hJRlRfS0VZX01BUFtjaGFyXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBrZXlTdGF0ZTphbnkgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBjb3B5KCk6S2V5Ym9hcmRFdmVudHtcbiAgICAgICAgICAgIHZhciBldmVudE9iaiA9IEtleWJvYXJkRXZlbnQuY3JlYXRlKHRoaXMuZXZlbnQsIHRoaXMubmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiA8S2V5Ym9hcmRFdmVudD50aGlzLmNvcHlNZW1iZXIoZXZlbnRPYmosIHRoaXMsIFtcInRhcmdldFwiLCBcImN1cnJlbnRUYXJnZXRcIiwgXCJpc1N0b3BQcm9wYWdhdGlvblwiLCBcInBoYXNlXCIsIFwiYWx0S2V5XCIsIFwic2hpZnRLZXlcIiwgXCJjdHJsS2V5XCIsIFwibWV0YUtleVwiLCBcImtleUNvZGVcIiwgXCJrZXlcIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tRXZlbnQgZXh0ZW5kcyBFdmVudHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZXZlbnROYW1lOnN0cmluZykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKDxhbnk+ZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1c2VyRGF0YTphbnkgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3R5cGU6RUV2ZW50VHlwZSA9IEVFdmVudFR5cGUuQ1VTVE9NO1xuXG5cbiAgICAgICAgcHVibGljIGNvcHlQdWJsaWNBdHRyaShkZXN0aW5hdGlvbiwgc291cmNlOmFueSl7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsO1xuXG4gICAgICAgICAgICB3ZENiLkV4dGVuZFV0aWxzLmV4dGVuZChkZXN0aW5hdGlvbiwgZnVuY3Rpb24oaXRlbSwgcHJvcGVydHkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5zbGljZSgwLCAxKSAhPT0gXCJfXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgIUp1ZGdlVXRpbHMuaXNGdW5jdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOkN1c3RvbUV2ZW50e1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+dGhpcy5uYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIDxDdXN0b21FdmVudD50aGlzLmNvcHlNZW1iZXIoZXZlbnRPYmosIHRoaXMsIFtcInRhcmdldFwiLCBcImN1cnJlbnRUYXJnZXRcIiwgXCJpc1N0b3BQcm9wYWdhdGlvblwiLCBcInBoYXNlXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQHJlcXVpcmUoZnVuY3Rpb24oZXZlbnQ6TW91c2VFdmVudCl7XG4gICAgICAgIC8vICAgIGlmKGV2ZW50LnRhcmdldCl7XG4gICAgICAgIC8vICAgICAgICBhc3NlcnQoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRW50aXR5T2JqZWN0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJ0YXJnZXRcIiwgXCJFbnRpdHlPYmplY3RcIikpO1xuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vfSlcbiAgICAgICAgcHVibGljIGdldERhdGFGcm9tRG9tRXZlbnQoZXZlbnQ6TW91c2VFdmVudCl7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IDxFbnRpdHlPYmplY3Q+ZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wUHJvcGFnYXRpb24gPSBldmVudC5pc1N0b3BQcm9wYWdhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGVudW0gRU1vdXNlQnV0dG9ue1xuICAgICAgICBMRUZULFxuICAgICAgICBSSUdIVCxcbiAgICAgICAgQ0VOVEVSXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBFdmVudExpc3RlbmVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMob3B0aW9uKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKG9wdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZXZlbnRUeXBlOkVFdmVudFR5cGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcHJpb3JpdHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhhbmRsZXJEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEV2ZW50SGFuZGxlckRhdGE+KCk7XG5cbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9uOmFueSl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50VHlwZSA9IG9wdGlvbi5ldmVudFR5cGU7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5ID0gb3B0aW9uLnByaW9yaXR5IHx8IDE7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUob3B0aW9uOnthbnl9KXtcbiAgICAgICAgICAgIHRoaXMuX3NldEhhbmRsZXJEYXRhTGlzdChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0SGFuZGxlckRhdGFMaXN0KG9wdGlvbjp7YW55fSl7XG4gICAgICAgICAgICB2YXIgaSA9IG51bGwsXG4gICAgICAgICAgICAgICAgUkVHRVhfSEFOREVSID0gL29uXFx3Ky87XG5cbiAgICAgICAgICAgIGZvcihpIGluIG9wdGlvbil7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9uLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoUkVHRVhfSEFOREVSLnRlc3QoaSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyRGF0YUxpc3QuYWRkQ2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogdGhpcy5fcGFyc2VFdmVudE5hbWUoaSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogb3B0aW9uW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlRXZlbnROYW1lKGhhbmRsZXJOYW1lKXtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyTmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyRGF0YSA9IHtcbiAgICAgICAgZXZlbnROYW1lOkVFdmVudE5hbWU7XG4gICAgICAgIGhhbmRsZXI6RnVuY3Rpb247XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IG9uKC4uLmFyZ3MpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgb2ZmKC4uLmFyZ3MpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdHJpZ2dlciguLi5hcmdzKTtcblxuXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRG9tRXZlbnRIYW5kbGVyIGV4dGVuZHMgRXZlbnRIYW5kbGVye1xuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZXZlbnRSZWdpc3RlciA9IERvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgICAgICBldmVudE9mZkRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+ID0gbnVsbDtcblxuICAgICAgICAgICAgZXZlbnRPZmZEYXRhTGlzdCA9IGV2ZW50UmVnaXN0ZXIucmVtb3ZlLmFwcGx5KGV2ZW50UmVnaXN0ZXIsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZihldmVudE9mZkRhdGFMaXN0KXtcbiAgICAgICAgICAgICAgICBldmVudE9mZkRhdGFMaXN0LmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50T2ZmRGF0YT4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKChldmVudE9mZkRhdGE6RG9tRXZlbnRPZmZEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl91bkJpbmQoZXZlbnRPZmZEYXRhLmRvbSwgZXZlbnRPZmZEYXRhLmV2ZW50TmFtZSwgZXZlbnRPZmZEYXRhLmRvbUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3RoaXMuY2xlYXJIYW5kbGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCk6dm9pZDtcbiAgICAgICAgcHVibGljIHRyaWdnZXIoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTp2b2lke1xuICAgICAgICAgICAgdmFyIGRvbSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBkb20gPSB0aGlzLmdldERlZmF1bHREb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50Lm5hbWU7XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QgPSBEb21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkuZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KGRvbSwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyRGF0YUxpc3QgPT09IG51bGwgfHwgcmVnaXN0ZXJEYXRhTGlzdC5nZXRDb3VudCgpPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QuZm9yRWFjaCgocmVnaXN0ZXJEYXRhOkRvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50Q29weSA9IGV2ZW50LmNvcHkoKTtcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSwgcmVnaXN0ZXJEYXRhLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCB0cmlnZ2VyRG9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYWRkRW5naW5lSGFuZGxlcihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXREZWZhdWx0RG9tKCk6SFRNTEVsZW1lbnQ7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVFdmVudERhdGEoKTp3ZENiLkhhc2g8YW55PjtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgY2xlYXJIYW5kbGVyKCl7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYnVpbGREb21IYW5kbGVyKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSByb290O1xuXG4gICAgICAgICAgICByZXR1cm4gd2RDYi5FdmVudFV0aWxzLmJpbmRFdmVudChjb250ZXh0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXJEb21FdmVudChkb20sIGV2ZW50LCBldmVudE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlcihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGRvbUhhbmRsZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyO1xuXG4gICAgICAgICAgICBoYW5kbGVyID0gdGhpcy5hZGRFbmdpbmVIYW5kbGVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGlmICghRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmlzQmluZGVkKGRvbSwgZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGRvbUhhbmRsZXIgPSB0aGlzLl9iaW5kKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tSGFuZGxlciA9IERvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKS5nZXREb21IYW5kbGVyKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLnJlZ2lzdGVyKFxuICAgICAgICAgICAgICAgIGRvbSxcbiAgICAgICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVFdmVudERhdGEoKSxcbiAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgZG9tSGFuZGxlcixcbiAgICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2JpbmQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICB2YXIgZG9tSGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIGRvbUhhbmRsZXIgPSB0aGlzLmJ1aWxkRG9tSGFuZGxlcihkb20sIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHdkQ2IuRXZlbnRVdGlscy5hZGRFdmVudChcbiAgICAgICAgICAgICAgICBkb20sXG4gICAgICAgICAgICAgICAgRXZlbnROYW1lSGFuZGxlci5oYW5kbGVFdmVudE5hbWUoZXZlbnROYW1lKSxcbiAgICAgICAgICAgICAgICBkb21IYW5kbGVyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gZG9tSGFuZGxlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VuQmluZChkb20sIGV2ZW50TmFtZSwgaGFuZGxlcil7XG4gICAgICAgICAgICB3ZENiLkV2ZW50VXRpbHMucmVtb3ZlRXZlbnQoZG9tLCBFdmVudE5hbWVIYW5kbGVyLmhhbmRsZUV2ZW50TmFtZShldmVudE5hbWUpLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTW91c2VFdmVudEhhbmRsZXIgZXh0ZW5kcyBEb21FdmVudEhhbmRsZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIC8vXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cdHJldHVybiBvYmo7XG4gICAgICAgIC8vfVxuXG5cbiAgICAgICAgLy9wdWJsaWMgbGFzdFg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgLy9wdWJsaWMgbGFzdFk6bnVtYmVyID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjooZXZlbnQ6TW91c2VFdmVudCkgPT4gdm9pZCwgcHJpb3JpdHk6bnVtYmVyKTtcbiAgICAgICAgcHVibGljIG9uKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQsIHByaW9yaXR5Om51bWJlcik7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gNCl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0RvbShkb20pLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJmaXJzdCBwYXJhbVwiLCBcIkhUTUxFbGVtZW50XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIG9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBkb206SFRNTEVsZW1lbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgZG9tID0gdGhpcy5nZXREZWZhdWx0RG9tKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyKGRvbSwgZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdERvbSgpOkhUTUxFbGVtZW50e1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdHJpZ2dlckRvbUV2ZW50KGRvbTpIVE1MRWxlbWVudCwgZXZlbnQ6RXZlbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciBldmVudE9iaiA9IHRoaXMuX2NyZWF0ZUV2ZW50T2JqZWN0KGRvbSwgZXZlbnQsIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKGRvbSwgZXZlbnRPYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEVuZ2luZUhhbmRsZXIoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdEhhbmRsZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnROYW1lLk1PVVNFTU9WRTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZU1vdmUoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEhhbmRsZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlRXZlbnREYXRhKCk6d2RDYi5IYXNoPGFueT57XG4gICAgICAgICAgICB2YXIgZXZlbnREYXRhID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGF0YS5hZGRDaGlsZChcImxhc3RYXCIsIG51bGwpO1xuICAgICAgICAgICAgZXZlbnREYXRhLmFkZENoaWxkKFwibGFzdFlcIiwgbnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudERhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVNb3ZlKGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gKGV2ZW50Ok1vdXNlRXZlbnQsIGV2ZW50RGF0YTp3ZENiLkhhc2g8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NvcHlFdmVudERhdGFUb0V2ZW50T2JqZWN0KGV2ZW50LCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLl9zYXZlTG9jYXRpb24oZXZlbnQsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlRXZlbnRPYmplY3QoZG9tOkhUTUxFbGVtZW50LCBldmVudDphbnksIGV2ZW50TmFtZTpFRXZlbnROYW1lKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gTW91c2VFdmVudC5jcmVhdGUoZXZlbnQgPyBldmVudCA6IHJvb3QuZXZlbnQsIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIG9iai50YXJnZXQgPSBkb207XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb3B5RXZlbnREYXRhVG9FdmVudE9iamVjdChldmVudDpNb3VzZUV2ZW50LCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4pe1xuICAgICAgICAgICAgZXZlbnQubGFzdFggPSBldmVudERhdGEuZ2V0Q2hpbGQoXCJsYXN0WFwiKTtcbiAgICAgICAgICAgIGV2ZW50Lmxhc3RZID0gZXZlbnREYXRhLmdldENoaWxkKFwibGFzdFlcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zYXZlTG9jYXRpb24oZXZlbnQ6TW91c2VFdmVudCwgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+KXtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGV2ZW50LmxvY2F0aW9uO1xuXG4gICAgICAgICAgICBldmVudERhdGEuYWRkQ2hpbGQoXCJsYXN0WFwiLCBsb2NhdGlvbi54KTtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5hZGRDaGlsZChcImxhc3RZXCIsIGxvY2F0aW9uLnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIC8vdG9kbyBiaW5kIG9uIEVudGl0eU9iamVjdCB3aGljaCBoYXMgdGhlIGZvY3VzXG4gICAgZXhwb3J0IGNsYXNzIEtleWJvYXJkRXZlbnRIYW5kbGVyIGV4dGVuZHMgRG9tRXZlbnRIYW5kbGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL3B1YmxpYyBrZXlTdGF0ZTphbnkgPSB7fTtcblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQsIHByaW9yaXR5Om51bWJlcik7XG4gICAgICAgIHB1YmxpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOihldmVudDpNb3VzZUV2ZW50KSA9PiB2b2lkLCBwcmlvcml0eTpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyBvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oXCJrZXlib2FyZCBldmVudCBjYW4gb25seSBiaW5kIG9uIGRvY3VtZW50LmJvZHlcIik7XG5cbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyKHRoaXMuZ2V0RGVmYXVsdERvbSgpLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0cmlnZ2VyRG9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gdGhpcy5fY3JlYXRlRXZlbnRPYmplY3QoZG9tLCBldmVudCwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoZG9tLCBldmVudE9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdERvbSgpOkhUTUxFbGVtZW50e1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkRW5naW5lSGFuZGxlcihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjooZXZlbnQ6S2V5Ym9hcmRFdmVudCkgPT4gdm9pZCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0SGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnROYW1lKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudE5hbWUuS0VZRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZUtleURvd24oaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUV2ZW50TmFtZS5LRVlVUDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZUtleVVwKGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHRIYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRIYW5kbGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUV2ZW50RGF0YSgpOndkQ2IuSGFzaDxhbnk+e1xuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YSA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgICAgICBldmVudERhdGEuYWRkQ2hpbGQoXCJrZXlTdGF0ZVwiLCB7fSk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudERhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVLZXlEb3duKGhhbmRsZXI6KGV2ZW50OktleWJvYXJkRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gKGV2ZW50OktleWJvYXJkRXZlbnQsIGV2ZW50RGF0YTp3ZENiLkhhc2g8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBrZXlTdGF0ZTphbnkgPSBldmVudERhdGEuZ2V0Q2hpbGQoXCJrZXlTdGF0ZVwiKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3NldEtleVN0YXRlQWxsRmFsc2Uoa2V5U3RhdGUpO1xuICAgICAgICAgICAgICAgIGtleVN0YXRlW2V2ZW50LmtleV0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fY29weUV2ZW50RGF0YVRvRXZlbnRPYmplY3QoZXZlbnQsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVLZXlVcChoYW5kbGVyOihldmVudDpLZXlib2FyZEV2ZW50KSA9PiB2b2lkKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIChldmVudDpLZXlib2FyZEV2ZW50LCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zZXRLZXlTdGF0ZUFsbEZhbHNlKGV2ZW50RGF0YS5nZXRDaGlsZChcImtleVN0YXRlXCIpKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2NvcHlFdmVudERhdGFUb0V2ZW50T2JqZWN0KGV2ZW50LCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29weUV2ZW50RGF0YVRvRXZlbnRPYmplY3QoZXZlbnQ6S2V5Ym9hcmRFdmVudCwgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+KXtcbiAgICAgICAgICAgIGV2ZW50LmtleVN0YXRlID0gZXZlbnREYXRhLmdldENoaWxkKFwia2V5U3RhdGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRLZXlTdGF0ZUFsbEZhbHNlKGtleVN0YXRlOmFueSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBrZXlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlTdGF0ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlTdGF0ZVtpXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUV2ZW50T2JqZWN0KGRvbTpIVE1MRWxlbWVudCwgZXZlbnQ6YW55LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IEtleWJvYXJkRXZlbnQuY3JlYXRlKGV2ZW50ID8gZXZlbnQgOiByb290LmV2ZW50LCBldmVudE5hbWUpO1xuXG4gICAgICAgICAgICBvYmoudGFyZ2V0ID0gZG9tO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudEhhbmRsZXIgZXh0ZW5kcyBFdmVudEhhbmRsZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkucmVnaXN0ZXIoXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIDxhbnk+ZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5IYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbM107XG5cbiAgICAgICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkucmVnaXN0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgPGFueT5ldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOnN0cmluZyk6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZih1aWQ6bnVtYmVyLCBldmVudE5hbWU6c3RyaW5nKTp2b2lkO1xuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOnN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudFJlZ2lzdGVyID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBldmVudFJlZ2lzdGVyLnJlbW92ZS5hcHBseShldmVudFJlZ2lzdGVyLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50KTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgbm90U2V0VGFyZ2V0OmJvb2xlYW4pOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50LCB1c2VyRGF0YTphbnksIG5vdFNldFRhcmdldDpib29sZWFuKTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKC4uLmFyZ3MpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIGV2ZW50OkV2ZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCB1c2VyRGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnQsIHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgfHwgYXJncy5sZW5ndGggPT09IDQpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgbm90U2V0VGFyZ2V0ID0gYXJnc1syXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl07XG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaWdnZXJUYXJnZXRBbmRFdmVudEhhbmRsZXIodGFyZ2V0LCBldmVudCwgdXNlckRhdGEsIG5vdFNldFRhcmdldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnQsIHVzZXJEYXRhKXtcbiAgICAgICAgICAgIHZhciByZWdpc3RlckRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4gPSBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZWdpc3RlckRhdGFMaXN0ID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdChldmVudC5uYW1lKTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyRGF0YUxpc3QgPT09IG51bGwgfHwgcmVnaXN0ZXJEYXRhTGlzdC5nZXRDb3VudCgpPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QuZm9yRWFjaCgocmVnaXN0ZXJEYXRhOkN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgLy92YXIgZXZlbnRDb3B5ID0gZXZlbnQuY29weSgpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9ldmVudENvcHkuY3VycmVudFRhcmdldCA9IHJlZ2lzdGVyRGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy9ldmVudENvcHkudGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vc2VsZi5fc2V0VXNlckRhdGEoZXZlbnRDb3B5LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL3JlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSk7XG4gICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IHJlZ2lzdGVyRGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3NldFVzZXJEYXRhKGV2ZW50LCB1c2VyRGF0YSk7XG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRhdGEuaGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyVGFyZ2V0QW5kRXZlbnRIYW5kbGVyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpe1xuICAgICAgICAgICAgdmFyIHJlZ2lzdGVyRGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiA9IG51bGwsXG4gICAgICAgICAgICAgICAgaXNTdG9wUHJvcGFnYXRpb24gPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgaWYoIW5vdFNldFRhcmdldCl7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWdpc3RlckRhdGFMaXN0ID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdCh0YXJnZXQsIGV2ZW50Lm5hbWUpO1xuXG4gICAgICAgICAgICBpZiAocmVnaXN0ZXJEYXRhTGlzdCA9PT0gbnVsbCB8fCByZWdpc3RlckRhdGFMaXN0LmdldENvdW50KCk9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVnaXN0ZXJEYXRhTGlzdC5mb3JFYWNoKChyZWdpc3RlckRhdGE6Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvL3ZhciBldmVudENvcHkgPSBldmVudC5jb3B5KCk7XG5cbiAgICAgICAgICAgICAgICAvL2V2ZW50Q29weS5jdXJyZW50VGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vc2VsZi5fc2V0VXNlckRhdGEoZXZlbnRDb3B5LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL3JlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL2lmKGV2ZW50Q29weS5pc1N0b3BQcm9wYWdhdGlvbil7XG4gICAgICAgICAgICAgICAgLy8gICAgaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vfVxuXG5cblxuICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSByZWdpc3RlckRhdGEudGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fc2V0VXNlckRhdGEoZXZlbnQsIHVzZXJEYXRhKTtcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmKGV2ZW50LmlzU3RvcFByb3BhZ2F0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNTdG9wUHJvcGFnYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRVc2VyRGF0YShldmVudDpDdXN0b21FdmVudCwgdXNlckRhdGEpe1xuICAgICAgICAgICAgaWYodXNlckRhdGEpe1xuICAgICAgICAgICAgICAgIGV2ZW50LnVzZXJEYXRhID0gdXNlckRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdHJpZ2dlciguLi5hcmdzKTphbnk7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudERpc3BhdGNoZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50KTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50LCB1c2VyRGF0YTphbnkpOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50KTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50LCBub3RTZXRUYXJnZXQ6Ym9vbGVhbik6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIHRyaWdnZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk6Ym9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55LCBub3RTZXRUYXJnZXQ6Ym9vbGVhbik6Ym9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTpib29sZWFuIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaWdnZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiAoYXJnc1swXSBpbnN0YW5jZW9mIEV2ZW50KSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaWdnZXIoZXZlbnQsIHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3QpIHx8IChhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzQm9vbGVhbihhcmdzWzJdKSkpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbMl0gPT09IHZvaWQgMCA/IGZhbHNlIDogYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIG5vdFNldFRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzIHx8IGFyZ3MubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM10gPT09IHZvaWQgMCA/IGZhbHNlIDogYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZmVyIGV2ZW50IHVwXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgICAgICogQHBhcmFtIGV2ZW50T2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE9iamVjdDpFdmVudCwgdXNlckRhdGE/OmFueSkge1xuICAgICAgICAgICAgdmFyIGlzU3RvcFByb3BhZ2F0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmKCF0YXJnZXQpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXZlbnRPYmplY3QucGhhc2UgPSBFRXZlbnRQaGFzZS5FTUlUO1xuICAgICAgICAgICAgZXZlbnRPYmplY3QudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICBkb3tcbiAgICAgICAgICAgICAgICBpc1N0b3BQcm9wYWdhdGlvbiA9IHRoaXMuX3RyaWdnZXJXaXRoVXNlckRhdGEodGFyZ2V0LCBldmVudE9iamVjdCwgdXNlckRhdGEsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYoaXNTdG9wUHJvcGFnYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmJ1YmJsZVBhcmVudDtcbiAgICAgICAgICAgIH13aGlsZSh0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZmVyIGV2ZW50IGRvd25cbiAgICAgICAgICogQHBhcmFtIHRhcmdldFxuICAgICAgICAgKiBAcGFyYW0gZXZlbnRPYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBicm9hZGNhc3QodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnRPYmplY3Q6RXZlbnQsIHVzZXJEYXRhPzphbnkpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IChvYmo6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+ID0gb2JqLmdldENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICBpZihjaGlsZHJlbi5nZXRDb3VudCgpID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl90cmlnZ2VyV2l0aFVzZXJEYXRhKGNoaWxkLCBldmVudE9iamVjdCwgdXNlckRhdGEsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIXRhcmdldCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudE9iamVjdC5waGFzZSA9IEVFdmVudFBoYXNlLkJST0FEQ0FTVDtcbiAgICAgICAgICAgIGV2ZW50T2JqZWN0LnRhcmdldCA9IHRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcldpdGhVc2VyRGF0YSh0YXJnZXQsIGV2ZW50T2JqZWN0LCB1c2VyRGF0YSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGl0ZXJhdG9yKHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyV2l0aFVzZXJEYXRhKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpe1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhID8gdGhpcy50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRyaWdnZXIodGFyZ2V0LCBldmVudCwgbm90U2V0VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnREaXNwYXRjaGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCk6dm9pZDtcbiAgICAgICAgcHVibGljIHRyaWdnZXIoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTphbnkge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaWdnZXIoZG9tLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50UmVnaXN0ZXIge1xuICAgICAgICBwcm90ZWN0ZWQgbGlzdGVuZXJNYXA6RXZlbnRMaXN0ZW5lck1hcCA9IEFCU1RSQUNUX0FUVFJJQlVURTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmVnaXN0ZXIoLi4uYXJncyk6dm9pZDtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IHJlbW92ZSguLi5hcmdzKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBnZXRFdmVudFJlZ2lzdGVyRGF0YUxpc3QoZXZlbnROYW1lOkVFdmVudE5hbWUpOmFueTtcblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KGN1cnJlbnRUYXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6YW55O1xuICAgICAgICBwdWJsaWMgZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOmFueTtcblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ6d2RDYi5Db2xsZWN0aW9uPEV2ZW50UmVnaXN0ZXJEYXRhPiA9IHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQuYXBwbHkodGhpcy5saXN0ZW5lck1hcCwgYXJncyk7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuc29ydChmdW5jdGlvbiAoZGF0YUEsIGRhdGFCKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFCLnByaW9yaXR5IC0gZGF0YUEucHJpb3JpdHk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaWx0ZXIoZnVuYzpGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZmlsdGVyKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZvckVhY2goZnVuYzpGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZm9yRWFjaChmdW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZChldmVudE5hbWU6RUV2ZW50TmFtZSk7XG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0KTtcblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk7XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmdldENoaWxkLmFwcGx5KFxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAsXG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRFdmVudE5hbWVGcm9tS2V5KGtleTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEV2ZW50UmVnaXN0ZXJEYXRhID0ge1xuICAgICAgICAvL3VzZXIncyBldmVudCBoYW5kbGVyXG4gICAgICAgIG9yaWdpbkhhbmRsZXI6IEZ1bmN0aW9uLFxuICAgICAgICAvL3dyYXBlZCB1c2VyJ3MgZXZlbnQgaGFuZGxlclxuICAgICAgICBoYW5kbGVyOkZ1bmN0aW9uLFxuICAgICAgICAvL2RvbSBldmVudCBoYW5kbGVyXG4gICAgICAgIGRvbUhhbmRsZXI6RnVuY3Rpb24sXG4gICAgICAgIHByaW9yaXR5Om51bWJlclxuICAgIH07XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudFJlZ2lzdGVyIGV4dGVuZHMgRXZlbnRSZWdpc3RlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcm90ZWN0ZWQgbGlzdGVuZXJNYXA6Q3VzdG9tRXZlbnRMaXN0ZW5lck1hcCA9IEN1c3RvbUV2ZW50TGlzdGVuZXJNYXAuY3JlYXRlKCk7XG5cblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24sIG9yaWdpbkhhbmRsZXI6RnVuY3Rpb24sIGRvbUhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5hcHBlbmRDaGlsZCh0YXJnZXQsIGV2ZW50TmFtZSwgPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPntcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLFxuICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXI6IG9yaWdpbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgZG9tSGFuZGxlcjogZG9tSGFuZGxlcixcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZShldmVudE5hbWU6RUV2ZW50TmFtZSk7XG4gICAgICAgIHB1YmxpYyByZW1vdmUodGFyZ2V0OkVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgcHVibGljIHJlbW92ZShldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik7XG4gICAgICAgIHB1YmxpYyByZW1vdmUodWlkOm51bWJlciwgZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uKTtcblxuXG4gICAgICAgIHB1YmxpYyByZW1vdmUoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQWZ0ZXJBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzRnVuY3Rpb24oYXJnc1sxXSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVpZCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKHVpZCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChhcmdzLmxlbmd0aCA9PT0gMiAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KSB8fCBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQuYXBwbHkodGhpcy5saXN0ZW5lck1hcCwgYXJncyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQWZ0ZXJBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEJ1YmJsZVBhcmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBwYXJlbnQ6RW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICB0YXJnZXQuYnViYmxlUGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFVpZEZyb21LZXkoa2V5OnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0VWlkRnJvbUtleShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzVGFyZ2V0KGtleTpzdHJpbmcsIHRhcmdldDpFbnRpdHlPYmplY3QsIGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuaXNUYXJnZXQoa2V5LCB0YXJnZXQsIGxpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldDpFbnRpdHlPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5saXN0ZW5lck1hcC5oYXNDaGlsZCgobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKFN0cmluZyh0YXJnZXQudWlkKSkgPiAtMSAmJiAobGlzdCAmJiBsaXN0LmdldENvdW50KCkgPiAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFuZGxlQWZ0ZXJBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldDpFbnRpdHlPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QnViYmxlUGFyZW50KHRhcmdldCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDdXN0b21FdmVudFJlZ2lzdGVyRGF0YSA9IHtcbiAgICAgICAgdGFyZ2V0OkVudGl0eU9iamVjdCxcbiAgICAgICAgLy91c2VyJ3MgZXZlbnQgaGFuZGxlclxuICAgICAgICBvcmlnaW5IYW5kbGVyOiBGdW5jdGlvbixcbiAgICAgICAgLy93cmFwZWQgdXNlcidzIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgaGFuZGxlcjpGdW5jdGlvbixcbiAgICAgICAgLy9kb20gZXZlbnQgaGFuZGxlclxuICAgICAgICBkb21IYW5kbGVyOkZ1bmN0aW9uLFxuICAgICAgICBwcmlvcml0eTpudW1iZXJcbiAgICB9O1xufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRSZWdpc3RlciBleHRlbmRzIEV2ZW50UmVnaXN0ZXIge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBsaXN0ZW5lck1hcDpEb21FdmVudExpc3RlbmVyTWFwID0gRG9tRXZlbnRMaXN0ZW5lck1hcC5jcmVhdGUoKTtcblxuXG4gICAgICAgIHB1YmxpYyByZWdpc3Rlcihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4sIGhhbmRsZXI6RnVuY3Rpb24sIG9yaWdpbkhhbmRsZXI6RnVuY3Rpb24sIGRvbUhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5hcHBlbmRDaGlsZChkb20sIGV2ZW50TmFtZSwgPERvbUV2ZW50UmVnaXN0ZXJEYXRhPntcbiAgICAgICAgICAgICAgICBkb206IGRvbSxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAvL2V2ZW50SGFuZGxlcjogZXZlbnRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YTogZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgb3JpZ2luSGFuZGxlcjogb3JpZ2luSGFuZGxlcixcbiAgICAgICAgICAgICAgICBkb21IYW5kbGVyOiBkb21IYW5kbGVyLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uKTtcbiAgICAgICAgcHVibGljIHJlbW92ZShkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pO1xuXG5cbiAgICAgICAgcHVibGljIHJlbW92ZSguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNGdW5jdGlvbihhcmdzWzFdKSkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKSB8fCBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQuYXBwbHkodGhpcy5saXN0ZW5lck1hcCwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNCaW5kZWQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuaGFzQ2hpbGQoZG9tLCBldmVudE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRG9tKGtleTpzdHJpbmcsIGRvbTpIVE1MRWxlbWVudCwgbGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmlzRG9tKGtleSwgZG9tLCBsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXREb21IYW5kbGVyKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4gPSB0aGlzLmdldENoaWxkKGRvbSwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5nZXRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0LmdldENoaWxkKDApLmRvbUhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBEb21FdmVudFJlZ2lzdGVyRGF0YSA9IHtcbiAgICAgICAgZG9tPzpIVE1MRWxlbWVudCxcbiAgICAgICAgdGFyZ2V0PzpFbnRpdHlPYmplY3QsXG4gICAgICAgIC8vZXZlbnRIYW5kbGVyOkV2ZW50SGFuZGxlcixcbiAgICAgICAgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+LFxuICAgICAgICAvL3VzZXIncyBldmVudCBoYW5kbGVyXG4gICAgICAgIG9yaWdpbkhhbmRsZXI6RnVuY3Rpb24sXG4gICAgICAgIC8vd3JhcGVkIHVzZXIncyBldmVudCBoYW5kbGVyXG4gICAgICAgIGhhbmRsZXI6RnVuY3Rpb24sXG4gICAgICAgIC8vZG9tIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgZG9tSGFuZGxlcjpGdW5jdGlvbixcbiAgICAgICAgcHJpb3JpdHk6bnVtYmVyXG4gICAgfTtcbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50QmluZGVyIHtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IG9uKC4uLmFyZ3MpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBvZmYoLi4uYXJncyk6dm9pZDtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudEJpbmRlciBleHRlbmRzIEV2ZW50QmluZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcbiAgICAgICAgcHVibGljIG9uKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24odGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrRXZlbnRTZXBhcmF0b3IoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgb24oLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9mZigpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRSZWdpc3RlciA9IEN1c3RvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50UmVnaXN0ZXIuZ2V0RXZlbnROYW1lRnJvbUtleShrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VWlkID0gZXZlbnRSZWdpc3Rlci5nZXRVaWRGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIXRhcmdldFVpZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSkub2ZmKHRhcmdldFVpZCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRFdmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZWdpc3RlcmVkRXZlbnROYW1lID09PSBldmVudE5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBldmVudFJlZ2lzdGVyLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnRSZWdpc3Rlci5nZXRFdmVudE5hbWVGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnRSZWdpc3Rlci5pc1RhcmdldChrZXksIHRhcmdldCwgbGlzdCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKHRhcmdldCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9mZih0YXJnZXQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydChldmVudE5hbWUuaW5kZXhPZihDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yKSA9PT0gLTEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImV2ZW50TmFtZVwiLCBgY29udGFpbiAke0N1c3RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRCaW5kZXIgZXh0ZW5kcyBFdmVudEJpbmRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uKGxpc3RlbmVyOnt9fEV2ZW50TGlzdGVuZXIpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9uKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9uKGRvbTpIVE1MRWxlbWVudCwgbGlzdGVuZXI6e318RXZlbnRMaXN0ZW5lcik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24oZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrRXZlbnRTZXBhcmF0b3IoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IGxpc3RlbmVyOkV2ZW50TGlzdGVuZXIgPSAhKGFyZ3NbMF0gaW5zdGFuY2VvZiBFdmVudExpc3RlbmVyKSA/ICBFdmVudExpc3RlbmVyLmNyZWF0ZShhcmdzWzBdKTogYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZXJEYXRhTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyRGF0YTpFdmVudEhhbmRsZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGxpc3RlbmVyLmV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihoYW5kbGVyRGF0YS5ldmVudE5hbWUsIGhhbmRsZXJEYXRhLmhhbmRsZXIsIGxpc3RlbmVyLnByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcjpFdmVudExpc3RlbmVyID0gIShhcmdzWzBdIGluc3RhbmNlb2YgRXZlbnRMaXN0ZW5lcikgPyAgRXZlbnRMaXN0ZW5lci5jcmVhdGUoYXJnc1swXSk6IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5oYW5kbGVyRGF0YUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlckRhdGE6RXZlbnRIYW5kbGVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihsaXN0ZW5lci5ldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oZG9tLCBoYW5kbGVyRGF0YS5ldmVudE5hbWUsIGhhbmRsZXJEYXRhLmhhbmRsZXIsIGxpc3RlbmVyLnByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihkb20sIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbM107XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub24oZG9tLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvZmYoKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nKTp2b2lkO1xuICAgICAgICBwdWJsaWMgb2ZmKGRvbTpIVE1MRWxlbWVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudFJlZ2lzdGVyID0gRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZXZlbnRSZWdpc3Rlci5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxFdmVudEhhbmRsZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnRSZWdpc3Rlci5nZXRFdmVudE5hbWVGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9mZihldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRFdmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZWdpc3RlcmVkRXZlbnROYW1lID09PSBldmVudE5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBldmVudFJlZ2lzdGVyLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEV2ZW50SGFuZGxlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihldmVudFJlZ2lzdGVyLmlzRG9tKGtleSwgZG9tLCBsaXN0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vZmYoZG9tLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub2ZmKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYoZG9tLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydChldmVudE5hbWUuaW5kZXhPZihEb21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yKSA9PT0gLTEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImV2ZW50TmFtZVwiLCBgY29udGFpbiAke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXJGYWN0b3J5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGU6RUV2ZW50VHlwZSl7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuTU9VU0U6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBNb3VzZUV2ZW50SGFuZGxlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuS0VZQk9BUkQ6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBLZXlib2FyZEV2ZW50SGFuZGxlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gQ3VzdG9tRXZlbnRIYW5kbGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vdG9kbyBtb3JlIHR5cGVcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcImV2ZW50VHlwZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRCaW5kZXJGYWN0b3J5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUV2ZW50QmluZGVyKGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIGxldCBiaW5kZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuTU9VU0U6XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnRUeXBlLktFWUJPQVJEOlxuICAgICAgICAgICAgICAgICAgICBiaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBiaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChgZXZlbnROYW1lOiR7ZXZlbnROYW1lfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiaW5kZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50RGlzcGF0Y2hlckZhY3Rvcnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRXZlbnREaXNwYXRjaGVyKGV2ZW50OkV2ZW50KXtcbiAgICAgICAgICAgIGxldCBkaXNwYXRjaGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50VHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnRUeXBlLk1PVVNFOlxuICAgICAgICAgICAgICAgIGNhc2UgRUV2ZW50VHlwZS5LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlciA9IERvbUV2ZW50RGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKGBldmVudDoke2V2ZW50fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvbihsaXN0ZW5lcjp7fXxFdmVudExpc3RlbmVyKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uKTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKGRvbTpIVE1MRWxlbWVudCwgbGlzdGVuZXI6e318RXZlbnRMaXN0ZW5lcik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbiwgcHJpb3JpdHk6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbiwgcHJpb3JpdHk6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpID09PSBFRXZlbnRUeXBlLkNVU1RPTSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRcIiwgXCJjdXN0b20gZXZlbnRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChldmVudFR5cGUgPT09IEVFdmVudFR5cGUuTU9VU0UgfHwgZXZlbnRUeXBlID09PSBFRXZlbnRUeXBlLktFWUJPQVJELCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJldmVudFwiLCBcImRvbSBldmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb24oLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ZW5lciA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9uKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IDEsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRXZlbnRCaW5kZXJGYWN0b3J5LmNyZWF0ZUV2ZW50QmluZGVyKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vbihldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24oZG9tLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEV2ZW50QmluZGVyRmFjdG9yeS5jcmVhdGVFdmVudEJpbmRlcihldmVudE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSAxLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEN1c3RvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZG9tID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gMSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24oZG9tLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDQgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gQ3VzdG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0ICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBhcmdzWzNdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IERvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vbihkb20sIGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYoKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZyk6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCk6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYoZG9tOkhUTUxFbGVtZW50KTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nKTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIG9mZihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPiAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkgPT09IEVFdmVudFR5cGUuQ1VTVE9NLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJldmVudFwiLCBcImN1c3RvbSBldmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID4gMiAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChldmVudFR5cGUgPT09IEVFdmVudFR5cGUuTU9VU0UgfHwgZXZlbnRUeXBlID09PSBFRXZlbnRUeXBlLktFWUJPQVJELCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJldmVudFwiLCBcImRvbSBldmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgY3VzdG9tRXZlbnRCaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgICAgICBkb21FdmVudEJpbmRlciA9IERvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBjdXN0b21FdmVudEJpbmRlci5vZmYoKTtcbiAgICAgICAgICAgICAgICBkb21FdmVudEJpbmRlci5vZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRXZlbnRCaW5kZXJGYWN0b3J5LmNyZWF0ZUV2ZW50QmluZGVyKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vZmYoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gQ3VzdG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBFdmVudEJpbmRlckZhY3RvcnkuY3JlYXRlRXZlbnRCaW5kZXIoZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub2ZmKHRhcmdldCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZihkb20sIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub2ZmKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IERvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vZmYoZG9tLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50KTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdHJpZ2dlcihldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdHJpZ2dlcihkb206SFRNTEVsZW1lbnQsIGV2ZW50OkV2ZW50KTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55LCBub3RTZXRUYXJnZXQ6Ym9vbGVhbik6dm9pZDtcblxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEV2ZW50KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50IHR5cGVcIiwgXCJDVVNUT01cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50IHR5cGVcIiwgXCJDVVNUT01cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIoLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlciA9IEV2ZW50RGlzcGF0Y2hlckZhY3RvcnkuY3JlYXRlRXZlbnREaXNwYXRjaGVyKGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci50cmlnZ2VyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEV2ZW50KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlciA9IEN1c3RvbUV2ZW50RGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyLnRyaWdnZXIoZXZlbnQsIHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIudHJpZ2dlcih0YXJnZXQsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyID0gRG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIudHJpZ2dlcihkb20sIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIudHJpZ2dlcih0YXJnZXQsIGV2ZW50LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlciA9IEN1c3RvbUV2ZW50RGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyLnRyaWdnZXIodGFyZ2V0LCBldmVudCwgdXNlckRhdGEsIG5vdFNldFRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYnJvYWRjYXN0KHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50KTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBicm9hZGNhc3QodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnRPYmplY3Q6RXZlbnQsIHVzZXJEYXRhPzphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KGV2ZW50T2JqZWN0IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50T2JqZWN0XCIsIFwiQ3VzdG9tRXZlbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGJyb2FkY2FzdCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci5icm9hZGNhc3QuYXBwbHkoZXZlbnREaXNwYXRjaGVyLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE9iamVjdDpFdmVudCwgdXNlckRhdGE/OmFueSl7XG4gICAgICAgICAgICBhc3NlcnQoZXZlbnRPYmplY3QgaW5zdGFuY2VvZiBDdXN0b21FdmVudCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRPYmplY3RcIiwgXCJDdXN0b21FdmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci5lbWl0LmFwcGx5KGV2ZW50RGlzcGF0Y2hlciwgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChldmVudE5hbWU6RUV2ZW50TmFtZSwgcHJpb3JpdHk6bnVtYmVyKTp3ZEZycC5Gcm9tRXZlbnRQYXR0ZXJuU3RyZWFtO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBmcm9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgcHJpb3JpdHk6bnVtYmVyKTp3ZEZycC5Gcm9tRXZlbnRQYXR0ZXJuU3RyZWFtO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBwcmlvcml0eTpudW1iZXIpOndkRnJwLkZyb21FdmVudFBhdHRlcm5TdHJlYW07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBmcm9tRXZlbnQoLi4uYXJncyk6YW55IHtcbiAgICAgICAgICAgIHZhciBhZGRIYW5kbGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGFkZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbihhcmdzWzBdLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vZmYoYXJnc1swXSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbihhcmdzWzBdLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIub2ZmKGFyZ3NbMF0sIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21FdmVudFBhdHRlcm4oYWRkSGFuZGxlciwgcmVtb3ZlSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBwYXJlbnQ6YW55KXtcbiAgICAgICAgICAgIGFzc2VydCh0YXJnZXQgaW5zdGFuY2VvZiBFbnRpdHlPYmplY3QsIFwib25seSBFbnRpdHlPYmplY3QgY2FuIHNldEJ1YmxlUGFyZW50XCIpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldEJ1YmJsZVBhcmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBwYXJlbnQ6YW55KSB7XG4gICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkuc2V0QnViYmxlUGFyZW50KHRhcmdldCwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFRW5naW5lRXZlbnR7XG4gICAgICAgIC8qISBnbG9iYWwgZXZlbnQgc2hvdWxkIGFkZCBcImR5X1wiIHByZWZpeCAqL1xuICAgICAgICBTVEFSVExPT1AgPSA8YW55PlwiZHlfc3RhcnRMb29wXCIsXG4gICAgICAgIEVORExPT1AgPSA8YW55PlwiZHlfZW5kTG9vcFwiLFxuICAgICAgICBCRUZPUkVfR0FNRU9CSkVDVF9JTklUID0gPGFueT5cImR5X2JlZm9yZUdhbWVPYmplY3RJbml0XCIsXG4gICAgICAgIEFGVEVSX0dBTUVPQkpFQ1RfSU5JVCA9IDxhbnk+XCJkeV9hZnRlckdhbWVPYmplY3RJbml0XCIsXG4gICAgICAgIEFGVEVSX0dBTUVPQkpFQ1RfSU5JVF9SSUdJREJPRFlfQUREX0NPTlNUUkFJTlQgPSA8YW55PlwiZHlfYWZ0ZXJHYW1lT2JqZWN0SW5pdF9yaWdpZEJvZHlfYWRkQ29uc3RyYWludFwiLFxuXG4gICAgICAgIE1PVVNFX0NMSUNLID0gPGFueT5cImR5X21vdXNlY2xpY2tcIixcbiAgICAgICAgTU9VU0VfRE9XTiA9IDxhbnk+XCJkeV9tb3VzZWRvd25cIixcbiAgICAgICAgTU9VU0VfVVAgPSA8YW55PlwiZHlfbW91c2V1cFwiLFxuICAgICAgICBNT1VTRV9NT1ZFID0gPGFueT5cImR5X21vdXNlbW92ZVwiLFxuICAgICAgICBNT1VTRV9PVkVSID0gPGFueT5cImR5X21vdXNlb3ZlclwiLFxuICAgICAgICBNT1VTRV9PVVQgPSA8YW55PlwiZHlfbW91c2VvdXRcIixcbiAgICAgICAgTU9VU0VfV0hFRUwgPSA8YW55PlwiZHlfbW91c2V3aGVlbFwiLFxuICAgICAgICBNT1VTRV9EUkFHID0gPGFueT5cImR5X21vdXNlZHJhZ1wiLFxuXG4gICAgICAgIE1BVEVSSUFMX0NIQU5HRSA9IDxhbnk+XCJkeV9tYXRlcmlhbF9jaGFuZ2VcIixcblxuICAgICAgICBVSV9XSURUSF9DSEFOR0UgPSA8YW55PlwiZHlfdWlfd2lkdGhfY2hhbmdlXCIsXG4gICAgICAgIFVJX0hFSUdIVF9DSEFOR0UgPSA8YW55PlwiZHlfdWlfaGVpZ2h0X2NoYW5nZVwiLFxuXG4gICAgICAgIFRSQU5TRk9STV9UUkFOU0xBVEUgPSA8YW55PlwiZHlfdHJhbnNmb3JtX3RyYW5zbGF0ZVwiLFxuICAgICAgICBUUkFOU0ZPUk1fUk9UQVRFID0gPGFueT5cImR5X3RyYW5zZm9ybV9yb3RhdGVcIixcbiAgICAgICAgVFJBTlNGT1JNX1NDQUxFID0gPGFueT5cImR5X3RyYW5zZm9ybV9zY2FsZVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudFRyaWdnZXJEZXRlY3RvciBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgLy9wdWJsaWMgdHJpZ2dlck1vZGU6RXZlbnRUcmlnZ2VyTW9kZSA9IEV2ZW50VHJpZ2dlck1vZGUuVE9QO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc1RyaWdnZXIoZTpNb3VzZUV2ZW50KTpib29sZWFuO1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICAvL3RvZG8gc3VwcG9ydCBjaGFuZ2UgZXZlbnQgcmVjdCByYW5nZShiZWNhdXNlIGlmIHJvdGF0ZSwgdGhlIHRoZSBldmVudCByZWN0IHJhbmdlIG1heSBiZSBtdWNoIGRpZmZlcmVudCBmcm9tIHRoZSBvbmUgb2YgZHJhd2VkIGluIGNhbnZhcylcbiAgICBleHBvcnQgY2xhc3MgVUlFdmVudFRyaWdnZXJEZXRlY3RvciBleHRlbmRzIEV2ZW50VHJpZ2dlckRldGVjdG9yIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RyaWdnZXIoZTpNb3VzZUV2ZW50KTpib29sZWFuIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm06UmVjdFRyYW5zZm9ybSA9IDxSZWN0VHJhbnNmb3JtPnRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHRyYW5zZm9ybS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0cmFuc2Zvcm0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uSW5WaWV3ID0gZS5sb2NhdGlvbkluVmlldyxcbiAgICAgICAgICAgICAgICBsZWZ0VXBDb3JuZXJQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGxlZnRVcENvcm5lclBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUocG9zaXRpb24ueCAtIHdpZHRoIC8gMiwgcG9zaXRpb24ueSAtIGhlaWdodCAvIDIpO1xuXG4gICAgICAgICAgICByZXR1cm4gRXZlbnRUcmlnZ2VyRGV0ZWN0b3JVdGlscy5pc0luUmVjdChsb2NhdGlvbkluVmlldywgbGVmdFVwQ29ybmVyUG9zaXRpb24sIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBSYXlDYXN0ZXJFdmVudFRyaWdnZXJEZXRlY3RvciBleHRlbmRzIEV2ZW50VHJpZ2dlckRldGVjdG9yIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RyaWdnZXIoZTpNb3VzZUV2ZW50KTpib29sZWFuIHtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbnRyb2xsZXI6Q2FtZXJhQ29udHJvbGxlciA9IHNjZW5lLmN1cnJlbnRDYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uSW5WaWV3ID0gZS5sb2NhdGlvbkluVmlldztcblxuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYUNvbnRyb2xsZXIuaXNJbnRlcnNlY3RXaXRoUmF5KDxHYW1lT2JqZWN0PnRoaXMuZW50aXR5T2JqZWN0LCBsb2NhdGlvbkluVmlldy54LCBsb2NhdGlvbkluVmlldy55KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU2NlbmVFdmVudFRyaWdnZXJEZXRlY3RvciBleHRlbmRzIEV2ZW50VHJpZ2dlckRldGVjdG9yIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RyaWdnZXIoZTpNb3VzZUV2ZW50KTpib29sZWFuIHtcbiAgICAgICAgICAgIHZhciB2aWV3OklWaWV3ID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXcsXG4gICAgICAgICAgICAgICAgd2lkdGggPSB2aWV3LndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHZpZXcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uSW5WaWV3ID0gZS5sb2NhdGlvbkluVmlldyxcbiAgICAgICAgICAgICAgICBsZWZ0VXBDb3JuZXJQb3NpdGlvbiA9IFZlY3RvcjIuY3JlYXRlKDAsIDApO1xuXG4gICAgICAgICAgICByZXR1cm4gRXZlbnRUcmlnZ2VyRGV0ZWN0b3JVdGlscy5pc0luUmVjdChsb2NhdGlvbkluVmlldywgbGVmdFVwQ29ybmVyUG9zaXRpb24sIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBFdmVudFRyaWdnZXJEZXRlY3RvclV0aWxzIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0luUmVjdChsb2NhdGlvbkluVmlldzpQb2ludCwgbGVmdFVwQ29ybmVyUG9zaXRpb246VmVjdG9yMiwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYXRpb25JblZpZXcueCA+PSBsZWZ0VXBDb3JuZXJQb3NpdGlvbi54ICYmIGxvY2F0aW9uSW5WaWV3LnggPD0gbGVmdFVwQ29ybmVyUG9zaXRpb24ueCArIHdpZHRoICYmIGxvY2F0aW9uSW5WaWV3LnkgPj0gbGVmdFVwQ29ybmVyUG9zaXRpb24ueSAmJiBsb2NhdGlvbkluVmlldy55IDw9IGxlZnRVcENvcm5lclBvc2l0aW9uLnkgKyBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgY29uc3QgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKSxcbiAgICAgICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKTtcblxuICAgIC8vdG9kbyBub3QgZGVjbGFyZSBcIjxhbnk+XCIhXG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLkNMSUNLLCBcIm9uTW91c2VDbGlja1wiKTtcbiAgICBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VPVkVSLCBcIm9uTW91c2VPdmVyXCIpO1xuICAgIF9zY3JpcHRIYW5kbGVyTmFtZVRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRU9VVCwgXCJvbk1vdXNlT3V0XCIpO1xuICAgIF9zY3JpcHRIYW5kbGVyTmFtZVRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRU1PVkUsIFwib25Nb3VzZU1vdmVcIik7XG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFRE9XTiwgXCJvbk1vdXNlRG93blwiKTtcbiAgICBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VVUCwgXCJvbk1vdXNlVXBcIik7XG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFV0hFRUwsIFwib25Nb3VzZVdoZWVsXCIpO1xuICAgIF9zY3JpcHRIYW5kbGVyTmFtZVRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRURSQUcsIFwib25Nb3VzZURyYWdcIik7XG5cblxuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5DTElDSywgXCJNT1VTRV9DTElDS1wiKTtcbiAgICBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VET1dOLCBcIk1PVVNFX0RPV05cIik7XG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFVVAsIFwiTU9VU0VfVVBcIik7XG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFTU9WRSwgXCJNT1VTRV9NT1ZFXCIpO1xuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRU9WRVIsIFwiTU9VU0VfT1ZFUlwiKTtcbiAgICBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VPVVQsIFwiTU9VU0VfT1VUXCIpO1xuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRVdIRUVMLCBcIk1PVVNFX1dIRUVMXCIpO1xuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRURSQUcsIFwiTU9VU0VfRFJBR1wiKTtcblxuICAgIGV4cG9ydCBjbGFzcyBFdmVudFRyaWdnZXJUYWJsZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRTY3JpcHRIYW5kbGVyTmFtZShldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuZ2V0Q2hpbGQoPGFueT5ldmVudE5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRTY3JpcHRFbmdpbmVFdmVudChldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuZ2V0Q2hpbGQoPGFueT5ldmVudE5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU2NyaXB0IGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIHNjcmlwdExpc3Q6d2RDYi5TdGFjazxTY3JpcHRGaWxlRGF0YT4gPSB3ZENiLlN0YWNrLmNyZWF0ZTxTY3JpcHRGaWxlRGF0YT4oKTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOlNjcmlwdDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodXJsOnN0cmluZyk6U2NyaXB0O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFkZFNjcmlwdChzY3JpcHROYW1lOnN0cmluZywgX2NsYXNzOkZ1bmN0aW9uKXtcbiAgICAgICAgICAgIHRoaXMuc2NyaXB0TGlzdC5wdXNoKDxTY3JpcHRGaWxlRGF0YT57XG4gICAgICAgICAgICAgICAgbmFtZTogc2NyaXB0TmFtZSxcbiAgICAgICAgICAgICAgICBjbGFzczogX2NsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHVybDpzdHJpbmcgPSBudWxsKXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVybDpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVMb2FkSnNTdHJlYW0oKXtcbiAgICAgICAgICAgIExvZy5lcnJvcighdGhpcy51cmwsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJ1cmxcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmxvYWQodGhpcy51cmwpXG4gICAgICAgICAgICAubWFwKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNjcmlwdC5zY3JpcHRMaXN0LnBvcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFRvT2JqZWN0KGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5hZGRUb09iamVjdChlbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxvYWRKc1N0cmVhbSgpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YTpTY3JpcHRGaWxlRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9oYW5kbGVyQWZ0ZXJMb2FkZWRTY3JpcHQoZGF0YSwgZW50aXR5T2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhbmRsZXJBZnRlckxvYWRlZFNjcmlwdChkYXRhOlNjcmlwdEZpbGVEYXRhLCBlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2FkZFNjcmlwdFRvRW50aXR5T2JqZWN0KGVudGl0eU9iamVjdCwgZGF0YSk7XG4gICAgICAgICAgICBlbnRpdHlPYmplY3QuZXhlY1NjcmlwdChcIm9uRW50ZXJcIiwgbnVsbCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5CRUZPUkVfR0FNRU9CSkVDVF9JTklUKSk7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5leGVjU2NyaXB0KFwiaW5pdFwiLCBudWxsLCB0cnVlKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LkFGVEVSX0dBTUVPQkpFQ1RfSU5JVCkpO1xuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUX1JJR0lEQk9EWV9BRERfQ09OU1RSQUlOVCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkU2NyaXB0VG9FbnRpdHlPYmplY3QoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCwgZGF0YTpTY3JpcHRGaWxlRGF0YSl7XG4gICAgICAgICAgICBlbnRpdHlPYmplY3Quc2NyaXB0TGlzdC5hZGRDaGlsZChkYXRhLm5hbWUsIG5ldyBkYXRhLmNsYXNzKGVudGl0eU9iamVjdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgU2NyaXB0RmlsZURhdGEgPSB7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBjbGFzczphbnk7XG4gICAgfTtcbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVHJhbnNmb3JtIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBwcm90ZWN0ZWQgcF9wYXJlbnQ6VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgZ2V0IHBhcmVudCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBhcmVudChwYXJlbnQ6VHJhbnNmb3JtKXtcbiAgICAgICAgICAgIHRoaXMuc2V0UGFyZW50KHBhcmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlydHlMb2NhbDpib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPFRyYW5zZm9ybT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFRyYW5zZm9ybT4oKTtcblxuXG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZChjaGlsZDpUcmFuc2Zvcm0pe1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoY2hpbGQ6VHJhbnNmb3JtKXtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldFBhcmVudChwYXJlbnQ6VHJhbnNmb3JtKXtcbiAgICAgICAgICAgIGlmKHRoaXMucF9wYXJlbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMucF9wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCFwYXJlbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMucF9wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBfcGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy5wX3BhcmVudC5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICAgICAgLy90b2RvIGNhbiBoYXMgbXVsdGkgcGFyZW50P1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldE1hdHJpeChzeW5jTWV0aG9kOnN0cmluZywgbWF0cml4QXR0cmlOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgc3luY0xpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFRyYW5zZm9ybT4oKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5wX3BhcmVudDtcblxuICAgICAgICAgICAgc3luY0xpc3QuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3luY0xpc3QuYWRkQ2hpbGQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzeW5jTGlzdC5yZXZlcnNlKCkuZm9yRWFjaCgodHJhbnNmb3JtOlRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVtzeW5jTWV0aG9kXSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzW21hdHJpeEF0dHJpTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0Q2hpbGRyZW5UcmFuc2Zvcm1TdGF0ZSh0cmFuc2Zvcm1TdGF0ZTpzdHJpbmcpe1xuICAgICAgICAgICAgaWYodGhpc1t0cmFuc2Zvcm1TdGF0ZV0pe1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6VHJhbnNmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkW3RyYW5zZm9ybVN0YXRlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVGhyZWVEVHJhbnNmb3JtIGV4dGVuZHMgVHJhbnNmb3Jte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxUb1dvcmxkTWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBnZXQgbG9jYWxUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXRyaXgoXCJzeW5jXCIsIFwiX2xvY2FsVG9Xb3JsZE1hdHJpeFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Bvc2l0aW9uOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgpO1xuICAgICAgICBnZXQgcG9zaXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb24oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCBwb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbiA9IHBvc2l0aW9uLmNvcHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSB0aGlzLnBfcGFyZW50LmxvY2FsVG9Xb3JsZE1hdHJpeC5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHlQb2ludChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcm90YXRpb246UXVhdGVybmlvbiA9IFF1YXRlcm5pb24uY3JlYXRlKDAsIDAsIDAsIDEpO1xuICAgICAgICBnZXQgcm90YXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLnNldEZyb21NYXRyaXgodGhpcy5sb2NhbFRvV29ybGRNYXRyaXgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJvdGF0aW9uKHJvdGF0aW9uOlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gcm90YXRpb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbiA9IHRoaXMucF9wYXJlbnQucm90YXRpb24uY29weSgpLmludmVydCgpLm11bHRpcGx5KHJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1JvdGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zY2FsZTpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMSwgMSwgMSk7XG4gICAgICAgIGdldCBzY2FsZSgpe1xuICAgICAgICAgICAgdGhpcy5fc2NhbGUgPSB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRTY2FsZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNjYWxlKHNjYWxlOlZlY3RvcjMpe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFNjYWxlID0gc2NhbGUuY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHRoaXMucF9wYXJlbnQubG9jYWxUb1dvcmxkTWF0cml4LmNvcHkoKS5pbnZlcnQoKS5tdWx0aXBseVZlY3RvcjMoc2NhbGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzU2NhbGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZXVsZXJBbmdsZXM6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIGdldCBldWxlckFuZ2xlcygpe1xuICAgICAgICAgICAgdGhpcy5fZXVsZXJBbmdsZXMgPSB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRFdWxlckFuZ2xlcygpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V1bGVyQW5nbGVzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBldWxlckFuZ2xlcyhldWxlckFuZ2xlczpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24uc2V0RnJvbUV1bGVyQW5nbGVzKGV1bGVyQW5nbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gdGhpcy5wX3BhcmVudC5yb3RhdGlvbi5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHkodGhpcy5fbG9jYWxSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbjpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIGdldCBsb2NhbFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSBwb3NpdGlvbi5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxSb3RhdGlvbjpRdWF0ZXJuaW9uID0gUXVhdGVybmlvbi5jcmVhdGUoMCwgMCwgMCwgMSk7XG4gICAgICAgIGdldCBsb2NhbFJvdGF0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxSb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxSb3RhdGlvbihyb3RhdGlvbjpRdWF0ZXJuaW9uKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24gPSByb3RhdGlvbi5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxFdWxlckFuZ2xlczpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgZ2V0IGxvY2FsRXVsZXJBbmdsZXMoKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsRXVsZXJBbmdsZXMgPSB0aGlzLl9sb2NhbFJvdGF0aW9uLmdldEV1bGVyQW5nbGVzKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxFdWxlckFuZ2xlcztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxFdWxlckFuZ2xlcyhsb2NhbEV1bGVyQW5nbGVzOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbi5zZXRGcm9tRXVsZXJBbmdsZXMobG9jYWxFdWxlckFuZ2xlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxTY2FsZTpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMSwgMSwgMSk7XG4gICAgICAgIGdldCBsb2NhbFNjYWxlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxTY2FsZShzY2FsZTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsU2NhbGUgPSBzY2FsZS5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNTY2FsZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRZKCkubm9ybWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcmlnaHQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRYKCkubm9ybWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZm9yd2FyZCgpe1xuICAgICAgICAgICAgLy90b2RvIHdoeSBzY2FsZSgtMSk/XG4gICAgICAgICAgICAvL3JldHVybiB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRaKCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0WigpLm5vcm1hbGl6ZSgpLnNjYWxlKC0xKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZ2V0IGlzVHJhbnNmb3JtKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1RyYW5zbGF0ZSB8fCB0aGlzLmlzUm90YXRlIHx8IHRoaXMuaXNTY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVHJhbnNsYXRlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgZ2V0IGlzVHJhbnNsYXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNUcmFuc2xhdGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzVHJhbnNsYXRlKGlzVHJhbnNsYXRlOmJvb2xlYW4pe1xuICAgICAgICAgICAgdGhpcy5faXNUcmFuc2xhdGUgPSBpc1RyYW5zbGF0ZTtcblxuICAgICAgICAgICAgaWYoaXNUcmFuc2xhdGUpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlMb2NhbCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuVHJhbnNmb3JtU3RhdGUoXCJpc1RyYW5zbGF0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzUm90YXRlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgZ2V0IGlzUm90YXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNSb3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzUm90YXRlKGlzUm90YXRlOmJvb2xlYW4pe1xuICAgICAgICAgICAgdGhpcy5faXNSb3RhdGUgPSBpc1JvdGF0ZTtcblxuICAgICAgICAgICAgaWYoaXNSb3RhdGUpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlMb2NhbCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuVHJhbnNmb3JtU3RhdGUoXCJpc1JvdGF0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU2NhbGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNTY2FsZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzU2NhbGUoaXNTY2FsZTpib29sZWFuKXtcbiAgICAgICAgICAgIHRoaXMuX2lzU2NhbGUgPSBpc1NjYWxlO1xuXG4gICAgICAgICAgICBpZihpc1NjYWxlKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlblRyYW5zZm9ybVN0YXRlKFwiaXNTY2FsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXJ0eVdvcmxkOmJvb2xlYW4gPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3BhcmVudDpUaHJlZURUcmFuc2Zvcm07XG4gICAgICAgIHByb3RlY3RlZCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248VGhyZWVEVHJhbnNmb3JtPjtcblxuICAgICAgICBwcml2YXRlIF9sb2NhbFRvUGFyZW50TWF0cml4Ok1hdHJpeDQgPSBNYXRyaXg0LmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9lbmRMb29wU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2VuZExvb3BTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1ApXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Jlc2V0VHJhbnNmb3JtRmxhZygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fZW5kTG9vcFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9lbmRMb29wU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzeW5jKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eUxvY2FsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeC5zZXRUUlModGhpcy5fbG9jYWxQb3NpdGlvbiwgdGhpcy5fbG9jYWxSb3RhdGlvbiwgdGhpcy5fbG9jYWxTY2FsZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5V29ybGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eVdvcmxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxUb1dvcmxkTWF0cml4ID0gdGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFRvV29ybGRNYXRyaXggPSB0aGlzLnBfcGFyZW50LmxvY2FsVG9Xb3JsZE1hdHJpeC5jb3B5KCkubXVsdGlwbHkodGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVdvcmxkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOlRocmVlRFRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eVdvcmxkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGVMb2NhbCh0cmFuc2xhdGlvbjpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZUxvY2FsKHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG5cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZUxvY2FsKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSB0aGlzLl9sb2NhbFBvc2l0aW9uLmFkZCh0aGlzLl9sb2NhbFJvdGF0aW9uLm11bHRpcGx5VmVjdG9yMyh0cmFuc2xhdGlvbikpO1xuXG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHRyYW5zbGF0aW9uOlZlY3RvcjMpO1xuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGUoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gdHJhbnNsYXRpb24uYWRkKHRoaXMucG9zaXRpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByb3RhdGUoZXVsZXJBbmdsZXM6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyByb3RhdGUoeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcik7XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBldWxlckFuZ2xlcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbiA9IFF1YXRlcm5pb24uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBldWxlckFuZ2xlcyA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBldWxlckFuZ2xlcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHF1YXRlcm5pb24uc2V0RnJvbUV1bGVyQW5nbGVzKGV1bGVyQW5nbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gcXVhdGVybmlvbi5tdWx0aXBseSh0aGlzLl9sb2NhbFJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vdG9kbyB3aHk/XG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbiA9IHRoaXMucF9wYXJlbnQucm90YXRpb24uY29weSgpLmludmVydCgpLm11bHRpcGx5KHF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24gPSBxdWF0ZXJuaW9uLm11bHRpcGx5KHRoaXMucm90YXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzUm90YXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcm90YXRlTG9jYWwoZXVsZXJBbmdsZXM6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyByb3RhdGVMb2NhbCh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTtcblxuICAgICAgICBwdWJsaWMgcm90YXRlTG9jYWwoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgZXVsZXJBbmdsZXMgPSBudWxsLFxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgZXVsZXJBbmdsZXMgPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZXVsZXJBbmdsZXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnNldEZyb21FdWxlckFuZ2xlcyhldWxlckFuZ2xlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24ubXVsdGlwbHkocXVhdGVybmlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoYW5nbGU6bnVtYmVyLCBjZW50ZXI6VmVjdG9yMywgYXhpczpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUFyb3VuZChhbmdsZTpudW1iZXIsIGNlbnRlclg6bnVtYmVyLCBjZW50ZXJZOm51bWJlciwgY2VudGVyWjpudW1iZXIsIGF4aXNYOm51bWJlciwgYXhpc1k6bnVtYmVyLCBheGlzWjpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNlbnRlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgYXhpcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgcm90OlF1YXRlcm5pb24gPSBudWxsLFxuICAgICAgICAgICAgICAgIGRpcjpWZWN0b3IzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGF4aXMgPSBhcmdzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY2VudGVyID0gVmVjdG9yMy5jcmVhdGUoYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgICAgICAgYXhpcyA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb3QgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNldEZyb21BeGlzQW5nbGUoYW5nbGUsIGF4aXMpO1xuICAgICAgICAgICAgLy8gZmluZCBjdXJyZW50IGRpcmVjdGlvbiByZWxhdGl2ZSB0byBjZW50ZXJcbiAgICAgICAgICAgIGRpciA9IHRoaXMucG9zaXRpb24uY29weSgpLnN1YihjZW50ZXIpO1xuXG4gICAgICAgICAgICAvLyByb3RhdGUgdGhlIGRpcmVjdGlvblxuICAgICAgICAgICAgZGlyID0gcm90Lm11bHRpcGx5VmVjdG9yMyhkaXIpO1xuXG4gICAgICAgICAgICAvLyBkZWZpbmUgbmV3IHBvc2l0aW9uXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gY2VudGVyLmFkZChkaXIpO1xuICAgICAgICAgICAgLy90b2RvIHdoeSBcInRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uLm11bHRpcGx5KHJvdClcIiB3aWxsIGNhdXNlIGVudGl0eU9iamVjdCByb3RhdGUgZGlyZWN0aW9uIGFyb3VuZCBzZWxmP1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdC5tdWx0aXBseSh0aGlzLnJvdGF0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbG9va0F0KHRhcmdldDpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIGxvb2tBdCh0YXJnZXRYOm51bWJlciwgdGFyZ2V0WTpudW1iZXIsIHRhcmdldFo6bnVtYmVyKTtcbiAgICAgICAgcHVibGljIGxvb2tBdCh0YXJnZXQ6VmVjdG9yMywgdXA6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyBsb29rQXQodGFyZ2V0WDpudW1iZXIsIHRhcmdldFk6bnVtYmVyLCB0YXJnZXRaOm51bWJlciwgdXBYOm51bWJlciwgdXBZOm51bWJlciwgdXBaOm51bWJlcik7XG5cbiAgICAgICAgcHVibGljIGxvb2tBdCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHVwID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdXAgPSBWZWN0b3IzLnVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB1cCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgICAgICB1cCA9IFZlY3RvcjMudXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICAgIHVwID0gVmVjdG9yMy5jcmVhdGUoYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNldEZyb21NYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRMb29rQXQodGhpcy5wb3NpdGlvbiwgdGFyZ2V0LCB1cCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc2V0VHJhbnNmb3JtRmxhZygpe1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1NjYWxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm90YXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUmVjdFRyYW5zZm9ybSBleHRlbmRzIFRyYW5zZm9ybXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JvdGF0aW9uTWF0cml4Ok1hdHJpeDMgPSBudWxsO1xuICAgICAgICBnZXQgcm90YXRpb25NYXRyaXgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE1hdHJpeChcInN5bmNSb3RhdGlvblwiLCBcIl9yb3RhdGlvbk1hdHJpeFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeDpNYXRyaXgzID0gTWF0cml4My5jcmVhdGUoKTtcbiAgICAgICAgZ2V0IGxvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF0cml4KFwic3luY1Bvc2l0aW9uQW5kU2NhbGVcIiwgXCJfbG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcG9zaXRpb246VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKCk7XG4gICAgICAgIGdldCBwb3NpdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLmxvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeC5nZXRUcmFuc2xhdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBvc2l0aW9uKHBvc2l0aW9uOlZlY3RvcjIpe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFBvc2l0aW9uID0gcG9zaXRpb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbiA9IHRoaXMucF9wYXJlbnQubG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4LmNvcHkoKS5pbnZlcnQoKS5tdWx0aXBseVBvaW50KHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yb3RhdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICBnZXQgcm90YXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdGhpcy5yb3RhdGlvbk1hdHJpeC5nZXRSb3RhdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJvdGF0aW9uKGFuZ2xlOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRlKGFuZ2xlKTtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2NhbGU6VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKDEsIDEpO1xuICAgICAgICBnZXQgc2NhbGUoKXtcbiAgICAgICAgICAgIHRoaXMuX3NjYWxlID0gdGhpcy5sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXguZ2V0U2NhbGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBzY2FsZShzY2FsZTpWZWN0b3IyKXtcbiAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHNjYWxlLmNvcHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsU2NhbGUgPSB0aGlzLnBfcGFyZW50LmxvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeC5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHlWZWN0b3IyKHNjYWxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1NjYWxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBhZGQgc2tldyBhdHRyaVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbjpWZWN0b3IyID0gVmVjdG9yMi5jcmVhdGUoMCwgMCk7XG4gICAgICAgIGdldCBsb2NhbFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSBwb3NpdGlvbi5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxTY2FsZTpWZWN0b3IyID0gVmVjdG9yMi5jcmVhdGUoMSwgMSk7XG4gICAgICAgIGdldCBsb2NhbFNjYWxlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxTY2FsZShzY2FsZTpWZWN0b3IyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsU2NhbGUgPSBzY2FsZS5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNTY2FsZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gZXh0cmFjdCBSb290UmVjdFRyYW5zZm9ybT9cblxuICAgICAgICBwcml2YXRlIF9hbmNob3JYOlZlY3RvcjIgPSBWZWN0b3IyLmNyZWF0ZSgwLjUsIDAuNSk7XG4gICAgICAgIGdldCBhbmNob3JYKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yWDtcbiAgICAgICAgfVxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihhbmNob3JYOlZlY3RvcjIpe1xuICAgICAgICAgICAgYXNzZXJ0KGFuY2hvclgueCA8PSBhbmNob3JYLnksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibWluWFwiLCBcIjw9IG1heFlcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KGFuY2hvclgueCA+PSAwICYmIGFuY2hvclgueCA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm1pblhcIiwgXCI+PSAwICYmIDw9IDFcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KGFuY2hvclgueSA+PSAwICYmIGFuY2hvclgueSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm1heFhcIiwgXCI+PSAwICYmIDw9IDFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBzZXQgYW5jaG9yWChhbmNob3JYOlZlY3RvcjIpe1xuICAgICAgICAgICAgdmFyIHBhcmVudFdpZHRoID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fYW5jaG9yWCA9IGFuY2hvclg7XG5cbiAgICAgICAgICAgIGlmKGFuY2hvclgueCA9PT0gYW5jaG9yWC55KXtcbiAgICAgICAgICAgICAgICBsZXQgd2lkdGhGcm9tQW5jaG9yVG9Qb3NpdGlvbiA9IChhbmNob3JYLnggLSAwLjUpICogdGhpcy5fZ2V0UGFyZW50V2lkdGgoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IyLmNyZWF0ZSh0aGlzLl9nZXRQYXJlbnRQb3NpdGlvbigpLnggKyB3aWR0aEZyb21BbmNob3JUb1Bvc2l0aW9uLCB0aGlzLnBvc2l0aW9uLnkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnRXaWR0aCA9IHRoaXMuX2dldFBhcmVudFdpZHRoKCk7XG5cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IyLmNyZWF0ZSh0aGlzLl9nZXRQYXJlbnRQb3NpdGlvbigpLnggKyAoYW5jaG9yWC54ICsgYW5jaG9yWC55IC0gMSkgLyAyICogcGFyZW50V2lkdGgsIHRoaXMucG9zaXRpb24ueSk7XG5cbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBwYXJlbnRXaWR0aCAvIHRoaXMuX2dldFBhcmVudFNjYWxlKCkueCAqIChhbmNob3JYLnkgLSBhbmNob3JYLngpICogdGhpcy5zY2FsZS54O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYW5jaG9yWTpWZWN0b3IyID0gVmVjdG9yMi5jcmVhdGUoMC41LCAwLjUpO1xuICAgICAgICBnZXQgYW5jaG9yWSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvclk7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oYW5jaG9yWTpWZWN0b3IyKXtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JZLnggPD0gYW5jaG9yWS55LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm1pbllcIiwgXCI8PSBtYXhZXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JZLnggPj0gMCAmJiBhbmNob3JZLnggPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtaW5ZXCIsIFwiPj0gMCAmJiA8PSAxXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JZLnkgPj0gMCAmJiBhbmNob3JZLnkgPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtYXhZXCIsIFwiPj0gMCAmJiA8PSAxXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2V0IGFuY2hvclkoYW5jaG9yWTpWZWN0b3IyKXtcbiAgICAgICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9hbmNob3JZID0gYW5jaG9yWTtcblxuICAgICAgICAgICAgaWYoYW5jaG9yWS54ID09PSBhbmNob3JZLnkpe1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHRGcm9tQW5jaG9yVG9Qb3NpdGlvbiA9IChhbmNob3JZLnggLSAwLjUpICogdGhpcy5fZ2V0UGFyZW50SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUodGhpcy5wb3NpdGlvbi54LCB0aGlzLl9nZXRQYXJlbnRQb3NpdGlvbigpLnkgKyBoZWlnaHRGcm9tQW5jaG9yVG9Qb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHRoaXMuX2dldFBhcmVudEhlaWdodCgpO1xuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUodGhpcy5wb3NpdGlvbi54LCB0aGlzLl9nZXRQYXJlbnRQb3NpdGlvbigpLnkgKyAoYW5jaG9yWS54ICsgYW5jaG9yWS55IC0gMSkgLyAyICogcGFyZW50SGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJlbnRIZWlnaHQgLyB0aGlzLl9nZXRQYXJlbnRTY2FsZSgpLnkgKiAoYW5jaG9yWS55IC0gYW5jaG9yWS54KSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3dpZHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCB3aWR0aCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoICogdGhpcy5zY2FsZS54O1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgaWYod2lkdGggIT09IHRoaXMuX3dpZHRoKXtcbiAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5VSV9XSURUSF9DSEFOR0UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0ICogdGhpcy5zY2FsZS55O1xuICAgICAgICB9XG4gICAgICAgIHNldCBoZWlnaHQoaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICBpZihoZWlnaHQgIT09IHRoaXMuX2hlaWdodCl7XG4gICAgICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5VSV9IRUlHSFRfQ0hBTkdFKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNUcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzVHJhbnNsYXRlIHx8IHRoaXMuaXNSb3RhdGUgfHwgdGhpcy5pc1NjYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNUcmFuc2xhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNUcmFuc2xhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1RyYW5zbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaXNUcmFuc2xhdGUoaXNUcmFuc2xhdGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9pc1RyYW5zbGF0ZSA9IGlzVHJhbnNsYXRlO1xuXG4gICAgICAgICAgICBpZihpc1RyYW5zbGF0ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUxvY2FsID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5icm9hZGNhc3QodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fVFJBTlNMQVRFKSk7XG5cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5UcmFuc2Zvcm1TdGF0ZShcImlzVHJhbnNsYXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNSb3RhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNSb3RhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1JvdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaXNSb3RhdGUoaXNSb3RhdGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9pc1JvdGF0ZSA9IGlzUm90YXRlO1xuXG4gICAgICAgICAgICBpZihpc1JvdGF0ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUxvY2FsID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5icm9hZGNhc3QodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fUk9UQVRFKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuVHJhbnNmb3JtU3RhdGUoXCJpc1JvdGF0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU2NhbGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNTY2FsZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzU2NhbGUoaXNTY2FsZTpib29sZWFuKXtcbiAgICAgICAgICAgIHRoaXMuX2lzU2NhbGUgPSBpc1NjYWxlO1xuXG4gICAgICAgICAgICBpZihpc1NjYWxlKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmJyb2FkY2FzdCh0aGlzLmVudGl0eU9iamVjdCwgQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9TQ0FMRSkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlblRyYW5zZm9ybVN0YXRlKFwiaXNTY2FsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXJ0eVJvdGF0aW9uOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZGlydHlQb3NpdGlvbkFuZFNjYWxlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcGl2b3Q6VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKDAsIDApO1xuICAgICAgICBwdWJsaWMgekluZGV4Om51bWJlciA9IDE7XG5cbiAgICAgICAgcHJvdGVjdGVkIHBfcGFyZW50OlJlY3RUcmFuc2Zvcm07XG4gICAgICAgIHByb3RlY3RlZCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248UmVjdFRyYW5zZm9ybT47XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxSb3RhdGlvbk1hdHJpeDpNYXRyaXgzID0gTWF0cml4My5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxUb1BhcmVudE1hdHJpeDpNYXRyaXgzID0gTWF0cml4My5jcmVhdGUoKTtcblxuICAgICAgICBwdWJsaWMgc3luY1JvdGF0aW9uKCl7XG4gICAgICAgICAgICBpZih0aGlzLmRpcnR5Um90YXRpb24pe1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uTWF0cml4ID0gdGhpcy5fbG9jYWxSb3RhdGlvbk1hdHJpeC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbk1hdHJpeCA9IHRoaXMucF9wYXJlbnQucm90YXRpb25NYXRyaXguY29weSgpLm11bHRpcGx5KHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6UmVjdFRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzeW5jUG9zaXRpb25BbmRTY2FsZSgpe1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlydHlMb2NhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsVG9QYXJlbnRNYXRyaXguc2V0VFModGhpcy5fbG9jYWxQb3NpdGlvbiwgdGhpcy5fbG9jYWxTY2FsZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5UG9zaXRpb25BbmRTY2FsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpcnR5UG9zaXRpb25BbmRTY2FsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeCA9IHRoaXMuX2xvY2FsVG9QYXJlbnRNYXRyaXguY29weSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4ID0gdGhpcy5wX3BhcmVudC5sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXguY29weSgpLm11bHRpcGx5KHRoaXMuX2xvY2FsVG9QYXJlbnRNYXRyaXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlMb2NhbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpSZWN0VHJhbnNmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmRpcnR5UG9zaXRpb25BbmRTY2FsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHRyYW5zbGF0aW9uOlZlY3RvcjIpO1xuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHg6bnVtYmVyLCB5Om51bWJlcik7XG5cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IFZlY3RvcjIuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB0cmFuc2xhdGlvbi5hZGQodGhpcy5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgIGlmIHBpdm90IGlzIG5vdCB0aGUgY2VudGVyIHBvaW50LCB0aGUgYWN0dWFsIHBvc2l0aW9uIHdpbGwgY2hhbmdlLCBidXQgdGhlIFwicG9zaXRpb25cIiBhdHRyIHdpbGwgbm90IGNoYW5nZSBub3chXG5cbiAgICAgICAgLy90b2RvIGNoYW5nZSBcInBvc2l0aW9uXCIgd2hlbiByb3RhdGUgdG8gZ2V0IHRoZSBhY3R1YWwgcG9zaXRpb25cbiAgICAgICAgICovXG5cbiAgICAgICAgcHVibGljIHJvdGF0ZShhbmdsZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcblxuICAgICAgICAgICAgdGhpcy5yb3RhdGVBcm91bmQoYW5nbGUsIHBvc2l0aW9uLnggKyB0aGlzLnBpdm90LngsIHBvc2l0aW9uLnkgLSB0aGlzLnBpdm90LnkpO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5Um90YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc1JvdGF0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZUFyb3VuZChhbmdsZTpudW1iZXIsIGNlbnRlcjpWZWN0b3IyKTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUFyb3VuZChhbmdsZTpudW1iZXIsIGNlbnRlclg6bnVtYmVyLCBjZW50ZXJZOm51bWJlcik7XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZUFyb3VuZCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgY2VudGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG51bGwsXG4gICAgICAgICAgICAgICAgeCA9IG51bGwsXG4gICAgICAgICAgICAgICAgeSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY2VudGVyID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNlbnRlciA9IFZlY3RvcjIuY3JlYXRlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB4ID0gY2VudGVyLng7XG4gICAgICAgICAgICB5ID0gY2VudGVyLnk7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZUluUm90YXRpb25NYXRyaXgoeCwgeSk7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGVBcm91bmRDYW52YXNPcmlnaW5Qb2ludChhbmdsZSk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGVJblJvdGF0aW9uTWF0cml4KC14LCAteSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJhbnNsYXRlSW5Sb3RhdGlvbk1hdHJpeCh4Om51bWJlciwgeTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbk1hdHJpeC50cmFuc2xhdGUoeCwgeSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0UG9zaXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IyLmNyZWF0ZSgwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldFNjYWxlKCl7XG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gVmVjdG9yMi5jcmVhdGUoMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzZXRSb3RhdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbk1hdHJpeC5zZXRJZGVudGl0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgICAvL3RvZG8gYWRkIHNrZXcgdG8gaW1wbGVtZW50IHJvdGF0ZSBhcm91bmQgeC95L3ogYXhpcyBmb3IgM2Qgcm90YXRlP1xuXG4gICAgICAgICBjYW4gcmVmZXIgdG8gaHR0cDovL3d3dy5zZW5vY3VsYXIuY29tL2ZsYXNoL3R1dG9yaWFscy90cmFuc2Zvcm1tYXRyaXgvXG4gICAgICAgICAqL1xuXG5cblxuICAgICAgICBwdWJsaWMgc2V0Q2hpbGRyZW5UcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5UcmFuc2Zvcm1TdGF0ZShcImlzVHJhbnNsYXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlblRyYW5zZm9ybVN0YXRlKFwiaXNSb3RhdGVcIik7XG4gICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuVHJhbnNmb3JtU3RhdGUoXCJpc1NjYWxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcm90YXRlQXJvdW5kQ2FudmFzT3JpZ2luUG9pbnQoYW5nbGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXgucm90YXRlKGFuZ2xlKTtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRQYXJlbnRXaWR0aCgpe1xuICAgICAgICAgICAgaWYodGhpcy5wX3BhcmVudCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LndpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wX3BhcmVudC53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFBhcmVudEhlaWdodCgpe1xuICAgICAgICAgICAgaWYodGhpcy5wX3BhcmVudCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9wYXJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UGFyZW50UG9zaXRpb24oKXtcbiAgICAgICAgICAgIGlmKHRoaXMucF9wYXJlbnQgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIGxldCB2aWV3ID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXc7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodmlldy53aWR0aCAvIDIsIHZpZXcuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBfcGFyZW50LnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UGFyZW50U2NhbGUoKXtcbiAgICAgICAgICAgIGlmKHRoaXMucF9wYXJlbnQgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSgxLCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9wYXJlbnQuc2NhbGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50Q29udGFpbmVye1xuICAgICAgICBwcm90ZWN0ZWQgbGlzdDp3ZENiLkNvbGxlY3Rpb248Q29tcG9uZW50PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8Q29tcG9uZW50PigpO1xuXG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZChjb21wb25lbnQ6Q29tcG9uZW50KXtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQ2hpbGQoY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxpc3QuYWRkQ2hpbGQoY29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZChjb21wb25lbnQ6Q29tcG9uZW50KXtcbiAgICAgICAgICAgIHRoaXMubGlzdC5yZW1vdmVDaGlsZChjb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkKGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5oYXNDaGlsZChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEFjdGlvbk1hbmFnZXIgZXh0ZW5kcyBDb21wb25lbnRDb250YWluZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6QWN0aW9uTWFuYWdlciB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxBY3Rpb24+O1xuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciByZW1vdmVRdWV1ZSA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaChmdW5jdGlvbihjaGlsZDpBY3Rpb24pe1xuICAgICAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgICAgICBmaXggXCJpZiByZW1vdmUgb3RoZXIgYWN0aW9uIG9mIGNoaWxkcmVuIHdoZW4gaW52b2tlICdjaGlsZC51cGRhdGUnLCBpdCB3aWxsIGVycm9yIGluIGl0ZXJhdGlvbiBhZnRlclwiOlxuICAgICAgICAgICAgICAgICBkZWZlciB0byByZW1vdmVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNGaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUXVldWUucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNTdG9wIHx8IGNoaWxkLmlzUGF1c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmVtb3ZlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQ6QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuZW50aXR5T2JqZWN0LnJlbW92ZUNvbXBvbmVudChjaGlsZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBVSU1hbmFnZXIgZXh0ZW5kcyBDb21wb25lbnRDb250YWluZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHVpT2JqZWN0OlVJT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModWlPYmplY3QpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodWlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5fdWlPYmplY3QgPSB1aU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VpT2JqZWN0OlVJT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMubGlzdC5nZXRDb3VudCgpIDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib25seSBjb250YWluIG9uZSB1aSBjb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICBpZih0aGlzLmxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLl9pc0RpcnR5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaCgodWk6VUkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdWkudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzRGlydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWlPYmplY3QuZ2V0Q29tcG9uZW50PFVJUmVuZGVyZXI+KFVJUmVuZGVyZXIpLnN0YXRlID09PSBFVUlSZW5kZXJlclN0YXRlLkRJUlRZO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBMaWdodE1hbmFnZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGFtYmllbnRMaWdodCgpOkdhbWVPYmplY3Qge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0cy5nZXRDaGlsZChBbWJpZW50TGlnaHQudHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZGlyZWN0aW9uTGlnaHRzKCk6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodHMuZ2V0Q2hpbGQoRGlyZWN0aW9uTGlnaHQudHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcG9pbnRMaWdodHMoKTogd2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0cy5nZXRDaGlsZChQb2ludExpZ2h0LnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbGlnaHRzOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGxpZ2h0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgaWYobGlnaHQuaGFzQ29tcG9uZW50KEFtYmllbnRMaWdodCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpZ2h0cy5hZGRDaGlsZChBbWJpZW50TGlnaHQudHlwZSwgbGlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihsaWdodC5oYXNDb21wb25lbnQoRGlyZWN0aW9uTGlnaHQpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodHMuYXBwZW5kQ2hpbGQoRGlyZWN0aW9uTGlnaHQudHlwZSwgbGlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihsaWdodC5oYXNDb21wb25lbnQoUG9pbnRMaWdodCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpZ2h0cy5hcHBlbmRDaGlsZChQb2ludExpZ2h0LnR5cGUsIGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJsaWdodFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQW5pbWF0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBnZXQgaXNTdGFydCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IEVBbmltYXRpb25TdGF0ZS5SVU47XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGlzU3RvcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IEVBbmltYXRpb25TdGF0ZS5TVE9QO1xuICAgICAgICB9XG4gICAgICAgIGdldCBpc1BhdXNlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gRUFuaW1hdGlvblN0YXRlLlBBVVNFO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0O1xuICAgICAgICBwdWJsaWMgaXNGcmFtZUNoYW5nZTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXRlOkVBbmltYXRpb25TdGF0ZSA9IEVBbmltYXRpb25TdGF0ZS5ERUZBVUxUO1xuICAgICAgICBwcm90ZWN0ZWQgcGF1c2VUaW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCByZXN1bWVUaW1lOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNSZXN1bWU6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5KGFuaW1OYW1lOnN0cmluZywgZnBzOm51bWJlcik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgcGF1c2UoKXtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBFQW5pbWF0aW9uU3RhdGUuUEFVU0U7XG5cbiAgICAgICAgICAgIHRoaXMucGF1c2VUaW1lID0gdGhpcy5nZXRQYXVzZVRpbWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKXtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBFQW5pbWF0aW9uU3RhdGUuUlVOO1xuXG4gICAgICAgICAgICB0aGlzLl9pc1Jlc3VtZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlc3VtZVRpbWUgPSB0aGlzLmdldFJlc3VtZVRpbWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKCl7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gRUFuaW1hdGlvblN0YXRlLlNUT1A7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlID09PSBFQW5pbWF0aW9uU3RhdGUuREVGQVVMVCB8fCB0aGlzLmlzU3RvcCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmlzUGF1c2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlV2hlblBhdXNlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2lzUmVzdW1lKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1Jlc3VtZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVGcm9tUGF1c2VQb2ludChlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQmVmb3JlSnVkZ2VXaGV0aGVyQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYodGhpcy5pc0N1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZSkpe1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlV2hlbkN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZyYW1lQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUludGVycG9sYXRpb24oZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRQYXVzZVRpbWUoKTpudW1iZXI7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRSZXN1bWVUaW1lKCk6bnVtYmVyO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFuZGxlV2hlblBhdXNlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZDtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGhhbmRsZVdoZW5DdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFuZGxlQmVmb3JlSnVkZ2VXaGV0aGVyQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZDtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbnRpbnVlRnJvbVBhdXNlUG9pbnQoZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaXNDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTpib29sZWFuO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY29tcHV0ZUludGVycG9sYXRpb24oZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlVGFyZ2V0cygpOnZvaWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUFuaW1hdGlvblN0YXRle1xuICAgICAgICBERUZBVUxULFxuICAgICAgICBSVU4sXG4gICAgICAgIFNUT1AsXG4gICAgICAgIFBBVVNFXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9ue1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW50ZXJwb2xhdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgY3VycmVudEZyYW1lOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBuZXh0RnJhbWU6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGR1cmF0aW9uOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBmcHM6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGN1cnJlbnRBbmltTmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX29sZFRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfZnJhbWVDb3VudDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pc1N0YXJ0RnJvbVN0b3A6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oYW5pbU5hbWU6c3RyaW5nLCBmcHM6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudChNb2RlbEdlb21ldHJ5KTtcblxuICAgICAgICAgICAgYXNzZXJ0KGdlb21ldHJ5LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRoaXMgZW50aXR5T2JqZWN0XCIsIFwiYWRkIE1vZGVsR2VvbWV0cnkgY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIGFzc2VydChnZW9tZXRyeS5tb3JwaFRhcmdldHMuZ2V0Q2hpbGQoYW5pbU5hbWUpICYmIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0cy5nZXRDaGlsZChhbmltTmFtZSkuZ2V0Q291bnQoKSA+IDAsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBcIiR7YW5pbU5hbWV9XCIgYW5pbWF0aW9uYCkpO1xuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fZnJhbWVDb3VudCA+IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZnJhbWVzLmNvdW50XCIsIFwiPiAxXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHBsYXkoYW5pbU5hbWU6c3RyaW5nLCBmcHM6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxNb2RlbEdlb21ldHJ5PihNb2RlbEdlb21ldHJ5KTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbU5hbWUgPSBhbmltTmFtZTtcbiAgICAgICAgICAgIHRoaXMuZnBzID0gZnBzO1xuXG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gMS4wIC8gZnBzICogMTAwMDtcblxuICAgICAgICAgICAgdGhpcy5fZnJhbWVDb3VudCA9IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0cy5nZXRDaGlsZChhbmltTmFtZSkuZ2V0Q291bnQoKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRQYXVzZVRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVzdW1lVGltZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29sZFRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlblBhdXNlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuX29sZFRpbWUgPSBlbGFwc2VkVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBoYW5kbGVXaGVuQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuaXNGcmFtZUNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9vbGRUaW1lID0gdGhpcy5fZmxvb3IoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHRoaXMubmV4dEZyYW1lO1xuICAgICAgICAgICAgdGhpcy5uZXh0RnJhbWUgKys7XG4gICAgICAgICAgICBpZih0aGlzLm5leHRGcmFtZSA+PSB0aGlzLl9mcmFtZUNvdW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRGcmFtZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlQmVmb3JlSnVkZ2VXaGV0aGVyQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzU3RhcnRGcm9tU3RvcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNTdGFydEZyb21TdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRBbmltKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc0N1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOmJvb2xlYW57XG4gICAgICAgICAgICByZXR1cm4gZWxhcHNlZFRpbWUgLSB0aGlzLl9vbGRUaW1lID4gdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlSW50ZXJwb2xhdGlvbihlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRpb24gPSB0aGlzLmZwcyAqIChlbGFwc2VkVGltZSAtIHRoaXMuX29sZFRpbWUpIC8gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVUYXJnZXRzKCk6dm9pZHtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb250aW51ZUZyb21QYXVzZVBvaW50KGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9vbGRUaW1lID0gZWxhcHNlZFRpbWUgLSAodGhpcy5yZXN1bWVUaW1lIC0gdGhpcy5wYXVzZVRpbWUpICUgdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3N0YXJ0KCl7XG4gICAgICAgICAgICB0aGlzLl9vbGRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubmV4dEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWUgKyAxO1xuXG4gICAgICAgICAgICBpZih0aGlzLmlzU3RvcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNTdGFydEZyb21TdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEVBbmltYXRpb25TdGF0ZS5SVU47XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mbG9vcih0aW1lOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGltZSAtIHRpbWUgJSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzZXRBbmltKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9vbGRUaW1lID0gZWxhcHNlZFRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBNb3JwaFRhcmdldHNEYXRhID0gd2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQXJ0aWN1bGF0ZWRBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkRhdGEgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2ludGVycG9sYXRpb246bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY3VycmVudEZyYW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRBbmltTmFtZTpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xhc3RGcmFtZVRpbWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfcGF1c2VEdXJhdGlvbjpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9mcmFtZUNvdW50Om51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRBbmltRGF0YTp3ZENiLkNvbGxlY3Rpb248QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGE+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY3VycmVudEZyYW1lRGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3ByZXZGcmFtZURhdGE6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9wcmV2RW5kRnJhbWVEYXRhTWFwOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHByaXZhdGUgX3N0YXJ0RnJhbWVEYXRhTWFwOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihhbmltTmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdGhpcy5kYXRhLmdldENoaWxkKGFuaW1OYW1lKS5mb3JFYWNoKChkYXRhOkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEudGltZSA+PSAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRpbWVcIiwgXCI+PSAwXCIpKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChkYXRhLnRhcmdldHMuZ2V0Q291bnQoKSA+IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiQXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGEtPnRhcmdldHMuZ2V0Q291bnQoKVwiLCBcIj4gMFwiKSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0OkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVUYXJnZXREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGFyZ2V0LmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQudGFyZ2V0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlRSQU5TTEFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChkYXRhIGluc3RhbmNlb2YgVmVjdG9yMywgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiaWYgdGFyZ2V0OkVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldCA9PT0gVFJBTlNMQVRJT04sIGl0cyBkYXRhXCIsIFwiVmVjdG9yM1wiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5ST1RBVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZGF0YSBpbnN0YW5jZW9mIFF1YXRlcm5pb24sIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImlmIHRhcmdldDpFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQgPT09Uk9UQVRJT04sIGl0cyBkYXRhXCIsIFwiUXVhdGVybmlvblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5TQ0FMRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZGF0YSBpbnN0YW5jZW9mIFZlY3RvcjMsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImlmIHRhcmdldDpFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQgPT09IFNDQUxFLCBpdHMgZGF0YVwiLCBcIlZlY3RvcjNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0OiR7dGFyZ2V0LnRhcmdldH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHBsYXkoYW5pbU5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBbmltTmFtZSA9IGFuaW1OYW1lO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFuaW1EYXRhID0gdGhpcy5kYXRhLmdldENoaWxkKGFuaW1OYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0QW5pbSgpO1xuICAgICAgICAgICAgdGhpcy5fc2F2ZVN0YXJ0RnJhbWVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUNvdW50ID0gdGhpcy5fY3VycmVudEFuaW1EYXRhLmdldENvdW50KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gRUFuaW1hdGlvblN0YXRlLlJVTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRQYXVzZVRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldFJlc3VtZVRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZVdoZW5QYXVzZShlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlbkN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50RnJhbWUoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGFyZ2V0c1RvQmVMYXN0RW5kRnJhbWVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLl9zYXZlU3RhcnRGcmFtZURhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBoYW5kbGVCZWZvcmVKdWRnZVdoZXRoZXJDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lke1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGlzQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiBlbGFwc2VkVGltZSAtIHRoaXMuX2JlZ2luRWxhcHNlZFRpbWVPZkZpcnN0RnJhbWUgLSB0aGlzLl9wYXVzZUR1cmF0aW9uID4gdGhpcy5fY3VycmVudEZyYW1lRGF0YS50aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVJbnRlcnBvbGF0aW9uKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fY3VycmVudEZyYW1lRGF0YS5pbnRlcnBvbGF0aW9uTWV0aG9kKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVLZXlGcmFtZUludGVycG9sYXRpb24uTElORUFSOlxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50RnJhbWVEYXRhLnRpbWUgLSB0aGlzLl9sYXN0RnJhbWVUaW1lID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVycG9sYXRpb24gPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnBvbGF0aW9uID0gKGVsYXBzZWRUaW1lIC0gdGhpcy5fYmVnaW5FbGFwc2VkVGltZU9mRmlyc3RGcmFtZSAtIHRoaXMuX3BhdXNlRHVyYXRpb24gLSB0aGlzLl9sYXN0RnJhbWVUaW1lKSAvICh0aGlzLl9jdXJyZW50RnJhbWVEYXRhLnRpbWUgLSB0aGlzLl9sYXN0RnJhbWVUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChgaW50ZXJwb2xhdGlvbk1ldGhvZDoke3RoaXMuX2N1cnJlbnRGcmFtZURhdGEuaW50ZXJwb2xhdGlvbk1ldGhvZH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVGFyZ2V0cygpOnZvaWR7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSB0aGlzLl9pbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgIGlzRnJhbWVDaGFuZ2UgPSB0aGlzLmlzRnJhbWVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgcHJldkVuZEZyYW1lRGF0YU1hcCA9IHRoaXMuX3ByZXZFbmRGcmFtZURhdGFNYXAsXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZURhdGFNYXAgPSB0aGlzLl9zdGFydEZyYW1lRGF0YU1hcDtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEZyYW1lRGF0YS50YXJnZXRzLmZvckVhY2goKHRhcmdldDpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lVGFyZ2V0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBlbmRGcmFtZURhdGEgPSB0YXJnZXQuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRGcmFtZURhdGEgPSBzdGFydEZyYW1lRGF0YU1hcC5nZXRDaGlsZCg8YW55PnRhcmdldC50YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQudGFyZ2V0KXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuVFJBTlNMQVRJT046XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZSgpLmxlcnAoc3RhcnRGcmFtZURhdGEsIGVuZEZyYW1lRGF0YSwgaW50ZXJwb2xhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuUk9UQVRJT046XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNsZXJwKHN0YXJ0RnJhbWVEYXRhLCBlbmRGcmFtZURhdGEsIGludGVycG9sYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlNDQUxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoKS5sZXJwKHN0YXJ0RnJhbWVEYXRhLCBlbmRGcmFtZURhdGEsIGludGVycG9sYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0OiR7dGFyZ2V0LnRhcmdldH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihpc0ZyYW1lQ2hhbmdlIHx8ICFwcmV2RW5kRnJhbWVEYXRhTWFwLmhhc0NoaWxkKDxhbnk+dGFyZ2V0LnRhcmdldCkpe1xuICAgICAgICAgICAgICAgICAgICBwcmV2RW5kRnJhbWVEYXRhTWFwLmFkZENoaWxkKDxhbnk+dGFyZ2V0LnRhcmdldCwgZW5kRnJhbWVEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb250aW51ZUZyb21QYXVzZVBvaW50KGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZUR1cmF0aW9uICs9IHRoaXMucmVzdW1lVGltZSAtIHRoaXMucGF1c2VUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzZXRBbmltKCl7XG4gICAgICAgICAgICB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID0gdGhpcy5fZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZVRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VEdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50RnJhbWUgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmV2RnJhbWVEYXRhID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRGcmFtZURhdGEoKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJldkVuZEZyYW1lRGF0YU1hcC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRGcmFtZURhdGFNYXAucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEN1cnJlbnRUaW1lKCl7XG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5lbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9jdXJyZW50RnJhbWVEYXRhICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCBjdXJyZW50RnJhbWVEYXRhXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfc2F2ZVN0YXJ0RnJhbWVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgc3RhcnRGcmFtZURhdGFNYXAgPSB0aGlzLl9zdGFydEZyYW1lRGF0YU1hcCxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZURhdGEudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQ6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZVRhcmdldERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRGcmFtZURhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQudGFyZ2V0KXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuVFJBTlNMQVRJT046XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEZyYW1lRGF0YSA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5ST1RBVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWVEYXRhID0gdHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlNDQUxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRGcmFtZURhdGEgPSB0cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKGBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQ6JHt0YXJnZXQudGFyZ2V0fWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWVEYXRhTWFwLmFkZENoaWxkKDxhbnk+dGFyZ2V0LnRhcmdldCwgc3RhcnRGcmFtZURhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91cGRhdGVDdXJyZW50RnJhbWVEYXRhKCl7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50RnJhbWVEYXRhID0gdGhpcy5fY3VycmVudEFuaW1EYXRhLmdldENoaWxkKHRoaXMuX2N1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91cGRhdGVDdXJyZW50RnJhbWUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuaXNGcmFtZUNoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZSsrO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50RnJhbWUgPj0gdGhpcy5fZnJhbWVDb3VudCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID0gZWxhcHNlZFRpbWUgLSAgZWxhcHNlZFRpbWUgJSB0aGlzLl9jdXJyZW50QW5pbURhdGEuZ2V0Q2hpbGQodGhpcy5fZnJhbWVDb3VudCAtIDEpLnRpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lVGltZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZVRpbWUgPSB0aGlzLl9jdXJyZW50QW5pbURhdGEuZ2V0Q2hpbGQodGhpcy5fY3VycmVudEZyYW1lIC0gMSkudGltZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcHJldkZyYW1lRGF0YSA9IHRoaXMuX2N1cnJlbnRGcmFtZURhdGE7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50RnJhbWVEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX3ByZXZGcmFtZURhdGEgIT09IG51bGwsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInByZXZGcmFtZURhdGFcIiwgXCJiZSBudWxsXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfdXBkYXRlVGFyZ2V0c1RvQmVMYXN0RW5kRnJhbWVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHByZXZFbmRGcmFtZURhdGFNYXAgPSB0aGlzLl9wcmV2RW5kRnJhbWVEYXRhTWFwO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmV2RnJhbWVEYXRhLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0OkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVUYXJnZXREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZFbmRGcmFtZURhdGEgPSBwcmV2RW5kRnJhbWVEYXRhTWFwLmhhc0NoaWxkKDxhbnk+dGFyZ2V0LnRhcmdldCkgPyBwcmV2RW5kRnJhbWVEYXRhTWFwLmdldENoaWxkKDxhbnk+dGFyZ2V0LnRhcmdldCkgOiB0YXJnZXQuZGF0YTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3NldFRhcmdldERhdGEodGFyZ2V0LnRhcmdldCwgdHJhbnNmb3JtLCBwcmV2RW5kRnJhbWVEYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0VGFyZ2V0RGF0YSh0YXJnZXQ6RUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LCB0cmFuc2Zvcm06VGhyZWVEVHJhbnNmb3JtLCBkYXRhOmFueSl7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCl7XG4gICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuVFJBTlNMQVRJT046XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlJPVEFUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5TQ0FMRTpcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoYEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldDoke3RhcmdldH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQXJ0aWN1bGF0ZWRBbmltYXRpb25EYXRhID0gd2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YT4+XG5cbiAgICBleHBvcnQgdHlwZSBBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSA9IHtcbiAgICAgICAgdGltZTpudW1iZXIsXG4gICAgICAgIGludGVycG9sYXRpb25NZXRob2Q6RUtleUZyYW1lSW50ZXJwb2xhdGlvbixcblxuICAgICAgICB0YXJnZXRzOndkQ2IuQ29sbGVjdGlvbjxBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lVGFyZ2V0RGF0YT5cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lVGFyZ2V0RGF0YSA9IHtcbiAgICAgICAgdGFyZ2V0OkVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldCxcbiAgICAgICAgZGF0YTphbnlcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFS2V5RnJhbWVJbnRlcnBvbGF0aW9ue1xuICAgICAgICBMSU5FQVJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0e1xuICAgICAgICBUUkFOU0xBVElPTiA9IDxhbnk+XCJwb3NpdGlvblwiLFxuICAgICAgICBST1RBVElPTiA9IDxhbnk+XCJyb3RhdGlvblwiLFxuICAgICAgICBTQ0FMRSA9IDxhbnk+XCJzY2FsZVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHZW9tZXRyeSBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWw6TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBnZXQgbWF0ZXJpYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWF0ZXJpYWwobWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgaWYoIUp1ZGdlVXRpbHMuaXNFcXVhbChtYXRlcmlhbCwgdGhpcy5fbWF0ZXJpYWwpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmdlb21ldHJ5ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKHRoaXMuZW50aXR5T2JqZWN0LCBDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuTUFURVJJQUxfQ0hBTkdFKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZ2VvbWV0cnlEYXRhKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcbiAgICAgICAgcHVibGljIGJ1ZmZlcnM6QnVmZmVyQ29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGRyYXdNb2RlOkVEcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRVM7XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGE7XG5cbiAgICAgICAgICAgIGFzc2VydChnZW9tZXRyeURhdGEudmVydGljZXMubGVuZ3RoID4gMCwgTG9nLmluZm8uRlVOQ19NVVNUKFwidmVydGljZXMuY291bnRcIiwgXCI+IDBcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KGdlb21ldHJ5RGF0YS5mYWNlcy5sZW5ndGggKiAzID09PSBnZW9tZXRyeURhdGEuaW5kaWNlcy5sZW5ndGgsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZmFjZXMuY291bnRcIiwgYGJlICR7Z2VvbWV0cnlEYXRhLmluZGljZXMubGVuZ3RoIC8gM30sIGJ1dCBhY3R1YWwgaXMgJHtnZW9tZXRyeURhdGEuZmFjZXMubGVuZ3RofWApKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMsXG4gICAgICAgICAgICAgICAgICAgIGZhY2VzLFxuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9ycyxcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzXG4gICAgICAgICAgICAgICAgICAgIH0gPSB0aGlzLmNvbXB1dGVEYXRhKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycyA9IHRoaXMuY3JlYXRlQnVmZmVyQ29udGFpbmVyKCk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuY3JlYXRlR2VvbWV0cnlEYXRhKHZlcnRpY2VzLCBmYWNlcywgdGV4Q29vcmRzLCBjb2xvcnMsIG1vcnBoVGFyZ2V0cyk7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEgPSBnZW9tZXRyeURhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wdXRlTm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlcnMgJiYgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YSwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImJ1ZmZlcnMtPmdlb21ldHJ5RGF0YVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBoYXNGYWNlTm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuaGFzRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5idWZmZXJzICYmIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJidWZmZXJzLT5nZW9tZXRyeURhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaGFzVmVydGV4Tm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuaGFzVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzU21vb3RoU2hhZGluZygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsLnNoYWRpbmcgPT09IEVTaGFkaW5nLlNNT09USDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuYnVmZmVycyAmJiB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwiYnVmZmVycy0+Z2VvbWV0cnlEYXRhXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNvbXB1dGVGYWNlTm9ybWFscygpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29tcHV0ZVZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjb21wdXRlRGF0YSgpOiBHZW9tZXRyeURhdGFUeXBlO1xuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlTm9ybWFscygpe1xuICAgICAgICAgICAgaWYodGhpcy5pc1Ntb290aFNoYWRpbmcoKSl7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaGFzVmVydGV4Tm9ybWFscygpKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaGFzRmFjZU5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUJ1ZmZlckNvbnRhaW5lcigpOkJ1ZmZlckNvbnRhaW5lcntcbiAgICAgICAgICAgIHJldHVybiBDb21tb25CdWZmZXJDb250YWluZXIuY3JlYXRlKHRoaXMuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVHZW9tZXRyeURhdGEodmVydGljZXM6QXJyYXk8bnVtYmVyPiwgZmFjZXM6QXJyYXk8RmFjZTM+LCB0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiwgY29sb3JzOkFycmF5PG51bWJlcj4sIG1vcnBoVGFyZ2V0czp3ZENiLkhhc2g8TW9ycGhUYXJnZXRzRGF0YT4pOkdlb21ldHJ5RGF0YXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNvbW1vbkdlb21ldHJ5RGF0YSh2ZXJ0aWNlcywgZmFjZXMsIHRleENvb3JkcywgY29sb3JzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDb21tb25HZW9tZXRyeURhdGEodmVydGljZXM6QXJyYXk8bnVtYmVyPiwgZmFjZXM6QXJyYXk8RmFjZTM+LCB0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiwgY29sb3JzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IENvbW1vbkdlb21ldHJ5RGF0YS5jcmVhdGUodGhpcyk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICAgICAgZ2VvbWV0cnlEYXRhLmZhY2VzID0gZmFjZXM7XG4gICAgICAgICAgICBnZW9tZXRyeURhdGEudGV4Q29vcmRzID0gdGV4Q29vcmRzO1xuICAgICAgICAgICAgZ2VvbWV0cnlEYXRhLmNvbG9ycyA9IGNvbG9ycztcblxuICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5RGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEdlb21ldHJ5RGF0YVR5cGUgPSB7XG4gICAgICAgIHZlcnRpY2VzOkFycmF5PG51bWJlcj47XG4gICAgICAgIGZhY2VzPzpBcnJheTxGYWNlMz47XG4gICAgICAgIHRleENvb3Jkcz86QXJyYXk8bnVtYmVyPjtcbiAgICAgICAgY29sb3JzPzpBcnJheTxudW1iZXI+O1xuICAgICAgICBtb3JwaFRhcmdldHM/OndkQ2IuSGFzaDxNb3JwaFRhcmdldHNEYXRhPjtcbiAgICB9O1xufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBHZW9tZXRyeVV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRUb0ZhY2VzKGluZGljZXM6QXJyYXk8bnVtYmVyPiwgbm9ybWFscz86QXJyYXk8bnVtYmVyPik6QXJyYXk8RmFjZTM+e1xuICAgICAgICB2YXIgaGFzTm9ybWFscyA9IHRoaXMuaGFzRGF0YShub3JtYWxzKSxcbiAgICAgICAgICAgIGZhY2VzID0gW107XG5cbiAgICAgICAgZm9yKGxldCBpID0gMCwgbGVuID0gaW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrPTMpe1xuICAgICAgICAgICAgbGV0IGEgPSBpbmRpY2VzW2ldLFxuICAgICAgICAgICAgICAgIGIgPSBpbmRpY2VzW2kgKyAxXSxcbiAgICAgICAgICAgICAgICBjID0gaW5kaWNlc1tpICsgMl0sXG4gICAgICAgICAgICAgICAgZmFjZSA9IEZhY2UzLmNyZWF0ZShhLCBiLCBjKTtcblxuICAgICAgICAgICAgaWYoaGFzTm9ybWFscyl7XG4gICAgICAgICAgICAgICAgZmFjZS52ZXJ0ZXhOb3JtYWxzLmFkZENoaWxkcmVuKFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBhKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBiKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBjKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGZhY2UuZmFjZU5vcm1hbCA9IGZhY2UudmVydGV4Tm9ybWFscy5nZXRDaGlsZCgwKS5jb3B5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZhY2VzLnB1c2goZmFjZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFjZXM7XG4gICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEgaW5zdGFuY2VvZiB3ZENiLkNvbGxlY3Rpb24gfHwgZGF0YSBpbnN0YW5jZW9mIHdkQ2IuSGFzaCB8fCBKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZGF0YVwiLCAgXCJiZSBBcnJheSBvciBDb2xsZWN0aW9uIG9yIEhhc2hcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGhhc0RhdGEoZGF0YTphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEgJiYgKChkYXRhLmxlbmd0aCAmJiBkYXRhLmxlbmd0aCA+IDApIHx8IChkYXRhLmdldENvdW50ICYmIGRhdGEuZ2V0Q291bnQoKSA+IDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0VGhyZWVDb21wb25lbnQoc291cmNlRGF0YTpBcnJheTxudW1iZXI+LCBpbmRleDpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gMyAqIGluZGV4O1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc291cmNlRGF0YVtzdGFydEluZGV4XSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAxXSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAyXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGRhdGFBcnI6QXJyYXk8bnVtYmVyPiwgaXRlcmF0b3I6KHY6VmVjdG9yMykgPT4gdm9pZCl7XG4gICAgICAgICAgICBhc3NlcnQoZGF0YUFyci5sZW5ndGggJSAzID09PSAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImRhdGFBcnIubGVuZ3RoXCIsIFwidGltZXMgb2YgdGhyZWVcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGl0ZXJhdGVUaHJlZUNvbXBvbmVudChkYXRhQXJyOkFycmF5PG51bWJlcj4sIGl0ZXJhdG9yOih2OlZlY3RvcjMpID0+IHZvaWQpe1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMCwgbGVuID0gZGF0YUFyci5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMyl7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoVmVjdG9yMy5jcmVhdGUoZGF0YUFycltpXSwgZGF0YUFycltpICsgMV0sIGRhdGFBcnJbaSArIDJdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFRocmVlQ29tcG9uZW50KHRhcmdldERhdGE6QXJyYXk8bnVtYmVyPiwgc291cmNlRGF0YTpWZWN0b3IzLCBpbmRleDpudW1iZXIpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFRocmVlQ29tcG9uZW50KHRhcmdldERhdGE6QXJyYXk8bnVtYmVyPiwgc291cmNlRGF0YTpBcnJheTxudW1iZXI+LCBpbmRleDpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0VGhyZWVDb21wb25lbnQodGFyZ2V0RGF0YTpBcnJheTxudW1iZXI+LCBzb3VyY2VEYXRhOmFueSwgaW5kZXg6bnVtYmVyKSB7XG4gICAgICAgICAgICBpZihzb3VyY2VEYXRhIGluc3RhbmNlb2YgVmVjdG9yMyl7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDNdID0gc291cmNlRGF0YS54O1xuICAgICAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAzICsgMV0gPSBzb3VyY2VEYXRhLnk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDMgKyAyXSA9IHNvdXJjZURhdGEuejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDNdID0gc291cmNlRGF0YVswXTtcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogMyArIDFdID0gc291cmNlRGF0YVsxXTtcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogMyArIDJdID0gc291cmNlRGF0YVsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIC8vdG9kbyBzdXBwb3J0IG1vcnBoVGFyZ2V0cz9cbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92ZXJ0aWNlczpBcnJheTxudW1iZXI+ID0gW107XG4gICAgICAgIGdldCB2ZXJ0aWNlcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnRpY2VzO1xuICAgICAgICB9XG4gICAgICAgIHNldCB2ZXJ0aWNlcyh2ZXJ0aWNlczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdmVydGljZXM7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuYnVmZmVycyl7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5yZW1vdmVDYWNoZShFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiA9IFtdO1xuICAgICAgICBnZXQgdGV4Q29vcmRzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4Q29vcmRzO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0ZXhDb29yZHModGV4Q29vcmRzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdGhpcy5fdGV4Q29vcmRzID0gdGV4Q29vcmRzO1xuXG4gICAgICAgICAgICBpZih0aGlzLmJ1ZmZlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLnRleENvb3JkcyA9IHRleENvb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucmVtb3ZlQ2FjaGUoRUJ1ZmZlckRhdGFUeXBlLlRFWENPT1JEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbG9yczpBcnJheTxudW1iZXI+ID0gW107XG4gICAgICAgIGdldCBjb2xvcnMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvcnM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbG9ycyhjb2xvcnM6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICB0aGlzLl9jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgICAgICBpZih0aGlzLmJ1ZmZlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLmNvbG9ycyA9IGNvbG9ycztcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucmVtb3ZlQ2FjaGUoRUJ1ZmZlckRhdGFUeXBlLkNPTE9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2luZGljZXM6QXJyYXk8bnVtYmVyPiA9IFtdO1xuICAgICAgICBnZXQgaW5kaWNlcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luZGljZXM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGluZGljZXMoaW5kaWNlczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICAgICAgaWYodGhpcy5idWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YS5mYWNlcyA9IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXMoaW5kaWNlcywgdGhpcy5ub3JtYWxzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucmVtb3ZlQ2FjaGUoRUJ1ZmZlckRhdGFUeXBlLklORElDRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ub3JtYWxzOkFycmF5PG51bWJlcj4gPSBbXTtcbiAgICAgICAgZ2V0IG5vcm1hbHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBub3JtYWxzKG5vcm1hbHM6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxzID0gbm9ybWFscztcbiAgICAgICAgICAgIGlmKHRoaXMuYnVmZmVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuZmFjZXMgPSBHZW9tZXRyeVV0aWxzLmNvbnZlcnRUb0ZhY2VzKHRoaXMuaW5kaWNlcywgbm9ybWFscyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzLnJlbW92ZUNhY2hlKEVCdWZmZXJEYXRhVHlwZS5OT1JNQUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB0aGlzLnZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIGZhY2VzOiBHZW9tZXRyeVV0aWxzLmNvbnZlcnRUb0ZhY2VzKHRoaXMuaW5kaWNlcywgdGhpcy5ub3JtYWxzKSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRoaXMudGV4Q29vcmRzLFxuICAgICAgICAgICAgICAgIGNvbG9yczogdGhpcy5jb2xvcnNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTW9kZWxHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2ZXJ0aWNlczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbG9yczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHRleENvb3JkczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZhY2VzOkFycmF5PEZhY2UzPiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtb3JwaFRhcmdldHM6d2RDYi5IYXNoPE1vcnBoVGFyZ2V0c0RhdGE+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1vcnBoRmFjZU5vcm1hbHM6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxBcnJheTxudW1iZXI+Pj4gPSB3ZENiLkhhc2guY3JlYXRlPHdkQ2IuQ29sbGVjdGlvbjxBcnJheTxudW1iZXI+Pj4oKTtcbiAgICAgICAgcHVibGljIG1vcnBoVmVydGV4Tm9ybWFsczp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+PiA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+PigpO1xuXG4gICAgICAgIHB1YmxpYyBidWZmZXJzOk1vcnBoQnVmZmVyQ29udGFpbmVyO1xuXG4gICAgICAgIHB1YmxpYyBoYXNBbmltYXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNNb3JwaFRhcmdldHMoKSAmJiAodGhpcy5lbnRpdHlPYmplY3QgJiYgdGhpcy5lbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KE1vcnBoQW5pbWF0aW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuYnVmZmVycyAmJiB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwiYnVmZmVycy0+Z2VvbWV0cnlEYXRhXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGhhc01vcnBoRmFjZU5vcm1hbHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLmhhc01vcnBoRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5idWZmZXJzICYmIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJidWZmZXJzLT5nZW9tZXRyeURhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaGFzTW9ycGhWZXJ0ZXhOb3JtYWxzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YS5oYXNNb3JwaFZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5idWZmZXJzICYmIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJidWZmZXJzLT5nZW9tZXRyeURhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgY29tcHV0ZU1vcnBoTm9ybWFscygpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29tcHV0ZU1vcnBoTm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVOb3JtYWxzKCl7XG4gICAgICAgICAgICBzdXBlci5jb21wdXRlTm9ybWFscygpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9oYXNNb3JwaFRhcmdldHMoKSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc1Ntb290aFNoYWRpbmcoKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmhhc01vcnBoVmVydGV4Tm9ybWFscygpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1vcnBoTm9ybWFscygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmhhc01vcnBoRmFjZU5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVNb3JwaE5vcm1hbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlRGF0YSgpe1xuICAgICAgICAgICAgcmV0dXJuIDxhbnk+e1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB0aGlzLnZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIGZhY2VzOiB0aGlzLmZhY2VzLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGhpcy50ZXhDb29yZHMsXG4gICAgICAgICAgICAgICAgY29sb3JzOiB0aGlzLmNvbG9ycyxcbiAgICAgICAgICAgICAgICBtb3JwaFRhcmdldHM6IHRoaXMubW9ycGhUYXJnZXRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQW5pbWF0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50KE1vcnBoQW5pbWF0aW9uKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJlbnRpdHlPYmplY3Qgd2l0aCBNb2RlbEdlb21ldHJ5XCIsIFwiYWRkIE1vcnBoQW5pbWF0aW9uIGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVCdWZmZXJDb250YWluZXIoKTpCdWZmZXJDb250YWluZXJ7XG4gICAgICAgICAgICBpZih0aGlzLmhhc0FuaW1hdGlvbigpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9ycGhCdWZmZXJDb250YWluZXIuY3JlYXRlKHRoaXMuZW50aXR5T2JqZWN0LCB0aGlzLmVudGl0eU9iamVjdC5nZXRDb21wb25lbnQ8TW9ycGhBbmltYXRpb24+KE1vcnBoQW5pbWF0aW9uKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBDb21tb25CdWZmZXJDb250YWluZXIuY3JlYXRlKHRoaXMuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVHZW9tZXRyeURhdGEodmVydGljZXM6QXJyYXk8bnVtYmVyPiwgZmFjZXM6QXJyYXk8RmFjZTM+LCB0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiwgY29sb3JzOkFycmF5PG51bWJlcj4sIG1vcnBoVGFyZ2V0czp3ZENiLkhhc2g8TW9ycGhUYXJnZXRzRGF0YT4pOkdlb21ldHJ5RGF0YXtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQW5pbWF0aW9uKCkpe1xuICAgICAgICAgICAgICAgIGxldCBnZW9tZXRyeURhdGEgPSBNb3JwaEdlb21ldHJ5RGF0YS5jcmVhdGUodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBnZW9tZXRyeURhdGEudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICBnZW9tZXRyeURhdGEuZmFjZXMgPSBmYWNlcztcbiAgICAgICAgICAgICAgICBnZW9tZXRyeURhdGEudGV4Q29vcmRzID0gdGV4Q29vcmRzO1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlEYXRhLm1vcnBoVGFyZ2V0cyA9IG1vcnBoVGFyZ2V0cztcblxuICAgICAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeURhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNvbW1vbkdlb21ldHJ5RGF0YSh2ZXJ0aWNlcywgZmFjZXMsIHRleENvb3JkcywgY29sb3JzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc01vcnBoVGFyZ2V0cygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9ycGhUYXJnZXRzICYmIHRoaXMubW9ycGhUYXJnZXRzLmdldENvdW50KCkgPiAwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJveEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgZ2VvbSA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdpZHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGRlcHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB3aWR0aFNlZ21lbnRzOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBoZWlnaHRTZWdtZW50czpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgZGVwdGhTZWdtZW50czpudW1iZXIgPSAxO1xuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlRGF0YSgpe1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICAgICBkZXB0aCA9IHRoaXMuZGVwdGgsXG4gICAgICAgICAgICAgICAgd2lkdGhTZWdtZW50cyA9IHRoaXMud2lkdGhTZWdtZW50cyxcbiAgICAgICAgICAgICAgICBoZWlnaHRTZWdtZW50cyA9IHRoaXMuaGVpZ2h0U2VnbWVudHMsXG4gICAgICAgICAgICAgICAgZGVwdGhTZWdtZW50cyA9IHRoaXMuZGVwdGhTZWdtZW50cyxcbiAgICAgICAgICAgICAgICBzaWRlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgRlJPTlQgIDogMCxcbiAgICAgICAgICAgICAgICAgICAgQkFDSyAgIDogMSxcbiAgICAgICAgICAgICAgICAgICAgVE9QICAgIDogMixcbiAgICAgICAgICAgICAgICAgICAgQk9UVE9NIDogMyxcbiAgICAgICAgICAgICAgICAgICAgUklHSFQgIDogNCxcbiAgICAgICAgICAgICAgICAgICAgTEVGVCAgIDogNVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZmFjZUF4ZXMgPSBbXG4gICAgICAgICAgICAgICAgWyAwLCAxLCAzIF0sIC8vIEZST05UXG4gICAgICAgICAgICAgICAgWyA0LCA1LCA3IF0sIC8vIEJBQ0tcbiAgICAgICAgICAgICAgICBbIDMsIDIsIDYgXSwgLy8gVE9QXG4gICAgICAgICAgICAgICAgWyAxLCAwLCA0IF0sIC8vIEJPVFRPTVxuICAgICAgICAgICAgICAgIFsgMSwgNCwgMiBdLCAvLyBSSUdIVFxuICAgICAgICAgICAgICAgIFsgNSwgMCwgNiBdICAvLyBMRUZUXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgZmFjZU5vcm1hbHMgPSBbXG4gICAgICAgICAgICAgICAgWyAgMCwgIDAsICAxIF0sIC8vIEZST05UXG4gICAgICAgICAgICAgICAgWyAgMCwgIDAsIC0xIF0sIC8vIEJBQ0tcbiAgICAgICAgICAgICAgICBbICAwLCAgMSwgIDAgXSwgLy8gVE9QXG4gICAgICAgICAgICAgICAgWyAgMCwgLTEsICAwIF0sIC8vIEJPVFRPTVxuICAgICAgICAgICAgICAgIFsgIDEsICAwLCAgMCBdLCAvLyBSSUdIVFxuICAgICAgICAgICAgICAgIFsgLTEsICAwLCAgMCBdICAvLyBMRUZUXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdmFyIGNvcm5lcnMgPSBbXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoLXdpZHRoLCAtaGVpZ2h0LCBkZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoIHdpZHRoLCAtaGVpZ2h0LCBkZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoIHdpZHRoLCAgaGVpZ2h0LCBkZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoLXdpZHRoLCAgaGVpZ2h0LCBkZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoIHdpZHRoLCAtaGVpZ2h0LCAtZGVwdGgpLFxuICAgICAgICAgICAgICAgIFZlY3RvcjMuY3JlYXRlKC13aWR0aCwgLWhlaWdodCwgLWRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSgtd2lkdGgsICBoZWlnaHQsIC1kZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoIHdpZHRoLCAgaGVpZ2h0LCAtZGVwdGgpXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gW107XG4gICAgICAgICAgICB2YXIgdGV4Q29vcmRzID0gW107XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZUZhY2Uoc2lkZSwgdVNlZ21lbnRzLCB2U2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCwgeSwgeiwgdSwgdjtcbiAgICAgICAgICAgICAgICB2YXIgaSwgajtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdmVydGljZXMubGVuZ3RoIC8gMztcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPD0gdVNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8PSB2U2VnbWVudHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAxID0gVmVjdG9yMy5jcmVhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAyID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wMyA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMS5sZXJwKGNvcm5lcnNbZmFjZUF4ZXNbc2lkZV1bMF1dLCBjb3JuZXJzW2ZhY2VBeGVzW3NpZGVdWzFdXSwgaSAvIHVTZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMi5sZXJwKGNvcm5lcnNbZmFjZUF4ZXNbc2lkZV1bMF1dLCBjb3JuZXJzW2ZhY2VBeGVzW3NpZGVdWzJdXSwgaiAvIHZTZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wMy5zdWIyKHRlbXAyLCBjb3JuZXJzW2ZhY2VBeGVzW3NpZGVdWzBdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByLmFkZDIodGVtcDEsIHRlbXAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBpIC8gdVNlZ21lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IGogLyB2U2VnbWVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goci54LCByLnksIHIueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goZmFjZU5vcm1hbHNbc2lkZV1bMF0sIGZhY2VOb3JtYWxzW3NpZGVdWzFdLCBmYWNlTm9ybWFsc1tzaWRlXVsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMucHVzaCh1LCB2KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpIDwgdVNlZ21lbnRzKSAmJiAoaiA8IHZTZWdtZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2gob2Zmc2V0ICsgaiArIGkgKiAodVNlZ21lbnRzICsgMSksICAgICAgIG9mZnNldCArIGogKyAoaSArIDEpICogKHVTZWdtZW50cyArIDEpLCAgICAgb2Zmc2V0ICsgaiArIGkgKiAodVNlZ21lbnRzICsgMSkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2gob2Zmc2V0ICsgaiArIChpICsgMSkgKiAodVNlZ21lbnRzICsgMSksIG9mZnNldCArIGogKyAoaSArIDEpICogKHVTZWdtZW50cyArIDEpICsgMSwgb2Zmc2V0ICsgaiArIGkgKiAodVNlZ21lbnRzICsgMSkgKyAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZW5lcmF0ZUZhY2Uoc2lkZXMuRlJPTlQsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgICAgIGdlbmVyYXRlRmFjZShzaWRlcy5CQUNLLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XG4gICAgICAgICAgICBnZW5lcmF0ZUZhY2Uoc2lkZXMuVE9QLCB3aWR0aFNlZ21lbnRzLCBkZXB0aFNlZ21lbnRzKTtcbiAgICAgICAgICAgIGdlbmVyYXRlRmFjZShzaWRlcy5CT1RUT00sIHdpZHRoU2VnbWVudHMsIGRlcHRoU2VnbWVudHMpO1xuICAgICAgICAgICAgZ2VuZXJhdGVGYWNlKHNpZGVzLlJJR0hULCBkZXB0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XG4gICAgICAgICAgICBnZW5lcmF0ZUZhY2Uoc2lkZXMuTEVGVCwgZGVwdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICAvL3RvZG8gZGlyZWN0IGFkZCB0byBmYWNlcywgcmVtb3ZlIGluZGljZXMsbm9ybWFsc1xuICAgICAgICAgICAgICAgIGZhY2VzOiBHZW9tZXRyeVV0aWxzLmNvbnZlcnRUb0ZhY2VzKGluZGljZXMsIG5vcm1hbHMpLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGV4Q29vcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFJlY3RHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBnZW9tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQgPSAtd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHVwID0gaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICBkb3duID0gLWhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMgPSBbXSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzID0gW10sXG4gICAgICAgICAgICAgICAgbm9ybWFscyA9IFtdO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgICAgICByaWdodCwgdXAsIDAsXG4gICAgICAgICAgICAgICAgbGVmdCwgdXAsIDAsXG4gICAgICAgICAgICAgICAgbGVmdCwgZG93biwgMCxcbiAgICAgICAgICAgICAgICByaWdodCwgZG93biwgMFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgaW5kaWNlcyA9IFtcbiAgICAgICAgICAgICAgICAwLCAxLCAyLCAgIDAsIDIsIDNcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHRleENvb3JkcyA9IFtcbiAgICAgICAgICAgICAgICAxLjAsIDEuMCxcbiAgICAgICAgICAgICAgICAwLjAsIDEuMCxcbiAgICAgICAgICAgICAgICAwLjAsIDAuMCxcbiAgICAgICAgICAgICAgICAxLjAsIDAuMFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgbm9ybWFscyA9IFtcbiAgICAgICAgICAgICAgICAwLCAwLCAxLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBmYWNlczogR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyhpbmRpY2VzLCBub3JtYWxzKSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRleENvb3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBQbGFuZUdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgZ2VvbSA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdpZHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHdpZHRoU2VnbWVudHM6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGhlaWdodFNlZ21lbnRzOm51bWJlciA9IDE7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoU2VnbWVudHMgPSB0aGlzLndpZHRoU2VnbWVudHMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0U2VnbWVudHMgPSB0aGlzLmhlaWdodFNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHkgPSBudWxsLFxuICAgICAgICAgICAgICAgIHogPSBudWxsLFxuICAgICAgICAgICAgICAgIHUgPSBudWxsLFxuICAgICAgICAgICAgICAgIHYgPSBudWxsLFxuICAgICAgICAgICAgICAgIGkgPSBudWxsLFxuICAgICAgICAgICAgICAgIGogPSBudWxsLFxuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gW10sXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzID0gW10sXG4gICAgICAgICAgICAgICAgbm9ybWFscyA9IFtdLFxuICAgICAgICAgICAgICAgIGluZGljZXMgPSBbXTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgcGxhbmUgYXMgZm9sbG93cyAoYXNzaWduZWQgVVZzIGRlbm90ZWQgYXQgY29ybmVycyk6XG4gICAgICAgICAgICAvLyAoMCwxKXgtLS0tLS0tLS14KDEsMSlcbiAgICAgICAgICAgIC8vICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgIC8vICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgIC8vICAgICAgfCAgICBPLS1YIHxsZW5ndGhcbiAgICAgICAgICAgIC8vICAgICAgfCAgICB8ICAgIHxcbiAgICAgICAgICAgIC8vICAgICAgfCAgICBaICAgIHxcbiAgICAgICAgICAgIC8vICgwLDApeC0tLS0tLS0tLXgoMSwwKVxuICAgICAgICAgICAgLy8gICAgICAgICB3aWR0aFxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSB3aWR0aFNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDw9IGhlaWdodFNlZ21lbnRzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IC13aWR0aCArIDIuMCAqIHdpZHRoICogaSAvIHdpZHRoU2VnbWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgIHogPSAtKC1oZWlnaHQgKyAyLjAgKiBoZWlnaHQgKiBqIC8gaGVpZ2h0U2VnbWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB1ID0gaSAvIHdpZHRoU2VnbWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBqIC8gaGVpZ2h0U2VnbWVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCh4LCB5LCB6KTtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKDAuMCwgMS4wLCAwLjApO1xuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMucHVzaCh1LCB2KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPCB3aWR0aFNlZ21lbnRzKSAmJiAoaiA8IGhlaWdodFNlZ21lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGogKyBpICogKHdpZHRoU2VnbWVudHMgKyAxKSwgICAgICAgaiArIChpICsgMSkgKiAod2lkdGhTZWdtZW50cyArIDEpLCAgICAgaiArIGkgKiAod2lkdGhTZWdtZW50cyArIDEpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goaiArIChpICsgMSkgKiAod2lkdGhTZWdtZW50cyArIDEpLCBqICsgKGkgKyAxKSAqICh3aWR0aFNlZ21lbnRzICsgMSkgKyAxLCBqICsgaSAqICh3aWR0aFNlZ21lbnRzICsgMSkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdmVydGljZXMsXG4gICAgICAgICAgICAgICAgZmFjZXM6IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXMoaW5kaWNlcywgbm9ybWFscyksXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOiB0ZXhDb29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFU3BoZXJlRHJhd01vZGV7XG4gICAgICAgIExBVElUVURFTE9OR1RJVFVERVxuICAgICAgICAvL0RFQ09NUE9TSVRJT05cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgU3BoZXJlR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmFkaXVzOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBzcGhlcmVEcmF3TW9kZTpFU3BoZXJlRHJhd01vZGUgPSBFU3BoZXJlRHJhd01vZGUuTEFUSVRVREVMT05HVElUVURFO1xuICAgICAgICBwdWJsaWMgc2VnbWVudHM6bnVtYmVyID0gMjA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgc3BoZXJlRHJhd01vZGUgPSB0aGlzLnNwaGVyZURyYXdNb2RlLFxuICAgICAgICAgICAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cyxcbiAgICAgICAgICAgICAgICBkYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoc3BoZXJlRHJhd01vZGUgPT09IEVTcGhlcmVEcmF3TW9kZS5MQVRJVFVERUxPTkdUSVRVREUpe1xuICAgICAgICAgICAgICAgIHZhciB7IHZlcnRpY2VzLCBpbmRpY2VzLCBub3JtYWxzLCB0ZXhDb29yZHMgfSA9IEdldERhdGFCeUxhdGl0dWRlTG9uZ3RpdHVkZS5jcmVhdGUocmFkaXVzLCBzZWdtZW50cykuZ2V0RGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzLFxuICAgICAgICAgICAgICAgICAgICBmYWNlczogR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyhpbmRpY2VzLCBub3JtYWxzKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4Q29vcmRzOiB0ZXhDb29yZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2Vsc2UgaWYoc3BoZXJlRHJhd01vZGUgPT09IEVTcGhlcmVEcmF3TW9kZS5ERUNPTVBPU0lUSU9OKXtcbiAgICAgICAgICAgIC8vICAgIGRhdGEgPSBHZXREYXRhQnlEZWNvbXBvc2l0aW9uLmNyZWF0ZShyYWRpdXMsIHNlZ21lbnRzKS5nZXREYXRhKCk7XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBHZXREYXRhQnlMYXRpdHVkZUxvbmd0aXR1ZGV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJhZGl1czpudW1iZXIsIGJhbmRzOm51bWJlcik6R2V0RGF0YUJ5TGF0aXR1ZGVMb25ndGl0dWRlIHtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMocmFkaXVzLCBiYW5kcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmFkaXVzOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xhdGl0dWRlQmFuZHM6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbG9uZ2l0dWRlQmFuZHM6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBjb25zdHJ1Y3RvcihyYWRpdXM6bnVtYmVyLCBiYW5kczpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAgICAgdGhpcy5fbGF0aXR1ZGVCYW5kcyA9IGJhbmRzO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ2l0dWRlQmFuZHMgPSBiYW5kcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXREYXRhKCl7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gW107XG4gICAgICAgICAgICB2YXIgdGV4Q29vcmRzID0gW107XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG5cbiAgICAgICAgICAgIGZvciAodmFyIGxhdE51bWJlciA9IDA7IGxhdE51bWJlciA8PSB0aGlzLl9sYXRpdHVkZUJhbmRzOyBsYXROdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGV0YSA9IGxhdE51bWJlciAqIE1hdGguUEkgLyB0aGlzLl9sYXRpdHVkZUJhbmRzO1xuICAgICAgICAgICAgICAgIHZhciBzaW5UaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgICAgICAgICB2YXIgY29zVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsb25nTnVtYmVyID0gMDsgbG9uZ051bWJlciA8PSB0aGlzLl9sb25naXR1ZGVCYW5kczsgbG9uZ051bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaGkgPSBsb25nTnVtYmVyICogMiAqIE1hdGguUEkgLyB0aGlzLl9sb25naXR1ZGVCYW5kcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpblBoaSA9IE1hdGguc2luKHBoaSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3NQaGkgPSBNYXRoLmNvcyhwaGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gdGhpcy5fcmFkaXVzICogY29zUGhpICogc2luVGhldGE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGhpcy5fcmFkaXVzICpjb3NUaGV0YTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHogPSB0aGlzLl9yYWRpdXMgKnNpblBoaSAqIHNpblRoZXRhO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IDEgLSAobG9uZ051bWJlciAvIHRoaXMuX2xvbmdpdHVkZUJhbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSAxIC0gKGxhdE51bWJlciAvIHRoaXMuX2xhdGl0dWRlQmFuZHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKHkpO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goeik7XG4gICAgICAgICAgICAgICAgICAgIHRleENvb3Jkcy5wdXNoKHUpO1xuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMucHVzaCh2KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCh5KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaCh6KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZm9yICh2YXIgbGF0TnVtYmVyID0gMDsgbGF0TnVtYmVyIDwgdGhpcy5fbGF0aXR1ZGVCYW5kczsgbGF0TnVtYmVyKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsb25nTnVtYmVyID0gMDsgbG9uZ051bWJlciA8IHRoaXMuX2xvbmdpdHVkZUJhbmRzOyBsb25nTnVtYmVyKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gbGF0TnVtYmVyICogKHRoaXMuX2xvbmdpdHVkZUJhbmRzICsgMSkgKyBsb25nTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vjb25kID0gZmlyc3QgKyB0aGlzLl9sb25naXR1ZGVCYW5kcyArIDE7XG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChmaXJzdCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGZpcnN0KTtcblxuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goZmlyc3QgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHNlY29uZCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goc2Vjb25kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXMsXG4gICAgICAgICAgICAgICAgbm9ybWFsczogbm9ybWFscyxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRleENvb3Jkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvL3RvZG8gYWRkIHRleENvb3Jkc1xuICAgIC8vY2xhc3MgR2V0RGF0YUJ5RGVjb21wb3NpdGlvbntcbiAgICAvLyAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShyYWRpdXM6bnVtYmVyLCBjb3VudDpudW1iZXIpOkdldERhdGFCeURlY29tcG9zaXRpb24ge1xuICAgIC8vICAgICAgICB2YXIgZ2VvbSA9IG5ldyB0aGlzKHJhZGl1cywgY291bnQpO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHJldHVybiBnZW9tO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIHByaXZhdGUgX3ZlcnRpY2VzOm51bWJlcltdID0gW107XG4gICAgLy8gICAgZ2V0IHZlcnRpY2VzKCl7XG4gICAgLy8gICAgICAgIHJldHVybiB0aGlzLl92ZXJ0aWNlcztcbiAgICAvLyAgICB9XG4gICAgLy8gICAgc2V0IHZlcnRpY2VzKHZlcnRpY2VzOm51bWJlcltdKXtcbiAgICAvLyAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAvLyAgICB9XG4gICAgLy9cbiAgICAvLyAgICBwcml2YXRlIF9pbmRpY2VzOm51bWJlcltdID0gW107XG4gICAgLy8gICAgZ2V0IGluZGljZXMoKXtcbiAgICAvLyAgICAgICAgcmV0dXJuIHRoaXMuX2luZGljZXM7XG4gICAgLy8gICAgfVxuICAgIC8vICAgIHNldCBpbmRpY2VzKGluZGljZXM6bnVtYmVyW10pe1xuICAgIC8vICAgICAgICB0aGlzLl9pbmRpY2VzID0gaW5kaWNlcztcbiAgICAvLyAgICB9XG4gICAgLy9cbiAgICAvLyAgICBwcml2YXRlIF92TGVuOm51bWJlciA9IG51bGw7XG4gICAgLy8gICAgcHJpdmF0ZSByYWRpdXM6bnVtYmVyID0gbnVsbDtcbiAgICAvLyAgICBwcml2YXRlIF9jb3VudDpudW1iZXIgPSBudWxsO1xuICAgIC8vXG4gICAgLy8gICAgY29uc3RydWN0b3IocmFkaXVzLCBjb3VudCl7XG4gICAgLy8gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIC8vICAgICAgICB0aGlzLl9jb3VudCA9IGNvdW50O1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIHB1YmxpYyBnZXREYXRhKCl7XG4gICAgLy8gICAgICAgIHZhciBvcmlnaW5WZXJ0aWNlcyA9IFtcbiAgICAvLyAgICAgICAgICAgIFt0aGlzLnJhZGl1cywgMCwgMF0sXG4gICAgLy8gICAgICAgICAgICBbLXRoaXMucmFkaXVzLCAwLCAwXSxcbiAgICAvLyAgICAgICAgICAgIFswLCB0aGlzLnJhZGl1cywgMF0sXG4gICAgLy8gICAgICAgICAgICBbMCwgLXRoaXMucmFkaXVzLCAwXSxcbiAgICAvLyAgICAgICAgICAgIFswLCAwLCB0aGlzLnJhZGl1c10sXG4gICAgLy8gICAgICAgICAgICBbMCwgMCwgLXRoaXMucmFkaXVzXVxuICAgIC8vICAgICAgICBdO1xuICAgIC8vICAgICAgICB2YXIgb3JpZ2luSW5kaWNlcyA9IFtcbiAgICAvLyAgICAgICAgICAgIC8vWzIsNCwwXSxbMiwwLDVdLFsyLDUsMV0sWzIsMSw0XSwgICBbMywwLDRdLFszLDUsMF0sWzMsMSw1XSxbMyw0LDFdXG4gICAgLy8gICAgICAgICAgICAvL1syLDQsMF1cbiAgICAvLyAgICAgICAgICAgIFsyLDQsMF0sWzIsMCw1XSxbMiw1LDFdLFsyLDEsNF0sXG4gICAgLy8gICAgICAgICAgICBbMywwLDRdLFszLDUsMF0sWzMsMSw1XSxbMyw0LDFdXG4gICAgLy8gICAgICAgIF07XG4gICAgLy9cbiAgICAvLyAgICAgICAgdGhpcy5fdkxlbiA9IG9yaWdpblZlcnRpY2VzLmxlbmd0aDtcbiAgICAvL1xuICAgIC8vICAgICAgICB2YXIgaiA9IDA7XG4gICAgLy8gICAgICAgIHZhciBsZW4gPSBvcmlnaW5WZXJ0aWNlcy5sZW5ndGg7XG4gICAgLy9cbiAgICAvLyAgICAgICAgZm9yKGogPSAwOyBqIDwgbGVuOyBqICsrKXtcbiAgICAvLyAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdGhpcy5fdmVydGljZXMuY29uY2F0KG9yaWdpblZlcnRpY2VzW2pdKTtcbiAgICAvLyAgICAgICAgfVxuICAgIC8vXG4gICAgLy8gICAgICAgIHZhciBqID0gMCxcbiAgICAvLyAgICAgICAgICAgIGxlbiA9IG9yaWdpbkluZGljZXMubGVuZ3RoOyAgLy846Z2i5L2TXG4gICAgLy9cbiAgICAvLyAgICAgICAgZm9yIChqID0gMDsgaiA8IGxlbjsgaiArKyl7XG4gICAgLy8gICAgICAgICAgICAvL2ZvciAoaSA9IDA7IGkgPCB0aGlzLl9jb3VudDsgaSsrKXtcbiAgICAvLyAgICAgICAgICAgIC8vdGhpcy5fdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcy5jb25jYXQob3JpZ2luVmVydGljZXNbb3JpZ2luSW5kaWNlc1tqXVswXV0sXG4gICAgLy8gICAgICAgICAgICAvLyAgICBvcmlnaW5WZXJ0aWNlc1tvcmlnaW5JbmRpY2VzW2pdWzFdXSxcbiAgICAvLyAgICAgICAgICAgIC8vICAgIG9yaWdpblZlcnRpY2VzW29yaWdpbkluZGljZXNbal1bMl1dKTtcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgdGhpcy5fc3ViRGl2aWRlKG9yaWdpblZlcnRpY2VzW29yaWdpbkluZGljZXNbal1bMF1dLFxuICAgIC8vICAgICAgICAgICAgICAgIG9yaWdpblZlcnRpY2VzW29yaWdpbkluZGljZXNbal1bMV1dLFxuICAgIC8vICAgICAgICAgICAgICAgIG9yaWdpblZlcnRpY2VzW29yaWdpbkluZGljZXNbal1bMl1dLFxuICAgIC8vICAgICAgICAgICAgICAgIG9yaWdpbkluZGljZXNbal0sXG4gICAgLy8gICAgICAgICAgICAgICAgdGhpcy5fY291bnQsXG4gICAgLy8gICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMpO1xuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAvL31cbiAgICAvL1xuICAgIC8vICAgICAgICB9XG4gICAgLy9cbiAgICAvLyAgICAgICAgcmV0dXJuIHtcbiAgICAvLyAgICAgICAgICAgIHZlcnRpY2VzOiBBcnJheUJ1ZmZlci5jcmVhdGUobmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksXG4gICAgLy8gICAgICAgICAgICAgICAgMywgRUJ1ZmZlclR5cGUuRkxPQVQpLFxuICAgIC8vICAgICAgICAgICAgaW5kaWNlczogRWxlbWVudEJ1ZmZlci5jcmVhdGUobmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLFxuICAgIC8vICAgICAgICAgICAgICAgIEVCdWZmZXJUeXBlLlVOU0lHTkVEX1NIT1JUKVxuICAgIC8vICAgICAgICB9XG4gICAgLy8gICAgfVxuICAgIC8vXG4gICAgLy8gICAgcHJpdmF0ZSBfc3ViRGl2aWRlKHYxOm51bWJlcltdLCB2MjpudW1iZXJbXSwgdjM6bnVtYmVyW10sIGluZDpudW1iZXJbXSxjb3VudDpudW1iZXIsIHJhZGl1czpudW1iZXIpOiB2b2lke1xuICAgIC8vICAgICAgICBpZihjb3VudCA8PSAwKXtcbiAgICAvLyAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSB0aGlzLl9pbmRpY2VzLmNvbmNhdChpbmQpO1xuICAgIC8vXG4gICAgLy8gICAgICAgICAgICByZXR1cm47XG4gICAgLy8gICAgICAgIH1cbiAgICAvLyAgICAgICAgLy9cbiAgICAvLyAgICAgICAgdmFyIGkgPSAwO1xuICAgIC8vICAgICAgICB2YXIgdjEyID0gW10sXG4gICAgLy8gICAgICAgICAgICB2MjMgPSBbXSxcbiAgICAvLyAgICAgICAgICAgIHYzMSA9IFtdO1xuICAgIC8vXG4gICAgLy8gICAgICAgIC8v5rGC5ZCR6YeP5Lit5b+D54K5XG4gICAgLy8gICAgICAgIGZvcihpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgLy8gICAgICAgICAgICB2MTJbaV0gPSAodjFbaV0rdjJbaV0pLzI7ICAvL+axguWPluetieWIhueahOS4reeCueWdkOagh1xuICAgIC8vICAgICAgICAgICAgdjIzW2ldID0gKHYyW2ldK3YzW2ldKS8yO1xuICAgIC8vICAgICAgICAgICAgdjMxW2ldID0gKHYzW2ldK3YxW2ldKS8yO1xuICAgIC8vICAgICAgICB9XG4gICAgLy9cbiAgICAvLyAgICAgICAgLy/mqKHplb/mianlsZVcbiAgICAvLyAgICAgICAgdGhpcy5fbm9ybWFsaXplKHYxMiwgcmFkaXVzKTtcbiAgICAvLyAgICAgICAgdGhpcy5fbm9ybWFsaXplKHYyMywgcmFkaXVzKTtcbiAgICAvLyAgICAgICAgdGhpcy5fbm9ybWFsaXplKHYzMSwgcmFkaXVzKTtcbiAgICAvL1xuICAgIC8vICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHRoaXMuX3ZlcnRpY2VzLmNvbmNhdCh2MTIsIHYyMywgdjMxKTtcbiAgICAvL1xuICAgIC8vICAgICAgICB2YXIgaVYxID0gaW5kWzBdLFxuICAgIC8vICAgICAgICAgICAgaVYyID0gaW5kWzFdLFxuICAgIC8vICAgICAgICAgICAgaVYzID0gaW5kWzJdLFxuICAgIC8vICAgICAgICAgICAgaVYxMiA9dGhpcy5fdkxlbixcbiAgICAvLyAgICAgICAgICAgIGlWMjMgPXRoaXMuX3ZMZW4gKyAxLFxuICAgIC8vICAgICAgICAgICAgaVYzMSA9dGhpcy5fdkxlbiArIDI7XG4gICAgLy9cbiAgICAvLyAgICAgICAgdmFyIGluMSA9W1xuICAgIC8vICAgICAgICAgICAgaVYxLCBpVjEyLCBpVjMxXG4gICAgLy8gICAgICAgIF07XG4gICAgLy8gICAgICAgIHZhciBpbjIgPVtcbiAgICAvLyAgICAgICAgICAgIGlWMzEsIGlWMTIsIGlWMjNcbiAgICAvLyAgICAgICAgXTtcbiAgICAvLyAgICAgICAgdmFyIGluMyA9W1xuICAgIC8vICAgICAgICAgICAgaVYxMiwgaVYyLCBpVjIzXG4gICAgLy8gICAgICAgIF07XG4gICAgLy8gICAgICAgIHZhciBpbjQgPVtcbiAgICAvLyAgICAgICAgICAgIGlWMzEsIGlWMjMsIGlWM1xuICAgIC8vICAgICAgICBdO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHRoaXMuX3ZMZW4gPXRoaXMuX3ZMZW4gKyAzO1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vICAgICAgICAvL+e7p+e7reWIh+WIhuS4ieinkuW9olxuICAgIC8vICAgICAgICB0aGlzLl9zdWJEaXZpZGUodjEsdjEyLHYzMSxpbjEsIGNvdW50LTEsIHJhZGl1cyk7IC8v5a+55omA5Lqn55Sf55qENOS4quaWsOeahOS4ieinkumdouWGjei/m+ihjOetieWIhlxuICAgIC8vICAgICAgICB0aGlzLl9zdWJEaXZpZGUodjMxLHYxMiwgdjIzLCBpbjIsIGNvdW50LTEsIHJhZGl1cyk7XG4gICAgLy8gICAgICAgIHRoaXMuX3N1YkRpdmlkZSh2MTIsIHYyLCB2MjMsIGluMywgY291bnQtMSwgcmFkaXVzKTtcbiAgICAvLyAgICAgICAgdGhpcy5fc3ViRGl2aWRlKHYzMSwgdjIzLCB2MywgaW40LCBjb3VudC0xLCByYWRpdXMpO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIHByaXZhdGUgX25vcm1hbGl6ZSh2Om51bWJlcltdLCByYWRpdXM6bnVtYmVyKTogbnVtYmVyW117XG4gICAgLy8gICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KFxuICAgIC8vICAgICAgICAgICAgdlswXSAqIHZbMF0gKyB2WzFdICogdlsxXSArIHZbMl0gKiB2WzJdXG4gICAgLy8gICAgICAgICk7XG4gICAgLy9cbiAgICAvLyAgICAgICAgaWYoZCA9PT0gMCl7XG4gICAgLy8gICAgICAgICAgICByZXR1cm4gWzAsIDAsIDBdO1xuICAgIC8vICAgICAgICB9XG4gICAgLy9cbiAgICAvLyAgICAgICAgdlswXSA9IHJhZGl1cyAqIHZbMF0gLyBkO1xuICAgIC8vICAgICAgICB2WzFdID0gcmFkaXVzICogdlsxXSAvIGQ7XG4gICAgLy8gICAgICAgIHZbMl0gPSByYWRpdXMgKiB2WzJdIC8gZDtcbiAgICAvL1xuICAgIC8vICAgICAgICByZXR1cm4gdjtcbiAgICAvLyAgICB9XG4gICAgLy99XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFRyaWFuZ2xlR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlRGF0YSgpe1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICAgICBsZWZ0ID0gLXdpZHRoIC8gMixcbiAgICAgICAgICAgICAgICByaWdodCA9IHdpZHRoIC8gMixcbiAgICAgICAgICAgICAgICB1cCA9IGhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgZG93biA9IC1oZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gW10sXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzID0gW10sXG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIG5vcm1hbHMgPSBbXTtcblxuICAgICAgICAgICAgdmVydGljZXMgPSBbXG4gICAgICAgICAgICAgICAgMC4wLCB1cCwgMCxcbiAgICAgICAgICAgICAgICBsZWZ0LCBkb3duLCAwLFxuICAgICAgICAgICAgICAgIHJpZ2h0LCBkb3duLCAwXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpbmRpY2VzID0gW1xuICAgICAgICAgICAgICAgIDAsIDEsIDJcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHRleENvb3JkcyA9IFtcbiAgICAgICAgICAgICAgICAwLjUsIDEuMCxcbiAgICAgICAgICAgICAgICAwLjAsIDAuMCxcbiAgICAgICAgICAgICAgICAxLjAsIDAuMFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgbm9ybWFscyA9IFtcbiAgICAgICAgICAgICAgICAwLCAwLCAxLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsXG4gICAgICAgICAgICAgICAgMCwgMCwgMVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdmVydGljZXMsXG4gICAgICAgICAgICAgICAgZmFjZXM6IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXMoaW5kaWNlcywgbm9ybWFscyksXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOiB0ZXhDb29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdlb21ldHJ5RGF0YSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5Okdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92ZXJ0aWNlczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHZlcnRpY2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnRpY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHZlcnRpY2VzKHZlcnRpY2VzOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgICAgICB0aGlzLmlzVGFuZ2VudERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlR2V0dGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9mYWNlcy5sZW5ndGggPiAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImZhY2VzLmNvdW50XCIsIFwiPiAwXCIpKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LmlzU21vb3RoU2hhZGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChmYWNlLnZlcnRleE5vcm1hbHMgJiYgZmFjZS52ZXJ0ZXhOb3JtYWxzLmdldENvdW50KCkgPT09IDMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZmFjZXMtPnZlcnRleE5vcm1hbHMuY291bnRcIiwgXCI9PT0gM1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZmFjZS5oYXNGYWNlTm9ybWFsKCksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZmFjZXMtPmZhY2VOb3JtYWxcIiwgXCJoYXMgZGF0YVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fbm9ybWFsRGlydHkgJiYgdGhpcy5fbm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxDYWNoZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBub3JtYWxzKCkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmlzU21vb3RoU2hhZGluZygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1ZlcnRleE5vcm1hbHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsc0Zyb21WZXJ0ZXhOb3JtYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0ZhY2VOb3JtYWxzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxzRnJvbUZhY2VOb3JtYWw7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2ZhY2VzLmxlbmd0aCA+IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZ2VvbWV0cnlcIiwgXCJoYXMgZmFjZXNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlR2V0dGVyKGZ1bmN0aW9uIChub3JtYWxzKSB7XG4gICAgICAgICAgICBmb3IobGV0IGRhdGEgb2Ygbm9ybWFscyl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNOdW1iZXIoZGF0YSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibm9ybWFscyBkYXRhXCIsIFwiYmUgbnVtYmVyXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGNhY2hlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX25vcm1hbERpcnR5ICYmIHRoaXMuX25vcm1hbEZyb21GYWNlQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsRnJvbUZhY2VDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbEZyb21GYWNlQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbm9ybWFsc0Zyb21GYWNlTm9ybWFsKCl7XG4gICAgICAgICAgICB2YXIgbm9ybWFscyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLmhhc0ZhY2VOb3JtYWxzKCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9ybWFscyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9mYWNlcy5mb3JFYWNoKChmYWNlOkZhY2UzKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG5vcm1hbCA9IGZhY2UuZmFjZU5vcm1hbDtcblxuICAgICAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuc2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgbm9ybWFsLCBmYWNlLmFJbmRleCk7XG4gICAgICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5zZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBub3JtYWwsIGZhY2UuYkluZGV4KTtcbiAgICAgICAgICAgICAgICBHZW9tZXRyeVV0aWxzLnNldFRocmVlQ29tcG9uZW50KG5vcm1hbHMsIG5vcm1hbCwgZmFjZS5jSW5kZXgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTpub3QgZmlsbCwga2VlcCBOYU4/XG4gICAgICAgICAgICB0aGlzLl9maWxsRW1wdHlEYXRhKG5vcm1hbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFscztcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fZmFjZXMubGVuZ3RoID4gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJnZW9tZXRyeVwiLCBcImhhcyBmYWNlc1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIEBlbnN1cmVHZXR0ZXIoZnVuY3Rpb24gKG5vcm1hbHMpIHtcbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBub3JtYWxzKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc051bWJlcihkYXRhKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJub3JtYWxzIGRhdGFcIiwgXCJiZSBudW1iZXJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fbm9ybWFsRGlydHkgJiYgdGhpcy5fbm9ybWFsRnJvbVZlcnRleENhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbEZyb21WZXJ0ZXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbEZyb21WZXJ0ZXhDYWNoZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBub3JtYWxzRnJvbVZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzVmVydGV4Tm9ybWFscygpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vcm1hbHMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5fZmFjZXMuZm9yRWFjaCgoZmFjZTpGYWNlMykgPT4ge1xuICAgICAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuc2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgZmFjZS52ZXJ0ZXhOb3JtYWxzLmdldENoaWxkKDApLCBmYWNlLmFJbmRleCk7XG4gICAgICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5zZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBmYWNlLnZlcnRleE5vcm1hbHMuZ2V0Q2hpbGQoMSksIGZhY2UuYkluZGV4KTtcbiAgICAgICAgICAgICAgICBHZW9tZXRyeVV0aWxzLnNldFRocmVlQ29tcG9uZW50KG5vcm1hbHMsIGZhY2UudmVydGV4Tm9ybWFscy5nZXRDaGlsZCgyKSwgZmFjZS5jSW5kZXgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTpub3QgZmlsbCwgcmVtYWluIE5hTj9cbiAgICAgICAgICAgIHRoaXMuX2ZpbGxFbXB0eURhdGEobm9ybWFscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBub3JtYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX2luZGljZURpcnR5ICYmIHRoaXMuX2luZGljZUNhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luZGljZUNhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgdGhpcy5faW5kaWNlQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgaW5kaWNlcygpOkFycmF5PG51bWJlcj4ge1xuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChmYWNlLmFJbmRleCwgZmFjZS5iSW5kZXgsIGZhY2UuY0luZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGluZGljZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mYWNlczpBcnJheTxGYWNlMz4gPSBudWxsO1xuICAgICAgICBnZXQgZmFjZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFjZXM7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgZmFjZXMoZmFjZXM6QXJyYXk8RmFjZTM+KSB7XG4gICAgICAgICAgICB0aGlzLl9mYWNlcyA9IGZhY2VzO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZUZhY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RleENvb3JkczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHRleENvb3JkcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXhDb29yZHM7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgdGV4Q29vcmRzKHRleENvb3JkczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB0aGlzLl90ZXhDb29yZHMgPSB0ZXhDb29yZHM7XG4gICAgICAgICAgICB0aGlzLmlzVGFuZ2VudERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbG9yczpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgZ2V0IGNvbG9ycygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDb2xvcnModGhpcy5fY29sb3JzLCB0aGlzLl92ZXJ0aWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgY29sb3JzKGNvbG9yczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB0aGlzLl9jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90YW5nZW50czpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHRhbmdlbnRzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUYW5nZW50RGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVGFuZ2VudERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90YW5nZW50cyA9IHRoaXMuX2NhbGN1bGF0ZVRhbmdlbnRzKHRoaXMuX3ZlcnRpY2VzLCB0aGlzLm5vcm1hbHMsIHRoaXMudGV4Q29vcmRzLCB0aGlzLmluZGljZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFuZ2VudHM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNUYW5nZW50RGlydHk6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGdlb21ldHJ5Okdlb21ldHJ5ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9ub3JtYWxDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRnJvbUZhY2VDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRnJvbVZlcnRleENhY2hlOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbmRpY2VDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRGlydHk6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgX2luZGljZURpcnR5OmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoR2VvbWV0cnlVdGlscy5oYXNEYXRhKHRoaXMudmVydGljZXMpLCBMb2cuaW5mby5GVU5DX01VU1QoXCJjb250YWluIHZlcnRpY2VzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm9yKGxldCBmYWNlIG9mIHRoaXMuX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhY2UuZmFjZU5vcm1hbCBpbnN0YW5jZW9mIFZlY3RvcjMsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImZhY2VOb3JtYWxcIiwgXCJiZSBudWxsXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNvbXB1dGVGYWNlTm9ybWFscygpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuX3ZlcnRpY2VzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBmYWNlIG9mIHRoaXMuX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgZmFjZS5mYWNlTm9ybWFsID0gdGhpcy5jb21wdXRlRmFjZU5vcm1hbHNIZWxwZXIodmVydGljZXMsIGZhY2UuYUluZGV4LCBmYWNlLmJJbmRleCwgZmFjZS5jSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkge1xuICAgICAgICAgICAgdmFyIG5vcm1hbHMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZighdGhpcy5oYXNGYWNlTm9ybWFscygpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub3JtYWxzID0gdGhpcy5jb21wdXRlVmVydGV4Tm9ybWFsc0hlbHBlcih0aGlzLl92ZXJ0aWNlcyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGZhY2Ugb2YgdGhpcy5fZmFjZXMpIHtcbiAgICAgICAgICAgICAgICBmYWNlLnZlcnRleE5vcm1hbHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFZlY3RvcjM+KFtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsc1tmYWNlLmFJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbHNbZmFjZS5iSW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxzW2ZhY2UuY0luZGV4XVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0ZhY2VOb3JtYWxzKCl7XG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6b25seSBqdWRnZSB0aGUgZmlyc3QgZmFjZT9cbiAgICAgICAgICAgIGZvcihsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcyl7XG4gICAgICAgICAgICAgICAgaWYoIWZhY2UuaGFzRmFjZU5vcm1hbCgpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzVmVydGV4Tm9ybWFscygpe1xuICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOm9ubHkganVkZ2UgdGhlIGZpcnN0IGZhY2U/XG4gICAgICAgICAgICBmb3IobGV0IGZhY2Ugb2YgdGhpcy5fZmFjZXMpe1xuICAgICAgICAgICAgICAgIGlmKCFmYWNlLmhhc1ZlcnRleE5vcm1hbCgpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgb25DaGFuZ2VGYWNlKCl7XG4gICAgICAgICAgICB0aGlzLmlzVGFuZ2VudERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2luZGljZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlRmFjZU5vcm1hbHNIZWxwZXIodmVydGljZXM6QXJyYXk8bnVtYmVyPiwgYUluZGV4Om51bWJlciwgYkluZGV4Om51bWJlciwgY0luZGV4Om51bWJlcikge1xuICAgICAgICAgICAgdmFyIHAwID0gR2VvbWV0cnlVdGlscy5nZXRUaHJlZUNvbXBvbmVudCh2ZXJ0aWNlcywgYUluZGV4KSxcbiAgICAgICAgICAgICAgICBwMSA9IEdlb21ldHJ5VXRpbHMuZ2V0VGhyZWVDb21wb25lbnQodmVydGljZXMsIGJJbmRleCksXG4gICAgICAgICAgICAgICAgcDIgPSBHZW9tZXRyeVV0aWxzLmdldFRocmVlQ29tcG9uZW50KHZlcnRpY2VzLCBjSW5kZXgpLFxuICAgICAgICAgICAgICAgIHYwID0gVmVjdG9yMy5jcmVhdGUoKS5zdWIyKHAyLCBwMSksXG4gICAgICAgICAgICAgICAgdjEgPSBWZWN0b3IzLmNyZWF0ZSgpLnN1YjIocDAsIHAxKTtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKCkuY3Jvc3ModjAsIHYxKS5ub3JtYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb21wdXRlVmVydGV4Tm9ybWFsc0hlbHBlcih2ZXJ0aWNlczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciB2bCA9IHZlcnRpY2VzLmxlbmd0aCAvIDMsXG4gICAgICAgICAgICAgICAgbm9ybWFscyA9IG51bGw7XG5cbiAgICAgICAgICAgIG5vcm1hbHMgPSBuZXcgQXJyYXkodmwpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHZsOyB2KyspIHtcbiAgICAgICAgICAgICAgICBub3JtYWxzW3ZdID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlTm9ybWFsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGZhY2VOb3JtYWwgPSBmYWNlLmZhY2VOb3JtYWw7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxzW2ZhY2UuYUluZGV4XS5hZGQoZmFjZU5vcm1hbCk7XG4gICAgICAgICAgICAgICAgbm9ybWFsc1tmYWNlLmJJbmRleF0uYWRkKGZhY2VOb3JtYWwpO1xuICAgICAgICAgICAgICAgIG5vcm1hbHNbZmFjZS5jSW5kZXhdLmFkZChmYWNlTm9ybWFsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCB2bDsgdisrKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsc1t2XS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbHM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRDb2xvcnMoY29sb3JzOkFycmF5PG51bWJlcj4sIHZlcnRpY2VzOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIGlmIChjb2xvcnMgJiYgY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENvbG9yc0Zyb21NYXRlcmlhbCh2ZXJ0aWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gb3B0aW1pemU6YWRkIGNhY2hlXG4gICAgICAgIHByaXZhdGUgX2dldENvbG9yc0Zyb21NYXRlcmlhbCh2ZXJ0aWNlczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW10sXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSB0aGlzLmdlb21ldHJ5Lm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgIGNvbG9yID0gbWF0ZXJpYWwuY29sb3IsXG4gICAgICAgICAgICAgICAgbGVuID0gbnVsbDtcblxuICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IoIXZlcnRpY2VzIHx8IHZlcnRpY2VzLmxlbmd0aCA9PT0gMCwgd2RDYi5Mb2cuaW5mby5GVU5DX01VU1QoXCJoYXMgdmVydGljZSBkYXRhXCIpKTtcblxuICAgICAgICAgICAgbGVuID0gdmVydGljZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maWxsRW1wdHlEYXRhKGRhdGE6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwLGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmKGlzTmFOKGRhdGFbaV0pKXtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtpXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2FsY3VsYXRlVGFuZ2VudHModmVydGljZXM6QXJyYXk8bnVtYmVyPiwgbm9ybWFsczpBcnJheTxudW1iZXI+LCB0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiwgaW5kaWNlczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgdHJpYW5nbGVDb3VudCA9IGluZGljZXMubGVuZ3RoIC8gMyxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudCA9IHZlcnRpY2VzLmxlbmd0aCAvIDMsXG4gICAgICAgICAgICAgICAgaTEsIGkyLCBpMyxcbiAgICAgICAgICAgICAgICB4MSwgeDIsIHkxLCB5MiwgejEsIHoyLCBzMSwgczIsIHQxLCB0MiwgcixcbiAgICAgICAgICAgICAgICBzZGlyID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB0ZGlyID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB2MSA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdjIgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHYzID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB3MSA9IFZlY3RvcjIuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdzIgPSBWZWN0b3IyLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHczID0gVmVjdG9yMi5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBpLCAvLyBMb29wIGNvdW50ZVxuICAgICAgICAgICAgICAgIHRhbjEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRleENvdW50ICogMyksXG4gICAgICAgICAgICAgICAgdGFuMiA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGV4Q291bnQgKiAzKSxcbiAgICAgICAgICAgICAgICBuID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB0ZW1wID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB0YW5nZW50cyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaTEgPSBpbmRpY2VzW2kgKiAzXTtcbiAgICAgICAgICAgICAgICBpMiA9IGluZGljZXNbaSAqIDMgKyAxXTtcbiAgICAgICAgICAgICAgICBpMyA9IGluZGljZXNbaSAqIDMgKyAyXTtcblxuICAgICAgICAgICAgICAgIHYxLnNldCh2ZXJ0aWNlc1tpMSAqIDNdLCB2ZXJ0aWNlc1tpMSAqIDMgKyAxXSwgdmVydGljZXNbaTEgKiAzICsgMl0pO1xuICAgICAgICAgICAgICAgIHYyLnNldCh2ZXJ0aWNlc1tpMiAqIDNdLCB2ZXJ0aWNlc1tpMiAqIDMgKyAxXSwgdmVydGljZXNbaTIgKiAzICsgMl0pO1xuICAgICAgICAgICAgICAgIHYzLnNldCh2ZXJ0aWNlc1tpMyAqIDNdLCB2ZXJ0aWNlc1tpMyAqIDMgKyAxXSwgdmVydGljZXNbaTMgKiAzICsgMl0pO1xuXG4gICAgICAgICAgICAgICAgdzEuc2V0KHRleENvb3Jkc1tpMSAqIDJdLCB0ZXhDb29yZHNbaTEgKiAyICsgMV0pO1xuICAgICAgICAgICAgICAgIHcyLnNldCh0ZXhDb29yZHNbaTIgKiAyXSwgdGV4Q29vcmRzW2kyICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB3My5zZXQodGV4Q29vcmRzW2kzICogMl0sIHRleENvb3Jkc1tpMyAqIDIgKyAxXSk7XG5cbiAgICAgICAgICAgICAgICB4MSA9IHYyLnggLSB2MS54O1xuICAgICAgICAgICAgICAgIHgyID0gdjMueCAtIHYxLng7XG4gICAgICAgICAgICAgICAgeTEgPSB2Mi55IC0gdjEueTtcbiAgICAgICAgICAgICAgICB5MiA9IHYzLnkgLSB2MS55O1xuICAgICAgICAgICAgICAgIHoxID0gdjIueiAtIHYxLno7XG4gICAgICAgICAgICAgICAgejIgPSB2My56IC0gdjEuejtcblxuICAgICAgICAgICAgICAgIHMxID0gdzIueCAtIHcxLng7XG4gICAgICAgICAgICAgICAgczIgPSB3My54IC0gdzEueDtcbiAgICAgICAgICAgICAgICB0MSA9IHcyLnkgLSB3MS55O1xuICAgICAgICAgICAgICAgIHQyID0gdzMueSAtIHcxLnk7XG5cbiAgICAgICAgICAgICAgICByID0gMS4wIC8gKHMxICogdDIgLSBzMiAqIHQxKTtcbiAgICAgICAgICAgICAgICBzZGlyLnNldCgodDIgKiB4MSAtIHQxICogeDIpICogcixcbiAgICAgICAgICAgICAgICAgICAgKHQyICogeTEgLSB0MSAqIHkyKSAqIHIsXG4gICAgICAgICAgICAgICAgICAgICh0MiAqIHoxIC0gdDEgKiB6MikgKiByKTtcbiAgICAgICAgICAgICAgICB0ZGlyLnNldCgoczEgKiB4MiAtIHMyICogeDEpICogcixcbiAgICAgICAgICAgICAgICAgICAgKHMxICogeTIgLSBzMiAqIHkxKSAqIHIsXG4gICAgICAgICAgICAgICAgICAgIChzMSAqIHoyIC0gczIgKiB6MSkgKiByKTtcblxuICAgICAgICAgICAgICAgIHRhbjFbaTEgKiAzICsgMF0gKz0gc2Rpci54O1xuICAgICAgICAgICAgICAgIHRhbjFbaTEgKiAzICsgMV0gKz0gc2Rpci55O1xuICAgICAgICAgICAgICAgIHRhbjFbaTEgKiAzICsgMl0gKz0gc2Rpci56O1xuICAgICAgICAgICAgICAgIHRhbjFbaTIgKiAzICsgMF0gKz0gc2Rpci54O1xuICAgICAgICAgICAgICAgIHRhbjFbaTIgKiAzICsgMV0gKz0gc2Rpci55O1xuICAgICAgICAgICAgICAgIHRhbjFbaTIgKiAzICsgMl0gKz0gc2Rpci56O1xuICAgICAgICAgICAgICAgIHRhbjFbaTMgKiAzICsgMF0gKz0gc2Rpci54O1xuICAgICAgICAgICAgICAgIHRhbjFbaTMgKiAzICsgMV0gKz0gc2Rpci55O1xuICAgICAgICAgICAgICAgIHRhbjFbaTMgKiAzICsgMl0gKz0gc2Rpci56O1xuXG4gICAgICAgICAgICAgICAgdGFuMltpMSAqIDMgKyAwXSArPSB0ZGlyLng7XG4gICAgICAgICAgICAgICAgdGFuMltpMSAqIDMgKyAxXSArPSB0ZGlyLnk7XG4gICAgICAgICAgICAgICAgdGFuMltpMSAqIDMgKyAyXSArPSB0ZGlyLno7XG4gICAgICAgICAgICAgICAgdGFuMltpMiAqIDMgKyAwXSArPSB0ZGlyLng7XG4gICAgICAgICAgICAgICAgdGFuMltpMiAqIDMgKyAxXSArPSB0ZGlyLnk7XG4gICAgICAgICAgICAgICAgdGFuMltpMiAqIDMgKyAyXSArPSB0ZGlyLno7XG4gICAgICAgICAgICAgICAgdGFuMltpMyAqIDMgKyAwXSArPSB0ZGlyLng7XG4gICAgICAgICAgICAgICAgdGFuMltpMyAqIDMgKyAxXSArPSB0ZGlyLnk7XG4gICAgICAgICAgICAgICAgdGFuMltpMyAqIDMgKyAyXSArPSB0ZGlyLno7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHQxID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIHQyID0gVmVjdG9yMy5jcmVhdGUoKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRleENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmRvdHQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgbi5zZXQobm9ybWFsc1tpICogM10sIG5vcm1hbHNbaSAqIDMgKyAxXSwgbm9ybWFsc1tpICogMyArIDJdKTtcbiAgICAgICAgICAgICAgICB0MS5zZXQodGFuMVtpICogM10sIHRhbjFbaSAqIDMgKyAxXSwgdGFuMVtpICogMyArIDJdKTtcbiAgICAgICAgICAgICAgICB0Mi5zZXQodGFuMltpICogM10sIHRhbjJbaSAqIDMgKyAxXSwgdGFuMltpICogMyArIDJdKTtcblxuICAgICAgICAgICAgICAgIC8vIEdyYW0tU2NobWlkdCBvcnRob2dvbmFsaXplXG4gICAgICAgICAgICAgICAgbmRvdHQgPSBuLmRvdCh0MSk7XG4gICAgICAgICAgICAgICAgdGVtcCA9IG4uY29weSgpLnNjYWxlKG5kb3R0KTtcbiAgICAgICAgICAgICAgICB0ZW1wLnN1YjIodDEsIHRlbXApLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGFuZ2VudHNbaSAqIDRdID0gdGVtcC54O1xuICAgICAgICAgICAgICAgIHRhbmdlbnRzW2kgKiA0ICsgMV0gPSB0ZW1wLnk7XG4gICAgICAgICAgICAgICAgdGFuZ2VudHNbaSAqIDQgKyAyXSA9IHRlbXAuejtcblxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBoYW5kZWRuZXNzXG4gICAgICAgICAgICAgICAgdGVtcC5jcm9zcyhuLCB0MSk7XG4gICAgICAgICAgICAgICAgdGFuZ2VudHNbaSAqIDQgKyAzXSA9ICh0ZW1wLmRvdCh0MikgPCAwLjApID8gLTEuMCA6IDEuMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhbmdlbnRzO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25HZW9tZXRyeURhdGEgZXh0ZW5kcyBHZW9tZXRyeURhdGF7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGdlb21ldHJ5Okdlb21ldHJ5KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoZ2VvbWV0cnkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBNb3JwaEdlb21ldHJ5RGF0YSBleHRlbmRzIEdlb21ldHJ5RGF0YXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZ2VvbWV0cnk6R2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhnZW9tZXRyeSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fbW9ycGhOb3JtYWxEaXJ0eSAmJiB0aGlzLl9tb3JwaE5vcm1hbENhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vcnBoTm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9tb3JwaE5vcm1hbENhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbW9ycGhOb3JtYWxzKCk6YW55IHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeTpNb2RlbEdlb21ldHJ5ID0gPGFueT50aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgICAgICB0aGlzLl9tb3JwaE5vcm1hbERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pc1Ntb290aFNoYWRpbmcoKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNNb3JwaFZlcnRleE5vcm1hbHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVNb3JwaE5vcm1hbHMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnkubW9ycGhWZXJ0ZXhOb3JtYWxzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzTW9ycGhGYWNlTm9ybWFscygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTW9ycGhOb3JtYWxzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeS5tb3JwaEZhY2VOb3JtYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbW9ycGhUYXJnZXRzOndkQ2IuSGFzaDxNb3JwaFRhcmdldHNEYXRhPiA9IG51bGw7XG4gICAgICAgIGdldCBtb3JwaFRhcmdldHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb3JwaFRhcmdldHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1vcnBoVGFyZ2V0cyhtb3JwaFRhcmdldHM6d2RDYi5IYXNoPE1vcnBoVGFyZ2V0c0RhdGE+KXtcbiAgICAgICAgICAgIHRoaXMuX21vcnBoVGFyZ2V0cyA9IG1vcnBoVGFyZ2V0cztcbiAgICAgICAgICAgIHRoaXMuX21vcnBoTm9ybWFsRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdlb21ldHJ5Ok1vZGVsR2VvbWV0cnk7XG5cbiAgICAgICAgcHJpdmF0ZSBfbW9ycGhOb3JtYWxDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbW9ycGhOb3JtYWxEaXJ0eTpib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwdWJsaWMgY29tcHV0ZU1vcnBoTm9ybWFscygpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9tb3JwaFRhcmdldHMuZm9yRWFjaCgoZnJhbWVzOk1vcnBoVGFyZ2V0c0RhdGEsIGFuaW1OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZhY2VOb3JtYWxMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBcnJheTxudW1iZXI+PigpLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhOb3JtYWxMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBcnJheTxudW1iZXI+PigpO1xuXG4gICAgICAgICAgICAgICAgZnJhbWVzLmZvckVhY2goKHZlcnRpY2VzOkFycmF5PG51bWJlcj4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBHZW9tZXRyeURhdGEgPSBNb3JwaEdlb21ldHJ5RGF0YS5jcmVhdGUoZ2VvbWV0cnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZU5vcm1hbHNPZkVhY2hGcmFtZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhOb3JtYWxzT2ZFYWNoRnJhbWUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIHRlbXBHZW9tZXRyeURhdGEudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5RGF0YS5mYWNlcyA9IHNlbGYuX2NvcHlGYWNlcyhnZW9tZXRyeS5mYWNlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5RGF0YS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5RGF0YS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuXG4gICAgICAgICAgICAgICAgICAgIFtmYWNlTm9ybWFsc09mRWFjaEZyYW1lLCB2ZXJ0ZXhOb3JtYWxzT2ZFYWNoRnJhbWVdID0gc2VsZi5fZ2V0TW9ycGhOb3JtYWxzKHRlbXBHZW9tZXRyeURhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZhY2VOb3JtYWxMaXN0LmFkZENoaWxkKGZhY2VOb3JtYWxzT2ZFYWNoRnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhOb3JtYWxMaXN0LmFkZENoaWxkKHZlcnRleE5vcm1hbHNPZkVhY2hGcmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5tb3JwaEZhY2VOb3JtYWxzLmFkZENoaWxkKGFuaW1OYW1lLCBmYWNlTm9ybWFsTGlzdCk7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkubW9ycGhWZXJ0ZXhOb3JtYWxzLmFkZENoaWxkKGFuaW1OYW1lLCB2ZXJ0ZXhOb3JtYWxMaXN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc01vcnBoRmFjZU5vcm1hbHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Lm1vcnBoRmFjZU5vcm1hbHMuZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzTW9ycGhWZXJ0ZXhOb3JtYWxzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5tb3JwaFZlcnRleE5vcm1hbHMuZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgb25DaGFuZ2VGYWNlKCl7XG4gICAgICAgICAgICB0aGlzLl9tb3JwaE5vcm1hbERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvcHlGYWNlcyhmYWNlczpBcnJheTxGYWNlMz4pe1xuICAgICAgICAgICAgdmFyIGNvcHlGYWNlcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBmYWNlIG9mIGZhY2VzKXtcbiAgICAgICAgICAgICAgICBjb3B5RmFjZXMucHVzaChmYWNlLmNvcHkoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5RmFjZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNb3JwaE5vcm1hbHMoZ2VvbWV0cnlEYXRhOk1vcnBoR2VvbWV0cnlEYXRhKXtcbiAgICAgICAgICAgIHJldHVybiBbZ2VvbWV0cnlEYXRhLm5vcm1hbHNGcm9tRmFjZU5vcm1hbCwgZ2VvbWV0cnlEYXRhLm5vcm1hbHNGcm9tVmVydGV4Tm9ybWFsc107XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJ1ZmZlckNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdCA9IGVudGl0eU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZW9tZXRyeURhdGE6R2VvbWV0cnlEYXRhID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgY29udGFpbmVyOndkQ2IuSGFzaDxCdWZmZXI+ID0gd2RDYi5IYXNoLmNyZWF0ZTxCdWZmZXI+KCk7XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sb3JCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF90ZXhDb29yZEJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3RhbmdlbnRCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbmRpY2VCdWZmZXI6RWxlbWVudEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NQVRFUklBTF9DSEFOR0UsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUNhY2hlKEVCdWZmZXJEYXRhVHlwZS5DT0xPUik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDYWNoZSh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCh0eXBlOkVCdWZmZXJEYXRhVHlwZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDphbnkgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldFZlcnRpY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZXROb3JtYWwodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldFRhbmdlbnQodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLkNPTE9SOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRDb2xvcih0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyRGF0YVR5cGUuSU5ESUNFOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRJbmRpY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLlRFWENPT1JEOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRUZXhDb29yZCh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IodHJ1ZSwgd2RDYi5Mb2cuaW5mby5GVU5DX1VOS05PVyhgRUJ1ZmZlckRhdGFUeXBlOiAke3R5cGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgcmV0dXJuICEhZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuZm9yRWFjaCgoYnVmZmVyOkJ1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRWZXJ0aWNlKHR5cGUpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0Tm9ybWFsKHR5cGUpO1xuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVCdWZmZXJPbmx5T25jZShidWZmZXJBdHRyaU5hbWU6c3RyaW5nLCBidWZmZXJDbGFzczphbnkpe1xuICAgICAgICAgICAgaWYodGhpc1tidWZmZXJBdHRyaU5hbWVdKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXNbYnVmZmVyQXR0cmlOYW1lXSA9IGJ1ZmZlckNsYXNzLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpICYmICF0aGlzLl9uZWVkUmVDYWxjdXRlVGFuZ2VudCh0eXBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRUYW5nZW50KHR5cGUpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfdGFuZ2VudEJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcbiAgICAgICAgICAgIHRoaXMuX3RhbmdlbnRCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnlEYXRhKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFuZ2VudEJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaGFzQ2hpbGQoPGFueT50eXBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRDb2xvcih0eXBlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlEYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl9jb2xvckJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yQnVmZmVyLnJlc2V0RGF0YShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5RGF0YSksIDMsIEVCdWZmZXJUeXBlLkZMT0FUKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yQnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCg8YW55PnR5cGUpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEluZGljZSh0eXBlKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlck9ubHlPbmNlKFwiX2luZGljZUJ1ZmZlclwiLCBFbGVtZW50QnVmZmVyKTtcblxuICAgICAgICAgICAgZ2VvbWV0cnlEYXRhID0gdGhpcy5nZW9tZXRyeURhdGFbQnVmZmVyRGF0YVRhYmxlLmdldEdlb21ldHJ5RGF0YU5hbWUodHlwZSldO1xuXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VCdWZmZXIucmVzZXREYXRhKG5ldyBVaW50MTZBcnJheShnZW9tZXRyeURhdGEpLCBFQnVmZmVyVHlwZS5VTlNJR05FRF9TSE9SVCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmRpY2VCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBAY2FjaGUoZnVuY3Rpb24odHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmhhc0NoaWxkKDxhbnk+dHlwZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldENoaWxkKDxhbnk+dHlwZSlcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0LCB0eXBlKXtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKDxhbnk+dHlwZSwgcmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0VGV4Q29vcmQodHlwZSl7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlEYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl90ZXhDb29yZEJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4Q29vcmRCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnlEYXRhKSwgMiwgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4Q29vcmRCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9uZWVkUmVDYWxjdXRlVGFuZ2VudCh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeURhdGEuaXNUYW5nZW50RGlydHkgJiYgdHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25CdWZmZXJDb250YWluZXIgZXh0ZW5kcyBCdWZmZXJDb250YWluZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdlb21ldHJ5RGF0YTpDb21tb25HZW9tZXRyeURhdGE7XG5cbiAgICAgICAgcHJpdmF0ZSBfdmVydGljZUJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX25vcm1hbEJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCg8YW55PnR5cGUpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBnZXRWZXJ0aWNlKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlEYXRhPSB0aGlzLmdlb21ldHJ5RGF0YVtCdWZmZXJEYXRhVGFibGUuZ2V0R2VvbWV0cnlEYXRhTmFtZSh0eXBlKV07XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfdmVydGljZUJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnlEYXRhKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVydGljZUJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaGFzQ2hpbGQoPGFueT50eXBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Tm9ybWFsKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlEYXRhPSB0aGlzLmdlb21ldHJ5RGF0YVtCdWZmZXJEYXRhVGFibGUuZ2V0R2VvbWV0cnlEYXRhTmFtZSh0eXBlKV07XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfbm9ybWFsQnVmZmVyXCIsIEFycmF5QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsQnVmZmVyLnJlc2V0RGF0YShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5RGF0YSksIDMsIEVCdWZmZXJUeXBlLkZMT0FUKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbEJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoQnVmZmVyQ29udGFpbmVyIGV4dGVuZHMgQnVmZmVyQ29udGFpbmVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGFuaW1hdGlvbjpNb3JwaEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGVudGl0eU9iamVjdCwgYW5pbWF0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBhbmltYXRpb246TW9ycGhBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHN1cGVyKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZW9tZXRyeURhdGE6TW9ycGhHZW9tZXRyeURhdGE7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbnRhaW5lcjp3ZENiLkhhc2g8QnVmZmVyJkFycmF5PEFycmF5QnVmZmVyPj47XG5cbiAgICAgICAgcHJpdmF0ZSBfYW5pbWF0aW9uOk1vcnBoQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaXNDYWNoZUNoYW5nZUZsYWc6YW55ID0ge307XG4gICAgICAgIHByaXZhdGUgX2lzQ2FjaGVDaGFuZ2VJbkxhc3RMb29wID0ge307XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRWZXJ0aWNlQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbmV4dFZlcnRpY2VCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jdXJyZW50Tm9ybWFsQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbmV4dE5vcm1hbEJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZW9tZXRyeURhdGEubW9ycGhUYXJnZXRzICYmIHRoaXMuZ2VvbWV0cnlEYXRhLm1vcnBoVGFyZ2V0cy5nZXRDb3VudCgpID4gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJzZXQgbW9ycGhUYXJnZXRzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGdldFZlcnRpY2UodHlwZTpFQnVmZmVyRGF0YVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRNb3JwaERhdGEodHlwZSwgdGhpcy5nZW9tZXRyeURhdGEubW9ycGhUYXJnZXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICh0eXBlOkVCdWZmZXJEYXRhVHlwZSkge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZ2VvbWV0cnlEYXRhLm1vcnBoVGFyZ2V0cyAmJiB0aGlzLmdlb21ldHJ5RGF0YS5tb3JwaFRhcmdldHMuZ2V0Q291bnQoKSA+IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic2V0IG1vcnBoVGFyZ2V0c1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBnZXROb3JtYWwodHlwZTpFQnVmZmVyRGF0YVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRNb3JwaERhdGEodHlwZSwgdGhpcy5nZW9tZXRyeURhdGEubW9ycGhOb3JtYWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE1vcnBoRGF0YSh0eXBlOkVCdWZmZXJEYXRhVHlwZSwgbW9ycGhEYXRhVGFyZ2V0czp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+Pik6QXJyYXk8QXJyYXlCdWZmZXI+IHtcbiAgICAgICAgICAgIHZhciBjYWNoZURhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIGZyYW1lcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNOb3RQbGF5QW5pbWF0aW9uKCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRTdGF0aWNEYXRhKHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZXMgPSBtb3JwaERhdGFUYXJnZXRzLmdldENoaWxkKHRoaXMuX2FuaW1hdGlvbi5jdXJyZW50QW5pbU5hbWUpO1xuXG4gICAgICAgICAgICB3ZENiLkxvZy5lcnJvcighZnJhbWVzLCB3ZENiLkxvZy5pbmZvLkZVTkNfU0hPVUxEKGBcIiR7dGhpcy5fYW5pbWF0aW9uLmN1cnJlbnRBbmltTmFtZX1cIiBhbmltYXRpb25gLCBcImNvbnRhaW4gZnJhbWUgZGF0YVwiKSk7XG5cbiAgICAgICAgICAgIGNhY2hlRGF0YSA9IHRoaXMuY29udGFpbmVyLmdldENoaWxkKDxhbnk+dHlwZSk7XG5cbiAgICAgICAgICAgIGlmICghY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRCdWZmZXIgPSB0aGlzLl9nZXRDdXJyZW50QnVmZmVyKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICBuZXh0QnVmZmVyID0gdGhpcy5fZ2V0TmV4dEJ1ZmZlcih0eXBlKTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnRCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZnJhbWVzLmdldENoaWxkKHRoaXMuX2FuaW1hdGlvbi5jdXJyZW50RnJhbWUpKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuICAgICAgICAgICAgICAgIG5leHRCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZnJhbWVzLmdldENoaWxkKHRoaXMuX2FuaW1hdGlvbi5uZXh0RnJhbWUpKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuXG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbY3VycmVudEJ1ZmZlciwgbmV4dEJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNDYWNoZUNoYW5nZUluTGFzdExvb3BbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24uaXNGcmFtZUNoYW5nZSAmJiAodGhpcy5faXNDYWNoZUNoYW5nZUluTGFzdExvb3BbdHlwZV0gfHwgdGhpcy5faXNDYWNoZU5vdENoYW5nZSh0eXBlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFtjdXJyZW50QnVmZmVyLCBuZXh0QnVmZmVyXSA9IGNhY2hlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0N1cnJlbnRCdWZmZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TmV4dEJ1ZmZlciA9IG51bGw7XG5cblxuICAgICAgICAgICAgICAgICAgICAvL3RvZG8gdXNlIGRvdWJsZS1idWZmZXIgY2FjaGU/XG4gICAgICAgICAgICAgICAgICAgIG5ld0N1cnJlbnRCdWZmZXIgPSBuZXh0QnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICBuZXdOZXh0QnVmZmVyID0gY3VycmVudEJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShmcmFtZXMuZ2V0Q2hpbGQodGhpcy5fYW5pbWF0aW9uLm5leHRGcmFtZSkpKTtcblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbbmV3Q3VycmVudEJ1ZmZlciwgbmV3TmV4dEJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2FjaGVDaGFuZ2VGbGFnW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDYWNoZUNoYW5nZUluTGFzdExvb3BbdHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDYWNoZUNoYW5nZUZsYWdbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDYWNoZUNoYW5nZUluTGFzdExvb3BbdHlwZV0gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGUgPT09IEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFIHx8IHR5cGUgPT09IEVCdWZmZXJEYXRhVHlwZS5OT1JNQUwsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidHlwZVwiLCBcImJlIEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFIG9yIEVCdWZmZXJEYXRhVHlwZS5OT1JNQUxcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRDdXJyZW50QnVmZmVyKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIGlmKHR5cGUgPT09IEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlck9ubHlPbmNlKFwiX2N1cnJlbnRWZXJ0aWNlQnVmZmVyXCIsIEFycmF5QnVmZmVyKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VmVydGljZUJ1ZmZlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl9jdXJyZW50Tm9ybWFsQnVmZmVyXCIsIEFycmF5QnVmZmVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnROb3JtYWxCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICBhc3NlcnQodHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0UgfHwgdHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0eXBlXCIsIFwiYmUgRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0Ugb3IgRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldE5leHRCdWZmZXIodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgaWYodHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0Upe1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfbmV4dFZlcnRpY2VCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25leHRWZXJ0aWNlQnVmZmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlck9ubHlPbmNlKFwiX25leHROb3JtYWxCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV4dE5vcm1hbEJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ2FjaGVOb3RDaGFuZ2UodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9pc0NhY2hlQ2hhbmdlRmxhZ1t0eXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTm90UGxheUFuaW1hdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbi5jdXJyZW50QW5pbU5hbWUgPT09IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBAY2FjaGUoZnVuY3Rpb24odHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmhhc0NoaWxkKHRoaXMuX2dldFN0YXRpY0RhdGFDYWNoZURhdGEodHlwZSkpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCh0aGlzLl9nZXRTdGF0aWNEYXRhQ2FjaGVEYXRhKHR5cGUpKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fZ2V0U3RhdGljRGF0YUNhY2hlRGF0YSh0eXBlKSwgcmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0U3RhdGljRGF0YSh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0U6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLmdlb21ldHJ5RGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyRGF0YVR5cGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5nZW9tZXRyeURhdGEubm9ybWFscztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidHlwZVwiLCBcImJlIEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFIG9yIEVCdWZmZXJEYXRhVHlwZS5OT1JNQUxcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uLmludGVycG9sYXRpb24gPSAwO1xuXG4gICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q3VycmVudEJ1ZmZlcih0eXBlKS5yZXNldERhdGEoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIDMsIEVCdWZmZXJUeXBlLkZMT0FUXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXROZXh0QnVmZmVyKHR5cGUpLnJlc2V0RGF0YShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFN0YXRpY0RhdGFDYWNoZURhdGEodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIGBzdGF0aWNfJHt0eXBlfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIGFkZCBiYWNrZ3JvdW5kQ29sb3JcbiAgICAvL3RvZG8gYWRkIEZydXN0dW0/XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbWVyYXtcbiAgICAgICAgQHJlcXVpcmVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmVudGl0eU9iamVjdCwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImVudGl0eU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBjYW1lcmFUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLmxvY2FsVG9Xb3JsZE1hdHJpeC5jb3B5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF93b3JsZFRvQ2FtZXJhTWF0cml4ID0gbnVsbDtcbiAgICAgICAgZ2V0IHdvcmxkVG9DYW1lcmFNYXRyaXgoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX3dvcmxkVG9DYW1lcmFNYXRyaXgpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JsZFRvQ2FtZXJhTWF0cml4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmFUb1dvcmxkTWF0cml4LmludmVydCgpO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3b3JsZFRvQ2FtZXJhTWF0cml4KG1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuX3dvcmxkVG9DYW1lcmFNYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9uZWFyOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBuZWFyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVhcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbmVhcihuZWFyOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9uZWFyID0gbmVhcjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFyOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBmYXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZhcihmYXI6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2ZhciA9IGZhcjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgcE1hdHJpeDpNYXRyaXg0ID0gTWF0cml4NC5jcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgZGlydHk6Ym9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIGNvbnZlcnRTY3JlZW5Ub1dvcmxkXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0IGEgcG9pbnQgZnJvbSAyRCBjYW52YXMgcGl4ZWwgc3BhY2UgdG8gM0Qgd29ybGQgc3BhY2UuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY3JlZW5YIHggY29vcmRpbmF0ZSBvbiBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjcmVlblkgeSBjb29yZGluYXRlIG9uIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2VGcm9tQ2FtZXJhIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjYW1lcmEgaW4gd29ybGQgc3BhY2UgdG8gY3JlYXRlIHRoZSBuZXcgcG9pbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtWZWN0b3IzfSBUaGUgd29ybGQgc3BhY2UgY29vcmRpbmF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIsIGRpc3RhbmNlRnJvbUNhbWVyYTpudW1iZXIpOlZlY3RvcjM7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgaWYodGhpcy5kaXJ0eSl7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICAgIHByb3RlY3RlZCBnZXRJbnZWaWV3UHJvak1hdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucE1hdHJpeC5jb3B5KCkubXVsdGlwbHkodGhpcy53b3JsZFRvQ2FtZXJhTWF0cml4KS5pbnZlcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgT3J0aG9ncmFwaGljQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhe1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbGVmdDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgbGVmdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxlZnQobGVmdDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JpZ2h0Om51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCByaWdodCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldCByaWdodChyaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmlnaHQgPSByaWdodDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYm90dG9tOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBib3R0b20oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJvdHRvbShib3R0b206bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbSA9IGJvdHRvbTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdG9wOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCB0b3AoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3A7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRvcCh0b3A6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IHRvcDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgY29udmVydFNjcmVlblRvV29ybGQoc2NyZWVuWDpudW1iZXIsIHNjcmVlblk6bnVtYmVyLCBkaXN0YW5jZUZyb21DYW1lcmE6bnVtYmVyKTpWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIGRldmljZTpEZXZpY2VNYW5hZ2VyID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZGV2aWNlLnZpZXcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGV2aWNlLnZpZXcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlID0gVmVjdG9yMy5jcmVhdGUoMiAqIHNjcmVlblggLyB3aWR0aCAtIDEsIChoZWlnaHQgLSBzY3JlZW5ZKSAvIGhlaWdodCAqIDIgLSAxLCAoZGlzdGFuY2VGcm9tQ2FtZXJhIC0gdGhpcy5mYXIpIC8gKHRoaXMuZmFyIC0gdGhpcy5uZWFyKSAqIDIgKyAxKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW52Vmlld1Byb2pNYXQoKS5tdWx0aXBseVBvaW50KG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7XG4gICAgICAgICAgICB0aGlzLnBNYXRyaXguc2V0T3J0aG8odGhpcy5fbGVmdCwgdGhpcy5fcmlnaHQsIHRoaXMuX2JvdHRvbSwgdGhpcy5fdG9wLCB0aGlzLm5lYXIsIHRoaXMuZmFyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBQZXJzcGVjdGl2ZUNhbWVyYSBleHRlbmRzIENhbWVyYXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2Zvdnk6bnVtYmVyPSBudWxsO1xuICAgICAgICBnZXQgZm92eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvdnk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZvdnkoZm92eTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZm92eSA9IGZvdnk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FzcGVjdDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgYXNwZWN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXNwZWN0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBhc3BlY3QoYXNwZWN0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB6b29tSW4oc3BlZWQ6bnVtYmVyLCBtaW46bnVtYmVyID0gMSl7XG4gICAgICAgICAgICB0aGlzLmZvdnkgPSBNYXRoLm1heCh0aGlzLmZvdnkgLSBzcGVlZCwgbWluKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgem9vbU91dChzcGVlZDpudW1iZXIsIG1heDpudW1iZXIgPSAxNzkpe1xuICAgICAgICAgICAgdGhpcy5mb3Z5ID0gTWF0aC5taW4odGhpcy5mb3Z5ICsgc3BlZWQsIG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udmVydFNjcmVlblRvV29ybGQoc2NyZWVuWDpudW1iZXIsIHNjcmVlblk6bnVtYmVyLCBkaXN0YW5jZUZyb21DYW1lcmE6bnVtYmVyKTpWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIGRldmljZTpEZXZpY2VNYW5hZ2VyID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZGV2aWNlLnZpZXcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGV2aWNlLnZpZXcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlID0gVmVjdG9yMy5jcmVhdGUoMiAqIHNjcmVlblggLyB3aWR0aCAtIDEsIDEgLSAyICogc2NyZWVuWSAvIGhlaWdodCwgMSksXG4gICAgICAgICAgICAgICAgaW52Vmlld1Byb2pNYXQgPSB0aGlzLmdldEludlZpZXdQcm9qTWF0KCksXG4gICAgICAgICAgICAgICAgcG9pbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHcgPSBudWxsO1xuXG4gICAgICAgICAgICBwb2ludCA9IGludlZpZXdQcm9qTWF0Lm11bHRpcGx5UG9pbnQobm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUpO1xuXG4gICAgICAgICAgICB3ID0gbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueCAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1szXSArXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueSAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1s3XSArXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueiAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1sxMV0gK1xuICAgICAgICAgICAgICAgIGludlZpZXdQcm9qTWF0LnZhbHVlc1sxNV07XG5cbiAgICAgICAgICAgIHBvaW50LnNjYWxlKDEgLyB3KTtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKCkubGVycCh0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sIHBvaW50LCBkaXN0YW5jZUZyb21DYW1lcmEgLyB0aGlzLmZhcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpe1xuICAgICAgICAgICAgdGhpcy5wTWF0cml4LnNldFBlcnNwZWN0aXZlKHRoaXMuX2ZvdnksIHRoaXMuX2FzcGVjdCwgdGhpcy5uZWFyLCB0aGlzLmZhcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1lcmFDb250cm9sbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjYW1lcmFUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmEuY2FtZXJhVG9Xb3JsZE1hdHJpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB3b3JsZFRvQ2FtZXJhTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmEud29ybGRUb0NhbWVyYU1hdHJpeDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgd29ybGRUb0NhbWVyYU1hdHJpeChtYXRyaXg6TWF0cml4NCl7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS53b3JsZFRvQ2FtZXJhTWF0cml4ID0gbWF0cml4O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHBNYXRyaXgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS5wTWF0cml4O1xuICAgICAgICB9XG4gICAgICAgIHNldCBwTWF0cml4KHBNYXRyaXg6TWF0cml4NCl7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5wTWF0cml4ID0gcE1hdHJpeDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0O1xuXG4gICAgICAgIHB1YmxpYyBjYW1lcmE6Q2FtZXJhID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmVudGl0eU9iamVjdCA9IDxHYW1lT2JqZWN0PnRoaXMuZW50aXR5T2JqZWN0O1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoUmF5KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIpOmJvb2xlYW57XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZighZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChDb2xsaWRlcikpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hhcGUgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcikuc2hhcGU7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFwZS5pc0ludGVyc2VjdFdpdGhSYXkodGhpcy5jcmVhdGVSYXkoc2NyZWVuWCwgc2NyZWVuWSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZVJheShzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGZyb20gPSB0aGlzLmNvbnZlcnRTY3JlZW5Ub1dvcmxkKHNjcmVlblgsIHNjcmVlblksIHRoaXMuY2FtZXJhLm5lYXIpLFxuICAgICAgICAgICAgICAgIHRvID0gdGhpcy5jb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLmNhbWVyYS5mYXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gUmF5LmNyZWF0ZShmcm9tLCB0by5zdWIoZnJvbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbnZlcnRTY3JlZW5Ub1dvcmxkKHNjcmVlblg6bnVtYmVyLCBzY3JlZW5ZOm51bWJlciwgZGlzdGFuY2VGcm9tQ2FtZXJhOm51bWJlcik6VmVjdG9yM3tcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS5jb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YLCBzY3JlZW5ZLCBkaXN0YW5jZUZyb21DYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFBsYW5lcygpOkFycmF5PFBsYW5lPiB7XG4gICAgICAgICAgICB2YXIgZnJ1c3R1bVBsYW5lcyA9IFtdLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUb0NhbWVyYU1hdHJpeC5hcHBseU1hdHJpeCh0aGlzLnBNYXRyaXgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGZydXN0dW1QbGFuZXMucHVzaChQbGFuZS5jcmVhdGUoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGFuZXModHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZydXN0dW1QbGFuZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRQbGFuZXModHJhbnNmb3JtOk1hdHJpeDQsIGZydXN0dW1QbGFuZXM6IEFycmF5PFBsYW5lPik6IHZvaWQge1xuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICByZWZlciB0byBodHRwOi8vZ2FtZWRldnMub3JnL3VwbG9hZHMvZmFzdC1leHRyYWN0aW9uLXZpZXdpbmctZnJ1c3R1bS1wbGFuZXMtZnJvbS13b3JsZC12aWV3LXByb2plY3Rpb24tbWF0cml4LnBkZlxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIC8vIE5lYXJcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMF0ubm9ybWFsLnggPSB0cmFuc2Zvcm0udmFsdWVzWzNdICsgdHJhbnNmb3JtLnZhbHVlc1syXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMF0ubm9ybWFsLnkgPSB0cmFuc2Zvcm0udmFsdWVzWzddICsgdHJhbnNmb3JtLnZhbHVlc1s2XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMF0ubm9ybWFsLnogPSB0cmFuc2Zvcm0udmFsdWVzWzExXSArIHRyYW5zZm9ybS52YWx1ZXNbMTBdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1swXS5kID0gdHJhbnNmb3JtLnZhbHVlc1sxNV0gKyB0cmFuc2Zvcm0udmFsdWVzWzE0XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMF0ubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIC8vIEZhclxuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1sxXS5ub3JtYWwueCA9IHRyYW5zZm9ybS52YWx1ZXNbM10gLSB0cmFuc2Zvcm0udmFsdWVzWzJdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1sxXS5ub3JtYWwueSA9IHRyYW5zZm9ybS52YWx1ZXNbN10gLSB0cmFuc2Zvcm0udmFsdWVzWzZdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1sxXS5ub3JtYWwueiA9IHRyYW5zZm9ybS52YWx1ZXNbMTFdIC0gdHJhbnNmb3JtLnZhbHVlc1sxMF07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzFdLmQgPSB0cmFuc2Zvcm0udmFsdWVzWzE1XSAtIHRyYW5zZm9ybS52YWx1ZXNbMTRdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1sxXS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgLy8gTGVmdFxuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1syXS5ub3JtYWwueCA9IHRyYW5zZm9ybS52YWx1ZXNbM10gKyB0cmFuc2Zvcm0udmFsdWVzWzBdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1syXS5ub3JtYWwueSA9IHRyYW5zZm9ybS52YWx1ZXNbN10gKyB0cmFuc2Zvcm0udmFsdWVzWzRdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1syXS5ub3JtYWwueiA9IHRyYW5zZm9ybS52YWx1ZXNbMTFdICsgdHJhbnNmb3JtLnZhbHVlc1s4XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMl0uZCA9IHRyYW5zZm9ybS52YWx1ZXNbMTVdICsgdHJhbnNmb3JtLnZhbHVlc1sxMl07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzJdLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAvLyBSaWdodFxuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1szXS5ub3JtYWwueCA9IHRyYW5zZm9ybS52YWx1ZXNbM10gLSB0cmFuc2Zvcm0udmFsdWVzWzBdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1szXS5ub3JtYWwueSA9IHRyYW5zZm9ybS52YWx1ZXNbN10gLSB0cmFuc2Zvcm0udmFsdWVzWzRdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1szXS5ub3JtYWwueiA9IHRyYW5zZm9ybS52YWx1ZXNbMTFdIC0gdHJhbnNmb3JtLnZhbHVlc1s4XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbM10uZCA9IHRyYW5zZm9ybS52YWx1ZXNbMTVdIC0gdHJhbnNmb3JtLnZhbHVlc1sxMl07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzNdLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAvLyBUb3BcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNF0ubm9ybWFsLnggPSB0cmFuc2Zvcm0udmFsdWVzWzNdIC0gdHJhbnNmb3JtLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNF0ubm9ybWFsLnkgPSB0cmFuc2Zvcm0udmFsdWVzWzddIC0gdHJhbnNmb3JtLnZhbHVlc1s1XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNF0ubm9ybWFsLnogPSB0cmFuc2Zvcm0udmFsdWVzWzExXSAtIHRyYW5zZm9ybS52YWx1ZXNbOV07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzRdLmQgPSB0cmFuc2Zvcm0udmFsdWVzWzE1XSAtIHRyYW5zZm9ybS52YWx1ZXNbMTNdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s0XS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgLy8gQm90dG9tXG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzVdLm5vcm1hbC54ID0gdHJhbnNmb3JtLnZhbHVlc1szXSArIHRyYW5zZm9ybS52YWx1ZXNbMV07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzVdLm5vcm1hbC55ID0gdHJhbnNmb3JtLnZhbHVlc1s3XSArIHRyYW5zZm9ybS52YWx1ZXNbNV07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzVdLm5vcm1hbC56ID0gdHJhbnNmb3JtLnZhbHVlc1sxMV0gKyB0cmFuc2Zvcm0udmFsdWVzWzldO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s1XS5kID0gdHJhbnNmb3JtLnZhbHVlc1sxNV0gKyB0cmFuc2Zvcm0udmFsdWVzWzEzXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNV0ubm9ybWFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBCYXNpY0NhbWVyYUNvbnRyb2xsZXIgZXh0ZW5kcyBDYW1lcmFDb250cm9sbGVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGNhbWVyYUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBGbHlDYW1lcmFDb250cm9sbGVyIGV4dGVuZHMgQ2FtZXJhQ29udHJvbGxlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhjYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSl7XG4gICAgICAgICAgICBzdXBlcihjYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICBpZihjYW1lcmFDb21wb25lbnQgaW5zdGFuY2VvZiBQZXJzcGVjdGl2ZUNhbWVyYSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbCA9IEZseVBlcnNwZWN0aXZlQ2FtZXJhQ29udHJvbC5jcmVhdGUoPFBlcnNwZWN0aXZlQ2FtZXJhPmNhbWVyYUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRyb2wgPSBGbHlPcnRob2dyYXBoaWNDYW1lcmFDb250cm9sLmNyZWF0ZSg8T3J0aG9ncmFwaGljQ2FtZXJhPmNhbWVyYUNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb250cm9sOkZseUNhbWVyYUNvbnRyb2wgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb250cm9sLmluaXQodGhpcy5lbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY29udHJvbC51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2wuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBkb2N1bWVudDphbnk7XG5cbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRmx5Q2FtZXJhQ29udHJvbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29tcG9uZW50ID0gY2FtZXJhQ29tcG9uZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1vdmVTcGVlZDpudW1iZXIgPSAxLjI7XG4gICAgICAgIHB1YmxpYyByb3RhdGVTcGVlZDpudW1iZXIgPSAxMDA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNhbWVyYUNvbXBvbmVudDpDYW1lcmEgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3JvdGF0ZVg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfcm90YXRlWTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIF9pc1JvdGF0ZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX21vdXNlRHJhZ1N1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2tleWRvd25TdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9nYW1lT2JqZWN0OkdhbWVPYmplY3QgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZXVsZXJBbmdsZXMgPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtLmV1bGVyQW5nbGVzO1xuXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGVYID0gZXVsZXJBbmdsZXMueDtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZVkgPSBldWxlckFuZ2xlcy55O1xuXG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0ID0gZW50aXR5T2JqZWN0O1xuXG4gICAgICAgICAgICB0aGlzLl9iaW5kQ2FudmFzRXZlbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lzUm90YXRlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2dhbWVPYmplY3QudHJhbnNmb3JtLmV1bGVyQW5nbGVzID0gVmVjdG9yMy5jcmVhdGUodGhpcy5fcm90YXRlWCwgdGhpcy5fcm90YXRlWSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgem9vbShldmVudDpLZXlib2FyZEV2ZW50KTtcblxuICAgICAgICBwcml2YXRlIF9tb3ZlKGV2ZW50OktleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzcGVlZCA9IHRoaXMubW92ZVNwZWVkLFxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdCA9IHRoaXMuX2dhbWVPYmplY3QsXG4gICAgICAgICAgICAgICAga2V5U3RhdGUgPSBldmVudC5rZXlTdGF0ZTtcblxuICAgICAgICAgICAgaWYgKGtleVN0YXRlW1wiYVwiXSB8fCBrZXlTdGF0ZVtcImxlZnRcIl0pIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnRyYW5zbGF0ZUxvY2FsKFZlY3RvcjMuY3JlYXRlKC1zcGVlZCwgMCwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihrZXlTdGF0ZVtcImRcIl0gfHwga2V5U3RhdGVbXCJyaWdodFwiXSkge1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0udHJhbnNsYXRlTG9jYWwoVmVjdG9yMy5jcmVhdGUoc3BlZWQsIDAsIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoa2V5U3RhdGVbXCJ3XCJdIHx8IGtleVN0YXRlW1widXBcIl0pIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnRyYW5zbGF0ZUxvY2FsKFZlY3RvcjMuY3JlYXRlKDAsIDAsIC1zcGVlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihrZXlTdGF0ZVtcInNcIl0gfHwga2V5U3RhdGVbXCJkb3duXCJdKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGVMb2NhbChWZWN0b3IzLmNyZWF0ZSgwLCAwLCBzcGVlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmluZENhbnZhc0V2ZW50KCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5yb3RhdGVTcGVlZCxcbiAgICAgICAgICAgICAgICBtb3VzZWRyYWcgPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX0RSQUcpLFxuICAgICAgICAgICAgICAgIGtleWRvd24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KEVFdmVudE5hbWUuS0VZRE9XTiksXG4gICAgICAgICAgICAgICAgY2FudmFzID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS52aWV3O1xuXG4gICAgICAgICAgICB0aGlzLl9tb3VzZURyYWdTdWJzY3JpcHRpb24gPSBtb3VzZWRyYWdcbiAgICAgICAgICAgICAgICAubWFwKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3ZlbWVudERlbHRhID0gZS51c2VyRGF0YS5tb3ZlbWVudERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yID0gcm90YXRlU3BlZWQgLyBjYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGR4ID0gZmFjdG9yICogbW92ZW1lbnREZWx0YS54O1xuICAgICAgICAgICAgICAgICAgICBkeSA9IGZhY3RvciAqIG1vdmVtZW50RGVsdGEueTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9pc1JvdGF0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4OiBkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5OiBkeVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAocG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3JvdGF0ZVkgLT0gcG9zLmR4O1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9yb3RhdGVYIC09IHBvcy5keTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbiA9IGtleWRvd24uc3Vic2NyaWJlKChlOktleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9tb3ZlKGUpO1xuICAgICAgICAgICAgICAgIHNlbGYuem9vbShlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlRXZlbnQoKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZURyYWdTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBGbHlQZXJzcGVjdGl2ZUNhbWVyYUNvbnRyb2wgZXh0ZW5kcyBGbHlDYW1lcmFDb250cm9sIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGNhbWVyYUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgem9vbVNwZWVkOm51bWJlciA9IDEwO1xuXG4gICAgICAgIHByb3RlY3RlZCBjYW1lcmFDb21wb25lbnQ6UGVyc3BlY3RpdmVDYW1lcmE7XG5cbiAgICAgICAgcHJvdGVjdGVkIHpvb20oZXZlbnQ6S2V5Ym9hcmRFdmVudCl7XG4gICAgICAgICAgICB2YXIgc3BlZWQgPSB0aGlzLnpvb21TcGVlZCxcbiAgICAgICAgICAgICAgICBrZXlTdGF0ZSA9IGV2ZW50LmtleVN0YXRlO1xuXG4gICAgICAgICAgICBpZiAoa2V5U3RhdGVbXCJnXCJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFDb21wb25lbnQuem9vbUluKHNwZWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleVN0YXRlW1wiaFwiXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29tcG9uZW50Lnpvb21PdXQoc3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmx5T3J0aG9ncmFwaGljQ2FtZXJhQ29udHJvbCBleHRlbmRzIEZseUNhbWVyYUNvbnRyb2wge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjYW1lcmFDb21wb25lbnQ6Q2FtZXJhKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoY2FtZXJhQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB6b29tKGV2ZW50OktleWJvYXJkRXZlbnQpe1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueSxcbiAgICAgICAgZG9jdW1lbnQ6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEFyY2JhbGxDYW1lcmFDb250cm9sbGVyIGV4dGVuZHMgQ2FtZXJhQ29udHJvbGxlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhjYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1vdmVTcGVlZFg6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIG1vdmVTcGVlZFk6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIHJvdGF0ZVNwZWVkOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZTpudW1iZXIgPSAxMDtcbiAgICAgICAgcHVibGljIHBoaTpudW1iZXIgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgcHVibGljIHRoZXRhOm51bWJlciA9IE1hdGguUEkgLyAyO1xuICAgICAgICBwdWJsaWMgdGFyZ2V0OlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIHRoZXRhTWFyZ2luID0gMC4wNTtcbiAgICAgICAgcHVibGljIG1pbkRpc3RhbmNlOm51bWJlciA9IDAuMDU7XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDaGFuZ2U6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgX21vdXNlRHJhZ1N1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21vdXNlV2hlZWxTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9rZXlkb3duU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fYmluZENhbnZhc0V2ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgWD0gcipjb3MocGhpKSpzaW4odGhldGEpO1xuICAgICAgICAgICAgIFo9IHIqc2luKHBoaSkqc2luKHRoZXRhKTtcbiAgICAgICAgICAgICBZPSByKmNvcyh0aGV0YSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciB4ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB6ID0gbnVsbDtcblxuICAgICAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX2lzQ2hhbmdlKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHggPSAoKHRoaXMuZGlzdGFuY2UpICogTWF0aC5jb3ModGhpcy5waGkpICogTWF0aC5zaW4odGhpcy50aGV0YSkgKyB0aGlzLnRhcmdldC54KTtcbiAgICAgICAgICAgIHogPSAoKHRoaXMuZGlzdGFuY2UpICogTWF0aC5zaW4odGhpcy5waGkpICogTWF0aC5zaW4odGhpcy50aGV0YSkgKyB0aGlzLnRhcmdldC56KTtcbiAgICAgICAgICAgIHkgPSAoKHRoaXMuZGlzdGFuY2UpICogTWF0aC5jb3ModGhpcy50aGV0YSkgKyB0aGlzLnRhcmdldC55KTtcblxuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5jcmVhdGUoeCwgeSwgeik7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ubG9va0F0KHRoaXMudGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHRyZWF0IHBpY2tlZCBpdGVtIGFzIHRoZSB0YXJnZXRcbiAgICAgICAgcHJpdmF0ZSBfYmluZENhbnZhc0V2ZW50KCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG1vdXNld2hlZWwgPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX1dIRUVMKSxcbiAgICAgICAgICAgICAgICBtb3VzZWRyYWcgPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX0RSQUcpLFxuICAgICAgICAgICAga2V5ZG93biA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5LRVlET1dOKTtcblxuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uID0gbW91c2VkcmFnLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NoYW5nZU9yYml0KGUudXNlckRhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdXNlV2hlZWxTdWJzY3JpcHRpb24gPSBtb3VzZXdoZWVsLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtb3VzZUV2ZW50Ok1vdXNlRXZlbnQgPSBlLnVzZXJEYXRhO1xuXG4gICAgICAgICAgICAgICAgbW91c2VFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2hhbmdlRGlzdGFuY2UobW91c2VFdmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbiA9IGtleWRvd24uc3Vic2NyaWJlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2hhbmdlVGFyZ2V0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGFuZ2VPcmJpdChlOk1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBtb3ZlbWVudERlbHRhID0gZS5tb3ZlbWVudERlbHRhO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0NoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMucGhpICs9IG1vdmVtZW50RGVsdGEueCAvICgxMDAgLyB0aGlzLnJvdGF0ZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudGhldGEgLT0gbW92ZW1lbnREZWx0YS55IC8gKDEwMCAvIHRoaXMucm90YXRlU3BlZWQpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb250cmFpblRoZXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGFuZ2VUYXJnZXQoZTpLZXlib2FyZEV2ZW50KXtcbiAgICAgICAgICAgIHZhciBtb3ZlU3BlZWRYID0gdGhpcy5tb3ZlU3BlZWRYLFxuICAgICAgICAgICAgICAgIG1vdmVTcGVlZFkgPSB0aGlzLm1vdmVTcGVlZFksXG4gICAgICAgICAgICAgICAgZHggPSBudWxsLFxuICAgICAgICAgICAgICAgIGR5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBrZXlTdGF0ZSA9IGUua2V5U3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0NoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChrZXlTdGF0ZVtcImFcIl0gfHwga2V5U3RhdGVbXCJsZWZ0XCJdKSB7XG4gICAgICAgICAgICAgICAgZHggPSAtbW92ZVNwZWVkWDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoa2V5U3RhdGVbXCJkXCJdIHx8IGtleVN0YXRlW1wicmlnaHRcIl0pIHtcbiAgICAgICAgICAgICAgICBkeCA9IG1vdmVTcGVlZFg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGtleVN0YXRlW1wid1wiXSB8fCBrZXlTdGF0ZVtcInVwXCJdKSB7XG4gICAgICAgICAgICAgICAgZHkgPSBtb3ZlU3BlZWRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihrZXlTdGF0ZVtcInNcIl0gfHwga2V5U3RhdGVbXCJkb3duXCJdKSB7XG4gICAgICAgICAgICAgICAgZHkgPSAtbW92ZVNwZWVkWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50YXJnZXQuYWRkKFZlY3RvcjMuY3JlYXRlKHRyYW5zZm9ybS5yaWdodC54ICogKGR4KSwgMCwgdHJhbnNmb3JtLnJpZ2h0LnogKiAoZHgpKSk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGQoVmVjdG9yMy5jcmVhdGUodHJhbnNmb3JtLnVwLnggKiBkeSwgdHJhbnNmb3JtLnVwLnkgKiBkeSwgMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hhbmdlRGlzdGFuY2UoZTpNb3VzZUV2ZW50KXtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSAtPSBlLndoZWVsO1xuICAgICAgICAgICAgdGhpcy5fY29udHJhaW5EaXN0YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udHJhaW5EaXN0YW5jZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBNYXRoVXRpbHMuYmlnVGhhbih0aGlzLmRpc3RhbmNlLCB0aGlzLm1pbkRpc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnRyYWluVGhldGEoKSB7XG4gICAgICAgICAgICB0aGlzLnRoZXRhID0gTWF0aFV0aWxzLmNsYW1wKHRoaXMudGhldGEsIHRoaXMudGhldGFNYXJnaW4sIE1hdGguUEkgLSB0aGlzLnRoZXRhTWFyZ2luKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZUV2ZW50KCkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlV2hlZWxTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdGlvbiBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgZ2V0IGlzU3RhcnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuaXNTdG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzU3RvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uQUJTVFJBQ1RfQVRUUklCVVRFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc1BhdXNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5BQlNUUkFDVF9BVFRSSUJVVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdGFyZ2V0OkVudGl0eU9iamVjdCA9IG51bGw7XG4gICAgICAgIGdldCB0YXJnZXQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBfdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHNldCB0YXJnZXQodGFyZ2V0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLnBfdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRmluaXNoOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgICAgICAgICB0aGlzLmlzRmluaXNoID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHN0YXJ0KCk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHN0b3AoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcGF1c2UoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmVzdW1lKCk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNvcHkoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmV2ZXJzZSgpO1xuXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyLmFkZFRvT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZW50aXR5T2JqZWN0O1xuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFjdGlvbk1hbmFnZXIuYWRkQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyLnJlbW92ZUZyb21PYmplY3QoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFjdGlvbk1hbmFnZXIucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGZpbmlzaCgpe1xuICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdGlvbkluc3RhbnQgZXh0ZW5kcyBBY3Rpb24ge1xuICAgICAgICBnZXQgaXNTdG9wKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzUGF1c2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKSB7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYWxsRnVuYyBleHRlbmRzIEFjdGlvbkluc3RhbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGZ1bmM6RnVuY3Rpb24sIGNvbnRleHQ6YW55LCAuLi5kYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGF0YUFyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gbmV3IHRoaXMoZnVuYywgY29udGV4dCwgZGF0YUFycik7XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihmdW5jOkZ1bmN0aW9uLCBjb250ZXh0OmFueSwgZGF0YUFycjpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0IHx8IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRnVuYyA9IGZ1bmM7XG4gICAgICAgICAgICB0aGlzLl9kYXRhQXJyID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KGRhdGFBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udGV4dDphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jYWxsRnVuYzpGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2RhdGFBcnI6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbGxGdW5jKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmMuY2FsbCh0aGlzLl9jb250ZXh0LCB0aGlzLnBfdGFyZ2V0LCB0aGlzLl9kYXRhQXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FsbEZ1bmModGhpcy5fY29udGV4dCwgdGhpcy5fY2FsbEZ1bmMsIHRoaXMuX2RhdGFBcnIuY29weSh0cnVlKS5nZXRDaGlsZHJlbigpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uSW50ZXJ2YWwgZXh0ZW5kcyBBY3Rpb257XG4gICAgICAgIHByb3RlY3RlZCBlbGFwc2VkOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBkdXJhdGlvbjpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2lzU3RvcDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBfaXNQYXVzZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX3RpbWVDb250cm9sbGVyOkNvbW1vblRpbWVDb250cm9sbGVyID0gQ29tbW9uVGltZUNvbnRyb2xsZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgZ2V0IGlzU3RvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1N0b3A7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNQYXVzZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1BhdXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSB0aGlzLl9jb252ZXJ0VG9SYXRpbyh0aGlzLl90aW1lQ29udHJvbGxlci5jb21wdXRlRWxhcHNlVGltZShlbGFwc2VkVGltZSkpO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJvZHkoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGFwc2VkID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICAgICAgdGhpcy5faXNTdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lzU3RvcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCl7XG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl90aW1lQ29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVCb2R5KHRpbWU6bnVtYmVyKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb1JhdGlvKGVsYXBzZWQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGVsYXBzZWQgLyB0aGlzLmR1cmF0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gcmF0aW8gPiAxID8gMSA6IHJhdGlvO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgQWN0aW9uSW50ZXJ2YWx7XG4gICAgICAgIHNldCB0YXJnZXQodGFyZ2V0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLnBfdGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLmdldElubmVyQWN0aW9ucygpLmZvckVhY2goKGFjdGlvbjpBY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SW5uZXJBY3Rpb25zKCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcImluaXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmV2ZXJzZSgpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJldmVyc2VcIik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICAgICAgc3VwZXIucmVzZXQoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwicmVzZXRcIik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGl0ZXJhdGUobWV0aG9kOnN0cmluZywgYXJnQXJyPzpBcnJheTxhbnk+KSB7XG4gICAgICAgICAgICB0aGlzLmdldElubmVyQWN0aW9ucygpLmZvckVhY2goKGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGlvblttZXRob2RdLmFwcGx5KGFjdGlvbiwgYXJnQXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTZXF1ZW5jZSBleHRlbmRzIENvbnRyb2x7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZSA9IG51bGw7XG5cbiAgICAgICAgICAgIExvZy5hc3NlcnQoYXJncy5sZW5ndGggPj0gMiwgXCJTZXF1ZW5jZSBzaG91bGQgaGFzIHR3byBhY3Rpb25zIGF0IGxlYXN0XCIpO1xuXG4gICAgICAgICAgICBzZXF1ZW5jZSA9IG5ldyB0aGlzKGFyZ3MpO1xuXG4gICAgICAgICAgICBzZXF1ZW5jZS5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VxdWVuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb25BcnI6QXJyYXk8QWN0aW9uPil7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmFkZENoaWxkcmVuKGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hY3Rpb25zOndkQ2IuQ29sbGVjdGlvbjxBY3Rpb24+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBY3Rpb24+KCk7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRBY3Rpb246QWN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYWN0aW9uSW5kZXg6bnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uID0gdGhpcy5fYWN0aW9ucy5nZXRDaGlsZCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb25JbmRleCA9PT0gdGhpcy5fYWN0aW9ucy5nZXRDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBY3Rpb24gPSB0aGlzLl9hY3Rpb25zLmdldENoaWxkKHRoaXMuX2FjdGlvbkluZGV4KTtcblxuICAgICAgICAgICAgaWYodGhpcy5fY3VycmVudEFjdGlvbi5pc0ZpbmlzaCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnROZXh0QWN0aW9uQW5kSnVkZ2VGaW5pc2goKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGlvbi51cGRhdGUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50QWN0aW9uLmlzRmluaXNoKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydE5leHRBY3Rpb25BbmRKdWRnZUZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbkFyciA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGlvbkFyci5wdXNoKGFjdGlvbi5jb3B5KCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTZXF1ZW5jZS5jcmVhdGUuYXBwbHkoU2VxdWVuY2UsIGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25JbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uID0gdGhpcy5fYWN0aW9ucy5nZXRDaGlsZCh0aGlzLl9hY3Rpb25JbmRleCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCkge1xuICAgICAgICAgICAgc3VwZXIuc3RhcnQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGlvbi5zdGFydCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICAgICAgc3VwZXIuc3RvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnN0b3AoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICBzdXBlci5wYXVzZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc3VtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnJlc3VtZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucyA9IHRoaXMuX2FjdGlvbnMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBzdXBlci5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc3RhcnROZXh0QWN0aW9uQW5kSnVkZ2VGaW5pc2goKXtcbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbkluZGV4ICsrO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uSW5kZXggPT09IHRoaXMuX2FjdGlvbnMuZ2V0Q291bnQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmdldENoaWxkKHRoaXMuX2FjdGlvbkluZGV4KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTcGF3biBleHRlbmRzIENvbnRyb2x7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBzcGF3biA9IG51bGw7XG5cbiAgICAgICAgICAgIExvZy5hc3NlcnQoYXJncy5sZW5ndGggPj0gMiwgXCJTZXF1ZW5jZSBzaG91bGQgaGFzIHR3byBhY3Rpb25zIGF0IGxlYXN0XCIpO1xuXG4gICAgICAgICAgICBzcGF3biA9IG5ldyB0aGlzKGFyZ3MpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3Bhd247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb25BcnI6QXJyYXk8QWN0aW9uPil7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmFkZENoaWxkcmVuKGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hY3Rpb25zOndkQ2IuQ29sbGVjdGlvbjxBY3Rpb24+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBY3Rpb24+KCk7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRmluaXNoKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwidXBkYXRlXCIsIFtlbGFwc2VkVGltZV0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNGaW5pc2goKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZXJhdGUoXCJzdGFydFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0b3AoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwic3RvcFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICBzdXBlci5wYXVzZSgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZXJhdGUoXCJwYXVzZVwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCkge1xuICAgICAgICAgICAgc3VwZXIucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJlc3VtZVwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbi5jb3B5KCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gU3Bhd24uY3JlYXRlLmFwcGx5KFNwYXduLCBhY3Rpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJlc2V0XCIpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucyA9IHRoaXMuX2FjdGlvbnMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBzdXBlci5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGl0ZXJhdGUobWV0aG9kOnN0cmluZywgYXJnQXJyPzpBcnJheTxhbnk+KSB7XG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmZvckVhY2goKGFjdGlvbjpBY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBhY3Rpb25bbWV0aG9kXS5hcHBseShhY3Rpb24sIGFyZ0Fycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzRmluaXNoKCkge1xuICAgICAgICAgICAgdmFyIGlzRmluaXNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucy5mb3JFYWNoKChhY3Rpb246QWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3Rpb24uaXNGaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNGaW5pc2g7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIERlbGF5VGltZSBleHRlbmRzIEFjdGlvbkludGVydmFsIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZGVsYXlUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyB0aGlzKGRlbGF5VGltZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihkZWxheVRpbWU6bnVtYmVyKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGVsYXlUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJldmVyc2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIERlbGF5VGltZS5jcmVhdGUodGhpcy5kdXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUmVwZWF0IGV4dGVuZHMgQ29udHJvbCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFjdGlvbjpBY3Rpb24sIHRpbWVzOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIHJlcGVhdCA9IG5ldyB0aGlzKGFjdGlvbiwgdGltZXMpO1xuXG4gICAgICAgICAgICByZXBlYXQuaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlcGVhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGFjdGlvbjpBY3Rpb24sIHRpbWVzOm51bWJlcikge1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24gPSBhY3Rpb247XG4gICAgICAgICAgICB0aGlzLl90aW1lcyA9IHRpbWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5uZXJBY3Rpb246QWN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb3JpZ2luVGltZXM6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdGltZXM6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5UaW1lcyA9IHRoaXMuX3RpbWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnVwZGF0ZShlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lckFjdGlvbi5pc0ZpbmlzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVzIC09IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGltZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24uc3RhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXBlYXQuY3JlYXRlKHRoaXMuX2lubmVyQWN0aW9uLmNvcHkoKSwgdGhpcy5fdGltZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICAgICAgc3VwZXIucmVzZXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fdGltZXMgPSB0aGlzLl9vcmlnaW5UaW1lcztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbi5zdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKSB7XG4gICAgICAgICAgICBzdXBlci5zdG9wKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgICAgIHN1cGVyLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCkge1xuICAgICAgICAgICAgc3VwZXIucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEFjdGlvbj4oW3RoaXMuX2lubmVyQWN0aW9uXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFJlcGVhdEZvcmV2ZXIgZXh0ZW5kcyBDb250cm9sIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYWN0aW9uOkFjdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlcGVhdCA9IG5ldyB0aGlzKGFjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb246QWN0aW9uKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lubmVyQWN0aW9uOkFjdGlvbiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24udXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lubmVyQWN0aW9uLmlzRmluaXNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbi5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVwZWF0Rm9yZXZlci5jcmVhdGUodGhpcy5faW5uZXJBY3Rpb24uY29weSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnN0YXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0b3AoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24uc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhdXNlKCkge1xuICAgICAgICAgICAgc3VwZXIucGF1c2UoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucGF1c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKSB7XG4gICAgICAgICAgICBzdXBlci5yZXN1bWUoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0SW5uZXJBY3Rpb25zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8QWN0aW9uPihbdGhpcy5faW5uZXJBY3Rpb25dKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIC8qISByZWZlcmVuY2VkIGZyb206XG4gICAgIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFR3ZWVuIGV4dGVuZHMgQWN0aW9uSW50ZXJ2YWwge1xuICAgICAgICBwdWJsaWMgc3RhdGljIEVhc2luZyA9IHtcbiAgICAgICAgICAgIExpbmVhcjoge1xuXG4gICAgICAgICAgICAgICAgTm9uZTogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVhZHJhdGljOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gayAqIGs7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICogKCAyIC0gayApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIDAuNSAqIGsgKiBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICggLS1rICogKCBrIC0gMiApIC0gMSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDdWJpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogaztcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0tayAqIGsgKiBrICsgMTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBJbk91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBrICogayAqIGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoICggayAtPSAyICkgKiBrICogayArIDIgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVhcnRpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogayAqIGs7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC0gKCAtLWsgKiBrICogayAqIGsgKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBJbk91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBrICogayAqIGsgKiBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICggKCBrIC09IDIgKSAqIGsgKiBrICogayAtIDIgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVpbnRpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogayAqIGsgKiBrO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIE91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLS1rICogayAqIGsgKiBrICogayArIDE7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgSW5PdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCggayAqPSAyICkgPCAxKSByZXR1cm4gMC41ICogayAqIGsgKiBrICogayAqIGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoICggayAtPSAyICkgKiBrICogayAqIGsgKiBrICsgMiApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBTaW51c29pZGFsOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMSAtIE1hdGguY29zKGsgKiBNYXRoLlBJIC8gMik7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNpbihrICogTWF0aC5QSSAvIDIpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIDEgLSBNYXRoLmNvcyhNYXRoLlBJICogaykgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgRXhwb25lbnRpYWw6IHtcblxuICAgICAgICAgICAgICAgIEluOiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrID09PSAwID8gMCA6IE1hdGgucG93KDEwMjQsIGsgLSAxKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIGspO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDEpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIC1NYXRoLnBvdygyLCAtMTAgKiAoIGsgLSAxICkpICsgMiApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDaXJjdWxhcjoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIGsgKiBrKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgxIC0gKCAtLWsgKiBrICkpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIC0wLjUgKiAoIE1hdGguc3FydCgxIC0gayAqIGspIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIE1hdGguc3FydCgxIC0gKCBrIC09IDIpICogaykgKyAxKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgRWxhc3RpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMsIGEgPSAwLjEsIHAgPSAwLjQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDEpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWEgfHwgYSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcyA9IHAgKiBNYXRoLmFzaW4oMSAvIGEpIC8gKCAyICogTWF0aC5QSSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLSggYSAqIE1hdGgucG93KDIsIDEwICogKCBrIC09IDEgKSkgKiBNYXRoLnNpbigoIGsgLSBzICkgKiAoIDIgKiBNYXRoLlBJICkgLyBwKSApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIE91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcywgYSA9IDAuMSwgcCA9IDAuNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDApIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMSkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYSB8fCBhIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gcCAvIDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBzID0gcCAqIE1hdGguYXNpbigxIC8gYSkgLyAoIDIgKiBNYXRoLlBJICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoIGEgKiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKCggayAtIHMgKSAqICggMiAqIE1hdGguUEkgKSAvIHApICsgMSApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzLCBhID0gMC4xLCBwID0gMC40O1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAxKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhIHx8IGEgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHMgPSBwICogTWF0aC5hc2luKDEgLyBhKSAvICggMiAqIE1hdGguUEkgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCggayAqPSAyICkgPCAxKSByZXR1cm4gLTAuNSAqICggYSAqIE1hdGgucG93KDIsIDEwICogKCBrIC09IDEgKSkgKiBNYXRoLnNpbigoIGsgLSBzICkgKiAoIDIgKiBNYXRoLlBJICkgLyBwKSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICggayAtPSAxICkpICogTWF0aC5zaW4oKCBrIC0gcyApICogKCAyICogTWF0aC5QSSApIC8gcCkgKiAwLjUgKyAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBCYWNrOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICogayAqICggKCBzICsgMSApICogayAtIHMgKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLS1rICogayAqICggKCBzICsgMSApICogayArIHMgKSArIDE7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgSW5PdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4ICogMS41MjU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIDAuNSAqICggayAqIGsgKiAoICggcyArIDEgKSAqIGsgLSBzICkgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqICggKCBrIC09IDIgKSAqIGsgKiAoICggcyArIDEgKSAqIGsgKyBzICkgKyAyICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEJvdW5jZToge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLSBUd2Vlbi5FYXNpbmcuQm91bmNlLk91dCgxIC0gayk7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrIDwgKCAxIC8gMi43NSApKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA3LjU2MjUgKiBrICogaztcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPCAoIDIgLyAyLjc1ICkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDEuNSAvIDIuNzUgKSApICogayArIDAuNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrIDwgKCAyLjUgLyAyLjc1ICkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDIuMjUgLyAyLjc1ICkgKSAqIGsgKyAwLjkzNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDIuNjI1IC8gMi43NSApICkgKiBrICsgMC45ODQzNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrIDwgMC41KSByZXR1cm4gVHdlZW4uRWFzaW5nLkJvdW5jZS5JbihrICogMikgKiAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2Vlbi5FYXNpbmcuQm91bmNlLk91dChrICogMiAtIDEpICogMC41ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIEludGVycG9sYXRpb24gPSB7XG4gICAgICAgICAgICBMaW5lYXI6IGZ1bmN0aW9uICh2LCBrKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbSA9IHYubGVuZ3RoIC0gMSwgZiA9IG0gKiBrLCBpID0gTWF0aC5mbG9vcihmKSwgZm4gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLlV0aWxzLkxpbmVhcjtcblxuICAgICAgICAgICAgICAgIGlmIChrIDwgMCkgcmV0dXJuIGZuKHZbMF0sIHZbMV0sIGYpO1xuICAgICAgICAgICAgICAgIGlmIChrID4gMSkgcmV0dXJuIGZuKHZbbV0sIHZbbSAtIDFdLCBtIC0gZik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odltpXSwgdltpICsgMSA+IG0gPyBtIDogaSArIDFdLCBmIC0gaSk7XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEJlemllcjogZnVuY3Rpb24gKHYsIGspIHtcblxuICAgICAgICAgICAgICAgIHZhciBiID0gMCwgbiA9IHYubGVuZ3RoIC0gMSwgcHcgPSBNYXRoLnBvdywgYm4gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLlV0aWxzLkJlcm5zdGVpbiwgaTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPD0gbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGIgKz0gcHcoMSAtIGssIG4gLSBpKSAqIHB3KGssIGkpICogdltpXSAqIGJuKG4sIGkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDYXRtdWxsUm9tOiBmdW5jdGlvbiAodiwgaykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG0gPSB2Lmxlbmd0aCAtIDEsIGYgPSBtICogaywgaSA9IE1hdGguZmxvb3IoZiksIGZuID0gVHdlZW4uSW50ZXJwb2xhdGlvbi5VdGlscy5DYXRtdWxsUm9tO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZbMF0gPT09IHZbbV0pIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoayA8IDApIGkgPSBNYXRoLmZsb29yKGYgPSBtICogKCAxICsgayApKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4odlsoIGkgLSAxICsgbSApICUgbV0sIHZbaV0sIHZbKCBpICsgMSApICUgbV0sIHZbKCBpICsgMiApICUgbV0sIGYgLSBpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPCAwKSByZXR1cm4gdlswXSAtICggZm4odlswXSwgdlswXSwgdlsxXSwgdlsxXSwgLWYpIC0gdlswXSApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA+IDEpIHJldHVybiB2W21dIC0gKCBmbih2W21dLCB2W21dLCB2W20gLSAxXSwgdlttIC0gMV0sIGYgLSBtKSAtIHZbbV0gKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4odltpID8gaSAtIDEgOiAwXSwgdltpXSwgdlttIDwgaSArIDEgPyBtIDogaSArIDFdLCB2W20gPCBpICsgMiA/IG0gOiBpICsgMl0sIGYgLSBpKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgVXRpbHM6IHtcblxuICAgICAgICAgICAgICAgIExpbmVhcjogZnVuY3Rpb24gKHAwLCBwMSwgdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoIHAxIC0gcDAgKSAqIHQgKyBwMDtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBCZXJuc3RlaW46IGZ1bmN0aW9uIChuLCBpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZjID0gVHdlZW4uSW50ZXJwb2xhdGlvbi5VdGlscy5GYWN0b3JpYWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYyhuKSAvIGZjKGkpIC8gZmMobiAtIGkpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEZhY3RvcmlhbDogKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IFsxXTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG4pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLCBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFbbl0pIHJldHVybiBhW25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gbjsgaSA+IDE7IGktLSkgcyAqPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbbl0gPSBzO1xuXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9KSgpLFxuXG4gICAgICAgICAgICAgICAgQ2F0bXVsbFJvbTogZnVuY3Rpb24gKHAwLCBwMSwgcDIsIHAzLCB0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHYwID0gKCBwMiAtIHAwICkgKiAwLjUsIHYxID0gKCBwMyAtIHAxICkgKiAwLjUsIHQyID0gdCAqIHQsIHQzID0gdCAqIHQyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCAyICogcDEgLSAyICogcDIgKyB2MCArIHYxICkgKiB0MyArICggLTMgKiBwMSArIDMgKiBwMiAtIDIgKiB2MCAtIHYxICkgKiB0MiArIHYwICogdCArIHAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb2JqZWN0OndkQ2IuSGFzaDxhbnk+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdmFsdWVzU3RhcnQ6d2RDYi5IYXNoPGFueT4gPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHJpdmF0ZSBfdmFsdWVzRW5kOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHByaXZhdGUgX2Vhc2luZ0Z1bmN0aW9uID0gVHdlZW4uRWFzaW5nLkxpbmVhci5Ob25lO1xuICAgICAgICBwcml2YXRlIF9pbnRlcnBvbGF0aW9uRnVuY3Rpb24gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLkxpbmVhcjtcbiAgICAgICAgcHJpdmF0ZSBfb25TdGFydENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb25TdGFydENhbGxiYWNrRmlyZWQgPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfb25VcGRhdGVDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX29uRmluaXNoQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9vblN0b3BDYWxsYmFjayA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUJvZHkodGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBlYXNlVmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWQgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25TdGFydENhbGxiYWNrICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVhc2VWYWx1ZSA9IHRoaXMuX2Vhc2luZ0Z1bmN0aW9uKHRoaXMuZWxhcHNlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZC5mb3JFYWNoKCh2YWx1ZTphbnksIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBzZWxmLl92YWx1ZXNTdGFydC5nZXRDaGlsZChrZXkpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChlbmQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9vYmplY3Quc2V0VmFsdWUoa2V5LCBzZWxmLl9pbnRlcnBvbGF0aW9uRnVuY3Rpb24oZW5kLCBlYXNlVmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlcyByZWxhdGl2ZSBlbmQgdmFsdWVzIHdpdGggc3RhcnQgYXMgYmFzZSAoZS5nLjogKzEwLCAtMylcbiAgICAgICAgICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNTdHJpbmcoZW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gc3RhcnQgKyByb290LnBhcnNlRmxvYXQoZW5kLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBwcm90ZWN0IGFnYWluc3Qgbm9uIG51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNOdW1iZXIoZW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2JqZWN0LnNldFZhbHVlKGtleSwgc3RhcnQgKyAoIGVuZCAtIHN0YXJ0ICkgKiBlYXNlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgaWYgKCB0aGlzLl9vblVwZGF0ZUNhbGxiYWNrICE9PSBudWxsICkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLl9vYmplY3QuZ2V0Q2hpbGRyZW4oKSwgZWFzZVZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZnJvbShvYmplY3Q6YW55KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PihvYmplY3QpO1xuXG4gICAgICAgICAgICAvLyBTZXQgYWxsIHN0YXJ0aW5nIHZhbHVlcyBwcmVzZW50IG9uIHRoZSB0YXJnZXQgb2JqZWN0XG4gICAgICAgICAgICB0aGlzLl9vYmplY3QuZm9yRWFjaCgodmFsdWU6YW55LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fdmFsdWVzU3RhcnQuYWRkQ2hpbGQoa2V5LCByb290LnBhcnNlRmxvYXQodmFsdWUsIDEwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG8ocHJvcGVydGllczphbnksIGR1cmF0aW9uOm51bWJlciA9IDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZCA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55Pihwcm9wZXJ0aWVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZC5mb3JFYWNoKCh2YWx1ZTphbnksIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhbiBBcnJheSB3YXMgcHJvdmlkZWQgYXMgcHJvcGVydHkgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGxvY2FsIGNvcHkgb2YgdGhlIEFycmF5IHdpdGggdGhlIHN0YXJ0IHZhbHVlIGF0IHRoZSBmcm9udFxuICAgICAgICAgICAgICAgICAgICBzZWxmLl92YWx1ZXNFbmQuc2V0VmFsdWUoa2V5LCBbc2VsZi5fb2JqZWN0LmdldENoaWxkKGtleSldLmNvbmNhdChzZWxmLl92YWx1ZXNFbmQuZ2V0Q2hpbGQoa2V5KSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuX3ZhbHVlc1N0YXJ0LnNldFZhbHVlKGtleSwgc2VsZi5fb2JqZWN0LmdldENoaWxkKGtleSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCggc2VsZi5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGQoa2V5KSBpbnN0YW5jZW9mIEFycmF5ICkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3ZhbHVlc1N0YXJ0LnNldFZhbHVlKGtleSwgc2VsZi5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGQoa2V5KSAqIDEuMCk7IC8vIEVuc3VyZXMgd2UncmUgdXNpbmcgbnVtYmVycywgbm90IHN0cmluZ3NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKSB7XG4gICAgICAgICAgICBzdXBlci5zdG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vblN0b3BDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uU3RvcENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFR3ZWVuLmNyZWF0ZSgpLmZyb20odGhpcy5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGRyZW4oKSlcbiAgICAgICAgICAgIC50byh0aGlzLl92YWx1ZXNFbmQuZ2V0Q2hpbGRyZW4oKSwgdGhpcy5kdXJhdGlvbilcbiAgICAgICAgICAgICAgICAuZWFzaW5nKHRoaXMuX2Vhc2luZ0Z1bmN0aW9uKVxuICAgICAgICAgICAgICAgIC5pbnRlcnBvbGF0aW9uKHRoaXMuX2ludGVycG9sYXRpb25GdW5jdGlvbilcbiAgICAgICAgICAgICAgICAub25TdGFydCh0aGlzLl9vblN0YXJ0Q2FsbGJhY2spXG4gICAgICAgICAgICAgICAgLm9uU3RvcCh0aGlzLl9vblN0b3BDYWxsYmFjaylcbiAgICAgICAgICAgICAgICAub25GaW5pc2godGhpcy5fb25GaW5pc2hDYWxsYmFjaylcbiAgICAgICAgICAgICAgICAub25VcGRhdGUodGhpcy5fb25VcGRhdGVDYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmV2ZXJzZSgpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLl92YWx1ZXNTdGFydDtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWVzU3RhcnQgPSB0aGlzLl92YWx1ZXNFbmQ7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZXNFbmQgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZWFzaW5nKGVhc2luZykge1xuICAgICAgICAgICAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmc7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJwb2xhdGlvbkZ1bmN0aW9uID0gaW50ZXJwb2xhdGlvbjtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25VcGRhdGUoY2FsbGJhY2s6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25GaW5pc2goY2FsbGJhY2s6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29uRmluaXNoQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25TdGFydChjYWxsYmFjazpGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RvcChjYWxsYmFjazpGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb25TdG9wQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZmluaXNoKCl7XG4gICAgICAgICAgICBzdXBlci5maW5pc2goKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRmluaXNoQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkZpbmlzaENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCByZW5kZXIocmVuZGVyZXI6UmVuZGVyZXIsIGdlb21ldHJ5Okdlb21ldHJ5LCBjYW1lcmE6R2FtZU9iamVjdCk7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBNZXNoUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlckNvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmVuZGVyZXIuYWRkQ29tbWFuZCh0aGlzLmNyZWF0ZURyYXdDb21tYW5kKHJlbmRlcmVyLCBnZW9tZXRyeSwgY2FtZXJhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihyZW5kZXJlcjpSZW5kZXJlciwgZ2VvbWV0cnk6R2VvbWV0cnksIGNhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY2FtZXJhLmdldENvbXBvbmVudDxDYW1lcmFDb250cm9sbGVyPihDYW1lcmFDb250cm9sbGVyKTtcblxuICAgICAgICAgICAgYXNzZXJ0KCEhY29udHJvbGxlciAmJiAhIWNvbnRyb2xsZXIuY2FtZXJhLCBMb2cuaW5mby5GVU5DX01VU1QoXCJjYW1lcmFcIiAsIFwiYWRkIENhbWVyYSBDb21wb25lbnRcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KCEhZ2VvbWV0cnksIExvZy5pbmZvLkZVTkNfTVVTVChcIk1lc2hcIiwgXCJhZGQgZ2VvbWV0cnkgY29tcG9uZW50XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZURyYXdDb21tYW5kKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgIHZhciBxdWFkQ21kID0gcmVuZGVyZXIuY3JlYXRlUXVhZENvbW1hbmQoKSxcbiAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQgPSBjYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOk1hdGVyaWFsID0gZ2VvbWV0cnkubWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIHF1YWRDbWQuYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG5cbiAgICAgICAgICAgIHF1YWRDbWQuYW5pbWF0aW9uID0gZ2VvbWV0cnkuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudChBbmltYXRpb24pO1xuXG4gICAgICAgICAgICBxdWFkQ21kLmRyYXdNb2RlID0gZ2VvbWV0cnkuZHJhd01vZGU7XG5cbiAgICAgICAgICAgIHF1YWRDbWQubU1hdHJpeCA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5sb2NhbFRvV29ybGRNYXRyaXg7XG5cbiAgICAgICAgICAgIHF1YWRDbWQudk1hdHJpeCA9IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4O1xuICAgICAgICAgICAgcXVhZENtZC5wTWF0cml4ID0gY2FtZXJhQ29tcG9uZW50LnBNYXRyaXg7XG5cbiAgICAgICAgICAgIHF1YWRDbWQubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICAgICAgcXVhZENtZC56ID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLno7XG5cblxuICAgICAgICAgICAgcmV0dXJuIHF1YWRDbWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTa3lib3hSZW5kZXJlciBleHRlbmRzIE1lc2hSZW5kZXJlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3QpOnZvaWQge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2t5Ym94Q29tbWFuZCA9IHRoaXMuY3JlYXRlRHJhd0NvbW1hbmQocmVuZGVyZXIsIGdlb21ldHJ5LCBjYW1lcmEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBVSVJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXJDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3pJbmRleDpudW1iZXIgPSAxO1xuICAgICAgICBnZXQgekluZGV4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fekluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHNldCB6SW5kZXgoekluZGV4Om51bWJlcil7XG4gICAgICAgICAgICBpZih6SW5kZXggIT09IHRoaXMuX3pJbmRleCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fekluZGV4ID0gekluZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYW52YXMpe1xuICAgICAgICAgICAgICAgICAgICB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZSh0aGlzLmNhbnZhcykuY3NzKFwiekluZGV4XCIsIHpJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpcnR5RHVyaW5nQ3VycmVudExvb3A6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9kaXJ0eTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgZ2V0IGRpcnR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlydHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGRpcnR5KGRpcnR5OmJvb2xlYW4pe1xuICAgICAgICAgICAgaWYoZGlydHkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlEdXJpbmdDdXJyZW50TG9vcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udGV4dDphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaXNDbGVhckNhbnZhczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzdGF0ZTpFVUlSZW5kZXJlclN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5OT1JNQUw7XG4gICAgICAgIHB1YmxpYyBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3JlZmVyZW5jZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPFVJT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8VUlPYmplY3Q+KCk7XG5cbiAgICAgICAgcHVibGljIHJlc2V0RGlydHkoKXtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkVG9PYmplY3Qob2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUxpc3QuYWRkQ2hpbGQob2JqZWN0KTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgdWlSZW5kZXJlciBtYXkgYmUgc2hhcmVkIGJ5IG11bHRpIG9iamVjdHMsIHNvIHRoaXMub2JqZWN0IGlzIHRoZSBsYXN0IG9uZSB3aGljaCBzaGFyZSB0aGlzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUZyb21PYmplY3Qob2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUxpc3QucmVtb3ZlQ2hpbGQob2JqZWN0KTtcblxuICAgICAgICAgICAgaWYodGhpcy5fcmVmZXJlbmNlTGlzdC5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdXBlci5yZW1vdmVGcm9tT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzSW5pdFwiKVxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVPdmVybGF5Q2FudmFzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgaWYodGhpcy5fcmVmZXJlbmNlTGlzdC5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZSh0aGlzLmNhbnZhcykucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyQ2FudmFzKCl7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLmlzQ2xlYXJDYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlT3ZlcmxheUNhbnZhcygpe1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgdmlldyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuY2FudmFzKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHdkQ2IuRG9tUXVlcnkuY3JlYXRlKFwiPGNhbnZhcz48L2NhbnZhcz5cIikucHJlcGVuZFRvKFwiYm9keVwiKTtcbiAgICAgICAgICAgIHZpZXcgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkudmlldztcblxuICAgICAgICAgICAgY2FudmFzLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICAgICAgICBjYW52YXMuY3NzKFwibGVmdFwiLCBgJHt2aWV3Lnh9cHhgKTtcbiAgICAgICAgICAgIGNhbnZhcy5jc3MoXCJ0b3BcIiwgYCR7dmlldy55fXB4YCk7XG4gICAgICAgICAgICBjYW52YXMuY3NzKFwiekluZGV4XCIsIHRoaXMuekluZGV4KTtcblxuICAgICAgICAgICAgY2FudmFzLmF0dHIoXCJ3aWR0aFwiLCB2aWV3LndpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhcy5hdHRyKFwiaGVpZ2h0XCIsIHZpZXcuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXMuZ2V0KDApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVVSVJlbmRlcmVyU3RhdGV7XG4gICAgICAgIE5PUk1BTCxcbiAgICAgICAgRElSVFksXG4gICAgICAgIE5PVF9ESVJUWVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNwYWNlUGFydGl0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgYnVpbGQoKTp2b2lkO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0UmVuZGVyTGlzdEJ5RnJ1c3R1bUN1bGwoKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRJbnRlcnNlY3RMaXN0V2l0aFJheShlOk1vdXNlRXZlbnQpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGdldENvbGxpZGVPYmplY3RzKHNoYXBlOlNoYXBlKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRDaGlsZHJlbigpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PjtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBPY3RyZWUgZXh0ZW5kcyBTcGFjZVBhcnRpdGlvbiB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtYXhEZXB0aDpudW1iZXIgPSAyO1xuICAgICAgICBwdWJsaWMgbWF4Tm9kZUNhcGFjaXR5Om51bWJlciA9IDY0O1xuXG4gICAgICAgIHByaXZhdGUgX3Jvb3Q6T2N0cmVlTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NlbGVjdGlvbkxpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PigpO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIGFzc2VydChlbnRpdHlPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIk9jdHJlZSBjb21wb25lbnRcIiwgXCJhZGQgdG8gR2FtZU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICBzdXBlci5hZGRUb09iamVjdChlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xuICAgICAgICAgICAgdmFyIGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gdGhpcy5nZXRDaGlsZHJlbigpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREZXB0aCA9IDAsXG4gICAgICAgICAgICAgICAgbWF4Tm9kZUNhcGFjaXR5ID0gdGhpcy5tYXhOb2RlQ2FwYWNpdHksXG4gICAgICAgICAgICAgICAgbWF4RGVwdGggPSB0aGlzLm1heERlcHRoO1xuXG4gICAgICAgICAgICB2YXIgYnVpbGRUcmVlID0gKHdvcmxkTWluOlZlY3RvcjMsIHdvcmxkTWF4OlZlY3RvcjMsIGN1cnJlbnREZXB0aCwgZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIHBhcmVudE5vZGU6T2N0cmVlTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBoYWxmRXh0ZW5kcyA9IG5ldyBWZWN0b3IzKCh3b3JsZE1heC54IC0gd29ybGRNaW4ueCkgLyAyLCAod29ybGRNYXgueSAtIHdvcmxkTWluLnkpIC8gMiwgKHdvcmxkTWF4LnogLSB3b3JsZE1pbi56KSAvIDIpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCAyOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCAyOyB5KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgMjsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsTWluID0gd29ybGRNaW4uY29weSgpLmFkZChoYWxmRXh0ZW5kcy5jb3B5KCkuc2NhbGUoeCwgeSwgeikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbE1heCA9IHdvcmxkTWluLmNvcHkoKS5hZGQoaGFsZkV4dGVuZHMuY29weSgpLnNjYWxlKHggKyAxLCB5ICsgMSwgeiArIDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IE9jdHJlZU5vZGUuY3JlYXRlKGxvY2FsTWluLCBsb2NhbE1heCwgbWF4Tm9kZUNhcGFjaXR5LCBjdXJyZW50RGVwdGggKyAxLCBtYXhEZXB0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFkZEVudGl0eU9iamVjdHMoZW50aXR5T2JqZWN0TGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5lbnRpdHlPYmplY3RDb3VudCA+IG1heE5vZGVDYXBhY2l0eSAmJiBjdXJyZW50RGVwdGggPCBtYXhEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZFRyZWUobG9jYWxNaW4sIGxvY2FsTWF4LCBjdXJyZW50RGVwdGggKyAxLCBlbnRpdHlPYmplY3RMaXN0LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFkZE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbGxpZGVyRm9yRmlyc3RDaGVjayhlbnRpdHlPYmplY3RMaXN0KTtcblxuICAgICAgICAgICAgdmFyIHsgd29ybGRNaW4sIHdvcmxkTWF4IH0gPSB0aGlzLl9nZXRXb3JsZEV4dGVuZHMoZW50aXR5T2JqZWN0TGlzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBPY3RyZWVOb2RlLmNyZWF0ZSh3b3JsZE1pbiwgd29ybGRNYXgsIG1heE5vZGVDYXBhY2l0eSwgY3VycmVudERlcHRoICsgMSwgbWF4RGVwdGgpO1xuXG4gICAgICAgICAgICBidWlsZFRyZWUod29ybGRNaW4sIHdvcmxkTWF4LCBjdXJyZW50RGVwdGgsIGVudGl0eU9iamVjdExpc3QsIHRoaXMuX3Jvb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY29udGFpbiBDYW1lcmFDb250cm9sbGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBnZXRSZW5kZXJMaXN0QnlGcnVzdHVtQ3VsbCgpe1xuICAgICAgICAgICAgdmFyIGZydXN0dW1QbGFuZXMgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmN1cnJlbnRDYW1lcmEuZ2V0Q29tcG9uZW50KENhbWVyYUNvbnRyb2xsZXIpLmdldFBsYW5lcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlzaXRSb290KFwiZmluZEFuZEFkZFRvUmVuZGVyTGlzdFwiLCBbZnJ1c3R1bVBsYW5lcywgdGhpcy5fc2VsZWN0aW9uTGlzdF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY29udGFpbiBDYW1lcmFDb250cm9sbGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBnZXRJbnRlcnNlY3RMaXN0V2l0aFJheShlOk1vdXNlRXZlbnQpe1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uSW5WaWV3ID0gZS5sb2NhdGlvbkluVmlldztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2l0Um9vdChcImZpbmRBbmRBZGRUb0ludGVyc2VjdExpc3RcIiwgW0RpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlcikuY3JlYXRlUmF5KGxvY2F0aW9uSW5WaWV3LngsIGxvY2F0aW9uSW5WaWV3LnkpLCB0aGlzLl9zZWxlY3Rpb25MaXN0XSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlkZU9iamVjdHMoc2hhcGU6U2hhcGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2l0Um9vdChcImZpbmRBbmRBZGRUb0NvbGxpZGVMaXN0XCIsIFtzaGFwZSwgdGhpcy5fc2VsZWN0aW9uTGlzdF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkcmVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0LmdldENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92aXNpdFJvb3QobWV0aG9kOnN0cmluZywgYXJnczpBcnJheTxhbnk+KTphbnl7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25MaXN0LnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jvb3Qubm9kZUxpc3QuZm9yRWFjaCgodG9wTm9kZTpPY3RyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9wTm9kZVttZXRob2RdLmFwcGx5KHRvcE5vZGUsIGFyZ3MpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9uTGlzdCA9IHRoaXMuX3NlbGVjdGlvbkxpc3QucmVtb3ZlUmVwZWF0SXRlbXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGlvbkxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91cGRhdGVDb2xsaWRlckZvckZpcnN0Q2hlY2soZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pIHtcbiAgICAgICAgICAgIHZhciBjb2xsaWRlcjpCb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3RMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KENvbGxpZGVyRm9yRmlyc3RDaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZXIgPSBzZWxmLl9jcmVhdGVDb2xsaWRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5hZGRDb21wb25lbnQoY29sbGlkZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyLmluaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZXIgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2xsaWRlci51cGRhdGUobnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFdvcmxkRXh0ZW5kcyhlbnRpdHlPYmplY3RMaXN0OndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pik6e3dvcmxkTWluOlZlY3RvcjMsIHdvcmxkTWF4OlZlY3RvcjN9IHtcbiAgICAgICAgICAgIHZhciB3b3JsZE1pbiA9IFZlY3RvcjMuY3JlYXRlKE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpLFxuICAgICAgICAgICAgd29ybGRNYXggPSBWZWN0b3IzLmNyZWF0ZSgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0TGlzdC5mb3JFYWNoKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtaW4gPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXggPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlcjpCb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaGFwZTpBQUJCU2hhcGUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29sbGlkZXIgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gPEFBQkJTaGFwZT5jb2xsaWRlci5zaGFwZTtcbiAgICAgICAgICAgICAgICBtaW4gPSBzaGFwZS5nZXRNaW4oKTtcbiAgICAgICAgICAgICAgICBtYXggPSBzaGFwZS5nZXRNYXgoKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2NoZWNrRXh0ZW5kcyhtaW4sIHdvcmxkTWluLCB3b3JsZE1heCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2hlY2tFeHRlbmRzKG1heCwgd29ybGRNaW4sIHdvcmxkTWF4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdvcmxkTWluOiB3b3JsZE1pbixcbiAgICAgICAgICAgICAgICB3b3JsZE1heDogd29ybGRNYXhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVDb2xsaWRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIEJveENvbGxpZGVyRm9yRmlyc3RDaGVjay5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NoZWNrRXh0ZW5kcyh2OiBWZWN0b3IzLCBtaW46IFZlY3RvcjMsIG1heDogVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHYueCA8IG1pbi54KXtcbiAgICAgICAgICAgICAgICBtaW4ueCA9IHYueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueSA8IG1pbi55KXtcbiAgICAgICAgICAgICAgICBtaW4ueSA9IHYueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueiA8IG1pbi56KXtcbiAgICAgICAgICAgICAgICBtaW4ueiA9IHYuejtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueCA+IG1heC54KXtcbiAgICAgICAgICAgICAgICBtYXgueCA9IHYueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueSA+IG1heC55KXtcbiAgICAgICAgICAgICAgICBtYXgueSA9IHYueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueiA+IG1heC56KXtcbiAgICAgICAgICAgICAgICBtYXgueiA9IHYuejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE9jdHJlZU5vZGV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1pblBvaW50OiBWZWN0b3IzLCBtYXhQb2ludDogVmVjdG9yMywgY2FwYWNpdHk6IG51bWJlciwgZGVwdGg6IG51bWJlciwgbWF4RGVwdGg6IG51bWJlcikge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKG1pblBvaW50LCBtYXhQb2ludCwgY2FwYWNpdHksIGRlcHRoLCBtYXhEZXB0aCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGVudGl0eU9iamVjdENvdW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3RMaXN0LmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpO1xuICAgICAgICBwdWJsaWMgbm9kZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPE9jdHJlZU5vZGU+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxPY3RyZWVOb2RlPigpO1xuXG4gICAgICAgIHByaXZhdGUgX2RlcHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21heERlcHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2NhcGFjaXR5Om51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21pblBvaW50OlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tYXhQb2ludDpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYm91bmRpbmdWZWN0b3JzOkFycmF5PFZlY3RvcjM+ID0gbnVsbDtcblxuICAgICAgICBjb25zdHJ1Y3RvcihtaW5Qb2ludDogVmVjdG9yMywgbWF4UG9pbnQ6IFZlY3RvcjMsIGNhcGFjaXR5OiBudW1iZXIsIGRlcHRoOiBudW1iZXIsIG1heERlcHRoOiBudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgICAgICAgICB0aGlzLl9kZXB0aCA9IGRlcHRoO1xuICAgICAgICAgICAgdGhpcy5fbWF4RGVwdGggPSBtYXhEZXB0aDtcblxuICAgICAgICAgICAgdGhpcy5fbWluUG9pbnQgPSBtaW5Qb2ludDtcbiAgICAgICAgICAgIHRoaXMuX21heFBvaW50ID0gbWF4UG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kaW5nVmVjdG9ycyA9IEJvdW5kaW5nUmVnaW9uVXRpbHMuYnVpbGRCb3VuZGluZ1ZlY3RvcnModGhpcy5fbWluUG9pbnQsIHRoaXMuX21heFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIGVudGl0eU9iamVjdExpc3QuZm9yRWFjaCgoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZW50aXR5T2JqZWN0IGluc3RhbmNlb2YgR2FtZU9iamVjdCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhZGQgZ2FtZU9iamVjdHNcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRFbnRpdHlPYmplY3RzKGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBsb2NhbE1pbiA9IHRoaXMuX21pblBvaW50LFxuICAgICAgICAgICAgICAgIGxvY2FsTWF4ID0gdGhpcy5fbWF4UG9pbnQ7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdExpc3QuZm9yRWFjaCgoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZihlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKS5zaGFwZS5pc0ludGVyc2VjdFdpdGhCb3gobG9jYWxNaW4sIGxvY2FsTWF4KSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW50aXR5T2JqZWN0TGlzdC5hZGRDaGlsZChlbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZE5vZGUobm9kZTpPY3RyZWVOb2RlKXtcbiAgICAgICAgICAgIHRoaXMubm9kZUxpc3QuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEFuZEFkZFRvUmVuZGVyTGlzdChmcnVzdHVtUGxhbmVzOkFycmF5PFBsYW5lPiwgc2VsZWN0aW9uTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pik6dm9pZHtcbiAgICAgICAgICAgIGlmIChCb3VuZGluZ1JlZ2lvblV0aWxzLmlzQUFCQkludGVyc2VjdEZydXN0dW0odGhpcy5fYm91bmRpbmdWZWN0b3JzLCBmcnVzdHVtUGxhbmVzKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9oYXNOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlTGlzdC5mb3JFYWNoKChub2RlOk9jdHJlZU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZmluZEFuZEFkZFRvUmVuZGVyTGlzdChmcnVzdHVtUGxhbmVzLCBzZWxlY3Rpb25MaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkxpc3QuYWRkQ2hpbGRyZW4odGhpcy5lbnRpdHlPYmplY3RMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQW5kQWRkVG9JbnRlcnNlY3RMaXN0KHJheTpSYXksIHNlbGVjdGlvbkxpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pe1xuICAgICAgICAgICAgaWYgKHJheS5pc0ludGVyc2VjdFdpdGhBQUJCKHRoaXMuX21pblBvaW50LCB0aGlzLl9tYXhQb2ludCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUxpc3QuZm9yRWFjaCgobm9kZTpPY3RyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmZpbmRBbmRBZGRUb0ludGVyc2VjdExpc3QocmF5LCBzZWxlY3Rpb25MaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkxpc3QuYWRkQ2hpbGRyZW4odGhpcy5lbnRpdHlPYmplY3RMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQW5kQWRkVG9Db2xsaWRlTGlzdChzaGFwZTpTaGFwZSwgc2VsZWN0aW9uTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pik6dm9pZHtcbiAgICAgICAgICAgIGlmKHNoYXBlLmlzSW50ZXJzZWN0V2l0aEJveCh0aGlzLl9taW5Qb2ludCwgdGhpcy5fbWF4UG9pbnQpKXtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUxpc3QuZm9yRWFjaCgobm9kZTpPY3RyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmZpbmRBbmRBZGRUb0NvbGxpZGVMaXN0KHNoYXBlLCBzZWxlY3Rpb25MaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkxpc3QuYWRkQ2hpbGRyZW4odGhpcy5lbnRpdHlPYmplY3RMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc05vZGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVMaXN0LmdldENvdW50KCkgPiAwO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29sbGlkZXJGb3JGaXJzdENoZWNrIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0O1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpbml0KCk7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKTtcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEJveENvbGxpZGVyRm9yRmlyc3RDaGVjayBleHRlbmRzIENvbGxpZGVyRm9yRmlyc3RDaGVjayB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZ2V0IHNoYXBlKCk6U2hhcGV7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sbGlkZXIuc2hhcGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb2xsaWRlcjpCb3hDb2xsaWRlciA9IEJveENvbGxpZGVyLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLl9jb2xsaWRlci5lbnRpdHlPYmplY3QgPSB0aGlzLmVudGl0eU9iamVjdDtcblxuICAgICAgICAgICAgdGhpcy5fY29sbGlkZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fY29sbGlkZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29sbGlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgICBnZXQgc2hhcGUoKTpTaGFwZXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nUmVnaW9uLnNoYXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0O1xuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IEFCU1RSQUNUX0FUVFJJQlVURTtcblxuICAgICAgICBwdWJsaWMgYm91bmRpbmdSZWdpb246Qm91bmRpbmdSZWdpb24gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVCb3VuZGluZ1JlZ2lvbigpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgYnVpbGRCb3VuZGluZ1JlZ2lvbigpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLmJvdW5kaW5nUmVnaW9uID0gdGhpcy5jcmVhdGVCb3VuZGluZ1JlZ2lvbigpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbi5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuYnVpbGRCb3VuZGluZ1JlZ2lvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGVTaGFwZSgpe1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbi51cGRhdGVTaGFwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oY29sbGlkZXI6Q29sbGlkZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KGNvbGxpZGVyIGluc3RhbmNlb2YgQ29sbGlkZXIsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidGFyZ2V0XCIsIFwiYmUgY29sbGlkZXJcIikpXG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGgoY29sbGlkZXI6Q29sbGlkZXIpe1xuICAgICAgICAgICAgaWYoY29sbGlkZXIgaW5zdGFuY2VvZiBCb3hDb2xsaWRlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm91bmRpbmdSZWdpb24uaXNJbnRlcnNlY3RXaXRoQm94KGNvbGxpZGVyLmJvdW5kaW5nUmVnaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY29sbGlkZXIgaW5zdGFuY2VvZiBTcGhlcmVDb2xsaWRlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm91bmRpbmdSZWdpb24uaXNJbnRlcnNlY3RXaXRoU3BoZXJlKGNvbGxpZGVyLmJvdW5kaW5nUmVnaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChgJHt0aGlzLnR5cGV9IGNvbGxpZGVyYCwgYGludGVyc2VjdCB3aXRoICR7Y29sbGlkZXIudHlwZX0gY29sbGlkZXJgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNDb2xsaWRlKHRhcmdldE9iamVjdDpHYW1lT2JqZWN0KTpib29sZWFue1xuICAgICAgICAgICAgdmFyIGNvbGxpZGVyOkNvbGxpZGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNTZWxmKHRhcmdldE9iamVjdCkgfHwgIXRhcmdldE9iamVjdC5oYXNDb21wb25lbnQoQ29sbGlkZXIpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbGxpZGVyID0gdGFyZ2V0T2JqZWN0LmdldENvbXBvbmVudDxDb2xsaWRlcj4oQ29sbGlkZXIpO1xuXG4gICAgICAgICAgICBpZih0YXJnZXRPYmplY3QuaGFzQ29tcG9uZW50KFJpZ2lkQm9keSkpe1xuICAgICAgICAgICAgICAgIGNvbGxpZGVyLnVwZGF0ZVNoYXBlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzSW50ZXJzZWN0V2l0aChjb2xsaWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1NlbGYoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNTZWxmKHRoaXMuZW50aXR5T2JqZWN0LCBlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBCb3hDb2xsaWRlciBleHRlbmRzIENvbGxpZGVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBib3VuZGluZ1JlZ2lvbjpCb3hCb3VuZGluZ1JlZ2lvbjtcblxuICAgICAgICBwdWJsaWMgY2VudGVyOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGhhbGZFeHRlbnRzOlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSA8YW55PkVDb2xsaWRlclR5cGUuQk9YO1xuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVCb3VuZGluZ1JlZ2lvbigpe1xuICAgICAgICAgICAgcmV0dXJuIEJveEJvdW5kaW5nUmVnaW9uLmNyZWF0ZSh0aGlzLmVudGl0eU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYnVpbGRCb3VuZGluZ1JlZ2lvbigpe1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbi5idWlsZCh0aGlzLmNlbnRlciwgdGhpcy5oYWxmRXh0ZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFNwaGVyZUNvbGxpZGVyIGV4dGVuZHMgQ29sbGlkZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJvdW5kaW5nUmVnaW9uOlNwaGVyZUJvdW5kaW5nUmVnaW9uO1xuXG4gICAgICAgIHB1YmxpYyBjZW50ZXI6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgcmFkaXVzOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IDxhbnk+RUNvbGxpZGVyVHlwZS5TUEhFUkU7XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUJvdW5kaW5nUmVnaW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gU3BoZXJlQm91bmRpbmdSZWdpb24uY3JlYXRlKHRoaXMuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBidWlsZEJvdW5kaW5nUmVnaW9uKCl7XG4gICAgICAgICAgICB0aGlzLmJvdW5kaW5nUmVnaW9uLmJ1aWxkKHRoaXMuY2VudGVyLCB0aGlzLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJvdW5kaW5nUmVnaW9ue1xuICAgICAgICBjb25zdHJ1Y3RvcihlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdCA9IGVudGl0eU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaGFwZTpTaGFwZSA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGlzVXNlclNwZWNpZnlUaGVSZWdpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcm90ZWN0ZWQgb3JpZ2luU2hhcGU6U2hhcGUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgZGVidWdPYmplY3Q6R2FtZU9iamVjdCA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlU2hhcGUoKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5zaGFwZSA9IHRoaXMuY3JlYXRlU2hhcGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24ocmV0dXJuVmFsdWUsIGNlbnRlciwgLi4uYXJncyl7XG4gICAgICAgICAgICBpZih0aGlzLmlzQnVpbGRVc2VyU3BlY2lmeUJvdW5kaW5nUmVnaW9uLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5zaGFwZS5jZW50ZXIuaXNFcXVhbChjZW50ZXIpLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJ0cmFuc2Zvcm0gc2hhcGUgd2hlbiBidWlsZFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2Vsc2V7XG4gICAgICAgICAgICAvLyAgICBhc3NlcnQodGhpcy5zaGFwZS5jZW50ZXIuaXNaZXJvKCksIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInRyYW5zZm9ybSBzaGFwZSB3aGVuIGJ1aWxkXCIpKTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgYnVpbGQoY2VudGVyOlZlY3RvcjMsIC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuaXNCdWlsZFVzZXJTcGVjaWZ5Qm91bmRpbmdSZWdpb24uYXBwbHkodGhpcywgcGFyYW1zKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1VzZXJTcGVjaWZ5VGhlUmVnaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLnNldEZyb21TaGFwZVBhcmFtLmFwcGx5KHRoaXMuc2hhcGUsIHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhcGUuc2V0RnJvbVBvaW50cyhDb2xsaWRlclV0aWxzLmdldFZlcnRpY2VzKHRoaXMuZW50aXR5T2JqZWN0KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub3JpZ2luU2hhcGUgPSB0aGlzLnNoYXBlLmNvcHkoKTtcblxuICAgICAgICAgICAgaWYoRGVidWdDb25maWcuZGVidWdDb2xsaXNpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMuZGVidWdPYmplY3QgPSB0aGlzLmJ1aWxkRGVidWdPYmplY3RGcm9tU2hhcGUodGhpcy5zaGFwZSk7XG4gICAgICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5hZGRDaGlsZCh0aGlzLmRlYnVnT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoKXtcbiAgICAgICAgICAgIC8vdG9kbyBjb25zaWRlciBtb3JwaFRhcmdldHMoaWYgaGFzIG1vcnBoVGFyZ2V0cyBhbmQgbm90IGNoYW5nZSB0YXJnZXQsIHJldHVybik/XG4gICAgICAgICAgICBpZih0aGlzLmlzTm90VHJhbnNmb3JtZWQoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihEZWJ1Z0NvbmZpZy5kZWJ1Z0NvbGxpc2lvbil7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTaGFwZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGVidWdPYmplY3RGcm9tU2hhcGUodGhpcy5zaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCF0aGlzLmVudGl0eU9iamVjdC5oYXNDb21wb25lbnQoUmlnaWRCb2R5KSl7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTaGFwZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aFNwaGVyZShib3VuZGluZ1JlZ2lvbjpTcGhlcmVCb3VuZGluZ1JlZ2lvbil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFwZS5pc0ludGVyc2VjdFdpdGhTcGhlcmUoYm91bmRpbmdSZWdpb24uc2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aEJveChib3VuZGluZ1JlZ2lvbjpCb3hCb3VuZGluZ1JlZ2lvbil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFwZS5pc0ludGVyc2VjdFdpdGhCb3goYm91bmRpbmdSZWdpb24uc2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZVNoYXBlKCk6U2hhcGU7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBpc0J1aWxkVXNlclNwZWNpZnlCb3VuZGluZ1JlZ2lvbiguLi5hcmdzKTpib29sZWFuO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaXNOb3RUcmFuc2Zvcm1lZCgpOmJvb2xlYW47XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVEZWJ1Z09iamVjdEZyb21TaGFwZShzaGFwZTpTaGFwZSk7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXREZWJ1Z09iamVjdEdlb21ldHJ5KGdlb21ldHJ5OkN1c3RvbUdlb21ldHJ5LCBzaGFwZTpTaGFwZSk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkRGVidWdPYmplY3RGcm9tU2hhcGUoc2hhcGU6U2hhcGUpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbnVsbCxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdCA9IG51bGw7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsID0gd2QuQmFzaWNNYXRlcmlhbC5jcmVhdGUoKTtcbiAgICAgICAgICAgIG1hdGVyaWFsLmNvbG9yID0gd2QuQ29sb3IuY3JlYXRlKFwicmdiKDI1NSwwLDApXCIpO1xuXG4gICAgICAgICAgICBnZW9tZXRyeSA9IHdkLkN1c3RvbUdlb21ldHJ5LmNyZWF0ZSgpO1xuICAgICAgICAgICAgZ2VvbWV0cnkubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgIGdlb21ldHJ5LmRyYXdNb2RlID0gRURyYXdNb2RlLkxJTkVTO1xuICAgICAgICAgICAgdGhpcy5zZXREZWJ1Z09iamVjdEdlb21ldHJ5KGdlb21ldHJ5LCBzaGFwZSk7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyID0gd2QuTWVzaFJlbmRlcmVyLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3QgPSB3ZC5HYW1lT2JqZWN0LmNyZWF0ZSgpO1xuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFkZENvbXBvbmVudChnZW9tZXRyeSk7XG4gICAgICAgICAgICBlbnRpdHlPYmplY3QuYWRkQ29tcG9uZW50KHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGUoc2hhcGUuY2VudGVyKTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0Lm5hbWUgPSBgZGVidWdCb3VuZGluZ1JlZ2lvbiR7dGhpcy5lbnRpdHlPYmplY3QudWlkfWA7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5pbml0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlPYmplY3Q7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEJveEJvdW5kaW5nUmVnaW9uIGV4dGVuZHMgQm91bmRpbmdSZWdpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaGFwZTpBQUJCU2hhcGU7XG5cbiAgICAgICAgcHJvdGVjdGVkIG9yaWdpblNoYXBlOkFBQkJTaGFwZTtcblxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGVTaGFwZSgpe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYodGhpcy5pc1VzZXJTcGVjaWZ5VGhlUmVnaW9uKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLnNldEZyb21UcmFuc2xhdGlvbkFuZFNjYWxlKHRoaXMub3JpZ2luU2hhcGUsIHRyYW5zZm9ybS5sb2NhbFRvV29ybGRNYXRyaXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKHRyYW5zZm9ybS5pc1JvdGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcGUuc2V0RnJvbU9iamVjdCh0aGlzLmVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTpzZXQgd2hlbiBpc1RyYW5zbGF0ZS9pc1NjYWxlP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLnNldEZyb21UcmFuc2xhdGlvbkFuZFNjYWxlKHRoaXMub3JpZ2luU2hhcGUsIHRyYW5zZm9ybS5sb2NhbFRvV29ybGRNYXRyaXgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYXBlKCl7XG4gICAgICAgICAgICAvL3RvZG8gYWRkIE9CQlNoYXBlXG4gICAgICAgICAgICByZXR1cm4gQUFCQlNoYXBlLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oc2hhcGU6QUFCQlNoYXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmRlYnVnT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImJ1aWxkIGRlYnVnT2JqZWN0XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZURlYnVnT2JqZWN0RnJvbVNoYXBlKHNoYXBlOkFBQkJTaGFwZSl7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmRlYnVnT2JqZWN0LmdldENvbXBvbmVudDxDdXN0b21HZW9tZXRyeT4oQ3VzdG9tR2VvbWV0cnkpO1xuXG4gICAgICAgICAgICB0aGlzLnNldERlYnVnT2JqZWN0R2VvbWV0cnkoZ2VvbWV0cnksIHNoYXBlKTtcblxuICAgICAgICAgICAgdGhpcy5kZWJ1Z09iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBzaGFwZS5jZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihnZW9tZXRyeTpDdXN0b21HZW9tZXRyeSwgc2hhcGU6QUFCQlNoYXBlKXtcbiAgICAgICAgICAgIGFzc2VydChzaGFwZS5oYWxmRXh0ZW50cyAmJiAhc2hhcGUuaGFsZkV4dGVudHMuaXNaZXJvKCksIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImhhbGZFeHRlbnRzXCIsIFwiYmUgemVyb1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBzZXREZWJ1Z09iamVjdEdlb21ldHJ5KGdlb21ldHJ5OkN1c3RvbUdlb21ldHJ5LCBzaGFwZTpBQUJCU2hhcGUpe1xuICAgICAgICAgICAgdmFyIGhhbGZFeHRlbnRzID0gc2hhcGUuaGFsZkV4dGVudHMsXG4gICAgICAgICAgICAgICAgeCA9IGhhbGZFeHRlbnRzLngsXG4gICAgICAgICAgICAgICAgeSA9IGhhbGZFeHRlbnRzLnksXG4gICAgICAgICAgICAgICAgeiA9IGhhbGZFeHRlbnRzLno7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzID0gW1xuICAgICAgICAgICAgICAgIC14LCAteSwgLXosIC14LCAteSwgeiwgeCwgLXksIHosIHgsIC15LCAteixcbiAgICAgICAgICAgICAgICAteCwgeSwgLXosIC14LCB5LCB6LCB4LCB5LCB6LCB4LCB5LCAtelxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOiBzZXQgRWxlbWVudEJ1ZmZlciB0byBjcmVhdGUgVWludDhBcnJheSwgRUJ1ZmZlclR5cGUuVU5TSUdORURfQllURVxuICAgICAgICAgICAgIGdlb21ldHJ5IGFkZCBidWZmZXIgdHlwZSB0YWJsZT9cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kaWNlcyA9IFtcbiAgICAgICAgICAgICAgICAwLDEsMSwyLDIsMywzLDAsXG4gICAgICAgICAgICAgICAgNCw1LDUsNiw2LDcsNyw0LFxuICAgICAgICAgICAgICAgIDAsNCwxLDUsMiw2LDMsN1xuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc0J1aWxkVXNlclNwZWNpZnlCb3VuZGluZ1JlZ2lvbihjZW50ZXI6VmVjdG9yMywgaGFsZkV4dGVudHM6VmVjdG9yMyl7XG4gICAgICAgICAgICByZXR1cm4gISFjZW50ZXIgJiYgISFoYWxmRXh0ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc05vdFRyYW5zZm9ybWVkKCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICByZXR1cm4gIXRyYW5zZm9ybS5pc1JvdGF0ZSAmJiAhdHJhbnNmb3JtLmlzVHJhbnNsYXRlICYmICF0cmFuc2Zvcm0uaXNTY2FsZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU3BoZXJlQm91bmRpbmdSZWdpb24gZXh0ZW5kcyBCb3VuZGluZ1JlZ2lvbntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhlbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNoYXBlOlNwaGVyZVNoYXBlO1xuXG4gICAgICAgIHByb3RlY3RlZCBvcmlnaW5TaGFwZTpTcGhlcmVTaGFwZTtcblxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGVTaGFwZSgpe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdGhpcy5zaGFwZS5zZXRGcm9tVHJhbnNsYXRpb25BbmRTY2FsZSh0aGlzLm9yaWdpblNoYXBlLCB0cmFuc2Zvcm0ubG9jYWxUb1dvcmxkTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFwZSgpe1xuICAgICAgICAgICAgcmV0dXJuIFNwaGVyZVNoYXBlLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oc2hhcGU6U3BoZXJlU2hhcGUpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZGVidWdPYmplY3QsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiYnVpbGQgZGVidWdPYmplY3RcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlRGVidWdPYmplY3RGcm9tU2hhcGUoc2hhcGU6U3BoZXJlU2hhcGUpe1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z09iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBzaGFwZS5jZW50ZXI7XG5cbiAgICAgICAgICAgIHZhciBzY2FsZVRpbWVzID0gc2hhcGUucmFkaXVzIC8gdGhpcy5vcmlnaW5TaGFwZS5yYWRpdXM7XG4gICAgICAgICAgICB0aGlzLmRlYnVnT2JqZWN0LnRyYW5zZm9ybS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKHNjYWxlVGltZXMsIHNjYWxlVGltZXMsIHNjYWxlVGltZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGlzTm90VHJhbnNmb3JtZWQoKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHJldHVybiAhdHJhbnNmb3JtLmlzVHJhbnNsYXRlICYmICF0cmFuc2Zvcm0uaXNTY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc0J1aWxkVXNlclNwZWNpZnlCb3VuZGluZ1JlZ2lvbihjZW50ZXI6VmVjdG9yMywgcmFkaXVzKXtcbiAgICAgICAgICAgIHJldHVybiAhIWNlbnRlciAmJiAhIXJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGdlb21ldHJ5OkN1c3RvbUdlb21ldHJ5LCBzaGFwZTpTcGhlcmVTaGFwZSl7XG4gICAgICAgICAgICBhc3NlcnQoc2hhcGUucmFkaXVzID4gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJyYWRpdXNcIiwgXCI+IDBcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgc2V0RGVidWdPYmplY3RHZW9tZXRyeShnZW9tZXRyeTpDdXN0b21HZW9tZXRyeSwgc2hhcGU6U3BoZXJlU2hhcGUpe1xuICAgICAgICAgICAgY29uc3QgU0VHTUVOVFMgPSA0MCxcbiAgICAgICAgICAgICAgICBSSU5HQ09VTlQgPSAzO1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHNoYXBlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCByaW5nID0gMDsgcmluZyA8IFJJTkdDT1VOVDsgcmluZysrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHhvID0gMCxcbiAgICAgICAgICAgICAgICAgICAgeW8gPSAxLFxuICAgICAgICAgICAgICAgICAgICB6byA9IDIsXG4gICAgICAgICAgICAgICAgICAgIHRoZXRhID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChyaW5nID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHhvID0gMTtcbiAgICAgICAgICAgICAgICAgICAgeW8gPSAwO1xuICAgICAgICAgICAgICAgICAgICB6byA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJpbmcgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgeG8gPSAwO1xuICAgICAgICAgICAgICAgICAgICB5byA9IDI7XG4gICAgICAgICAgICAgICAgICAgIHpvID0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNFR01FTlRTOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhldGEgPSAyICogTWF0aC5QSSAqIChpIC8gU0VHTUVOVFMpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1t4K3hvXSA9IHJhZGl1cyAqIE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbeCt5b10gPSAwO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1t4K3pvXSA9IHJhZGl1cyAqIE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgeCArPSAzO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoZXRhID0gMiAqIE1hdGguUEkgKiAoKGkgKyAxKSAvIFNFR01FTlRTKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbeCt4b10gPSByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW3greW9dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbeCt6b10gPSByYWRpdXMgKiBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQm91bmRpbmdSZWdpb25VdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0FBQkJJbkZydXN0dW0obWluUG9pbnQ6VmVjdG9yMywgbWF4UG9pbnQ6VmVjdG9yMywgZnJ1c3R1bVBsYW5lczogQXJyYXk8UGxhbmU+KTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0FBQkJJbkZydXN0dW0oYm91bmRpbmdWZWN0b3JzOiBWZWN0b3IzW10sIGZydXN0dW1QbGFuZXM6IFBsYW5lW10pOiBib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNBQUJCSW5GcnVzdHVtKC4uLmFyZ3MpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHZhciBib3VuZGluZ1ZlY3RvcnMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGZydXN0dW1QbGFuZXMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCBtaW5Qb2ludCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycyA9IHRoaXMuYnVpbGRCb3VuZGluZ1ZlY3RvcnMobWluUG9pbnQsIG1heFBvaW50KTtcblxuICAgICAgICAgICAgICAgIGZydXN0dW1QbGFuZXMgPSBhcmdzWzJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IDY7IHArKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcnVzdHVtUGxhbmVzW3BdLmRvdENvb3JkaW5hdGUoYm91bmRpbmdWZWN0b3JzW2ldKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzQUFCQkludGVyc2VjdEZydXN0dW0obWluUG9pbnQ6VmVjdG9yMywgbWF4UG9pbnQ6VmVjdG9yMywgZnJ1c3R1bVBsYW5lczogQXJyYXk8UGxhbmU+KTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0FBQkJJbnRlcnNlY3RGcnVzdHVtKGJvdW5kaW5nVmVjdG9yczpBcnJheTxWZWN0b3IzPiwgZnJ1c3R1bVBsYW5lczogQXJyYXk8UGxhbmU+KTogYm9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzQUFCQkludGVyc2VjdEZydXN0dW0oLi4uYXJncyk6IGJvb2xlYW4ge1xuICAgICAgICB2YXIgYm91bmRpbmdWZWN0b3JzID0gbnVsbCxcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCBtaW5Qb2ludCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycyA9IHRoaXMuYnVpbGRCb3VuZGluZ1ZlY3RvcnMobWluUG9pbnQsIG1heFBvaW50KTtcblxuICAgICAgICAgICAgICAgIGZydXN0dW1QbGFuZXMgPSBhcmdzWzJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IDY7IHArKykge1xuICAgICAgICAgICAgICAgIGxldCBpbkNvdW50ID0gODtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcnVzdHVtUGxhbmVzW3BdLmRvdENvb3JkaW5hdGUoYm91bmRpbmdWZWN0b3JzW2ldKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbkNvdW50ID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGJ1aWxkQm91bmRpbmdWZWN0b3JzKG1pblBvaW50OlZlY3RvcjMsIG1heFBvaW50OlZlY3RvcjMpe1xuICAgICAgICAgICAgdmFyIGJvdW5kaW5nVmVjdG9ycyA9IFtdO1xuXG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnMucHVzaChtaW5Qb2ludC5jb3B5KCkpO1xuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWF4UG9pbnQuY29weSgpKTtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWluUG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1syXS54ID0gbWF4UG9pbnQueDtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWluUG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1szXS55ID0gbWF4UG9pbnQueTtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWluUG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1s0XS56ID0gbWF4UG9pbnQuejtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWF4UG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1s1XS56ID0gbWluUG9pbnQuejtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWF4UG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1s2XS54ID0gbWluUG9pbnQueDtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWF4UG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9yc1s3XS55ID0gbWluUG9pbnQueTtcblxuICAgICAgICAgICAgcmV0dXJuIGJvdW5kaW5nVmVjdG9ycztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoYXBle1xuICAgICAgICBwdWJsaWMgY2VudGVyOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0RnJvbVNoYXBlUGFyYW0oLi4uYXJncyk7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRGcm9tUG9pbnRzKHBvaW50czpBcnJheTxudW1iZXI+KTtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNvcHkoKTpTaGFwZTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNJbnRlcnNlY3RXaXRoQm94KHNoYXBlOkFBQkJTaGFwZSk7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc0ludGVyc2VjdFdpdGhCb3gobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNJbnRlcnNlY3RXaXRoU3BoZXJlKHNoYXBlOlNwaGVyZVNoYXBlKTtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzSW50ZXJzZWN0V2l0aFJheShyYXk6UmF5KTtcblxuICAgICAgICBwcm90ZWN0ZWQgaXNCb3hBbmRTcGhlcmVJbnRlcnNlY3RlZChib3g6QUFCQlNoYXBlLCBzcGhlcmU6U3BoZXJlU2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBzcGhlcmVDZW50ZXIgPSBzcGhlcmUuY2VudGVyLFxuICAgICAgICAgICAgICAgIHNwaGVyZVJhZGl1cyA9IHNwaGVyZS5yYWRpdXM7XG5cbiAgICAgICAgICAgIHJldHVybiBzcGhlcmVDZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoYm94LmNsb3Nlc3RQb2ludFRvKHNwaGVyZUNlbnRlcikpIDwgc3BoZXJlUmFkaXVzKioyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBBQUJCU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldENlbnRlcihtaW46VmVjdG9yMywgbWF4OlZlY3RvcjMpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKCkuYWRkMihtYXgsIG1pbikuc2NhbGUoMC41KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SGFsZkV4dGVudHMobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSgpLnN1YjIobWF4LCBtaW4pLnNjYWxlKDAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFsZkV4dGVudHM6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpO1xuXG4gICAgICAgIHB1YmxpYyBzZXRNaW5NYXgobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IEFBQkJTaGFwZS5nZXRDZW50ZXIobWluLCBtYXgpO1xuICAgICAgICAgICAgdGhpcy5oYWxmRXh0ZW50cyA9IEFBQkJTaGFwZS5nZXRIYWxmRXh0ZW50cyhtaW4sIG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TWluKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyLmNvcHkoKS5zdWIodGhpcy5oYWxmRXh0ZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TWF4KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyLmNvcHkoKS5hZGQodGhpcy5oYWxmRXh0ZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVNoYXBlUGFyYW0oY2VudGVyOlZlY3RvcjMsIGhhbGZFeHRlbnRzOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVBvaW50cyhwb2ludHM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG1pbiA9IHRoaXMuX2dldEVtcHR5TWluKCksXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5fZ2V0RW1wdHlNYXgoKTtcblxuICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5pdGVyYXRlVGhyZWVDb21wb25lbnQocG9pbnRzLCAocG9pbnQ6VmVjdG9yMykgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2V4cGFuZEJ5UG9pbnQocG9pbnQsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldE1pbk1heChtaW4sIG1heCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IGFhYmIgZW5jbG9zZSBzcGVjaWZ5IGFhYmJcbiAgICAgICAgICogQHBhcmFtIHthYWJifSBhYWJiIGlzbid0IHlldCB0cmFuc2Zvcm1lZCBieSBtYXRyaXhcbiAgICAgICAgICogQHBhcmFtIHttYXRyaXh9IG1hdHJpeCBpcyB0byB0cmFuc2Zvcm0gdGhlIGFhYmJcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tVHJhbnNmb3JtZWRBQUJCKGFhYmI6QUFCQlNoYXBlLCBtYXRyaXg6TWF0cml4NCkge1xuICAgICAgICAgICAgdmFyIGJjID0gdGhpcy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgYnIgPSB0aGlzLmhhbGZFeHRlbnRzLFxuICAgICAgICAgICAgICAgIGFjID0gYWFiYi5jZW50ZXIudmFsdWVzLFxuICAgICAgICAgICAgICAgIGFyID0gYWFiYi5oYWxmRXh0ZW50cy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgbSA9IG1hdHJpeC52YWx1ZXMsXG4gICAgICAgICAgICAgICAgbXgwID0gbVswXSxcbiAgICAgICAgICAgICAgICBteDEgPSBtWzRdLFxuICAgICAgICAgICAgICAgIG14MiA9IG1bOF0sXG4gICAgICAgICAgICAgICAgbXkwID0gbVsxXSxcbiAgICAgICAgICAgICAgICBteTEgPSBtWzVdLFxuICAgICAgICAgICAgICAgIG15MiA9IG1bOV0sXG4gICAgICAgICAgICAgICAgbXowID0gbVsyXSxcbiAgICAgICAgICAgICAgICBtejEgPSBtWzZdLFxuICAgICAgICAgICAgICAgIG16MiA9IG1bMTBdLFxuICAgICAgICAgICAgICAgIG14MGEgPSBNYXRoLmFicyhteDApLFxuICAgICAgICAgICAgICAgIG14MWEgPSBNYXRoLmFicyhteDEpLFxuICAgICAgICAgICAgICAgIG14MmEgPSBNYXRoLmFicyhteDIpLFxuICAgICAgICAgICAgICAgIG15MGEgPSBNYXRoLmFicyhteTApLFxuICAgICAgICAgICAgICAgIG15MWEgPSBNYXRoLmFicyhteTEpLFxuICAgICAgICAgICAgICAgIG15MmEgPSBNYXRoLmFicyhteTIpLFxuICAgICAgICAgICAgICAgIG16MGEgPSBNYXRoLmFicyhtejApLFxuICAgICAgICAgICAgICAgIG16MWEgPSBNYXRoLmFicyhtejEpLFxuICAgICAgICAgICAgICAgIG16MmEgPSBNYXRoLmFicyhtejIpO1xuXG4gICAgICAgICAgICBiYy5zZXQoXG4gICAgICAgICAgICAgICAgbVsxMl0gKyBteDAgKiBhY1swXSArIG14MSAqIGFjWzFdICsgbXgyICogYWNbMl0sXG4gICAgICAgICAgICAgICAgbVsxM10gKyBteTAgKiBhY1swXSArIG15MSAqIGFjWzFdICsgbXkyICogYWNbMl0sXG4gICAgICAgICAgICAgICAgbVsxNF0gKyBtejAgKiBhY1swXSArIG16MSAqIGFjWzFdICsgbXoyICogYWNbMl1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGJyLnNldChcbiAgICAgICAgICAgICAgICBteDBhICogYXJbMF0gKyBteDFhICogYXJbMV0gKyBteDJhICogYXJbMl0sXG4gICAgICAgICAgICAgICAgbXkwYSAqIGFyWzBdICsgbXkxYSAqIGFyWzFdICsgbXkyYSAqIGFyWzJdLFxuICAgICAgICAgICAgICAgIG16MGEgKiBhclswXSArIG16MWEgKiBhclsxXSArIG16MmEgKiBhclsyXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tVHJhbnNsYXRpb25BbmRTY2FsZShhYWJiOkFBQkJTaGFwZSwgbWF0cml4Ok1hdHJpeDQpe1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gbWF0cml4LmdldFRyYW5zbGF0aW9uKCksXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBtYXRyaXguZ2V0U2NhbGUoKTtcblxuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBhYWJiLmNlbnRlci5jb3B5KCkuYWRkKHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgdGhlIHNjYWxlIG1heSBoYXMgZmxvYXQgZGV2aWF0aW9uLCBzbyBtYXkgdGhlIGhhbGZFeHRlbnRzLlxuICAgICAgICAgICAgdG9kbyBmaXggaGFsZkV4dGVudHMgZmxvYXQgZGV2aWF0aW9uPyh1c2UgdG9GaXhlZD8pXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaGFsZkV4dGVudHMgPSBhYWJiLmhhbGZFeHRlbnRzLmNvcHkoKS5tdWwoc2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBDb2xsaWRlclV0aWxzLmdldFZlcnRpY2VzKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGFzc2VydCh2ZXJ0aWNlcyAmJiB2ZXJ0aWNlcy5sZW5ndGggPiAwLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwidmVydGljZXNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2V0RnJvbU9iamVjdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIG1vZGVsTWF0cml4ID0gZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5sb2NhbFRvV29ybGRNYXRyaXgsXG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBDb2xsaWRlclV0aWxzLmdldFZlcnRpY2VzKGVudGl0eU9iamVjdCksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgbWluID0gdGhpcy5fZ2V0RW1wdHlNaW4oKSxcbiAgICAgICAgICAgICAgICBtYXggPSB0aGlzLl9nZXRFbXB0eU1heCgpO1xuXG5cbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuaXRlcmF0ZVRocmVlQ29tcG9uZW50KHZlcnRpY2VzLCAocG9pbnQ6VmVjdG9yMykgPT4ge1xuICAgICAgICAgICAgICAgIHBvaW50LmFwcGx5TWF0cml4NChtb2RlbE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fZXhwYW5kQnlQb2ludChwb2ludCwgbWluLCBtYXgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0TWluTWF4KG1pbiwgbWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3goc2hhcGU6QUFCQlNoYXBlKTtcbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aEJveChtaW46VmVjdG9yMywgbWF4OlZlY3RvcjMpO1xuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3goLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIGFNYXggPSB0aGlzLmdldE1heCgpLFxuICAgICAgICAgICAgICAgIGFNaW4gPSB0aGlzLmdldE1pbigpLFxuICAgICAgICAgICAgICAgIGJNYXggPSBudWxsLFxuICAgICAgICAgICAgICAgIGJNaW4gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHNoYXBlID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGJNaW4gPSBzaGFwZS5nZXRNaW4oKTtcbiAgICAgICAgICAgICAgICBiTWF4ID0gc2hhcGUuZ2V0TWF4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBiTWluID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBiTWF4ID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChhTWluLnggPD0gYk1heC54KSAmJiAoYU1heC54ID49IGJNaW4ueCkgJiZcbiAgICAgICAgICAgICAgICAoYU1pbi55IDw9IGJNYXgueSkgJiYgKGFNYXgueSA+PSBiTWluLnkpICYmXG4gICAgICAgICAgICAgICAgKGFNaW4ueiA8PSBiTWF4LnopICYmIChhTWF4LnogPj0gYk1pbi56KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhTcGhlcmUoc2hhcGU6U3BoZXJlU2hhcGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNCb3hBbmRTcGhlcmVJbnRlcnNlY3RlZCh0aGlzLCBzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoUmF5KHJheTpSYXkpe1xuICAgICAgICAgICAgcmV0dXJuIHJheS5pc0ludGVyc2VjdFdpdGhBQUJCKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsb3Nlc3RQb2ludFRvKHBvaW50OlZlY3RvcjMpe1xuICAgICAgICAgICAgdmFyIG1pbiA9IHRoaXMuZ2V0TWluKCksXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5nZXRNYXgoKSxcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludCA9IFZlY3RvcjMuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludC54IDwgbWluLngpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC54ID0gbWluLng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwb2ludC54ID4gbWF4LngpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC54ID0gbWF4Lng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC54ID0gcG9pbnQueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvaW50LnkgPCBtaW4ueSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnkgPSBtaW4ueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBvaW50LnkgPiBtYXgueSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnkgPSBtYXgueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnkgPSBwb2ludC55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9pbnQueiA8IG1pbi56KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueiA9IG1pbi56O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocG9pbnQueiA+IG1heC56KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueiA9IG1heC56O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueiA9IHBvaW50Lno7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRQb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb250YWluUG9pbnQocG9pbnQ6VmVjdG9yMykge1xuICAgICAgICAgICAgdmFyIG1pbiA9IHRoaXMuZ2V0TWluKCksXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5nZXRNYXgoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQudmFsdWVzW2ldIDwgbWluLnZhbHVlc1tpXSB8fCBwb2ludC52YWx1ZXNbaV0gPiBtYXgudmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBBQUJCU2hhcGUuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYXBlLmNlbnRlciA9IHRoaXMuY2VudGVyLmNvcHkoKTtcbiAgICAgICAgICAgIHNoYXBlLmhhbGZFeHRlbnRzID0gdGhpcy5oYWxmRXh0ZW50cy5jb3B5KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEVtcHR5TWluKCkge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKEluZmluaXR5LCBJbmZpbml0eSwgSW5maW5pdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RW1wdHlNYXgoKSB7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoLUluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9leHBhbmRCeVBvaW50KHBvaW50OlZlY3RvcjMsIG1pbjpWZWN0b3IzLCBtYXg6VmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBtaW4ubWluKHBvaW50KTtcbiAgICAgICAgICAgIG1heC5tYXgocG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTcGhlcmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByYWRpdXM6bnVtYmVyID0gMTtcblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVNoYXBlUGFyYW0oY2VudGVyOlZlY3RvcjMsIHJhZGl1czpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tUG9pbnRzKHBvaW50czpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgYWFiYiA9IEFBQkJTaGFwZS5jcmVhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBhYWJiLnNldEZyb21Qb2ludHMocG9pbnRzKS5jZW50ZXI7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IHRoaXMuX2ZpbmRNYXhEaXN0YW5jZU9mUG9pbnRzVG9DZW50ZXIocG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tVHJhbnNsYXRpb25BbmRTY2FsZShzcGhlcmU6U3BoZXJlU2hhcGUsIG1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IG1hdHJpeC5nZXRUcmFuc2xhdGlvbigpLFxuICAgICAgICAgICAgICAgIHNjYWxlID0gbWF0cml4LmdldFNjYWxlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gc3BoZXJlLmNlbnRlci5jb3B5KCkuYWRkKHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gc3BoZXJlLnJhZGl1cyAqIE1hdGgubWF4KHNjYWxlLngsIHNjYWxlLnksIHNjYWxlLnopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aFNwaGVyZShzaGFwZTpTcGhlcmVTaGFwZSkge1xuICAgICAgICAgICAgdmFyIHJhZGl1c1N1bSA9IHRoaXMucmFkaXVzICsgc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICByZXR1cm4gc2hhcGUuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKSA8PSAoIHJhZGl1c1N1bSoqMik7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3goc2hhcGU6QUFCQlNoYXBlKTtcbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aEJveChtaW46VmVjdG9yMywgbWF4OlZlY3RvcjMpO1xuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3goLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHNoYXBlOkFBQkJTaGFwZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBzaGFwZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBsZXQgbWluOlZlY3RvcjMgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBtYXg6VmVjdG9yMyA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IEFBQkJTaGFwZS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBzaGFwZS5zZXRNaW5NYXgobWluLCBtYXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0JveEFuZFNwaGVyZUludGVyc2VjdGVkKHNoYXBlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhSYXkocmF5OlJheSl7XG4gICAgICAgICAgICByZXR1cm4gcmF5LmlzSW50ZXJzZWN0V2l0aFNwaGVyZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb250YWluUG9pbnQocG9pbnQ6VmVjdG9yMykge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50LmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKSA8PSAodGhpcy5yYWRpdXMqKjIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBTcGhlcmVTaGFwZS5jcmVhdGUoKTtcblxuICAgICAgICAgICAgc2hhcGUuY2VudGVyID0gdGhpcy5jZW50ZXIuY29weSgpO1xuICAgICAgICAgICAgc2hhcGUucmFkaXVzID0gdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbmRNYXhEaXN0YW5jZU9mUG9pbnRzVG9DZW50ZXIocG9pbnRzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdmFyIG1heFJhZGl1c1NxID0gMCxcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcblxuXG4gICAgICAgICAgICBHZW9tZXRyeVV0aWxzLml0ZXJhdGVUaHJlZUNvbXBvbmVudChwb2ludHMsIChwb2ludDpWZWN0b3IzKSA9PiB7XG4gICAgICAgICAgICAgICAgbWF4UmFkaXVzU3EgPSBNYXRoLm1heCggbWF4UmFkaXVzU3EsIGNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZChwb2ludCkgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KG1heFJhZGl1c1NxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVDb2xsaWRlclR5cGV7XG4gICAgICAgIEJPWCA9IDxhbnk+XCJib3hcIixcbiAgICAgICAgU1BIRVJFID0gPGFueT5cInNwaGVyZVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDb2xsaWRlclV0aWxze1xuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIGlmKCFlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KEdlb21ldHJ5KSl7XG4gICAgICAgICAgICAgICAgaWYoZW50aXR5T2JqZWN0Lmhhc1RhZyg8YW55PkVXRFRhZy5DT05UQUlORVIpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0Q2hpbGRWZXJ0aWNlcyA9IGVudGl0eU9iamVjdC5nZXRDaGlsZCgwKS5nZXRDb21wb25lbnQoR2VvbWV0cnkpLnZlcnRpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kQ2hpbGRWZXJ0aWNlcyA9IGVudGl0eU9iamVjdC5nZXRDaGlsZCgxKS5nZXRDb21wb25lbnQoR2VvbWV0cnkpLnZlcnRpY2VzO1xuXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCghIWZpcnN0Q2hpbGRWZXJ0aWNlcyAmJiBmaXJzdENoaWxkVmVydGljZXMubGVuZ3RoID09PSBzZWNvbmRDaGlsZFZlcnRpY2VzLmxlbmd0aCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJpZiBlbnRpdHlPYmplY3QgaXMgRVdEVGFnLkNPTlRBSU5FUiwgdGhlbiBpdHMgY2hpbGRyZW4gc2hvdWxkIGhhcyBpdHMgdmVydGljZXNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRWZXJ0aWNlcyhlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIGlmKCFlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KEdlb21ldHJ5KSl7XG4gICAgICAgICAgICAgICAgaWYoZW50aXR5T2JqZWN0Lmhhc1RhZyg8YW55PkVXRFRhZy5DT05UQUlORVIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eU9iamVjdC5nZXRDaGlsZCgwKS5nZXRDb21wb25lbnQoR2VvbWV0cnkpLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxHZW9tZXRyeT4oR2VvbWV0cnkpLmdlb21ldHJ5RGF0YS52ZXJ0aWNlcztcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSaWdpZEJvZHkgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIF9mcmljdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiRnJpY3Rpb25cIilcbiAgICAgICAgZ2V0IGZyaWN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJpY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZyaWN0aW9uKGZyaWN0aW9uOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzdGl0dXRpb246bnVtYmVyID0gMDtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIlJlc3RpdHV0aW9uXCIpXG4gICAgICAgIGdldCByZXN0aXR1dGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RpdHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCByZXN0aXR1dGlvbihyZXN0aXR1dGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmVzdGl0dXRpb24gPSByZXN0aXR1dGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKTtcbiAgICAgICAgZ2V0IGNoaWxkcmVuKCl7XG4gICAgICAgICAgICByZXR1cm4gIHRoaXMuX2NoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGlsZHJlbihjaGlsZHJlbjphbnkpe1xuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KGNoaWxkcmVuKSl7XG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IDxBcnJheTxHYW1lT2JqZWN0Pj5jaGlsZHJlbjtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PihhcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IDx3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4+Y2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IGxpc3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5hZGRUYWcoXCJpc1JpZ2lkYm9keUNoaWxkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkdhbWVPYmplY3Q7XG5cbiAgICAgICAgcHVibGljIGxvY2tDb25zdHJhaW50OkxvY2tDb25zdHJhaW50ID0gTG9ja0NvbnN0cmFpbnQuY3JlYXRlKHRoaXMpO1xuICAgICAgICBwdWJsaWMgZGlzdGFuY2VDb25zdHJhaW50OkRpc3RhbmNlQ29uc3RyYWludCA9IERpc3RhbmNlQ29uc3RyYWludC5jcmVhdGUodGhpcyk7XG4gICAgICAgIHB1YmxpYyBoaW5nZUNvbnN0cmFpbnQ6SGluZ2VDb25zdHJhaW50ID0gSGluZ2VDb25zdHJhaW50LmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgcHVibGljIHBvaW50VG9Qb2ludENvbnN0cmFpbnRMaXN0OlBvaW50VG9Qb2ludENvbnN0cmFpbnRMaXN0ID0gUG9pbnRUb1BvaW50Q29uc3RyYWludExpc3QuY3JlYXRlKHRoaXMpO1xuXG4gICAgICAgIHByaXZhdGUgX2FmdGVySW5pdFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2FmdGVySW5pdFJpZ2lkYm9keUFkZENvbnN0cmFpbnRTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgIGFkZEJvZHkgc2hvdWxkIGFmdGVyIGl0cyBhbmQgaXRzIGNoaWxkcmVuJ3MgY29sbGlkZXIgY29tcG9uZW50IGluaXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJJbml0U3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCg8YW55PkVFbmdpbmVFdmVudC5BRlRFUl9HQU1FT0JKRUNUX0lOSVQpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FmdGVySW5pdEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICBhZGQgY29uc3RyYWludCBzaG91bGQgYWZ0ZXIgYWxsIGJvZHkgYWRkZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUX1JJR0lEQk9EWV9BRERfQ09OU1RSQUlOVClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRDb25zdHJhaW50KCl7XG4gICAgICAgICAgICB2YXIgZW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSB0aGlzLmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMubG9ja0NvbnN0cmFpbnQgJiYgdGhpcy5sb2NrQ29uc3RyYWludC5jb25uZWN0ZWRCb2R5KXtcbiAgICAgICAgICAgICAgICBlbmdpbmVBZGFwdGVyLmFkZExvY2tDb25zdHJhaW50KHRoaXMuZW50aXR5T2JqZWN0LCB0aGlzLmxvY2tDb25zdHJhaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5kaXN0YW5jZUNvbnN0cmFpbnQgJiYgdGhpcy5kaXN0YW5jZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSl7XG4gICAgICAgICAgICAgICAgZW5naW5lQWRhcHRlci5hZGREaXN0YW5jZUNvbnN0cmFpbnQodGhpcy5lbnRpdHlPYmplY3QsIHRoaXMuZGlzdGFuY2VDb25zdHJhaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5oaW5nZUNvbnN0cmFpbnQgJiYgdGhpcy5oaW5nZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSl7XG4gICAgICAgICAgICAgICAgZW5naW5lQWRhcHRlci5hZGRIaW5nZUNvbnN0cmFpbnQodGhpcy5lbnRpdHlPYmplY3QsIHRoaXMuaGluZ2VDb25zdHJhaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5wb2ludFRvUG9pbnRDb25zdHJhaW50TGlzdCAmJiB0aGlzLnBvaW50VG9Qb2ludENvbnN0cmFpbnRMaXN0LmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50VG9Qb2ludENvbnN0cmFpbnRMaXN0LmZvckVhY2goKGNvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmVBZGFwdGVyLmFkZFBvaW50VG9Qb2ludENvbnN0cmFpbnQodGhpcy5lbnRpdHlPYmplY3QsIGNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUZyb21PYmplY3QoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIGVuZ2luZUFkYXB0ZXI6SVBoeXNpY3NFbmdpbmVBZGFwdGVyID0gdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpO1xuXG4gICAgICAgICAgICBpZihlbmdpbmVBZGFwdGVyKXtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCkucmVtb3ZlR2FtZU9iamVjdChlbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpLnJlbW92ZUNvbnN0cmFpbnRzKGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN1cGVyLnJlbW92ZUZyb21PYmplY3QoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVtb3ZlVGFnKFwiaXNSaWdpZGJvZHlDaGlsZFwiKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9hZnRlckluaXRTdWJzY3JpcHRpb24gJiYgdGhpcy5fYWZ0ZXJJbml0U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVySW5pdFJpZ2lkYm9keUFkZENvbnN0cmFpbnRTdWJzY3JpcHRpb24gJiYgdGhpcy5fYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKXtcbiAgICAgICAgICAgIHJldHVybiAhIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUgJiYgISFEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGFkZEJvZHkoKTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9pc0NvbnRhaW5lcih0aGlzLmVudGl0eU9iamVjdCkpe1xuICAgICAgICAgICAgICAgIGFzc2VydCghdGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50KENvbGxpZGVyKSwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwiY29udGFpbmVyXCIsIFwiYWRkIGNvbGxpZGVyIGNvbXBvbmVudCBpbiB0aGUgY2FzZSBvZiBjb21wb3VuZFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGFzc2VydCghIXRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudChDb2xsaWRlciksIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJjb2xsaWRlciBjb21wb25lbnQgd2hlbiBhZGQgcmlnaWQgYm9keSBjb21wb25lbnRcIikpO1xuICAgICAgICAgICAgICAgIGFzc2VydCghIXRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudChDb2xsaWRlcikuc2hhcGUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY3JlYXRlIGNvbGxpZGVyLnNoYXBlIGJlZm9yZSBhZGRpbmcgcmlnaWQgYm9keSBjb21wb25lbnRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgYWRkQm9keVRvUGh5c2ljc0VuZ2luZShtZXRob2Q6c3RyaW5nLCBkYXRhOmFueSA9IHt9KSB7XG4gICAgICAgICAgICB2YXIgZW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSB0aGlzLmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXJbbWV0aG9kXShcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdCwgd2RDYi5FeHRlbmRVdGlscy5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcblxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5fY2hpbGRyZW4sXG5cbiAgICAgICAgICAgICAgICAgICAgbG9ja0NvbnN0cmFpbnQ6IHRoaXMubG9ja0NvbnN0cmFpbnQsXG5cbiAgICAgICAgICAgICAgICAgICAgb25Db250YWN0OiB3ZENiLkZ1bmN0aW9uVXRpbHMuYmluZCh0aGlzLCB0aGlzLl9vbkNvbnRhY3QpLFxuICAgICAgICAgICAgICAgICAgICBvbkNvbGxpc2lvblN0YXJ0OiB3ZENiLkZ1bmN0aW9uVXRpbHMuYmluZCh0aGlzLCB0aGlzLl9vbkNvbGxpc2lvblN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgb25Db2xsaXNpb25FbmQ6IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsIHRoaXMuX29uQ29sbGlzaW9uRW5kKSxcblxuICAgICAgICAgICAgICAgICAgICBmcmljdGlvbjogdGhpcy5mcmljdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IHRoaXMucmVzdGl0dXRpb25cbiAgICAgICAgICAgICAgICB9LCBkYXRhKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX29uQ29udGFjdChjb2xsaWRlT2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmV4ZWNTY3JpcHQoXCJvbkNvbnRhY3RcIiwgd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZShbY29sbGlkZU9iamVjdF0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX29uQ29sbGlzaW9uU3RhcnQoY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5leGVjU2NyaXB0KFwib25Db2xsaXNpb25TdGFydFwiLCB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlKFtjb2xsaWRlT2JqZWN0XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb25Db2xsaXNpb25FbmQoKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5leGVjU2NyaXB0KFwib25Db2xsaXNpb25FbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0NvbnRhaW5lcihlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgcmlnaWRCb2R5ID0gZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxSaWdpZEJvZHk+KFJpZ2lkQm9keSk7XG5cbiAgICAgICAgICAgIHJldHVybiByaWdpZEJvZHkuY2hpbGRyZW4uZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzQWZ0ZXJJbml0XCIpXG4gICAgICAgIHByaXZhdGUgX2FmdGVySW5pdEhhbmRsZXIoKXtcbiAgICAgICAgICAgIHRoaXMuYWRkQm9keSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGV4ZWNPbmx5T25jZShcIl9pc0FmdGVySW5pdFJpZ2lkYm9keUFkZENvbnN0cmFpbnRcIilcbiAgICAgICAgcHJpdmF0ZSBfYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludEhhbmRsZXIoKXtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uc3RyYWludCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRHluYW1pY1JpZ2lkQm9keSBleHRlbmRzIFJpZ2lkQm9keXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbGluZWFyRGFtcGluZzpudW1iZXIgPSAwO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiTGluZWFyRGFtcGluZ1wiKVxuICAgICAgICBnZXQgbGluZWFyRGFtcGluZygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVhckRhbXBpbmc7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxpbmVhckRhbXBpbmcobGluZWFyRGFtcGluZzpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbGluZWFyRGFtcGluZyA9IGxpbmVhckRhbXBpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hbmd1bGFyRGFtcGluZzpudW1iZXIgPSAwO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiQW5ndWxhckRhbXBpbmdcIilcbiAgICAgICAgZ2V0IGFuZ3VsYXJEYW1waW5nKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5ndWxhckRhbXBpbmc7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGFuZ3VsYXJEYW1waW5nKGFuZ3VsYXJEYW1waW5nOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9hbmd1bGFyRGFtcGluZyA9IGFuZ3VsYXJEYW1waW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdmVsb2NpdHk6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiVmVsb2NpdHlcIilcbiAgICAgICAgZ2V0IHZlbG9jaXR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVsb2NpdHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHZlbG9jaXR5KHZlbG9jaXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fdmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FuZ3VsYXJWZWxvY2l0eTpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJBbmd1bGFyVmVsb2NpdHlcIilcbiAgICAgICAgZ2V0IGFuZ3VsYXJWZWxvY2l0eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuZ3VsYXJWZWxvY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYW5ndWxhclZlbG9jaXR5KGFuZ3VsYXJWZWxvY2l0eTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2FuZ3VsYXJWZWxvY2l0eSA9IGFuZ3VsYXJWZWxvY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX21hc3M6bnVtYmVyID0gMTtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIk1hc3NcIilcbiAgICAgICAgZ2V0IG1hc3MoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBtYXNzKG1hc3M6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX21hc3MgPSBtYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGltcHVsc2U6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBmb3JjZTpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhpdFBvaW50OlZlY3RvcjMgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhZGRCb2R5KCkge1xuICAgICAgICAgICAgdGhpcy5hZGRCb2R5VG9QaHlzaWNzRW5naW5lKFwiYWRkRHluYW1pY0JvZHlcIiwge1xuICAgICAgICAgICAgICAgIG1hc3M6IHRoaXMubWFzcyxcblxuICAgICAgICAgICAgICAgIGxpbmVhckRhbXBpbmc6IHRoaXMubGluZWFyRGFtcGluZyxcbiAgICAgICAgICAgICAgICBhbmd1bGFyRGFtcGluZzogdGhpcy5hbmd1bGFyRGFtcGluZyxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogdGhpcy52ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IHRoaXMuYW5ndWxhclZlbG9jaXR5LFxuXG4gICAgICAgICAgICAgICAgaW1wdWxzZTogdGhpcy5pbXB1bHNlLFxuICAgICAgICAgICAgICAgIGZvcmNlOiB0aGlzLmZvcmNlLFxuICAgICAgICAgICAgICAgIGhpdFBvaW50OiB0aGlzLmhpdFBvaW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgS2luZW1hdGljUmlnaWRCb2R5IGV4dGVuZHMgUmlnaWRCb2R5IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3ZlbG9jaXR5OlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIlZlbG9jaXR5XCIpXG4gICAgICAgIGdldCB2ZWxvY2l0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92ZWxvY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCB2ZWxvY2l0eSh2ZWxvY2l0eTpWZWN0b3IzKSB7XG4gICAgICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIkFuZ3VsYXJWZWxvY2l0eVwiKVxuICAgICAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5ndWxhclZlbG9jaXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBhbmd1bGFyVmVsb2NpdHkoYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fYW5ndWxhclZlbG9jaXR5ID0gYW5ndWxhclZlbG9jaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbWFzczpudW1iZXIgPSAxO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiTWFzc1wiKVxuICAgICAgICBnZXQgbWFzcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc3M7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1hc3MobWFzczpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbWFzcyA9IG1hc3M7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRCb2R5KCkge1xuICAgICAgICAgICAgdGhpcy5hZGRCb2R5VG9QaHlzaWNzRW5naW5lKFwiYWRkS2luZW1hdGljQm9keVwiLCB7XG4gICAgICAgICAgICAgICAgbWFzczogdGhpcy5tYXNzLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiB0aGlzLnZlbG9jaXR5LFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogdGhpcy5hbmd1bGFyVmVsb2NpdHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTdGF0aWNSaWdpZEJvZHkgZXh0ZW5kcyBSaWdpZEJvZHkge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEJvZHkoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEJvZHlUb1BoeXNpY3NFbmdpbmUoXCJhZGRTdGF0aWNCb2R5XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBoeXNpY3NDb25zdHJhaW50e1xuICAgICAgICBjb25zdHJ1Y3RvcihyaWdpZEJvZHk6UmlnaWRCb2R5KXtcbiAgICAgICAgICAgIHRoaXMucmlnaWRCb2R5ID0gcmlnaWRCb2R5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1heEZvcmNlOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIHJpZ2lkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBoeXNpY3NDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShyaWdpZEJvZHk6UmlnaWRCb2R5KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocmlnaWRCb2R5KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2Nvbm5lY3RlZEJvZHk6UmlnaWRCb2R5ID0gbnVsbDtcbiAgICAgICAgZ2V0IGNvbm5lY3RlZEJvZHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0ZWRCb2R5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25uZWN0ZWRCb2R5KGNvbm5lY3RlZEJvZHk6UmlnaWRCb2R5KXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZEJvZHkgPSBjb25uZWN0ZWRCb2R5O1xuXG4gICAgICAgICAgICBpZighdGhpcy5yaWdpZEJvZHkuaXNQaHlzaWNzRW5naW5lQWRhcHRlckV4aXN0KCkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlciA9IHRoaXMucmlnaWRCb2R5LmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIucmVtb3ZlTG9ja0NvbnN0cmFpbnQodGhpcy5yaWdpZEJvZHkuZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgdGhpcy5yaWdpZEJvZHkuYWRkQ29uc3RyYWludCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIERpc3RhbmNlQ29uc3RyYWludCBleHRlbmRzIFBoeXNpY3NDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShyaWdpZEJvZHk6UmlnaWRCb2R5KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocmlnaWRCb2R5KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2Nvbm5lY3RlZEJvZHk6UmlnaWRCb2R5ID0gbnVsbDtcbiAgICAgICAgZ2V0IGNvbm5lY3RlZEJvZHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0ZWRCb2R5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25uZWN0ZWRCb2R5KGNvbm5lY3RlZEJvZHk6UmlnaWRCb2R5KXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZEJvZHkgPSBjb25uZWN0ZWRCb2R5O1xuXG4gICAgICAgICAgICBpZighdGhpcy5yaWdpZEJvZHkuaXNQaHlzaWNzRW5naW5lQWRhcHRlckV4aXN0KCkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlciA9IHRoaXMucmlnaWRCb2R5LmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIucmVtb3ZlRGlzdGFuY2VDb25zdHJhaW50KHRoaXMucmlnaWRCb2R5LmVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHRoaXMucmlnaWRCb2R5LmFkZENvbnN0cmFpbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBzdXBwb3J0IGNoYW5nZSBkaXN0YW5jZVxuICAgICAgICBwdWJsaWMgZGlzdGFuY2U6bnVtYmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgSGluZ2VDb25zdHJhaW50IGV4dGVuZHMgUGh5c2ljc0NvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJpZ2lkQm9keTpSaWdpZEJvZHkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhyaWdpZEJvZHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29ubmVjdGVkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuICAgICAgICBnZXQgY29ubmVjdGVkQm9keSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3RlZEJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbm5lY3RlZEJvZHkoY29ubmVjdGVkQm9keTpSaWdpZEJvZHkpe1xuICAgICAgICAgICAgdmFyIGVuZ2luZUFkYXB0ZXI6SVBoeXNpY3NFbmdpbmVBZGFwdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkQm9keSA9IGNvbm5lY3RlZEJvZHk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLnJpZ2lkQm9keS5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyID0gdGhpcy5yaWdpZEJvZHkuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKTtcblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlci5yZW1vdmVIaW5nZUNvbnN0cmFpbnQodGhpcy5yaWdpZEJvZHkuZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgdGhpcy5yaWdpZEJvZHkuYWRkQ29uc3RyYWludCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgY2hhbmdlIHBpdm90XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEI6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIC8vdG9kbyBzdXBwb3J0IGNoYW5nZSBheGlzXG4gICAgICAgIHB1YmxpYyBheGlzQTpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIGF4aXNCOlZlY3RvcjMgPSBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IGV4dGVuZHMgUGh5c2ljc0NvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJpZ2lkQm9keTpSaWdpZEJvZHkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhyaWdpZEJvZHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbm5lY3RlZEJvZHk6UmlnaWRCb2R5ID0gbnVsbDtcblxuICAgICAgICAvL3RvZG8gc3VwcG9ydCBjaGFuZ2UgcGl2b3RcbiAgICAgICAgcHVibGljIHBpdm90QTpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QjpWZWN0b3IzID0gbnVsbDtcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludExpc3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJpZ2lkQm9keTpSaWdpZEJvZHkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhyaWdpZEJvZHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocmlnaWRCb2R5OlJpZ2lkQm9keSl7XG4gICAgICAgICAgICB0aGlzLl9yaWdpZEJvZHkgPSByaWdpZEJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yaWdpZEJvZHk6UmlnaWRCb2R5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbGlzdDp3ZENiLkNvbGxlY3Rpb248UG9pbnRUb1BvaW50Q29uc3RyYWludD4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFBvaW50VG9Qb2ludENvbnN0cmFpbnQ+KCk7XG5cbiAgICAgICAgcHVibGljIGZvckVhY2goZnVuYzooUG9pbnRUb1BvaW50Q29uc3RyYWludCkgPT4gdm9pZCwgY29udGV4dCA9IHJvb3Qpe1xuICAgICAgICAgICAgdGhpcy5fbGlzdC5mb3JFYWNoKGZ1bmMsIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvdW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5nZXRDb3VudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICB2YXIgZW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9saXN0LmFkZENoaWxkKGNvbnN0cmFpbnQpO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fcmlnaWRCb2R5LmlzUGh5c2ljc0VuZ2luZUFkYXB0ZXJFeGlzdCgpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIgPSB0aGlzLl9yaWdpZEJvZHkuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKTtcblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlci5hZGRQb2ludFRvUG9pbnRDb25zdHJhaW50KHRoaXMuX3JpZ2lkQm9keS5lbnRpdHlPYmplY3QsIGNvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGFyZzpBcnJheTxQb2ludFRvUG9pbnRDb25zdHJhaW50Pnx3ZENiLkxpc3Q8UG9pbnRUb1BvaW50Q29uc3RyYWludD4pe1xuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KGFyZykpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgY29uc3RyYWludCBvZiA8QXJyYXk8UG9pbnRUb1BvaW50Q29uc3RyYWludD4+YXJnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBjb25zdHJhaW50TGlzdCA9IDx3ZENiLkxpc3Q8UG9pbnRUb1BvaW50Q29uc3RyYWludD4+YXJnO1xuXG4gICAgICAgICAgICAgICAgY29uc3RyYWludExpc3QuZm9yRWFjaCgoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fbGlzdC5yZW1vdmVDaGlsZChjb25zdHJhaW50KTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX3JpZ2lkQm9keS5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyID0gdGhpcy5fcmlnaWRCb2R5LmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIucmVtb3ZlUG9pbnRUb1BvaW50Q29uc3RyYWludChjb25zdHJhaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBQaHlzaWNzRW5naW5lRmFjdG9yeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodHlwZTpFUGh5c2ljc0VuZ2luZVR5cGUpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdDpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVBoeXNpY3NFbmdpbmVUeXBlLkNBTk5PTjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQ2Fubm9uQWRhcHRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IodHJ1ZSwgd2RDYi5Mb2cuaW5mby5GVU5DX1VORVhQRUNUKFwicGh5c2ljcyBlbmdpbmUgdHlwZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVQaHlzaWNzRW5naW5lVHlwZXtcbiAgICAgICAgQ0FOTk9OXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uRGF0YUxpc3Qge1xuICAgICAgICBwdWJsaWMgZ2V0Q291bnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFMaXN0LmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBwcm90ZWN0ZWQgcmVtb3ZlQnlHYW1lT2JqZWN0KG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QucmVtb3ZlQ2hpbGQoKHtlbnRpdHlPYmplY3QsIGJvZHl9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uR2FtZU9iamVjdERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uRGF0YUxpc3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPENhbm5vbkdhbWVPYmplY3REYXRhPjtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQnlHYW1lT2JqZWN0KG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlQm9keVRyYW5zZm9ybURhdGEoKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCxib2R5fSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm0gPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgLy90b2RvIGNvbnNpZGVyIGlzU2NhbGU/XG4gICAgICAgICAgICAgICAgaWYodHJhbnNmb3JtLmlzVHJhbnNsYXRlIHx8IHRyYW5zZm9ybS5pc1JvdGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBib2R5LnF1YXRlcm5pb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25RdWF0ZXJuaW9uKGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlR2FtZU9iamVjdFRyYW5zZm9ybURhdGEoKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCxib2R5fSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGVudGl0eU9iamVjdC5oYXNUYWcoXCJpc1JpZ2lkYm9keUNoaWxkXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJWZWN0b3IzKGJvZHkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucm90YXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJRdWF0ZXJuaW9uKGJvZHkucXVhdGVybmlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGQob2JqOkdhbWVPYmplY3QsIGJvZHk6Q0FOTk9OLkJvZHkpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0Om9iaixcbiAgICAgICAgICAgICAgICBib2R5OmJvZHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRHYW1lT2JqZWN0QnlCb2R5KGI6Q0FOTk9OLkJvZHkpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe2VudGl0eU9iamVjdCwgYm9keX0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keSA9PT0gYjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBudWxsID8gcmVzdWx0LmVudGl0eU9iamVjdCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEJvZHlCeUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3QpOmFueXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRhdGFMaXN0LmZpbmRPbmUoKHtlbnRpdHlPYmplY3QsIGJvZHl9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdC5ib2R5IDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENhbm5vbkdhbWVPYmplY3REYXRhID0ge1xuICAgICAgICBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCxcbiAgICAgICAgYm9keTpDQU5OT04uQm9keVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vbk1hdGVyaWFsTGlzdCBleHRlbmRzIENhbm5vbkRhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDYW5ub25NYXRlcmlhbERhdGE+O1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmUob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kTWF0ZXJpYWxCeUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe2VudGl0eU9iamVjdCwgbWF0ZXJpYWx9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdC5tYXRlcmlhbCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKG9iajpHYW1lT2JqZWN0LCBtYXRlcmlhbDpDQU5OT04uTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0Om9iaixcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDptYXRlcmlhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ29udGFjdE1hdGVyaWFsKHdvcmxkOkNBTk5PTi5Xb3JsZCwgY3VycmVudE1hdGVyaWFsOkNBTk5PTi5NYXRlcmlhbCwgZnJpY3Rpb246bnVtYmVyLCByZXN0aXR1dGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICB3b3JsZC5hZGRDb250YWN0TWF0ZXJpYWwobmV3IENBTk5PTi5Db250YWN0TWF0ZXJpYWwobWF0ZXJpYWwsIGN1cnJlbnRNYXRlcmlhbCwge1xuICAgICAgICAgICAgICAgICAgICBmcmljdGlvbjogZnJpY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiByZXN0aXR1dGlvblxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvbnRhY3RNYXRlcmlhbERhdGEod29ybGQ6Q0FOTk9OLldvcmxkLCBjdXJyZW50TWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsLCBkYXRhTmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCwgbWF0ZXJpYWx9KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChtYXRlcmlhbCwgY3VycmVudE1hdGVyaWFsKTtcblxuICAgICAgICAgICAgICAgIGlmKCFjb250YWN0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY29udGFjdE1hdGVyaWFsW2RhdGFOYW1lXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvbnRhY3RNYXRlcmlhbHMod29ybGQ6Q0FOTk9OLldvcmxkLCBjdXJyZW50TWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciByZXN1bHRBcnIgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKG1hdGVyaWFsLCBjdXJyZW50TWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAgICAgaWYoIWNvbnRhY3RNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHRBcnIucHVzaChjb250YWN0TWF0ZXJpYWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRBcnI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0Q29udGFjdE1hdGVyaWFsRGF0YSh3b3JsZDpDQU5OT04uV29ybGQsIGN1cnJlbnRNYXRlcmlhbDpDQU5OT04uTWF0ZXJpYWwsIGRhdGFOYW1lOnN0cmluZywgZGF0YTphbnkpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKG1hdGVyaWFsLCBjdXJyZW50TWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAgICAgaWYoIWNvbnRhY3RNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250YWN0TWF0ZXJpYWxbZGF0YU5hbWVdID0gZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uTWF0ZXJpYWxEYXRhID0ge1xuICAgICAgICBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCxcbiAgICAgICAgbWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uRGF0YUxpc3R7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uU2luZ2xlQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uQ29uc3RyYWludERhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgYWRkKG9iajpHYW1lT2JqZWN0LCBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuYWRkQ2hpbGQoe1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdDpvYmosXG4gICAgICAgICAgICAgICAgY29uc3RyYWludDpjb25zdHJhaW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmUob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ29uc3RyYWludEJ5R2FtZU9iamVjdChvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kYXRhTGlzdC5maW5kT25lKCh7ZW50aXR5T2JqZWN0fSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzRXF1YWwoZW50aXR5T2JqZWN0LCBvYmopO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgIT09IG51bGwgPyByZXN1bHQuY29uc3RyYWludCA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uU2luZ2xlQ29uc3RyYWludERhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDYW5ub25Mb2NrQ29uc3RyYWludERhdGE+O1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENhbm5vbkxvY2tDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3QgZXh0ZW5kcyBDYW5ub25Db25zdHJhaW50RGF0YUxpc3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhPjtcblxuICAgICAgICBwdWJsaWMgZmlsdGVyKGZ1bmM6KGRhdGE6Q2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludERhdGEpID0+IGJvb2xlYW4pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUxpc3QuZmlsdGVyKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZvckVhY2goZnVuYzooZGF0YTpDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YSkgPT4gdm9pZCl7XG4gICAgICAgICAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQsIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0OmVudGl0eU9iamVjdCxcbiAgICAgICAgICAgICAgICBwb2ludFRvUG9pbnRDb25zdHJhaW50OiBwb2ludFRvUG9pbnRDb25zdHJhaW50LFxuICAgICAgICAgICAgICAgIGNhbm5vbkNvbnN0cmFpbnQ6Y29uc3RyYWludFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGNvbnN0cmFpbnQ6IFBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5yZW1vdmVDaGlsZCgoe3BvaW50VG9Qb2ludENvbnN0cmFpbnR9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChwb2ludFRvUG9pbnRDb25zdHJhaW50LCBjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDYW5ub25Db25zdHJhaW50QnlQb2ludFRvUG9pbnRDb25zdHJhaW50KGNvbnN0cmFpbnQ6IFBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe3BvaW50VG9Qb2ludENvbnN0cmFpbnR9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChwb2ludFRvUG9pbnRDb25zdHJhaW50LCBjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBudWxsID8gcmVzdWx0LmNhbm5vbkNvbnN0cmFpbnQgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludERhdGEgPSB7XG4gICAgICAgIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LFxuICAgICAgICBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQsXG4gICAgICAgIGNhbm5vbkNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCBleHRlbmRzIENhbm5vblNpbmdsZUNvbnN0cmFpbnREYXRhTGlzdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YT47XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdCBleHRlbmRzIENhbm5vblNpbmdsZUNvbnN0cmFpbnREYXRhTGlzdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YT47XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25VdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9DYW5ub25WZWN0b3IzKHY6VmVjdG9yMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDQU5OT04uVmVjMyh2LngsIHYueSwgdi56KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydFRvQ2Fubm9uUXVhdGVybmlvbihyb3RhdGlvbjpRdWF0ZXJuaW9uKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLlF1YXRlcm5pb24ocm90YXRpb24ueCwgcm90YXRpb24ueSwgcm90YXRpb24ueiwgcm90YXRpb24udyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRUb1dvbmRlclZlY3RvcjModjpDQU5OT04uVmVjMykge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHYueCwgdi55LCB2LnopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9Xb25kZXJRdWF0ZXJuaW9uKHI6Q0FOTk9OLlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uY3JlYXRlKHIueCwgci55LCByLnosIHIudyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vbkFkYXB0ZXIgaW1wbGVtZW50cyBJUGh5c2ljc0VuZ2luZUFkYXB0ZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCA9IENhbm5vbk1hdGVyaWFsTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCA9IENhbm5vbkdhbWVPYmplY3REYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfbG9ja0NvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0ID0gQ2Fubm9uTG9ja0NvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfZGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3QgPSBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfaGluZ2VDb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YUxpc3QgPSBDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfcG9pbnRUb1BvaW50Q29uc3RyYWludERhdGFMaXN0OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdCA9IENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcblxuICAgICAgICBwcml2YXRlIF9keW5hbWljQm9keTpDYW5ub25EeW5hbWljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2tpbmVtYXRpY0JvZHk6Q2Fubm9uS2luZW1hdGljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3N0YXRpY0JvZHk6Q2Fubm9uU3RhdGljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xvY2tDb25zdHJhaW50OkNhbm5vbkxvY2tDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZGlzdGFuY2VDb25zdHJhaW50OkNhbm5vbkRpc3RhbmNlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2hpbmdlQ29uc3RyYWludDpDYW5ub25IaW5nZUNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9wb2ludFRvUG9pbnRDb25zdHJhaW50OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBnZXRHcmF2aXR5KGdyYXZpdHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJWZWN0b3IzKHRoaXMud29ybGQuZ3Jhdml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0R3Jhdml0eSggZ3Jhdml0eTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZ3Jhdml0eSA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjMoZ3Jhdml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RnJpY3Rpb24ob2JqOkdhbWVPYmplY3QsIGZyaWN0aW9uOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWxEYXRhKG9iaiwgXCJmcmljdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGcmljdGlvbihvYmo6R2FtZU9iamVjdCwgZnJpY3Rpb246bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3NldE1hdGVyaWFsRGF0YShvYmosIFwiZnJpY3Rpb25cIiwgZnJpY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFJlc3RpdHV0aW9uKG9iajpHYW1lT2JqZWN0LCByZXN0aXR1dGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsRGF0YShvYmosIFwicmVzdGl0dXRpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0UmVzdGl0dXRpb24ob2JqOkdhbWVPYmplY3QsIHJlc3RpdHV0aW9uOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9zZXRNYXRlcmlhbERhdGEob2JqLCBcInJlc3RpdHV0aW9uXCIsIHJlc3RpdHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRMaW5lYXJEYW1waW5nKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXROdW1iZXJEYXRhKG9iaiwgXCJsaW5lYXJEYW1waW5nXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldExpbmVhckRhbXBpbmcob2JqOkdhbWVPYmplY3QsIGxpbmVhckRhbXBpbmc6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXROdW1iZXJEYXRhKG9iaiwgXCJsaW5lYXJEYW1waW5nXCIsIGxpbmVhckRhbXBpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldEFuZ3VsYXJEYW1waW5nKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXROdW1iZXJEYXRhKG9iaiwgXCJhbmd1bGFyRGFtcGluZ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRBbmd1bGFyRGFtcGluZyhvYmo6R2FtZU9iamVjdCwgYW5ndWxhckRhbXBpbmc6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXROdW1iZXJEYXRhKG9iaiwgXCJhbmd1bGFyRGFtcGluZ1wiLCBhbmd1bGFyRGFtcGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TWFzcyhvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TnVtYmVyRGF0YShvYmosIFwibWFzc1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRNYXNzKG9iajpHYW1lT2JqZWN0LCBtYXNzOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0TnVtYmVyRGF0YShvYmosIFwibWFzc1wiLCBtYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRWZWxvY2l0eShvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VmVjM0RhdGEob2JqLCBcInZlbG9jaXR5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFZlbG9jaXR5KG9iajpHYW1lT2JqZWN0LCB2ZWxvY2l0eTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX3NldFZlYzNEYXRhKG9iaiwgXCJ2ZWxvY2l0eVwiLCB2ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0QW5ndWxhclZlbG9jaXR5KG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRWZWMzRGF0YShvYmosIFwiYW5ndWxhclZlbG9jaXR5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEFuZ3VsYXJWZWxvY2l0eShvYmo6R2FtZU9iamVjdCwgYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fc2V0VmVjM0RhdGEob2JqLCBcImFuZ3VsYXJWZWxvY2l0eVwiLCBhbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgICAgIGdyYXZpdHksXG4gICAgICAgICAgICAgICAgaXRlcmF0aW9uc1xuICAgICAgICAgICAgICAgIH09IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUucGh5c2ljcztcblxuICAgICAgICAgICAgdGhpcy53b3JsZCA9IG5ldyBDQU5OT04uV29ybGQoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5icm9hZHBoYXNlID0gbmV3IENBTk5PTi5OYWl2ZUJyb2FkcGhhc2UoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmdyYXZpdHkuc2V0KGdyYXZpdHkueCwgZ3Jhdml0eS55LCBncmF2aXR5LnopO1xuXG4gICAgICAgICAgICB0aGlzLl9keW5hbWljQm9keSA9IENhbm5vbkR5bmFtaWNCb2R5LmNyZWF0ZSh0aGlzLndvcmxkLCB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QsIHRoaXMuX21hdGVyaWFsTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9raW5lbWF0aWNCb2R5ID0gQ2Fubm9uS2luZW1hdGljQm9keS5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9tYXRlcmlhbExpc3QpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGljQm9keSA9IENhbm5vblN0YXRpY0JvZHkuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5fbWF0ZXJpYWxMaXN0KTtcblxuICAgICAgICAgICAgdGhpcy5fbG9ja0NvbnN0cmFpbnQgPSBDYW5ub25Mb2NrQ29uc3RyYWludC5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9sb2NrQ29uc3RyYWludERhdGFMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludCA9IENhbm5vbkRpc3RhbmNlQ29uc3RyYWludC5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9kaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9oaW5nZUNvbnN0cmFpbnQgPSBDYW5ub25IaW5nZUNvbnN0cmFpbnQuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5faGluZ2VDb25zdHJhaW50RGF0YUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludCA9IENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludERhdGFMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGREeW5hbWljQm9keShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGF0YTphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2R5bmFtaWNCb2R5LmFkZEJvZHkoZW50aXR5T2JqZWN0LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRLaW5lbWF0aWNCb2R5KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBkYXRhOmFueSkge1xuICAgICAgICAgICAgdGhpcy5fa2luZW1hdGljQm9keS5hZGRCb2R5KGVudGl0eU9iamVjdCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkU3RhdGljQm9keShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGF0YTphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpY0JvZHkuYWRkQm9keShlbnRpdHlPYmplY3QsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vQHJlcXVpcmUoZnVuY3Rpb24oZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAvLyAgICBhc3NlcnQoISF0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QuZmluZEJvZHlCeUdhbWVPYmplY3QoZW50aXR5T2JqZWN0KSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhZGQgcGh5c2ljcyBib2R5XCIpKTtcbiAgICAgICAgLy99KVxuICAgICAgICAvL3B1YmxpYyB1cGRhdGVDb2xsaWRlclNoYXBlRnJvbUJvZHkoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAvLyAgICB2YXIgYm9keTpDQU5OT04uQm9keSA9IHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChlbnRpdHlPYmplY3QpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICBib2R5LlxuICAgICAgICAvL1xuICAgICAgICAvL31cblxuICAgICAgICBwdWJsaWMgYWRkTG9ja0NvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGxvY2tDb25zdHJhaW50OkxvY2tDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2tDb25zdHJhaW50LmFkZENvbnN0cmFpbnQoZW50aXR5T2JqZWN0LCBsb2NrQ29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlTG9ja0NvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5fbG9ja0NvbnN0cmFpbnQucmVtb3ZlQ29uc3RyYWludChlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZERpc3RhbmNlQ29uc3RyYWludChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGlzdGFuY2VDb25zdHJhaW50OkRpc3RhbmNlQ29uc3RyYWludCl7XG4gICAgICAgICAgICB0aGlzLl9kaXN0YW5jZUNvbnN0cmFpbnQuYWRkQ29uc3RyYWludChlbnRpdHlPYmplY3QsIGRpc3RhbmNlQ29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRGlzdGFuY2VDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KGVudGl0eU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkSGluZ2VDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBoaW5nZUNvbnN0cmFpbnQ6SGluZ2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuX2hpbmdlQ29uc3RyYWludC5hZGRDb25zdHJhaW50KGVudGl0eU9iamVjdCwgaGluZ2VDb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVIaW5nZUNvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5faGluZ2VDb25zdHJhaW50LnJlbW92ZUNvbnN0cmFpbnQoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRQb2ludFRvUG9pbnRDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5hZGRDb25zdHJhaW50KGVudGl0eU9iamVjdCwgcG9pbnRUb1BvaW50Q29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlUG9pbnRUb1BvaW50Q29uc3RyYWludChwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5fZ2V0TWF0ZXJpYWwob2JqKSxcbiAgICAgICAgICAgICAgICBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKGJvZHkpe1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlKGJvZHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QucmVtb3ZlKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsTGlzdC5yZW1vdmUob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50cyhvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2tDb25zdHJhaW50LnJlbW92ZUNvbnN0cmFpbnQob2JqKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KG9iaik7XG4gICAgICAgICAgICB0aGlzLl9oaW5nZUNvbnN0cmFpbnQucmVtb3ZlQ29uc3RyYWludChvYmopO1xuXG4gICAgICAgICAgICB0aGlzLl9wb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3RcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh7ZW50aXR5T2JqZWN0fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSnVkZ2VVdGlscy5pc0VxdWFsKGVudGl0eU9iamVjdCwgb2JqKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKCh7cG9pbnRUb1BvaW50Q29uc3RyYWludH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QudXBkYXRlQm9keVRyYW5zZm9ybURhdGEoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5zdGVwKERpcmVjdG9yLmdldEluc3RhbmNlKCkuZ2V0RGVsdGFUaW1lKCkgLyAxMDAwKTtcblxuICAgICAgICAgICAgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LnVwZGF0ZUdhbWVPYmplY3RUcmFuc2Zvcm1EYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXRlcmlhbChvYmo6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsTGlzdC5maW5kTWF0ZXJpYWxCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE51bWJlckRhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChvYmopO1xuXG4gICAgICAgICAgICBpZighYm9keSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5W2RhdGFOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE51bWJlckRhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZywgZGF0YTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QuZmluZEJvZHlCeUdhbWVPYmplY3Qob2JqKTtcblxuICAgICAgICAgICAgaWYoIWJvZHkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib2R5W2RhdGFOYW1lXSA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRWZWMzRGF0YShvYmo6R2FtZU9iamVjdCwgZGF0YU5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKCFib2R5KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIENhbm5vblV0aWxzLmNvbnZlcnRUb1dvbmRlclZlY3RvcjMoYm9keVtkYXRhTmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0VmVjM0RhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZywgZGF0YTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKCFib2R5KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm9keVtkYXRhTmFtZV0gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24ob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0QXJyID0gW10sXG4gICAgICAgICAgICAgICAgZmlyc3REYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSB0aGlzLl9nZXRNYXRlcmlhbChvYmopO1xuXG4gICAgICAgICAgICBpZighY3VycmVudE1hdGVyaWFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0QXJyID0gdGhpcy5fbWF0ZXJpYWxMaXN0LmdldENvbnRhY3RNYXRlcmlhbHModGhpcy53b3JsZCwgY3VycmVudE1hdGVyaWFsKTtcblxuICAgICAgICAgICAgZmlyc3REYXRhID0gcmVzdWx0QXJyWzBdO1xuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIHJlc3VsdEFycil7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEgPT09IGZpcnN0RGF0YSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0aGUgZGF0YSBvZiBjb250YWN0IG1hdGVyaWFsIHdoaWNoIGNvbnRhaW5zIHRoZSBzYW1lIG1hdGVyaWFsXCIsIFwiYmUgdGhlIHNhbWVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRNYXRlcmlhbERhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSB0aGlzLl9nZXRNYXRlcmlhbChvYmopO1xuXG4gICAgICAgICAgICBpZighY3VycmVudE1hdGVyaWFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsTGlzdC5nZXRDb250YWN0TWF0ZXJpYWxEYXRhKHRoaXMud29ybGQsIGN1cnJlbnRNYXRlcmlhbCwgZGF0YU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWF0ZXJpYWxEYXRhKG9iajpHYW1lT2JqZWN0LCBkYXRhTmFtZTpzdHJpbmcsIGRhdGE6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB3b3JsZCA9IHRoaXMud29ybGQsXG4gICAgICAgICAgICAgICAgY3VycmVudE1hdGVyaWFsID0gdGhpcy5fZ2V0TWF0ZXJpYWwob2JqKTtcblxuICAgICAgICAgICAgaWYoIWN1cnJlbnRNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oXCJubyBtYXRlcmlhbCBmaW5kLCBwbGVhc2UgYWRkIG1hdGVyaWFsIGZpcnN0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbExpc3Quc2V0Q29udGFjdE1hdGVyaWFsRGF0YSh0aGlzLndvcmxkLCBjdXJyZW50TWF0ZXJpYWwsIGRhdGFOYW1lLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uQm9keSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0TGlzdCA9IGdhbWVPYmplY3REYXRhTGlzdDtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxMaXN0ID0gbWF0ZXJpYWxMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtYXRlcmlhbExpc3Q6Q2Fubm9uTWF0ZXJpYWxMaXN0ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGdhbWVPYmplY3RMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFkZEJvZHkoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGRhdGE6YW55KSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuY3JlYXRlQm9keShkYXRhKTtcblxuICAgICAgICAgICAgaWYoZGF0YS5jaGlsZHJlbi5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29tcG91bmRzKGVudGl0eU9iamVjdCwgZGF0YS5jaGlsZHJlbiwgYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGJvZHkuYWRkU2hhcGUodGhpcy5fY3JlYXRlU2hhcGUoZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxDb2xsaWRlcj4oQ29sbGlkZXIpLnNoYXBlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBZGRTaGFwZShib2R5LCBkYXRhKTtcblxuICAgICAgICAgICAgYm9keS5tYXRlcmlhbCA9IHRoaXMuX2NyZWF0ZU1hdGVyaWFsKGVudGl0eU9iamVjdCwgZGF0YS5mcmljdGlvbiwgZGF0YS5yZXN0aXR1dGlvbik7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhkYXRhLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGJvZHkucXVhdGVybmlvbiA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblF1YXRlcm5pb24oZGF0YS5yb3RhdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQm9keShib2R5KTtcblxuXG5cbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdExpc3QuYWRkKGVudGl0eU9iamVjdCwgYm9keSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2JpbmRDb2xsaWRlRXZlbnQoYm9keSwgZGF0YS5vbkNvbGxpc2lvblN0YXJ0LCBkYXRhLm9uQ29udGFjdCwgZGF0YS5vbkNvbGxpc2lvbkVuZCk7XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUJvZHkoZGF0YTphbnkpOkNBTk5PTi5Cb2R5O1xuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckFkZFNoYXBlKGJvZHk6Q0FOTk9OLkJvZHksIGRhdGE6YW55KTp2b2lke1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlU2hhcGUoc2hhcGU6U2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBjYW5ub25TaGFwZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIEFBQkJTaGFwZSkge1xuICAgICAgICAgICAgICAgIGNhbm5vblNoYXBlID0gbmV3IENBTk5PTi5Cb3goQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhzaGFwZS5oYWxmRXh0ZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUgaW5zdGFuY2VvZiBTcGhlcmVTaGFwZSkge1xuICAgICAgICAgICAgICAgIGNhbm5vblNoYXBlID0gbmV3IENBTk5PTi5TcGhlcmUoc2hhcGUucmFkaXVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNhbm5vblNoYXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmluZENvbGxpZGVFdmVudCh0YXJnZXRCb2R5OkNBTk5PTi5Cb2R5LCBvbkNvbGxpc2lvblN0YXJ0Oihjb2xsaWRlT2JqZWN0OkdhbWVPYmplY3QpID0+IHZvaWQsIG9uQ29udGFjdDooY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB2b2lkLCBvbkNvbGxpc2lvbkVuZDooY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB2b2lkKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRhcmdldEJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNvbGxpZGVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZW50aXR5T2JqZWN0ID0gc2VsZi5nYW1lT2JqZWN0TGlzdC5maW5kR2FtZU9iamVjdEJ5Qm9keShlLmJvZHkpLFxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghZW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2xsaWRlT2JqZWN0ID0gZW50aXR5T2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgb25Db2xsaXNpb25TdGFydChjb2xsaWRlT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBvbkNvbnRhY3QoY29sbGlkZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgb25Db2xsaXNpb25FbmQoY29sbGlkZU9iamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZU1hdGVyaWFsKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBmcmljdGlvbjpudW1iZXIsIHJlc3RpdHV0aW9uOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IHRoaXMuX2dldE1hdGVyaWFsKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudE1hdGVyaWFsID0gbmV3IENBTk5PTi5NYXRlcmlhbChcIm1hdGVyaWFsXCIpO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRNYXRlcmlhbChlbnRpdHlPYmplY3QsIGN1cnJlbnRNYXRlcmlhbCwgZnJpY3Rpb24sIHJlc3RpdHV0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRNYXRlcmlhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE1hdGVyaWFsKG9iajpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbExpc3QuZmluZE1hdGVyaWFsQnlHYW1lT2JqZWN0KG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRNYXRlcmlhbChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgY3VycmVudE1hdGVyaWFsOkNBTk5PTi5NYXRlcmlhbCwgZnJpY3Rpb246bnVtYmVyLCByZXN0aXR1dGlvbjpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxMaXN0LmFkZChlbnRpdHlPYmplY3QsIGN1cnJlbnRNYXRlcmlhbCk7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsTGlzdC5hZGRDb250YWN0TWF0ZXJpYWwodGhpcy53b3JsZCwgY3VycmVudE1hdGVyaWFsLCBmcmljdGlvbiwgcmVzdGl0dXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIGJvZHk6Q0FOTk9OLkJvZHkpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoISFjaGlsZC5nZXRDb21wb25lbnQoQ29sbGlkZXIpLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwiY29sbGlkZXIgY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoISFjaGlsZC5nZXRDb21wb25lbnQ8Q29sbGlkZXI+KENvbGxpZGVyKS5zaGFwZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJjcmVhdGUgY29sbGlkZXIuc2hhcGVcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2FkZENvbXBvdW5kcyhlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBib2R5OkNBTk5PTi5Cb2R5KXtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgYm9keS5hZGRTaGFwZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2hhcGUoY2hpbGQuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcikuc2hhcGUpLFxuICAgICAgICAgICAgICAgICAgICBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGNoaWxkLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KCkuc3ViKHBvc2l0aW9uKSksXG4gICAgICAgICAgICAgICAgICAgIENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblF1YXRlcm5pb24oY2hpbGQudHJhbnNmb3JtLnJvdGF0aW9uLmNvcHkoKS5zdWIocm90YXRpb24pKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uRHluYW1pY0JvZHkgZXh0ZW5kcyBDYW5ub25Cb2R5IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUod29ybGQ6Q0FOTk9OLldvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3Q6Q2Fubm9uR2FtZU9iamVjdERhdGFMaXN0LCBtYXRlcmlhbExpc3Q6Q2Fubm9uTWF0ZXJpYWxMaXN0KSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUJvZHkoe1xuICAgICAgICAgICAgbWFzcyxcbiAgICAgICAgICAgIGxpbmVhckRhbXBpbmcsXG4gICAgICAgICAgICBhbmd1bGFyRGFtcGluZyxcbiAgICAgICAgICAgIHZlbG9jaXR5LFxuICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5XG4gICAgICAgICAgICB9KTpDQU5OT04uQm9keXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLkJvZHkoe1xuICAgICAgICAgICAgICAgIG1hc3M6IG1hc3MsXG4gICAgICAgICAgICAgICAgbGluZWFyRGFtcGluZzogbGluZWFyRGFtcGluZyxcbiAgICAgICAgICAgICAgICBhbmd1bGFyRGFtcGluZzogYW5ndWxhckRhbXBpbmcsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjModmVsb2NpdHkpLFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhhbmd1bGFyVmVsb2NpdHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckFkZFNoYXBlKGJvZHk6Q0FOTk9OLkJvZHksIHtcbiAgICAgICAgICAgIGltcHVsc2UsXG4gICAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICAgIGhpdFBvaW50XG4gICAgICAgICAgICB9KTp2b2lke1xuICAgICAgICAgICAgaWYoaW1wdWxzZSAmJiBoaXRQb2ludCl7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBseUltcHVsc2UoQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhpbXB1bHNlKSwgQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaXRQb2ludCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZm9yY2UgJiYgaGl0UG9pbnQpe1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwbHlGb3JjZShDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGZvcmNlKSwgQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaXRQb2ludCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25LaW5lbWF0aWNCb2R5IGV4dGVuZHMgQ2Fubm9uQm9keSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQm9keSh7XG4gICAgICAgICAgICBtYXNzLFxuICAgICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHlcbiAgICAgICAgICAgIH0pOkNBTk5PTi5Cb2R5e1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDQU5OT04uQm9keSh7XG4gICAgICAgICAgICAgICAgdHlwZTogQ0FOTk9OLkJvZHkuS0lORU1BVElDLFxuXG4gICAgICAgICAgICAgICAgbWFzczogbWFzcyxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyh2ZWxvY2l0eSksXG4gICAgICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGFuZ3VsYXJWZWxvY2l0eSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25TdGF0aWNCb2R5IGV4dGVuZHMgQ2Fubm9uQm9keSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQm9keSh7XG4gICAgICAgICAgICB9KTpDQU5OT04uQm9keXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLkJvZHkoe1xuICAgICAgICAgICAgICAgIG1hc3M6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbm5vbkNvbnN0cmFpbnR7XG4gICAgICAgIGNvbnN0cnVjdG9yKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgY29uc3RyYWludERhdGFMaXN0OmFueSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0TGlzdCA9IGdhbWVPYmplY3REYXRhTGlzdDtcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0ID0gY29uc3RyYWludERhdGFMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBnYW1lT2JqZWN0TGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgY29uc3RyYWludERhdGFMaXN0OmFueSA9IG51bGw7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nYW1lT2JqZWN0TGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChlbnRpdHlPYmplY3QpICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImFkZCByaWdpZCBib2R5XCIpKTtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmZpbmRCb2R5KHBvaW50VG9Qb2ludENvbnN0cmFpbnQuY29ubmVjdGVkQm9keSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiYWRkIGNvbm5lY3RlZEJvZHlcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgYWRkQ29uc3RyYWludChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDphbnkpe1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGJvZHk6Q0FOTk9OLkJvZHkgPSB0aGlzLmdhbWVPYmplY3RMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSB0aGlzLmNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keSwgd29uZGVyQ29uc3RyYWludCk7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3QsIHdvbmRlckNvbnN0cmFpbnQsIGNvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keTpDQU5OT04uQm9keSwgd29uZGVyQ29uc3RyYWludDpQaHlzaWNzQ29uc3RyYWludCk6Q0FOTk9OLkNvbnN0cmFpbnQ7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpQaHlzaWNzQ29uc3RyYWludCwgY2Fubm9uQ29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCk6dm9pZDtcblxuICAgICAgICBwcm90ZWN0ZWQgZmluZEJvZHkocmlnaWRCb2R5OlJpZ2lkQm9keSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0TGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChyaWdpZEJvZHkuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uU2luZ2xlQ29uc3RyYWludCBleHRlbmRzIENhbm5vbkNvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50RGF0YUxpc3QuZmluZENvbnN0cmFpbnRCeUdhbWVPYmplY3QoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgaWYoY29uc3RyYWludCl7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnREYXRhTGlzdC5yZW1vdmUoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpMb2NrQ29uc3RyYWludCwgY2Fubm9uQ29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCl7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnREYXRhTGlzdC5hZGQoZW50aXR5T2JqZWN0LCBjYW5ub25Db25zdHJhaW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0KSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0O1xuXG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keTpDQU5OT04uQm9keSwgbG9ja0NvbnN0cmFpbnQ6TG9ja0NvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RlZEJvZHk6Q0FOTk9OLkJvZHkgPSB0aGlzLmZpbmRCb2R5KGxvY2tDb25zdHJhaW50LmNvbm5lY3RlZEJvZHkpO1xuXG4gICAgICAgICAgICBpZihsb2NrQ29uc3RyYWludC5tYXhGb3JjZSl7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDQU5OT04uTG9ja0NvbnN0cmFpbnQoYm9keSwgY29ubmVjdGVkQm9keSwgbG9ja0NvbnN0cmFpbnQubWF4Rm9yY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENBTk5PTi5Mb2NrQ29uc3RyYWludChib2R5LCBjb25uZWN0ZWRCb2R5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25Db25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3QpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMod29ybGQsIGdhbWVPYmplY3REYXRhTGlzdCwgY29uc3RyYWludERhdGFMaXN0KTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29uc3RyYWludERhdGFMaXN0OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdDtcblxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludERhdGFMaXN0LmZpbmRDYW5ub25Db25zdHJhaW50QnlQb2ludFRvUG9pbnRDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpO1xuXG4gICAgICAgICAgICBpZihjb25zdHJhaW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0LnJlbW92ZShwb2ludFRvUG9pbnRDb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW5ub25Db25zdHJhaW50KGJvZHk6Q0FOTk9OLkJvZHksIHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCA9IG51bGwsXG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQm9keTpDQU5OT04uQm9keSA9IHRoaXMuZmluZEJvZHkocG9pbnRUb1BvaW50Q29uc3RyYWludC5jb25uZWN0ZWRCb2R5KSxcbiAgICAgICAgICAgICAgICBwaXZvdEEgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKHBvaW50VG9Qb2ludENvbnN0cmFpbnQucGl2b3RBKSxcbiAgICAgICAgICAgICAgICBwaXZvdEIgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKHBvaW50VG9Qb2ludENvbnN0cmFpbnQucGl2b3RCKTtcblxuICAgICAgICAgICAgaWYocG9pbnRUb1BvaW50Q29uc3RyYWludC5tYXhGb3JjZSl7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDQU5OT04uUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5LCBwaXZvdEEsIGNvbm5lY3RlZEJvZHksIHBpdm90QiwgcG9pbnRUb1BvaW50Q29uc3RyYWludC5tYXhGb3JjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ0FOTk9OLlBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keSwgcGl2b3RBLCBjb25uZWN0ZWRCb2R5LCBwaXZvdEIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RyYWludDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50LCBjYW5ub25Db25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0LmFkZChlbnRpdHlPYmplY3QsIHdvbmRlckNvbnN0cmFpbnQsIGNhbm5vbkNvbnN0cmFpbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh3b3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0LCBjb25zdHJhaW50RGF0YUxpc3QpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3Q7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ2Fubm9uQ29uc3RyYWludChib2R5OkNBTk5PTi5Cb2R5LCBkaXN0YW5jZUNvbnN0cmFpbnQ6RGlzdGFuY2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRCb2R5OkNBTk5PTi5Cb2R5ID0gdGhpcy5maW5kQm9keShkaXN0YW5jZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSk7XG5cbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ0FOTk9OLkRpc3RhbmNlQ29uc3RyYWludChib2R5LCBjb25uZWN0ZWRCb2R5LCBkaXN0YW5jZUNvbnN0cmFpbnQuZGlzdGFuY2UgIT09IG51bGwgPyBkaXN0YW5jZUNvbnN0cmFpbnQuZGlzdGFuY2UgOiB2b2lkIDAsIGRpc3RhbmNlQ29uc3RyYWludC5tYXhGb3JjZSAhPT0gbnVsbCA/IGRpc3RhbmNlQ29uc3RyYWludC5tYXhGb3JjZSA6IHZvaWQgMCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25IaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh3b3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0LCBjb25zdHJhaW50RGF0YUxpc3QpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YUxpc3Q7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ2Fubm9uQ29uc3RyYWludChib2R5OkNBTk5PTi5Cb2R5LCBoaW5nZUNvbnN0cmFpbnQ6SGluZ2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRCb2R5OkNBTk5PTi5Cb2R5ID0gdGhpcy5maW5kQm9keShoaW5nZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSksXG4gICAgICAgICAgICAgICAgcGl2b3RBID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaW5nZUNvbnN0cmFpbnQucGl2b3RBKSxcbiAgICAgICAgICAgICAgICBheGlzQSA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjMoaGluZ2VDb25zdHJhaW50LmF4aXNBKSxcbiAgICAgICAgICAgICAgICBwaXZvdEIgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGhpbmdlQ29uc3RyYWludC5waXZvdEIpLFxuICAgICAgICAgICAgICAgIGF4aXNCID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaW5nZUNvbnN0cmFpbnQuYXhpc0IpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6YW55ID0ge307XG5cbiAgICAgICAgICAgIGlmKGhpbmdlQ29uc3RyYWludC5waXZvdEEpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGl2b3RBID0gcGl2b3RBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGluZ2VDb25zdHJhaW50LmF4aXNBKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF4aXNBID0gYXhpc0E7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihoaW5nZUNvbnN0cmFpbnQucGl2b3RCKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBpdm90QiA9IHBpdm90QjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGhpbmdlQ29uc3RyYWludC5heGlzQil7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5heGlzQiA9IGF4aXNCO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGluZ2VDb25zdHJhaW50Lm1heEZvcmNlKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1heEZvcmNlID0gaGluZ2VDb25zdHJhaW50Lm1heEZvcmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENBTk5PTi5IaW5nZUNvbnN0cmFpbnQoYm9keSwgY29ubmVjdGVkQm9keSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgTGlnaHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgICBnZXQgcG9zaXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zaGFkb3dNYXBXaWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgc2hhZG93TWFwV2lkdGgoKXtcbiAgICAgICAgICAgIHZhciBtYXhDdWJlbWFwVGV4dHVyZVNpemUgPSBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heEN1YmVtYXBUZXh0dXJlU2l6ZTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX3NoYWRvd01hcFdpZHRoIHx8IHRoaXMuX3NoYWRvd01hcFdpZHRoID4gbWF4Q3ViZW1hcFRleHR1cmVTaXplKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF4Q3ViZW1hcFRleHR1cmVTaXplXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFkb3dNYXBXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2hhZG93TWFwV2lkdGgoc2hhZG93TWFwV2lkdGg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFdpZHRoID0gc2hhZG93TWFwV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zaGFkb3dNYXBIZWlnaHQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IHNoYWRvd01hcEhlaWdodCgpe1xuICAgICAgICAgICAgdmFyIG1heEN1YmVtYXBUZXh0dXJlU2l6ZSA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4Q3ViZW1hcFRleHR1cmVTaXplO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fc2hhZG93TWFwSGVpZ2h0IHx8IHRoaXMuX3NoYWRvd01hcEhlaWdodCA+IG1heEN1YmVtYXBUZXh0dXJlU2l6ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1heEN1YmVtYXBUZXh0dXJlU2l6ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hhZG93TWFwSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBzaGFkb3dNYXBIZWlnaHQoc2hhZG93TWFwSGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBIZWlnaHQgPSBzaGFkb3dNYXBIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkdhbWVPYmplY3Q7XG5cbiAgICAgICAgcHVibGljIGNvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwiI2ZmZmZmZlwiKTtcbiAgICAgICAgcHVibGljIGNhc3RTaGFkb3c6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgc2hhZG93Q2FtZXJhTmVhcjpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dDYW1lcmFGYXI6bnVtYmVyID0gNTAwMDtcbiAgICAgICAgcHVibGljIHNoYWRvd0JpYXM6bnVtYmVyID0gU2hhZGVyQ2h1bmsuTlVMTDtcbiAgICAgICAgcHVibGljIHNoYWRvd0RhcmtuZXNzOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dNYXA6SVNoYWRvd01hcFRleHR1cmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2hhZG93TWFwUmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBBbWJpZW50TGlnaHQgZXh0ZW5kcyBMaWdodHtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0eXBlOnN0cmluZyA9IFwiYW1iaWVudExpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTb3VyY2VMaWdodCBleHRlbmRzIExpZ2h0e1xuICAgICAgICBwdWJsaWMgaW50ZW5zaXR5Om51bWJlciA9IDE7XG5cbiAgICAgICAgcHJpdmF0ZSBfYmVmb3JlSW5pdFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUluaXRTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LkJFRk9SRV9HQU1FT0JKRUNUX0lOSVQpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYmVmb3JlSW5pdEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd01hcCAmJiB0aGlzLnNoYWRvd01hcC5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUucmVtb3ZlUmVuZGVyVGFyZ2V0UmVuZGVyZXIodGhpcy5zaGFkb3dNYXBSZW5kZXJlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUluaXRTdWJzY3JpcHRpb24gJiYgdGhpcy5fYmVmb3JlSW5pdFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzQmVmb3JlSW5pdFwiKVxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlSW5pdEhhbmRsZXIoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuY2FzdFNoYWRvdyl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dNYXAgPSB0aGlzLmNyZWF0ZVNoYWRvd01hcCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dNYXBSZW5kZXJlciA9IHRoaXMuY3JlYXRlU2hhZG93TWFwUmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHRoaXMuc2hhZG93TWFwUmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZVNoYWRvd01hcCgpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlU2hhZG93TWFwUmVuZGVyZXIoKTtcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRGlyZWN0aW9uTGlnaHQgZXh0ZW5kcyBTb3VyY2VMaWdodHtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0eXBlOnN0cmluZyA9IFwiZGlyZWN0aW9uTGlnaHRcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBkZWZhdWx0UG9zaXRpb246VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDEpO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2hhZG93UmVuZGVyTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBudWxsO1xuICAgICAgICBnZXQgc2hhZG93UmVuZGVyTGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoYWRvd1JlbmRlckxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oc2hhZG93UmVuZGVyTGlzdDphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNBcnJheShzaGFkb3dSZW5kZXJMaXN0KSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwic2hhZG93UmVuZGVyTGlzdFwiLCBcImFycmF5XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2V0IHNoYWRvd1JlbmRlckxpc3Qoc2hhZG93UmVuZGVyTGlzdDphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd1JlbmRlckxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KHNoYWRvd1JlbmRlckxpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIGV4dHJhY3QgU2hhZG93IGNsYXNzP1xuICAgICAgICBwdWJsaWMgc2hhZG93Q2FtZXJhTGVmdDpudW1iZXIgPSAtMTAwMDtcbiAgICAgICAgcHVibGljIHNoYWRvd0NhbWVyYVJpZ2h0Om51bWJlciA9IDEwMDA7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dDYW1lcmFUb3A6bnVtYmVyID0gMTAwMDtcbiAgICAgICAgcHVibGljIHNoYWRvd0NhbWVyYUJvdHRvbTpudW1iZXIgPSAtMTAwMDtcblxuICAgICAgICBwdWJsaWMgc2hhZG93TWFwOlR3b0RTaGFkb3dNYXBUZXh0dXJlO1xuICAgICAgICBwdWJsaWMgc2hhZG93TWFwUmVuZGVyZXI6VHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyO1xuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkb3dNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiBUd29EU2hhZG93TWFwVGV4dHVyZS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkb3dNYXBSZW5kZXJlcigpe1xuICAgICAgICAgICAgcmV0dXJuIFR3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUG9pbnRMaWdodCBleHRlbmRzIFNvdXJjZUxpZ2h0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIHR5cGU6c3RyaW5nID0gXCJwb2ludExpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yYW5nZUxldmVsOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCByYW5nZUxldmVsKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmFuZ2VMZXZlbDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcmFuZ2VMZXZlbChyYW5nZUxldmVsOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZUxldmVsID0gcmFuZ2VMZXZlbDtcbiAgICAgICAgICAgIHRoaXMuX2F0dGVudWF0aW9uLnJhbmdlTGV2ZWwgPSB0aGlzLl9yYW5nZUxldmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHJhbmdlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXR0ZW51YXRpb24ucmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJhbmdlKHJhbmdlOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9hdHRlbnVhdGlvbi5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGNvbnN0YW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXR0ZW51YXRpb24uY29uc3RhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbnN0YW50KGNvbnN0YW50Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9hdHRlbnVhdGlvbi5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGxpbmVhcigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGVudWF0aW9uLmxpbmVhcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbGluZWFyKGxpbmVhcjpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW51YXRpb24ubGluZWFyID0gbGluZWFyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHF1YWRyYXRpYygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGVudWF0aW9uLnF1YWRyYXRpYztcbiAgICAgICAgfVxuICAgICAgICBzZXQgcXVhZHJhdGljKHF1YWRyYXRpYzpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW51YXRpb24ucXVhZHJhdGljID0gcXVhZHJhdGljO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2hhZG93UmVuZGVyTGlzdDp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+PiA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+PigpO1xuICAgICAgICBnZXQgc2hhZG93UmVuZGVyTGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoYWRvd1JlbmRlckxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oc2hhZG93UmVuZGVyTGlzdDphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNEaXJlY3RPYmplY3Qoc2hhZG93UmVuZGVyTGlzdCksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInNoYWRvd1JlbmRlckxpc3RcIiwgXCJvYmplY3RcIikpO1xuXG4gICAgICAgICAgICBmb3IobGV0IGRpcmVjdGlvbiBpbiBzaGFkb3dSZW5kZXJMaXN0KXtcbiAgICAgICAgICAgICAgICBpZihzaGFkb3dSZW5kZXJMaXN0Lmhhc093blByb3BlcnR5KGRpcmVjdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHNoYWRvd1JlbmRlckxpc3RbZGlyZWN0aW9uXTtcblxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0FycmF5KGxpc3QpIHx8IHNoYWRvd1JlbmRlckxpc3QgaW5zdGFuY2VvZiB3ZENiLkhhc2gsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInJlbmRlckxpc3QgaW4gZWFjaCBkaXJlY3Rpb24gb2Ygc2hhZG93UmVuZGVyTGlzdFwiLCBcImFycmF5XCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcbiAgICAgICAgc2V0IHNoYWRvd1JlbmRlckxpc3Qoc2hhZG93UmVuZGVyTGlzdDphbnkpIHtcbiAgICAgICAgICAgIHNoYWRvd1JlbmRlckxpc3QgPSA8e1xuICAgICAgICAgICAgICAgIHB4OkFycmF5PEdhbWVPYmplY3Q+LFxuICAgICAgICAgICAgICAgIG54OkFycmF5PEdhbWVPYmplY3Q+LFxuICAgICAgICAgICAgICAgIHB5OkFycmF5PEdhbWVPYmplY3Q+LFxuICAgICAgICAgICAgICAgIG55OkFycmF5PEdhbWVPYmplY3Q+LFxuICAgICAgICAgICAgICAgIHB6OkFycmF5PEdhbWVPYmplY3Q+LFxuICAgICAgICAgICAgICAgIG56OkFycmF5PEdhbWVPYmplY3Q+XG4gICAgICAgICAgICB9PiBzaGFkb3dSZW5kZXJMaXN0O1xuXG4gICAgICAgICAgICBmb3IobGV0IGRpcmVjdGlvbiBpbiBzaGFkb3dSZW5kZXJMaXN0KXtcbiAgICAgICAgICAgICAgICBpZihzaGFkb3dSZW5kZXJMaXN0Lmhhc093blByb3BlcnR5KGRpcmVjdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHNoYWRvd1JlbmRlckxpc3RbZGlyZWN0aW9uXTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFkb3dSZW5kZXJMaXN0LmFkZENoaWxkKGRpcmVjdGlvbiwgd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PihsaXN0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNoYWRvd01hcDpDdWJlbWFwU2hhZG93TWFwVGV4dHVyZTtcbiAgICAgICAgcHVibGljIHNoYWRvd01hcFJlbmRlcmVyOkN1YmVtYXBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlcjtcblxuICAgICAgICBwcml2YXRlIF9hdHRlbnVhdGlvbjpBdHRlbnVhdGlvbiA9IEF0dGVudWF0aW9uLmNyZWF0ZSgpO1xuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkb3dNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiBDdWJlbWFwU2hhZG93TWFwVGV4dHVyZS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkb3dNYXBSZW5kZXJlcigpe1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBBdHRlbnVhdGlvbiB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb25zdGFudDpudW1iZXIgPSAxO1xuICAgICAgICBnZXQgY29uc3RhbnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25zdGFudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29uc3RhbnQoY29uc3RhbnQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yYW5nZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgcmFuZ2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJhbmdlKHJhbmdlOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbGluZWFyOm51bWJlciA9IDA7XG4gICAgICAgIGdldCBsaW5lYXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZWFyO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsaW5lYXIobGluZWFyOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9saW5lYXIgPSBsaW5lYXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9xdWFkcmF0aWM6bnVtYmVyID0gMDtcbiAgICAgICAgZ2V0IHF1YWRyYXRpYygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFkcmF0aWM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHF1YWRyYXRpYyhxdWFkcmF0aWM6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IHF1YWRyYXRpYztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JhbmdlTGV2ZWw6bnVtYmVyID0gMDtcbiAgICAgICAgZ2V0IHJhbmdlTGV2ZWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5nZUxldmVsO1xuICAgICAgICB9XG4gICAgICAgIHNldCByYW5nZUxldmVsKHJhbmdlTGV2ZWw6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlTGV2ZWwgPSByYW5nZUxldmVsO1xuXG4gICAgICAgICAgICB0aGlzLnNldEJ5UmFuZ2VMZXZlbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEJ5UmFuZ2VMZXZlbCgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fcmFuZ2VMZXZlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2UgPSA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDEuODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjM1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjQ0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuMjI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMjA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2UgPSAzMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4xNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4wNztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDUwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjA5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjAzMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDY1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjAxNztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wNDU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDA3NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDE2MDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wMjc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDAyODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wMjI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDAxOTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDMyNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wMTQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDAwNztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2UgPSA2MDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuMDA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjAwMDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMzI1MDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wMDE0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjAwMDAwNztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBcIm92ZXIgbGlnaHQgcmFuZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVMaWdodE1vZGVse1xuICAgICAgICBQSE9ORyA9IDxhbnk+XCJQSE9OR1wiLFxuICAgICAgICBCTElOTiA9IDxhbnk+XCJCTElOTlwiLFxuICAgICAgICBMQU1CRVJUID0gPGFueT5cIkxBTUJFUlRcIixcbiAgICAgICAgQ09OU1RBTlQgPSA8YW55PlwiQ09OU1RBTlRcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVJIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBAdmlydHVhbFxuICAgICAgICBnZXQgZGlydHkoKXtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMuZ2V0VUlSZW5kZXJlcigpO1xuXG4gICAgICAgICAgICBpZighcmVuZGVyZXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXIuZGlydHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGRpcnR5KGRpcnR5OmJvb2xlYW4pe1xuICAgICAgICAgICAgaWYoZGlydHkpe1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMuZ2V0VUlSZW5kZXJlcigpO1xuXG4gICAgICAgICAgICAgICAgaWYoIXJlbmRlcmVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmRpcnR5ID0gZGlydHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgd2lkdGgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdCA/IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS53aWR0aCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QgPyB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0uaGVpZ2h0IDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6VUlPYmplY3Q7XG4gICAgICAgIHB1YmxpYyBjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5nZXRDb250ZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkVG9PYmplY3QoZW50aXR5T2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyLmFkZFRvT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC51aU1hbmFnZXIuYWRkQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgc3VwZXIucmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3QudWlNYW5hZ2VyLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmNvbnRleHQgIT09IG51bGwsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic2V0IGNvbnRleHRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICAgICAgaWYodGhpcy5zaG91bGROb3RVcGRhdGUoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0Q2FudmFzVHJhbnNmb3JtRm9yUm90YXRpb24oKTtcblxuICAgICAgICAgICAgdGhpcy5kcmF3KGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgZHJhdyhlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIHNob3VsZE5vdFVwZGF0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldENvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVSVJlbmRlcmVyKCkuY29udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRDYW52YXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVSVJlbmRlcmVyKCkuY2FudmFzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9AcmVxdWlyZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgIGFzc2VydCh0aGlzLmVudGl0eU9iamVjdC5oYXNDb21wb25lbnQoVUlSZW5kZXJlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZW50aXR5T2JqZWN0XCIsIFwiY29udGFpbiBVSVJlbmRlcmVyXCIpKVxuICAgICAgICAvL30pXG4gICAgICAgIHByb3RlY3RlZCBnZXRVSVJlbmRlcmVyKCl7XG4gICAgICAgICAgICBpZighdGhpcy5lbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PFVJUmVuZGVyZXI+KFVJUmVuZGVyZXIpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcm90ZWN0ZWQgZHJhd0luQ2VudGVyUG9pbnQoY29udGV4dDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHNvdXJjZTphbnksIHBvc2l0aW9uOlZlY3RvcjIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcik7XG4gICAgICAgIHByb3RlY3RlZCBkcmF3SW5DZW50ZXJQb2ludChjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc291cmNlOmFueSwgc3g6bnVtYmVyLCBzeTpudW1iZXIsIHN3Om51bWJlciwgc2g6bnVtYmVyLCBwb3NpdGlvbjpWZWN0b3IyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpO1xuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3SW5DZW50ZXJQb2ludCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgc291cmNlOmFueSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSA1KXtcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb246VmVjdG9yMiA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOm51bWJlciA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDpudW1iZXIgPSBhcmdzWzRdO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueCAtIHdpZHRoIC8gMiwgcG9zaXRpb24ueSAtIGhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gOSl7XG4gICAgICAgICAgICAgICAgbGV0IHN4Om51bWJlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHN5Om51bWJlciA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIHN3Om51bWJlciA9IGFyZ3NbNF0sXG4gICAgICAgICAgICAgICAgICAgIHNoOm51bWJlciA9IGFyZ3NbNV0sXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOlZlY3RvcjIgPSBhcmdzWzZdLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDpudW1iZXIgPSBhcmdzWzddLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6bnVtYmVyID0gYXJnc1s4XTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UsIHN4LCBzeSwgc3csIHNoLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54IC0gd2lkdGggLyAyLCBwb3NpdGlvbi55IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRDYW52YXNUcmFuc2Zvcm1Gb3JSb3RhdGlvbigpe1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5yb3RhdGlvbk1hdHJpeDtcblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybShtYXRyaXguYSwgbWF0cml4LmIsIG1hdHJpeC5jLCBtYXRyaXguZCwgbWF0cml4LnR4LCBtYXRyaXgudHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUZvbnRYQWxpZ25tZW50e1xuICAgICAgICBMRUZULFxuICAgICAgICBDRU5URVIsXG4gICAgICAgIFJJR0hUXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVGb250WUFsaWdubWVudHtcbiAgICAgICAgVE9QLFxuICAgICAgICBNSURETEUsXG4gICAgICAgIEJPVFRPTVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFRm9udERpbWVuc2lvbntcbiAgICAgICAgQVVUTyA9IDxhbnk+XCJhdXRvXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGb250IGV4dGVuZHMgVUkge1xuICAgICAgICBwcm90ZWN0ZWQgbmVlZEZvcm1hdDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNGaXJzdFVwZGF0ZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBfc2l6ZUNoYW5nZUV2ZW50U3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zaXplQ2hhbmdlRXZlbnRTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5VSV9XSURUSF9DSEFOR0UpXG4gICAgICAgICAgICAgICAgLm1lcmdlKEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50LlVJX0hFSUdIVF9DSEFOR0UpKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBpZih0aGlzLl9zaXplQ2hhbmdlRXZlbnRTdWJzY3JpcHRpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpemVDaGFuZ2VFdmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICBpZighdGhpcy5faXNGaXJzdFVwZGF0ZSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5uZWVkRm9ybWF0KXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZUZvcm1hdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNGaXJzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm5lZWRGb3JtYXQgPSBmYWxzZTtcblxuICAgICAgICAgICAgc3VwZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCByZUZvcm1hdCgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldExlZnRDb3JuZXJQb3NpdGlvbigpe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjIuY3JlYXRlKHBvc2l0aW9uLnggLSB0cmFuc2Zvcm0ud2lkdGggLyAyLCBwb3NpdGlvbi55IC0gdHJhbnNmb3JtLmhlaWdodCAvIDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGNvbnN0IFdPUkRfUkVYID0gLyhbYS16QS1aMC05XSt8XFxTKS8sXG4gICAgICAgIEZJUlNUX0VOR0xJU0hfT1JfTlVNID0gL15bYS16QS1aMC05XS8sXG4gICAgICAgIExBU1RfRU5HTElTSF9PUl9OVU0gPSAvW2EtekEtWjAtOV0rJC8sXG4gICAgICAgIExBU1RfSU5WQUxJRF9DSEFSID0gL1xccyskLztcblxuICAgIC8vdG9kbyBub3cgb25seSBzdXBwb3J0IEVuZ2xpc2gsIG5lZWQgc3VwcG9ydCBtb3JlIGxhbmd1YWdlcyBsaWtlIEZyZW5jaCxHZXJtYW5cbiAgICBleHBvcnQgY2xhc3MgUGxhaW5Gb250IGV4dGVuZHMgRm9udCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90ZXh0OnN0cmluZyA9IFwiXCI7XG4gICAgICAgIGdldCB0ZXh0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdGV4dCh0ZXh0OnN0cmluZyl7XG4gICAgICAgICAgICBpZih0ZXh0ICE9PSB0aGlzLl90ZXh0KXtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mb250U2l6ZTpudW1iZXIgPSAxMDtcbiAgICAgICAgZ2V0IGZvbnRTaXplKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZvbnRTaXplKGZvbnRTaXplOm51bWJlcil7XG4gICAgICAgICAgICBpZihmb250U2l6ZSAhPT0gdGhpcy5fZm9udFNpemUpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZm9udEZhbWlseTpzdHJpbmcgPSBcInNhbnMtc2VyaWZcIjtcbiAgICAgICAgZ2V0IGZvbnRGYW1pbHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBmb250RmFtaWx5KGZvbnRGYW1pbHk6c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKGZvbnRGYW1pbHkgIT09IHRoaXMuX2ZvbnRGYW1pbHkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3hBbGlnbm1lbnQ6RUZvbnRYQWxpZ25tZW50ID0gRUZvbnRYQWxpZ25tZW50LkxFRlQ7XG4gICAgICAgIGdldCB4QWxpZ25tZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feEFsaWdubWVudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeEFsaWdubWVudCh4QWxpZ25tZW50OkVGb250WEFsaWdubWVudCl7XG4gICAgICAgICAgICBpZih4QWxpZ25tZW50ICE9PSB0aGlzLl94QWxpZ25tZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLl94QWxpZ25tZW50ID0geEFsaWdubWVudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF95QWxpZ25tZW50OkVGb250WUFsaWdubWVudCA9IEVGb250WUFsaWdubWVudC5UT1A7XG4gICAgICAgIGdldCB5QWxpZ25tZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feUFsaWdubWVudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeUFsaWdubWVudCh5QWxpZ25tZW50OkVGb250WUFsaWdubWVudCl7XG4gICAgICAgICAgICBpZih5QWxpZ25tZW50ICE9PSB0aGlzLl95QWxpZ25tZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLl95QWxpZ25tZW50ID0geUFsaWdubWVudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maWxsRW5hYmxlZDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBfZmlsbFN0eWxlOnN0cmluZyA9IFwicmdiYSgwLCAwLCAwLCAxKVwiO1xuICAgICAgICBwcml2YXRlIF9zdHJva2VFbmFibGVkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfc3Ryb2tlU3R5bGU6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc3Ryb2tlU2l6ZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9mb250Q2xpZW50SGVpZ2h0Q2FjaGU6d2RDYi5IYXNoPG51bWJlcj4gPSB3ZENiLkhhc2guY3JlYXRlPG51bWJlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfbGluZUhlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zdHJBcnI6QXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXRUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gdGhpcy5fZ2V0RGVmYXVsdExpbmVIZWlnaHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGaWxsU3R5bGUoZmlsbFN0eWxlOnN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGVuYWJsZVN0cm9rZShzdHJva2VTdHlsZTpzdHJpbmcsIHN0cm9rZVNpemU6bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VTaXplID0gc3Ryb2tlU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbmFibGVGaWxsKGZpbGxTdHlsZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldExpbmVIZWlnaHQobGluZUhlaWdodDpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlRm9ybWF0KCl7XG4gICAgICAgICAgICB0aGlzLl9mb3JtYXRUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gdGhpcy5fZ2V0RGVmYXVsdExpbmVIZWlnaHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3KCl7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX1weCAnJHt0aGlzLmZvbnRGYW1pbHl9J2A7XG5cbiAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gXCJzdGFydFwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RyQXJyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3TXVsdGlMaW5lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3U2luZ2xlTGluZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZm9ybWF0VGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMud2lkdGg7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyaW1TdHIoKTtcblxuICAgICAgICAgICAgaWYgKG1heFdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyQXJyID0gdGhpcy5fdGV4dC5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3N0ckFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuX3N0ckFycltpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFdpZHRoID0gdGhpcy5fbWVhc3VyZSh0ZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsV2lkdGggPiBtYXhXaWR0aCAmJiB0ZXh0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1hdE11bHRpTGluZShpLCB0ZXh0LCBhbGxXaWR0aCwgbWF4V2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJpbVN0cigpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoTEFTVF9JTlZBTElEX0NIQVIsIFwiXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZm9ybWF0TXVsdGlMaW5lKGk6bnVtYmVyLCB0ZXh0OnN0cmluZywgYWxsV2lkdGg6bnVtYmVyLCBtYXhXaWR0aDpudW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IExPT1BfTUFYX05VTSA9IDEwMDtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVUZXh0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0cnVuY2F0aW9uUG9pbnRJbmRleCA9IHRleHQubGVuZ3RoICogKCBtYXhXaWR0aCAvIGFsbFdpZHRoICkgfCAwLFxuICAgICAgICAgICAgICAgIG5leHRUZXh0ID0gdGV4dC5zdWJzdHIodHJ1bmNhdGlvblBvaW50SW5kZXgpLFxuICAgICAgICAgICAgICAgIGxvb3BJbmRleCA9IDAsXG4gICAgICAgICAgICAgICAgd2lkdGggPSBhbGxXaWR0aCAtIHRoaXMuX21lYXN1cmUobmV4dFRleHQpLFxuICAgICAgICAgICAgICAgIHB1c2hOdW0gPSAwO1xuXG5cbiAgICAgICAgICAgIHZhciB0cnVuY2F0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvKiEgdHJ1bmNhdGUgc3RyaW5nIGJ5IHRoZSBtYXhXaWR0aCAvIHdpZHRoIHJhdGlvXG4gICAgICAgICAgICAgICAgaWYgc3RyaW5nIHN0aWxsIGV4Y2VlZCBtYXhXaWR0aCwgdHJ1bmNhdGUgd2l0aCB0aGUgc2FtZSByYXRpbyByZWN1cnNpdmVcblxuICAgICAgICAgICAgICAgIGFmdGVyIGxvb3AsIHRydW5jYXRpb25Qb2ludEluZGV4IHdpbGwgPD0gdGhlIHRydWUgb25lXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgd2hpbGUgKHdpZHRoID4gbWF4V2lkdGggJiYgbG9vcEluZGV4IDwgTE9PUF9NQVhfTlVNKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW5jYXRpb25Qb2ludEluZGV4ICo9IG1heFdpZHRoIC8gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHRydW5jYXRpb25Qb2ludEluZGV4ID0gTWF0aC5mbG9vcih0cnVuY2F0aW9uUG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0ID0gdGV4dC5zdWJzdHIodHJ1bmNhdGlvblBvaW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGFsbFdpZHRoIC0gdGhpcy5fbWVhc3VyZShuZXh0VGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmRleCA9IGxvb3BJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9vcEluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZpbmRUcnVuY2F0aW9uUG9pbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyohIGZpbmQgdGhlIHRydW5jYXRpb24gcG9pbnQgdG8gZ2V0IHRoZSB0cnVlIHRydW5jYXRpb25Qb2ludEluZGV4XG4gICAgICAgICAgICAgICAgc3RlcCBieSB3b3JkKGlmIGl0J3MgY2hpbmVzZSwgdGhlIHN0ZXAgd2lsbCBiZSAxKVxuICAgICAgICAgICAgICAgIGFmdGVyIGxvb3AsIHRydW5jYXRpb25Qb2ludEluZGV4IHdpbGwgYmUgdGhlIGluZGV4IG9mIGxhc3QgY2hhciBvZiB0aGUgd29yZCB3aGljaCBleGNlZWQgbWF4V2lkdGhcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIHdoaWxlICh3aWR0aCA8IG1heFdpZHRoICYmIGxvb3BJbmRleCA8IExPT1BfTUFYX05VTSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleGVjID0gV09SRF9SRVguZXhlYyhuZXh0VGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoTnVtID0gZXhlYyA/IGV4ZWNbMF0ubGVuZ3RoIDogMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRydW5jYXRpb25Qb2ludEluZGV4ID0gdHJ1bmNhdGlvblBvaW50SW5kZXggKyBwdXNoTnVtO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dCA9IHRleHQuc3Vic3RyKHRydW5jYXRpb25Qb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBhbGxXaWR0aCAtIHRoaXMuX21lYXN1cmUobmV4dFRleHQpO1xuICAgICAgICAgICAgICAgICAgICBsb29wSW5kZXggPSBsb29wSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGhhbmRsZVRydW5jYXRpb25Qb2ludEluZGV4ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgICAgIHNob3VsZG4ndCB0cnVuY2F0ZSB0aGUgd29yZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChGSVJTVF9FTkdMSVNIX09SX05VTS50ZXN0KG5leHRUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJlVGV4dCA9IHRleHQuc3Vic3RyKDAsIHRydW5jYXRpb25Qb2ludEluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBFeGVjID0gTEFTVF9FTkdMSVNIX09SX05VTS5leGVjKHByZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwRXhlYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggPSB0cnVuY2F0aW9uUG9pbnRJbmRleCAtIHBFeGVjWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggPSB0cnVuY2F0aW9uUG9pbnRJbmRleCAtIHB1c2hOdW07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRydW5jYXRpb25Qb2ludEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRydW5jYXRpb25Qb2ludEluZGV4ID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzZXRTdHJpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV4dFRleHQgPSB0ZXh0LnN1YnN0cih0cnVuY2F0aW9uUG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgcHJlVGV4dCA9IHRleHQuc3Vic3RyKDAsIHRydW5jYXRpb25Qb2ludEluZGV4KTtcblxuXG4gICAgICAgICAgICAgICAgc2VsZi5fc3RyQXJyW2ldID0gbmV4dFRleHQ7XG4gICAgICAgICAgICAgICAgc2VsZi5fc3RyQXJyLnNwbGljZShpLCAwLCBwcmVUZXh0KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0cnVuY2F0ZSgpO1xuICAgICAgICAgICAgZmluZFRydW5jYXRpb25Qb2ludCgpO1xuICAgICAgICAgICAgaGFuZGxlVHJ1bmNhdGlvblBvaW50SW5kZXgoKTtcbiAgICAgICAgICAgIHNldFN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbWVhc3VyZSh0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7dGhpcy5mb250U2l6ZX1weCAnJHt0aGlzLmZvbnRGYW1pbHl9J2A7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RGVmYXVsdExpbmVIZWlnaHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcHV0ZUxpbmVIZWlnaHQoXCJub3JtYWxcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb21wdXRlTGluZUhlaWdodChsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gd2RDYi5Eb21RdWVyeS5jcmVhdGUoXCI8ZGl2PjwvZGl2PlwiKSxcbiAgICAgICAgICAgICAgICBkb20gPSBkaXYuZ2V0KDApLFxuICAgICAgICAgICAgICAgIHJlc3VsdExpbmVIZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICBkb20uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICBmb250LWZhbWlseTogJHt0aGlzLmZvbnRGYW1pbHl9O1xuICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHt0aGlzLmZvbnRTaXplfXB4O1xuICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICBsZWZ0OiAtMTAwcHg7XG4gICAgICAgICAgICAgdG9wOiAtMTAwcHg7XG4gICAgICAgICAgICAgbGluZS1oZWlnaHQ6ICR7bGluZUhlaWdodH07XG4gICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgZGl2LnByZXBlbmRUbyhcImJvZHlcIik7XG5cbiAgICAgICAgICAgIGRvbS5pbm5lckhUTUwgPSBcImFiYyFcIjtcblxuICAgICAgICAgICAgcmVzdWx0TGluZUhlaWdodCA9IGRvbS5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgIGRpdi5yZW1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdExpbmVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRGb250Q2xpZW50SGVpZ2h0KCkge1xuICAgICAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5mb250U2l6ZSxcbiAgICAgICAgICAgICAgICBmb250TmFtZSA9IHRoaXMuZm9udEZhbWlseSxcbiAgICAgICAgICAgICAgICBrZXkgPSBgJHtmb250U2l6ZX0uJHtmb250TmFtZX1gLFxuICAgICAgICAgICAgICAgIGNhY2hlSGVpZ2h0ID0gdGhpcy5fZm9udENsaWVudEhlaWdodENhY2hlLmdldENoaWxkKGtleSksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGNhY2hlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlSGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl9jb21wdXRlTGluZUhlaWdodCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRDbGllbnRIZWlnaHRDYWNoZS5hZGRDaGlsZChrZXksIGhlaWdodCk7XG5cbiAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3TXVsdGlMaW5lKCl7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgICAvL3Bvc2l0aW9uID0gdGhpcy5nZXRDYW52YXNQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRMZWZ0Q29ybmVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gdGhpcy5fbGluZUhlaWdodCxcbiAgICAgICAgICAgICAgICBmb250Q2xpZW50SGVpZ2h0ID0gdGhpcy5fZ2V0Rm9udENsaWVudEhlaWdodCgpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGxpbmVDb3VudCA9IHRoaXMuX3N0ckFyci5sZW5ndGgsXG4gICAgICAgICAgICAvKiEgdGhlIGxpbmVIZWlnaHQgb2YgbGFzdCBsaW5lIGlzIHRoZSBoZWlnaHQgb2YgZm9udCAqL1xuICAgICAgICAgICAgICAgIGxpbmVUb3RhbEhlaWdodCA9IChsaW5lQ291bnQgLSAxKSAqIGxpbmVIZWlnaHQgKyBmb250Q2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoc2VsZi55QWxpZ25tZW50ID09PSBFRm9udFlBbGlnbm1lbnQuQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgeSA9IHkgKyBzZWxmLmhlaWdodCAtIGxpbmVUb3RhbEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYueUFsaWdubWVudCA9PT0gRUZvbnRZQWxpZ25tZW50Lk1JRERMRSkge1xuICAgICAgICAgICAgICAgIHkgPSB5ICsgKHNlbGYuaGVpZ2h0IC0gbGluZVRvdGFsSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IHN0ciBvZiB0aGlzLl9zdHJBcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi54QWxpZ25tZW50ID09PSBFRm9udFhBbGlnbm1lbnQuUklHSFQpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHggKyBzZWxmLndpZHRoIC0gc2VsZi5fbWVhc3VyZShzdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLnhBbGlnbm1lbnQgPT0gRUZvbnRYQWxpZ25tZW50LkNFTlRFUikge1xuICAgICAgICAgICAgICAgICAgICB4ID0geCArIChzZWxmLndpZHRoIC0gc2VsZi5fbWVhc3VyZShzdHIpKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fZmlsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzZWxmLl9maWxsU3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc3RyLCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fc3Ryb2tlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc2VsZi5fc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc2VsZi5fc3Ryb2tlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHN0ciwgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgeSA9IHkgKyBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZHJhd1NpbmdsZUxpbmUoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZ2V0TGVmdENvcm5lclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgeCA9IHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgZm9udENsaWVudEhlaWdodCA9IHRoaXMuX2dldEZvbnRDbGllbnRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBsaW5lQ291bnQgPSAxLFxuICAgICAgICAgICAgLyohIHRoZSBsaW5lSGVpZ2h0IGlzIHRoZSBoZWlnaHQgb2YgZm9udCAqL1xuICAgICAgICAgICAgICAgIGxpbmVUb3RhbEhlaWdodCA9IGZvbnRDbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RyID0gdGhpcy5fc3RyQXJyWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2VsZi55QWxpZ25tZW50ID09PSBFRm9udFlBbGlnbm1lbnQuQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgeSA9IHkgKyBzZWxmLmhlaWdodCAtIGxpbmVUb3RhbEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYueUFsaWdubWVudCA9PT0gRUZvbnRZQWxpZ25tZW50Lk1JRERMRSkge1xuICAgICAgICAgICAgICAgIHkgPSB5ICsgKHNlbGYuaGVpZ2h0IC0gbGluZVRvdGFsSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxmLnhBbGlnbm1lbnQgPT09IEVGb250WEFsaWdubWVudC5SSUdIVCkge1xuICAgICAgICAgICAgICAgIHggPSB4ICsgc2VsZi53aWR0aCAtIHNlbGYuX21lYXN1cmUoc3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYueEFsaWdubWVudCA9PSBFRm9udFhBbGlnbm1lbnQuQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgeCA9IHggKyAoc2VsZi53aWR0aCAtIHNlbGYuX21lYXN1cmUoc3RyKSkgLyAyO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChzZWxmLl9maWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc2VsZi5fZmlsbFN0eWxlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoc3RyLCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuX3N0cm9rZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc2VsZi5fc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzZWxmLl9zdHJva2VTaXplO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChzdHIsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIC8vdG9kbyBzdXBwb3J0IHlBbGlnblxuICAgIC8vdG9kbyBzdXBwb3J0IHJvdGF0ZSBCaXRtYXBGb250LmVudGl0eU9iamVjdChpdCBzaG91bGQgcm90YXRlIGFsbCBpdHMgQ2hhckZvbnQgVUlPYmplY3QgYXJvdW5kIHBpdm90KShyZWZlciB0byBCdXR0b24tPnRleHQsIHNob3VsZCBzZXRDaGlsZHJlblRyYW5zZm9ybSB3aGVuIGluaXQpXG4gICAgZXhwb3J0IGNsYXNzIEJpdG1hcEZvbnQgZXh0ZW5kcyBGb250e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdGV4dDpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBnZXQgdGV4dCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRleHQodGV4dDpzdHJpbmcpe1xuICAgICAgICAgICAgaWYodGV4dCAhPT0gdGhpcy5fdGV4dCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfeEFsaWdubWVudDpFRm9udFhBbGlnbm1lbnQgPSBFRm9udFhBbGlnbm1lbnQuTEVGVDtcbiAgICAgICAgZ2V0IHhBbGlnbm1lbnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94QWxpZ25tZW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCB4QWxpZ25tZW50KHhBbGlnbm1lbnQ6RUZvbnRYQWxpZ25tZW50KXtcbiAgICAgICAgICAgIGlmKHhBbGlnbm1lbnQgIT09IHRoaXMuX3hBbGlnbm1lbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3hBbGlnbm1lbnQgPSB4QWxpZ25tZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmbnRJZDpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYml0bWFwSWQ6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9jaGFyRm9udExpc3Q6d2RDYi5Db2xsZWN0aW9uPFVJT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8VUlPYmplY3Q+KCk7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIGZudE9iaiA9IHRoaXMuX2dldEZudE9iaigpLFxuICAgICAgICAgICAgICAgIGltYWdlQXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQgPSB0aGlzLl9nZXRJbWFnZUFzc2V0KCk7XG5cbiAgICAgICAgICAgIGlmICghZm50T2JqKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImltcG9zc2libGUgdG8gY3JlYXRlIGZvbnQ6IG5vdCBmaW5kIGZudCBmaWxlXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighaW1hZ2VBc3NldCl7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImltcG9zc2libGUgdG8gY3JlYXRlIGZvbnQ6IG5vdCBmaW5kIGJpdG1hcCBmaWxlXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUFuZEFkZEZvbnRDaGFyVUlPYmplY3RzKGZudE9iaiwgaW1hZ2VBc3NldC5zb3VyY2UpO1xuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXRUZXh0KGZudE9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWxsQ2hhckZvbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZUZvcm1hdCgpe1xuICAgICAgICAgICAgdmFyIGZudE9iaiA9IHRoaXMuX2dldEZudE9iaigpLFxuICAgICAgICAgICAgICAgIGltYWdlQXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQgPSB0aGlzLl9nZXRJbWFnZUFzc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUFsbENoYXJGb250KCk7XG5cbiAgICAgICAgICAgIGlmICghZm50T2JqKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImltcG9zc2libGUgdG8gY3JlYXRlIGZvbnQ6IG5vdCBmaW5kIGZudCBmaWxlXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIWltYWdlQXNzZXQpe1xuICAgICAgICAgICAgICAgIExvZy5sb2coXCJpbXBvc3NpYmxlIHRvIGNyZWF0ZSBmb250OiBub3QgZmluZCBiaXRtYXAgZmlsZVwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlQW5kQWRkRm9udENoYXJVSU9iamVjdHMoZm50T2JqLCBpbWFnZUFzc2V0LnNvdXJjZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdFRleHQoZm50T2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEZudE9iaigpe1xuICAgICAgICAgICAgcmV0dXJuIExvYWRlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXQodGhpcy5mbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRJbWFnZUFzc2V0KCl7XG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldCh0aGlzLmJpdG1hcElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUFuZEFkZEZvbnRDaGFyVUlPYmplY3RzKGZudE9iajphbnksIGltYWdlOkhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBsb2NTdHIgPSB0aGlzLnRleHQsXG4gICAgICAgICAgICAgICAgbG9jRm9udERpY3QgPSBmbnRPYmouZm9udERlZkRpY3Rpb25hcnksXG4gICAgICAgICAgICAgICAgbmV4dEZvbnRQb3NpdGlvblggPSAwLFxuICAgICAgICAgICAgICAgIG5leHRGb250UG9zaXRpb25ZID0gMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZ2V0TGVmdENvcm5lclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgLy9wb3NpdGlvbiA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB1aVJlbmRlcmVyOlVJUmVuZGVyZXIgPSB0aGlzLmdldFVJUmVuZGVyZXIoKSxcbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0OlVJT2JqZWN0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpDaGFyRm9udCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBzdHJpbmdMZW4gPSBsb2NTdHIubGVuZ3RoOyBpIDwgc3RyaW5nTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gU3RyaW5nKGxvY1N0ci5jaGFyQ29kZUF0KGkpKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhciA9IGxvY1N0cltpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc05ld0xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJGb250RGF0YSA9IHRoaXMuX2NyZWF0ZUFuZEFkZEZvbnRDaGFyT2JqZWN0T2ZOZXdMaW5lQ2hhcihpLCBjaGFyLCB1aVJlbmRlcmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdCA9IGNoYXJGb250RGF0YS5jaGFyRm9udFVJT2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udCA9IGNoYXJGb250RGF0YS5jaGFyRm9udDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDaGFyRm9udFVJT2JqZWN0UG9zaXRpb24oY2hhckZvbnRVSU9iamVjdCwgcG9zaXRpb24ueCArIG5leHRGb250UG9zaXRpb25YLCBwb3NpdGlvbi55ICsgbmV4dEZvbnRQb3NpdGlvblkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoYXJGb250LnN0YXJ0UG9zWCA9IG5leHRGb250UG9zaXRpb25YO1xuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udC54QWR2YW5jZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRQb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgICAgICBuZXh0Rm9udFBvc2l0aW9uWSA9IG5leHRGb250UG9zaXRpb25ZICsgZm50T2JqLmNvbW1vbkhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGxldCBmb250RGVmID0gdGhpcy5fZ2V0Rm9udERlZihsb2NGb250RGljdCwga2V5KSxcbiAgICAgICAgICAgICAgICAgICAgY2hhckZvbnREYXRhOntjaGFyRm9udFVJT2JqZWN0OlVJT2JqZWN0LGNoYXJGb250OkNoYXJGb250fSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZvbnREZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLmxvZyhgY2hhcmFjdGVyIG5vdCBmb3VuZCAke2NoYXJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoYXJGb250RGF0YSA9IHRoaXMuX2NyZWF0ZUFuZEFkZEZvbnRDaGFyT2JqZWN0T2ZDb21tb25DaGFyKGZvbnREZWYsIGltYWdlLCBpLCBjaGFyLCB1aVJlbmRlcmVyKTtcblxuICAgICAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3QgPSBjaGFyRm9udERhdGEuY2hhckZvbnRVSU9iamVjdDtcbiAgICAgICAgICAgICAgICBjaGFyRm9udCA9IGNoYXJGb250RGF0YS5jaGFyRm9udDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NldENoYXJGb250VUlPYmplY3RQb3NpdGlvbihjaGFyRm9udFVJT2JqZWN0LCBwb3NpdGlvbi54ICsgbmV4dEZvbnRQb3NpdGlvblggKyBmb250RGVmLnhPZmZzZXQsIHBvc2l0aW9uLnkgKyBuZXh0Rm9udFBvc2l0aW9uWSArIGZvbnREZWYueU9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICBjaGFyRm9udC5zdGFydFBvc1ggPSBuZXh0Rm9udFBvc2l0aW9uWDtcbiAgICAgICAgICAgICAgICBjaGFyRm9udC54QWR2YW5jZSA9IGZvbnREZWYueEFkdmFuY2U7XG5cbiAgICAgICAgICAgICAgICBuZXh0Rm9udFBvc2l0aW9uWCA9IG5leHRGb250UG9zaXRpb25YICsgZm9udERlZi54QWR2YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUFuZEFkZEZvbnRDaGFyT2JqZWN0T2ZOZXdMaW5lQ2hhcihpbmRleDpudW1iZXIsIGNoYXI6c3RyaW5nLCB1aVJlbmRlcmVyOlVJUmVuZGVyZXIpe1xuICAgICAgICAgICAgdmFyIGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3QgPSB0aGlzLl9maW5kQ2hhckZvbnRVSU9iamVjdChpbmRleCksXG4gICAgICAgICAgICAgICAgY2hhckZvbnQ6Q2hhckZvbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJGb250VUlPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hhckZvbnREYXRhID0gdGhpcy5fY3JlYXRlQ2hhckZvbnQoaW5kZXgsIHVpUmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdCA9IGNoYXJGb250RGF0YS5jaGFyRm9udFVJT2JqZWN0O1xuICAgICAgICAgICAgICAgIGNoYXJGb250ID0gY2hhckZvbnREYXRhLmNoYXJGb250O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ2hhckZvbnRVSU9iamVjdChjaGFyRm9udFVJT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBjaGFyRm9udFVJT2JqZWN0LmdldENvbXBvbmVudDxDaGFyRm9udD4oQ2hhckZvbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFyRm9udC5jaGFyID0gY2hhcjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0OmNoYXJGb250VUlPYmplY3QsXG4gICAgICAgICAgICAgICAgY2hhckZvbnQ6Y2hhckZvbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUFuZEFkZEZvbnRDaGFyT2JqZWN0T2ZDb21tb25DaGFyKGZvbnREZWY6YW55LCBpbWFnZTpIVE1MSW1hZ2VFbGVtZW50LCBpbmRleDpudW1iZXIsIGNoYXI6c3RyaW5nLCB1aVJlbmRlcmVyOlVJUmVuZGVyZXIpe1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBSZWN0UmVnaW9uLmNyZWF0ZShmb250RGVmLnJlY3QueCwgZm9udERlZi5yZWN0LnksIGZvbnREZWYucmVjdC53aWR0aCwgZm9udERlZi5yZWN0LmhlaWdodCksXG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdDpVSU9iamVjdCA9IHRoaXMuX2ZpbmRDaGFyRm9udFVJT2JqZWN0KGluZGV4KSxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpDaGFyRm9udCA9IG51bGw7XG5cblxuICAgICAgICAgICAgaWYgKCFjaGFyRm9udFVJT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoYXJGb250RGF0YSA9IHRoaXMuX2NyZWF0ZUNoYXJGb250KGluZGV4LCB1aVJlbmRlcmVyKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOlJlY3RUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdCA9IGNoYXJGb250RGF0YS5jaGFyRm9udFVJT2JqZWN0O1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IGNoYXJGb250VUlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIGNoYXJGb250ID0gY2hhckZvbnREYXRhLmNoYXJGb250O1xuXG5cbiAgICAgICAgICAgICAgICBjaGFyRm9udC5pbWFnZSA9IGltYWdlO1xuICAgICAgICAgICAgICAgIGNoYXJGb250LnJlY3RSZWdpb24gPSByZWN0O1xuXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cblxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENoYXJGb250VUlPYmplY3QoY2hhckZvbnRVSU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGNoYXJGb250ID0gY2hhckZvbnRVSU9iamVjdC5nZXRDb21wb25lbnQ8Q2hhckZvbnQ+KENoYXJGb250KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhckZvbnQuY2hhciA9IGNoYXI7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdDpjaGFyRm9udFVJT2JqZWN0LFxuICAgICAgICAgICAgICAgIGNoYXJGb250OmNoYXJGb250XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihmbnRPYmo6YW55KXtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxLCBzdHJpbmdMZW4gPSB0aGlzLnRleHQubGVuZ3RoOyBpIDwgc3RyaW5nTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJhY3RlclVJT2JqZWN0ID0gdGhpcy5lbnRpdHlPYmplY3QuZmluZENoaWxkQnlUYWcoU3RyaW5nKGkpKTtcblxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoISFjaGFyYWN0ZXJVSU9iamVjdCwgXCJjaGFyIG5vdCBoYXMgY29ycmVzcG9uZGluZyBlbnRpdHlPYmplY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChjaGFyYWN0ZXJVSU9iamVjdC5oYXNDb21wb25lbnQoQ2hhckZvbnQpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImNoYXIgZW50aXR5T2JqZWN0XCIsIFwiY29udGFpbiBDaGFyRm9udCBjb21wb25lbnRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZm9ybWF0VGV4dChmbnRPYmo6YW55KSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb3JtYXRNdWx0aUxpbmUoZm50T2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZm9ybWF0QWxpZ24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2Zvcm1hdE11bHRpTGluZShmbnRPYmo6YW55KXtcbiAgICAgICAgICAgIHZhciBlbnRpdHlPYmplY3QgPSB0aGlzLmVudGl0eU9iamVjdCxcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJVSU9iamVjdDpVSU9iamVjdCA9IG51bGwsXG4gICAgICAgICAgICAgICAgY2hhckZvbnQ6Q2hhckZvbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRMZWZ0Q29ybmVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gZm50T2JqLmNvbW1vbkhlaWdodDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDEsIHN0cmluZ0xlbiA9IHRoaXMudGV4dC5sZW5ndGg7IGkgPCBzdHJpbmdMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclVJT2JqZWN0ID0gdGhpcy5fZmluZENoYXJGb250VUlPYmplY3QoaSk7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBjaGFyYWN0ZXJVSU9iamVjdC5nZXRDb21wb25lbnQ8Q2hhckZvbnQ+KENoYXJGb250KTtcblxuICAgICAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgICAgICBzaG91bGQgbWFyayB0aGUgbGFzdCBjaGFyIG9mIHRoZSBsaW5lIGlzTmV3TGluZS9pc0Z1bGxMaW5lXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzTmV3TGluZShjaGFyRm9udC5jaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udC5pc05ld0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udC5pc0Z1bGxMaW5lID0gZmFsc2U7XG5cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGVDaGFyRm9udFVJT2JqZWN0KGNoYXJhY3RlclVJT2JqZWN0LCAteCwgeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNFeGNlZWRXaWR0aChwb3NpdGlvbiwgY2hhckZvbnQsIHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmV2Q2hhclVJT2JqZWN0OlVJT2JqZWN0ID0gdGhpcy5fZmluZENoYXJGb250VUlPYmplY3QoaSAtIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2Q2hhclVJT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldkNoYXJGb250ID0gcHJldkNoYXJVSU9iamVjdC5nZXRDb21wb25lbnQ8Q2hhckZvbnQ+KENoYXJGb250KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNoYXJGb250LmlzTmV3TGluZSA9IHRydWU7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgdGhlIHByZXYgY2hhciBpcyBzcGFjZSBjaGFyKGl0J3MgdGhlIGxhc3QgY2hhciBvZiB0aGlzIGxpbmUpLCB0aGlzIGxpbmUgaXMgbm90IFwiZnVsbExpbmVcIihiZWNhdXNlIHRoZSBsYXN0IHNwYWNlIGNoYXIgb2YgdGhlIGxpbmUgd2lsbCBiZSByZW1vdmVkIHdoZW4gYWxpZ24pLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzU3BhY2VVbmljb2RlKHByZXZDaGFyRm9udC5jaGFyKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNoYXJGb250LmlzRnVsbExpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIHggPSB0aGlzLl9nZXRMZXR0ZXJQb3NYTGVmdChjaGFyRm9udCk7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB5ICsgbGluZUhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGVDaGFyRm9udFVJT2JqZWN0KGNoYXJhY3RlclVJT2JqZWN0LCAteCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGVDaGFyRm9udFVJT2JqZWN0KGNoYXJhY3RlclVJT2JqZWN0LCAteCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZm9ybWF0QWxpZ24oKXtcbiAgICAgICAgICAgIC8vdmFyIHBvc2l0aW9uID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRMZWZ0Q29ybmVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgaXRlcmF0ZSB0aGUgbGluZXNcblxuICAgICAgICAgICAgIGlmIHRoZSBsaW5lIGlzIFwiZnVsbExpbmVcIiwgbm90IGFsaWduO1xuICAgICAgICAgICAgIGVsc2UsIGFkanVzdCB0aGUgY2hhcnMgb2YgdGhlIGxpbmUgYWNjb3JkaW5nIHRvIHhBbGlnbm1lbnQobm90IGxpbmUgZmVlZCkuXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgaWYgKHRoaXMuX3hBbGlnbm1lbnQgIT0gRUZvbnRYQWxpZ25tZW50LkxFRlQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhckZvbnRMaXN0LmZvckVhY2goKGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJGb250ID0gY2hhckZvbnRVSU9iamVjdC5nZXRDb21wb25lbnQ8Q2hhckZvbnQ+KENoYXJGb250KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoYXJGb250LmlzTmV3TGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5wdXNoKGNoYXJGb250KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyRm9udC5pc05ld0xpbmUgJiYgY2hhckZvbnQuaXNGdWxsTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hbGlnbkxpbmUocG9zaXRpb24sIGxpbmUsIGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IFtdO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy9oYW5kbGUgdGhlIGxhc3QgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWxpZ25MaW5lKHBvc2l0aW9uLCBsaW5lLCBsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUNoYXJGb250KGluZGV4Om51bWJlciwgdWlSZW5kZXJlcjpVSVJlbmRlcmVyKXtcbiAgICAgICAgICAgIHZhciBjaGFyRm9udFVJT2JqZWN0ID0gVUlPYmplY3QuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBDaGFyRm9udC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC5hZGRDb21wb25lbnQoY2hhckZvbnQpO1xuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC5hZGRDb21wb25lbnQodWlSZW5kZXJlcik7XG5cblxuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC5hZGRUYWcoU3RyaW5nKGluZGV4KSk7XG5cbiAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3QuaW5pdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3Q6Y2hhckZvbnRVSU9iamVjdCxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpjaGFyRm9udFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkQ2hhckZvbnRVSU9iamVjdChjaGFyRm9udFVJT2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2NoYXJGb250TGlzdC5hZGRDaGlsZChjaGFyRm9udFVJT2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmFkZENoaWxkKGNoYXJGb250VUlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZENoYXJGb250VUlPYmplY3QoaW5kZXg6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC5maW5kQ2hpbGRCeVRhZyhTdHJpbmcoaW5kZXgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU3BhY2VVbmljb2RlKGNoYXI6c3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjaGFyQ29kZSA9PSAzMiB8fCBjaGFyQ29kZSA9PSAxMzMgfHwgY2hhckNvZGUgPT0gMTYwIHx8IGNoYXJDb2RlID09IDU3NjAgfHwgKGNoYXJDb2RlID49IDgxOTIgJiYgY2hhckNvZGUgPD0gODIwMikgfHwgY2hhckNvZGUgPT0gODIzMiB8fCBjaGFyQ29kZSA9PSA4MjMzIHx8IGNoYXJDb2RlID09IDgyMzkgfHwgY2hhckNvZGUgPT0gODI4NyB8fCBjaGFyQ29kZSA9PSAxMjI4ODtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTmV3TGluZShjaGFyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhci5jaGFyQ29kZUF0KDApID09IDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TGV0dGVyUG9zWExlZnQoc3A6Q2hhckZvbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBzcC5zdGFydFBvc1g7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRMZXR0ZXJQb3NYUmlnaHQobGVmdENvcm5lclBvc2l0aW9uOlZlY3RvcjIsIHNwOkNoYXJGb250KSB7XG4gICAgICAgICAgICByZXR1cm4gQ29vcmRpbmF0ZVV0aWxzLmNvbnZlcnRDZW50ZXJQb3NpdGlvblhUb0xlZnRDb3JuZXJQb3NpdGlvblgoc3AueCwgc3Aud2lkdGgpIC0gbGVmdENvcm5lclBvc2l0aW9uLnggKyBzcC54QWR2YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEZvbnREZWYoZm9udERpY3Q6YW55LCBrZXk6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBmb250RGljdFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNFeGNlZWRXaWR0aChsZWZ0Q29ybmVyUG9zaXRpb246VmVjdG9yMiwgY2hhckZvbnQ6Q2hhckZvbnQsIHg6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRMZXR0ZXJQb3NYUmlnaHQobGVmdENvcm5lclBvc2l0aW9uLCBjaGFyRm9udCkgLSB4ID4gdGhpcy53aWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWxpZ25MaW5lKGxlZnRDb3JuZXJQb3NpdGlvbjpWZWN0b3IyLCBsaW5lOkFycmF5PENoYXJGb250PiwgbGFzdENoYXJGb250OkNoYXJGb250KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGxpbmUgPSB0aGlzLl90cmltQm90dG9tU3BhY2VDaGFyKGxpbmUpO1xuXG4gICAgICAgICAgICBsYXN0Q2hhckZvbnQgPSBsaW5lW2xpbmUubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIGxpbmUuZm9yRWFjaChmdW5jdGlvbiAoY3A6Q2hhckZvbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2hpZnQgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBzZWxmLl9nZXRMZXR0ZXJQb3NYUmlnaHQobGVmdENvcm5lclBvc2l0aW9uLCBsYXN0Q2hhckZvbnQpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWxmLl94QWxpZ25tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUZvbnRYQWxpZ25tZW50LkNFTlRFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gKHNlbGYud2lkdGggLSBsaW5lV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVGb250WEFsaWdubWVudC5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gc2VsZi53aWR0aCAtIGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3AueCA9IGNwLnggKyBzaGlmdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJpbUJvdHRvbVNwYWNlQ2hhcihsaW5lOkFycmF5PENoYXJGb250Pikge1xuICAgICAgICAgICAgdmFyIGkgPSBsaW5lLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2lzTmV3TGluZShsaW5lW2ldLmNoYXIpKXtcbiAgICAgICAgICAgICAgICBpID0gaSAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlKGkgPj0gMCAmJiB0aGlzLl9pc1NwYWNlVW5pY29kZShsaW5lW2ldLmNoYXIpKXtcbiAgICAgICAgICAgICAgICBpID0gaSAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNwbGljZSgwLCBpICsgMSk7XG5cbiAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q2hhckZvbnRVSU9iamVjdFBvc2l0aW9uKGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3QsIHg6bnVtYmVyLCB5Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gY2hhckZvbnRVSU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uID0gQ29vcmRpbmF0ZVV0aWxzLmNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25Ub0NlbnRlclBvc2l0aW9uKFZlY3RvcjIuY3JlYXRlKHgsIHkpLCB0cmFuc2Zvcm0ud2lkdGgsIHRyYW5zZm9ybS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJhbnNsYXRlQ2hhckZvbnRVSU9iamVjdChjaGFyRm9udFVJT2JqZWN0OlVJT2JqZWN0LCB4Om51bWJlciwgeTpudW1iZXIpe1xuICAgICAgICAgICAgLy9jaGFyRm9udFVJT2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGUoeCwgLXkpO1xuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC50cmFuc2Zvcm0udHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlQWxsQ2hhckZvbnQoKXtcbiAgICAgICAgICAgIHRoaXMuX2NoYXJGb250TGlzdC5mb3JFYWNoKChjaGFyRm9udDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoYXJGb250LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9jaGFyRm9udExpc3QucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2hhckZvbnQgZXh0ZW5kcyBGb250IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLng7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHgoeDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IyLmNyZWF0ZSh4LCBwb3NpdGlvbi55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLnk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGFyOnN0cmluZyA9IG51bGw7XG4gICAgICAgIGdldCBjaGFyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hhcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hhcihjaGFyOnN0cmluZyl7XG4gICAgICAgICAgICBpZih0aGlzLl9jaGFyICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBMb2cubG9nKExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJjaGFuZ2UgY2hhclwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jaGFyID0gY2hhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydFBvc1g6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHhBZHZhbmNlOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpbWFnZTpIVE1MSW1hZ2VFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHJlY3RSZWdpb246UmVjdFJlZ2lvbiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc05ld0xpbmU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgaXNGdWxsTGluZTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBfc3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzSW5pdFwiKVxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbiA9IHdkRnJwLmZyb21BcnJheShbRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuVFJBTlNGT1JNX1RSQU5TTEFURSksIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9ST1RBVEUpLCBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fU0NBTEUpXSlcbiAgICAgICAgICAgIC5tZXJnZUFsbCgpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzaG91bGROb3RVcGRhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlY3RSZWdpb24gPT09IG51bGwgfHwgKHRoaXMud2lkdGggPT09IDAgJiYgdGhpcy5oZWlnaHQgPT09IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRyYXcoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm06UmVjdFRyYW5zZm9ybSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246VmVjdG9yMiA9IG51bGwsXG4gICAgICAgICAgICAgICAgZHcgPSBudWxsLFxuICAgICAgICAgICAgICAgIGRoID0gbnVsbDtcblxuICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0cmFuc2Zvcm0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIGR3ID0gdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGRoID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd0luQ2VudGVyUG9pbnQodGhpcy5jb250ZXh0LCB0aGlzLmltYWdlLCB0aGlzLnJlY3RSZWdpb24ueCwgdGhpcy5yZWN0UmVnaW9uLnksIHRoaXMucmVjdFJlZ2lvbi53aWR0aCwgdGhpcy5yZWN0UmVnaW9uLmhlaWdodCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiwgZHcsIGRoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUHJvZ3Jlc3NCYXIgZXh0ZW5kcyBVSSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wZXJjZW50Om51bWJlciA9IDA7XG4gICAgICAgIGdldCBwZXJjZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGVyY2VudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcGVyY2VudChwZXJjZW50Om51bWJlcil7XG4gICAgICAgICAgICBpZih0aGlzLl9wZXJjZW50ICE9PSBwZXJjZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZXJjZW50ID0gcGVyY2VudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJvcmRlclN0eWxlOnN0cmluZyA9IFwicmdiYSgwLCAwLCAwLCAxKVwiO1xuICAgICAgICBwdWJsaWMgZmlsbFN0eWxlOnN0cmluZyA9IFwicmdiYSgyNTUsIDAsIDAsIDEpXCI7XG4gICAgICAgIHB1YmxpYyByYWRpdXM6bnVtYmVyID0gNTtcblxuICAgICAgICBwcml2YXRlIF9vZmZTY3JlZW5DYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9vZmZTY3JlZW5Db250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlT2ZmU2NyZWVuQ2FudmFzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdQcm9ncmVzc0JhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNob3VsZE5vdFVwZGF0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGVyY2VudCA8PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLnBlcmNlbnQgPj0gMCAmJiB0aGlzLnBlcmNlbnQgPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJwZXJjZW50XCIsIFwiID49IDAgYW5kIDw9IDFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgZHJhdyhlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmF3RnJvbUxlZnQocG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0JvcmRlcihwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3RnJvbUxlZnQocG9zaXRpb24pe1xuICAgICAgICAgICAgdmFyIG9mZnNjcmVlbkNhbnZhcyA9IHRoaXMuX29mZlNjcmVlbkNhbnZhcyxcbiAgICAgICAgICAgICAgICBsb2FkZWRXaWR0aCA9IHRoaXMud2lkdGggKiB0aGlzLnBlcmNlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd0luQ2VudGVyUG9pbnQodGhpcy5jb250ZXh0LCBvZmZzY3JlZW5DYW52YXMsIDAsIDAsIGxvYWRlZFdpZHRoLCB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICAgICBWZWN0b3IyLmNyZWF0ZShwb3NpdGlvbi54IC0gdGhpcy53aWR0aCAvIDIgKyBsb2FkZWRXaWR0aCAvIDIsIHBvc2l0aW9uLnkpLCBsb2FkZWRXaWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZHJhd0JvcmRlcihwb3NpdGlvbjpWZWN0b3IyKXtcbiAgICAgICAgICAgIFJvdW5kZWRSZWN0VXRpbHMuZHJhd1JvdW5kZWRSZWN0KHRoaXMuY29udGV4dCwgdGhpcy5ib3JkZXJTdHlsZSwgbnVsbCwgcG9zaXRpb24ueCAtIHRoaXMud2lkdGggLyAyLCBwb3NpdGlvbi55IC0gdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlT2ZmU2NyZWVuQ2FudmFzKCl7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gd2RDYi5Eb21RdWVyeS5jcmVhdGUoXCI8Y2FudmFzPjwvY2FudmFzPlwiKTtcblxuICAgICAgICAgICAgY2FudmFzLmF0dHIoXCJ3aWR0aFwiLCB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhcy5hdHRyKFwiaGVpZ2h0XCIsIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmU2NyZWVuQ2FudmFzID0gY2FudmFzLmdldCgwKTtcblxuICAgICAgICAgICAgdGhpcy5fb2ZmU2NyZWVuQ29udGV4dCA9IHRoaXMuX29mZlNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3UHJvZ3Jlc3NCYXIoKXtcbiAgICAgICAgICAgIHRoaXMuX29mZlNjcmVlbkNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX29mZlNjcmVlbkNhbnZhcy53aWR0aCwgdGhpcy5fb2ZmU2NyZWVuQ2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgICAgIFJvdW5kZWRSZWN0VXRpbHMuZHJhd1JvdW5kZWRSZWN0KHRoaXMuX29mZlNjcmVlbkNvbnRleHQsIHRoaXMuYm9yZGVyU3R5bGUsIHRoaXMuZmlsbFN0eWxlLCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGZ1bmN0aW9uIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKCl7XG4gICAgICAgIHZhciBjYW52YXMgPSBudWxsLFxuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwwLDEsMSk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwwLDEsMSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGFbMF0gPT09IDA7XG4gICAgfVxuICAgIC8vdG9kbyBzdXBwb3J0IC5naWYgYW5pbWF0aW9uKG5vdyBjYW4gb25seSBzaG93IHN0YXRpYyBwaWN0dXJlKVxuICAgIC8vdG9kbyBzdXBwb3J0IGRyYXcgYSBwYXJ0IG9mIGltYWdlIGFzc2V0XG4gICAgZXhwb3J0IGNsYXNzIEltYWdlIGV4dGVuZHMgVUkge1xuICAgICAgICAvKiFcbiAgICAgICAgIGNhbid0IGNoYW5nZSBwcm90b3R5cGUgZGlyZWN0bHlcbiAgICAgICAgIChhczpcbiAgICAgICAgIEltYWdlLnByb3RvdHlwZS5fYmxlbmRDb2xvcldpdGhTb3VyY2UgPSBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpID9cbiAgICAgICAgIEltYWdlLnByb3RvdHlwZS5fYmxlbmRCeU11bHRpcGx5IDogSW1hZ2UucHJvdG90eXBlLl9ibGVuZEJ5UGVyUGl4ZWw7XG4gICAgICAgICApXG4gICAgICAgICBiZWNhdXNlIGl0IHBhc3MgY29tcGlsZSB0aGF0IHNheXMgaXQgY2FuJ3QgaW52b2tlIHByaXZhdGUgbWV0aG9kKF9ibGVuZHh4eCBpcyBwcml2YXRlIG1ldGhvZClcbiAgICAgICAgIHNvIHVzZSBoYWNrIGhlcmUuXG4gICAgICAgICBzZWUgbW9yZSBpbmZvOiBodHRwczovL3R5cGVzY3JpcHQuY29kZXBsZXguY29tL2Rpc2N1c3Npb25zLzQ0NDc3N1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb25zdHJ1Y3RvckZvckJsZW5kID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBvYmouX2JsZW5kQ29sb3JXaXRoU291cmNlID0gX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSA/XG4gICAgICAgICAgICAgICAgb2JqLl9ibGVuZEJ5TXVsdGlwbHkgOiBvYmouX2JsZW5kQnlQZXJQaXhlbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29uc3RydWN0b3JJbml0Rm9yQmxlbmQgPSBJbWFnZS5jb25zdHJ1Y3RvckZvckJsZW5kKEltYWdlLnByb3RvdHlwZSk7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NvdXJjZTpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG4gICAgICAgIGdldCBzb3VyY2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNvdXJjZShzb3VyY2U6SW1hZ2VUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgaWYoc291cmNlICE9PSB0aGlzLl9zb3VyY2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbG9yOkNvbG9yID0gbnVsbDtcbiAgICAgICAgcHVibGljIHRhcmdldFNvdXJjZTpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0YXJnZXRDb2xvcjpDb2xvciA9IG51bGw7XG5cbiAgICAgICAgLy9pbXBsZW1lbnQgaXQgaW4gU1RBVElDX0NPTlNUUlVDVE9SXG4gICAgICAgIHByaXZhdGUgX2JsZW5kQ29sb3JXaXRoU291cmNlOkZ1bmN0aW9uO1xuXG4gICAgICAgIHByb3RlY3RlZCBzaG91bGROb3RVcGRhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXREcmF3U291cmNlKCkgPT09IG51bGwgJiYgdGhpcy5fZ2V0RHJhd0NvbG9yKCkgPT09IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZHJhdyhlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGRyYXdDb2xvciA9IHRoaXMuX2dldERyYXdDb2xvcigpLFxuICAgICAgICAgICAgICAgIGRyYXdTb3VyY2UgPSB0aGlzLl9nZXREcmF3U291cmNlKCk7XG5cbiAgICAgICAgICAgIGlmKGRyYXdDb2xvciAhPT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RmlsbFN0eWxlKGRyYXdDb2xvci50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgIGlmKGRyYXdDb2xvci5hIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEdsb2JhbEFscGhhKHRoaXMuY29udGV4dCwgZHJhd0NvbG9yLmEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdChwb3NpdGlvbi54IC0gdGhpcy53aWR0aCAvIDIsIHBvc2l0aW9uLnkgLSB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGlmKGRyYXdTb3VyY2Upe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZENvbG9yV2l0aFNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3SW5DZW50ZXJQb2ludCh0aGlzLmNvbnRleHQsIGRyYXdTb3VyY2Uuc291cmNlLCB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldEZpbGxTdHlsZShzdHlsZTpzdHJpbmcpe1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RHJhd1NvdXJjZSgpOkltYWdlVGV4dHVyZUFzc2V0e1xuICAgICAgICAgICAgaWYodGhpcy50YXJnZXRTb3VyY2Upe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldFNvdXJjZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RHJhd0NvbG9yKCk6Q29sb3J7XG4gICAgICAgICAgICBpZih0aGlzLnRhcmdldENvbG9yKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRDb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhdGhpcy5fZ2V0RHJhd1NvdXJjZSgpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNvdXJjZVwiLCBcImV4aXN0XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRCeU11bHRpcGx5KCl7XG4gICAgICAgICAgICB0aGlzLl9zZXRHbG9iYWxDb21wb3NpdGVPcGVyYXRpb24odGhpcy5jb250ZXh0LCBcIm11bHRpcGx5XCIpO1xuXG4gICAgICAgICAgICB0aGlzLmRyYXdJbkNlbnRlclBvaW50KHRoaXMuY29udGV4dCwgdGhpcy5fZ2V0RHJhd1NvdXJjZSgpLnNvdXJjZSwgdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhdGhpcy5fZ2V0RHJhd1NvdXJjZSgpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNvdXJjZVwiLCBcImV4aXN0XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRCeVBlclBpeGVsKCl7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpLFxuICAgICAgICAgICAgICAgIHIgPSB0aGlzLmNvbG9yLnIsXG4gICAgICAgICAgICAgICAgZyA9IHRoaXMuY29sb3IuZyxcbiAgICAgICAgICAgICAgICBiID0gdGhpcy5jb2xvci5iLFxuICAgICAgICAgICAgICAgIHBpeGVsRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcGl4ZWxzID0gbnVsbDtcblxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImNvcHlcIjtcblxuICAgICAgICAgICAgdGhpcy5kcmF3SW5DZW50ZXJQb2ludCh0aGlzLmNvbnRleHQsIHRoaXMuX2dldERyYXdTb3VyY2UoKS5zb3VyY2UsIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgcGl4ZWxzID0gcGl4ZWxEYXRhLmRhdGE7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwaXhlbHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgICAgICAgICBwaXhlbHNbaV0gKj0gcjtcbiAgICAgICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW2kgKyAyXSAqPSBiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0R2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKGNvbnRleHQ6YW55LCBtb2RlOnN0cmluZyl7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IG1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRHbG9iYWxBbHBoYShjb250ZXh0OmFueSwgYWxwaGE6bnVtYmVyKXtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnRlcmFjdGlvblVJIGV4dGVuZHMgVUl7XG4gICAgICAgIHByb3RlY3RlZCBwX3RyYW5zaXRpb25Nb2RlOkVUcmFuc2l0aW9uTW9kZSA9IG51bGw7XG4gICAgICAgIGdldCB0cmFuc2l0aW9uTW9kZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF90cmFuc2l0aW9uTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdHJhbnNpdGlvbk1vZGUodHJhbnNpdGlvbk1vZGU6RVRyYW5zaXRpb25Nb2RlKXtcbiAgICAgICAgICAgIHRoaXMucF90cmFuc2l0aW9uTW9kZSA9IHRyYW5zaXRpb25Nb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRyYW5zaXRpb25NYW5hZ2VyOlRyYW5zaXRpb25NYW5hZ2VyID0gVHJhbnNpdGlvbk1hbmFnZXIuY3JlYXRlKHRoaXMpO1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIEludGVyYWN0aW9uVUkge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RleHQ6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgZ2V0IHRleHQoKXtcbiAgICAgICAgICAgIHZhciBmb250T2JqZWN0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5lbnRpdHlPYmplY3QgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb250T2JqZWN0ID0gdGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuVEVYVCk7XG5cbiAgICAgICAgICAgIGlmKGZvbnRPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmb250T2JqZWN0LmdldENvbXBvbmVudChQbGFpbkZvbnQpLnRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0ZXh0KHRleHQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBmb250T2JqZWN0OlVJT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5T2JqZWN0ID09PSBudWxsIHx8ICF0aGlzLmdldFVJUmVuZGVyZXIoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb250T2JqZWN0ID0gdGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuVEVYVCk7XG5cbiAgICAgICAgICAgIGlmKGZvbnRPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGZvbnRPYmplY3QuZ2V0Q29tcG9uZW50PFBsYWluRm9udD4oUGxhaW5Gb250KS50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QuYWRkQ2hpbGQodGhpcy5fY3JlYXRlRm9udE9iamVjdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc0Rpc2FibGVkKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVNYWNoaW5lLmN1cnJlbnRTdGF0ZSA9PT0gRVVJU3RhdGUuRElTQUJMRUQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgY3VycmVudFN0YXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVNYWNoaW5lLmN1cnJlbnRTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX21vdXNlZG93blN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21vdXNldXBTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tb3VzZW92ZXJTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tb3VzZW91dFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3N0YXRlTWFjaGluZTpVSVN0YXRlTWFjaGluZSA9IFVJU3RhdGVNYWNoaW5lLmNyZWF0ZSh0aGlzKTtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Nb2RlID0gRVRyYW5zaXRpb25Nb2RlLlNQUklURTtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IFwiYnV0dG9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICBpZighdGhpcy5faGFzRm9udE9iamVjdCgpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5hZGRDaGlsZCh0aGlzLl9jcmVhdGVGb250T2JqZWN0KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5hZGRDaGlsZCh0aGlzLl9jcmVhdGVCYWNrZ3JvdW5kT2JqZWN0KCkpO1xuXG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdXNlZG93blN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZXVwU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlb3ZlclN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZW91dFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0T2JqZWN0KG9iamVjdE5hbWU6RUJ1dHRvbk9iamVjdE5hbWUpOlVJT2JqZWN0e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0LmZpbmRDaGlsZEJ5TmFtZSg8YW55Pm9iamVjdE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE9iamVjdFRyYW5zaXRpb24ob2JqZWN0TmFtZTpFQnV0dG9uT2JqZWN0TmFtZSk6VHJhbnNpdGlvbntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLmdldE9iamVjdFRyYW5zaXRpb24ob2JqZWN0TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW5hYmxlKCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVNYWNoaW5lLmNoYW5nZVN0YXRlKEVVSVN0YXRlLk5PUk1BTCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzYWJsZSgpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlTWFjaGluZS5jaGFuZ2VTdGF0ZShFVUlTdGF0ZS5ESVNBQkxFRCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZ2V0T2JqZWN0KEVCdXR0b25PYmplY3ROYW1lLkJBQ0tHUk9VTkQpLmhhc0NvbXBvbmVudChJbWFnZSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiQnV0dG9uIFVJT2JqZWN0XCIsIFwiY29udGFpbiBJbWFnZSBjb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMudHJhbnNpdGlvbk1hbmFnZXIuZ2V0T2JqZWN0VGFyZ2V0KEVCdXR0b25PYmplY3ROYW1lLkJBQ0tHUk9VTkQpO1xuXG4gICAgICAgICAgICBpZighdGFyZ2V0KXtcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5CQUNLR1JPVU5EKS5nZXRDb21wb25lbnQ8SW1hZ2U+KEltYWdlKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wX3RyYW5zaXRpb25Nb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zaXRpb25Nb2RlLlNQUklURTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnRhcmdldFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuQ09MT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS50YXJnZXRDb2xvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKFwidHJhbnNpdGlvbk1vZGVcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucF90cmFuc2l0aW9uTW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zaXRpb25Nb2RlLlNQUklURTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuQkFDS0dST1VORCkuZ2V0Q29tcG9uZW50PEltYWdlPihJbWFnZSkudGFyZ2V0U291cmNlID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2l0aW9uTW9kZS5DT0xPUjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuQkFDS0dST1VORCkuZ2V0Q29tcG9uZW50PEltYWdlPihJbWFnZSkudGFyZ2V0Q29sb3IgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKFwidHJhbnNpdGlvbk1vZGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUJhY2tncm91bmRPYmplY3QoKXtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBVSU9iamVjdC5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBpbWFnZSA9IEltYWdlLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudChpbWFnZSk7XG5cbiAgICAgICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQodGhpcy5nZXRVSVJlbmRlcmVyKCkpO1xuXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtLndpZHRoID0gdHJhbnNmb3JtLndpZHRoO1xuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybS5oZWlnaHQgPSB0cmFuc2Zvcm0uaGVpZ2h0O1xuXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtLnpJbmRleCA9IDE7XG5cbiAgICAgICAgICAgIG9iamVjdC5uYW1lID0gPGFueT5FQnV0dG9uT2JqZWN0TmFtZS5CQUNLR1JPVU5EO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlRm9udE9iamVjdCgpe1xuICAgICAgICAgICAgdmFyIGZvbnRPYmplY3QgPSBVSU9iamVjdC5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBmb250ID0gUGxhaW5Gb250LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgZm9udC50ZXh0ID0gdGhpcy5fdGV4dDtcbiAgICAgICAgICAgIGZvbnQuZW5hYmxlRmlsbChcIiMwMDAwMDBcIik7XG4gICAgICAgICAgICBmb250LnhBbGlnbm1lbnQgPSBFRm9udFhBbGlnbm1lbnQuQ0VOVEVSO1xuICAgICAgICAgICAgZm9udC55QWxpZ25tZW50ID0gRUZvbnRZQWxpZ25tZW50Lk1JRERMRTtcblxuICAgICAgICAgICAgZm9udE9iamVjdC5hZGRDb21wb25lbnQoZm9udCk7XG5cbiAgICAgICAgICAgIGZvbnRPYmplY3QuYWRkQ29tcG9uZW50KHRoaXMuZ2V0VUlSZW5kZXJlcigpKTtcblxuICAgICAgICAgICAgZm9udE9iamVjdC50cmFuc2Zvcm0ud2lkdGggPSB0cmFuc2Zvcm0ud2lkdGg7XG4gICAgICAgICAgICBmb250T2JqZWN0LnRyYW5zZm9ybS5oZWlnaHQgPSB0cmFuc2Zvcm0uaGVpZ2h0O1xuXG4gICAgICAgICAgICBmb250T2JqZWN0LnRyYW5zZm9ybS56SW5kZXggPSAyO1xuXG4gICAgICAgICAgICBmb250T2JqZWN0Lm5hbWUgPSA8YW55PkVCdXR0b25PYmplY3ROYW1lLlRFWFQ7XG5cbiAgICAgICAgICAgIHJldHVybiBmb250T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFzRm9udE9iamVjdCgpe1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuVEVYVCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9iaW5kRXZlbnQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5fbW91c2Vkb3duU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuTU9VU0VfRE9XTilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhc2VsZi5pc0Rpc2FibGVkO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGF0ZU1hY2hpbmUuY2hhbmdlU3RhdGUoRVVJU3RhdGUuUFJFU1NFRCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdXNldXBTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9VUClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhc2VsZi5pc0Rpc2FibGVkO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGF0ZU1hY2hpbmUuYmFja1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy5fbW91c2VvdmVyU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuTU9VU0VfT1ZFUilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhc2VsZi5pc0Rpc2FibGVkO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGF0ZU1hY2hpbmUuY2hhbmdlU3RhdGUoRVVJU3RhdGUuSElHSExJR0hUKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbW91c2VvdXRTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9PVVQpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXNlbGYuaXNEaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKGU6Q3VzdG9tRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc3RhdGVNYWNoaW5lLmJhY2tTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUJ1dHRvbk9iamVjdE5hbWV7XG4gICAgICAgIEJBQ0tHUk9VTkQgPSA8YW55PlwiYmFja2dyb3VuZFwiLFxuICAgICAgICBURVhUID0gPGFueT5cInRleHRcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVUlTdGF0ZXtcbiAgICAgICAgTk9STUFMLFxuICAgICAgICBISUdITElHSFQsXG4gICAgICAgIFBSRVNTRUQsXG4gICAgICAgIERJU0FCTEVEXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBVSVN0YXRlTWFjaGluZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodWk6SW50ZXJhY3Rpb25VSSkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh1aSk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodWk6SW50ZXJhY3Rpb25VSSl7XG4gICAgICAgICAgICB0aGlzLl91aSA9IHVpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHRyYW5zaXRpb25NYW5hZ2VyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWkudHJhbnNpdGlvbk1hbmFnZXI7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgY3VycmVudFN0YXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVIaXN0b3J5LnRvcCB8fCBFVUlTdGF0ZS5OT1JNQUw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91aTpJbnRlcmFjdGlvblVJID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc3RhdGVIaXN0b3J5OndkQ2IuU3RhY2s8RVVJU3RhdGU+ID0gd2RDYi5TdGFjay5jcmVhdGU8RVVJU3RhdGU+KCk7XG5cbiAgICAgICAgcHVibGljIGNoYW5nZVN0YXRlKHN0YXRlOkVVSVN0YXRlKXtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlSGlzdG9yeS5wdXNoKHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uTWFuYWdlci5jaGFuZ2VTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl91aS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYmFja1N0YXRlKCl7XG4gICAgICAgICAgICB2YXIgbGFzdFN0YXRlOkVVSVN0YXRlID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdGVIaXN0b3J5LnBvcCgpO1xuXG4gICAgICAgICAgICBsYXN0U3RhdGUgPSB0aGlzLl9zdGF0ZUhpc3RvcnkudG9wO1xuXG4gICAgICAgICAgICBpZighbGFzdFN0YXRlKXtcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGUgPSBFVUlTdGF0ZS5OT1JNQUw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbk1hbmFnZXIuY2hhbmdlU3RhdGUobGFzdFN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuX3VpLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgVHJhbnNpdGlvbntcbiAgICAgICAgcHJpdmF0ZSBfdGFyZ2V0OmFueSA9IG51bGw7XG4gICAgICAgIGdldCB0YXJnZXQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX3RhcmdldCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShFVUlTdGF0ZS5OT1JNQUwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHNldCB0YXJnZXQodGFyZ2V0OmFueSl7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY2hhbmdlU3RhdGUoc3RhdGU6RVVJU3RhdGUpO1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU3ByaXRlVHJhbnNpdGlvbiBleHRlbmRzIFRyYW5zaXRpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBub3JtYWxTcHJpdGU6SW1hZ2VUZXh0dXJlQXNzZXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGlnaGxpZ2h0U3ByaXRlOkltYWdlVGV4dHVyZUFzc2V0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHByZXNzZWRTcHJpdGU6SW1hZ2VUZXh0dXJlQXNzZXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZGlzYWJsZWRTcHJpdGU6SW1hZ2VUZXh0dXJlQXNzZXQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBjaGFuZ2VTdGF0ZShzdGF0ZTpFVUlTdGF0ZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVVSVN0YXRlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm5vcm1hbFNwcml0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5ISUdITElHSFQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5oaWdobGlnaHRTcHJpdGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuUFJFU1NFRDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLnByZXNzZWRTcHJpdGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuRElTQUJMRUQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5kaXNhYmxlZFNwcml0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJzdGF0ZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbG9yVHJhbnNpdGlvbiBleHRlbmRzIFRyYW5zaXRpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBub3JtYWxDb2xvcjpDb2xvciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoaWdobGlnaHRDb2xvcjpDb2xvciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwcmVzc2VkQ29sb3I6Q29sb3IgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZGlzYWJsZWRDb2xvcjpDb2xvciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGNoYW5nZVN0YXRlKHN0YXRlOkVVSVN0YXRlKXtcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMubm9ybWFsQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuSElHSExJR0hUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuaGlnaGxpZ2h0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuUFJFU1NFRDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLnByZXNzZWRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5ESVNBQkxFRDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpc2FibGVkQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKFwic3RhdGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUcmFuc2l0aW9uTW9kZXtcbiAgICAgICAgU1BSSVRFLFxuICAgICAgICBDT0xPUlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25NYW5hZ2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodWk6SW50ZXJhY3Rpb25VSSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHVpKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHVpOkludGVyYWN0aW9uVUkpIHtcbiAgICAgICAgICAgIHRoaXMuX3VpID0gdWk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91aTpJbnRlcmFjdGlvblVJID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc3ByaXRlVHJhbnNpdGlvbk1hcDp3ZENiLkhhc2g8VHJhbnNpdGlvbj4gPSB3ZENiLkhhc2guY3JlYXRlPFRyYW5zaXRpb24+KCk7XG4gICAgICAgIHByaXZhdGUgX2NvbG9yVHJhbnNpdGlvbk1hcDp3ZENiLkhhc2g8VHJhbnNpdGlvbj4gPSB3ZENiLkhhc2guY3JlYXRlPFRyYW5zaXRpb24+KCk7XG5cbiAgICAgICAgcHVibGljIGdldE9iamVjdFRyYW5zaXRpb24ob2JqZWN0TmFtZTpFQnV0dG9uT2JqZWN0TmFtZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2dldFRyYW5zaXRpb25NYXAoKS5nZXRDaGlsZCg8YW55Pm9iamVjdE5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2NyZWF0ZVRyYW5zaXRpb25JbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0VHJhbnNpdGlvbk1hcCgpLmFkZENoaWxkKDxhbnk+b2JqZWN0TmFtZSwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRPYmplY3RUYXJnZXQob2JqZWN0TmFtZTpFQnV0dG9uT2JqZWN0TmFtZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RUcmFuc2l0aW9uKG9iamVjdE5hbWUpLnRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjaGFuZ2VTdGF0ZShzdGF0ZTpFVUlTdGF0ZSl7XG4gICAgICAgICAgICB3ZEZycC5mcm9tQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGVUcmFuc2l0aW9uTWFwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xvclRyYW5zaXRpb25NYXBcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKG1hcDp3ZENiLkhhc2g8VHJhbnNpdGlvbj4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLmZvckVhY2goKHRyYW5zaXRpb246VHJhbnNpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0VHJhbnNpdGlvbk1hcCgpIHtcbiAgICAgICAgICAgIHZhciBtYXA6d2RDYi5IYXNoPFRyYW5zaXRpb24+ID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl91aS50cmFuc2l0aW9uTW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zaXRpb25Nb2RlLlNQUklURTpcbiAgICAgICAgICAgICAgICAgICAgbWFwID0gdGhpcy5fc3ByaXRlVHJhbnNpdGlvbk1hcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuQ09MT1I6XG4gICAgICAgICAgICAgICAgICAgIG1hcCA9IHRoaXMuX2NvbG9yVHJhbnNpdGlvbk1hcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJ0cmFuc2l0aW9uTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlVHJhbnNpdGlvbkluc3RhbmNlKCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbjpUcmFuc2l0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl91aS50cmFuc2l0aW9uTW9kZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuU1BSSVRFOlxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0gU3ByaXRlVHJhbnNpdGlvbi5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuQ09MT1I6XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gPSBDb2xvclRyYW5zaXRpb24uY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKFwidHJhbnNpdGlvbk1vZGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBSb3VuZGVkUmVjdFV0aWxzIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBkcmF3Um91bmRlZFJlY3QoY29udGV4dDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHN0cm9rZVN0eWxlOnN0cmluZywgZmlsbFN0eWxlOnN0cmluZywgY29ybmVyWDpudW1iZXIsIGNvcm5lclk6bnVtYmVyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGNvcm5lclJhZGl1czpudW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY29ybmVyWCArIGNvcm5lclJhZGl1cywgY29ybmVyWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjb3JuZXJYIC0gY29ybmVyUmFkaXVzLCBjb3JuZXJZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5hcmNUbyhjb3JuZXJYICsgd2lkdGgsIGNvcm5lclksIGNvcm5lclggKyB3aWR0aCwgY29ybmVyWSArIGhlaWdodCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjVG8oY29ybmVyWCArIHdpZHRoLCBjb3JuZXJZICsgaGVpZ2h0LCBjb3JuZXJYLCBjb3JuZXJZICsgaGVpZ2h0LCBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgY29udGV4dC5hcmNUbyhjb3JuZXJYLCBjb3JuZXJZICsgaGVpZ2h0LCBjb3JuZXJYLCBjb3JuZXJZLCBjb3JuZXJSYWRpdXMpO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmNUbyhjb3JuZXJYLCBjb3JuZXJZLCBjb3JuZXJYICsgY29ybmVyUmFkaXVzLCBjb3JuZXJZLCBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmNUbyhjb3JuZXJYLCBjb3JuZXJZLCBjb3JuZXJYIC0gY29ybmVyUmFkaXVzLCBjb3JuZXJZLCBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG5cbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG5cbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEp1ZGdlVXRpbHMgZXh0ZW5kcyB3ZENiLkp1ZGdlVXRpbHN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNWaWV3KG9iaikge1xuICAgICAgICAgICAgcmV0dXJuICEhb2JqICYmIG9iai5vZmZzZXQgJiYgb2JqLndpZHRoICYmIG9iai5oZWlnaHQgJiYgdGhpcy5pc0Z1bmN0aW9uKG9iai5nZXRDb250ZXh0KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0VxdWFsKHRhcmdldDE6YW55LCB0YXJnZXQyOmFueSl7XG4gICAgICAgICAgICBpZigoIXRhcmdldDEgJiYgdGFyZ2V0MikgfHwgKHRhcmdldDEgJiYgIXRhcmdldDIpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRhcmdldDEudWlkICYmIHRhcmdldDIudWlkKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0MS51aWQgPT09IHRhcmdldDIudWlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0MSA9PT0gdGFyZ2V0MjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNQb3dlck9mVHdvKHZhbHVlOm51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSAmICh2YWx1ZSAtIDEpKSA9PT0gMCAmJiB2YWx1ZSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNGbG9hdEFycmF5KGRhdGE6YW55KXtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkgPT09IFwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIgfHwgRW50aXR5T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGEpID09PSBcIltvYmplY3QgRmxvYXQxNkFycmF5XVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgIGNhbid0IHVzZSBcInRhcmdldCBpbnN0YW5jZW9mIGludGVyZmFjZVwiIVxuXG4gICAgICAgIHJlZmVyIHRvOlxuICAgICAgICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0NDI1NTY4L2ludGVyZmFjZS10eXBlLWNoZWNrLXdpdGgtdHlwZXNjcmlwdFxuICAgICAgICAgaHR0cHM6Ly90eXBlc2NyaXB0LmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy80MDE1MDFcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNJbnRlcmZhY2UodGFyZ2V0OmFueSwgbWVtYmVyT2ZJbnRlcmZhY2U6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiAhIXRhcmdldFttZW1iZXJPZkludGVyZmFjZV07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzU3BhY2VQYXJ0aXRpb25PYmplY3QoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChTcGFjZVBhcnRpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzU2VsZihzZWxmOkVudGl0eSwgZW50aXR5T2JqZWN0OkVudGl0eSl7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi51aWQgPT09IGVudGl0eU9iamVjdC51aWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBNYXRoVXRpbHN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY2xhbXAobnVtOm51bWJlciwgYmVsb3c6bnVtYmVyLCB1cDpudW1iZXIpOm51bWJlcntcbiAgICAgICAgICAgIGlmKG51bSA8IGJlbG93KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG51bSA+IHVwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudW07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGJpZ1RoYW4obnVtOm51bWJlciwgYmVsb3c6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBudW0gPCBiZWxvdyA/IGJlbG93IDogbnVtO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogZ2VuZXJhdGUgbnVtIGluICgwLDEpXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlWmVyb1RvT25lKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogZ2VuZXJhdGUgaW50ZWdlciBpbiBbbWluLG1heF1cbiAgICAgICAgICogQHBhcmFtIG1pblxuICAgICAgICAgKiBAcGFyYW0gbWF4XG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihtaW46bnVtYmVyLCBtYXg6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydChtaW4gPCBtYXgsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibWluXCIsIFwiPCBtYXhcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlSW50ZWdlcihtaW46bnVtYmVyLCBtYXg6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgbWF4ID0gbWF4ICsgMTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ29vcmRpbmF0ZVV0aWxze1xuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXcsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic2V0IHZpZXdcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRXZWJHTFBvc2l0aW9uVG9DYW52YXNQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXc7XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSh2aWV3LndpZHRoIC8gMiArIHBvc2l0aW9uLngsIHZpZXcuaGVpZ2h0IC8gMiAtIHBvc2l0aW9uLnkpXG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXcsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic2V0IHZpZXdcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRDYW52YXNQb3NpdGlvblRvV2ViR0xQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IyKXtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXc7XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZShwb3NpdGlvbi54IC0gdmlldy53aWR0aCAvIDIgLCB2aWV3LmhlaWdodCAvIDIgLSBwb3NpdGlvbi55LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydExlZnRDb3JuZXJQb3NpdGlvblRvQ2VudGVyUG9zaXRpb24ocG9zaXRpb246VmVjdG9yMiwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSh0aGlzLmNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25YVG9DZW50ZXJQb3NpdGlvblgocG9zaXRpb24ueCwgd2lkdGgpLCB0aGlzLmNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25ZVG9DZW50ZXJQb3NpdGlvblkocG9zaXRpb24ueSwgaGVpZ2h0KSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25YVG9DZW50ZXJQb3NpdGlvblgocG9zaXRpb25YOm51bWJlciwgd2lkdGg6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblggKyB3aWR0aCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25ZVG9DZW50ZXJQb3NpdGlvblkocG9zaXRpb25ZOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb25ZICsgaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydENlbnRlclBvc2l0aW9uVG9MZWZ0Q29ybmVyUG9zaXRpb24ocG9zaXRpb246VmVjdG9yMiwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSh0aGlzLmNvbnZlcnRDZW50ZXJQb3NpdGlvblhUb0xlZnRDb3JuZXJQb3NpdGlvblgocG9zaXRpb24ueCwgd2lkdGgpLCB0aGlzLmNvbnZlcnRDZW50ZXJQb3NpdGlvbllUb0xlZnRDb3JuZXJQb3NpdGlvblkocG9zaXRpb24ueSwgaGVpZ2h0KSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRDZW50ZXJQb3NpdGlvblhUb0xlZnRDb3JuZXJQb3NpdGlvblgocG9zaXRpb25YOm51bWJlciwgd2lkdGg6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblggLSB3aWR0aCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRDZW50ZXJQb3NpdGlvbllUb0xlZnRDb3JuZXJQb3NpdGlvblkocG9zaXRpb25ZOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb25ZIC0gaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIExvZyBleHRlbmRzIHdkQ2IuTG9ne1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUaW1lQ29udHJvbGxlcntcbiAgICAgICAgcHVibGljIGVsYXBzZWQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBhdXNlRWxhcHNlZDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGF1c2VUaW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGFydFRpbWU6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHRoaXMuZ2V0Tm93KCk7XG4gICAgICAgICAgICB0aGlzLnBhdXNlRWxhcHNlZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpe1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhdXNlKCkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZVRpbWUgPSB0aGlzLmdldE5vdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpe1xuICAgICAgICAgICAgdGhpcy5wYXVzZUVsYXBzZWQgKz0gdGhpcy5nZXROb3coKSAtIHRoaXMucGF1c2VUaW1lO1xuICAgICAgICAgICAgdGhpcy5wYXVzZVRpbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbXB1dGVFbGFwc2VUaW1lKHRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHRoaXMucGF1c2VFbGFwc2VkKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSB0aW1lIC0gdGhpcy5wYXVzZUVsYXBzZWQgLSB0aGlzLnN0YXJ0VGltZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsYXBzZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IHRpbWUgLSB0aGlzLnN0YXJ0VGltZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxhcHNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXROb3coKTtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgY29uc3QgU1RBUlRJTkdfRlBTID0gNjAsXG4gICAgICAgIEdBTUVUSU1FX1NDQUxFID0gMTAwMDtcblxuICAgIGV4cG9ydCBjbGFzcyBEaXJlY3RvclRpbWVDb250cm9sbGVyIGV4dGVuZHMgVGltZUNvbnRyb2xsZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2FtZVRpbWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZwczpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaXNUaW1lQ2hhbmdlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGRlbHRhVGltZTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2xhc3RUaW1lOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHRpY2sodGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5fbGFzdFRpbWUgIT09IG51bGwgPyB0aW1lIC0gdGhpcy5fbGFzdFRpbWUgOiB0aW1lO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnBzKHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZVRpbWUgPSB0aW1lIC8gR0FNRVRJTUVfU0NBTEU7XG5cbiAgICAgICAgICAgIHRoaXMuX2xhc3RUaW1lID0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpe1xuICAgICAgICAgICAgc3VwZXIuc3RhcnQoKTtcblxuICAgICAgICAgICAgdGhpcy5pc1RpbWVDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKXtcbiAgICAgICAgICAgIHN1cGVyLnJlc3VtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzVGltZUNoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Tm93KCl7XG4gICAgICAgICAgICByZXR1cm4gcm9vdC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VwZGF0ZUZwcyhkZWx0YVRpbWU6bnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFzdFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcyA9IFNUQVJUSU5HX0ZQUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzID0gMTAwMCAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vblRpbWVDb250cm9sbGVyIGV4dGVuZHMgVGltZUNvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldE5vdygpe1xuICAgICAgICAgICAgaWYoRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5pc1RpbWVDaGFuZ2Upe1xuICAgICAgICAgICAgICAgIHJldHVybiBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmVsYXBzZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByb290LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIGNvbnN0cnVjdG9yKHJlbmRlclRhcmdldFRleHR1cmU6UmVuZGVyVGFyZ2V0VGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSByZW5kZXJUYXJnZXRUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6UmVuZGVyVGFyZ2V0VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBmcmFtZUJ1ZmZlck9wZXJhdG9yOkZyYW1lQnVmZmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvciA9IEZyYW1lQnVmZmVyLmNyZWF0ZSh0aGlzLnRleHR1cmUud2lkdGgsIHRoaXMudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5jcmVhdGVFbXB0eVRleHR1cmUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEZyYW1lQnVmZmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBjYW1lcmE6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZVJlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyZXIsIGNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmFmdGVyUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lQnVmZmVyKCk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaW5pdEZyYW1lQnVmZmVyKCk7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCByZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyZXI6UmVuZGVyZXIsIGNhbWVyYTpHYW1lT2JqZWN0KTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGRpc3Bvc2VGcmFtZUJ1ZmZlcigpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlQ2FtZXJhKC4uLmFyZ3MpOkdhbWVPYmplY3Q7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGJlZm9yZVJlbmRlcigpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyUmVuZGVyKCl7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RSZW5kZXJUYXJnZXRSZW5kZXJlciBleHRlbmRzIFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICAvL3Byb3RlY3RlZCBmcmFtZUJ1ZmZlcjpGcmFtZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vcHJvdGVjdGVkIGZyYW1lQnVmZmVyVGV4dHVyZTpXZWJHTFRleHR1cmUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgZnJhbWVCdWZmZXI6V2ViR0xGcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJCdWZmZXI6V2ViR0xSZW5kZXJidWZmZXI9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGJlZm9yZVJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJDYW1lcmE6R2FtZU9iamVjdCk7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRSZW5kZXJMaXN0KCk6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+O1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVuZGVyUmVuZGVyZXIocmVuZGVyZXI6UmVuZGVyZXIpO1xuXG4gICAgICAgIHByaXZhdGUgX2xhc3RDYW1lcmE6R2FtZU9iamVjdCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRGcmFtZUJ1ZmZlcigpe1xuICAgICAgICAgICAgdmFyIGZyYW1lQnVmZmVyID0gdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyID0gZnJhbWVCdWZmZXIuY3JlYXRlRnJhbWVCdWZmZXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQnVmZmVyID0gZnJhbWVCdWZmZXIuY3JlYXRlUmVuZGVyQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLmJpbmRGcmFtZUJ1ZmZlcih0aGlzLmZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLmF0dGFjaFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlLmdsVGV4dHVyZSk7XG4gICAgICAgICAgICBmcmFtZUJ1ZmZlci5hdHRhY2hSZW5kZXJCdWZmZXIoXCJERVBUSF9BVFRBQ0hNRU5UXCIsIHRoaXMucmVuZGVyQnVmZmVyKTtcbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLmNoZWNrKCk7XG4gICAgICAgICAgICBmcmFtZUJ1ZmZlci51bkJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyZXI6UmVuZGVyZXIsIGNhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciByZW5kZXJDYW1lcmEgPSB0aGlzLmNyZWF0ZUNhbWVyYShjYW1lcmEpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9sYXN0Q2FtZXJhKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbGFzdENhbWVyYSA9IHJlbmRlckNhbWVyYTtcblxuICAgICAgICAgICAgdGhpcy5iZWZvcmVSZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyQ2FtZXJhKTtcblxuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLmJpbmRGcmFtZUJ1ZmZlcih0aGlzLmZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kVG9Vbml0KDApO1xuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnNldFZpZXdwb3J0KCk7XG5cblxuICAgICAgICAgICAgLy90b2RvIGlmIHJlbmRlckxpc3QgaXMgbnVsbCwgZHJhdyBhbGxcbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTppZiByZW5kZXJPYmplY3QgaXMgYmVoaW5kIHBsYW5lLCBub3QgcmVuZGVyIGl0IVxuICAgICAgICAgICAgdGhpcy5nZXRSZW5kZXJMaXN0KCkuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLnJlbmRlcihyZW5kZXJlciwgcmVuZGVyQ2FtZXJhKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnVuQmluZCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnJlc3RvcmVWaWV3cG9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRpc3Bvc2VGcmFtZUJ1ZmZlcigpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLnJlbmRlckJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgTWlycm9yUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBUd29EUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1pcnJvclRleHR1cmU6TWlycm9yVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKG1pcnJvclRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOk1pcnJvclRleHR1cmU7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlUmVuZGVyRnJhbWVCdWZmZXJUZXh0dXJlKHJlbmRlckNhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZW5kZXJMaXN0KCk6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZS5yZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJSZW5kZXJlcihyZW5kZXJlcil7XG4gICAgICAgICAgICB0aGlzLl9zZXRTY2VuZVNpZGUoRVNpZGUuQkFDSyk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjZW5lU2lkZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW1lcmEoY2FtZXJhOkdhbWVPYmplY3QpOkdhbWVPYmplY3R7XG4gICAgICAgICAgICB2YXIgbWlycm9yQ2FtZXJhQ29tcG9uZW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwbGFuZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50OkNhbWVyYUNvbnRyb2xsZXIgPSBjYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpLFxuICAgICAgICAgICAgICAgIG1pcnJvckNhbWVyYVZpZXdNYXRyaXggPSBudWxsLFxuICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXggPSBudWxsO1xuXG4gICAgICAgICAgICBwbGFuZSA9IHRoaXMudGV4dHVyZS5nZXRQbGFuZSgpO1xuXG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFWaWV3TWF0cml4ID1cbiAgICAgICAgICAgICAgICBwbGFuZS5nZXRSZWZsZWN0aW9uTWF0cml4KCkuYXBwbHlNYXRyaXgoY2FtZXJhQ29tcG9uZW50LndvcmxkVG9DYW1lcmFNYXRyaXgpO1xuXG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemUoZGlydHkpXG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fc2V0Q2xpcFBsYW5lKG1pcnJvckNhbWVyYVZpZXdNYXRyaXgsIGNhbWVyYUNvbXBvbmVudC5wTWF0cml4LCBwbGFuZSk7XG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFDb21wb25lbnQgPSBQZXJzcGVjdGl2ZUNhbWVyYS5jcmVhdGUoKTtcbiAgICAgICAgICAgIG1pcnJvckNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4ID0gbWlycm9yQ2FtZXJhVmlld01hdHJpeC5jb3B5KCk7XG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFDb21wb25lbnQucE1hdHJpeCA9IHByb2plY3Rpb25NYXRyaXg7XG5cbiAgICAgICAgICAgIHJldHVybiBHYW1lT2JqZWN0LmNyZWF0ZSgpLmFkZENvbXBvbmVudCh3ZC5CYXNpY0NhbWVyYUNvbnRyb2xsZXIuY3JlYXRlKG1pcnJvckNhbWVyYUNvbXBvbmVudCkpLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldFNjZW5lU2lkZShzaWRlOkVTaWRlKXtcbiAgICAgICAgICAgIHZhciBzY2VuZSA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmU7XG5cbiAgICAgICAgICAgIHNjZW5lLnNpZGUgPSBzaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q2xpcFBsYW5lKHZNYXRyaXg6TWF0cml4NCwgcE1hdHJpeDpNYXRyaXg0LCBwbGFuZTpQbGFuZSk6TWF0cml4NHtcbiAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uTWF0cml4ID0gcE1hdHJpeC5jb3B5KCksXG4gICAgICAgICAgICAgICAgcSA9IFZlY3RvcjQuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgY2xpcFBsYW5lID0gdGhpcy5fZ2V0Q2xpcFBsYW5lSW5DYW1lcmFTcGFjZSh2TWF0cml4LCBwbGFuZSksXG4gICAgICAgICAgICAgICAgYyA9IFZlY3RvcjQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHEueCA9ICggTWF0aC5zaWduKCBjbGlwUGxhbmUueCApICsgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDggXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDAgXTtcbiAgICAgICAgICAgIHEueSA9ICggTWF0aC5zaWduKCBjbGlwUGxhbmUueSApICsgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDkgXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDUgXTtcbiAgICAgICAgICAgIHEueiA9IC0gMS4wO1xuICAgICAgICAgICAgcS53ID0gKCAxLjAgKyBwcm9qZWN0aW9uTWF0cml4LnZhbHVlc1sgMTAgXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDE0IF07XG5cbiAgICAgICAgICAgIGMgPSBjbGlwUGxhbmUubXVsdGlwbHlTY2FsYXIoIDIuMCAvIGNsaXBQbGFuZS5kb3QoIHEgKSApO1xuXG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4LnZhbHVlc1sgMiBdID0gYy54O1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDYgXSA9IGMueTtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXgudmFsdWVzWyAxMCBdID0gYy56ICsgMS4wO1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDE0IF0gPSBjLnc7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q2xpcFBsYW5lSW5DYW1lcmFTcGFjZSh2TWF0cml4Ok1hdHJpeDQsIHBsYW5lOlBsYW5lKXtcbiAgICAgICAgICAgIHZhciBjbGlwUGxhbmUgPSBWZWN0b3I0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHAgPSB2TWF0cml4Lm11bHRpcGx5UG9pbnQodGhpcy50ZXh0dXJlLmdldFBvc2l0aW9uKCkpLFxuICAgICAgICAgICAgICAgIG4gPSB2TWF0cml4LmNvcHkoKS5pbnZlcnQoKS50cmFuc3Bvc2UoKS5tdWx0aXBseVBvaW50KHBsYW5lLm5vcm1hbCkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIGNsaXBQbGFuZS5zZXQobi54LCBuLnksIG4ueiwgLXAuZG90KG4pKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNsaXBQbGFuZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgVHdvRFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpEaXJlY3Rpb25MaWdodCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGxpZ2h0KTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihsaWdodDpEaXJlY3Rpb25MaWdodCl7XG4gICAgICAgICAgICBzdXBlcihsaWdodC5zaGFkb3dNYXApO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodCA9IGxpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6VHdvRFNoYWRvd01hcFRleHR1cmU7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGlnaHQ6RGlyZWN0aW9uTGlnaHQgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3NoYWRvd01hcFJlbmRlcmVyVXRpbHM6VHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscyA9IFR3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxzLmNyZWF0ZSh0aGlzLl9saWdodCwgdGhpcy50ZXh0dXJlKTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU2hhZG93UmVuZGVyZXJMaXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmluZEVuZExvb3AoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vaGVyZSBub3QgbmVlZCByZW1vdmVSZXBlYXRJdGVtc1xuICAgICAgICAgICAgICAgIHNlbGYuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmNsZWFyVHdvRFNoYWRvd01hcERhdGEoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuY3JlYXRlU2hhZGVyV2l0aFNoYWRlckxpYihCdWlsZFR3b0RTaGFkb3dNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLnVuQmluZEVuZExvb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVSZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyQ2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvL2hlcmUgbmVlZCByZW1vdmVSZXBlYXRJdGVtc1xuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5yZW1vdmVSZXBlYXRJdGVtcygpLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLnNldFNoYWRvd01hcERhdGEoY2hpbGQsIHJlbmRlckNhbWVyYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVuZGVyTGlzdCgpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJSZW5kZXJlcihyZW5kZXJlcil7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVSZW5kZXIoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmVmb3JlUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJSZW5kZXIoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW1lcmEoKTpHYW1lT2JqZWN0e1xuICAgICAgICAgICAgdmFyIG9ydGhvQ2FtZXJhQ29tcG9uZW50ID0gT3J0aG9ncmFwaGljQ2FtZXJhLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGxpZ2h0OkRpcmVjdGlvbkxpZ2h0ID0gdGhpcy5fbGlnaHQsXG4gICAgICAgICAgICAgICAgY2FtZXJhID0gR2FtZU9iamVjdC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQubGVmdCA9IGxpZ2h0LnNoYWRvd0NhbWVyYUxlZnQ7XG4gICAgICAgICAgICBvcnRob0NhbWVyYUNvbXBvbmVudC5yaWdodCA9IGxpZ2h0LnNoYWRvd0NhbWVyYVJpZ2h0O1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQudG9wID0gbGlnaHQuc2hhZG93Q2FtZXJhVG9wO1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQuYm90dG9tID0gbGlnaHQuc2hhZG93Q2FtZXJhQm90dG9tO1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQubmVhciA9IGxpZ2h0LnNoYWRvd0NhbWVyYU5lYXI7XG4gICAgICAgICAgICBvcnRob0NhbWVyYUNvbXBvbmVudC5mYXIgPSBsaWdodC5zaGFkb3dDYW1lcmFGYXI7XG5cbiAgICAgICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoQmFzaWNDYW1lcmFDb250cm9sbGVyLmNyZWF0ZShvcnRob0NhbWVyYUNvbXBvbmVudCkpO1xuXG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6ZGlydHk/XG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShsaWdodC5wb3NpdGlvbik7XG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLmxvb2tBdCgwLCAwLCAwKTtcblxuICAgICAgICAgICAgY2FtZXJhLmluaXQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhbmRsZVNoYWRvd1JlbmRlcmVyTGlzdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgocmVuZGVyVGFyZ2V0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdCh0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmFkZEFsbENoaWxkcmVuKHJlbmRlclRhcmdldCkpO1xuICAgICAgICAgICAgfSx0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5hZGRDaGlsZHJlbihjaGlsZHJlbik7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QucmVtb3ZlQ2hpbGQoKHJlbmRlclRhcmdldDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuaXNDb250YWluZXIocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6Q3ViZW1hcFJlbmRlclRhcmdldFRleHR1cmU7XG5cbiAgICAgICAgcHJpdmF0ZSBfZnJhbWVCdWZmZXJMaXN0OndkQ2IuQ29sbGVjdGlvbjxXZWJHTEZyYW1lYnVmZmVyPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8V2ViR0xGcmFtZWJ1ZmZlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfcmVuZGVyQnVmZmVyTGlzdDp3ZENiLkNvbGxlY3Rpb248V2ViR0xSZW5kZXJidWZmZXI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxXZWJHTFJlbmRlcmJ1ZmZlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfbGFzdENhbWVyYUxpc3Q6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xhc3RQb3NpdGlvbjpWZWN0b3IzID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0UmVuZGVyTGlzdCgpOndkQ2IuSGFzaDxhbnk+O1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc2V0Q2FtZXJhKGN1YmVDYW1lcmFDb21wb25lbnQ6UGVyc3BlY3RpdmVDYW1lcmEpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0UG9zaXRpb24oKTpWZWN0b3IzO1xuXG4gICAgICAgIC8vdG9kbyBjYW4gb25lIGZyYW1lQnVmZmVyIGJpbmQgc2l4IGZhY2VzIG9mIGN1YmVtYXA/XG4gICAgICAgIHByb3RlY3RlZCBpbml0RnJhbWVCdWZmZXIoKXtcbiAgICAgICAgICAgIHZhciBmcmFtZUJ1ZmZlck9wZXJhdG9yID0gdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNjsgaSsrKXtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWVCdWZmZXIgPSBmcmFtZUJ1ZmZlck9wZXJhdG9yLmNyZWF0ZUZyYW1lQnVmZmVyKCksXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckJ1ZmZlciA9IGZyYW1lQnVmZmVyT3BlcmF0b3IuY3JlYXRlUmVuZGVyQnVmZmVyKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZUJ1ZmZlckxpc3QuYWRkQ2hpbGQoZnJhbWVCdWZmZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckJ1ZmZlckxpc3QuYWRkQ2hpbGQocmVuZGVyQnVmZmVyKTtcblxuICAgICAgICAgICAgICAgIGZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBmcmFtZUJ1ZmZlck9wZXJhdG9yLmF0dGFjaFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSwgdGhpcy50ZXh0dXJlLmdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgZnJhbWVCdWZmZXJPcGVyYXRvci5hdHRhY2hSZW5kZXJCdWZmZXIoXCJERVBUSF9BVFRBQ0hNRU5UXCIsIHJlbmRlckJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgZnJhbWVCdWZmZXJPcGVyYXRvci5jaGVjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUJ1ZmZlck9wZXJhdG9yLnVuQmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlcjpSZW5kZXJlciwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHJlbmRlckNhbWVyYSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZmFjZVJlbmRlckxpc3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIG5ld0NhbWVyYUxpc3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHJlbmRlckxpc3QgPSBudWxsO1xuXG4gICAgICAgICAgICByZW5kZXJMaXN0ID0gdGhpcy5nZXRSZW5kZXJMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZFRvVW5pdCgwKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fbmVlZENyZWF0ZUNhbWVyYShwb3NpdGlvbikpe1xuICAgICAgICAgICAgICAgIG5ld0NhbWVyYUxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCA2OyBpKyspe1xuICAgICAgICAgICAgICAgIGZhY2VSZW5kZXJMaXN0ID0gcmVuZGVyTGlzdC5nZXRDaGlsZCh0aGlzLl9jb252ZXJ0SW5kZXhUb0ZhY2VLZXkoaSkpO1xuICAgICAgICAgICAgICAgIC8vZmFjZVJlbmRlckxpc3QgY2FuIGJlIGFycmF5IG9yIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBpZih0aGlzLl9pc0VtcHR5KGZhY2VSZW5kZXJMaXN0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLl9uZWVkQ3JlYXRlQ2FtZXJhKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJDYW1lcmEgPSB0aGlzLmNyZWF0ZUNhbWVyYShpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FtZXJhTGlzdC5hZGRDaGlsZChyZW5kZXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJDYW1lcmEgPSB0aGlzLl9sYXN0Q2FtZXJhTGlzdC5nZXRDaGlsZChpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKHRoaXMuX2ZyYW1lQnVmZmVyTGlzdC5nZXRDaGlsZChpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnNldFZpZXdwb3J0KCk7XG5cbiAgICAgICAgICAgICAgICBmYWNlUmVuZGVyTGlzdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbmRlcihyZW5kZXJlciwgcmVuZGVyQ2FtZXJhKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLl9uZWVkQ3JlYXRlQ2FtZXJhKHBvc2l0aW9uKSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fbGFzdENhbWVyYUxpc3Qpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q2FtZXJhTGlzdC5mb3JFYWNoKChjYW1lcmE6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q2FtZXJhTGlzdCA9IG5ld0NhbWVyYUxpc3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvci51bkJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvci5yZXN0b3JlVmlld3BvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkaXNwb3NlRnJhbWVCdWZmZXIoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgdGhpcy5fZnJhbWVCdWZmZXJMaXN0LmZvckVhY2goKGJ1ZmZlcjpXZWJHTEZyYW1lYnVmZmVyKSA9PiBnbC5kZWxldGVGcmFtZWJ1ZmZlcihidWZmZXIpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJ1ZmZlckxpc3QuZm9yRWFjaCgoYnVmZmVyOldlYkdMUmVuZGVyYnVmZmVyKSA9PiBnbC5kZWxldGVSZW5kZXJidWZmZXIoYnVmZmVyKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ2FtZXJhKGluZGV4Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgY3ViZUNhbWVyYUNvbXBvbmVudCA9IFBlcnNwZWN0aXZlQ2FtZXJhLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGNhbWVyYSA9IEdhbWVPYmplY3QuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICBjdWJlQ2FtZXJhQ29tcG9uZW50LmZvdnkgPSA5MDtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FtZXJhKGN1YmVDYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICBjYW1lcmEuYWRkQ29tcG9uZW50KEJhc2ljQ2FtZXJhQ29udHJvbGxlci5jcmVhdGUoY3ViZUNhbWVyYUNvbXBvbmVudCkpO1xuXG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShwb3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9sb29rQXRGYWNlKGNhbWVyYSwgcG9zLCBpbmRleCk7XG5cbiAgICAgICAgICAgIGNhbWVyYS5pbml0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW1lcmE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0VtcHR5KGZhY2VSZW5kZXJMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiAhZmFjZVJlbmRlckxpc3QgfHwgKGZhY2VSZW5kZXJMaXN0Lmxlbmd0aCAmJiBmYWNlUmVuZGVyTGlzdC5sZW5ndGggPT09IDApIHx8IChmYWNlUmVuZGVyTGlzdC5nZXRDb3VudCAmJiBmYWNlUmVuZGVyTGlzdC5nZXRDb3VudCgpID09PSAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRJbmRleFRvRmFjZUtleShpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGZhY2UgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4KXtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGZhY2UgPSBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZmFjZSA9IFwibnhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBmYWNlID0gXCJweVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGZhY2UgPSBcIm55XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZmFjZSA9IFwicHpcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBmYWNlID0gXCJuelwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9va0F0RmFjZShjYW1lcmE6R2FtZU9iamVjdCwgcG9zaXRpb246VmVjdG9yMywgaW5kZXg6bnVtYmVyKXtcbiAgICAgICAgICAgIHN3aXRjaCAoaW5kZXgpe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueCArIDEsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnosIDAsIC0xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLmxvb2tBdChwb3NpdGlvbi54LTEsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnosIDAsIC0xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLmxvb2tBdChwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMSwgcG9zaXRpb24ueiwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueCwgcG9zaXRpb24ueS0xLCBwb3NpdGlvbi56LCAwLCAwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueiArIDEsIDAsIC0xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLmxvb2tBdChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56LTEsIDAsIC0xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9uZWVkQ3JlYXRlQ2FtZXJhKHBvc2l0aW9uOlZlY3RvcjMpe1xuICAgICAgICAgICAgaWYodGhpcy5fbGFzdFBvc2l0aW9uID09PSBudWxsIHx8IHRoaXMuX2xhc3RDYW1lcmFMaXN0ID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICFwb3NpdGlvbi5pc0VxdWFsKHRoaXMuX2xhc3RQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEN1YmVtYXBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlciBleHRlbmRzIEN1YmVtYXBSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUobGlnaHQ6UG9pbnRMaWdodCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGxpZ2h0KTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihsaWdodDpQb2ludExpZ2h0KXtcbiAgICAgICAgICAgIHN1cGVyKGxpZ2h0LnNoYWRvd01hcCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0ID0gbGlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdGV4dHVyZTpDdWJlbWFwU2hhZG93TWFwVGV4dHVyZTtcblxuICAgICAgICBwcml2YXRlIF9saWdodDpQb2ludExpZ2h0ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc2hhZG93TWFwUmVuZGVyZXJVdGlsczpDdWJlbWFwU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJVdGlscyA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMgPSBDdWJlbWFwU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJVdGlscy5jcmVhdGUodGhpcy5fbGlnaHQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTaGFkb3dSZW5kZXJlckxpc3QoKTtcblxuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5iaW5kRW5kTG9vcCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5mb3JFYWNoKChjaGlsZExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmNsZWFyQ3ViZW1hcFNoYWRvd01hcERhdGEoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmNyZWF0ZVNoYWRlcldpdGhTaGFkZXJMaWIoQnVpbGRDdWJlbWFwU2hhZG93TWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy51bkJpbmRFbmRMb29wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgIGdldFJlbmRlckxpc3QoKTp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGJlZm9yZVJlbmRlcigpe1xuICAgICAgICAgICAgdmFyIHV0aWxzOkN1YmVtYXBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxzID0gdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscztcblxuICAgICAgICAgICAgdGhpcy5fY29udmVydFJlbmRlckxpc3RUb0NvbGxlY3Rpb24odGhpcy5nZXRSZW5kZXJMaXN0KCkpLnJlbW92ZVJlcGVhdEl0ZW1zKCkuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHV0aWxzLnNldFNoYWRvd01hcERhdGEoY2hpbGQpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5iZWZvcmVSZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlclJlbmRlcigpe1xuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5hZnRlclJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldENhbWVyYShjYW1lcmE6UGVyc3BlY3RpdmVDYW1lcmEpe1xuICAgICAgICAgICAgdmFyIGxpZ2h0OlBvaW50TGlnaHQgPSB0aGlzLl9saWdodDtcblxuICAgICAgICAgICAgY2FtZXJhLmFzcGVjdCA9IGxpZ2h0LnNoYWRvd01hcFdpZHRoIC8gbGlnaHQuc2hhZG93TWFwSGVpZ2h0O1xuICAgICAgICAgICAgY2FtZXJhLm5lYXIgPSBsaWdodC5zaGFkb3dDYW1lcmFOZWFyO1xuICAgICAgICAgICAgY2FtZXJhLmZhciA9IGxpZ2h0LnNoYWRvd0NhbWVyYUZhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRQb3NpdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0LnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udmVydFJlbmRlckxpc3RUb0NvbGxlY3Rpb24ocmVuZGVyTGlzdDp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+Pik6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgdmFyIHJlc3VsdExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KCk7XG5cbiAgICAgICAgICAgIHJlbmRlckxpc3QuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vaWYobGlzdCBpbnN0YW5jZW9mIHdkQ2IuQ29sbGVjdGlvbiB8fCBKdWRnZVV0aWxzLmlzQXJyYXkobGlzdCkpe1xuICAgICAgICAgICAgICAgIHJlc3VsdExpc3QuYWRkQ2hpbGRyZW4obGlzdCk7XG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgLy9lbHNle1xuICAgICAgICAgICAgICAgIC8vICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJhcnJheSBvciBjb2xsZWN0aW9uXCIpKTtcbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhbmRsZVNoYWRvd1JlbmRlcmVyTGlzdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuTWFwID0gd2RDYi5IYXNoLmNyZWF0ZTxBcnJheTxHYW1lT2JqZWN0Pj4oKTtcblxuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5mb3JFYWNoKChjaGlsZExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBkaXJlY3Rpb246c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgICAgICBjaGlsZExpc3QuZm9yRWFjaCgocmVuZGVyVGFyZ2V0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5jb25jYXQoc2VsZi5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5hZGRBbGxDaGlsZHJlbihyZW5kZXJUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5NYXAuYWRkQ2hpbGQoZGlyZWN0aW9uLCBjaGlsZHJlbik7XG4gICAgICAgICAgICB9LHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0LmZvckVhY2goKGNoaWxkTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIGRpcmVjdGlvbjpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZExpc3QuYWRkQ2hpbGRyZW4oY2hpbGRyZW5NYXAuZ2V0Q2hpbGQoZGlyZWN0aW9uKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5mb3JFYWNoKChjaGlsZExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGRMaXN0LnJlbW92ZUNoaWxkKChyZW5kZXJUYXJnZXQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5pc0NvbnRhaW5lcihyZW5kZXJUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBEeW5hbWljQ3ViZW1hcFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgQ3ViZW1hcFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXh0dXJlOkR5bmFtaWNDdWJlbWFwVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOkR5bmFtaWNDdWJlbWFwVGV4dHVyZTtcblxuICAgICAgICBwcm90ZWN0ZWQgIGdldFJlbmRlckxpc3QoKTp3ZENiLkhhc2g8R2FtZU9iamVjdD57XG4gICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnJlbmRlckxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0Q2FtZXJhKGNhbWVyYTpQZXJzcGVjdGl2ZUNhbWVyYSl7XG4gICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gMTtcbiAgICAgICAgICAgIGNhbWVyYS5uZWFyID0gdGhpcy50ZXh0dXJlLm5lYXI7XG4gICAgICAgICAgICBjYW1lcmEuZmFyID0gdGhpcy50ZXh0dXJlLmZhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRQb3NpdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZS5nZXRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxze1xuICAgICAgICBjb25zdHJ1Y3RvcihsaWdodDpMaWdodCwgdGV4dHVyZTpUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubGlnaHQgPSBsaWdodDtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdGV4dHVyZTpUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgbGlnaHQ6TGlnaHQgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2VuZExvb3BIYW5kbGVyOkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc2hhZGVyOlNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUud2lkdGggPSB0aGlzLmxpZ2h0LnNoYWRvd01hcFdpZHRoO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmhlaWdodCA9IHRoaXMubGlnaHQuc2hhZG93TWFwSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5pbml0KCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkb3dNYXBEYXRhKHRhcmdldDpHYW1lT2JqZWN0KTtcbiAgICAgICAgcHVibGljIHNldFNoYWRvd01hcERhdGEodGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcENhbWVyYTpHYW1lT2JqZWN0KTtcblxuICAgICAgICBwdWJsaWMgc2V0U2hhZG93TWFwRGF0YSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0YXJnZXQ6R2FtZU9iamVjdCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCA9IDxMaWdodE1hdGVyaWFsPnRhcmdldC5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5tYXRlcmlhbCxcbiAgICAgICAgICBzaGFkb3dNYXBDYW1lcmEgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgc2hhZG93TWFwQ2FtZXJhID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTG9nLmVycm9yKCEobWF0ZXJpYWwgaW5zdGFuY2VvZiBMaWdodE1hdGVyaWFsKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwibWF0ZXJpYWxcIiwgXCJMaWdodE1hdGVyaWFsIHdoZW4gc2V0IHNoYWRvd01hcFwiKSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0TWF0ZXJpYWxTaGFkb3dNYXBEYXRhKG1hdGVyaWFsLCB0YXJnZXQsIHNoYWRvd01hcENhbWVyYSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYmluZEVuZExvb3AoZnVuYzpGdW5jdGlvbil7XG4gICAgICAgICAgICB0aGlzLl9lbmRMb29wSGFuZGxlciA9IGZ1bmM7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbig8YW55PkVFbmdpbmVFdmVudC5FTkRMT09QLHRoaXMuX2VuZExvb3BIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1bkJpbmRFbmRMb29wKCl7XG4gICAgICAgICAgICBFdmVudE1hbmFnZXIub2ZmKDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1AsIHRoaXMuX2VuZExvb3BIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBiZWZvcmVSZW5kZXIoKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBzY2VuZS51c2VQcm9ncmFtKHRoaXMuX3NoYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWZ0ZXJSZW5kZXIoKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBzY2VuZS51blVzZVByb2dyYW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVTaGFkZXJXaXRoU2hhZGVyTGliKGxpYjpCdWlsZFNoYWRvd01hcFNoYWRlckxpYil7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBTaGFkZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuYWRkTGliKENvbW1vblNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuYWRkTGliKENvbW1vblZlcnRpY2VTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmFkZExpYihsaWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzQ29udGFpbmVyKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiAhZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQWxsQ2hpbGRyZW4oZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW10sXG4gICAgICAgICAgICAgICAgYWRkID0gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYWRkKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXRNYXRlcmlhbFNoYWRvd01hcERhdGEobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgdGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcENhbWVyYTpHYW1lT2JqZWN0KTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGFkZFNoYWRvd01hcChtYXRlcmlhbDpMaWdodE1hdGVyaWFsLCBzaGFkb3dNYXA6SVNoYWRvd01hcFRleHR1cmUpO1xuXG4gICAgICAgIHByb3RlY3RlZCBzZXRTaGFkb3dNYXAodGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcDpJU2hhZG93TWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vY2hhbmdlXG4gICAgICAgICAgICBpZighdGFyZ2V0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF0ZXJpYWwgPSA8TGlnaHRNYXRlcmlhbD50YXJnZXQuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSkubWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIGlmKG1hdGVyaWFsLmhhc1NoYWRvd01hcChzaGFkb3dNYXApKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighKG1hdGVyaWFsIGluc3RhbmNlb2YgTGlnaHRNYXRlcmlhbCksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcIm1hdGVyaWFsXCIsIFwiTGlnaHRNYXRlcmlhbCB3aGVuIHNldCBzaGFkb3dNYXBcIikpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNoYWRvd01hcChtYXRlcmlhbCwgc2hhZG93TWFwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgZXh0ZW5kcyBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpQb2ludExpZ2h0LCB0ZXh0dXJlOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMobGlnaHQsIHRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0ZXh0dXJlOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCBsaWdodDpQb2ludExpZ2h0O1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGRMaXN0OkFycmF5PEdhbWVPYmplY3Q+fHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PikgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0U2hhZG93TWFwKGNoaWxkLCBzZWxmLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHRhcmdldDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbDpMaWdodE1hdGVyaWFsID0gPExpZ2h0TWF0ZXJpYWw+dGFyZ2V0LmdldENvbXBvbmVudDxHZW9tZXRyeT4oR2VvbWV0cnkpLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICBhc3NlcnQobWF0ZXJpYWwgaW5zdGFuY2VvZiBMaWdodE1hdGVyaWFsLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJtYXRlcmlhbFwiLCBcIkxpZ2h0TWF0ZXJpYWwgd2hlbiBzZXQgc2hhZG93TWFwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNsZWFyQ3ViZW1hcFNoYWRvd01hcERhdGEodGFyZ2V0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwgPSA8TGlnaHRNYXRlcmlhbD50YXJnZXQuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSkubWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLmNsZWFyQ3ViZW1hcFNoYWRvd01hcERhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRNYXRlcmlhbFNoYWRvd01hcERhdGEobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgdGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcENhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIG1hdGVyaWFsLmFkZEN1YmVtYXBTaGFkb3dNYXBEYXRhKHtcbiAgICAgICAgICAgICAgICBzaGFkb3dCaWFzOnRoaXMubGlnaHQuc2hhZG93QmlhcyxcbiAgICAgICAgICAgICAgICBzaGFkb3dEYXJrbmVzczp0aGlzLmxpZ2h0LnNoYWRvd0RhcmtuZXNzLFxuICAgICAgICAgICAgICAgIGxpZ2h0UG9zOnRoaXMubGlnaHQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZmFyUGxhbmU6dGhpcy5saWdodC5zaGFkb3dDYW1lcmFGYXJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhID0ge1xuICAgICAgICAgICAgICAgIGxpZ2h0UG9zOiB0aGlzLmxpZ2h0LnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGZhclBsYW5lOiB0aGlzLmxpZ2h0LnNoYWRvd0NhbWVyYUZhclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZFNoYWRvd01hcChtYXRlcmlhbDpMaWdodE1hdGVyaWFsLCBzaGFkb3dNYXA6Q3ViZW1hcFNoYWRvd01hcFRleHR1cmUpe1xuICAgICAgICAgICAgbWF0ZXJpYWwuYWRkQ3ViZW1hcFNoYWRvd01hcChzaGFkb3dNYXApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgZXh0ZW5kcyBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpEaXJlY3Rpb25MaWdodCwgdGV4dHVyZTpUd29EU2hhZG93TWFwVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGxpZ2h0LCB0ZXh0dXJlKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdGV4dHVyZTpUd29EU2hhZG93TWFwVGV4dHVyZTtcblxuICAgICAgICBwcm90ZWN0ZWQgbGlnaHQ6RGlyZWN0aW9uTGlnaHQ7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBpZiByZW5kZXJMaXN0IGlzIG51bGwsIGRyYXcgYWxsXG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0U2hhZG93TWFwKGNoaWxkLCBzZWxmLnRleHR1cmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCA9IDxMaWdodE1hdGVyaWFsPnRhcmdldC5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5tYXRlcmlhbDtcblxuICAgICAgICAgICAgYXNzZXJ0KG1hdGVyaWFsIGluc3RhbmNlb2YgTGlnaHRNYXRlcmlhbCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwibWF0ZXJpYWxcIiwgXCJMaWdodE1hdGVyaWFsIHdoZW4gc2V0IHNoYWRvd01hcFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBjbGVhclR3b0RTaGFkb3dNYXBEYXRhKHRhcmdldDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbDpMaWdodE1hdGVyaWFsID0gPExpZ2h0TWF0ZXJpYWw+dGFyZ2V0LmdldENvbXBvbmVudDxHZW9tZXRyeT4oR2VvbWV0cnkpLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5jbGVhclR3b0RTaGFkb3dNYXBEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0TWF0ZXJpYWxTaGFkb3dNYXBEYXRhKG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwsIHRhcmdldDpHYW1lT2JqZWN0LCBzaGFkb3dNYXBDYW1lcmE6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgY2FtZXJhQ29tcG9uZW50OkNhbWVyYUNvbnRyb2xsZXIgPSBzaGFkb3dNYXBDYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5hZGRUd29EU2hhZG93TWFwRGF0YSh7XG4gICAgICAgICAgICAgICAgc2hhZG93QmlhczogdGhpcy5saWdodC5zaGFkb3dCaWFzLFxuICAgICAgICAgICAgICAgIHNoYWRvd0RhcmtuZXNzOiB0aGlzLmxpZ2h0LnNoYWRvd0RhcmtuZXNzLFxuICAgICAgICAgICAgICAgIHNoYWRvd1NpemU6IFt0aGlzLmxpZ2h0LnNoYWRvd01hcFdpZHRoLCB0aGlzLmxpZ2h0LnNoYWRvd01hcEhlaWdodF0sXG4gICAgICAgICAgICAgICAgbGlnaHRQb3M6IHRoaXMubGlnaHQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOiBjb21wdXRlIHZwTWF0cml4IG9uY2UgaGVyZSBvciB3aGVuIHJlbmRlciBzaGFkb3dSZW5kZXJMaXN0XG4gICAgICAgICAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4LmFwcGx5TWF0cml4KGNhbWVyYUNvbXBvbmVudC5wTWF0cml4KVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLmJ1aWxkVHdvRFNoYWRvd01hcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4LmFwcGx5TWF0cml4KGNhbWVyYUNvbXBvbmVudC5wTWF0cml4KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRTaGFkb3dNYXAobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgc2hhZG93TWFwOlR3b0RTaGFkb3dNYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIG1hdGVyaWFsLmFkZFR3b0RTaGFkb3dNYXAoc2hhZG93TWFwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHNreWJveENvbW1hbmQ6UXVhZENvbW1hbmQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVRdWFkQ29tbWFuZCgpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgYWRkQ29tbWFuZChjb21tYW5kOlF1YWRDb21tYW5kKTtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGhhc0NvbW1hbmQoKTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmVuZGVyKCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBXZWJHTFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6V2ViR0xSZW5kZXJlciB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbW1hbmRRdWV1ZTp3ZENiLkNvbGxlY3Rpb248UXVhZENvbW1hbmQ+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxRdWFkQ29tbWFuZD4oKTtcbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJPcHRpb25zOmFueSA9IHtcbiAgICAgICAgICAgIGNvbG9yOkNvbG9yLmNyZWF0ZShcIiMwMDAwMDBcIilcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgY3JlYXRlUXVhZENvbW1hbmQoKTpRdWFkQ29tbWFuZHtcbiAgICAgICAgICAgIHJldHVybiBRdWFkQ29tbWFuZC5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRDb21tYW5kKGNvbW1hbmQ6UXVhZENvbW1hbmQpe1xuICAgICAgICAgICAgaWYodGhpcy5fY29tbWFuZFF1ZXVlLmhhc0NoaWxkKGNvbW1hbmQpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbW1hbmRRdWV1ZS5hZGRDaGlsZChjb21tYW5kKTtcbiAgICAgICAgICAgIGNvbW1hbmQuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NvbW1hbmQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21tYW5kUXVldWUuZ2V0Q291bnQoKSA+IDAgfHwgISF0aGlzLnNreWJveENvbW1hbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKCl7XG4gICAgICAgICAgICB2YXIgZGV2aWNlTWFuYWdlciA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5jbGVhcih0aGlzLl9jbGVhck9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJPcGFxdWVDb21tYW5kcygpO1xuXG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLmRlcHRoV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclNvcnRlZFRyYW5zcGFyZW50Q29tbWFuZHMoKTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuZGVwdGhXcml0ZSA9IHRydWU7XG5cblxuICAgICAgICAgICAgaWYodGhpcy5za3lib3hDb21tYW5kKXtcbiAgICAgICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLmRlcHRoRnVuYyA9IEVEZXB0aEZ1bmN0aW9uLkxFUVVBTDtcbiAgICAgICAgICAgICAgICB0aGlzLnNreWJveENvbW1hbmQuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgICAgIGRldmljZU1hbmFnZXIuZGVwdGhGdW5jID0gRURlcHRoRnVuY3Rpb24uTEVTUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb21tYW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuZGVwdGhUZXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0Q29sb3JXcml0ZSh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2lkZSA9IEVTaWRlLkZST05UO1xuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5kZXB0aFdyaXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRDbGVhckNvbG9yKGNvbG9yOkNvbG9yKXtcbiAgICAgICAgICAgIHRoaXMuX3NldENsZWFyT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgY29sb3I6Y29sb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVuZGVyT3BhcXVlQ29tbWFuZHMoKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kUXVldWVcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2hpbGQoKGNvbW1hbmQ6UXVhZENvbW1hbmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFjb21tYW5kLm1hdGVyaWFsLmJsZW5kO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNvbW1hbmQ6UXVhZENvbW1hbmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZW5kZXJTb3J0ZWRUcmFuc3BhcmVudENvbW1hbmRzKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kUXVldWVcbiAgICAgICAgICAgICAgICAuc29ydCgoYTpRdWFkQ29tbWFuZCwgYjpRdWFkQ29tbWFuZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0T2JqZWN0VG9DYW1lcmFaRGlzdGFuY2UoYikgLSBzZWxmLl9nZXRPYmplY3RUb0NhbWVyYVpEaXN0YW5jZShhKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChjb21tYW5kOlF1YWRDb21tYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0T2JqZWN0VG9DYW1lcmFaRGlzdGFuY2UocXVhZCl7XG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5jdXJyZW50Q2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbi56IC0gcXVhZC56O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDb21tYW5kKCl7XG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kUXVldWUucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMuc2t5Ym94Q29tbWFuZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRDbGVhck9wdGlvbnMoY2xlYXJPcHRpb25zOmFueSl7XG4gICAgICAgICAgICB3ZENiLkV4dGVuZFV0aWxzLmV4dGVuZCh0aGlzLl9jbGVhck9wdGlvbnMsIGNsZWFyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRURyYXdNb2Rle1xuICAgICAgICBQT0lOVFMgPSA8YW55PlwiUE9JTlRTXCIsXG4gICAgICAgIExJTkVTID0gPGFueT5cIkxJTkVTXCIsXG4gICAgICAgIExJTkVfTE9PUCA9IDxhbnk+XCJMSU5FX0xPT1BcIixcbiAgICAgICAgTElORV9TVFJJUCA9IDxhbnk+XCJMSU5FX1NUUklQXCIsXG4gICAgICAgIFRSSUFOR0xFUyA9IDxhbnk+XCJUUklBTkdMRVNcIixcbiAgICAgICAgVFJJQU5HTEVfU1RSSVAgPSA8YW55PlwiVFJJQU5HTEVfU1RSSVBcIixcbiAgICAgICAgVFJBTkdMRV9GQU4gPSA8YW55PlwiVFJJQU5HTEVfRkFOXCJcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGVudW0gRUJ1ZmZlclR5cGV7XG4gICAgICAgIEJZVEUgPSA8YW55PlwiQllURVwiLFxuICAgICAgICBVTlNJR05FRF9CWVRFID0gPGFueT5cIlVOU0lHTkVEX0JZVEVcIixcbiAgICAgICAgU0hPUlQgPSA8YW55PlwiU0hPUlRcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlQgPSA8YW55PlwiVU5TSUdORURfU0hPUlRcIixcbiAgICAgICAgSU5UID0gPGFueT5cIklOVFwiLFxuICAgICAgICBVTlNJR05FRF9JTlQgPSA8YW55PlwiVU5TSUdORURfSU5UXCIsXG4gICAgICAgIEZMT0FUID0gPGFueT5cIkZMT0FUXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBlbnVtIEVCdWZmZXJEYXRhVHlwZXtcbiAgICAgICAgVkVSVElDRSA9IDxhbnk+XCJWRVJUSUNFXCIsXG4gICAgICAgIElORElDRSA9IDxhbnk+XCJJTkRJQ0VcIixcbiAgICAgICAgTk9STUFMID0gPGFueT5cIk5PUk1BTFwiLFxuICAgICAgICBURVhDT09SRCA9IDxhbnk+XCJURVhDT09SRFwiLFxuICAgICAgICBUQU5HRU5UID0gPGFueT5cIlRBTkdFTlRcIixcbiAgICAgICAgQ09MT1IgPSA8YW55PlwiQ09MT1JcIlxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZW51bSBFQnVmZmVyVXNhZ2V7XG4gICAgICAgIFNUUkVBTV9EUkFXID0gPGFueT5cIlNUUkVBTV9EUkFXXCIsXG4gICAgICAgIFNUQVRJQ19EUkFXID0gPGFueT5cIlNUQVRJQ19EUkFXXCIsXG4gICAgICAgIERZTkFNSUNfRFJBVyA9IDxhbnk+XCJEWU5BTUlDX0RSQVdcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQnVmZmVye1xuICAgICAgICBwdWJsaWMgYnVmZmVyOmFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb3VudDpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBFbGVtZW50QnVmZmVyIGV4dGVuZHMgQnVmZmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOkVsZW1lbnRCdWZmZXI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGRhdGEsIHR5cGU6RUJ1ZmZlclR5cGUsIHVzYWdlPzpFQnVmZmVyVXNhZ2UpOkVsZW1lbnRCdWZmZXI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoLi4uYXJncyk6RWxlbWVudEJ1ZmZlciB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlLmFwcGx5KG9iaiwgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90eXBlU2l6ZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgdHlwZVNpemUoKSB7IHJldHVybiB0aGlzLl90eXBlU2l6ZTsgfVxuXG4gICAgICAgIHB1YmxpYyBkYXRhOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHlwZTpFQnVmZmVyVHlwZSA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGRhdGE6YW55LCB0eXBlOkVCdWZmZXJUeXBlLCB1c2FnZT86RUJ1ZmZlclVzYWdlKTtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZygnRmFpbGVkIHRvIGNyZWF0ZSB0aGUgdGhpcy5idWZmZXIgb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBkYXRhOmFueSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6RUJ1ZmZlclR5cGUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTpFQnVmZmVyVXNhZ2UgPSBhcmdzWzJdIHx8IEVCdWZmZXJVc2FnZS5TVEFUSUNfRFJBVztcblxuICAgICAgICAgICAgICAgIGlmKCFkYXRhIHx8ICF0aGlzLl9jaGVja0RhdGFUeXBlKGRhdGEsIHR5cGUpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGRhdGEsIGdsW3VzYWdlXSk7XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGdsW3R5cGVdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGVTaXplID0gdGhpcy5fZ2V0SW5mbyh0eXBlKS5zaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZGF0YTphbnksIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlciwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY3JlYXRlIGdsIGJ1ZmZlclwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyByZXNldERhdGEoZGF0YTphbnksIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuRFlOQU1JQ19EUkFXKTtcblxuICAgICAgICAgICAgdGhpcy50eXBlID0gZ2xbdHlwZV07XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl90eXBlU2l6ZSA9IHRoaXMuX2dldEluZm8odHlwZSkuc2l6ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGVja0RhdGFUeXBlKGRhdGEsIHR5cGU6RUJ1ZmZlclR5cGUpe1xuICAgICAgICAgICAgdmFyIGluZm8gPSB0aGlzLl9nZXRJbmZvKHR5cGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIGluZm8udHlwZUNsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0SW5mbyh0eXBlOkVCdWZmZXJUeXBlKTp7dHlwZUNsYXNzOmFueSxzaXplOm51bWJlcn17XG4gICAgICAgICAgICB2YXIgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5VTlNJR05FRF9CWVRFOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50OEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJUeXBlLlNIT1JUOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBJbnQxNkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJUeXBlLlVOU0lHTkVEX1NIT1JUOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50MTZBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5JTlQ6XG4gICAgICAgICAgICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlQ2xhc3M6IEludDMyQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlclR5cGUuVU5TSUdORURfSU5UOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDbGFzczogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogNFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKFwiRUJ1ZmZlclR5cGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEFycmF5QnVmZmVyIGV4dGVuZHMgQnVmZmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOkFycmF5QnVmZmVyO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkYXRhOmFueSwgc2l6ZTpudW1iZXIsIHR5cGU6RUJ1ZmZlclR5cGUsIHVzYWdlPzpFQnVmZmVyVXNhZ2UpOkFycmF5QnVmZmVyO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOkFycmF5QnVmZmVyIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUuYXBwbHkob2JqLCBhcmdzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaXplOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBkYXRhOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHlwZTpFQnVmZmVyVHlwZSA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGRhdGE6YW55LCBzaXplOm51bWJlciwgdHlwZTpFQnVmZmVyVHlwZSwgdXNhZ2U/OkVCdWZmZXJVc2FnZSk7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIExvZy5sb2coJ0ZhaWxlZCB0byBjcmVhdGUgdGhlIHRoaXMuYnVmZmVyIG9iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTphbnkgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBzaXplOm51bWJlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6RUJ1ZmZlclR5cGUgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTpFQnVmZmVyVXNhZ2UgPSBhcmdzWzNdIHx8IEVCdWZmZXJVc2FnZS5TVEFUSUNfRFJBVztcblxuICAgICAgICAgICAgICAgIGlmKCFkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2xbdXNhZ2VdKTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZ2xbdHlwZV07XG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IGRhdGEubGVuZ3RoIC8gc2l6ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihkYXRhOmFueSwgc2l6ZTpudW1iZXIgPSB0aGlzLnNpemUsIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlciwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY3JlYXRlIGdsIGJ1ZmZlclwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyByZXNldERhdGEoZGF0YTphbnksIHNpemU6bnVtYmVyID0gdGhpcy5zaXplLCB0eXBlOkVCdWZmZXJUeXBlID0gdGhpcy5fdHlwZSl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuRFlOQU1JQ19EUkFXKTtcblxuICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGdsW3R5cGVdO1xuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5sZW5ndGggLyBzaXplO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBfdGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKTtcblxuICAgIC8vdG9kbyByZW1vdmUgPGFueT5cbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuVkVSVElDRSwgXCJ2ZXJ0aWNlc1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuSU5ESUNFLCBcImluZGljZXNcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCwgXCJub3JtYWxzXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCwgXCJ0ZXhDb29yZHNcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUJ1ZmZlckRhdGFUeXBlLkNPTE9SLCBcImNvbG9yc1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuVEFOR0VOVCwgXCJ0YW5nZW50c1wiKTtcblxuICAgIGV4cG9ydCBjbGFzcyBCdWZmZXJEYXRhVGFibGV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0R2VvbWV0cnlEYXRhTmFtZSh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICAvL3RvZG8gcmVtb3ZlIDxhbnk+XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RhYmxlLmdldENoaWxkKDxhbnk+dHlwZSk7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcihyZXN1bHQgPT09IHZvaWQgMCwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QodHlwZSwgXCJpbiBCdWZmZXJEYXRhVGFibGVcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFByb2dyYW17XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6UHJvZ3JhbSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Byb2dyYW06YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc2hhZGVyOlNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHVzZSgpe1xuICAgICAgICAgICAgRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLnVzZVByb2dyYW0odGhpcy5fcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0VW5pZm9ybUxvY2F0aW9uKG5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3Byb2dyYW0sIG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNlbmRVbmlmb3JtRGF0YShuYW1lOnN0cmluZywgdHlwZTpFVmFyaWFibGVUeXBlLCBkYXRhOmFueSk7XG4gICAgICAgIHB1YmxpYyBzZW5kVW5pZm9ybURhdGEocG9zOldlYkdMVW5pZm9ybUxvY2F0aW9uLCB0eXBlOkVWYXJpYWJsZVR5cGUsIGRhdGE6YW55KTtcblxuICAgICAgICBwdWJsaWMgc2VuZFVuaWZvcm1EYXRhKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIHBvcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlID0gbnVsbCxcbiAgICAgICAgICAgICAgICBkYXRhOmFueSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3NbMF0gPT09IG51bGwgfHwgYXJnc1swXSBpbnN0YW5jZW9mIFdlYkdMVW5pZm9ybUxvY2F0aW9uKXtcbiAgICAgICAgICAgICAgICBwb3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZTpzdHJpbmcgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRVbmlmb3JtTG9jYXRpb24obmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR5cGUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgZGF0YSA9IGFyZ3NbMl07XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNVbmlmb3JtRGF0YU5vdEV4aXN0QnlMb2NhdGlvbihwb3MpIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNGdW5jdGlvbihkYXRhKSl7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMTpcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHBvcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5GTE9BVF8yOlxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYocG9zLCBkYXRhWzBdLCBkYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUXzM6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jb252ZXJ0VG9WZWN0b3IzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YocG9zLCBkYXRhLngsIGRhdGEueSwgZGF0YS56KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUXzQ6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jb252ZXJ0VG9WZWN0b3I0KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYocG9zLCBkYXRhLngsIGRhdGEueSwgZGF0YS56LCBkYXRhLncpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUMzpcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdihwb3MsZmFsc2UsIGRhdGEudmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUX01BVDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocG9zLGZhbHNlLCBkYXRhLnZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5OVU1CRVJfMTpcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFOlxuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJEOlxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkocG9zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJFVmFyaWFibGVUeXBlOlwiLCB0eXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgU1RSVUNUVVJFU1xuICAgICAgICBwdWJsaWMgc2VuZFVuaWZvcm1EYXRhRnJvbUN1c3RvbVNoYWRlcigpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIudW5pZm9ybXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh2YWw6U2hhZGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLnZhbHVlICE9PSBFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgodmFsOlNoYWRlckRhdGEsIGtleTpzdHJpbmcpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZih2YWwudHlwZSA9PT0gRVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKCFKdWRnZVV0aWxzLmlzRGlyZWN0T2JqZWN0KHZhbC52YWx1ZSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInZhbHVlJ3MgdHlwZVwiLCBcIm9iamVjdHt9XCIpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHZhbC52YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kU3RydWN0dXJlRGF0YShgJHtrZXl9LiR7aX1gLCB2YWwudmFsdWVbaV0udHlwZSwgdmFsLnZhbHVlW2ldLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kVW5pZm9ybURhdGEoa2V5LCB2YWwudHlwZSwgdmFsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNlbmRBdHRyaWJ1dGVEYXRhKG5hbWU6c3RyaW5nLCB0eXBlOkVWYXJpYWJsZVR5cGUsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICBwb3MgPSBudWxsLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHBvcz0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fcHJvZ3JhbSwgbmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChwb3MgPT09IC0xIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNGdW5jdGlvbihkYXRhKSl7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gZGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgTG9nLmVycm9yKCEoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiQXJyYXlCdWZmZXJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBkYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3MsIGJ1ZmZlci5zaXplLCBidWZmZXIudHlwZSwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcIkVWYXJpYWJsZVR5cGU6XCIsIHR5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VuZEF0dHJpYnV0ZURhdGFGcm9tQ3VzdG9tU2hhZGVyKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodmFsOlNoYWRlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC52YWx1ZSAhPT0gRVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKHZhbDpTaGFkZXJEYXRhLCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZEF0dHJpYnV0ZURhdGEoa2V5LCBzZWxmLl9jb252ZXJ0QXR0cmlidXRlRGF0YVR5cGUodmFsKSwgdmFsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZW5kU3RydWN0dXJlRGF0YShuYW1lOnN0cmluZywgdHlwZTpFVmFyaWFibGVUeXBlLCBkYXRhOmFueSl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShuYW1lLCB0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0V2l0aFNoYWRlcihzaGFkZXI6U2hhZGVyKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICB2cyA9IG51bGwsXG4gICAgICAgICAgICAgICAgZnMgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9ncmFtID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgICAgICAgICAgdnMgPSBzaGFkZXIuY3JlYXRlVnNTaGFkZXIoKTtcbiAgICAgICAgICAgIGZzID0gc2hhZGVyLmNyZWF0ZUZzU2hhZGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3Byb2dyYW0sIHZzKTtcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLl9wcm9ncmFtLCBmcyk7XG5cblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgaWYgd2FybjpcIkF0dHJpYnV0ZSAwIGlzIGRpc2FibGVkLiBUaGlzIGhhcyBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBwZW5hbHR5XCIgd2hlbiBydW4sXG4gICAgICAgICAgICAgdGhlbiBkbyB0aGlzIGJlZm9yZSBsaW5rUHJvZ3JhbTpcbiAgICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24oIHRoaXMuX3Byb2dyYW0sIDAsIFwiYV9wb3NpdGlvblwiKTtcblxuXG5cbiAgICAgICAgICAgICBjYW4gcmVmZXJlbmNlIGhlcmU6XG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDMwNTIzMS93ZWJnbC13YXJuaW5nLWF0dHJpYnV0ZS0wLWlzLWRpc2FibGVkLXRoaXMtaGFzLXNpZ25pZmljYW50LXBlcmZvcm1hbmNlLXBlbmFsdD9hbnN3ZXJ0YWI9dm90ZXMjdGFiLXRvcFxuXG5cbiAgICAgICAgICAgICBPcGVuR0wgcmVxdWlyZXMgYXR0cmlidXRlIHplcm8gdG8gYmUgZW5hYmxlZCBvdGhlcndpc2UgaXQgd2lsbCBub3QgcmVuZGVyIGFueXRoaW5nLlxuICAgICAgICAgICAgIE9uIHRoZSBvdGhlciBoYW5kIE9wZW5HTCBFUyAyLjAgb24gd2hpY2ggV2ViR0wgaXMgYmFzZWQgZG9lcyBub3QuIFNvLCB0byBlbXVsYXRlIE9wZW5HTCBFUyAyLjAgb24gdG9wIG9mIE9wZW5HTCBpZiB5b3UgZG9uJ3QgZW5hYmxlIGF0dHJpYnV0ZSAwIHRoZSBicm93c2VyIGhhcyB0byBtYWtlIGEgYnVmZmVyIGZvciB5b3UgbGFyZ2UgZW5vdWdoIGZvciB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzIHlvdSd2ZSByZXF1ZXN0ZWQgdG8gYmUgZHJhd24sIGZpbGwgaXQgd2l0aCB0aGUgY29ycmVjdCB2YWx1ZSAoc2VlIGdsLnZlcnRleEF0dHJpYiksXG4gICAgICAgICAgICAgYXR0YWNoIGl0IHRvIGF0dHJpYnV0ZSB6ZXJvLCBhbmQgZW5hYmxlIGl0LlxuXG4gICAgICAgICAgICAgSXQgZG9lcyBhbGwgdGhpcyBiZWhpbmQgdGhlIHNjZW5lcyBidXQgaXQncyBpbXBvcnRhbnQgZm9yIHlvdSB0byBrbm93IHRoYXQgaXQgdGFrZXMgdGltZSB0byBjcmVhdGUgYW5kIGZpbGwgdGhhdCBidWZmZXIuIFRoZXJlIGFyZSBvcHRpbWl6YXRpb25zIHRoZSBicm93c2VyIGNhbiBtYWtlIGJ1dCBpbiB0aGUgZ2VuZXJhbCBjYXNlLFxuICAgICAgICAgICAgIGlmIHlvdSB3ZXJlIHRvIGFzc3VtZSB5b3Ugd2VyZSBydW5uaW5nIG9uIE9wZW5HTCBFUyAyLjAgYW5kIHVzZWQgYXR0cmlidXRlIHplcm8gYXMgYSBjb25zdGFudCBsaWtlIHlvdSBhcmUgc3VwcG9zZWQgdG8gYmUgYWJsZSB0byBkbywgd2l0aG91dCB0aGUgd2FybmluZyB5b3UnZCBoYXZlIG5vIGlkZWEgb2YgdGhlIHdvcmsgdGhlIGJyb3dzZXIgaXMgZG9pbmcgb24geW91ciBiZWhhbGYgdG8gZW11bGF0ZSB0aGF0IGZlYXR1cmUgb2YgT3BlbkdMIEVTIDIuMCB0aGF0IGlzIGRpZmZlcmVudCBmcm9tIE9wZW5HTC5cblxuICAgICAgICAgICAgIHJlcXVpcmUgeW91ciBwYXJ0aWN1bGFyIGNhc2UgdGhlIHdhcm5pbmcgZG9lc24ndCBoYXZlIG11Y2ggbWVhbmluZy4gSXQgbG9va3MgbGlrZSB5b3UgYXJlIG9ubHkgZHJhd2luZyBhIHNpbmdsZSBwb2ludC4gQnV0IGl0IHdvdWxkIG5vdCBiZSBlYXN5IGZvciB0aGUgYnJvd3NlciB0byBmaWd1cmUgdGhhdCBvdXQgc28gaXQganVzdCB3YXJucyB5b3UgYW55dGltZSB5b3UgZHJhdyBhbmQgYXR0cmlidXRlIDAgaXMgbm90IGVuYWJsZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbiggdGhpcy5fcHJvZ3JhbSwgMCwgXCJhX3Bvc2l0aW9uXCIpO1xuXG5cbiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9wcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykgPT09IGZhbHNlLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLl9wcm9ncmFtKSk7XG5cblxuXG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIHNob3VsZCBkZXRhY2ggYW5kIGRlbGV0ZSBzaGFkZXJzIGFmdGVyIGxpbmtpbmcgdGhlIHByb2dyYW1cblxuICAgICAgICAgICAgIGV4cGxhaW46XG4gICAgICAgICAgICAgVGhlIHNoYWRlciBvYmplY3QsIGR1ZSB0byBiZWluZyBhdHRhY2hlZCB0byB0aGUgcHJvZ3JhbSBvYmplY3QsIHdpbGwgY29udGludWUgdG8gZXhpc3QgZXZlbiBpZiB5b3UgZGVsZXRlIHRoZSBzaGFkZXIgb2JqZWN0LiBJdCB3aWxsIG9ubHkgYmUgZGVsZXRlZCBieSB0aGUgc3lzdGVtIHdoZW4gaXQgaXMgbm8gbG9uZ2VyIGF0dGFjaGVkIHRvIGFueSBwcm9ncmFtIG9iamVjdCAoYW5kIHdoZW4gdGhlIHVzZXIgaGFzIGFza2VkIHRvIGRlbGV0ZSBpdCwgb2YgY291cnNlKS5cblxuICAgICAgICAgICAgIFwiRGVsZXRpbmdcIiB0aGUgc2hhZGVyLCBhcyB3aXRoIGFsbCBPcGVuR0wgb2JqZWN0cywgbWVyZWx5IHNldHMgYSBmbGFnIHRoYXQgc2F5cyB5b3UgZG9uJ3QgbmVlZCBpdCBhbnkgbW9yZS4gT3BlbkdMIHdpbGwga2VlcCBpdCBhcm91bmQgZm9yIGFzIGxvbmcgYXMgaXQgbmVlZHMgaXQgaXRzZWxmLCBhbmQgd2lsbCBkbyB0aGUgYWN0dWFsIGRlbGV0ZSBhbnkgdGltZSBsYXRlciAobW9zdCBsaWtlbHksIGJ1dCBub3QgbmVjZXNzYXJpbHksIGFmdGVyIHRoZSBwcm9ncmFtIGlzIGRlbGV0ZWQpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIodnMpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3JhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1VuaWZvcm1EYXRhTm90RXhpc3RCeUxvY2F0aW9uKHBvczphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIHBvcyA9PT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRBdHRyaWJ1dGVEYXRhVHlwZSh2YWw6U2hhZGVyRGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gRVZhcmlhYmxlVHlwZS5CVUZGRVI7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoZGF0YTphbnkpIHtcbiAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YSkgfHwgZGF0YSBpbnN0YW5jZW9mIFZlY3RvcjMsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInNoYWRlci0+YXR0cmlidXRlcy0+dmFsdWVcIiwgXCJBcnJheTxBcnJheTxhbnk+PiBvciBBcnJheTxWZWN0b3IzPiBzdHVjdHVyZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb1ZlY3RvcjMoZGF0YTphbnkpIHtcbiAgICAgICAgICAgIGlmIChKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGRhdGE6YW55KSB7XG4gICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0FycmF5KGRhdGEpIHx8IGRhdGEgaW5zdGFuY2VvZiBWZWN0b3I0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkZXItPmF0dHJpYnV0ZXMtPnZhbHVlXCIsIFwiQXJyYXk8QXJyYXk8YW55Pj4gb3IgQXJyYXk8VmVjdG9yND4gc3R1Y3R1cmVcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9WZWN0b3I0KGRhdGE6YW55KSB7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YSkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3I0LmNyZWF0ZShkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdLCBkYXRhWzNdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFF1YWRDb21tYW5kIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpRdWFkQ29tbWFuZCB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBwcm9ncmFtKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbC5wcm9ncmFtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJ1ZmZlcnM6QnVmZmVyQ29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1NYXRyaXg6TWF0cml4NCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB2TWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcE1hdHJpeDpNYXRyaXg0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGRyYXdNb2RlOkVEcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRVM7XG4gICAgICAgIHB1YmxpYyB6Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYXRlcmlhbDpNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBhbmltYXRpb246QW5pbWF0aW9uID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgZXhlY3V0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5tYXRlcmlhbC51cGRhdGVTaGFkZXIodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZHJhdygpIHtcbiAgICAgICAgICAgIHZhciB0b3RhbE51bSA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSAwLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldEVmZmVjdHMoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5oYXNDaGlsZChFQnVmZmVyRGF0YVR5cGUuSU5ESUNFKSkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleEJ1ZmZlcjpFbGVtZW50QnVmZmVyID0gPEVsZW1lbnRCdWZmZXI+dGhpcy5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5JTkRJQ0UpO1xuXG4gICAgICAgICAgICAgICAgdG90YWxOdW0gPSBpbmRleEJ1ZmZlci5jb3VudDtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGluZGV4QnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgR2xVdGlscy5kcmF3RWxlbWVudHMoZ2xbdGhpcy5kcmF3TW9kZV0sIHRvdGFsTnVtLCBpbmRleEJ1ZmZlci50eXBlLCBpbmRleEJ1ZmZlci50eXBlU2l6ZSAqIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciA9IHRoaXMuYnVmZmVycy5nZXRDaGlsZChFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSk7XG4gICAgICAgICAgICAgICAgdG90YWxOdW0gPSB2ZXJ0ZXhCdWZmZXIuY291bnQ7XG4gICAgICAgICAgICAgICAgR2xVdGlscy5kcmF3QXJyYXlzKGdsW3RoaXMuZHJhd01vZGVdLCBzdGFydE9mZnNldCwgdG90YWxOdW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0RWZmZWN0cygpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCksXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldENvbG9yV3JpdGUobWF0ZXJpYWwucmVkV3JpdGUsIG1hdGVyaWFsLmdyZWVuV3JpdGUsIG1hdGVyaWFsLmJsdWVXcml0ZSwgbWF0ZXJpYWwuYWxwaGFXcml0ZSk7XG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnBvbHlnb25PZmZzZXRNb2RlID0gbWF0ZXJpYWwucG9seWdvbk9mZnNldE1vZGU7XG5cbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2lkZSA9IHRoaXMuX2dldFNpZGUoKTtcblxuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5ibGVuZCA9IG1hdGVyaWFsLmJsZW5kO1xuICAgICAgICAgICAgaWYobWF0ZXJpYWwuYmxlbmRGdW5jU2VwYXJhdGUgJiYgbWF0ZXJpYWwuYmxlbmRFcXVhdGlvblNlcGFyYXRlKXtcbiAgICAgICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldEJsZW5kRnVuY1NlcGFyYXRlKG1hdGVyaWFsLmJsZW5kRnVuY1NlcGFyYXRlKTtcbiAgICAgICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldEJsZW5kRXF1YXRpb25TZXBhcmF0ZShtYXRlcmlhbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB3ZENiLkxvZy5lcnJvcighbWF0ZXJpYWwuYmxlbmRTcmMgfHwgIW1hdGVyaWFsLmJsZW5kRHN0IHx8ICFtYXRlcmlhbC5ibGVuZEVxdWF0aW9uLCB3ZENiLkxvZy5pbmZvLkZVTkNfTVVTVChcIm1hdGVyaWFsLmJsZW5kU3JjIHx8IG1hdGVyaWFsLmJsZW5kRHN0IHx8IG1hdGVyaWFsLmJsZW5kRXF1YXRpb25cIiwgXCJiZSBzZXRcIikpO1xuXG4gICAgICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zZXRCbGVuZEZ1bmMobWF0ZXJpYWwuYmxlbmRTcmMsIG1hdGVyaWFsLmJsZW5kRHN0KTtcbiAgICAgICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldEJsZW5kRXF1YXRpb24obWF0ZXJpYWwuYmxlbmRFcXVhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRTaWRlKCl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcblxuICAgICAgICAgICAgcmV0dXJuIHNjZW5lLnNpZGUgPyBzY2VuZS5zaWRlIDogdGhpcy5tYXRlcmlhbC5zaWRlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgR2xVdGlscyB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZHJhd0VsZW1lbnRzKG1vZGU6YW55LCBjb3VudDpudW1iZXIsIHR5cGU6YW55LCBvZmZzZXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIERlYnVnU3RhdGlzdGljcy5jb3VudC5kcmF3Q2FsbHMrKztcblxuICAgICAgICAgICAgdGhpcy5fZ2V0R2woKS5kcmF3RWxlbWVudHMobW9kZSwgY291bnQsIHR5cGUsIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGRyYXdBcnJheXMobW9kZTphbnksIGZpcnN0Om51bWJlciwgY291bnQ6bnVtYmVyKSB7XG4gICAgICAgICAgICBEZWJ1Z1N0YXRpc3RpY3MuY291bnQuZHJhd0NhbGxzKys7XG5cbiAgICAgICAgICAgIHRoaXMuX2dldEdsKCkuZHJhd0FycmF5cyhtb2RlLCBmaXJzdCwgY291bnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2dldEdsKCkge1xuICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRnJhbWVCdWZmZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGdldCBnbCgpe1xuICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfb3JpZ2luU2Npc3NvclRlc3Q6Ym9vbGVhbiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUZyYW1lQnVmZmVyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJpbmRGcmFtZUJ1ZmZlcihidWZmZXI6V2ViR0xGcmFtZWJ1ZmZlcil7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0Vmlld3BvcnQoKXtcbiAgICAgICAgICAgIHZhciBkZXZpY2VNYW5hZ2VyID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5fb3JpZ2luU2Npc3NvclRlc3QgPSBkZXZpY2VNYW5hZ2VyLnNjaXNzb3JUZXN0O1xuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zY2lzc29yVGVzdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3RvcmVWaWV3cG9ydCgpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCksXG4gICAgICAgICAgICAgICAgdmlldyA9IGRldmljZU1hbmFnZXIudmlldztcblxuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zZXRWaWV3cG9ydCgwLCAwLCB2aWV3LndpZHRoLCB2aWV3LmhlaWdodCk7XG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNjaXNzb3JUZXN0ID0gdGhpcy5fb3JpZ2luU2Npc3NvclRlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy51bkJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1bkJpbmQoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY3JlYXRlUmVuZGVyQnVmZmVyKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIHJlbmRlckJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoIXJlbmRlckJ1ZmZlciwgXCJGYWlsZWQgdG8gY3JlYXRlIHJlbmRlcmJ1ZmZlciBvYmplY3RcIik7XG5cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXR0YWNoVGV4dHVyZShnbFRhcmdldDphbnksIHRleHR1cmU6V2ViR0xUZXh0dXJlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vdG9kbyBzdXBwb3J0IG1pcG1hcD9cbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxuICAgICAgICAgICAgICAgIGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwLFxuICAgICAgICAgICAgICAgIGdsVGFyZ2V0LFxuICAgICAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICAgICAgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXR0YWNoUmVuZGVyQnVmZmVyKHR5cGU6c3RyaW5nLCByZW5kZXJCdWZmZXI6V2ViR0xSZW5kZXJidWZmZXIpe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsW3R5cGVdLCBnbC5SRU5ERVJCVUZGRVIsIHJlbmRlckJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2hlY2soKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2wsXG4gICAgICAgICAgICAgICAgZSA9IGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO1xuXG4gICAgICAgICAgICBpZiAoZSAhPT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEUpIHtcbiAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgYEZyYW1lIGJ1ZmZlciBvYmplY3QgaXMgaW5jb21wbGV0ZToke2UudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFNoYWRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hdHRyaWJ1dGVzOndkQ2IuSGFzaDxTaGFkZXJEYXRhPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyRGF0YT4oKTtcbiAgICAgICAgZ2V0IGF0dHJpYnV0ZXMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBhdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+KXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzTm90RXF1YWwoYXR0cmlidXRlcywgdGhpcy5fYXR0cmlidXRlcykpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmluaXRpb25EYXRhRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyRGF0YT4gPSB3ZENiLkhhc2guY3JlYXRlPFNoYWRlckRhdGE+KCk7XG4gICAgICAgIGdldCB1bmlmb3Jtcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VuaWZvcm1zO1xuICAgICAgICB9XG4gICAgICAgIHNldCB1bmlmb3Jtcyh1bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyRGF0YT4pe1xuICAgICAgICAgICAgaWYodGhpcy5faXNOb3RFcXVhbCh1bmlmb3JtcywgdGhpcy5fdW5pZm9ybXMpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZpbml0aW9uRGF0YURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3VuaWZvcm1zID0gdW5pZm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92c1NvdXJjZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBnZXQgdnNTb3VyY2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92c1NvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdnNTb3VyY2UodnNTb3VyY2U6c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKHZzU291cmNlICE9PSB0aGlzLl92c1NvdXJjZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmaW5pdGlvbkRhdGFEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92c1NvdXJjZSA9IHZzU291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZnNTb3VyY2U6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgZ2V0IGZzU291cmNlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnNTb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZzU291cmNlKGZzU291cmNlOnN0cmluZyl7XG4gICAgICAgICAgICBpZihmc1NvdXJjZSAhPT0gdGhpcy5fZnNTb3VyY2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmluaXRpb25EYXRhRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZnNTb3VyY2UgPSBmc1NvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwcm9ncmFtOlByb2dyYW0gPSBQcm9ncmFtLmNyZWF0ZSgpO1xuXG4gICAgICAgIHByaXZhdGUgX2RlZmluaXRpb25EYXRhRGlydHk6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgX2xpYnM6IHdkQ2IuQ29sbGVjdGlvbjxTaGFkZXJMaWI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxTaGFkZXJMaWI+KCk7XG4gICAgICAgIHByaXZhdGUgX3NvdXJjZUJ1aWxkZXI6U2hhZGVyU291cmNlQnVpbGRlciA9IFNoYWRlclNvdXJjZUJ1aWxkZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZVZzU2hhZGVyKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0U2hhZGVyKGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKSwgdGhpcy52c1NvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY3JlYXRlRnNTaGFkZXIoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRTaGFkZXIoZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUiksIHRoaXMuZnNTb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRXF1YWwob3RoZXI6U2hhZGVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZzU291cmNlID09PSBvdGhlci52c1NvdXJjZVxuICAgICAgICAgICAgJiYgdGhpcy5mc1NvdXJjZSA9PT0gb3RoZXIuZnNTb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHRoaXMucHJvZ3JhbTtcblxuICAgICAgICAgICAgdGhpcy5idWlsZERlZmluaXRpb25EYXRhKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fZGVmaW5pdGlvbkRhdGFEaXJ0eSl7XG4gICAgICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOiBiYXRjaCBpbml0IHByb2dyYW0oaWYgaXQncyB0aGUgc2FtZSBhcyB0aGUgbGFzdCBwcm9ncmFtLCBub3QgaW5pdFdpdGhTaGFkZXIpXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtLmluaXRXaXRoU2hhZGVyKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmaW5pdGlvbkRhdGFEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnByb2dyYW0udXNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpYnMuZm9yRWFjaCgobGliOlNoYWRlckxpYikgPT4ge1xuICAgICAgICAgICAgICAgIGxpYi5zZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQsIG1hdGVyaWFsKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIHByb2dyYW0uc2VuZEF0dHJpYnV0ZURhdGFGcm9tQ3VzdG9tU2hhZGVyKCk7XG4gICAgICAgICAgICBwcm9ncmFtLnNlbmRVbmlmb3JtRGF0YUZyb21DdXN0b21TaGFkZXIoKTtcblxuICAgICAgICAgICAgbWF0ZXJpYWwubWFwTWFuYWdlci5zZW5kRGF0YShwcm9ncmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNMaWIobGliOlNoYWRlckxpYik7XG4gICAgICAgIHB1YmxpYyBoYXNMaWIoX2NsYXNzOkZ1bmN0aW9uKTtcblxuICAgICAgICBwdWJsaWMgaGFzTGliKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIFNoYWRlckxpYil7XG4gICAgICAgICAgICAgICAgbGV0IGxpYjpTaGFkZXJMaWIgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpYnMuaGFzQ2hpbGQobGliKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IF9jbGFzcyA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlicy5oYXNDaGlsZCgobGliOlNoYWRlckxpYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGliIGluc3RhbmNlb2YgX2NsYXNzO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkTGliKGxpYjpTaGFkZXJMaWIpe1xuICAgICAgICAgICAgdGhpcy5fbGlicy5hZGRDaGlsZChsaWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFNoYWRlckxpYlRvVG9wKGxpYjpTaGFkZXJMaWIpe1xuICAgICAgICAgICAgdGhpcy5fbGlicy51blNoaWZ0Q2hpbGQobGliKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRMaWIobGliQ2xhc3M6RnVuY3Rpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpYnMuZmluZE9uZSgobGliOlNoYWRlckxpYikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaWIgaW5zdGFuY2VvZiBsaWJDbGFzcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldExpYnMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUxpYihsaWI6U2hhZGVyTGliKTtcbiAgICAgICAgcHVibGljIHJlbW92ZUxpYihmdW5jOkZ1bmN0aW9uKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlTGliKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpYnMucmVtb3ZlQ2hpbGQoYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQWxsTGlicygpe1xuICAgICAgICAgICAgdGhpcy5fbGlicy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNvcnRMaWIoZnVuYzooYTpTaGFkZXJMaWIsIGI6U2hhZGVyTGliKSA9PiBhbnkpe1xuICAgICAgICAgICAgdGhpcy5fbGlicyA9IHRoaXMuX2xpYnMuc29ydChmdW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZWFkKGRlZmluaXRpb25EYXRhOlNoYWRlckRlZmluaXRpb25EYXRhKXtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1aWxkZXIucmVhZChkZWZpbml0aW9uRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYnVpbGREZWZpbml0aW9uRGF0YShxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLl9saWJzLmZvckVhY2goKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBsaWIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fc291cmNlQnVpbGRlci5jbGVhclNoYWRlckRlZmluaXRpb24oKTtcblxuICAgICAgICAgICAgdGhpcy5fc291cmNlQnVpbGRlci5idWlsZCh0aGlzLl9saWJzKTtcblxuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gdGhpcy5fc291cmNlQnVpbGRlci5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtcyA9IHRoaXMuX3NvdXJjZUJ1aWxkZXIudW5pZm9ybXM7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlID0gdGhpcy5fc291cmNlQnVpbGRlci52c1NvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2UgPSB0aGlzLl9zb3VyY2VCdWlsZGVyLmZzU291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5pdFNoYWRlcihzaGFkZXIsIHNvdXJjZSl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgICAgIGlmKGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICAgICAgICAgIExvZy5sb2coXCJhdHRyaWJ1dGVzOlxcblwiLCB0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgIExvZy5sb2coXCJ1bmlmb3JtczpcXG5cIiwgdGhpcy51bmlmb3Jtcyk7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcInNvdXJjZTpcXG5cIiwgc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTm90RXF1YWwobGlzdDE6d2RDYi5IYXNoPFNoYWRlckRhdGE+LCBsaXN0Mjp3ZENiLkhhc2g8U2hhZGVyRGF0YT4pe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsaXN0MS5mb3JFYWNoKChkYXRhOlNoYWRlckRhdGEsIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdDJEYXRhID0gbGlzdDIuZ2V0Q2hpbGQoa2V5KTtcblxuICAgICAgICAgICAgICAgIGlmKCFsaXN0MkRhdGEgfHwgZGF0YS50eXBlICE9PSBsaXN0MkRhdGEudHlwZSB8fCBkYXRhLnZhbHVlICE9PSBsaXN0MkRhdGEudmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kQlJFQUs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBTaGFkZXJEYXRhID0ge1xuICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGU7XG4gICAgICAgIHZhbHVlOmFueTtcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBTaGFkZXJEZWZpbml0aW9uRGF0YSA9IHtcbiAgICAgICAgdnNTb3VyY2VUb3A6c3RyaW5nO1xuICAgICAgICB2c1NvdXJjZURlZmluZTpzdHJpbmc7XG4gICAgICAgIHZzU291cmNlVmFyRGVjbGFyZTpzdHJpbmc7XG4gICAgICAgIHZzU291cmNlRnVuY0RlY2xhcmU6c3RyaW5nO1xuICAgICAgICB2c1NvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nO1xuICAgICAgICB2c1NvdXJjZUJvZHk6c3RyaW5nO1xuICAgICAgICBmc1NvdXJjZVRvcDpzdHJpbmc7XG4gICAgICAgIGZzU291cmNlRGVmaW5lOnN0cmluZztcbiAgICAgICAgZnNTb3VyY2VWYXJEZWNsYXJlOnN0cmluZztcbiAgICAgICAgZnNTb3VyY2VGdW5jRGVjbGFyZTpzdHJpbmc7XG4gICAgICAgIGZzU291cmNlRnVuY0RlZmluZTpzdHJpbmc7XG4gICAgICAgIGZzU291cmNlQm9keTpzdHJpbmc7XG4gICAgICAgIGF0dHJpYnV0ZXM6U2hhZGVyRGF0YXx3ZENiLkhhc2g8U2hhZGVyRGF0YT47XG4gICAgICAgIHVuaWZvcm1zOlNoYWRlckRhdGF8d2RDYi5IYXNoPFNoYWRlckRhdGE+O1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICAvL3RvZG8gYWRkIGN1c3RvbSBkZWZpbmVcbiAgICBleHBvcnQgY2xhc3MgU2hhZGVyU291cmNlQnVpbGRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPigpO1xuICAgICAgICBwdWJsaWMgdW5pZm9ybXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPigpO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2U6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIHZzU291cmNlVG9wOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZURlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VWYXJEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIHZzU291cmNlQm9keTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2U6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlVG9wOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZURlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VWYXJEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZUZ1bmNEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlQm9keTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VEZWZpbmVMaXN0OndkQ2IuQ29sbGVjdGlvbjxTb3VyY2VEZWZpbmU+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxTb3VyY2VEZWZpbmU+KCk7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZURlZmluZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPFNvdXJjZURlZmluZT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFNvdXJjZURlZmluZT4oKTtcblxuICAgICAgICBwdWJsaWMgYXR0cmlidXRlc0Zyb21TaGFkZXJMaWI6d2RDYi5IYXNoPFNoYWRlckRhdGE+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPigpO1xuICAgICAgICBwdWJsaWMgdW5pZm9ybXNGcm9tU2hhZGVyTGliOndkQ2IuSGFzaDxTaGFkZXJEYXRhPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyRGF0YT4oKTtcbiAgICAgICAgcHVibGljIHZzU291cmNlVG9wRnJvbVNoYWRlckxpYjpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VEZWZpbmVGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZVZhckRlY2xhcmVGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWNsYXJlRnJvbVNoYWRlckxpYjpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VGdW5jRGVmaW5lRnJvbVNoYWRlckxpYjpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VCb2R5RnJvbVNoYWRlckxpYjpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VUb3BGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZURlZmluZUZyb21TaGFkZXJMaWI6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlVmFyRGVjbGFyZUZyb21TaGFkZXJMaWI6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlY2xhcmVGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZUZ1bmNEZWZpbmVGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZUJvZHlGcm9tU2hhZGVyTGliOnN0cmluZyA9IFwiXCI7XG5cblxuICAgICAgICBwdWJsaWMgcmVhZChkZWZpbml0aW9uRGF0YTpTaGFkZXJEZWZpbml0aW9uRGF0YSl7XG4gICAgICAgICAgICBpZihkZWZpbml0aW9uRGF0YS5hdHRyaWJ1dGVzKXtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNGcm9tU2hhZGVyTGliID0gPHdkQ2IuSGFzaDxTaGFkZXJEYXRhPj4oZGVmaW5pdGlvbkRhdGEuYXR0cmlidXRlcyBpbnN0YW5jZW9mIHdkQ2IuSGFzaCA/IGRlZmluaXRpb25EYXRhLmF0dHJpYnV0ZXMgOiB3ZENiLkhhc2guY3JlYXRlKGRlZmluaXRpb25EYXRhLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZGVmaW5pdGlvbkRhdGEudW5pZm9ybXMpe1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXNGcm9tU2hhZGVyTGliID0gPHdkQ2IuSGFzaDxTaGFkZXJEYXRhPj4oZGVmaW5pdGlvbkRhdGEudW5pZm9ybXMgaW5zdGFuY2VvZiB3ZENiLkhhc2ggPyBkZWZpbml0aW9uRGF0YS51bmlmb3JtcyA6IHdkQ2IuSGFzaC5jcmVhdGUoZGVmaW5pdGlvbkRhdGEudW5pZm9ybXMpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcEZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS52c1NvdXJjZVRvcCB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZURlZmluZUZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS52c1NvdXJjZURlZmluZSB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEudnNTb3VyY2VWYXJEZWNsYXJlIHx8IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlY2xhcmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEudnNTb3VyY2VGdW5jRGVjbGFyZSB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEudnNTb3VyY2VGdW5jRGVmaW5lIHx8IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keUZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS52c1NvdXJjZUJvZHkgfHwgXCJcIjtcblxuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVRvcEZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS5mc1NvdXJjZVRvcCB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZUZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS5mc1NvdXJjZURlZmluZSB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEuZnNTb3VyY2VWYXJEZWNsYXJlIHx8IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlY2xhcmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEuZnNTb3VyY2VGdW5jRGVjbGFyZSB8fCBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmVGcm9tU2hhZGVyTGliID0gZGVmaW5pdGlvbkRhdGEuZnNTb3VyY2VGdW5jRGVmaW5lIHx8IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlQm9keUZyb21TaGFkZXJMaWIgPSBkZWZpbml0aW9uRGF0YS5mc1NvdXJjZUJvZHkgfHwgXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBidWlsZChsaWJzOndkQ2IuQ29sbGVjdGlvbjxTaGFkZXJMaWI+KXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5fcmVhZExpYlNvdXJjZShsaWJzKTtcblxuICAgICAgICAgICAgdGhpcy5fYnVpbGRWc1NvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRGc1NvdXJjZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChkYXRhOlNoYWRlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YS52YWx1ZSkgfHwgSnVkZ2VVdGlscy5pc0Zsb2F0QXJyYXkoZGF0YS52YWx1ZSkpICYmIGRhdGEudmFsdWUgIT09IEVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChkYXRhOlNoYWRlckRhdGEsIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IHNlbGYuX2NvbnZlcnRBcnJheVRvQXJyYXlCdWZmZXIoZGF0YS50eXBlLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyU2hhZGVyRGVmaW5pdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lTGlzdC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZUxpc3QucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlVG9wID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VCb2R5ID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlYWRMaWJTb3VyY2UobGliczp3ZENiLkNvbGxlY3Rpb248U2hhZGVyTGliPil7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgdnNTb3VyY2VUb3AgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRGVmaW5lID0gXCJcIixcbiAgICAgICAgICAgICAgICB2c1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRnVuY0RlY2xhcmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRnVuY0RlZmluZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgdnNTb3VyY2VCb2R5ID0gXCJcIixcbiAgICAgICAgICAgICAgICBmc1NvdXJjZVRvcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VEZWZpbmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIGZzU291cmNlVmFyRGVjbGFyZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVjbGFyZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIixcbiAgICAgICAgICAgICAgICBmc1NvdXJjZUJvZHkgPSBcIlwiO1xuXG4gICAgICAgICAgICBsaWJzLmZvckVhY2goKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmF0dHJpYnV0ZXMuYWRkQ2hpbGRyZW4obGliLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgIHNlbGYudW5pZm9ybXMuYWRkQ2hpbGRyZW4obGliLnVuaWZvcm1zKTtcblxuICAgICAgICAgICAgICAgIHZzU291cmNlVG9wICs9IGxpYi52c1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICB2c1NvdXJjZURlZmluZSArPSBsaWIudnNTb3VyY2VEZWZpbmU7XG4gICAgICAgICAgICAgICAgdnNTb3VyY2VWYXJEZWNsYXJlICs9IGxpYi52c1NvdXJjZVZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgdnNTb3VyY2VGdW5jRGVjbGFyZSArPSBsaWIudnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICB2c1NvdXJjZUZ1bmNEZWZpbmUgKz0gbGliLnZzU291cmNlRnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICB2c1NvdXJjZUJvZHkgKz0gbGliLnZzU291cmNlQm9keTtcblxuICAgICAgICAgICAgICAgIGZzU291cmNlVG9wICs9IGxpYi5mc1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICBmc1NvdXJjZURlZmluZSArPSBsaWIuZnNTb3VyY2VEZWZpbmU7XG4gICAgICAgICAgICAgICAgZnNTb3VyY2VWYXJEZWNsYXJlICs9IGxpYi5mc1NvdXJjZVZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVjbGFyZSArPSBsaWIuZnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICBmc1NvdXJjZUZ1bmNEZWZpbmUgKz0gbGliLmZzU291cmNlRnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICBmc1NvdXJjZUJvZHkgKz0gbGliLmZzU291cmNlQm9keTtcblxuICAgICAgICAgICAgICAgIHNlbGYudnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkcmVuKGxpYi52c1NvdXJjZURlZmluZUxpc3QpO1xuICAgICAgICAgICAgICAgIHNlbGYuZnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkcmVuKGxpYi5mc1NvdXJjZURlZmluZUxpc3QpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qISBlbnN1cmUgc2hhZGVyIGxpYidzIGNvZGUgaXMgYmVmb3JlIGN1c3RvbSBzaGFkZXIncyBzb3VyY2UgKi9cbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5hZGRDaGlsZHJlbih0aGlzLmF0dHJpYnV0ZXNGcm9tU2hhZGVyTGliKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuYWRkQ2hpbGRyZW4odGhpcy51bmlmb3Jtc0Zyb21TaGFkZXJMaWIpO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcCA9IHZzU291cmNlVG9wICsgdGhpcy52c1NvdXJjZVRvcEZyb21TaGFkZXJMaWI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lID0gdnNTb3VyY2VEZWZpbmUgKyB0aGlzLnZzU291cmNlRGVmaW5lRnJvbVNoYWRlckxpYjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlID0gdnNTb3VyY2VWYXJEZWNsYXJlICsgdGhpcy52c1NvdXJjZVZhckRlY2xhcmVGcm9tU2hhZGVyTGliO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlID0gdnNTb3VyY2VGdW5jRGVjbGFyZSArIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZUZyb21TaGFkZXJMaWI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZSA9IHZzU291cmNlRnVuY0RlZmluZSArIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lRnJvbVNoYWRlckxpYjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gdnNTb3VyY2VCb2R5ICsgdGhpcy52c1NvdXJjZUJvZHlGcm9tU2hhZGVyTGliO1xuXG4gICAgICAgICAgICB0aGlzLmZzU291cmNlVG9wID0gZnNTb3VyY2VUb3AgKyB0aGlzLmZzU291cmNlVG9wRnJvbVNoYWRlckxpYjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmUgPSBmc1NvdXJjZURlZmluZSArIHRoaXMuZnNTb3VyY2VEZWZpbmVGcm9tU2hhZGVyTGliO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmUgPSBmc1NvdXJjZVZhckRlY2xhcmUgKyB0aGlzLmZzU291cmNlVmFyRGVjbGFyZUZyb21TaGFkZXJMaWI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlY2xhcmUgPSBmc1NvdXJjZUZ1bmNEZWNsYXJlICsgdGhpcy5mc1NvdXJjZUZ1bmNEZWNsYXJlRnJvbVNoYWRlckxpYjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lID0gZnNTb3VyY2VGdW5jRGVmaW5lICsgdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmVGcm9tU2hhZGVyTGliO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUJvZHkgPSBmc1NvdXJjZUJvZHkgKyB0aGlzLmZzU291cmNlQm9keUZyb21TaGFkZXJMaWI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFZzU291cmNlKCl7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlID0gdGhpcy5fYnVpbGRWc1NvdXJjZVRvcCgpICsgdGhpcy5fYnVpbGRWc1NvdXJjZURlZmluZSgpICsgdGhpcy5fYnVpbGRWc1NvdXJjZVZhckRlY2xhcmUoKSArIHRoaXMuX2J1aWxkVnNTb3VyY2VGdW5jRGVjbGFyZSgpICsgdGhpcy5fYnVpbGRWc1NvdXJjZUZ1bmNEZWZpbmUoKSArIHRoaXMuX2J1aWxkVnNTb3VyY2VCb2R5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEZzU291cmNlKCl7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlID0gdGhpcy5fYnVpbGRGc1NvdXJjZVRvcCgpICsgdGhpcy5fYnVpbGRGc1NvdXJjZURlZmluZSgpICsgdGhpcy5fYnVpbGRGc1NvdXJjZVZhckRlY2xhcmUoKSArIHRoaXMuX2J1aWxkRnNTb3VyY2VGdW5jRGVjbGFyZSgpICsgdGhpcy5fYnVpbGRGc1NvdXJjZUZ1bmNEZWZpbmUoKSArIHRoaXMuX2J1aWxkRnNTb3VyY2VCb2R5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFZzU291cmNlVG9wKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJlY2lzaW9uU291cmNlKCkgKyB0aGlzLnZzU291cmNlVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRWc1NvdXJjZURlZmluZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkU291cmNlRGVmaW5lKHRoaXMudnNTb3VyY2VEZWZpbmVMaXN0KSArIHRoaXMudnNTb3VyY2VEZWZpbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFZzU291cmNlVmFyRGVjbGFyZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlQXR0cmlidXRlU291cmNlKCkgKyB0aGlzLl9nZW5lcmF0ZVVuaWZvcm1Tb3VyY2UodGhpcy52c1NvdXJjZVZhckRlY2xhcmUsIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lLCB0aGlzLnZzU291cmNlQm9keSkgKyB0aGlzLnZzU291cmNlVmFyRGVjbGFyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2VGdW5jRGVjbGFyZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2VGdW5jRGVmaW5lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFZzU291cmNlQm9keSgpe1xuICAgICAgICAgICAgcmV0dXJuIFNoYWRlclNuaXBwZXQubWFpbl9iZWdpbiArIHRoaXMudnNTb3VyY2VCb2R5ICsgU2hhZGVyU25pcHBldC5tYWluX2VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2VUb3AoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcmVjaXNpb25Tb3VyY2UoKSArIHRoaXMuZnNTb3VyY2VUb3A7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEZzU291cmNlRGVmaW5lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRTb3VyY2VEZWZpbmUodGhpcy5mc1NvdXJjZURlZmluZUxpc3QpICsgdGhpcy5mc1NvdXJjZURlZmluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2VWYXJEZWNsYXJlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVVbmlmb3JtU291cmNlKHRoaXMuZnNTb3VyY2VWYXJEZWNsYXJlLCB0aGlzLmZzU291cmNlRnVuY0RlZmluZSwgdGhpcy5mc1NvdXJjZUJvZHkpICsgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEZzU291cmNlRnVuY0RlY2xhcmUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZzU291cmNlRnVuY0RlY2xhcmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEZzU291cmNlRnVuY0RlZmluZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRGc1NvdXJjZUJvZHkoKXtcbiAgICAgICAgICAgIHJldHVybiBTaGFkZXJTbmlwcGV0Lm1haW5fYmVnaW4gKyB0aGlzLmZzU291cmNlQm9keSArIFNoYWRlclNuaXBwZXQubWFpbl9lbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFNvdXJjZURlZmluZShkZWZpbmVMaXN0OndkQ2IuQ29sbGVjdGlvbjxTb3VyY2VEZWZpbmU+KXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gICAgICAgICAgICBkZWZpbmVMaXN0LmZvckVhY2goKGRlZmluZTpTb3VyY2VEZWZpbmUpID0+IHtcbiAgICAgICAgICAgICAgICBpZihkZWZpbmUudmFsdWUgPT09IHZvaWQgMCl7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgI2RlZmluZSAke2RlZmluZS5uYW1lfVxcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgI2RlZmluZSAke2RlZmluZS5uYW1lfSAke2RlZmluZS52YWx1ZX1cXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UHJlY2lzaW9uU291cmNlKCl7XG4gICAgICAgICAgICB2YXIgcHJlY2lzaW9uID0gR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKS5wcmVjaXNpb24sXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChwcmVjaXNpb24pe1xuICAgICAgICAgICAgICAgIGNhc2UgRUdQVVByZWNpc2lvbi5ISUdIUDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gU2hhZGVyQ2h1bmsuaGlnaHBfZnJhZ21lbnQudG9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVHUFVQcmVjaXNpb24uTUVESVVNUDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gU2hhZGVyQ2h1bmsubWVkaXVtcF9mcmFnbWVudC50b3A7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUdQVVByZWNpc2lvbi5MT1dQOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBTaGFkZXJDaHVuay5sb3dwX2ZyYWdtZW50LnRvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZW5lcmF0ZUF0dHJpYnV0ZVNvdXJjZSgpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5maWx0ZXIoKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWRhdGE7XG4gICAgICAgICAgICB9KS5mb3JFYWNoKChkYXRhOlNoYWRlckRhdGEsIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYGF0dHJpYnV0ZSAke1ZhcmlhYmxlVHlwZVRhYmxlLmdldFZhcmlhYmxlVHlwZShkYXRhLnR5cGUpfSAke2tleX07XFxuYDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2VuZXJhdGVVbmlmb3JtU291cmNlKHNvdXJjZVZhckRlY2xhcmU6c3RyaW5nLCBzb3VyY2VGdW5jRGVmaW5lOnN0cmluZywgc291cmNlQm9keTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyKChkYXRhOlNoYWRlckRhdGEsIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFkYXRhICYmIGRhdGEudHlwZSAhPT0gRVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkUgJiYgZGF0YS50eXBlICE9PSBFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMgJiYgIXNlbGYuX2lzRXhpc3RJblNvdXJjZShrZXksIHNvdXJjZVZhckRlY2xhcmUpICYmIChzZWxmLl9pc0V4aXN0SW5Tb3VyY2Uoa2V5LCBzb3VyY2VGdW5jRGVmaW5lKSB8fCBzZWxmLl9pc0V4aXN0SW5Tb3VyY2Uoa2V5LCBzb3VyY2VCb2R5KSk7XG4gICAgICAgICAgICAgICAgfSkuZm9yRWFjaCgoZGF0YTpTaGFkZXJEYXRhLCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgdW5pZm9ybSAke1ZhcmlhYmxlVHlwZVRhYmxlLmdldFZhcmlhYmxlVHlwZShkYXRhLnR5cGUpfSAke2tleX07XFxuYDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzRXhpc3RJblNvdXJjZShrZXk6c3RyaW5nLCBzb3VyY2U6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UuaW5kZXhPZihrZXkpICE9PSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRBcnJheVRvQXJyYXlCdWZmZXIodHlwZTpFVmFyaWFibGVUeXBlLCB2YWx1ZTpBcnJheTxhbnk+fEZsb2F0MzJBcnJheXxGbG9hdDY0QXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fZ2V0QnVmZmVyU2l6ZSh0eXBlKTtcblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5QnVmZmVyLmNyZWF0ZShuZXcgRmxvYXQzMkFycmF5KHZhbHVlKSwgc2l6ZSwgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihKdWRnZVV0aWxzLmlzRmxvYXRBcnJheSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheUJ1ZmZlci5jcmVhdGUodmFsdWUsIHNpemUsIEVCdWZmZXJUeXBlLkZMT0FUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEJ1ZmZlclNpemUodHlwZTpFVmFyaWFibGVUeXBlKXtcbiAgICAgICAgICAgIHZhciBzaXplID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMTpcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuTlVNQkVSXzE6XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMzpcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5GTE9BVF80OlxuICAgICAgICAgICAgICAgICAgICBzaXplID0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJFVmFyaWFibGVUeXBlXCIsIHR5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgU291cmNlRGVmaW5lID0ge1xuICAgICAgICBuYW1lOnN0cmluZztcbiAgICAgICAgdmFsdWU6YW55O1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVmFyaWFibGVUeXBle1xuICAgICAgICBGTE9BVF8xLFxuICAgICAgICBGTE9BVF8yLFxuICAgICAgICBGTE9BVF8zLFxuICAgICAgICBGTE9BVF80LFxuICAgICAgICBGTE9BVF9NQVQzLFxuICAgICAgICBGTE9BVF9NQVQ0LFxuICAgICAgICBCVUZGRVIsXG4gICAgICAgIFNBTVBMRVJfQ1VCRSxcbiAgICAgICAgU0FNUExFUl8yRCxcbiAgICAgICAgTlVNQkVSXzEsXG4gICAgICAgIFNUUlVDVFVSRSxcbiAgICAgICAgU1RSVUNUVVJFU1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVWYXJpYWJsZUNhdGVnb3J5e1xuICAgICAgICAvKiEgYXZvaWQgdG8gZXF1YWwgMFxuICAgICAgICBmb3IgZXhhbXBsZSwgd2hlbiBjb21wYXJlIHRvIHRleHR1cmUgaW5kZXgsIGl0IG1heSBlcXVhbCB0ZXh0dXJlIDBcbiAgICAgICAgKi9cbiAgICAgICAgRU5HSU5FID0gPGFueT5cIkVOR0lORVwiLFxuICAgICAgICBDVVNUT00gPSA8YW55PlwiQ1VTVE9NXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZhcmlhYmxlTGlie1xuICAgICAgICAvL3RvZG8gZ3JvdXA/KGNvbW1vbixjdWJlbWFwLi4uKVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9wb3NpdGlvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBhX2N1cnJlbnRGcmFtZVBvc2l0aW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfbmV4dEZyYW1lUG9zaXRpb246U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9ub3JtYWw6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9jdXJyZW50RnJhbWVOb3JtYWw6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9uZXh0RnJhbWVOb3JtYWw6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9jb2xvcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBhX3RleENvb3JkOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzIsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfdGFuZ2VudDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X21NYXRyaXg6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV92TWF0cml4OlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUX01BVDQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfcE1hdHJpeDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF9NQVQ0LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X25vcm1hbE1hdHJpeDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF9NQVQzLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NhbXBsZXJDdWJlMDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkUsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfc2FtcGxlcjJEMDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJELFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NhbXBsZXIyRDE6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9kaWZmdXNlTWFwU2FtcGxlcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJELFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NwZWN1bGFyTWFwU2FtcGxlcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJELFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2VtaXNzaW9uTWFwU2FtcGxlcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJELFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X25vcm1hbE1hcFNhbXBsZXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9taXJyb3JTYW1wbGVyOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfY2FtZXJhUG9zOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfcmVmcmFjdGlvblJhdGlvOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfcmVmbGVjdGl2aXR5OlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfc291cmNlUmVnaW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfcmVwZWF0UmVnaW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfY29tYmluZU1vZGU6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuTlVNQkVSXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfbWl4UmF0aW86U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMSxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9kaWZmdXNlOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfc3BlY3VsYXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9lbWlzc2lvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NoaW5pbmVzczpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2xpZ2h0TW9kZWw6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuTlVNQkVSXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfaXNCb3RoU2lkZTpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5OVU1CRVJfMSxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9vcGFjaXR5OlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfYW1iaWVudDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2RpcmVjdGlvbkxpZ2h0czpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkVTLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3BvaW50TGlnaHRzOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfdnBNYXRyaXhGcm9tTGlnaHQ6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9saWdodFBvczpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2ZhclBsYW5lOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfaW50ZXJwb2xhdGlvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgU2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZTtcbiAgICAgICAgdmFsdWU6YW55XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgY29uc3QgX3RhYmxlID0gd2RDYi5IYXNoLmNyZWF0ZTxzdHJpbmc+KCk7XG5cbiAgICAvL3RvZG8gcmVtb3ZlIDxhbnk+XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBcImZsb2F0XCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfMiwgXCJ2ZWMyXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfMywgXCJ2ZWMzXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfNCwgXCJ2ZWM0XCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUMywgXCJtYXQzXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUNCwgXCJtYXQ0XCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuTlVNQkVSXzEsIFwiaW50XCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFLCBcInNhbXBsZXJDdWJlXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCwgXCJzYW1wbGVyMkRcIik7XG5cbiAgICBleHBvcnQgY2xhc3MgVmFyaWFibGVUeXBlVGFibGV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0VmFyaWFibGVUeXBlKHR5cGU6RVZhcmlhYmxlVHlwZSl7XG4gICAgICAgICAgICAvL3RvZG8gcmVtb3ZlIDxhbnk+XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RhYmxlLmdldENoaWxkKDxhbnk+dHlwZSk7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcihyZXN1bHQgPT09IHZvaWQgMCwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QodHlwZSwgXCJpbiBWYXJpYWJsZVR5cGVUYWJsZVwiKSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBfdGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKTtcblxuICAgIF90YWJsZS5hZGRDaGlsZChcImRpZmZ1c2VNYXBcIiwgXCJ1X2RpZmZ1c2VNYXBTYW1wbGVyXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZChcInNwZWN1bGFyTWFwXCIsIFwidV9zcGVjdWxhck1hcFNhbXBsZXJcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKFwiZW1pc3Npb25NYXBcIiwgXCJ1X2VtaXNzaW9uTWFwU2FtcGxlclwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoXCJub3JtYWxNYXBcIiwgXCJ1X25vcm1hbE1hcFNhbXBsZXJcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKFwibWlycm9yUmVmbGVjdGlvbk1hcFwiLCBcInVfbWlycm9yU2FtcGxlclwiKTtcblxuICAgIGV4cG9ydCBjbGFzcyBWYXJpYWJsZU5hbWVUYWJsZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRWYXJpYWJsZU5hbWUobmFtZTogc3RyaW5nKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGFibGUuZ2V0Q2hpbGQobmFtZSk7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcihyZXN1bHQgPT09IHZvaWQgMCwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QobmFtZSwgXCJpbiBWYXJpYWJsZU5hbWVUYWJsZVwiKSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBBQlNUUkFDVF9BVFRSSUJVVEU7XG5cbiAgICAgICAgcHVibGljIGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlclZhcmlhYmxlPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyVmFyaWFibGU+KCk7XG4gICAgICAgIHB1YmxpYyB1bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyVmFyaWFibGU+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJWYXJpYWJsZT4oKTtcbiAgICAgICAgcHVibGljIHZzU291cmNlVG9wOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZURlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VWYXJEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIHZzU291cmNlQm9keTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VUb3A6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRGVmaW5lOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZVZhckRlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VCb2R5OnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZURlZmluZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHVibGljIGZzU291cmNlRGVmaW5lTGlzdDp3ZENiLkNvbGxlY3Rpb248YW55PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgdnMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGZzID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJTaGFkZXJEZWZpbml0aW9uKCk7XG5cbiAgICAgICAgICAgIHZzID0gdGhpcy5nZXRWc0NodW5rKCk7XG4gICAgICAgICAgICBmcyA9IHRoaXMuZ2V0RnNDaHVuaygpO1xuXG4gICAgICAgICAgICB2cyAmJiB0aGlzLnNldFZzU291cmNlKHZzKTtcbiAgICAgICAgICAgIGZzICYmIHRoaXMuc2V0RnNTb3VyY2UoZnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldFZzQ2h1bmsoKTtcbiAgICAgICAgcHJvdGVjdGVkIGdldFZzQ2h1bmsodHlwZTpzdHJpbmcpO1xuXG4gICAgICAgIHByb3RlY3RlZCBnZXRWc0NodW5rKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmdzLmxlbmd0aCA9PT0gMCA/IHRoaXMudHlwZSA6IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDaHVuayh0eXBlLCBFU2hhZGVyTGliVHlwZS52cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RnNDaHVuaygpO1xuICAgICAgICBwcm90ZWN0ZWQgZ2V0RnNDaHVuayh0eXBlOnN0cmluZyk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldEZzQ2h1bmsoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFyZ3MubGVuZ3RoID09PSAwID8gdGhpcy50eXBlIDogYXJnc1swXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENodW5rKHR5cGUsIEVTaGFkZXJMaWJUeXBlLmZzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRWc1NvdXJjZSh2czpHTFNMQ2h1bmssIG9wZXJhdG9yOnN0cmluZz1cIj1cIil7XG4gICAgICAgICAgICB0aGlzLl9zZXRTb3VyY2UodnMsIEVTaGFkZXJMaWJUeXBlLnZzLCBvcGVyYXRvcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0RnNTb3VyY2UoZnM6R0xTTENodW5rLCBvcGVyYXRvcjpzdHJpbmc9XCI9XCIpe1xuICAgICAgICAgICAgdGhpcy5fc2V0U291cmNlKGZzLCBFU2hhZGVyTGliVHlwZS5mcywgb3BlcmF0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEF0dHJpYnV0ZVZhcmlhYmxlKHZhcmlhYmxlQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdGhpcy5fYWRkVmFyaWFibGUodGhpcy5hdHRyaWJ1dGVzLCB2YXJpYWJsZUFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkVW5pZm9ybVZhcmlhYmxlKHZhcmlhYmxlQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdGhpcy5fYWRkVmFyaWFibGUodGhpcy51bmlmb3JtcywgdmFyaWFibGVBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW06UHJvZ3JhbSwgbmFtZTpzdHJpbmcsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHByb2dyYW0uc2VuZEF0dHJpYnV0ZURhdGEobmFtZSwgRVZhcmlhYmxlVHlwZS5CVUZGRVIsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24ocHJvZ3JhbTpQcm9ncmFtLCBuYW1lOnN0cmluZywgZGF0YTphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhVmFyaWFibGVMaWJbbmFtZV0sIGAke25hbWV9IHNob3VsZCBleGlzdCBpbiBWYXJpYWJsZUxpYmApO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgc2VuZFVuaWZvcm1EYXRhKHByb2dyYW06UHJvZ3JhbSwgbmFtZTpzdHJpbmcsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKG5hbWUsIFZhcmlhYmxlTGliW25hbWVdLnR5cGUsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJTaGFkZXJEZWZpbml0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmVMaXN0LnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lTGlzdC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVG9wID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VUb3AgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlVmFyRGVjbGFyZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlY2xhcmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUJvZHkgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q2h1bmsodHlwZTpzdHJpbmcsIHNvdXJjZVR5cGU6RVNoYWRlckxpYlR5cGUpe1xuICAgICAgICAgICAgdmFyIGtleSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHR5cGUuaW5kZXhPZihcIi5nbHNsXCIpID4gLTEpe1xuICAgICAgICAgICAgICAgIGtleSA9ICBgJHt3ZENiLlBhdGhVdGlscy5iYXNlbmFtZSh0eXBlLCBcIi5nbHNsXCIpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKHNvdXJjZVR5cGUgPT09IEVTaGFkZXJMaWJUeXBlLnZzKXtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gYCR7dHlwZX1fdmVydGV4YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gYCR7dHlwZX1fZnJhZ21lbnRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFNoYWRlckNodW5rW2tleV0gPyBTaGFkZXJDaHVua1trZXldIDogU2hhZGVyQ2h1bmsuZW1wdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRTb3VyY2UoY2h1bms6R0xTTENodW5rLCBzb3VyY2VUeXBlOkVTaGFkZXJMaWJUeXBlLCBvcGVyYXRvcjpzdHJpbmcpIHtcbiAgICAgICAgICAgIGlmKCFjaHVuayl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdG9yKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlVG9wYF0gKz0gY2h1bmsudG9wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlRGVmaW5lYF0gKz0gY2h1bmsuZGVmaW5lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlVmFyRGVjbGFyZWBdICs9IGNodW5rLnZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VGdW5jRGVjbGFyZWBdICs9IGNodW5rLmZ1bmNEZWNsYXJlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlRnVuY0RlZmluZWBdICs9IGNodW5rLmZ1bmNEZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VCb2R5YF0gKz0gY2h1bmsuYm9keTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtzb3VyY2VUeXBlfVNvdXJjZVRvcGBdID0gY2h1bmsudG9wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlRGVmaW5lYF0gPSBjaHVuay5kZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VWYXJEZWNsYXJlYF0gPSBjaHVuay52YXJEZWNsYXJlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlRnVuY0RlY2xhcmVgXSA9IGNodW5rLmZ1bmNEZWNsYXJlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlRnVuY0RlZmluZWBdID0gY2h1bmsuZnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtzb3VyY2VUeXBlfVNvdXJjZUJvZHlgXSA9IGNodW5rLmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJvcGVydG9yOlwiLCBvcGVyYXRvcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFZhcmlhYmxlKHRhcmdldDp3ZENiLkhhc2g8U2hhZGVyVmFyaWFibGU+LCB2YXJpYWJsZUFycjpBcnJheTxzdHJpbmc+KXtcbiAgICAgICAgICAgIHZhcmlhYmxlQXJyLmZvckVhY2goKHZhcmlhYmxlOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIExvZy5hc3NlcnQoVmFyaWFibGVMaWJbdmFyaWFibGVdLCBMb2cuaW5mby5GVU5DX1NIT1VMRCh2YXJpYWJsZSwgXCJleGlzdCBpbiBWYXJpYWJsZUxpYlwiKSk7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXQuYWRkQ2hpbGQodmFyaWFibGUsIFZhcmlhYmxlTGliW3ZhcmlhYmxlXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVudW0gRVNoYWRlckxpYlR5cGV7XG4gICAgICAgIHZzPTxhbnk+XCJ2c1wiLFxuICAgICAgICBmcz08YW55PlwiZnNcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29tbW9uU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJjb21tb25cIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9tTWF0cml4XCIsIHF1YWRDbWQubU1hdHJpeCk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfdk1hdHJpeFwiLCBxdWFkQ21kLnZNYXRyaXgpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3BNYXRyaXhcIiwgcXVhZENtZC5wTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAvL3RvZG8gdXNlIFZhcmlhYmxlTGliLnh4eD9cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfbU1hdHJpeFwiLCBcInVfdk1hdHJpeFwiLCBcInVfcE1hdHJpeFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmUgPSBTaGFkZXJDaHVuay5jb21tb25fZGVmaW5lLmRlZmluZSArIFNoYWRlckNodW5rLmNvbW1vbl92ZXJ0ZXguZGVmaW5lO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmUgPSBTaGFkZXJDaHVuay5jb21tb25fZnVuY3Rpb24uZnVuY0RlZmluZSArIFNoYWRlckNodW5rLmNvbW1vbl92ZXJ0ZXguZnVuY0RlZmluZTtcblxuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZSA9IFNoYWRlckNodW5rLmNvbW1vbl9kZWZpbmUuZGVmaW5lICsgU2hhZGVyQ2h1bmsuY29tbW9uX2ZyYWdtZW50LmRlZmluZTtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lID0gU2hhZGVyQ2h1bmsuY29tbW9uX2Z1bmN0aW9uLmZ1bmNEZWZpbmUgKyBTaGFkZXJDaHVuay5jb21tb25fZnJhZ21lbnQuZnVuY0RlZmluZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25WZXJ0aWNlU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJjb21tb25WZXJ0aWNlXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLl9zZW5kQXR0cmlidXRlVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV9wb3NpdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZW5kQXR0cmlidXRlVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQpe1xuICAgICAgICAgICAgaWYgKHF1YWRDbWQuYnVmZmVycy5oYXNDaGlsZChFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9wb3NpdGlvblwiLCA8QXJyYXlCdWZmZXI+cXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29tbW9uTm9ybWFsU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJjb21tb25Ob3JtYWxcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRBdHRyaWJ1dGVWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX25vcm1hbFwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZW5kQXR0cmlidXRlVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQpe1xuICAgICAgICAgICAgaWYgKHF1YWRDbWQuYnVmZmVycy5oYXNDaGlsZChFQnVmZmVyRGF0YVR5cGUuTk9STUFMKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgXCJhX25vcm1hbFwiLCA8QXJyYXlCdWZmZXI+cXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5OT1JNQUwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCYXNpY1NoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiYmFzaWNcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpCYXNpY01hdGVyaWFsKXtcbiAgICAgICAgICAgIGlmKHF1YWRDbWQuYnVmZmVycy5oYXNDaGlsZChFQnVmZmVyRGF0YVR5cGUuQ09MT1IpKXtcbiAgICAgICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICAgICAgdGhpcyBjYXVzZSB3YXJuOlwiUEVSRk9STUFOQ0UgV0FSTklORzogQXR0cmlidXRlIDAgaXMgZGlzYWJsZWQuIFRoaXMgaGFzIHNpZ25maWNhbnQgcGVyZm9ybWFuY2UgcGVuYWx0eVwiIGhlcmU/XG4gICAgICAgICAgICAgICAgIGJlY2F1c2UgYV9jb2xvcidwb3MgaXMgMCwgYW5kIGl0IHNob3VsZCBiZSBhcnJheSBkYXRhKGxpa2UgRmxvYXQzMkFycmF5KVxuICAgICAgICAgICAgICAgICByZWZlciB0bzogaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvd2ViZ2wvd2lraS9XZWJHTF9hbmRfT3BlbkdMX0RpZmZlcmVuY2VzI1ZlcnRleF9BdHRyaWJ1dGVfMFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgXCJhX2NvbG9yXCIsIDxBcnJheUJ1ZmZlcj5xdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLkNPTE9SKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X29wYWNpdHlcIiwgbWF0ZXJpYWwub3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX2NvbG9yXCJdKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfb3BhY2l0eVwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gU2hhZGVyU25pcHBldC5zZXRQb3NfbXZwICsgU2hhZGVyQ2h1bmsuYmFzaWNfdmVydGV4LmJvZHk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNFbmRTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImJhc2ljRW5kXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoQ29tbW9uU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJtb3JwaENvbW1vblwiO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhcXVhZENtZC5hbmltYXRpb24sIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZW50aXR5T2JqZWN0XCIsIFwiYWRkIE1vcnBoQW5pbWF0aW9uIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIGFuaW0gPSA8TW9ycGhBbmltYXRpb24+KHF1YWRDbWQuYW5pbWF0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2ludGVycG9sYXRpb25cIiwgYW5pbS5pbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X2ludGVycG9sYXRpb25cIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoVmVydGljZVNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibW9ycGhWZXJ0aWNlXCI7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24ocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBhc3NlcnQoISFxdWFkQ21kLmFuaW1hdGlvbiwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJlbnRpdHlPYmplY3RcIiwgXCJhZGQgTW9ycGhBbmltYXRpb24gY29tcG9uZW50XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBpZiAocXVhZENtZC5idWZmZXJzLmhhc0NoaWxkKEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKSkge1xuICAgICAgICAgICAgICAgIGxldCBtb3JwaFZlcnRpY2VEYXRhID0gcXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKTtcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQXR0cmlidXRlRGF0YShwcm9ncmFtLCBcImFfY3VycmVudEZyYW1lUG9zaXRpb25cIiwgbW9ycGhWZXJ0aWNlRGF0YVswXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQXR0cmlidXRlRGF0YShwcm9ncmFtLCBcImFfbmV4dEZyYW1lUG9zaXRpb25cIiwgbW9ycGhWZXJ0aWNlRGF0YVsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX2N1cnJlbnRGcmFtZVBvc2l0aW9uXCIsIFwiYV9uZXh0RnJhbWVQb3NpdGlvblwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTW9ycGhOb3JtYWxTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcIm1vcnBoTm9ybWFsXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBpZihxdWFkQ21kLmJ1ZmZlcnMuaGFzQ2hpbGQoRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCkpe1xuICAgICAgICAgICAgICAgIGxldCBtb3JwaE5vcm1hbERhdGEgPSBxdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9jdXJyZW50RnJhbWVOb3JtYWxcIiwgbW9ycGhOb3JtYWxEYXRhWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9uZXh0RnJhbWVOb3JtYWxcIiwgbW9ycGhOb3JtYWxEYXRhWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZVZhcmlhYmxlKFtcImFfY3VycmVudEZyYW1lTm9ybWFsXCIsIFwiYV9uZXh0RnJhbWVOb3JtYWxcIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFNreWJveFNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwic2t5Ym94XCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9zYW1wbGVyQ3ViZTBcIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudk1hcEZvckJhc2ljU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfbm9ybWFsTWF0cml4XCIsIHF1YWRDbWQubU1hdHJpeC5jb3B5KCkuaW52ZXJ0VG8zeDMoKS50cmFuc3Bvc2UoKSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfY2FtZXJhUG9zXCIsIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfc2FtcGxlckN1YmUwXCIsIFwidV9jYW1lcmFQb3NcIiwgXCJ1X25vcm1hbE1hdHJpeFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gU2hhZGVyU25pcHBldC5zZXRQb3NfbXZwICsgdGhpcy5nZXRWc0NodW5rKCkuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRFbnZNYXBTb3VyY2UoKXtcbiAgICAgICAgICAgIHZhciB2cyA9IHRoaXMuZ2V0VnNDaHVuayhcImVudk1hcF9mb3JCYXNpY1wiKSxcbiAgICAgICAgICAgICAgICBmcyA9IHRoaXMuZ2V0RnNDaHVuayhcImVudk1hcF9mb3JCYXNpY1wiKTtcblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcD0gdnMudG9wO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZURlZmluZT0gdnMuZGVmaW5lO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmU9IHZzLnZhckRlY2xhcmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlY2xhcmU9IHZzLmZ1bmNEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmU9IHZzLmZ1bmNEZWZpbmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSArPSB2cy5ib2R5O1xuXG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKGZzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCYXNpY0Vudk1hcEZvckJhc2ljU2hhZGVyTGliIGV4dGVuZHMgRW52TWFwRm9yQmFzaWNTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImJhc2ljX2Vudk1hcF9mb3JCYXNpY1wiO1xuICAgIH1cbn1cblxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFJlZmxlY3Rpb25Gb3JCYXNpY1NoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckJhc2ljU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJyZWZsZWN0aW9uX2ZvckJhc2ljXCI7XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW52TWFwU291cmNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKHRoaXMuZ2V0RnNDaHVuaygpLCBcIitcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBSZWZyYWN0aW9uRm9yQmFzaWNTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JCYXNpY1NoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwicmVmcmFjdGlvbl9mb3JCYXNpY1wiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmcmFjdGlvblJhdGlvXCIsIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9yZWZyYWN0aW9uUmF0aW9cIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEZyZXNuZWxGb3JCYXNpY1NoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckJhc2ljU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJmcmVzbmVsX2ZvckJhc2ljXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtLCBxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9yZWZyYWN0aW9uUmF0aW9cIiwgbWF0ZXJpYWwucmVmcmFjdGlvblJhdGlvKTtcblxuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmbGVjdGl2aXR5XCIsIG1hdGVyaWFsLnJlZmxlY3Rpdml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9yZWZyYWN0aW9uUmF0aW9cIiwgXCJ1X3JlZmxlY3Rpdml0eVwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW52TWFwU291cmNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKHRoaXMuZ2V0RnNDaHVuaygpLCBcIitcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRW52TWFwRm9yTGlnaHRTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X3NhbXBsZXJDdWJlMFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gU2hhZGVyU25pcHBldC5zZXRQb3NfbXZwICsgdGhpcy5nZXRWc0NodW5rKCkuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRFbnZNYXBTb3VyY2UoKXtcbiAgICAgICAgICAgIHZhciB2cyA9IHRoaXMuZ2V0VnNDaHVuayhcImVudk1hcF9mb3JMaWdodFwiKSxcbiAgICAgICAgICAgICAgICBmcyA9IHRoaXMuZ2V0RnNDaHVuayhcImVudk1hcF9mb3JMaWdodFwiKTtcblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcD0gdnMudG9wO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZURlZmluZT0gdnMuZGVmaW5lO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmU9IHZzLnZhckRlY2xhcmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlY2xhcmU9IHZzLmZ1bmNEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmU9IHZzLmZ1bmNEZWZpbmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSArPSB2cy5ib2R5O1xuXG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKGZzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCYXNpY0Vudk1hcEZvckxpZ2h0U2hhZGVyTGliIGV4dGVuZHMgRW52TWFwRm9yTGlnaHRTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImJhc2ljX2ZvckxpZ2h0X2Vudk1hcFwiO1xuICAgIH1cbn1cblxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFJlZmxlY3Rpb25Gb3JMaWdodFNoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckxpZ2h0U2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJyZWZsZWN0aW9uX2ZvckxpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW52TWFwU291cmNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKHRoaXMuZ2V0RnNDaHVuaygpLCBcIitcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBSZWZyYWN0aW9uRm9yTGlnaHRTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JMaWdodFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwicmVmcmFjdGlvbl9mb3JMaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmcmFjdGlvblJhdGlvXCIsIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9yZWZyYWN0aW9uUmF0aW9cIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEZyZXNuZWxGb3JMaWdodFNoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckxpZ2h0U2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJmcmVzbmVsX2ZvckxpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtLCBxdWFkQ21kLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICBpZihtYXRlcmlhbC5yZWZsZWN0aXZpdHkgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9yZWZsZWN0aXZpdHlcIiwgbWF0ZXJpYWwucmVmbGVjdGl2aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JlZmxlY3Rpdml0eVwiLCBTaGFkZXJDaHVuay5OVUxMKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmcmFjdGlvblJhdGlvXCIsIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9yZWZyYWN0aW9uUmF0aW9cIiwgXCJ1X3JlZmxlY3Rpdml0eVwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW52TWFwU291cmNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKHRoaXMuZ2V0RnNDaHVuaygpLCBcIitcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgTWFwU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKSB7XG4gICAgICAgICAgICBpZiAocXVhZENtZC5idWZmZXJzLmhhc0NoaWxkKEVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV90ZXhDb29yZFwiLCA8QXJyYXlCdWZmZXI+cXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV90ZXhDb29yZFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfc2FtcGxlcjJEMFwiLCBcInVfc291cmNlUmVnaW9uXCIsIFwidV9yZXBlYXRSZWdpb25cIl0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXBTb3VyY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE1hcFNvdXJjZSgpe1xuICAgICAgICAgICAgdmFyIHZzID0gdGhpcy5nZXRWc0NodW5rKFwibWFwX2ZvckJhc2ljXCIpLFxuICAgICAgICAgICAgICAgIGZzID0gdGhpcy5nZXRGc0NodW5rKFwibWFwX2ZvckJhc2ljXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVG9wPSB2cy50b3A7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lPSB2cy5kZWZpbmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVmFyRGVjbGFyZT0gdnMudmFyRGVjbGFyZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZT0gdnMuZnVuY0RlY2xhcmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZT0gdnMuZnVuY0RlZmluZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gdnMuYm9keTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZShmcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNNYXBTaGFkZXJMaWIgZXh0ZW5kcyBNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibWFwX2ZvckJhc2ljXCI7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIHN1cHBvcnQgbW9yZSB0aGFuIDIgbWFwc1xuICAgIGV4cG9ydCBjbGFzcyBNdWx0aU1hcFNoYWRlckxpYiBleHRlbmRzIE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJtdWx0aV9tYXBfZm9yQmFzaWNcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2NvbWJpbmVNb2RlXCIsIG1hdGVyaWFsLm1hcENvbWJpbmVNb2RlKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9taXhSYXRpb1wiLCBtYXRlcmlhbC5tYXBNaXhSYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9zYW1wbGVyMkQxXCIsIFwidV9jb21iaW5lTW9kZVwiLCBcInVfbWl4UmF0aW9cIl0pO1xuXG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlZmluZSA9IHRoaXMuZ2V0RnNDaHVuaygpLmZ1bmNEZWZpbmU7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlQm9keSA9IHRoaXMuZ2V0RnNDaHVuaygpLmJvZHk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTWlycm9yRm9yQmFzaWNTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibWlycm9yX2ZvckJhc2ljXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9taXJyb3JTYW1wbGVyXCJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBMaWdodENvbW1vblNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJsaWdodENvbW1vblwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRWc1NvdXJjZSh0aGlzLmdldFZzQ2h1bmsoXCJsaWdodF9jb21tb24uZ2xzbFwiKSk7XG4gICAgICAgICAgICB0aGlzLnNldFZzU291cmNlKHRoaXMuZ2V0VnNDaHVuaygpLCBcIitcIik7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGhpcy5nZXRGc0NodW5rKFwibGlnaHRfY29tbW9uLmdsc2xcIikpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExpZ2h0U2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJsaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X25vcm1hbE1hdHJpeFwiLCBxdWFkQ21kLm1NYXRyaXguY29weSgpLmludmVydFRvM3gzKCkudHJhbnNwb3NlKCkpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2NhbWVyYVBvc1wiLCBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmN1cnJlbnRDYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uKTtcblxuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfc2hpbmluZXNzXCIsIG1hdGVyaWFsLnNoaW5pbmVzcyk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfb3BhY2l0eVwiLCBtYXRlcmlhbC5vcGFjaXR5KTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2xpZ2h0TW9kZWxcIiwgdGhpcy5fY29udmVydExpZ2h0TW9kZWxUb0dMU0xWYXJpYWJsZShtYXRlcmlhbC5saWdodE1vZGVsKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NlbmRMaWdodFZhcmlhYmxlcyhwcm9ncmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X25vcm1hbE1hdHJpeFwiLCBcInVfY2FtZXJhUG9zXCIsIFwidV9zaGluaW5lc3NcIiwgXCJ1X2FtYmllbnRcIiwgXCJ1X29wYWNpdHlcIiwgXCJ1X2lzQm90aFNpZGVcIiwgXCJ1X2xpZ2h0TW9kZWxcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRMaWdodERlZmluaXRpb24obWF0ZXJpYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2VuZExpZ2h0VmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gd2QuRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZSxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25MaWdodHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gc2NlbmUuZGlyZWN0aW9uTGlnaHRzLFxuICAgICAgICAgICAgICAgIGFtYmllbnRMaWdodDpHYW1lT2JqZWN0ID1zY2VuZS5hbWJpZW50TGlnaHQsXG4gICAgICAgICAgICAgICAgcG9pbnRMaWdodHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gc2NlbmUucG9pbnRMaWdodHM7XG5cbiAgICAgICAgICAgIGlmKGFtYmllbnRMaWdodCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2FtYmllbnRcIiwgYW1iaWVudExpZ2h0LmdldENvbXBvbmVudDxBbWJpZW50TGlnaHQ+KEFtYmllbnRMaWdodCkuY29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihwb2ludExpZ2h0cyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZFBvaW50TGlnaHRWYXJpYWJsZXMocHJvZ3JhbSwgcG9pbnRMaWdodHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihkaXJlY3Rpb25MaWdodHMpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmREaXJlY3Rpb25MaWdodFZhcmlhYmxlcyhwcm9ncmFtLCBkaXJlY3Rpb25MaWdodHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2VuZFBvaW50TGlnaHRWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcG9pbnRMaWdodHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ICl7XG4gICAgICAgICAgICBwb2ludExpZ2h0cy5mb3JFYWNoKChwb2ludExpZ2h0OkdhbWVPYmplY3QsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBsaWdodENvbXBvbmVudDpQb2ludExpZ2h0ID0gcG9pbnRMaWdodC5nZXRDb21wb25lbnQ8UG9pbnRMaWdodD4oUG9pbnRMaWdodCk7XG5cbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5wb3NpdGlvbmAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgbGlnaHRDb21wb25lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfcG9pbnRMaWdodHNbJHtpbmRleH1dLmNvbG9yYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8zLCBsaWdodENvbXBvbmVudC5jb2xvci50b1ZlY3RvcjMoKSk7XG5cbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5pbnRlbnNpdHlgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGxpZ2h0Q29tcG9uZW50LmludGVuc2l0eSk7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0uY29uc3RhbnRgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGxpZ2h0Q29tcG9uZW50LmNvbnN0YW50KTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5saW5lYXJgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGxpZ2h0Q29tcG9uZW50LmxpbmVhcik7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0ucXVhZHJhdGljYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBsaWdodENvbXBvbmVudC5xdWFkcmF0aWMpO1xuXG4gICAgICAgICAgICAgICAgaWYobGlnaHRDb21wb25lbnQucmFuZ2UgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5yYW5nZWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgbGlnaHRDb21wb25lbnQucmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5yYW5nZWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgU2hhZGVyQ2h1bmsuTlVMTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZW5kRGlyZWN0aW9uTGlnaHRWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgZGlyZWN0aW9uTGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiApe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBkaXJlY3Rpb25MaWdodHMuZm9yRWFjaCgoZGlyZWN0aW9uTGlnaHQ6R2FtZU9iamVjdCwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGxpZ2h0Q29tcG9uZW50OkRpcmVjdGlvbkxpZ2h0ID0gZGlyZWN0aW9uTGlnaHQuZ2V0Q29tcG9uZW50PERpcmVjdGlvbkxpZ2h0PihEaXJlY3Rpb25MaWdodCk7XG5cbiAgICAgICAgICAgICAgICBpZihzZWxmLl9pc1plcm8obGlnaHRDb21wb25lbnQucG9zaXRpb24pKXtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9kaXJlY3Rpb25MaWdodHNbJHtpbmRleH1dLnBvc2l0aW9uYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8zLCBEaXJlY3Rpb25MaWdodC5kZWZhdWx0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2RpcmVjdGlvbkxpZ2h0c1ske2luZGV4fV0ucG9zaXRpb25gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzMsIGxpZ2h0Q29tcG9uZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2RpcmVjdGlvbkxpZ2h0c1ske2luZGV4fV0uY29sb3JgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzMsIGxpZ2h0Q29tcG9uZW50LmNvbG9yLnRvVmVjdG9yMygpKTtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfZGlyZWN0aW9uTGlnaHRzWyR7aW5kZXh9XS5pbnRlbnNpdHlgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGxpZ2h0Q29tcG9uZW50LmludGVuc2l0eSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzWmVybyhwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciB2YWwgPSBwb3NpdGlvbi52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWxbMF0gPT09IDAgJiYgdmFsWzFdID09PSAwICYmIHZhbFsyXSA9PT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldExpZ2h0RGVmaW5pdGlvbihtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gd2QuRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZSxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25MaWdodHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gc2NlbmUuZGlyZWN0aW9uTGlnaHRzLFxuICAgICAgICAgICAgICAgIHBvaW50TGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHNjZW5lLnBvaW50TGlnaHRzLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbl9saWdodHNfY291bnQgPSAwLFxuICAgICAgICAgICAgICAgIHBvaW50X2xpZ2h0c19jb3VudCA9IDA7XG5cbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbkxpZ2h0cyl7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9kaXJlY3Rpb25MaWdodHNcIl0pO1xuXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uX2xpZ2h0c19jb3VudCA9IGRpcmVjdGlvbkxpZ2h0cy5nZXRDb3VudCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihwb2ludExpZ2h0cyl7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9wb2ludExpZ2h0c1wiXSk7XG5cbiAgICAgICAgICAgICAgICBwb2ludF9saWdodHNfY291bnQgPSBwb2ludExpZ2h0cy5nZXRDb3VudCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hZGREZWZpbmUodGhpcy52c1NvdXJjZURlZmluZUxpc3QsIGRpcmVjdGlvbl9saWdodHNfY291bnQsIHBvaW50X2xpZ2h0c19jb3VudCk7XG4gICAgICAgICAgICB0aGlzLl9hZGREZWZpbmUodGhpcy5mc1NvdXJjZURlZmluZUxpc3QsIGRpcmVjdGlvbl9saWdodHNfY291bnQsIHBvaW50X2xpZ2h0c19jb3VudCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBpZiBcImJvdGggc2lkZVwiIGxvZ2ljIGJlY29tZSBjb21wbGV4IG9yIGJlIHVzZWQgaW4gbWFueSBwbGFjZXMsIHRoZW4gaXQgc2hvdWxkIGV4dHJhY3QgQm90aFNpZGVTaGFkZXJMaWIgYW5kIE5vQm90aFNpZGVTaGFkZXJMaWJcbiAgICAgICAgICAgIGlmKG1hdGVyaWFsLnNpZGUgPT09IEVTaWRlLkJPVEgpe1xuICAgICAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkcmVuKFt7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQk9USF9TSURFXCJcbiAgICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGREZWZpbmUobGlzdCwgZGlyZWN0aW9uX2xpZ2h0c19jb3VudCwgcG9pbnRfbGlnaHRzX2NvdW50KXtcbiAgICAgICAgICAgIGxpc3QuYWRkQ2hpbGRyZW4oW3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkRJUkVDVElPTl9MSUdIVFNfQ09VTlRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGlyZWN0aW9uX2xpZ2h0c19jb3VudFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiUE9JTlRfTElHSFRTX0NPVU5UXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBvaW50X2xpZ2h0c19jb3VudFxuICAgICAgICAgICAgfV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24obGlnaHRNb2RlbDpFTGlnaHRNb2RlbCl7XG4gICAgICAgICAgICBhc3NlcnQobGlnaHRNb2RlbCAhPT0gRUxpZ2h0TW9kZWwuTEFNQkVSVCwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwibGlnaHRNb2RlbFwiLCBcIj09PSBFTGlnaHRNb2RlbC5MQU1CRVJUXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfY29udmVydExpZ2h0TW9kZWxUb0dMU0xWYXJpYWJsZShsaWdodE1vZGVsOkVMaWdodE1vZGVsKXtcbiAgICAgICAgICAgIHN3aXRjaCAobGlnaHRNb2RlbCl7XG4gICAgICAgICAgICAgICAgY2FzZSBFTGlnaHRNb2RlbC5CTElOTjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgY2FzZSBFTGlnaHRNb2RlbC5QSE9ORzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICAgICAgY2FzZSBFTGlnaHRNb2RlbC5DT05TVEFOVDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYGxpZ2h0TW9kZWw6JHtsaWdodE1vZGVsfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTGlnaHRFbmRTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImxpZ2h0RW5kXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgTGlnaHRNYXBTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgaWYgKHF1YWRDbWQuYnVmZmVycy5oYXNDaGlsZChFQnVmZmVyRGF0YVR5cGUuVEVYQ09PUkQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQXR0cmlidXRlRGF0YShwcm9ncmFtLCBcImFfdGV4Q29vcmRcIiwgPEFycmF5QnVmZmVyPnF1YWRDbWQuYnVmZmVycy5nZXRDaGlsZChFQnVmZmVyRGF0YVR5cGUuVEVYQ09PUkQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZVZhcmlhYmxlKFtcImFfdGV4Q29vcmRcIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIERpZmZ1c2VNYXBTaGFkZXJMaWIgZXh0ZW5kcyBMaWdodE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiZGlmZnVzZU1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgVmFyaWFibGVOYW1lVGFibGUuZ2V0VmFyaWFibGVOYW1lKFwiZGlmZnVzZU1hcFwiKSxcbiAgICAgICAgICAgICAgICBcInVfc291cmNlUmVnaW9uXCIsIFwidV9yZXBlYXRSZWdpb25cIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU3BlY3VsYXJNYXBTaGFkZXJMaWIgZXh0ZW5kcyBMaWdodE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwic3BlY3VsYXJNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcInNwZWN1bGFyTWFwXCIpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBFbWlzc2lvbk1hcFNoYWRlckxpYiBleHRlbmRzIExpZ2h0TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJlbWlzc2lvbk1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgVmFyaWFibGVOYW1lVGFibGUuZ2V0VmFyaWFibGVOYW1lKFwiZW1pc3Npb25NYXBcIilcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE5vcm1hbE1hcFNoYWRlckxpYiBleHRlbmRzIExpZ2h0TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub3JtYWxNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICBpZihxdWFkQ21kLmJ1ZmZlcnMuaGFzQ2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQpKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV90YW5nZW50XCIsIDxBcnJheUJ1ZmZlcj5xdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZVZhcmlhYmxlKFtcImFfdGFuZ2VudFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJub3JtYWxNYXBcIilcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE5vRGlmZnVzZU1hcFNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9EaWZmdXNlTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfZGlmZnVzZVwiLCBtYXRlcmlhbC5jb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9kaWZmdXNlXCJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBOb1NwZWN1bGFyTWFwU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub1NwZWN1bGFyTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfc3BlY3VsYXJcIiwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9zcGVjdWxhclwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTm9FbWlzc2lvbk1hcFNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9FbWlzc2lvbk1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2VtaXNzaW9uXCIsIG1hdGVyaWFsLmVtaXNzaW9uQ29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfZW1pc3Npb25cIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE5vTm9ybWFsTWFwU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub05vcm1hbE1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJ1aWxkU2hhZG93TWFwU2hhZGVyTGliIGV4dGVuZHMgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoXCJjb21tb25CdWlsZFNoYWRvd01hcF9mcmFnbWVudC5nbHNsXCIpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGhpcy5nZXRGc0NodW5rKCksIFwiK1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCdWlsZFR3b0RTaGFkb3dNYXBTaGFkZXJMaWIgZXh0ZW5kcyBCdWlsZFNoYWRvd01hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJidWlsZFR3b0RTaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV92cE1hdHJpeEZyb21MaWdodFwiLCBtYXRlcmlhbC5idWlsZFR3b0RTaGFkb3dNYXBEYXRhLnZwTWF0cml4RnJvbUxpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X3ZwTWF0cml4RnJvbUxpZ2h0XCJcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkQ3ViZW1hcFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIEJ1aWxkU2hhZG93TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJidWlsZEN1YmVtYXBTaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9saWdodFBvc1wiLCBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhLmxpZ2h0UG9zKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9mYXJQbGFuZVwiLCBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhLmZhclBsYW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X2xpZ2h0UG9zXCIsIFwidV9mYXJQbGFuZVwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBUb3RhbFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJ0b3RhbFNoYWRvd01hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFNoYWRvd01hcFNvdXJjZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0U2hhZG93TWFwU291cmNlKCl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZSxcbiAgICAgICAgICAgICAgICB0d29EU2hhZG93TWFwQ291bnQgPSBzY2VuZS5kaXJlY3Rpb25MaWdodHM/IHNjZW5lLmRpcmVjdGlvbkxpZ2h0cy5maWx0ZXIoKGxpZ2h0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpZ2h0LmdldENvbXBvbmVudDxEaXJlY3Rpb25MaWdodD4oRGlyZWN0aW9uTGlnaHQpLmNhc3RTaGFkb3c7XG4gICAgICAgICAgICAgICAgfSkuZ2V0Q291bnQoKSA6IDAsXG4gICAgICAgICAgICAgICAgY3ViZW1hcFNoYWRvd01hcENvdW50ID0gc2NlbmUucG9pbnRMaWdodHMgPyBzY2VuZS5wb2ludExpZ2h0cy5maWx0ZXIoKGxpZ2h0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpZ2h0LmdldENvbXBvbmVudDxQb2ludExpZ2h0PihQb2ludExpZ2h0KS5jYXN0U2hhZG93O1xuICAgICAgICAgICAgICAgIH0pLmdldENvdW50KCkgOiAwO1xuXG5cblxuICAgICAgICAgICAgaWYoc2NlbmUuc2hhZG93TWFwLnNvZnRUeXBlID09PSBFU2hhZG93TWFwU29mdFR5cGUuUENGKXtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZHJlbihbe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlNIQURPV01BUF9UWVBFX1BDRlwiXG4gICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVFdPRF9TSEFET1dNQVBfQ09VTlRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHR3b0RTaGFkb3dNYXBDb3VudFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZHJlbihbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlRXT0RfU0hBRE9XTUFQX0NPVU5UXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0d29EU2hhZG93TWFwQ291bnRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDVUJFTUFQX1NIQURPV01BUF9DT1VOVFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3ViZW1hcFNoYWRvd01hcENvdW50XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFR3b0RTaGFkb3dNYXBTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkb3dNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwidHdvRFNoYWRvd01hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgbWF0ZXJpYWwudHdvRFNoYWRvd01hcERhdGFzLmZvckVhY2goKGRhdGE6VHdvRFNoYWRvd01hcERhdGEsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfdnBNYXRyaXhGcm9tTGlnaHRbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF9NQVQ0LCBkYXRhLnZwTWF0cml4RnJvbUxpZ2h0KTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3R3b0RTaGFkb3dTaXplWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMiwgZGF0YS5zaGFkb3dTaXplKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3R3b0RTaGFkb3dCaWFzWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgZGF0YS5zaGFkb3dCaWFzKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3R3b0RTaGFkb3dEYXJrbmVzc1ske2luZGV4fV1gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGRhdGEuc2hhZG93RGFya25lc3MpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfdHdvRExpZ2h0UG9zWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgZGF0YS5saWdodFBvcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdWJlbWFwU2hhZG93TWFwU2hhZGVyTGliIGV4dGVuZHMgU2hhZG93TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImN1YmVtYXBTaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIG1hdGVyaWFsLmN1YmVtYXBTaGFkb3dNYXBEYXRhcy5mb3JFYWNoKChkYXRhOkN1YmVtYXBTaGFkb3dNYXBEYXRhLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2N1YmVtYXBMaWdodFBvc1ske2luZGV4fV1gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzMsIGRhdGEubGlnaHRQb3MpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfZmFyUGxhbmVbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBkYXRhLmZhclBsYW5lKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2N1YmVtYXBTaGFkb3dCaWFzWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgZGF0YS5zaGFkb3dCaWFzKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2N1YmVtYXBTaGFkb3dEYXJrbmVzc1ske2luZGV4fV1gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGRhdGEuc2hhZG93RGFya25lc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTm9TaGFkb3dNYXBTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9TaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU2hhZGVyU25pcHBldCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbWFpbl9iZWdpbjpzdHJpbmcgPSBcInZvaWQgbWFpbih2b2lkKXtcXG5cIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBtYWluX2VuZDpzdHJpbmcgPSBcIn1cXG5cIjtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFBvc19tdnA6c3RyaW5nID0gXCJnbF9Qb3NpdGlvbiA9IHVfcE1hdHJpeCAqIHVfdk1hdHJpeCAqIHVfbU1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICAgICAgZ2V0IHByb2dyYW0oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRUeXBlOkVCbGVuZFR5cGUgPSBudWxsO1xuICAgICAgICBnZXQgYmxlbmRUeXBlKCl7XG4gICAgICAgICAgICBpZih0aGlzLl9ibGVuZFR5cGUpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZFR5cGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLlpFUk8pXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLk5PTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodGhpcy5ibGVuZFNyYyA9PT0gRUJsZW5kRnVuYy5TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmREc3QgPT09IEVCbGVuZEZ1bmMuT05FX01JTlVTX1NSQ19BTFBIQSlcbiAgICAgICAgICAgICAgICAmJiAodGhpcy5ibGVuZEVxdWF0aW9uID09PSBFQmxlbmRFcXVhdGlvbi5BREQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVCbGVuZFR5cGUuTk9STUFMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLk9ORSlcbiAgICAgICAgICAgICAgICAmJiAodGhpcy5ibGVuZEVxdWF0aW9uID09PSBFQmxlbmRFcXVhdGlvbi5BREQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVCbGVuZFR5cGUuQURESVRJVkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodGhpcy5ibGVuZFNyYyA9PT0gRUJsZW5kRnVuYy5TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmREc3QgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRXF1YXRpb24gPT09IEVCbGVuZEVxdWF0aW9uLkFERCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRUJsZW5kVHlwZS5BRERJVElWRUFMUEhBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuRFNUX0NPTE9SKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLlpFUk8pXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLk1VTFRJUExJQ0FUSVZFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLk9ORV9NSU5VU19TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLlBSRU1VTFRJUExJRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRUJsZW5kVHlwZS5OT1JNQUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kVHlwZShibGVuZFR5cGU6RUJsZW5kVHlwZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKGJsZW5kVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5OT05FOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRTcmMgPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZERzdCA9IEVCbGVuZEZ1bmMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uID0gRUJsZW5kRXF1YXRpb24uQUREO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCbGVuZFR5cGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5QUkVNVUxUSVBMSUVEOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuT05FO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5BRERJVElWRTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRTcmMgPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZERzdCA9IEVCbGVuZEZ1bmMuT05FO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5BRERJVElWRUFMUEhBOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRFcXVhdGlvbiA9IEVCbGVuZEVxdWF0aW9uLkFERDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQmxlbmRUeXBlLk1VTFRJUExJQ0FUSVZFOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuRFNUX0NPTE9SO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJibGVuZFR5cGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYmxlbmRUeXBlID0gYmxlbmRUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGVudk1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5nZXRFbnZNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZW52TWFwKGVudk1hcDpDdWJlbWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuc2V0RW52TWFwKGVudk1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ibGVuZFNyYzpFQmxlbmRGdW5jPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgZ2V0IGJsZW5kU3JjKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRTcmM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kU3JjKGJsZW5kU3JjOkVCbGVuZEZ1bmMpe1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRTcmMgPSBibGVuZFNyYztcbiAgICAgICAgICAgIHRoaXMuYmxlbmRGdW5jU2VwYXJhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmxlbmREc3Q6RUJsZW5kRnVuYz0gRUJsZW5kRnVuYy5aRVJPO1xuICAgICAgICBnZXQgYmxlbmREc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZERzdDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYmxlbmREc3QoYmxlbmREc3Q6RUJsZW5kRnVuYyl7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZERzdCA9IGJsZW5kRHN0O1xuICAgICAgICAgICAgdGhpcy5ibGVuZEZ1bmNTZXBhcmF0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ibGVuZEVxdWF0aW9uOkVCbGVuZEVxdWF0aW9uID0gRUJsZW5kRXF1YXRpb24uQUREO1xuICAgICAgICBnZXQgYmxlbmRFcXVhdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kRXF1YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kRXF1YXRpb24oYmxlbmRFcXVhdGlvbjpFQmxlbmRFcXVhdGlvbil7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxdWF0aW9uID0gYmxlbmRFcXVhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRFcXVhdGlvblNlcGFyYXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaGFkZXI6U2hhZGVyID0gU2hhZGVyLmNyZWF0ZSgpO1xuICAgICAgICBwdWJsaWMgY29sb3I6Q29sb3IgPSBDb2xvci5jcmVhdGUoXCIjZmZmZmZmXCIpO1xuICAgICAgICBwdWJsaWMgcmVkV3JpdGU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBncmVlbldyaXRlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgYmx1ZVdyaXRlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgYWxwaGFXcml0ZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBvbHlnb25PZmZzZXRNb2RlOkVQb2x5Z29uT2Zmc2V0TW9kZSA9IEVQb2x5Z29uT2Zmc2V0TW9kZS5OT05FO1xuICAgICAgICBwdWJsaWMgc2lkZTpFU2lkZSA9IEVTaWRlLkZST05UO1xuICAgICAgICBwdWJsaWMgYmxlbmQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYmxlbmRGdW5jU2VwYXJhdGU6QXJyYXk8RUJsZW5kRnVuYz4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgYmxlbmRFcXVhdGlvblNlcGFyYXRlOkFycmF5PEVCbGVuZEVxdWF0aW9uPiA9IFtFQmxlbmRFcXVhdGlvbi5BREQsIEVCbGVuZEVxdWF0aW9uLkFERF07XG4gICAgICAgIHB1YmxpYyBzaGFkaW5nID0gRVNoYWRpbmcuRkxBVDtcbiAgICAgICAgcHVibGljIHJlZnJhY3Rpb25SYXRpbzpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcmVmbGVjdGl2aXR5Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYXBDb21iaW5lTW9kZTpFVGV4dHVyZUNvbWJpbmVNb2RlID0gRVRleHR1cmVDb21iaW5lTW9kZS5NSVg7XG4gICAgICAgIHB1YmxpYyBtYXBNaXhSYXRpbzpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBtYXBNYW5hZ2VyOk1hcE1hbmFnZXIgPSBNYXBNYW5hZ2VyLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgcHVibGljIGdlb21ldHJ5Okdlb21ldHJ5ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9hZnRlckluaXRTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghKHRoaXMubWlycm9yTWFwICYmIHRoaXMuZW52TWFwKSwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwibWlycm9yTWFwIGFuZCBlbnZNYXBcIiwgXCJiZSBzZXQgYm90aFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmluaXQoKTtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FmdGVySW5pdFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZnRlckluaXRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJJbml0U3Vic2NyaXB0aW9uICYmIHRoaXMuX2FmdGVySW5pdFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlVGV4dHVyZSgpe1xuICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZVNoYWRlcihxdWFkQ21kOlF1YWRDb21tYW5kKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBpZihzY2VuZS5pc1VzZVByb2dyYW0pe1xuICAgICAgICAgICAgICAgIHNjZW5lLnNoYWRlci51cGRhdGUocXVhZENtZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLnVwZGF0ZShxdWFkQ21kLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBhZGRTaGFkZXJMaWIoKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRNYXAoYXNzZXQ6VGV4dHVyZUFzc2V0KTtcbiAgICAgICAgcHJvdGVjdGVkIGFkZE1hcChhc3NldDpUZXh0dXJlQXNzZXQsIG9wdGlvbjpNYXBWYXJpYWJsZURhdGEpO1xuICAgICAgICBwcm90ZWN0ZWQgYWRkTWFwKG1hcDpUZXh0dXJlKTtcbiAgICAgICAgcHJvdGVjdGVkIGFkZE1hcChtYXA6VGV4dHVyZSwgb3B0aW9uOk1hcFZhcmlhYmxlRGF0YSk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZE1hcCguLi5hcmdzKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAuYXBwbHkodGhpcy5tYXBNYW5hZ2VyLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGROb3JtYWxTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2hhc0FuaW1hdGlvbigpICYmICF0aGlzLnNoYWRlci5oYXNMaWIoTW9ycGhOb3JtYWxTaGFkZXJMaWIpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRTaGFkZXJMaWJUb1RvcChNb3JwaE5vcm1hbFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCF0aGlzLnNoYWRlci5oYXNMaWIoQ29tbW9uTm9ybWFsU2hhZGVyTGliKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkU2hhZGVyTGliVG9Ub3AoQ29tbW9uTm9ybWFsU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRCbGVuZEJ5T3BhY2l0eShvcGFjaXR5Om51bWJlcil7XG4gICAgICAgICAgICBpZihvcGFjaXR5IDwgMS4wICYmIG9wYWNpdHkgPiAwLjApe1xuICAgICAgICAgICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRUb3BTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihDb21tb25TaGFkZXJMaWIuY3JlYXRlKCkpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9oYXNBbmltYXRpb24oKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKE1vcnBoQ29tbW9uU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTW9ycGhWZXJ0aWNlU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKENvbW1vblZlcnRpY2VTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkU2hhZGVyTGliVG9Ub3AobGliOlNoYWRlckxpYil7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRTaGFkZXJMaWJUb1RvcChsaWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFzQW5pbWF0aW9uKCl7XG4gICAgICAgICAgICBpZih0aGlzLmdlb21ldHJ5IGluc3RhbmNlb2YgTW9kZWxHZW9tZXRyeSl7XG4gICAgICAgICAgICAgICAgbGV0IGdlbyA9IDxhbnk+KHRoaXMuZ2VvbWV0cnkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlby5oYXNBbmltYXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgQGV4ZWNPbmx5T25jZShcIl9pc0FmdGVySW5pdFwiKVxuICAgICAgICBwcml2YXRlIF9hZnRlckluaXRIYW5kbGVyKCl7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb3BTaGFkZXJMaWIoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkU2hhZGVyTGliKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBNYXBWYXJpYWJsZURhdGEgPSB7XG4gICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHNhbXBsZXJEYXRhPzphbnlcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0IG1hcChtYXA6YW55KXtcbiAgICAgICAgICAgIGlmKG1hcCBpbnN0YW5jZW9mIFRleHR1cmUgfHwgbWFwIGluc3RhbmNlb2YgVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1hcChtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgbWFwQXJyOkFycmF5PGFueT4gPSAoYXJndW1lbnRzWzBdKTtcblxuICAgICAgICAgICAgICAgIHdkQ2IuTG9nLmVycm9yKG1hcEFyci5sZW5ndGggPiAyLCB3ZENiLkxvZy5pbmZvLkZVTkNfU1VQUE9SVChcIm9ubHlcIiwgXCJtYXAuY291bnQgPD0gMlwiKSk7XG5cbiAgICAgICAgICAgICAgICBmb3IobGV0IG0gb2YgbWFwQXJyKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXAobSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IG1pcnJvck1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5nZXRNaXJyb3JNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWlycm9yTWFwKG1pcnJvck1hcDpNaXJyb3JUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5zZXRNaXJyb3JNYXAobWlycm9yTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX29wYWNpdHk6bnVtYmVyID0gMS4wO1xuICAgICAgICBnZXQgb3BhY2l0eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wYWNpdHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG9wYWNpdHkob3BhY2l0eTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5zZXRCbGVuZEJ5T3BhY2l0eShvcGFjaXR5KTtcblxuICAgICAgICAgICAgdGhpcy5fb3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkU2hhZGVyTGliKCl7XG4gICAgICAgICAgICB2YXIgZW52TWFwID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEJhc2ljU2hhZGVyTGliLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0TWFwU2hhZGVyTGliKCk7XG5cbiAgICAgICAgICAgIGVudk1hcCA9IHRoaXMuZW52TWFwO1xuICAgICAgICAgICAgaWYoZW52TWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0TWlycm9yTWFwU2hhZGVyTGliKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY0VuZFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRNYXBTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIHZhciBtYXBNYW5hZ2VyID0gdGhpcy5tYXBNYW5hZ2VyLFxuICAgICAgICAgICAgICAgIG1hcENvdW50ID0gbWFwTWFuYWdlci5nZXRNYXBDb3VudCgobWFwOlRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIW1hcE1hbmFnZXIuaXNNaXJyb3JNYXAobWFwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZihtYXBDb3VudCA+IDApe1xuICAgICAgICAgICAgICAgIGlmKG1hcENvdW50ID4gMSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihNdWx0aU1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0RW52TWFwU2hhZGVyTGliKGVudk1hcDpDdWJlbWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE5vcm1hbFNoYWRlckxpYigpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGVudk1hcC5tb2RlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFbnZNYXBNb2RlLkJBU0lDOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoQmFzaWNFbnZNYXBGb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuUkVGTEVDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKFJlZmxlY3Rpb25Gb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuUkVGUkFDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKFJlZnJhY3Rpb25Gb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuRlJFU05FTDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEZyZXNuZWxGb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJFRW52TWFwTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWlycm9yTWFwU2hhZGVyTGliKCl7XG4gICAgICAgICAgICBpZih0aGlzLm1pcnJvck1hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKHdkLk1pcnJvckZvckJhc2ljU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTa3lib3hNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5zaWRlID0gRVNpZGUuQkFDSztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihTa3lib3hTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExpZ2h0TWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RpZmZ1c2VNYXA6VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGdldCBkaWZmdXNlTWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZU1hcDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZGlmZnVzZU1hcChkaWZmdXNlTWFwOlRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5hZGRNYXAoZGlmZnVzZU1hcCwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU6IFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcImRpZmZ1c2VNYXBcIilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9kaWZmdXNlTWFwID0gZGlmZnVzZU1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NwZWN1bGFyTWFwOlRleHR1cmUgPSBudWxsO1xuICAgICAgICBnZXQgc3BlY3VsYXJNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhck1hcDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc3BlY3VsYXJNYXAoc3BlY3VsYXJNYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcChzcGVjdWxhck1hcCwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU6IFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcInNwZWN1bGFyTWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXJNYXAgPSBzcGVjdWxhck1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2VtaXNzaW9uTWFwOlRleHR1cmUgPSBudWxsO1xuICAgICAgICBnZXQgZW1pc3Npb25NYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbWlzc2lvbk1hcDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZW1pc3Npb25NYXAoZW1pc3Npb25NYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcChlbWlzc2lvbk1hcCwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU6IFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcImVtaXNzaW9uTWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fZW1pc3Npb25NYXAgPSBlbWlzc2lvbk1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX25vcm1hbE1hcDpUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgZ2V0IG5vcm1hbE1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbE1hcDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbm9ybWFsTWFwKG5vcm1hbE1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMuYWRkTWFwKG5vcm1hbE1hcCwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU6IFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcIm5vcm1hbE1hcFwiKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX25vcm1hbE1hcCA9IG5vcm1hbE1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NoaW5pbmVzczpudW1iZXIgPSAzMjtcbiAgICAgICAgZ2V0IHNoaW5pbmVzcygpe1xuICAgICAgICAgICAgaWYoTnVtYmVyKHRoaXMuX3NoaW5pbmVzcykgPD0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDMyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoaW5pbmVzcztcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2hpbmluZXNzKHNoaW5pbmVzczpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gc2hpbmluZXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb3BhY2l0eTpudW1iZXIgPSAxLjA7XG4gICAgICAgIGdldCBvcGFjaXR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgb3BhY2l0eShvcGFjaXR5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnNldEJsZW5kQnlPcGFjaXR5KG9wYWNpdHkpO1xuXG4gICAgICAgICAgICB0aGlzLl9vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBsaWdodE1vZGVsOkVMaWdodE1vZGVsID0gRUxpZ2h0TW9kZWwuUEhPTkc7XG5cbiAgICAgICAgcHVibGljIHR3b0RTaGFkb3dNYXBEYXRhczp3ZENiLkNvbGxlY3Rpb248VHdvRFNoYWRvd01hcERhdGE+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxUd29EU2hhZG93TWFwRGF0YT4oKTtcbiAgICAgICAgcHVibGljIGN1YmVtYXBTaGFkb3dNYXBEYXRhczp3ZENiLkNvbGxlY3Rpb248Q3ViZW1hcFNoYWRvd01hcERhdGE+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxDdWJlbWFwU2hhZG93TWFwRGF0YT4oKTtcblxuICAgICAgICBwdWJsaWMgYnVpbGRUd29EU2hhZG93TWFwRGF0YTpCdWlsZFR3b0RTaGFkb3dNYXBEYXRhID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJ1aWxkQ3ViZW1hcFNoYWRvd01hcERhdGE6QnVpbGRDdWJlbWFwU2hhZG93TWFwRGF0YSA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgc3BlY3VsYXJDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcIjB4MTExMTExXCIpO1xuICAgICAgICBwdWJsaWMgZW1pc3Npb25Db2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcIjB4MTExMTExXCIpO1xuXG4gICAgICAgIHByaXZhdGUgX3R3b0RTaGFkb3dNYXBTYW1wbGVySW5kZXg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJJbmRleDpudW1iZXIgPSAwO1xuXG4gICAgICAgIHB1YmxpYyBhZGRUd29EU2hhZG93TWFwKHNoYWRvd01hcDpUd29EU2hhZG93TWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcChzaGFkb3dNYXAsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVyRGF0YTogdGhpcy5fdHdvRFNoYWRvd01hcFNhbXBsZXJJbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl90d29EU2hhZG93TWFwU2FtcGxlckluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ3ViZW1hcFNoYWRvd01hcChzaGFkb3dNYXA6Q3ViZW1hcFNoYWRvd01hcFRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5hZGRNYXAoc2hhZG93TWFwLCB7XG4gICAgICAgICAgICAgICAgc2FtcGxlckRhdGE6IHRoaXMuX2N1YmVtYXBTaGFkb3dNYXBTYW1wbGVySW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1NoYWRvd01hcChtYXA6SVNoYWRvd01hcFRleHR1cmUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5oYXNNYXAoPFRleHR1cmU+bWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRUd29EU2hhZG93TWFwRGF0YShzaGFkb3dNYXBEYXRhOlR3b0RTaGFkb3dNYXBEYXRhKXtcbiAgICAgICAgICAgIHRoaXMudHdvRFNoYWRvd01hcERhdGFzLmFkZENoaWxkKHNoYWRvd01hcERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZEN1YmVtYXBTaGFkb3dNYXBEYXRhKHNoYWRvd01hcERhdGE6Q3ViZW1hcFNoYWRvd01hcERhdGEpe1xuICAgICAgICAgICAgdGhpcy5jdWJlbWFwU2hhZG93TWFwRGF0YXMuYWRkQ2hpbGQoc2hhZG93TWFwRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2xlYXJUd29EU2hhZG93TWFwRGF0YSgpe1xuICAgICAgICAgICAgdGhpcy50d29EU2hhZG93TWFwRGF0YXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjbGVhckN1YmVtYXBTaGFkb3dNYXBEYXRhKCl7XG4gICAgICAgICAgICB0aGlzLmN1YmVtYXBTaGFkb3dNYXBEYXRhcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZFNoYWRlckxpYigpe1xuICAgICAgICAgICAgdmFyIGVudk1hcCA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkTm9ybWFsU2hhZGVyTGliKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTGlnaHRDb21tb25TaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc2V0TGlnaHRNYXBTaGFkZXJMaWIoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihMaWdodFNoYWRlckxpYi5jcmVhdGUoKSk7XG5cbiAgICAgICAgICAgIGVudk1hcCA9IHRoaXMuZW52TWFwO1xuICAgICAgICAgICAgaWYoZW52TWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKExpZ2h0RW5kU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldExpZ2h0TWFwU2hhZGVyTGliKCl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcblxuICAgICAgICAgICAgaWYodGhpcy5fZGlmZnVzZU1hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKERpZmZ1c2VNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTm9EaWZmdXNlTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fc3BlY3VsYXJNYXApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihTcGVjdWxhck1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb1NwZWN1bGFyTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fZW1pc3Npb25NYXApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihFbWlzc2lvbk1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb0VtaXNzaW9uTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fbm9ybWFsTWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTm9ybWFsTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKE5vTm9ybWFsTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoc2NlbmUuc2hhZG93TWFwLmVuYWJsZSAmJiAodGhpcy5faGFzVHdvRFNoYWRvd01hcCgpIHx8IHRoaXMuX2hhc0N1YmVtYXBTaGFkb3dNYXAoKSkpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2hhc1R3b0RTaGFkb3dNYXAoKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihUd29EU2hhZG93TWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5faGFzQ3ViZW1hcFNoYWRvd01hcCgpKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEN1YmVtYXBTaGFkb3dNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihUb3RhbFNoYWRvd01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb1NoYWRvd01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwOkN1YmVtYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIHN3aXRjaCAoZW52TWFwLm1vZGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuQkFTSUM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY0Vudk1hcEZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5SRUZMRUNUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoUmVmbGVjdGlvbkZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5SRUZSQUNUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoUmVmcmFjdGlvbkZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5GUkVTTkVMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoRnJlc25lbEZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcIkVFbnZNYXBNb2RlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNUd29EU2hhZG93TWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBNYW5hZ2VyLmhhc01hcCgobWFwOlRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwIGluc3RhbmNlb2YgVHdvRFNoYWRvd01hcFRleHR1cmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc0N1YmVtYXBTaGFkb3dNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcE1hbmFnZXIuaGFzTWFwKChtYXA6VGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXAgaW5zdGFuY2VvZiBDdWJlbWFwU2hhZG93TWFwVGV4dHVyZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQnVpbGRUd29EU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6TWF0cml4NFxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFR3b0RTaGFkb3dNYXBEYXRhID0ge1xuICAgICAgICBzaGFkb3dCaWFzOm51bWJlcixcbiAgICAgICAgc2hhZG93RGFya25lc3M6bnVtYmVyLFxuICAgICAgICBzaGFkb3dTaXplOkFycmF5PG51bWJlcj4sXG4gICAgICAgIGxpZ2h0UG9zOlZlY3RvcjMsXG4gICAgICAgIHZwTWF0cml4RnJvbUxpZ2h0Ok1hdHJpeDRcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDdWJlbWFwU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgc2hhZG93QmlhczpudW1iZXIsXG4gICAgICAgIHNoYWRvd0RhcmtuZXNzOm51bWJlcixcbiAgICAgICAgbGlnaHRQb3M6VmVjdG9yMyxcbiAgICAgICAgZmFyUGxhbmU6bnVtYmVyXG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQnVpbGRDdWJlbWFwU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgbGlnaHRQb3M6VmVjdG9yMyxcbiAgICAgICAgZmFyUGxhbmU6IG51bWJlclxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTaGFkZXJNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVNoYWRpbmd7XG4gICAgICAgIEZMQVQsXG4gICAgICAgIFNNT09USFxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTWFwTWFuYWdlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUobWF0ZXJpYWw6TWF0ZXJpYWwpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMobWF0ZXJpYWwpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tYXRlcmlhbDpNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3RleHR1cmVzOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHByaXZhdGUgX21pcnJvck1hcDpNaXJyb3JUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5fZ2V0TWFwTGlzdCgpLmZvckVhY2goKHRleHR1cmU6VGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuaW5pdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkTWFwKGFzc2V0OlRleHR1cmVBc3NldCk7XG4gICAgICAgIHB1YmxpYyBhZGRNYXAoYXNzZXQ6VGV4dHVyZUFzc2V0LCBvcHRpb246TWFwVmFyaWFibGVEYXRhKTtcbiAgICAgICAgcHVibGljIGFkZE1hcChtYXA6VGV4dHVyZSk7XG4gICAgICAgIHB1YmxpYyBhZGRNYXAobWFwOlRleHR1cmUsIG9wdGlvbjpNYXBWYXJpYWJsZURhdGEpO1xuXG4gICAgICAgIHB1YmxpYyBhZGRNYXAoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgbWFwID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2YgVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFzc2V0OlRleHR1cmVBc3NldCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgbWFwID0gYXNzZXQudG9UZXh0dXJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoYXJnc1swXSBpbnN0YW5jZW9mIFRleHR1cmUpe1xuICAgICAgICAgICAgICAgICAgICBtYXAgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TWFwT3B0aW9uKG1hcCwgb3B0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFwLm1hdGVyaWFsID0gdGhpcy5fbWF0ZXJpYWw7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5hcHBlbmRDaGlsZChcIm1hcFwiLCBtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE1hcChpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmdldENoaWxkKFwibWFwXCIpLmdldENoaWxkKGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNNYXAoZnVuYzooLi4uYXJncykgPT4gYm9vbGVhbik7XG4gICAgICAgIHB1YmxpYyBoYXNNYXAobWFwOlRleHR1cmUpO1xuXG4gICAgICAgIHB1YmxpYyBoYXNNYXAoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgbWFwcyA9IG51bGw7XG5cbiAgICAgICAgICAgIG1hcHMgPSB0aGlzLl90ZXh0dXJlcy5nZXRDaGlsZChcIm1hcFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHMgJiYgbWFwcy5oYXNDaGlsZChhcmdzWzBdKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIGdldE1hcENvdW50KCk7XG4gICAgICAgIHB1YmxpYyBnZXRNYXBDb3VudChmaWx0ZXJGdW5jOihtYXA6VGV4dHVyZSkgPT4gYm9vbGVhbik7XG5cbiAgICAgICAgcHVibGljIGdldE1hcENvdW50KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGxldCBtYXAgPSB0aGlzLl90ZXh0dXJlcy5nZXRDaGlsZChcIm1hcFwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtYXAgPyBtYXAuZ2V0Q291bnQoKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJGdW5jID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgbWFwID0gdGhpcy5fdGV4dHVyZXMuZ2V0Q2hpbGQoXCJtYXBcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwID8gbWFwLmZpbHRlcihmaWx0ZXJGdW5jKS5nZXRDb3VudCgpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRFbnZNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRNYXA8Q3ViZW1hcFRleHR1cmU+KFwiZW52TWFwXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEVudk1hcChlbnZNYXA6Q3ViZW1hcFRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5fc2V0TWFwKFwiZW52TWFwXCIsIGVudk1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TWlycm9yTWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWlycm9yTWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldE1pcnJvck1hcChtaXJyb3JNYXA6TWlycm9yVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcChtaXJyb3JNYXAsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVyVmFyaWFibGVOYW1lOiBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJtaXJyb3JSZWZsZWN0aW9uTWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbWlycm9yTWFwID0gbWlycm9yTWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzTWlycm9yTWFwKG1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIHJldHVybiBtYXAgPT09IHRoaXMuX21pcnJvck1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVBbGxDaGlsZHJlbigpe1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLl9nZXRNYXBMaXN0KCkuZm9yRWFjaCgodGV4dHVyZTpUZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5fZ2V0TWFwTGlzdCgpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodGV4dHVyZTpUZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzaWNUZXh0dXJlICYmIHRleHR1cmUubmVlZFVwZGF0ZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKCh0ZXh0dXJlOkJhc2ljVGV4dHVyZSwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUudXBkYXRlKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZW5kRGF0YShwcm9ncmFtOlByb2dyYW0pe1xuICAgICAgICAgICAgdGhpcy5fZ2V0TWFwTGlzdCgpLmZvckVhY2goKHRleHR1cmU6VGV4dHVyZSwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZXJOYW1lID0gdGV4dHVyZS5nZXRTYW1wbGVyTmFtZShpbmRleCksXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHByb2dyYW0uZ2V0VW5pZm9ybUxvY2F0aW9uKHNhbXBsZXJOYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmKHByb2dyYW0uaXNVbmlmb3JtRGF0YU5vdEV4aXN0QnlMb2NhdGlvbihwb3MpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRleHR1cmUuYmluZFRvVW5pdChpbmRleCk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5zZW5kRGF0YShwcm9ncmFtLCBwb3MsIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TWFwTGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLnRvQ29sbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TWFwPFQ+KGtleTpzdHJpbmcpOlR7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMuZ2V0Q2hpbGQoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE1hcChrZXk6c3RyaW5nLCBtYXA6VGV4dHVyZSk7XG4gICAgICAgIHByaXZhdGUgX3NldE1hcChrZXk6c3RyaW5nLCBtYXA6VGV4dHVyZSwgb3B0aW9uOk1hcFZhcmlhYmxlRGF0YSk7XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWFwKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIGtleTpzdHJpbmcgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIG1hcDpUZXh0dXJlID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgaWYoIW1hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlTWFwKGtleSwgbWFwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbjpNYXBWYXJpYWJsZURhdGEgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TWFwT3B0aW9uKG1hcCwgb3B0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFwLm1hdGVyaWFsID0gdGhpcy5fbWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLmFkZENoaWxkKGtleSwgbWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZU1hcChrZXk6c3RyaW5nLCBtYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5yZW1vdmVDaGlsZChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWFwT3B0aW9uKG1hcDpUZXh0dXJlLCBvcHRpb246TWFwVmFyaWFibGVEYXRhKXtcbiAgICAgICAgICAgIG1hcC52YXJpYWJsZURhdGEgPSBvcHRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUFzc2V0VHlwZXtcbiAgICAgICAgVU5LTk9XLFxuICAgICAgICBGT05UXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgX2NvbnRhaW5lcjp3ZENiLkhhc2g8c3RyaW5nPiA9IHdkQ2IuSGFzaC5jcmVhdGU8c3RyaW5nPigpO1xuXG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQodXJsOkFycmF5PHN0cmluZz4pOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuXG4gICAgICAgIHB1YmxpYyBsb2FkKC4uLmFyZ3MpOndkRnJwLlN0cmVhbXtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGlkID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KHVybCkpe1xuICAgICAgICAgICAgICAgICAgICBpZCA9IHVybC5qb2luKFwiLVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBpZCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jb250YWluZXIuZ2V0Q2hpbGQoaWQpO1xuXG4gICAgICAgICAgICBpZihkYXRhKXtcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSB3ZEZycC5qdXN0KGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSB0aGlzLmxvYWRBc3NldCh1cmwsIGlkKVxuICAgICAgICAgICAgICAgICAgICAuZG8oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2NvbnRhaW5lci5hZGRDaGlsZChpZCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2Vycm9ySGFuZGxlKHVybCwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0KGlkOnN0cmluZyk6YW55e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5nZXRDaGlsZChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzKGlkOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyLmhhc0NoaWxkKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIHByaXZhdGUgX2Vycm9ySGFuZGxlKHBhdGg6c3RyaW5nLCBlcnI6c3RyaW5nKTtcbiAgICAgICAgcHJpdmF0ZSBfZXJyb3JIYW5kbGUocGF0aDpBcnJheTxzdHJpbmc+LCBlcnI6c3RyaW5nKTtcblxuXG4gICAgICAgIHByaXZhdGUgX2Vycm9ySGFuZGxlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlcnIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQXJyYXkoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIHBhdGggPSBhcmdzWzBdLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBwYXRoID0gYXJnc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVyciA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgIExvZy5sb2coYGxvYWQgJHtwYXRofSBhc3NldCBmYWlsOiR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMU0xMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheShhcmdzWzBdKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidXJsXCIsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHJldHVybiBBamF4TG9hZGVyLmxvYWQodXJsLCBcInRleHRcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgZG9jdW1lbnQ6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEpzTG9hZGVyIGV4dGVuZHMgTG9hZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgYXNzZXJ0KCFKdWRnZVV0aWxzLmlzQXJyYXkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICB1cmwgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbVByb21pc2UobmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHNjcmlwdDphbnkgPSBzZWxmLl9jcmVhdGVTY3JpcHQoKTtcblxuICAgICAgICAgICAgICAgIC8vIHVzZSBhc3luYz1mYWxzZSB0byBmb3JjZSBzY3JpcHRzIHRvIGV4ZWN1dGUgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIGdldCBlcnJvciBtZXNzYWdlIGZyb20gZShFdmVudCk/XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChgbG9hZCBqcyBmaWxlIGVycm9yLiB1cmw6JHt1cmx9YCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL0lFXG4gICAgICAgICAgICAgICAgaWYgKHNjcmlwdC5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LnJlYWR5U3RhdGUgPT09IFwibG9hZGVkXCIgfHwgc2NyaXB0LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVybCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyohIHNldCB0aGUgc3JjIGF0dHJpYnV0ZSBhZnRlciB0aGUgb25sb2FkIGNhbGxiYWNrIGlzIHNldCwgdG8gYXZvaWQgYW4gaW5zdGFudCBsb2FkaW5nIGZhaWxpbmcgdG8gZmlyZSB0aGUgY2FsbGJhY2sgKi9cbiAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kU2NyaXB0KHNjcmlwdCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVTY3JpcHQoKSB7XG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAgICAgICAgICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuXG4gICAgICAgICAgICByZXR1cm4gc2NyaXB0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYXBwZW5kU2NyaXB0KHNjcmlwdCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZpZGVvTG9hZGVyIGV4dGVuZHMgTG9hZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KC4uLmFyZ3MpOndkRnJwLlN0cmVhbSB7XG4gICAgICAgICAgICB2YXIgdXJsQXJyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgdXJsQXJyID0gW2FyZ3NbMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB1cmxBcnIgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbVByb21pc2UobmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgVmlkZW8uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsQXJyOnVybEFycixcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkOiAodmlkZW86VmlkZW8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoVmlkZW9UZXh0dXJlQXNzZXQuY3JlYXRlKHZpZGVvKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IChlcnI6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFRleHR1cmVMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheShhcmdzWzBdKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidXJsXCIsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIGV4dG5hbWUgPSBudWxsLFxuICAgICAgICAgICAgICAgIHN0cmVhbSA9IG51bGwsXG4gICAgICAgICAgICAgICAgdXJsID0gYXJnc1swXTtcblxuICAgICAgICAgICAgZXh0bmFtZSA9IHdkQ2IuUGF0aFV0aWxzLmV4dG5hbWUodXJsKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV4dG5hbWUpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuanBnXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5qcGVnXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5naWZcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIi5ibXBcIjpcbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIGlzIFJHQj9cbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gIEltYWdlTG9hZGVyLmxvYWQodXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW1hZ2U6SFRNTEltYWdlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3NldCA9IEltYWdlVGV4dHVyZUFzc2V0LmNyZWF0ZShpbWFnZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldC5mb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5wbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gIEltYWdlTG9hZGVyLmxvYWQodXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW1hZ2U6SFRNTEltYWdlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbWFnZVRleHR1cmVBc3NldC5jcmVhdGUoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuZGRzXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9IENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLmxvYWQodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoZXh0bmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBJbWFnZUxvYWRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBsb2FkKHVybDpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tUHJvbWlzZShuZXcgUlNWUC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGltZyA9IG5ldyByb290LkltYWdlKCk7XG4gICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgIOe7j+i/h+WvueWkmuS4qua1j+iniOWZqOeJiOacrOeahOa1i+ivle+8jOWPkeeOsGll44CBb3BlcmHkuIvvvIzlvZPlm77niYfliqDovb3ov4fkuIDmrKHku6XlkI7vvIzlpoLmnpzlho3mnInlr7nor6Xlm77niYfnmoTor7fmsYLml7bvvIznlLHkuo7mtY/op4jlmajlt7Lnu4/nvJPlrZjkvY/ov5nlvKDlm75cblxuICAgICAgICAgICAgICAgICDniYfkuobvvIzkuI3kvJrlho3lj5HotbfkuIDmrKHmlrDnmoTor7fmsYLvvIzogIzmmK/nm7TmjqXku47nvJPlrZjkuK3liqDovb3ov4fmnaXjgILlr7nkuo4gZmlyZWZveOWSjHNhZmFyae+8jOWug+S7rOivleWbvuS9v+i/meS4pOenjeWKoOi9veaWueW8j+WvueeUqOaIt+mAj+aYju+8jOWQjOagt1xuXG4gICAgICAgICAgICAgICAgIOS8muW8lei1t+WbvueJh+eahG9ubG9hZOS6i+S7tu+8jOiAjGll5ZKMb3BlcmHliJnlv73nlaXkuobov5nnp43lkIzkuIDmgKfvvIzkuI3kvJrlvJXotbflm77niYfnmoRvbmxvYWTkuovku7bvvIzlm6DmraTkuIrovrnnmoTku6PnoIHlnKjlroPku6zph4zovrnkuI3og73lvpfku6Xlrp7njrDmlYjmnpzjgIJcblxuICAgICAgICAgICAgICAgICDnoa7lrp7vvIzlnKhpZe+8jG9wZXJh5LiL77yM5a+55LqO57yT5a2Y5Zu+54mH55qE5Yid5aeL54q25oCB77yM5LiOZmlyZWZveOWSjHNhZmFyae+8jGNocm9tZeS4i+aYr+S4jeS4gOagt+eahO+8iOacieWFtOi2o+eahOivne+8jOWPr+S7peWcqOS4jeWQjOa1j+iniOWZqOS4i++8jOa1i+ivleS4gOS4i+WcqOe7mWltZ+eahHNyY+i1i+WAvOe8k+WtmOWbvueJh+eahHVybOS5i+WJje+8jGltZ+eahOeKtuaAge+8ie+8jFxuICAgICAgICAgICAgICAgICDkvYbmmK/lr7lvbmxvYWTkuovku7bnmoTop6blj5HvvIzljbTmmK/kuIDoh7TnmoTvvIzkuI3nrqHmmK/ku4DkuYjmtY/op4jlmajjgIJcblxuICAgICAgICAgICAgICAgICDkuqfnlJ/ov5nkuKrpl67popjnmoTmoLnmnKzljp/lm6DlnKjkuo7vvIxpbWfnmoRzcmPotYvlgLzkuI4gb25sb2Fk5LqL5Lu255qE57uR5a6a77yM6aG65bqP5LiN5a+577yI5ZyoaWXlkoxvcGVyYeS4i++8jOWFiOi1i+WAvHNyY++8jOWGjei1i+WAvG9ubG9hZO+8jOWboOS4uuaYr+e8k+WtmOWbvueJh++8jOWwsemUmei/h+S6hm9ubG9hZOS6i+S7tueahOinpuWPke+8ieOAglxuICAgICAgICAgICAgICAgICDlupTor6XlhYjnu5HlrppvbmxvYWTkuovku7bvvIznhLblkI7lho3nu5lzcmPotYvlgLzjgIJcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ubG9hZCA9IG51bGw7ICAgICAvL+ino+WGs2ll5YaF5a2Y5rOE6ZyyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJlcnJvclwiKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQWpheExvYWRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBsb2FkKHVybDpzdHJpbmcsIGRhdGFUeXBlOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21Qcm9taXNlKG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHdkQ2IuQWpheFV0aWxzLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICAvL2FzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogZGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IChYTUxIdHRwUmVxdWVzdCwgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChgdXJsOiR7dXJsfVxcbnJlYWR5U3RhdGU6JHtYTUxIdHRwUmVxdWVzdC5yZWFkeVN0YXRlfVxcbnN0YXR1czoke1hNTEh0dHBSZXF1ZXN0LnN0YXR1c31cXG5tZXNzYWdlOiR7ZXJyb3JUaHJvd24ubWVzc2FnZX1cXG5yZXNwb25zZVRleHQ6JHtYTUxIdHRwUmVxdWVzdC5yZXNwb25zZVRleHR9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBNb2RlbExvYWRlclV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldFBhdGgoZmlsZVBhdGg6c3RyaW5nLCBtYXBVcmw6c3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7d2RDYi5QYXRoVXRpbHMuZGlybmFtZShmaWxlUGF0aCl9LyR7bWFwVXJsfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbG9hZCh1cmw6c3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJhcnJheWJ1ZmZlclwiKVxuICAgICAgICAgICAgICAgIC5tYXAoKGRhdGE6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXhEYXRhczpERFNEYXRhID0gRERTUGFyc2VyLnBhcnNlKGRhdGEsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQgPSBDb21wcmVzc2VkVGV4dHVyZUFzc2V0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0LndpZHRoID0gdGV4RGF0YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0LmhlaWdodCA9IHRleERhdGFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQubWlwbWFwcyA9IHRleERhdGFzLm1pcG1hcHM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleERhdGFzLm1pcG1hcENvdW50ID09IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQubWluRmlsdGVyID0gRVRleHR1cmVGaWx0ZXJNb2RlLkxJTkVBUjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0LmZvcm1hdCA9IHRoaXMuX2dldENvbXByZXNzZWRGb3JtYXQodGV4RGF0YXMuZm9ybWF0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgcHZyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nZXRDb21wcmVzc2VkRm9ybWF0KGZvcm1hdDpFVGV4dHVyZUZvcm1hdCl7XG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKS5leHRlbnNpb25Db21wcmVzc2VkVGV4dHVyZVMzVEM7XG5cbiAgICAgICAgICAgIGlmKGZvcm1hdCA9PT0gRVRleHR1cmVGb3JtYXQuUkdCQSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIWV4dGVuc2lvbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KXtcbiAgICAgICAgICAgICAgICBjYXNlIEVUZXh0dXJlRm9ybWF0LlJHQl9TM1RDX0RYVDE6XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUZXh0dXJlRm9ybWF0LlJHQkFfUzNUQ19EWFQxOlxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVRleHR1cmVGb3JtYXQuUkdCQV9TM1RDX0RYVDM6XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVGV4dHVyZUZvcm1hdC5SR0JBX1MzVENfRFhUNTpcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgY29uc3QgRERTX01BR0lDID0gMHgyMDUzNDQ0NCxcblxuICAgICAgICBERFNEX0NBUFMgPSAweDEsXG4gICAgICAgIEREU0RfSEVJR0hUID0gMHgyLFxuICAgICAgICBERFNEX1dJRFRIID0gMHg0LFxuICAgICAgICBERFNEX1BJVENIID0gMHg4LFxuICAgICAgICBERFNEX1BJWEVMRk9STUFUID0gMHgxMDAwLFxuICAgICAgICBERFNEX01JUE1BUENPVU5UID0gMHgyMDAwMCxcbiAgICAgICAgRERTRF9MSU5FQVJTSVpFID0gMHg4MDAwMCxcbiAgICAgICAgRERTRF9ERVBUSCA9IDB4ODAwMDAwLFxuXG4gICAgICAgIEREU0NBUFNfQ09NUExFWCA9IDB4OCxcbiAgICAgICAgRERTQ0FQU19NSVBNQVAgPSAweDQwMDAwMCxcbiAgICAgICAgRERTQ0FQU19URVhUVVJFID0gMHgxMDAwLFxuXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVAgPSAweDIwMCxcbiAgICAgICAgRERTQ0FQUzJfQ1VCRU1BUF9QT1NJVElWRVggPSAweDQwMCxcbiAgICAgICAgRERTQ0FQUzJfQ1VCRU1BUF9ORUdBVElWRVggPSAweDgwMCxcbiAgICAgICAgRERTQ0FQUzJfQ1VCRU1BUF9QT1NJVElWRVkgPSAweDEwMDAsXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVBfTkVHQVRJVkVZID0gMHgyMDAwLFxuICAgICAgICBERFNDQVBTMl9DVUJFTUFQX1BPU0lUSVZFWiA9IDB4NDAwMCxcbiAgICAgICAgRERTQ0FQUzJfQ1VCRU1BUF9ORUdBVElWRVogPSAweDgwMDAsXG4gICAgICAgIEREU0NBUFMyX1ZPTFVNRSA9IDB4MjAwMDAwLFxuXG4gICAgICAgIEREUEZfQUxQSEFQSVhFTFMgPSAweDEsXG4gICAgICAgIEREUEZfQUxQSEEgPSAweDIsXG4gICAgICAgIEREUEZfRk9VUkNDID0gMHg0LFxuICAgICAgICBERFBGX1JHQiA9IDB4NDAsXG4gICAgICAgIEREUEZfWVVWID0gMHgyMDAsXG4gICAgICAgIEREUEZfTFVNSU5BTkNFID0gMHgyMDAwMDtcblxuICAgIGV4cG9ydCBjbGFzcyBERFNQYXJzZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcGFyc2UoYnVmZmVyOmFueSwgbG9hZE1pcG1hcHM6Ym9vbGVhbj10cnVlKXtcbiAgICAgICAgICAgIHZhciBkZHMgPSBuZXcgRERTRGF0YSgpLFxuICAgICAgICAgICAgICAgIEZPVVJDQ19EWFQxID0gdGhpcy5fZm91ckNDVG9JbnQzMihcIkRYVDFcIiksXG4gICAgICAgICAgICAgICAgRk9VUkNDX0RYVDMgPSB0aGlzLl9mb3VyQ0NUb0ludDMyKFwiRFhUM1wiKSxcbiAgICAgICAgICAgICAgICBGT1VSQ0NfRFhUNSA9IHRoaXMuX2ZvdXJDQ1RvSW50MzIoXCJEWFQ1XCIpLFxuXG4gICAgICAgICAgICAgICAgaGVhZGVyTGVuZ3RoSW50ID0gMzEsIC8vIFRoZSBoZWFkZXIgbGVuZ3RoIGluIDMyIGJpdCBpbnQsXG5cbiAgICAgICAgICAgIC8vIE9mZnNldHMgaW50byB0aGUgaGVhZGVyIGFycmF5XG5cbiAgICAgICAgICAgICAgICBvZmZfbWFnaWMgPSAwLFxuXG4gICAgICAgICAgICAgICAgb2ZmX3NpemUgPSAxLFxuICAgICAgICAgICAgICAgIG9mZl9mbGFncyA9IDIsXG4gICAgICAgICAgICAgICAgb2ZmX2hlaWdodCA9IDMsXG4gICAgICAgICAgICAgICAgb2ZmX3dpZHRoID0gNCxcblxuICAgICAgICAgICAgICAgIG9mZl9taXBtYXBDb3VudCA9IDcsXG5cbiAgICAgICAgICAgICAgICBvZmZfcGZGbGFncyA9IDIwLFxuICAgICAgICAgICAgICAgIG9mZl9wZkZvdXJDQyA9IDIxLFxuICAgICAgICAgICAgICAgIG9mZl9SR0JCaXRDb3VudCA9IDIyLFxuICAgICAgICAgICAgICAgIG9mZl9SQml0TWFzayA9IDIzLFxuICAgICAgICAgICAgICAgIG9mZl9HQml0TWFzayA9IDI0LFxuICAgICAgICAgICAgICAgIG9mZl9CQml0TWFzayA9IDI1LFxuICAgICAgICAgICAgICAgIG9mZl9BQml0TWFzayA9IDI2LFxuXG4gICAgICAgICAgICAgICAgb2ZmX2NhcHMgPSAyNyxcbiAgICAgICAgICAgICAgICBvZmZfY2FwczIgPSAyOCxcbiAgICAgICAgICAgICAgICBvZmZfY2FwczMgPSAyOSxcbiAgICAgICAgICAgICAgICBvZmZfY2FwczQgPSAzMCxcbiAgICAgICAgICAgIC8vIFBhcnNlIGhlYWRlclxuICAgICAgICAgICAgICAgIGhlYWRlcjpJbnQzMkFycmF5ID0gbmV3IEludDMyQXJyYXkoIGJ1ZmZlciwgMCwgaGVhZGVyTGVuZ3RoSW50ICksXG4gICAgICAgICAgICAgICAgYmxvY2tCeXRlcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgZm91ckNDID0gbnVsbCxcbiAgICAgICAgICAgICAgICBpc1JHQkFVbmNvbXByZXNzZWQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGZhY2VzID0gbnVsbDtcblxuXG4gICAgICAgICAgICBpZiAoIGhlYWRlclsgb2ZmX21hZ2ljIF0gIT09IEREU19NQUdJQyApIHtcbiAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgXCJJbnZhbGlkIG1hZ2ljIG51bWJlciBpbiBERFMgaGVhZGVyLlwiICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRkcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCA8YW55PighaGVhZGVyWyBvZmZfcGZGbGFncyBdKSAmIEREUEZfRk9VUkNDICkge1xuICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBcIlVuc3VwcG9ydGVkIGZvcm1hdCwgbXVzdCBjb250YWluIGEgRm91ckNDIGNvZGUuXCIgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGRzO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZvdXJDQyA9IGhlYWRlclsgb2ZmX3BmRm91ckNDIF07XG5cbiAgICAgICAgICAgIGlzUkdCQVVuY29tcHJlc3NlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBmb3VyQ0MgKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBGT1VSQ0NfRFhUMTpcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tCeXRlcyA9IDg7XG4gICAgICAgICAgICAgICAgICAgIGRkcy5mb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0JfUzNUQ19EWFQxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEZPVVJDQ19EWFQzOlxuICAgICAgICAgICAgICAgICAgICBibG9ja0J5dGVzID0gMTY7XG4gICAgICAgICAgICAgICAgICAgIGRkcy5mb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0JBX1MzVENfRFhUMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBGT1VSQ0NfRFhUNTpcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tCeXRlcyA9IDE2O1xuICAgICAgICAgICAgICAgICAgICBkZHMuZm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCQV9TM1RDX0RYVDU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICggaGVhZGVyW29mZl9SR0JCaXRDb3VudF0gPT0gMzJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGhlYWRlcltvZmZfUkJpdE1hc2tdJjB4ZmYwMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBoZWFkZXJbb2ZmX0dCaXRNYXNrXSYweGZmMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGhlYWRlcltvZmZfQkJpdE1hc2tdJjB4ZmZcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGhlYWRlcltvZmZfQUJpdE1hc2tdJjB4ZmYwMDAwMDAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNSR0JBVW5jb21wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQnl0ZXMgPSA2NDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRkcy5mb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIFwiVW5zdXBwb3J0ZWQgRm91ckNDIGNvZGUgXCIgKyB0aGlzLl9pbnQzMlRvRm91ckNDKCBmb3VyQ0MgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRkcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZHMubWlwbWFwQ291bnQgPSAxO1xuXG4gICAgICAgICAgICBpZiAoIGhlYWRlclsgb2ZmX2ZsYWdzIF0gJiBERFNEX01JUE1BUENPVU5UICYmIGxvYWRNaXBtYXBzICE9PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICBkZHMubWlwbWFwQ291bnQgPSBNYXRoLm1heCggMSwgaGVhZGVyWyBvZmZfbWlwbWFwQ291bnQgXSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1RPRE86IFZlcmlmeSB0aGF0IGFsbCBmYWNlcyBvZiB0aGUgY3ViZW1hcCBhcmUgcHJlc2VudCB3aXRoIEREU0NBUFMyX0NVQkVNQVBfUE9TSVRJVkVYLCBldGMuXG5cbiAgICAgICAgICAgIGRkcy5pc0N1YmVtYXAgPSBoZWFkZXJbIG9mZl9jYXBzMiBdICYgRERTQ0FQUzJfQ1VCRU1BUCA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICAgICAgZGRzLndpZHRoID0gaGVhZGVyWyBvZmZfd2lkdGggXTtcbiAgICAgICAgICAgIGRkcy5oZWlnaHQgPSBoZWFkZXJbIG9mZl9oZWlnaHQgXTtcblxuICAgICAgICAgICAgZGF0YU9mZnNldCA9IGhlYWRlclsgb2ZmX3NpemUgXSArIDQ7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgbWlwbWFwcyBidWZmZXJzXG5cbiAgICAgICAgICAgIHdpZHRoID0gZGRzLndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gZGRzLmhlaWdodDtcblxuICAgICAgICAgICAgZmFjZXMgPSBkZHMuaXNDdWJlbWFwID8gNiA6IDE7XG5cbiAgICAgICAgICAgIGZvciAoIGxldCBmYWNlID0gMDsgZmFjZSA8IGZhY2VzOyBmYWNlICsrICkge1xuXG4gICAgICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgZGRzLm1pcG1hcENvdW50OyBpICsrICkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWlwbWFwID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhTGVuZ3RoID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGlzUkdCQVVuY29tcHJlc3NlZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheSA9IHRoaXMuX2xvYWRBUkdCTWlwKCBidWZmZXIsIGRhdGFPZmZzZXQsIHdpZHRoLCBoZWlnaHQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFMZW5ndGggPSBieXRlQXJyYXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUxlbmd0aCA9IE1hdGgubWF4KCA0LCB3aWR0aCApIC8gNCAqIE1hdGgubWF4KCA0LCBoZWlnaHQgKSAvIDQgKiBibG9ja0J5dGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoIGJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YUxlbmd0aCApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWlwbWFwID0gPENvbXByZXNzZWRUZXh0dXJlTWlwbWFwPnsgXCJkYXRhXCI6IGJ5dGVBcnJheSwgXCJ3aWR0aFwiOiB3aWR0aCwgXCJoZWlnaHRcIjogaGVpZ2h0IH07XG4gICAgICAgICAgICAgICAgICAgIGRkcy5taXBtYXBzLmFkZENoaWxkKCBtaXBtYXAgKTtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IGRhdGFMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCggd2lkdGggKiAwLjUsIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoIGhlaWdodCAqIDAuNSwgMSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdpZHRoID0gZGRzLndpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGRkcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRkcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9mb3VyQ0NUb0ludDMyKCB2YWx1ZSApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jaGFyQ29kZUF0KDApICtcbiAgICAgICAgICAgICAgICAodmFsdWUuY2hhckNvZGVBdCgxKSA8PCA4KSArXG4gICAgICAgICAgICAgICAgKHZhbHVlLmNoYXJDb2RlQXQoMikgPDwgMTYpICtcbiAgICAgICAgICAgICAgICAodmFsdWUuY2hhckNvZGVBdCgzKSA8PCAyNCk7XG5cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW50MzJUb0ZvdXJDQyggdmFsdWUgKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgICAgICAgICB2YWx1ZSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgKHZhbHVlID4+IDgpICYgMHhmZixcbiAgICAgICAgICAgICAgICAodmFsdWUgPj4gMTYpICYgMHhmZixcbiAgICAgICAgICAgICAgICAodmFsdWUgPj4gMjQpICYgMHhmZlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfbG9hZEFSR0JNaXAoIGJ1ZmZlciwgZGF0YU9mZnNldCwgd2lkdGgsIGhlaWdodCApIHtcbiAgICAgICAgICAgIHZhciBkYXRhTGVuZ3RoID0gd2lkdGggKiBoZWlnaHQgKiA0LFxuICAgICAgICAgICAgICAgIHNyY0J1ZmZlciA9IG5ldyBVaW50OEFycmF5KCBidWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFMZW5ndGggKSxcbiAgICAgICAgICAgICAgICBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheSggZGF0YUxlbmd0aCApLFxuICAgICAgICAgICAgICAgIGRzdCA9IDAsXG4gICAgICAgICAgICAgICAgc3JjID0gMDtcblxuICAgICAgICAgICAgZm9yICggbGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5ICsrICkge1xuICAgICAgICAgICAgICAgIGZvciAoIGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4ICsrICkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgYiA9IHNyY0J1ZmZlcltzcmNdO1xuICAgICAgICAgICAgICAgICAgICBzcmMgKys7XG4gICAgICAgICAgICAgICAgICAgIGcgPSBzcmNCdWZmZXJbc3JjXTtcbiAgICAgICAgICAgICAgICAgICAgc3JjICsrO1xuICAgICAgICAgICAgICAgICAgICByID0gc3JjQnVmZmVyW3NyY107XG4gICAgICAgICAgICAgICAgICAgIHNyYyArKztcbiAgICAgICAgICAgICAgICAgICAgYSA9IHNyY0J1ZmZlcltzcmNdO1xuICAgICAgICAgICAgICAgICAgICBzcmMgKys7XG5cbiAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5W2RzdF0gPSByOyBkc3QgKys7XHQvL3JcbiAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5W2RzdF0gPSBnOyBkc3QgKys7XHQvL2dcbiAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5W2RzdF0gPSBiOyBkc3QgKys7XHQvL2JcbiAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5W2RzdF0gPSBhOyBkc3QgKys7XHQvL2FcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgRERTRGF0YXtcbiAgICAgICAgcHVibGljIG1pcG1hcHM6d2RDYi5Db2xsZWN0aW9uPENvbXByZXNzZWRUZXh0dXJlTWlwbWFwPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8Q29tcHJlc3NlZFRleHR1cmVNaXBtYXA+KCk7XG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBmb3JtYXQ6RVRleHR1cmVGb3JtYXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWlwbWFwQ291bnQ6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGlzQ3ViZW1hcDpib29sZWFuID0gZmFsc2U7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUZXh0dXJlQXNzZXQgaW1wbGVtZW50cyBJVGV4dHVyZUFzc2V0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGRlZmF1bHRUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF93aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgd2lkdGgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCA9PT0gbnVsbD8gKHRoaXMuc291cmNlPyB0aGlzLnNvdXJjZS53aWR0aCA6IG51bGwpIDogdGhpcy5fd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHdpZHRoKHdpZHRoOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGVpZ2h0Om51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBoZWlnaHQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQgPT09IG51bGw/ICh0aGlzLnNvdXJjZT8gdGhpcy5zb3VyY2UuaGVpZ2h0IDogbnVsbCkgOiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGhlaWdodChoZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZW5lcmF0ZU1pcG1hcHM6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBzb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QgPSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5DSEFOR0VfVEVYQ09PUkRTX0lOX0dMU0w7XG4gICAgICAgIHB1YmxpYyBmb3JtYXQ6RVRleHR1cmVGb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0JBO1xuICAgICAgICBwdWJsaWMgc291cmNlOmFueSA9IFRleHR1cmVBc3NldC5kZWZhdWx0VGV4dHVyZTtcbiAgICAgICAgcHVibGljIHJlcGVhdFJlZ2lvbjpSZWN0UmVnaW9uID0gUmVjdFJlZ2lvbi5jcmVhdGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIHB1YmxpYyBzb3VyY2VSZWdpb246UmVjdFJlZ2lvbiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHNvdXJjZVJlZ2lvbk1hcHBpbmc6RVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nID0gRVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nLkNBTlZBUztcblxuICAgICAgICBwdWJsaWMgZmxpcFk6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwcmVtdWx0aXBseUFscGhhOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHVucGFja0FsaWdubWVudDpudW1iZXIgPSA0O1xuXG4gICAgICAgIC8vdG9kbyBleHRyYWN0IFRleHR1cmVEZWZhdWx0IGNsYXNzIHRvIHNhdmUgZGVmYXVsdCBzZXR0aW5nP1xuXG4gICAgICAgIHB1YmxpYyB3cmFwUzpFVGV4dHVyZVdyYXBNb2RlID0gRVRleHR1cmVXcmFwTW9kZS5DTEFNUF9UT19FREdFO1xuICAgICAgICBwdWJsaWMgd3JhcFQ6RVRleHR1cmVXcmFwTW9kZSA9IEVUZXh0dXJlV3JhcE1vZGUuQ0xBTVBfVE9fRURHRTtcbiAgICAgICAgcHVibGljIG1hZ0ZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICBwdWJsaWMgbWluRmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSA9IEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVJfTUlQTUFQX0xJTkVBUjtcbiAgICAgICAgcHVibGljIHR5cGU6RVRleHR1cmVUeXBlID0gRVRleHR1cmVUeXBlLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxhbnk+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBhbmlzb3Ryb3B5Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBuZWVkVXBkYXRlOmJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHRvVGV4dHVyZSgpOlRleHR1cmU7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHRvQ3ViZW1hcEZhY2VUZXh0dXJlKCk6Q3ViZW1hcEZhY2VUZXh0dXJlO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjb3B5VG9DdWJlbWFwRmFjZVRleHR1cmUoY3ViZW1hcEZhY2VUZXh0dXJlOmFueSk7XG5cbiAgICAgICAgcHVibGljIGNvcHlUb0N1YmVtYXBUZXh0dXJlKGN1YmVtYXBGYWNlVGV4dHVyZTpJQ3ViZW1hcFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzID0gdGhpcy5nZW5lcmF0ZU1pcG1hcHM7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUubWluRmlsdGVyID0gdGhpcy5taW5GaWx0ZXI7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUubWFnRmlsdGVyID0gdGhpcy5tYWdGaWx0ZXI7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLndyYXBTID0gdGhpcy53cmFwUztcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS53cmFwVCA9IHRoaXMud3JhcFQ7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuYW5pc290cm9weSA9IHRoaXMuYW5pc290cm9weTtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID0gdGhpcy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnVucGFja0FsaWdubWVudCA9IHRoaXMudW5wYWNrQWxpZ25tZW50O1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLm5lZWRVcGRhdGUgPSB0aGlzLm5lZWRVcGRhdGU7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUubW9kZSA9IEVFbnZNYXBNb2RlLkJBU0lDO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHlUbyh0ZXh0dXJlOkJhc2ljVGV4dHVyZSl7XG4gICAgICAgICAgICBMb2cuZXJyb3IoIXRleHR1cmUsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJ0ZXh0dXJlXCIpKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5zb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICAgICAgdGV4dHVyZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm1pcG1hcHMgPSB0aGlzLm1pcG1hcHMuY29weSgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBTID0gdGhpcy53cmFwUztcbiAgICAgICAgICAgIHRleHR1cmUud3JhcFQgPSB0aGlzLndyYXBUO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm1hZ0ZpbHRlciA9IHRoaXMubWFnRmlsdGVyO1xuICAgICAgICAgICAgdGV4dHVyZS5taW5GaWx0ZXIgPSB0aGlzLm1pbkZpbHRlcjtcblxuICAgICAgICAgICAgdGV4dHVyZS5hbmlzb3Ryb3B5ID0gdGhpcy5hbmlzb3Ryb3B5O1xuXG4gICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCA9IHRoaXMuZm9ybWF0O1xuICAgICAgICAgICAgdGV4dHVyZS50eXBlID0gdGhpcy50eXBlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnJlcGVhdFJlZ2lvbiA9IHRoaXMucmVwZWF0UmVnaW9uLmNvcHkoKTtcbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlUmVnaW9uID0gdGhpcy5zb3VyY2VSZWdpb24gJiYgdGhpcy5zb3VyY2VSZWdpb24uY29weSgpO1xuICAgICAgICAgICAgdGV4dHVyZS5zb3VyY2VSZWdpb25NYXBwaW5nID0gdGhpcy5zb3VyY2VSZWdpb25NYXBwaW5nO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IHRoaXMuc291cmNlUmVnaW9uTWV0aG9kO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcyA9IHRoaXMuZ2VuZXJhdGVNaXBtYXBzO1xuICAgICAgICAgICAgdGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID0gdGhpcy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICAgICAgdGV4dHVyZS5mbGlwWSA9IHRoaXMuZmxpcFk7XG4gICAgICAgICAgICB0ZXh0dXJlLnVucGFja0FsaWdubWVudCA9IHRoaXMudW5wYWNrQWxpZ25tZW50O1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm5lZWRVcGRhdGUgPSB0aGlzLm5lZWRVcGRhdGU7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEltYWdlVGV4dHVyZUFzc2V0IGV4dGVuZHMgVGV4dHVyZUFzc2V0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShzb3VyY2U6SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyhzb3VyY2UpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHNvdXJjZTpIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50KXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1pcG1hcHM6d2RDYi5Db2xsZWN0aW9uPEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudD47XG5cbiAgICAgICAgcHVibGljIHRvVGV4dHVyZSgpOlRleHR1cmV7XG4gICAgICAgICAgICByZXR1cm4gSW1hZ2VUZXh0dXJlLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0b0N1YmVtYXBGYWNlVGV4dHVyZSgpOkN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJle1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJlLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5VG9DdWJlbWFwRmFjZVRleHR1cmUoY3ViZW1hcEZhY2VUZXh0dXJlOklDdWJlbWFwRmFjZVR3b0RUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkRSQVdfSU5fQ0FOVkFTO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBWaWRlb1RleHR1cmVBc3NldCBleHRlbmRzIFRleHR1cmVBc3NldHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodmlkZW86VmlkZW8pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh2aWRlbyk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodmlkZW86VmlkZW8pe1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLnZpZGVvLnNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2aWRlbzpWaWRlbyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVNaXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1pbkZpbHRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1hZ0ZpbHRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVJlZ2lvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9UZXh0dXJlKCk6VGV4dHVyZXtcbiAgICAgICAgICAgIHJldHVybiBWaWRlb1RleHR1cmUuY3JlYXRlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgY3ViZW1hcD9cbiAgICAgICAgcHVibGljIHRvQ3ViZW1hcEZhY2VUZXh0dXJlKCk6Q3ViZW1hcEZhY2VJbWFnZVRleHR1cmV7XG4gICAgICAgICAgICByZXR1cm4gTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJ2aWRlbyB0ZXh0dXJlXCIsIFwiY3ViZW1hcFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weVRvQ3ViZW1hcEZhY2VUZXh0dXJlKGN1YmVtYXBGYWNlVGV4dHVyZTpJQ3ViZW1hcEZhY2VUd29EVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwidmlkZW8gdGV4dHVyZVwiLCBcImN1YmVtYXBcIikpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbXByZXNzZWRUZXh0dXJlQXNzZXQgZXh0ZW5kcyBUZXh0dXJlQXNzZXR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWlwbWFwczp3ZENiLkNvbGxlY3Rpb248Q29tcHJlc3NlZFRleHR1cmVNaXBtYXA+O1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIGZsaXBwaW5nIGRvZXNuJ3Qgd29yayBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmZsaXBZID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9UZXh0dXJlKCk6VGV4dHVyZXtcbiAgICAgICAgICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZS5jcmVhdGUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9DdWJlbWFwRmFjZVRleHR1cmUoKTpDdWJlbWFwRmFjZUNvbXByZXNzZWRUZXh0dXJle1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUuY3JlYXRlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHlUb0N1YmVtYXBGYWNlVGV4dHVyZShjdWJlbWFwRmFjZVRleHR1cmU6SUN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUubWlwbWFwcyA9IHRoaXMubWlwbWFwcztcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5taW5GaWx0ZXIgPSB0aGlzLm1pbkZpbHRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlRmlsdGVyTW9kZXtcbiAgICAgICAgTkVBUkVTVCA9IDxhbnk+XCJORUFSRVNUXCIsXG4gICAgICAgIE5FQVJFU1RfTUlQTUFQX01FQVJFU1QgPSA8YW55PlwiTkVBUkVTVF9NSVBNQVBfTUVBUkVTVFwiLFxuICAgICAgICBORUFSRVNUX01JUE1BUF9MSU5FQVIgPSA8YW55PlwiTkVBUkVTVF9NSVBNQVBfTElORUFSXCIsXG4gICAgICAgIExJTkVBUiA9IDxhbnk+XCJMSU5FQVJcIixcbiAgICAgICAgTElORUFSX01JUE1BUF9ORUFSRVNUID0gPGFueT5cIkxJTkVBUl9NSVBNQVBfTkVBUkVTVFwiLFxuICAgICAgICBMSU5FQVJfTUlQTUFQX0xJTkVBUiA9IDxhbnk+XCJMSU5FQVJfTUlQTUFQX0xJTkVBUlwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlV3JhcE1vZGV7XG4gICAgICAgIFJFUEVBVCA9IDxhbnk+XCJSRVBFQVRcIixcbiAgICAgICAgTUlSUk9SRURfUkVQRUFUID0gPGFueT5cIk1JUlJPUkVEX1JFUEVBVFwiLFxuICAgICAgICBDTEFNUF9UT19FREdFID0gPGFueT5cIkNMQU1QX1RPX0VER0VcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZUZvcm1hdHtcbiAgICAgICAgUkdCID0gPGFueT5cIlJHQlwiLFxuICAgICAgICBSR0JBID0gPGFueT5cIlJHQkFcIixcbiAgICAgICAgQUxQSEEgPSA8YW55PlwiQUxQSEFcIixcbiAgICAgICAgTFVNSU5BTkNFID0gPGFueT5cIkxVTUlOQU5DRVwiLFxuICAgICAgICBMVU1JTkFOQ0VfQUxQSEEgPSA8YW55PlwiTFVNSU5BTkNFX0FMUEhBXCIsXG5cbiAgICAgICAgUkdCX1MzVENfRFhUMSA9IDxhbnk+XCJSR0JfUzNUQ19EWFQxXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQxID0gPGFueT5cIlJHQkFfUzNUQ19EWFQxXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQzID0gPGFueT5cIlJHQkFfUzNUQ19EWFQzXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQ1ID0gPGFueT5cIlJHQkFfUzNUQ19EWFQ1XCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVRleHR1cmVUeXBle1xuICAgICAgICBVTlNJR05FRF9CWVRFID0gPGFueT5cIlVOU0lHTkVEX0JZVEVcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlRfNV82XzUgPSA8YW55PlwiVU5TSUdORURfU0hPUlRfNV82XzVcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlRfNF80XzRfNCA9IDxhbnk+XCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCIsXG4gICAgICAgIFVOU0lHTkVEX1NIT1JUXzVfNV81XzEgPSA8YW55PlwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVFbnZNYXBNb2Rle1xuICAgICAgICBCQVNJQyxcbiAgICAgICAgUkVGTEVDVElPTixcbiAgICAgICAgUkVGUkFDVElPTixcbiAgICAgICAgRlJFU05FTFxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZUNvbWJpbmVNb2Rle1xuICAgICAgICBNSVgsXG4gICAgICAgIE1VTFRJUExZLFxuICAgICAgICBBRERcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1hcHBpbmd7XG4gICAgICAgIC8qISBjYW52YXMgbWFwcGluZ1xuICAgICAgICBvcmlnaW4gcG9pbnQgaXMgaW4gbGVmdC11cCBjb3JuZXJcbiAgICAgICAgeSBheGlzIGlzIGRvd25jYXN0XG4gICAgICAgICAqL1xuICAgICAgICBDQU5WQVMsXG4gICAgICAgIFVWXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9ke1xuICAgICAgICBDSEFOR0VfVEVYQ09PUkRTX0lOX0dMU0wsXG4gICAgICAgIERSQVdfSU5fQ0FOVkFTXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlVGFyZ2V0e1xuICAgICAgICBURVhUVVJFXzJEID0gPGFueT5cIlRFWFRVUkVfMkRcIixcbiAgICAgICAgVEVYVFVSRV9DVUJFX01BUCA9IDxhbnk+XCJURVhUVVJFX0NVQkVfTUFQXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExvYWRlck1hbmFnZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhc3NldENvdW50Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBjdXJyZW50TG9hZGVkQ291bnQ6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIF9hc3NldFRhYmxlOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQoYXNzZXRBcnI6QXJyYXk8QXNzZXREYXRhPikgOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQoYXNzZXRBcnI6QXJyYXk8QXNzZXREYXRhPikgOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgbG9hZCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1cmw6c3RyaW5nID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6c3RyaW5nID0gdXJsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUxvYWRTaW5nbGVBc3NldFN0cmVhbSh1cmwsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IGFzc2V0QXJyID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tQXJyYXkoYXNzZXRBcnIpLmZsYXRNYXAoKGFzc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVMb2FkTXVsdGlBc3NldFN0cmVhbShhc3NldC50eXBlIHx8IEVBc3NldFR5cGUuVU5LTk9XLCBhc3NldC51cmwsIGFzc2V0LmlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXRDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2FkZWRDb3VudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgICAgICBMb2FkZXJGYWN0b3J5LmNyZWF0ZUFsbExvYWRlcigpLmZvckVhY2goKGxvYWRlcjpMb2FkZXIpID0+IHtcbiAgICAgICAgICAgICAgICBsb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0KGlkOnN0cmluZyk6YW55e1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuX2Fzc2V0VGFibGUuZ2V0Q2hpbGQoaWQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyID8gbG9hZGVyLmdldChpZCkgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZE11bHRpQXNzZXRTdHJlYW0odHlwZTpFQXNzZXRUeXBlLCB1cmw6c3RyaW5nLCBpZDpzdHJpbmcpO1xuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkTXVsdGlBc3NldFN0cmVhbSh0eXBlOkVBc3NldFR5cGUsIHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpO1xuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRNdWx0aUFzc2V0U3RyZWFtKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHVybCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgaWQgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgIGxvYWRlciA9IHRoaXMuX2dldExvYWRlcih0eXBlLCB1cmwpLFxuICAgICAgICAgICAgICAgIHN0cmVhbSA9IG51bGwsXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKCFsb2FkZXIuaGFzKGlkKSl7XG4gICAgICAgICAgICAgICAgc2VsZi5hc3NldENvdW50ICsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9Bc3NldFRhYmxlKGxvYWRlci5sb2FkKHVybCwgaWQpXG4gICAgICAgICAgICAgICAgLm1hcCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMb2FkZWRDb3VudCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TG9hZGVkQ291bnQ6IHNlbGYuY3VycmVudExvYWRlZENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb3VudDpzZWxmLmFzc2V0Q291bnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLCBpZCwgbG9hZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRTaW5nbGVBc3NldFN0cmVhbSh1cmwsIGlkKXtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLl9nZXRMb2FkZXIoRUFzc2V0VHlwZS5VTktOT1csIHVybCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRUb0Fzc2V0VGFibGUobG9hZGVyLmxvYWQodXJsLCBpZCksIGlkLCBsb2FkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TG9hZGVyKHR5cGU6RUFzc2V0VHlwZSwgdXJsOnN0cmluZyk7XG4gICAgICAgIHByaXZhdGUgX2dldExvYWRlcih0eXBlOkVBc3NldFR5cGUsIHVybDpBcnJheTxzdHJpbmc+KTtcblxuICAgICAgICBwcml2YXRlIF9nZXRMb2FkZXIoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgZXh0bmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQXJyYXkoYXJnc1sxXSkpe1xuICAgICAgICAgICAgICAgIGV4dG5hbWUgPSB3ZENiLlBhdGhVdGlscy5leHRuYW1lKGFyZ3NbMV1bMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBleHRuYW1lID0gd2RDYi5QYXRoVXRpbHMuZXh0bmFtZShhcmdzWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIExvYWRlckZhY3RvcnkuY3JlYXRlKHR5cGUsIGV4dG5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRUb0Fzc2V0VGFibGUobG9hZFN0cmVhbTp3ZEZycC5TdHJlYW0sIGlkOnN0cmluZywgbG9hZGVyOkxvYWRlcik6d2RGcnAuU3RyZWFte1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9hZFN0cmVhbS5kbyhudWxsLCBudWxsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fYXNzZXRUYWJsZS5hZGRDaGlsZChpZCwgbG9hZGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQXNzZXREYXRhID0ge1xuICAgICAgICB0eXBlPzpFQXNzZXRUeXBlLFxuICAgICAgICB1cmw6QXJyYXk8c3RyaW5nPixcbiAgICAgICAgaWQ6c3RyaW5nXG4gICAgfTtcbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTG9hZGVyRmFjdG9yeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodHlwZTpFQXNzZXRUeXBlLCBleHRuYW1lOnN0cmluZykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFQXNzZXRUeXBlLkZPTlQ6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IEZvbnRMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQXNzZXRUeXBlLlVOS05PVzpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gdGhpcy5fZ2V0TG9hZGVyQnlFeHRuYW1lKGV4dG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3ZENiLkxvZy5lcnJvcih0cnVlLCB3ZENiLkxvZy5pbmZvLkZVTkNfVU5LTk9XKGBhc3NldCB0eXBlOiR7dHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGVBbGxMb2FkZXIoKTp3ZENiLkNvbGxlY3Rpb248TG9hZGVyPntcbiAgICAgICAgICAgIHJldHVybiB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPExvYWRlcj4oW0pzTG9hZGVyLmdldEluc3RhbmNlKCksIEdMU0xMb2FkZXIuZ2V0SW5zdGFuY2UoKSwgVGV4dHVyZUxvYWRlci5nZXRJbnN0YW5jZSgpLCBWaWRlb0xvYWRlci5nZXRJbnN0YW5jZSgpLCBGb250TG9hZGVyLmdldEluc3RhbmNlKCksIEZudExvYWRlci5nZXRJbnN0YW5jZSgpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ2V0TG9hZGVyQnlFeHRuYW1lKGV4dG5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV4dG5hbWUpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuanNcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gSnNMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5nbHNsXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IEdMU0xMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5qcGdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmpwZWdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLnBuZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIuZGRzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5naWZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmJtcFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBUZXh0dXJlTG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIubXA0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5vZ3ZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLndlYm1cIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gVmlkZW9Mb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5nbHRmXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IEdMVEZMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi53ZFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBXRExvYWRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmVvdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIudHRmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi53b2ZmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5zdmdcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gRm9udExvYWRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmZudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBGbnRMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5LTk9XKGBleHRuYW1lOiR7ZXh0bmFtZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIEFycmF5QnVmZmVyOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBHTFRGTG9hZGVyIGV4dGVuZHMgTG9hZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nbHRmQXNzZW1ibGVyOkdMVEZBc3NlbWJsZXIgPSBHTFRGQXNzZW1ibGVyLmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9nbHRmUGFyc2VyOkdMVEZQYXJzZXIgPSBHTFRGUGFyc2VyLmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9hcnJheUJ1ZmZlck1hcDp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuICAgICAgICBwcml2YXRlIF9pbWFnZU1hcDp3ZENiLkhhc2g8SFRNTEltYWdlRWxlbWVudD4gPSB3ZENiLkhhc2guY3JlYXRlPEhUTUxJbWFnZUVsZW1lbnQ+KCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGFzc2VydCghSnVkZ2VVdGlscy5pc0FycmF5KGFyZ3NbMF0pLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJ1cmxcIiwgXCJzdHJpbmdcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KC4uLmFyZ3MpOndkRnJwLlN0cmVhbSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBqc29uRGF0YTpJR0xURkpzb25EYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIEFqYXhMb2FkZXIubG9hZCh1cmwsIFwianNvblwiKVxuICAgICAgICAgICAgICAgIC5mbGF0TWFwKChqc29uOklHTFRGSnNvbkRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAganNvbkRhdGEgPSBqc29uO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVMb2FkQWxsQXNzZXRzU3RyZWFtKHVybCwganNvbik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICB3ZEZycC5jYWxsRnVuYygoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9nbHRmQXNzZW1ibGVyLmJ1aWxkKHNlbGYuX2dsdGZQYXJzZXIucGFyc2UoanNvbkRhdGEsIHNlbGYuX2FycmF5QnVmZmVyTWFwLCBzZWxmLl9pbWFnZU1hcCkpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRBbGxBc3NldHNTdHJlYW0odXJsOnN0cmluZywganNvbjpJR0xURkpzb25EYXRhKTp3ZEZycC5TdHJlYW17XG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbUFycmF5KFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlTG9hZEJ1ZmZlcnNTdHJlYW0odXJsLCBqc29uKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlTG9hZEltYWdlQXNzZXRTdHJlYW0odXJsLCBqc29uKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLm1lcmdlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkQnVmZmVyc1N0cmVhbShmaWxlUGF0aDpzdHJpbmcsIGpzb246SUdMVEZKc29uRGF0YSk6d2RGcnAuU3RyZWFte1xuICAgICAgICAgICAgdmFyIGFycmF5QnVmZmVyTWFwID0gdGhpcy5fYXJyYXlCdWZmZXJNYXA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVMb2FkQXNzZXRTdHJlYW0oZmlsZVBhdGgsIGpzb24sIGpzb24uYnVmZmVycywgYXJyYXlCdWZmZXJNYXAsIChpZCwgdXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBamF4TG9hZGVyLmxvYWQodXJsLCBcImFycmF5YnVmZmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZG8oKGJ1ZmZlcjphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IoIShidWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKGBCdWZmZXI6JHtpZH1gLCBcImJlIGFuIGFycmF5IGJ1ZmZlclwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKGJ1ZmZlci5ieXRlTGVuZ3RoICE9PSBidWZmZXIuYnl0ZUxlbmd0aCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYEJ1ZmZlcjoke2lkfSdzIGxlbmd0aCBpcyAke2J1ZmZlci5ieXRlTGVuZ3RofSwgYnV0IGl0YCwgYGJlICR7YnVmZmVyLmJ5dGVMZW5ndGh9YCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlCdWZmZXJNYXAuYWRkQ2hpbGQoaWQsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZEltYWdlQXNzZXRTdHJlYW0oZmlsZVBhdGg6c3RyaW5nLCBqc29uOklHTFRGSnNvbkRhdGEpOndkRnJwLlN0cmVhbXtcbiAgICAgICAgICAgIHZhciBpbWFnZU1hcCA9IHRoaXMuX2ltYWdlTWFwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlTG9hZEFzc2V0U3RyZWFtKGZpbGVQYXRoLCBqc29uLCBqc29uLmltYWdlcywgaW1hZ2VNYXAsIChpZCwgdXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJbWFnZUxvYWRlci5sb2FkKHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kbygoaW1hZ2U6SFRNTEltYWdlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlTWFwLmFkZENoaWxkKGlkLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZEFzc2V0U3RyZWFtKGZpbGVQYXRoOnN0cmluZywganNvbjpJR0xURkpzb25EYXRhLCBkYXRhczphbnksIGRhdGFNYXA6d2RDYi5IYXNoPGFueT4sIGxvYWRTdHJlYW1GdW5jOihpZDpzdHJpbmcsIHVybDpzdHJpbmcpID0+IHdkRnJwLlN0cmVhbSk6d2RGcnAuU3RyZWFte1xuICAgICAgICAgICAgdmFyIHN0cmVhbUFyciA9IFtdO1xuXG4gICAgICAgICAgICBpZihkYXRhcyl7XG4gICAgICAgICAgICAgICAgbGV0IGlkOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBmb3IoaWQgaW4gZGF0YXMpe1xuICAgICAgICAgICAgICAgICAgICBpZihkYXRhcy5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBkYXRhc1tpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEdMVEZVdGlscy5pc0Jhc2U2NChkYXRhLnVyaSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFNYXAuYWRkQ2hpbGQoaWQsIEdMVEZVdGlscy5kZWNvZGVBcnJheUJ1ZmZlcihkYXRhLnVyaSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gTW9kZWxMb2FkZXJVdGlscy5nZXRQYXRoKGZpbGVQYXRoLCBkYXRhLnVyaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1BcnIucHVzaChsb2FkU3RyZWFtRnVuYyhpZCwgdXJsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tQXJyYXkoc3RyZWFtQXJyKS5tZXJnZUFsbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBHTFRGQXNzZW1ibGVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZXN1bHQ6d2RDYi5IYXNoPElHTFRGUmVzdWx0PiA9IHdkQ2IuSGFzaC5jcmVhdGU8SUdMVEZSZXN1bHQ+KCk7XG5cbiAgICAgICAgcHVibGljIGJ1aWxkKHBhcnNlRGF0YTpJR0xURlBhcnNlRGF0YSl7XG4gICAgICAgICAgICB0aGlzLl9idWlsZE1ldGFkYXRhKHBhcnNlRGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9idWlsZE1vZGVscyhwYXJzZURhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRNZXRhZGF0YShwYXJzZURhdGE6SUdMVEZQYXJzZURhdGEpe1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG5cbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiBwYXJzZURhdGEubWV0YWRhdGEpe1xuICAgICAgICAgICAgICAgIGlmKHBhcnNlRGF0YS5tZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShpKSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmFkZENoaWxkKGksIHBhcnNlRGF0YS5tZXRhZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuYWRkQ2hpbGQoXCJtZXRhZGF0YVwiLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZE1vZGVscyhwYXJzZURhdGE6SUdMVEZQYXJzZURhdGEpe1xuICAgICAgICAgICAgdmFyIG1vZGVscyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBidWlsZCA9IChvYmplY3Q6SUdMVEZPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gR2FtZU9iamVjdC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmKG9iamVjdC5uYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwubmFtZSA9IG9iamVjdC5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzTW9kZWxDb250YWluZXIob2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZFRhZyg8YW55PkVXRFRhZy5DT05UQUlORVIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuX2FkZENvbXBvbmVudHMobW9kZWwsIG9iamVjdC5jb21wb25lbnRzKTtcblxuICAgICAgICAgICAgICAgIG1vZGVsLmFkZENvbXBvbmVudChNZXNoUmVuZGVyZXIuY3JlYXRlKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0LmNoaWxkcmVuKXtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOklHTFRGT2JqZWN0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYWRkQ2hpbGQoYnVpbGQoY2hpbGQpKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZighcGFyc2VEYXRhLm9iamVjdHMpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyc2VEYXRhLm9iamVjdHMuZm9yRWFjaCgob2JqZWN0OklHTFRGT2JqZWN0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIG1vZGVscy5hZGRDaGlsZChidWlsZChvYmplY3QpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuYWRkQ2hpbGQoXCJtb2RlbHNcIiwgbW9kZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTW9kZWxDb250YWluZXIob2JqZWN0OklHTFRGT2JqZWN0RGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlzQ29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkQ29tcG9uZW50cyhtb2RlbDpHYW1lT2JqZWN0LCBjb21wb25lbnRzOndkQ2IuQ29sbGVjdGlvbjxJR0xURkNvbXBvbmVudD4pe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudDpJR0xURkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzVHJhbnNmb3JtKGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC50cmFuc2Zvcm0gPSBzZWxmLl9jcmVhdGVUcmFuc2Zvcm0oPElHTFRGVHJhbnNmb3JtPmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoc2VsZi5faXNDYW1lcmEoY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZENvbXBvbmVudChzZWxmLl9jcmVhdGVDYW1lcmEoPElHTFRGQ2FtZXJhPmNvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbGYuX2lzTGlnaHQoY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZENvbXBvbmVudChzZWxmLl9jcmVhdGVMaWdodCg8YW55PmNvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbGYuX2lzR2VvbWV0cnkoY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZENvbXBvbmVudChzZWxmLl9jcmVhdGVHZW9tZXRyeSg8YW55PmNvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbGYuX2lzQXJ0aWN1bGF0ZWRBbmltYXRpb24oY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZENvbXBvbmVudChzZWxmLl9jcmVhdGVBcnRpY3VsYXRlZEFuaW1hdGlvbig8YW55PmNvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNUcmFuc2Zvcm0oY29tcG9uZW50OmFueSl7XG4gICAgICAgICAgICByZXR1cm4gISFjb21wb25lbnQubWF0cml4IHx8ICEhY29tcG9uZW50LnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDYW1lcmEoY29tcG9uZW50OmFueSl7XG4gICAgICAgICAgICByZXR1cm4gISFjb21wb25lbnQuY2FtZXJhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNMaWdodChjb21wb25lbnQ6YW55KXtcbiAgICAgICAgICAgIHJldHVybiAhIWNvbXBvbmVudC5saWdodENvbG9yICYmICEhY29tcG9uZW50LnR5cGVcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzR2VvbWV0cnkoY29tcG9uZW50OmFueSl7XG4gICAgICAgICAgICByZXR1cm4gISFjb21wb25lbnQubWF0ZXJpYWw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0FydGljdWxhdGVkQW5pbWF0aW9uKGNvbXBvbmVudDphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIEdMVEZVdGlscy5pc0lHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb24oY29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZVRyYW5zZm9ybShjb21wb25lbnQ6SUdMVEZUcmFuc2Zvcm0pe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybTpUaHJlZURUcmFuc2Zvcm0gPSBUaHJlZURUcmFuc2Zvcm0uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGlmKGNvbXBvbmVudC5tYXRyaXgpe1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IGNvbXBvbmVudC5tYXRyaXguZ2V0VHJhbnNsYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBjb21wb25lbnQubWF0cml4LmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gY29tcG9uZW50Lm1hdHJpeC5nZXRTY2FsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBjb21wb25lbnQucG9zaXRpb247XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gY29tcG9uZW50LnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IGNvbXBvbmVudC5zY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUNhbWVyYShjb21wb25lbnQ6SUdMVEZDYW1lcmEpe1xuICAgICAgICAgICAgcmV0dXJuIEJhc2ljQ2FtZXJhQ29udHJvbGxlci5jcmVhdGUoY29tcG9uZW50LmNhbWVyYSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVMaWdodChjb21wb25lbnQ6SUdMVEZMaWdodCZJR0xURlBvaW50TGlnaHQmSUdMVEZBbWJpZW50TGlnaHQmSUdMVEZEaXJlY3Rpb25MaWdodCl7XG4gICAgICAgICAgICB2YXIgbGlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbXBvbmVudC50eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYW1iaWVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsaWdodCA9IEFtYmllbnRMaWdodC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaWdodC5jb2xvciA9IGNvbXBvbmVudC5saWdodENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlyZWN0aW9uYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQgPSBEaXJlY3Rpb25MaWdodC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaWdodC5jb2xvciA9IGNvbXBvbmVudC5saWdodENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQgPSBQb2ludExpZ2h0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0LmNvbG9yID0gY29tcG9uZW50LmxpZ2h0Q29sb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobGlnaHQsIFwicmFuZ2VcIiwgY29tcG9uZW50LmRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobGlnaHQsIFwiY29uc3RhbnRcIiwgY29tcG9uZW50LmNvbnN0YW50QXR0ZW51YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShsaWdodCwgXCJsaW5lYXJcIiwgY29tcG9uZW50LmxpbmVhckF0dGVudWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobGlnaHQsIFwicXVhZHJhdGljXCIsIGNvbXBvbmVudC5xdWFkcmF0aWNBdHRlbnVhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vdG9kbyBzdXBwb3J0IHNwb3RcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUdlb21ldHJ5KGNvbXBvbmVudDpJR0xURkdlb21ldHJ5KXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IE1vZGVsR2VvbWV0cnkuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzID0gY29tcG9uZW50LnZlcnRpY2VzO1xuICAgICAgICAgICAgZ2VvbWV0cnkuZmFjZXMgPSBjb21wb25lbnQuZmFjZXM7XG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJjb2xvcnNcIiwgY29tcG9uZW50LmNvbG9ycyk7XG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJ0ZXhDb29yZHNcIiwgY29tcG9uZW50LnRleENvb3Jkcyk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LmRyYXdNb2RlID0gY29tcG9uZW50LmRyYXdNb2RlO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5tYXRlcmlhbCA9IHRoaXMuX2NyZWF0ZU1hdGVyaWFsKGNvbXBvbmVudC5tYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBzdXBwb3J0IG1vcnBoIHRhcmdldHNcblxuICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTWF0ZXJpYWwobWF0ZXJpYWxEYXRhOklHTFRGTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsOk1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChtYXRlcmlhbERhdGEudHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJhc2ljTWF0ZXJpYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSB0aGlzLl9jcmVhdGVCYXNpY01hdGVyaWFsKDxJR0xURkJhc2ljTWF0ZXJpYWw+bWF0ZXJpYWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxpZ2h0TWF0ZXJpYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSB0aGlzLl9jcmVhdGVMaWdodE1hdGVyaWFsKDxJR0xURkxpZ2h0TWF0ZXJpYWw+bWF0ZXJpYWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYG1hdGVyaWFsIHR5cGU6JHttYXRlcmlhbERhdGEudHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVCYXNpY01hdGVyaWFsKG1hdGVyaWFsRGF0YTpJR0xURkJhc2ljTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gQmFzaWNNYXRlcmlhbC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0QmFzaWNEYXRhT2ZNYXRlcmlhbChtYXRlcmlhbCwgbWF0ZXJpYWxEYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTGlnaHRNYXRlcmlhbChtYXRlcmlhbERhdGE6SUdMVEZMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IExpZ2h0TWF0ZXJpYWwuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldEJhc2ljRGF0YU9mTWF0ZXJpYWwobWF0ZXJpYWwsIG1hdGVyaWFsRGF0YSk7XG5cbiAgICAgICAgICAgIGlmKCEhbWF0ZXJpYWxEYXRhLnRyYW5zcGFyZW50ICYmIG1hdGVyaWFsRGF0YS50cmFuc3BhcmVudCA9PT0gdHJ1ZSAmJiBtYXRlcmlhbERhdGEub3BhY2l0eSl7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IG1hdGVyaWFsRGF0YS5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihtYXRlcmlhbERhdGEubGlnaHRNb2RlbCA9PT0gRUxpZ2h0TW9kZWwuTEFNQkVSVCl7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwiTEFNQkVSVCBsaWdodCBtb2RlbCwgdXNlIFBIT05HIGxpZ2h0IG1vZGVsIGluc3RlYWRcIikpO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmxpZ2h0TW9kZWwgPSBFTGlnaHRNb2RlbC5QSE9ORztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwubGlnaHRNb2RlbCA9IG1hdGVyaWFsRGF0YS5saWdodE1vZGVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShtYXRlcmlhbCwgXCJjb2xvclwiLCBtYXRlcmlhbERhdGEuZGlmZnVzZUNvbG9yKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInNwZWN1bGFyQ29sb3JcIiwgbWF0ZXJpYWxEYXRhLnNwZWN1bGFyQ29sb3IpO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobWF0ZXJpYWwsIFwiZW1pc3Npb25Db2xvclwiLCBtYXRlcmlhbERhdGEuZW1pc3Npb25Db2xvcik7XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImRpZmZ1c2VNYXBcIiwgbWF0ZXJpYWxEYXRhLmRpZmZ1c2VNYXApO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobWF0ZXJpYWwsIFwic3BlY3VsYXJNYXBcIiwgbWF0ZXJpYWxEYXRhLnNwZWN1bGFyTWFwKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImVtaXNzaW9uTWFwXCIsIG1hdGVyaWFsRGF0YS5lbWlzc2lvbk1hcCk7XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInNoaW5pbmVzc1wiLCBtYXRlcmlhbERhdGEuc2hpbmluZXNzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0QmFzaWNEYXRhT2ZNYXRlcmlhbChtYXRlcmlhbDpNYXRlcmlhbCwgbWF0ZXJpYWxEYXRhOklHTFRGTWF0ZXJpYWwpe1xuICAgICAgICAgICAgaWYoISFtYXRlcmlhbERhdGEuZG91YmxlU2lkZWQgJiYgbWF0ZXJpYWxEYXRhLmRvdWJsZVNpZGVkID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5zaWRlID0gRVNpZGUuQk9USDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IEVTaWRlLkZST05UO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQXJ0aWN1bGF0ZWRBbmltYXRpb24oY29tcG9uZW50OklHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb24pe1xuICAgICAgICAgICAgIHZhciBhbmltID0gQXJ0aWN1bGF0ZWRBbmltYXRpb24uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGFuaW0uZGF0YSA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPElHTFRGS2V5RnJhbWVEYXRhPj4oY29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFuaW07XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgQXJyYXlCdWZmZXI6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEdMVEZQYXJzZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kYXRhOklHTFRGUGFyc2VEYXRhID0gPGFueT57fTtcbiAgICAgICAgcHJpdmF0ZSBfYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbWFnZU1hcDp3ZENiLkhhc2g8SFRNTEltYWdlRWxlbWVudD4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9qc29uOklHTFRGSnNvbkRhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9nZW9tZXRyeVBhcnNlciA9IEdMVEZHZW9tZXRyeVBhcnNlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfYXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIgPSBHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246SUdMVEZKc29uRGF0YSwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4sIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6SUdMVEZQYXJzZURhdGF7XG4gICAgICAgICAgICB0aGlzLl9qc29uID0ganNvbjtcblxuICAgICAgICAgICAgdGhpcy5fYXJyYXlCdWZmZXJNYXAgPSBhcnJheUJ1ZmZlck1hcDtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlTWFwID0gaW1hZ2VNYXA7XG5cbiAgICAgICAgICAgIGlmKGpzb24uYXNzZXQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlTWV0YWRhdGEoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcGFyc2VPYmplY3RzKCk7XG5cbiAgICAgICAgICAgIGlmKGpzb24uYW5pbWF0aW9ucyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIucGFyc2UoanNvbiwgdGhpcy5fZGF0YS5vYmplY3RzLCB0aGlzLl9hcnJheUJ1ZmZlck1hcClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZU1ldGFkYXRhKCl7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSA8YW55Pnt9LFxuICAgICAgICAgICAgICAgIGpzb24gPSB0aGlzLl9qc29uO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4ganNvbi5hc3NldCl7XG4gICAgICAgICAgICAgICAgaWYoanNvbi5hc3NldC5oYXNPd25Qcm9wZXJ0eShpKSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhW2ldID0ganNvbi5hc3NldFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlT2JqZWN0cygpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGpzb24gPSB0aGlzLl9qc29uLFxuICAgICAgICAgICAgICAgIG9iamVjdHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPElHTFRGT2JqZWN0RGF0YT4oKTtcbiAgICAgICAgICAgIHZhciBwYXJzZSA9IChub2RlSWQ6c3RyaW5nLCBub2RlOklHTFRGTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3Q6SUdMVEZPYmplY3REYXRhID0gR0xURlV0aWxzLmNyZWF0ZU9iamVjdERhdGEoKTtcblxuICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IG5vZGVJZDtcblxuICAgICAgICAgICAgICAgIGlmKG5vZGUubmFtZSl7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUubWVzaGVzICYmIG5vZGUubWVzaGVzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzaDpJR0xURk1lc2ggPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUubWVzaGVzLmxlbmd0aCA+IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcIm11bHRpIG1lc2goZ2VvbWV0cnkpLCBqdXN0IHVzZSB0aGUgZmlyc3QgbWVzaChnZW9tZXRyeSlcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWVzaCA9IGpzb24ubWVzaGVzW25vZGUubWVzaGVzWzBdXTtcblxuICAgICAgICAgICAgICAgICAgICBpZighbm9kZS5uYW1lICYmIG1lc2gubmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IG1lc2gubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dlb21ldHJ5UGFyc2VyLnBhcnNlKGpzb24sIG9iamVjdCwgbWVzaCwgc2VsZi5fYXJyYXlCdWZmZXJNYXAsIHNlbGYuX2ltYWdlTWFwKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUuZXh0ZW5zaW9ucyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuZXh0ZW5zaW9uc1tcIktIUl9tYXRlcmlhbHNfY29tbW9uXCJdICYmIG5vZGUuZXh0ZW5zaW9uc1tcIktIUl9tYXRlcmlhbHNfY29tbW9uXCJdLmxpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHNlbGYuX3BhcnNlTGlnaHQobm9kZS5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUuY2FtZXJhKXtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbXBvbmVudHMuYWRkQ2hpbGQoc2VsZi5fcGFyc2VDYW1lcmEobm9kZS5jYW1lcmEpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihub2RlLm1hdHJpeCl7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHNlbGYuX3BhcnNlVHJhbnNmb3JtKG5vZGUubWF0cml4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYobm9kZS5yb3RhdGlvbiAmJiBub2RlLnNjYWxlICYmIG5vZGUudHJhbnNsYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29tcG9uZW50cy5hZGRDaGlsZChzZWxmLl9wYXJzZVRyYW5zZm9ybShub2RlLnRyYW5zbGF0aW9uLCBub2RlLnJvdGF0aW9uLCBub2RlLnNjYWxlKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYobm9kZS5jaGlsZHJlbil7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgY2hpbGRJZCBvZiBub2RlLmNoaWxkcmVuKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5hZGRDaGlsZChwYXJzZShjaGlsZElkLCBqc29uLm5vZGVzW2NoaWxkSWRdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighanNvbi5zY2VuZXNbanNvbi5zY2VuZV0pe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEub2JqZWN0cyA9IG9iamVjdHM7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgbm9kZUlkIG9mIGpzb24uc2NlbmVzW2pzb24uc2NlbmVdLm5vZGVzKXtcbiAgICAgICAgICAgICAgICBvYmplY3RzLmFkZENoaWxkKHBhcnNlKG5vZGVJZCwganNvbi5ub2Rlc1tub2RlSWRdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEub2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihsaWdodElkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgbGlnaHRzID0gdGhpcy5fanNvbi5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHRzO1xuICAgICAgICAgICAgYXNzZXJ0KGxpZ2h0cyAmJiBsaWdodHNbbGlnaHRJZF0sIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBsaWdodElkOiR7bGlnaHRJZH1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3BhcnNlTGlnaHQobGlnaHRJZDpzdHJpbmcpOklHTFRGTGlnaHR7XG4gICAgICAgICAgICB2YXIgbGlnaHREYXRhID0gdGhpcy5fanNvbi5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHRzW2xpZ2h0SWRdLFxuICAgICAgICAgICAgICAgIGxpZ2h0OklHTFRGTGlnaHQgPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICAvL3RvZG8gaW50ZW5zaXR5IGRhdGE/XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcInR5cGVcIiwgbGlnaHREYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUxpZ2h0RGF0YUJ5VHlwZShsaWdodCwgbGlnaHREYXRhLCBsaWdodC50eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VMaWdodERhdGFCeVR5cGUobGlnaHQ6SUdMVEZMaWdodCwgbGlnaHREYXRhOmFueSwgdHlwZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBsaWdodERhdGFbdHlwZV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFtYmllbnRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlyZWN0aW9uYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQubGlnaHRDb2xvciA9IEdMVEZVdGlscy5nZXRDb2xvcihkYXRhLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0LmxpZ2h0Q29sb3IgPSBHTFRGVXRpbHMuZ2V0Q29sb3IoZGF0YS5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcImRpc3RhbmNlXCIsIGRhdGEuZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShsaWdodCwgXCJjb25zdGFudEF0dGVudWF0aW9uXCIsIGRhdGEuY29uc3RhbnRBdHRlbnVhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcImxpbmVhckF0dGVudWF0aW9uXCIsIGRhdGEubGluZWFyQXR0ZW51YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShsaWdodCwgXCJxdWFkcmF0aWNBdHRlbnVhdGlvblwiLCBkYXRhLnF1YWRyYXRpY0F0dGVudWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgc3BvdFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGNhbWVyYUlkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgY2FtZXJhcyA9IHRoaXMuX2pzb24uY2FtZXJhcztcbiAgICAgICAgICAgIGFzc2VydChjYW1lcmFzICYmIGNhbWVyYXNbY2FtZXJhSWRdLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChgY2FtZXJhSWQ6JHtjYW1lcmFJZH1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3BhcnNlQ2FtZXJhKGNhbWVyYUlkOnN0cmluZyk6SUdMVEZDYW1lcmF7XG4gICAgICAgICAgICB2YXIgY2FtZXJhRGF0YSA9IHRoaXMuX2pzb24uY2FtZXJhc1tjYW1lcmFJZF0sXG4gICAgICAgICAgICAgICAgY2FtZXJhOklHTFRGQ2FtZXJhID0gPGFueT57fTtcblxuICAgICAgICAgICAgLy90b2RvIGludGVuc2l0eSBkYXRhP1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNhbWVyYURhdGFCeVR5cGUoY2FtZXJhLCBjYW1lcmFEYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlQ2FtZXJhRGF0YUJ5VHlwZShjYW1lcmE6SUdMVEZDYW1lcmEsIGNhbWVyYURhdGE6YW55KXtcbiAgICAgICAgICAgIHZhciBjYW1lcmFDb21wb25lbnQ6YW55ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0eXBlID0gY2FtZXJhRGF0YS50eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6YW55ID0gY2FtZXJhRGF0YVt0eXBlXTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwicGVyc3BlY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGNhbWVyYURhdGFbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudCA9IFBlcnNwZWN0aXZlQ2FtZXJhLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5uZWFyID0gZGF0YS56bmVhcjtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmZhciA9IGRhdGEuemZhcjtcblxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmFzcGVjdFJhdGlvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5hc3BlY3QgPSBkYXRhLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmlldyA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQuYXNwZWN0ID0gdmlldy53aWR0aCAvIHZpZXcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmZvdnkgPSBkYXRhLnlmb3Y7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9ydGhvZ3JhcGhpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQgPSBPcnRob2dyYXBoaWNDYW1lcmEuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50Lm5lYXIgPSBkYXRhLnpuZWFyO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQuZmFyID0gZGF0YS56ZmFyO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQubGVmdCA9IC1kYXRhLnhtYWc7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5yaWdodCA9IGRhdGEueG1hZztcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LnRvcCA9IGRhdGEueW1hZztcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmJvdHRvbSA9IC1kYXRhLnltYWc7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYGNhbWVyYSB0eXBlOiR7dHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VUcmFuc2Zvcm0obWF0cml4OkFycmF5PG51bWJlcj4pO1xuICAgICAgICBwcml2YXRlIF9wYXJzZVRyYW5zZm9ybSh0cmFuc2xhdGlvbjpBcnJheTxudW1iZXI+LCByb3RhdGlvbjpBcnJheTxudW1iZXI+LCBzY2FsZTpBcnJheTxudW1iZXI+KTtcblxuICAgICAgICBwcml2YXRlIF9wYXJzZVRyYW5zZm9ybSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm06SUdMVEZUcmFuc2Zvcm0gPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IG1hdHJpeDpBcnJheTxudW1iZXI+ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5tYXRyaXggPSBNYXRyaXg0LmNyZWF0ZShuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0aW9uOkFycmF5PG51bWJlcj4gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjpBcnJheTxudW1iZXI+ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6QXJyYXk8bnVtYmVyPiA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZSh0cmFuc2xhdGlvblswXSwgdHJhbnNsYXRpb25bMV0sIHRyYW5zbGF0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZShyb3RhdGlvblswXSwgcm90YXRpb25bMV0sIHJvdGF0aW9uWzJdLCByb3RhdGlvblszXSk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgR0xURkdlb21ldHJ5UGFyc2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbWFnZU1hcDp3ZENiLkhhc2g8SFRNTEltYWdlRWxlbWVudD4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9qc29uOklHTFRGSnNvbkRhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tYXRlcmlhbFBhcnNlciA9IEdMVEZNYXRlcmlhbFBhcnNlci5jcmVhdGUoKTtcblxuICAgICAgICBwdWJsaWMgcGFyc2UoanNvbjpJR0xURkpzb25EYXRhLCBvYmplY3Q6SUdMVEZPYmplY3REYXRhLCBtZXNoOklHTFRGTWVzaCwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4sIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuX2pzb24gPSBqc29uO1xuICAgICAgICAgICAgdGhpcy5fYXJyYXlCdWZmZXJNYXAgPSBhcnJheUJ1ZmZlck1hcDtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlTWFwID0gaW1hZ2VNYXA7XG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgaWYgbWVzaC0+cHJpbWl0aXZlcyBoYXMgbXVsdGkgb25lcywgdGhleSBzaG91bGQgYXMgdGhlIGNoaWxkcmVuIG9mIHRoZSBub2RlKG9uZSBwcmltaXRpdmUgYXMgb25lIGNoaWxkKVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmKG1lc2gucHJpbWl0aXZlcy5sZW5ndGggPiAxKXtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRPYmplY3Q6SUdMVEZPYmplY3REYXRhID0gR0xURlV0aWxzLmNyZWF0ZU9iamVjdERhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDaGlsZE9iamVjdE5hbWVXaXRoTXVsdGlQcmltaXRpdmVzKGNoaWxkT2JqZWN0LCBwcmltaXRpdmUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkT2JqZWN0LmNvbXBvbmVudHMuYWRkQ2hpbGQodGhpcy5fcGFyc2VHZW9tZXRyeShwcmltaXRpdmUpKTtcblxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4uYWRkQ2hpbGQoY2hpbGRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG1lc2gucHJpbWl0aXZlcy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHRoaXMuX3BhcnNlR2VvbWV0cnkobWVzaC5wcmltaXRpdmVzWzBdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q2hpbGRPYmplY3ROYW1lV2l0aE11bHRpUHJpbWl0aXZlcyhvYmplY3Q6SUdMVEZPYmplY3REYXRhLCBwcmltaXRpdmU6SUdMVEZNZXNoUHJpbWl0aXZlKXtcbiAgICAgICAgICAgIG9iamVjdC5uYW1lID0gcHJpbWl0aXZlLm1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VHZW9tZXRyeSggcHJpbWl0aXZlOklHTFRGTWVzaFByaW1pdGl2ZSk6SUdMVEZHZW9tZXRyeXtcbiAgICAgICAgICAgIHZhciBqc29uOklHTFRGSnNvbkRhdGEgPSB0aGlzLl9qc29uLFxuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyTWFwID0gdGhpcy5fYXJyYXlCdWZmZXJNYXAsXG4gICAgICAgICAgICAgICAgYWNjZXNzb3I6SUdMVEZBY2Nlc3NvciA9IG51bGwsXG4gICAgICAgICAgICAgICAgYnVmZmVyQXJyOmFueSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6SUdMVEZHZW9tZXRyeSA9IDxhbnk+e30sXG4gICAgICAgICAgICAgICAgdmVydGljZXM6QXJyYXk8bnVtYmVyPiA9IG51bGwsXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4gPSBudWxsLFxuICAgICAgICAgICAgICAgIGNvbG9yczpBcnJheTxudW1iZXI+ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBub3JtYWxzOkFycmF5PG51bWJlcj4gPSBudWxsLFxuICAgICAgICAgICAgICAgIGZhY2VzOkFycmF5PEZhY2UzPiA9IG51bGw7XG5cblxuICAgICAgICAgICAgLy90b2RvIHJlYWQgYWNjZXNzb3ItPmJ5dGVTdHJpZGUgZm9yIGJhdGNoIGRyYXcgY2FsbHNcblxuICAgICAgICAgICAgZm9yKGxldCBzZW1hbnRpYyBpbiBwcmltaXRpdmUuYXR0cmlidXRlcyl7XG4gICAgICAgICAgICAgICAgaWYocHJpbWl0aXZlLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoc2VtYW50aWMpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IHByaW1pdGl2ZS5hdHRyaWJ1dGVzW3NlbWFudGljXTtcblxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvciA9IGpzb24uYWNjZXNzb3JzW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckFyciA9IEdMVEZVdGlscy5nZXRCdWZmZXJBcnJGcm9tQWNjZXNzb3IoanNvbiwgYWNjZXNzb3IsIGFycmF5QnVmZmVyTWFwKTtcblxuICAgICAgICAgICAgICAgICAgICBpZihzZW1hbnRpYyA9PT0gXCJQT1NJVElPTlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdlb21ldHJ5RGF0YSh2ZXJ0aWNlcywgYnVmZmVyQXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbWFudGljLmluZGV4T2YoXCJURVhDT09SRF9cIikgPiAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkR2VvbWV0cnlEYXRhKHRleENvb3JkcywgYnVmZmVyQXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9ybWFsaXplVGV4Q29vcmRzKHRleENvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzZW1hbnRpYyA9PT0gXCJOT1JNQUxcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBidWZmZXJBcnIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbWFudGljID09PSBcIkNPTE9SXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdlb21ldHJ5RGF0YShjb2xvcnMsIGJ1ZmZlckFycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgSk9JTlQsIFdFSUdIVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmYWNlcyA9IHRoaXMuX2dldEZhY2VzKGpzb24sIHByaW1pdGl2ZS5pbmRpY2VzLCBub3JtYWxzKTtcblxuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJ2ZXJ0aWNlc1wiLCB2ZXJ0aWNlcyk7XG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJjb2xvcnNcIiwgY29sb3JzKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGdlb21ldHJ5LCBcInRleENvb3Jkc1wiLCB0ZXhDb29yZHMpO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEoZ2VvbWV0cnksIFwiZmFjZXNcIiwgZmFjZXMpO1xuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJkcmF3TW9kZVwiLCB0aGlzLl9wYXJzZURyYXdNb2RlKHByaW1pdGl2ZS5tb2RlKSk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5Lm1hdGVyaWFsID0gdGhpcy5fbWF0ZXJpYWxQYXJzZXIucGFyc2UoanNvbiwgcHJpbWl0aXZlLm1hdGVyaWFsLCB0aGlzLl9pbWFnZU1hcCk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZEdlb21ldHJ5RGF0YShnZW9tZXRyeURhdGE6QXJyYXk8bnVtYmVyPiwgc291cmNlRGF0YTpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IHNvdXJjZURhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5wdXNoKHNvdXJjZURhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oanNvbjpJR0xURkpzb25EYXRhLCBpbmRpY2VzOnN0cmluZywgbm9ybWFsczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvcjpJR0xURkFjY2Vzc29yID0gbnVsbCxcbiAgICAgICAgICAgICAgICBidWZmZXJBcnI6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoIWluZGljZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWNjZXNzb3IgPSBqc29uLmFjY2Vzc29yc1tpbmRpY2VzXTtcblxuICAgICAgICAgICAgYnVmZmVyQXJyID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uLCBhY2Nlc3NvciwgdGhpcy5fYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICBhc3NlcnQoYnVmZmVyQXJyLmxlbmd0aCAlIDMgPT09IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiaW5kaWNlcycgY291bnRcIiwgXCIzIHRpbWVzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0RmFjZXMoanNvbjpJR0xURkpzb25EYXRhLCBpbmRpY2VzOnN0cmluZywgbm9ybWFsczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvcjpJR0xURkFjY2Vzc29yID0gbnVsbCxcbiAgICAgICAgICAgICAgICBidWZmZXJBcnI6YW55ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNlOkZhY2UzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNlczpBcnJheTxGYWNlMz4gPSBbXTtcblxuICAgICAgICAgICAgaWYoIWluZGljZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWNjZXNzb3IgPSBqc29uLmFjY2Vzc29yc1tpbmRpY2VzXTtcblxuICAgICAgICAgICAgYnVmZmVyQXJyID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uLCBhY2Nlc3NvciwgdGhpcy5fYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYnVmZmVyQXJyLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFJbmRleCA9IGJ1ZmZlckFycltpXSxcbiAgICAgICAgICAgICAgICAgICAgYkluZGV4ID0gYnVmZmVyQXJyW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgY0luZGV4ID0gYnVmZmVyQXJyW2kgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZUluZGljZUFyciA9IFthSW5kZXgsIGJJbmRleCwgY0luZGV4XTtcblxuICAgICAgICAgICAgICAgIGZhY2UgPSBGYWNlMy5jcmVhdGUoYUluZGV4LCBiSW5kZXgsIGNJbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG5vcm1hbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5vcm1hbERhdGEoZmFjZS52ZXJ0ZXhOb3JtYWxzLCBub3JtYWxzLCB2ZXJ0aWNlSW5kaWNlQXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmYWNlcy5wdXNoKGZhY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFjZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGROb3JtYWxEYXRhKHRhcmdldE5vcm1hbHM6d2RDYi5Db2xsZWN0aW9uPFZlY3RvcjM+LCBzb3VyY2VOb3JtYWxzOkFycmF5PG51bWJlcj4sIG5vcm1hbEluZGljZUFycjpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICBsZXQgW2FJbmRleCwgYkluZGV4LCBjSW5kZXhdID0gbm9ybWFsSW5kaWNlQXJyO1xuXG4gICAgICAgICAgICB0YXJnZXROb3JtYWxzLmFkZENoaWxkcmVuKFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGFJbmRleCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBiSW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgY0luZGV4KVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlRGF0YTpBcnJheTxudW1iZXI+LCBpbmRleDpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gMyAqIGluZGV4O1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc291cmNlRGF0YVtzdGFydEluZGV4XSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAxXSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAyXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlRHJhd01vZGUobW9kZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGRyYXdNb2RlOkVEcmF3TW9kZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCFtb2RlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoKG1vZGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgZHJhd01vZGUgPSBFRHJhd01vZGUuUE9JTlRTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLkxJTkVTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLkxJTkVfTE9PUDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5MSU5FX1NUUklQO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLlRSSUFOR0xFUztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRV9TVFJJUDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5UUkFOR0xFX0ZBTjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYG1vZGU6JHttb2RlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkcmF3TW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX25vcm1hbGl6ZVRleENvb3Jkcyh0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICBpZiAoIXRleENvb3Jkcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRleENvb3Jkcy5sZW5ndGggLyAyOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHNbaSAqIDIgKyAxXSA9IDEuMCAtIHRleENvb3Jkc1tpICogMiArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMVEZNYXRlcmlhbFBhcnNlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2pzb246SUdMVEZKc29uRGF0YSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246SUdMVEZKc29uRGF0YSwgbWF0ZXJpYWxJZDpzdHJpbmcsIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6SUdMVEZNYXRlcmlhbHtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbERhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fanNvbiA9IGpzb247XG4gICAgICAgICAgICB0aGlzLl9pbWFnZU1hcCA9IGltYWdlTWFwO1xuXG4gICAgICAgICAgICBpZighdGhpcy5faXNVc2VLSFJNYXRlcmlhbEV4dGVuc2lvbigpKXtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwibm8gS0hSX21hdGVyaWFsc19jb21tb24gZXh0ZW5zaW9uIGZvdW5kLCB3aWxsIHVzZSBkZWZhdWx0IG1hdGVyaWFsIGluc3RlYWRcIik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWF0ZXJpYWw6SUdMVEZCYXNpY01hdGVyaWFsID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiQmFzaWNNYXRlcmlhbFwiLFxuXG4gICAgICAgICAgICAgICAgICAgIGRvdWJsZVNpZGVkOmZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG1hdGVyaWFsOklHTFRGTGlnaHRNYXRlcmlhbCA9IDxhbnk+e307XG5cbiAgICAgICAgICAgIG1hdGVyaWFsRGF0YSA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSWRdO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoIW1hdGVyaWFsRGF0YS5leHRlbnNpb25zIHx8ICFtYXRlcmlhbERhdGEuZXh0ZW5zaW9ucy5LSFJfbWF0ZXJpYWxzX2NvbW1vbiwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtYXRlcmlhbHNcIiwgXCJkZWZpbmUgS0hSX21hdGVyaWFsc19jb21tb24gZXh0ZW5zaW9uc1wiKSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsRXh0ZW5zaW9uID0gbWF0ZXJpYWxEYXRhLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc19jb21tb247XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImRvdWJsZVNpZGVkXCIsIG1hdGVyaWFsRXh0ZW5zaW9uLmRvdWJsZVNpZGVkKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInRyYW5zcGFyZW50XCIsIG1hdGVyaWFsRXh0ZW5zaW9uLnRyYW5zcGFyZW50KTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcIm9wYWNpdHlcIiwgbWF0ZXJpYWxFeHRlbnNpb24udHJhbnNwYXJlbmN5KTtcblxuICAgICAgICAgICAgLy90b2RvIHBhcnNlIGpvaW50Q291bnRcblxuICAgICAgICAgICAgbWF0ZXJpYWwudHlwZSA9IHRoaXMuX2dldE1hdGVyaWFsVHlwZShtYXRlcmlhbEV4dGVuc2lvbi50ZWNobmlxdWUpO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5saWdodE1vZGVsID0gdGhpcy5fZ2V0TGlnaHRNb2RlbChtYXRlcmlhbEV4dGVuc2lvbi50ZWNobmlxdWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRNYXRlcmlhbEV4dGVuc2lvblZhbHVlcyhtYXRlcmlhbCwgbWF0ZXJpYWxFeHRlbnNpb24udmFsdWVzKTtcblxuXG4gICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1VzZUtIUk1hdGVyaWFsRXh0ZW5zaW9uKCl7XG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uc1VzZWQgPSB0aGlzLl9qc29uLmV4dGVuc2lvbnNVc2VkO1xuXG4gICAgICAgICAgICBpZighZXh0ZW5zaW9uc1VzZWQpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNVc2VkLmluZGV4T2YoXCJLSFJfbWF0ZXJpYWxzX2NvbW1vblwiKSA+IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TWF0ZXJpYWxUeXBlKHRlY2huaXF1ZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHR5cGU6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0ZWNobmlxdWUpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQSE9OR1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJCTElOTlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJDT05TVEFOVFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJMQU1CRVJUXCI6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcIkxpZ2h0TWF0ZXJpYWxcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYHRlY2huaXF1ZToke3RlY2huaXF1ZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldExpZ2h0TW9kZWwodGVjaG5pcXVlOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgbW9kZWw6RUxpZ2h0TW9kZWwgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRlY2huaXF1ZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBIT05HXCI6XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gRUxpZ2h0TW9kZWwuUEhPTkc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJCTElOTlwiOlxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IEVMaWdodE1vZGVsLkJMSU5OO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ09OU1RBTlRcIjpcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBFTGlnaHRNb2RlbC5DT05TVEFOVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxBTUJFUlRcIjpcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBFTGlnaHRNb2RlbC5MQU1CRVJUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChgdGVjaG5pcXVlOiR7dGVjaG5pcXVlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZE1hdGVyaWFsRXh0ZW5zaW9uVmFsdWVzKG1hdGVyaWFsOklHTFRGTGlnaHRNYXRlcmlhbCwgdmFsdWVzOmFueSl7XG4gICAgICAgICAgICBpZighdmFsdWVzKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHZhbHVlcy5hbWJpZW50KXtcbiAgICAgICAgICAgICAgICBMb2cud2FybihMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwiYW1iaWVudCBvZiBtYXRlcmlhbFwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZE1hdGVyaWFsTGlnaHRDb2xvcihtYXRlcmlhbCwgXCJkaWZmdXNlXCIsIHZhbHVlcy5kaWZmdXNlKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1hdGVyaWFsTGlnaHRDb2xvcihtYXRlcmlhbCwgXCJzcGVjdWxhclwiLCB2YWx1ZXMuc3BlY3VsYXIpO1xuICAgICAgICAgICAgdGhpcy5fYWRkTWF0ZXJpYWxMaWdodENvbG9yKG1hdGVyaWFsLCBcImVtaXNzaW9uXCIsIHZhbHVlcy5lbWlzc2lvbik7XG5cbiAgICAgICAgICAgIGlmKHZhbHVlcy5zaGluaW5lc3Mpe1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNoaW5pbmVzcyA9IHZhbHVlcy5zaGluaW5lc3MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRNYXRlcmlhbExpZ2h0Q29sb3IobWF0ZXJpYWw6SUdMVEZNYXRlcmlhbCwgY29sb3JOYW1lOnN0cmluZywgY29sb3JEYXRhOnt0eXBlO3ZhbHVlfSZBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIGlmKCFjb2xvckRhdGEpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KGNvbG9yRGF0YSkpe1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsW2Ake2NvbG9yTmFtZX1Db2xvcmBdID0gR0xURlV0aWxzLmdldENvbG9yKGNvbG9yRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2lzQ29sb3IoY29sb3JEYXRhLnR5cGUpKXtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxbYCR7Y29sb3JOYW1lfUNvbG9yYF0gPSBHTFRGVXRpbHMuZ2V0Q29sb3IoY29sb3JEYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxbYCR7Y29sb3JOYW1lfU1hcGBdID0gdGhpcy5fZ2V0VGV4dHVyZShjb2xvckRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ29sb3IodHlwZTpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0eXBlKSA9PT0gMzU2NjY7XG4gICAgICAgIH1cblxuICAgICAgICAvL0ByZXF1aXJlKGZ1bmN0aW9uKHRleHR1cmVJZDpzdHJpbmcpe1xuICAgICAgICAvL2Fzc2VydCghIXRoaXMuX2pzb24udGV4dHVyZXNbdGV4dHVyZUlkXSwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoYHRleHR1cmVJZDoke3RleHR1cmVJZH1gKSk7XG4gICAgICAgIC8vfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0VGV4dHVyZSh0ZXh0dXJlSWQ6c3RyaW5nKTpUZXh0dXJle1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGFzc2V0OlRleHR1cmVBc3NldCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9qc29uLnRleHR1cmVzIHx8ICF0aGlzLl9qc29uLnRleHR1cmVzW3RleHR1cmVJZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0ZXh0dXJlID0gdGhpcy5fanNvbi50ZXh0dXJlc1t0ZXh0dXJlSWRdO1xuXG4gICAgICAgICAgICBhc3NldCA9IHRoaXMuX2NyZWF0ZVRleHR1cmVBc3NldCh0ZXh0dXJlLnRhcmdldCwgdGV4dHVyZS5zb3VyY2UpO1xuXG5cbiAgICAgICAgICAgIGlmKHRleHR1cmUuaW50ZXJuYWxGb3JtYXQgIT09IHRleHR1cmUuZm9ybWF0KXtcbiAgICAgICAgICAgICAgICBMb2cud2FybihgdGV4dHVyZS5pbnRlcm5hbEZvcm1hdCgke3RleHR1cmUuaW50ZXJuYWxGb3JtYXR9KSAhPT0gdGV4dHVyZS5mb3JtYXQoJHt0ZXh0dXJlLmZvcm1hdH0pLCBoZXJlIHRha2UgdGV4dHVyZS5mb3JtYXQgdmFsdWUgYXMgdGhlaXIgdmFsdWVgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGV4dHVyZS5mb3JtYXQpe1xuICAgICAgICAgICAgICAgIGFzc2V0LmZvcm1hdCA9IHRoaXMuX2dldFRleHR1cmVGb3JtYXQodGV4dHVyZS5mb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0ZXh0dXJlLnR5cGUpe1xuICAgICAgICAgICAgICAgIGFzc2V0LnR5cGUgPSB0aGlzLl9nZXRUZXh0dXJlVHlwZSh0ZXh0dXJlLnR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hZGRUZXh0dXJlU2FtcGxlcihhc3NldCwgdGV4dHVyZS5zYW1wbGVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0LnRvVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlVGV4dHVyZUFzc2V0KHRhcmdldDpudW1iZXIsIGltYWdlSWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBhc3NldDpUZXh0dXJlQXNzZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IHRoaXMuX2ltYWdlTWFwLmdldENoaWxkKGltYWdlSWQpO1xuXG4gICAgICAgICAgICBpZighc291cmNlKXtcbiAgICAgICAgICAgICAgICBMb2cud2Fybihgbm8gaW1hZ2UgZm91bmQgaW4gbG9hZGVyKGlkOiR7aW1hZ2VJZH0pYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGFyZ2V0KXtcbiAgICAgICAgICAgICAgICBjYXNlIDM1NTM6XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0ID0gSW1hZ2VUZXh0dXJlQXNzZXQuY3JlYXRlKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwidGFyZ2V0IGV4Y2VwdCBURVhUVVJFXzJEXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhc3NldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFRleHR1cmVUeXBlKHR5cGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVHlwZTpFVGV4dHVyZVR5cGUgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSA1MTIxOlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlVHlwZSA9IEVUZXh0dXJlVHlwZS5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDMzNjM1OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlVHlwZSA9IEVUZXh0dXJlVHlwZS5VTlNJR05FRF9TSE9SVF81XzZfNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMjgxOTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVR5cGUgPSBFVGV4dHVyZVR5cGUuVU5TSUdORURfU0hPUlRfNF80XzRfNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMjgyMDpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVR5cGUgPSBFVGV4dHVyZVR5cGUuVU5TSUdORURfU0hPUlRfNV81XzVfMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYHRleHR1cmUtPnR5cGU6JHt0eXBlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFRleHR1cmVGb3JtYXQoZm9ybWF0Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZvcm1hdDpFVGV4dHVyZUZvcm1hdCA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICAgICAgICAgIGNhc2UgNjQwNjpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZvcm1hdCA9IEVUZXh0dXJlRm9ybWF0LkFMUEhBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY0MDc6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjQwODpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZvcm1hdCA9IEVUZXh0dXJlRm9ybWF0LlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjQwOTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZvcm1hdCA9IEVUZXh0dXJlRm9ybWF0LkxVTUlOQU5DRTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2NDEwOlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuTFVNSU5BTkNFX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChgdGV4dHVyZS0+Zm9ybWF0OiR7Zm9ybWF0fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oYXNzZXQ6VGV4dHVyZUFzc2V0LCBzYW1wbGVySWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydCghIXRoaXMuX2pzb24uc2FtcGxlcnNbc2FtcGxlcklkXSwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoYHNhbXBsZXJJZDoke3NhbXBsZXJJZH1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2FkZFRleHR1cmVTYW1wbGVyKGFzc2V0OlRleHR1cmVBc3NldCwgc2FtcGxlcklkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgc2FtcGxlciA9IHRoaXMuX2pzb24uc2FtcGxlcnNbc2FtcGxlcklkXTtcblxuICAgICAgICAgICAgYXNzZXQud3JhcFQgPSB0aGlzLl9nZXRUZXh0dXJlV3JhcChzYW1wbGVyLndyYXBUKTtcbiAgICAgICAgICAgIGFzc2V0LndyYXBTID0gdGhpcy5fZ2V0VGV4dHVyZVdyYXAoc2FtcGxlci53cmFwUyk7XG4gICAgICAgICAgICBhc3NldC5taW5GaWx0ZXIgPSB0aGlzLl9nZXRUZXh0dXJlRmlsdGVyKHNhbXBsZXIubWluRmlsdGVyKTtcbiAgICAgICAgICAgIGFzc2V0Lm1hZ0ZpbHRlciA9IHRoaXMuX2dldFRleHR1cmVGaWx0ZXIoc2FtcGxlci5tYWdGaWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0VGV4dHVyZUZpbHRlcihmaWx0ZXI6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyKXtcbiAgICAgICAgICAgICAgICBjYXNlIDk3Mjg6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTkVBUkVTVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5NzI5OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRmlsdGVyID0gRVRleHR1cmVGaWx0ZXJNb2RlLkxJTkVBUjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OTg0OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRmlsdGVyID0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1RfTUlQTUFQX01FQVJFU1Q7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTk4NTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVJfTUlQTUFQX05FQVJFU1Q7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTk4NjpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUX01JUE1BUF9MSU5FQVI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTk4NzpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVJfTUlQTUFQX0xJTkVBUjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYHRleHR1cmUgZmlsdGVyOiR7ZmlsdGVyfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRmlsdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0VGV4dHVyZVdyYXAod3JhcDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHRleHR1cmVXcmFwOkVUZXh0dXJlV3JhcE1vZGUgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHdyYXApe1xuICAgICAgICAgICAgICAgIGNhc2UgMzMwNzE6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVXcmFwID0gRVRleHR1cmVXcmFwTW9kZS5DTEFNUF9UT19FREdFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDMzNjQ4OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlV3JhcCA9IEVUZXh0dXJlV3JhcE1vZGUuTUlSUk9SRURfUkVQRUFUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwNDk3OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlV3JhcCA9IEVUZXh0dXJlV3JhcE1vZGUuUkVQRUFUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChgdGV4dHVyZSB3cmFwOiR7d3JhcH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZVdyYXA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgR0xURkFydGljdWxhdGVkQW5pbWF0aW9uUGFyc2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hcnJheUJ1ZmZlck1hcDp3ZENiLkhhc2g8YW55PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2pzb246SUdMVEZKc29uRGF0YSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2FycmF5T2Zmc2V0Om51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246SUdMVEZKc29uRGF0YSwgb2JqZWN0czp3ZENiLkNvbGxlY3Rpb248SUdMVEZPYmplY3REYXRhPiwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4pOnZvaWR7XG4gICAgICAgICAgICB2YXIgbm9kZVdpdGhBbmltYXRpb25NYXA6d2RDYi5IYXNoPGFueT4gPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcblxuICAgICAgICAgICAgdGhpcy5fanNvbiA9IGpzb247XG4gICAgICAgICAgICB0aGlzLl9hcnJheUJ1ZmZlck1hcCA9IGFycmF5QnVmZmVyTWFwO1xuXG4gICAgICAgICAgICBmb3IobGV0IGFuaW1OYW1lIGluIGpzb24uYW5pbWF0aW9ucyl7XG4gICAgICAgICAgICAgICAgaWYoanNvbi5hbmltYXRpb25zLmhhc093blByb3BlcnR5KGFuaW1OYW1lKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb246SUdMVEZBbmltYXRpb24gPSBqc29uLmFuaW1hdGlvbnNbYW5pbU5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5RnJhbWVEYXRhTGlzdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8SUdMVEZLZXlGcmFtZURhdGE+KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMCwgbGVuID0gYW5pbWF0aW9uLmNoYW5uZWxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFubmVsOklHTFRGQW5pbWF0aW9uQ2hhbm5lbCA9IGFuaW1hdGlvbi5jaGFubmVsc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVyOklHTFRGQW5pbWF0aW9uU2FtcGxlciA9IGFuaW1hdGlvbi5zYW1wbGVyc1tjaGFubmVsLnNhbXBsZXJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElkOnN0cmluZyA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZTpJR0xURk9iamVjdERhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbXBsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SWQgPSBjaGFubmVsLnRhcmdldC5pZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IHRoaXMuX2ZpbmROb2RlKG9iamVjdHMsIHRhcmdldElkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cud2FybihgY2FuJ3QgZmluZCBub2RlIHdob3NlIGlkIGlzICR7dGFyZ2V0SWR9IHRvIGF0dGFjaCB0byBhbmltYXRpb24gbmFtZWQgJHthbmltTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQW5pbWF0aW9uVG9Ob2RlKG5vZGVXaXRoQW5pbWF0aW9uTWFwLCB0YXJnZXRJZCwgdGFyZ2V0Tm9kZSwgYW5pbU5hbWUsIGtleUZyYW1lRGF0YUxpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkS2V5RnJhbWVEYXRhcyhrZXlGcmFtZURhdGFMaXN0LCBjaGFubmVsLCBhbmltYXRpb24sIHNhbXBsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hZGRBbmltYXRpb25Db21wb25lbnQobm9kZVdpdGhBbmltYXRpb25NYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkQW5pbWF0aW9uVG9Ob2RlKG5vZGVXaXRoQW5pbWF0aW9uTWFwOndkQ2IuSGFzaDxhbnk+LCB0YXJnZXRJZDpzdHJpbmcsIHRhcmdldE5vZGU6SUdMVEZPYmplY3REYXRhLCBhbmltTmFtZTpzdHJpbmcsIGtleUZyYW1lRGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPElHTFRGS2V5RnJhbWVEYXRhPil7XG4gICAgICAgICAgICBpZighbm9kZVdpdGhBbmltYXRpb25NYXAuaGFzQ2hpbGQodGFyZ2V0SWQpKXtcbiAgICAgICAgICAgICAgICBub2RlV2l0aEFuaW1hdGlvbk1hcC5hZGRDaGlsZCh0YXJnZXRJZCwge1xuICAgICAgICAgICAgICAgICAgICBub2RlOnRhcmdldE5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkRhdGE6e31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZVdpdGhBbmltYXRpb25NYXAuZ2V0Q2hpbGQodGFyZ2V0SWQpLmFuaW1hdGlvbkRhdGFbYW5pbU5hbWVdID0ga2V5RnJhbWVEYXRhTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZEtleUZyYW1lRGF0YXMoa2V5RnJhbWVEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248SUdMVEZLZXlGcmFtZURhdGE+LCBjaGFubmVsOklHTFRGQW5pbWF0aW9uQ2hhbm5lbCwgYW5pbWF0aW9uOklHTFRGQW5pbWF0aW9uLCBzYW1wbGVyOklHTFRGQW5pbWF0aW9uU2FtcGxlcil7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGF0aCA9IGNoYW5uZWwudGFyZ2V0LnBhdGgsXG4gICAgICAgICAgICAgICAganNvbiA9IHRoaXMuX2pzb24sXG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXJNYXAgPSB0aGlzLl9hcnJheUJ1ZmZlck1hcCxcbiAgICAgICAgICAgICAgICBpbnB1dERhdGEgPSBhbmltYXRpb24ucGFyYW1ldGVyc1tzYW1wbGVyLmlucHV0XSxcbiAgICAgICAgICAgICAgICBidWZmZXJJbnB1dCA9IEdMVEZVdGlscy5nZXRCdWZmZXJBcnJGcm9tQWNjZXNzb3IoanNvbiwganNvbi5hY2Nlc3NvcnNbaW5wdXREYXRhXSwgYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICB0aGlzLl9hcnJheU9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYnVmZmVySW5wdXQubGVuZ3RoOyBqKyspIHtcblxuICAgICAgICAgICAgICAgIGxldCBrZXlGcmFtZURhdGE6SUdMVEZLZXlGcmFtZURhdGEgPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICAgICAga2V5RnJhbWVEYXRhLnRpbWUgPSB0aGlzLl9jb252ZXJ0U2Vjb25kVG9NaWxsaXNlY29uZChidWZmZXJJbnB1dFtqXSk7XG4gICAgICAgICAgICAgICAga2V5RnJhbWVEYXRhLmludGVycG9sYXRpb25NZXRob2QgPSB0aGlzLl9jb252ZXJ0VG9pbnRlcnBvbGF0aW9uTWV0aG9kKHNhbXBsZXIuaW50ZXJwb2xhdGlvbik7XG4gICAgICAgICAgICAgICAga2V5RnJhbWVEYXRhLnRhcmdldHMgPSB0aGlzLl9nZXRLZXlGcmFtZURhdGFUYXJnZXRzKHRhcmdldFBhdGgsIGFuaW1hdGlvbiwgc2FtcGxlcik7XG5cblxuICAgICAgICAgICAgICAgIGtleUZyYW1lRGF0YUxpc3QuYWRkQ2hpbGQoa2V5RnJhbWVEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEtleUZyYW1lRGF0YVRhcmdldHModGFyZ2V0UGF0aDpzdHJpbmcsIGFuaW1hdGlvbjpJR0xURkFuaW1hdGlvbiwgc2FtcGxlcjpJR0xURkFuaW1hdGlvblNhbXBsZXIpe1xuICAgICAgICAgICAgdmFyIHRhcmdldHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPElHTFRGS2V5RnJhbWVUYXJnZXREYXRhPigpLFxuICAgICAgICAgICAgICAgIG91dHB1dERhdGEgPSBhbmltYXRpb24ucGFyYW1ldGVyc1tzYW1wbGVyLm91dHB1dF0sXG4gICAgICAgICAgICAgICAgYnVmZmVyT3V0cHV0ID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcih0aGlzLl9qc29uLCB0aGlzLl9qc29uLmFjY2Vzc29yc1tvdXRwdXREYXRhXSwgdGhpcy5fYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldFBhdGgpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2xhdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzLmFkZENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlRSQU5TTEFUSU9OLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogVmVjdG9yMy5jcmVhdGUoYnVmZmVyT3V0cHV0W3RoaXMuX2FycmF5T2Zmc2V0XSwgYnVmZmVyT3V0cHV0W3RoaXMuX2FycmF5T2Zmc2V0ICsgMV0sIGJ1ZmZlck91dHB1dFt0aGlzLl9hcnJheU9mZnNldCArIDJdKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXJyYXlPZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvdGF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHMuYWRkQ2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuUk9UQVRJT04sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBRdWF0ZXJuaW9uLmNyZWF0ZShidWZmZXJPdXRwdXRbdGhpcy5fYXJyYXlPZmZzZXRdLCBidWZmZXJPdXRwdXRbdGhpcy5fYXJyYXlPZmZzZXQgKyAxXSwgYnVmZmVyT3V0cHV0W3RoaXMuX2FycmF5T2Zmc2V0ICsgMl0sIGJ1ZmZlck91dHB1dFt0aGlzLl9hcnJheU9mZnNldCArIDNdKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcnJheU9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0cy5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5TQ0FMRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFZlY3RvcjMuY3JlYXRlKGJ1ZmZlck91dHB1dFt0aGlzLl9hcnJheU9mZnNldF0sIGJ1ZmZlck91dHB1dFt0aGlzLl9hcnJheU9mZnNldCArIDFdLCBidWZmZXJPdXRwdXRbdGhpcy5fYXJyYXlPZmZzZXQgKyAyXSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FycmF5T2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKGBwYXRoOiR7dGFyZ2V0UGF0aH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbmROb2RlKG9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPElHTFRGT2JqZWN0RGF0YT4sIHRhcmdldElkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgZmluZCA9IChvYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxJR0xURk9iamVjdERhdGE+KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdHMuZmluZE9uZSgob2JqZWN0OklHTFRGT2JqZWN0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlkID09PSB0YXJnZXRJZDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChvYmplY3Q6SUdMVEZPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZpbmQob2JqZWN0LmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmluZChvYmplY3RzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24ocmV0dXJuVmFsLCBub2RlV2l0aEFuaW1hdGlvbk1hcDp3ZENiLkhhc2g8YW55Pil7XG4gICAgICAgICAgICBub2RlV2l0aEFuaW1hdGlvbk1hcC5mb3JFYWNoKCh7bm9kZSwgYW5pbWF0aW9uRGF0YX0pID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQobm9kZS5jb21wb25lbnRzLmZpbHRlcigoY29tcG9uZW50OklHTFRGQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBHTFRGVXRpbHMuaXNJR0xURkFydGljdWxhdGVkQW5pbWF0aW9uKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfSkuZ2V0Q291bnQoKSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm5vZGVcIiwgXCJvbmx5IGhhcyAxIElHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb24gY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2FkZEFuaW1hdGlvbkNvbXBvbmVudChub2RlV2l0aEFuaW1hdGlvbk1hcDp3ZENiLkhhc2g8YW55Pil7XG4gICAgICAgICAgICBub2RlV2l0aEFuaW1hdGlvbk1hcC5mb3JFYWNoKCh7bm9kZSwgYW5pbWF0aW9uRGF0YX0pID0+IHtcbiAgICAgICAgICAgICAgICBub2RlLmNvbXBvbmVudHMuYWRkQ2hpbGQoYW5pbWF0aW9uRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRTZWNvbmRUb01pbGxpc2Vjb25kKHRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiAxMDAwICogdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb2ludGVycG9sYXRpb25NZXRob2QoanNvbkludGVycG9sYXRpb246c3RyaW5nKXtcbiAgICAgICAgICAgIHN3aXRjaChqc29uSW50ZXJwb2xhdGlvbil7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxJTkVBUlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRUtleUZyYW1lSW50ZXJwb2xhdGlvbi5MSU5FQVI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoYGludGVycG9sYXRpb246JHtqc29uSW50ZXJwb2xhdGlvbn1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIEFycmF5QnVmZmVyOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBHTFRGVXRpbHN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYWRkRGF0YSh0YXJnZXQ6T2JqZWN0LCBzb3VyY2VOYW1lOnN0cmluZywgc291cmNlRGF0YTphbnkpe1xuICAgICAgICAgICAgaWYoc291cmNlRGF0YSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZURhdGEgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VOYW1lXSA9IHNvdXJjZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzQmFzZTY0KHVyaTogc3RyaW5nKTogYm9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiB1cmkubGVuZ3RoIDwgNSA/IGZhbHNlIDogdXJpLnN1YnN0cigwLCA1KSA9PT0gXCJkYXRhOlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBkZWNvZGVBcnJheUJ1ZmZlcihiYXNlNjRTdHI6IHN0cmluZyk6YW55e1xuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFN0ci5zcGxpdCgnLCcpWzFdLFxuICAgICAgICAgICAgICAgIGRlY29kZWRTdHJpbmcgPSBhdG9iKGJhc2U2NCksXG4gICAgICAgICAgICAgICAgYnVmZmVyTGVuZ3RoID0gZGVjb2RlZFN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgYXJyYXlidWZmZXIgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcnJheWJ1ZmZlcltpXSA9IGRlY29kZWRTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFycmF5YnVmZmVyLmJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlT2JqZWN0RGF0YSgpe1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDpudWxsLFxuICAgICAgICAgICAgICAgIGlzQ29udGFpbmVyOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6d2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxJR0xURkNvbXBvbmVudD4oKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxJR0xURk9iamVjdERhdGE+KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29sb3IodmFsdWU6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBDb2xvci5jcmVhdGUoKTtcblxuICAgICAgICAgICAgY29sb3IuciA9IE51bWJlcih2YWx1ZVswXSk7XG4gICAgICAgICAgICBjb2xvci5nID0gTnVtYmVyKHZhbHVlWzFdKTtcbiAgICAgICAgICAgIGNvbG9yLmIgPSBOdW1iZXIodmFsdWVbMl0pO1xuXG4gICAgICAgICAgICBpZih2YWx1ZS5sZW5ndGggPT09IDQpe1xuICAgICAgICAgICAgICAgIGNvbG9yLmEgPSBOdW1iZXIodmFsdWVbM10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uOklHTFRGSnNvbkRhdGEsIGFjY2Vzc29yOiBJR0xURkFjY2Vzc29yLCBhcnJheUJ1ZmZlck1hcDp3ZENiLkhhc2g8YW55Pik6IGFueXtcbiAgICAgICAgICAgIHZhciBidWZmZXJWaWV3OiBJR0xURkJ1ZmZlclZpZXcgPSBqc29uLmJ1ZmZlclZpZXdzW2FjY2Vzc29yLmJ1ZmZlclZpZXddLFxuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyOiBhbnkgPSBhcnJheUJ1ZmZlck1hcC5nZXRDaGlsZChidWZmZXJWaWV3LmJ1ZmZlciksXG4gICAgICAgICAgICAgICAgYnl0ZU9mZnNldCA9IGFjY2Vzc29yLmJ5dGVPZmZzZXQgKyBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICAgICAgY291bnQgPSBhY2Nlc3Nvci5jb3VudCAqIHRoaXMuZ2V0QWNjZXNzb3JUeXBlU2l6ZShhY2Nlc3Nvcik7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoYWNjZXNzb3IuY29tcG9uZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNTEyMDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGNvdW50KTtcbiAgICAgICAgICAgICAgICBjYXNlIDUxMjE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgY291bnQpO1xuICAgICAgICAgICAgICAgIGNhc2UgNTEyMjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQxNkFycmF5KGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBjb3VudCk7XG4gICAgICAgICAgICAgICAgY2FzZSA1MTIzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBjb3VudCk7XG4gICAgICAgICAgICAgICAgY2FzZSA1MTI2OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgY291bnQpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGBjb21wb25lbnRUeXBlOiR7YWNjZXNzb3IuY29tcG9uZW50VHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRBY2Nlc3NvclR5cGVTaXplKGFjY2Vzc29yOiBJR0xURkFjY2Vzc29yKTogbnVtYmVye1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhY2Nlc3Nvci50eXBlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkVDMlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkVDM1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgICAgICBjYXNlIFwiVkVDNFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTUFUMlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTUFUM1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gOTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTUFUNFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTY7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzSUdMVEZBcnRpY3VsYXRlZEFuaW1hdGlvbihjb21wb25lbnQ6SUdMVEZDb21wb25lbnQpe1xuICAgICAgICAgICAgaWYoIUp1ZGdlVXRpbHMuaXNEaXJlY3RPYmplY3QoY29tcG9uZW50KSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IobGV0IGFuaW1OYW1lIGluIGNvbXBvbmVudCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudFthbmltTmFtZV0gaW5zdGFuY2VvZiB3ZENiLkNvbGxlY3Rpb24gJiYgY29tcG9uZW50W2FuaW1OYW1lXS5nZXRDb3VudCgpID4gMCAmJiBjb21wb25lbnRbYW5pbU5hbWVdLmdldENoaWxkKDApLnRpbWUgIT09IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFV0RUYWd7XG4gICAgICAgIENPTlRBSU5FUiA9IDxhbnk+XCJDT05UQUlORVJcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFdETG9hZGVyIGV4dGVuZHMgTG9hZGVyIHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfd2RQYXJzZXI6V0RQYXJzZXIgPSBXRFBhcnNlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfd2RCdWlsZGVyOldEQnVpbGRlciA9IFdEQnVpbGRlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VEYXRhOldERmlsZVBhcnNlRGF0YSA9IG51bGw7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgYXNzZXJ0KCFKdWRnZVV0aWxzLmlzQXJyYXkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJqc29uXCIpXG4gICAgICAgICAgICAgICAgLmZsYXRNYXAoKGpzb246V0RGaWxlSnNvbkRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcGFyc2VEYXRhID0gc2VsZi5fd2RQYXJzZXIucGFyc2UoanNvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUxvYWRNYXBTdHJlYW0odXJsKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNvbmNhdChcbiAgICAgICAgICAgICAgICB3ZEZycC5jYWxsRnVuYygoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3dkQnVpbGRlci5idWlsZChzZWxmLl9wYXJzZURhdGEpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZE1hcFN0cmVhbShmaWxlUGF0aDpzdHJpbmcpOndkRnJwLlN0cmVhbXtcbiAgICAgICAgICAgIHZhciBzdHJlYW1BcnIgPSBbXSxcbiAgICAgICAgICAgICAgICBwYXJzZURhdGEgPSB0aGlzLl9wYXJzZURhdGEsXG4gICAgICAgICAgICAgICAgaSA9IG51bGw7XG5cbiAgICAgICAgICAgIHBhcnNlRGF0YS5tYXRlcmlhbHMuZm9yRWFjaCgobWF0ZXJpYWw6V0RGaWxlUGFyc2VNYXRlcmlhbERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwVXJsQXJyID0gW107XG5cbiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwuZGlmZnVzZU1hcFVybCkge1xuICAgICAgICAgICAgICAgICAgICBtYXBVcmxBcnIucHVzaChbXCJkaWZmdXNlTWFwXCIsIG1hdGVyaWFsLmRpZmZ1c2VNYXBVcmxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsLnNwZWN1bGFyTWFwVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcFVybEFyci5wdXNoKFtcInNwZWN1bGFyTWFwXCIsIG1hdGVyaWFsLnNwZWN1bGFyTWFwVXJsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5ub3JtYWxNYXBVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwVXJsQXJyLnB1c2goW1wibm9ybWFsTWFwXCIsIG1hdGVyaWFsLm5vcm1hbE1hcFVybF0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0cmVhbUFyci5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB3ZEZycC5mcm9tQXJyYXkobWFwVXJsQXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZsYXRNYXAoKFt0eXBlLCBtYXBVcmxdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRleHR1cmVMb2FkZXIuZ2V0SW5zdGFuY2UoKS5sb2FkKE1vZGVsTG9hZGVyVXRpbHMuZ2V0UGF0aChmaWxlUGF0aCwgbWFwVXJsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvKChhc3NldDpUZXh0dXJlQXNzZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsW3R5cGVdID0gYXNzZXQudG9UZXh0dXJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbUFycmF5KHN0cmVhbUFycikubWVyZ2VBbGwoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vdG9kbyBvcHRpbWl6ZTpzZXQgdmVydGljZSxub3JtYWwgcHJlc2lvbj8odXNlIHRvRml4ZWQpXG5tb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBXRFBhcnNlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kYXRhOldERmlsZVBhcnNlRGF0YSA9IDxhbnk+e307XG4gICAgICAgIHByaXZhdGUgX29iamVjdFBhcnNlciA9IFdET2JqZWN0UGFyc2VyLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBwYXJzZShqc29uOldERmlsZUpzb25EYXRhKTpXREZpbGVQYXJzZURhdGEge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VNZXRhZGF0YShqc29uKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlU2NlbmUoanNvbik7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZU1hdGVyaWFsKGpzb24pO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VPYmplY3QoanNvbik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VNZXRhZGF0YShqc29uOldERmlsZUpzb25EYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLm1ldGFkYXRhID0gPGFueT5qc29uLm1ldGFkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VPYmplY3QoanNvbjpXREZpbGVKc29uRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0UGFyc2VyLnBhcnNlKHRoaXMuX2RhdGEsIGpzb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VTY2VuZShqc29uOldERmlsZUpzb25EYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLnNjZW5lID0gPGFueT5qc29uLnNjZW5lO1xuXG4gICAgICAgICAgICBpZiAoanNvbi5zY2VuZS5hbWJpZW50Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhLnNjZW5lLmFtYmllbnRDb2xvciA9IHRoaXMuX2NyZWF0ZUNvbG9yKGpzb24uc2NlbmUuYW1iaWVudENvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlTWF0ZXJpYWwoanNvbjpXREZpbGVKc29uRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YS5tYXRlcmlhbHMgPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oanNvbi5tYXRlcmlhbHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9kYXRhLm1hdGVyaWFscy5mb3JFYWNoKChtYXRlcmlhbDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwuZGlmZnVzZUNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IHRoaXMuX2NyZWF0ZUNvbG9yKG1hdGVyaWFsLmRpZmZ1c2VDb2xvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5zcGVjdWxhckNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSB0aGlzLl9jcmVhdGVDb2xvcihtYXRlcmlhbC5zcGVjdWxhckNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUNvbG9yKGNvbG9yQXJyOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5jcmVhdGUoYHJnYigke2NvbG9yQXJyLmpvaW4oXCIsXCIpLnJlcGxhY2UoL14oXFxkKyksL2csIFwiJDEuMCxcIikucmVwbGFjZSgvLChcXGQrKSwvZywgXCIsJDEuMCxcIikucmVwbGFjZSgvLChcXGQrKSQvZywgXCIsJDEuMFwiKX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8vdG9kbyBvcHRpbWl6ZTpzZXQgdmVydGljZSxub3JtYWwgcHJlc2lvbj8odXNlIHRvRml4ZWQpXG5tb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBXRE9iamVjdFBhcnNlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGFyc2UoZGF0YTpXREZpbGVQYXJzZURhdGEsIGpzb246V0RGaWxlSnNvbkRhdGEpOnZvaWQge1xuICAgICAgICAgICAgdmFyIHBhcnNlID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZGF0YS5vYmplY3RzID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KGpzb24ub2JqZWN0cyk7XG5cbiAgICAgICAgICAgIHBhcnNlID0gKG9iamVjdDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5faXNPYmplY3RDb250YWluZXIob2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzQ29udGFpbmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcGFyc2VGcm9tSW5kaWNlcyhvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KG9iamVjdC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG9iamVjdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2UoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgZGF0YS5vYmplY3RzLmZvckVhY2goKG9iamVjdDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAvL3RvcCdzIHBhcmVudCBpcyBudWxsXG4gICAgICAgICAgICAgICAgb2JqZWN0LnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBwYXJzZShvYmplY3QpO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fcmVtb3ZlT2JqZWN0Q29udGFpbmVyRGF0YShvYmplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc09iamVjdENvbnRhaW5lcihvYmplY3Q6V0RGaWxlSnNvbk9iamVjdERhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAhR2VvbWV0cnlVdGlscy5oYXNEYXRhKG9iamVjdC52ZXJ0aWNlSW5kaWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZUZyb21JbmRpY2VzKG9iamVjdDphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2R1cGxpY2F0ZVZlcnRleFdpdGhEaWZmZXJlbnRVdnMob2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlT2JqZWN0RnJvbUluZGljZXMob2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVJlYnVuZGFudEluZGljZURhdGEob2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBoYW5kbGUgXCJzYW1lIHZlcnRleCBkaWZmZXJlbnQgbm9ybWFsc1wiIHNpdHVhdGlvbj9cbiAgICAgICAgcHJpdmF0ZSBfZHVwbGljYXRlVmVydGV4V2l0aERpZmZlcmVudFV2cyhvYmplY3Q6YW55KSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW10sXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gd2RDYi5IYXNoLmNyZWF0ZTx3ZENiLkNvbGxlY3Rpb248QXJyYXk8bnVtYmVyPj4+KCksXG4gICAgICAgICAgICAgICAgdmVydGljZUluZGljZXMgPSBvYmplY3QudmVydGljZUluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZJbmRpY2VzID0gb2JqZWN0LnV2SW5kaWNlcztcblxuICAgICAgICAgICAgaWYgKCFHZW9tZXRyeVV0aWxzLmhhc0RhdGEodXZJbmRpY2VzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZlcnRpY2VJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRpY2VJbmRleCA9IHZlcnRpY2VJbmRpY2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2FtZVZlcnRleFdpdGhEaWZmZXJlbnRVdnNCeUNvbXBhcmVUb0ZpcnN0T25lKGFyciwgdXZJbmRpY2VzW2ldLCB2ZXJ0aWNlSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1V2SW5kaWNlRXF1YWxUaGVPbmVPZkFkZGVkVmVydGV4KGNvbnRhaW5lciwgdmVydGljZUluZGV4LCB1dkluZGljZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlSW5kaWNlc1tpXSA9IHRoaXMuX2dldFZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXhCeUZpbmRDb250YWluZXIoY29udGFpbmVyLCB2ZXJ0aWNlSW5kZXgsIHV2SW5kaWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRWZXJ0ZXhEYXRhKG9iamVjdCwgY29udGFpbmVyLCB2ZXJ0aWNlSW5kZXgsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmVydGljZUluZGV4ID0gdmVydGljZUluZGljZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBhcnJbdmVydGljZUluZGV4XSA9IHV2SW5kaWNlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU2FtZVZlcnRleFdpdGhEaWZmZXJlbnRVdnNCeUNvbXBhcmVUb0ZpcnN0T25lKGFyciwgdXZJbmRleCwgdmVydGljZUluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyW3ZlcnRpY2VJbmRleF0gIT09IHZvaWQgMCAmJiBhcnJbdmVydGljZUluZGV4XSAhPT0gdXZJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFZlcnRleERhdGEob2JqZWN0LCBjb250YWluZXIsIHZlcnRpY2VJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlSW5kaWNlcyA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlcyxcbiAgICAgICAgICAgICAgICB1dkluZGljZXMgPSBvYmplY3QudXZJbmRpY2VzLFxuICAgICAgICAgICAgICAgIG5vcm1hbEluZGljZXMgPSBvYmplY3Qubm9ybWFsSW5kaWNlcyxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IHRoaXMuX2ZpbmREYXRhKG9iamVjdCwgXCJ2ZXJ0aWNlc1wiKSxcbiAgICAgICAgICAgICAgICBub3JtYWxzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcIm5vcm1hbHNcIiksXG4gICAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcIm1vcnBoVGFyZ2V0c1wiKSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4ID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fYWRkVGhyZWVDb21wb25lbnQodmVydGljZXMsIHZlcnRpY2VJbmRleCk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXggPSB0aGlzLl9nZXRWZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4KHZlcnRpY2VzKTtcblxuICAgICAgICAgICAgdmVydGljZUluZGljZXNbaW5kZXhdID0gdmVydGljZUluZGV4T2ZBZGRlZFZlcnRleDtcblxuXG4gICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG1vcnBoVGFyZ2V0cykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBmcmFtZSBvZiBtb3JwaFRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVGhyZWVDb21wb25lbnQoZnJhbWUudmVydGljZXMsIHZlcnRpY2VJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShmcmFtZS5ub3JtYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRHVwbGljYXRlTm9ybWFsT2ZBZGRlZFZlcnRleChmcmFtZS5ub3JtYWxzLCBub3JtYWxJbmRpY2VzLCBpbmRleCwgdmVydGljZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShub3JtYWxzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZER1cGxpY2F0ZU5vcm1hbE9mQWRkZWRWZXJ0ZXgobm9ybWFscywgbm9ybWFsSW5kaWNlcywgaW5kZXgsIHZlcnRpY2VJbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG5vcm1hbEluZGljZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbEluZGljZXNbaW5kZXhdID0gdmVydGljZUluZGV4T2ZBZGRlZFZlcnRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKFN0cmluZyh2ZXJ0aWNlSW5kZXgpLCBbdXZJbmRpY2VzW2luZGV4XSwgdmVydGljZUluZGV4T2ZBZGRlZFZlcnRleF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkRHVwbGljYXRlTm9ybWFsT2ZBZGRlZFZlcnRleChub3JtYWxzLCBub3JtYWxJbmRpY2VzLCBpbmRleCwgb2xkVmVydGljZUluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIUdlb21ldHJ5VXRpbHMuaGFzRGF0YShub3JtYWxJbmRpY2VzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRocmVlQ29tcG9uZW50KG5vcm1hbHMsIG5vcm1hbHMsIG9sZFZlcnRpY2VJbmRleCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdGhpcy5fYWRkVGhyZWVDb21wb25lbnQobm9ybWFscywgbm9ybWFscywgbm9ybWFsSW5kaWNlc1tpbmRleF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNVdkluZGljZUVxdWFsVGhlT25lT2ZBZGRlZFZlcnRleChjb250YWluZXIsIHRhcmdldFZlcnRpY2VJbmRleCwgdGFyZ2V0VXZJbmRleCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBjb250YWluZXIuZ2V0Q2hpbGQoU3RyaW5nKHRhcmdldFZlcnRpY2VJbmRleCkpO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhLmhhc0NoaWxkKChbdXZJbmRleCwgdmVydGljZUluZGV4XSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dkluZGV4ID09PSB0YXJnZXRVdkluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoY29udGFpbmVyLCB0YXJnZXRWZXJ0aWNlSW5kZXgsIHRhcmdldFV2SW5kZXgpIHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9pc1V2SW5kaWNlRXF1YWxUaGVPbmVPZkFkZGVkVmVydGV4KGNvbnRhaW5lciwgdGFyZ2V0VmVydGljZUluZGV4LCB0YXJnZXRVdkluZGV4KSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ1dkluZGV4XCIsIFwiZXF1YWwgdGhlIG9uZSBvZiBhZGRlZCB2ZXJ0ZXhcIikpXG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldFZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXhCeUZpbmRDb250YWluZXIoY29udGFpbmVyLCB0YXJnZXRWZXJ0aWNlSW5kZXgsIHRhcmdldFV2SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gY29udGFpbmVyLmdldENoaWxkKFN0cmluZyh0YXJnZXRWZXJ0aWNlSW5kZXgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZmluZE9uZSgoW3V2SW5kZXgsIHZlcnRpY2VJbmRleF0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXZJbmRleCA9PT0gdGFyZ2V0VXZJbmRleDtcbiAgICAgICAgICAgIH0pWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0VmVydGljZUluZGV4T2ZBZGRlZFZlcnRleCh2ZXJ0aWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHZlcnRpY2VzLmxlbmd0aCAvIDMgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkVGhyZWVDb21wb25lbnQoZGF0YTpBcnJheTxudW1iZXI+LCBpbmRleDpudW1iZXIpO1xuICAgICAgICBwcml2YXRlIF9hZGRUaHJlZUNvbXBvbmVudCh0YXJnZXREYXRhOkFycmF5PG51bWJlcj4sIHNvdXJjZURhdGE6QXJyYXk8bnVtYmVyPiwgaW5kZXg6bnVtYmVyKTtcblxuICAgICAgICBwcml2YXRlIF9hZGRUaHJlZUNvbXBvbmVudCguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtpbmRleCAqIDNdLFxuICAgICAgICAgICAgICAgICAgICBkYXRhW2luZGV4ICogMyArIDFdLFxuICAgICAgICAgICAgICAgICAgICBkYXRhW2luZGV4ICogMyArIDJdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXREYXRhID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRGF0YSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIHRhcmdldERhdGEucHVzaChcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRGF0YVtpbmRleCAqIDNdLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW2luZGV4ICogMyArIDFdLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW2luZGV4ICogMyArIDJdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlT2JqZWN0RnJvbUluZGljZXMob2JqZWN0OmFueSkge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW10sXG4gICAgICAgICAgICAgICAgdXZzID0gW10sXG4gICAgICAgICAgICAgICAgZmFjZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBmYWNlOkZhY2UzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBbXSxcbiAgICAgICAgICAgICAgICBvYmplY3RWZXJ0aWNlcyA9IHRoaXMuX2ZpbmREYXRhKG9iamVjdCwgXCJ2ZXJ0aWNlc1wiKSxcbiAgICAgICAgICAgICAgICBvYmplY3RVVnMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwidXZzXCIpLFxuICAgICAgICAgICAgICAgIG9iamVjdE5vcm1hbHMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwibm9ybWFsc1wiKSxcbiAgICAgICAgICAgICAgICBvYmplY3RDb2xvcnMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwiY29sb3JzXCIpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gb2JqZWN0LnZlcnRpY2VJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFJbmRleCA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgYkluZGV4ID0gb2JqZWN0LnZlcnRpY2VJbmRpY2VzW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgY0luZGV4ID0gb2JqZWN0LnZlcnRpY2VJbmRpY2VzW2kgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhBcnIgPSBbaSwgaSArIDEsIGkgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZUluZGljZUFyciA9IFthSW5kZXgsIGJJbmRleCwgY0luZGV4XTtcblxuICAgICAgICAgICAgICAgIGZhY2UgPSBGYWNlMy5jcmVhdGUoYUluZGV4LCBiSW5kZXgsIGNJbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG9iamVjdC51dkluZGljZXMpICYmIEdlb21ldHJ5VXRpbHMuaGFzRGF0YShvYmplY3RVVnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFVWKHV2cywgb2JqZWN0VVZzLCBvYmplY3QudXZJbmRpY2VzLCBpbmRleEFyciwgdmVydGljZUluZGljZUFycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShvYmplY3ROb3JtYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXROb3JtYWwoZmFjZS52ZXJ0ZXhOb3JtYWxzLCBvYmplY3ROb3JtYWxzLCBvYmplY3Qubm9ybWFsSW5kaWNlcywgaW5kZXhBcnIsIHZlcnRpY2VJbmRpY2VBcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZhY2VzLnB1c2goZmFjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9iamVjdC52ZXJ0aWNlcyA9IG9iamVjdFZlcnRpY2VzO1xuXG4gICAgICAgICAgICBpZiAoIUdlb21ldHJ5VXRpbHMuaGFzRGF0YShvYmplY3QudXZJbmRpY2VzKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdC51dnMgPSBvYmplY3RVVnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmplY3QudXZzID0gdXZzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3QuY29sb3JzID0gb2JqZWN0Q29sb3JzO1xuICAgICAgICAgICAgb2JqZWN0LmZhY2VzID0gZmFjZXM7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldE1vcnBoVGFyZ2V0cyhvYmplY3QsIG9iamVjdC52ZXJ0aWNlSW5kaWNlcywgb2JqZWN0Lm5vcm1hbEluZGljZXMpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcml2YXRlIF9nZXRBbmltTmFtZShmcmFtZU5hbWU6c3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBQQVRURVJOID0gLyhbYS16XSspXz8oXFxkKykvLFxuICAgICAgICAgICAgICAgIERFRkFVTFRfQU5JTV9OQU1FID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBmcmFtZU5hbWUubWF0Y2goUEFUVEVSTik7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJ0cyAmJiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBERUZBVUxUX0FOSU1fTkFNRTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbiAocmV0dXJuVmFsdWUsIG9iamVjdCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFvYmplY3QudmVydGljZUluZGljZXMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib2JqZWN0LnZlcnRpY2VJbmRpY2VzXCIsIFwiYmUgcmVtb3ZlZFwiKSk7XG4gICAgICAgICAgICBhc3NlcnQoIW9iamVjdC51dkluZGljZXMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib2JqZWN0LnV2SW5kaWNlc1wiLCBcImJlIHJlbW92ZWRcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KCFvYmplY3Qubm9ybWFsSW5kaWNlcywgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJvYmplY3Qubm9ybWFsSW5kaWNlc1wiLCBcImJlIHJlbW92ZWRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9yZW1vdmVSZWJ1bmRhbnRJbmRpY2VEYXRhKG9iamVjdDpXREZpbGVKc29uT2JqZWN0RGF0YSkge1xuICAgICAgICAgICAgZGVsZXRlIG9iamVjdC52ZXJ0aWNlSW5kaWNlcztcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QudXZJbmRpY2VzO1xuICAgICAgICAgICAgZGVsZXRlIG9iamVjdC5ub3JtYWxJbmRpY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlT2JqZWN0Q29udGFpbmVyRGF0YShvYmplY3Q6V0RGaWxlUGFyc2VPYmplY3REYXRhKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3ZlID0gbnVsbDtcblxuICAgICAgICAgICAgcmVtb3ZlID0gKG9iamVjdDpXREZpbGVQYXJzZU9iamVjdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QudmVydGljZXM7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QudXZzO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LmNvbG9ycztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVtb3ZlKG9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maW5kRGF0YShvYmplY3Q6V0RGaWxlUGFyc2VPYmplY3REYXRhLCBkYXRhTmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvYmplY3RbZGF0YU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKCFkYXRhICYmIChvYmplY3QgPSBvYmplY3QucGFyZW50KSAhPT0gbnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcml2YXRlIF9zZXRVVih0YXJnZXRVVnM6QXJyYXk8bnVtYmVyPiwgc291cmNlVVZzOkFycmF5PG51bWJlcj4sIHV2SW5kaWNlczpBcnJheTxudW1iZXI+LCBpbmRleEFycjpBcnJheTxudW1iZXI+LCB2ZXJ0aWNlSW5kaWNlQXJyOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHZhciB1dkluZGljZTEgPSBudWxsLFxuICAgICAgICAgICAgICAgIHV2SW5kaWNlMiA9IG51bGwsXG4gICAgICAgICAgICAgICAgdXZJbmRpY2UzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBbaW5kZXgxLCBpbmRleDIsIGluZGV4M10gPSBpbmRleEFycixcbiAgICAgICAgICAgICAgICBbYUluZGV4LCBiSW5kZXgsIGNJbmRleF0gPSB2ZXJ0aWNlSW5kaWNlQXJyO1xuXG4gICAgICAgICAgICB1dkluZGljZTEgPSB1dkluZGljZXNbaW5kZXgxXTtcbiAgICAgICAgICAgIHV2SW5kaWNlMiA9IHV2SW5kaWNlc1tpbmRleDJdO1xuICAgICAgICAgICAgdXZJbmRpY2UzID0gdXZJbmRpY2VzW2luZGV4M107XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFR3b0NvbXBvbmVudERhdGEodGFyZ2V0VVZzLCBzb3VyY2VVVnMsIGFJbmRleCwgdXZJbmRpY2UxKTtcbiAgICAgICAgICAgIHRoaXMuX3NldFR3b0NvbXBvbmVudERhdGEodGFyZ2V0VVZzLCBzb3VyY2VVVnMsIGJJbmRleCwgdXZJbmRpY2UyKTtcbiAgICAgICAgICAgIHRoaXMuX3NldFR3b0NvbXBvbmVudERhdGEodGFyZ2V0VVZzLCBzb3VyY2VVVnMsIGNJbmRleCwgdXZJbmRpY2UzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldFR3b0NvbXBvbmVudERhdGEodGFyZ2V0RGF0YSwgc291cmNlRGF0YSwgaW5kZXgsIGluZGljZSkge1xuICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDJdID0gc291cmNlRGF0YVtpbmRpY2UgKiAyXTtcbiAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAyICsgMV0gPSBzb3VyY2VEYXRhW2luZGljZSAqIDIgKyAxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldFRocmVlQ29tcG9uZW50RGF0YSh0YXJnZXREYXRhLCBzb3VyY2VEYXRhLCBpbmRleCwgaW5kaWNlKSB7XG4gICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogM10gPSBzb3VyY2VEYXRhW2luZGljZSAqIDNdO1xuICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDMgKyAxXSA9IHNvdXJjZURhdGFbaW5kaWNlICogMyArIDFdO1xuICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDMgKyAyXSA9IHNvdXJjZURhdGFbaW5kaWNlICogMyArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZURhdGE6QXJyYXk8bnVtYmVyPiwgaW5kZXg6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IDMgKiBpbmRleDtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbc3RhcnRJbmRleF0sXG4gICAgICAgICAgICAgICAgc291cmNlRGF0YVtzdGFydEluZGV4ICsgMV0sXG4gICAgICAgICAgICAgICAgc291cmNlRGF0YVtzdGFydEluZGV4ICsgMl1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXROb3JtYWwodGFyZ2V0Tm9ybWFsczp3ZENiLkNvbGxlY3Rpb248VmVjdG9yMz58QXJyYXk8bnVtYmVyPiwgc291cmNlTm9ybWFsczpBcnJheTxudW1iZXI+LCBub3JtYWxJbmRpY2VzOkFycmF5PG51bWJlcj4sIGluZGV4QXJyOkFycmF5PG51bWJlcj4sIHZlcnRpY2VJbmRpY2VBcnI6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdmFyIFtpbmRleDEsIGluZGV4MiwgaW5kZXgzXSA9IGluZGV4QXJyO1xuXG4gICAgICAgICAgICBpZiAoIUdlb21ldHJ5VXRpbHMuaGFzRGF0YShub3JtYWxJbmRpY2VzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5vcm1hbERhdGEodGFyZ2V0Tm9ybWFscywgc291cmNlTm9ybWFscywgdmVydGljZUluZGljZUFycik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZE5vcm1hbERhdGEodGFyZ2V0Tm9ybWFscywgc291cmNlTm9ybWFscywgW25vcm1hbEluZGljZXNbaW5kZXgxXSwgbm9ybWFsSW5kaWNlc1tpbmRleDJdLCBub3JtYWxJbmRpY2VzW2luZGV4M11dKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkTm9ybWFsRGF0YSh0YXJnZXROb3JtYWxzOndkQ2IuQ29sbGVjdGlvbjxWZWN0b3IzPnxBcnJheTxudW1iZXI+LCBzb3VyY2VOb3JtYWxzOkFycmF5PG51bWJlcj4sIG5vcm1hbEluZGljZUFycjpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICBsZXQgW2FJbmRleCwgYkluZGV4LCBjSW5kZXhdID0gbm9ybWFsSW5kaWNlQXJyO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0Tm9ybWFscyBpbnN0YW5jZW9mIHdkQ2IuQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRhcmdldE5vcm1hbHMuYWRkQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBhSW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGJJbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgY0luZGV4KVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBub3JtYWxzID0gPEFycmF5PG51bWJlcj4+dGFyZ2V0Tm9ybWFscztcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHYgb2YgW3RoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBhSW5kZXgpLCB0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgYkluZGV4KSwgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGNJbmRleCldKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCh2LngsIHYueSwgdi56KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRNb3JwaFRhcmdldHMob2JqZWN0OldERmlsZVBhcnNlT2JqZWN0RGF0YSwgdmVydGljZUluZGljZXM6QXJyYXk8bnVtYmVyPiwgbm9ybWFsSW5kaWNlczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0TW9ycGhUYXJnZXRzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcIm1vcnBoVGFyZ2V0c1wiKSxcbiAgICAgICAgICAgICAgICBtb3JwaFRhcmdldHMgPSBudWxsLFxuICAgICAgICAgICAgICAgIG1vcnBoTm9ybWFscyA9IG51bGw7XG5cblxuICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShvYmplY3RNb3JwaFRhcmdldHMpKSB7XG4gICAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzID0gd2RDYi5IYXNoLmNyZWF0ZTx3ZENiLkhhc2g8V0RGaWxlUGFyc2VNb3JwaFRhcmdldHNEYXRhPj4oKTtcbiAgICAgICAgICAgICAgICBtb3JwaE5vcm1hbHMgPSB3ZENiLkhhc2guY3JlYXRlPHdkQ2IuQ29sbGVjdGlvbjxBcnJheTxudW1iZXI+Pj4oKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGZyYW1lRGF0YSBvZiBvYmplY3RNb3JwaFRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFuaW1OYW1lID0gdGhpcy5fZ2V0QW5pbU5hbWUoZnJhbWVEYXRhLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1vcnBoVGFyZ2V0cy5hcHBlbmRDaGlsZChhbmltTmFtZSwgZnJhbWVEYXRhLnZlcnRpY2VzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKGZyYW1lRGF0YS5ub3JtYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShub3JtYWxJbmRpY2VzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdmVydGljZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0VGhyZWVDb21wb25lbnREYXRhKG5vcm1hbHMsIGZyYW1lRGF0YS5ub3JtYWxzLCB2ZXJ0aWNlSW5kaWNlc1tpXSwgbm9ybWFsSW5kaWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhOb3JtYWxzLmFwcGVuZENoaWxkKGFuaW1OYW1lLCBub3JtYWxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoTm9ybWFscy5hcHBlbmRDaGlsZChhbmltTmFtZSwgZnJhbWVEYXRhLm5vcm1hbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3QubW9ycGhUYXJnZXRzID0gbW9ycGhUYXJnZXRzO1xuICAgICAgICAgICAgb2JqZWN0Lm1vcnBoTm9ybWFscyA9IG1vcnBoTm9ybWFscztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgV0RCdWlsZGVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzdWx0OndkQ2IuSGFzaDxXREZpbGVSZXN1bHQ+ID0gd2RDYi5IYXNoLmNyZWF0ZTxXREZpbGVSZXN1bHQ+KCk7XG5cbiAgICAgICAgcHVibGljIGJ1aWxkKHBhcnNlRGF0YTpXREZpbGVQYXJzZURhdGEpOndkQ2IuSGFzaDxXREZpbGVSZXN1bHQ+e1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRNZXRhZGF0YShwYXJzZURhdGEpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRTY2VuZShwYXJzZURhdGEpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRNb2RlbHMocGFyc2VEYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRNZXRhZGF0YShwYXJzZURhdGE6V0RGaWxlUGFyc2VEYXRhKXtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gcGFyc2VEYXRhLm1ldGFkYXRhKXtcbiAgICAgICAgICAgICAgICBpZihwYXJzZURhdGEubWV0YWRhdGEuaGFzT3duUHJvcGVydHkoaSkpe1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YS5hZGRDaGlsZChpLCBwYXJzZURhdGEubWV0YWRhdGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LmFkZENoaWxkKFwibWV0YWRhdGFcIiwgbWV0YWRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRTY2VuZShwYXJzZURhdGE6V0RGaWxlUGFyc2VEYXRhKXtcbiAgICAgICAgICAgIHZhciBzY2VuZSA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgICAgICBpZihwYXJzZURhdGEuc2NlbmUuYW1iaWVudENvbG9yKXtcbiAgICAgICAgICAgICAgICBzY2VuZS5hZGRDaGlsZChcImFtYmllbnRDb2xvclwiLCBwYXJzZURhdGEuc2NlbmUuYW1iaWVudENvbG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LmFkZENoaWxkKFwic2NlbmVcIiwgc2NlbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRNb2RlbHMocGFyc2VEYXRhOldERmlsZVBhcnNlRGF0YSl7XG4gICAgICAgICAgICB2YXIgbW9kZWxzID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PigpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGJ1aWxkID0gbnVsbDtcblxuICAgICAgICAgICAgYnVpbGQgPSAob2JqZWN0czp3ZENiLkNvbGxlY3Rpb248V0RGaWxlUGFyc2VPYmplY3REYXRhPiwgbW9kZWxzOnthZGRDaGlsZDpGdW5jdGlvbn0pID0+IHtcbiAgICAgICAgICAgICAgICBvYmplY3RzLmZvckVhY2goKG9iamVjdDpXREZpbGVQYXJzZU9iamVjdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IEdhbWVPYmplY3QuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5faXNNb2RlbENvbnRhaW5lcihvYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyByZWZhY3Rvcj9cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZFRhZyhFV0RUYWcuQ09OVEFJTkVSKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBNb2RlbEdlb21ldHJ5LmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkudmVydGljZXMgPSBvYmplY3QudmVydGljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5mYWNlcyA9IG9iamVjdC5mYWNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LnRleENvb3JkcyA9IG9iamVjdC51dnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5jb2xvcnMgPSBvYmplY3QuY29sb3JzO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdC5tYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkubWF0ZXJpYWwgPSBzZWxmLl9idWlsZE1hdGVyaWFsKG9iamVjdC5tYXRlcmlhbCwgcGFyc2VEYXRhLm1hdGVyaWFscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0cyA9IG9iamVjdC5tb3JwaFRhcmdldHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5tb3JwaEZhY2VOb3JtYWxzID0gb2JqZWN0Lm1vcnBoTm9ybWFscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5Lm1vcnBoVmVydGV4Tm9ybWFscyA9IG9iamVjdC5tb3JwaE5vcm1hbHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShnZW9tZXRyeS5tb3JwaFRhcmdldHMpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoTW9ycGhBbmltYXRpb24uY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwubmFtZSA9IG9iamVjdC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoTWVzaFJlbmRlcmVyLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxzLmFkZENoaWxkKG1vZGVsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZihvYmplY3QuY2hpbGRyZW4pe1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGQob2JqZWN0LmNoaWxkcmVuLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJ1aWxkKHBhcnNlRGF0YS5vYmplY3RzLCBtb2RlbHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuYWRkQ2hpbGQoXCJtb2RlbHNcIiwgbW9kZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTW9kZWxDb250YWluZXIob2JqZWN0OldERmlsZVBhcnNlT2JqZWN0RGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlzQ29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRNYXRlcmlhbChtYXRlcmlhbE5hbWU6c3RyaW5nLCBtYXRlcmlhbHM6IHdkQ2IuSGFzaDxXREZpbGVQYXJzZU1hdGVyaWFsRGF0YT4pe1xuICAgICAgICAgICAgY29uc3QgREVGQVVMVFlQRSA9IFwiTGlnaHRNYXRlcmlhbFwiO1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgdHlwZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgICBbLG1hdGVyaWFsRGF0YV0gPSBtYXRlcmlhbHMuZmluZE9uZSgobWF0ZXJpYWw6V0RGaWxlUGFyc2VNYXRlcmlhbERhdGEsIG5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IG1hdGVyaWFsTmFtZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0eXBlID0gbWF0ZXJpYWxEYXRhLnR5cGUgfHwgREVGQVVMVFlQRTtcblxuICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IoIXdkW3R5cGVdLCB3ZENiLkxvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBtYXRlcmlhbENsYXNzOiR7dHlwZX1gKSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsID0gd2RbdHlwZV0uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbE5hbWU7XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbERhdGEuZGlmZnVzZUNvbG9yKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbERhdGEuZGlmZnVzZUNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGF0YS5zcGVjdWxhckNvbG9yKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1hdGVyaWFsRGF0YS5zcGVjdWxhckNvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLmRpZmZ1c2VNYXApIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5kaWZmdXNlTWFwID0gbWF0ZXJpYWxEYXRhLmRpZmZ1c2VNYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLnNwZWN1bGFyTWFwKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPSBtYXRlcmlhbERhdGEuc3BlY3VsYXJNYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLm5vcm1hbE1hcCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcCA9IG1hdGVyaWFsRGF0YS5ub3JtYWxNYXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbERhdGEuc2hpbmluZXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc2hpbmluZXNzID0gbWF0ZXJpYWxEYXRhLnNoaW5pbmVzcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGF0YS5vcGFjaXR5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IG1hdGVyaWFsRGF0YS5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBUWVBFID0ge1xuICAgICAgICBcIi5lb3RcIjogXCJlbWJlZGRlZC1vcGVudHlwZVwiLFxuICAgICAgICBcIi50dGZcIjogXCJ0cnVldHlwZVwiLFxuICAgICAgICBcIi53b2ZmXCI6IFwid29mZlwiLFxuICAgICAgICBcIi5zdmdcIjogXCJzdmdcIlxuICAgIH07XG5cbiAgICBkZWNsYXJlIHZhciBkb2N1bWVudDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgRm9udExvYWRlciBleHRlbmRzIExvYWRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFtaWx5TmFtZTpzdHJpbmcgPSBudWxsO1xuXG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgd2RDYi5Eb21RdWVyeS5jcmVhdGUoYCMke3RoaXMuX2ZhbWlseU5hbWV9YCkucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KC4uLmFyZ3MpOndkRnJwLlN0cmVhbSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZhbWlseU5hbWUgPSBmYW1pbHlOYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbVByb21pc2UobmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fYWRkU3R5bGVFbGVtZW50KGFyZ3MsIGZhbWlseU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZm9udHMpe1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKGAxZW0gJHtmYW1pbHlOYW1lfWApLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBMb2cud2FybihcInlvdXIgYnJvd3NlciBub3Qgc3VwcG9ydCBkb2N1bWVudC5mb250cyBhcGksIHNvIGl0IGNhbid0IGVuc3VyZSB0aGF0IHRoZSBmb250IGlzIGxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHVybDpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGV4dG5hbWUgPSB3ZENiLlBhdGhVdGlscy5leHRuYW1lKHVybCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgYXNzZXJ0KCEhVFlQRVtleHRuYW1lXSwgTG9nLmluZm8uRlVOQ19VTktOT1coYHR5cGU6JHtleHRuYW1lfWApKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0VHlwZSh1cmw6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBUWVBFW3dkQ2IuUGF0aFV0aWxzLmV4dG5hbWUodXJsKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFN0eWxlRWxlbWVudChhcmdzOmFueSwgZmFtaWx5TmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgbGV0IGZvbnRTdHlsZUVsZTp3ZENiLkRvbVF1ZXJ5ID0gd2RDYi5Eb21RdWVyeS5jcmVhdGUoYDxzdHlsZSBpZD1cIiR7ZmFtaWx5TmFtZX1cIj48L3N0eWxlPmApLFxuICAgICAgICAgICAgICAgIGZvbnRTdHIgPSBudWxsO1xuXG4gICAgICAgICAgICBmb250U3R5bGVFbGUucHJlcGVuZFRvKFwiYm9keVwiKTtcblxuICAgICAgICAgICAgZm9udFN0ciA9IGBAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6JHtmYW1pbHlOYW1lfTsgc3JjOmA7XG5cbiAgICAgICAgICAgIC8vdG9kbyB2ZXJpZnkgd2hldGhlciBjYW4gdXJsIGJlIGFyclxuICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgICAgIGxldCB1cmxBcnIgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgZm9yKGxldCB1cmwgb2YgdXJsQXJyKXtcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0ciArPSBgdXJsKCcke3VybH0nKSBmb3JtYXQoJyR7dGhpcy5fZ2V0VHlwZSh1cmwpfScpLGA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9udFN0ciA9IGZvbnRTdHIucmVwbGFjZSgvLCQvLCBcIjtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgZm9udFN0ciArPSBgdXJsKCcke3VybH0nKSBmb3JtYXQoJyR7dGhpcy5fZ2V0VHlwZSh1cmwpfScpO2A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvbnRTdHlsZUVsZS5nZXQoMCkudGV4dENvbnRlbnQgKz0gYCR7Zm9udFN0cn19O2A7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgLy9jb25zdCBJTkZPX0VYUCA9IC9pbmZvIFteXFxuXSooXFxufCQpL2dpLFxuICAgIGNvbnN0IENPTU1PTl9FWFAgPSAvY29tbW9uIFteXFxuXSooXFxufCQpL2dpLFxuICAgICAgICBQQUdFX0VYUCA9IC9wYWdlIFteXFxuXSooXFxufCQpL2dpLFxuICAgICAgICBDSEFSX0VYUCA9IC9jaGFyIFteXFxuXSooXFxufCQpL2dpLFxuICAgIC8vS0VSTklOR19FWFAgPSAva2VybmluZyBbXlxcbl0qKFxcbnwkKS9naSxcbiAgICAgICAgSVRFTV9FWFAgPSAvXFx3Kz1bXiBcXHJcXG5dKy9naSxcbiAgICAgICAgSU5UX0VYUCA9IC9eW1xcLV0/XFxkKyQvOyAgICAgICAvL1wiLVwiP1xuXG4gICAgZXhwb3J0IGNsYXNzIEZudFBhcnNlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGFyc2VGbnQoZm50U3RyOnN0cmluZywgdXJsOnN0cmluZykge1xuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgeEFkdmFuY2U6dGhlIG51bWJlciBvZiBwaXhlbHMgdGhlIGN1cnNvciBtb3ZlIGZvcndhcmQgdG8gZHJhdyB0aGUgbmV4dCBjaGFyIGFmdGVyIGRyYXcgY3VycmVudCBjaGFyXG4gICAgICAgICAgICAgeE9mZnNldDpwaXhlbCB4IG9mZnNldCBvZiBjdXJyZW50IGZvbnQgd2hlbiBkcmF3aW5nXG4gICAgICAgICAgICAgeU9mZnNldDpwaXhlbCB5IG9mZnNldCBvZiBjdXJyZW50IGZvbnQgd2hlbiBkcmF3aW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBmbnQgPSA8Rm50RGF0YT57fSxcbiAgICAgICAgICAgICAgICBjb21tb25PYmogPSBudWxsLFxuICAgICAgICAgICAgICAgIHBhZ2VPYmogPSBudWxsO1xuXG4gICAgICAgICAgICBjb21tb25PYmogPSB0aGlzLl9wYXJzZVN0clRvT2JqKGZudFN0ci5tYXRjaChDT01NT05fRVhQKVswXSk7XG5cbiAgICAgICAgICAgIGZudC5jb21tb25IZWlnaHQgPSBjb21tb25PYmpbXCJsaW5lSGVpZ2h0XCJdO1xuXG4gICAgICAgICAgICAvL3RvZG8gc3VwcG9ydCBwYWdlc1xuICAgICAgICAgICAgaWYgKGNvbW1vbk9ialtcInBhZ2VzXCJdICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcIm9ubHkgc3VwcG9ydHMgMSBwYWdlXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlT2JqID0gdGhpcy5fcGFyc2VTdHJUb09iaihmbnRTdHIubWF0Y2goUEFHRV9FWFApWzBdKTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VPYmpbXCJpZFwiXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy5sb2coXCJmaWxlIGNvdWxkIG5vdCBiZSBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm50LmF0bGFzTmFtZSA9IHdkQ2IuUGF0aFV0aWxzLmNoYW5nZUJhc2VuYW1lKHVybCwgPHN0cmluZz5wYWdlT2JqW1wiZmlsZVwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ2hhcihmbnRTdHIsIGZudCk7XG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIC8vdG9kbyBzdXBwb3J0IGtlcm5pbmdcbiAgICAgICAgICAgICBodHRwOi8vd3d3LmJsdWVpZGVhLmNvbS9kZXNpZ24vZG9jLzIwMDcvNTE2MC5hc3BcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIC8vdG9kbyB1c2UgcGFkZGluZz9cbiAgICAgICAgICAgIC8vcGFkZGluZyA9IHRoaXMuX3BhcnNlUGFkZGluZyhmbnRTdHIpXG5cbiAgICAgICAgICAgIHJldHVybiBmbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZVN0clRvT2JqKHN0cikge1xuICAgICAgICAgICAgdmFyIGFyciA9IHN0ci5tYXRjaChJVEVNX0VYUCksXG4gICAgICAgICAgICAgICAgb2JqID0gPGFueT57fTtcblxuICAgICAgICAgICAgaWYgKGFycikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHRlbXBTdHIgb2YgYXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRlbXBTdHIuaW5kZXhPZihcIj1cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSB0ZW1wU3RyLnN1YnN0cmluZygwLCBpbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTphbnkgPSB0ZW1wU3RyLnN1YnN0cmluZyhpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubWF0Y2goSU5UX0VYUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlWzBdID09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEsIHZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlQ2hhcihmbnRTdHI6c3RyaW5nLCBmbnQ6YW55KSB7XG4gICAgICAgICAgICB2YXIgY2hhckxpbmVzID0gZm50U3RyLm1hdGNoKENIQVJfRVhQKSxcbiAgICAgICAgICAgICAgICBmb250RGVmRGljdGlvbmFyeSA9IHt9O1xuXG5cbiAgICAgICAgICAgIGZvciAobGV0IGNoYXIgb2YgY2hhckxpbmVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoYXJPYmogPSB0aGlzLl9wYXJzZVN0clRvT2JqKGNoYXIpLFxuICAgICAgICAgICAgICAgICAgICBjaGFySWQgPSBjaGFyT2JqW1wiaWRcIl07XG5cbiAgICAgICAgICAgICAgICBmb250RGVmRGljdGlvbmFyeVtjaGFySWRdID0ge1xuICAgICAgICAgICAgICAgICAgICByZWN0OiB7eDogY2hhck9ialtcInhcIl0sIHk6IGNoYXJPYmpbXCJ5XCJdLCB3aWR0aDogY2hhck9ialtcIndpZHRoXCJdLCBoZWlnaHQ6IGNoYXJPYmpbXCJoZWlnaHRcIl19LFxuICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0OiBjaGFyT2JqW1wieG9mZnNldFwiXSxcbiAgICAgICAgICAgICAgICAgICAgeU9mZnNldDogY2hhck9ialtcInlvZmZzZXRcIl0sXG5cbiAgICAgICAgICAgICAgICAgICAgLy94QWR2YW5jZSBlcXVhbCB3aWR0aCBvZiBjaGFyIHRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgeEFkdmFuY2U6IGNoYXJPYmpbXCJ4YWR2YW5jZVwiXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZudC5mb250RGVmRGljdGlvbmFyeSA9IGZvbnREZWZEaWN0aW9uYXJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9wcml2YXRlIF9wYXJzZVBhZGRpbmcoZm50U3RyOnN0cmluZyl7XG4gICAgICAgIC8vICAgIHZhciBpbmZvT2JqID0gdGhpcy5fcGFyc2VTdHJUb09iaihmbnRTdHIubWF0Y2goSU5GT19FWFApWzBdKSxcbiAgICAgICAgLy8gICAgICAgIHBhZGRpbmdBcnIgPSBpbmZvT2JqW1wicGFkZGluZ1wiXS5zcGxpdCgnLCcpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICByZXR1cm4ge1xuICAgICAgICAvLyAgICAgICAgbGVmdDogcGFyc2VJbnQocGFkZGluZ0FyclswXSksXG4gICAgICAgIC8vICAgICAgICB0b3A6IHBhcnNlSW50KHBhZGRpbmdBcnJbMV0pLFxuICAgICAgICAvLyAgICAgICAgcmlnaHQ6IHBhcnNlSW50KHBhZGRpbmdBcnJbMl0pLFxuICAgICAgICAvLyAgICAgICAgYm90dG9tOiBwYXJzZUludChwYWRkaW5nQXJyWzNdKVxuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRm50TG9hZGVyIGV4dGVuZHMgTG9hZGVyIHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VyOkZudFBhcnNlciA9IEZudFBhcnNlci5jcmVhdGUoKTtcblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgYXNzZXJ0KCFKdWRnZVV0aWxzLmlzQXJyYXkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLm1hcCgoZm50U3RyOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fcGFyc2VyLnBhcnNlRm50KGZudFN0ciwgdXJsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEZudERhdGEgPSB7XG4gICAgICAgIGNvbW1vbkhlaWdodDpudW1iZXIsXG4gICAgICAgIGF0bGFzTmFtZTpzdHJpbmcsXG4gICAgICAgIGZvbnREZWZEaWN0aW9uYXJ5OiB7XG4gICAgICAgICAgICBbY2hhcklkOnN0cmluZ106e1xuICAgICAgICAgICAgICAgIHJlY3Q6IHt4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9LFxuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBudW1iZXIsXG5cbiAgICAgICAgICAgICAgICAvL3hhZHZhbmNl562J5LqO5a2X56ym57q555CG5a695bqmXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IG51bWJlclxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8qIVxuRGV2aWNlTWFuYWdlciBpcyByZXNwb25zaWJsZSBmb3IgZ2xvYmFsIHNldHRpbmcgb2YgZ2xcbiAqL1xubW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRGV2aWNlTWFuYWdlciB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2aWV3OklWaWV3ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGdsOldlYkdMUmVuZGVyaW5nQ29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyohXG4gICAgICAgIHRlc3Qgb3JkZXI6XG4gICAgICAgIHNjaXNzb3IgdGVzdCAtPiBkZXB0aCB0ZXN0IC0+IHN0ZW5jaWwgdGVzdCAtPiBzcGVjdWxhciBhZGQgLT4gZm9nIC0+IGFscGhhIGJsZW5kIC0+IHdyaXRlIG1hc2tcbiAgICAgICAgICovXG5cbiAgICAgICAgLyohXG4gICAgICAgICBUaGUgc2Npc3NvciB0ZXN0IGN1bGxzIHBpeGVscyB0aGF0IGFyZSBvdXRzaWRlIG9mIHRoZSBzY2lzc29yIHJlY3RhbmdsZSwgYSB1c2VyLWRlZmluZWQgcmVjdGFuZ3VsYXIgc3ViLXNlY3Rpb24gb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICAgICBUaGUgc2Npc3NvciByZWN0YW5nbGUgY291bGQgYmUgdXNlZCB0byBpbmRpY2F0ZSB0aGUgYXJlYSBvZiB0aGUgcmVuZGVyIHRhcmdldCB3aGVyZSB0aGUgZ2FtZSB3b3JsZCBpcyBkcmF3bi4gVGhlIGFyZWEgb3V0c2lkZSB0aGUgcmVjdGFuZ2xlIGlzIGN1bGxlZCBhbmQgY291bGQgYmUgZGV2b3RlZCB0byBhIGdhbWUncyBHVUkuIFRoZSBzY2lzc29yIHRlc3QgY2Fubm90IGN1bGwgbm9uLXJlY3Rhbmd1bGFyIGFyZWFzLlxuICAgICAgICAgU2Npc3NvciByZWN0YW5nbGVzIGNhbm5vdCBiZSBzZXQgbGFyZ2VyIHRoYW4gdGhlIHJlbmRlciB0YXJnZXQsIGJ1dCB0aGV5IGNhbiBiZSBzZXQgbGFyZ2VyIHRoYW4gdGhlIHZpZXdwb3J0LlxuICAgICAgICAgVGhlIHNjaXNzb3IgcmVjdGFuZ2xlIGlzIG1hbmFnZWQgYnkgYSBkZXZpY2UgcmVuZGVyIHN0YXRlLiBBIHNjaXNzb3IgdGVzdCBpcyBlbmFibGVkIG9yIGRpc2FibGVkIGJ5IHNldHRpbmcgdGhlIHJlbmRlcnN0YXRlIHRvIFRSVUUgb3IgRkFMU0UuIFRoaXMgdGVzdCBpcyBwZXJmb3JtZWQgYWZ0ZXIgdGhlIGZyYWdtZW50IGNvbG9yIGlzIGNvbXB1dGVkIGJ1dCBiZWZvcmUgYWxwaGEgdGVzdGluZy4gSURpcmVjdDNERGV2aWNlOVxuICAgICAgICAgKi9cbiAgICAgICAgcHJpdmF0ZSBfc2Npc3NvclRlc3Q6Ym9vbGVhbiA9IG51bGw7XG4gICAgICAgIGdldCBzY2lzc29yVGVzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaXNzb3JUZXN0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBzY2lzc29yVGVzdChzY2lzc29yVGVzdDpib29sZWFuKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmIChzY2lzc29yVGVzdCkge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yVGVzdCA9IHNjaXNzb3JUZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBzZXRTY2lzc29yXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXQgdGhlIGFjdGl2ZSBzY2lzc29yIHJlY3RhbmdsZSBvbiB0aGUgc3BlY2lmaWVkIGRldmljZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHBpeGVsIHNwYWNlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIGxlZnQgY29ybmVyIG9mIHRoZSBzY2lzc29yIHJlY3RhbmdsZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHBpeGVsIHNwYWNlIHktY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIGxlZnQgY29ybmVyIG9mIHRoZSBzY2lzc29yIHJlY3RhbmdsZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHcgVGhlIHdpZHRoIG9mIHRoZSBzY2lzc29yIHJlY3RhbmdsZSBpbiBwaXhlbHMuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoIFRoZSBoZWlnaHQgb2YgdGhlIHNjaXNzb3IgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRTY2lzc29yKHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmdsLnNjaXNzb3IoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zY2lzc29yVGVzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Npc3NvclRlc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyohIERpZmZlcmVuY2UgYmV0d2VlbiB2aWV3cG9ydHMgYW5kIHNjaXNzb3IgcmVjdGFuZ2xlc1xuXG4gICAgICAgICBWaWV3cG9ydHMgYXJlIGJhc2ljYWxseSBzY2FsZWQgdmlld3MsIHRoZSBsZWZ0IHNpZGUgaXMgMCBhbmQgdGhlIHJpZ2h0IHNpZGUgaXMgMS4gVGhlIGVudGlyZSB2aWV3IHdpbGwgYmUgc2NhbGVkIGRvd24gaW50byB0aGF0IHZpZXdwb3J0IGFmdGVyIGV2ZXJ5dGhpbmcgaXMgcHJvamVjdGVkLlxuXG4gICAgICAgICBTY2lzc29yIHRlc3RzIGNsaXAgdG8gYSByZWN0YW5nbGUgaW5zaWRlIHRoYXQgdmlld3BvcnQuIEluc3RlYWQgb2YgcmVuZGVyaW5nIGZyb20gMCB0byAxLCB5b3UgcmVuZGVyIGZyb20gLjIgdG8gLjgsIHdpdGggYmxhY2sgYmFycyBvbiB0aGUgb3V0c2lkZS4gVGhpcyBhY3R1YWxseSBjdXRzIG9mZiBhIHBvcnRpb24gb2Ygd2hhdCB3b3VsZCBub3JtYWxseSBiZSB2aXNpYmxlIChpZiB5b3UgdXNlZCBhIHZpZXdwb3J0IG9mIHRoZSBzYW1lIHNpemUsIHlvdSdkIHNlZSB0aGUgc2FtZSBhbW91bnQgYnV0IHNocnVuayBzbGlnaHRseSkuXG5cbiAgICAgICAgIFZpZXdwb3J0cyBhcmUgdXNlZCBmb3IgZnVsbCB2aWV3cyAoY29uc2lkZXIgM0QgU3R1ZGlvIE1heCwgZWFjaCB2aWV3cG9ydCBpcyB0aGUgZnVsbCB2aWV3IGZyb20gdGhhdCBhbmdsZSwgYnV0IGZpdCBpbnRvIGEgc2luZ2xlIHNxdWFyZSkuIFNjaXNzb3IgdGVzdHMgYXJlIHVzZWQgdG8gY3V0IG91dCBleHRyYSBwaXhlbHMgdGhhdCB5b3UgZG9uJ3Qgd2FudC9uZWVkIHRvIGJlIGFmZmVjdGVkIChsaWdodHMgaW4gZGVmZXJyZWQgcmVuZGVyaW5nLCBmb3IgaW5zdGFuY2UsIGV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGUgcmFuZ2UgaXMgbm90IGFmZmVjdGVkLCBzbyB3aHkgYm90aGVyIGNhbGN1bGF0aW5nIHRoYXQgaWYgeW91IGFscmVhZHkga25vdyBpdCdzIG5vdCBsaXQsIGp1c3Qgc2Npc3NvciBhcm91bmQgdGhlIHByb2plY3RlZCBzcGhlcmUgYW5kIGZvcmdldCBhYm91dCBldmVyeXRoaW5nIGJleW9uZCB0aGF0KS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBzZXRWaWV3cG9ydFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2V0IHRoZSBhY3RpdmUgcmVjdGFuZ2xlIGZvciByZW5kZXJpbmcgb24gdGhlIHNwZWNpZmllZCBkZXZpY2UuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSBwaXhlbCBzcGFjZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJvdHRvbSBsZWZ0IGNvcm5lciBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSBwaXhlbCBzcGFjZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJvdHRvbSBsZWZ0IGNvcm5lciBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3IFRoZSB3aWR0aCBvZiB0aGUgdmlld3BvcnQgaW4gcGl4ZWxzLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gaCBUaGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCBpbiBwaXhlbHMuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0Vmlld3BvcnQoeDpudW1iZXIsIHk6bnVtYmVyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vdG9kbyBzZXQgZGVwdGggZnVuYz9cbiAgICAgICAgLyohIOm7mOiupOaDheWGteaYr+WwhumcgOimgee7mOWItueahOaWsOWDj+e0oOeahHrlgLzkuI7mt7HluqbnvJPlhrLljLrkuK3lr7nlupTkvY3nva7nmoR65YC86L+b6KGM5q+U6L6D77yM5aaC5p6c5q+U5rex5bqm57yT5a2Y5Lit55qE5YC85bCP77yM6YKj5LmI55So5paw5YOP57Sg55qE6aKc6Imy5YC85pu05paw5bin57yT5a2Y5Lit5a+55bqU5YOP57Sg55qE6aKc6Imy5YC844CCXG4gICAgICAgICDkvYbmmK/lj6/ku6Xkvb/nlKhnbERlcHRoRnVuYyhmdW5jKeadpeWvuei/meenjem7mOiupOa1i+ivleaWueW8j+i/m+ihjOS/ruaUueOAglxuICAgICAgICAg5YW25Lit5Y+C5pWwZnVuY+eahOWAvOWPr+S7peS4ukdMX05FVkVS77yI5rKh5pyJ5aSE55CG77yJ44CBR0xfQUxXQVlT77yI5aSE55CG5omA5pyJ77yJ44CBR0xfTEVTU++8iOWwj+S6ju+8ieOAgUdMX0xFUVVBTO+8iOWwj+S6juetieS6ju+8ieOAgUdMX0VRVUFM77yI562J5LqO77yJ44CBR0xfR0VRVUFM77yI5aSn5LqO562J5LqO77yJ44CBR0xfR1JFQVRFUu+8iOWkp+S6ju+8ieaIlkdMX05PVEVRVUFM77yI5LiN562J5LqO77yJ77yM5YW25Lit6buY6K6k5YC85pivR0xfTEVTU+OAglxuXG4gICAgICAgICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcbiAgICAgICAgICovXG5cbiAgICAgICAgcHJpdmF0ZSBfZGVwdGhUZXN0OmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBnZXQgZGVwdGhUZXN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlcHRoVGVzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCBkZXB0aFRlc3QoZGVwdGhUZXN0OmJvb2xlYW4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXB0aFRlc3QgIT09IGRlcHRoVGVzdCkge1xuICAgICAgICAgICAgICAgIGlmIChkZXB0aFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFRlc3QgPSBkZXB0aFRlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXB0aEZ1bmM6RURlcHRoRnVuY3Rpb24gPSBudWxsO1xuICAgICAgICBnZXQgZGVwdGhGdW5jKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVwdGhGdW5jO1xuICAgICAgICB9XG4gICAgICAgIHNldCBkZXB0aEZ1bmMoZGVwdGhGdW5jOkVEZXB0aEZ1bmN0aW9uKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXB0aEZ1bmMgIT09IGRlcHRoRnVuYykge1xuICAgICAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbFtkZXB0aEZ1bmNdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RlcHRoRnVuYyA9IGRlcHRoRnVuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfc2lkZTpFU2lkZSA9IG51bGw7XG4gICAgICAgIGdldCBzaWRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpZGU7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgc2lkZShzaWRlOkVTaWRlKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2lkZSAhPT0gc2lkZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVTaWRlLk5PTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmN1bGxGYWNlKGdsLkZST05UX0FORF9CQUNLKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVTaWRlLkJPVEg6XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFU2lkZS5GUk9OVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuY3VsbEZhY2UoZ2wuQkFDSyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFU2lkZS5CQUNLOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5jdWxsRmFjZShnbC5GUk9OVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChcInNpZGVcIiwgc2lkZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2lkZSA9IHNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiFcbiAgICAgICAgIOWBj+enu+WAvOaYr+WcqHrlgLzorqHnrpflkI7jgIHmt7Hluqbmo4DmtYvkuYvliY3liqDkuIrnmoTvvIzmraTml7blnZDmoIflt7Lnu4/ooqvmmKDlsITliLBOb3JtYWxpemVkIERldmljZSBDb29yZGluYXRlc+S4reS6hu+8jFxuICAgICAgICAg6ICM5q2k5pe255qEeui9tOaYr+WQkeWGheeahO+8iG9wZW5nbOeahHrovbTmmK/lkJHlpJbnmoTvvInvvIzlm6DmraTlpJrovrnlvaLlgY/np7vph4/kuLrmraPlgLznmoTor53vvIzmhI/lkbPnnYDlvoDov5zlpITnp7vliqjvvIzlkKbliJnlvoDov5HlpITnp7vliqjjgIJcbiAgICAgICAgIOWPr+WPguiAg+S4i+mdoueahOivtOaYju+8mlxuICAgICAgICAgVGhlIHJlc3VsdHMgYXJlIHN1bW1lZCB0byBwcm9kdWNlIHRoZSBkZXB0aCBvZmZzZXQuIFRoaXMgb2Zmc2V0IGlzIGFwcGxpZWQgaW4gc2NyZWVuIHNwYWNlLCB0eXBpY2FsbHkgd2l0aCBwb3NpdGl2ZSBaIHBvaW50aW5nIGludG8gdGhlIHNjcmVlbi5cbiAgICAgICAgIHRoZSBvZmZzZXQgaXMgY2FsY3VsYXRlZCBhZnRlciB0aGUgbm9ybWFsIFogY2FsY3VsYXRpb25zLCBidXQgYXBwbGllZCBiZWZvcmUgdGhlIGRlcHRoIHRlc3QgYW5kIGJlZm9yZSBiZWluZyB3cml0dGVuIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgcG9seWdvbk9mZnNldDpWZWN0b3IyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9wb2x5Z29uT2Zmc2V0TW9kZTpFUG9seWdvbk9mZnNldE1vZGUgPSBudWxsO1xuICAgICAgICBnZXQgcG9seWdvbk9mZnNldE1vZGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0TW9kZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcG9seWdvbk9mZnNldE1vZGUocG9seWdvbk9mZnNldE1vZGU6RVBvbHlnb25PZmZzZXRNb2RlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wb2x5Z29uT2Zmc2V0TW9kZSAhPT0gcG9seWdvbk9mZnNldE1vZGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvbHlnb25PZmZzZXRNb2RlKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFUG9seWdvbk9mZnNldE1vZGUuTk9ORTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnBvbHlnb25PZmZzZXQoMC4wLCAwLjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVQb2x5Z29uT2Zmc2V0TW9kZS5JTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnBvbHlnb25PZmZzZXQoMS4wLCAxLjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVBvbHlnb25PZmZzZXRNb2RlLk9VVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnBvbHlnb25PZmZzZXQoLTEuMCwgLTEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFUG9seWdvbk9mZnNldE1vZGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKCF0aGlzLnBvbHlnb25PZmZzZXQsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJwb2x5Z29uT2Zmc2V0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnBvbHlnb25PZmZzZXQodGhpcy5wb2x5Z29uT2Zmc2V0LngsIHRoaXMucG9seWdvbk9mZnNldC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9seWdvbk9mZnNldE1vZGUgPSBwb2x5Z29uT2Zmc2V0TW9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RlcHRoV3JpdGU6Ym9vbGVhbiA9IG51bGw7XG4gICAgICAgIGdldCBkZXB0aFdyaXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVwdGhXcml0ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZGVwdGhXcml0ZShkZXB0aFdyaXRlOmJvb2xlYW4pe1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlcHRoV3JpdGUgIT09IGRlcHRoV3JpdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdsLmRlcHRoTWFzayhkZXB0aFdyaXRlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RlcHRoV3JpdGUgPSBkZXB0aFdyaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyohIGJsZW5kIHJlY29yZFxuICAgICAgICDmiYDosJPmupDpopzoibLlkoznm67moIfpopzoibLvvIzmmK/ot5/nu5jliLbnmoTpobrluo/mnInlhbPnmoTjgILlgYflpoLlhYjnu5jliLbkuobkuIDkuKrnuqLoibLnmoTniankvZPvvIzlho3lnKjlhbbkuIrnu5jliLbnu7/oibLnmoTniankvZPjgILliJnnu7/oibLmmK/mupDpopzoibLvvIznuqLoibLmmK/nm67moIfpopzoibLjgILlpoLmnpzpobrluo/lj43ov4fmnaXvvIzliJkg57qi6Imy5bCx5piv5rqQ6aKc6Imy77yM57u/6Imy5omN5piv55uu5qCH6aKc6Imy44CC5Zyo57uY5Yi25pe277yM5bqU6K+l5rOo5oSP6aG65bqP77yM5L2/5b6X57uY5Yi255qE5rqQ6aKc6Imy5LiO6K6+572u55qE5rqQ5Zug5a2Q5a+55bqU77yM55uu5qCH6aKc6Imy5LiO6K6+572u55qE55uu5qCH5Zug5a2Q5a+55bqU44CC5LiN6KaB6KKr5re35Lmx55qE6aG65bqP5pCe5pmVIOS6huOAglxuXG5cbiAgICAgICAgIOS5n+iuuOS9oOi/q+S4jeWPiuW+heeahOaDs+imgee7mOWItuS4gOS4quS4iee7tOeahOW4puacieWNiumAj+aYjueJqeS9k+eahOWcuuaZr+S6huOAguS9huaYr+eOsOWcqOaBkOaAlei/mOS4jeihjO+8jOi/mOacieS4gOeCueaYr+WcqOi/m+ihjOS4iee7tOWcuuaZr+eahOa3t+WQiOaXtuW/hemhu+azqOaEj+eahO+8jOmCo+WwseaYr+a3seW6pue8k+WGsuOAglxuICAgICAgICAg5oC757uT6LW35p2l77yM57uY5Yi26aG65bqP5bCx5piv77ya6aaW5YWI57uY5Yi25omA5pyJ5LiN6YCP5piO55qE54mp5L2T44CC5aaC5p6c5Lik5Liq54mp5L2T6YO95piv5LiN6YCP5piO55qE77yM5YiZ6LCB5YWI6LCB5ZCOIOmDveayoeacieWFs+ezu+OAgueEtuWQju+8jOWwhua3seW6pue8k+WGsuWMuuiuvue9ruS4uuWPquivu+OAguaOpeS4i+adpe+8jOe7mOWItuaJgOacieWNiumAj+aYjueahOeJqeS9k+OAguWmguaenOS4pOS4queJqeS9k+mDveaYr+WNiumAj+aYjueahO+8jOWImeiwgeWFiOiwgeWQjuWPqumcgOimgeagueaNruiHquW3seeahOaEj+aEv++8iOazqOaEj+S6hu+8jOWFiOe7mOWItiDnmoTlsIbmiJDkuLrigJznm67moIfpopzoibLigJ3vvIzlkI7nu5jliLbnmoTlsIbmiJDkuLrigJzmupDpopzoibLigJ3vvIzmiYDku6Xnu5jliLbnmoTpobrluo/lsIbkvJrlr7nnu5PmnpzpgKDmiJDkuIDkupvlvbHlk43vvInjgILmnIDlkI7vvIzlsIbmt7HluqbnvJPlhrLljLrorr7nva7kuLrlj6/or7vlj6/lhpnlvaLlvI/jgIJcblxuICAgICAgICAg5Zyo6L+b6KGM5re35ZCI5pe277yM57uY5Yi255qE6aG65bqP5Y2B5YiG6YeN6KaB44CC5Zug5Li65Zyo57uY5Yi25pe277yM5q2j6KaB57uY5Yi25LiK5Y6755qE5piv5rqQ6aKc6Imy77yM5Y6f5p2l5a2Y5Zyo55qE5piv55uu5qCH6aKc6Imy77yM5Zug5q2k5YWI57uY5Yi255qE54mp5L2T5bCx5oiQ5Li655uu5qCH6aKc6Imy77yM5ZCO5p2l57uY5Yi255qE5YiZ5oiQ5Li65rqQ6aKc6Imy44CC57uY5Yi255qE6aG65bqP6KaB6ICD6JmR5riF5qWa77yM5bCG55uu5qCH6aKc6Imy5ZKM6K6+572u55qE55uu5qCH5Zug5a2Q55u45a+55bqU77yM5rqQ6aKc6Imy5ZKM6K6+572u55qE5rqQ5Zug5a2Q55u45a+55bqU44CCXG4gICAgICAgICDlnKjov5vooYzkuInnu7Tmt7flkIjml7bvvIzkuI3ku4XopoHogIPomZHmupDlm6DlrZDlkoznm67moIflm6DlrZDvvIzov5jlupTor6XogIPomZHmt7HluqbnvJPlhrLljLrjgILlv4XpobvlhYjnu5jliLbmiYDmnInkuI3pgI/mmI7nmoTniankvZPvvIzlho3nu5jliLbljYrpgI/mmI7nmoTniankvZPjgILlnKjnu5jliLbljYrpgI/mmI7niankvZPml7bliY3vvIzov5jpnIDopoHlsIbmt7HluqbnvJPlhrLljLrorr7nva7kuLrlj6ror7vlvaLlvI/vvIzlkKbliJnlj6/og73lh7rnjrDnlLvpnaLplJnor6/jgIJcbiAgICAgICAgKi9cblxuICAgICAgICBwcml2YXRlIF9ibGVuZDpib29sZWFuID0gbnVsbDtcbiAgICAgICAgZ2V0IGJsZW5kKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kKGJsZW5kOmJvb2xlYW4pe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2JsZW5kICE9PSBibGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChibGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmQgPSBibGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0QmxlbmRGdW5jdGlvblxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29uZmlndXJlcyBibGVuZGluZyBvcGVyYXRpb25zLlxuICAgICAgICAgKiBAcGFyYW0ge3BjLkJMRU5ETU9ERX0gYmxlbmRTcmMgVGhlIHNvdXJjZSBibGVuZCBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtwYy5CTEVORE1PREV9IGJsZW5kRHN0IFRoZSBkZXN0aW5hdGlvbiBibGVuZCBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRCbGVuZEZ1bmMoYmxlbmRTcmM6RUJsZW5kRnVuYywgYmxlbmREc3Q6RUJsZW5kRnVuYykge1xuICAgICAgICAgICAgaWYgKCh0aGlzLl9ibGVuZFNyYyAhPT0gYmxlbmRTcmMpIHx8ICh0aGlzLl9ibGVuZERzdCAhPT0gYmxlbmREc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmQgJiYgdGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbFtibGVuZFNyY10sIHRoaXMuZ2xbYmxlbmREc3RdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZFNyYyA9IGJsZW5kU3JjO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kRHN0ID0gYmxlbmREc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyohXG4gICAgICAgICBPcGVuR0wgZ2l2ZXMgdXMgZXZlbiBtb3JlIGZsZXhpYmlsaXR5IGJ5IGFsbG93aW5nIHVzIHRvIGNoYW5nZSB0aGUgb3BlcmF0b3IgYmV0d2VlbiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBwYXJ0IG9mIHRoZSBlcXVhdGlvbi4gUmlnaHQgbm93LCB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBjb21wb25lbnRzIGFyZSBhZGRlZCB0b2dldGhlciwgYnV0IHdlIGNvdWxkIGFsc28gc3VidHJhY3QgdGhlbSBpZiB3ZSB3YW50LiBnbEJsZW5kRXF1YXRpb24oR0xlbnVtIG1vZGUpIGFsbG93cyB1cyB0byBzZXQgdGhpcyBvcGVyYXRpb24gYW5kIGhhcyAzIHBvc3NpYmxlIG9wdGlvbnM6XG5cbiAgICAgICAgIEdMX0ZVTkNfQUREOiB0aGUgZGVmYXVsdCwgYWRkcyBib3RoIGNvbXBvbmVudHMgdG8gZWFjaCBvdGhlcjogQ8KvcmVzdWx0PVNyYytEc3QuXG4gICAgICAgICBHTF9GVU5DX1NVQlRSQUNUOiBzdWJ0cmFjdHMgYm90aCBjb21wb25lbnRzIGZyb20gZWFjaCBvdGhlcjogQ8KvcmVzdWx0PVNyY+KIkkRzdC5cbiAgICAgICAgIEdMX0ZVTkNfUkVWRVJTRV9TVUJUUkFUaGUgZGVmYXVsdCBibGVuZCBlcXVhdGlvbiBpc1xuXG4gICAgICAgICBkZWZhdWx0IGlzIEZVTkNfQUREXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0QmxlbmRFcXVhdGlvblxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29uZmlndXJlcyB0aGUgYmxlbmRpbmcgZXF1YXRpb24uIC5cbiAgICAgICAgICogQHBhcmFtIGJsZW5kRXF1YXRpb24gVGhlIGJsZW5kIGVxdWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldEJsZW5kRXF1YXRpb24oYmxlbmRFcXVhdGlvbjpFQmxlbmRFcXVhdGlvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JsZW5kRXF1YXRpb24gIT09IGJsZW5kRXF1YXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZCAmJiB0aGlzLmdsLmJsZW5kRXF1YXRpb24odGhpcy5nbFtibGVuZEVxdWF0aW9uXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRFcXVhdGlvbiA9IGJsZW5kRXF1YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0QmxlbmRGdW5jU2VwYXJhdGUoYmxlbmRGdW5jU2VwYXJhdGU6QXJyYXk8RUJsZW5kRnVuYz4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGUgfHwgdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGVbMF0gIT09IGJsZW5kRnVuY1NlcGFyYXRlWzBdIHx8IHRoaXMuX2JsZW5kRnVuY1NlcGFyYXRlWzFdICE9PSBibGVuZEZ1bmNTZXBhcmF0ZVsxXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kICYmIGdsLmJsZW5kRnVuY1NlcGFyYXRlKGdsW2JsZW5kRnVuY1NlcGFyYXRlWzBdXSwgZ2xbYmxlbmRGdW5jU2VwYXJhdGVbMV1dLCBnbFtibGVuZEZ1bmNTZXBhcmF0ZVsyXV0sIGdsW2JsZW5kRnVuY1NlcGFyYXRlWzNdXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGUgPSBibGVuZEZ1bmNTZXBhcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRCbGVuZEVxdWF0aW9uU2VwYXJhdGUoYmxlbmRFcXVhdGlvblNlcGFyYXRlOkFycmF5PEVCbGVuZEVxdWF0aW9uPikge1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9ibGVuZEVxdWF0aW9uU2VwYXJhdGUgfHwgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlWzBdICE9PSBibGVuZEVxdWF0aW9uU2VwYXJhdGVbMF0gfHwgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlWzFdICE9PSBibGVuZEVxdWF0aW9uU2VwYXJhdGVbMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZCAmJiBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2xbYmxlbmRFcXVhdGlvblNlcGFyYXRlWzBdXSwgZ2xbYmxlbmRFcXVhdGlvblNlcGFyYXRlWzFdXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlID0gYmxlbmRFcXVhdGlvblNlcGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldENvbG9yV3JpdGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGVzIHRvIHRoZSBjb2xvciBidWZmZXIuIE9uY2UgdGhpcyBzdGF0ZVxuICAgICAgICAgKiBpcyBzZXQsIGl0IHBlcnNpc3RzIHVudGlsIGl0IGlzIGNoYW5nZWQuIEJ5IGRlZmF1bHQsIGNvbG9yIHdyaXRlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgKiBmb3IgYWxsIGNvbG9yIGNoYW5uZWxzLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlUmVkIHRydWUgdG8gZW5hYmxlIHdyaXRpbmcgIG9mIHRoZSByZWQgY2hhbm5lbCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlR3JlZW4gdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGdyZWVuIGNoYW5uZWwgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSB3cml0ZUJsdWUgdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGJsdWUgY2hhbm5lbCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlQWxwaGEgdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGFscGhhIGNoYW5uZWwgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gSnVzdCB3cml0ZSBhbHBoYSBpbnRvIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgICAgICogZGV2aWNlLnNldENvbG9yV3JpdGUoZmFsc2UsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sb3JXcml0ZSh3cml0ZVJlZCwgd3JpdGVHcmVlbiwgd3JpdGVCbHVlLCB3cml0ZUFscGhhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd3JpdGVSZWQgIT09IHdyaXRlUmVkXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fd3JpdGVHcmVlbiAhPT0gd3JpdGVHcmVlblxuICAgICAgICAgICAgICAgIHx8IHRoaXMuX3dyaXRlQmx1ZSAhPT0gd3JpdGVCbHVlXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fd3JpdGVBbHBoYSAhPT0gd3JpdGVBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2wuY29sb3JNYXNrKHdyaXRlUmVkLCB3cml0ZUdyZWVuLCB3cml0ZUJsdWUsIHdyaXRlQWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVSZWQgPSB3cml0ZVJlZDtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUdyZWVuID0gd3JpdGVHcmVlbjtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUJsdWUgPSB3cml0ZUJsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVBbHBoYSA9IHdyaXRlQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF93cml0ZVJlZDpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfd3JpdGVHcmVlbjpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfd3JpdGVCbHVlOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF93cml0ZUFscGhhOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9ibGVuZFNyYzpFQmxlbmRGdW5jID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmREc3Q6RUJsZW5kRnVuYyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2JsZW5kRXF1YXRpb246IEVCbGVuZEVxdWF0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRGdW5jU2VwYXJhdGU6QXJyYXk8RUJsZW5kRnVuYz4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9ibGVuZEVxdWF0aW9uU2VwYXJhdGU6QXJyYXk8RUJsZW5kRXF1YXRpb24+ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgY2xlYXIob3B0aW9uczphbnkpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2wsXG4gICAgICAgICAgICAgICAgY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuXG4gICAgICAgICAgICBnbC5jbGVhckNvbG9yKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIGNvbG9yLmEpO1xuXG4gICAgICAgICAgICB0aGlzLnNldENvbG9yV3JpdGUodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUIHwgZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVHTChjYW52YXNJZDpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGNhbnZhc0lkKXtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShjYW52YXNJZCkuZ2V0KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShcIjxjYW52YXM+PC9jYW52YXM+XCIpLnByZXBlbmRUbyhcImJvZHlcIikuZ2V0KDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSBWaWV3V2ViR0wuY3JlYXRlKGNhbnZhcyk7XG4gICAgICAgICAgICB0aGlzLmdsID0gdGhpcy52aWV3LmdldENvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoTWFpbi5zY3JlZW5TaXplICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChcIk1haW4uc2NyZWVuU2l6ZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzZXRTY3JlZW4oKXtcbiAgICAgICAgICAgIHZhciBzY3JlZW5TaXplID0gTWFpbi5zY3JlZW5TaXplLFxuICAgICAgICAgICAgICAgIHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHkgPSBudWxsLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihzY3JlZW5TaXplID09PSBFU2NyZWVuU2l6ZS5GVUxMKXtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHJvb3QuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSByb290LmlubmVySGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgd2RDYi5Eb21RdWVyeS5jcmVhdGUoXCJib2R5XCIpLmNzcyhcIm1hcmdpblwiLCBcIjBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHggPSBzY3JlZW5TaXplLnggfHwgMDtcbiAgICAgICAgICAgICAgICB5ID0gc2NyZWVuU2l6ZS55IHx8IDA7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBzY3JlZW5TaXplLndpZHRoIHx8IHJvb3QuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBzY3JlZW5TaXplLmhlaWdodCB8fCByb290LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXcueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnZpZXcueSA9IHk7XG4gICAgICAgICAgICB0aGlzLnZpZXcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBFRGVwdGhGdW5jdGlvbntcbiAgICAgICAgTkVWRVIgPSA8YW55PlwiTkVWRVJcIixcbiAgICAgICAgQUxXQVlTID0gPGFueT5cIkFMV0FZU1wiLFxuICAgICAgICBMRVNTID0gPGFueT5cIkxFU1NcIixcbiAgICAgICAgTEVRVUFMID0gPGFueT5cIkxFUVVBTFwiLFxuICAgICAgICBFUVVBTCA9IDxhbnk+XCJFUVVBTFwiLFxuICAgICAgICBHRVFVQUwgPSA8YW55PlwiR0VRVUFMXCIsXG4gICAgICAgIEdSRUFURVIgPSA8YW55PlwiR1JFQVRFUlwiLFxuICAgICAgICBOT1RFUVVBTCA9IDxhbnk+XCJOT1RFUVVBTFwiXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRVNpZGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIEJPVEgsXG4gICAgICAgIC8vQ0NXXG4gICAgICAgIEJBQ0ssXG4gICAgICAgIC8vQ1dcbiAgICAgICAgRlJPTlRcbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBFUG9seWdvbk9mZnNldE1vZGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIElOLFxuICAgICAgICBPVVQsXG4gICAgICAgIENVU1RPTVxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVCbGVuZEZ1bmN7XG4gICAgICAgIFpFUk8gPSA8YW55PlwiWkVPUlwiLFxuICAgICAgICBPTkUgPSA8YW55PlwiT05FXCIsXG4gICAgICAgIFNSQ19DT0xPUiA9IDxhbnk+XCJTUkNfQ09MT1JcIixcbiAgICAgICAgT05FX01JTlVTX1NSQ19DT0xPUiA9IDxhbnk+XCJPTkVfTUlOVVNfU1JDX0NPTE9SXCIsXG4gICAgICAgIERTVF9DT0xPUiA9IDxhbnk+XCJEU1RfQ09MT1JcIixcbiAgICAgICAgT05FX01JTlVTX0RTVF9DT0xPUiA9IDxhbnk+XCJPTkVfTUlOVVNfRFNUX0NPTE9SXCIsXG4gICAgICAgIFNSQ19BTFBIQSA9IDxhbnk+XCJTUkNfQUxQSEFcIixcbiAgICAgICAgU1JDX0FMUEhBX1NBVFVSQVRFID0gPGFueT5cIlNSQ19BTFBIQV9TQVRVUkFURVwiLFxuICAgICAgICBPTkVfTUlOVVNfU1JDX0FMUEhBID0gPGFueT5cIk9ORV9NSU5VU19TUkNfQUxQSEFcIixcbiAgICAgICAgRFNUX0FMUEhBID0gPGFueT5cIkRTVF9BTFBIQVwiLFxuICAgICAgICBPTkVfTUlOVVNfRFNUX0FMUEggPSA8YW55PlwiT05FX01JTlVTX0RTVF9BTFBIQVwiXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUJsZW5kRXF1YXRpb257XG4gICAgICAgIEFERCA9IDxhbnk+XCJGVU5DX0FERFwiLFxuICAgICAgICBTVUJUUkFDVCA9IDxhbnk+XCJGVU5DX1NVQlRSQUNUXCIsXG4gICAgICAgIFJFVkVSU0VfU1VCVFJBQyA9IDxhbnk+XCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1RcIlxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVCbGVuZFR5cGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIE5PUk1BTCxcbiAgICAgICAgQURESVRJVkUsXG4gICAgICAgIEFERElUSVZFQUxQSEEsXG4gICAgICAgIE1VTFRJUExJQ0FUSVZFLFxuICAgICAgICBQUkVNVUxUSVBMSUVEXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUNhbnZhc1R5cGV7XG4gICAgICAgIFVJID0gPGFueT5cIlVJXCJcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDYW52YXNNYXBEYXRhID0ge1xuICAgICAgICBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICAgIGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICAvL3RvZG8gY2hlY2sgZXh0ZW5zaW9uL2NhcGFiaWxpdHkgc3VwcG9ydFxuICAgIGV4cG9ydCBjbGFzcyBHUFVEZXRlY3RvciB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBnbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWF4VGV4dHVyZVVuaXQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1heFRleHR1cmVTaXplOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYXhDdWJlbWFwVGV4dHVyZVNpemU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1heEFuaXNvdHJvcHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGV4dGVuc2lvbkNvbXByZXNzZWRUZXh0dXJlUzNUQzphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZXh0ZW5zaW9uVGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOmFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb246bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9pc0RldGVjdGVkOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgZGV0ZWN0KCkge1xuICAgICAgICAgICAgdGhpcy5faXNEZXRlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX2RldGVjdEV4dGVuc2lvbigpO1xuICAgICAgICAgICAgdGhpcy5fZGV0ZWN0Q2FwYWJpbHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXRlY3RFeHRlbnNpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbkNvbXByZXNzZWRUZXh0dXJlUzNUQyA9IHRoaXMuX2dldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpO1xuXG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvblRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyA9IHRoaXMuX2dldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RldGVjdENhcGFiaWx0eSgpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMubWF4VGV4dHVyZVVuaXQgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICAgICAgdGhpcy5tYXhUZXh0dXJlU2l6ZSA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9TSVpFKTtcbiAgICAgICAgICAgIHRoaXMubWF4Q3ViZW1hcFRleHR1cmVTaXplID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpO1xuICAgICAgICAgICAgdGhpcy5tYXhBbmlzb3Ryb3B5ID0gdGhpcy5fZ2V0TWF4QW5pc290cm9weSgpO1xuICAgICAgICAgICAgdGhpcy5fZGV0ZWN0UHJlY2lzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRFeHRlbnNpb24obmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb24sXG4gICAgICAgICAgICAgICAgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpIHx8IGdsLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiOlxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJNT1pfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIikgfHwgZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24obmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBleHRlbnNpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXhBbmlzb3Ryb3B5KCkge1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHRoaXMuZXh0ZW5zaW9uVGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLFxuICAgICAgICAgICAgICAgIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiAhPT0gbnVsbCA/IGdsLmdldFBhcmFtZXRlcihleHRlbnNpb24uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXRlY3RQcmVjaXNpb24oKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIHZlcnRleFNoYWRlclByZWNpc2lvbkhpZ2hwRmxvYXQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuVkVSVEVYX1NIQURFUiwgZ2wuSElHSF9GTE9BVCksXG4gICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLlZFUlRFWF9TSEFERVIsIGdsLk1FRElVTV9GTE9BVCksXG4gICAgICAgICAgICAgICAgLy92ZXJ0ZXhTaGFkZXJQcmVjaXNpb25Mb3dwRmxvYXQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuVkVSVEVYX1NIQURFUiwgZ2wuTE9XX0ZMT0FUKSxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuTUVESVVNX0ZMT0FUKSxcbiAgICAgICAgICAgICAgICAvL2ZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTG93cEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuTE9XX0ZMT0FUKSxcbiAgICAgICAgICAgIGhpZ2hwQXZhaWxhYmxlID0gdmVydGV4U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdC5wcmVjaXNpb24gPiAwICYmIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdC5wcmVjaXNpb24gPiAwLFxuICAgICAgICAgICAgbWVkaXVtcEF2YWlsYWJsZSA9IHZlcnRleFNoYWRlclByZWNpc2lvbk1lZGl1bXBGbG9hdC5wcmVjaXNpb24gPiAwICYmIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0LnByZWNpc2lvbiA+IDA7XG5cbiAgICAgICAgICAgIGlmICghaGlnaHBBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVkaXVtcEF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWNpc2lvbiA9IEVHUFVQcmVjaXNpb24uTUVESVVNUDtcbiAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcImdwdVwiLCBcImhpZ2hwLCB1c2luZyBtZWRpdW1wXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlY2lzaW9uID0gRUdQVVByZWNpc2lvbi5MT1dQO1xuICAgICAgICAgICAgICAgICAgICBMb2cud2FybihMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwiZ3B1XCIsIFwiaGlnaHAgYW5kIG1lZGl1bXAsIHVzaW5nIGxvd3BcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBFR1BVUHJlY2lzaW9uLkhJR0hQO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUdQVVByZWNpc2lvbntcbiAgICAgICAgSElHSFAsXG4gICAgICAgIE1FRElVTVAsXG4gICAgICAgIExPV1BcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVNjcmVlblNpemV7XG4gICAgICAgIEZVTExcbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUG9pbnQge1xuICAgICAgICBwdWJsaWMgeDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgeTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHg6bnVtYmVyID0gbnVsbCwgeTpudW1iZXIgPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHg6bnVtYmVyID0gbnVsbCwgeTpudW1iZXIgPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoeCwgeSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmFjZTN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFJbmRleDpudW1iZXIsIGJJbmRleDpudW1iZXIsIGNJbmRleDpudW1iZXIsIGZhY2VOb3JtYWw6VmVjdG9yMyA9IG51bGwsIHZlcnRleE5vcm1hbHM6d2RDYi5Db2xsZWN0aW9uPFZlY3RvcjM+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxWZWN0b3IzPigpKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKGFJbmRleCwgYkluZGV4LCBjSW5kZXgsIGZhY2VOb3JtYWwsIHZlcnRleE5vcm1hbHMpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGFJbmRleDpudW1iZXIsIGJJbmRleDpudW1iZXIsIGNJbmRleDpudW1iZXIsIGZhY2VOb3JtYWw6VmVjdG9yMywgdmVydGV4Tm9ybWFsczp3ZENiLkNvbGxlY3Rpb248VmVjdG9yMz4pe1xuICAgICAgICAgICAgdGhpcy5hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgICAgICB0aGlzLmJJbmRleCA9IGJJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY0luZGV4ID0gY0luZGV4O1xuICAgICAgICAgICAgdGhpcy5fZmFjZU5vcm1hbCA9IGZhY2VOb3JtYWw7XG4gICAgICAgICAgICB0aGlzLnZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhOb3JtYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFjZU5vcm1hbDpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgZ2V0IGZhY2VOb3JtYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWNlTm9ybWFsICE9PSBudWxsID8gdGhpcy5fZmFjZU5vcm1hbCA6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHNldCBmYWNlTm9ybWFsKGZhY2VOb3JtYWw6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl9mYWNlTm9ybWFsID0gZmFjZU5vcm1hbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhSW5kZXg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJJbmRleDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY0luZGV4Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB2ZXJ0ZXhOb3JtYWxzOndkQ2IuQ29sbGVjdGlvbjxWZWN0b3IzPiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGhhc0ZhY2VOb3JtYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWNlTm9ybWFsICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1ZlcnRleE5vcm1hbCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmVydGV4Tm9ybWFscy5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCl7XG4gICAgICAgICAgICB2YXIgY29weUZhY2VOb3JtYWwgPSB0aGlzLl9mYWNlTm9ybWFsID8gdGhpcy5fZmFjZU5vcm1hbC5jb3B5KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvcHlWZXJ0ZXhOb3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy52ZXJ0ZXhOb3JtYWxzKXtcbiAgICAgICAgICAgICAgICBjb3B5VmVydGV4Tm9ybWFscyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4Tm9ybWFscy5mb3JFYWNoKCh2ZXJ0ZXhOb3JtYWw6VmVjdG9yMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb3B5VmVydGV4Tm9ybWFscy5hZGRDaGlsZCh2ZXJ0ZXhOb3JtYWwuY29weSgpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEZhY2UzLmNyZWF0ZSh0aGlzLmFJbmRleCwgdGhpcy5iSW5kZXgsIHRoaXMuY0luZGV4LCBjb3B5RmFjZU5vcm1hbCwgY29weVZlcnRleE5vcm1hbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBSZWN0UmVnaW9uIGV4dGVuZHMgVmVjdG9yNHtcbiAgICAgICAgZ2V0IHdpZHRoKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56O1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy56ID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53O1xuICAgICAgICB9XG4gICAgICAgIHNldCBoZWlnaHQoaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLncgPSBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOlJlY3RSZWdpb257XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3B5SGVscGVyKFJlY3RSZWdpb24uY3JlYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzTm90RW1wdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggIT09IDBcbiAgICAgICAgICAgIHx8IHRoaXMueSAhPT0gMFxuICAgICAgICAgICAgfHwgdGhpcy53aWR0aCAhPT0gMFxuICAgICAgICAgICAgfHwgdGhpcy5oZWlnaHQgIT09IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFZpZXdXZWJHTCBpbXBsZW1lbnRzIElWaWV3IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodmlldzphbnkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh2aWV3KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGRvbTphbnkpe1xuICAgICAgICAgICAgdGhpcy5fZG9tID0gZG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gdGhpcy5fZG9tLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHt4OiB2aWV3Lm9mZnNldExlZnQsIHk6IHZpZXcub2Zmc2V0VG9wfTtcblxuICAgICAgICAgICAgd2hpbGUgKHZpZXcgPSB2aWV3Lm9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgICAgIG9mZnNldC54ICs9IHZpZXcub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICBvZmZzZXQueSArPSB2aWV3Lm9mZnNldFRvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RvbTphbnkgPSBudWxsO1xuICAgICAgICBnZXQgZG9tKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHdpZHRoKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLndpZHRoID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaGVpZ2h0KGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB4KCl7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuX2RvbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHgoeDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgdGhpcy5fZG9tLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuX2RvbS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeSh5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUudG9wID0gYCR7eX1weGA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q29udGV4dCgpOldlYkdMUmVuZGVyaW5nQ29udGV4dHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb20uZ2V0Q29udGV4dChcIndlYmdsXCIpIHx8IHRoaXMuX2RvbS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJVmlldyB7XG4gICAgICAgIG9mZnNldDp7eDpudW1iZXIsIHk6bnVtYmVyfTtcbiAgICAgICAgeDpudW1iZXI7XG4gICAgICAgIHk6bnVtYmVyO1xuICAgICAgICB3aWR0aDpudW1iZXI7XG4gICAgICAgIGhlaWdodDpudW1iZXI7XG4gICAgICAgIGRvbTphbnk7XG4gICAgICAgIGdldENvbnRleHQoKTpXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgfVxuXG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgQ29sb3Ige1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb2xvclZhbD86c3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGNvbG9yVmFsKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBnOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBiOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBhOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sb3JTdHJpbmc6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoY29sb3JWYWw/OnN0cmluZykge1xuICAgICAgICAgICAgaWYoIWNvbG9yVmFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbG9yU3RyaW5nID0gY29sb3JWYWw7XG4gICAgICAgICAgICB0aGlzLl9zZXRDb2xvcihjb2xvclZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9WZWN0b3IzKCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9WZWN0b3I0KCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yNC5jcmVhdGUodGhpcy5yLCB0aGlzLmcsIHRoaXMuYiwgdGhpcy5hKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0b1N0cmluZygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q29sb3IoY29sb3JWYWw6c3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgUkVHRVhfUkdCQSA9IC9ecmdiYVxcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKyksXFxzKihbXlxcKV0rKVxcKSQvaSxcbiAgICAgICAgICAgICAgICBSRUdFWF9SR0IgPSAvXnJnYlxcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKylcXCkkL2ksXG4gICAgICAgICAgICAgICAgUkVHRVhfUkdCXzIgPSAvXnJnYlxcKChcXGQrXFwuXFxkKyksXFxzKihcXGQrXFwuXFxkKyksXFxzKihcXGQrXFwuXFxkKylcXCkkL2ksXG4gICAgICAgICAgICAgICAgUkVHRVhfTlVNID0gL15cXCMoWzAtOWEtZl17Nn0pJC9pO1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gcmdiYSgyNTUsMCwwLDApXG5cbiAgICAgICAgICAgIGlmICggUkVHRVhfUkdCQS50ZXN0KCBjb2xvclZhbCApICkge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gUkVHRVhfUkdCQS5leGVjKCBjb2xvclZhbCApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yID0gdGhpcy5fZ2V0Q29sb3JWYWx1ZShjb2xvciwgMSkgO1xuICAgICAgICAgICAgICAgIHRoaXMuZyA9IHRoaXMuX2dldENvbG9yVmFsdWUoY29sb3IsIDIpIDtcbiAgICAgICAgICAgICAgICB0aGlzLmIgPSB0aGlzLl9nZXRDb2xvclZhbHVlKGNvbG9yLCAzKSA7XG4gICAgICAgICAgICAgICAgdGhpcy5hID0gTnVtYmVyKGNvbG9yWzRdKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJnYigyNTUsMCwwKVxuXG4gICAgICAgICAgICBpZiAoIFJFR0VYX1JHQi50ZXN0KCBjb2xvclZhbCApICkge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gUkVHRVhfUkdCLmV4ZWMoIGNvbG9yVmFsICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnIgPSB0aGlzLl9nZXRDb2xvclZhbHVlKGNvbG9yLCAxKSA7XG4gICAgICAgICAgICAgICAgdGhpcy5nID0gdGhpcy5fZ2V0Q29sb3JWYWx1ZShjb2xvciwgMikgO1xuICAgICAgICAgICAgICAgIHRoaXMuYiA9IHRoaXMuX2dldENvbG9yVmFsdWUoY29sb3IsIDMpIDtcbiAgICAgICAgICAgICAgICB0aGlzLmEgPSAxO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgaXQgd2lsbCBjYXVzZSBhbWJpZ3VpdHk6IHJnYih4LHgseClcbiAgICAgICAgICAgICBzbyB0aGUgZm9ybWF0IHNob3VsZCBiZTpcbiAgICAgICAgICAgICByZ2IoeC54LHgueCx4LngpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICggUkVHRVhfUkdCXzIudGVzdCggY29sb3JWYWwgKSApIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IFJFR0VYX1JHQl8yLmV4ZWMoIGNvbG9yVmFsICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnIgPSBwYXJzZUZsb2F0KGNvbG9yWzFdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmcgPSBwYXJzZUZsb2F0KGNvbG9yWzJdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmIgPSBwYXJzZUZsb2F0KGNvbG9yWzNdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYSA9IDE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIC8vICNmZmZmZmZcblxuICAgICAgICAgICAgaWYgKFJFR0VYX05VTS50ZXN0KGNvbG9yVmFsKSkge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gUkVHRVhfTlVNLmV4ZWMoY29sb3JWYWwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0SGV4KHBhcnNlSW50KGNvbG9yWzFdLCAxNikpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldENvbG9yVmFsdWUoY29sb3IsIGluZGV4LCBudW09MjU1KXtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbiggbnVtLCBwYXJzZUludCggY29sb3JbIGluZGV4IF0sIDEwICkgKSAvIG51bTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldEhleChoZXgpIHtcbiAgICAgICAgICAgIGhleCA9IE1hdGguZmxvb3IoaGV4KTtcblxuICAgICAgICAgICAgdGhpcy5yID0gKCBoZXggPj4gMTYgJiAyNTUgKSAvIDI1NTtcbiAgICAgICAgICAgIHRoaXMuZyA9ICggaGV4ID4+IDggJiAyNTUgKSAvIDI1NTtcbiAgICAgICAgICAgIHRoaXMuYiA9ICggaGV4ICYgMjU1ICkgLyAyNTU7XG4gICAgICAgICAgICB0aGlzLmEgPSAxO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRleHR1cmV7XG4gICAgICAgIGdldCBnZW9tZXRyeSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWwuZ2VvbWV0cnk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWF0ZXJpYWw6TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdmFyaWFibGVEYXRhOk1hcFZhcmlhYmxlRGF0YSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB3cmFwUzpFVGV4dHVyZVdyYXBNb2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHdyYXBUOkVUZXh0dXJlV3JhcE1vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWFnRmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtaW5GaWx0ZXI6RVRleHR1cmVGaWx0ZXJNb2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGdsVGV4dHVyZTpXZWJHTFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCB0YXJnZXQ6RVRleHR1cmVUYXJnZXQgPSBFVGV4dHVyZVRhcmdldC5URVhUVVJFXzJEO1xuXG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGluaXQoKTtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGdldFNhbXBsZXJOYW1lKHVuaXQ6bnVtYmVyKTpzdHJpbmc7XG5cbiAgICAgICAgcHVibGljIGJpbmRUb1VuaXQgKHVuaXQ6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgbWF4VW5pdCA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4VGV4dHVyZVVuaXQ7XG5cbiAgICAgICAgICAgIGlmKHVuaXQgPj0gbWF4VW5pdCl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oYHRyeWluZyB0byB1c2UgJHt1bml0fSB0ZXh0dXJlIHVuaXRzLCBidXQgR1BVIG9ubHkgc3VwcG9ydHMgJHttYXhVbml0fSB1bml0c2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsW1wiVEVYVFVSRVwiICsgU3RyaW5nKHVuaXQpXSk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbFt0aGlzLnRhcmdldF0sIHRoaXMuZ2xUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VuZERhdGEocHJvZ3JhbTpQcm9ncmFtLCBwb3M6V2ViR0xVbmlmb3JtTG9jYXRpb24sIHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKHBvcywgdGhpcy5nZXRTYW1wbGVyVHlwZSgpLCB1bml0KTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kT3RoZXJEYXRhKHByb2dyYW0sIHVuaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLmdsVGV4dHVyZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5nbFRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmlsdGVyRmFsbGJhY2soZmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSkge1xuICAgICAgICAgICAgaWYgKGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1R8fCBmaWx0ZXIgPT09IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUX01JUE1BUF9NRUFSRVNUfHwgZmlsdGVyID09PSBFVGV4dHVyZUZpbHRlck1vZGUuTkVBUkVTVF9NSVBNQVBfTElORUFSICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFVGV4dHVyZUZpbHRlck1vZGUuTkVBUkVTVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVI7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgc2VuZE90aGVyRGF0YShwcm9ncmFtOlByb2dyYW0sIHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQ6bnVtYmVyLCB0eXBlPzpFVmFyaWFibGVUeXBlKXtcbiAgICAgICAgICAgIHZhciBzYW1wbGVyTmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgICAgICBpZih0aGlzLnZhcmlhYmxlRGF0YSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy52YXJpYWJsZURhdGEuc2FtcGxlclZhcmlhYmxlTmFtZSl7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXJOYW1lID0gdGhpcy52YXJpYWJsZURhdGEuc2FtcGxlclZhcmlhYmxlTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHNhbXBsZXJOYW1lID0gdHlwZSA9PT0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJEID8gYHVfc2FtcGxlcjJEJHt1bml0fWAgOiBgdV9zYW1wbGVyQ3ViZSR7dW5pdH1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2FtcGxlck5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2FtcGxlclR5cGUoKTpFVmFyaWFibGVUeXBle1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2godGhpcy50YXJnZXQpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVRleHR1cmVUYXJnZXQuVEVYVFVSRV8yRDpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVGV4dHVyZVRhcmdldC5URVhUVVJFX0NVQkVfTUFQOlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBpc1NvdXJjZVBvd2VyT2ZUd28oKXtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlVXRpbHMuaXNQb3dlck9mVHdvKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLCBpc1NvdXJjZVBvd2VyT2ZUd28pe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBpZiAoaXNTb3VyY2VQb3dlck9mVHdvKXtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX1dSQVBfUywgZ2xbdGhpcy53cmFwU10pO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFt0aGlzLndyYXBUXSk7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsW3RoaXMubWFnRmlsdGVyXSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbFt0aGlzLm1pbkZpbHRlcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcblxuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2xbdGhpcy5maWx0ZXJGYWxsYmFjayh0aGlzLm1hZ0ZpbHRlcildKTtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsW3RoaXMuZmlsdGVyRmFsbGJhY2sodGhpcy5taW5GaWx0ZXIpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFRleHR1cmVVdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc1Bvd2VyT2ZUd28od2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzUG93ZXJPZlR3byh3aWR0aCkgJiYgSnVkZ2VVdGlscy5pc1Bvd2VyT2ZUd28oaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBCYXNpY1RleHR1cmVVdGlscyBleHRlbmRzIFRleHR1cmVVdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0RyYXdQYXJ0T2ZUZXh0dXJlKHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uLCBzb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2Qpe1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZVJlZ2lvbiAmJiBzb3VyY2VSZWdpb24uaXNOb3RFbXB0eSgpICYmIHNvdXJjZVJlZ2lvbk1ldGhvZCA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuRFJBV19JTl9DQU5WQVM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGRyYXdQYXJ0T2ZUZXh0dXJlQnlDYW52YXMoc291cmNlOkhUTUxJbWFnZUVsZW1lbnQsIGNhbnZhc1dpZHRoOm51bWJlciwgY2FudmFzSGVpZ2h0Om51bWJlciwgc3g6bnVtYmVyLCBzeTpudW1iZXIsIHNXaWR0aDpudW1iZXIsIHNIZWlnaHQ6bnVtYmVyLCBkeDpudW1iZXIsIHdkOm51bWJlciwgZFdpZHRoOm51bWJlciwgZEhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHdkQ2IuRG9tUXVlcnkuY3JlYXRlKFwiPGNhbnZhcz48L2NhbnZhcz5cIikuZ2V0KDApLFxuICAgICAgICAgICAgICAgIGN0eCA9IG51bGw7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcblxuICAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIFwiMmRcIiApO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSggc291cmNlLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCwgZHgsIHdkLCBkV2lkdGgsIGRIZWlnaHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzU291cmNlUG93ZXJPZlR3byhzb3VyY2VSZWdpb24sIHNvdXJjZVJlZ2lvbk1ldGhvZCwgd2lkdGgsIGhlaWdodCl7XG4gICAgICAgICAgICBpZih0aGlzLmlzRHJhd1BhcnRPZlRleHR1cmUoc291cmNlUmVnaW9uLCBzb3VyY2VSZWdpb25NZXRob2QpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvd2VyT2ZUd28oc291cmNlUmVnaW9uLndpZHRoLCBzb3VyY2VSZWdpb24uaGVpZ2h0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvd2VyT2ZUd28od2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIG5lZWRDbGFtcE1heFNpemUobWF4U2l6ZTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gd2lkdGggPiBtYXhTaXplIHx8IGhlaWdodCA+IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNsYW1wVG9NYXhTaXplIChzb3VyY2U6YW55LCBtYXhTaXplOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIG1heERpbWVuc2lvbiA9IG51bGwsXG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSBudWxsLFxuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IG51bGwsXG4gICAgICAgICAgICAgICAgY2FudmFzID0gbnVsbDtcblxuICAgICAgICAgICAgbWF4RGltZW5zaW9uID0gTWF0aC5tYXgoIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCApO1xuICAgICAgICAgICAgbmV3V2lkdGggPSBNYXRoLmZsb29yKCBzb3VyY2Uud2lkdGggKiBtYXhTaXplIC8gbWF4RGltZW5zaW9uICk7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBNYXRoLmZsb29yKCBzb3VyY2UuaGVpZ2h0ICogbWF4U2l6ZSAvIG1heERpbWVuc2lvbiApO1xuXG4gICAgICAgICAgICBjYW52YXMgPSB0aGlzLmRyYXdQYXJ0T2ZUZXh0dXJlQnlDYW52YXMoc291cmNlLCBuZXdXaWR0aCwgbmV3SGVpZ2h0LCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIDAsIDAsIG5ld1dpZHRoLCBuZXdIZWlnaHQpO1xuXG4gICAgICAgICAgICBMb2cubG9nKGBzb3VyY2UgaXMgdG9vIGJpZyAod2lkdGg6JHtzb3VyY2Uud2lkdGh9LCBoZWlnaHQ6JHtzb3VyY2UuaGVpZ2h0fSksIHJlc2l6ZSBpdCB0byBiZSB3aWR0aDoke2NhbnZhcy53aWR0aH0sIGhlaWdodDoke2NhbnZhcy5oZWlnaHR9LmApO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJUYXJnZXRUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVFbXB0eVRleHR1cmUoKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbWlwbWFwP1xuICAgICAgICAgICAgLy90aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5taW5GaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICAgICAgdGhpcy5tYWdGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICAgICAgdGhpcy53cmFwUyA9IEVUZXh0dXJlV3JhcE1vZGUuQ0xBTVBfVE9fRURHRTtcbiAgICAgICAgICAgIHRoaXMud3JhcFQgPSBFVGV4dHVyZVdyYXBNb2RlLkNMQU1QX1RPX0VER0U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldEVtcHR5VGV4dHVyZSh0ZXh0dXJlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgTG9nLmVycm9yKCF0ZXh0dXJlLCBcIkZhaWxlZCB0byBjcmVhdGUgdGV4dHVyZSBvYmplY3RcIik7XG5cbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsW3RoaXMudGFyZ2V0XSwgdGV4dHVyZSk7XG5cblxuICAgICAgICAgICAgdGhpcy5zZXRUZXh0dXJlUGFyYW1ldGVycyhnbFt0aGlzLnRhcmdldF0sIHRoaXMuaXNTb3VyY2VQb3dlck9mVHdvKCkpO1xuICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbWlwbWFwP1xuICAgICAgICAgICAgLy9pZiAodGhpcy5nZW5lcmF0ZU1pcG1hcHMgJiYgaXNTb3VyY2VQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAvLyAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbFt0aGlzLnRhcmdldF0pO1xuICAgICAgICAgICAgLy99XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RSZW5kZXJUYXJnZXRUZXh0dXJlIGV4dGVuZHMgUmVuZGVyVGFyZ2V0VGV4dHVyZSB7XG4gICAgICAgIHByaXZhdGUgX3JlbmRlckxpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHJlbmRlckxpc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHNldCByZW5kZXJMaXN0KHJlbmRlckxpc3Q6YW55KSB7XG4gICAgICAgICAgICBpZiAoSnVkZ2VVdGlscy5pc0FycmF5KHJlbmRlckxpc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4ocmVuZGVyTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZW5kZXJMaXN0IGluc3RhbmNlb2Ygd2RDYi5Db2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdCA9IHJlbmRlckxpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwicmVuZGVyTGlzdFwiLCBcImFycmF5IG9yIHdkQ2IuQ29sbGVjdGlvblwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gMjU2O1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IDI1NjtcblxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVFbXB0eVRleHR1cmUoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVtcHR5VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbFt0aGlzLnRhcmdldF0sIDAsIGdsLlJHQkEsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgICAgICAgICAgdGhpcy5nbFRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTaGFkb3dNYXBUZXh0dXJlVXRpbHN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmU7XG5cbiAgICAgICAgICAgIGlmKHNjZW5lLnNoYWRvd01hcC5zb2Z0VHlwZSA9PT0gRVNoYWRvd01hcFNvZnRUeXBlLlBDRikge1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTWlycm9yVGV4dHVyZSBleHRlbmRzIFR3b0RSZW5kZXJUYXJnZXRUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGxhbmU6UGxhbmUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuYWRkUmVuZGVyVGFyZ2V0UmVuZGVyZXIoTWlycm9yUmVuZGVyVGFyZ2V0UmVuZGVyZXIuY3JlYXRlKHRoaXMpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0U2FtcGxlck5hbWUodW5pdDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2FtcGxlck5hbWVCeVZhcmlhYmxlRGF0YSh1bml0LCBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFBsYW5lKCl7XG4gICAgICAgICAgICB2YXIgbm9ybWFsRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgbm9ybWFsID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5fcGxhbmUgJiYgIXRoaXMuZ2VvbWV0cnkuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5kaXJ0eUxvY2FsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxhbmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighKHRoaXMuZ2VvbWV0cnkgaW5zdGFuY2VvZiBQbGFuZUdlb21ldHJ5KSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZ2VvbWV0cnlcIiwgXCJQbGFuZUdlb21ldHJ5XCIpKTtcblxuICAgICAgICAgICAgbm9ybWFsRGF0YSA9IHRoaXMuZ2VvbWV0cnkuZ2VvbWV0cnlEYXRhLm5vcm1hbHM7XG4gICAgICAgICAgICBub3JtYWwgPSB0aGlzLmdlb21ldHJ5LmVudGl0eU9iamVjdC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbi5tdWx0aXBseVZlY3RvcjMoVmVjdG9yMy5jcmVhdGUobm9ybWFsRGF0YVswXSwgbm9ybWFsRGF0YVsxXSwgbm9ybWFsRGF0YVsyXSkpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcCA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICAgICAgdGhpcy5fcGxhbmUgPSBQbGFuZS5jcmVhdGUobm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueiwgLXAuZG90KG5vcm1hbCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxhbmU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFR3b0RTaGFkb3dNYXBUZXh0dXJlIGV4dGVuZHMgVHdvRFJlbmRlclRhcmdldFRleHR1cmUgaW1wbGVtZW50cyBJU2hhZG93TWFwVGV4dHVyZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICBMb2cuZXJyb3IoIUp1ZGdlVXRpbHMuaXNOdW1iZXIodGhpcy52YXJpYWJsZURhdGEuc2FtcGxlckRhdGEpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkb3dNYXBUZXh0dXJlLT52YXJpYWJsZURhdGEuc2FtcGxlckRhdGFcIiwgXCJzYW1wbGVySW5kZXhcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gYHVfdHdvRFNoYWRvd01hcFNhbXBsZXJbJHt0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyRGF0YX1dYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSwgaXNTb3VyY2VQb3dlck9mVHdvKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLCBpc1NvdXJjZVBvd2VyT2ZUd28pO1xuXG4gICAgICAgICAgICBTaGFkb3dNYXBUZXh0dXJlVXRpbHMuc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDdWJlbWFwUmVuZGVyVGFyZ2V0VGV4dHVyZSBleHRlbmRzIFJlbmRlclRhcmdldFRleHR1cmUge1xuICAgICAgICBwcm90ZWN0ZWQgdGFyZ2V0OkVUZXh0dXJlVGFyZ2V0ID0gRVRleHR1cmVUYXJnZXQuVEVYVFVSRV9DVUJFX01BUDtcblxuICAgICAgICBwdWJsaWMgY3JlYXRlRW1wdHlUZXh0dXJlKCkge1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCksXG4gICAgICAgICAgICAgICAgaSA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW1wdHlUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ2xUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcFNoYWRvd01hcFRleHR1cmUgZXh0ZW5kcyBDdWJlbWFwUmVuZGVyVGFyZ2V0VGV4dHVyZSBpbXBsZW1lbnRzIElTaGFkb3dNYXBUZXh0dXJle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFNhbXBsZXJOYW1lKHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIExvZy5lcnJvcighSnVkZ2VVdGlscy5pc051bWJlcih0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyRGF0YSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInNoYWRvd01hcFRleHR1cmUtPnZhcmlhYmxlRGF0YS5zYW1wbGVyRGF0YVwiLCBcInNhbXBsZXJJbmRleFwiKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBgdV9jdWJlbWFwU2hhZG93TWFwU2FtcGxlclske3RoaXMudmFyaWFibGVEYXRhLnNhbXBsZXJEYXRhfV1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgIEFuZCBhZ2FpbiwgYXMgZm9yIHR3by1kaW1lbnNpb25hbCBzaGFkb3cgbWFwcywgaXQncyBwb3NzaWJsZSB0byBjb25maWd1cmUgY3ViZSB0ZXh0dXJlIGluIHN1Y2ggYSB3YXkgdGhhdCBzaW5nbGUgc2FtcGxpbmcgZnJvbSBzaGFkb3cgY3ViZSBtYXAgd2lsbCByZXR1cm4gYSByZXN1bHQgb2YgYSBjb21wYXJpc29uIGZvciBmb3VyIHRleGVscy4gVGhhdCBpcywgc2FtcGxpbmcgZnVuY3Rpb24gd2lsbCByZXR1cm4gZm9sbG93aW5nIHNoYWRvdyBmYWN0b3IgdmFsdWVzOiAwLjAsIDAuMjUsIDAuNSwgMC43NSwgMS4wLiBTZXQgbWluaWZ5aW5nIGFuZCBtYWduaWZ5aW5nIGZpbHRlcnMgb2YgdGhlIHRleHR1cmUgdG8gR0xfTElORUFSIHRvIGVuYWJsZSBzdWNoIHNhbXBsaW5nLlxuXG4gICAgICAgICAvL1xuICAgICAgICAgLy9wcm90ZWN0ZWQgc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUsIGlzU291cmNlUG93ZXJPZlR3byl7XG4gICAgICAgICAvLyAgICBzdXBlci5zZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSwgaXNTb3VyY2VQb3dlck9mVHdvKTtcbiAgICAgICAgIC8vXG4gICAgICAgICAvLyAgICBTaGFkb3dNYXBUZXh0dXJlVXRpbHMuc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUpO1xuICAgICAgICAgLy99XG4gICAgICAgICovXG5cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIER5bmFtaWNDdWJlbWFwVGV4dHVyZSBleHRlbmRzIEN1YmVtYXBSZW5kZXJUYXJnZXRUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbmRlckxpc3Q6d2RDYi5IYXNoPFtzdHJpbmcsIEFycmF5PEdhbWVPYmplY3Q+XT4gPSBudWxsO1xuICAgICAgICBnZXQgcmVuZGVyTGlzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHJlbmRlckxpc3QocmVuZGVyTGlzdDphbnkpIHtcbiAgICAgICAgICAgIGlmIChKdWRnZVV0aWxzLmlzRGlyZWN0T2JqZWN0KHJlbmRlckxpc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdCA9IHdkQ2IuSGFzaC5jcmVhdGU8W3N0cmluZywgQXJyYXk8R2FtZU9iamVjdD5dPihyZW5kZXJMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlbmRlckxpc3QgaW5zdGFuY2VvZiB3ZENiLkhhc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJMaXN0ID0gcmVuZGVyTGlzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJyZW5kZXJMaXN0XCIsIFwiYXJyYXkgb3Igd2RDYi5Db2xsZWN0aW9uXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaXplOm51bWJlciA9IDI1NjtcbiAgICAgICAgcHVibGljIG5lYXI6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgZmFyOm51bWJlciA9IDEwMDtcbiAgICAgICAgcHVibGljIG1vZGU6RUVudk1hcE1vZGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5zaXplO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnNpemU7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuYWRkUmVuZGVyVGFyZ2V0UmVuZGVyZXIoRHluYW1pY0N1YmVtYXBSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQsIEVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2ljVGV4dHVyZSBleHRlbmRzIFRleHR1cmUgaW1wbGVtZW50cyBJVGV4dHVyZUFzc2V0e1xuICAgICAgICBwcm90ZWN0ZWQgcF9zb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QgPSBudWxsO1xuICAgICAgICBnZXQgc291cmNlUmVnaW9uTWV0aG9kKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wX3NvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc291cmNlUmVnaW9uTWV0aG9kKHNvdXJjZVJlZ2lvbk1ldGhvZDpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZCl7XG4gICAgICAgICAgICB0aGlzLnBfc291cmNlUmVnaW9uTWV0aG9kID0gc291cmNlUmVnaW9uTWV0aG9kO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdlbmVyYXRlTWlwbWFwczpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZvcm1hdDpFVGV4dHVyZUZvcm1hdCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzb3VyY2U6YW55ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHJlcGVhdFJlZ2lvbjpSZWN0UmVnaW9uID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZVJlZ2lvbk1hcHBpbmc6RVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZsaXBZOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgcHJlbXVsdGlwbHlBbHBoYTpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHVibGljIHVucGFja0FsaWdubWVudDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdHlwZTpFVGV4dHVyZVR5cGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWlwbWFwczp3ZENiLkNvbGxlY3Rpb248YW55PiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBhbmlzb3Ryb3B5Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBuZWVkVXBkYXRlOmJvb2xlYW4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcbiAgICAgICAgICAgIC8vdGV4dHVyZS5hZGRFdmVudExpc3RlbmVyKCBcImRpc3Bvc2VcIiwgb25UZXh0dXJlRGlzcG9zZSApO1xuXG4gICAgICAgICAgICB0aGlzLmdsVGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgLy9fdGhpcy5pbmZvLm1lbW9yeS50ZXh0dXJlcyArKztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGluZGV4Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgaXNTb3VyY2VQb3dlck9mVHdvID0gdGhpcy5pc1NvdXJjZVBvd2VyT2ZUd28oKTtcblxuICAgICAgICAgICAgdGhpcy5iaW5kVG9Vbml0KGluZGV4KTtcblxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdGhpcy5mbGlwWSk7XG5cblxuICAgICAgICAgICAgLy90b2RvIG5vdCBzZXQgVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLFVOUEFDS19BTElHTk1FTlQgd2hlbiBjdWJlbWFwP1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLnByZW11bHRpcGx5QWxwaGEpO1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgdGhpcy51bnBhY2tBbGlnbm1lbnQpO1xuXG4gICAgICAgICAgICBpZih0aGlzLm5lZWRDbGFtcE1heFNpemUoKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGFtcFRvTWF4U2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgaXNTb3VyY2VQb3dlck9mVHdvID0gdGhpcy5pc1NvdXJjZVBvd2VyT2ZUd28oKTtcblxuICAgICAgICAgICAgICAgIGlmKCFpc1NvdXJjZVBvd2VyT2ZUd28pe1xuICAgICAgICAgICAgICAgICAgICBMb2cud2FybihcInRleHR1cmUgc2l6ZSBpcyBub3QgcG93ZXIgb2YgdHdvIGFmdGVyIGNsYW1wVG9NYXhTaXplKClcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFRleHR1cmVQYXJhbWV0ZXJzKCBnbFt0aGlzLnRhcmdldF0sIGlzU291cmNlUG93ZXJPZlR3byk7XG5cbiAgICAgICAgICAgIHRoaXMuYWxsb2NhdGVTb3VyY2VUb1RleHR1cmUoaXNTb3VyY2VQb3dlck9mVHdvKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVNaXBtYXBzICYmIGlzU291cmNlUG93ZXJPZlR3bykge1xuICAgICAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsW3RoaXMudGFyZ2V0XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubmVlZFVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQsIEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2VuZE90aGVyRGF0YShwcm9ncmFtOlByb2dyYW0sIHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBzb3VyY2VSZWdpb24gPSBudWxsO1xuXG4gICAgICAgICAgICBpZih0aGlzLnNvdXJjZVJlZ2lvbiAmJiB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuQ0hBTkdFX1RFWENPT1JEU19JTl9HTFNMKXtcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24gPSB0aGlzLl9jb252ZXJ0U291cmNlUmVnaW9uVG9VVigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24gPSBSZWN0UmVnaW9uLmNyZWF0ZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKFwidV9zb3VyY2VSZWdpb25cIiwgRVZhcmlhYmxlVHlwZS5GTE9BVF80LCBzb3VyY2VSZWdpb24pO1xuXG4gICAgICAgICAgICBwcm9ncmFtLnNlbmRVbmlmb3JtRGF0YShcInVfcmVwZWF0UmVnaW9uXCIsIEVWYXJpYWJsZVR5cGUuRkxPQVRfNCwgdGhpcy5yZXBlYXRSZWdpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBhbGxvY2F0ZVNvdXJjZVRvVGV4dHVyZShpc1NvdXJjZVBvd2VyT2ZUd286Ym9vbGVhbik7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLnNvdXJjZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMubmVlZENsYW1wTWF4U2l6ZShHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heFRleHR1cmVTaXplLCB0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjbGFtcFRvTWF4U2l6ZSgpe1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBCYXNpY1RleHR1cmVVdGlscy5jbGFtcFRvTWF4U2l6ZSh0aGlzLnNvdXJjZSwgR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKS5tYXhUZXh0dXJlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUsIGlzU291cmNlUG93ZXJPZlR3byl7XG4gICAgICAgICAgICBzdXBlci5zZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSwgaXNTb3VyY2VQb3dlck9mVHdvKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0QW5pc290cm9weSh0ZXh0dXJlVHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaXNTb3VyY2VQb3dlck9mVHdvKCl7XG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMuaXNTb3VyY2VQb3dlck9mVHdvKHRoaXMuc291cmNlUmVnaW9uLCB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0QW5pc290cm9weSh0ZXh0dXJlVHlwZSl7XG4gICAgICAgICAgICB2YXIgZ3B1ID0gR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgICAgICBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgaWYoIWdwdS5leHRlbnNpb25UZXh0dXJlRmlsdGVyQW5pc290cm9waWMpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pc290cm9weSA+IDEpIHtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmVUeXBlLCBncHUuZXh0ZW5zaW9uVGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBNYXRoLm1pbih0aGlzLmFuaXNvdHJvcHksIGdwdS5tYXhBbmlzb3Ryb3B5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0U291cmNlUmVnaW9uQ2FudmFzTWFwVG9VVihzb3VyY2VSZWdpb246UmVjdFJlZ2lvbil7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJlZ2lvbjpSZWN0UmVnaW9uID0gbnVsbDtcblxuICAgICAgICAgICAgcmVnaW9uID0gUmVjdFJlZ2lvbi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc291cmNlUmVnaW9uLnggLyB3aWR0aCxcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24ueSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24ud2lkdGggLyB3aWR0aCxcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24uaGVpZ2h0IC8gaGVpZ2h0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZWdpb24ueSA9IDEgLSByZWdpb24ueSAtIHJlZ2lvbi5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJldHVybiByZWdpb247XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gb3B0aW1pemU6IGFkZCBkaXJ0eSBjYWNoZVxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0U291cmNlUmVnaW9uVG9VVigpe1xuICAgICAgICAgICAgaWYodGhpcy5zb3VyY2VSZWdpb25NYXBwaW5nID09PSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1hcHBpbmcuQ0FOVkFTKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydFNvdXJjZVJlZ2lvbkNhbnZhc01hcFRvVVYodGhpcy5zb3VyY2VSZWdpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnNvdXJjZVJlZ2lvbk1hcHBpbmcgPT09IEVUZXh0dXJlU291cmNlUmVnaW9uTWFwcGluZy5VVil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RUZXh0dXJlIGV4dGVuZHMgQmFzaWNUZXh0dXJle1xuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXR8Q29tcHJlc3NlZFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBhc3NldC5jb3B5VG8odGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tbW9uVGV4dHVyZSBleHRlbmRzIFR3b0RUZXh0dXJle1xuICAgICAgICBwcm90ZWN0ZWQgYWxsb2NhdGVTb3VyY2VUb1RleHR1cmUoaXNTb3VyY2VQb3dlck9mVHdvOmJvb2xlYW4pIHtcbiAgICAgICAgICAgIHZhciBtaXBtYXBDbWQ6RHJhd01pcG1hcFR3b0RUZXh0dXJlQ29tbWFuZCA9IG51bGwsXG4gICAgICAgICAgICAgICAgbm9NaXBtYXBDbWQ6RHJhd05vTWlwbWFwVHdvRFRleHR1cmVDb21tYW5kID0gbnVsbCxcbiAgICAgICAgICAgICAgICBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgaWYoaXNTb3VyY2VQb3dlck9mVHdvICYmIHRoaXMubWlwbWFwcy5nZXRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgIG1pcG1hcENtZCA9IERyYXdNaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLm1pcG1hcHMgPSB0aGlzLm1pcG1hcHM7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLmZvcm1hdCA9IHRoaXMuZm9ybWF0O1xuICAgICAgICAgICAgICAgIG1pcG1hcENtZC50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICAgICAgICAgIG1pcG1hcENtZC5zb3VyY2VSZWdpb24gPSB0aGlzLnNvdXJjZVJlZ2lvbjtcbiAgICAgICAgICAgICAgICBtaXBtYXBDbWQuc291cmNlUmVnaW9uTWV0aG9kID0gdGhpcy5zb3VyY2VSZWdpb25NZXRob2Q7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLmdsVGFyZ2V0ID0gZ2wuVEVYVFVSRV8yRDtcblxuICAgICAgICAgICAgICAgIG1pcG1hcENtZC5leGVjdXRlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9NaXBtYXBDbWQgPSBEcmF3Tm9NaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgbm9NaXBtYXBDbWQuc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICAgICAgbm9NaXBtYXBDbWQuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgbm9NaXBtYXBDbWQudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5zb3VyY2VSZWdpb24gPSB0aGlzLnNvdXJjZVJlZ2lvbjtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5zb3VyY2VSZWdpb25NZXRob2QgPSB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5nbFRhcmdldCA9IGdsLlRFWFRVUkVfMkQ7XG5cbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5leGVjdXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgSW1hZ2VUZXh0dXJlIGV4dGVuZHMgQ29tbW9uVGV4dHVyZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQpO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFyZykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZShhcmcpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQpO1xuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoY2FudmFzOkhUTUxDYW52YXNFbGVtZW50KTtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXJnKXtcbiAgICAgICAgICAgIGlmKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEltYWdlVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgICAgICBsZXQgYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZShhc3NldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZShJbWFnZVRleHR1cmVBc3NldC5jcmVhdGUoY2FudmFzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZpZGVvVGV4dHVyZSBleHRlbmRzIENvbW1vblRleHR1cmV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFzc2V0OlZpZGVvVGV4dHVyZUFzc2V0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFzc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3ZpZGVvOlZpZGVvID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc3RhcnRMb29wSGFuZGxlcjooKSA9PiB2b2lkID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6VmlkZW9UZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdFdoZW5DcmVhdGUoYXNzZXQpO1xuXG4gICAgICAgICAgICB0aGlzLl92aWRlbyA9IGFzc2V0LnZpZGVvO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhcnRMb29wSGFuZGxlciA9IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl92aWRlby5pc1N0b3Ape1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKDxhbnk+RUVuZ2luZUV2ZW50LlNUQVJUTE9PUCwgdGhpcy5fc3RhcnRMb29wSGFuZGxlcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vZmYoPGFueT5FRW5naW5lRXZlbnQuU1RBUlRMT09QLCB0aGlzLl9zdGFydExvb3BIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBuZWVkQ2xhbXBNYXhTaXplKCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcFRleHR1cmUgZXh0ZW5kcyBCYXNpY1RleHR1cmV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGFzc2V0cyk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZShhc3NldHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmFzc2V0cyA9IGFzc2V0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHRleHR1cmVzOndkQ2IuQ29sbGVjdGlvbjxDdWJlbWFwRmFjZVRleHR1cmU+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxDdWJlbWFwRmFjZVRleHR1cmU+KCk7XG4gICAgICAgIHB1YmxpYyBtb2RlOkVFbnZNYXBNb2RlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgdGFyZ2V0OkVUZXh0dXJlVGFyZ2V0ID0gRVRleHR1cmVUYXJnZXQuVEVYVFVSRV9DVUJFX01BUDtcblxuICAgICAgICBwcml2YXRlIF9hcmVBbGxDb21wcmVzc2VkQXNzZXQ6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgYXNzZXJ0KGFzc2V0cy5sZW5ndGggPT09IDYsIExvZy5pbmZvLkZVTkNfTVVTVChcImN1YmVtYXBcIiwgXCJoYXMgNiBhc3NldHNcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2FyZUFzc2V0c0FsbEltYWdlQXNzZXRzKGFzc2V0cykgfHwgdGhpcy5fYXJlQXNzZXRzQWxsQ29tcHJlc3NlZEFzc2V0KGFzc2V0cyksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImN1YmVtYXAgc2l4IGZhY2UncyBhc3NldHNcIiwgXCJhbGwgSW1hZ2VUZXh0dXJlQXNzZXQgb3IgYWxsIENvbXByZXNzZWRUZXh0dXJlQXNzZXRcIikpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9hcmVBc3NldHNBbGxDb21wcmVzc2VkQXNzZXQoYXNzZXRzKSl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCF0aGlzLl9oYXNTb3VyY2VSZWdpb24oYXNzZXRzKSwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwiY29tcHJlc3NlZCBmYWNlXCIsIFwiY29udGFpbiBzb3VyY2VSZWdpb24gZGF0YVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9hcmVUZXh0dXJlU2l6T2ZBbGxGYWNlc2VFcXVhbChhc3NldHMpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJhbGwgY3ViZW1hcCBmYWNlcycgdGV4dHVyZSBzaXplXCIsIFwiZXF1YWxcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9hcmVBc3NldHNBbGxDb21wcmVzc2VkQXNzZXQoYXNzZXRzKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJlQWxsQ29tcHJlc3NlZEFzc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJlQWxsQ29tcHJlc3NlZEFzc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRleHR1cmVzKGFzc2V0cyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2dldFJlcHJlc2VudEFzc2V0KGFzc2V0cykuY29weVRvQ3ViZW1hcFRleHR1cmUodGhpcyk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2FyZUFsbENvbXByZXNzZWRBc3NldCl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2hhc05vTWlwbWFwQ29tcHJlc3NlZEFzc2V0KCkpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbkZpbHRlciA9IHRoaXMuZmlsdGVyRmFsbGJhY2sodGhpcy5taW5GaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZsaXBZID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0U2FtcGxlck5hbWUodW5pdDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2FtcGxlck5hbWVCeVZhcmlhYmxlRGF0YSh1bml0LCBFVmFyaWFibGVUeXBlLlNBTVBMRVJfQ1VCRSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2VuZE90aGVyRGF0YShwcm9ncmFtOlByb2dyYW0sIHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKFwidV9yZXBlYXRSZWdpb25cIiwgRVZhcmlhYmxlVHlwZS5GTE9BVF80LCB0aGlzLnJlcGVhdFJlZ2lvbik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFsbG9jYXRlU291cmNlVG9UZXh0dXJlKGlzU291cmNlUG93ZXJPZlR3bzpib29sZWFuKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9hcmVBbGxDb21wcmVzc2VkQXNzZXQpe1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZTpDdWJlbWFwRmFjZUNvbXByZXNzZWRUZXh0dXJlLCBpOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmRyYXcoaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZTpDdWJlbWFwRmFjZUltYWdlVGV4dHVyZSwgaTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5kcmF3KGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIHZhciBuZWVkQWxsQ2xhbXBNYXhTaXplID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZTpDdWJlbWFwRmFjZVRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICBpZih0ZXh0dXJlLm5lZWRDbGFtcE1heFNpemUoKSl7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRBbGxDbGFtcE1heFNpemUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kQlJFQUs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZWVkQWxsQ2xhbXBNYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGlzU291cmNlUG93ZXJPZlR3bygpe1xuICAgICAgICAgICAgdmFyIGFyZUFsbFNvdXJjZVBvd2VyT2ZUd28gPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmU6Q3ViZW1hcEZhY2VUZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIXRleHR1cmUuaXNTb3VyY2VQb3dlck9mVHdvKCkpe1xuICAgICAgICAgICAgICAgICAgICBhcmVBbGxTb3VyY2VQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFyZUFsbFNvdXJjZVBvd2VyT2ZUd287XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY2xhbXBUb01heFNpemUoKXtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZTphbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmNsYW1wVG9NYXhTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc05vTWlwbWFwQ29tcHJlc3NlZEFzc2V0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9hcmVBbGxDb21wcmVzc2VkQXNzZXQpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZXMuZmlsdGVyKCh0ZXh0dXJlOkN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXNlbGYuX2lzTWlwbWFwRmlsdGVyKHRleHR1cmUubWluRmlsdGVyKTtcbiAgICAgICAgICAgIH0pLmdldENvdW50KCkgPiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNNaXBtYXBGaWx0ZXIoZmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSl7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyID09PSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSX01JUE1BUF9MSU5FQVIgfHwgZmlsdGVyID09PSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSX01JUE1BUF9ORUFSRVNUIHx8IGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiB8fGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1RfTUlQTUFQX01FQVJFU1Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRSZXByZXNlbnRBc3NldChhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHJldHVybiBhc3NldHNbMF0uYXNzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlICBfYXJlQXNzZXRzQWxsSW1hZ2VBc3NldHMoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICB2YXIgYXJlSW1hZ2VBc3NldHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIGFzc2V0cykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmFzc2V0IGluc3RhbmNlb2YgSW1hZ2VUZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJlSW1hZ2VBc3NldHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcmVJbWFnZUFzc2V0cy5sZW5ndGggPT09IDY7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlICBfYXJlQXNzZXRzQWxsQ29tcHJlc3NlZEFzc2V0KGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgdmFyIGFyZUNvbXByZXNzZWRBc3NldHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIGFzc2V0cykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmFzc2V0IGluc3RhbmNlb2YgQ29tcHJlc3NlZFRleHR1cmVBc3NldCkge1xuICAgICAgICAgICAgICAgICAgICBhcmVDb21wcmVzc2VkQXNzZXRzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJlQ29tcHJlc3NlZEFzc2V0cy5sZW5ndGggPT09IDY7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVUZXh0dXJlcyhhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIGFzc2V0cykge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlID0gZGF0YS5hc3NldC50b0N1YmVtYXBGYWNlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc291cmNlUmVnaW9uICYmIGZhY2UgaW5zdGFuY2VvZiBDdWJlbWFwRmFjZUltYWdlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHdvREZhY2U6Q3ViZW1hcEZhY2VJbWFnZVRleHR1cmUgPSBmYWNlO1xuICAgICAgICAgICAgICAgICAgICB0d29ERmFjZS5zb3VyY2VSZWdpb24gPSBkYXRhLnNvdXJjZVJlZ2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBmYWNlLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi50ZXh0dXJlcy5hZGRDaGlsZChmYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FyZVRleHR1cmVTaXpPZkFsbEZhY2VzZUVxdWFsKGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgdmFyIHRleHR1cmVXaWR0aFNpemVBcnIgPSBbXSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGVpZ2h0U2l6ZUFyciA9IFtdO1xuXG4gICAgICAgICAgICBmb3IobGV0IGRhdGEgb2YgYXNzZXRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc291cmNlUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVXaWR0aFNpemVBcnIucHVzaChkYXRhLnNvdXJjZVJlZ2lvbi53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVIZWlnaHRTaXplQXJyLnB1c2goZGF0YS5zb3VyY2VSZWdpb24uaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVdpZHRoU2l6ZUFyci5wdXNoKGRhdGEuYXNzZXQud2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSGVpZ2h0U2l6ZUFyci5wdXNoKGRhdGEuYXNzZXQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcmVBbGxFbGVtZW50c0VxdWFsKHRleHR1cmVXaWR0aFNpemVBcnIpICYmIHRoaXMuX2FyZUFsbEVsZW1lbnRzRXF1YWwodGV4dHVyZUhlaWdodFNpemVBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFzU291cmNlUmVnaW9uKGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIGFzc2V0cyl7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zb3VyY2VSZWdpb24pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FyZUFsbEVsZW1lbnRzRXF1YWwoYXJyOkFycmF5PGFueT4pe1xuICAgICAgICAgICAgdmFyIGxhc3RFbGUgPSBhcnJbMF07XG5cbiAgICAgICAgICAgIGZvcihsZXQgZWxlIG9mIGFycil7XG4gICAgICAgICAgICAgICAgaWYoZWxlICE9PSBsYXN0RWxlKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDdWJlbWFwRGF0YSA9IHtcbiAgICAgICAgYXNzZXQ6VGV4dHVyZUFzc2V0O1xuICAgICAgICBzb3VyY2VSZWdpb24/OlJlY3RSZWdpb247XG4gICAgICAgIHR5cGU/OkVUZXh0dXJlVHlwZTtcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ3ViZW1hcEZhY2VUZXh0dXJle1xuICAgICAgICBwdWJsaWMgdHlwZTpFVGV4dHVyZVR5cGUgPSBFVGV4dHVyZVR5cGUuVU5TSUdORURfQllURTtcbiAgICAgICAgcHVibGljIGZvcm1hdDpFVGV4dHVyZUZvcm1hdCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGRyYXcoaW5kZXg6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNTb3VyY2VQb3dlck9mVHdvKCk6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IG5lZWRDbGFtcE1heFNpemUoKTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY2xhbXBUb01heFNpemUoKTp2b2lkO1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcEZhY2VJbWFnZVRleHR1cmUgZXh0ZW5kcyBDdWJlbWFwRmFjZVRleHR1cmUgaW1wbGVtZW50cyBJQ3ViZW1hcEZhY2VUd29EVGV4dHVyZUFzc2V0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3NldDpJbWFnZVRleHR1cmVBc3NldCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoYXNzZXQpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlU2V0dGVyKGZ1bmN0aW9uKHNvdXJjZVJlZ2lvbk1ldGhvZDpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZCl7XG4gICAgICAgICAgICBhc3NlcnQoc291cmNlUmVnaW9uTWV0aG9kID09PSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5EUkFXX0lOX0NBTlZBUywgTG9nLmluZm8uRlVOQ19TVVBQT1JUKFwiY3ViZW1hcCB0d29EIGZhY2UgdGV4dHVyZS0+c291cmNlUmVnaW9uTWV0aG9kIG9ubHlcIiwgXCJEUkFXX0lOX0NBTlZBU1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBzb3VyY2VSZWdpb25NZXRob2QoKXtcbiAgICAgICAgICAgIHJldHVybiBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5EUkFXX0lOX0NBTlZBUztcbiAgICAgICAgfVxuICAgICAgICBzZXQgc291cmNlUmVnaW9uTWV0aG9kKHNvdXJjZVJlZ2lvbk1ldGhvZDpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZCl7XG4gICAgICAgICAgICB2YXIgYSA9IHNvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzb3VyY2VSZWdpb246UmVjdFJlZ2lvbiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzb3VyY2U6YW55ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgYXNzZXQuY29weVRvQ3ViZW1hcEZhY2VUZXh0dXJlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzU291cmNlUG93ZXJPZlR3bygpOmJvb2xlYW57XG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMuaXNTb3VyY2VQb3dlck9mVHdvKHRoaXMuc291cmNlUmVnaW9uLCB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLnNvdXJjZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMubmVlZENsYW1wTWF4U2l6ZShHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heEN1YmVtYXBUZXh0dXJlU2l6ZSwgdGhpcy5zb3VyY2Uud2lkdGgsIHRoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2xhbXBUb01heFNpemUoKXtcbiAgICAgICAgICAgIHZhciBtYXhTaXplID0gR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKS5tYXhDdWJlbWFwVGV4dHVyZVNpemU7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gQmFzaWNUZXh0dXJlVXRpbHMuY2xhbXBUb01heFNpemUodGhpcy5zb3VyY2UsIG1heFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgbWFudWFsIG1pcG1hcFxuICAgICAgICBwdWJsaWMgZHJhdyhpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIG5vTWlwbWFwQ21kID0gRHJhd05vTWlwbWFwVHdvRFRleHR1cmVDb21tYW5kLmNyZWF0ZSgpLFxuICAgICAgICAgICAgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIG5vTWlwbWFwQ21kLnNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgbm9NaXBtYXBDbWQuc291cmNlUmVnaW9uID0gdGhpcy5zb3VyY2VSZWdpb247XG4gICAgICAgICAgICBub01pcG1hcENtZC5zb3VyY2VSZWdpb25NZXRob2QgPSB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgICAgIG5vTWlwbWFwQ21kLmdsVGFyZ2V0ID0gZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaW5kZXg7XG4gICAgICAgICAgICBub01pcG1hcENtZC5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIG5vTWlwbWFwQ21kLnR5cGUgPSB0aGlzLnR5cGU7XG5cbiAgICAgICAgICAgIG5vTWlwbWFwQ21kLmV4ZWN1dGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcEZhY2VDb21wcmVzc2VkVGV4dHVyZSBleHRlbmRzIEN1YmVtYXBGYWNlVGV4dHVyZSBpbXBsZW1lbnRzIElDdWJlbWFwRmFjZUNvbXByZXNzZWRUZXh0dXJlQXNzZXR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFzc2V0OkNvbXByZXNzZWRUZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoYXNzZXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1pcG1hcHM6d2RDYi5Db2xsZWN0aW9uPENvbXByZXNzZWRUZXh0dXJlTWlwbWFwPiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtaW5GaWx0ZXI6RVRleHR1cmVGaWx0ZXJNb2RlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6Q29tcHJlc3NlZFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBhc3NldC5jb3B5VG9DdWJlbWFwRmFjZVRleHR1cmUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNTb3VyY2VQb3dlck9mVHdvKCk6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiBCYXNpY1RleHR1cmVVdGlscy5pc1NvdXJjZVBvd2VyT2ZUd28obnVsbCwgbnVsbCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIHJldHVybiBCYXNpY1RleHR1cmVVdGlscy5uZWVkQ2xhbXBNYXhTaXplKEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4Q3ViZW1hcFRleHR1cmVTaXplLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2xhbXBUb01heFNpemUoKXtcbiAgICAgICAgICAgIExvZy53YXJuKFwiQ3ViZW1hcEZhY2VDb21wcmVzc2VkVGV4dHVyZSdzIHRleHR1cmUgc2l6ZSBpcyBvdmVyIG1heEN1YmVtYXBUZXh0dXJlU2l6ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkcmF3KGluZGV4Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgY29tcHJlc3NlZENtZCA9IERyYXdDb21wcmVzc2VkVGV4dHVyZUNvbW1hbmQuY3JlYXRlKCksXG4gICAgICAgICAgICBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5nbFRhcmdldCA9IGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGluZGV4O1xuICAgICAgICAgICAgY29tcHJlc3NlZENtZC50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQubWlwbWFwcyA9IHRoaXMubWlwbWFwcztcblxuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29tcHJlc3NlZFRleHR1cmUgZXh0ZW5kcyBUd29EVGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFzc2V0OkNvbXByZXNzZWRUZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoYXNzZXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHNvdXJjZVJlZ2lvbk1ldGhvZCgpe1xuICAgICAgICAgICAgTG9nLmFzc2VydCh0aGlzLnBfc291cmNlUmVnaW9uTWV0aG9kID09PSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5EUkFXX0lOX0NBTlZBUywgXCJjb21wcmVzc2VkIHRleHR1cmUgbm90IHN1cHBvcnQgRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuRFJBV19JTl9DQU5WQVMsIHdpbGwgdXNlIEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkNIQU5HRV9URVhDT09SRFNfSU5fR0xTTCBpbnN0ZWFkXCIpO1xuXG4gICAgICAgICAgICByZXR1cm4gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuQ0hBTkdFX1RFWENPT1JEU19JTl9HTFNMO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFsbG9jYXRlU291cmNlVG9UZXh0dXJlKGlzU291cmNlUG93ZXJPZlR3bzpib29sZWFuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgY29tcHJlc3NlZENtZCA9IERyYXdDb21wcmVzc2VkVGV4dHVyZUNvbW1hbmQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuZ2xUYXJnZXQgPSBnbC5URVhUVVJFXzJEO1xuICAgICAgICAgICAgY29tcHJlc3NlZENtZC50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQubWlwbWFwcyA9IHRoaXMubWlwbWFwcztcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuc291cmNlUmVnaW9uID0gdGhpcy5zb3VyY2VSZWdpb247XG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IHRoaXMuc291cmNlUmVnaW9uTWV0aG9kO1xuXG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLmV4ZWN1dGUoKTtcblxuICAgICAgICAgICAgaWYodGhpcy5taXBtYXBzLmdldENvdW50KCkgPiAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENvbXByZXNzZWRUZXh0dXJlTWlwbWFwID0ge1xuICAgICAgICBkYXRhOmFueTtcbiAgICAgICAgd2lkdGg6bnVtYmVyO1xuICAgICAgICBoZWlnaHQ6bnVtYmVyO1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEcmF3VGV4dHVyZUNvbW1hbmR7XG4gICAgICAgIHB1YmxpYyBmb3JtYXQ6RVRleHR1cmVGb3JtYXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdHlwZTpFVGV4dHVyZVR5cGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uTWV0aG9kOkVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kID0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuQ0hBTkdFX1RFWENPT1JEU19JTl9HTFNMO1xuICAgICAgICBwdWJsaWMgZ2xUYXJnZXQ6YW55ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZXhlY3V0ZSgpO1xuXG4gICAgICAgIHByb3RlY3RlZCBnZXREcmF3VGFyZ2V0KHNvdXJjZTphbnksIHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uPXRoaXMuc291cmNlUmVnaW9uKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihCYXNpY1RleHR1cmVVdGlscy5pc0RyYXdQYXJ0T2ZUZXh0dXJlKHNvdXJjZVJlZ2lvbiwgdGhpcy5zb3VyY2VSZWdpb25NZXRob2QpKXtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBCYXNpY1RleHR1cmVVdGlscy5kcmF3UGFydE9mVGV4dHVyZUJ5Q2FudmFzKHNvdXJjZSwgc291cmNlUmVnaW9uLndpZHRoLCBzb3VyY2VSZWdpb24uaGVpZ2h0LCBzb3VyY2VSZWdpb24ueCwgc291cmNlUmVnaW9uLnksIHNvdXJjZVJlZ2lvbi53aWR0aCwgc291cmNlUmVnaW9uLmhlaWdodCwgMCwgMCwgc291cmNlUmVnaW9uLndpZHRoLCBzb3VyY2VSZWdpb24uaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBEcmF3Q29tcHJlc3NlZFRleHR1cmVDb21tYW5kIGV4dGVuZHMgRHJhd1RleHR1cmVDb21tYW5ke1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1pcG1hcHM6d2RDYi5Db2xsZWN0aW9uPENvbXByZXNzZWRUZXh0dXJlTWlwbWFwPiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGV4ZWN1dGUoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgTG9nLmVycm9yKHRoaXMuZm9ybWF0ID09PSBudWxsLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKHRoaXMuZm9ybWF0KSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1hdCAhPT0gRVRleHR1cmVGb3JtYXQuUkdCQSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWlwbWFwcy5mb3JFYWNoKChtaXBtYXA6Q29tcHJlc3NlZFRleHR1cmVNaXBtYXAsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChzZWxmLmdsVGFyZ2V0LCBpbmRleCwgc2VsZi5mb3JtYXQsIG1pcG1hcC53aWR0aCwgbWlwbWFwLmhlaWdodCwgMCwgc2VsZi5nZXREcmF3VGFyZ2V0KG1pcG1hcC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMubWlwbWFwcy5mb3JFYWNoKChtaXBtYXA6Q29tcHJlc3NlZFRleHR1cmVNaXBtYXAsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhJbWFnZTJEKHNlbGYuZ2xUYXJnZXQsIGluZGV4LCBnbFtzZWxmLmZvcm1hdF0sIG1pcG1hcC53aWR0aCwgbWlwbWFwLmhlaWdodCwgMCwgZ2xbc2VsZi5mb3JtYXRdLCBnbFtzZWxmLnR5cGVdLCBzZWxmLmdldERyYXdUYXJnZXQobWlwbWFwLmRhdGEpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRHJhd1R3b0RUZXh0dXJlQ29tbWFuZCBleHRlbmRzIERyYXdUZXh0dXJlQ29tbWFuZHtcbiAgICAgICAgcHVibGljIHNvdXJjZTphbnkgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3VGV4dHVyZShpbmRleDpudW1iZXIsIHNvdXJjZTphbnkpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKHRoaXMuZ2xUYXJnZXQsIGluZGV4LCBnbFt0aGlzLmZvcm1hdF0sIGdsW3RoaXMuZm9ybWF0XSwgZ2xbdGhpcy50eXBlXSwgdGhpcy5nZXREcmF3VGFyZ2V0KHNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIERyYXdNaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQgZXh0ZW5kcyBEcmF3VHdvRFRleHR1cmVDb21tYW5ke1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWlwbWFwczp3ZENiLkNvbGxlY3Rpb248SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50PiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGV4ZWN1dGUoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5taXBtYXBzLmZvckVhY2goKG1pcG1hcDpIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuZHJhd1RleHR1cmUoaW5kZXgsIG1pcG1hcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBEcmF3Tm9NaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQgZXh0ZW5kcyBEcmF3VHdvRFRleHR1cmVDb21tYW5ke1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGV4ZWN1dGUoKXtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHR1cmUoMCwgdGhpcy5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgZG9jdW1lbnQ6YW55O1xuXG4gICAgLy90b2RvIHJlZmVyIHRvIHZpZGVvLmpzLCBtZWRpYWVsZW1lbnQuanMgdG8gZW5oYW5jZVxuICAgIC8vdG9kbyB1bmlmeSB3aXRoIEF1ZGlvXG4gICAgLy90b2RvIGNhbiBmYWxsYmFjayB0byBmbGFzaFxuICAgIC8vdG9kbyBzdXBwb3J0IGxvb3BcbiAgICBleHBvcnQgY2xhc3MgVmlkZW97XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGRhdGE6YW55KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoZGF0YSk7XG5cbiAgICAgICAgXHRvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih7XG4gICAgICAgICAgICB1cmxBcnIsXG4gICAgICAgICAgICBvbkxvYWQ9ICh2aWRlbzpWaWRlbykgPT4ge30sXG4gICAgICAgICAgICBvbkVycm9yPSAoZXJyOmFueSkgPT4ge31cbiAgICAgICAgICAgIH0pe1xuICAgICAgICAgICAgdGhpcy5fdXJsQXJyID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxzdHJpbmc+KHVybEFycik7XG4gICAgICAgICAgICB0aGlzLl9vbkxvYWQgPSBvbkxvYWQ7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cmw6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZTpIVE1MVmlkZW9FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGlzU3RvcDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBfdXJsQXJyOndkQ2IuQ29sbGVjdGlvbjxzdHJpbmc+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb25Mb2FkOkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb25FcnJvcjpGdW5jdGlvbiA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMudXJsID0gdGhpcy5fZ2V0Q2FuUGxheVVybCgpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBsYXkoKXtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldENhblBsYXlVcmwoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgY2FuUGxheVVybCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZXh0bmFtZUFyciA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl91cmxBcnIuZm9yRWFjaCgodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dG5hbWUgPSAgd2RDYi5QYXRoVXRpbHMuZXh0bmFtZSh1cmwpO1xuXG4gICAgICAgICAgICAgICAgZXh0bmFtZUFyci5wdXNoKGV4dG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2NhbnBsYXkoZXh0bmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuUGxheVVybCA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoY2FuUGxheVVybCA9PT0gbnVsbCwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcImJyb3dzZXJcIiwgZXh0bmFtZUFyci5qb2luKFwiLFwiKSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FuUGxheVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NhbnBsYXkoZXh0bmFtZSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLFxuICAgICAgICAgICAgICAgIG1pbWVTdHIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV4dG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICcubXA0JzpcbiAgICAgICAgICAgICAgICAgICAgbWltZVN0ciA9ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJlMDFlLCBtcDRhLjQwLjJcIic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIub2d2XCI6XG4gICAgICAgICAgICAgICAgICAgIG1pbWVTdHIgPSAndmlkZW8vb2dnOyBjb2RlY3M9XCJ0aGVvcmEsIHZvcmJpc1wiJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi53ZWJtXCI6XG4gICAgICAgICAgICAgICAgICAgIG1pbWVTdHIgPSAndmlkZW8vd2VibTsgY29kZWNzPVwidnA4LCB2b3JiaXNcIic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChleHRuYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gISF2aWRlby5jYW5QbGF5VHlwZSAmJiB2aWRlby5jYW5QbGF5VHlwZShtaW1lU3RyKSAhPT0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2JpbmRFdmVudCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX29uTG9hZChzZWxmKTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fb25FcnJvcihcImVycm9yQ29kZSBcIiArIHNlbGYuc291cmNlLmVycm9yLmNvZGUpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzU3RvcCA9IHRydWU7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZpZGVvTWFuYWdlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBsYXkoaWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBhc3NldCA9IFZpZGVvTG9hZGVyLmdldEluc3RhbmNlKCkuZ2V0KGlkKSxcbiAgICAgICAgICAgICAgICB2aWRlbzpWaWRlbyA9IG51bGw7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighYXNzZXQsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKFwidmlkZW8gYXNzZXQgd2hpY2ggaWQgaXMgXCIgKyBpZCkpO1xuXG4gICAgICAgICAgICB2aWRlbyA9IGFzc2V0LnZpZGVvO1xuXG4gICAgICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9maWxlUGF0aC5kLnRzXCIvPlxubW9kdWxlIHdke1xuZXhwb3J0IGNsYXNzIFNoYWRlckNodW5re3B1YmxpYyBzdGF0aWMgZW1wdHk6R0xTTENodW5rID0ge3RvcDpcIlwiLCBkZWZpbmU6XCJcIiwgdmFyRGVjbGFyZTpcIlwiLCBmdW5jRGVjbGFyZTpcIlwiLCBmdW5jRGVmaW5lOlwiXCIsIGJvZHk6XCJcIn1cbnB1YmxpYyBzdGF0aWMgTlVMTDpudW1iZXIgPSAtMS4wO1xucHVibGljIHN0YXRpYyBtb3JwaE5vcm1hbF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidmVjMyBhX25vcm1hbCA9IGFfY3VycmVudEZyYW1lTm9ybWFsICsgKGFfbmV4dEZyYW1lTm9ybWFsIC0gYV9jdXJyZW50RnJhbWVOb3JtYWwpICogdV9pbnRlcnBvbGF0aW9uO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgbW9ycGhWZXJ0aWNlX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMzIGFfcG9zaXRpb24gPSBhX2N1cnJlbnRGcmFtZVBvc2l0aW9uICsgKGFfbmV4dEZyYW1lUG9zaXRpb24gLSBhX2N1cnJlbnRGcmFtZVBvc2l0aW9uKSAqIHVfaW50ZXJwb2xhdGlvbjtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljRW5kX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX0ZyYWdDb2xvciA9IHZlYzQodG90YWxDb2xvci5yZ2IsIHRvdGFsQ29sb3IuYSAqIHVfb3BhY2l0eSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBiYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X2NvbG9yO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWM0IHRvdGFsQ29sb3IgPSB2ZWM0KHZfY29sb3IsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBiYXNpY192ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9jb2xvcjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl9jb2xvciA9IGFfY29sb3I7XFxuXCIsfVxucHVibGljIHN0YXRpYyBjb21tb25fZGVmaW5lOkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIiNkZWZpbmUgTlVMTCAtMS4wXFxuXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBjb21tb25fZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBjb21tb25fZnVuY3Rpb246R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIm1hdDIgdHJhbnNwb3NlKG1hdDIgbSkge1xcbiAgcmV0dXJuIG1hdDIoICBtWzBdWzBdLCBtWzFdWzBdLCAgIC8vIG5ldyBjb2wgMFxcbiAgICAgICAgICAgICAgICBtWzBdWzFdLCBtWzFdWzFdICAgIC8vIG5ldyBjb2wgMVxcbiAgICAgICAgICAgICApO1xcbiAgfVxcbm1hdDMgdHJhbnNwb3NlKG1hdDMgbSkge1xcbiAgcmV0dXJuIG1hdDMoICBtWzBdWzBdLCBtWzFdWzBdLCBtWzJdWzBdLCAgLy8gbmV3IGNvbCAwXFxuICAgICAgICAgICAgICAgIG1bMF1bMV0sIG1bMV1bMV0sIG1bMl1bMV0sICAvLyBuZXcgY29sIDFcXG4gICAgICAgICAgICAgICAgbVswXVsyXSwgbVsxXVsyXSwgbVsyXVsyXSAgIC8vIG5ldyBjb2wgMVxcbiAgICAgICAgICAgICApO1xcbiAgfVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBjb21tb25fdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgaGlnaHBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxucHJlY2lzaW9uIGhpZ2hwIGludDtcXG5cIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBsb3dwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxucHJlY2lzaW9uIGxvd3AgaW50O1xcblwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG1lZGl1bXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5wcmVjaXNpb24gbWVkaXVtcCBpbnQ7XFxuXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgbWFwX2ZvckJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfbWFwQ29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZTJEKHVfc2FtcGxlcjJEMCwgdl9tYXBDb29yZCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBtYXBfZm9yQmFzaWNfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfbWFwQ29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZlYzIgc291cmNlVGV4Q29vcmQgPSBhX3RleENvb3JkICogdV9zb3VyY2VSZWdpb24uencgKyB1X3NvdXJjZVJlZ2lvbi54eTtcXG4gICAgdl9tYXBDb29yZCA9IHNvdXJjZVRleENvb3JkICogdV9yZXBlYXRSZWdpb24uencgKyB1X3JlcGVhdFJlZ2lvbi54eTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG11bHRpX21hcF9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwidmVjNCBnZXRNYXBDb2xvcigpe1xcbiAgICAgICAgICAgIHZlYzQgY29sb3IwID0gdGV4dHVyZTJEKHVfc2FtcGxlcjJEMCwgdl9tYXBDb29yZCk7XFxuICAgICAgICAgICAgdmVjNCBjb2xvcjEgPSB0ZXh0dXJlMkQodV9zYW1wbGVyMkQxLCB2X21hcENvb3JkKTtcXG4gICAgICAgICAgICBpZih1X2NvbWJpbmVNb2RlID09IDApe1xcbiAgICAgICAgICAgICAgICByZXR1cm4gbWl4KGNvbG9yMCwgY29sb3IxLCB1X21peFJhdGlvKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSBpZih1X2NvbWJpbmVNb2RlID09IDEpe1xcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IwICogY29sb3IxO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBlbHNlIGlmKHVfY29tYmluZU1vZGUgPT0gMil7XFxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjAgKyBjb2xvcjE7XFxuICAgICAgICAgICAgfVxcblx0XHR9XFxuXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IGdldE1hcENvbG9yKCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBsaWdodENvbW1vbl9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X3dvcmxkUG9zaXRpb247XFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG5zdHJ1Y3QgUG9pbnRMaWdodCB7XFxuICAgIHZlYzMgcG9zaXRpb247XFxuICAgIHZlYzMgY29sb3I7XFxuICAgIGZsb2F0IGludGVuc2l0eTtcXG5cXG4gICAgZmxvYXQgcmFuZ2U7XFxuICAgIGZsb2F0IGNvbnN0YW50O1xcbiAgICBmbG9hdCBsaW5lYXI7XFxuICAgIGZsb2F0IHF1YWRyYXRpYztcXG59O1xcbnVuaWZvcm0gUG9pbnRMaWdodCB1X3BvaW50TGlnaHRzW1BPSU5UX0xJR0hUU19DT1VOVF07XFxuXFxuI2VuZGlmXFxuXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxuc3RydWN0IERpcmVjdGlvbkxpZ2h0IHtcXG4gICAgdmVjMyBwb3NpdGlvbjtcXG5cXG4gICAgZmxvYXQgaW50ZW5zaXR5O1xcblxcbiAgICB2ZWMzIGNvbG9yO1xcbn07XFxudW5pZm9ybSBEaXJlY3Rpb25MaWdodCB1X2RpcmVjdGlvbkxpZ2h0c1tESVJFQ1RJT05fTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBsaWdodENvbW1vbl92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl93b3JsZFBvc2l0aW9uO1xcbiNpZiBQT0lOVF9MSUdIVFNfQ09VTlQgPiAwXFxuc3RydWN0IFBvaW50TGlnaHQge1xcbiAgICB2ZWMzIHBvc2l0aW9uO1xcbiAgICB2ZWMzIGNvbG9yO1xcbiAgICBmbG9hdCBpbnRlbnNpdHk7XFxuXFxuICAgIGZsb2F0IHJhbmdlO1xcbiAgICBmbG9hdCBjb25zdGFudDtcXG4gICAgZmxvYXQgbGluZWFyO1xcbiAgICBmbG9hdCBxdWFkcmF0aWM7XFxufTtcXG51bmlmb3JtIFBvaW50TGlnaHQgdV9wb2ludExpZ2h0c1tQT0lOVF9MSUdIVFNfQ09VTlRdO1xcblxcbiNlbmRpZlxcblxcblxcbiNpZiBESVJFQ1RJT05fTElHSFRTX0NPVU5UID4gMFxcbnN0cnVjdCBEaXJlY3Rpb25MaWdodCB7XFxuICAgIHZlYzMgcG9zaXRpb247XFxuXFxuICAgIGZsb2F0IGludGVuc2l0eTtcXG5cXG4gICAgdmVjMyBjb2xvcjtcXG59O1xcbnVuaWZvcm0gRGlyZWN0aW9uTGlnaHQgdV9kaXJlY3Rpb25MaWdodHNbRElSRUNUSU9OX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfd29ybGRQb3NpdGlvbiA9IHZlYzModV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0RW5kX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX0ZyYWdDb2xvciA9IHZlYzQodG90YWxDb2xvci5yZ2IsIHRvdGFsQ29sb3IuYSAqIHVfb3BhY2l0eSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBsaWdodF9jb21tb246R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJ2ZWMzIGdldERpcmVjdGlvbkxpZ2h0RGlyQnlMaWdodFBvcyh2ZWMzIGxpZ2h0UG9zKTtcXG52ZWMzIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3MpO1xcbnZlYzMgZ2V0UG9pbnRMaWdodERpckJ5TGlnaHRQb3ModmVjMyBsaWdodFBvcywgdmVjMyB3b3JsZFBvc2l0aW9uKTtcXG5cIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0RGlyZWN0aW9uTGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3Mpe1xcbiAgICByZXR1cm4gbGlnaHRQb3MgLSB2ZWMzKDAuMCk7XFxuICAgIC8vcmV0dXJuIHZlYzMoMC4wKSAtIGxpZ2h0UG9zO1xcbn1cXG52ZWMzIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3Mpe1xcbiAgICByZXR1cm4gbGlnaHRQb3MgLSB2X3dvcmxkUG9zaXRpb247XFxufVxcbnZlYzMgZ2V0UG9pbnRMaWdodERpckJ5TGlnaHRQb3ModmVjMyBsaWdodFBvcywgdmVjMyB3b3JsZFBvc2l0aW9uKXtcXG4gICAgcmV0dXJuIGxpZ2h0UG9zIC0gd29ybGRQb3NpdGlvbjtcXG59XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJmbG9hdCBnZXRCbGlublNoaW5pbmVzcyhmbG9hdCBzaGluaW5lc3MsIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyLCB2ZWMzIHZpZXdEaXIsIGZsb2F0IGRvdFJlc3VsdEJldHdlZW5Ob3JtQW5kTGlnaHQpe1xcbiAgICAgICAgdmVjMyBoYWxmQW5nbGUgPSBub3JtYWxpemUobGlnaHREaXIgKyB2aWV3RGlyKTtcXG4gICAgICAgIGZsb2F0IGJsaW5uVGVybSA9IGRvdChub3JtYWwsIGhhbGZBbmdsZSk7XFxuXFxuICAgICAgICBibGlublRlcm0gPSBjbGFtcChibGlublRlcm0sIDAuMCwgMS4wKTtcXG4gICAgICAgIGJsaW5uVGVybSA9IGRvdFJlc3VsdEJldHdlZW5Ob3JtQW5kTGlnaHQgIT0gMC4wID8gYmxpbm5UZXJtIDogMC4wO1xcbiAgICAgICAgYmxpbm5UZXJtID0gcG93KGJsaW5uVGVybSwgc2hpbmluZXNzKTtcXG5cXG4gICAgICAgIHJldHVybiBibGlublRlcm07XFxufVxcblxcbmZsb2F0IGdldFBob25nU2hpbmluZXNzKGZsb2F0IHNoaW5pbmVzcywgdmVjMyBub3JtYWwsIHZlYzMgbGlnaHREaXIsIHZlYzMgdmlld0RpciwgZmxvYXQgZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCl7XFxuICAgICAgICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KC1saWdodERpciwgbm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IHBob25nVGVybSA9IGRvdCh2aWV3RGlyLCByZWZsZWN0RGlyKTtcXG5cXG4gICAgICAgIHBob25nVGVybSA9IGNsYW1wKHBob25nVGVybSwgMC4wLCAxLjApO1xcbiAgICAgICAgcGhvbmdUZXJtID0gZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCAhPSAwLjAgPyBwaG9uZ1Rlcm0gOiAwLjA7XFxuICAgICAgICBwaG9uZ1Rlcm0gPSBwb3cocGhvbmdUZXJtLCBzaGluaW5lc3MpO1xcblxcbiAgICAgICAgcmV0dXJuIHBob25nVGVybTtcXG59XFxuXFxudmVjMyBjYWxjTGlnaHQodmVjMyBsaWdodERpciwgdmVjMyBjb2xvciwgZmxvYXQgaW50ZW5zaXR5LCBmbG9hdCBhdHRlbnVhdGlvbiwgdmVjMyBub3JtYWwsIHZlYzMgdmlld0RpcilcXG57XFxuICAgICAgICB2ZWMzIG1hdGVyaWFsRGlmZnVzZSA9IGdldE1hdGVyaWFsRGlmZnVzZSgpO1xcbiAgICAgICAgdmVjMyBtYXRlcmlhbFNwZWN1bGFyID0gZ2V0TWF0ZXJpYWxTcGVjdWxhcigpO1xcbiAgICAgICAgdmVjMyBtYXRlcmlhbEVtaXNzaW9uID0gZ2V0TWF0ZXJpYWxFbWlzc2lvbigpO1xcblxcbiAgICAgICAgZmxvYXQgZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCA9IGRvdChub3JtYWwsIGxpZ2h0RGlyKTtcXG4gICAgICAgIGZsb2F0IGRpZmYgPSBtYXgoZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCwgMC4wKTtcXG5cXG4gICAgICAgIHZlYzMgZW1pc3Npb25Db2xvciA9IHVfZW1pc3Npb24gKiBtYXRlcmlhbEVtaXNzaW9uO1xcblxcbiAgICAgICAgdmVjMyBhbWJpZW50Q29sb3IgPSB1X2FtYmllbnQgKiBtYXRlcmlhbERpZmZ1c2U7XFxuXFxuXFxuICAgICAgICBpZih1X2xpZ2h0TW9kZWwgPT0gMyl7XFxuICAgICAgICAgICAgcmV0dXJuIGVtaXNzaW9uQ29sb3IgKyBhbWJpZW50Q29sb3I7XFxuICAgICAgICB9XFxuXFxuICAgICAgICB2ZWMzIGRpZmZ1c2VDb2xvciA9IGRpZmYgKiBjb2xvciAqIG1hdGVyaWFsRGlmZnVzZSAqIGludGVuc2l0eTtcXG5cXG5cXG4gICAgICAgIGZsb2F0IHNwZWMgPSAwLjA7XFxuXFxuICAgICAgICBpZih1X2xpZ2h0TW9kZWwgPT0gMil7XFxuICAgICAgICAgICAgICAgIHNwZWMgPSBnZXRQaG9uZ1NoaW5pbmVzcyh1X3NoaW5pbmVzcywgbm9ybWFsLCBsaWdodERpciwgdmlld0RpciwgZGlmZik7XFxuICAgICAgICB9XFxuICAgICAgICBlbHNlIGlmKHVfbGlnaHRNb2RlbCA9PSAxKXtcXG4gICAgICAgICAgICAgICAgc3BlYyA9IGdldEJsaW5uU2hpbmluZXNzKHVfc2hpbmluZXNzLCBub3JtYWwsIGxpZ2h0RGlyLCB2aWV3RGlyLCBkaWZmKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZlYzMgc3BlY3VsYXJDb2xvciA9IHNwZWMgKiBtYXRlcmlhbFNwZWN1bGFyICogaW50ZW5zaXR5O1xcblxcbiAgICAgICAgcmV0dXJuIGVtaXNzaW9uQ29sb3IgKyBhbWJpZW50Q29sb3IgKyBhdHRlbnVhdGlvbiAqIChkaWZmdXNlQ29sb3IgKyBzcGVjdWxhckNvbG9yKTtcXG59XFxuXFxuXFxuXFxuXFxuXFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgIHZlYzMgY2FsY1BvaW50TGlnaHQodmVjMyBsaWdodERpciwgUG9pbnRMaWdodCBsaWdodCwgdmVjMyBub3JtYWwsIHZlYzMgdmlld0RpcilcXG57XFxuICAgICAgICAvL2xpZ2h0RGlyIGlzIG5vdCBub3JtYWxpemUgY29tcHV0aW5nIGRpc3RhbmNlXFxuICAgICAgICBmbG9hdCBkaXN0YW5jZSA9IGxlbmd0aChsaWdodERpcik7XFxuXFxuICAgICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IDAuMDtcXG5cXG4gICAgICAgIGlmKGxpZ2h0LnJhbmdlID09IE5VTEwgfHwgZGlzdGFuY2UgPCBsaWdodC5yYW5nZSlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICAgICAgYXR0ZW51YXRpb24gPSAxLjAgLyAobGlnaHQuY29uc3RhbnQgKyBsaWdodC5saW5lYXIgKiBkaXN0YW5jZSArIGxpZ2h0LnF1YWRyYXRpYyAqIChkaXN0YW5jZSAqIGRpc3RhbmNlKSk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBsaWdodERpciA9IG5vcm1hbGl6ZShsaWdodERpcik7XFxuXFxuICAgICAgICByZXR1cm4gY2FsY0xpZ2h0KGxpZ2h0RGlyLCBsaWdodC5jb2xvciwgbGlnaHQuaW50ZW5zaXR5LCBhdHRlbnVhdGlvbiwgbm9ybWFsLCB2aWV3RGlyKTtcXG59XFxuI2VuZGlmXFxuXFxuXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxuICAgICAgICB2ZWMzIGNhbGNEaXJlY3Rpb25MaWdodCh2ZWMzIGxpZ2h0RGlyLCBEaXJlY3Rpb25MaWdodCBsaWdodCwgdmVjMyBub3JtYWwsIHZlYzMgdmlld0RpcilcXG57XFxuICAgICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IDEuMDtcXG5cXG4gICAgICAgIGxpZ2h0RGlyID0gbm9ybWFsaXplKGxpZ2h0RGlyKTtcXG5cXG4gICAgICAgIHJldHVybiBjYWxjTGlnaHQobGlnaHREaXIsIGxpZ2h0LmNvbG9yLCBsaWdodC5pbnRlbnNpdHksIGF0dGVudWF0aW9uLCBub3JtYWwsIHZpZXdEaXIpO1xcbn1cXG4jZW5kaWZcXG5cXG5cXG5cXG52ZWMzIGNhbGNUb3RhbExpZ2h0KHZlYzMgbm9ybSwgdmVjMyB2aWV3RGlyKXtcXG4gICAgICAgIHZlYzMgdG90YWxMaWdodCA9IHZlYzMoMC4wKTtcXG5cXG4gICAgI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgICAgICAgICAgZm9yKGludCBpID0gMDsgaSA8IFBPSU5UX0xJR0hUU19DT1VOVDsgaSsrKXtcXG4gICAgICAgICAgICAgICAgdG90YWxMaWdodCArPSBjYWxjUG9pbnRMaWdodChnZXRQb2ludExpZ2h0RGlyKGkpLCB1X3BvaW50TGlnaHRzW2ldLCBub3JtLCB2aWV3RGlyKTtcXG4gICAgICAgIH1cXG4gICAgI2VuZGlmXFxuXFxuICAgICNpZiBESVJFQ1RJT05fTElHSFRTX0NPVU5UID4gMFxcbiAgICAgICAgICAgICAgICBmb3IoaW50IGkgPSAwOyBpIDwgRElSRUNUSU9OX0xJR0hUU19DT1VOVDsgaSsrKXtcXG4gICAgICAgICAgICAgICAgdG90YWxMaWdodCArPSBjYWxjRGlyZWN0aW9uTGlnaHQoZ2V0RGlyZWN0aW9uTGlnaHREaXIoaSksIHVfZGlyZWN0aW9uTGlnaHRzW2ldLCBub3JtLCB2aWV3RGlyKTtcXG4gICAgICAgIH1cXG4gICAgI2VuZGlmXFxuXFxuICAgICAgICByZXR1cm4gdG90YWxMaWdodDtcXG59XFxuXCIsYm9keTogXCJ2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZShnZXROb3JtYWwoKSk7XFxuXFxuI2lmZGVmIEJPVEhfU0lERVxcbm5vcm1hbCA9IG5vcm1hbCAqICgtMS4wICsgMi4wICogZmxvYXQoZ2xfRnJvbnRGYWNpbmcpKTtcXG4jZW5kaWZcXG5cXG52ZWMzIHZpZXdEaXIgPSBub3JtYWxpemUoZ2V0Vmlld0RpcigpKTtcXG5cXG52ZWM0IHRvdGFsQ29sb3IgPSB2ZWM0KGNhbGNUb3RhbExpZ2h0KG5vcm1hbCwgdmlld0RpciksIDEuMCk7XFxuXFxudG90YWxDb2xvciAqPSB2ZWM0KGdldFNoYWRvd1Zpc2liaWxpdHkoKSwgMS4wKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0X3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJnbF9Qb3NpdGlvbiA9IHVfcE1hdHJpeCAqIHVfdk1hdHJpeCAqIHZlYzQodl93b3JsZFBvc2l0aW9uLCAxLjApO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgbWlycm9yX2ZvckJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWM0IHZfbWlycm9yQ29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCIvL3RvZG8gYWRkIG1vcmUgYmxlbmQgd2F5IHRvIG1peCBtaXJyb3IgY29sb3IgYW5kIHRleHR1cmVDb2xvclxcblx0XHRmbG9hdCBibGVuZE92ZXJsYXkoZmxvYXQgYmFzZSwgZmxvYXQgYmxlbmQpIHtcXG5cdFx0XHRyZXR1cm4oIGJhc2UgPCAwLjUgPyAoIDIuMCAqIGJhc2UgKiBibGVuZCApIDogKDEuMCAtIDIuMCAqICggMS4wIC0gYmFzZSApICogKCAxLjAgLSBibGVuZCApICkgKTtcXG5cdFx0fVxcblx0XHR2ZWM0IGdldE1pcnJvckNvbG9yKGluIHZlYzQgbWF0ZXJpYWxDb2xvcil7XFxuXHRcdFx0dmVjNCBjb2xvciA9IHRleHR1cmUyRFByb2oodV9taXJyb3JTYW1wbGVyLCB2X21pcnJvckNvb3JkKTtcXG5cXG5cdFx0XHRjb2xvciA9IHZlYzQoYmxlbmRPdmVybGF5KG1hdGVyaWFsQ29sb3IuciwgY29sb3IuciksIGJsZW5kT3ZlcmxheShtYXRlcmlhbENvbG9yLmcsIGNvbG9yLmcpLCBibGVuZE92ZXJsYXkobWF0ZXJpYWxDb2xvci5iLCBjb2xvci5iKSwgMS4wKTtcXG5cXG5cdFx0XHRyZXR1cm4gY29sb3I7XFxuXHRcdH1cXG5cIixib2R5OiBcInRvdGFsQ29sb3IgPSBnZXRNaXJyb3JDb2xvcih0b3RhbENvbG9yKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG1pcnJvcl9mb3JCYXNpY192ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzQgdl9taXJyb3JDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwibWF0NCB0ZXh0dXJlTWF0cml4ID0gbWF0NChcXG4gICAgICAgICAgICAgICAgICAgICAgICAwLjUsIDAuMCwgMC4wLCAwLjAsXFxuICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAwLjUsIDAuMCwgMC4wLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMC4wLCAwLjUsIDAuMCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAwLjUsIDAuNSwgMC41LCAxLjBcXG4pO1xcblxcbnZfbWlycm9yQ29vcmQgPSB0ZXh0dXJlTWF0cml4ICogZ2xfUG9zaXRpb247XFxuXCIsfVxucHVibGljIHN0YXRpYyBza3lib3hfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9kaXI7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX0ZyYWdDb2xvciA9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCB2X2Rpcik7XFxuXCIsfVxucHVibGljIHN0YXRpYyBza3lib3hfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfZGlyO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWM0IHBvcyA9IHVfcE1hdHJpeCAqIG1hdDQobWF0Myh1X3ZNYXRyaXgpKSAqIHVfbU1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSBwb3MueHl3dztcXG5cXG4gICAgdl9kaXIgPSBhX3Bvc2l0aW9uO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgYmFzaWNfZW52TWFwX2ZvckJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfZGlyO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCB2X2Rpcik7XFxuXCIsfVxucHVibGljIHN0YXRpYyBiYXNpY19lbnZNYXBfZm9yQmFzaWNfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfZGlyO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2X2RpciA9IGFfcG9zaXRpb247XFxuXCIsfVxucHVibGljIHN0YXRpYyBlbnZNYXBfZm9yQmFzaWNfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9ub3JtYWw7XFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZlYzMgaW5EaXIgPSBub3JtYWxpemUodl9wb3NpdGlvbiAtIHVfY2FtZXJhUG9zKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVudk1hcF9mb3JCYXNpY192ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9ub3JtYWw7XFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfbm9ybWFsID0gbm9ybWFsaXplKCB1X25vcm1hbE1hdHJpeCAqIGFfbm9ybWFsKTtcXG4gICAgdl9wb3NpdGlvbiA9IHZlYzModV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGZyZXNuZWxfZm9yQmFzaWNfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcImZsb2F0IGNvbXB1dGVGcmVzbmVsUmF0aW8odmVjMyBpbkRpciwgdmVjMyBub3JtYWwsIGZsb2F0IHJlZnJhY3Rpb25SYXRpbyl7XFxuICAgIGZsb2F0IGYgPSBwb3coMS4wIC0gcmVmcmFjdGlvblJhdGlvLCAyLjApIC8gcG93KDEuMCArIHJlZnJhY3Rpb25SYXRpbywgMi4wKTtcXG4gICAgZmxvYXQgZnJlc25lbFBvd2VyID0gNS4wO1xcbiAgICBmbG9hdCByYXRpbyA9IGYgKyAoMS4wIC0gZikgKiBwb3coKDEuMCAtIGRvdChpbkRpciwgbm9ybWFsKSksIGZyZXNuZWxQb3dlcik7XFxuXFxuICAgIHJldHVybiByYXRpbyAvIDEwMC4wO1xcbn1cXG52ZWM0IGdldEVudk1hcFRvdGFsQ29sb3IodmVjMyBpbkRpciwgdmVjMyBub3JtYWwpe1xcbiAgICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KGluRGlyLCBub3JtYWwpO1xcbiAgICB2ZWMzIHJlZnJhY3REaXIgPSByZWZyYWN0KGluRGlyLCBub3JtYWwsIHVfcmVmcmFjdGlvblJhdGlvKTtcXG5cXG4gICAgdmVjNCByZWZsZWN0Q29sb3IgPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgcmVmbGVjdERpcik7XFxuICAgIHZlYzQgcmVmcmFjdENvbG9yID0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZnJhY3REaXIpO1xcblxcbiAgICB2ZWM0IHRvdGFsQ29sb3IgPSB2ZWM0KDAuMCk7XFxuXFxuXHRpZih1X3JlZmxlY3Rpdml0eSAhPSBOVUxMKXtcXG4gICAgICAgIHRvdGFsQ29sb3IgPSBtaXgocmVmbGVjdENvbG9yLCByZWZyYWN0Q29sb3IsIHVfcmVmbGVjdGl2aXR5KTtcXG5cdH1cXG5cdGVsc2V7XFxuICAgICAgICB0b3RhbENvbG9yID0gbWl4KHJlZmxlY3RDb2xvciwgcmVmcmFjdENvbG9yLCBjb21wdXRlRnJlc25lbFJhdGlvKGluRGlyLCBub3JtYWwsIHVfcmVmcmFjdGlvblJhdGlvKSk7XFxuXHR9XFxuXFxuXHRyZXR1cm4gdG90YWxDb2xvcjtcXG59XFxuXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IGdldEVudk1hcFRvdGFsQ29sb3IoaW5EaXIsIG5vcm1hbGl6ZSh2X25vcm1hbCkpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgcmVmbGVjdGlvbl9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCByZWZsZWN0KGluRGlyLCBub3JtYWxpemUodl9ub3JtYWwpKSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyByZWZyYWN0aW9uX2ZvckJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZnJhY3QoaW5EaXIsIG5vcm1hbGl6ZSh2X25vcm1hbCksIHVfcmVmcmFjdGlvblJhdGlvKSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBiYXNpY19lbnZNYXBfZm9yTGlnaHRfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9iYXNpY0Vudk1hcF9kaXI7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHZfYmFzaWNFbnZNYXBfZGlyKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljX2Vudk1hcF9mb3JMaWdodF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9iYXNpY0Vudk1hcF9kaXI7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfYmFzaWNFbnZNYXBfZGlyID0gYV9wb3NpdGlvbjtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVudk1hcF9mb3JMaWdodF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMzIGluRGlyID0gbm9ybWFsaXplKHZfd29ybGRQb3NpdGlvbiAtIHVfY2FtZXJhUG9zKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVudk1hcF9mb3JMaWdodF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBmcmVzbmVsX2ZvckxpZ2h0X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJmbG9hdCBjb21wdXRlRnJlc25lbFJhdGlvKHZlYzMgaW5EaXIsIHZlYzMgbm9ybWFsLCBmbG9hdCByZWZyYWN0aW9uUmF0aW8pe1xcbiAgICBmbG9hdCBmID0gcG93KDEuMCAtIHJlZnJhY3Rpb25SYXRpbywgMi4wKSAvIHBvdygxLjAgKyByZWZyYWN0aW9uUmF0aW8sIDIuMCk7XFxuICAgIGZsb2F0IGZyZXNuZWxQb3dlciA9IDUuMDtcXG4gICAgZmxvYXQgcmF0aW8gPSBmICsgKDEuMCAtIGYpICogcG93KCgxLjAgLSBkb3QoaW5EaXIsIG5vcm1hbCkpLCBmcmVzbmVsUG93ZXIpO1xcblxcbiAgICByZXR1cm4gcmF0aW8gLyAxMDAuMDtcXG59XFxuXFxudmVjNCBnZXRFbnZNYXBUb3RhbENvbG9yKHZlYzMgaW5EaXIsIHZlYzMgbm9ybWFsKXtcXG4gICAgdmVjMyByZWZsZWN0RGlyID0gcmVmbGVjdChpbkRpciwgbm9ybWFsKTtcXG4gICAgdmVjMyByZWZyYWN0RGlyID0gcmVmcmFjdChpbkRpciwgbm9ybWFsLCB1X3JlZnJhY3Rpb25SYXRpbyk7XFxuXFxuICAgIHZlYzQgcmVmbGVjdENvbG9yID0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZmxlY3REaXIpO1xcbiAgICB2ZWM0IHJlZnJhY3RDb2xvciA9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCByZWZyYWN0RGlyKTtcXG5cXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApO1xcblxcblx0aWYodV9yZWZsZWN0aXZpdHkgIT0gTlVMTCl7XFxuICAgICAgICB0b3RhbENvbG9yID0gbWl4KHJlZmxlY3RDb2xvciwgcmVmcmFjdENvbG9yLCB1X3JlZmxlY3Rpdml0eSk7XFxuXHR9XFxuXHRlbHNle1xcbiAgICAgICAgdG90YWxDb2xvciA9IG1peChyZWZsZWN0Q29sb3IsIHJlZnJhY3RDb2xvciwgY29tcHV0ZUZyZXNuZWxSYXRpbyhpbkRpciwgbm9ybWFsLCB1X3JlZnJhY3Rpb25SYXRpbykpO1xcblx0fVxcblxcblx0cmV0dXJuIHRvdGFsQ29sb3I7XFxufVxcblwiLGJvZHk6IFwidG90YWxDb2xvciAqPSBnZXRFbnZNYXBUb3RhbENvbG9yKGluRGlyLCBub3JtYWxpemUoZ2V0Tm9ybWFsKCkpKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIHJlZmxlY3Rpb25fZm9yTGlnaHRfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidG90YWxDb2xvciAqPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgcmVmbGVjdChpbkRpciwgbm9ybWFsaXplKGdldE5vcm1hbCgpKSkpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgcmVmcmFjdGlvbl9mb3JMaWdodF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCByZWZyYWN0KGluRGlyLCBnZXROb3JtYWwoKSwgdV9yZWZyYWN0aW9uUmF0aW8pKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGRpZmZ1c2VNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl9kaWZmdXNlTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWMzIGdldE1hdGVyaWFsRGlmZnVzZSgpIHtcXG4gICAgICAgIHJldHVybiB2ZWMzKHRleHR1cmUyRCh1X2RpZmZ1c2VNYXBTYW1wbGVyLCB2X2RpZmZ1c2VNYXBUZXhDb29yZCkpO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGRpZmZ1c2VNYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZGlmZnVzZU1hcFRleENvb3JkO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMyIHNvdXJjZVRleENvb3JkID0gYV90ZXhDb29yZCAqIHVfc291cmNlUmVnaW9uLnp3ICsgdV9zb3VyY2VSZWdpb24ueHk7XFxuICAgIHZfZGlmZnVzZU1hcFRleENvb3JkID0gc291cmNlVGV4Q29vcmQgKiB1X3JlcGVhdFJlZ2lvbi56dyArIHVfcmVwZWF0UmVnaW9uLnh5O1xcbiAgICAvL3ZfZGlmZnVzZU1hcFRleENvb3JkID0gYV90ZXhDb29yZDtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVtaXNzaW9uTWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZW1pc3Npb25NYXBUZXhDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0TWF0ZXJpYWxFbWlzc2lvbigpIHtcXG4gICAgICAgIHJldHVybiB2ZWMzKHRleHR1cmUyRCh1X2VtaXNzaW9uTWFwU2FtcGxlciwgdl9lbWlzc2lvbk1hcFRleENvb3JkKSk7XFxuICAgIH1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgZW1pc3Npb25NYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZW1pc3Npb25NYXBUZXhDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl9lbWlzc2lvbk1hcFRleENvb3JkID0gYV90ZXhDb29yZDtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG5vRGlmZnVzZU1hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwidmVjMyBnZXRNYXRlcmlhbERpZmZ1c2UoKSB7XFxuICAgICAgICByZXR1cm4gdV9kaWZmdXNlO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG5vRW1pc3Npb25NYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0TWF0ZXJpYWxFbWlzc2lvbigpIHtcXG4gICAgICAgIHJldHVybiB1X2VtaXNzaW9uO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG5vTm9ybWFsTWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfbm9ybWFsO1xcblwiLGZ1bmNEZWNsYXJlOiBcInZlYzMgZ2V0Tm9ybWFsKCk7XFxuXFxuXCIsZnVuY0RlZmluZTogXCIjaWYgUE9JTlRfTElHSFRTX0NPVU5UID4gMFxcbnZlYzMgZ2V0UG9pbnRMaWdodERpcihpbnQgaW5kZXgpe1xcbiAgICAvL3dvcmthcm91bmQgJ1tdIDogSW5kZXggZXhwcmVzc2lvbiBtdXN0IGJlIGNvbnN0YW50JyBlcnJvclxcbiAgICBmb3IgKGludCB4ID0gMDsgeCA8PSBQT0lOVF9MSUdIVFNfQ09VTlQ7IHgrKykge1xcbiAgICAgICAgaWYoeCA9PSBpbmRleCl7XFxuICAgICAgICAgICAgcmV0dXJuIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHVfcG9pbnRMaWdodHNbeF0ucG9zaXRpb24pO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIC8qIVxcbiAgICBzb2x2ZSBlcnJvciBpbiB3aW5kb3c3IGNocm9tZS9maXJlZm94OlxcbiAgICBub3QgYWxsIGNvbnRyb2wgcGF0aHMgcmV0dXJuIGEgdmFsdWUuXFxuICAgIGZhaWxlZCB0byBjcmVhdGUgZDNkIHNoYWRlcnNcXG4gICAgKi9cXG4gICAgcmV0dXJuIHZlYzMoMC4wKTtcXG59XFxuI2VuZGlmXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxudmVjMyBnZXREaXJlY3Rpb25MaWdodERpcihpbnQgaW5kZXgpe1xcbiAgICAvL3dvcmthcm91bmQgJ1tdIDogSW5kZXggZXhwcmVzc2lvbiBtdXN0IGJlIGNvbnN0YW50JyBlcnJvclxcbiAgICBmb3IgKGludCB4ID0gMDsgeCA8PSBESVJFQ1RJT05fTElHSFRTX0NPVU5UOyB4KyspIHtcXG4gICAgICAgIGlmKHggPT0gaW5kZXgpe1xcbiAgICAgICAgICAgIHJldHVybiBnZXREaXJlY3Rpb25MaWdodERpckJ5TGlnaHRQb3ModV9kaXJlY3Rpb25MaWdodHNbeF0ucG9zaXRpb24pO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qIVxcbiAgICBzb2x2ZSBlcnJvciBpbiB3aW5kb3c3IGNocm9tZS9maXJlZm94OlxcbiAgICBub3QgYWxsIGNvbnRyb2wgcGF0aHMgcmV0dXJuIGEgdmFsdWUuXFxuICAgIGZhaWxlZCB0byBjcmVhdGUgZDNkIHNoYWRlcnNcXG4gICAgKi9cXG4gICAgcmV0dXJuIHZlYzMoMC4wKTtcXG59XFxuI2VuZGlmXFxuXFxuXFxudmVjMyBnZXRWaWV3RGlyKCl7XFxuICAgIHJldHVybiBub3JtYWxpemUodV9jYW1lcmFQb3MgLSB2X3dvcmxkUG9zaXRpb24pO1xcbn1cXG52ZWMzIGdldE5vcm1hbCgpe1xcbiAgICByZXR1cm4gdl9ub3JtYWw7XFxufVxcblxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBub05vcm1hbE1hcF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9ub3JtYWw7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIi8vdl9ub3JtYWwgPSBub3JtYWxpemUoIHZlYzModV9ub3JtYWxNYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKSk7XFxuICAgIHZfbm9ybWFsID0gbm9ybWFsaXplKCB1X25vcm1hbE1hdHJpeCAqIGFfbm9ybWFsKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG5vU3BlY3VsYXJNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0TWF0ZXJpYWxTcGVjdWxhcigpIHtcXG4gICAgICAgIHJldHVybiB1X3NwZWN1bGFyO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG5vcm1hbE1hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X25vcm1hbE1hcFRleENvb3JkO1xcbnZhcnlpbmcgdmVjMyB2X3ZpZXdEaXI7XFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG52YXJ5aW5nIHZlYzMgdl9wb2ludExpZ2h0RGlyW1BPSU5UX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxudmFyeWluZyB2ZWMzIHZfZGlyZWN0aW9uTGlnaHREaXJbRElSRUNUSU9OX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXFxuXCIsZnVuY0RlY2xhcmU6IFwidmVjMyBnZXROb3JtYWwoKTtcXG5cXG52ZWMzIGdldExpZ2h0RGlyKHZlYzMgbGlnaHRQb3MpO1xcblxcblwiLGZ1bmNEZWZpbmU6IFwiI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG52ZWMzIGdldFBvaW50TGlnaHREaXIoaW50IGluZGV4KXtcXG4gICAgLy93b3JrYXJvdW5kICdbXSA6IEluZGV4IGV4cHJlc3Npb24gbXVzdCBiZSBjb25zdGFudCcgZXJyb3JcXG4gICAgZm9yIChpbnQgeCA9IDA7IHggPD0gUE9JTlRfTElHSFRTX0NPVU5UOyB4KyspIHtcXG4gICAgICAgIGlmKHggPT0gaW5kZXgpe1xcbiAgICAgICAgICAgIHJldHVybiB2X3BvaW50TGlnaHREaXJbeF07XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgLyohXFxuICAgIHNvbHZlIGVycm9yIGluIHdpbmRvdzcgY2hyb21lL2ZpcmVmb3g6XFxuICAgIG5vdCBhbGwgY29udHJvbCBwYXRocyByZXR1cm4gYSB2YWx1ZS5cXG4gICAgZmFpbGVkIHRvIGNyZWF0ZSBkM2Qgc2hhZGVyc1xcbiAgICAqL1xcbiAgICByZXR1cm4gdmVjMygwLjApO1xcbn1cXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG5cXG52ZWMzIGdldERpcmVjdGlvbkxpZ2h0RGlyKGludCBpbmRleCl7XFxuICAgIC8vd29ya2Fyb3VuZCAnW10gOiBJbmRleCBleHByZXNzaW9uIG11c3QgYmUgY29uc3RhbnQnIGVycm9yXFxuICAgIGZvciAoaW50IHggPSAwOyB4IDw9IERJUkVDVElPTl9MSUdIVFNfQ09VTlQ7IHgrKykge1xcbiAgICAgICAgaWYoeCA9PSBpbmRleCl7XFxuICAgICAgICAgICAgcmV0dXJuIHZfZGlyZWN0aW9uTGlnaHREaXJbeF07XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyohXFxuICAgIHNvbHZlIGVycm9yIGluIHdpbmRvdzcgY2hyb21lL2ZpcmVmb3g6XFxuICAgIG5vdCBhbGwgY29udHJvbCBwYXRocyByZXR1cm4gYSB2YWx1ZS5cXG4gICAgZmFpbGVkIHRvIGNyZWF0ZSBkM2Qgc2hhZGVyc1xcbiAgICAqL1xcbiAgICByZXR1cm4gdmVjMygwLjApO1xcbn1cXG4jZW5kaWZcXG5cXG5cXG52ZWMzIGdldFZpZXdEaXIoKXtcXG4gICAgcmV0dXJuIHZfdmlld0RpcjtcXG59XFxudmVjMyBnZXROb3JtYWwoKXtcXG4gICAgICAgIC8vIE9idGFpbiBub3JtYWwgZnJvbSBub3JtYWwgbWFwIGluIHJhbmdlIFswLDFdXFxuICAgICAgICB2ZWMzIG5vcm1hbCA9IHRleHR1cmUyRCh1X25vcm1hbE1hcFNhbXBsZXIsIHZfbm9ybWFsTWFwVGV4Q29vcmQpLnJnYjtcXG5cXG4gICAgICAgIC8vIFRyYW5zZm9ybSBub3JtYWwgdmVjdG9yIHRvIHJhbmdlIFstMSwxXVxcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShub3JtYWwgKiAyLjAgLSAxLjApOyAgLy8gdGhpcyBub3JtYWwgaXMgaW4gdGFuZ2VudCBzcGFjZVxcbn1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgbm9ybWFsTWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X25vcm1hbE1hcFRleENvb3JkO1xcblx0dmFyeWluZyB2ZWMzIHZfdmlld0RpcjtcXG5cXG5cXG4jaWYgUE9JTlRfTElHSFRTX0NPVU5UID4gMFxcbnZhcnlpbmcgdmVjMyB2X3BvaW50TGlnaHREaXJbUE9JTlRfTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG52YXJ5aW5nIHZlYzMgdl9kaXJlY3Rpb25MaWdodERpcltESVJFQ1RJT05fTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIm1hdDMgY29tcHV0ZVRCTigpe1xcbiAgICAgICAgICAgIC8vdmVjMyBUID0gbm9ybWFsaXplKG5vcm1hbE1hdHJpeCAqIHRhbmdlbnQpO1xcbiAgICAgICAgICAgIC8vdmVjMyBCID0gbm9ybWFsaXplKG5vcm1hbE1hdHJpeCAqIGJpdGFuZ2VudCk7XFxuICAgICAgICAgICAgLy92ZWMzIE4gPSBub3JtYWxpemUobm9ybWFsTWF0cml4ICogbm9ybWFsKTtcXG5cXG4gICAgICAgICAgICB2ZWMzIFQgPSBub3JtYWxpemUodV9ub3JtYWxNYXRyaXggKiBhX3RhbmdlbnQpO1xcbiAgICAgICAgICAgIHZlYzMgTiA9IG5vcm1hbGl6ZSh1X25vcm1hbE1hdHJpeCAqIGFfbm9ybWFsKTtcXG4gICAgICAgICAgICAvLyByZS1vcnRob2dvbmFsaXplIFQgd2l0aCByZXNwZWN0IHRvIE5cXG4gICAgICAgICAgICBUID0gbm9ybWFsaXplKFQgLSBkb3QoVCwgTikgKiBOKTtcXG4gICAgICAgICAgICAvLyB0aGVuIHJldHJpZXZlIHBlcnBlbmRpY3VsYXIgdmVjdG9yIEIgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiBUIGFuZCBOXFxuICAgICAgICAgICAgdmVjMyBCID0gY3Jvc3MoVCwgTik7XFxuXFxuXFxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9zZShtYXQzKFQsIEIsIE4pKTtcXG4gICAgICAgIH1cXG5cIixib2R5OiBcIm1hdDMgVEJOID0gY29tcHV0ZVRCTigpO1xcblxcbiAgICAvL3ZfdGFuZ2VudExpZ2h0UG9zID0gVEJOICogbGlnaHQucG9zaXRpb247XFxuICAgIC8vdl90YW5nZW50Q2FtZXJhUG9zICA9IFRCTiAqIHVfY2FtZXJhUG9zO1xcbiAgICAvL3ZfdGFuZ2VudFBvcyAgPSBUQk4gKiB2X3Bvc2l0aW9uO1xcblxcblxcbiAgICB2ZWMzIHRhbmdlbnRQb3NpdGlvbiA9IFRCTiAqIHZlYzModV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApKTtcXG5cXG4gICAgdl9ub3JtYWxNYXBUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXFxuICAgIHZfdmlld0RpciA9IG5vcm1hbGl6ZShUQk4gKiB1X2NhbWVyYVBvcyAtIHRhbmdlbnRQb3NpdGlvbik7XFxuXFxuXFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgZm9yKGludCBpID0gMDsgaSA8IFBPSU5UX0xJR0hUU19DT1VOVDsgaSsrKXtcXG4gICAgICAgICAgICAvL25vdCBub3JtYWxpemUgZm9yIGNvbXB1dGluZyBkaXN0YW5jZVxcbiAgICAgICAgICAgIHZfcG9pbnRMaWdodERpcltpXSA9IFRCTiAqIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHVfcG9pbnRMaWdodHNbaV0ucG9zaXRpb24sIHRhbmdlbnRQb3NpdGlvbik7XFxuICAgICAgIH1cXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgZm9yKGludCBpID0gMDsgaSA8IERJUkVDVElPTl9MSUdIVFNfQ09VTlQ7IGkrKyl7XFxuICAgICAgICAgICAgdl9kaXJlY3Rpb25MaWdodERpcltpXSA9IG5vcm1hbGl6ZSgtIFRCTiAqIGdldERpcmVjdGlvbkxpZ2h0RGlyQnlMaWdodFBvcyh1X2RpcmVjdGlvbkxpZ2h0c1tpXS5wb3NpdGlvbikpO1xcbiAgICAgICB9XFxuI2VuZGlmXFxuXFxuXCIsfVxucHVibGljIHN0YXRpYyBzcGVjdWxhck1hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3NwZWN1bGFyTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWMzIGdldE1hdGVyaWFsU3BlY3VsYXIoKSB7XFxuICAgICAgICByZXR1cm4gdmVjMyh0ZXh0dXJlMkQodV9zcGVjdWxhck1hcFNhbXBsZXIsIHZfc3BlY3VsYXJNYXBUZXhDb29yZCkpO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIHNwZWN1bGFyTWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3NwZWN1bGFyTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfc3BlY3VsYXJNYXBUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXCIsfVxucHVibGljIHN0YXRpYyBidWlsZEN1YmVtYXBTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl93b3JsZFBvc2l0aW9uO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcXG4vLyBnZXQgZGlzdGFuY2UgYmV0d2VlbiBmcmFnbWVudCBhbmQgbGlnaHQgc291cmNlXFxuICAgIGZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgodl93b3JsZFBvc2l0aW9uIC0gdV9saWdodFBvcyk7XFxuXFxuICAgIC8vIG1hcCB0byBbMCwxXSByYW5nZSBieSBkaXZpZGluZyBieSBmYXJQbGFuZVxcbiAgICBsaWdodERpc3RhbmNlID0gbGlnaHREaXN0YW5jZSAvIHVfZmFyUGxhbmU7XFxuXFxuXFxuZ2xfRnJhZ0RhdGFbMF0gPSBwYWNrRGVwdGgobGlnaHREaXN0YW5jZSk7XFxuXFxuXFxuLy9nbF9GcmFnQ29sb3IgPSB2ZWM0KDAuNSwgMC4wLCAxLjAsIDEuMCk7XFxuLy9nbF9GcmFnRGF0YVswXSA9IHZlYzQobGlnaHREaXN0YW5jZSwgMS4wLCAxLjAsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBidWlsZEN1YmVtYXBTaGFkb3dNYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfd29ybGRQb3NpdGlvbjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl93b3JsZFBvc2l0aW9uID0gdmVjMyh1X21NYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCkpO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfcE1hdHJpeCAqIHVfdk1hdHJpeCAqIHZlYzQodl93b3JsZFBvc2l0aW9uLCAxLjApO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgYnVpbGRUd29EU2hhZG93TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX0ZyYWdEYXRhWzBdID0gcGFja0RlcHRoKGdsX0ZyYWdDb29yZC56KTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJ1aWxkVHdvRFNoYWRvd01hcF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiZ2xfUG9zaXRpb24gPSB1X3ZwTWF0cml4RnJvbUxpZ2h0ICogdV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcbi8vZ2xfUG9zaXRpb24gPSB1X3BNYXRyaXgqIHVfdk1hdHJpeCAqIHVfbU1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbkJ1aWxkU2hhZG93TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCIvLyBQYWNraW5nIGEgZmxvYXQgaW4gR0xTTCB3aXRoIG11bHRpcGxpY2F0aW9uIGFuZCBtb2RcXG52ZWM0IHBhY2tEZXB0aChpbiBmbG9hdCBkZXB0aCkge1xcbiAgICBjb25zdCB2ZWM0IGJpdF9zaGlmdCA9IHZlYzQoMjU2LjAgKiAyNTYuMCAqIDI1Ni4wLCAyNTYuMCAqIDI1Ni4wLCAyNTYuMCwgMS4wKTtcXG4gICAgY29uc3QgdmVjNCBiaXRfbWFzayA9IHZlYzQoMC4wLCAxLjAgLyAyNTYuMCwgMS4wIC8gMjU2LjAsIDEuMCAvIDI1Ni4wKTtcXG4gICAgLy8gY29tYmluYXRpb24gb2YgbW9kIGFuZCBtdWx0aXBsaWNhdGlvbiBhbmQgZGl2aXNpb24gd29ya3MgYmV0dGVyXFxuICAgIHZlYzQgcmVzID0gbW9kKGRlcHRoICogYml0X3NoaWZ0ICogdmVjNCgyNTUpLCB2ZWM0KDI1NikgKSAvIHZlYzQoMjU1KTtcXG4gICAgcmVzIC09IHJlcy54eHl6ICogYml0X21hc2s7XFxuXFxuICAgIHJldHVybiByZXM7XFxufVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBjdWJlbWFwU2hhZG93TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidW5pZm9ybSBzYW1wbGVyQ3ViZSB1X2N1YmVtYXBTaGFkb3dNYXBTYW1wbGVyWyBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSBmbG9hdCB1X2N1YmVtYXBTaGFkb3dEYXJrbmVzc1sgQ1VCRU1BUF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gZmxvYXQgdV9jdWJlbWFwU2hhZG93Qmlhc1sgQ1VCRU1BUF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gZmxvYXQgdV9mYXJQbGFuZVsgQ1VCRU1BUF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gdmVjMyB1X2N1YmVtYXBMaWdodFBvc1sgQ1VCRU1BUF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIi8vIFBDRlxcbmZsb2F0IGdldEN1YmVtYXBTaGFkb3dWaXNpYmlsaXR5QnlQQ0YoZmxvYXQgY3VycmVudERlcHRoLCB2ZWMzIGZyYWdUb0xpZ2h0LCBzYW1wbGVyQ3ViZSBjdWJlbWFwU2hhZG93TWFwU2FtcGxlciwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgZmFyUGxhbmUsIGZsb2F0IHNoYWRvd0RhcmtuZXNzKXtcXG4gICAgLy9vbmx5IHN1cHBvcnQgaW4gb3BlbmdsIGVzIDMuMCtcXG4gICAgLy92ZWMzIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMjBdID0gdmVjM1tdXFxuICAgIC8vKFxcbiAgICAgICAvL3ZlYzMoIDEsICAxLCAgMSksIHZlYzMoIDEsIC0xLCAgMSksIHZlYzMoLTEsIC0xLCAgMSksIHZlYzMoLTEsICAxLCAgMSksXFxuICAgICAgIC8vdmVjMyggMSwgIDEsIC0xKSwgdmVjMyggMSwgLTEsIC0xKSwgdmVjMygtMSwgLTEsIC0xKSwgdmVjMygtMSwgIDEsIC0xKSxcXG4gICAgICAgLy92ZWMzKCAxLCAgMSwgIDApLCB2ZWMzKCAxLCAtMSwgIDApLCB2ZWMzKC0xLCAtMSwgIDApLCB2ZWMzKC0xLCAgMSwgIDApLFxcbiAgICAgICAvL3ZlYzMoIDEsICAwLCAgMSksIHZlYzMoLTEsICAwLCAgMSksIHZlYzMoIDEsICAwLCAtMSksIHZlYzMoLTEsICAwLCAtMSksXFxuICAgICAgIC8vdmVjMyggMCwgIDEsICAxKSwgdmVjMyggMCwgLTEsICAxKSwgdmVjMyggMCwgLTEsIC0xKSwgdmVjMyggMCwgIDEsIC0xKVxcbiAgICAvLyk7XFxuXFxuICAgIHZlYzMgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1syMF07XFxuXFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMF0gPSB2ZWMzKCAxLCAgMSwgIDEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzFdID0gdmVjMyggMSwgIC0xLCAgMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMl0gPSB2ZWMzKCAtMSwgIC0xLCAgMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbM10gPSB2ZWMzKCAtMSwgIDEsICAxKTtcXG5cXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1s0XSA9IHZlYzMoIDEsICAxLCAgLTEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzVdID0gdmVjMyggMSwgIC0xLCAgLTEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzZdID0gdmVjMyggLTEsICAtMSwgIC0xKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1s3XSA9IHZlYzMoIC0xLCAgMSwgIC0xKTtcXG5cXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1s4XSA9IHZlYzMoIDEsICAxLCAgMCk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbOV0gPSB2ZWMzKCAxLCAgLTEsICAwKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxMF0gPSB2ZWMzKCAtMSwgIC0xLCAgMCk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMTFdID0gdmVjMyggLTEsICAxLCAgMCk7XFxuXFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMTJdID0gdmVjMyggMSwgIDAsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxM10gPSB2ZWMzKCAtMSwgIDAsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxNF0gPSB2ZWMzKCAxLCAgMCwgIC0xKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxNV0gPSB2ZWMzKCAtMSwgIDAsICAtMSk7XFxuXFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMTZdID0gdmVjMyggMCwgIDEsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxN10gPSB2ZWMzKCAwLCAgLTEsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxOF0gPSB2ZWMzKCAwLCAgLTEsICAtMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMTldID0gdmVjMyggMCwgIDEsICAtMSk7XFxuXFxuICAgIGZsb2F0IHNoYWRvdyA9IDAuMDtcXG4gICAgaW50IHNhbXBsZXMgPSAyMDtcXG5cXG4gICAgLy9mbG9hdCBkaXNrUmFkaXVzID0gMC4wMDAwMDtcXG4gICAgLy9Bbm90aGVyIGludGVyZXN0aW5nIHRyaWNrIHdlIGNhbiBhcHBseSBoZXJlIGlzIHRoYXQgd2UgY2FuIGNoYW5nZSB0aGUgZGlza1JhZGl1cyBiYXNlZCBvbiBob3cgZmFyIHRoZSB2aWV3ZXIgaXMgYXdheSBmcm9tIGEgZnJhZ21lbnQ7IHRoaXMgd2F5IHdlIGNhbiBpbmNyZWFzZSB0aGUgb2Zmc2V0IHJhZGl1cyBieSB0aGUgZGlzdGFuY2UgdG8gdGhlIHZpZXdlciwgbWFraW5nIHRoZSBzaGFkb3dzIHNvZnRlciB3aGVuIGZhciBhd2F5IGFuZCBzaGFycGVyIHdoZW4gY2xvc2UgYnkuXFxuICAgIGZsb2F0IHZpZXdEaXN0YW5jZSA9IGxlbmd0aCh1X2NhbWVyYVBvcyAtIHZfd29ybGRQb3NpdGlvbik7XFxuICAgIGZsb2F0IGRpc2tSYWRpdXMgPSAoMS4wICsgKHZpZXdEaXN0YW5jZSAvIGZhclBsYW5lKSkgLyAyNS4wO1xcblxcbiAgICAvL2ZvcihpbnQgaSA9IDA7IGkgPCBzYW1wbGVzOyArK2kpXFxuICAgIGZvcihpbnQgaSA9IDA7IGkgPCAyMDsgKytpKVxcbiAgICB7XFxuICAgICAgICBmbG9hdCBwY2ZEZXB0aCA9IHVucGFja0RlcHRoKHRleHR1cmVDdWJlKGN1YmVtYXBTaGFkb3dNYXBTYW1wbGVyLCBmcmFnVG9MaWdodCArIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbaV0gKiBkaXNrUmFkaXVzKSk7XFxuICAgICAgICBwY2ZEZXB0aCAqPSBmYXJQbGFuZTsgICAvLyBVbmRvIG1hcHBpbmcgWzA7MV1cXG4gICAgICAgIHNoYWRvdyArPSBjdXJyZW50RGVwdGggLSBzaGFkb3dCaWFzID4gcGNmRGVwdGggID8gc2hhZG93RGFya25lc3MgOiAxLjA7XFxuICAgIH1cXG4gICAgc2hhZG93IC89IGZsb2F0KHNhbXBsZXMpO1xcblxcbiAgICByZXR1cm4gc2hhZG93O1xcbn1cXG5cXG5cXG5mbG9hdCBnZXRDdWJlbWFwU2hhZG93VmlzaWJpbGl0eSh2ZWMzIGxpZ2h0RGlyLCBzYW1wbGVyQ3ViZSBjdWJlbWFwU2hhZG93TWFwU2FtcGxlciwgdmVjMyBsaWdodFBvcywgZmxvYXQgZmFyUGxhbmUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0ICBzaGFkb3dEYXJrbmVzcykge1xcbi8vIEdldCB2ZWN0b3IgYmV0d2VlbiBmcmFnbWVudCBwb3NpdGlvbiBhbmQgbGlnaHQgcG9zaXRpb25cXG4gICAgdmVjMyBmcmFnVG9MaWdodD0gdl93b3JsZFBvc2l0aW9uIC0gbGlnaHRQb3M7XFxuICAgIC8vIFVzZSB0aGUgbGlnaHQgdG8gZnJhZ21lbnQgdmVjdG9yIHRvIHNhbXBsZSBmcm9tIHRoZSBkZXB0aCBtYXBcXG4gICAgLy8gTm93IGdldCBjdXJyZW50IGxpbmVhciBkZXB0aCBhcyB0aGUgbGVuZ3RoIGJldHdlZW4gdGhlIGZyYWdtZW50IGFuZCBsaWdodCBwb3NpdGlvblxcbiAgICBmbG9hdCBjdXJyZW50RGVwdGggPSBsZW5ndGgoZnJhZ1RvTGlnaHQpO1xcblxcbiAgICAjaWYgZGVmaW5lZChTSEFET1dNQVBfVFlQRV9QQ0YpXFxuICAgIHJldHVybiBnZXRDdWJlbWFwU2hhZG93VmlzaWJpbGl0eUJ5UENGKGN1cnJlbnREZXB0aCwgZnJhZ1RvTGlnaHQsIGN1YmVtYXBTaGFkb3dNYXBTYW1wbGVyLCBnZXRTaGFkb3dCaWFzKGxpZ2h0RGlyLCBzaGFkb3dCaWFzKSwgZmFyUGxhbmUsIHNoYWRvd0RhcmtuZXNzKTtcXG4gICAgI2VuZGlmXFxuXFxuICAgIGZsb2F0IGNsb3Nlc3REZXB0aCA9IHVucGFja0RlcHRoKHRleHR1cmVDdWJlKGN1YmVtYXBTaGFkb3dNYXBTYW1wbGVyLCBmcmFnVG9MaWdodCkpO1xcblxcbiAgICAvLyBJdCBpcyBjdXJyZW50bHkgaW4gbGluZWFyIHJhbmdlIGJldHdlZW4gWzAsMV0uIFJlLXRyYW5zZm9ybSBiYWNrIHRvIG9yaWdpbmFsIHZhbHVlXFxuICAgIGNsb3Nlc3REZXB0aCAqPSBmYXJQbGFuZTtcXG5cXG5cXG4gICAgcmV0dXJuIGZsb2F0KGN1cnJlbnREZXB0aCA+IGNsb3Nlc3REZXB0aCArIGdldFNoYWRvd0JpYXMobGlnaHREaXIsIHNoYWRvd0JpYXMpID8gc2hhZG93RGFya25lc3MgOiAxLjApO1xcbn1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgbm9TaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0U2hhZG93VmlzaWJpbGl0eSgpIHtcXG4gICAgICAgIHJldHVybiB2ZWMzKDEuMCk7XFxuICAgIH1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgdG90YWxTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJmbG9hdCBnZXRTaGFkb3dCaWFzKHZlYzMgbGlnaHREaXIsIGZsb2F0IHNoYWRvd0JpYXMpO1xcbmZsb2F0IHVucGFja0RlcHRoKHZlYzQgcmdiYURlcHRoKTtcXG5cIixmdW5jRGVmaW5lOiBcImZsb2F0IGdldFNoYWRvd0JpYXModmVjMyBsaWdodERpciwgZmxvYXQgc2hhZG93Qmlhcyl7XFxuICAgIGZsb2F0IGJpYXMgPSBzaGFkb3dCaWFzO1xcblxcbiAgICBpZihzaGFkb3dCaWFzID09IE5VTEwpe1xcbiAgICAgICAgYmlhcyA9IDAuMDA1O1xcbiAgICB9XFxuXFxuXFxuICAgICAvKiFcXG4gICAgIEEgc2hhZG93IGJpYXMgb2YgMC4wMDUgc29sdmVzIHRoZSBpc3N1ZXMgb2Ygb3VyIHNjZW5lIGJ5IGEgbGFyZ2UgZXh0ZW50LCBidXQgc29tZSBzdXJmYWNlcyB0aGF0IGhhdmUgYSBzdGVlcCBhbmdsZSB0byB0aGUgbGlnaHQgc291cmNlIG1pZ2h0IHN0aWxsIHByb2R1Y2Ugc2hhZG93IGFjbmUuIEEgbW9yZSBzb2xpZCBhcHByb2FjaCB3b3VsZCBiZSB0byBjaGFuZ2UgdGhlIGFtb3VudCBvZiBiaWFzIGJhc2VkIG9uIHRoZSBzdXJmYWNlIGFuZ2xlIHRvd2FyZHMgdGhlIGxpZ2h0OiBzb21ldGhpbmcgd2UgY2FuIHNvbHZlIHdpdGggdGhlIGRvdCBwcm9kdWN0OlxcbiAgICAgKi9cXG5cXG4gICAgIHJldHVybiBtYXgoYmlhcyAqICgxLjAgLSBkb3Qobm9ybWFsaXplKGdldE5vcm1hbCgpKSwgbGlnaHREaXIpKSwgYmlhcyk7XFxuXFxuICAgIC8vcmV0dXJuIGJpYXM7XFxufVxcblxcbmZsb2F0IHVucGFja0RlcHRoKHZlYzQgcmdiYURlcHRoKSB7XFxuICAgIGNvbnN0IHZlYzQgYml0U2hpZnQgPSB2ZWM0KDEuMCAvICgyNTYuMCAqIDI1Ni4wICogMjU2LjApLCAxLjAgLyAoMjU2LjAgKiAyNTYuMCksIDEuMCAvIDI1Ni4wLCAxLjApO1xcbiAgICByZXR1cm4gZG90KHJnYmFEZXB0aCwgYml0U2hpZnQpO1xcbn1cXG5cXG52ZWMzIGdldFNoYWRvd1Zpc2liaWxpdHkoKSB7XFxuICAgIHZlYzMgc2hhZG93Q29sb3IgPSB2ZWMzKDEuMCk7XFxuICAgIHZlYzMgdHdvRExpZ2h0RGlyID0gdmVjMygwLjApO1xcbiAgICB2ZWMzIGN1YmVtYXBMaWdodERpciA9IHZlYzMoMC4wKTtcXG5cXG5cXG4gICAgLy90byBub3JtYWxNYXAsIHRoZSBsaWdodERpciB1c2UgdGhlIG9yaWdpbiBvbmUgaW5zdGVhZCBvZiBub3JtYWxNYXAncyBsaWdodERpciBoZXJlKHRoZSBsaWdodERpciBpcyB1c2VkIGZvciBjb21wdXRpbmcgc2hhZG93QmlhcywgdGhlIG9yaWdpbiBvbmUgaXMgZW5vdWdoIGZvciBpdClcXG5cXG4gICAgI2lmIFRXT0RfU0hBRE9XTUFQX0NPVU5UID4gMFxcblx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBUV09EX1NIQURPV01BUF9DT1VOVDsgaSArKyApIHtcXG4gICAgICAgIHR3b0RMaWdodERpciA9IGdldERpcmVjdGlvbkxpZ2h0RGlyQnlMaWdodFBvcyh1X3R3b0RMaWdodFBvc1tpXSk7XFxuXFxuXHQvLy8vaWYgaXMgb3Bwb3NpdGUgdG8gZGlyZWN0aW9uIG9mIGxpZ2h0IHJheXMsIG5vIHNoYWRvd1xcblxcbiAgICAgICAgc2hhZG93Q29sb3IgKj0gZ2V0VHdvRFNoYWRvd1Zpc2liaWxpdHkodHdvRExpZ2h0RGlyLCB1X3R3b0RTaGFkb3dNYXBTYW1wbGVyW2ldLCB2X3Bvc2l0aW9uRnJvbUxpZ2h0W2ldLCB1X3R3b0RTaGFkb3dCaWFzW2ldLCB1X3R3b0RTaGFkb3dEYXJrbmVzc1tpXSwgdV90d29EU2hhZG93U2l6ZVtpXSk7XFxuXHR9XFxuXHQjZW5kaWZcXG5cXG5cXG5cdCNpZiBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCA+IDBcXG5cdGZvciggaW50IGkgPSAwOyBpIDwgQ1VCRU1BUF9TSEFET1dNQVBfQ09VTlQ7IGkgKysgKSB7XFxuICAgICAgICBjdWJlbWFwTGlnaHREaXIgPSBnZXRQb2ludExpZ2h0RGlyQnlMaWdodFBvcyh1X2N1YmVtYXBMaWdodFBvc1tpXSk7XFxuXFxuXHQvLy8vaWYgaXMgb3Bwb3NpdGUgdG8gZGlyZWN0aW9uIG9mIGxpZ2h0IHJheXMsIG5vIHNoYWRvd1xcblxcbiAgICAgICAgc2hhZG93Q29sb3IgKj0gZ2V0Q3ViZW1hcFNoYWRvd1Zpc2liaWxpdHkoY3ViZW1hcExpZ2h0RGlyLCB1X2N1YmVtYXBTaGFkb3dNYXBTYW1wbGVyW2ldLCB1X2N1YmVtYXBMaWdodFBvc1tpXSwgdV9mYXJQbGFuZVtpXSwgdV9jdWJlbWFwU2hhZG93Qmlhc1tpXSwgdV9jdWJlbWFwU2hhZG93RGFya25lc3NbaV0pO1xcblx0fVxcblx0I2VuZGlmXFxuXFxuXHRyZXR1cm4gc2hhZG93Q29sb3I7XFxufVxcblxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyB0d29EU2hhZG93TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWM0IHZfcG9zaXRpb25Gcm9tTGlnaHRbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxuXHR1bmlmb3JtIHNhbXBsZXIyRCB1X3R3b0RTaGFkb3dNYXBTYW1wbGVyWyBUV09EX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSBmbG9hdCB1X3R3b0RTaGFkb3dEYXJrbmVzc1sgVFdPRF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gZmxvYXQgdV90d29EU2hhZG93Qmlhc1sgVFdPRF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gdmVjMiB1X3R3b0RTaGFkb3dTaXplWyBUV09EX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSB2ZWMzIHVfdHdvRExpZ2h0UG9zWyBUV09EX1NIQURPV01BUF9DT1VOVCBdO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiLy8gUENGXFxuZmxvYXQgZ2V0VHdvRFNoYWRvd1Zpc2liaWxpdHlCeVBDRihmbG9hdCBjdXJyZW50RGVwdGgsIHZlYzIgc2hhZG93Q29vcmQsIHNhbXBsZXIyRCB0d29EU2hhZG93TWFwU2FtcGxlciwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93RGFya25lc3MsIHZlYzIgc2hhZG93TWFwU2l6ZSl7XFxuXFxuICAgIGZsb2F0IHNoYWRvdyA9IDAuMDtcXG4gICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCAvIHNoYWRvd01hcFNpemVbMF0sIDEuMCAvIHNoYWRvd01hcFNpemVbMV0pO1xcblxcbiAgICBmb3IoaW50IHggPSAtMTsgeCA8PSAxOyArK3gpXFxuICAgIHtcXG4gICAgICAgIGZvcihpbnQgeSA9IC0xOyB5IDw9IDE7ICsreSlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBmbG9hdCBwY2ZEZXB0aCA9IHVucGFja0RlcHRoKHRleHR1cmUyRCh0d29EU2hhZG93TWFwU2FtcGxlciwgc2hhZG93Q29vcmQgKyB2ZWMyKHgsIHkpICogdGV4ZWxTaXplKSk7XFxuICAgICAgICAgICAgc2hhZG93ICs9IGN1cnJlbnREZXB0aCAtIHNoYWRvd0JpYXMgPiBwY2ZEZXB0aCAgPyBzaGFkb3dEYXJrbmVzcyA6IDEuMDtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBzaGFkb3cgLz0gOS4wO1xcblxcbiAgICByZXR1cm4gc2hhZG93O1xcbn1cXG5cXG5cXG5cXG5mbG9hdCBnZXRUd29EU2hhZG93VmlzaWJpbGl0eSh2ZWMzIGxpZ2h0RGlyLCBzYW1wbGVyMkQgdHdvRFNoYWRvd01hcFNhbXBsZXIsIHZlYzQgdl9wb3NpdGlvbkZyb21MaWdodCwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93RGFya25lc3MsIHZlYzIgc2hhZG93U2l6ZSkge1xcbiAgICAvL3Byb2plY3QgdGV4dHVyZVxcbiAgICB2ZWMzIHNoYWRvd0Nvb3JkID0gKHZfcG9zaXRpb25Gcm9tTGlnaHQueHl6IC8gdl9wb3NpdGlvbkZyb21MaWdodC53KSAvIDIuMCArIDAuNTtcXG4gICAgLy92ZWMzIHNoYWRvd0Nvb3JkID0gdmVjMygwLjUsIDAuNSwgMC41KTtcXG5cXG4gICAgI2lmZGVmIFNIQURPV01BUF9UWVBFX1BDRlxcbiAgICAvLyBQZXJjZW50YWdlLWNsb3NlIGZpbHRlcmluZ1xcbiAgICAvLyAoOSBwaXhlbCBrZXJuZWwpXFxuICAgIHJldHVybiBnZXRUd29EU2hhZG93VmlzaWJpbGl0eUJ5UENGKHNoYWRvd0Nvb3JkLnosIHNoYWRvd0Nvb3JkLnh5LCB0d29EU2hhZG93TWFwU2FtcGxlciwgZ2V0U2hhZG93QmlhcyhsaWdodERpciwgc2hhZG93QmlhcyksIHNoYWRvd0RhcmtuZXNzLCBzaGFkb3dTaXplKTtcXG5cXG4gICAgI2Vsc2VcXG4gICAgcmV0dXJuIHNoYWRvd0Nvb3JkLnogPiB1bnBhY2tEZXB0aCh0ZXh0dXJlMkQodHdvRFNoYWRvd01hcFNhbXBsZXIsIHNoYWRvd0Nvb3JkLnh5KSkgKyBnZXRTaGFkb3dCaWFzKGxpZ2h0RGlyLCBzaGFkb3dCaWFzKSA/IHNoYWRvd0RhcmtuZXNzIDogMS4wO1xcbiAgICAjZW5kaWZcXG59XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIHR3b0RTaGFkb3dNYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWM0IHZfcG9zaXRpb25Gcm9tTGlnaHRbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxudW5pZm9ybSBtYXQ0IHVfdnBNYXRyaXhGcm9tTGlnaHRbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImZvciggaW50IGkgPSAwOyBpIDwgVFdPRF9TSEFET1dNQVBfQ09VTlQ7IGkgKysgKSB7XFxuICAgIHZfcG9zaXRpb25Gcm9tTGlnaHRbaV0gPSB1X3ZwTWF0cml4RnJvbUxpZ2h0W2ldICogdmVjNCh2X3dvcmxkUG9zaXRpb24sIDEuMCk7XFxuXHR9XFxuXCIsfVxufVxuZXhwb3J0IHR5cGUgR0xTTENodW5rID0ge3RvcD86c3RyaW5nO2RlZmluZT86c3RyaW5nO3ZhckRlY2xhcmU/OnN0cmluZztmdW5jRGVjbGFyZT86c3RyaW5nO2Z1bmNEZWZpbmU/OnN0cmluZztib2R5PzpzdHJpbmc7fVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

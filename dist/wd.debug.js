var wd;
(function (wd) {
    wd.DebugConfig = {
        isTest: false,
        debugCollision: false,
        showDebugPanel: false
    };
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DebugStatistics = (function () {
        function DebugStatistics() {
        }
        DebugStatistics.clear = function () {
            this.count.renderGameObjects = 0;
            this.count.drawCalls = 0;
        };
        DebugStatistics.init = function () {
            var self = this;
            this._startLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.STARTLOOP)
                .subscribe(function () {
                if (wd.DebugConfig.showDebugPanel) {
                    console.log("totalGameObjects:" + self.count.totalGameObjects + ", renderGameObjects:" + self.count.renderGameObjects + ", drawCalls:" + self.count.drawCalls);
                    console.log("fps:" + self.during.fps);
                    self.clear();
                }
            });
        };
        DebugStatistics.dispose = function () {
            this._startLoopSubscription.dispose();
        };
        DebugStatistics.count = {
            get totalGameObjects() {
                var count = 0;
                wd.Director.getInstance().scene.getChildren().forEach(function (child) {
                    if (child.hasComponent(wd.SpacePartition)) {
                        count += child.getComponent(wd.SpacePartition).getChildren().getCount();
                        return;
                    }
                    count++;
                });
                return count;
            },
            renderGameObjects: 0,
            drawCalls: 0
        };
        DebugStatistics.during = {
            get fps() {
                return wd.Director.getInstance().fps;
            }
        };
        DebugStatistics._startLoopSubscription = null;
        return DebugStatistics;
    }());
    wd.DebugStatistics = DebugStatistics;
})(wd || (wd = {}));
var wdFrp;
(function (wdFrp) {
    wdFrp.fromCollection = function (collection, scheduler) {
        if (scheduler === void 0) { scheduler = wdFrp.Scheduler.create(); }
        var arr = collection.toArray();
        return arr.length === 0 ? wdFrp.empty() : wdFrp.fromArray(arr, scheduler);
    };
})(wdFrp || (wdFrp = {}));
var wd;
(function (wd) {
    function assert(cond, message) {
        if (message === void 0) { message = "contract error"; }
        wd.Log.error(!cond, message);
    }
    wd.assert = assert;
    function require(InFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (wd.Main.isTest) {
                    InFunc.apply(this, args);
                }
                return value.apply(this, args);
            };
            return descriptor;
        };
    }
    wd.require = require;
    function ensure(OutFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = value.apply(this, args);
                if (wd.Main.isTest) {
                    var params = [result].concat(args);
                    OutFunc.apply(this, params);
                }
                return result;
            };
            return descriptor;
        };
    }
    wd.ensure = ensure;
    function requireGetter(InFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                if (wd.Main.isTest) {
                    InFunc.call(this);
                }
                return getter.call(this);
            };
            return descriptor;
        };
    }
    wd.requireGetter = requireGetter;
    function requireSetter(InFunc) {
        return function (target, name, descriptor) {
            var setter = descriptor.set;
            descriptor.set = function (val) {
                if (wd.Main.isTest) {
                    InFunc.call(this, val);
                }
                setter.call(this, val);
            };
            return descriptor;
        };
    }
    wd.requireSetter = requireSetter;
    function ensureGetter(OutFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                var result = getter.call(this);
                if (wd.Main.isTest) {
                    OutFunc.call(this, result);
                }
                return result;
            };
            return descriptor;
        };
    }
    wd.ensureGetter = ensureGetter;
    function ensureSetter(OutFunc) {
        return function (target, name, descriptor) {
            var setter = descriptor.set;
            descriptor.set = function (val) {
                var result = setter.call(this, val);
                if (wd.Main.isTest) {
                    var params = [result, val];
                    OutFunc.apply(this, params);
                }
            };
            return descriptor;
        };
    }
    wd.ensureSetter = ensureSetter;
    function invariant(func) {
        return function (target) {
            if (wd.Main.isTest) {
                func(target);
            }
        };
    }
    wd.invariant = invariant;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function cacheGetter(judgeFunc, returnCacheValueFunc, setCacheFunc) {
        return function (target, name, descriptor) {
            var getter = descriptor.get;
            descriptor.get = function () {
                var result = null;
                if (judgeFunc.call(this)) {
                    return returnCacheValueFunc.call(this);
                }
                result = getter.call(this);
                setCacheFunc.call(this, result);
                return result;
            };
            return descriptor;
        };
    }
    wd.cacheGetter = cacheGetter;
    function cache(judgeFunc, returnCacheValueFunc, setCacheFunc) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = null;
                if (judgeFunc.apply(this, args)) {
                    return returnCacheValueFunc.apply(this, args);
                }
                result = value.apply(this, args);
                setCacheFunc.apply(this, [result].concat(args));
                return result;
            };
            return descriptor;
        };
    }
    wd.cache = cache;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function virtual(target, name, descriptor) {
        return descriptor;
    }
    wd.virtual = virtual;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function operateBodyDataGetterAndSetter(dataName) {
        return function (target, name, descriptor) {
            var getter = descriptor.get, setter = descriptor.set;
            descriptor.get = function () {
                if (this.isPhysicsEngineAdapterExist()) {
                    var data = this.getPhysicsEngineAdapter()[("get" + dataName)](this.entityObject);
                    return data !== null ? data : this[("_" + lowerFirstChar(dataName))];
                }
                return getter.call(this);
            };
            descriptor.set = function (val) {
                setter.call(this, val);
                if (this.isPhysicsEngineAdapterExist()) {
                    this.getPhysicsEngineAdapter()[("set" + dataName)](this.entityObject, val);
                }
            };
            return descriptor;
        };
    }
    wd.operateBodyDataGetterAndSetter = operateBodyDataGetterAndSetter;
    function operateWorldDataGetterAndSetter(dataName) {
        return function (target, name, descriptor) {
            var getter = descriptor.get, setter = descriptor.set;
            descriptor.get = function () {
                var scene = wd.Director.getInstance().scene;
                if (isWorldDefined(scene)) {
                    var data = scene.physicsEngineAdapter[("get" + dataName)]();
                    return data !== null ? data : this[("_" + lowerFirstChar(dataName))];
                }
                return getter.call(this);
            };
            descriptor.set = function (val) {
                var scene = wd.Director.getInstance().scene;
                setter.call(this, val);
                if (isWorldDefined(scene)) {
                    scene.physicsEngineAdapter[("set" + dataName)](val);
                }
            };
            return descriptor;
        };
    }
    wd.operateWorldDataGetterAndSetter = operateWorldDataGetterAndSetter;
    function isWorldDefined(scene) {
        return scene.physicsEngineAdapter && scene.physicsEngineAdapter.world;
    }
    function lowerFirstChar(str) {
        var firstChar = str.slice(0, 1);
        return "" + firstChar.toLowerCase() + str.slice(1);
    }
})(wd || (wd = {}));
var wd;
(function (wd) {
    function script(scriptName) {
        return function (target) {
            wd.Script.addScript(scriptName, target);
        };
    }
    wd.script = script;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function execOnlyOnce(flagName) {
        return function (target, name, descriptor) {
            var value = descriptor.value;
            descriptor.value = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = null;
                if (this[flagName]) {
                    return;
                }
                this[flagName] = true;
                return value.apply(this, args);
            };
            return descriptor;
        };
    }
    wd.execOnlyOnce = execOnlyOnce;
})(wd || (wd = {}));
var wd;
(function (wd) {
    wd.ABSTRACT_ATTRIBUTE = null;
})(wd || (wd = {}));
var wd;
(function (wd) {
    wd.DEG_TO_RAD = Math.PI / 180;
    wd.RAD_TO_DEG = 180 / Math.PI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector2 = (function () {
        function Vector2() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = new Float32Array(2);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
            }
        }
        Vector2.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1]);
            }
            return m;
        };
        Object.defineProperty(Vector2.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector2.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Vector2.prototype.set = function (x, y) {
            this.x = x;
            this.y = y;
        };
        Vector2.prototype.add = function (v) {
            this.values[0] = this.values[0] + v.values[0];
            this.values[1] = this.values[1] + v.values[1];
            return this;
        };
        Vector2.prototype.mul = function (v) {
            this.values[0] = this.values[0] * v.values[0];
            this.values[1] = this.values[1] * v.values[1];
            return this;
        };
        Vector2.prototype.copy = function () {
            return Vector2.create(this.x, this.y);
        };
        return Vector2;
    }());
    wd.Vector2 = Vector2;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector3 = (function () {
        function Vector3() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            this.values = new Float32Array(3);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
                this.values[2] = args[2];
            }
        }
        Vector3.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1], args[2]);
            }
            return m;
        };
        Object.defineProperty(Vector3.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector3.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector3.prototype, "z", {
            get: function () {
                return this.values[2];
            },
            set: function (z) {
                this.values[2] = z;
            },
            enumerable: true,
            configurable: true
        });
        Vector3.prototype.normalize = function () {
            var v = this.values;
            var d = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
            if (d === 0) {
                v[0] = 0;
                v[1] = 0;
                v[2] = 0;
                return this;
            }
            v[0] = v[0] / d;
            v[1] = v[1] / d;
            v[2] = v[2] / d;
            if (v[0] === -0) {
                v[0] = 0;
            }
            if (v[1] === -0) {
                v[1] = 0;
            }
            if (v[2] === -0) {
                v[2] = 0;
            }
            return this;
        };
        Vector3.prototype.isZero = function () {
            var v = this.values;
            return v[0] === 0 && v[1] === 0 && v[2] === 0;
        };
        Vector3.prototype.scale = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var v = this.values;
            if (args.length === 1) {
                var scalar = args[0];
                v[0] *= scalar;
                v[1] *= scalar;
                v[2] *= scalar;
            }
            else if (args.length === 3) {
                var x = args[0], y = args[1], z = args[2];
                v[0] *= x;
                v[1] *= y;
                v[2] *= z;
            }
            return this;
        };
        Vector3.prototype.set = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 3) {
                this.x = args[0];
                this.y = args[1];
                this.z = args[2];
            }
            else {
                var v = args[0];
                this.x = v.x;
                this.y = v.y;
                this.z = v.z;
            }
        };
        Vector3.prototype.sub = function (v) {
            this.values[0] = this.values[0] - v.values[0];
            this.values[1] = this.values[1] - v.values[1];
            this.values[2] = this.values[2] - v.values[2];
            return this;
        };
        Vector3.prototype.sub2 = function (v1, v2) {
            this.values[0] = v1.values[0] - v2.values[0];
            this.values[1] = v1.values[1] - v2.values[1];
            this.values[2] = v1.values[2] - v2.values[2];
            return this;
        };
        Vector3.prototype.add = function (v) {
            this.values[0] = this.values[0] + v.values[0];
            this.values[1] = this.values[1] + v.values[1];
            this.values[2] = this.values[2] + v.values[2];
            return this;
        };
        Vector3.prototype.add2 = function (v1, v2) {
            this.values[0] = v1.values[0] + v2.values[0];
            this.values[1] = v1.values[1] + v2.values[1];
            this.values[2] = v1.values[2] + v2.values[2];
            return this;
        };
        Vector3.prototype.mul = function (v) {
            this.values[0] = this.values[0] * v.values[0];
            this.values[1] = this.values[1] * v.values[1];
            this.values[2] = this.values[2] * v.values[2];
            return this;
        };
        Vector3.prototype.mul2 = function (v1, v2) {
            this.values[0] = v1.values[0] * v2.values[0];
            this.values[1] = v1.values[1] * v2.values[1];
            this.values[2] = v1.values[2] * v2.values[2];
            return this;
        };
        Vector3.prototype.reverse = function () {
            this.values[0] = -this.values[0];
            this.values[1] = -this.values[1];
            this.values[2] = -this.values[2];
            return this;
        };
        Vector3.prototype.copy = function () {
            var result = Vector3.create(), i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        Vector3.prototype.toVector4 = function () {
            return wd.Vector4.create(this.values[0], this.values[1], this.values[2], 1.0);
        };
        Vector3.prototype.length = function () {
            var v = this.values;
            return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
        };
        Vector3.prototype.cross = function (lhs, rhs) {
            var a, b, r, ax, ay, az, bx, by, bz;
            a = lhs.values;
            b = rhs.values;
            r = this.values;
            ax = a[0];
            ay = a[1];
            az = a[2];
            bx = b[0];
            by = b[1];
            bz = b[2];
            r[0] = ay * bz - by * az;
            r[1] = az * bx - bz * ax;
            r[2] = ax * by - bx * ay;
            return this;
        };
        Vector3.prototype.lerp = function (lhs, rhs, alpha) {
            var a = lhs.values, b = rhs.values, r = this.values;
            r[0] = a[0] + alpha * (b[0] - a[0]);
            r[1] = a[1] + alpha * (b[1] - a[1]);
            r[2] = a[2] + alpha * (b[2] - a[2]);
            return this;
        };
        Vector3.prototype.dot = function (rhs) {
            var a = this.values, b = rhs.values;
            return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
        };
        Vector3.prototype.min = function (v) {
            if (this.x > v.x) {
                this.x = v.x;
            }
            if (this.y > v.y) {
                this.y = v.y;
            }
            if (this.z > v.z) {
                this.z = v.z;
            }
            return this;
        };
        Vector3.prototype.max = function (v) {
            if (this.x < v.x) {
                this.x = v.x;
            }
            if (this.y < v.y) {
                this.y = v.y;
            }
            if (this.z < v.z) {
                this.z = v.z;
            }
            return this;
        };
        Vector3.prototype.isEqual = function (v) {
            return this.x === v.x && this.y === v.y && this.z === v.z;
        };
        Vector3.prototype.toArray = function () {
            return [this.x, this.y, this.z];
        };
        Vector3.prototype.applyMatrix4 = function (m) {
            var x = this.x, y = this.y, z = this.z, e = m.values;
            this.x = e[0] * x + e[4] * y + e[8] * z + e[12];
            this.y = e[1] * x + e[5] * y + e[9] * z + e[13];
            this.z = e[2] * x + e[6] * y + e[10] * z + e[14];
            return this;
        };
        Vector3.prototype.distanceTo = function (v) {
            return Math.sqrt(this.distanceToSquared(v));
        };
        Vector3.prototype.distanceToSquared = function (v) {
            var dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;
            return Math.pow(dx, 2) + Math.pow(dy, 2) + Math.pow(dz, 2);
        };
        Vector3.up = Vector3.create(0, 1, 0);
        Vector3.forward = Vector3.create(0, 0, 1);
        Vector3.right = Vector3.create(1, 0, 0);
        return Vector3;
    }());
    wd.Vector3 = Vector3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Vector4 = (function () {
        function Vector4() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = new Float32Array(4);
            if (args.length > 0) {
                this.values[0] = args[0];
                this.values[1] = args[1];
                this.values[2] = args[2];
                this.values[3] = args[3];
            }
        }
        Vector4.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0], args[1], args[2], args[3]);
            }
            return m;
        };
        Object.defineProperty(Vector4.prototype, "x", {
            get: function () {
                return this.values[0];
            },
            set: function (x) {
                this.values[0] = x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "y", {
            get: function () {
                return this.values[1];
            },
            set: function (y) {
                this.values[1] = y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "z", {
            get: function () {
                return this.values[2];
            },
            set: function (z) {
                this.values[2] = z;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Vector4.prototype, "w", {
            get: function () {
                return this.values[3];
            },
            set: function (w) {
                this.values[3] = w;
            },
            enumerable: true,
            configurable: true
        });
        Vector4.prototype.normalize = function () {
            var v = this.values;
            var d = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]);
            if (d === 0) {
                return Vector4.create(0, 0, 0, 0);
            }
            v[0] = v[0] / d;
            v[1] = v[1] / d;
            v[2] = v[2] / d;
            v[3] = v[3] / d;
            return this;
        };
        Vector4.prototype.copy = function () {
            return this.copyHelper(Vector4.create());
        };
        Vector4.prototype.toVector3 = function () {
            return wd.Vector3.create(this.values[0], this.values[1], this.values[2]);
        };
        Vector4.prototype.multiplyScalar = function (scalar) {
            this.x *= scalar;
            this.y *= scalar;
            this.z *= scalar;
            this.w *= scalar;
            return this;
        };
        Vector4.prototype.dot = function (v) {
            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;
        };
        Vector4.prototype.set = function (x, y, z, w) {
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        };
        Vector4.prototype.copyHelper = function (vector4) {
            var result = vector4, i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        return Vector4;
    }());
    wd.Vector4 = Vector4;
})(wd || (wd = {}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var wd;
(function (wd) {
    var Matrix4 = (function () {
        function Matrix4() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            this._matrixArr = null;
            if (args.length === 1) {
                this.values = args[0];
            }
            else {
                this.values = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
            }
            this._matrixArr = [];
        }
        Matrix4.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0]);
            }
            return m;
        };
        Matrix4.prototype.push = function () {
            this._matrixArr.push(this.values);
        };
        Matrix4.prototype.pop = function () {
            this.values = this._matrixArr.pop();
        };
        Matrix4.prototype.set = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var te = this.values, values = null;
            if (args.length === 1) {
                var matrix = args[0];
                values = matrix.values;
            }
            else {
                values = [
                    args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11], args[12], args[13], args[14], args[15]
                ];
            }
            te[0] = values[0];
            te[1] = values[1];
            te[2] = values[2];
            te[3] = values[3];
            te[4] = values[4];
            te[5] = values[5];
            te[6] = values[6];
            te[7] = values[7];
            te[8] = values[8];
            te[9] = values[9];
            te[10] = values[10];
            te[11] = values[11];
            te[12] = values[12];
            te[13] = values[13];
            te[14] = values[14];
            te[15] = values[15];
            return this;
        };
        Matrix4.prototype.setIdentity = function () {
            var e = this.values;
            e[0] = 1;
            e[4] = 0;
            e[8] = 0;
            e[12] = 0;
            e[1] = 0;
            e[5] = 1;
            e[9] = 0;
            e[13] = 0;
            e[2] = 0;
            e[6] = 0;
            e[10] = 1;
            e[14] = 0;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.invert = function () {
            var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b00, b01, b02, b03, b04, b05, b06, b07, b08, b09, b10, b11, invDet, m;
            m = this.values;
            a00 = m[0];
            a01 = m[1];
            a02 = m[2];
            a03 = m[3];
            a10 = m[4];
            a11 = m[5];
            a12 = m[6];
            a13 = m[7];
            a20 = m[8];
            a21 = m[9];
            a22 = m[10];
            a23 = m[11];
            a30 = m[12];
            a31 = m[13];
            a32 = m[14];
            a33 = m[15];
            b00 = a00 * a11 - a01 * a10;
            b01 = a00 * a12 - a02 * a10;
            b02 = a00 * a13 - a03 * a10;
            b03 = a01 * a12 - a02 * a11;
            b04 = a01 * a13 - a03 * a11;
            b05 = a02 * a13 - a03 * a12;
            b06 = a20 * a31 - a21 * a30;
            b07 = a20 * a32 - a22 * a30;
            b08 = a20 * a33 - a23 * a30;
            b09 = a21 * a32 - a22 * a31;
            b10 = a21 * a33 - a23 * a31;
            b11 = a22 * a33 - a23 * a32;
            invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);
            m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;
            m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;
            m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;
            m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;
            m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;
            m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;
            m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;
            m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;
            m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;
            m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;
            m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;
            m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;
            m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;
            m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;
            m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;
            m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;
            return this;
        };
        Matrix4.prototype.invertTo3x3 = function () {
            var a11, a21, a31, a12, a22, a32, a13, a23, a33, m, r, det, idet;
            var mat3 = wd.Matrix3.create();
            m = this.values;
            r = mat3.values;
            a11 = m[10] * m[5] - m[6] * m[9];
            a21 = -m[10] * m[1] + m[2] * m[9];
            a31 = m[6] * m[1] - m[2] * m[5];
            a12 = -m[10] * m[4] + m[6] * m[8];
            a22 = m[10] * m[0] - m[2] * m[8];
            a32 = -m[6] * m[0] + m[2] * m[4];
            a13 = m[9] * m[4] - m[5] * m[8];
            a23 = -m[9] * m[0] + m[1] * m[8];
            a33 = m[5] * m[0] - m[1] * m[4];
            det = m[0] * a11 + m[1] * a12 + m[2] * a13;
            if (det === 0) {
                wd.Log.warn("can't invert matrix, determinant is 0");
                return mat3;
            }
            idet = 1 / det;
            r[0] = idet * a11;
            r[1] = idet * a21;
            r[2] = idet * a31;
            r[3] = idet * a12;
            r[4] = idet * a22;
            r[5] = idet * a32;
            r[6] = idet * a13;
            r[7] = idet * a23;
            r[8] = idet * a33;
            return mat3;
        };
        Matrix4.prototype.transpose = function () {
            var te = this.values;
            var tmp;
            tmp = te[1];
            te[1] = te[4];
            te[4] = tmp;
            tmp = te[2];
            te[2] = te[8];
            te[8] = tmp;
            tmp = te[6];
            te[6] = te[9];
            te[9] = tmp;
            tmp = te[3];
            te[3] = te[12];
            te[12] = tmp;
            tmp = te[7];
            te[7] = te[13];
            te[13] = tmp;
            tmp = te[11];
            te[11] = te[14];
            te[14] = tmp;
            return this;
        };
        Matrix4.prototype.setTranslate = function (x, y, z) {
            var e = this.values;
            e[0] = 1;
            e[4] = 0;
            e[8] = 0;
            e[12] = x;
            e[1] = 0;
            e[5] = 1;
            e[9] = 0;
            e[13] = y;
            e[2] = 0;
            e[6] = 0;
            e[10] = 1;
            e[14] = z;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.translate = function (x, y, z) {
            this.applyMatrix(Matrix4.create().setTranslate(x, y, z));
            return this;
        };
        Matrix4.prototype.setRotate = function (angle, x, y, z) {
            var e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;
            var angle = Math.PI * angle / 180;
            e = this.values;
            s = Math.sin(angle);
            c = Math.cos(angle);
            if (0 !== x && 0 === y && 0 === z) {
                if (x < 0) {
                    s = -s;
                }
                e[0] = 1;
                e[4] = 0;
                e[8] = 0;
                e[12] = 0;
                e[1] = 0;
                e[5] = c;
                e[9] = -s;
                e[13] = 0;
                e[2] = 0;
                e[6] = s;
                e[10] = c;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else if (0 === x && 0 !== y && 0 === z) {
                if (y < 0) {
                    s = -s;
                }
                e[0] = c;
                e[4] = 0;
                e[8] = s;
                e[12] = 0;
                e[1] = 0;
                e[5] = 1;
                e[9] = 0;
                e[13] = 0;
                e[2] = -s;
                e[6] = 0;
                e[10] = c;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else if (0 === x && 0 === y && 0 !== z) {
                if (z < 0) {
                    s = -s;
                }
                e[0] = c;
                e[4] = -s;
                e[8] = 0;
                e[12] = 0;
                e[1] = s;
                e[5] = c;
                e[9] = 0;
                e[13] = 0;
                e[2] = 0;
                e[6] = 0;
                e[10] = 1;
                e[14] = 0;
                e[3] = 0;
                e[7] = 0;
                e[11] = 0;
                e[15] = 1;
            }
            else {
                len = Math.sqrt(x * x + y * y + z * z);
                if (len !== 1) {
                    rlen = 1 / len;
                    x *= rlen;
                    y *= rlen;
                    z *= rlen;
                }
                nc = 1 - c;
                xy = x * y;
                yz = y * z;
                zx = z * x;
                xs = x * s;
                ys = y * s;
                zs = z * s;
                e[0] = x * x * nc + c;
                e[1] = xy * nc + zs;
                e[2] = zx * nc - ys;
                e[3] = 0;
                e[4] = xy * nc - zs;
                e[5] = y * y * nc + c;
                e[6] = yz * nc + xs;
                e[7] = 0;
                e[8] = zx * nc + ys;
                e[9] = yz * nc - xs;
                e[10] = z * z * nc + c;
                e[11] = 0;
                e[12] = 0;
                e[13] = 0;
                e[14] = 0;
                e[15] = 1;
            }
            return this;
        };
        Matrix4.prototype.rotate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = args[0];
            if (args.length === 2) {
                var vector3 = args[1];
                this.applyMatrix(Matrix4.create().setRotate(angle, vector3.values[0], vector3.values[1], vector3.values[2]));
            }
            else if (args.length === 4) {
                var x = args[1], y = args[2], z = args[3];
                this.applyMatrix(Matrix4.create().setRotate(angle, x, y, z));
            }
            return this;
        };
        Matrix4.prototype.setScale = function (x, y, z) {
            var e = this.values;
            e[0] = x;
            e[4] = 0;
            e[8] = 0;
            e[12] = 0;
            e[1] = 0;
            e[5] = y;
            e[9] = 0;
            e[13] = 0;
            e[2] = 0;
            e[6] = 0;
            e[10] = z;
            e[14] = 0;
            e[3] = 0;
            e[7] = 0;
            e[11] = 0;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.scale = function (x, y, z) {
            this.applyMatrix(Matrix4.create().setScale(x, y, z));
            return this;
        };
        Matrix4.prototype.setLookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var x, y, z, eye, center, up;
            if (args.length === 3) {
                eye = args[0];
                center = args[1];
                up = args[2];
            }
            else if (args.length === 9) {
                eye = wd.Vector3.create(args[0], args[1], args[2]);
                center = wd.Vector3.create(args[3], args[4], args[5]);
                up = wd.Vector3.create(args[6], args[7], args[8]);
            }
            x = wd.Vector3.create();
            z = eye.copy().sub(center).normalize();
            y = up.copy().normalize();
            x.cross(y, z).normalize();
            y.cross(z, x);
            var r = this.values;
            r[0] = x.x;
            r[1] = x.y;
            r[2] = x.z;
            r[3] = 0;
            r[4] = y.x;
            r[5] = y.y;
            r[6] = y.z;
            r[7] = 0;
            r[8] = z.x;
            r[9] = z.y;
            r[10] = z.z;
            r[11] = 0;
            r[12] = eye.x;
            r[13] = eye.y;
            r[14] = eye.z;
            r[15] = 1;
            return this;
        };
        Matrix4.prototype.lookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var matrix = Matrix4.create();
            this.applyMatrix(matrix.setLookAt.apply(matrix, args));
            return this;
        };
        Matrix4.prototype.setOrtho = function (left, right, bottom, top, near, far) {
            var e = this.values, rw, rh, rd;
            rw = 1 / (right - left);
            rh = 1 / (top - bottom);
            rd = 1 / (far - near);
            e[0] = 2 * rw;
            e[1] = 0;
            e[2] = 0;
            e[3] = 0;
            e[4] = 0;
            e[5] = 2 * rh;
            e[6] = 0;
            e[7] = 0;
            e[8] = 0;
            e[9] = 0;
            e[10] = -2 * rd;
            e[11] = 0;
            e[12] = -(right + left) * rw;
            e[13] = -(top + bottom) * rh;
            e[14] = -(far + near) * rd;
            e[15] = 1;
            return this;
        };
        Matrix4.prototype.ortho = function (left, right, bottom, top, near, far) {
            this.applyMatrix(Matrix4.create().setOrtho(left, right, bottom, top, near, far));
            return this;
        };
        Matrix4.prototype.setPerspective = function (fovy, aspect, near, far) {
            var e = null, rd = null, s = null, ct = null, fovy = Math.PI * fovy / 180 / 2;
            s = Math.sin(fovy);
            wd.Log.error(s === 0, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
            rd = 1 / (far - near);
            ct = Math.cos(fovy) / s;
            e = this.values;
            e[0] = ct / aspect;
            e[1] = 0;
            e[2] = 0;
            e[3] = 0;
            e[4] = 0;
            e[5] = ct;
            e[6] = 0;
            e[7] = 0;
            e[8] = 0;
            e[9] = 0;
            e[10] = -(far + near) * rd;
            e[11] = -1;
            e[12] = 0;
            e[13] = 0;
            e[14] = -2 * near * far * rd;
            e[15] = 0;
            return this;
        };
        Matrix4.prototype.perspective = function (fovy, aspect, near, far) {
            this.applyMatrix(Matrix4.create().setPerspective(fovy, aspect, near, far));
            return this;
        };
        Matrix4.prototype.applyMatrix = function (other, notChangeSelf) {
            if (notChangeSelf === void 0) { notChangeSelf = false; }
            var a = this, b = other.copy();
            if (notChangeSelf) {
                return b.multiply(a);
            }
            this.values = b.multiply(a).values;
            return this;
        };
        Matrix4.prototype.multiply = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var mat1 = null, mat2 = null, result = null;
            result = this.values;
            if (args.length === 1) {
                mat1 = this.values;
                mat2 = args[0].values;
            }
            else if (args.length === 2) {
                mat1 = args[0].values;
                mat2 = args[1].values;
            }
            var a = mat1[0], b = mat1[1], c = mat1[2], d = mat1[3], e = mat1[4], f = mat1[5], g = mat1[6], h = mat1[7], i = mat1[8], j = mat1[9], k = mat1[10], l = mat1[11], m = mat1[12], n = mat1[13], o = mat1[14], p = mat1[15], A = mat2[0], B = mat2[1], C = mat2[2], D = mat2[3], E = mat2[4], F = mat2[5], G = mat2[6], H = mat2[7], I = mat2[8], J = mat2[9], K = mat2[10], L = mat2[11], M = mat2[12], N = mat2[13], O = mat2[14], P = mat2[15];
            result[0] = A * a + B * e + C * i + D * m;
            result[1] = A * b + B * f + C * j + D * n;
            result[2] = A * c + B * g + C * k + D * o;
            result[3] = A * d + B * h + C * l + D * p;
            result[4] = E * a + F * e + G * i + H * m;
            result[5] = E * b + F * f + G * j + H * n;
            result[6] = E * c + F * g + G * k + H * o;
            result[7] = E * d + F * h + G * l + H * p;
            result[8] = I * a + J * e + K * i + L * m;
            result[9] = I * b + J * f + K * j + L * n;
            result[10] = I * c + J * g + K * k + L * o;
            result[11] = I * d + J * h + K * l + L * p;
            result[12] = M * a + N * e + O * i + P * m;
            result[13] = M * b + N * f + O * j + P * n;
            result[14] = M * c + N * g + O * k + P * o;
            result[15] = M * d + N * h + O * l + P * p;
            return this;
        };
        Matrix4.prototype.multiplyVector4 = function (vector) {
            var mat1 = this.values, vec4 = vector.values;
            var result = [];
            result[0] = vec4[0] * mat1[0] + vec4[1] * mat1[4] + vec4[2] * mat1[8] + vec4[3] * mat1[12];
            result[1] = vec4[0] * mat1[1] + vec4[1] * mat1[5] + vec4[2] * mat1[9] + vec4[3] * mat1[13];
            result[2] = vec4[0] * mat1[2] + vec4[1] * mat1[6] + vec4[2] * mat1[10] + vec4[3] * mat1[14];
            result[3] = vec4[0] * mat1[3] + vec4[1] * mat1[7] + vec4[2] * mat1[11] + vec4[3] * mat1[15];
            return wd.Vector4.create(result[0], result[1], result[2], result[3]);
        };
        Matrix4.prototype.multiplyVector3 = function (vector) {
            var mat1 = this.values, vec3 = vector.values;
            var result = [];
            result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8];
            result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9];
            result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10];
            return wd.Vector3.create(result[0], result[1], result[2]);
        };
        Matrix4.prototype.multiplyPoint = function (vector) {
            var mat1 = this.values, vec3 = vector.values;
            var result = [];
            result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8] + mat1[12];
            result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9] + mat1[13];
            result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10] + mat1[14];
            return wd.Vector3.create(result[0], result[1], result[2]);
        };
        Matrix4.prototype.copy = function () {
            var result = Matrix4.create(), i = 0, len = this.values.length;
            for (i = 0; i < len; i++) {
                result.values[i] = this.values[i];
            }
            return result;
        };
        Matrix4.prototype.getX = function () {
            return wd.Vector3.create(this.values[0], this.values[1], this.values[2]);
        };
        Matrix4.prototype.getY = function () {
            return wd.Vector3.create(this.values[4], this.values[5], this.values[6]);
        };
        Matrix4.prototype.getZ = function () {
            return wd.Vector3.create(this.values[8], this.values[9], this.values[10]);
        };
        Matrix4.prototype.getTranslation = function () {
            return wd.Vector3.create(this.values[12], this.values[13], this.values[14]);
        };
        Matrix4.prototype.getScale = function () {
            return wd.Vector3.create(this.getX().length(), this.getY().length(), this.getZ().length());
        };
        Matrix4.prototype.getRotation = function () {
            return wd.Quaternion.create().setFromMatrix(this);
        };
        Matrix4.prototype.getEulerAngles = function () {
            var x, y, z, sx, sy, sz, m, halfPi;
            var scale = this.getScale();
            sx = scale.x;
            sy = scale.y;
            sz = scale.z;
            m = this.values;
            y = Math.asin(-m[2] / sx);
            halfPi = Math.PI * 0.5;
            if (y < halfPi) {
                if (y > -halfPi) {
                    x = Math.atan2(m[6] / sy, m[10] / sz);
                    z = Math.atan2(m[1] / sx, m[0] / sx);
                }
                else {
                    z = 0;
                    x = -Math.atan2(m[4] / sy, m[5] / sy);
                }
            }
            else {
                z = 0;
                x = Math.atan2(m[4] / sy, m[5] / sy);
            }
            return wd.Vector3.create(x, y, z).scale(wd.RAD_TO_DEG);
        };
        Matrix4.prototype.setTRS = function (t, r, s) {
            var tx, ty, tz, qx, qy, qz, qw, sx, sy, sz, x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;
            tx = t.x;
            ty = t.y;
            tz = t.z;
            qx = r.x;
            qy = r.y;
            qz = r.z;
            qw = r.w;
            sx = s.x;
            sy = s.y;
            sz = s.z;
            x2 = qx + qx;
            y2 = qy + qy;
            z2 = qz + qz;
            xx = qx * x2;
            xy = qx * y2;
            xz = qx * z2;
            yy = qy * y2;
            yz = qy * z2;
            zz = qz * z2;
            wx = qw * x2;
            wy = qw * y2;
            wz = qw * z2;
            m = this.values;
            m[0] = (1 - (yy + zz)) * sx;
            m[1] = (xy + wz) * sx;
            m[2] = (xz - wy) * sx;
            m[3] = 0;
            m[4] = (xy - wz) * sy;
            m[5] = (1 - (xx + zz)) * sy;
            m[6] = (yz + wx) * sy;
            m[7] = 0;
            m[8] = (xz + wy) * sz;
            m[9] = (yz - wx) * sz;
            m[10] = (1 - (xx + yy)) * sz;
            m[11] = 0;
            m[12] = tx;
            m[13] = ty;
            m[14] = tz;
            m[15] = 1;
            return this;
        };
        __decorate([
            wd.require(function (left, right, bottom, top, near, far) {
                wd.assert(left !== right && bottom !== top && near !== far, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
            })
        ], Matrix4.prototype, "setOrtho", null);
        __decorate([
            wd.require(function (fovy, aspect, near, far) {
                wd.assert(near !== far && aspect !== 0, wd.Log.info.FUNC_MUST_NOT_BE("frustum", "null"));
                wd.assert(near > 0, wd.Log.info.FUNC_MUST("near", "> 0"));
                wd.assert(far > 0, wd.Log.info.FUNC_MUST("far", "> 0"));
            })
        ], Matrix4.prototype, "setPerspective", null);
        return Matrix4;
    }());
    wd.Matrix4 = Matrix4;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Matrix3 = (function () {
        function Matrix3() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.values = null;
            if (args.length === 1) {
                this.values = args[0];
            }
            else {
                this.values = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            }
        }
        Matrix3.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var m = null;
            if (args.length === 0) {
                m = new this();
            }
            else {
                m = new this(args[0]);
            }
            return m;
        };
        Object.defineProperty(Matrix3.prototype, "a", {
            get: function () {
                return this.values[0];
            },
            set: function (a) {
                this.values[0] = a;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "c", {
            get: function () {
                return this.values[1];
            },
            set: function (c) {
                this.values[1] = c;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "b", {
            get: function () {
                return this.values[3];
            },
            set: function (b) {
                this.values[3] = b;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "d", {
            get: function () {
                return this.values[4];
            },
            set: function (d) {
                this.values[4] = d;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "tx", {
            get: function () {
                return this.values[6];
            },
            set: function (tx) {
                this.values[6] = tx;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Matrix3.prototype, "ty", {
            get: function () {
                return this.values[7];
            },
            set: function (ty) {
                this.values[7] = ty;
            },
            enumerable: true,
            configurable: true
        });
        Matrix3.prototype.setIdentity = function () {
            var e = this.values;
            e[0] = 1;
            e[3] = 0;
            e[6] = 0;
            e[1] = 0;
            e[4] = 1;
            e[7] = 0;
            e[2] = 0;
            e[5] = 0;
            e[8] = 1;
            return this;
        };
        Matrix3.prototype.invert = function () {
            var a1 = this.values[0];
            var b1 = this.values[1];
            var c1 = this.values[3];
            var d1 = this.values[4];
            var tx1 = this.values[6];
            var ty1 = this.values[7];
            var n = a1 * d1 - b1 * c1;
            this.values[0] = d1 / n;
            this.values[1] = -b1 / n;
            this.values[3] = -c1 / n;
            this.values[4] = a1 / n;
            this.values[6] = (c1 * ty1 - d1 * tx1) / n;
            this.values[7] = -(a1 * ty1 - b1 * tx1) / n;
            return this;
        };
        Matrix3.prototype.multiplyScalar = function (s) {
            var te = this.values;
            te[0] *= s;
            te[3] *= s;
            te[6] *= s;
            te[1] *= s;
            te[4] *= s;
            te[7] *= s;
            te[2] *= s;
            te[5] *= s;
            te[8] *= s;
            return this;
        };
        Matrix3.prototype.multiplyVector2 = function (vector) {
            var x = vector.x, y = vector.y, result = wd.Vector2.create(), e = this.values;
            result.x = e[0] * x + e[3] * y;
            result.y = e[1] * x + e[4] * y;
            return result;
        };
        Matrix3.prototype.multiplyPoint = function (vector) {
            var x = vector.x, y = vector.y, result = wd.Vector2.create(), e = this.values;
            result.x = e[0] * x + e[3] * y + this.tx;
            result.y = e[1] * x + e[4] * y + this.ty;
            return result;
        };
        Matrix3.prototype.multiply = function (matrix) {
            var m11 = this.a * matrix.a + this.c * matrix.b;
            var m12 = this.b * matrix.a + this.d * matrix.b;
            var m21 = this.a * matrix.c + this.c * matrix.d;
            var m22 = this.b * matrix.c + this.d * matrix.d;
            var dx = this.a * matrix.tx + this.c * matrix.ty + this.tx;
            var dy = this.b * matrix.tx + this.d * matrix.ty + this.ty;
            this.a = m11;
            this.b = m12;
            this.c = m21;
            this.d = m22;
            this.tx = dx;
            this.ty = dy;
            return this;
        };
        Matrix3.prototype.transpose = function () {
            var tmp, m = this.values;
            tmp = m[1];
            m[1] = m[3];
            m[3] = tmp;
            tmp = m[2];
            m[2] = m[6];
            m[6] = tmp;
            tmp = m[5];
            m[5] = m[7];
            m[7] = tmp;
            return this;
        };
        Matrix3.prototype.copy = function () {
            return Matrix3.create().set(this);
        };
        Matrix3.prototype.set = function (matrix) {
            var te = this.values, values = matrix.values;
            te[0] = values[0];
            te[3] = values[3];
            te[6] = values[6];
            te[1] = values[1];
            te[4] = values[4];
            te[7] = values[7];
            te[2] = values[2];
            te[5] = values[5];
            te[8] = values[8];
            return this;
        };
        Matrix3.prototype.setTS = function (t, s) {
            this.setPosition(t.x, t.y);
            this.setScale(s.x, s.y);
        };
        Matrix3.prototype.rotate = function (angle) {
            var rad = angle * wd.DEG_TO_RAD;
            var c = Math.cos(rad);
            var s = Math.sin(rad);
            var m11 = this.a * c + this.c * s;
            var m12 = this.b * c + this.d * s;
            var m21 = this.a * -s + this.c * c;
            var m22 = this.b * -s + this.d * c;
            this.a = m11;
            this.b = m12;
            this.c = m21;
            this.d = m22;
            return this;
        };
        Matrix3.prototype.setRotation = function (angle) {
            var rad = angle * wd.DEG_TO_RAD;
            var cos_a = Math.cos(rad);
            var sin_a = Math.sin(rad);
            var values = this.values;
            values[0] = cos_a;
            values[1] = -sin_a;
            values[3] = sin_a;
            values[4] = cos_a;
            return this;
        };
        Matrix3.prototype.translate = function (x, y) {
            this.tx += this.a * x + this.c * y;
            this.ty += this.b * x + this.d * y;
        };
        Matrix3.prototype.setPosition = function (x, y) {
            this.tx = x;
            this.ty = y;
        };
        Matrix3.prototype.scale = function (x, y) {
            this.a *= x;
            this.b *= x;
            this.c *= y;
            this.d *= y;
            return this;
        };
        Matrix3.prototype.setScale = function (x, y) {
            var values = this.values;
            values[0] = x;
            values[4] = y;
            return this;
        };
        Matrix3.prototype.getTranslation = function () {
            return wd.Vector2.create(this.tx, this.ty);
        };
        Matrix3.prototype.getScale = function () {
            return wd.Vector2.create(Math.sqrt(this.a * this.a + this.b * this.b), Math.sqrt(this.c * this.c + this.d * this.d));
        };
        Matrix3.prototype.getRotation = function () {
            return this._getSkewX();
        };
        Matrix3.prototype.getSkew = function () {
            return wd.Vector2.create(this._getSkewX(), this._getSkewY());
        };
        Matrix3.prototype._getDeltaTransformPoint = function (matrix, point) {
            return {
                x: point.x * matrix.a + point.y * matrix.c + 0,
                y: point.x * matrix.b + point.y * matrix.d + 0
            };
        };
        Matrix3.prototype._getSkewX = function () {
            var px = this._getDeltaTransformPoint(this, { x: 0, y: 1 });
            return ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);
        };
        Matrix3.prototype._getSkewY = function () {
            var py = this._getDeltaTransformPoint(this, { x: 1, y: 0 });
            return ((180 / Math.PI) * Math.atan2(py.y, py.x));
        };
        return Matrix3;
    }());
    wd.Matrix3 = Matrix3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Quaternion = (function () {
        function Quaternion(x, y, z, w) {
            if (x === void 0) { x = 0; }
            if (y === void 0) { y = 0; }
            if (z === void 0) { z = 0; }
            if (w === void 0) { w = 1; }
            this.x = null;
            this.y = null;
            this.z = null;
            this.w = null;
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        }
        Quaternion.create = function (x, y, z, w) {
            var obj = new this(x, y, z, w);
            return obj;
        };
        Quaternion.prototype.setFromEulerAngles = function (eulerAngles) {
            var sx, cx, sy, cy, sz, cz, halfToRad, ex = eulerAngles.x, ey = eulerAngles.y, ez = eulerAngles.z;
            halfToRad = 0.5 * wd.DEG_TO_RAD;
            ex *= halfToRad;
            ey *= halfToRad;
            ez *= halfToRad;
            sx = Math.sin(ex);
            cx = Math.cos(ex);
            sy = Math.sin(ey);
            cy = Math.cos(ey);
            sz = Math.sin(ez);
            cz = Math.cos(ez);
            this.x = sx * cy * cz - cx * sy * sz;
            this.y = cx * sy * cz + sx * cy * sz;
            this.z = cx * cy * sz - sx * sy * cz;
            this.w = cx * cy * cz + sx * sy * sz;
            return this;
        };
        Quaternion.prototype.multiply = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w, rhs1, rhs2, result = this;
            if (args.length === 1) {
                rhs1 = this;
                rhs2 = args[0];
            }
            else if (args.length === 2) {
                rhs1 = args[0];
                rhs2 = args[1];
            }
            q1x = rhs1.x;
            q1y = rhs1.y;
            q1z = rhs1.z;
            q1w = rhs1.w;
            q2x = rhs2.x;
            q2y = rhs2.y;
            q2z = rhs2.z;
            q2w = rhs2.w;
            result.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;
            result.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;
            result.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;
            result.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;
            return result;
        };
        Quaternion.prototype.setFromMatrix = function (matrix) {
            var m00, m01, m02, m10, m11, m12, m20, m21, m22, tr, s, rs, lx, ly, lz, m;
            m = matrix.values;
            m00 = m[0];
            m01 = m[1];
            m02 = m[2];
            m10 = m[4];
            m11 = m[5];
            m12 = m[6];
            m20 = m[8];
            m21 = m[9];
            m22 = m[10];
            lx = 1 / Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02);
            ly = 1 / Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12);
            lz = 1 / Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22);
            m00 *= lx;
            m01 *= lx;
            m02 *= lx;
            m10 *= ly;
            m11 *= ly;
            m12 *= ly;
            m20 *= lz;
            m21 *= lz;
            m22 *= lz;
            tr = m00 + m11 + m22;
            if (tr >= 0) {
                s = Math.sqrt(tr + 1);
                this.w = s * 0.5;
                s = 0.5 / s;
                this.x = (m12 - m21) * s;
                this.y = (m20 - m02) * s;
                this.z = (m01 - m10) * s;
            }
            else {
                if (m00 > m11) {
                    if (m00 > m22) {
                        rs = (m00 - (m11 + m22)) + 1;
                        rs = Math.sqrt(rs);
                        this.x = rs * 0.5;
                        rs = 0.5 / rs;
                        this.w = (m12 - m21) * rs;
                        this.y = (m01 + m10) * rs;
                        this.z = (m02 + m20) * rs;
                    }
                    else {
                        rs = (m22 - (m00 + m11)) + 1;
                        rs = Math.sqrt(rs);
                        this.z = rs * 0.5;
                        rs = 0.5 / rs;
                        this.w = (m01 - m10) * rs;
                        this.x = (m20 + m02) * rs;
                        this.y = (m21 + m12) * rs;
                    }
                }
                else if (m11 > m22) {
                    rs = (m11 - (m22 + m00)) + 1;
                    rs = Math.sqrt(rs);
                    this.y = rs * 0.5;
                    rs = 0.5 / rs;
                    this.w = (m20 - m02) * rs;
                    this.z = (m12 + m21) * rs;
                    this.x = (m10 + m01) * rs;
                }
                else {
                    rs = (m22 - (m00 + m11)) + 1;
                    rs = Math.sqrt(rs);
                    this.z = rs * 0.5;
                    rs = 0.5 / rs;
                    this.w = (m01 - m10) * rs;
                    this.x = (m20 + m02) * rs;
                    this.y = (m21 + m12) * rs;
                }
            }
            return this;
        };
        Quaternion.prototype.setFromAxisAngle = function (angle, axis) {
            var sa, ca;
            axis = axis.normalize();
            angle *= 0.5 * wd.DEG_TO_RAD;
            sa = Math.sin(angle);
            ca = Math.cos(angle);
            this.x = sa * axis.x;
            this.y = sa * axis.y;
            this.z = sa * axis.z;
            this.w = ca;
            return this;
        };
        Quaternion.prototype.invert = function () {
            return this.conjugate().normalize();
        };
        Quaternion.prototype.conjugate = function () {
            this.x *= -1;
            this.y *= -1;
            this.z *= -1;
            return this;
        };
        Quaternion.prototype.clone = function () {
            return Quaternion.create(this.x, this.y, this.z, this.w);
        };
        Quaternion.prototype.copy = function () {
            return Quaternion.create(this.x, this.y, this.z, this.w);
        };
        Quaternion.prototype.normalize = function () {
            var len = this.length();
            if (len === 0) {
                this.x = this.y = this.z = 0;
                this.w = 1;
            }
            else {
                len = 1 / len;
                this.x *= len;
                this.y *= len;
                this.z *= len;
                this.w *= len;
            }
            return this;
        };
        Quaternion.prototype.length = function () {
            var x, y, z, w;
            x = this.x;
            y = this.y;
            z = this.z;
            w = this.w;
            return Math.sqrt(x * x + y * y + z * z + w * w);
        };
        Quaternion.prototype.multiplyVector3 = function (vector) {
            var q = this;
            var x = vector.x;
            var y = vector.y;
            var z = vector.z;
            var qx = q.x;
            var qy = q.y;
            var qz = q.z;
            var qw = q.w;
            var ix = qw * x + qy * z - qz * y;
            var iy = qw * y + qz * x - qx * z;
            var iz = qw * z + qx * y - qy * x;
            var iw = -qx * x - qy * y - qz * z;
            return wd.Vector3.create(ix * qw + iw * -qx + iy * -qz - iz * -qy, iy * qw + iw * -qy + iz * -qx - ix * -qz, iz * qw + iw * -qz + ix * -qy - iy * -qx);
        };
        Quaternion.prototype.set = function (x, y, z, w) {
            this.x = x;
            this.y = y;
            this.z = z;
            this.w = w;
        };
        Quaternion.prototype.sub = function (quat) {
            var result = quat.copy().invert().multiply(this);
            this.set(result.x, result.y, result.z, result.w);
            return this;
        };
        Quaternion.prototype.getEulerAngles = function () {
            var x, y, z, qx, qy, qz, qw, a2;
            qx = this.x;
            qy = this.y;
            qz = this.z;
            qw = this.w;
            a2 = 2 * (qw * qy - qx * qz);
            if (a2 <= -0.99999) {
                x = 2 * Math.atan2(qx, qw);
                y = -Math.PI / 2;
                z = 0;
            }
            else if (a2 >= 0.99999) {
                x = 2 * Math.atan2(qx, qw);
                y = Math.PI / 2;
                z = 0;
            }
            else {
                x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));
                y = Math.asin(a2);
                z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));
            }
            return wd.Vector3.create(x, y, z).scale(wd.RAD_TO_DEG);
        };
        Quaternion.prototype.slerp = function (left, right, amount) {
            var num2;
            var num3;
            var num = amount;
            var num4 = (((left.x * right.x) + (left.y * right.y)) + (left.z * right.z)) + (left.w * right.w);
            var flag = false;
            if (num4 < 0) {
                flag = true;
                num4 = -num4;
            }
            if (num4 > 0.999999) {
                num3 = 1 - num;
                num2 = flag ? -num : num;
            }
            else {
                var num5 = Math.acos(num4);
                var num6 = (1.0 / Math.sin(num5));
                num3 = (Math.sin((1.0 - num) * num5)) * num6;
                num2 = flag ? ((-Math.sin(num * num5)) * num6) : ((Math.sin(num * num5)) * num6);
            }
            return Quaternion.create((num3 * left.x) + (num2 * right.x), (num3 * left.y) + (num2 * right.y), (num3 * left.z) + (num2 * right.z), (num3 * left.w) + (num2 * right.w));
        };
        return Quaternion;
    }());
    wd.Quaternion = Quaternion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Plane = (function () {
        function Plane(a, b, c, d) {
            this.normal = wd.Vector3.create(0, 1, 0);
            this.d = 0;
            this.normal = wd.Vector3.create(a, b, c);
            this.d = d;
        }
        Plane.create = function (a, b, c, d) {
            var obj = new this(a, b, c, d);
            return obj;
        };
        Plane.prototype.getReflectionMatrix = function () {
            this.normalize();
            var x = this.normal.x;
            var y = this.normal.y;
            var z = this.normal.z;
            var temp = -2 * x;
            var temp2 = -2 * y;
            var temp3 = -2 * z;
            var result = wd.Matrix4.create();
            result.values[0] = (temp * x) + 1;
            result.values[1] = temp2 * x;
            result.values[2] = temp3 * x;
            result.values[3] = 0.0;
            result.values[4] = temp * y;
            result.values[5] = (temp2 * y) + 1;
            result.values[6] = temp3 * y;
            result.values[7] = 0.0;
            result.values[8] = temp * z;
            result.values[9] = temp2 * z;
            result.values[10] = (temp3 * z) + 1;
            result.values[11] = 0.0;
            result.values[12] = temp * this.d;
            result.values[13] = temp2 * this.d;
            result.values[14] = temp3 * this.d;
            result.values[15] = 1.0;
            return result;
        };
        Plane.prototype.normalize = function () {
            var norm = (Math.sqrt((this.normal.x * this.normal.x) + (this.normal.y * this.normal.y) + (this.normal.z * this.normal.z)));
            var magnitude = 0;
            if (norm !== 0) {
                magnitude = 1.0 / norm;
            }
            this.normal.x *= magnitude;
            this.normal.y *= magnitude;
            this.normal.z *= magnitude;
            this.d *= magnitude;
            return this;
        };
        Plane.prototype.copy = function () {
            return Plane.create(this.normal.x, this.normal.y, this.normal.z, this.d);
        };
        Plane.prototype.dotCoordinate = function (point) {
            return ((((this.normal.x * point.x) + (this.normal.y * point.y)) + (this.normal.z * point.z)) + this.d);
        };
        return Plane;
    }());
    wd.Plane = Plane;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Ray = (function () {
        function Ray(origin, direction) {
            this._origin = null;
            this._direction = null;
            this._origin = origin;
            this._direction = direction;
        }
        Ray.create = function (origin, direction) {
            var obj = new this(origin, direction);
            return obj;
        };
        Ray.prototype.isIntersectWithAABB = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var center = null, halfExtends = null, diff = wd.Vector3.create(), absDiff = null, absDir = null, cross = wd.Vector3.create(), prod = wd.Vector3.create(), rayOrigin = this._origin, rayDir = this._direction;
            if (args.length === 1) {
                var aabb = args[0];
                center = aabb.center;
                halfExtends = aabb.halfExtents;
            }
            else if (args.length === 2) {
                var minPoint = args[0], maxPoint = args[1];
                center = wd.AABBShape.getCenter(minPoint, maxPoint);
                halfExtends = wd.AABBShape.getHalfExtents(minPoint, maxPoint);
            }
            diff.sub2(rayOrigin, center);
            absDiff = wd.Vector3.create(Math.abs(diff.x), Math.abs(diff.y), Math.abs(diff.z));
            prod.mul2(diff, rayDir);
            if (absDiff.x > halfExtends.x && prod.x >= 0) {
                return false;
            }
            if (absDiff.y > halfExtends.y && prod.y >= 0) {
                return false;
            }
            if (absDiff.z > halfExtends.z && prod.z >= 0) {
                return false;
            }
            absDir = wd.Vector3.create(Math.abs(rayDir.x), Math.abs(rayDir.y), Math.abs(rayDir.z));
            cross.cross(rayDir, diff);
            cross.set(Math.abs(cross.x), Math.abs(cross.y), Math.abs(cross.z));
            if (cross.x > halfExtends.y * absDir.z + halfExtends.z * absDir.y) {
                return false;
            }
            if (cross.y > halfExtends.x * absDir.z + halfExtends.z * absDir.x) {
                return false;
            }
            if (cross.z > halfExtends.x * absDir.y + halfExtends.y * absDir.x) {
                return false;
            }
            return true;
        };
        Ray.prototype.isIntersectWithSphere = function (sphere) {
            var center = sphere.center, radius = sphere.radius, diff = wd.Vector3.create(), a = 0, b = 0, c = 0, discr = 0, rayOrigin = this._origin, rayDir = this._direction;
            diff.sub2(rayOrigin, center);
            if (diff.dot(diff) < radius * radius) {
                return true;
            }
            a = rayDir.dot(rayDir);
            b = 2 * rayDir.dot(diff);
            c = center.dot(center);
            c += rayOrigin.dot(rayOrigin);
            c -= 2 * center.dot(rayOrigin);
            c -= radius * radius;
            discr = (b * b) - (4 * a * c);
            if (discr < 0) {
                return false;
            }
            return true;
        };
        return Ray;
    }());
    wd.Ray = Ray;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Entity = (function () {
        function Entity() {
            this.uid = null;
            this._tagList = wdCb.Collection.create();
            this.uid = Entity._count;
            Entity._count += 1;
        }
        Entity.prototype.addTag = function (tag) {
            this._tagList.addChild(tag);
        };
        Entity.prototype.removeTag = function (tag) {
            this._tagList.removeChild(tag);
        };
        Entity.prototype.getTagList = function () {
            return this._tagList;
        };
        Entity.prototype.hasTag = function (tag) {
            return this._tagList.hasChild(tag);
        };
        Entity.prototype.containTag = function (tag) {
            return this._tagList.hasChildWithFunc(function (t) {
                return t.indexOf(tag) > -1;
            });
        };
        Entity._count = 1;
        return Entity;
    }());
    wd.Entity = Entity;
})(wd || (wd = {}));
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var wd;
(function (wd) {
    var Component = (function (_super) {
        __extends(Component, _super);
        function Component() {
            _super.apply(this, arguments);
            this.entityObject = null;
        }
        Component.prototype.init = function () {
        };
        Component.prototype.dispose = function () {
        };
        Object.defineProperty(Component.prototype, "transform", {
            get: function () {
                if (!this.entityObject) {
                    return null;
                }
                return this.entityObject.transform;
            },
            enumerable: true,
            configurable: true
        });
        Component.prototype.addToObject = function (entityObject) {
            if (this.entityObject) {
                this.entityObject.removeComponent(this);
            }
            this.entityObject = entityObject;
        };
        Component.prototype.removeFromObject = function (entityObject) {
            this.entityObject = null;
        };
        __decorate([
            wd.virtual
        ], Component.prototype, "init", null);
        __decorate([
            wd.virtual
        ], Component.prototype, "dispose", null);
        return Component;
    }(wd.Entity));
    wd.Component = Component;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Scheduler = (function () {
        function Scheduler() {
            this._scheduleCount = 0;
            this._schedules = wdCb.Hash.create();
        }
        Scheduler.create = function () {
            var obj = new this();
            return obj;
        };
        Scheduler.prototype.update = function (elapsedTime) {
            var _this = this;
            this._schedules.forEach(function (scheduleItem, scheduleId) {
                if (scheduleItem.isStop || scheduleItem.isPause) {
                    return;
                }
                scheduleItem.update(elapsedTime);
                if (scheduleItem.isFinish) {
                    _this.remove(scheduleId);
                }
            });
        };
        Scheduler.prototype.scheduleLoop = function (task, args) {
            if (args === void 0) { args = []; }
            return this._schedule(LoopScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleFrame = function (task, frame, args) {
            if (frame === void 0) { frame = 1; }
            return this._schedule(FrameScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleInterval = function (task, time, args) {
            if (time === void 0) { time = 0; }
            return this._schedule(IntervalScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.scheduleTime = function (task, time, args) {
            if (time === void 0) { time = 0; }
            return this._schedule(TimeScheduleItem, Array.prototype.slice.call(arguments, 0));
        };
        Scheduler.prototype.pause = function (scheduleId) {
            if (arguments.length === 0) {
                var self_1 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_1.pause(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.pause();
            }
        };
        Scheduler.prototype.resume = function (scheduleId) {
            if (arguments.length === 0) {
                var self_2 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_2.resume(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.resume();
            }
        };
        Scheduler.prototype.start = function (scheduleId) {
            if (arguments.length === 0) {
                var self_3 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_3.start(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.start();
            }
        };
        Scheduler.prototype.stop = function (scheduleId) {
            if (arguments.length === 0) {
                var self_4 = this;
                this._schedules.forEach(function (scheduleItem, scheduleId) {
                    self_4.stop(scheduleId);
                });
            }
            else if (arguments.length === 1) {
                var scheduleItem = this._schedules.getChild(arguments[0]);
                scheduleItem.stop();
            }
        };
        Scheduler.prototype.has = function (scheduleId) {
            return !!this._schedules.hasChild(scheduleId);
        };
        Scheduler.prototype.remove = function (scheduleId) {
            this._schedules.removeChild(scheduleId);
        };
        Scheduler.prototype.removeAll = function () {
            this._schedules.removeAllChildren();
        };
        Scheduler.prototype._schedule = function (_class, args) {
            var scheduleId = this._buildId();
            this._schedules.setValue(scheduleId, _class.create.apply(_class, args));
            return scheduleId;
        };
        Scheduler.prototype._buildId = function () {
            return 'Schedule_' + (this._scheduleCount++);
        };
        return Scheduler;
    }());
    wd.Scheduler = Scheduler;
    var ScheduleItem = (function () {
        function ScheduleItem(task, args) {
            this.isPause = false;
            this.isStop = false;
            this.pauseTime = null;
            this.pauseElapsed = null;
            this.startTime = null;
            this.isFinish = false;
            this.task = null;
            this.args = null;
            this.timeController = wd.CommonTimeController.create();
            this.task = task;
            this.args = args;
        }
        ScheduleItem.prototype.pause = function () {
            this.isPause = true;
            this.timeController.pause();
        };
        ScheduleItem.prototype.resume = function () {
            this.isPause = false;
            this.timeController.resume();
        };
        ScheduleItem.prototype.start = function () {
            this.isStop = false;
            this.timeController.start();
        };
        ScheduleItem.prototype.stop = function () {
            this.isStop = true;
            this.timeController.stop();
        };
        ScheduleItem.prototype.finish = function () {
            this.isFinish = true;
        };
        return ScheduleItem;
    }());
    var TimeScheduleItem = (function (_super) {
        __extends(TimeScheduleItem, _super);
        function TimeScheduleItem(task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._time = null;
            this._time = time;
        }
        TimeScheduleItem.create = function (task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            var obj = new this(task, time, args);
            return obj;
        };
        TimeScheduleItem.prototype.update = function (elapsedTime) {
            var elapsed = this.timeController.computeElapseTime(elapsedTime);
            if (elapsed >= this._time) {
                this.task.apply(this, this.args);
                this.finish();
            }
        };
        return TimeScheduleItem;
    }(ScheduleItem));
    var IntervalScheduleItem = (function (_super) {
        __extends(IntervalScheduleItem, _super);
        function IntervalScheduleItem(task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._intervalTime = null;
            this._elapsed = 0;
            this._intervalTime = time;
        }
        IntervalScheduleItem.create = function (task, time, args) {
            if (time === void 0) { time = 0; }
            if (args === void 0) { args = []; }
            var obj = new this(task, time, args);
            return obj;
        };
        IntervalScheduleItem.prototype.update = function (elapsedTime) {
            var elapsed = this.timeController.computeElapseTime(elapsedTime);
            if (elapsed - this._elapsed >= this._intervalTime) {
                this.task.apply(this, this.args);
                this._elapsed = elapsed;
            }
        };
        IntervalScheduleItem.prototype.start = function () {
            _super.prototype.start.call(this);
            this._elapsed = 0;
        };
        return IntervalScheduleItem;
    }(ScheduleItem));
    var LoopScheduleItem = (function (_super) {
        __extends(LoopScheduleItem, _super);
        function LoopScheduleItem() {
            _super.apply(this, arguments);
        }
        LoopScheduleItem.create = function (task, args) {
            if (args === void 0) { args = []; }
            var obj = new this(task, args);
            return obj;
        };
        LoopScheduleItem.prototype.update = function (elapsedTime) {
            this.task.apply(this, this.args);
        };
        return LoopScheduleItem;
    }(ScheduleItem));
    var FrameScheduleItem = (function (_super) {
        __extends(FrameScheduleItem, _super);
        function FrameScheduleItem(task, frame, args) {
            if (frame === void 0) { frame = 1; }
            if (args === void 0) { args = []; }
            _super.call(this, task, args);
            this._frame = null;
            this._frame = frame;
        }
        FrameScheduleItem.create = function (task, frame, args) {
            if (frame === void 0) { frame = 1; }
            if (args === void 0) { args = []; }
            var obj = new this(task, frame, args);
            return obj;
        };
        FrameScheduleItem.prototype.update = function (elapsedTime) {
            this._frame--;
            if (this._frame <= 0) {
                this.task.apply(this, this.args);
                this.finish();
            }
        };
        return FrameScheduleItem;
    }(ScheduleItem));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EGameState;
    (function (EGameState) {
        EGameState[EGameState["NORMAL"] = 0] = "NORMAL";
        EGameState[EGameState["STOP"] = 1] = "STOP";
        EGameState[EGameState["PAUSE"] = 2] = "PAUSE";
    })(EGameState || (EGameState = {}));
    var Director = (function () {
        function Director() {
            this.scene = null;
            this.scheduler = null;
            this.renderer = null;
            this.domEventManager = wd.DomEventManager.create();
            this._gameLoop = null;
            this._eventSubscription = null;
            this._gameState = EGameState.NORMAL;
            this._timeController = wd.DirectorTimeController.create();
        }
        Director.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
                this._instance.initWhenCreate();
            }
            return this._instance;
        };
        Object.defineProperty(Director.prototype, "gameTime", {
            get: function () {
                return this._timeController.gameTime;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "fps", {
            get: function () {
                return this._timeController.fps;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isNormal", {
            get: function () {
                return this._gameState === EGameState.NORMAL;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isStop", {
            get: function () {
                return this._gameState === EGameState.STOP;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isPause", {
            get: function () {
                return this._gameState === EGameState.PAUSE;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "isTimeChange", {
            get: function () {
                return this._timeController.isTimeChange;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "elapsed", {
            get: function () {
                return this._timeController.elapsed;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Director.prototype, "view", {
            get: function () {
                return wd.DeviceManager.getInstance().view;
            },
            enumerable: true,
            configurable: true
        });
        Director.prototype.initWhenCreate = function () {
            this.scene = wd.SceneDispatcher.create();
            this.scheduler = wd.Scheduler.create();
            this.renderer = wd.WebGLRenderer.create();
        };
        Director.prototype.start = function () {
            this._gameState = EGameState.NORMAL;
            this._startLoop();
        };
        Director.prototype.stop = function () {
            this._gameLoop && this._gameLoop.dispose();
            this._gameState = EGameState.STOP;
            this._timeController.stop();
            this.scheduler.stop();
            this._eventSubscription && this._eventSubscription.dispose();
        };
        Director.prototype.pause = function () {
            if (this._gameState === EGameState.PAUSE) {
                return;
            }
            this._gameState = EGameState.PAUSE;
            this._timeController.pause();
            this.scheduler.pause();
        };
        Director.prototype.resume = function () {
            this._gameState = EGameState.NORMAL;
            this._timeController.resume();
            this.scheduler.resume();
        };
        Director.prototype.getDeltaTime = function () {
            return this._timeController.deltaTime;
        };
        Director.prototype.initUIObjectScene = function () {
            var uiObjectScene = this.scene.uiObjectScene;
            this._initDomEvent();
            uiObjectScene.onEnter();
            uiObjectScene.init();
        };
        Director.prototype.runUIObjectScene = function (elapseTime) {
            var uiObjectScene = this.scene.uiObjectScene;
            wd.EventManager.trigger(uiObjectScene, wd.CustomEvent.create(wd.EEngineEvent.STARTLOOP));
            uiObjectScene.update(elapseTime);
            wd.EventManager.trigger(uiObjectScene, wd.CustomEvent.create(wd.EEngineEvent.ENDLOOP));
        };
        Director.prototype._startLoop = function () {
            var self = this;
            this._gameLoop = this._buildInitStream()
                .ignoreElements()
                .concat(this._buildLoopStream())
                .subscribe(function (time) {
                self._loopBody(time);
            });
        };
        Director.prototype._buildInitStream = function () {
            var _this = this;
            return wdFrp.callFunc(function () {
                _this._init();
            }, this);
        };
        Director.prototype._init = function () {
            this._initGameObjectScene();
            this.initUIObjectScene();
            wd.DebugStatistics.init();
        };
        Director.prototype._initGameObjectScene = function () {
            var gameObjectScene = this.scene.gameObjectScene;
            this._initDomEvent();
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT));
            gameObjectScene.onEnter();
            gameObjectScene.init();
            this.renderer.init();
            this._timeController.start();
            this.scheduler.start();
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT));
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT));
        };
        Director.prototype._buildLoopStream = function () {
            return wdFrp.intervalRequest();
        };
        Director.prototype._loopBody = function (time) {
            var elapseTime = null;
            if (this._gameState === EGameState.PAUSE || this._gameState === EGameState.STOP) {
                return false;
            }
            elapseTime = this._timeController.computeElapseTime(time);
            this._run(elapseTime);
            return true;
        };
        Director.prototype._run = function (elapseTime) {
            this._runGameObjectScene(elapseTime);
            this.runUIObjectScene(elapseTime);
        };
        Director.prototype._runGameObjectScene = function (elapseTime) {
            var gameObjectScene = this.scene.gameObjectScene;
            this._timeController.tick(elapseTime);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.STARTLOOP));
            this.scheduler.update(elapseTime);
            gameObjectScene.update(elapseTime);
            gameObjectScene.render(this.renderer);
            this.renderer.clear();
            if (this.renderer.hasCommand()) {
                this.renderer.render();
            }
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.ENDLOOP));
        };
        Director.prototype._initDomEvent = function () {
            this._eventSubscription = this.domEventManager.initDomEvent();
        };
        Director._instance = null;
        __decorate([
            wd.execOnlyOnce("_isInitUIScene")
        ], Director.prototype, "initUIObjectScene", null);
        __decorate([
            wd.execOnlyOnce("_isInitDomEvent")
        ], Director.prototype, "_initDomEvent", null);
        return Director;
    }());
    wd.Director = Director;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Main = (function () {
        function Main() {
        }
        Object.defineProperty(Main, "isTest", {
            get: function () {
                return this._isTest;
            },
            set: function (isTest) {
                this._isTest = isTest;
                wdFrp.Main.isTest = isTest;
            },
            enumerable: true,
            configurable: true
        });
        Main.setConfig = function (_a) {
            var canvasId = _a.canvasId, _b = _a.isTest, isTest = _b === void 0 ? wd.DebugConfig.isTest : _b, _c = _a.screenSize, screenSize = _c === void 0 ? wd.EScreenSize.FULL : _c;
            this.isTest = isTest;
            this.screenSize = screenSize;
            this._canvasId = canvasId;
            return this;
        };
        Main.init = function () {
            wd.DeviceManager.getInstance().createGL(this._canvasId);
            wd.DeviceManager.getInstance().setScreen();
            wd.GPUDetector.getInstance().detect();
            return this;
        };
        Main._isTest = false;
        Main.screenSize = null;
        Main._canvasId = null;
        return Main;
    }());
    wd.Main = Main;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventManager = (function () {
        function DomEventManager() {
            this.designatedTriggerList = null;
            this._lastTriggerList = null;
            this._isDragEventTriggering = false;
            this._triggerListOfDragEvent = null;
        }
        DomEventManager.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(DomEventManager.prototype, "scene", {
            get: function () {
                return wd.Director.getInstance().scene;
            },
            enumerable: true,
            configurable: true
        });
        DomEventManager.prototype.initDomEvent = function () {
            var self = this;
            return wdFrp.fromArray([
                wd.EventManager.fromEvent(wd.EEventName.CLICK),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEDOWN),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEUP),
                wd.EventManager.fromEvent(wd.EEventName.MOUSEWHEEL),
                this._buildMouseDragStream()
            ])
                .mergeAll()
                .filter(function (e) {
                return !wd.Director.getInstance().isPause;
            })
                .map(function (e) {
                var triggerList = self._getMouseEventTriggerList(e);
                if (self._isDragEventTriggering) {
                    self._triggerListOfDragEvent = triggerList;
                }
                return self._getMouseEventTriggerListData(e, triggerList);
            })
                .merge(this._buildMouseMoveStream())
                .subscribe(function (_a) {
                var triggerList = _a[0], e = _a[1];
                triggerList.forEach(function (entityObject) {
                    self._trigger(e.copy(), entityObject);
                });
            });
        };
        DomEventManager.prototype._buildMouseDragStream = function () {
            var self = this;
            return wd.EventManager.fromEvent(document, wd.EEventName.MOUSEDOWN)
                .flatMap(function (e) {
                return wd.EventManager.fromEvent(document, wd.EEventName.MOUSEMOVE).takeUntil(wd.EventManager.fromEvent(document, wd.EEventName.MOUSEUP)
                    .do(function (e) {
                    self._isDragEventTriggering = false;
                }));
            })
                .map(function (e) {
                e.name = wd.EEventName.MOUSEDRAG;
                self._isDragEventTriggering = true;
                return e;
            });
        };
        DomEventManager.prototype._buildMouseMoveStream = function () {
            var self = this;
            return wd.EventManager.fromEvent(wd.EEventName.MOUSEMOVE)
                .filter(function (e) {
                return !wd.Director.getInstance().isPause;
            })
                .map(function (e) {
                var triggerList = null;
                if (self.designatedTriggerList) {
                    triggerList = self.designatedTriggerList;
                }
                else if (self._isDragEventTriggering) {
                    triggerList = self._triggerListOfDragEvent;
                }
                else {
                    triggerList = self._getMouseEventTriggerList(e);
                }
                var _a = self._getMouseOverAndMouseOutObject(triggerList, self._lastTriggerList), mouseoverObjects = _a.mouseoverObjects, mouseoutObjects = _a.mouseoutObjects;
                self._setMouseOverTag(mouseoverObjects);
                self._setMouseOutTag(mouseoutObjects);
                self._lastTriggerList = triggerList.copy();
                triggerList = mouseoutObjects.addChildren(triggerList);
                return self._getMouseEventTriggerListData(e, triggerList);
            });
        };
        DomEventManager.prototype._getMouseOverAndMouseOutObject = function (currentTriggerList, lastTriggerList) {
            var mouseoverObjects = wdCb.Collection.create(), mouseoutObjects = wdCb.Collection.create();
            if (!lastTriggerList) {
                mouseoverObjects = currentTriggerList;
            }
            else {
                lastTriggerList.forEach(function (lastObject) {
                    if (!currentTriggerList.hasChildWithFunc(function (currentObject) {
                        return wd.JudgeUtils.isEqual(currentObject, lastObject);
                    })) {
                        mouseoutObjects.addChild(lastObject);
                    }
                });
                currentTriggerList.forEach(function (currentObject) {
                    if (!lastTriggerList.hasChildWithFunc(function (lastObject) {
                        return wd.JudgeUtils.isEqual(currentObject, lastObject);
                    })) {
                        mouseoverObjects.addChild(currentObject);
                    }
                });
            }
            return {
                mouseoverObjects: mouseoverObjects,
                mouseoutObjects: mouseoutObjects
            };
        };
        DomEventManager.prototype._setMouseOverTag = function (objects) {
            objects.forEach(function (object) {
                object.addTag(EEventTag.MOUSE_OVER);
            });
        };
        DomEventManager.prototype._setMouseOutTag = function (objects) {
            objects.forEach(function (object) {
                object.addTag(EEventTag.MOUSE_OUT);
            });
        };
        DomEventManager.prototype._setEventNameByEventTag = function (object, e) {
            if (object.hasTag(EEventTag.MOUSE_OVER)) {
                e.name = wd.EEventName.MOUSEOVER;
            }
            else if (object.hasTag(EEventTag.MOUSE_OUT)) {
                e.name = wd.EEventName.MOUSEOUT;
            }
            return e;
        };
        DomEventManager.prototype._removeEventTag = function (object) {
            object.removeTag(EEventTag.MOUSE_OVER);
            object.removeTag(EEventTag.MOUSE_OUT);
        };
        DomEventManager.prototype._trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var e = args[0], entityObject = args[1], notSetTarget = false, event = null, customEvent = null, handlerName = null;
            if (args.length === 3 && args[2]) {
                notSetTarget = true;
                event = e;
            }
            else {
                event = this._setEventNameByEventTag(entityObject, e);
                this._removeEventTag(entityObject);
            }
            handlerName = wd.EventTriggerTable.getScriptHandlerName(event.name);
            customEvent = wd.CustomEvent.create(wd.EEngineEvent[wd.EventTriggerTable.getScriptEngineEvent(event.name)]);
            customEvent.getDataFromDomEvent(event);
            wd.EventManager.trigger(entityObject, customEvent, event, notSetTarget);
            event.getDataFromCustomEvent(customEvent);
            entityObject.execEventScript(handlerName, event);
            if (!event.isStopPropagation && entityObject.bubbleParent) {
                this._trigger(event.copy(), entityObject.bubbleParent, true);
            }
        };
        DomEventManager.prototype._getMouseEventTriggerList = function (e) {
            var topGameObject = null, topUIObject = null, triggerList = null;
            if (this.designatedTriggerList) {
                return this.designatedTriggerList;
            }
            triggerList = wdCb.Collection.create();
            topGameObject = this._findTopGameObject(e, this.scene.gameObjectScene);
            topUIObject = this._findTopUIObject(e, this.scene.uiObjectScene);
            if (topGameObject) {
                triggerList.addChild(topGameObject);
            }
            if (topUIObject) {
                triggerList.addChild(topUIObject);
            }
            if (this._isSceneAsTopOne(e, triggerList)) {
                triggerList.addChild(this.scene);
            }
            return triggerList;
        };
        DomEventManager.prototype._isSceneAsTopOne = function (e, triggerList) {
            return this._isTriggerScene(e) && triggerList.getCount() === 0;
        };
        DomEventManager.prototype._findTopGameObject = function (e, gameObjectScene) {
            var self = this;
            return this._findTriggerGameObjectList(e, gameObjectScene).sort(function (a, b) {
                return self._getDistanceToCamera(a) - self._getDistanceToCamera(b);
            })
                .getChild(0);
        };
        DomEventManager.prototype._getDistanceToCamera = function (obj) {
            return obj.transform.position.copy().sub(wd.Director.getInstance().scene.currentCamera.transform.position).length();
        };
        DomEventManager.prototype._findTopUIObject = function (e, uiObjectScene) {
            return this._findTriggerUIObjectList(e, uiObjectScene).sort(function (a, b) {
                return b.transform.zIndex - a.transform.zIndex;
            })
                .getChild(0);
        };
        DomEventManager.prototype._findTriggerGameObjectList = function (e, objectScene) {
            var triggerObjectList = wdCb.Collection.create(), self = this;
            var find = function (entityObject) {
                if (entityObject.hasComponent(wd.SpacePartition)) {
                    entityObject.getSpacePartition().getIntersectListWithRay(e)
                        .forEach(function (entityObject) {
                        self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                    });
                }
                else {
                    self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                    entityObject.forEach(function (child) {
                        find(child);
                    });
                }
            };
            objectScene.forEach(function (child) {
                find(child);
            });
            return triggerObjectList;
        };
        DomEventManager.prototype._findTriggerUIObjectList = function (e, objectScene) {
            var triggerObjectList = wdCb.Collection.create(), self = this;
            var find = function (entityObject) {
                self._addTriggerObjectByQueryDetector(entityObject, e, triggerObjectList);
                entityObject.forEach(function (child) {
                    find(child);
                });
            };
            objectScene.forEach(function (child) {
                find(child);
            });
            return triggerObjectList;
        };
        DomEventManager.prototype._addTriggerObjectByQueryDetector = function (entityObject, e, triggerObjectList) {
            if (entityObject.hasComponent(wd.EventTriggerDetector)) {
                var detector = entityObject.getComponent(wd.EventTriggerDetector);
                if (detector.isTrigger(e)) {
                    triggerObjectList.addChild(entityObject);
                }
            }
        };
        DomEventManager.prototype._isTriggerScene = function (e) {
            var detector = this.scene.getComponent(wd.EventTriggerDetector);
            return detector.isTrigger(e);
        };
        DomEventManager.prototype._getMouseEventTriggerListData = function (e, triggerList) {
            return [triggerList, e];
        };
        return DomEventManager;
    }());
    wd.DomEventManager = DomEventManager;
    var EEventTag;
    (function (EEventTag) {
        EEventTag[EEventTag["MOUSE_OVER"] = "MOUSE_OVER"] = "MOUSE_OVER";
        EEventTag[EEventTag["MOUSE_OUT"] = "MOUSE_OUT"] = "MOUSE_OUT";
    })(EEventTag || (EEventTag = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EntityObject = (function (_super) {
        __extends(EntityObject, _super);
        function EntityObject() {
            _super.apply(this, arguments);
            this._scriptList = wdCb.Hash.create();
            this._bubbleParent = null;
            this._transform = null;
            this.name = null;
            this.parent = null;
            this.isVisible = true;
            this.actionManager = wd.ActionManager.create();
            this.children = wdCb.Collection.create();
            this.startLoopHandler = null;
            this.endLoopHandler = null;
            this.components = wdCb.Collection.create();
            this._scriptExecuteHistory = wdCb.Hash.create();
            this._hasComponentCache = wdCb.Hash.create();
            this._getComponentCache = wdCb.Hash.create();
            this._rendererComponent = null;
            this._animation = null;
            this._collider = null;
            this._componentChangeSubscription = null;
        }
        Object.defineProperty(EntityObject.prototype, "scriptList", {
            get: function () {
                return this._scriptList;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EntityObject.prototype, "bubbleParent", {
            get: function () {
                return this._bubbleParent ? this._bubbleParent : this.parent;
            },
            set: function (bubbleParent) {
                this._bubbleParent = bubbleParent;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EntityObject.prototype, "transform", {
            get: function () {
                return this._transform;
            },
            set: function (transform) {
                if (!transform) {
                    return;
                }
                if (this._transform) {
                    this.removeComponent(this._transform);
                }
                this.addComponent(transform);
                this._transform = transform;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EntityObject.prototype, "componentDirty", {
            set: function (componentDirty) {
                if (componentDirty === true) {
                    this.clearCache();
                }
            },
            enumerable: true,
            configurable: true
        });
        EntityObject.prototype.initWhenCreate = function () {
            this.transform = this.createTransform();
        };
        EntityObject.prototype.init = function () {
            var _this = this;
            var self = this;
            this.startLoopHandler = wdCb.FunctionUtils.bind(this, function () {
                _this.onStartLoop();
            });
            this.endLoopHandler = wdCb.FunctionUtils.bind(this, function () {
                _this.onEndLoop();
            });
            this.bindStartLoopEvent();
            this.bindEndLoopEvent();
            this._componentChangeSubscription = wd.EventManager.fromEvent(this, wd.EEngineEvent.COMPONENT_CHANGE)
                .subscribe(function () {
                self._onComponentChange();
            });
            this.initComponent();
            this.forEach(function (child) {
                child.init();
            });
            this.afterInitChildren();
            return this;
        };
        EntityObject.prototype.onStartLoop = function () {
            this.execScript("onStartLoop");
        };
        EntityObject.prototype.onEndLoop = function () {
            this.execScript("onEndLoop");
        };
        EntityObject.prototype.onEnter = function () {
        };
        EntityObject.prototype.onExit = function () {
            this.execScript("onExit");
        };
        EntityObject.prototype.onDispose = function () {
            this.execScript("onDispose");
        };
        EntityObject.prototype.dispose = function () {
            var components = null;
            this.onDispose();
            if (this.parent) {
                this.parent.removeChild(this);
                this.parent = null;
            }
            wd.EventManager.off(this);
            wd.EventManager.off(wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
            wd.EventManager.off(wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
            this._componentChangeSubscription && this._componentChangeSubscription.dispose();
            components = this.removeAllComponent();
            components.forEach(function (component) {
                component.dispose();
            });
            this.forEach(function (child) {
                child.dispose();
            });
        };
        EntityObject.prototype.hasChild = function (child) {
            return this.children.hasChild(child);
        };
        EntityObject.prototype.addChild = function (child) {
            if (child.parent) {
                child.parent.removeChild(child);
            }
            child.parent = this;
            child.transform.parent = this.transform;
            this.children.addChild(child);
            child.onEnter();
            return this;
        };
        EntityObject.prototype.addChildren = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.children.addChildren(args[0]);
            return this;
        };
        EntityObject.prototype.forEach = function (func) {
            this.children.forEach(func);
            return this;
        };
        EntityObject.prototype.filter = function (func) {
            return this.children.filter(func);
        };
        EntityObject.prototype.sort = function (func, isSortSelf) {
            if (isSortSelf === void 0) { isSortSelf = false; }
            return this.children.sort(func, isSortSelf);
        };
        EntityObject.prototype.getChildren = function () {
            return this.children;
        };
        EntityObject.prototype.getChild = function (index) {
            return this.children.getChild(index);
        };
        EntityObject.prototype.findChildByUid = function (uid) {
            return this.children.findOne(function (child) {
                return child.uid === uid;
            });
        };
        EntityObject.prototype.findChildByTag = function (tag) {
            return this.children.findOne(function (child) {
                return child.hasTag(tag);
            });
        };
        EntityObject.prototype.findChildByName = function (name) {
            return this.children.findOne(function (child) {
                return child.name.search(name) > -1;
            });
        };
        EntityObject.prototype.findChildrenByName = function (name) {
            return this.children.filter(function (child) {
                return child.name.search(name) > -1;
            });
        };
        EntityObject.prototype.getComponent = function (_class) {
            return this.components.findOne(function (component) {
                return component instanceof _class;
            });
        };
        EntityObject.prototype.findComponentByUid = function (uid) {
            return this.components.findOne(function (component) {
                return component.uid === uid;
            });
        };
        EntityObject.prototype.getFirstComponent = function () {
            return this.components.getChild(0);
        };
        EntityObject.prototype.forEachComponent = function (func) {
            this.components.forEach(func);
            return this;
        };
        EntityObject.prototype.removeChild = function (child) {
            child.onExit();
            this.children.removeChild(child);
            child.parent = null;
            return this;
        };
        EntityObject.prototype.hasComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var key = this._getHasComponentCacheKey(args[0]), result = this._hasComponentCache.getChild(key);
            if (result !== void 0) {
                return result;
            }
            if (wd.JudgeUtils.isComponenet(args[0])) {
                var component = args[0];
                result = this.components.hasChild(component);
            }
            else {
                var _class_1 = args[0];
                result = this.components.hasChildWithFunc(function (component) {
                    return component instanceof _class_1;
                });
            }
            this._hasComponentCache.addChild(key, result);
            return result;
        };
        EntityObject.prototype.addComponent = function (component) {
            if (this.hasComponent(component)) {
                wd.Log.assert(false, "the component already exist");
                return this;
            }
            if (component instanceof wd.RendererComponent) {
                this._rendererComponent = component;
            }
            else if (component instanceof wd.Animation) {
                this._animation = component;
            }
            else if (component instanceof wd.Collider) {
                this._collider = component;
            }
            this.components.addChild(component);
            component.addToObject(this);
            this.componentDirty = true;
            return this;
        };
        EntityObject.prototype.removeComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var component = null;
            if (args[0] instanceof wd.Component) {
                component = args[0];
            }
            else {
                component = this.getComponent(args[0]);
            }
            this.components.removeChild(component);
            this._removeComponentHandler(component);
            this.componentDirty = true;
            return this;
        };
        EntityObject.prototype.removeAllComponent = function () {
            var _this = this;
            var result = wdCb.Collection.create();
            this.components.forEach(function (component) {
                _this._removeComponentHandler(component);
                result.addChild(component);
            }, this);
            this.components.removeAllChildren();
            this.componentDirty = true;
            return result;
        };
        EntityObject.prototype.render = function (renderer, camera) {
            var geometry = null, rendererComponent = null;
            if (!this.isVisible) {
                return;
            }
            geometry = this._getGeometry();
            rendererComponent = this._getRendererComponent();
            if (rendererComponent && geometry) {
                rendererComponent.render(renderer, geometry, camera);
                wd.DebugStatistics.count.renderGameObjects++;
            }
            this.getRenderList().forEach(function (child) {
                child.render(renderer, camera);
            });
        };
        EntityObject.prototype.update = function (elapsedTime) {
            var animation = this._getAnimation(), collider = this._getCollider();
            if (animation) {
                animation.update(elapsedTime);
            }
            this.actionManager.update(elapsedTime);
            this.execScript("update", elapsedTime);
            if (collider) {
                collider.update(elapsedTime);
            }
            this.beforeUpdateChildren(elapsedTime);
            this.forEach(function (child) {
                child.update(elapsedTime);
            });
        };
        EntityObject.prototype.execScript = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var method = args[0], self = this;
            if (args.length === 1) {
                this._scriptList.forEach(function (script, scriptName) {
                    script[method] && script[method]();
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
            else if (args.length === 2) {
                var arg_1 = args[1];
                this._scriptList.forEach(function (script, scriptName) {
                    script[method] && script[method](arg_1);
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
            else if (args.length === 3) {
                var arg_2 = args[1], isExecOnlyOnce_1 = args[2];
                this._scriptList.forEach(function (script, scriptName) {
                    if (isExecOnlyOnce_1 && self._isScriptExecuted(scriptName, method)) {
                        return;
                    }
                    script[method] && script[method](arg_2);
                    self._addToScriptExecuteHistory(scriptName, method);
                });
            }
        };
        EntityObject.prototype.execEventScript = function (method, arg) {
            this._scriptList.forEach(function (script) {
                script[method] && (arg ? script[method](arg) : script[method]());
            });
        };
        EntityObject.prototype.getComponentCount = function (_class) {
            return this.components.filter(function (component) {
                return component instanceof _class;
            }).getCount();
        };
        EntityObject.prototype.beforeUpdateChildren = function (elapsedTime) {
        };
        EntityObject.prototype.afterInitChildren = function () {
        };
        EntityObject.prototype.bindStartLoopEvent = function () {
            wd.EventManager.on(wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
        };
        EntityObject.prototype.bindEndLoopEvent = function () {
            wd.EventManager.on(wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
        };
        EntityObject.prototype.getRenderList = function () {
            if (!this.isVisible) {
                return null;
            }
            return this.children;
        };
        EntityObject.prototype.initComponent = function () {
            if (this.hasComponent(wd.Geometry)) {
                this.getComponent(wd.Geometry).init();
            }
            this.components.filter(function (component) {
                return !(component instanceof wd.Geometry);
            })
                .forEach(function (component) {
                component.init();
            });
        };
        EntityObject.prototype.getAllChildren = function () {
            var result = wdCb.Collection.create();
            var getChildren = function (entityObject) {
                result.addChildren(entityObject.getChildren());
                entityObject.forEach(function (child) {
                    getChildren(child);
                });
            };
            getChildren(this);
            return result;
        };
        EntityObject.prototype.clearCache = function () {
            this._hasComponentCache.removeAllChildren();
            this._getComponentCache.removeAllChildren();
        };
        EntityObject.prototype._getGeometry = function () {
            return this.getComponent(wd.Geometry);
        };
        EntityObject.prototype._getAnimation = function () {
            return this._animation;
        };
        EntityObject.prototype._getRendererComponent = function () {
            return this._rendererComponent;
        };
        EntityObject.prototype._getCollider = function () {
            return this._collider;
        };
        EntityObject.prototype._removeComponentHandler = function (component) {
            component.removeFromObject(this);
        };
        EntityObject.prototype._addToScriptExecuteHistory = function (scriptName, method) {
            this._scriptExecuteHistory.addChild(this._buildScriptHistoryKey(scriptName, method), true);
        };
        EntityObject.prototype._isScriptExecuted = function (scriptName, method) {
            return this._scriptExecuteHistory.getChild(this._buildScriptHistoryKey(scriptName, method));
        };
        EntityObject.prototype._buildScriptHistoryKey = function (scriptName, method) {
            return scriptName + "_" + method;
        };
        EntityObject.prototype._getHasComponentCacheKey = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (wd.JudgeUtils.isComponenet(args[0])) {
                var component = args[0];
                return String(component.uid);
            }
            else {
                var _class = args[0];
                return _class.name;
            }
        };
        EntityObject.prototype._onComponentChange = function () {
            this.clearCache();
        };
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "initWhenCreate", null);
        __decorate([
            wd.cache(function (_class) {
                return this._getComponentCache.hasChild(_class.name);
            }, function (_class) {
                return this._getComponentCache.getChild(_class.name);
            }, function (result, _class) {
                this._getComponentCache.addChild(_class.name, result);
            })
        ], EntityObject.prototype, "getComponent", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "beforeUpdateChildren", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "afterInitChildren", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "bindStartLoopEvent", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "bindEndLoopEvent", null);
        __decorate([
            wd.virtual
        ], EntityObject.prototype, "getRenderList", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Geometry) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 geometry component"));
            })
        ], EntityObject.prototype, "_getGeometry", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Animation) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 animation component"));
            })
        ], EntityObject.prototype, "_getAnimation", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.RendererComponent) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 rendererComponent"));
            })
        ], EntityObject.prototype, "_getRendererComponent", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.getComponentCount(wd.Collider) <= 1, wd.Log.info.FUNC_SHOULD_NOT("entityObject", "contain more than 1 collider component"));
            })
        ], EntityObject.prototype, "_getCollider", null);
        __decorate([
            wd.ensure(function (key) {
                wd.assert(wd.JudgeUtils.isString(key), wd.Log.info.FUNC_SHOULD("key:" + key, "be string"));
            })
        ], EntityObject.prototype, "_getHasComponentCacheKey", null);
        return EntityObject;
    }(wd.Entity));
    wd.EntityObject = EntityObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIObject = (function (_super) {
        __extends(UIObject, _super);
        function UIObject() {
            _super.apply(this, arguments);
            this.name = "uiObject" + String(this.uid);
            this.uiManager = wd.UIManager.create(this);
        }
        UIObject.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        UIObject.prototype.beforeUpdateChildren = function (elapsedTime) {
            this.uiManager.update(elapsedTime);
        };
        UIObject.prototype.createTransform = function () {
            return wd.RectTransform.create();
        };
        UIObject.prototype.addComponent = function (component) {
            _super.prototype.addComponent.call(this, component);
            return this;
        };
        UIObject.prototype.addChild = function (child) {
            _super.prototype.addChild.call(this, child);
            return this;
        };
        __decorate([
            wd.require(function (component) {
                if (component instanceof wd.UI) {
                    wd.assert(!!!this.getComponent(wd.UI), wd.Log.info.FUNC_SHOULD("only has one UI component"));
                }
            })
        ], UIObject.prototype, "addComponent", null);
        __decorate([
            wd.require(function (child) {
                wd.assert(this.getComponent(wd.UIRenderer) === child.getComponent(wd.UIRenderer), wd.Log.info.FUNC_MUST_BE("the UIRenderer of UIObject and its children", "the same one"));
            })
        ], UIObject.prototype, "addChild", null);
        return UIObject;
    }(wd.EntityObject));
    wd.UIObject = UIObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GameObject = (function (_super) {
        __extends(GameObject, _super);
        function GameObject() {
            _super.apply(this, arguments);
            this.name = "gameObject" + String(this.uid);
        }
        GameObject.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        GameObject.prototype.getSpacePartition = function () {
            return this.getComponent(wd.SpacePartition);
        };
        GameObject.prototype.getComponent = function (_class) {
            if (this._isGeometry(_class)) {
                var lod = this.getComponent(wd.LODController);
                if (lod && lod.activeGeometry) {
                    return lod.activeGeometry;
                }
            }
            return _super.prototype.getComponent.call(this, _class);
        };
        GameObject.prototype.update = function (elapsedTime) {
            var lod = this.getComponent(wd.LODController);
            if (lod) {
                lod.update(elapsedTime);
            }
            _super.prototype.update.call(this, elapsedTime);
        };
        GameObject.prototype.createTransform = function () {
            return wd.ThreeDTransform.create();
        };
        GameObject.prototype.getRenderList = function () {
            if (this.hasComponent(wd.Octree)) {
                return this.getSpacePartition().getRenderListByFrustumCull();
            }
            return this.children;
        };
        GameObject.prototype.afterInitChildren = function () {
            if (this.hasComponent(wd.Octree)) {
                return this.getSpacePartition().build();
            }
        };
        GameObject.prototype._isGeometry = function (_class) {
            return _class.name === "Geometry";
        };
        return GameObject;
    }(wd.EntityObject));
    wd.GameObject = GameObject;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SceneDispatcher = (function (_super) {
        __extends(SceneDispatcher, _super);
        function SceneDispatcher() {
            _super.apply(this, arguments);
            this.name = "scene" + String(this.uid);
            this.uiObjectScene = wd.UIObjectScene.create();
            this.gameObjectScene = wd.GameObjectScene.create();
        }
        SceneDispatcher.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(SceneDispatcher.prototype, "scriptList", {
            get: function () {
                return this.gameObjectScene.scriptList;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "actionManager", {
            get: function () {
                return this.gameObjectScene.actionManager;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "ambientLight", {
            get: function () {
                return this.gameObjectScene.ambientLight;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "directionLights", {
            get: function () {
                return this.gameObjectScene.directionLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "pointLights", {
            get: function () {
                return this.gameObjectScene.pointLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "side", {
            get: function () {
                return this.gameObjectScene.side;
            },
            set: function (side) {
                this.gameObjectScene.side = side;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "shadowMap", {
            get: function () {
                return this.gameObjectScene.shadowMap;
            },
            set: function (shadowMap) {
                this.gameObjectScene.shadowMap = shadowMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "shader", {
            get: function () {
                return this.gameObjectScene.shader;
            },
            set: function (shader) {
                this.gameObjectScene.shader = shader;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "currentCamera", {
            get: function () {
                return this.gameObjectScene.currentCamera;
            },
            set: function (arg) {
                this.gameObjectScene.currentCamera = arg;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "isUseProgram", {
            get: function () {
                return this.gameObjectScene.isUseProgram;
            },
            set: function (isUseProgram) {
                this.gameObjectScene.isUseProgram = isUseProgram;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "physics", {
            get: function () {
                return this.gameObjectScene.physics;
            },
            set: function (physics) {
                this.gameObjectScene.physics = physics;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SceneDispatcher.prototype, "physicsEngineAdapter", {
            get: function () {
                return this.gameObjectScene.physicsEngineAdapter;
            },
            set: function (physicsEngineAdapter) {
                this.gameObjectScene.physicsEngineAdapter = physicsEngineAdapter;
            },
            enumerable: true,
            configurable: true
        });
        SceneDispatcher.prototype.initWhenCreate = function () {
            _super.prototype.initWhenCreate.call(this);
            this.addComponent(wd.SceneEventTriggerDetector.create());
        };
        SceneDispatcher.prototype.useProgram = function (shader) {
            this.gameObjectScene.useProgram(shader);
        };
        SceneDispatcher.prototype.unUseProgram = function () {
            this.gameObjectScene.unUseProgram();
        };
        SceneDispatcher.prototype.addChild = function (child) {
            if (child instanceof wd.GameObject) {
                this.gameObjectScene.addChild(child);
            }
            else if (child instanceof wd.UIObject) {
                this.uiObjectScene.addChild(child);
            }
            child.parent = this;
            return this;
        };
        SceneDispatcher.prototype.addRenderTargetRenderer = function (renderTargetRenderer) {
            return this.gameObjectScene.addRenderTargetRenderer(renderTargetRenderer);
        };
        SceneDispatcher.prototype.addProceduralRenderTargetRenderer = function (renderTargetRenderer) {
            return this.gameObjectScene.addProceduralRenderTargetRenderer(renderTargetRenderer);
        };
        SceneDispatcher.prototype.removeRenderTargetRenderer = function (renderTargetRenderer) {
            this.gameObjectScene.removeRenderTargetRenderer(renderTargetRenderer);
        };
        SceneDispatcher.prototype.dispose = function () {
            this.gameObjectScene.dispose();
            this.uiObjectScene.dispose();
        };
        SceneDispatcher.prototype.hasChild = function (child) {
            if (child instanceof wd.GameObject) {
                return this.gameObjectScene.hasChild(child);
            }
            else if (child instanceof wd.UIObject) {
                return this.uiObjectScene.hasChild(child);
            }
        };
        SceneDispatcher.prototype.addChildren = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args[0] instanceof wd.EntityObject) {
                var child = args[0];
                this.addChild(child);
            }
            if (args[0] instanceof wdCb.Collection) {
                var children = args[0], self_5 = this;
                children.forEach(function (child) {
                    self_5.addChild(child);
                });
            }
            else if (wd.JudgeUtils.isArrayExactly(args[0])) {
                var children = args[0];
                for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {
                    var child = children_1[_a];
                    this.addChild(child);
                }
            }
            return this;
        };
        SceneDispatcher.prototype.getChildren = function () {
            return this.gameObjectScene.getChildren().addChildren(this.uiObjectScene.getChildren());
        };
        SceneDispatcher.prototype.findChildByUid = function (uid) {
            var result = this.gameObjectScene.findChildByUid(uid);
            if (!result) {
                result = this.uiObjectScene.findChildByUid(uid);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildByTag = function (tag) {
            var result = this.gameObjectScene.findChildByTag(tag);
            if (!result) {
                result = this.uiObjectScene.findChildByTag(tag);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildByName = function (name) {
            var result = this.gameObjectScene.findChildByName(name);
            if (!result) {
                result = this.uiObjectScene.findChildByName(name);
            }
            return result;
        };
        SceneDispatcher.prototype.findChildrenByName = function (name) {
            return this.gameObjectScene.findChildrenByName(name).addChildren(this.uiObjectScene.findChildrenByName(name));
        };
        SceneDispatcher.prototype.removeChild = function (child) {
            if (child instanceof wd.GameObject) {
                return this.gameObjectScene.removeChild(child);
            }
            else if (child instanceof wd.UIObject) {
                return this.uiObjectScene.removeChild(child);
            }
        };
        SceneDispatcher.prototype.onStartLoop = function () {
            this.gameObjectScene.onStartLoop();
            this.uiObjectScene.onStartLoop();
        };
        SceneDispatcher.prototype.onEndLoop = function () {
            this.gameObjectScene.onEndLoop();
            this.uiObjectScene.onEndLoop();
        };
        SceneDispatcher.prototype.onEnter = function () {
            this.gameObjectScene.onEnter();
            this.uiObjectScene.onEnter();
        };
        SceneDispatcher.prototype.onExit = function () {
            this.gameObjectScene.onExit();
            this.uiObjectScene.onExit();
        };
        SceneDispatcher.prototype.onDispose = function () {
            this.gameObjectScene.onDispose();
            this.uiObjectScene.onDispose();
        };
        SceneDispatcher.prototype.execScript = function (method, arg) {
            this.gameObjectScene.execScript.apply(this.gameObjectScene, arguments);
        };
        SceneDispatcher.prototype.execEventScript = function (method, arg) {
            this.gameObjectScene.execEventScript.apply(this.gameObjectScene, arguments);
        };
        SceneDispatcher.prototype.createTransform = function () {
            return null;
        };
        return SceneDispatcher;
    }(wd.EntityObject));
    wd.SceneDispatcher = SceneDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Scene = (function (_super) {
        __extends(Scene, _super);
        function Scene() {
            _super.apply(this, arguments);
        }
        return Scene;
    }(wd.EntityObject));
    wd.Scene = Scene;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GameObjectScene = (function (_super) {
        __extends(GameObjectScene, _super);
        function GameObjectScene() {
            _super.apply(this, arguments);
            this._currentCamera = null;
            this.side = null;
            this.shadowMap = ShadowMapModel.create(this);
            this.shader = null;
            this.isUseProgram = false;
            this.physics = PhysicsConfig.create();
            this.physicsEngineAdapter = null;
            this._lightManager = wd.LightManager.create();
            this._renderTargetRendererList = wdCb.Collection.create();
            this._proceduralRendererList = wdCb.Collection.create();
            this._collisionDetector = wd.CollisionDetector.create();
            this._cameraList = wdCb.Collection.create();
        }
        GameObjectScene.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(GameObjectScene.prototype, "ambientLight", {
            get: function () {
                return this._lightManager.ambientLight;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "directionLights", {
            get: function () {
                return this._lightManager.directionLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "pointLights", {
            get: function () {
                return this._lightManager.pointLights;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GameObjectScene.prototype, "currentCamera", {
            get: function () {
                return this._currentCamera || this._cameraList.getChild(0);
            },
            set: function (arg) {
                if (wd.JudgeUtils.isNumber(arg)) {
                    var index = arg;
                    this._currentCamera = this._cameraList.getChild(index);
                }
                else if (arg instanceof wd.GameObject) {
                    var currentCamera = arg;
                    this._currentCamera = currentCamera;
                }
            },
            enumerable: true,
            configurable: true
        });
        GameObjectScene.prototype.init = function () {
            if (this.physics.enable) {
                this.physicsEngineAdapter = wd.PhysicsEngineFactory.create(this.physics.engine);
                this.physicsEngineAdapter.init();
            }
            _super.prototype.init.call(this);
            this._renderTargetRendererList.forEach(function (renderTargetRenderer) { return renderTargetRenderer.init(); });
            this._proceduralRendererList.forEach(function (renderTargetRenderer) { return renderTargetRenderer.init(); });
            return this;
        };
        GameObjectScene.prototype.useProgram = function (shader) {
            this.isUseProgram = true;
            this.shader = shader;
        };
        GameObjectScene.prototype.unUseProgram = function () {
            this.isUseProgram = false;
        };
        GameObjectScene.prototype.addChild = function (child) {
            var cameraList = this._getCameras(child), lightList = this._getLights(child);
            if (cameraList.getCount() > 0) {
                this._cameraList.addChildren(cameraList);
            }
            if (lightList.getCount() > 0) {
                this._lightManager.addChildren(lightList);
            }
            return _super.prototype.addChild.call(this, child);
        };
        GameObjectScene.prototype.addRenderTargetRenderer = function (renderTargetRenderer) {
            this._renderTargetRendererList.addChild(renderTargetRenderer);
        };
        GameObjectScene.prototype.addProceduralRenderTargetRenderer = function (renderTargetRenderer) {
            this._proceduralRendererList.addChild(renderTargetRenderer);
        };
        GameObjectScene.prototype.removeRenderTargetRenderer = function (renderTargetRenderer) {
            this._renderTargetRendererList.removeChild(renderTargetRenderer);
        };
        GameObjectScene.prototype.update = function (elapsedTime) {
            var currentCameraComponent = this._getCurrentCameraComponent();
            if (this.physics.enable) {
                this.physicsEngineAdapter.update(elapsedTime);
            }
            if (currentCameraComponent) {
                currentCameraComponent.update(elapsedTime);
            }
            _super.prototype.update.call(this, elapsedTime);
            this._collisionDetector.detect(this);
        };
        GameObjectScene.prototype.render = function (renderer) {
            var self = this;
            this._renderTargetRendererList.forEach(function (target) {
                target.render(renderer, self.currentCamera);
            });
            this._renderProceduralRenderer(renderer);
            _super.prototype.render.call(this, renderer, this.currentCamera);
        };
        GameObjectScene.prototype.createTransform = function () {
            return null;
        };
        GameObjectScene.prototype._renderProceduralRenderer = function (renderer) {
            this._proceduralRendererList.filter(function (target) {
                return target.needRender();
            })
                .forEach(function (target) {
                target.render(renderer);
            });
        };
        GameObjectScene.prototype._getCameras = function (gameObject) {
            return this._find(gameObject, this._isCamera);
        };
        GameObjectScene.prototype._getLights = function (gameObject) {
            return this._find(gameObject, this._isLight);
        };
        GameObjectScene.prototype._find = function (gameObject, judgeFunc) {
            var self = this, resultArr = wdCb.Collection.create();
            var find = function (gameObject) {
                if (judgeFunc.call(self, gameObject)) {
                    resultArr.addChild(gameObject);
                }
                gameObject.forEach(function (child) {
                    find(child);
                });
            };
            find(gameObject);
            return resultArr;
        };
        GameObjectScene.prototype._isCamera = function (child) {
            return child.hasComponent(wd.CameraController);
        };
        GameObjectScene.prototype._isLight = function (child) {
            return child.hasComponent(wd.Light);
        };
        GameObjectScene.prototype._getCurrentCameraComponent = function () {
            if (!this.currentCamera) {
                return null;
            }
            return this.currentCamera.getComponent(wd.CameraController);
        };
        __decorate([
            wd.requireSetter(function (arg) {
                if (wd.JudgeUtils.isNumber(arg)) {
                    var index = arg;
                    wd.assert(!!this._cameraList.getChild(index), wd.Log.info.FUNC_NOT_EXIST("current camera in cameraList"));
                }
            })
        ], GameObjectScene.prototype, "currentCamera", null);
        return GameObjectScene;
    }(wd.Scene));
    wd.GameObjectScene = GameObjectScene;
    var PhysicsConfig = (function () {
        function PhysicsConfig() {
            this._gravity = wd.Vector3.create(0, -9.8, 0);
            this.enable = false;
            this.engine = wd.EPhysicsEngineType.CANNON;
            this.iterations = 10;
        }
        PhysicsConfig.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PhysicsConfig.prototype, "gravity", {
            get: function () {
                return this._gravity;
            },
            set: function (gravity) {
                this._gravity = gravity;
            },
            enumerable: true,
            configurable: true
        });
        __decorate([
            wd.operateWorldDataGetterAndSetter("Gravity")
        ], PhysicsConfig.prototype, "gravity", null);
        return PhysicsConfig;
    }());
    wd.PhysicsConfig = PhysicsConfig;
    (function (EShadowMapSoftType) {
        EShadowMapSoftType[EShadowMapSoftType["NONE"] = 0] = "NONE";
        EShadowMapSoftType[EShadowMapSoftType["PCF"] = 1] = "PCF";
    })(wd.EShadowMapSoftType || (wd.EShadowMapSoftType = {}));
    var EShadowMapSoftType = wd.EShadowMapSoftType;
    var ShadowMapModel = (function () {
        function ShadowMapModel(scene) {
            this._scene = null;
            this._enable = true;
            this._softType = EShadowMapSoftType.NONE;
            this._scene = scene;
        }
        ShadowMapModel.create = function (scene) {
            var obj = new this(scene);
            return obj;
        };
        Object.defineProperty(ShadowMapModel.prototype, "enable", {
            get: function () {
                return this._enable;
            },
            set: function (enable) {
                this._enable = enable;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ShadowMapModel.prototype, "softType", {
            get: function () {
                return this._softType;
            },
            set: function (softType) {
                if (softType !== this._softType) {
                    wd.EventManager.broadcast(this._scene, wd.CustomEvent.create(wd.EEngineEvent.SHADOWMAP_SOFTTYPE_CHANGE));
                    this._softType = softType;
                }
            },
            enumerable: true,
            configurable: true
        });
        return ShadowMapModel;
    }());
    wd.ShadowMapModel = ShadowMapModel;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIObjectScene = (function (_super) {
        __extends(UIObjectScene, _super);
        function UIObjectScene() {
            _super.apply(this, arguments);
        }
        UIObjectScene.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        UIObjectScene.prototype.onEndLoop = function () {
            _super.prototype.onEndLoop.call(this);
            this._resetAllTransformState();
            this._resetAllRendererClearCanvasFlag();
        };
        UIObjectScene.prototype.onStartLoop = function () {
            _super.prototype.onStartLoop.call(this);
            this._sortSiblingChildren();
        };
        UIObjectScene.prototype.createTransform = function () {
            return null;
        };
        UIObjectScene.prototype.beforeUpdateChildren = function (elapsedTime) {
            var self = this;
            this._resetAllRendererState();
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                if (renderer.dirty) {
                    if (!renderer.isClearCanvas) {
                        renderer.clearCanvas();
                        renderer.dirtyDuringCurrentLoop = false;
                    }
                    renderer.state = wd.EUIRendererState.DIRTY;
                    renderer.resetDirty();
                }
                else {
                    if (renderer.state !== wd.EUIRendererState.DIRTY) {
                        renderer.state = wd.EUIRendererState.NOT_DIRTY;
                    }
                }
            });
        };
        UIObjectScene.prototype.bindStartLoopEvent = function () {
            wd.EventManager.on(this, wd.EEngineEvent.STARTLOOP, this.startLoopHandler);
        };
        UIObjectScene.prototype.bindEndLoopEvent = function () {
            wd.EventManager.on(this, wd.EEngineEvent.ENDLOOP, this.endLoopHandler);
        };
        UIObjectScene.prototype._getUIRenderer = function (uiObject) {
            return uiObject.getComponent(wd.UIRenderer);
        };
        UIObjectScene.prototype._resetAllRendererClearCanvasFlag = function () {
            var self = this;
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                renderer.isClearCanvas = false;
            });
        };
        UIObjectScene.prototype._resetAllRendererState = function () {
            var self = this;
            this.forEach(function (child) {
                var renderer = self._getUIRenderer(child);
                renderer.state = wd.EUIRendererState.NORMAL;
            });
        };
        UIObjectScene.prototype._resetAllTransformState = function () {
            var self = this;
            var reset = function (uiObject) {
                if (self._isNotDirtyDuringThisLoop(self._getUIRenderer(uiObject))) {
                    self._resetTransformFlag(uiObject);
                }
                uiObject.forEach(function (child) {
                    reset(child);
                });
            };
            this.forEach(function (child) {
                reset(child);
            });
        };
        UIObjectScene.prototype._isNotDirtyDuringThisLoop = function (renderer) {
            return !renderer.dirtyDuringCurrentLoop;
        };
        UIObjectScene.prototype._resetTransformFlag = function (uiObject) {
            var transform = uiObject.transform;
            transform.isTranslate = false;
            transform.isScale = false;
            transform.isRotate = false;
        };
        UIObjectScene.prototype._sortSiblingChildren = function () {
            var sort = function (uiObject) {
                uiObject.sort(function (a, b) {
                    return a.transform.zIndex - b.transform.zIndex;
                }, true);
                uiObject.forEach(function (child) {
                    sort(child);
                });
            };
            sort(this);
        };
        __decorate([
            wd.require(function (elapsedTime) {
                this.forEach(function (child) {
                    wd.assert(child instanceof wd.UIObject, wd.Log.info.FUNC_MUST_BE("child", "UIObject"));
                    wd.assert(child.hasComponent(wd.UI), wd.Log.info.FUNC_SHOULD("UIObject", "contain ui component"));
                });
            })
        ], UIObjectScene.prototype, "beforeUpdateChildren", null);
        __decorate([
            wd.require(function (uiObject) {
                wd.assert(uiObject.getComponentCount(wd.UIRenderer) <= 1, wd.Log.info.FUNC_SHOULD_NOT("uiObject", "contain more than 1 uiRenderer component"));
            })
        ], UIObjectScene.prototype, "_getUIRenderer", null);
        __decorate([
            wd.ensure(function () {
                var self = this;
                this.getAllChildren().forEach(function (child) {
                    var renderer = self._getUIRenderer(child);
                    wd.assert(!renderer.isClearCanvas, wd.Log.info.FUNC_SHOULD("reset all UIRenderers->isClearCanvas"));
                });
            })
        ], UIObjectScene.prototype, "_resetAllRendererClearCanvasFlag", null);
        __decorate([
            wd.ensure(function () {
                var self = this;
                this.getAllChildren().forEach(function (child) {
                    var renderer = self._getUIRenderer(child);
                    wd.assert(renderer.state === wd.EUIRendererState.NORMAL, wd.Log.info.FUNC_SHOULD("reset all UIRenderers->state"));
                });
            })
        ], UIObjectScene.prototype, "_resetAllRendererState", null);
        return UIObjectScene;
    }(wd.Scene));
    wd.UIObjectScene = UIObjectScene;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CollisionDetector = (function () {
        function CollisionDetector() {
            this._lastCollideObjects = null;
            this._collisionTable = wdCb.Hash.create();
        }
        CollisionDetector.create = function () {
            var obj = new this();
            return obj;
        };
        CollisionDetector.prototype.detect = function (scene) {
            var checkTargetList = scene.filter(function (entityObject) {
                return entityObject.hasComponent(wd.Collider) || wd.JudgeUtils.isSpacePartitionObject(entityObject);
            }), self = this;
            this._clearCollisionTable();
            checkTargetList.forEach(function (entityObject) {
                if (entityObject.hasComponent(wd.RigidBody)) {
                    return;
                }
                var _a = self._getCollideObjects(entityObject, checkTargetList), targetCollideObjects = _a.targetCollideObjects, sourceCollideObjects = _a.sourceCollideObjects;
                sourceCollideObjects.forEach(function (sourceObject) {
                    if (targetCollideObjects.getCount() > 0) {
                        if (self._isCollisionStart(sourceObject)) {
                            sourceObject.execScript("onCollisionStart", targetCollideObjects);
                            sourceObject.execScript("onContact", targetCollideObjects);
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(targetCollideObjects, sourceObject, ["onCollisionStart", "onContact"]);
                        }
                        else {
                            sourceObject.execScript("onContact", targetCollideObjects);
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(targetCollideObjects, sourceObject, ["onContact"]);
                        }
                        sourceObject.addTag(ECollisionTag.COLLIDED);
                        self._lastCollideObjects = targetCollideObjects;
                    }
                    else {
                        if (self._isCollisionEnd(sourceObject)) {
                            sourceObject.execScript("onCollisionEnd");
                            self._triggerCollisionEventOfCollideObjectWhichHasRigidBody(self._lastCollideObjects, sourceObject, ["onCollisionEnd"]);
                        }
                        sourceObject.removeTag(ECollisionTag.COLLIDED);
                    }
                });
            });
        };
        CollisionDetector.prototype._getCollideObjects = function (sourceObject, checkTargetList) {
            var targetCollideObjects = wdCb.Collection.create(), sourceCollideObjects = wdCb.Collection.create(), self = this, sourceCollider = null;
            if (wd.JudgeUtils.isSpacePartitionObject(sourceObject)) {
                checkTargetList.forEach(function (targetObject) {
                    if (wd.JudgeUtils.isSelf(sourceObject, targetObject)) {
                        return;
                    }
                    if (wd.JudgeUtils.isSpacePartitionObject(targetObject)) {
                        self._getCollideObjectsWithSpacePartition(targetObject.getSpacePartition(), sourceObject.getSpacePartition(), targetCollideObjects, sourceCollideObjects);
                    }
                    else {
                        self._getCollideObjectsWithSpacePartition(targetObject, sourceObject.getSpacePartition(), targetCollideObjects, sourceCollideObjects);
                    }
                });
                this._recordCollisionTargets(targetCollideObjects, sourceCollideObjects);
                return {
                    targetCollideObjects: targetCollideObjects.removeRepeatItems(),
                    sourceCollideObjects: sourceCollideObjects.removeRepeatItems()
                };
            }
            sourceCollider = sourceObject.getComponent(wd.Collider);
            checkTargetList.forEach(function (targetObject) {
                if (wd.JudgeUtils.isSelf(sourceObject, targetObject)) {
                    return;
                }
                if (wd.JudgeUtils.isSpacePartitionObject(targetObject)) {
                    self._getCollideObjectsWithSpacePartition(targetObject.getSpacePartition(), sourceCollider, sourceObject, targetCollideObjects, sourceCollideObjects);
                }
                else {
                    self._getCollideObjectsByGameObjectToGameObject(sourceObject, sourceCollider, targetObject, targetCollideObjects);
                }
            });
            sourceCollideObjects.addChild(sourceObject);
            if (targetCollideObjects.getCount() > 0) {
                this._recordCollisionTargets(targetCollideObjects, sourceCollideObjects);
            }
            return {
                targetCollideObjects: targetCollideObjects.removeRepeatItems(),
                sourceCollideObjects: sourceCollideObjects.removeRepeatItems()
            };
        };
        CollisionDetector.prototype._getCollideObjectsByGameObjectToGameObject = function (sourceObject, sourceCollider, targetObject, targetCollideObjects) {
            if (this._isTargetCollidedWithSourceInCurrentFrame(sourceObject, targetObject)) {
                targetCollideObjects.addChild(targetObject);
            }
            else if (!(this._isNotTransform(sourceObject) && this._isNotTransform(targetObject) && !sourceObject.hasTag(ECollisionTag.COLLIDED))
                && sourceCollider.isCollide(targetObject)) {
                targetCollideObjects.addChild(targetObject);
            }
        };
        CollisionDetector.prototype._clearCollisionTable = function () {
            this._collisionTable.removeAllChildren();
        };
        CollisionDetector.prototype._isTargetCollidedWithSourceInCurrentFrame = function (sourceObject, targetObject) {
            var targetCollideObjects = this._collisionTable.getChild(String(targetObject.uid));
            if (!targetCollideObjects) {
                return false;
            }
            return targetCollideObjects.hasChildWithFunc(function (targetCollideObject) {
                return wd.JudgeUtils.isEqual(targetCollideObject, sourceObject);
            });
        };
        CollisionDetector.prototype._recordCollisionTargets = function (targetCollideObjects, sourceCollideObjects) {
            var table = this._collisionTable;
            sourceCollideObjects.forEach(function (sourceObject) {
                targetCollideObjects.forEach(function (targetObject) {
                    table.appendChild(String(sourceObject.uid), targetObject);
                });
            });
        };
        CollisionDetector.prototype._getCollideObjectsWithSpacePartition = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 4) {
                if (args[0] instanceof wd.GameObject && args[1] instanceof wd.SpacePartition) {
                    var targetObject_1 = args[0], sourceSpacePartition = args[1], targetCollideObjects = args[2], sourceCollideObjects_1 = args[3], targetCollider_1 = targetObject_1.getComponent(wd.Collider), self_6 = this;
                    sourceSpacePartition.getCollideObjects(targetCollider_1.shape).forEach(function (sourceObject) {
                        self_6._getCollideObjectsByGameObjectToGameObject(targetObject_1, targetCollider_1, sourceObject, sourceCollideObjects_1);
                    });
                    if (sourceCollideObjects_1.getCount() > 0) {
                        targetCollideObjects.addChild(targetObject_1);
                    }
                    sourceCollideObjects_1.removeAllChildren();
                    sourceCollideObjects_1.addChildren(sourceSpacePartition.getChildren());
                }
                else if (args[0] instanceof wd.SpacePartition && args[1] instanceof wd.SpacePartition) {
                    var targetSpacePartition_1 = args[0], sourceSpacePartition = args[1], targetCollideObjects_1 = args[2], sourceCollideObjects_2 = args[3], self_7 = this;
                    sourceSpacePartition.getChildren()
                        .forEach(function (sourceObject) {
                        var sourceCollider = sourceObject.getComponent(wd.Collider);
                        self_7._getCollideObjectsWithSpacePartition(targetSpacePartition_1, sourceCollider, sourceObject, targetCollideObjects_1, sourceCollideObjects_2);
                    });
                }
            }
            else if (args.length === 5) {
                var targetSpacePartition = args[0], sourceCollider_1 = args[1], sourceObject_1 = args[2], targetCollideObjects_2 = args[3], sourceCollideObjects = args[4], self_8 = this;
                if (!sourceCollider_1) {
                    return;
                }
                targetSpacePartition.getCollideObjects(sourceCollider_1.shape).forEach(function (targetObject) {
                    self_8._getCollideObjectsByGameObjectToGameObject(sourceObject_1, sourceCollider_1, targetObject, targetCollideObjects_2);
                });
                sourceCollideObjects.addChild(sourceObject_1);
                return;
            }
        };
        CollisionDetector.prototype._isCollisionStart = function (entityObject) {
            return !entityObject.hasTag(ECollisionTag.COLLIDED);
        };
        CollisionDetector.prototype._isCollisionEnd = function (entityObject) {
            return entityObject.hasTag(ECollisionTag.COLLIDED);
        };
        CollisionDetector.prototype._triggerCollisionEventOfCollideObjectWhichHasRigidBody = function (collideObjects, currentGameObject, eventList) {
            collideObjects.filter(function (entityObject) {
                return entityObject.hasComponent(wd.RigidBody);
            })
                .forEach(function (collideObject) {
                for (var _i = 0, eventList_1 = eventList; _i < eventList_1.length; _i++) {
                    var eventName = eventList_1[_i];
                    collideObject.execScript(eventName, wdCb.Collection.create([currentGameObject]));
                }
            });
        };
        CollisionDetector.prototype._isNotTransform = function (entityObject) {
            return !entityObject.transform.isTransform;
        };
        __decorate([
            wd.require(function (sourceObject, checkTargetList) {
                checkTargetList.forEach(function (targetObject) {
                    wd.assert(targetObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("targetObject", "be GameObject"));
                });
            })
        ], CollisionDetector.prototype, "_getCollideObjects", null);
        __decorate([
            wd.require(function (sourceObject, sourceCollider, targetObject, targetCollideObjects) {
                wd.assert(sourceObject instanceof wd.GameObject && targetObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("sourceObject and targetObject", "be GameObject"));
            })
        ], CollisionDetector.prototype, "_getCollideObjectsByGameObjectToGameObject", null);
        return CollisionDetector;
    }());
    wd.CollisionDetector = CollisionDetector;
    var ECollisionTag;
    (function (ECollisionTag) {
        ECollisionTag[ECollisionTag["COLLIDED"] = "COLLIDED"] = "COLLIDED";
    })(ECollisionTag || (ECollisionTag = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventListenerMap = (function () {
        function EventListenerMap() {
            this.listenerMap = wdCb.Hash.create();
        }
        EventListenerMap.prototype.hasChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = args[0], eventName = args[1], list = this.listenerMap.getChild(this.buildKey(target, eventName));
            return list && list.getCount() > 0;
        };
        EventListenerMap.prototype.hasChildWithFunc = function (func) {
            return this.listenerMap.hasChildWithFunc(func);
        };
        EventListenerMap.prototype.appendChild = function (target, eventName, data) {
            this.listenerMap.appendChild(this.buildKey(target, eventName), data);
        };
        EventListenerMap.prototype.filter = function (func) {
            return this.listenerMap.filter(func);
        };
        EventListenerMap.prototype.forEach = function (func) {
            return this.listenerMap.forEach(func);
        };
        EventListenerMap.prototype.getEventNameFromKey = function (key) {
            var separator = this.getEventSeparator();
            return key.indexOf(separator) > -1 ? key.split(separator)[1] : key;
        };
        EventListenerMap.prototype.isEventName = function (key, eventName) {
            return key.indexOf("" + this.getEventSeparator() + eventName) > -1
                || key === eventName;
        };
        return EventListenerMap;
    }());
    wd.EventListenerMap = EventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventListenerMap = (function (_super) {
        __extends(CustomEventListenerMap, _super);
        function CustomEventListenerMap() {
            _super.apply(this, arguments);
        }
        CustomEventListenerMap.create = function () {
            var obj = new this();
            return obj;
        };
        CustomEventListenerMap.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                return this.listenerMap.getChild(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_1 = args[0];
                return this.listenerMap.filter(function (list, key) {
                    return self.isTarget(key, target_1, list);
                });
            }
            else if (args.length === 2) {
                var target = args[0], eventName = args[1];
                return this.listenerMap.getChild(this.buildKey(target, eventName));
            }
        };
        CustomEventListenerMap.prototype.removeChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_1 = args[0];
                this.listenerMap.removeChild(function (list, key) {
                    return self.isEventName(key, eventName_1);
                });
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_2 = args[0];
                this.listenerMap.removeChild(function (list, key) {
                    return self.isTarget(key, target_2, list);
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler_1 = args[1], list = null;
                if (this.listenerMap.hasChild(eventName)) {
                    list = this.listenerMap.getChild(eventName);
                    wdCb.Collection.create().addChild(list.removeChild(function (val) {
                        return val.originHandler === handler_1;
                    }));
                    if (list.getCount() === 0) {
                        this.listenerMap.removeChild(eventName);
                    }
                }
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                this.listenerMap.removeChild(this.buildKey(uid, eventName));
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                this.listenerMap.removeChild(this.buildKey(target, eventName));
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var eventName = args[1], handler_2 = args[2];
                this.listenerMap.forEach(function (list, key) {
                    list.removeChild(function (val) {
                        return val.originHandler === handler_2;
                    });
                    if (list.getCount() === 0) {
                        return wdCb.$REMOVE;
                    }
                });
            }
        };
        CustomEventListenerMap.prototype.getUidFromKey = function (key) {
            var separator = "" + CustomEventListenerMap.eventSeparator;
            return key.indexOf(separator) > -1 ? Number(key.split(separator)[0]) : null;
        };
        CustomEventListenerMap.prototype.isTarget = function (key, target, list) {
            return key.indexOf(this._buildKeyPrefix(target.uid)) > -1 && list !== undefined;
        };
        CustomEventListenerMap.prototype.getEventSeparator = function () {
            return "" + CustomEventListenerMap.eventSeparator;
        };
        CustomEventListenerMap.prototype.buildKey = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                return this._buildKeyWithUid(uid, eventName);
            }
            else if (args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                return this._buildKeyWithUid(target.uid, eventName);
            }
            else if (args[0] === null) {
                var eventName = args[1];
                return eventName;
            }
        };
        CustomEventListenerMap.prototype._buildKeyWithUid = function (uid, eventName) {
            return "" + this._buildKeyPrefix(uid) + CustomEventListenerMap.eventSeparator + eventName;
        };
        CustomEventListenerMap.prototype._buildKeyPrefix = function (uid) {
            return "" + String(uid);
        };
        CustomEventListenerMap.eventSeparator = "@";
        return CustomEventListenerMap;
    }(wd.EventListenerMap));
    wd.CustomEventListenerMap = CustomEventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventListenerMap = (function (_super) {
        __extends(DomEventListenerMap, _super);
        function DomEventListenerMap() {
            _super.apply(this, arguments);
        }
        DomEventListenerMap.create = function () {
            var obj = new this();
            return obj;
        };
        DomEventListenerMap.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var eventName = args[0];
                return this.listenerMap.getChild(eventName);
            }
            else if (args.length === 2) {
                var dom = args[0], eventName = args[1];
                return this.listenerMap.getChild(this.buildKey(dom, eventName));
            }
        };
        DomEventListenerMap.prototype.removeChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, result = null;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_2 = args[0];
                result = this._getEventDataOffDataList(eventName_2, this.listenerMap.removeChild(function (list, key) {
                    return self.isEventName(key, eventName_2);
                }));
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName_3 = args[0], handler_3 = args[1], resultList_1 = wdCb.Collection.create();
                this.listenerMap.forEach(function (list, key) {
                    if (self.isEventName(key, eventName_3)) {
                        var result_1 = list.removeChild(function (val) {
                            return val.originHandler === handler_3;
                        });
                        if (result_1.getCount() > 0) {
                            resultList_1.addChild(result_1);
                        }
                        if (list.getCount() === 0) {
                            return wdCb.$REMOVE;
                        }
                    }
                });
                result = this._getEventDataOffDataList(eventName_3, resultList_1);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1];
                result = this._getEventDataOffDataList(eventName, this.listenerMap.removeChild(this.buildKey(dom, eventName)));
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var eventName = args[1], resultList_2 = wdCb.Collection.create(), handler_4 = args[2];
                this.listenerMap.forEach(function (list, key) {
                    var result = list.removeChild(function (val) {
                        return val.originHandler === handler_4;
                    });
                    if (result.getCount() > 0) {
                        resultList_2.addChild(result);
                    }
                    if (list.getCount() === 0) {
                        return wdCb.$REMOVE;
                    }
                });
                result = this._getEventDataOffDataList(eventName, resultList_2);
            }
            return result;
        };
        DomEventListenerMap.prototype.isDom = function (key, dom, list) {
            return key.indexOf(this._buildKeyPrefix(dom)) > -1 && list !== undefined;
        };
        DomEventListenerMap.prototype.getEventSeparator = function () {
            return "" + DomEventListenerMap.eventSeparator;
        };
        DomEventListenerMap.prototype.buildKey = function (dom, eventName) {
            return "" + this._buildKeyPrefix(dom) + DomEventListenerMap.eventSeparator + eventName;
        };
        DomEventListenerMap.prototype._buildKeyPrefix = function (dom) {
            return dom.id ? "" + dom.tagName + dom.id : "" + dom.tagName;
        };
        DomEventListenerMap.prototype._getEventDataOffDataList = function (eventName, result) {
            return result.map(function (list) {
                return list.map(function (data) {
                    return {
                        dom: data.dom,
                        eventName: eventName,
                        domHandler: data.domHandler
                    };
                });
            });
        };
        DomEventListenerMap.eventSeparator = "@";
        return DomEventListenerMap;
    }(wd.EventListenerMap));
    wd.DomEventListenerMap = DomEventListenerMap;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEventType) {
        EEventType[EEventType["MOUSE"] = 0] = "MOUSE";
        EEventType[EEventType["KEYBOARD"] = 1] = "KEYBOARD";
        EEventType[EEventType["CUSTOM"] = 2] = "CUSTOM";
    })(wd.EEventType || (wd.EEventType = {}));
    var EEventType = wd.EEventType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EBrowserIdentifier;
    (function (EBrowserIdentifier) {
        EBrowserIdentifier[EBrowserIdentifier["FALLBACK"] = "fallback"] = "FALLBACK";
        EBrowserIdentifier[EBrowserIdentifier["FIREFOX"] = "firefox"] = "FIREFOX";
        EBrowserIdentifier[EBrowserIdentifier["CHROME"] = "chrome"] = "CHROME";
    })(EBrowserIdentifier || (EBrowserIdentifier = {}));
    (function (EEventName) {
        EEventName[EEventName["CLICK"] = "click"] = "CLICK";
        EEventName[EEventName["MOUSEOVER"] = "mouseover"] = "MOUSEOVER";
        EEventName[EEventName["MOUSEUP"] = "mouseup"] = "MOUSEUP";
        EEventName[EEventName["MOUSEOUT"] = "mouseout"] = "MOUSEOUT";
        EEventName[EEventName["MOUSEMOVE"] = "mousemove"] = "MOUSEMOVE";
        EEventName[EEventName["MOUSEDOWN"] = "mousedown"] = "MOUSEDOWN";
        EEventName[EEventName["MOUSEWHEEL"] = ("mousewheel|DOMMouseScroll*" + EBrowserIdentifier.FIREFOX)] = "MOUSEWHEEL";
        EEventName[EEventName["MOUSEDRAG"] = "mousedrag"] = "MOUSEDRAG";
        EEventName[EEventName["KEYDOWN"] = "keydown"] = "KEYDOWN";
        EEventName[EEventName["KEYUP"] = "keyup"] = "KEYUP";
        EEventName[EEventName["KEYPRESS"] = "keypress"] = "KEYPRESS";
    })(wd.EEventName || (wd.EEventName = {}));
    var EEventName = wd.EEventName;
    var EVENTNAME_SPLITTER = '|', BROWSER_IDENTIFIER = '*';
    var EventNameHandler = (function () {
        function EventNameHandler() {
        }
        EventNameHandler.handleEventName = function (domEventName) {
            var eventName = domEventName, fallbackEventName = null, specifyBrowserEventNameArr = [], result = null;
            for (var _i = 0, _a = eventName.split(EVENTNAME_SPLITTER); _i < _a.length; _i++) {
                var name_1 = _a[_i];
                if (this._isFallbackEventName(name_1)) {
                    fallbackEventName = name_1;
                }
                else {
                    specifyBrowserEventNameArr.push(name_1);
                }
            }
            result = this._getSpecifyBrowserEventName(specifyBrowserEventNameArr);
            return result !== null ? result : fallbackEventName;
        };
        EventNameHandler._isFallbackEventName = function (eventName) {
            return eventName.split(BROWSER_IDENTIFIER).length === 1;
        };
        EventNameHandler._getSpecifyBrowserEventName = function (specifyBrowserEventNameArr) {
            var result = null;
            for (var _i = 0, specifyBrowserEventNameArr_1 = specifyBrowserEventNameArr; _i < specifyBrowserEventNameArr_1.length; _i++) {
                var eventName = specifyBrowserEventNameArr_1[_i];
                var _a = eventName.split(BROWSER_IDENTIFIER), domEventName = _a[0], browserIdentifier = _a[1];
                switch (browserIdentifier) {
                    case EBrowserIdentifier.CHROME:
                        if (bowser.chrome) {
                            result = domEventName;
                        }
                        break;
                    case EBrowserIdentifier.FIREFOX:
                        if (bowser.firefox) {
                            result = domEventName;
                        }
                        break;
                    default:
                        break;
                }
                if (result) {
                    break;
                }
            }
            return result;
        };
        return EventNameHandler;
    }());
    wd.EventNameHandler = EventNameHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEventPhase) {
        EEventPhase[EEventPhase["BROADCAST"] = 0] = "BROADCAST";
        EEventPhase[EEventPhase["EMIT"] = 1] = "EMIT";
    })(wd.EEventPhase || (wd.EEventPhase = {}));
    var EEventPhase = wd.EEventPhase;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EEventName.CLICK, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEOVER, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEOUT, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEMOVE, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEDOWN, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEUP, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEWHEEL, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.MOUSEDRAG, wd.EEventType.MOUSE);
    _table.addChild(wd.EEventName.KEYDOWN, wd.EEventType.KEYBOARD);
    _table.addChild(wd.EEventName.KEYPRESS, wd.EEventType.KEYBOARD);
    _table.addChild(wd.EEventName.KEYUP, wd.EEventType.KEYBOARD);
    var EventTable = (function () {
        function EventTable() {
        }
        EventTable.getEventType = function (eventName) {
            var result = _table.getChild(eventName);
            if (result === void 0) {
                result = wd.EEventType.CUSTOM;
            }
            return result;
        };
        return EventTable;
    }());
    wd.EventTable = EventTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Event = (function () {
        function Event(eventName) {
            this.p_type = null;
            this.name = null;
            this.currentTarget = null;
            this.isStopPropagation = false;
            this.phase = null;
            this.name = eventName;
        }
        Object.defineProperty(Event.prototype, "type", {
            get: function () {
                wd.Log.error(this.p_type === null, wd.Log.info.ABSTRACT_ATTRIBUTE);
                return this.p_type;
            },
            enumerable: true,
            configurable: true
        });
        Event.prototype.stopPropagation = function () {
            this.isStopPropagation = true;
        };
        Event.prototype.copyMember = function (destination, source, memberArr) {
            memberArr.forEach(function (member) {
                destination[member] = source[member];
            });
            return destination;
        };
        return Event;
    }());
    wd.Event = Event;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEvent = (function (_super) {
        __extends(DomEvent, _super);
        function DomEvent(event, eventName) {
            _super.call(this, eventName);
            this._event = null;
            this.event = event;
        }
        Object.defineProperty(DomEvent.prototype, "event", {
            get: function () {
                return this._event;
            },
            set: function (event) {
                this._event = event || wd.root.event;
            },
            enumerable: true,
            configurable: true
        });
        DomEvent.prototype.preventDefault = function () {
            var e = this._event;
            if (bowser.msie && Number(bowser.version) <= 8) {
                e.returnValue = false;
            }
            else {
                e.preventDefault();
            }
        };
        DomEvent.prototype.getDataFromCustomEvent = function (event) {
            this.target = event.target;
            this.currentTarget = event.currentTarget;
            this.isStopPropagation = event.isStopPropagation;
        };
        return DomEvent;
    }(wd.Event));
    wd.DomEvent = DomEvent;
})(wd || (wd = {}));
var wd;
(function (wd_1) {
    var MouseEvent = (function (_super) {
        __extends(MouseEvent, _super);
        function MouseEvent() {
            _super.apply(this, arguments);
            this._location = null;
            this._locationInView = null;
            this._button = null;
            this.lastX = null;
            this.lastY = null;
            this.p_type = wd_1.EEventType.MOUSE;
        }
        MouseEvent.create = function (event, eventName) {
            var obj = new this(event, eventName);
            return obj;
        };
        Object.defineProperty(MouseEvent.prototype, "location", {
            get: function () {
                var point = null, e = this.event;
                if (this._location) {
                    return this._location;
                }
                point = wd_1.Point.create();
                if (bowser.msie) {
                    point.x = e.clientX + document.body.scrollLeft || document.documentElement.scrollLeft;
                    point.y = e.clientY + document.body.scrollTop || document.documentElement.scrollTop;
                }
                else {
                    point.x = e.pageX;
                    point.y = e.pageY;
                }
                return point;
            },
            set: function (point) {
                this._location = point;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "locationInView", {
            get: function () {
                var point = null, viewOffset = null;
                if (this._locationInView) {
                    return this._locationInView;
                }
                point = this.location;
                viewOffset = wd_1.DeviceManager.getInstance().view.offset;
                return wd_1.Point.create(point.x - viewOffset.x, point.y - viewOffset.y);
            },
            set: function (locationInView) {
                this._locationInView = locationInView;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "button", {
            get: function () {
                var e = this.event, mouseButton = null;
                if (this._button) {
                    return this._button;
                }
                if (bowser.msie) {
                    switch (e.button) {
                        case 1:
                            mouseButton = wd_1.EMouseButton.LEFT;
                            break;
                        case 4:
                            mouseButton = wd_1.EMouseButton.RIGHT;
                            break;
                        case 2:
                            mouseButton = wd_1.EMouseButton.CENTER;
                            break;
                        default:
                            wd_1.Log.error(true, wd_1.Log.info.FUNC_NOT_SUPPORT("multi mouse button"));
                            break;
                    }
                }
                else {
                    switch (e.button) {
                        case 0:
                            mouseButton = wd_1.EMouseButton.LEFT;
                            break;
                        case 1:
                            mouseButton = wd_1.EMouseButton.RIGHT;
                            break;
                        case 2:
                            mouseButton = wd_1.EMouseButton.CENTER;
                            break;
                        default:
                            wd_1.Log.error(true, wd_1.Log.info.FUNC_NOT_SUPPORT("multi mouse button"));
                            break;
                    }
                }
                return mouseButton;
            },
            set: function (button) {
                this._button = button;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "wheel", {
            get: function () {
                var e = this.event;
                if (e.detail) {
                    return -1 * e.detail;
                }
                if (e.wheelDelta) {
                    return e.wheelDelta / 120;
                }
                return 0;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MouseEvent.prototype, "movementDelta", {
            get: function () {
                var e = this.event, dx = null, wd = null;
                if (this._isPointerLocked()) {
                    dx = e.movementX || e.webkitMovementX || e.mozMovementX || 0;
                    wd = e.movementY || e.webkitMovementY || e.mozMovementY || 0;
                }
                else {
                    var location_1 = this.location, lastX = this.lastX, lastY = this.lastY;
                    if (lastX === null && lastY === null) {
                        dx = 0;
                        wd = 0;
                    }
                    else {
                        dx = location_1.x - lastX;
                        wd = location_1.y - lastY;
                    }
                }
                return {
                    x: dx,
                    y: wd
                };
            },
            enumerable: true,
            configurable: true
        });
        MouseEvent.prototype.copy = function () {
            var eventObj = MouseEvent.create(this.event, this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase", "lastX", "lastY"]);
        };
        MouseEvent.prototype._isPointerLocked = function () {
            return !!(document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement);
        };
        return MouseEvent;
    }(wd_1.DomEvent));
    wd_1.MouseEvent = MouseEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SPECIAL_KEY_MAP = {
        8: "backspace",
        9: "tab",
        10: "return",
        13: "return",
        16: "shift",
        17: "ctrl",
        18: "alt",
        19: "pause",
        20: "capslock",
        27: "esc",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        45: "insert",
        46: "del",
        59: ";",
        61: "=",
        65: "a",
        66: "b",
        67: "c",
        68: "d",
        69: "e",
        70: "f",
        71: "g",
        72: "h",
        73: "i",
        74: "j",
        75: "k",
        76: "l",
        77: "m",
        78: "n",
        79: "o",
        80: "p",
        81: "q",
        82: "r",
        83: "s",
        84: "t",
        85: "u",
        86: "v",
        87: "w",
        88: "x",
        89: "y",
        90: "z",
        96: "0",
        97: "1",
        98: "2",
        99: "3",
        100: "4",
        101: "5",
        102: "6",
        103: "7",
        104: "8",
        105: "9",
        106: "*",
        107: "+",
        109: "-",
        110: ".",
        111: "/",
        112: "f1",
        113: "f2",
        114: "f3",
        115: "f4",
        116: "f5",
        117: "f6",
        118: "f7",
        119: "f8",
        120: "f9",
        121: "f10",
        122: "f11",
        123: "f12",
        144: "numlock",
        145: "scroll",
        173: "-",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'"
    }, SHIFT_KEY_MAP = {
        "`": "~",
        "1": "!",
        "2": "@",
        "3": "#",
        "4": "$",
        "5": "%",
        "6": "^",
        "7": "&",
        "8": "*",
        "9": "(",
        "0": ")",
        "-": "_",
        "=": "+",
        ";": ": ",
        "'": "\"",
        ",": "<",
        ".": ">",
        "/": "?",
        "\\": "|"
    };
    var KeyboardEvent = (function (_super) {
        __extends(KeyboardEvent, _super);
        function KeyboardEvent() {
            _super.apply(this, arguments);
            this.p_type = wd.EEventType.KEYBOARD;
            this.keyState = null;
        }
        KeyboardEvent.create = function (event, eventName) {
            var obj = new this(event, eventName);
            return obj;
        };
        Object.defineProperty(KeyboardEvent.prototype, "ctrlKey", {
            get: function () {
                return this.event.ctrlKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "altKey", {
            get: function () {
                return this.event.altKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "shiftKey", {
            get: function () {
                return this.event.shiftKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "metaKey", {
            get: function () {
                return this.event.metaKey;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "keyCode", {
            get: function () {
                return this.event.keyCode;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KeyboardEvent.prototype, "key", {
            get: function () {
                var key = SPECIAL_KEY_MAP[this.keyCode], char = null;
                if (!key) {
                    char = String.fromCharCode(this.keyCode).toLowerCase();
                    if (this.shiftKey) {
                        return SHIFT_KEY_MAP[char];
                    }
                    return char;
                }
                return key;
            },
            enumerable: true,
            configurable: true
        });
        KeyboardEvent.prototype.copy = function () {
            var eventObj = KeyboardEvent.create(this.event, this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase", "altKey", "shiftKey", "ctrlKey", "metaKey", "keyCode", "key"]);
        };
        return KeyboardEvent;
    }(wd.DomEvent));
    wd.KeyboardEvent = KeyboardEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEvent = (function (_super) {
        __extends(CustomEvent, _super);
        function CustomEvent() {
            _super.apply(this, arguments);
            this.userData = null;
            this.p_type = wd.EEventType.CUSTOM;
        }
        CustomEvent.create = function (eventName) {
            var obj = new this(eventName);
            return obj;
        };
        CustomEvent.prototype.copyPublicAttri = function (destination, source) {
            var property = null;
            wdCb.ExtendUtils.extend(destination, function (item, property) {
                return property.slice(0, 1) !== "_"
                    && !wd.JudgeUtils.isFunction(item);
            });
            return destination;
        };
        CustomEvent.prototype.copy = function () {
            var eventObj = CustomEvent.create(this.name);
            return this.copyMember(eventObj, this, ["target", "currentTarget", "isStopPropagation", "phase"]);
        };
        CustomEvent.prototype.getDataFromDomEvent = function (event) {
            this.target = event.target;
            this.currentTarget = event.currentTarget;
            this.isStopPropagation = event.isStopPropagation;
        };
        return CustomEvent;
    }(wd.Event));
    wd.CustomEvent = CustomEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EMouseButton) {
        EMouseButton[EMouseButton["LEFT"] = 0] = "LEFT";
        EMouseButton[EMouseButton["RIGHT"] = 1] = "RIGHT";
        EMouseButton[EMouseButton["CENTER"] = 2] = "CENTER";
    })(wd.EMouseButton || (wd.EMouseButton = {}));
    var EMouseButton = wd.EMouseButton;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventListener = (function () {
        function EventListener(option) {
            this.eventType = null;
            this.priority = null;
            this.handlerDataList = wdCb.Collection.create();
            this.eventType = option.eventType;
            this.priority = option.priority || 1;
        }
        EventListener.create = function (option) {
            var obj = new this(option);
            obj.initWhenCreate(option);
            return obj;
        };
        EventListener.prototype.initWhenCreate = function (option) {
            this._setHandlerDataList(option);
        };
        EventListener.prototype._setHandlerDataList = function (option) {
            var i = null, REGEX_HANDER = /on\w+/;
            for (i in option) {
                if (option.hasOwnProperty(i)) {
                    if (REGEX_HANDER.test(i)) {
                        this.handlerDataList.addChild({
                            eventName: this._parseEventName(i),
                            handler: option[i]
                        });
                    }
                }
            }
        };
        EventListener.prototype._parseEventName = function (handlerName) {
            return handlerName.slice(2).toLowerCase();
        };
        return EventListener;
    }());
    wd.EventListener = EventListener;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventHandler = (function () {
        function EventHandler() {
        }
        return EventHandler;
    }());
    wd.EventHandler = EventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventHandler = (function (_super) {
        __extends(DomEventHandler, _super);
        function DomEventHandler() {
            _super.apply(this, arguments);
        }
        DomEventHandler.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, eventRegister = wd.DomEventRegister.getInstance(), eventOffDataList = null;
            eventOffDataList = eventRegister.remove.apply(eventRegister, args);
            if (eventOffDataList) {
                eventOffDataList.forEach(function (list) {
                    list.forEach(function (eventOffData) {
                        self._unBind(eventOffData.dom, eventOffData.eventName, eventOffData.domHandler);
                    });
                });
            }
        };
        DomEventHandler.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var dom = null, event = null, eventName = null, registerDataList = null;
            if (args.length === 1) {
                event = args[0];
                dom = this.getDefaultDom();
            }
            else {
                dom = args[0];
                event = args[1];
            }
            eventName = event.name;
            registerDataList = wd.DomEventRegister.getInstance().getEventRegisterDataList(dom, eventName);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return;
            }
            registerDataList.forEach(function (registerData) {
                var eventCopy = event.copy();
                registerData.handler(eventCopy, registerData.eventData);
            });
        };
        DomEventHandler.prototype.clearHandler = function () {
        };
        DomEventHandler.prototype.buildDomHandler = function (dom, eventName) {
            var self = this, context = wd.root;
            return wdCb.EventUtils.bindEvent(context, function (event) {
                self.triggerDomEvent(dom, event, eventName);
            });
        };
        DomEventHandler.prototype.handler = function (dom, eventName, handler, priority) {
            var domHandler = null, originHandler = handler;
            handler = this.addEngineHandler(eventName, handler);
            if (!wd.DomEventRegister.getInstance().isBinded(dom, eventName)) {
                domHandler = this._bind(dom, eventName);
            }
            else {
                domHandler = wd.DomEventRegister.getInstance().getDomHandler(dom, eventName);
            }
            wd.DomEventRegister.getInstance().register(dom, eventName, this.createEventData(), handler, originHandler, domHandler, priority);
        };
        DomEventHandler.prototype._bind = function (dom, eventName) {
            var domHandler = null;
            domHandler = this.buildDomHandler(dom, eventName);
            wdCb.EventUtils.addEvent(dom, wd.EventNameHandler.handleEventName(eventName), domHandler);
            return domHandler;
        };
        DomEventHandler.prototype._unBind = function (dom, eventName, handler) {
            wdCb.EventUtils.removeEvent(dom, wd.EventNameHandler.handleEventName(eventName), handler);
        };
        __decorate([
            wd.virtual
        ], DomEventHandler.prototype, "clearHandler", null);
        return DomEventHandler;
    }(wd.EventHandler));
    wd.DomEventHandler = DomEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MouseEventHandler = (function (_super) {
        __extends(MouseEventHandler, _super);
        function MouseEventHandler() {
            _super.apply(this, arguments);
        }
        MouseEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        MouseEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var dom = null, eventName = null, handler = null, priority = null;
            if (args.length === 3) {
                dom = this.getDefaultDom();
                eventName = args[0];
                handler = args[1];
                priority = args[2];
            }
            else {
                dom = args[0];
                eventName = args[1];
                handler = args[2];
                priority = args[3];
            }
            this.handler(dom, eventName, handler, priority);
        };
        MouseEventHandler.prototype.getDefaultDom = function () {
            return document.body;
        };
        MouseEventHandler.prototype.triggerDomEvent = function (dom, event, eventName) {
            var eventObj = this._createEventObject(dom, event, eventName);
            wd.EventManager.trigger(dom, eventObj);
        };
        MouseEventHandler.prototype.addEngineHandler = function (eventName, handler) {
            var resultHandler = null;
            switch (eventName) {
                case wd.EEventName.MOUSEMOVE:
                    resultHandler = this._handleMove(handler);
                    break;
                default:
                    resultHandler = handler;
                    break;
            }
            return resultHandler;
        };
        MouseEventHandler.prototype.createEventData = function () {
            var eventData = wdCb.Hash.create();
            eventData.addChild("lastX", null);
            eventData.addChild("lastY", null);
            return eventData;
        };
        MouseEventHandler.prototype._handleMove = function (handler) {
            var self = this;
            return function (event, eventData) {
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
                self._saveLocation(event, eventData);
            };
        };
        MouseEventHandler.prototype._createEventObject = function (dom, event, eventName) {
            var obj = wd.MouseEvent.create(event ? event : wd.root.event, eventName);
            obj.target = dom;
            return obj;
        };
        MouseEventHandler.prototype._copyEventDataToEventObject = function (event, eventData) {
            event.lastX = eventData.getChild("lastX");
            event.lastY = eventData.getChild("lastY");
        };
        MouseEventHandler.prototype._saveLocation = function (event, eventData) {
            var location = event.location;
            eventData.addChild("lastX", location.x);
            eventData.addChild("lastY", location.y);
        };
        MouseEventHandler._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 4) {
                    var dom = args[0];
                    wd.assert(wd.JudgeUtils.isDom(dom), wd.Log.info.FUNC_MUST_BE("first param", "HTMLElement"));
                }
            })
        ], MouseEventHandler.prototype, "on", null);
        return MouseEventHandler;
    }(wd.DomEventHandler));
    wd.MouseEventHandler = MouseEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var KeyboardEventHandler = (function (_super) {
        __extends(KeyboardEventHandler, _super);
        function KeyboardEventHandler() {
            _super.apply(this, arguments);
        }
        KeyboardEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        KeyboardEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventName = null, handler = null, priority = null;
            if (args.length === 3) {
                eventName = args[0];
                handler = args[1];
                priority = args[2];
            }
            else {
                wd.Log.warn("keyboard event can only bind on document.body");
                eventName = args[1];
                handler = args[2];
                priority = args[3];
            }
            this.handler(this.getDefaultDom(), eventName, handler, priority);
        };
        KeyboardEventHandler.prototype.triggerDomEvent = function (dom, event, eventName) {
            var eventObj = this._createEventObject(dom, event, eventName);
            wd.EventManager.trigger(dom, eventObj);
        };
        KeyboardEventHandler.prototype.getDefaultDom = function () {
            return document.body;
        };
        KeyboardEventHandler.prototype.addEngineHandler = function (eventName, handler) {
            var resultHandler = null;
            switch (eventName) {
                case wd.EEventName.KEYDOWN:
                    resultHandler = this._handleKeyDown(handler);
                    break;
                case wd.EEventName.KEYUP:
                    resultHandler = this._handleKeyUp(handler);
                    break;
                default:
                    resultHandler = handler;
                    break;
            }
            return resultHandler;
        };
        KeyboardEventHandler.prototype.createEventData = function () {
            var eventData = wdCb.Hash.create();
            eventData.addChild("keyState", {});
            return eventData;
        };
        KeyboardEventHandler.prototype._handleKeyDown = function (handler) {
            var self = this;
            return function (event, eventData) {
                var keyState = eventData.getChild("keyState");
                self._setKeyStateAllFalse(keyState);
                keyState[event.key] = true;
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
            };
        };
        KeyboardEventHandler.prototype._handleKeyUp = function (handler) {
            var self = this;
            return function (event, eventData) {
                self._setKeyStateAllFalse(eventData.getChild("keyState"));
                self._copyEventDataToEventObject(event, eventData);
                handler(event);
            };
        };
        KeyboardEventHandler.prototype._copyEventDataToEventObject = function (event, eventData) {
            event.keyState = eventData.getChild("keyState");
        };
        KeyboardEventHandler.prototype._setKeyStateAllFalse = function (keyState) {
            for (var i in keyState) {
                if (keyState.hasOwnProperty(i)) {
                    keyState[i] = false;
                }
            }
        };
        KeyboardEventHandler.prototype._createEventObject = function (dom, event, eventName) {
            var obj = wd.KeyboardEvent.create(event ? event : wd.root.event, eventName);
            obj.target = dom;
            return obj;
        };
        KeyboardEventHandler._instance = null;
        return KeyboardEventHandler;
    }(wd.DomEventHandler));
    wd.KeyboardEventHandler = KeyboardEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventHandler = (function (_super) {
        __extends(CustomEventHandler, _super);
        function CustomEventHandler() {
            _super.apply(this, arguments);
        }
        CustomEventHandler.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventHandler.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 3) {
                var eventName = args[0], handler = args[1], originHandler = handler, priority = args[2];
                wd.CustomEventRegister.getInstance().register(null, eventName, handler, originHandler, null, priority);
            }
            else if (args.length === 4) {
                var target = args[0], eventName = args[1], handler = args[2], originHandler = handler, priority = args[3];
                wd.CustomEventRegister.getInstance().register(target, eventName, handler, originHandler, null, priority);
            }
        };
        CustomEventHandler.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.CustomEventRegister.getInstance();
            eventRegister.remove.apply(eventRegister, args);
        };
        CustomEventHandler.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var event = null;
            if (args.length === 1 || args.length === 2) {
                var userData = null;
                if (args.length === 1) {
                    event = args[0];
                }
                else {
                    event = args[0];
                    userData = args[1];
                }
                return this._triggerEventHandler(event, userData);
            }
            else if (args.length === 3 || args.length === 4) {
                var target = null, userData = null, notSetTarget = null;
                if (args.length === 3) {
                    target = args[0];
                    event = args[1];
                    notSetTarget = args[2];
                }
                else {
                    target = args[0];
                    event = args[1];
                    userData = args[2];
                    notSetTarget = args[3];
                }
                return this._triggerTargetAndEventHandler(target, event, userData, notSetTarget);
            }
        };
        CustomEventHandler.prototype._triggerEventHandler = function (event, userData) {
            var registerDataList = null, self = this;
            registerDataList = wd.CustomEventRegister.getInstance().getEventRegisterDataList(event.name);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return false;
            }
            registerDataList.forEach(function (registerData) {
                event.currentTarget = registerData.target;
                event.target = registerData.target;
                self._setUserData(event, userData);
                registerData.handler(event);
            });
            return true;
        };
        CustomEventHandler.prototype._triggerTargetAndEventHandler = function (target, event, userData, notSetTarget) {
            var registerDataList = null, isStopPropagation = false, self = this;
            if (!notSetTarget) {
                event.target = target;
            }
            registerDataList = wd.CustomEventRegister.getInstance().getEventRegisterDataList(target, event.name);
            if (registerDataList === null || registerDataList.getCount() === 0) {
                return false;
            }
            registerDataList.forEach(function (registerData) {
                event.currentTarget = registerData.target;
                self._setUserData(event, userData);
                registerData.handler(event);
                if (event.isStopPropagation) {
                    isStopPropagation = true;
                }
            });
            return isStopPropagation;
        };
        CustomEventHandler.prototype._setUserData = function (event, userData) {
            if (userData) {
                event.userData = userData;
            }
        };
        CustomEventHandler._instance = null;
        return CustomEventHandler;
    }(wd.EventHandler));
    wd.CustomEventHandler = CustomEventHandler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventDispatcher = (function () {
        function EventDispatcher() {
        }
        return EventDispatcher;
    }());
    wd.EventDispatcher = EventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventDispatcher = (function (_super) {
        __extends(CustomEventDispatcher, _super);
        function CustomEventDispatcher() {
            _super.apply(this, arguments);
        }
        CustomEventDispatcher.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventDispatcher.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var length = args.length;
            if (length === 1) {
                var event_1 = args[0], eventType = event_1.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_1);
            }
            else if (length === 2 && wd.EventUtils.isEvent(args[0])) {
                var event_2 = args[0], userData = args[1], eventType = event_2.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_2, userData);
            }
            else if ((length === 2 && wd.EventUtils.isEntityObject(args[0])) || (length === 3 && wd.JudgeUtils.isBoolean(args[2]))) {
                var target = args[0], event_3 = args[1], notSetTarget = args[2] === void 0 ? false : args[2], eventType = event_3.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(target, event_3, notSetTarget);
            }
            else if (length === 3 || length === 4) {
                var target = args[0], event_4 = args[1], userData = args[2], notSetTarget = args[3] === void 0 ? false : args[3], eventType = event_4.type;
                return wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(target, event_4, userData, notSetTarget);
            }
        };
        CustomEventDispatcher.prototype.emit = function (target, eventObject, userData) {
            var isStopPropagation = false;
            if (!target) {
                return;
            }
            eventObject.phase = wd.EEventPhase.EMIT;
            eventObject.target = target;
            do {
                isStopPropagation = this._triggerWithUserData(target, eventObject, userData, true);
                if (isStopPropagation) {
                    break;
                }
                target = target.bubbleParent;
            } while (target);
        };
        CustomEventDispatcher.prototype.broadcast = function (target, eventObject, userData) {
            var self = this;
            var iterator = function (obj) {
                var children = obj.getChildren();
                if (children.getCount() === 0) {
                    return;
                }
                children.forEach(function (child) {
                    self._triggerWithUserData(child, eventObject, userData, true);
                    iterator(child);
                });
            };
            if (!target) {
                return;
            }
            eventObject.phase = wd.EEventPhase.BROADCAST;
            eventObject.target = target;
            this._triggerWithUserData(target, eventObject, userData, true);
            iterator(target);
        };
        CustomEventDispatcher.prototype._triggerWithUserData = function (target, event, userData, notSetTarget) {
            return userData ? this.trigger(target, event, userData, notSetTarget)
                : this.trigger(target, event, notSetTarget);
        };
        CustomEventDispatcher._instance = null;
        return CustomEventDispatcher;
    }(wd.EventDispatcher));
    wd.CustomEventDispatcher = CustomEventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventDispatcher = (function (_super) {
        __extends(DomEventDispatcher, _super);
        function DomEventDispatcher() {
            _super.apply(this, arguments);
        }
        DomEventDispatcher.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventDispatcher.prototype.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var event_5 = args[0], eventType = event_5.type;
                wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(event_5);
            }
            else if (args.length === 2) {
                var dom = args[0], event_6 = args[1], eventType = event_6.type;
                wd.EventHandlerFactory.createEventHandler(eventType)
                    .trigger(dom, event_6);
            }
        };
        DomEventDispatcher._instance = null;
        return DomEventDispatcher;
    }(wd.EventDispatcher));
    wd.DomEventDispatcher = DomEventDispatcher;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventRegister = (function () {
        function EventRegister() {
            this.listenerMap = wd.ABSTRACT_ATTRIBUTE;
        }
        EventRegister.prototype.getEventRegisterDataList = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var result = this.listenerMap.getChild.apply(this.listenerMap, args);
            if (!result) {
                return null;
            }
            return result.sort(function (dataA, dataB) {
                return dataB.priority - dataA.priority;
            });
        };
        EventRegister.prototype.filter = function (func) {
            return this.listenerMap.filter(func);
        };
        EventRegister.prototype.forEach = function (func) {
            return this.listenerMap.forEach(func);
        };
        EventRegister.prototype.getChild = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            return this.listenerMap.getChild.apply(this.listenerMap, Array.prototype.slice.call(arguments, 0));
        };
        EventRegister.prototype.getEventNameFromKey = function (key) {
            return this.listenerMap.getEventNameFromKey(key);
        };
        return EventRegister;
    }());
    wd.EventRegister = EventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventRegister = (function (_super) {
        __extends(CustomEventRegister, _super);
        function CustomEventRegister() {
            _super.apply(this, arguments);
            this.listenerMap = wd.CustomEventListenerMap.create();
        }
        CustomEventRegister.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventRegister.prototype.register = function (target, eventName, handler, originHandler, domHandler, priority) {
            this.listenerMap.appendChild(target, eventName, {
                target: target,
                eventName: eventName,
                handler: handler,
                originHandler: originHandler,
                domHandler: domHandler,
                priority: priority
            });
        };
        CustomEventRegister.prototype.remove = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = args[0];
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                this.listenerMap.removeChild(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                this.listenerMap.removeChild(target);
                this._handleAfterAllEventHandlerRemoved(target);
            }
            else if (args.length === 2 && wd.JudgeUtils.isFunction(args[1])) {
                var eventName = args[0], handler = args[1];
                this.listenerMap.removeChild(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[0])) {
                var uid = args[0], eventName = args[1];
                this.listenerMap.removeChild(uid, eventName);
            }
            else if ((args.length === 2 && args[0] instanceof wd.EntityObject) || args.length === 3) {
                this.listenerMap.removeChild.apply(this.listenerMap, args);
                if (this._isAllEventHandlerRemoved(target)) {
                    this._handleAfterAllEventHandlerRemoved(target);
                }
            }
        };
        CustomEventRegister.prototype.setBubbleParent = function (target, parent) {
            target.bubbleParent = parent;
        };
        CustomEventRegister.prototype.getUidFromKey = function (key) {
            return this.listenerMap.getUidFromKey(key);
        };
        CustomEventRegister.prototype.isTarget = function (key, target, list) {
            return this.listenerMap.isTarget(key, target, list);
        };
        CustomEventRegister.prototype._isAllEventHandlerRemoved = function (target) {
            return !this.listenerMap.hasChildWithFunc(function (list, key) {
                return key.indexOf(String(target.uid)) > -1 && (list && list.getCount() > 0);
            });
        };
        CustomEventRegister.prototype._handleAfterAllEventHandlerRemoved = function (target) {
            this.setBubbleParent(target, null);
        };
        CustomEventRegister._instance = null;
        return CustomEventRegister;
    }(wd.EventRegister));
    wd.CustomEventRegister = CustomEventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventRegister = (function (_super) {
        __extends(DomEventRegister, _super);
        function DomEventRegister() {
            _super.apply(this, arguments);
            this.listenerMap = wd.DomEventListenerMap.create();
        }
        DomEventRegister.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventRegister.prototype.register = function (dom, eventName, eventData, handler, originHandler, domHandler, priority) {
            this.listenerMap.appendChild(dom, eventName, {
                dom: dom,
                eventName: eventName,
                eventData: eventData,
                handler: handler,
                originHandler: originHandler,
                domHandler: domHandler,
                priority: priority
            });
        };
        DomEventRegister.prototype.remove = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var result = null;
            if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0];
                result = this.listenerMap.removeChild(eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isFunction(args[1])) {
                var eventName = args[0], handler = args[1];
                result = this.listenerMap.removeChild(eventName, handler);
            }
            else if ((args.length === 2 && wd.JudgeUtils.isDom(args[0])) || args.length === 3) {
                result = this.listenerMap.removeChild.apply(this.listenerMap, args);
            }
            return result;
        };
        DomEventRegister.prototype.isBinded = function (dom, eventName) {
            return this.listenerMap.hasChild(dom, eventName);
        };
        DomEventRegister.prototype.isDom = function (key, dom, list) {
            return this.listenerMap.isDom(key, dom, list);
        };
        DomEventRegister.prototype.getDomHandler = function (dom, eventName) {
            var list = this.getChild(dom, eventName);
            if (list && list.getCount() > 0) {
                return list.getChild(0).domHandler;
            }
        };
        DomEventRegister._instance = null;
        return DomEventRegister;
    }(wd.EventRegister));
    wd.DomEventRegister = DomEventRegister;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventBinder = (function () {
        function EventBinder() {
        }
        return EventBinder;
    }());
    wd.EventBinder = EventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomEventBinder = (function (_super) {
        __extends(CustomEventBinder, _super);
        function CustomEventBinder() {
            _super.apply(this, arguments);
        }
        CustomEventBinder.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        CustomEventBinder.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 2) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler);
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler, priority);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(target, eventName, handler);
            }
            else if (args.length === 4) {
                var target = args[0], eventName = args[1], handler = args[2], priority = args[3];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(target, eventName, handler, priority);
            }
        };
        CustomEventBinder.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.CustomEventRegister.getInstance();
            if (args.length === 0) {
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key), targetUid = eventRegister.getUidFromKey(key);
                    if (!targetUid) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(eventName);
                    }
                    else {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName)).off(targetUid, eventName);
                    }
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_4 = args[0];
                eventRegister.forEach(function (list, key) {
                    var registeredEventName = eventRegister.getEventNameFromKey(key);
                    if (registeredEventName === eventName_4) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName_4))
                            .off(eventName_4);
                    }
                });
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var target_3 = args[0];
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    if (eventRegister.isTarget(key, target_3, list)) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(target_3, eventName);
                    }
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(eventName, handler);
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(target, eventName);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(target, eventName, handler);
            }
        };
        CustomEventBinder.prototype._checkEventSeparator = function (eventName) {
            wd.assert(eventName.indexOf(wd.CustomEventListenerMap.eventSeparator) === -1, wd.Log.info.FUNC_SHOULD_NOT("eventName", "contain " + wd.CustomEventListenerMap.eventSeparator));
        };
        CustomEventBinder._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 1) {
                }
                else if (args.length === 2) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 4) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
            })
        ], CustomEventBinder.prototype, "on", null);
        return CustomEventBinder;
    }(wd.EventBinder));
    wd.CustomEventBinder = CustomEventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DomEventBinder = (function (_super) {
        __extends(DomEventBinder, _super);
        function DomEventBinder() {
            _super.apply(this, arguments);
        }
        DomEventBinder.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        DomEventBinder.prototype.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var listener_1 = !(args[0] instanceof wd.EventListener) ? wd.EventListener.create(args[0]) : args[0];
                listener_1.handlerDataList.forEach(function (handlerData) {
                    wd.EventHandlerFactory.createEventHandler(listener_1.eventType)
                        .on(handlerData.eventName, handlerData.handler, listener_1.priority);
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom_1 = args[0], listener_2 = !(args[0] instanceof wd.EventListener) ? wd.EventListener.create(args[0]) : args[0];
                listener_2.handlerDataList.forEach(function (handlerData) {
                    wd.EventHandlerFactory.createEventHandler(listener_2.eventType)
                        .on(dom_1, handlerData.eventName, handlerData.handler, listener_2.priority);
                });
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(eventName, handler, priority);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(dom, eventName, handler);
            }
            else if (args.length === 4) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = args[3];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .on(dom, eventName, handler, priority);
            }
        };
        DomEventBinder.prototype.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventRegister = wd.DomEventRegister.getInstance();
            if (args.length === 0) {
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                        .off(eventName);
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName_5 = args[0];
                eventRegister.forEach(function (list, key) {
                    var registeredEventName = eventRegister.getEventNameFromKey(key);
                    if (registeredEventName === eventName_5) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName_5))
                            .off(eventName_5);
                    }
                });
            }
            else if (args.length === 1 && wd.JudgeUtils.isDom(args[0])) {
                var dom_2 = args[0];
                eventRegister.forEach(function (list, key) {
                    var eventName = eventRegister.getEventNameFromKey(key);
                    if (eventRegister.isDom(key, dom_2, list)) {
                        wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                            .off(dom_2, eventName);
                    }
                });
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(eventName, handler);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(dom, eventName);
            }
            else if (args.length === 3) {
                var dom = args[0], eventName = args[1], handler = args[2];
                wd.EventHandlerFactory.createEventHandler(wd.EventTable.getEventType(eventName))
                    .off(dom, eventName, handler);
            }
        };
        DomEventBinder.prototype._checkEventSeparator = function (eventName) {
            wd.assert(eventName.indexOf(wd.DomEventListenerMap.eventSeparator) === -1, wd.Log.info.FUNC_SHOULD_NOT("eventName", "contain " + wd.DomEventListenerMap.eventSeparator));
        };
        DomEventBinder._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 1) {
                }
                else if (args.length === 2) {
                }
                else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                    var eventName = args[0];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
                else if (args.length === 4) {
                    var eventName = args[1];
                    this._checkEventSeparator(eventName);
                }
            })
        ], DomEventBinder.prototype, "on", null);
        return DomEventBinder;
    }(wd.EventBinder));
    wd.DomEventBinder = DomEventBinder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventHandlerFactory = (function () {
        function EventHandlerFactory() {
        }
        EventHandlerFactory.createEventHandler = function (eventType) {
            var handler = null;
            switch (eventType) {
                case wd.EEventType.MOUSE:
                    handler = wd.MouseEventHandler.getInstance();
                    break;
                case wd.EEventType.KEYBOARD:
                    handler = wd.KeyboardEventHandler.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    handler = wd.CustomEventHandler.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("eventType"));
                    break;
            }
            return handler;
        };
        return EventHandlerFactory;
    }());
    wd.EventHandlerFactory = EventHandlerFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventBinderFactory = (function () {
        function EventBinderFactory() {
        }
        EventBinderFactory.createEventBinder = function (eventName) {
            var binder = null, eventType = wd.EventTable.getEventType(eventName);
            switch (eventType) {
                case wd.EEventType.MOUSE:
                case wd.EEventType.KEYBOARD:
                    binder = wd.DomEventBinder.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    binder = wd.CustomEventBinder.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("eventName:" + eventName));
                    break;
            }
            return binder;
        };
        return EventBinderFactory;
    }());
    wd.EventBinderFactory = EventBinderFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventDispatcherFactory = (function () {
        function EventDispatcherFactory() {
        }
        EventDispatcherFactory.createEventDispatcher = function (event) {
            var dispatcher = null, eventType = event.type;
            switch (eventType) {
                case wd.EEventType.MOUSE:
                case wd.EEventType.KEYBOARD:
                    dispatcher = wd.DomEventDispatcher.getInstance();
                    break;
                case wd.EEventType.CUSTOM:
                    dispatcher = wd.CustomEventDispatcher.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("event:" + event));
                    break;
            }
            return dispatcher;
        };
        return EventDispatcherFactory;
    }());
    wd.EventDispatcherFactory = EventDispatcherFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventUtils = (function () {
        function EventUtils() {
        }
        EventUtils.isEvent = function (arg) {
            return arg && arg.currentTarget !== void 0;
        };
        EventUtils.isEntityObject = function (arg) {
            return arg && arg.scriptList !== void 0;
        };
        return EventUtils;
    }());
    wd.EventUtils = EventUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventManager = (function () {
        function EventManager() {
        }
        EventManager.on = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 1) {
                var listener = args[0], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(listener);
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = 1, eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.on(eventName, handler, priority);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], listener = args[1], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, listener);
            }
            else if (args.length === 3 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], priority = args[2], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.on(eventName, handler, priority);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], priority = 1, eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.on(target, eventName, handler, priority);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = 1, eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, eventName, handler, priority);
            }
            else if (args.length === 4 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], priority = args[3], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.on(target, eventName, handler, priority);
            }
            else if (args.length === 4 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], priority = args[3], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.on(dom, eventName, handler, priority);
            }
        };
        EventManager.off = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 0) {
                var customEventBinder = wd.CustomEventBinder.getInstance(), domEventBinder = wd.DomEventBinder.getInstance();
                customEventBinder.off();
                domEventBinder.off();
            }
            else if (args.length === 1 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.off(eventName);
            }
            else if (args.length === 1 && args[0] instanceof wd.EntityObject) {
                var eventName = args[0], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(eventName);
            }
            else if (args.length === 1 && wd.JudgeUtils.isDom(args[0])) {
                var eventName = args[0], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isString(args[0])) {
                var eventName = args[0], handler = args[1], eventBinder = wd.EventBinderFactory.createEventBinder(eventName);
                eventBinder.off(eventName, handler);
            }
            else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(target, eventName);
            }
            else if (args.length === 2 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(dom, eventName);
            }
            else if (args.length === 3 && args[0] instanceof wd.EntityObject) {
                var target = args[0], eventName = args[1], handler = args[2], eventBinder = wd.CustomEventBinder.getInstance();
                eventBinder.off(target, eventName, handler);
            }
            else if (args.length === 3 && wd.JudgeUtils.isDom(args[0])) {
                var dom = args[0], eventName = args[1], handler = args[2], eventBinder = wd.DomEventBinder.getInstance();
                eventBinder.off(dom, eventName, handler);
            }
        };
        EventManager.trigger = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var length = args.length;
            if (length === 1) {
                var event_7 = args[0], eventDispatcher = wd.EventDispatcherFactory.createEventDispatcher(event_7);
                eventDispatcher.trigger(event_7);
            }
            else if (length === 2 && wd.EventUtils.isEvent(args[0])) {
                var event_8 = args[0], userData = args[1], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                eventDispatcher.trigger(event_8, userData);
            }
            else if (length === 2 && wd.EventUtils.isEntityObject(args[0])) {
                var target = args[0], event_9 = args[1], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                if (!target) {
                    return;
                }
                eventDispatcher.trigger(target, event_9);
            }
            else if (length === 2) {
                var dom = args[0], event_10 = args[1], eventDispatcher = wd.DomEventDispatcher.getInstance();
                if (!dom) {
                    return;
                }
                eventDispatcher.trigger(dom, event_10);
            }
            else if (length === 3) {
                var target = args[0], event_11 = args[1], userData = args[2], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                if (!target) {
                    return;
                }
                eventDispatcher.trigger(target, event_11, userData);
            }
            else if (length === 4) {
                var target = args[0], event_12 = args[1], userData = args[2], notSetTarget = args[3], eventDispatcher = wd.CustomEventDispatcher.getInstance();
                if (!target) {
                    return;
                }
                eventDispatcher.trigger(target, event_12, userData, notSetTarget);
            }
        };
        EventManager.broadcast = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventDispatcher = wd.CustomEventDispatcher.getInstance();
            eventDispatcher.broadcast.apply(eventDispatcher, args);
        };
        EventManager.emit = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eventDispatcher = wd.CustomEventDispatcher.getInstance();
            eventDispatcher.emit.apply(eventDispatcher, args);
        };
        EventManager.fromEvent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var addHandler = null, removeHandler = null;
            if (args.length === 1) {
                var eventName_6 = args[0];
                addHandler = function (handler) {
                    EventManager.on(eventName_6, handler);
                };
                removeHandler = function (handler) {
                    EventManager.off(eventName_6, handler);
                };
            }
            else if (args.length === 2 && wd.JudgeUtils.isNumber(args[1])) {
                var eventName_7 = args[0], priority_1 = args[1];
                addHandler = function (handler) {
                    EventManager.on(eventName_7, handler, priority_1);
                };
                removeHandler = function (handler) {
                    EventManager.off(eventName_7, handler);
                };
            }
            else if (args.length === 2) {
                var eventName_8 = args[1];
                addHandler = function (handler) {
                    EventManager.on(args[0], eventName_8, handler);
                };
                removeHandler = function (handler) {
                    EventManager.off(args[0], eventName_8, handler);
                };
            }
            else if (args.length === 3) {
                var eventName_9 = args[1], priority_2 = args[2];
                addHandler = function (handler) {
                    EventManager.on(args[0], eventName_9, handler, priority_2);
                };
                removeHandler = function (handler) {
                    EventManager.off(args[0], eventName_9, handler);
                };
            }
            return wdFrp.fromEventPattern(addHandler, removeHandler);
        };
        EventManager.setBubbleParent = function (target, parent) {
            wd.CustomEventRegister.getInstance().setBubbleParent(target, parent);
        };
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    wd.assert(wd.EventTable.getEventType(eventName) === wd.EEventType.CUSTOM, wd.Log.info.FUNC_MUST_BE("event", "custom event"));
                }
                else if (wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1], eventType = wd.EventTable.getEventType(eventName);
                    wd.assert(eventType === wd.EEventType.MOUSE || eventType === wd.EEventType.KEYBOARD, wd.Log.info.FUNC_MUST_BE("event", "dom event"));
                }
            })
        ], EventManager, "on", null);
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length > 2 && args[0] instanceof wd.EntityObject) {
                    var eventName = args[1];
                    wd.assert(wd.EventTable.getEventType(eventName) === wd.EEventType.CUSTOM, wd.Log.info.FUNC_MUST_BE("event", "custom event"));
                }
                else if (args.length > 2 && wd.JudgeUtils.isDom(args[0])) {
                    var eventName = args[1], eventType = wd.EventTable.getEventType(eventName);
                    wd.assert(eventType === wd.EEventType.MOUSE || eventType === wd.EEventType.KEYBOARD, wd.Log.info.FUNC_MUST_BE("event", "dom event"));
                }
            })
        ], EventManager, "off", null);
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (args.length === 2 && args[0] instanceof wd.Event) {
                    var event_13 = args[0];
                    wd.assert(event_13 instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("event type", "CUSTOM"));
                }
                else if (args.length === 2 && args[0] instanceof wd.EntityObject) {
                }
                else if (args.length === 2) {
                    if (args[0]) {
                        wd.assert(wd.JudgeUtils.isDom(args[0]), wd.Log.info.FUNC_MUST_BE("the first param", "dom"));
                    }
                }
                else if (args[0] instanceof wd.EntityObject) {
                    var event_14 = args[1];
                    wd.assert(event_14 instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("event type", "CUSTOM"));
                }
            })
        ], EventManager, "trigger", null);
        __decorate([
            wd.require(function (target, eventObject, userData) {
                wd.assert(eventObject instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("eventObject", "CustomEvent"));
            })
        ], EventManager, "broadcast", null);
        __decorate([
            wd.require(function (target, eventObject, userData) {
                wd.assert(eventObject instanceof wd.CustomEvent, wd.Log.info.FUNC_MUST_BE("eventObject", "CustomEvent"));
            })
        ], EventManager, "emit", null);
        __decorate([
            wd.require(function (target, parent) {
                wd.assert(target instanceof wd.EntityObject, "only EntityObject can setBubleParent");
            })
        ], EventManager, "setBubbleParent", null);
        return EventManager;
    }());
    wd.EventManager = EventManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEngineEvent) {
        EEngineEvent[EEngineEvent["STARTLOOP"] = "wd_startLoop"] = "STARTLOOP";
        EEngineEvent[EEngineEvent["ENDLOOP"] = "wd_endLoop"] = "ENDLOOP";
        EEngineEvent[EEngineEvent["BEFORE_GAMEOBJECT_INIT"] = "wd_beforeGameObjectInit"] = "BEFORE_GAMEOBJECT_INIT";
        EEngineEvent[EEngineEvent["AFTER_GAMEOBJECT_INIT"] = "wd_afterGameObjectInit"] = "AFTER_GAMEOBJECT_INIT";
        EEngineEvent[EEngineEvent["AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT"] = "wd_afterGameObjectInit_rigidBowd_addConstraint"] = "AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT";
        EEngineEvent[EEngineEvent["MOUSE_CLICK"] = "wd_mouseclick"] = "MOUSE_CLICK";
        EEngineEvent[EEngineEvent["MOUSE_DOWN"] = "wd_mousedown"] = "MOUSE_DOWN";
        EEngineEvent[EEngineEvent["MOUSE_UP"] = "wd_mouseup"] = "MOUSE_UP";
        EEngineEvent[EEngineEvent["MOUSE_MOVE"] = "wd_mousemove"] = "MOUSE_MOVE";
        EEngineEvent[EEngineEvent["MOUSE_OVER"] = "wd_mouseover"] = "MOUSE_OVER";
        EEngineEvent[EEngineEvent["MOUSE_OUT"] = "wd_mouseout"] = "MOUSE_OUT";
        EEngineEvent[EEngineEvent["MOUSE_WHEEL"] = "wd_mousewheel"] = "MOUSE_WHEEL";
        EEngineEvent[EEngineEvent["MOUSE_DRAG"] = "wd_mousedrag"] = "MOUSE_DRAG";
        EEngineEvent[EEngineEvent["MATERIAL_CHANGE"] = "wd_material_change"] = "MATERIAL_CHANGE";
        EEngineEvent[EEngineEvent["MATERIAL_COLOR_CHANGE"] = "wd_material_color_change"] = "MATERIAL_COLOR_CHANGE";
        EEngineEvent[EEngineEvent["UI_WIDTH_CHANGE"] = "wd_ui_width_change"] = "UI_WIDTH_CHANGE";
        EEngineEvent[EEngineEvent["UI_HEIGHT_CHANGE"] = "wd_ui_height_change"] = "UI_HEIGHT_CHANGE";
        EEngineEvent[EEngineEvent["TRANSFORM_TRANSLATE"] = "wd_transform_translate"] = "TRANSFORM_TRANSLATE";
        EEngineEvent[EEngineEvent["TRANSFORM_ROTATE"] = "wd_transform_rotate"] = "TRANSFORM_ROTATE";
        EEngineEvent[EEngineEvent["TRANSFORM_SCALE"] = "wd_transform_scale"] = "TRANSFORM_SCALE";
        EEngineEvent[EEngineEvent["SHADOWMAP_SOFTTYPE_CHANGE"] = "wd_shadowMap_softType_change"] = "SHADOWMAP_SOFTTYPE_CHANGE";
        EEngineEvent[EEngineEvent["COMPONENT_CHANGE"] = "wd_component_change"] = "COMPONENT_CHANGE";
    })(wd.EEngineEvent || (wd.EEngineEvent = {}));
    var EEngineEvent = wd.EEngineEvent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LODController = (function (_super) {
        __extends(LODController, _super);
        function LODController() {
            _super.apply(this, arguments);
            this.activeGeometry = null;
            this._levelList = wdCb.Collection.create();
            this._originGeometry = null;
        }
        LODController.create = function () {
            var obj = new this();
            return obj;
        };
        LODController.prototype.init = function () {
            var entityObject = this.entityObject;
            this.activeGeometry = entityObject.getComponent(wd.Geometry);
            this._originGeometry = this.activeGeometry;
            this._levelList
                .filter(function (_a) {
                var geometry = _a.geometry, distanceBetweenCameraAndObject = _a.distanceBetweenCameraAndObject;
                return !!geometry;
            })
                .forEach(function (_a) {
                var geometry = _a.geometry, distanceBetweenCameraAndObject = _a.distanceBetweenCameraAndObject;
                geometry.entityObject = entityObject;
                geometry.init();
                geometry.createBuffersFromGeometryData();
            });
            _super.prototype.init.call(this);
        };
        LODController.prototype.addGeometryLevel = function (distanceBetweenCameraAndObject, levelGeometry) {
            this._levelList.addChild({
                distanceBetweenCameraAndObject: distanceBetweenCameraAndObject,
                geometry: levelGeometry
            });
            this._levelList.sort(function (levelData1, levelData2) {
                return levelData2.distanceBetweenCameraAndObject - levelData1.distanceBetweenCameraAndObject;
            }, true);
        };
        LODController.prototype.update = function (elapsedTime) {
            var currentDistanceBetweenCameraAndObject = wd.Vector3.create().sub2(wd.Director.getInstance().scene.currentCamera.transform.position, this.entityObject.transform.position).length(), useOriginGeometry = true, activeGeometry = null;
            this._levelList.forEach(function (_a) {
                var geometry = _a.geometry, distanceBetweenCameraAndObject = _a.distanceBetweenCameraAndObject;
                if (currentDistanceBetweenCameraAndObject >= distanceBetweenCameraAndObject) {
                    activeGeometry = geometry;
                    useOriginGeometry = false;
                    return wdCb.$BREAK;
                }
            });
            if (activeGeometry === wd.ELODGeometryState.INVISIBLE) {
                this.activeGeometry = null;
                this.entityObject.isVisible = false;
                return;
            }
            this.entityObject.isVisible = true;
            if (activeGeometry && !wd.JudgeUtils.isEqual(activeGeometry, this.activeGeometry)) {
                this.activeGeometry = activeGeometry;
                wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.COMPONENT_CHANGE));
            }
            else if (useOriginGeometry) {
                this.activeGeometry = this._originGeometry;
            }
        };
        return LODController;
    }(wd.Component));
    wd.LODController = LODController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ELODGeometryState) {
        ELODGeometryState[ELODGeometryState["INVISIBLE"] = 0] = "INVISIBLE";
    })(wd.ELODGeometryState || (wd.ELODGeometryState = {}));
    var ELODGeometryState = wd.ELODGeometryState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventTriggerDetector = (function (_super) {
        __extends(EventTriggerDetector, _super);
        function EventTriggerDetector() {
            _super.apply(this, arguments);
        }
        return EventTriggerDetector;
    }(wd.Component));
    wd.EventTriggerDetector = EventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIEventTriggerDetector = (function (_super) {
        __extends(UIEventTriggerDetector, _super);
        function UIEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        UIEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        UIEventTriggerDetector.prototype.isTrigger = function (e) {
            var transform = this.entityObject.transform, width = transform.width, height = transform.height, position = transform.position, locationInView = e.locationInView, leftUpCornerPosition = null;
            leftUpCornerPosition = wd.Vector2.create(position.x - width / 2, position.y - height / 2);
            return wd.EventTriggerDetectorUtils.isInRect(locationInView, leftUpCornerPosition, width, height);
        };
        return UIEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.UIEventTriggerDetector = UIEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RayCasterEventTriggerDetector = (function (_super) {
        __extends(RayCasterEventTriggerDetector, _super);
        function RayCasterEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        RayCasterEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        RayCasterEventTriggerDetector.prototype.isTrigger = function (e) {
            var scene = wd.Director.getInstance().scene, cameraController = scene.currentCamera.getComponent(wd.CameraController), locationInView = e.locationInView;
            return cameraController.isIntersectWithRay(this.entityObject, locationInView.x, locationInView.y);
        };
        return RayCasterEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.RayCasterEventTriggerDetector = RayCasterEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SceneEventTriggerDetector = (function (_super) {
        __extends(SceneEventTriggerDetector, _super);
        function SceneEventTriggerDetector() {
            _super.apply(this, arguments);
        }
        SceneEventTriggerDetector.create = function () {
            var obj = new this();
            return obj;
        };
        SceneEventTriggerDetector.prototype.isTrigger = function (e) {
            var view = wd.DeviceManager.getInstance().view, width = view.width, height = view.height, locationInView = e.locationInView, leftUpCornerPosition = wd.Vector2.create(0, 0);
            return wd.EventTriggerDetectorUtils.isInRect(locationInView, leftUpCornerPosition, width, height);
        };
        return SceneEventTriggerDetector;
    }(wd.EventTriggerDetector));
    wd.SceneEventTriggerDetector = SceneEventTriggerDetector;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EventTriggerDetectorUtils = (function () {
        function EventTriggerDetectorUtils() {
        }
        EventTriggerDetectorUtils.isInRect = function (locationInView, leftUpCornerPosition, width, height) {
            return locationInView.x >= leftUpCornerPosition.x && locationInView.x <= leftUpCornerPosition.x + width && locationInView.y >= leftUpCornerPosition.y && locationInView.y <= leftUpCornerPosition.y + height;
        };
        return EventTriggerDetectorUtils;
    }());
    wd.EventTriggerDetectorUtils = EventTriggerDetectorUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _scriptHandlerNameTable = wdCb.Hash.create(), _scriptEngineEventTable = wdCb.Hash.create();
    _scriptHandlerNameTable.addChild(wd.EEventName.CLICK, "onMouseClick");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEOVER, "onMouseOver");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEOUT, "onMouseOut");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEMOVE, "onMouseMove");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEDOWN, "onMouseDown");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEUP, "onMouseUp");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEWHEEL, "onMouseWheel");
    _scriptHandlerNameTable.addChild(wd.EEventName.MOUSEDRAG, "onMouseDrag");
    _scriptEngineEventTable.addChild(wd.EEventName.CLICK, "MOUSE_CLICK");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEDOWN, "MOUSE_DOWN");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEUP, "MOUSE_UP");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEMOVE, "MOUSE_MOVE");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEOVER, "MOUSE_OVER");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEOUT, "MOUSE_OUT");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEWHEEL, "MOUSE_WHEEL");
    _scriptEngineEventTable.addChild(wd.EEventName.MOUSEDRAG, "MOUSE_DRAG");
    var EventTriggerTable = (function () {
        function EventTriggerTable() {
        }
        EventTriggerTable.getScriptHandlerName = function (eventName) {
            var result = _scriptHandlerNameTable.getChild(eventName);
            return result;
        };
        EventTriggerTable.getScriptEngineEvent = function (eventName) {
            var result = _scriptEngineEventTable.getChild(eventName);
            return result;
        };
        return EventTriggerTable;
    }());
    wd.EventTriggerTable = EventTriggerTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Script = (function (_super) {
        __extends(Script, _super);
        function Script(url) {
            if (url === void 0) { url = null; }
            _super.call(this);
            this.url = null;
            this.url = url;
        }
        Script.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 0) {
                return new this();
            }
            else if (args.length === 1) {
                var url = args[0];
                return new this(url);
            }
        };
        Script.addScript = function (scriptName, _class) {
            this.scriptList.push({
                name: scriptName,
                class: _class
            });
        };
        Script.prototype.createLoadJsStream = function () {
            wd.Log.error(!this.url, wd.Log.info.FUNC_MUST_DEFINE("url"));
            return wd.LoaderManager.getInstance().load(this.url)
                .map(function () {
                return Script.scriptList.pop();
            });
        };
        Script.prototype.addToObject = function (entityObject) {
            var self = this;
            _super.prototype.addToObject.call(this, entityObject);
            this.createLoadJsStream()
                .subscribe(function (data) {
                self._handlerAfterLoadedScript(data, entityObject);
            });
        };
        Script.prototype._handlerAfterLoadedScript = function (data, entityObject) {
            this._addScriptToEntityObject(entityObject, data);
            entityObject.execScript("onEnter", null, true);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT));
            entityObject.execScript("init", null, true);
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT));
            wd.EventManager.trigger(wd.CustomEvent.create(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT));
        };
        Script.prototype._addScriptToEntityObject = function (entityObject, data) {
            entityObject.scriptList.addChild(data.name, new data.class(entityObject));
        };
        Script.scriptList = wdCb.Stack.create();
        return Script;
    }(wd.Component));
    wd.Script = Script;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Transform = (function (_super) {
        __extends(Transform, _super);
        function Transform() {
            _super.apply(this, arguments);
            this.p_parent = null;
            this._isTranslate = false;
            this._isRotate = false;
            this._isScale = false;
            this.dirtyLocal = true;
            this.children = wdCb.Collection.create();
        }
        Object.defineProperty(Transform.prototype, "parent", {
            get: function () {
                return this.p_parent;
            },
            set: function (parent) {
                this.setParent(parent);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isTransform", {
            get: function () {
                return this.isTranslate || this.isRotate || this.isScale;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isTranslate", {
            get: function () {
                return this._isTranslate;
            },
            set: function (isTranslate) {
                this._setGlobalTransformState(wd.ETransformState.ISTRANSLATE, isTranslate);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isRotate", {
            get: function () {
                return this._isRotate;
            },
            set: function (isRotate) {
                this._setGlobalTransformState(wd.ETransformState.ISROTATE, isRotate);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isScale", {
            get: function () {
                return this._isScale;
            },
            set: function (isScale) {
                this._setGlobalTransformState(wd.ETransformState.ISSCALE, isScale);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isLocalTranslate", {
            set: function (isTranslate) {
                this._setLocalTransformState(wd.ETransformState.ISLOCALTRANSLATE, isTranslate);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isLocalRotate", {
            set: function (isRotate) {
                this._setLocalTransformState(wd.ETransformState.ISLOCALROTATE, isRotate);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Transform.prototype, "isLocalScale", {
            set: function (isScale) {
                this._setLocalTransformState(wd.ETransformState.ISLOCALSCALE, isScale);
            },
            enumerable: true,
            configurable: true
        });
        Transform.prototype.addChild = function (child) {
            this.children.addChild(child);
        };
        Transform.prototype.removeChild = function (child) {
            this.children.removeChild(child);
        };
        Transform.prototype.setChildrenTransformState = function (transformState, state) {
            if (state) {
                this.children.forEach(function (child) {
                    child[transformState] = true;
                });
            }
        };
        Transform.prototype.handleWhenSetTransformState = function (transformState) {
        };
        Transform.prototype.setParent = function (parent) {
            if (this.p_parent) {
                this.p_parent.removeChild(this);
            }
            if (!parent) {
                this.p_parent = null;
                return;
            }
            this.p_parent = parent;
            this.p_parent.addChild(this);
        };
        Transform.prototype.getMatrix = function (syncMethod, matrixAttriName) {
            var syncList = wdCb.Collection.create(), current = this.p_parent;
            syncList.addChild(this);
            while (current !== null) {
                syncList.addChild(current);
                current = current.parent;
            }
            syncList.reverse().forEach(function (transform) {
                transform[syncMethod]();
            });
            return this[matrixAttriName];
        };
        Transform.prototype._setGlobalTransformState = function (transformState, state) {
            this[("_" + transformState)] = state;
            if (state) {
                this.dirtyLocal = true;
                this.clearCache();
                this.handleWhenSetTransformState(transformState);
            }
            if (state) {
                this.setChildrenTransformState(transformState, state);
            }
        };
        Transform.prototype._setLocalTransformState = function (transformState, state) {
            if (state) {
                this.dirtyLocal = true;
                this.clearCache();
            }
            if (state) {
                this.setChildrenTransformState(transformState, state);
            }
        };
        __decorate([
            wd.virtual
        ], Transform.prototype, "handleWhenSetTransformState", null);
        return Transform;
    }(wd.Component));
    wd.Transform = Transform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ThreeDTransform = (function (_super) {
        __extends(ThreeDTransform, _super);
        function ThreeDTransform() {
            _super.apply(this, arguments);
            this._localToWorldMatrix = null;
            this._position = wd.Vector3.create();
            this._rotation = wd.Quaternion.create(0, 0, 0, 1);
            this._scale = wd.Vector3.create(1, 1, 1);
            this._eulerAngles = null;
            this._localPosition = wd.Vector3.create(0, 0, 0);
            this._localRotation = wd.Quaternion.create(0, 0, 0, 1);
            this._localEulerAngles = null;
            this._localScale = wd.Vector3.create(1, 1, 1);
            this.dirtyWorld = null;
            this._localToParentMatrix = wd.Matrix4.create();
            this._endLoopSubscription = null;
            this._localToWorldMatrixCache = null;
            this._positionCache = null;
            this._rotationCache = null;
            this._scaleCache = null;
            this._eulerAnglesCache = null;
            this._localEulerAnglesCache = null;
        }
        ThreeDTransform.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(ThreeDTransform.prototype, "localToWorldMatrix", {
            get: function () {
                return this.getMatrix("sync", "_localToWorldMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "position", {
            get: function () {
                this._position = this.localToWorldMatrix.getTranslation();
                return this._position;
            },
            set: function (position) {
                if (this.p_parent === null) {
                    this._localPosition = position.copy();
                }
                else {
                    this._localPosition = this.p_parent.localToWorldMatrix.copy().invert().multiplyPoint(position);
                }
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "rotation", {
            get: function () {
                this._rotation.setFromMatrix(this.localToWorldMatrix);
                return this._rotation;
            },
            set: function (rotation) {
                if (this.p_parent === null) {
                    this._localRotation = rotation.copy();
                }
                else {
                    this._localRotation = this.p_parent.rotation.copy().invert().multiply(rotation);
                }
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "scale", {
            get: function () {
                this._scale = this.localToWorldMatrix.getScale();
                return this._scale;
            },
            set: function (scale) {
                if (this.p_parent === null) {
                    this._localScale = scale.copy();
                }
                else {
                    this._localScale = this.p_parent.localToWorldMatrix.copy().invert().multiplyVector3(scale);
                }
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "eulerAngles", {
            get: function () {
                this._eulerAngles = this.localToWorldMatrix.getEulerAngles();
                return this._eulerAngles;
            },
            set: function (eulerAngles) {
                this._localRotation.setFromEulerAngles(eulerAngles);
                if (this.p_parent !== null) {
                    this._localRotation = this.p_parent.rotation.copy().invert().multiply(this._localRotation);
                }
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localPosition", {
            get: function () {
                return this._localPosition;
            },
            set: function (position) {
                this._localPosition = position.copy();
                this.isLocalTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localRotation", {
            get: function () {
                return this._localRotation;
            },
            set: function (rotation) {
                this._localRotation = rotation.copy();
                this.isLocalRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localEulerAngles", {
            get: function () {
                this._localEulerAngles = this._localRotation.getEulerAngles();
                return this._localEulerAngles;
            },
            set: function (localEulerAngles) {
                this._localRotation.setFromEulerAngles(localEulerAngles);
                this.isLocalRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "localScale", {
            get: function () {
                return this._localScale;
            },
            set: function (scale) {
                this._localScale = scale.copy();
                this.isLocalScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "up", {
            get: function () {
                return this.localToWorldMatrix.getY().normalize();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "right", {
            get: function () {
                return this.localToWorldMatrix.getX().normalize();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ThreeDTransform.prototype, "forward", {
            get: function () {
                return this.localToWorldMatrix.getZ().normalize().scale(-1);
            },
            enumerable: true,
            configurable: true
        });
        ThreeDTransform.prototype.init = function () {
            var self = this;
            this._endLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.ENDLOOP)
                .subscribe(function () {
                self._resetTransformFlag();
            });
        };
        ThreeDTransform.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._endLoopSubscription && this._endLoopSubscription.dispose();
        };
        ThreeDTransform.prototype.sync = function () {
            if (this.dirtyLocal) {
                this._localToParentMatrix.setTRS(this._localPosition, this._localRotation, this._localScale);
                this.dirtyLocal = false;
                this.dirtyWorld = true;
            }
            if (this.dirtyWorld) {
                if (this.p_parent === null) {
                    this._localToWorldMatrix = this._localToParentMatrix.copy();
                }
                else {
                    this._localToWorldMatrix = this.p_parent.localToWorldMatrix.copy().multiply(this._localToParentMatrix);
                }
                this.dirtyWorld = false;
                this.children.forEach(function (child) {
                    child.dirtyWorld = true;
                });
            }
        };
        ThreeDTransform.prototype.translateLocal = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 3) {
                translation = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                translation = args[0];
            }
            this._localPosition = this._localPosition.add(this._localRotation.multiplyVector3(translation));
            this.isTranslate = true;
            return this;
        };
        ThreeDTransform.prototype.translate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 3) {
                translation = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                translation = args[0];
            }
            this.position = translation.add(this.position);
            return this;
        };
        ThreeDTransform.prototype.rotate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eulerAngles = null, quaternion = wd.Quaternion.create();
            if (args.length === 3) {
                eulerAngles = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                eulerAngles = args[0];
            }
            quaternion.setFromEulerAngles(eulerAngles);
            if (this.p_parent === null) {
                this._localRotation = quaternion.multiply(this._localRotation);
            }
            else {
                quaternion = this.p_parent.rotation.copy().invert().multiply(quaternion);
                this._localRotation = quaternion.multiply(this.rotation);
            }
            this.isRotate = true;
            return this;
        };
        ThreeDTransform.prototype.rotateLocal = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var eulerAngles = null, quaternion = wd.Quaternion.create();
            if (args.length === 3) {
                eulerAngles = wd.Vector3.create(args[0], args[1], args[2]);
            }
            else {
                eulerAngles = args[0];
            }
            quaternion.setFromEulerAngles(eulerAngles);
            this._localRotation.multiply(quaternion);
            this.isRotate = true;
            return this;
        };
        ThreeDTransform.prototype.rotateAround = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = null, center = null, axis = null, rot = null, dir = null;
            if (args.length === 3) {
                angle = args[0];
                center = args[1];
                axis = args[2];
            }
            else {
                angle = args[0];
                center = wd.Vector3.create(args[1], args[2], args[3]);
                axis = wd.Vector3.create(args[4], args[5], args[6]);
            }
            rot = wd.Quaternion.create().setFromAxisAngle(angle, axis);
            dir = this.position.copy().sub(center);
            dir = rot.multiplyVector3(dir);
            this.position = center.add(dir);
            this.rotation = rot.multiply(this.rotation);
            return this;
        };
        ThreeDTransform.prototype.lookAt = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = null, up = null;
            if (args.length === 1) {
                target = args[0];
                up = wd.Vector3.up;
            }
            else if (args.length === 2) {
                target = args[0];
                up = args[1];
            }
            else if (args.length === 3) {
                target = wd.Vector3.create(args[0], args[1], args[2]);
                up = wd.Vector3.up;
            }
            else {
                target = wd.Vector3.create(args[0], args[1], args[2]);
                up = wd.Vector3.create(args[3], args[4], args[5]);
            }
            this.rotation = wd.Quaternion.create().setFromMatrix(wd.Matrix4.create().setLookAt(this.position, target, up));
            return this;
        };
        ThreeDTransform.prototype.clearCache = function () {
            this._localToWorldMatrixCache = null;
            this._positionCache = null;
            this._rotationCache = null;
            this._scaleCache = null;
            this._eulerAnglesCache = null;
            this._localEulerAnglesCache = null;
        };
        ThreeDTransform.prototype.handleWhenSetTransformState = function (transformState) {
            var eventName = null;
            switch (transformState) {
                case wd.ETransformState.ISTRANSLATE:
                    eventName = wd.EEngineEvent.TRANSFORM_TRANSLATE;
                    break;
                case wd.ETransformState.ISROTATE:
                    eventName = wd.EEngineEvent.TRANSFORM_ROTATE;
                    break;
                case wd.ETransformState.ISSCALE:
                    eventName = wd.EEngineEvent.TRANSFORM_SCALE;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNKNOW("transformState:" + transformState));
                    break;
            }
            wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(eventName));
        };
        ThreeDTransform.prototype._resetTransformFlag = function () {
            this.isTranslate = false;
            this.isScale = false;
            this.isRotate = false;
        };
        __decorate([
            wd.cacheGetter(function () {
                return this._localToWorldMatrixCache !== null;
            }, function () {
                return this._localToWorldMatrixCache;
            }, function (result) {
                this._localToWorldMatrixCache = result;
            })
        ], ThreeDTransform.prototype, "localToWorldMatrix", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._positionCache !== null;
            }, function () {
                return this._positionCache;
            }, function (result) {
                this._positionCache = result;
            })
        ], ThreeDTransform.prototype, "position", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._rotationCache !== null;
            }, function () {
                return this._rotationCache;
            }, function (result) {
                this._rotationCache = result;
            })
        ], ThreeDTransform.prototype, "rotation", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._scaleCache !== null;
            }, function () {
                return this._scaleCache;
            }, function (result) {
                this._scaleCache = result;
            })
        ], ThreeDTransform.prototype, "scale", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._eulerAnglesCache !== null;
            }, function () {
                return this._eulerAnglesCache;
            }, function (result) {
                this._eulerAnglesCache = result;
            })
        ], ThreeDTransform.prototype, "eulerAngles", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._localEulerAnglesCache !== null;
            }, function () {
                return this._localEulerAnglesCache;
            }, function (result) {
                this._localEulerAnglesCache = result;
            })
        ], ThreeDTransform.prototype, "localEulerAngles", null);
        return ThreeDTransform;
    }(wd.Transform));
    wd.ThreeDTransform = ThreeDTransform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectTransform = (function (_super) {
        __extends(RectTransform, _super);
        function RectTransform() {
            _super.apply(this, arguments);
            this._rotationMatrix = null;
            this._localPositionAndScaleMatrix = wd.Matrix3.create();
            this._position = wd.Vector2.create();
            this._rotation = 0;
            this._scale = wd.Vector2.create(1, 1);
            this._localPosition = wd.Vector2.create(0, 0);
            this._localScale = wd.Vector2.create(1, 1);
            this._anchorX = wd.Vector2.create(0.5, 0.5);
            this._anchorY = wd.Vector2.create(0.5, 0.5);
            this._width = null;
            this._height = null;
            this.dirtyRotation = true;
            this.dirtyPositionAndScale = true;
            this.pivot = wd.Vector2.create(0, 0);
            this.zIndex = 1;
            this._localRotationMatrix = wd.Matrix3.create();
            this._localToParentMatrix = wd.Matrix3.create();
            this._rotationMatrixCache = null;
            this._localPositionAndScaleMatrixCache = null;
        }
        RectTransform.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(RectTransform.prototype, "rotationMatrix", {
            get: function () {
                return this.getMatrix("syncRotation", "_rotationMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localPositionAndScaleMatrix", {
            get: function () {
                return this.getMatrix("syncPositionAndScale", "_localPositionAndScaleMatrix");
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "position", {
            get: function () {
                this._position = this.localPositionAndScaleMatrix.getTranslation();
                return this._position;
            },
            set: function (position) {
                if (this.p_parent === null) {
                    this._localPosition = position.copy();
                }
                else {
                    this._localPosition = this.p_parent.localPositionAndScaleMatrix.copy().invert().multiplyPoint(position);
                }
                this.isTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "rotation", {
            get: function () {
                this._rotation = this.rotationMatrix.getRotation();
                return this._rotation;
            },
            set: function (angle) {
                this.resetRotation();
                this.rotate(angle);
                this.dirtyRotation = true;
                this.isRotate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "scale", {
            get: function () {
                this._scale = this.localPositionAndScaleMatrix.getScale();
                return this._scale;
            },
            set: function (scale) {
                if (this.p_parent === null) {
                    this._localScale = scale.copy();
                }
                else {
                    this._localScale = this.p_parent.localPositionAndScaleMatrix.copy().invert().multiplyVector2(scale);
                }
                this.isScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localPosition", {
            get: function () {
                return this._localPosition;
            },
            set: function (position) {
                this._localPosition = position.copy();
                this.isLocalTranslate = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "localScale", {
            get: function () {
                return this._localScale;
            },
            set: function (scale) {
                this._localScale = scale.copy();
                this.isLocalScale = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "anchorX", {
            get: function () {
                return this._anchorX;
            },
            set: function (anchorX) {
                var parentWidth = null;
                this._anchorX = anchorX;
                if (anchorX.x === anchorX.y) {
                    var widthFromAnchorToPosition = (anchorX.x - 0.5) * this._getParentWidth();
                    this.position = wd.Vector2.create(this._getParentPosition().x + widthFromAnchorToPosition, this.position.y);
                    return;
                }
                parentWidth = this._getParentWidth();
                this.position = wd.Vector2.create(this._getParentPosition().x + (anchorX.x + anchorX.y - 1) / 2 * parentWidth, this.position.y);
                this.width = parentWidth / this._getParentScale().x * (anchorX.y - anchorX.x) * this.scale.x;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "anchorY", {
            get: function () {
                return this._anchorY;
            },
            set: function (anchorY) {
                var parentHeight = null;
                this._anchorY = anchorY;
                if (anchorY.x === anchorY.y) {
                    var heightFromAnchorToPosition = (anchorY.x - 0.5) * this._getParentHeight();
                    this.position = wd.Vector2.create(this.position.x, this._getParentPosition().y + heightFromAnchorToPosition);
                    return;
                }
                parentHeight = this._getParentHeight();
                this.position = wd.Vector2.create(this.position.x, this._getParentPosition().y + (anchorY.x + anchorY.y - 1) / 2 * parentHeight);
                this.height = parentHeight / this._getParentScale().y * (anchorY.y - anchorY.x) * this.scale.y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "width", {
            get: function () {
                return this._width * this.scale.x;
            },
            set: function (width) {
                if (width !== this._width) {
                    this._width = width;
                    if (this.entityObject) {
                        wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.UI_WIDTH_CHANGE));
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectTransform.prototype, "height", {
            get: function () {
                return this._height * this.scale.y;
            },
            set: function (height) {
                if (height !== this._height) {
                    this._height = height;
                    if (this.entityObject) {
                        wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.UI_HEIGHT_CHANGE));
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        RectTransform.prototype.init = function () {
        };
        RectTransform.prototype.dispose = function () {
        };
        RectTransform.prototype.syncRotation = function () {
            if (this.dirtyRotation) {
                if (this.p_parent === null) {
                    this._rotationMatrix = this._localRotationMatrix.copy();
                }
                else {
                    this._rotationMatrix = this.p_parent.rotationMatrix.copy().multiply(this._localRotationMatrix);
                }
                this.children.forEach(function (child) {
                    child.dirtyRotation = true;
                });
            }
        };
        RectTransform.prototype.syncPositionAndScale = function () {
            if (this.dirtyLocal) {
                this._localToParentMatrix.setTS(this._localPosition, this._localScale);
                this.dirtyLocal = false;
                this.dirtyPositionAndScale = true;
            }
            if (this.dirtyPositionAndScale) {
                if (this.p_parent === null) {
                    this._localPositionAndScaleMatrix = this._localToParentMatrix.copy();
                }
                else {
                    this._localPositionAndScaleMatrix = this.p_parent.localPositionAndScaleMatrix.copy().multiply(this._localToParentMatrix);
                }
                this.dirtyLocal = false;
                this.children.forEach(function (child) {
                    child.dirtyPositionAndScale = true;
                });
            }
        };
        RectTransform.prototype.translate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var translation = null;
            if (args.length === 2) {
                translation = wd.Vector2.create(args[0], args[1]);
            }
            else {
                translation = args[0];
            }
            this.position = translation.add(this.position);
            return this;
        };
        RectTransform.prototype.rotate = function (angle) {
            var position = this.position;
            this.rotateAround(angle, position.x + this.pivot.x, position.y - this.pivot.y);
            this.dirtyRotation = true;
            this.isRotate = true;
            return this;
        };
        RectTransform.prototype.rotateAround = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var angle = null, center = null, position = null, x = null, y = null;
            if (args.length === 2) {
                angle = args[0];
                center = args[1];
            }
            else {
                angle = args[0];
                center = wd.Vector2.create(args[1], args[2]);
            }
            x = center.x;
            y = center.y;
            this._translateInRotationMatrix(x, y);
            this._rotateAroundCanvasOriginPoint(angle);
            this._translateInRotationMatrix(-x, -y);
            return this;
        };
        RectTransform.prototype._translateInRotationMatrix = function (x, y) {
            this._localRotationMatrix.translate(x, y);
            return this;
        };
        RectTransform.prototype.resetPosition = function () {
            this.position = wd.Vector2.create(0, 0);
        };
        RectTransform.prototype.resetScale = function () {
            this.scale = wd.Vector2.create(1, 1);
        };
        RectTransform.prototype.resetRotation = function () {
            this._localRotationMatrix.setIdentity();
        };
        RectTransform.prototype.handleWhenSetTransformState = function (transformState) {
            var eventName = null;
            switch (transformState) {
                case wd.ETransformState.ISTRANSLATE:
                    eventName = wd.EEngineEvent.TRANSFORM_TRANSLATE;
                    break;
                case wd.ETransformState.ISROTATE:
                    eventName = wd.EEngineEvent.TRANSFORM_ROTATE;
                    break;
                case wd.ETransformState.ISSCALE:
                    eventName = wd.EEngineEvent.TRANSFORM_SCALE;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNKNOW("transformState:" + transformState));
                    break;
            }
            wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(eventName));
        };
        RectTransform.prototype.clearCache = function () {
            this._rotationMatrixCache = null;
            this._localPositionAndScaleMatrixCache = null;
        };
        RectTransform.prototype._rotateAroundCanvasOriginPoint = function (angle) {
            this._localRotationMatrix.rotate(angle);
            this.dirtyRotation = true;
            return this;
        };
        RectTransform.prototype._getParentWidth = function () {
            if (this.p_parent === null) {
                return wd.DeviceManager.getInstance().view.width;
            }
            return this.p_parent.width;
        };
        RectTransform.prototype._getParentHeight = function () {
            if (this.p_parent === null) {
                return wd.DeviceManager.getInstance().view.height;
            }
            return this.p_parent.height;
        };
        RectTransform.prototype._getParentPosition = function () {
            if (this.p_parent === null) {
                var view = wd.DeviceManager.getInstance().view;
                return wd.Vector2.create(view.width / 2, view.height / 2);
            }
            return this.p_parent.position;
        };
        RectTransform.prototype._getParentScale = function () {
            if (this.p_parent === null) {
                return wd.Vector2.create(1, 1);
            }
            return this.p_parent.scale;
        };
        __decorate([
            wd.cacheGetter(function () {
                return this._rotationMatrixCache !== null;
            }, function () {
                return this._rotationMatrixCache;
            }, function (result) {
                this._rotationMatrixCache = result;
            })
        ], RectTransform.prototype, "rotationMatrix", null);
        __decorate([
            wd.cacheGetter(function () {
                return this._localPositionAndScaleMatrixCache !== null;
            }, function () {
                return this._localPositionAndScaleMatrixCache;
            }, function (result) {
                this._localPositionAndScaleMatrixCache = result;
            })
        ], RectTransform.prototype, "localPositionAndScaleMatrix", null);
        __decorate([
            wd.requireSetter(function (anchorX) {
                wd.assert(anchorX.x <= anchorX.y, wd.Log.info.FUNC_SHOULD("minX", "<= maxY"));
                wd.assert(anchorX.x >= 0 && anchorX.x <= 1, wd.Log.info.FUNC_SHOULD("minX", ">= 0 && <= 1"));
                wd.assert(anchorX.y >= 0 && anchorX.y <= 1, wd.Log.info.FUNC_SHOULD("maxX", ">= 0 && <= 1"));
            })
        ], RectTransform.prototype, "anchorX", null);
        __decorate([
            wd.requireSetter(function (anchorY) {
                wd.assert(anchorY.x <= anchorY.y, wd.Log.info.FUNC_SHOULD("minY", "<= maxY"));
                wd.assert(anchorY.x >= 0 && anchorY.x <= 1, wd.Log.info.FUNC_SHOULD("minY", ">= 0 && <= 1"));
                wd.assert(anchorY.y >= 0 && anchorY.y <= 1, wd.Log.info.FUNC_SHOULD("maxY", ">= 0 && <= 1"));
            })
        ], RectTransform.prototype, "anchorY", null);
        return RectTransform;
    }(wd.Transform));
    wd.RectTransform = RectTransform;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETransformState) {
        ETransformState[ETransformState["ISTRANSLATE"] = "isTranslate"] = "ISTRANSLATE";
        ETransformState[ETransformState["ISROTATE"] = "isRotate"] = "ISROTATE";
        ETransformState[ETransformState["ISSCALE"] = "isScale"] = "ISSCALE";
        ETransformState[ETransformState["ISLOCALTRANSLATE"] = "isLocalTranslate"] = "ISLOCALTRANSLATE";
        ETransformState[ETransformState["ISLOCALROTATE"] = "isLocalRotate"] = "ISLOCALROTATE";
        ETransformState[ETransformState["ISLOCALSCALE"] = "isLocalScale"] = "ISLOCALSCALE";
    })(wd.ETransformState || (wd.ETransformState = {}));
    var ETransformState = wd.ETransformState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ComponentContainer = (function () {
        function ComponentContainer() {
            this.list = wdCb.Collection.create();
        }
        ComponentContainer.prototype.addChild = function (component) {
            if (this.hasChild(component)) {
                return;
            }
            this.list.addChild(component);
        };
        ComponentContainer.prototype.removeChild = function (component) {
            this.list.removeChild(component);
        };
        ComponentContainer.prototype.hasChild = function (component) {
            return this.list.hasChild(component);
        };
        return ComponentContainer;
    }());
    wd.ComponentContainer = ComponentContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionManager = (function (_super) {
        __extends(ActionManager, _super);
        function ActionManager() {
            _super.apply(this, arguments);
        }
        ActionManager.create = function () {
            var obj = new this();
            return obj;
        };
        ActionManager.prototype.update = function (elapsedTime) {
            var removeQueue = [];
            this.list.forEach(function (child) {
                if (child.isFinish) {
                    removeQueue.push(child);
                    return;
                }
                if (child.isStop || child.isPause) {
                    return;
                }
                child.update(elapsedTime);
            });
            for (var _i = 0, removeQueue_1 = removeQueue; _i < removeQueue_1.length; _i++) {
                var child = removeQueue_1[_i];
                child.entityObject.removeComponent(child);
            }
        };
        return ActionManager;
    }(wd.ComponentContainer));
    wd.ActionManager = ActionManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIManager = (function (_super) {
        __extends(UIManager, _super);
        function UIManager(uiObject) {
            _super.call(this);
            this._uiObject = null;
            this._uiObject = uiObject;
        }
        UIManager.create = function (uiObject) {
            var obj = new this(uiObject);
            return obj;
        };
        UIManager.prototype.update = function (elapsedTime) {
            if (this.list.getCount() === 0) {
                return;
            }
            if (this._isDirty()) {
                this.list.forEach(function (ui) {
                    ui.update(elapsedTime);
                });
            }
        };
        UIManager.prototype._isDirty = function () {
            return this._uiObject.getComponent(wd.UIRenderer).state === wd.EUIRendererState.DIRTY;
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.list.getCount() <= 1, wd.Log.info.FUNC_SHOULD("only contain one ui component"));
            })
        ], UIManager.prototype, "update", null);
        return UIManager;
    }(wd.ComponentContainer));
    wd.UIManager = UIManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightManager = (function () {
        function LightManager() {
            this._lights = wdCb.Hash.create();
        }
        LightManager.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(LightManager.prototype, "ambientLight", {
            get: function () {
                return this._lights.getChild(wd.AmbientLight.type);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightManager.prototype, "directionLights", {
            get: function () {
                return this._lights.getChild(wd.DirectionLight.type);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightManager.prototype, "pointLights", {
            get: function () {
                return this._lights.getChild(wd.PointLight.type);
            },
            enumerable: true,
            configurable: true
        });
        LightManager.prototype.addChild = function (light) {
            if (light.hasComponent(wd.AmbientLight)) {
                this._lights.addChild(wd.AmbientLight.type, light);
            }
            else if (light.hasComponent(wd.DirectionLight)) {
                this._lights.appendChild(wd.DirectionLight.type, light);
            }
            else if (light.hasComponent(wd.PointLight)) {
                this._lights.appendChild(wd.PointLight.type, light);
            }
            else {
                wd.Log.error(true, wd.Log.info.FUNC_INVALID("light"));
            }
        };
        LightManager.prototype.addChildren = function (lightList) {
            var self = this;
            lightList.forEach(function (light) {
                self.addChild(light);
            });
        };
        return LightManager;
    }());
    wd.LightManager = LightManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Animation = (function (_super) {
        __extends(Animation, _super);
        function Animation() {
            _super.apply(this, arguments);
            this.isFrameChange = false;
            this.state = EAnimationState.DEFAULT;
            this.pauseTime = null;
            this.resumeTime = null;
            this.pauseDuration = null;
            this.frameCount = null;
            this._isResume = false;
        }
        Object.defineProperty(Animation.prototype, "isStart", {
            get: function () {
                return this.state === EAnimationState.RUN;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Animation.prototype, "isStop", {
            get: function () {
                return this.state === EAnimationState.STOP;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Animation.prototype, "isPause", {
            get: function () {
                return this.state === EAnimationState.PAUSE;
            },
            enumerable: true,
            configurable: true
        });
        Animation.prototype.pause = function () {
            this.state = EAnimationState.PAUSE;
            this.pauseTime = this.getPauseTime();
        };
        Animation.prototype.resume = function () {
            this.state = EAnimationState.RUN;
            this._isResume = true;
            this.resumeTime = this.getResumeTime();
        };
        Animation.prototype.stop = function () {
            this.state = EAnimationState.STOP;
        };
        Animation.prototype.update = function (elapsedTime) {
            if (this.state === EAnimationState.DEFAULT || this.isStop) {
                return;
            }
            if (this.isPause) {
                this.handleWhenPause(elapsedTime);
                return;
            }
            if (this._isResume) {
                this._isResume = false;
                this.continueFromPausePoint(elapsedTime);
            }
            this.handleBeforeJudgeWhetherCurrentFrameFinish(elapsedTime);
            if (this.isCurrentFrameFinish(elapsedTime)) {
                this.handleWhenCurrentFrameFinish(elapsedTime);
            }
            else {
                this.isFrameChange = false;
            }
            this.handleAfterJudgeWhetherCurrentFrameFinish(elapsedTime);
        };
        Animation.prototype.getPauseTime = function () {
            return this.getCurrentTime();
        };
        Animation.prototype.getResumeTime = function () {
            return this.getCurrentTime();
        };
        Animation.prototype.getCurrentTime = function () {
            return wd.Director.getInstance().elapsed;
        };
        Animation.prototype.continueFromPausePoint = function (elapsedTime) {
            this.pauseDuration += this.resumeTime - this.pauseTime;
        };
        return Animation;
    }(wd.Component));
    wd.Animation = Animation;
    (function (EAnimationState) {
        EAnimationState[EAnimationState["DEFAULT"] = 0] = "DEFAULT";
        EAnimationState[EAnimationState["RUN"] = 1] = "RUN";
        EAnimationState[EAnimationState["STOP"] = 2] = "STOP";
        EAnimationState[EAnimationState["PAUSE"] = 3] = "PAUSE";
    })(wd.EAnimationState || (wd.EAnimationState = {}));
    var EAnimationState = wd.EAnimationState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphAnimation = (function (_super) {
        __extends(MorphAnimation, _super);
        function MorphAnimation() {
            _super.apply(this, arguments);
            this.interpolation = 0;
            this.currentFrame = 0;
            this.duration = null;
            this.fps = null;
            this.currentAnimName = null;
            this._prevFrameEndTime = null;
        }
        MorphAnimation.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(MorphAnimation.prototype, "nextFrame", {
            get: function () {
                var nextFrame = this.currentFrame + 1;
                if (nextFrame >= this.frameCount) {
                    nextFrame = 0;
                }
                return nextFrame;
            },
            enumerable: true,
            configurable: true
        });
        MorphAnimation.prototype.init = function () {
        };
        MorphAnimation.prototype.dispose = function () {
        };
        MorphAnimation.prototype.play = function (animName, fps) {
            var geometry = this.entityObject.getComponent(wd.ModelGeometry);
            this.currentAnimName = animName;
            this.fps = fps;
            this.duration = 1.0 / fps * 1000;
            this.frameCount = geometry.morphTargets.getChild(animName).getCount();
            this.resetAnim();
            this.state = wd.EAnimationState.RUN;
        };
        MorphAnimation.prototype.handleWhenPause = function (elapsedTime) {
        };
        MorphAnimation.prototype.handleWhenCurrentFrameFinish = function (elapsedTime) {
            this.isFrameChange = true;
            this._prevFrameEndTime = wd.MathUtils.maxFloorIntegralMultiple((elapsedTime - this.pauseDuration), this.duration);
            this.currentFrame++;
            if (this._isFinishAllFrames()) {
                this.currentFrame = 0;
            }
        };
        MorphAnimation.prototype.handleBeforeJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
            if (this._prevFrameEndTime === null) {
                this._prevFrameEndTime = this.getCurrentTime();
            }
        };
        MorphAnimation.prototype.isCurrentFrameFinish = function (elapsedTime) {
            return elapsedTime - this._prevFrameEndTime - this.pauseDuration > this.duration;
        };
        MorphAnimation.prototype.handleAfterJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
            this._computeInterpolation(elapsedTime);
        };
        MorphAnimation.prototype.resetAnim = function () {
            this._prevFrameEndTime = null;
            this.currentFrame = 0;
            this.pauseDuration = 0;
        };
        MorphAnimation.prototype._computeInterpolation = function (elapsedTime) {
            this.interpolation = this.fps * (elapsedTime - this._prevFrameEndTime - this.pauseDuration) / 1000;
        };
        MorphAnimation.prototype._isFinishAllFrames = function () {
            return this.currentFrame >= this.frameCount;
        };
        __decorate([
            wd.require(function (animName, fps) {
                var geometry = this.entityObject.getComponent(wd.ModelGeometry);
                wd.assert(geometry, wd.Log.info.FUNC_SHOULD("this entityObject", "add ModelGeometry component"));
                wd.assert(geometry.morphTargets.getChild(animName) && geometry.morphTargets.getChild(animName).getCount() > 0, wd.Log.info.FUNC_NOT_EXIST("\"" + animName + "\" animation"));
            }),
            wd.ensure(function () {
                wd.assert(this.frameCount > 1, wd.Log.info.FUNC_SHOULD("frames.count", "> 1"));
            })
        ], MorphAnimation.prototype, "play", null);
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(elapsedTime - this._prevFrameEndTime - this.pauseDuration >= 0, wd.Log.info.FUNC_SHOULD("elapsedTime of current frame:" + (elapsedTime - this._prevFrameEndTime - this.pauseDuration), ">= 0"));
            })
        ], MorphAnimation.prototype, "isCurrentFrameFinish", null);
        __decorate([
            wd.ensure(function () {
                var interpolation = this.interpolation;
                wd.assert(interpolation >= 0 && interpolation <= 1, wd.Log.info.FUNC_SHOULD("interpolation(" + interpolation, ">= 0 && <= 1"));
            })
        ], MorphAnimation.prototype, "_computeInterpolation", null);
        return MorphAnimation;
    }(wd.Animation));
    wd.MorphAnimation = MorphAnimation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArticulatedAnimation = (function (_super) {
        __extends(ArticulatedAnimation, _super);
        function ArticulatedAnimation() {
            _super.apply(this, arguments);
            this.data = null;
            this._currentFrame = null;
            this._currentAnimName = null;
            this._beginElapsedTimeOfFirstFrame = null;
            this._prevFrameTime = null;
            this._currentAnimData = null;
            this._currentFrameData = null;
            this._prevFrameData = null;
            this._startFrameDataMap = wdCb.Hash.create();
        }
        ArticulatedAnimation.create = function () {
            var obj = new this();
            return obj;
        };
        ArticulatedAnimation.prototype.init = function () {
        };
        ArticulatedAnimation.prototype.dispose = function () {
        };
        ArticulatedAnimation.prototype.play = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (wd.JudgeUtils.isNumber(args[0])) {
                var animIndex_1 = args[0], i_1 = 0, self_9 = this;
                this.data.forEach(function (data, animName) {
                    if (animIndex_1 === i_1) {
                        self_9._currentAnimName = animName;
                        self_9._currentAnimData = data;
                        return wdCb.$BREAK;
                    }
                    i_1++;
                });
            }
            else if (wd.JudgeUtils.isString(args[0])) {
                var animName = args[0];
                this._currentAnimName = animName;
                this._currentAnimData = this.data.getChild(animName);
            }
            this.resetAnim();
            this._saveStartFrameData(this.entityObject.transform);
            this.frameCount = this._currentAnimData.getCount();
            this.state = wd.EAnimationState.RUN;
        };
        ArticulatedAnimation.prototype.handleWhenPause = function (elapsedTime) {
        };
        ArticulatedAnimation.prototype.handleWhenCurrentFrameFinish = function (elapsedTime) {
            this.isFrameChange = true;
            this._updateFrame(elapsedTime);
            this._saveStartFrameData(this._prevFrameData);
        };
        ArticulatedAnimation.prototype.handleBeforeJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
            if (this._beginElapsedTimeOfFirstFrame === null) {
                this._beginElapsedTimeOfFirstFrame = this.getCurrentTime();
            }
        };
        ArticulatedAnimation.prototype.isCurrentFrameFinish = function (elapsedTime) {
            return elapsedTime - this._beginElapsedTimeOfFirstFrame - this.pauseDuration > this._currentFrameData.time;
        };
        ArticulatedAnimation.prototype.handleAfterJudgeWhetherCurrentFrameFinish = function (elapsedTime) {
            this._updateTargets(elapsedTime);
        };
        ArticulatedAnimation.prototype.resetAnim = function () {
            this._beginElapsedTimeOfFirstFrame = null;
            this._prevFrameTime = 0;
            this.pauseDuration = 0;
            this._currentFrame = 0;
            this._prevFrameData = null;
            this._updateCurrentFrameData();
            this._startFrameDataMap.removeAllChildren();
        };
        ArticulatedAnimation.prototype._updateTargets = function (elapsedTime) {
            var self = this, transform = this.entityObject.transform, startFrameDataMap = this._startFrameDataMap;
            this._currentFrameData.targets.forEach(function (target) {
                var endFrameData = target.data, startFrameData = startFrameDataMap.getChild(target.target), interpolation = self._computeInterpolation(elapsedTime, target.interpolationMethod);
                switch (target.target) {
                    case wd.EArticulatedAnimationTarget.TRANSLATION:
                        transform.localPosition = wd.Vector3.create().lerp(startFrameData, endFrameData, interpolation);
                        break;
                    case wd.EArticulatedAnimationTarget.ROTATION:
                        transform.localRotation = wd.Quaternion.create().slerp(startFrameData, endFrameData, interpolation);
                        break;
                    case wd.EArticulatedAnimationTarget.SCALE:
                        transform.localScale = wd.Vector3.create().lerp(startFrameData, endFrameData, interpolation);
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target.target));
                        break;
                }
            });
        };
        ArticulatedAnimation.prototype._computeInterpolation = function (elapsedTime, interpolationMethod) {
            var interpolation = null;
            switch (interpolationMethod) {
                case wd.EKeyFrameInterpolation.LINEAR:
                    if (this._currentFrameData.time - this._prevFrameTime === 0) {
                        interpolation = 1;
                    }
                    else {
                        interpolation = (elapsedTime - this._beginElapsedTimeOfFirstFrame - this.pauseDuration - this._prevFrameTime) / (this._currentFrameData.time - this._prevFrameTime);
                    }
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("interpolationMethod:" + interpolationMethod));
                    break;
            }
            return interpolation;
        };
        ArticulatedAnimation.prototype._saveStartFrameData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var startFrameDataMap = this._startFrameDataMap;
            if (this._isFrameData(args[0])) {
                var frameData = args[0];
                frameData.targets.forEach(function (target) {
                    startFrameDataMap.addChild(target.target, target.data);
                });
            }
            else {
                var transform = args[0];
                startFrameDataMap.addChild(wd.EArticulatedAnimationTarget.TRANSLATION, transform.localPosition);
                startFrameDataMap.addChild(wd.EArticulatedAnimationTarget.ROTATION, transform.localRotation);
                startFrameDataMap.addChild(wd.EArticulatedAnimationTarget.SCALE, transform.localScale);
            }
        };
        ArticulatedAnimation.prototype._updateCurrentFrameData = function () {
            this._currentFrameData = this._currentAnimData.getChild(this._currentFrame);
        };
        ArticulatedAnimation.prototype._updateFrame = function (elapsedTime) {
            this._updateCurrentFrameIndex(elapsedTime);
            if (this._isFinishAllFrames()) {
                this._currentFrame = 0;
                this._beginElapsedTimeOfFirstFrame = this._getBeginElapsedTimeOfFirstFrameWhenFinishAllFrames(elapsedTime);
                this._prevFrameTime = 0;
                this._prevFrameData = this._currentAnimData.getChild(this.frameCount - 1);
                this._updateCurrentFrameData();
            }
            else {
                this._prevFrameTime = this._currentAnimData.getChild(this._currentFrame - 1).time;
            }
        };
        ArticulatedAnimation.prototype._getBeginElapsedTimeOfFirstFrameWhenFinishAllFrames = function (elapsedTime) {
            return wd.MathUtils.maxFloorIntegralMultiple(elapsedTime, this._currentAnimData.getChild(this.frameCount - 1).time);
        };
        ArticulatedAnimation.prototype._isFinishAllFrames = function () {
            return this._currentFrame >= this.frameCount;
        };
        ArticulatedAnimation.prototype._updateCurrentFrameIndex = function (elapsedTime) {
            do {
                this._currentFrame++;
                this._prevFrameData = this._currentFrameData;
                this._updateCurrentFrameData();
            } while (!this._isFinishAllFrames() && this.isCurrentFrameFinish(elapsedTime));
        };
        ArticulatedAnimation.prototype._isFrameData = function (data) {
            return data.time !== void 0 && data.targets !== void 0;
        };
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (wd.JudgeUtils.isNumber(args[0])) {
                    var animIndex = args[0];
                    wd.assert(this.data.getCount() >= animIndex + 1, wd.Log.info.FUNC_NOT_EXIST("animation index:" + animIndex));
                }
                else if (wd.JudgeUtils.isString(args[0])) {
                    var animName = args[0];
                    wd.assert(this.data.hasChild(animName), wd.Log.info.FUNC_NOT_EXIST("animation name:" + animName));
                }
            }),
            wd.ensure(function () {
                wd.assert(!!this._currentAnimData, wd.Log.info.FUNC_NOT_EXIST("animation name:" + this._currentAnimName));
                this._currentAnimData.forEach(function (data) {
                    wd.assert(data.time >= 0, wd.Log.info.FUNC_SHOULD("time", ">= 0"));
                    wd.assert(data.targets.getCount() > 0, wd.Log.info.FUNC_SHOULD("ArticulatedAnimationFrameData->targets.getCount()", "> 0"));
                    data.targets.forEach(function (target) {
                        var data = target.data;
                        switch (target.target) {
                            case wd.EArticulatedAnimationTarget.TRANSLATION:
                                wd.assert(data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget === TRANSLATION, its data", "Vector3"));
                                break;
                            case wd.EArticulatedAnimationTarget.ROTATION:
                                wd.assert(data instanceof wd.Quaternion, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget ===ROTATION, its data", "Quaternion"));
                                break;
                            case wd.EArticulatedAnimationTarget.SCALE:
                                wd.assert(data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("if target:EArticulatedAnimationTarget === SCALE, its data", "Vector3"));
                                break;
                            default:
                                wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("EArticulatedAnimationTarget:" + target.target));
                                break;
                        }
                    });
                });
            })
        ], ArticulatedAnimation.prototype, "play", null);
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(elapsedTime - this._beginElapsedTimeOfFirstFrame - this.pauseDuration >= 0, wd.Log.info.FUNC_SHOULD("elapsedTime of current frame:" + (elapsedTime - this._beginElapsedTimeOfFirstFrame - this.pauseDuration), ">= 0"));
            })
        ], ArticulatedAnimation.prototype, "isCurrentFrameFinish", null);
        __decorate([
            wd.ensure(function (interpolation, elapsedTime, interpolationMethod) {
                wd.assert(interpolation >= 0 && interpolation <= 1, wd.Log.info.FUNC_SHOULD("interpolation:" + interpolation, ">= 0 && <= 1"));
            })
        ], ArticulatedAnimation.prototype, "_computeInterpolation", null);
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                if (this._isFrameData(args[0])) {
                    var frameData_1 = args[0];
                    wd.assert(this._currentFrameData !== null, wd.Log.info.FUNC_SHOULD("set currentFrameData"));
                    this._currentFrameData.targets.forEach(function (currentTarget, index) {
                        wd.assert(frameData_1.targets.getChild(index).target === currentTarget.target, wd.Log.info.FUNC_SHOULD("the current frame and the start frame", "modify the same targets"));
                    });
                }
            })
        ], ArticulatedAnimation.prototype, "_saveStartFrameData", null);
        __decorate([
            wd.require(function (elapsedTime) {
                var lastEndFrameTime = this._currentAnimData.getChild(this.frameCount - 1).time;
                wd.assert(elapsedTime >= lastEndFrameTime, wd.Log.info.FUNC_SHOULD("elapsedTime:" + elapsedTime, ">= lastEndFrameTime:" + lastEndFrameTime));
            })
        ], ArticulatedAnimation.prototype, "_getBeginElapsedTimeOfFirstFrameWhenFinishAllFrames", null);
        return ArticulatedAnimation;
    }(wd.Animation));
    wd.ArticulatedAnimation = ArticulatedAnimation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EKeyFrameInterpolation) {
        EKeyFrameInterpolation[EKeyFrameInterpolation["LINEAR"] = 0] = "LINEAR";
    })(wd.EKeyFrameInterpolation || (wd.EKeyFrameInterpolation = {}));
    var EKeyFrameInterpolation = wd.EKeyFrameInterpolation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EArticulatedAnimationTarget) {
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["TRANSLATION"] = "position"] = "TRANSLATION";
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["ROTATION"] = "rotation"] = "ROTATION";
        EArticulatedAnimationTarget[EArticulatedAnimationTarget["SCALE"] = "scale"] = "SCALE";
    })(wd.EArticulatedAnimationTarget || (wd.EArticulatedAnimationTarget = {}));
    var EArticulatedAnimationTarget = wd.EArticulatedAnimationTarget;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Geometry = (function (_super) {
        __extends(Geometry, _super);
        function Geometry() {
            _super.apply(this, arguments);
            this._material = null;
            this.buffers = null;
            this.drawMode = wd.EDrawMode.TRIANGLES;
        }
        Object.defineProperty(Geometry.prototype, "material", {
            get: function () {
                return this._material;
            },
            set: function (material) {
                if (!wd.JudgeUtils.isEqual(material, this._material)) {
                    this._material = material;
                    this._material.geometry = this;
                    if (this.entityObject) {
                        wd.EventManager.trigger(this.entityObject, wd.CustomEvent.create(wd.EEngineEvent.MATERIAL_CHANGE));
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Geometry.prototype, "geometryData", {
            get: function () {
                return this.buffers.geometryData;
            },
            enumerable: true,
            configurable: true
        });
        Geometry.prototype.init = function () {
            var geometryData = null, _a = this.computeData(), vertices = _a.vertices, faces = _a.faces, texCoords = _a.texCoords, colors = _a.colors, morphTargets = _a.morphTargets;
            this.buffers = this.createBufferContainer();
            geometryData = this.createGeometryData(vertices, faces, texCoords, colors, morphTargets);
            this.buffers.geometryData = geometryData;
            this.buffers.init();
            this._material.init();
            this.computeNormals();
        };
        Geometry.prototype.hasFaceNormals = function () {
            return this.buffers.geometryData.hasFaceNormals();
        };
        Geometry.prototype.hasVertexNormals = function () {
            return this.buffers.geometryData.hasVertexNormals();
        };
        Geometry.prototype.isSmoothShading = function () {
            return this._material.shading === wd.EShading.SMOOTH;
        };
        Geometry.prototype.dispose = function () {
            this.buffers.dispose();
            this._material.dispose();
        };
        Geometry.prototype.computeFaceNormals = function () {
            this.buffers.geometryData.computeFaceNormals();
        };
        Geometry.prototype.computeVertexNormals = function () {
            this.buffers.geometryData.computeVertexNormals();
        };
        Geometry.prototype.createBuffersFromGeometryData = function () {
            this.buffers.createBuffersFromGeometryData();
        };
        Geometry.prototype.computeNormals = function () {
            if (this.isSmoothShading()) {
                if (!this.hasVertexNormals()) {
                    this.computeVertexNormals();
                }
            }
            else {
                if (!this.hasFaceNormals()) {
                    this.computeFaceNormals();
                }
            }
        };
        Geometry.prototype.createBufferContainer = function () {
            return wd.CommonBufferContainer.create(this.entityObject);
        };
        Geometry.prototype.createGeometryData = function (vertices, faces, texCoords, colors, morphTargets) {
            return this.createCommonGeometryData(vertices, faces, texCoords, colors);
        };
        Geometry.prototype.createCommonGeometryData = function (vertices, faces, texCoords, colors) {
            var geometryData = wd.CommonGeometryData.create(this);
            geometryData.vertices = vertices;
            geometryData.faces = faces;
            geometryData.texCoords = texCoords;
            geometryData.colors = colors;
            return geometryData;
        };
        __decorate([
            wd.ensure(function () {
                var geometryData = this.buffers.geometryData;
                wd.assert(geometryData.vertices.length > 0, wd.Log.info.FUNC_MUST("vertices.count", "> 0"));
                wd.assert(geometryData.faces.length * 3 === geometryData.indices.length, wd.Log.info.FUNC_SHOULD("faces.count", "be " + geometryData.indices.length / 3 + ", but actual is " + geometryData.faces.length));
            })
        ], Geometry.prototype, "init", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "hasFaceNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "hasVertexNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], Geometry.prototype, "computeFaceNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!this.buffers, wd.Log.info.FUNC_NOT_EXIST("buffers"));
            })
        ], Geometry.prototype, "createBuffersFromGeometryData", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "computeNormals", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "createBufferContainer", null);
        __decorate([
            wd.virtual
        ], Geometry.prototype, "createGeometryData", null);
        return Geometry;
    }(wd.Component));
    wd.Geometry = Geometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GeometryUtils = (function () {
        function GeometryUtils() {
        }
        GeometryUtils.convertToFaces = function (indices, normals) {
            var hasNormals = this.hasData(normals), faces = [];
            for (var i = 0, len = indices.length; i < len; i += 3) {
                var a = indices[i], b = indices[i + 1], c = indices[i + 2], face = wd.Face3.create(a, b, c);
                if (hasNormals) {
                    face.vertexNormals.addChildren([
                        this.getThreeComponent(normals, a),
                        this.getThreeComponent(normals, b),
                        this.getThreeComponent(normals, c)
                    ]);
                    face.faceNormal = face.vertexNormals.getChild(0).copy();
                }
                faces.push(face);
            }
            return faces;
        };
        GeometryUtils.hasData = function (data) {
            return data && ((data.length && data.length > 0) || (data.getCount && data.getCount() > 0));
        };
        GeometryUtils.getThreeComponent = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        GeometryUtils.iterateThreeComponent = function (dataArr, iterator) {
            for (var i = 0, len = dataArr.length; i < len; i += 3) {
                iterator(wd.Vector3.create(dataArr[i], dataArr[i + 1], dataArr[i + 2]));
            }
        };
        GeometryUtils.setThreeComponent = function (targetData, sourceData, index) {
            if (sourceData instanceof wd.Vector3) {
                targetData[index * 3] = sourceData.x;
                targetData[index * 3 + 1] = sourceData.y;
                targetData[index * 3 + 2] = sourceData.z;
            }
            else {
                targetData[index * 3] = sourceData[0];
                targetData[index * 3 + 1] = sourceData[1];
                targetData[index * 3 + 2] = sourceData[2];
            }
        };
        __decorate([
            wd.require(function (data) {
                if (data) {
                    wd.assert(data instanceof wdCb.Collection || data instanceof wdCb.Hash || wd.JudgeUtils.isArrayExactly(data), wd.Log.info.FUNC_SHOULD("data", "be Array or Collection or Hash"));
                }
            })
        ], GeometryUtils, "hasData", null);
        __decorate([
            wd.require(function (dataArr, iterator) {
                wd.assert(dataArr.length % 3 === 0, wd.Log.info.FUNC_SHOULD("dataArr.length", "times of three"));
            })
        ], GeometryUtils, "iterateThreeComponent", null);
        return GeometryUtils;
    }());
    wd.GeometryUtils = GeometryUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomGeometry = (function (_super) {
        __extends(CustomGeometry, _super);
        function CustomGeometry() {
            _super.apply(this, arguments);
            this._vertices = [];
            this._texCoords = [];
            this._colors = [];
            this._indices = [];
            this._normals = [];
        }
        CustomGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        Object.defineProperty(CustomGeometry.prototype, "vertices", {
            get: function () {
                return this._vertices;
            },
            set: function (vertices) {
                this._vertices = vertices;
                if (this.buffers) {
                    this.buffers.geometryData.vertices = vertices;
                    this.buffers.removeCache(wd.EBufferDataType.VERTICE);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "texCoords", {
            get: function () {
                return this._texCoords;
            },
            set: function (texCoords) {
                this._texCoords = texCoords;
                if (this.buffers) {
                    this.buffers.geometryData.texCoords = texCoords;
                    this.buffers.removeCache(wd.EBufferDataType.TEXCOORD);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "colors", {
            get: function () {
                return this._colors;
            },
            set: function (colors) {
                this._colors = colors;
                if (this.buffers) {
                    this.buffers.geometryData.colors = colors;
                    this.buffers.removeCache(wd.EBufferDataType.COLOR);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "indices", {
            get: function () {
                return this._indices;
            },
            set: function (indices) {
                this._indices = indices;
                if (this.buffers) {
                    this.buffers.geometryData.faces = wd.GeometryUtils.convertToFaces(indices, this.normals);
                    this.buffers.removeCache(wd.EBufferDataType.INDICE);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CustomGeometry.prototype, "normals", {
            get: function () {
                return this._normals;
            },
            set: function (normals) {
                this._normals = normals;
                if (this.buffers) {
                    this.buffers.geometryData.faces = wd.GeometryUtils.convertToFaces(this.indices, normals);
                    this.buffers.removeCache(wd.EBufferDataType.NORMAL);
                }
            },
            enumerable: true,
            configurable: true
        });
        CustomGeometry.prototype.computeData = function () {
            return {
                vertices: this.vertices,
                faces: wd.GeometryUtils.convertToFaces(this.indices, this.normals),
                texCoords: this.texCoords,
                colors: this.colors
            };
        };
        return CustomGeometry;
    }(wd.Geometry));
    wd.CustomGeometry = CustomGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ModelGeometry = (function (_super) {
        __extends(ModelGeometry, _super);
        function ModelGeometry() {
            _super.apply(this, arguments);
            this.vertices = null;
            this.colors = null;
            this.texCoords = null;
            this.faces = null;
            this.morphTargets = null;
            this.morphFaceNormals = wdCb.Hash.create();
            this.morphVertexNormals = wdCb.Hash.create();
        }
        ModelGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        ModelGeometry.prototype.hasAnimation = function () {
            return this._hasMorphTargets() && (this.entityObject && this.entityObject.hasComponent(wd.MorphAnimation));
        };
        ModelGeometry.prototype.hasMorphFaceNormals = function () {
            return this.buffers.geometryData.hasMorphFaceNormals();
        };
        ModelGeometry.prototype.hasMorphVertexNormals = function () {
            return this.buffers.geometryData.hasMorphVertexNormals();
        };
        ModelGeometry.prototype.computeMorphNormals = function () {
            this.buffers.geometryData.computeMorphNormals();
        };
        ModelGeometry.prototype.computeNormals = function () {
            _super.prototype.computeNormals.call(this);
            if (this._hasMorphTargets()) {
                if (this.isSmoothShading()) {
                    if (!this.hasMorphVertexNormals()) {
                        this.computeMorphNormals();
                    }
                }
                else {
                    if (!this.hasMorphFaceNormals()) {
                        this.computeMorphNormals();
                    }
                }
            }
        };
        ModelGeometry.prototype.computeData = function () {
            return {
                vertices: this.vertices,
                faces: this.faces,
                texCoords: this.texCoords,
                colors: this.colors,
                morphTargets: this.morphTargets
            };
        };
        ModelGeometry.prototype.createBufferContainer = function () {
            if (this.hasAnimation()) {
                return wd.MorphBufferContainer.create(this.entityObject, this.entityObject.getComponent(wd.MorphAnimation));
            }
            return wd.CommonBufferContainer.create(this.entityObject);
        };
        ModelGeometry.prototype.createGeometryData = function (vertices, faces, texCoords, colors, morphTargets) {
            if (this.hasAnimation()) {
                var geometryData = wd.MorphGeometryData.create(this);
                geometryData.vertices = vertices;
                geometryData.faces = faces;
                geometryData.texCoords = texCoords;
                geometryData.colors = colors;
                geometryData.morphTargets = morphTargets;
                return geometryData;
            }
            return this.createCommonGeometryData(vertices, faces, texCoords, colors);
        };
        ModelGeometry.prototype._hasMorphTargets = function () {
            return this.morphTargets && this.morphTargets.getCount() > 0;
        };
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "hasMorphFaceNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "hasMorphVertexNormals", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.buffers && this.buffers.geometryData, wd.Log.info.FUNC_MUST_DEFINE("buffers->geometryData"));
            })
        ], ModelGeometry.prototype, "computeMorphNormals", null);
        __decorate([
            wd.require(function () {
                if (this.hasAnimation()) {
                    wd.assert(this.entityObject.getComponent(wd.MorphAnimation), wd.Log.info.FUNC_SHOULD("entityObject with ModelGeometry", "add MorphAnimation component"));
                }
            })
        ], ModelGeometry.prototype, "createBufferContainer", null);
        return ModelGeometry;
    }(wd.Geometry));
    wd.ModelGeometry = ModelGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxGeometry = (function (_super) {
        __extends(BoxGeometry, _super);
        function BoxGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
            this.depth = null;
            this.widthSegments = 1;
            this.heightSegments = 1;
            this.depthSegments = 1;
        }
        BoxGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        BoxGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, depth = this.depth, widthSegments = this.widthSegments, heightSegments = this.heightSegments, depthSegments = this.depthSegments, sides = {
                FRONT: 0,
                BACK: 1,
                TOP: 2,
                BOTTOM: 3,
                RIGHT: 4,
                LEFT: 5
            };
            var faceAxes = [
                [0, 1, 3],
                [4, 5, 7],
                [3, 2, 6],
                [1, 0, 4],
                [1, 4, 2],
                [5, 0, 6]
            ];
            var faceNormals = [
                [0, 0, 1],
                [0, 0, -1],
                [0, 1, 0],
                [0, -1, 0],
                [1, 0, 0],
                [-1, 0, 0]
            ];
            var corners = [
                wd.Vector3.create(-width, -height, depth),
                wd.Vector3.create(width, -height, depth),
                wd.Vector3.create(width, height, depth),
                wd.Vector3.create(-width, height, depth),
                wd.Vector3.create(width, -height, -depth),
                wd.Vector3.create(-width, -height, -depth),
                wd.Vector3.create(-width, height, -depth),
                wd.Vector3.create(width, height, -depth)
            ];
            var vertices = [];
            var normals = [];
            var texCoords = [];
            var indices = [];
            function generateFace(side, uSegments, vSegments) {
                var x, y, z, u, v;
                var i, j;
                var offset = vertices.length / 3;
                for (i = 0; i <= uSegments; i++) {
                    for (j = 0; j <= vSegments; j++) {
                        var temp1 = wd.Vector3.create();
                        var temp2 = wd.Vector3.create();
                        var temp3 = wd.Vector3.create();
                        var r = wd.Vector3.create();
                        temp1.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][1]], i / uSegments);
                        temp2.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][2]], j / vSegments);
                        temp3.sub2(temp2, corners[faceAxes[side][0]]);
                        r.add2(temp1, temp3);
                        u = i / uSegments;
                        v = j / vSegments;
                        vertices.push(r.x, r.y, r.z);
                        normals.push(faceNormals[side][0], faceNormals[side][1], faceNormals[side][2]);
                        texCoords.push(u, v);
                        if ((i < uSegments) && (j < vSegments)) {
                            indices.push(offset + j + i * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1), offset + j + i * (uSegments + 1) + 1);
                            indices.push(offset + j + (i + 1) * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1) + 1, offset + j + i * (uSegments + 1) + 1);
                        }
                    }
                }
            }
            generateFace(sides.FRONT, widthSegments, heightSegments);
            generateFace(sides.BACK, widthSegments, heightSegments);
            generateFace(sides.TOP, widthSegments, depthSegments);
            generateFace(sides.BOTTOM, widthSegments, depthSegments);
            generateFace(sides.RIGHT, depthSegments, heightSegments);
            generateFace(sides.LEFT, depthSegments, heightSegments);
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return BoxGeometry;
    }(wd.Geometry));
    wd.BoxGeometry = BoxGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectGeometry = (function (_super) {
        __extends(RectGeometry, _super);
        function RectGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
        }
        RectGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        RectGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, left = -width / 2, right = width / 2, up = height / 2, down = -height / 2, vertices = [], texCoords = [], indices = [], normals = [];
            vertices = [
                right, up, 0,
                left, up, 0,
                left, down, 0,
                right, down, 0
            ];
            indices = [
                0, 1, 2, 0, 2, 3
            ];
            texCoords = [
                1.0, 1.0,
                0.0, 1.0,
                0.0, 0.0,
                1.0, 0.0
            ];
            normals = [
                0, 0, 1,
                0, 0, 1,
                0, 0, 1,
                0, 0, 1
            ];
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return RectGeometry;
    }(wd.Geometry));
    wd.RectGeometry = RectGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PlaneGeometry = (function (_super) {
        __extends(PlaneGeometry, _super);
        function PlaneGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
            this.widthSegments = 1;
            this.heightSegments = 1;
        }
        PlaneGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        PlaneGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, widthSegments = this.widthSegments, heightSegments = this.heightSegments, x = null, y = null, z = null, u = null, v = null, i = null, j = null, vertices = [], texCoords = [], normals = [], indices = [];
            for (i = 0; i <= widthSegments; i++) {
                for (j = 0; j <= heightSegments; j++) {
                    x = -width + 2.0 * width * i / widthSegments;
                    y = 0.0;
                    z = -(-height + 2.0 * height * j / heightSegments);
                    u = i / widthSegments;
                    v = j / heightSegments;
                    vertices.push(x, y, z);
                    normals.push(0.0, 1.0, 0.0);
                    texCoords.push(u, v);
                    if ((i < widthSegments) && (j < heightSegments)) {
                        indices.push(j + i * (widthSegments + 1), j + (i + 1) * (widthSegments + 1), j + i * (widthSegments + 1) + 1);
                        indices.push(j + (i + 1) * (widthSegments + 1), j + (i + 1) * (widthSegments + 1) + 1, j + i * (widthSegments + 1) + 1);
                    }
                }
            }
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return PlaneGeometry;
    }(wd.Geometry));
    wd.PlaneGeometry = PlaneGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ESphereDrawMode) {
        ESphereDrawMode[ESphereDrawMode["LATITUDELONGTITUDE"] = 0] = "LATITUDELONGTITUDE";
    })(wd.ESphereDrawMode || (wd.ESphereDrawMode = {}));
    var ESphereDrawMode = wd.ESphereDrawMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereGeometry = (function (_super) {
        __extends(SphereGeometry, _super);
        function SphereGeometry() {
            _super.apply(this, arguments);
            this.radius = 1;
            this.sphereDrawMode = wd.ESphereDrawMode.LATITUDELONGTITUDE;
            this.segments = 20;
        }
        SphereGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        SphereGeometry.prototype.computeData = function () {
            var radius = this.radius, sphereDrawMode = this.sphereDrawMode, segments = this.segments, data = null;
            if (sphereDrawMode === wd.ESphereDrawMode.LATITUDELONGTITUDE) {
                var _a = GetDataByLatitudeLongtitude.create(radius, segments).getData(), vertices = _a.vertices, indices = _a.indices, normals = _a.normals, texCoords = _a.texCoords;
                return {
                    vertices: vertices,
                    faces: wd.GeometryUtils.convertToFaces(indices, normals),
                    texCoords: texCoords
                };
            }
            return data;
        };
        return SphereGeometry;
    }(wd.Geometry));
    wd.SphereGeometry = SphereGeometry;
    var GetDataByLatitudeLongtitude = (function () {
        function GetDataByLatitudeLongtitude(radius, bands) {
            this._radius = null;
            this._latitudeBands = null;
            this._longitudeBands = null;
            this._radius = radius;
            this._latitudeBands = bands;
            this._longitudeBands = bands;
        }
        GetDataByLatitudeLongtitude.create = function (radius, bands) {
            var geom = new this(radius, bands);
            return geom;
        };
        GetDataByLatitudeLongtitude.prototype.getData = function () {
            var vertices = [];
            var normals = [];
            var texCoords = [];
            var indices = [];
            for (var latNumber = 0; latNumber <= this._latitudeBands; latNumber++) {
                var theta = latNumber * Math.PI / this._latitudeBands;
                var sinTheta = Math.sin(theta);
                var cosTheta = Math.cos(theta);
                for (var longNumber = 0; longNumber <= this._longitudeBands; longNumber++) {
                    var phi = longNumber * 2 * Math.PI / this._longitudeBands;
                    var sinPhi = Math.sin(phi);
                    var cosPhi = Math.cos(phi);
                    var x = this._radius * cosPhi * sinTheta;
                    var y = this._radius * cosTheta;
                    var z = this._radius * sinPhi * sinTheta;
                    var u = 1 - (longNumber / this._longitudeBands);
                    var v = 1 - (latNumber / this._latitudeBands);
                    normals.push(x);
                    normals.push(y);
                    normals.push(z);
                    texCoords.push(u);
                    texCoords.push(v);
                    vertices.push(x);
                    vertices.push(y);
                    vertices.push(z);
                }
            }
            for (var latNumber = 0; latNumber < this._latitudeBands; latNumber++) {
                for (var longNumber = 0; longNumber < this._longitudeBands; longNumber++) {
                    var first = latNumber * (this._longitudeBands + 1) + longNumber;
                    var second = first + this._longitudeBands + 1;
                    indices.push(first + 1);
                    indices.push(second);
                    indices.push(first);
                    indices.push(first + 1);
                    indices.push(second + 1);
                    indices.push(second);
                }
            }
            return {
                vertices: vertices,
                indices: indices,
                normals: normals,
                texCoords: texCoords
            };
        };
        return GetDataByLatitudeLongtitude;
    }());
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TriangleGeometry = (function (_super) {
        __extends(TriangleGeometry, _super);
        function TriangleGeometry() {
            _super.apply(this, arguments);
            this.width = null;
            this.height = null;
        }
        TriangleGeometry.create = function () {
            var geom = new this();
            return geom;
        };
        TriangleGeometry.prototype.computeData = function () {
            var width = this.width, height = this.height, left = -width / 2, right = width / 2, up = height / 2, down = -height / 2, vertices = [], texCoords = [], indices = [], normals = [];
            vertices = [
                0.0, up, 0,
                left, down, 0,
                right, down, 0
            ];
            indices = [
                0, 1, 2
            ];
            texCoords = [
                0.5, 1.0,
                0.0, 0.0,
                1.0, 0.0
            ];
            normals = [
                0, 0, 1,
                0, 0, 1,
                0, 0, 1
            ];
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(indices, normals),
                texCoords: texCoords
            };
        };
        return TriangleGeometry;
    }(wd.Geometry));
    wd.TriangleGeometry = TriangleGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TerrainGeometry = (function (_super) {
        __extends(TerrainGeometry, _super);
        function TerrainGeometry() {
            _super.apply(this, arguments);
            this.subdivisions = 1;
            this.range = {
                width: 10,
                height: 10
            };
            this.minHeight = 0;
            this.maxHeight = 10;
            this.heightMapAsset = null;
        }
        TerrainGeometry.create = function () {
            var obj = new this();
            return obj;
        };
        TerrainGeometry.prototype.computeData = function () {
            var image = this.heightMapAsset.source, bufferWidth = image.width, bufferHeight = image.height;
            return this._createGroundFromHeightMap(this._readHeightMapData(image, bufferWidth, bufferHeight), bufferWidth, bufferHeight);
        };
        TerrainGeometry.prototype._readHeightMapData = function (image, bufferWidth, bufferHeight) {
            var canvas = document.createElement("canvas"), context = canvas.getContext("2d");
            canvas.width = bufferWidth;
            canvas.height = bufferHeight;
            context.drawImage(image, 0, 0);
            return context.getImageData(0, 0, bufferWidth, bufferHeight).data;
        };
        TerrainGeometry.prototype._createGroundFromHeightMap = function (buffer, bufferWidth, bufferHeight) {
            var vertices = [], normals = [], texCoords = [], subdivisions = this.subdivisions, width = this.range.width, height = this.range.height;
            for (var row = 0; row <= subdivisions; row++) {
                for (var col = 0; col <= subdivisions; col++) {
                    var x = (col * width) / subdivisions - (width / 2.0), z = ((subdivisions - row) * height) / subdivisions - (height / 2.0);
                    vertices.push(x, this._getHeight(x, z, buffer, bufferWidth, bufferHeight), z);
                    texCoords.push(col / subdivisions, 1.0 - row / subdivisions);
                }
            }
            return {
                vertices: vertices,
                faces: wd.GeometryUtils.convertToFaces(this._getIndices(), normals),
                texCoords: texCoords
            };
        };
        TerrainGeometry.prototype._getHeight = function (x, z, buffer, bufferWidth, bufferHeight) {
            var width = this.range.width, height = this.range.height, heightMapX = (((x + width / 2) / width) * (bufferWidth - 1)) | 0, heightMapY = ((1.0 - (z + height / 2) / height) * (bufferHeight - 1)) | 0, pos = (heightMapX + heightMapY * bufferWidth) * 4, r = buffer[pos] / 255.0, g = buffer[pos + 1] / 255.0, b = buffer[pos + 2] / 255.0, gradient = r * 0.3 + g * 0.59 + b * 0.11, minHeight = this.minHeight, maxHeight = this.maxHeight;
            return minHeight + (maxHeight - minHeight) * gradient;
        };
        TerrainGeometry.prototype._getIndices = function () {
            var indices = [], subdivisions = this.subdivisions;
            for (var row = 0; row < subdivisions; row++) {
                for (var col = 0; col < subdivisions; col++) {
                    indices.push(col + row * (subdivisions + 1));
                    indices.push(col + 1 + row * (subdivisions + 1));
                    indices.push(col + 1 + (row + 1) * (subdivisions + 1));
                    indices.push(col + row * (subdivisions + 1));
                    indices.push(col + 1 + (row + 1) * (subdivisions + 1));
                    indices.push(col + (row + 1) * (subdivisions + 1));
                }
            }
            return indices;
        };
        return TerrainGeometry;
    }(wd.Geometry));
    wd.TerrainGeometry = TerrainGeometry;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GeometryData = (function () {
        function GeometryData(geometry) {
            this._vertices = null;
            this._faces = null;
            this._texCoords = null;
            this._colors = null;
            this._tangents = null;
            this.tangentDirty = true;
            this.colorDirty = true;
            this.geometry = null;
            this._normalCache = null;
            this._normalFromFaceCache = null;
            this._normalFromVertexCache = null;
            this._indiceCache = null;
            this._colorCache = null;
            this._normalDirty = true;
            this._indiceDirty = true;
            this._materialColorChangeSubscription = null;
            this.geometry = geometry;
        }
        Object.defineProperty(GeometryData.prototype, "vertices", {
            get: function () {
                return this._vertices;
            },
            set: function (vertices) {
                this._vertices = vertices;
                this.tangentDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normals", {
            get: function () {
                var geometry = this.geometry;
                if (geometry.isSmoothShading()) {
                    if (!this.hasVertexNormals()) {
                        this.computeVertexNormals();
                    }
                    return this.normalsFromVertexNormals;
                }
                if (!this.hasFaceNormals()) {
                    this.computeFaceNormals();
                }
                return this.normalsFromFaceNormal;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normalsFromFaceNormal", {
            get: function () {
                var normals = null;
                if (!this.hasFaceNormals()) {
                    return [];
                }
                normals = [];
                this._faces.forEach(function (face) {
                    var normal = face.faceNormal;
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.aIndex);
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.bIndex);
                    wd.GeometryUtils.setThreeComponent(normals, normal, face.cIndex);
                });
                this._fillEmptyData(normals);
                return normals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "normalsFromVertexNormals", {
            get: function () {
                var normals = null;
                if (!this.hasVertexNormals()) {
                    return [];
                }
                normals = [];
                this._faces.forEach(function (face) {
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(0), face.aIndex);
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(1), face.bIndex);
                    wd.GeometryUtils.setThreeComponent(normals, face.vertexNormals.getChild(2), face.cIndex);
                });
                this._fillEmptyData(normals);
                return normals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "indices", {
            get: function () {
                var indices = [];
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    indices.push(face.aIndex, face.bIndex, face.cIndex);
                }
                return indices;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "faces", {
            get: function () {
                return this._faces;
            },
            set: function (faces) {
                this._faces = faces;
                this.onChangeFace();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "texCoords", {
            get: function () {
                return this._texCoords;
            },
            set: function (texCoords) {
                this._texCoords = texCoords;
                this.tangentDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "colors", {
            get: function () {
                if (this._needGetColorsFromMaterial()) {
                    return this._getColorsFromMaterial(this._vertices);
                }
                return this._colors;
            },
            set: function (colors) {
                this._colors = colors;
                this.colorDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GeometryData.prototype, "tangents", {
            get: function () {
                if (this.tangentDirty) {
                    this.tangentDirty = false;
                    if (wd.GeometryUtils.hasData(this.normals) && wd.GeometryUtils.hasData(this.texCoords) && wd.GeometryUtils.hasData(this.indices)) {
                        this._tangents = this._calculateTangents(this._vertices, this.normals, this.texCoords, this.indices);
                    }
                }
                return this._tangents;
            },
            enumerable: true,
            configurable: true
        });
        GeometryData.prototype.init = function () {
            var self = this;
            this._materialColorChangeSubscription =
                wdFrp.fromArray([
                    wd.EventManager.fromEvent(this.geometry.entityObject, wd.EEngineEvent.MATERIAL_COLOR_CHANGE),
                    wd.EventManager.fromEvent(this.geometry.entityObject, wd.EEngineEvent.MATERIAL_CHANGE)
                ])
                    .subscribe(function () {
                    if (self._needGetColorsFromMaterial()) {
                        self.colorDirty = true;
                    }
                });
        };
        GeometryData.prototype.dispose = function () {
            this._materialColorChangeSubscription && this._materialColorChangeSubscription.dispose();
        };
        GeometryData.prototype.computeFaceNormals = function () {
            var vertices = this._vertices;
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                face.faceNormal = this.computeFaceNormalsHelper(vertices, face.aIndex, face.bIndex, face.cIndex);
            }
        };
        GeometryData.prototype.computeVertexNormals = function () {
            var normals = null;
            if (!this.hasFaceNormals()) {
                this.computeFaceNormals();
            }
            normals = this.computeVertexNormalsHelper(this._vertices);
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                face.vertexNormals = wdCb.Collection.create([
                    normals[face.aIndex],
                    normals[face.bIndex],
                    normals[face.cIndex]
                ]);
            }
        };
        GeometryData.prototype.hasFaceNormals = function () {
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                if (!face.hasFaceNormal()) {
                    return false;
                }
            }
            return true;
        };
        GeometryData.prototype.hasVertexNormals = function () {
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                if (!face.hasVertexNormal()) {
                    return false;
                }
            }
            return true;
        };
        GeometryData.prototype.onChangeFace = function () {
            this.tangentDirty = true;
            this._normalDirty = true;
            this._indiceDirty = true;
        };
        GeometryData.prototype.computeFaceNormalsHelper = function (vertices, aIndex, bIndex, cIndex) {
            var p0 = wd.GeometryUtils.getThreeComponent(vertices, aIndex), p1 = wd.GeometryUtils.getThreeComponent(vertices, bIndex), p2 = wd.GeometryUtils.getThreeComponent(vertices, cIndex), v0 = wd.Vector3.create().sub2(p2, p1), v1 = wd.Vector3.create().sub2(p0, p1);
            return wd.Vector3.create().cross(v0, v1).normalize();
        };
        GeometryData.prototype.computeVertexNormalsHelper = function (vertices) {
            var vl = vertices.length / 3, normals = null;
            normals = new Array(vl);
            for (var v = 0; v < vl; v++) {
                normals[v] = wd.Vector3.create();
            }
            for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                var face = _a[_i];
                var faceNormal = null;
                faceNormal = face.faceNormal;
                normals[face.aIndex].add(faceNormal);
                normals[face.bIndex].add(faceNormal);
                normals[face.cIndex].add(faceNormal);
            }
            for (var v = 0; v < vl; v++) {
                normals[v].normalize();
            }
            return normals;
        };
        GeometryData.prototype._getColorsFromMaterial = function (vertices) {
            var arr = [], i = 0, color = this.geometry.material.color, r = color.r, g = color.g, b = color.b, len = null;
            len = vertices.length / 3;
            for (i = 0; i < len; i++) {
                arr.push(r, g, b);
            }
            return arr;
        };
        GeometryData.prototype._fillEmptyData = function (data) {
            for (var i = 0, len = data.length; i < len; i++) {
                if (isNaN(data[i])) {
                    data[i] = 0;
                }
            }
        };
        GeometryData.prototype._calculateTangents = function (vertices, normals, texCoords, indices) {
            var triangleCount = indices.length / 3, vertexCount = vertices.length / 3, i1, i2, i3, x1, x2, y1, y2, z1, z2, s1, s2, t1, t2, r, sdir = wd.Vector3.create(), tdir = wd.Vector3.create(), v1 = wd.Vector3.create(), v2 = wd.Vector3.create(), v3 = wd.Vector3.create(), w1 = wd.Vector2.create(), w2 = wd.Vector2.create(), w3 = wd.Vector2.create(), i, tan1 = new Float32Array(vertexCount * 3), tan2 = new Float32Array(vertexCount * 3), n = wd.Vector3.create(), temp = wd.Vector3.create(), tangents = [];
            for (i = 0; i < triangleCount; i++) {
                i1 = indices[i * 3];
                i2 = indices[i * 3 + 1];
                i3 = indices[i * 3 + 2];
                v1.set(vertices[i1 * 3], vertices[i1 * 3 + 1], vertices[i1 * 3 + 2]);
                v2.set(vertices[i2 * 3], vertices[i2 * 3 + 1], vertices[i2 * 3 + 2]);
                v3.set(vertices[i3 * 3], vertices[i3 * 3 + 1], vertices[i3 * 3 + 2]);
                w1.set(texCoords[i1 * 2], texCoords[i1 * 2 + 1]);
                w2.set(texCoords[i2 * 2], texCoords[i2 * 2 + 1]);
                w3.set(texCoords[i3 * 2], texCoords[i3 * 2 + 1]);
                x1 = v2.x - v1.x;
                x2 = v3.x - v1.x;
                y1 = v2.y - v1.y;
                y2 = v3.y - v1.y;
                z1 = v2.z - v1.z;
                z2 = v3.z - v1.z;
                s1 = w2.x - w1.x;
                s2 = w3.x - w1.x;
                t1 = w2.y - w1.y;
                t2 = w3.y - w1.y;
                r = 1.0 / (s1 * t2 - s2 * t1);
                sdir.set((t2 * x1 - t1 * x2) * r, (t2 * y1 - t1 * y2) * r, (t2 * z1 - t1 * z2) * r);
                tdir.set((s1 * x2 - s2 * x1) * r, (s1 * y2 - s2 * y1) * r, (s1 * z2 - s2 * z1) * r);
                tan1[i1 * 3 + 0] += sdir.x;
                tan1[i1 * 3 + 1] += sdir.y;
                tan1[i1 * 3 + 2] += sdir.z;
                tan1[i2 * 3 + 0] += sdir.x;
                tan1[i2 * 3 + 1] += sdir.y;
                tan1[i2 * 3 + 2] += sdir.z;
                tan1[i3 * 3 + 0] += sdir.x;
                tan1[i3 * 3 + 1] += sdir.y;
                tan1[i3 * 3 + 2] += sdir.z;
                tan2[i1 * 3 + 0] += tdir.x;
                tan2[i1 * 3 + 1] += tdir.y;
                tan2[i1 * 3 + 2] += tdir.z;
                tan2[i2 * 3 + 0] += tdir.x;
                tan2[i2 * 3 + 1] += tdir.y;
                tan2[i2 * 3 + 2] += tdir.z;
                tan2[i3 * 3 + 0] += tdir.x;
                tan2[i3 * 3 + 1] += tdir.y;
                tan2[i3 * 3 + 2] += tdir.z;
            }
            t1 = wd.Vector3.create();
            t2 = wd.Vector3.create();
            for (i = 0; i < vertexCount; i++) {
                var ndott = null;
                n.set(normals[i * 3], normals[i * 3 + 1], normals[i * 3 + 2]);
                t1.set(tan1[i * 3], tan1[i * 3 + 1], tan1[i * 3 + 2]);
                t2.set(tan2[i * 3], tan2[i * 3 + 1], tan2[i * 3 + 2]);
                ndott = n.dot(t1);
                temp = n.copy().scale(ndott);
                temp.sub2(t1, temp).normalize();
                tangents[i * 4] = temp.x;
                tangents[i * 4 + 1] = temp.y;
                tangents[i * 4 + 2] = temp.z;
                temp.cross(n, t1);
                tangents[i * 4 + 3] = (temp.dot(t2) < 0.0) ? -1.0 : 1.0;
            }
            return tangents;
        };
        GeometryData.prototype._needGetColorsFromMaterial = function () {
            var colors = this._colors;
            return !colors || colors.length === 0;
        };
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("faces.count", "> 0"));
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    if (this.geometry.isSmoothShading()) {
                        wd.assert(face.vertexNormals && face.vertexNormals.getCount() === 3, wd.Log.info.FUNC_SHOULD("faces->vertexNormals.count", "=== 3"));
                    }
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalCache;
            }, function () {
                return this._normalCache;
            }, function (result) {
                this._normalCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normals", null);
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("geometry", "has faces"));
            }),
            wd.ensureGetter(function (normals) {
                for (var _i = 0, normals_1 = normals; _i < normals_1.length; _i++) {
                    var data = normals_1[_i];
                    wd.assert(wd.JudgeUtils.isNumber(data), wd.Log.info.FUNC_SHOULD("normals data", "be number"));
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalFromFaceCache;
            }, function () {
                return this._normalFromFaceCache;
            }, function (result) {
                this._normalFromFaceCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normalsFromFaceNormal", null);
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this._faces.length > 0, wd.Log.info.FUNC_SHOULD("geometry", "has faces"));
            }),
            wd.ensureGetter(function (normals) {
                for (var _i = 0, normals_2 = normals; _i < normals_2.length; _i++) {
                    var data = normals_2[_i];
                    wd.assert(wd.JudgeUtils.isNumber(data), wd.Log.info.FUNC_SHOULD("normals data", "be number"));
                }
            }),
            wd.cacheGetter(function () {
                return !this._normalDirty && this._normalFromVertexCache;
            }, function () {
                return this._normalFromVertexCache;
            }, function (result) {
                this._normalFromVertexCache = result;
                this._normalDirty = false;
            })
        ], GeometryData.prototype, "normalsFromVertexNormals", null);
        __decorate([
            wd.cacheGetter(function () {
                return !this._indiceDirty && this._indiceCache;
            }, function () {
                return this._indiceCache;
            }, function (result) {
                this._indiceCache = result;
                this._indiceDirty = false;
            })
        ], GeometryData.prototype, "indices", null);
        __decorate([
            wd.ensureGetter(function (colors) {
                wd.assert(colors.length === this._vertices.length, wd.Log.info.FUNC_SHOULD("colors.length:" + colors.length, "=== vertices.length:" + this._vertices.length));
            }),
            wd.cacheGetter(function () {
                return !this.colorDirty && this._colorCache;
            }, function () {
                return this._colorCache;
            }, function (result) {
                this._colorCache = result;
                this.colorDirty = false;
            })
        ], GeometryData.prototype, "colors", null);
        __decorate([
            wd.require(function () {
                wd.assert(wd.GeometryUtils.hasData(this.vertices), wd.Log.info.FUNC_MUST("contain vertices"));
            }),
            wd.ensure(function () {
                for (var _i = 0, _a = this._faces; _i < _a.length; _i++) {
                    var face = _a[_i];
                    wd.assert(face.faceNormal instanceof wd.Vector3, wd.Log.info.FUNC_SHOULD_NOT("faceNormal", "be null"));
                }
            })
        ], GeometryData.prototype, "computeFaceNormals", null);
        __decorate([
            wd.virtual
        ], GeometryData.prototype, "onChangeFace", null);
        return GeometryData;
    }());
    wd.GeometryData = GeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonGeometryData = (function (_super) {
        __extends(CommonGeometryData, _super);
        function CommonGeometryData() {
            _super.apply(this, arguments);
        }
        CommonGeometryData.create = function (geometry) {
            var obj = new this(geometry);
            return obj;
        };
        return CommonGeometryData;
    }(wd.GeometryData));
    wd.CommonGeometryData = CommonGeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphGeometryData = (function (_super) {
        __extends(MorphGeometryData, _super);
        function MorphGeometryData() {
            _super.apply(this, arguments);
            this._morphTargets = null;
            this._morphNormalCache = null;
            this._morphNormalDirty = true;
        }
        MorphGeometryData.create = function (geometry) {
            var obj = new this(geometry);
            return obj;
        };
        Object.defineProperty(MorphGeometryData.prototype, "morphNormals", {
            get: function () {
                var geometry = this.geometry;
                this._morphNormalDirty = false;
                if (geometry.isSmoothShading()) {
                    if (!this.hasMorphVertexNormals()) {
                        this.computeMorphNormals();
                    }
                    return geometry.morphVertexNormals;
                }
                if (!this.hasMorphFaceNormals()) {
                    this.computeMorphNormals();
                }
                return geometry.morphFaceNormals;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MorphGeometryData.prototype, "morphTargets", {
            get: function () {
                return this._morphTargets;
            },
            set: function (morphTargets) {
                this._morphTargets = morphTargets;
                this._morphNormalDirty = true;
            },
            enumerable: true,
            configurable: true
        });
        MorphGeometryData.prototype.computeMorphNormals = function () {
            var geometry = this.geometry, self = this;
            this._morphTargets.forEach(function (frames, animName) {
                var faceNormalList = wdCb.Collection.create(), vertexNormalList = wdCb.Collection.create();
                frames.forEach(function (vertices) {
                    var tempGeometryData = MorphGeometryData.create(geometry), faceNormalsOfEachFrame = null, vertexNormalsOfEachFrame = null;
                    tempGeometryData.vertices = vertices;
                    tempGeometryData.faces = self._copyFaces(geometry.faces);
                    tempGeometryData.computeFaceNormals();
                    tempGeometryData.computeVertexNormals();
                    _a = self._getMorphNormals(tempGeometryData), faceNormalsOfEachFrame = _a[0], vertexNormalsOfEachFrame = _a[1];
                    faceNormalList.addChild(faceNormalsOfEachFrame);
                    vertexNormalList.addChild(vertexNormalsOfEachFrame);
                    var _a;
                });
                geometry.morphFaceNormals.addChild(animName, faceNormalList);
                geometry.morphVertexNormals.addChild(animName, vertexNormalList);
            });
        };
        MorphGeometryData.prototype.hasMorphFaceNormals = function () {
            return this.geometry.morphFaceNormals.getCount() > 0;
        };
        MorphGeometryData.prototype.hasMorphVertexNormals = function () {
            return this.geometry.morphVertexNormals.getCount() > 0;
        };
        MorphGeometryData.prototype.onChangeFace = function () {
            this._morphNormalDirty = true;
        };
        MorphGeometryData.prototype._copyFaces = function (faces) {
            var copyFaces = [];
            for (var _i = 0, faces_1 = faces; _i < faces_1.length; _i++) {
                var face = faces_1[_i];
                copyFaces.push(face.copy());
            }
            return copyFaces;
        };
        MorphGeometryData.prototype._getMorphNormals = function (geometryData) {
            return [geometryData.normalsFromFaceNormal, geometryData.normalsFromVertexNormals];
        };
        __decorate([
            wd.cacheGetter(function () {
                return !this._morphNormalDirty && this._morphNormalCache;
            }, function () {
                return this._morphNormalCache;
            }, function (result) {
                this._morphNormalCache = result;
            })
        ], MorphGeometryData.prototype, "morphNormals", null);
        return MorphGeometryData;
    }(wd.GeometryData));
    wd.MorphGeometryData = MorphGeometryData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BufferContainer = (function () {
        function BufferContainer(entityObject) {
            this.geometryData = null;
            this.entityObject = null;
            this.container = wdCb.Hash.create();
            this._colorBuffer = null;
            this._texCoordBuffer = null;
            this._tangentBuffer = null;
            this._indiceBuffer = null;
            this._materialChangeSubscription = null;
            this.entityObject = entityObject;
        }
        BufferContainer.prototype.init = function () {
            var self = this;
            this._materialChangeSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MATERIAL_CHANGE)
                .subscribe(function () {
                self.removeCache(wd.EBufferDataType.COLOR);
                self.geometryData.colorDirty = true;
            });
            this.geometryData.init();
        };
        BufferContainer.prototype.removeCache = function (type) {
            this.container.removeChild(type);
        };
        BufferContainer.prototype.getChild = function (type) {
            var result = null;
            switch (type) {
                case wd.EBufferDataType.VERTICE:
                    result = this.getVertice(type);
                    break;
                case wd.EBufferDataType.NORMAL:
                    result = this.getNormal(type);
                    break;
                case wd.EBufferDataType.TANGENT:
                    result = this._getTangent(type);
                    break;
                case wd.EBufferDataType.COLOR:
                    result = this._getColor(type);
                    break;
                case wd.EBufferDataType.INDICE:
                    result = this._getIndice(type);
                    break;
                case wd.EBufferDataType.TEXCOORD:
                    result = this._getTexCoord(type);
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNKNOW("EBufferDataType: " + type));
                    break;
            }
            return result;
        };
        BufferContainer.prototype.dispose = function () {
            this.container.forEach(function (buffer) {
                buffer.dispose();
            });
            this.geometryData.dispose();
            this._materialChangeSubscription && this._materialChangeSubscription.dispose();
        };
        BufferContainer.prototype.createBuffersFromGeometryData = function () {
            this.getChild(wd.EBufferDataType.VERTICE);
            this.getChild(wd.EBufferDataType.NORMAL);
            this.getChild(wd.EBufferDataType.TANGENT);
            this.getChild(wd.EBufferDataType.COLOR);
            this.getChild(wd.EBufferDataType.INDICE);
            this.getChild(wd.EBufferDataType.TEXCOORD);
        };
        BufferContainer.prototype.createBufferOnlyOnce = function (bufferAttriName, bufferClass) {
            if (this[bufferAttriName]) {
                return;
            }
            this[bufferAttriName] = bufferClass.create();
        };
        BufferContainer.prototype.hasData = function (data) {
            return data && data.length > 0;
        };
        BufferContainer.prototype._getTangent = function (type) {
            var geometryData = null;
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_tangentBuffer", wd.ArrayBuffer);
            this._tangentBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._tangentBuffer;
        };
        BufferContainer.prototype._getColor = function (type) {
            var geometryData = null;
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_colorBuffer", wd.ArrayBuffer);
            this._colorBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._colorBuffer;
        };
        BufferContainer.prototype._getIndice = function (type) {
            var geometryData = null;
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_indiceBuffer", wd.ElementBuffer);
            this._indiceBuffer.resetData(new Uint16Array(geometryData), wd.EBufferType.UNSIGNED_SHORT);
            return this._indiceBuffer;
        };
        BufferContainer.prototype._getTexCoord = function (type) {
            var geometryData = null;
            geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_texCoordBuffer", wd.ArrayBuffer);
            this._texCoordBuffer.resetData(new Float32Array(geometryData), 2, wd.EBufferType.FLOAT);
            return this._texCoordBuffer;
        };
        BufferContainer.prototype._needReCalcuteTangent = function (type) {
            return this.geometryData.tangentDirty && type === wd.EBufferDataType.TANGENT;
        };
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type) && !this._needReCalcuteTangent(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getTangent", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getColor", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getIndice", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], BufferContainer.prototype, "_getTexCoord", null);
        return BufferContainer;
    }());
    wd.BufferContainer = BufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonBufferContainer = (function (_super) {
        __extends(CommonBufferContainer, _super);
        function CommonBufferContainer() {
            _super.apply(this, arguments);
            this._verticeBuffer = null;
            this._normalBuffer = null;
        }
        CommonBufferContainer.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        CommonBufferContainer.prototype.getVertice = function (type) {
            var geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_verticeBuffer", wd.ArrayBuffer);
            this._verticeBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._verticeBuffer;
        };
        CommonBufferContainer.prototype.getNormal = function (type) {
            var geometryData = this.geometryData[wd.BufferDataTable.getGeometryDataName(type)];
            if (!this.hasData(geometryData)) {
                return null;
            }
            this.createBufferOnlyOnce("_normalBuffer", wd.ArrayBuffer);
            this._normalBuffer.resetData(new Float32Array(geometryData), 3, wd.EBufferType.FLOAT);
            return this._normalBuffer;
        };
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], CommonBufferContainer.prototype, "getVertice", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(type);
            }, function (type) {
                return this.container.getChild(type);
            }, function (result, type) {
                this.container.addChild(type, result);
            })
        ], CommonBufferContainer.prototype, "getNormal", null);
        return CommonBufferContainer;
    }(wd.BufferContainer));
    wd.CommonBufferContainer = CommonBufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphBufferContainer = (function (_super) {
        __extends(MorphBufferContainer, _super);
        function MorphBufferContainer(entityObject, animation) {
            _super.call(this, entityObject);
            this._animation = null;
            this._isCacheChangeFlag = {};
            this._isCacheChangeInLastLoop = {};
            this._currentVerticeBuffer = null;
            this._nextVerticeBuffer = null;
            this._currentNormalBuffer = null;
            this._nextNormalBuffer = null;
            this._animation = animation;
        }
        MorphBufferContainer.create = function (entityObject, animation) {
            var obj = new this(entityObject, animation);
            return obj;
        };
        MorphBufferContainer.prototype.getVertice = function (type) {
            return this._getMorphData(type, this.geometryData.morphTargets);
        };
        MorphBufferContainer.prototype.getNormal = function (type) {
            return this._getMorphData(type, this.geometryData.morphNormals);
        };
        MorphBufferContainer.prototype._getMorphData = function (type, morphDataTargets) {
            var cacheData = null, frames = null, result = null;
            if (this._isNotPlayAnimation()) {
                return this._getStaticData(type);
            }
            if (morphDataTargets.getCount() === 0) {
                return null;
            }
            frames = morphDataTargets.getChild(this._animation.currentAnimName);
            wdCb.Log.error(!frames, wdCb.Log.info.FUNC_SHOULD("\"" + this._animation.currentAnimName + "\" animation", "contain frame data"));
            cacheData = this.container.getChild(type);
            if (!cacheData) {
                var currentBuffer = this._getCurrentBuffer(type), nextBuffer = this._getNextBuffer(type);
                currentBuffer.resetData(new Float32Array(frames.getChild(this._animation.currentFrame)), 3, wd.EBufferType.FLOAT);
                nextBuffer.resetData(new Float32Array(frames.getChild(this._animation.nextFrame)), 3, wd.EBufferType.FLOAT);
                result = [currentBuffer, nextBuffer];
                this.container.addChild(type, result);
                this._isCacheChangeInLastLoop[type] = false;
            }
            else {
                if (this._animation.isFrameChange && (this._isCacheChangeInLastLoop[type] || this._isCacheNotChange(type))) {
                    var currentBuffer = cacheData[0], nextBuffer = cacheData[1], newCurrentBuffer = null, newNextBuffer = null;
                    newCurrentBuffer = nextBuffer;
                    newNextBuffer = currentBuffer.resetData(new Float32Array(frames.getChild(this._animation.nextFrame)));
                    result = [newCurrentBuffer, newNextBuffer];
                    this.container.addChild(type, result);
                    this._isCacheChangeFlag[type] = true;
                    this._isCacheChangeInLastLoop[type] = true;
                }
                else {
                    this._isCacheChangeFlag[type] = false;
                    this._isCacheChangeInLastLoop[type] = false;
                    result = cacheData;
                }
            }
            return result;
        };
        MorphBufferContainer.prototype._getCurrentBuffer = function (type) {
            if (type === wd.EBufferDataType.VERTICE) {
                this.createBufferOnlyOnce("_currentVerticeBuffer", wd.ArrayBuffer);
                return this._currentVerticeBuffer;
            }
            this.createBufferOnlyOnce("_currentNormalBuffer", wd.ArrayBuffer);
            return this._currentNormalBuffer;
        };
        MorphBufferContainer.prototype._getNextBuffer = function (type) {
            if (type === wd.EBufferDataType.VERTICE) {
                this.createBufferOnlyOnce("_nextVerticeBuffer", wd.ArrayBuffer);
                return this._nextVerticeBuffer;
            }
            this.createBufferOnlyOnce("_nextNormalBuffer", wd.ArrayBuffer);
            return this._nextNormalBuffer;
        };
        MorphBufferContainer.prototype._isCacheNotChange = function (type) {
            return !this._isCacheChangeFlag[type];
        };
        MorphBufferContainer.prototype._isNotPlayAnimation = function () {
            return this._animation.currentAnimName === null;
        };
        MorphBufferContainer.prototype._getStaticData = function (type) {
            var data = null, result = null;
            switch (type) {
                case wd.EBufferDataType.VERTICE:
                    data = this.geometryData.vertices;
                    break;
                case wd.EBufferDataType.NORMAL:
                    data = this.geometryData.normals;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
                    break;
            }
            if (!this.hasData(data)) {
                return null;
            }
            this._animation.interpolation = 0;
            result = [
                this._getCurrentBuffer(type).resetData(new Float32Array(data), 3, wd.EBufferType.FLOAT),
                this._getNextBuffer(type).resetData(new Float32Array(data), 3, wd.EBufferType.FLOAT)
            ];
            return result;
        };
        MorphBufferContainer.prototype._getStaticDataCacheData = function (type) {
            return "static_" + type;
        };
        __decorate([
            wd.require(function (type) {
                wd.assert(this.geometryData.morphTargets && this.geometryData.morphTargets.getCount() > 0, wd.Log.info.FUNC_SHOULD("set morphTargets"));
            })
        ], MorphBufferContainer.prototype, "getVertice", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(this.geometryData.morphTargets && this.geometryData.morphTargets.getCount() > 0, wd.Log.info.FUNC_SHOULD("set morphTargets"));
            })
        ], MorphBufferContainer.prototype, "getNormal", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(type === wd.EBufferDataType.VERTICE || type === wd.EBufferDataType.NORMAL, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
            })
        ], MorphBufferContainer.prototype, "_getCurrentBuffer", null);
        __decorate([
            wd.require(function (type) {
                wd.assert(type === wd.EBufferDataType.VERTICE || type === wd.EBufferDataType.NORMAL, wd.Log.info.FUNC_SHOULD("type", "be EBufferDataType.VERTICE or EBufferDataType.NORMAL"));
            })
        ], MorphBufferContainer.prototype, "_getNextBuffer", null);
        __decorate([
            wd.cache(function (type) {
                return this.container.hasChild(this._getStaticDataCacheData(type));
            }, function (type) {
                return this.container.getChild(this._getStaticDataCacheData(type));
            }, function (result, type) {
                this.container.addChild(this._getStaticDataCacheData(type), result);
            })
        ], MorphBufferContainer.prototype, "_getStaticData", null);
        return MorphBufferContainer;
    }(wd.BufferContainer));
    wd.MorphBufferContainer = MorphBufferContainer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Camera = (function () {
        function Camera() {
            this._worldToCameraMatrix = null;
            this._near = null;
            this._far = null;
            this.pMatrix = wd.Matrix4.create();
            this.entityObject = null;
            this.dirty = false;
        }
        Object.defineProperty(Camera.prototype, "cameraToWorldMatrix", {
            get: function () {
                return this.entityObject.transform.localToWorldMatrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "worldToCameraMatrix", {
            get: function () {
                if (this._worldToCameraMatrix) {
                    return this._worldToCameraMatrix;
                }
                return this.cameraToWorldMatrix.copy().invert();
            },
            set: function (matrix) {
                this._worldToCameraMatrix = matrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "near", {
            get: function () {
                return this._near;
            },
            set: function (near) {
                this._near = near;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Camera.prototype, "far", {
            get: function () {
                return this._far;
            },
            set: function (far) {
                this._far = far;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Camera.prototype.init = function () {
            if (this.dirty) {
                this.updateProjectionMatrix();
                this.dirty = false;
            }
        };
        Camera.prototype.dispose = function () {
        };
        Camera.prototype.update = function (elapsedTime) {
            if (this.dirty) {
                this.updateProjectionMatrix();
                this.dirty = false;
            }
        };
        Camera.prototype.getInvViewProjMat = function () {
            return this.pMatrix.copy().multiply(this.worldToCameraMatrix).invert();
        };
        __decorate([
            wd.requireGetter(function () {
                wd.assert(this.entityObject, wd.Log.info.FUNC_MUST_DEFINE("entityObject"));
            })
        ], Camera.prototype, "cameraToWorldMatrix", null);
        __decorate([
            wd.virtual
        ], Camera.prototype, "init", null);
        __decorate([
            wd.virtual
        ], Camera.prototype, "dispose", null);
        return Camera;
    }());
    wd.Camera = Camera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var OrthographicCamera = (function (_super) {
        __extends(OrthographicCamera, _super);
        function OrthographicCamera() {
            _super.apply(this, arguments);
            this._left = null;
            this._right = null;
            this._bottom = null;
            this._top = null;
        }
        OrthographicCamera.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(OrthographicCamera.prototype, "left", {
            get: function () {
                return this._left;
            },
            set: function (left) {
                this._left = left;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "right", {
            get: function () {
                return this._right;
            },
            set: function (right) {
                this._right = right;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "bottom", {
            get: function () {
                return this._bottom;
            },
            set: function (bottom) {
                this._bottom = bottom;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(OrthographicCamera.prototype, "top", {
            get: function () {
                return this._top;
            },
            set: function (top) {
                this._top = top;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        OrthographicCamera.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            var device = wd.DeviceManager.getInstance(), width = device.view.width, height = device.view.height, normalizedDeviceCoordinate = wd.Vector3.create(2 * screenX / width - 1, (height - screenY) / height * 2 - 1, (distanceFromCamera - this.far) / (this.far - this.near) * 2 + 1);
            return this.getInvViewProjMat().multiplyPoint(normalizedDeviceCoordinate);
        };
        OrthographicCamera.prototype.updateProjectionMatrix = function () {
            this.pMatrix.setOrtho(this._left, this._right, this._bottom, this._top, this.near, this.far);
        };
        return OrthographicCamera;
    }(wd.Camera));
    wd.OrthographicCamera = OrthographicCamera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PerspectiveCamera = (function (_super) {
        __extends(PerspectiveCamera, _super);
        function PerspectiveCamera() {
            _super.apply(this, arguments);
            this._fovy = null;
            this._aspect = null;
        }
        PerspectiveCamera.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PerspectiveCamera.prototype, "fovy", {
            get: function () {
                return this._fovy;
            },
            set: function (fovy) {
                this._fovy = fovy;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PerspectiveCamera.prototype, "aspect", {
            get: function () {
                return this._aspect;
            },
            set: function (aspect) {
                this._aspect = aspect;
                this.dirty = true;
            },
            enumerable: true,
            configurable: true
        });
        PerspectiveCamera.prototype.zoomIn = function (speed, min) {
            if (min === void 0) { min = 1; }
            this.fovy = Math.max(this.fovy - speed, min);
        };
        PerspectiveCamera.prototype.zoomOut = function (speed, max) {
            if (max === void 0) { max = 179; }
            this.fovy = Math.min(this.fovy + speed, max);
        };
        PerspectiveCamera.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            var device = wd.DeviceManager.getInstance(), width = device.view.width, height = device.view.height, normalizedDeviceCoordinate = wd.Vector3.create(2 * screenX / width - 1, 1 - 2 * screenY / height, 1), invViewProjMat = this.getInvViewProjMat(), point = null, w = null;
            point = invViewProjMat.multiplyPoint(normalizedDeviceCoordinate);
            w = normalizedDeviceCoordinate.x * invViewProjMat.values[3] +
                normalizedDeviceCoordinate.y * invViewProjMat.values[7] +
                normalizedDeviceCoordinate.z * invViewProjMat.values[11] +
                invViewProjMat.values[15];
            point.scale(1 / w);
            return wd.Vector3.create().lerp(this.entityObject.transform.position, point, distanceFromCamera / this.far);
        };
        PerspectiveCamera.prototype.updateProjectionMatrix = function () {
            this.pMatrix.setPerspective(this._fovy, this._aspect, this.near, this.far);
        };
        return PerspectiveCamera;
    }(wd.Camera));
    wd.PerspectiveCamera = PerspectiveCamera;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CameraController = (function (_super) {
        __extends(CameraController, _super);
        function CameraController(cameraComponent) {
            _super.call(this);
            this.camera = null;
            this._worldToCameraMatrixCache = null;
            this._clearCacheSubscription = null;
            this.camera = cameraComponent;
        }
        Object.defineProperty(CameraController.prototype, "cameraToWorldMatrix", {
            get: function () {
                return this.camera.cameraToWorldMatrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CameraController.prototype, "worldToCameraMatrix", {
            get: function () {
                return this._getWorldToCameraMatrix();
            },
            set: function (matrix) {
                this.camera.worldToCameraMatrix = matrix;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CameraController.prototype, "pMatrix", {
            get: function () {
                return this.camera.pMatrix;
            },
            set: function (pMatrix) {
                this.camera.pMatrix = pMatrix;
            },
            enumerable: true,
            configurable: true
        });
        CameraController.prototype.init = function () {
            var self = this;
            this.camera.entityObject = this.entityObject;
            this.camera.init();
            this._clearCacheSubscription = wdFrp.fromArray([
                wd.EventManager.fromEvent(wd.EEngineEvent.ENDLOOP),
                wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_TRANSLATE),
                wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_ROTATE),
                wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_SCALE)
            ])
                .mergeAll()
                .subscribe(function () {
                self._clearCache();
            });
        };
        CameraController.prototype.update = function (elapsedTime) {
            this.camera.update(elapsedTime);
        };
        CameraController.prototype.dispose = function () {
            this.camera.dispose();
            this._clearCacheSubscription && this._clearCacheSubscription.dispose();
        };
        CameraController.prototype.isIntersectWithRay = function (entityObject, screenX, screenY) {
            var shape = null;
            if (!entityObject.hasComponent(wd.Collider)) {
                return false;
            }
            shape = entityObject.getComponent(wd.Collider).shape;
            return shape.isIntersectWithRay(this.createRay(screenX, screenY));
        };
        CameraController.prototype.createRay = function (screenX, screenY) {
            var from = this.convertScreenToWorld(screenX, screenY, this.camera.near), to = this.convertScreenToWorld(screenX, screenY, this.camera.far);
            return wd.Ray.create(from, to.sub(from));
        };
        CameraController.prototype.convertScreenToWorld = function (screenX, screenY, distanceFromCamera) {
            return this.camera.convertScreenToWorld(screenX, screenY, distanceFromCamera);
        };
        CameraController.prototype.getPlanes = function () {
            var frustumPlanes = [], transform = this.worldToCameraMatrix.applyMatrix(this.pMatrix, true);
            for (var index = 0; index < 6; index++) {
                frustumPlanes.push(wd.Plane.create(0, 0, 0, 0));
            }
            this._setPlanes(transform, frustumPlanes);
            return frustumPlanes;
        };
        CameraController.prototype._setPlanes = function (transform, frustumPlanes) {
            frustumPlanes[0].normal.x = transform.values[3] + transform.values[2];
            frustumPlanes[0].normal.y = transform.values[7] + transform.values[6];
            frustumPlanes[0].normal.z = transform.values[11] + transform.values[10];
            frustumPlanes[0].d = transform.values[15] + transform.values[14];
            frustumPlanes[0].normalize();
            frustumPlanes[1].normal.x = transform.values[3] - transform.values[2];
            frustumPlanes[1].normal.y = transform.values[7] - transform.values[6];
            frustumPlanes[1].normal.z = transform.values[11] - transform.values[10];
            frustumPlanes[1].d = transform.values[15] - transform.values[14];
            frustumPlanes[1].normalize();
            frustumPlanes[2].normal.x = transform.values[3] + transform.values[0];
            frustumPlanes[2].normal.y = transform.values[7] + transform.values[4];
            frustumPlanes[2].normal.z = transform.values[11] + transform.values[8];
            frustumPlanes[2].d = transform.values[15] + transform.values[12];
            frustumPlanes[2].normalize();
            frustumPlanes[3].normal.x = transform.values[3] - transform.values[0];
            frustumPlanes[3].normal.y = transform.values[7] - transform.values[4];
            frustumPlanes[3].normal.z = transform.values[11] - transform.values[8];
            frustumPlanes[3].d = transform.values[15] - transform.values[12];
            frustumPlanes[3].normalize();
            frustumPlanes[4].normal.x = transform.values[3] - transform.values[1];
            frustumPlanes[4].normal.y = transform.values[7] - transform.values[5];
            frustumPlanes[4].normal.z = transform.values[11] - transform.values[9];
            frustumPlanes[4].d = transform.values[15] - transform.values[13];
            frustumPlanes[4].normalize();
            frustumPlanes[5].normal.x = transform.values[3] + transform.values[1];
            frustumPlanes[5].normal.y = transform.values[7] + transform.values[5];
            frustumPlanes[5].normal.z = transform.values[11] + transform.values[9];
            frustumPlanes[5].d = transform.values[15] + transform.values[13];
            frustumPlanes[5].normalize();
        };
        CameraController.prototype._clearCache = function () {
            this._worldToCameraMatrixCache = null;
        };
        CameraController.prototype._getWorldToCameraMatrix = function () {
            return this.camera.worldToCameraMatrix;
        };
        __decorate([
            wd.cacheGetter(function () {
                return this._worldToCameraMatrixCache !== null;
            }, function () {
                return this._worldToCameraMatrixCache;
            }, function (result) {
                this._worldToCameraMatrixCache = result;
            })
        ], CameraController.prototype, "worldToCameraMatrix", null);
        return CameraController;
    }(wd.Component));
    wd.CameraController = CameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicCameraController = (function (_super) {
        __extends(BasicCameraController, _super);
        function BasicCameraController() {
            _super.apply(this, arguments);
        }
        BasicCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        return BasicCameraController;
    }(wd.CameraController));
    wd.BasicCameraController = BasicCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyCameraController = (function (_super) {
        __extends(FlyCameraController, _super);
        function FlyCameraController(cameraComponent) {
            _super.call(this, cameraComponent);
            this._control = null;
            if (cameraComponent instanceof wd.PerspectiveCamera) {
                this._control = wd.FlyPerspectiveCameraControl.create(cameraComponent);
            }
            else {
                this._control = wd.FlyOrthographicCameraControl.create(cameraComponent);
            }
        }
        FlyCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyCameraController.prototype.init = function () {
            _super.prototype.init.call(this);
            this._control.init(this.entityObject);
        };
        FlyCameraController.prototype.update = function (elapsedTime) {
            _super.prototype.update.call(this, elapsedTime);
            this._control.update(elapsedTime);
        };
        FlyCameraController.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._control.dispose();
        };
        return FlyCameraController;
    }(wd.CameraController));
    wd.FlyCameraController = FlyCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyCameraControl = (function () {
        function FlyCameraControl(cameraComponent) {
            this.moveSpeed = 1.2;
            this.rotateSpeed = 100;
            this.cameraComponent = null;
            this._rotateX = 0;
            this._rotateY = 0;
            this._isRotate = false;
            this._mouseDragSubscription = null;
            this._keydownSubscription = null;
            this._gameObject = null;
            this.cameraComponent = cameraComponent;
        }
        FlyCameraControl.prototype.init = function (entityObject) {
            var eulerAngles = entityObject.transform.eulerAngles;
            this._rotateX = eulerAngles.x;
            this._rotateY = eulerAngles.y;
            this._gameObject = entityObject;
            this._bindCanvasEvent();
        };
        FlyCameraControl.prototype.update = function (elapsedTime) {
            if (!this._isRotate) {
                return;
            }
            this._isRotate = false;
            this._gameObject.transform.eulerAngles = wd.Vector3.create(this._rotateX, this._rotateY, 0);
        };
        FlyCameraControl.prototype.dispose = function () {
            this._removeEvent();
        };
        FlyCameraControl.prototype._move = function (event) {
            var speed = this.moveSpeed, entityObject = this._gameObject, keyState = event.keyState;
            if (keyState["a"] || keyState["left"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(-speed, 0, 0));
            }
            else if (keyState["d"] || keyState["right"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(speed, 0, 0));
            }
            else if (keyState["w"] || keyState["up"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(0, 0, -speed));
            }
            else if (keyState["s"] || keyState["down"]) {
                entityObject.transform.translateLocal(wd.Vector3.create(0, 0, speed));
            }
        };
        FlyCameraControl.prototype._bindCanvasEvent = function () {
            var self = this, rotateSpeed = this.rotateSpeed, mousedrag = wd.EventManager.fromEvent(wd.Director.getInstance().scene, wd.EEngineEvent.MOUSE_DRAG), keydown = wd.EventManager.fromEvent(wd.EEventName.KEYDOWN), canvas = wd.Director.getInstance().view;
            this._mouseDragSubscription = mousedrag
                .map(function (e) {
                var movementDelta = e.userData.movementDelta, dx = null, dy = null, factor = rotateSpeed / canvas.height;
                dx = factor * movementDelta.x;
                dy = factor * movementDelta.y;
                self._isRotate = true;
                return {
                    dx: dx,
                    dy: dy
                };
            })
                .subscribe(function (pos) {
                self._rotateY -= pos.dx;
                self._rotateX -= pos.dy;
            });
            this._keydownSubscription = keydown.subscribe(function (e) {
                self._move(e);
                self.zoom(e);
            });
        };
        FlyCameraControl.prototype._removeEvent = function () {
            this._mouseDragSubscription.dispose();
            this._keydownSubscription.dispose();
        };
        return FlyCameraControl;
    }());
    wd.FlyCameraControl = FlyCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyPerspectiveCameraControl = (function (_super) {
        __extends(FlyPerspectiveCameraControl, _super);
        function FlyPerspectiveCameraControl() {
            _super.apply(this, arguments);
            this.zoomSpeed = 10;
        }
        FlyPerspectiveCameraControl.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyPerspectiveCameraControl.prototype.zoom = function (event) {
            var speed = this.zoomSpeed, keyState = event.keyState;
            if (keyState["g"]) {
                this.cameraComponent.zoomIn(speed);
            }
            else if (keyState["h"]) {
                this.cameraComponent.zoomOut(speed);
            }
        };
        return FlyPerspectiveCameraControl;
    }(wd.FlyCameraControl));
    wd.FlyPerspectiveCameraControl = FlyPerspectiveCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FlyOrthographicCameraControl = (function (_super) {
        __extends(FlyOrthographicCameraControl, _super);
        function FlyOrthographicCameraControl() {
            _super.apply(this, arguments);
        }
        FlyOrthographicCameraControl.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        FlyOrthographicCameraControl.prototype.zoom = function (event) {
        };
        return FlyOrthographicCameraControl;
    }(wd.FlyCameraControl));
    wd.FlyOrthographicCameraControl = FlyOrthographicCameraControl;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArcballCameraController = (function (_super) {
        __extends(ArcballCameraController, _super);
        function ArcballCameraController() {
            _super.apply(this, arguments);
            this.moveSpeedX = 1;
            this.moveSpeedY = 1;
            this.rotateSpeed = 1;
            this.wheelSpeed = 1;
            this.distance = 10;
            this.phi = Math.PI / 2;
            this.theta = Math.PI / 2;
            this.target = wd.Vector3.create(0, 0, 0);
            this.thetaMargin = 0.05;
            this.minDistance = 0.05;
            this._isChange = true;
            this._mouseDragSubscription = null;
            this._mouseWheelSubscription = null;
            this._keydownSubscription = null;
        }
        ArcballCameraController.create = function (cameraComponent) {
            var obj = new this(cameraComponent);
            return obj;
        };
        ArcballCameraController.prototype.init = function () {
            _super.prototype.init.call(this);
            this._bindCanvasEvent();
        };
        ArcballCameraController.prototype.update = function (elapsedTime) {
            var x = null, y = null, z = null;
            _super.prototype.update.call(this, elapsedTime);
            if (!this._isChange) {
                return;
            }
            this._isChange = false;
            x = ((this.distance) * Math.cos(this.phi) * Math.sin(this.theta) + this.target.x);
            z = ((this.distance) * Math.sin(this.phi) * Math.sin(this.theta) + this.target.z);
            y = ((this.distance) * Math.cos(this.theta) + this.target.y);
            this.entityObject.transform.position = wd.Vector3.create(x, y, z);
            this.entityObject.transform.lookAt(this.target);
        };
        ArcballCameraController.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._removeEvent();
        };
        ArcballCameraController.prototype._bindCanvasEvent = function () {
            var self = this, scene = wd.Director.getInstance().scene, mousewheel = wd.EventManager.fromEvent(scene, wd.EEngineEvent.MOUSE_WHEEL), mousedrag = wd.EventManager.fromEvent(scene, wd.EEngineEvent.MOUSE_DRAG), keydown = wd.EventManager.fromEvent(wd.EEventName.KEYDOWN);
            this._mouseDragSubscription = mousedrag.subscribe(function (e) {
                self._changeOrbit(e.userData);
            });
            this._mouseWheelSubscription = mousewheel.subscribe(function (e) {
                var mouseEvent = e.userData;
                mouseEvent.preventDefault();
                self._changeDistance(mouseEvent);
            });
            this._keydownSubscription = keydown.subscribe(function (e) {
                self._changeTarget(e);
            });
        };
        ArcballCameraController.prototype._changeOrbit = function (e) {
            var movementDelta = e.movementDelta;
            this._isChange = true;
            this.phi += movementDelta.x / (100 / this.rotateSpeed);
            this.theta -= movementDelta.y / (100 / this.rotateSpeed);
            this._contrainTheta();
        };
        ArcballCameraController.prototype._changeTarget = function (e) {
            var moveSpeedX = this.moveSpeedX, moveSpeedY = this.moveSpeedY, dx = null, dy = null, keyState = e.keyState, transform = this.entityObject.transform;
            this._isChange = true;
            if (keyState["a"] || keyState["left"]) {
                dx = -moveSpeedX;
            }
            else if (keyState["d"] || keyState["right"]) {
                dx = moveSpeedX;
            }
            else if (keyState["w"] || keyState["up"]) {
                dy = moveSpeedY;
            }
            else if (keyState["s"] || keyState["down"]) {
                dy = -moveSpeedY;
            }
            this.target.add(wd.Vector3.create(transform.right.x * (dx), 0, transform.right.z * (dx)));
            this.target.add(wd.Vector3.create(transform.up.x * dy, transform.up.y * dy, 0));
        };
        ArcballCameraController.prototype._changeDistance = function (e) {
            this._isChange = true;
            this.distance -= this.wheelSpeed * e.wheel;
            this._contrainDistance();
        };
        ArcballCameraController.prototype._contrainDistance = function () {
            this.distance = wd.MathUtils.bigThan(this.distance, this.minDistance);
        };
        ArcballCameraController.prototype._contrainTheta = function () {
            this.theta = wd.MathUtils.clamp(this.theta, this.thetaMargin, Math.PI - this.thetaMargin);
        };
        ArcballCameraController.prototype._removeEvent = function () {
            this._mouseDragSubscription.dispose();
            this._mouseWheelSubscription.dispose();
            this._keydownSubscription.dispose();
        };
        return ArcballCameraController;
    }(wd.CameraController));
    wd.ArcballCameraController = ArcballCameraController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Action = (function (_super) {
        __extends(Action, _super);
        function Action() {
            _super.apply(this, arguments);
            this.p_target = null;
            this.isFinish = false;
        }
        Object.defineProperty(Action.prototype, "isStart", {
            get: function () {
                return !this.isStop;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "isStop", {
            get: function () {
                return wd.Log.error(true, wd.Log.info.ABSTRACT_ATTRIBUTE);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "isPause", {
            get: function () {
                return wd.Log.error(true, wd.Log.info.ABSTRACT_ATTRIBUTE);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Action.prototype, "target", {
            get: function () {
                return this.p_target;
            },
            set: function (target) {
                this.p_target = target;
            },
            enumerable: true,
            configurable: true
        });
        Action.prototype.reset = function () {
            this.isFinish = false;
        };
        Action.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
            this.target = entityObject;
            entityObject.actionManager.addChild(this);
        };
        Action.prototype.removeFromObject = function (entityObject) {
            _super.prototype.removeFromObject.call(this, entityObject);
            entityObject.actionManager.removeChild(this);
        };
        Action.prototype.init = function () {
            this.start();
        };
        Action.prototype.finish = function () {
            this.isFinish = true;
            this.stop();
        };
        return Action;
    }(wd.Component));
    wd.Action = Action;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionInstant = (function (_super) {
        __extends(ActionInstant, _super);
        function ActionInstant() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(ActionInstant.prototype, "isStop", {
            get: function () {
                return false;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActionInstant.prototype, "isPause", {
            get: function () {
                return false;
            },
            enumerable: true,
            configurable: true
        });
        ActionInstant.prototype.start = function () {
        };
        ActionInstant.prototype.stop = function () {
        };
        ActionInstant.prototype.pause = function () {
        };
        ActionInstant.prototype.resume = function () {
        };
        return ActionInstant;
    }(wd.Action));
    wd.ActionInstant = ActionInstant;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CallFunc = (function (_super) {
        __extends(CallFunc, _super);
        function CallFunc(func, context, dataArr) {
            _super.call(this);
            this._context = null;
            this._callFunc = null;
            this._dataArr = null;
            this._context = context || wd.root;
            this._callFunc = func;
            this._dataArr = wdCb.Collection.create(dataArr);
        }
        CallFunc.create = function (func, context) {
            var data = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                data[_i - 2] = arguments[_i];
            }
            var dataArr = Array.prototype.slice.call(arguments, 2), action = new this(func, context, dataArr);
            return action;
        };
        CallFunc.prototype.reverse = function () {
            return this;
        };
        CallFunc.prototype.update = function (elapsedTime) {
            if (this._callFunc) {
                this._callFunc.call(this._context, this.p_target, this._dataArr);
            }
            this.finish();
        };
        CallFunc.prototype.copy = function () {
            return new CallFunc(this._context, this._callFunc, this._dataArr.copy(true).getChildren());
        };
        return CallFunc;
    }(wd.ActionInstant));
    wd.CallFunc = CallFunc;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ActionInterval = (function (_super) {
        __extends(ActionInterval, _super);
        function ActionInterval() {
            _super.apply(this, arguments);
            this.elapsed = null;
            this.duration = null;
            this._isStop = true;
            this._isPause = false;
            this._timeController = wd.CommonTimeController.create();
        }
        Object.defineProperty(ActionInterval.prototype, "isStop", {
            get: function () {
                return this._isStop;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActionInterval.prototype, "isPause", {
            get: function () {
                return this._isPause;
            },
            enumerable: true,
            configurable: true
        });
        ActionInterval.prototype.update = function (elapsedTime) {
            if (elapsedTime < this._timeController.startTime) {
                return;
            }
            this.elapsed = this._convertToRatio(this._timeController.computeElapseTime(elapsedTime));
            this.updateBody(elapsedTime);
            if (this.elapsed === 1) {
                this.finish();
            }
        };
        ActionInterval.prototype.start = function () {
            this._isStop = false;
            this._timeController.start();
        };
        ActionInterval.prototype.stop = function () {
            this._isStop = true;
            this._timeController.stop();
        };
        ActionInterval.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._isStop = true;
        };
        ActionInterval.prototype.pause = function () {
            this._isPause = true;
            this._timeController.pause();
        };
        ActionInterval.prototype.resume = function () {
            this._isPause = false;
            this._timeController.resume();
        };
        ActionInterval.prototype.updateBody = function (time) {
        };
        ActionInterval.prototype._convertToRatio = function (elapsed) {
            var ratio = elapsed / this.duration;
            return ratio > 1 ? 1 : ratio;
        };
        __decorate([
            wd.virtual
        ], ActionInterval.prototype, "updateBody", null);
        return ActionInterval;
    }(wd.Action));
    wd.ActionInterval = ActionInterval;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Control = (function (_super) {
        __extends(Control, _super);
        function Control() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(Control.prototype, "target", {
            set: function (target) {
                this.p_target = target;
                this.getInnerActions().forEach(function (action) {
                    action.target = target;
                });
            },
            enumerable: true,
            configurable: true
        });
        Control.prototype.init = function () {
            _super.prototype.init.call(this);
            this.iterate("init");
        };
        Control.prototype.reverse = function () {
            this.iterate("reverse");
            return this;
        };
        Control.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this.iterate("reset");
            return this;
        };
        Control.prototype.iterate = function (method, argArr) {
            this.getInnerActions().forEach(function (action) {
                action[method].apply(action, argArr);
            });
        };
        return Control;
    }(wd.ActionInterval));
    wd.Control = Control;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Sequence = (function (_super) {
        __extends(Sequence, _super);
        function Sequence(actionArr) {
            _super.call(this);
            this._actions = wdCb.Collection.create();
            this._currentAction = null;
            this._actionIndex = 0;
            this._actions.addChildren(actionArr);
        }
        Sequence.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var sequence = null;
            wd.Log.assert(args.length >= 2, "Sequence should has two actions at least");
            sequence = new this(args);
            sequence.initWhenCreate();
            return sequence;
        };
        Sequence.prototype.initWhenCreate = function () {
            this._currentAction = this._actions.getChild(0);
        };
        Sequence.prototype.update = function (elapsedTime) {
            if (this._actionIndex === this._actions.getCount()) {
                this.finish();
                return;
            }
            this._currentAction = this._actions.getChild(this._actionIndex);
            if (this._currentAction.isFinish) {
                this._startNextActionAndJudgeFinish();
                return;
            }
            this._currentAction.update(elapsedTime);
            if (this._currentAction.isFinish) {
                this._startNextActionAndJudgeFinish();
            }
            return null;
        };
        Sequence.prototype.copy = function () {
            var actionArr = [];
            this._actions.forEach(function (action) {
                actionArr.push(action.copy());
            });
            return Sequence.create.apply(Sequence, actionArr);
        };
        Sequence.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._actionIndex = 0;
            this._currentAction = this._actions.getChild(this._actionIndex);
            return this;
        };
        Sequence.prototype.start = function () {
            _super.prototype.start.call(this);
            this._currentAction.start();
            return this;
        };
        Sequence.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._currentAction.stop();
            return this;
        };
        Sequence.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._currentAction.pause();
            return this;
        };
        Sequence.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._currentAction.resume();
            return this;
        };
        Sequence.prototype.reverse = function () {
            this._actions = this._actions.reverse();
            _super.prototype.reverse.call(this);
            return this;
        };
        Sequence.prototype.getInnerActions = function () {
            return this._actions;
        };
        Sequence.prototype._startNextActionAndJudgeFinish = function () {
            this._actionIndex++;
            if (this._actionIndex === this._actions.getCount()) {
                this.finish();
                return;
            }
            this._actions.getChild(this._actionIndex).start();
        };
        return Sequence;
    }(wd.Control));
    wd.Sequence = Sequence;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Spawn = (function (_super) {
        __extends(Spawn, _super);
        function Spawn(actionArr) {
            _super.call(this);
            this._actions = wdCb.Collection.create();
            this._actions.addChildren(actionArr);
        }
        Spawn.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var spawn = null;
            wd.Log.assert(args.length >= 2, "Sequence should has two actions at least");
            spawn = new this(args);
            return spawn;
        };
        Spawn.prototype.update = function (elapsedTime) {
            if (this._isFinish()) {
                this.finish();
                return;
            }
            this.iterate("update", [elapsedTime]);
            if (this._isFinish()) {
                this.finish();
            }
        };
        Spawn.prototype.start = function () {
            _super.prototype.start.call(this);
            this.iterate("start");
            return this;
        };
        Spawn.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this.iterate("stop");
            return this;
        };
        Spawn.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this.iterate("pause");
            return this;
        };
        Spawn.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this.iterate("resume");
            return this;
        };
        Spawn.prototype.copy = function () {
            var actions = [];
            this._actions.forEach(function (action) {
                actions.push(action.copy());
            });
            return Spawn.create.apply(Spawn, actions);
        };
        Spawn.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this.iterate("reset");
            return this;
        };
        Spawn.prototype.reverse = function () {
            this._actions = this._actions.reverse();
            _super.prototype.reverse.call(this);
            return this;
        };
        Spawn.prototype.getInnerActions = function () {
            return this._actions;
        };
        Spawn.prototype.iterate = function (method, argArr) {
            this._actions.forEach(function (action) {
                action[method].apply(action, argArr);
            });
        };
        Spawn.prototype._isFinish = function () {
            var isFinish = true;
            this._actions.forEach(function (action) {
                if (!action.isFinish) {
                    isFinish = false;
                    return wdCb.$BREAK;
                }
            });
            return isFinish;
        };
        return Spawn;
    }(wd.Control));
    wd.Spawn = Spawn;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DelayTime = (function (_super) {
        __extends(DelayTime, _super);
        function DelayTime(delayTime) {
            _super.call(this);
            this.duration = delayTime;
        }
        DelayTime.create = function (delayTime) {
            var action = new this(delayTime);
            return action;
        };
        DelayTime.prototype.reverse = function () {
            return this;
        };
        DelayTime.prototype.copy = function () {
            return DelayTime.create(this.duration);
        };
        return DelayTime;
    }(wd.ActionInterval));
    wd.DelayTime = DelayTime;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Repeat = (function (_super) {
        __extends(Repeat, _super);
        function Repeat(action, times) {
            _super.call(this);
            this._innerAction = null;
            this._originTimes = null;
            this._times = null;
            this._innerAction = action;
            this._times = times;
        }
        Repeat.create = function (action, times) {
            var repeat = new this(action, times);
            repeat.initWhenCreate();
            return repeat;
        };
        Repeat.prototype.initWhenCreate = function () {
            this._originTimes = this._times;
        };
        Repeat.prototype.update = function (elapsedTime) {
            if (this._times === 0) {
                this.finish();
                return;
            }
            this._innerAction.update(elapsedTime);
            if (this._innerAction.isFinish) {
                this._times -= 1;
                if (this._times !== 0) {
                    this._innerAction.reset();
                    this._innerAction.start();
                    return;
                }
                this.finish();
            }
        };
        Repeat.prototype.copy = function () {
            return Repeat.create(this._innerAction.copy(), this._times);
        };
        Repeat.prototype.reset = function () {
            _super.prototype.reset.call(this);
            this._times = this._originTimes;
            return this;
        };
        Repeat.prototype.start = function () {
            _super.prototype.start.call(this);
            this._innerAction.start();
        };
        Repeat.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._innerAction.stop();
        };
        Repeat.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._innerAction.pause();
        };
        Repeat.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._innerAction.resume();
        };
        Repeat.prototype.getInnerActions = function () {
            return wdCb.Collection.create([this._innerAction]);
        };
        return Repeat;
    }(wd.Control));
    wd.Repeat = Repeat;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RepeatForever = (function (_super) {
        __extends(RepeatForever, _super);
        function RepeatForever(action) {
            _super.call(this);
            this._innerAction = null;
            this._innerAction = action;
        }
        RepeatForever.create = function (action) {
            var repeat = new this(action);
            return repeat;
        };
        RepeatForever.prototype.update = function (elapsedTime) {
            this._innerAction.update(elapsedTime);
            if (this._innerAction.isFinish) {
                this._innerAction.reset();
                this._innerAction.start();
            }
        };
        RepeatForever.prototype.copy = function () {
            return RepeatForever.create(this._innerAction.copy());
        };
        RepeatForever.prototype.start = function () {
            _super.prototype.start.call(this);
            this._innerAction.start();
        };
        RepeatForever.prototype.stop = function () {
            _super.prototype.stop.call(this);
            this._innerAction.stop();
        };
        RepeatForever.prototype.pause = function () {
            _super.prototype.pause.call(this);
            this._innerAction.pause();
        };
        RepeatForever.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this._innerAction.resume();
        };
        RepeatForever.prototype.getInnerActions = function () {
            return wdCb.Collection.create([this._innerAction]);
        };
        return RepeatForever;
    }(wd.Control));
    wd.RepeatForever = RepeatForever;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Tween = (function (_super) {
        __extends(Tween, _super);
        function Tween() {
            _super.apply(this, arguments);
            this._object = null;
            this._valuesStart = wdCb.Hash.create();
            this._valuesEnd = wdCb.Hash.create();
            this._easingFunction = Tween.Easing.Linear.None;
            this._interpolationFunction = Tween.Interpolation.Linear;
            this._onStartCallback = null;
            this._onStartCallbackFired = false;
            this._onUpdateCallback = null;
            this._onFinishCallback = null;
            this._onStopCallback = null;
        }
        Tween.create = function () {
            var obj = new this();
            return obj;
        };
        Tween.prototype.updateBody = function (time) {
            var self = this, easeValue = null;
            if (this._onStartCallbackFired === false) {
                if (this._onStartCallback !== null) {
                    this._onStartCallback.call(this._object.getChildren());
                }
                this._onStartCallbackFired = true;
            }
            easeValue = this._easingFunction(this.elapsed);
            this._valuesEnd.forEach(function (value, key) {
                var start = self._valuesStart.getChild(key), end = value;
                if (end instanceof Array) {
                    self._object.setValue(key, self._interpolationFunction(end, easeValue));
                }
                else {
                    if (wd.JudgeUtils.isString(end)) {
                        end = start + wd.root.parseFloat(end, 10);
                    }
                    if (wd.JudgeUtils.isNumber(end)) {
                        self._object.setValue(key, start + (end - start) * easeValue);
                    }
                }
            });
            if (this._onUpdateCallback !== null) {
                this._onUpdateCallback.call(this._object.getChildren(), easeValue);
            }
            return true;
        };
        Tween.prototype.from = function (object) {
            var self = this;
            this._object = wdCb.Hash.create(object);
            this._object.forEach(function (value, key) {
                self._valuesStart.addChild(key, wd.root.parseFloat(value, 10));
            });
            return this;
        };
        Tween.prototype.to = function (properties, duration) {
            if (duration === void 0) { duration = 1000; }
            this.duration = duration;
            this._valuesEnd = wdCb.Hash.create(properties);
            return this;
        };
        Tween.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._valuesEnd.forEach(function (value, key) {
                if (value instanceof Array) {
                    if (value.length === 0) {
                        return;
                    }
                    self._valuesEnd.setValue(key, [self._object.getChild(key)].concat(self._valuesEnd.getChild(key)));
                }
                self._valuesStart.setValue(key, self._object.getChild(key));
                if ((self._valuesStart.getChild(key) instanceof Array) === false) {
                    self._valuesStart.setValue(key, self._valuesStart.getChild(key) * 1.0);
                }
            });
        };
        Tween.prototype.start = function () {
            _super.prototype.start.call(this);
            this._onStartCallbackFired = false;
            return this;
        };
        Tween.prototype.stop = function () {
            _super.prototype.stop.call(this);
            if (this._onStopCallback !== null) {
                this._onStopCallback.call(this._object.getChildren());
            }
            return this;
        };
        Tween.prototype.copy = function () {
            return Tween.create().from(this._valuesStart.getChildren())
                .to(this._valuesEnd.getChildren(), this.duration)
                .easing(this._easingFunction)
                .interpolation(this._interpolationFunction)
                .onStart(this._onStartCallback)
                .onStop(this._onStopCallback)
                .onFinish(this._onFinishCallback)
                .onUpdate(this._onUpdateCallback);
        };
        Tween.prototype.reverse = function () {
            var tmp = this._valuesStart;
            this._valuesStart = this._valuesEnd;
            this._valuesEnd = tmp;
        };
        Tween.prototype.easing = function (easing) {
            this._easingFunction = easing;
            return this;
        };
        Tween.prototype.interpolation = function (interpolation) {
            this._interpolationFunction = interpolation;
            return this;
        };
        Tween.prototype.onUpdate = function (callback) {
            this._onUpdateCallback = callback;
            return this;
        };
        Tween.prototype.onFinish = function (callback) {
            this._onFinishCallback = callback;
            return this;
        };
        Tween.prototype.onStart = function (callback) {
            this._onStartCallback = callback;
            return this;
        };
        Tween.prototype.onStop = function (callback) {
            this._onStopCallback = callback;
            return this;
        };
        Tween.prototype.finish = function () {
            _super.prototype.finish.call(this);
            if (this._onFinishCallback !== null) {
                this._onFinishCallback.call(this._object.getChildren());
            }
        };
        Tween.Easing = {
            Linear: {
                None: function (k) {
                    return k;
                }
            },
            Quadratic: {
                In: function (k) {
                    return k * k;
                },
                Out: function (k) {
                    return k * (2 - k);
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k;
                    return -0.5 * (--k * (k - 2) - 1);
                }
            },
            Cubic: {
                In: function (k) {
                    return k * k * k;
                },
                Out: function (k) {
                    return --k * k * k + 1;
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k;
                    return 0.5 * ((k -= 2) * k * k + 2);
                }
            },
            Quartic: {
                In: function (k) {
                    return k * k * k * k;
                },
                Out: function (k) {
                    return 1 - (--k * k * k * k);
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k * k;
                    return -0.5 * ((k -= 2) * k * k * k - 2);
                }
            },
            Quintic: {
                In: function (k) {
                    return k * k * k * k * k;
                },
                Out: function (k) {
                    return --k * k * k * k * k + 1;
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return 0.5 * k * k * k * k * k;
                    return 0.5 * ((k -= 2) * k * k * k * k + 2);
                }
            },
            Sinusoidal: {
                In: function (k) {
                    return 1 - Math.cos(k * Math.PI / 2);
                },
                Out: function (k) {
                    return Math.sin(k * Math.PI / 2);
                },
                InOut: function (k) {
                    return 0.5 * (1 - Math.cos(Math.PI * k));
                }
            },
            Exponential: {
                In: function (k) {
                    return k === 0 ? 0 : Math.pow(1024, k - 1);
                },
                Out: function (k) {
                    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
                },
                InOut: function (k) {
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if ((k *= 2) < 1)
                        return 0.5 * Math.pow(1024, k - 1);
                    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
                }
            },
            Circular: {
                In: function (k) {
                    return 1 - Math.sqrt(1 - k * k);
                },
                Out: function (k) {
                    return Math.sqrt(1 - (--k * k));
                },
                InOut: function (k) {
                    if ((k *= 2) < 1)
                        return -0.5 * (Math.sqrt(1 - k * k) - 1);
                    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
                }
            },
            Elastic: {
                In: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
                },
                Out: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    return (a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);
                },
                InOut: function (k) {
                    var s, a = 0.1, p = 0.4;
                    if (k === 0)
                        return 0;
                    if (k === 1)
                        return 1;
                    if (!a || a < 1) {
                        a = 1;
                        s = p / 4;
                    }
                    else
                        s = p * Math.asin(1 / a) / (2 * Math.PI);
                    if ((k *= 2) < 1)
                        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
                    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
                }
            },
            Back: {
                In: function (k) {
                    var s = 1.70158;
                    return k * k * ((s + 1) * k - s);
                },
                Out: function (k) {
                    var s = 1.70158;
                    return --k * k * ((s + 1) * k + s) + 1;
                },
                InOut: function (k) {
                    var s = 1.70158 * 1.525;
                    if ((k *= 2) < 1)
                        return 0.5 * (k * k * ((s + 1) * k - s));
                    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
                }
            },
            Bounce: {
                In: function (k) {
                    return 1 - Tween.Easing.Bounce.Out(1 - k);
                },
                Out: function (k) {
                    if (k < (1 / 2.75)) {
                        return 7.5625 * k * k;
                    }
                    else if (k < (2 / 2.75)) {
                        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;
                    }
                    else if (k < (2.5 / 2.75)) {
                        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;
                    }
                    else {
                        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;
                    }
                },
                InOut: function (k) {
                    if (k < 0.5)
                        return Tween.Easing.Bounce.In(k * 2) * 0.5;
                    return Tween.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;
                }
            }
        };
        Tween.Interpolation = {
            Linear: function (v, k) {
                var m = v.length - 1, f = m * k, i = Math.floor(f), fn = Tween.Interpolation.Utils.Linear;
                if (k < 0)
                    return fn(v[0], v[1], f);
                if (k > 1)
                    return fn(v[m], v[m - 1], m - f);
                return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);
            },
            Bezier: function (v, k) {
                var b = 0, n = v.length - 1, pw = Math.pow, bn = Tween.Interpolation.Utils.Bernstein, i;
                for (i = 0; i <= n; i++) {
                    b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);
                }
                return b;
            },
            CatmullRom: function (v, k) {
                var m = v.length - 1, f = m * k, i = Math.floor(f), fn = Tween.Interpolation.Utils.CatmullRom;
                if (v[0] === v[m]) {
                    if (k < 0)
                        i = Math.floor(f = m * (1 + k));
                    return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);
                }
                else {
                    if (k < 0)
                        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);
                    if (k > 1)
                        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);
                    return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);
                }
            },
            Utils: {
                Linear: function (p0, p1, t) {
                    return (p1 - p0) * t + p0;
                },
                Bernstein: function (n, i) {
                    var fc = Tween.Interpolation.Utils.Factorial;
                    return fc(n) / fc(i) / fc(n - i);
                },
                Factorial: (function () {
                    var a = [1];
                    return function (n) {
                        var s = 1, i;
                        if (a[n])
                            return a[n];
                        for (i = n; i > 1; i--)
                            s *= i;
                        return a[n] = s;
                    };
                })(),
                CatmullRom: function (p0, p1, p2, p3, t) {
                    var v0 = (p2 - p0) * 0.5, v1 = (p3 - p1) * 0.5, t2 = t * t, t3 = t * t2;
                    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;
                }
            }
        };
        return Tween;
    }(wd.ActionInterval));
    wd.Tween = Tween;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RendererComponent = (function (_super) {
        __extends(RendererComponent, _super);
        function RendererComponent() {
            _super.apply(this, arguments);
        }
        return RendererComponent;
    }(wd.Component));
    wd.RendererComponent = RendererComponent;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MeshRenderer = (function (_super) {
        __extends(MeshRenderer, _super);
        function MeshRenderer() {
            _super.apply(this, arguments);
        }
        MeshRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        MeshRenderer.prototype.render = function (renderer, geometry, camera) {
            renderer.addCommand(this.createDrawCommand(geometry, camera));
        };
        MeshRenderer.prototype.createDrawCommand = function (geometry, camera) {
            var quadCmd = wd.QuadCommand.create(), cameraComponent = camera.getComponent(wd.CameraController), material = geometry.material, position = this.entityObject.transform.position;
            quadCmd.buffers = geometry.buffers;
            quadCmd.animation = geometry.entityObject.getComponent(wd.Animation);
            quadCmd.drawMode = geometry.drawMode;
            quadCmd.mMatrix = this.entityObject.transform.localToWorldMatrix;
            quadCmd.vMatrix = cameraComponent.worldToCameraMatrix;
            quadCmd.pMatrix = cameraComponent.pMatrix;
            quadCmd.material = material;
            quadCmd.z = position.z;
            quadCmd.blend = material.blend;
            return quadCmd;
        };
        __decorate([
            wd.require(function (geometry, camera) {
                var controller = camera.getComponent(wd.CameraController);
                wd.assert(!!controller && !!controller.camera, wd.Log.info.FUNC_MUST("camera", "add Camera Component"));
                wd.assert(!!geometry, wd.Log.info.FUNC_MUST("Mesh", "add geometry component"));
            })
        ], MeshRenderer.prototype, "createDrawCommand", null);
        return MeshRenderer;
    }(wd.RendererComponent));
    wd.MeshRenderer = MeshRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxRenderer = (function (_super) {
        __extends(SkyboxRenderer, _super);
        function SkyboxRenderer() {
            _super.apply(this, arguments);
        }
        SkyboxRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        SkyboxRenderer.prototype.render = function (renderer, geometry, camera) {
            renderer.skyboxCommand = this.createDrawCommand(geometry, camera);
        };
        return SkyboxRenderer;
    }(wd.MeshRenderer));
    wd.SkyboxRenderer = SkyboxRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIRenderer = (function (_super) {
        __extends(UIRenderer, _super);
        function UIRenderer() {
            _super.apply(this, arguments);
            this._zIndex = 1;
            this.dirtyDuringCurrentLoop = false;
            this._dirty = true;
            this.context = null;
            this.isClearCanvas = false;
            this.state = wd.EUIRendererState.NORMAL;
            this.canvas = null;
            this._referenceList = wdCb.Collection.create();
        }
        UIRenderer.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(UIRenderer.prototype, "zIndex", {
            get: function () {
                return this._zIndex;
            },
            set: function (zIndex) {
                if (zIndex !== this._zIndex) {
                    this._zIndex = zIndex;
                    if (this.canvas) {
                        wdCb.DomQuery.create(this.canvas).css("zIndex", zIndex);
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UIRenderer.prototype, "dirty", {
            get: function () {
                return this._dirty;
            },
            set: function (dirty) {
                if (dirty) {
                    this._dirty = true;
                    this.dirtyDuringCurrentLoop = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        UIRenderer.prototype.resetDirty = function () {
            this._dirty = false;
        };
        UIRenderer.prototype.addToObject = function (object) {
            this._referenceList.addChild(object);
            this.entityObject = object;
        };
        UIRenderer.prototype.removeFromObject = function (object) {
            this._referenceList.removeChild(object);
            if (this._referenceList.getCount() > 0) {
                return;
            }
            _super.prototype.removeFromObject.call(this, object);
        };
        UIRenderer.prototype.init = function () {
        };
        UIRenderer.prototype.initWhenCreate = function () {
            this._createOverlayCanvas();
        };
        UIRenderer.prototype.dispose = function () {
            if (this._referenceList.getCount() > 0) {
                return;
            }
            wdCb.DomQuery.create(this.canvas).remove();
        };
        UIRenderer.prototype.render = function (renderer, geometry, camera) {
        };
        UIRenderer.prototype.clearCanvas = function () {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.isClearCanvas = true;
        };
        UIRenderer.prototype._createOverlayCanvas = function () {
            var canvas = null, view = null;
            if (this.canvas) {
                return;
            }
            canvas = wdCb.DomQuery.create("<canvas></canvas>").prependTo("body");
            view = wd.DeviceManager.getInstance().view;
            canvas.css("position", "absolute");
            canvas.css("left", view.x + "px");
            canvas.css("top", view.y + "px");
            canvas.css("zIndex", this.zIndex);
            canvas.attr("width", view.width);
            canvas.attr("height", view.height);
            this.canvas = canvas.get(0);
            this.context = this.canvas.getContext("2d");
        };
        __decorate([
            wd.execOnlyOnce("_isInit")
        ], UIRenderer.prototype, "init", null);
        return UIRenderer;
    }(wd.RendererComponent));
    wd.UIRenderer = UIRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EUIRendererState) {
        EUIRendererState[EUIRendererState["NORMAL"] = 0] = "NORMAL";
        EUIRendererState[EUIRendererState["DIRTY"] = 1] = "DIRTY";
        EUIRendererState[EUIRendererState["NOT_DIRTY"] = 2] = "NOT_DIRTY";
    })(wd.EUIRendererState || (wd.EUIRendererState = {}));
    var EUIRendererState = wd.EUIRendererState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpacePartition = (function (_super) {
        __extends(SpacePartition, _super);
        function SpacePartition() {
            _super.apply(this, arguments);
        }
        return SpacePartition;
    }(wd.Component));
    wd.SpacePartition = SpacePartition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Octree = (function (_super) {
        __extends(Octree, _super);
        function Octree() {
            _super.apply(this, arguments);
            this.maxDepth = 2;
            this.maxNodeCapacity = 64;
            this._root = null;
            this._selectionList = wdCb.Collection.create();
        }
        Octree.create = function () {
            var obj = new this();
            return obj;
        };
        Octree.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
        };
        Octree.prototype.build = function () {
            var entityObjectList = this.getChildren(), currentDepth = 0, maxNodeCapacity = this.maxNodeCapacity, maxDepth = this.maxDepth;
            var buildTree = function (worldMin, worldMax, currentDepth, entityObjectList, parentNode) {
                var halfExtends = new wd.Vector3((worldMax.x - worldMin.x) / 2, (worldMax.y - worldMin.y) / 2, (worldMax.z - worldMin.z) / 2);
                for (var x = 0; x < 2; x++) {
                    for (var y = 0; y < 2; y++) {
                        for (var z = 0; z < 2; z++) {
                            var localMin = worldMin.copy().add(halfExtends.copy().scale(x, y, z)), localMax = worldMin.copy().add(halfExtends.copy().scale(x + 1, y + 1, z + 1)), node = wd.OctreeNode.create(localMin, localMax, maxNodeCapacity, currentDepth + 1, maxDepth);
                            node.addEntityObjects(entityObjectList);
                            if (node.entityObjectCount > maxNodeCapacity && currentDepth < maxDepth) {
                                buildTree(localMin, localMax, currentDepth + 1, entityObjectList, node);
                            }
                            parentNode.addNode(node);
                        }
                    }
                }
            };
            this._updateColliderForFirstCheck(entityObjectList);
            var _a = this._getWorldExtends(entityObjectList), worldMin = _a.worldMin, worldMax = _a.worldMax;
            this._root = wd.OctreeNode.create(worldMin, worldMax, maxNodeCapacity, currentDepth + 1, maxDepth);
            buildTree(worldMin, worldMax, currentDepth, entityObjectList, this._root);
        };
        Octree.prototype.getRenderListByFrustumCull = function () {
            var frustumPlanes = wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController).getPlanes();
            return this._visitRoot("findAndAddToRenderList", [frustumPlanes, this._selectionList]);
        };
        Octree.prototype.getIntersectListWithRay = function (e) {
            var locationInView = e.locationInView;
            return this._visitRoot("findAndAddToIntersectList", [wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController).createRay(locationInView.x, locationInView.y), this._selectionList]);
        };
        Octree.prototype.getCollideObjects = function (shape) {
            return this._visitRoot("findAndAddToCollideList", [shape, this._selectionList]);
        };
        Octree.prototype.getChildren = function () {
            return this.entityObject.getChildren();
        };
        Octree.prototype._visitRoot = function (method, args) {
            this._selectionList.removeAllChildren();
            this._root.nodeList.forEach(function (topNode) {
                topNode[method].apply(topNode, args);
            });
            this._selectionList = this._selectionList.removeRepeatItems();
            return this._selectionList;
        };
        Octree.prototype._updateColliderForFirstCheck = function (entityObjectList) {
            var collider = null, self = this;
            entityObjectList.forEach(function (entityObject) {
                if (!entityObject.hasComponent(wd.ColliderForFirstCheck)) {
                    collider = self._createCollider();
                    entityObject.addComponent(collider);
                    collider.init();
                }
                else {
                    collider = entityObject.getComponent(wd.BoxColliderForFirstCheck);
                }
                collider.update(null);
            });
        };
        Octree.prototype._getWorldExtends = function (entityObjectList) {
            var worldMin = wd.Vector3.create(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE), worldMax = wd.Vector3.create(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE), self = this;
            entityObjectList.forEach(function (entityObject) {
                var min = null, max = null, collider = null, shape = null;
                collider = entityObject.getComponent(wd.BoxColliderForFirstCheck);
                shape = collider.shape;
                min = shape.getMin();
                max = shape.getMax();
                self._checkExtends(min, worldMin, worldMax);
                self._checkExtends(max, worldMin, worldMax);
            });
            return {
                worldMin: worldMin,
                worldMax: worldMax
            };
        };
        Octree.prototype._createCollider = function () {
            return wd.BoxColliderForFirstCheck.create();
        };
        Octree.prototype._checkExtends = function (v, min, max) {
            if (v.x < min.x) {
                min.x = v.x;
            }
            if (v.y < min.y) {
                min.y = v.y;
            }
            if (v.z < min.z) {
                min.z = v.z;
            }
            if (v.x > max.x) {
                max.x = v.x;
            }
            if (v.y > max.y) {
                max.y = v.y;
            }
            if (v.z > max.z) {
                max.z = v.z;
            }
        };
        __decorate([
            wd.require(function (entityObject) {
                wd.assert(entityObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("Octree component", "add to GameObject"));
            })
        ], Octree.prototype, "addToObject", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController), wd.Log.info.FUNC_SHOULD("contain CameraController component"));
            })
        ], Octree.prototype, "getRenderListByFrustumCull", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.Director.getInstance().scene.currentCamera.getComponent(wd.CameraController), wd.Log.info.FUNC_SHOULD("contain CameraController component"));
            })
        ], Octree.prototype, "getIntersectListWithRay", null);
        return Octree;
    }(wd.SpacePartition));
    wd.Octree = Octree;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var OctreeNode = (function () {
        function OctreeNode(minPoint, maxPoint, capacity, depth, maxDepth) {
            this.entityObjectList = wdCb.Collection.create();
            this.nodeList = wdCb.Collection.create();
            this._depth = null;
            this._maxDepth = null;
            this._capacity = null;
            this._minPoint = null;
            this._maxPoint = null;
            this._boundingVectors = null;
            this._capacity = capacity;
            this._depth = depth;
            this._maxDepth = maxDepth;
            this._minPoint = minPoint;
            this._maxPoint = maxPoint;
        }
        OctreeNode.create = function (minPoint, maxPoint, capacity, depth, maxDepth) {
            var obj = new this(minPoint, maxPoint, capacity, depth, maxDepth);
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(OctreeNode.prototype, "entityObjectCount", {
            get: function () {
                return this.entityObjectList.getCount();
            },
            enumerable: true,
            configurable: true
        });
        OctreeNode.prototype.initWhenCreate = function () {
            this._boundingVectors = wd.BoundingRegionUtils.buildBoundingVectors(this._minPoint, this._maxPoint);
        };
        OctreeNode.prototype.addEntityObjects = function (entityObjectList) {
            var self = this, localMin = this._minPoint, localMax = this._maxPoint;
            entityObjectList.forEach(function (entityObject) {
                if (entityObject.getComponent(wd.BoxColliderForFirstCheck).shape.isIntersectWithBox(localMin, localMax)) {
                    self.entityObjectList.addChild(entityObject);
                }
            });
        };
        OctreeNode.prototype.addNode = function (node) {
            this.nodeList.addChild(node);
        };
        OctreeNode.prototype.findAndAddToRenderList = function (frustumPlanes, selectionList) {
            if (wd.BoundingRegionUtils.isAABBIntersectFrustum(this._boundingVectors, frustumPlanes)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToRenderList(frustumPlanes, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList.filter(function (entityObject) {
                    return entityObject.isVisible;
                }));
            }
        };
        OctreeNode.prototype.findAndAddToIntersectList = function (ray, selectionList) {
            if (ray.isIntersectWithAABB(this._minPoint, this._maxPoint)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToIntersectList(ray, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList);
            }
        };
        OctreeNode.prototype.findAndAddToCollideList = function (shape, selectionList) {
            if (shape.isIntersectWithBox(this._minPoint, this._maxPoint)) {
                if (this._hasNode()) {
                    this.nodeList.forEach(function (node) {
                        node.findAndAddToCollideList(shape, selectionList);
                    });
                    return;
                }
                selectionList.addChildren(this.entityObjectList);
            }
        };
        OctreeNode.prototype._hasNode = function () {
            return this.nodeList.getCount() > 0;
        };
        __decorate([
            wd.require(function (entityObjectList) {
                entityObjectList.forEach(function (entityObject) {
                    wd.assert(entityObject instanceof wd.GameObject, wd.Log.info.FUNC_SHOULD("add gameObjects"));
                });
            })
        ], OctreeNode.prototype, "addEntityObjects", null);
        return OctreeNode;
    }());
    wd.OctreeNode = OctreeNode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColliderForFirstCheck = (function (_super) {
        __extends(ColliderForFirstCheck, _super);
        function ColliderForFirstCheck() {
            _super.apply(this, arguments);
        }
        return ColliderForFirstCheck;
    }(wd.Component));
    wd.ColliderForFirstCheck = ColliderForFirstCheck;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxColliderForFirstCheck = (function (_super) {
        __extends(BoxColliderForFirstCheck, _super);
        function BoxColliderForFirstCheck() {
            _super.apply(this, arguments);
            this._collider = wd.BoxCollider.create();
        }
        BoxColliderForFirstCheck.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BoxColliderForFirstCheck.prototype, "shape", {
            get: function () {
                return this._collider.shape;
            },
            enumerable: true,
            configurable: true
        });
        BoxColliderForFirstCheck.prototype.init = function () {
            this._collider.entityObject = this.entityObject;
            this._collider.init();
        };
        BoxColliderForFirstCheck.prototype.update = function (elapsedTime) {
            this._collider.update(elapsedTime);
        };
        return BoxColliderForFirstCheck;
    }(wd.ColliderForFirstCheck));
    wd.BoxColliderForFirstCheck = BoxColliderForFirstCheck;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Collider = (function (_super) {
        __extends(Collider, _super);
        function Collider() {
            _super.apply(this, arguments);
            this.type = wd.ABSTRACT_ATTRIBUTE;
            this.boundingRegion = null;
        }
        Object.defineProperty(Collider.prototype, "shape", {
            get: function () {
                return this.boundingRegion.shape;
            },
            enumerable: true,
            configurable: true
        });
        Collider.prototype.init = function () {
            this.boundingRegion = this.createBoundingRegion();
            this.boundingRegion.init();
            this.buildBoundingRegion();
        };
        Collider.prototype.update = function (elapsedTime) {
            this.boundingRegion.update();
        };
        Collider.prototype.updateShape = function () {
            this.boundingRegion.updateShape();
        };
        Collider.prototype.isIntersectWith = function (collider) {
            if (collider instanceof wd.BoxCollider) {
                return this.boundingRegion.isIntersectWithBox(collider.boundingRegion);
            }
            else if (collider instanceof wd.SphereCollider) {
                return this.boundingRegion.isIntersectWithSphere(collider.boundingRegion);
            }
            else {
                wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT(this.type + " collider", "intersect with " + collider.type + " collider"));
            }
        };
        Collider.prototype.isCollide = function (targetObject) {
            var collider = null;
            if (this._isSelf(targetObject) || !targetObject.hasComponent(Collider)) {
                return false;
            }
            collider = targetObject.getComponent(Collider);
            if (targetObject.hasComponent(wd.RigidBody)) {
                collider.updateShape();
            }
            return this.isIntersectWith(collider);
        };
        Collider.prototype._isSelf = function (entityObject) {
            return wd.JudgeUtils.isSelf(this.entityObject, entityObject);
        };
        __decorate([
            wd.require(function (collider) {
                wd.assert(collider instanceof Collider, wd.Log.info.FUNC_SHOULD("target", "be collider"));
            })
        ], Collider.prototype, "isIntersectWith", null);
        return Collider;
    }(wd.Component));
    wd.Collider = Collider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxCollider = (function (_super) {
        __extends(BoxCollider, _super);
        function BoxCollider() {
            _super.apply(this, arguments);
            this.center = wd.Vector3.create(0, 0, 0);
            this.halfExtents = null;
            this.type = wd.EColliderType.BOX;
        }
        BoxCollider.create = function () {
            var obj = new this();
            return obj;
        };
        BoxCollider.prototype.createBoundingRegion = function () {
            return wd.BoxBoundingRegion.create(this.entityObject);
        };
        BoxCollider.prototype.buildBoundingRegion = function () {
            this.boundingRegion.build(this.center, this.halfExtents);
        };
        return BoxCollider;
    }(wd.Collider));
    wd.BoxCollider = BoxCollider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereCollider = (function (_super) {
        __extends(SphereCollider, _super);
        function SphereCollider() {
            _super.apply(this, arguments);
            this.center = wd.Vector3.create(0, 0, 0);
            this.radius = null;
            this.type = wd.EColliderType.SPHERE;
        }
        SphereCollider.create = function () {
            var obj = new this();
            return obj;
        };
        SphereCollider.prototype.createBoundingRegion = function () {
            return wd.SphereBoundingRegion.create(this.entityObject);
        };
        SphereCollider.prototype.buildBoundingRegion = function () {
            this.boundingRegion.build(this.center, this.radius);
        };
        return SphereCollider;
    }(wd.Collider));
    wd.SphereCollider = SphereCollider;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoundingRegion = (function () {
        function BoundingRegion(entityObject) {
            this.shape = null;
            this.entityObject = null;
            this.isUserSpecifyTheRegion = false;
            this.originShape = null;
            this.debugObject = null;
            this.entityObject = entityObject;
        }
        BoundingRegion.prototype.init = function () {
            this.shape = this.createShape();
        };
        BoundingRegion.prototype.build = function (center) {
            var args = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                args[_i - 1] = arguments[_i];
            }
            var params = Array.prototype.slice.call(arguments, 0);
            if (this.isBuildUserSpecifyBoundingRegion.apply(this, params)) {
                this.isUserSpecifyTheRegion = true;
                this.shape.setFromShapeParam.apply(this.shape, params);
            }
            else {
                this.shape.setFromPoints(wd.ColliderUtils.getVertices(this.entityObject));
            }
            this.originShape = this.shape.copy();
            if (wd.DebugConfig.debugCollision) {
                this.debugObject = this.buildDebugObjectFromShape(this.shape);
                wd.Director.getInstance().scene.addChild(this.debugObject);
            }
        };
        BoundingRegion.prototype.update = function () {
            if (this.isNotTransformed()) {
                return;
            }
            if (wd.DebugConfig.debugCollision) {
                this.updateShape();
                this.updateDebugObjectFromShape(this.shape);
            }
            else if (!this.entityObject.hasComponent(wd.RigidBody)) {
                this.updateShape();
            }
        };
        BoundingRegion.prototype.isIntersectWithSphere = function (boundingRegion) {
            return this.shape.isIntersectWithSphere(boundingRegion.shape);
        };
        BoundingRegion.prototype.isIntersectWithBox = function (boundingRegion) {
            return this.shape.isIntersectWithBox(boundingRegion.shape);
        };
        BoundingRegion.prototype.buildDebugObjectFromShape = function (shape) {
            var material = null, geometry = null, renderer = null, entityObject = null;
            material = wd.BasicMaterial.create();
            material.color = wd.Color.create("rgb(255,0,0)");
            geometry = wd.CustomGeometry.create();
            geometry.material = material;
            geometry.drawMode = wd.EDrawMode.LINES;
            this.setDebugObjectGeometry(geometry, shape);
            renderer = wd.MeshRenderer.create();
            entityObject = wd.GameObject.create();
            entityObject.addComponent(geometry);
            entityObject.addComponent(renderer);
            entityObject.transform.translate(shape.center);
            entityObject.name = "debugBoundingRegion" + this.entityObject.uid;
            entityObject.init();
            return entityObject;
        };
        __decorate([
            wd.ensure(function (returnValue, center) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                if (this.isBuildUserSpecifyBoundingRegion.apply(this, Array.prototype.slice.call(arguments, 1))) {
                    wd.assert(this.shape.center.isEqual(center), wd.Log.info.FUNC_SHOULD_NOT("transform shape when build"));
                }
            })
        ], BoundingRegion.prototype, "build", null);
        return BoundingRegion;
    }());
    wd.BoundingRegion = BoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoxBoundingRegion = (function (_super) {
        __extends(BoxBoundingRegion, _super);
        function BoxBoundingRegion() {
            _super.apply(this, arguments);
        }
        BoxBoundingRegion.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        BoxBoundingRegion.prototype.updateShape = function () {
            var transform = this.entityObject.transform;
            if (this.isUserSpecifyTheRegion) {
                this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
            }
            else {
                if (transform.isRotate) {
                    this.shape.setFromObject(this.entityObject);
                }
                else {
                    this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
                }
            }
        };
        BoxBoundingRegion.prototype.createShape = function () {
            return wd.AABBShape.create();
        };
        BoxBoundingRegion.prototype.updateDebugObjectFromShape = function (shape) {
            var geometry = this.debugObject.getComponent(wd.CustomGeometry);
            this.setDebugObjectGeometry(geometry, shape);
            this.debugObject.transform.position = shape.center;
        };
        BoxBoundingRegion.prototype.setDebugObjectGeometry = function (geometry, shape) {
            var halfExtents = shape.halfExtents, x = halfExtents.x, y = halfExtents.y, z = halfExtents.z;
            geometry.vertices = [
                -x, -y, -z, -x, -y, z, x, -y, z, x, -y, -z,
                -x, y, -z, -x, y, z, x, y, z, x, y, -z
            ];
            geometry.indices = [
                0, 1, 1, 2, 2, 3, 3, 0,
                4, 5, 5, 6, 6, 7, 7, 4,
                0, 4, 1, 5, 2, 6, 3, 7
            ];
        };
        BoxBoundingRegion.prototype.isBuildUserSpecifyBoundingRegion = function (center, halfExtents) {
            return !!center && !!halfExtents;
        };
        BoxBoundingRegion.prototype.isNotTransformed = function () {
            var transform = this.entityObject.transform;
            return !transform.isRotate && !transform.isTranslate && !transform.isScale;
        };
        __decorate([
            wd.require(function (shape) {
                wd.assert(this.debugObject, wd.Log.info.FUNC_SHOULD("build debugObject"));
            })
        ], BoxBoundingRegion.prototype, "updateDebugObjectFromShape", null);
        __decorate([
            wd.require(function (geometry, shape) {
                wd.assert(shape.halfExtents && !shape.halfExtents.isZero(), wd.Log.info.FUNC_SHOULD_NOT("halfExtents", "be zero"));
            })
        ], BoxBoundingRegion.prototype, "setDebugObjectGeometry", null);
        return BoxBoundingRegion;
    }(wd.BoundingRegion));
    wd.BoxBoundingRegion = BoxBoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereBoundingRegion = (function (_super) {
        __extends(SphereBoundingRegion, _super);
        function SphereBoundingRegion() {
            _super.apply(this, arguments);
        }
        SphereBoundingRegion.create = function (entityObject) {
            var obj = new this(entityObject);
            return obj;
        };
        SphereBoundingRegion.prototype.updateShape = function () {
            var transform = this.entityObject.transform;
            this.shape.setFromTranslationAndScale(this.originShape, transform.localToWorldMatrix);
        };
        SphereBoundingRegion.prototype.createShape = function () {
            return wd.SphereShape.create();
        };
        SphereBoundingRegion.prototype.updateDebugObjectFromShape = function (shape) {
            this.debugObject.transform.position = shape.center;
            var scaleTimes = shape.radius / this.originShape.radius;
            this.debugObject.transform.scale = wd.Vector3.create(scaleTimes, scaleTimes, scaleTimes);
        };
        SphereBoundingRegion.prototype.isNotTransformed = function () {
            var transform = this.entityObject.transform;
            return !transform.isTranslate && !transform.isScale;
        };
        SphereBoundingRegion.prototype.isBuildUserSpecifyBoundingRegion = function (center, radius) {
            return !!center && !!radius;
        };
        SphereBoundingRegion.prototype.setDebugObjectGeometry = function (geometry, shape) {
            var SEGMENTS = 40, RINGCOUNT = 3;
            var radius = shape.radius, vertices = [], x = 0;
            for (var ring = 0; ring < RINGCOUNT; ring++) {
                var xo = 0, yo = 1, zo = 2, theta = null;
                if (ring === 1) {
                    xo = 1;
                    yo = 0;
                    zo = 2;
                }
                else if (ring === 2) {
                    xo = 0;
                    yo = 2;
                    zo = 1;
                }
                for (var i = 0; i < SEGMENTS; i++) {
                    theta = 2 * Math.PI * (i / SEGMENTS);
                    vertices[x + xo] = radius * Math.cos(theta);
                    vertices[x + yo] = 0;
                    vertices[x + zo] = radius * Math.sin(theta);
                    x += 3;
                    theta = 2 * Math.PI * ((i + 1) / SEGMENTS);
                    vertices[x + xo] = radius * Math.cos(theta);
                    vertices[x + yo] = 0;
                    vertices[x + zo] = radius * Math.sin(theta);
                    x += 3;
                }
            }
            geometry.vertices = vertices;
        };
        __decorate([
            wd.require(function (shape) {
                wd.assert(this.debugObject, wd.Log.info.FUNC_SHOULD("build debugObject"));
            })
        ], SphereBoundingRegion.prototype, "updateDebugObjectFromShape", null);
        __decorate([
            wd.require(function (geometry, shape) {
                wd.assert(shape.radius > 0, wd.Log.info.FUNC_SHOULD("radius", "> 0"));
            })
        ], SphereBoundingRegion.prototype, "setDebugObjectGeometry", null);
        return SphereBoundingRegion;
    }(wd.BoundingRegion));
    wd.SphereBoundingRegion = SphereBoundingRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BoundingRegionUtils = (function () {
        function BoundingRegionUtils() {
        }
        BoundingRegionUtils.isAABBInFrustum = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var boundingVectors = null, frustumPlanes = null;
            if (args.length === 2) {
                boundingVectors = args[0];
                frustumPlanes = args[1];
            }
            else if (args.length === 3) {
                var minPoint = args[0], maxPoint = args[1];
                boundingVectors = this.buildBoundingVectors(minPoint, maxPoint);
                frustumPlanes = args[2];
            }
            for (var p = 0; p < 6; p++) {
                for (var i = 0; i < 8; i++) {
                    if (frustumPlanes[p].dotCoordinate(boundingVectors[i]) < 0) {
                        return false;
                    }
                }
            }
            return true;
        };
        BoundingRegionUtils.isAABBIntersectFrustum = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var boundingVectors = null, frustumPlanes = null;
            if (args.length === 2) {
                boundingVectors = args[0];
                frustumPlanes = args[1];
            }
            else if (args.length === 3) {
                var minPoint = args[0], maxPoint = args[1];
                boundingVectors = this.buildBoundingVectors(minPoint, maxPoint);
                frustumPlanes = args[2];
            }
            for (var p = 0; p < 6; p++) {
                var inCount = 8;
                for (var i = 0; i < 8; i++) {
                    if (frustumPlanes[p].dotCoordinate(boundingVectors[i]) < 0) {
                        inCount--;
                    }
                    else {
                        break;
                    }
                }
                if (inCount === 0) {
                    return false;
                }
            }
            return true;
        };
        BoundingRegionUtils.buildBoundingVectors = function (minPoint, maxPoint) {
            var boundingVectors = [];
            boundingVectors.push(minPoint.copy());
            boundingVectors.push(maxPoint.copy());
            boundingVectors.push(minPoint.copy());
            boundingVectors[2].x = maxPoint.x;
            boundingVectors.push(minPoint.copy());
            boundingVectors[3].y = maxPoint.y;
            boundingVectors.push(minPoint.copy());
            boundingVectors[4].z = maxPoint.z;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[5].z = minPoint.z;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[6].x = minPoint.x;
            boundingVectors.push(maxPoint.copy());
            boundingVectors[7].y = minPoint.y;
            return boundingVectors;
        };
        return BoundingRegionUtils;
    }());
    wd.BoundingRegionUtils = BoundingRegionUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Shape = (function () {
        function Shape() {
            this.center = wd.Vector3.create(0, 0, 0);
        }
        Shape.prototype.isBoxAndSphereIntersected = function (box, sphere) {
            var sphereCenter = sphere.center, sphereRadius = sphere.radius;
            return sphereCenter.distanceToSquared(box.closestPointTo(sphereCenter)) < Math.pow(sphereRadius, 2);
        };
        return Shape;
    }());
    wd.Shape = Shape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AABBShape = (function (_super) {
        __extends(AABBShape, _super);
        function AABBShape() {
            _super.apply(this, arguments);
            this.halfExtents = wd.Vector3.create(0.5, 0.5, 0.5);
        }
        AABBShape.create = function () {
            var obj = new this();
            return obj;
        };
        AABBShape.getCenter = function (min, max) {
            return wd.Vector3.create().add2(max, min).scale(0.5);
        };
        AABBShape.getHalfExtents = function (min, max) {
            return wd.Vector3.create().sub2(max, min).scale(0.5);
        };
        AABBShape.prototype.setMinMax = function (min, max) {
            this.center = AABBShape.getCenter(min, max);
            this.halfExtents = AABBShape.getHalfExtents(min, max);
        };
        AABBShape.prototype.getMin = function () {
            return this.center.copy().sub(this.halfExtents);
        };
        AABBShape.prototype.getMax = function () {
            return this.center.copy().add(this.halfExtents);
        };
        AABBShape.prototype.setFromShapeParam = function (center, halfExtents) {
            this.center = center;
            this.halfExtents = halfExtents;
        };
        AABBShape.prototype.setFromPoints = function (points) {
            var self = this, min = this._getEmptyMin(), max = this._getEmptyMax();
            wd.GeometryUtils.iterateThreeComponent(points, function (point) {
                self._expandByPoint(point, min, max);
            });
            this.setMinMax(min, max);
            return this;
        };
        AABBShape.prototype.setFromTransformedAABB = function (aabb, matrix) {
            var bc = this.center, br = this.halfExtents, ac = aabb.center.values, ar = aabb.halfExtents.values, m = matrix.values, mx0 = m[0], mx1 = m[4], mx2 = m[8], my0 = m[1], my1 = m[5], my2 = m[9], mz0 = m[2], mz1 = m[6], mz2 = m[10], mx0a = Math.abs(mx0), mx1a = Math.abs(mx1), mx2a = Math.abs(mx2), my0a = Math.abs(my0), my1a = Math.abs(my1), my2a = Math.abs(my2), mz0a = Math.abs(mz0), mz1a = Math.abs(mz1), mz2a = Math.abs(mz2);
            bc.set(m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2], m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2], m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2]);
            br.set(mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2], my0a * ar[0] + my1a * ar[1] + my2a * ar[2], mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2]);
        };
        AABBShape.prototype.setFromTranslationAndScale = function (aabb, matrix) {
            var translation = matrix.getTranslation(), scale = matrix.getScale();
            this.center = aabb.center.copy().add(translation);
            this.halfExtents = aabb.halfExtents.copy().mul(scale);
        };
        AABBShape.prototype.setFromObject = function (entityObject) {
            var modelMatrix = entityObject.transform.localToWorldMatrix, vertices = wd.ColliderUtils.getVertices(entityObject), self = this, min = this._getEmptyMin(), max = this._getEmptyMax();
            wd.GeometryUtils.iterateThreeComponent(vertices, function (point) {
                point.applyMatrix4(modelMatrix);
                self._expandByPoint(point, min, max);
            });
            this.setMinMax(min, max);
        };
        AABBShape.prototype.isIntersectWithBox = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var aMax = this.getMax(), aMin = this.getMin(), bMax = null, bMin = null;
            if (args.length === 1) {
                var shape = args[0];
                bMin = shape.getMin();
                bMax = shape.getMax();
            }
            else if (args.length === 2) {
                bMin = args[0];
                bMax = args[1];
            }
            return (aMin.x <= bMax.x) && (aMax.x >= bMin.x) &&
                (aMin.y <= bMax.y) && (aMax.y >= bMin.y) &&
                (aMin.z <= bMax.z) && (aMax.z >= bMin.z);
        };
        AABBShape.prototype.isIntersectWithSphere = function (shape) {
            return this.isBoxAndSphereIntersected(this, shape);
        };
        AABBShape.prototype.isIntersectWithRay = function (ray) {
            return ray.isIntersectWithAABB(this);
        };
        AABBShape.prototype.closestPointTo = function (point) {
            var min = this.getMin(), max = this.getMax(), resultPoint = wd.Vector3.create();
            if (point.x < min.x) {
                resultPoint.x = min.x;
            }
            else if (point.x > max.x) {
                resultPoint.x = max.x;
            }
            else {
                resultPoint.x = point.x;
            }
            if (point.y < min.y) {
                resultPoint.y = min.y;
            }
            else if (point.y > max.y) {
                resultPoint.y = max.y;
            }
            else {
                resultPoint.y = point.y;
            }
            if (point.z < min.z) {
                resultPoint.z = min.z;
            }
            else if (point.z > max.z) {
                resultPoint.z = max.z;
            }
            else {
                resultPoint.z = point.z;
            }
            return resultPoint;
        };
        AABBShape.prototype.containPoint = function (point) {
            var min = this.getMin(), max = this.getMax();
            for (var i = 0; i < 3; ++i) {
                if (point.values[i] < min.values[i] || point.values[i] > max.values[i]) {
                    return false;
                }
            }
            return true;
        };
        AABBShape.prototype.copy = function () {
            var shape = AABBShape.create();
            shape.center = this.center.copy();
            shape.halfExtents = this.halfExtents.copy();
            return shape;
        };
        AABBShape.prototype._getEmptyMin = function () {
            return wd.Vector3.create(Infinity, Infinity, Infinity);
        };
        AABBShape.prototype._getEmptyMax = function () {
            return wd.Vector3.create(-Infinity, -Infinity, -Infinity);
        };
        AABBShape.prototype._expandByPoint = function (point, min, max) {
            min.min(point);
            max.max(point);
        };
        __decorate([
            wd.require(function (entityObject) {
                var vertices = wd.ColliderUtils.getVertices(entityObject);
                wd.assert(vertices && vertices.length > 0, wd.Log.info.FUNC_MUST_DEFINE("vertices"));
            })
        ], AABBShape.prototype, "setFromObject", null);
        return AABBShape;
    }(wd.Shape));
    wd.AABBShape = AABBShape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SphereShape = (function (_super) {
        __extends(SphereShape, _super);
        function SphereShape() {
            _super.apply(this, arguments);
            this.radius = 1;
        }
        SphereShape.create = function () {
            var obj = new this();
            return obj;
        };
        SphereShape.prototype.setFromShapeParam = function (center, radius) {
            this.center = center;
            this.radius = radius;
        };
        SphereShape.prototype.setFromPoints = function (points) {
            var aabb = wd.AABBShape.create();
            this.center = aabb.setFromPoints(points).center;
            this.radius = this._findMaxDistanceOfPointsToCenter(points);
        };
        SphereShape.prototype.setFromTranslationAndScale = function (sphere, matrix) {
            var translation = matrix.getTranslation(), scale = matrix.getScale();
            this.center = sphere.center.copy().add(translation);
            this.radius = sphere.radius * Math.max(scale.x, scale.y, scale.z);
        };
        SphereShape.prototype.isIntersectWithSphere = function (shape) {
            var radiusSum = this.radius + shape.radius;
            return shape.center.distanceToSquared(this.center) <= (Math.pow(radiusSum, 2));
        };
        SphereShape.prototype.isIntersectWithBox = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var shape = null;
            if (args.length === 1) {
                shape = args[0];
            }
            else if (args.length === 2) {
                var min = args[0], max = args[1];
                shape = wd.AABBShape.create();
                shape.setMinMax(min, max);
            }
            return this.isBoxAndSphereIntersected(shape, this);
        };
        SphereShape.prototype.isIntersectWithRay = function (ray) {
            return ray.isIntersectWithSphere(this);
        };
        SphereShape.prototype.containPoint = function (point) {
            return point.distanceToSquared(this.center) <= (Math.pow(this.radius, 2));
        };
        SphereShape.prototype.copy = function () {
            var shape = SphereShape.create();
            shape.center = this.center.copy();
            shape.radius = this.radius;
            return shape;
        };
        SphereShape.prototype._findMaxDistanceOfPointsToCenter = function (points) {
            var maxRadiusSq = 0, center = this.center;
            wd.GeometryUtils.iterateThreeComponent(points, function (point) {
                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(point));
            });
            return Math.sqrt(maxRadiusSq);
        };
        return SphereShape;
    }(wd.Shape));
    wd.SphereShape = SphereShape;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EColliderType) {
        EColliderType[EColliderType["BOX"] = "box"] = "BOX";
        EColliderType[EColliderType["SPHERE"] = "sphere"] = "SPHERE";
    })(wd.EColliderType || (wd.EColliderType = {}));
    var EColliderType = wd.EColliderType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColliderUtils = (function () {
        function ColliderUtils() {
        }
        ColliderUtils.getVertices = function (entityObject) {
            if (!entityObject.hasComponent(wd.Geometry)) {
                if (entityObject.hasTag(wd.EWDTag.CONTAINER)) {
                    return entityObject.getChild(0).getComponent(wd.Geometry).vertices;
                }
                return null;
            }
            return entityObject.getComponent(wd.Geometry).geometryData.vertices;
        };
        __decorate([
            wd.require(function (entityObject) {
                if (!entityObject.hasComponent(wd.Geometry)) {
                    if (entityObject.hasTag(wd.EWDTag.CONTAINER)) {
                        var firstChildVertices = entityObject.getChild(0).getComponent(wd.Geometry).vertices, secondChildVertices = entityObject.getChild(1).getComponent(wd.Geometry).vertices;
                        wd.assert(!!firstChildVertices && firstChildVertices.length === secondChildVertices.length, wd.Log.info.FUNC_SHOULD("if entityObject is EWDTag.CONTAINER, then its children should has its vertices"));
                    }
                }
            })
        ], ColliderUtils, "getVertices", null);
        return ColliderUtils;
    }());
    wd.ColliderUtils = ColliderUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RigidBody = (function (_super) {
        __extends(RigidBody, _super);
        function RigidBody() {
            _super.apply(this, arguments);
            this._friction = 0;
            this._restitution = 0;
            this._children = wdCb.Collection.create();
            this.lockConstraint = wd.LockConstraint.create(this);
            this.distanceConstraint = wd.DistanceConstraint.create(this);
            this.hingeConstraint = wd.HingeConstraint.create(this);
            this.pointToPointConstraintList = wd.PointToPointConstraintList.create(this);
            this._afterInitSubscription = null;
            this._afterInitRigidbodyAddConstraintSubscription = null;
        }
        Object.defineProperty(RigidBody.prototype, "friction", {
            get: function () {
                return this._friction;
            },
            set: function (friction) {
                this._friction = friction;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RigidBody.prototype, "restitution", {
            get: function () {
                return this._restitution;
            },
            set: function (restitution) {
                this._restitution = restitution;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RigidBody.prototype, "children", {
            get: function () {
                return this._children;
            },
            set: function (children) {
                if (wd.JudgeUtils.isArrayExactly(children)) {
                    var arr = children;
                    this._children = wdCb.Collection.create(arr);
                }
                else {
                    var list = children;
                    this._children = list;
                }
                this._children.forEach(function (child) {
                    child.addTag("isRigidbodyChild");
                });
            },
            enumerable: true,
            configurable: true
        });
        RigidBody.prototype.init = function () {
            var self = this;
            this._afterInitSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT)
                .subscribe(function () {
                self._afterInitHandler();
            });
            this._afterInitRigidbodyAddConstraintSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.AFTER_GAMEOBJECT_INIT_RIGIDBODY_ADD_CONSTRAINT)
                .subscribe(function () {
                self._afterInitRigidbodyAddConstraintHandler();
            });
        };
        RigidBody.prototype.addConstraint = function () {
            var _this = this;
            var engineAdapter = this.getPhysicsEngineAdapter();
            if (this.lockConstraint && this.lockConstraint.connectedBody) {
                engineAdapter.addLockConstraint(this.entityObject, this.lockConstraint);
            }
            if (this.distanceConstraint && this.distanceConstraint.connectedBody) {
                engineAdapter.addDistanceConstraint(this.entityObject, this.distanceConstraint);
            }
            if (this.hingeConstraint && this.hingeConstraint.connectedBody) {
                engineAdapter.addHingeConstraint(this.entityObject, this.hingeConstraint);
            }
            if (this.pointToPointConstraintList && this.pointToPointConstraintList.getCount() > 0) {
                this.pointToPointConstraintList.forEach(function (constraint) {
                    engineAdapter.addPointToPointConstraint(_this.entityObject, constraint);
                }, this);
            }
        };
        RigidBody.prototype.removeFromObject = function (entityObject) {
            var engineAdapter = this.getPhysicsEngineAdapter();
            if (engineAdapter) {
                this.getPhysicsEngineAdapter().removeGameObject(entityObject);
                this.getPhysicsEngineAdapter().removeConstraints(entityObject);
            }
            _super.prototype.removeFromObject.call(this, entityObject);
        };
        RigidBody.prototype.dispose = function () {
            this._children.forEach(function (child) {
                child.removeTag("isRigidbodyChild");
            }, this);
            this._afterInitSubscription && this._afterInitSubscription.dispose();
            this._afterInitRigidbodyAddConstraintSubscription && this._afterInitRigidbodyAddConstraintSubscription.dispose();
        };
        RigidBody.prototype.getPhysicsEngineAdapter = function () {
            return wd.Director.getInstance().scene.physicsEngineAdapter;
        };
        RigidBody.prototype.isPhysicsEngineAdapterExist = function () {
            return !!wd.Director.getInstance().scene && !!wd.Director.getInstance().scene.physicsEngineAdapter;
        };
        RigidBody.prototype.addBodyToPhysicsEngine = function (method, data) {
            if (data === void 0) { data = {}; }
            var engineAdapter = this.getPhysicsEngineAdapter(), position = this.entityObject.transform.position, rotation = this.entityObject.transform.rotation;
            engineAdapter[method](this.entityObject, wdCb.ExtendUtils.extend({
                position: position,
                rotation: rotation,
                children: this._children,
                lockConstraint: this.lockConstraint,
                onContact: wdCb.FunctionUtils.bind(this, this._onContact),
                onCollisionStart: wdCb.FunctionUtils.bind(this, this._onCollisionStart),
                onCollisionEnd: wdCb.FunctionUtils.bind(this, this._onCollisionEnd),
                friction: this.friction,
                restitution: this.restitution
            }, data));
        };
        RigidBody.prototype._onContact = function (collideObject) {
            this.entityObject.execScript("onContact", wdCb.Collection.create([collideObject]));
        };
        RigidBody.prototype._onCollisionStart = function (collideObject) {
            this.entityObject.execScript("onCollisionStart", wdCb.Collection.create([collideObject]));
        };
        RigidBody.prototype._onCollisionEnd = function () {
            this.entityObject.execScript("onCollisionEnd");
        };
        RigidBody.prototype._isContainer = function (entityObject) {
            var rigidBody = entityObject.getComponent(RigidBody);
            return rigidBody.children.getCount() > 0;
        };
        RigidBody.prototype._afterInitHandler = function () {
            this.addBody();
        };
        RigidBody.prototype._afterInitRigidbodyAddConstraintHandler = function () {
            this.addConstraint();
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("Friction")
        ], RigidBody.prototype, "friction", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Restitution")
        ], RigidBody.prototype, "restitution", null);
        __decorate([
            wd.require(function () {
                if (this._isContainer(this.entityObject)) {
                    wd.assert(!this.entityObject.getComponent(wd.Collider), wd.Log.info.FUNC_SHOULD_NOT("container", "add collider component in the case of compound"));
                }
                else {
                    wd.assert(!!this.entityObject.getComponent(wd.Collider), wd.Log.info.FUNC_MUST_DEFINE("collider component when add rigid body component"));
                    wd.assert(!!this.entityObject.getComponent(wd.Collider).shape, wd.Log.info.FUNC_SHOULD("create collider.shape before adding rigid body component"));
                }
            })
        ], RigidBody.prototype, "addBodyToPhysicsEngine", null);
        __decorate([
            wd.execOnlyOnce("_isAfterInit")
        ], RigidBody.prototype, "_afterInitHandler", null);
        __decorate([
            wd.execOnlyOnce("_isAfterInitRigidbodyAddConstraint")
        ], RigidBody.prototype, "_afterInitRigidbodyAddConstraintHandler", null);
        return RigidBody;
    }(wd.Component));
    wd.RigidBody = RigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicRigidBody = (function (_super) {
        __extends(DynamicRigidBody, _super);
        function DynamicRigidBody() {
            _super.apply(this, arguments);
            this._linearDamping = 0;
            this._angularDamping = 0;
            this._velocity = wd.Vector3.create(0, 0, 0);
            this._angularVelocity = wd.Vector3.create(0, 0, 0);
            this._mass = 1;
            this.impulse = null;
            this.force = null;
            this.hitPoint = null;
        }
        DynamicRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(DynamicRigidBody.prototype, "linearDamping", {
            get: function () {
                return this._linearDamping;
            },
            set: function (linearDamping) {
                this._linearDamping = linearDamping;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "angularDamping", {
            get: function () {
                return this._angularDamping;
            },
            set: function (angularDamping) {
                this._angularDamping = angularDamping;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "velocity", {
            get: function () {
                return this._velocity;
            },
            set: function (velocity) {
                this._velocity = velocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "angularVelocity", {
            get: function () {
                return this._angularVelocity;
            },
            set: function (angularVelocity) {
                this._angularVelocity = angularVelocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DynamicRigidBody.prototype, "mass", {
            get: function () {
                return this._mass;
            },
            set: function (mass) {
                this._mass = mass;
            },
            enumerable: true,
            configurable: true
        });
        DynamicRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addDynamicBody", {
                mass: this.mass,
                linearDamping: this.linearDamping,
                angularDamping: this.angularDamping,
                velocity: this.velocity,
                angularVelocity: this.angularVelocity,
                impulse: this.impulse,
                force: this.force,
                hitPoint: this.hitPoint
            });
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("LinearDamping")
        ], DynamicRigidBody.prototype, "linearDamping", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularDamping")
        ], DynamicRigidBody.prototype, "angularDamping", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Velocity")
        ], DynamicRigidBody.prototype, "velocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularVelocity")
        ], DynamicRigidBody.prototype, "angularVelocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Mass")
        ], DynamicRigidBody.prototype, "mass", null);
        return DynamicRigidBody;
    }(wd.RigidBody));
    wd.DynamicRigidBody = DynamicRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var KinematicRigidBody = (function (_super) {
        __extends(KinematicRigidBody, _super);
        function KinematicRigidBody() {
            _super.apply(this, arguments);
            this._velocity = wd.Vector3.create(0, 0, 0);
            this._angularVelocity = wd.Vector3.create(0, 0, 0);
            this._mass = 1;
        }
        KinematicRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(KinematicRigidBody.prototype, "velocity", {
            get: function () {
                return this._velocity;
            },
            set: function (velocity) {
                this._velocity = velocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KinematicRigidBody.prototype, "angularVelocity", {
            get: function () {
                return this._angularVelocity;
            },
            set: function (angularVelocity) {
                this._angularVelocity = angularVelocity;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(KinematicRigidBody.prototype, "mass", {
            get: function () {
                return this._mass;
            },
            set: function (mass) {
                this._mass = mass;
            },
            enumerable: true,
            configurable: true
        });
        KinematicRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addKinematicBody", {
                mass: this.mass,
                velocity: this.velocity,
                angularVelocity: this.angularVelocity
            });
        };
        __decorate([
            wd.operateBodyDataGetterAndSetter("Velocity")
        ], KinematicRigidBody.prototype, "velocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("AngularVelocity")
        ], KinematicRigidBody.prototype, "angularVelocity", null);
        __decorate([
            wd.operateBodyDataGetterAndSetter("Mass")
        ], KinematicRigidBody.prototype, "mass", null);
        return KinematicRigidBody;
    }(wd.RigidBody));
    wd.KinematicRigidBody = KinematicRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var StaticRigidBody = (function (_super) {
        __extends(StaticRigidBody, _super);
        function StaticRigidBody() {
            _super.apply(this, arguments);
        }
        StaticRigidBody.create = function () {
            var obj = new this();
            return obj;
        };
        StaticRigidBody.prototype.addBody = function () {
            this.addBodyToPhysicsEngine("addStaticBody");
        };
        return StaticRigidBody;
    }(wd.RigidBody));
    wd.StaticRigidBody = StaticRigidBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PhysicsConstraint = (function () {
        function PhysicsConstraint(rigidBody) {
            this.maxForce = null;
            this.rigidBody = null;
            this.rigidBody = rigidBody;
        }
        return PhysicsConstraint;
    }());
    wd.PhysicsConstraint = PhysicsConstraint;
    var LockConstraint = (function (_super) {
        __extends(LockConstraint, _super);
        function LockConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
        }
        LockConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(LockConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeLockConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return LockConstraint;
    }(PhysicsConstraint));
    wd.LockConstraint = LockConstraint;
    var DistanceConstraint = (function (_super) {
        __extends(DistanceConstraint, _super);
        function DistanceConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
            this.distance = null;
        }
        DistanceConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(DistanceConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeDistanceConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return DistanceConstraint;
    }(PhysicsConstraint));
    wd.DistanceConstraint = DistanceConstraint;
    var HingeConstraint = (function (_super) {
        __extends(HingeConstraint, _super);
        function HingeConstraint() {
            _super.apply(this, arguments);
            this._connectedBody = null;
            this.pivotA = null;
            this.pivotB = null;
            this.axisA = null;
            this.axisB = null;
        }
        HingeConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        Object.defineProperty(HingeConstraint.prototype, "connectedBody", {
            get: function () {
                return this._connectedBody;
            },
            set: function (connectedBody) {
                var engineAdapter = null;
                this._connectedBody = connectedBody;
                if (!this.rigidBody.isPhysicsEngineAdapterExist()) {
                    return;
                }
                engineAdapter = this.rigidBody.getPhysicsEngineAdapter();
                engineAdapter.removeHingeConstraint(this.rigidBody.entityObject);
                this.rigidBody.addConstraint();
            },
            enumerable: true,
            configurable: true
        });
        return HingeConstraint;
    }(PhysicsConstraint));
    wd.HingeConstraint = HingeConstraint;
    var PointToPointConstraint = (function (_super) {
        __extends(PointToPointConstraint, _super);
        function PointToPointConstraint() {
            _super.apply(this, arguments);
            this.connectedBody = null;
            this.pivotA = null;
            this.pivotB = null;
        }
        PointToPointConstraint.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        return PointToPointConstraint;
    }(PhysicsConstraint));
    wd.PointToPointConstraint = PointToPointConstraint;
    var PointToPointConstraintList = (function () {
        function PointToPointConstraintList(rigidBody) {
            this._rigidBody = null;
            this._list = wdCb.Collection.create();
            this._rigidBody = rigidBody;
        }
        PointToPointConstraintList.create = function (rigidBody) {
            var obj = new this(rigidBody);
            return obj;
        };
        PointToPointConstraintList.prototype.forEach = function (func, context) {
            if (context === void 0) { context = wd.root; }
            this._list.forEach(func, context);
        };
        PointToPointConstraintList.prototype.getCount = function () {
            return this._list.getCount();
        };
        PointToPointConstraintList.prototype.addChild = function (constraint) {
            var engineAdapter = null;
            this._list.addChild(constraint);
            if (!this._rigidBody.isPhysicsEngineAdapterExist()) {
                return;
            }
            engineAdapter = this._rigidBody.getPhysicsEngineAdapter();
            engineAdapter.addPointToPointConstraint(this._rigidBody.entityObject, constraint);
        };
        PointToPointConstraintList.prototype.addChildren = function (arg) {
            var _this = this;
            if (wd.JudgeUtils.isArrayExactly(arg)) {
                for (var _i = 0, _a = arg; _i < _a.length; _i++) {
                    var constraint = _a[_i];
                    this.addChild(constraint);
                }
            }
            else {
                var constraintList = arg;
                constraintList.forEach(function (constraint) {
                    _this.addChild(constraint);
                }, this);
            }
        };
        PointToPointConstraintList.prototype.removeChild = function (constraint) {
            var engineAdapter = null;
            this._list.removeChild(constraint);
            if (!this._rigidBody.isPhysicsEngineAdapterExist()) {
                return;
            }
            engineAdapter = this._rigidBody.getPhysicsEngineAdapter();
            engineAdapter.removePointToPointConstraint(constraint);
        };
        return PointToPointConstraintList;
    }());
    wd.PointToPointConstraintList = PointToPointConstraintList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PhysicsEngineFactory = (function () {
        function PhysicsEngineFactory() {
        }
        PhysicsEngineFactory.create = function (type) {
            var result = null;
            switch (type) {
                case wd.EPhysicsEngineType.CANNON:
                    result = wd.CannonAdapter.create();
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNEXPECT("physics engine type"));
                    break;
            }
            return result;
        };
        return PhysicsEngineFactory;
    }());
    wd.PhysicsEngineFactory = PhysicsEngineFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EPhysicsEngineType) {
        EPhysicsEngineType[EPhysicsEngineType["CANNON"] = 0] = "CANNON";
    })(wd.EPhysicsEngineType || (wd.EPhysicsEngineType = {}));
    var EPhysicsEngineType = wd.EPhysicsEngineType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDataList = (function () {
        function CannonDataList() {
            this.dataList = wdCb.Collection.create();
        }
        CannonDataList.prototype.getCount = function () {
            return this.dataList.getCount();
        };
        CannonDataList.prototype.removeByGameObject = function (obj) {
            this.dataList.removeChild(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
        };
        return CannonDataList;
    }());
    wd.CannonDataList = CannonDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonGameObjectDataList = (function (_super) {
        __extends(CannonGameObjectDataList, _super);
        function CannonGameObjectDataList() {
            _super.apply(this, arguments);
        }
        CannonGameObjectDataList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonGameObjectDataList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonGameObjectDataList.prototype.updateBodyTransformData = function () {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                var transform = entityObject.transform;
                if (transform.isTranslate || transform.isRotate) {
                    body.position = wd.CannonUtils.convertToCannonVector3(entityObject.transform.position);
                    body.quaternion = wd.CannonUtils.convertToCannonQuaternion(entityObject.transform.rotation);
                }
            });
        };
        CannonGameObjectDataList.prototype.updateGameObjectTransformData = function () {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                if (entityObject.hasTag("isRigidbodyChild")) {
                    return;
                }
                entityObject.transform.position = wd.CannonUtils.convertToWonderVector3(body.position);
                entityObject.transform.rotation = wd.CannonUtils.convertToWonderQuaternion(body.quaternion);
            });
        };
        CannonGameObjectDataList.prototype.add = function (obj, body) {
            this.dataList.addChild({
                entityObject: obj,
                body: body
            });
        };
        CannonGameObjectDataList.prototype.findGameObjectByBody = function (b) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return body === b;
            });
            return result !== null ? result.entityObject : null;
        };
        CannonGameObjectDataList.prototype.findBodyByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, body = _a.body;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.body : null;
        };
        return CannonGameObjectDataList;
    }(wd.CannonDataList));
    wd.CannonGameObjectDataList = CannonGameObjectDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonMaterialList = (function (_super) {
        __extends(CannonMaterialList, _super);
        function CannonMaterialList() {
            _super.apply(this, arguments);
        }
        CannonMaterialList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonMaterialList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonMaterialList.prototype.findMaterialByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.material : null;
        };
        CannonMaterialList.prototype.add = function (obj, material) {
            this.dataList.addChild({
                entityObject: obj,
                material: material
            });
        };
        CannonMaterialList.prototype.addContactMaterial = function (world, currentMaterial, friction, restitution) {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                world.addContactMaterial(new CANNON.ContactMaterial(material, currentMaterial, {
                    friction: friction,
                    restitution: restitution
                }));
            });
        };
        CannonMaterialList.prototype.getContactMaterialData = function (world, currentMaterial, dataName) {
            var result = null;
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                result = contactMaterial[dataName];
                return wdCb.$BREAK;
            });
            return result;
        };
        CannonMaterialList.prototype.getContactMaterials = function (world, currentMaterial) {
            var resultArr = [];
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                resultArr.push(contactMaterial);
            });
            return resultArr;
        };
        CannonMaterialList.prototype.setContactMaterialData = function (world, currentMaterial, dataName, data) {
            this.dataList.forEach(function (_a) {
                var entityObject = _a.entityObject, material = _a.material;
                var contactMaterial = world.getContactMaterial(material, currentMaterial);
                if (!contactMaterial) {
                    return;
                }
                contactMaterial[dataName] = data;
            });
        };
        return CannonMaterialList;
    }(wd.CannonDataList));
    wd.CannonMaterialList = CannonMaterialList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonConstraintDataList = (function (_super) {
        __extends(CannonConstraintDataList, _super);
        function CannonConstraintDataList() {
            _super.apply(this, arguments);
        }
        return CannonConstraintDataList;
    }(wd.CannonDataList));
    wd.CannonConstraintDataList = CannonConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonSingleConstraintDataList = (function (_super) {
        __extends(CannonSingleConstraintDataList, _super);
        function CannonSingleConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonSingleConstraintDataList.prototype.add = function (obj, constraint) {
            this.dataList.addChild({
                entityObject: obj,
                constraint: constraint
            });
        };
        CannonSingleConstraintDataList.prototype.remove = function (obj) {
            this.removeByGameObject(obj);
        };
        CannonSingleConstraintDataList.prototype.findConstraintByGameObject = function (obj) {
            var result = this.dataList.findOne(function (_a) {
                var entityObject = _a.entityObject;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            });
            return result !== null ? result.constraint : null;
        };
        return CannonSingleConstraintDataList;
    }(wd.CannonConstraintDataList));
    wd.CannonSingleConstraintDataList = CannonSingleConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonLockConstraintDataList = (function (_super) {
        __extends(CannonLockConstraintDataList, _super);
        function CannonLockConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonLockConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonLockConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonLockConstraintDataList = CannonLockConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonPointToPointConstraintDataList = (function (_super) {
        __extends(CannonPointToPointConstraintDataList, _super);
        function CannonPointToPointConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonPointToPointConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        CannonPointToPointConstraintDataList.prototype.filter = function (func) {
            return this.dataList.filter(func);
        };
        CannonPointToPointConstraintDataList.prototype.forEach = function (func) {
            this.dataList.forEach(func);
        };
        CannonPointToPointConstraintDataList.prototype.add = function (entityObject, pointToPointConstraint, constraint) {
            this.dataList.addChild({
                entityObject: entityObject,
                pointToPointConstraint: pointToPointConstraint,
                cannonConstraint: constraint
            });
        };
        CannonPointToPointConstraintDataList.prototype.remove = function (constraint) {
            this.dataList.removeChild(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                return wd.JudgeUtils.isEqual(pointToPointConstraint, constraint);
            });
        };
        CannonPointToPointConstraintDataList.prototype.findCannonConstraintByPointToPointConstraint = function (constraint) {
            var result = this.dataList.findOne(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                return wd.JudgeUtils.isEqual(pointToPointConstraint, constraint);
            });
            return result !== null ? result.cannonConstraint : null;
        };
        return CannonPointToPointConstraintDataList;
    }(wd.CannonConstraintDataList));
    wd.CannonPointToPointConstraintDataList = CannonPointToPointConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDistanceConstraintDataList = (function (_super) {
        __extends(CannonDistanceConstraintDataList, _super);
        function CannonDistanceConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonDistanceConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonDistanceConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonDistanceConstraintDataList = CannonDistanceConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonHingeConstraintDataList = (function (_super) {
        __extends(CannonHingeConstraintDataList, _super);
        function CannonHingeConstraintDataList() {
            _super.apply(this, arguments);
        }
        CannonHingeConstraintDataList.create = function () {
            var obj = new this();
            return obj;
        };
        return CannonHingeConstraintDataList;
    }(wd.CannonSingleConstraintDataList));
    wd.CannonHingeConstraintDataList = CannonHingeConstraintDataList;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonUtils = (function () {
        function CannonUtils() {
        }
        CannonUtils.convertToCannonVector3 = function (v) {
            return new CANNON.Vec3(v.x, v.y, v.z);
        };
        CannonUtils.convertToCannonQuaternion = function (rotation) {
            return new CANNON.Quaternion(rotation.x, rotation.y, rotation.z, rotation.w);
        };
        CannonUtils.convertToWonderVector3 = function (v) {
            return wd.Vector3.create(v.x, v.y, v.z);
        };
        CannonUtils.convertToWonderQuaternion = function (r) {
            return wd.Quaternion.create(r.x, r.y, r.z, r.w);
        };
        return CannonUtils;
    }());
    wd.CannonUtils = CannonUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonAdapter = (function () {
        function CannonAdapter() {
            this.world = null;
            this._materialList = wd.CannonMaterialList.create();
            this._gameObjectDataList = wd.CannonGameObjectDataList.create();
            this._lockConstraintDataList = wd.CannonLockConstraintDataList.create();
            this._distanceConstraintDataList = wd.CannonDistanceConstraintDataList.create();
            this._hingeConstraintDataList = wd.CannonHingeConstraintDataList.create();
            this._pointToPointConstraintDataList = wd.CannonPointToPointConstraintDataList.create();
            this._dynamicBody = null;
            this._kinematicBody = null;
            this._staticBody = null;
            this._lockConstraint = null;
            this._distanceConstraint = null;
            this._hingeConstraint = null;
            this._pointToPointConstraint = null;
        }
        CannonAdapter.create = function () {
            var obj = new this();
            return obj;
        };
        CannonAdapter.prototype.getGravity = function (gravity) {
            return wd.CannonUtils.convertToWonderVector3(this.world.gravity);
        };
        CannonAdapter.prototype.setGravity = function (gravity) {
            this.world.gravity = wd.CannonUtils.convertToCannonVector3(gravity);
        };
        CannonAdapter.prototype.getFriction = function (obj, friction) {
            return this._getMaterialData(obj, "friction");
        };
        CannonAdapter.prototype.setFriction = function (obj, friction) {
            this._setMaterialData(obj, "friction", friction);
        };
        CannonAdapter.prototype.getRestitution = function (obj, restitution) {
            return this._getMaterialData(obj, "restitution");
        };
        CannonAdapter.prototype.setRestitution = function (obj, restitution) {
            this._setMaterialData(obj, "restitution", restitution);
        };
        CannonAdapter.prototype.getLinearDamping = function (obj) {
            return this._getNumberData(obj, "linearDamping");
        };
        CannonAdapter.prototype.setLinearDamping = function (obj, linearDamping) {
            return this._setNumberData(obj, "linearDamping", linearDamping);
        };
        CannonAdapter.prototype.getAngularDamping = function (obj) {
            return this._getNumberData(obj, "angularDamping");
        };
        CannonAdapter.prototype.setAngularDamping = function (obj, angularDamping) {
            return this._setNumberData(obj, "angularDamping", angularDamping);
        };
        CannonAdapter.prototype.getMass = function (obj) {
            return this._getNumberData(obj, "mass");
        };
        CannonAdapter.prototype.setMass = function (obj, mass) {
            return this._setNumberData(obj, "mass", mass);
        };
        CannonAdapter.prototype.getVelocity = function (obj) {
            return this._getVec3Data(obj, "velocity");
        };
        CannonAdapter.prototype.setVelocity = function (obj, velocity) {
            this._setVec3Data(obj, "velocity", velocity);
        };
        CannonAdapter.prototype.getAngularVelocity = function (obj) {
            return this._getVec3Data(obj, "angularVelocity");
        };
        CannonAdapter.prototype.setAngularVelocity = function (obj, angularVelocity) {
            this._setVec3Data(obj, "angularVelocity", angularVelocity);
        };
        CannonAdapter.prototype.init = function () {
            var _a = wd.Director.getInstance().scene.physics, gravity = _a.gravity, iterations = _a.iterations;
            this.world = new CANNON.World();
            this.world.broadphase = new CANNON.NaiveBroadphase();
            this.world.solver.iterations = iterations;
            this.world.gravity.set(gravity.x, gravity.y, gravity.z);
            this._dynamicBody = wd.CannonDynamicBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._kinematicBody = wd.CannonKinematicBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._staticBody = wd.CannonStaticBody.create(this.world, this._gameObjectDataList, this._materialList);
            this._lockConstraint = wd.CannonLockConstraint.create(this.world, this._gameObjectDataList, this._lockConstraintDataList);
            this._distanceConstraint = wd.CannonDistanceConstraint.create(this.world, this._gameObjectDataList, this._distanceConstraintDataList);
            this._hingeConstraint = wd.CannonHingeConstraint.create(this.world, this._gameObjectDataList, this._hingeConstraintDataList);
            this._pointToPointConstraint = wd.CannonPointToPointConstraint.create(this.world, this._gameObjectDataList, this._pointToPointConstraintDataList);
        };
        CannonAdapter.prototype.addDynamicBody = function (entityObject, data) {
            this._dynamicBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addKinematicBody = function (entityObject, data) {
            this._kinematicBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addStaticBody = function (entityObject, data) {
            this._staticBody.addBody(entityObject, data);
        };
        CannonAdapter.prototype.addLockConstraint = function (entityObject, lockConstraint) {
            this._lockConstraint.addConstraint(entityObject, lockConstraint);
        };
        CannonAdapter.prototype.removeLockConstraint = function (entityObject) {
            this._lockConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addDistanceConstraint = function (entityObject, distanceConstraint) {
            this._distanceConstraint.addConstraint(entityObject, distanceConstraint);
        };
        CannonAdapter.prototype.removeDistanceConstraint = function (entityObject) {
            this._distanceConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addHingeConstraint = function (entityObject, hingeConstraint) {
            this._hingeConstraint.addConstraint(entityObject, hingeConstraint);
        };
        CannonAdapter.prototype.removeHingeConstraint = function (entityObject) {
            this._hingeConstraint.removeConstraint(entityObject);
        };
        CannonAdapter.prototype.addPointToPointConstraint = function (entityObject, pointToPointConstraint) {
            this._pointToPointConstraint.addConstraint(entityObject, pointToPointConstraint);
        };
        CannonAdapter.prototype.removePointToPointConstraint = function (pointToPointConstraint) {
            this._pointToPointConstraint.removeConstraint(pointToPointConstraint);
        };
        CannonAdapter.prototype.removeGameObject = function (obj) {
            var material = this._getMaterial(obj), body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (body) {
                this.world.remove(body);
            }
            this._gameObjectDataList.remove(obj);
            this._materialList.remove(obj);
        };
        CannonAdapter.prototype.removeConstraints = function (obj) {
            var self = this;
            this._lockConstraint.removeConstraint(obj);
            this._distanceConstraint.removeConstraint(obj);
            this._hingeConstraint.removeConstraint(obj);
            this._pointToPointConstraintDataList
                .filter(function (_a) {
                var entityObject = _a.entityObject;
                return wd.JudgeUtils.isEqual(entityObject, obj);
            })
                .forEach(function (_a) {
                var pointToPointConstraint = _a.pointToPointConstraint;
                self._pointToPointConstraint.removeConstraint(pointToPointConstraint);
            });
        };
        CannonAdapter.prototype.update = function (elapsedTime) {
            this._gameObjectDataList.updateBodyTransformData();
            this.world.step(wd.Director.getInstance().getDeltaTime() / 1000);
            this._gameObjectDataList.updateGameObjectTransformData();
        };
        CannonAdapter.prototype._getMaterial = function (obj) {
            return this._materialList.findMaterialByGameObject(obj);
        };
        CannonAdapter.prototype._getNumberData = function (obj, dataName) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            return body[dataName];
        };
        CannonAdapter.prototype._setNumberData = function (obj, dataName, data) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            body[dataName] = data;
        };
        CannonAdapter.prototype._getVec3Data = function (obj, dataName) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            return wd.CannonUtils.convertToWonderVector3(body[dataName]);
        };
        CannonAdapter.prototype._setVec3Data = function (obj, dataName, data) {
            var body = this._gameObjectDataList.findBodyByGameObject(obj);
            if (!body) {
                return null;
            }
            body[dataName] = wd.CannonUtils.convertToCannonVector3(data);
        };
        CannonAdapter.prototype._getMaterialData = function (obj, dataName) {
            var result = null, currentMaterial = this._getMaterial(obj);
            if (!currentMaterial) {
                return null;
            }
            return this._materialList.getContactMaterialData(this.world, currentMaterial, dataName);
        };
        CannonAdapter.prototype._setMaterialData = function (obj, dataName, data) {
            var world = this.world, currentMaterial = this._getMaterial(obj);
            if (!currentMaterial) {
                wd.Log.warn("no material find, please add material first");
                return;
            }
            this._materialList.setContactMaterialData(this.world, currentMaterial, dataName, data);
        };
        __decorate([
            wd.require(function (obj, dataName) {
                var resultArr = [], firstData = null, currentMaterial = this._getMaterial(obj);
                if (!currentMaterial) {
                    return null;
                }
                resultArr = this._materialList.getContactMaterials(this.world, currentMaterial);
                firstData = resultArr[0];
                for (var _i = 0, resultArr_1 = resultArr; _i < resultArr_1.length; _i++) {
                    var data = resultArr_1[_i];
                    wd.assert(data === firstData, wd.Log.info.FUNC_SHOULD("the data of contact material which contains the same material", "be the same"));
                }
            })
        ], CannonAdapter.prototype, "_getMaterialData", null);
        return CannonAdapter;
    }());
    wd.CannonAdapter = CannonAdapter;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonBody = (function () {
        function CannonBody(world, gameObjectDataList, materialList) {
            this.world = null;
            this.materialList = null;
            this.gameObjectList = null;
            this.world = world;
            this.gameObjectList = gameObjectDataList;
            this.materialList = materialList;
        }
        CannonBody.prototype.addBody = function (entityObject, data) {
            var body = this.createBody(data);
            if (data.children.getCount() > 0) {
                this._addCompounds(entityObject, data.children, body);
            }
            else {
                body.addShape(this._createShape(entityObject.getComponent(wd.Collider).shape));
            }
            this.afterAddShape(body, data);
            body.material = this._createMaterial(entityObject, data.friction, data.restitution);
            body.position = wd.CannonUtils.convertToCannonVector3(data.position);
            body.quaternion = wd.CannonUtils.convertToCannonQuaternion(data.rotation);
            this.world.addBody(body);
            this.gameObjectList.add(entityObject, body);
            this._bindCollideEvent(body, data.onCollisionStart, data.onContact, data.onCollisionEnd);
            return body;
        };
        CannonBody.prototype.afterAddShape = function (body, data) {
        };
        CannonBody.prototype._createShape = function (shape) {
            var cannonShape = null;
            if (shape instanceof wd.AABBShape) {
                cannonShape = new CANNON.Box(wd.CannonUtils.convertToCannonVector3(shape.halfExtents));
            }
            else if (shape instanceof wd.SphereShape) {
                cannonShape = new CANNON.Sphere(shape.radius);
            }
            return cannonShape;
        };
        CannonBody.prototype._bindCollideEvent = function (targetBody, onCollisionStart, onContact, onCollisionEnd) {
            var self = this;
            targetBody.addEventListener("collide", function (e) {
                var entityObject = self.gameObjectList.findGameObjectByBody(e.body), collideObject = null;
                if (!entityObject) {
                    return;
                }
                collideObject = entityObject;
                onCollisionStart(collideObject);
                onContact(collideObject);
                onCollisionEnd(collideObject);
            });
        };
        CannonBody.prototype._createMaterial = function (entityObject, friction, restitution) {
            var material = null, currentMaterial = null;
            material = this._getMaterial(entityObject);
            if (material) {
                return material;
            }
            currentMaterial = new CANNON.Material("material");
            this._addMaterial(entityObject, currentMaterial, friction, restitution);
            return currentMaterial;
        };
        CannonBody.prototype._getMaterial = function (obj) {
            return this.materialList.findMaterialByGameObject(obj);
        };
        CannonBody.prototype._addMaterial = function (entityObject, currentMaterial, friction, restitution) {
            this.materialList.add(entityObject, currentMaterial);
            this.materialList.addContactMaterial(this.world, currentMaterial, friction, restitution);
        };
        CannonBody.prototype._addCompounds = function (entityObject, children, body) {
            var _this = this;
            var position = entityObject.transform.position, rotation = entityObject.transform.rotation;
            children.forEach(function (child) {
                body.addShape(_this._createShape(child.getComponent(wd.Collider).shape), wd.CannonUtils.convertToCannonVector3(child.transform.position.copy().sub(position)), wd.CannonUtils.convertToCannonQuaternion(child.transform.rotation.copy().sub(rotation)));
            }, this);
        };
        __decorate([
            wd.virtual
        ], CannonBody.prototype, "afterAddShape", null);
        __decorate([
            wd.require(function (entityObject, children, body) {
                children.forEach(function (child) {
                    wd.assert(!!child.getComponent(wd.Collider), wd.Log.info.FUNC_MUST_DEFINE("collider component"));
                    wd.assert(!!child.getComponent(wd.Collider).shape, wd.Log.info.FUNC_SHOULD("create collider.shape"));
                });
            })
        ], CannonBody.prototype, "_addCompounds", null);
        return CannonBody;
    }());
    wd.CannonBody = CannonBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDynamicBody = (function (_super) {
        __extends(CannonDynamicBody, _super);
        function CannonDynamicBody() {
            _super.apply(this, arguments);
        }
        CannonDynamicBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonDynamicBody.prototype.createBody = function (_a) {
            var mass = _a.mass, linearDamping = _a.linearDamping, angularDamping = _a.angularDamping, velocity = _a.velocity, angularVelocity = _a.angularVelocity;
            return new CANNON.Body({
                mass: mass,
                linearDamping: linearDamping,
                angularDamping: angularDamping,
                velocity: wd.CannonUtils.convertToCannonVector3(velocity),
                angularVelocity: wd.CannonUtils.convertToCannonVector3(angularVelocity)
            });
        };
        CannonDynamicBody.prototype.afterAddShape = function (body, _a) {
            var impulse = _a.impulse, force = _a.force, hitPoint = _a.hitPoint;
            if (impulse && hitPoint) {
                body.applyImpulse(wd.CannonUtils.convertToCannonVector3(impulse), wd.CannonUtils.convertToCannonVector3(hitPoint));
            }
            if (force && hitPoint) {
                body.applyForce(wd.CannonUtils.convertToCannonVector3(force), wd.CannonUtils.convertToCannonVector3(hitPoint));
            }
        };
        return CannonDynamicBody;
    }(wd.CannonBody));
    wd.CannonDynamicBody = CannonDynamicBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonKinematicBody = (function (_super) {
        __extends(CannonKinematicBody, _super);
        function CannonKinematicBody() {
            _super.apply(this, arguments);
        }
        CannonKinematicBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonKinematicBody.prototype.createBody = function (_a) {
            var mass = _a.mass, velocity = _a.velocity, angularVelocity = _a.angularVelocity;
            return new CANNON.Body({
                type: CANNON.Body.KINEMATIC,
                mass: mass,
                velocity: wd.CannonUtils.convertToCannonVector3(velocity),
                angularVelocity: wd.CannonUtils.convertToCannonVector3(angularVelocity)
            });
        };
        return CannonKinematicBody;
    }(wd.CannonBody));
    wd.CannonKinematicBody = CannonKinematicBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonStaticBody = (function (_super) {
        __extends(CannonStaticBody, _super);
        function CannonStaticBody() {
            _super.apply(this, arguments);
        }
        CannonStaticBody.create = function (world, gameObjectDataList, materialList) {
            var obj = new this(world, gameObjectDataList, materialList);
            return obj;
        };
        CannonStaticBody.prototype.createBody = function (_a) {
            return new CANNON.Body({
                mass: 0
            });
        };
        return CannonStaticBody;
    }(wd.CannonBody));
    wd.CannonStaticBody = CannonStaticBody;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonConstraint = (function () {
        function CannonConstraint(world, gameObjectDataList, constraintDataList) {
            this.world = null;
            this.gameObjectList = null;
            this.constraintDataList = null;
            this.world = world;
            this.gameObjectList = gameObjectDataList;
            this.constraintDataList = constraintDataList;
        }
        CannonConstraint.prototype.addConstraint = function (entityObject, wonderConstraint) {
            var constraint = null, body = this.gameObjectList.findBodyByGameObject(entityObject);
            constraint = this.createCannonConstraint(body, wonderConstraint);
            this.world.addConstraint(constraint);
            this.addToConstraintDataList(entityObject, wonderConstraint, constraint);
        };
        CannonConstraint.prototype.findBody = function (rigidBody) {
            return this.gameObjectList.findBodyByGameObject(rigidBody.entityObject);
        };
        __decorate([
            wd.require(function (entityObject, pointToPointConstraint) {
                wd.assert(this.gameObjectList.findBodyByGameObject(entityObject) !== null, wd.Log.info.FUNC_SHOULD("add rigid body"));
                wd.assert(this.findBody(pointToPointConstraint.connectedBody), wd.Log.info.FUNC_SHOULD("add connectedBody"));
            })
        ], CannonConstraint.prototype, "addConstraint", null);
        return CannonConstraint;
    }());
    wd.CannonConstraint = CannonConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonSingleConstraint = (function (_super) {
        __extends(CannonSingleConstraint, _super);
        function CannonSingleConstraint() {
            _super.apply(this, arguments);
        }
        CannonSingleConstraint.prototype.removeConstraint = function (entityObject) {
            var constraint = this.constraintDataList.findConstraintByGameObject(entityObject);
            if (constraint) {
                this.world.removeConstraint(constraint);
            }
            this.constraintDataList.remove(entityObject);
        };
        CannonSingleConstraint.prototype.addToConstraintDataList = function (entityObject, wonderConstraint, cannonConstraint) {
            this.constraintDataList.add(entityObject, cannonConstraint);
        };
        return CannonSingleConstraint;
    }(wd.CannonConstraint));
    wd.CannonSingleConstraint = CannonSingleConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonLockConstraint = (function (_super) {
        __extends(CannonLockConstraint, _super);
        function CannonLockConstraint() {
            _super.apply(this, arguments);
        }
        CannonLockConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonLockConstraint.prototype.createCannonConstraint = function (body, lockConstraint) {
            var constraint = null, connectedBody = this.findBody(lockConstraint.connectedBody);
            if (lockConstraint.maxForce) {
                constraint = new CANNON.LockConstraint(body, connectedBody, lockConstraint.maxForce);
            }
            else {
                constraint = new CANNON.LockConstraint(body, connectedBody);
            }
            return constraint;
        };
        return CannonLockConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonLockConstraint = CannonLockConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonPointToPointConstraint = (function (_super) {
        __extends(CannonPointToPointConstraint, _super);
        function CannonPointToPointConstraint() {
            _super.apply(this, arguments);
        }
        CannonPointToPointConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonPointToPointConstraint.prototype.removeConstraint = function (pointToPointConstraint) {
            var constraint = this.constraintDataList.findCannonConstraintByPointToPointConstraint(pointToPointConstraint);
            if (constraint) {
                this.world.removeConstraint(constraint);
            }
            this.constraintDataList.remove(pointToPointConstraint);
        };
        CannonPointToPointConstraint.prototype.createCannonConstraint = function (body, pointToPointConstraint) {
            var constraint = null, connectedBody = this.findBody(pointToPointConstraint.connectedBody), pivotA = wd.CannonUtils.convertToCannonVector3(pointToPointConstraint.pivotA), pivotB = wd.CannonUtils.convertToCannonVector3(pointToPointConstraint.pivotB);
            if (pointToPointConstraint.maxForce) {
                constraint = new CANNON.PointToPointConstraint(body, pivotA, connectedBody, pivotB, pointToPointConstraint.maxForce);
            }
            else {
                constraint = new CANNON.PointToPointConstraint(body, pivotA, connectedBody, pivotB);
            }
            return constraint;
        };
        CannonPointToPointConstraint.prototype.addToConstraintDataList = function (entityObject, wonderConstraint, cannonConstraint) {
            this.constraintDataList.add(entityObject, wonderConstraint, cannonConstraint);
        };
        return CannonPointToPointConstraint;
    }(wd.CannonConstraint));
    wd.CannonPointToPointConstraint = CannonPointToPointConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonDistanceConstraint = (function (_super) {
        __extends(CannonDistanceConstraint, _super);
        function CannonDistanceConstraint() {
            _super.apply(this, arguments);
        }
        CannonDistanceConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonDistanceConstraint.prototype.createCannonConstraint = function (body, distanceConstraint) {
            var constraint = null, connectedBody = this.findBody(distanceConstraint.connectedBody);
            constraint = new CANNON.DistanceConstraint(body, connectedBody, distanceConstraint.distance !== null ? distanceConstraint.distance : void 0, distanceConstraint.maxForce !== null ? distanceConstraint.maxForce : void 0);
            return constraint;
        };
        return CannonDistanceConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonDistanceConstraint = CannonDistanceConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CannonHingeConstraint = (function (_super) {
        __extends(CannonHingeConstraint, _super);
        function CannonHingeConstraint() {
            _super.apply(this, arguments);
        }
        CannonHingeConstraint.create = function (world, gameObjectDataList, constraintDataList) {
            var obj = new this(world, gameObjectDataList, constraintDataList);
            return obj;
        };
        CannonHingeConstraint.prototype.createCannonConstraint = function (body, hingeConstraint) {
            var constraint = null, connectedBody = this.findBody(hingeConstraint.connectedBody), pivotA = wd.CannonUtils.convertToCannonVector3(hingeConstraint.pivotA), axisA = wd.CannonUtils.convertToCannonVector3(hingeConstraint.axisA), pivotB = wd.CannonUtils.convertToCannonVector3(hingeConstraint.pivotB), axisB = wd.CannonUtils.convertToCannonVector3(hingeConstraint.axisB), options = {};
            if (hingeConstraint.pivotA) {
                options.pivotA = pivotA;
            }
            if (hingeConstraint.axisA) {
                options.axisA = axisA;
            }
            if (hingeConstraint.pivotB) {
                options.pivotB = pivotB;
            }
            if (hingeConstraint.axisB) {
                options.axisB = axisB;
            }
            if (hingeConstraint.maxForce) {
                options.maxForce = hingeConstraint.maxForce;
            }
            constraint = new CANNON.HingeConstraint(body, connectedBody, options);
            return constraint;
        };
        return CannonHingeConstraint;
    }(wd.CannonSingleConstraint));
    wd.CannonHingeConstraint = CannonHingeConstraint;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Light = (function (_super) {
        __extends(Light, _super);
        function Light() {
            _super.apply(this, arguments);
            this._shadowMapWidth = null;
            this._shadowMapHeight = null;
            this.color = wd.Color.create("#ffffff");
            this.castShadow = false;
            this.shadowCameraNear = 0.1;
            this.shadowCameraFar = 5000;
            this.shadowBias = wd.ShaderChunk.NULL;
            this.shadowDarkness = 0;
            this.shadowMap = null;
            this.shadowMapRenderer = null;
        }
        Object.defineProperty(Light.prototype, "position", {
            get: function () {
                return this.entityObject.transform.position;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Light.prototype, "shadowMapWidth", {
            get: function () {
                var maxCubemapTextureSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
                if (!this._shadowMapWidth || this._shadowMapWidth > maxCubemapTextureSize) {
                    return maxCubemapTextureSize;
                }
                return this._shadowMapWidth;
            },
            set: function (shadowMapWidth) {
                this._shadowMapWidth = shadowMapWidth;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Light.prototype, "shadowMapHeight", {
            get: function () {
                var maxCubemapTextureSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
                if (!this._shadowMapHeight || this._shadowMapHeight > maxCubemapTextureSize) {
                    return maxCubemapTextureSize;
                }
                return this._shadowMapHeight;
            },
            set: function (shadowMapHeight) {
                this._shadowMapHeight = shadowMapHeight;
            },
            enumerable: true,
            configurable: true
        });
        return Light;
    }(wd.Component));
    wd.Light = Light;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AmbientLight = (function (_super) {
        __extends(AmbientLight, _super);
        function AmbientLight() {
            _super.apply(this, arguments);
        }
        AmbientLight.create = function () {
            var obj = new this();
            return obj;
        };
        AmbientLight.type = "ambientLight";
        return AmbientLight;
    }(wd.Light));
    wd.AmbientLight = AmbientLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SourceLight = (function (_super) {
        __extends(SourceLight, _super);
        function SourceLight() {
            _super.apply(this, arguments);
            this.intensity = 1;
            this._beforeInitSubscription = null;
        }
        SourceLight.prototype.initWhenCreate = function () {
            var self = this;
            this._beforeInitSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.BEFORE_GAMEOBJECT_INIT)
                .subscribe(function () {
                self.beforeInitHandler();
            });
        };
        SourceLight.prototype.dispose = function () {
            this.shadowMap && this.shadowMap.dispose();
            wd.Director.getInstance().scene.removeRenderTargetRenderer(this.shadowMapRenderer);
            this._beforeInitSubscription && this._beforeInitSubscription.dispose();
        };
        SourceLight.prototype.beforeInitHandler = function () {
            if (this.castShadow) {
                this.shadowMap = this.createShadowMap();
                this.shadowMapRenderer = this.createShadowMapRenderer();
                wd.Director.getInstance().scene.addRenderTargetRenderer(this.shadowMapRenderer);
            }
        };
        __decorate([
            wd.execOnlyOnce("_isBeforeInit")
        ], SourceLight.prototype, "beforeInitHandler", null);
        return SourceLight;
    }(wd.Light));
    wd.SourceLight = SourceLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DirectionLight = (function (_super) {
        __extends(DirectionLight, _super);
        function DirectionLight() {
            _super.apply(this, arguments);
            this._shadowRenderList = null;
            this.shadowCameraLeft = -1000;
            this.shadowCameraRight = 1000;
            this.shadowCameraTop = 1000;
            this.shadowCameraBottom = -1000;
        }
        DirectionLight.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(DirectionLight.prototype, "shadowRenderList", {
            get: function () {
                return this._shadowRenderList;
            },
            set: function (shadowRenderList) {
                this._shadowRenderList = wdCb.Collection.create(shadowRenderList);
            },
            enumerable: true,
            configurable: true
        });
        DirectionLight.prototype.createShadowMap = function () {
            return wd.TwoDShadowMapTexture.create();
        };
        DirectionLight.prototype.createShadowMapRenderer = function () {
            return wd.TwoDShadowMapRenderTargetRenderer.create(this);
        };
        DirectionLight.type = "directionLight";
        DirectionLight.defaultPosition = wd.Vector3.create(0, 0, 1);
        __decorate([
            wd.requireSetter(function (shadowRenderList) {
                wd.assert(wd.JudgeUtils.isArrayExactly(shadowRenderList), wd.Log.info.FUNC_MUST_BE("shadowRenderList", "array"));
            })
        ], DirectionLight.prototype, "shadowRenderList", null);
        return DirectionLight;
    }(wd.SourceLight));
    wd.DirectionLight = DirectionLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var PointLight = (function (_super) {
        __extends(PointLight, _super);
        function PointLight() {
            _super.apply(this, arguments);
            this._rangeLevel = null;
            this._shadowRenderList = wdCb.Hash.create();
            this._attenuation = wd.Attenuation.create();
        }
        PointLight.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(PointLight.prototype, "rangeLevel", {
            get: function () {
                return this._rangeLevel;
            },
            set: function (rangeLevel) {
                this._rangeLevel = rangeLevel;
                this._attenuation.rangeLevel = this._rangeLevel;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "range", {
            get: function () {
                return this._attenuation.range;
            },
            set: function (range) {
                this._attenuation.range = range;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "constant", {
            get: function () {
                return this._attenuation.constant;
            },
            set: function (constant) {
                this._attenuation.constant = constant;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "linear", {
            get: function () {
                return this._attenuation.linear;
            },
            set: function (linear) {
                this._attenuation.linear = linear;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "quadratic", {
            get: function () {
                return this._attenuation.quadratic;
            },
            set: function (quadratic) {
                this._attenuation.quadratic = quadratic;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PointLight.prototype, "shadowRenderList", {
            get: function () {
                return this._shadowRenderList;
            },
            set: function (shadowRenderList) {
                shadowRenderList = shadowRenderList;
                for (var direction in shadowRenderList) {
                    if (shadowRenderList.hasOwnProperty(direction)) {
                        var list = shadowRenderList[direction];
                        this._shadowRenderList.addChild(direction, wdCb.Collection.create(list));
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        PointLight.prototype.createShadowMap = function () {
            return wd.CubemapShadowMapTexture.create();
        };
        PointLight.prototype.createShadowMapRenderer = function () {
            return wd.CubemapShadowMapRenderTargetRenderer.create(this);
        };
        PointLight.type = "pointLight";
        __decorate([
            wd.requireSetter(function (shadowRenderList) {
                wd.assert(wd.JudgeUtils.isDirectObject(shadowRenderList), wd.Log.info.FUNC_MUST_BE("shadowRenderList", "object"));
                for (var direction in shadowRenderList) {
                    if (shadowRenderList.hasOwnProperty(direction)) {
                        var list = shadowRenderList[direction];
                        wd.assert(wd.JudgeUtils.isArrayExactly(list) || shadowRenderList instanceof wdCb.Hash, wd.Log.info.FUNC_MUST_BE("renderList in each direction of shadowRenderList", "array"));
                    }
                }
            })
        ], PointLight.prototype, "shadowRenderList", null);
        return PointLight;
    }(wd.SourceLight));
    wd.PointLight = PointLight;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Attenuation = (function () {
        function Attenuation() {
            this._constant = 1;
            this._range = null;
            this._linear = 0;
            this._quadratic = 0;
            this._rangeLevel = 0;
        }
        Attenuation.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Attenuation.prototype, "constant", {
            get: function () {
                return this._constant;
            },
            set: function (constant) {
                this._constant = constant;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "range", {
            get: function () {
                return this._range;
            },
            set: function (range) {
                this._range = range;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "linear", {
            get: function () {
                return this._linear;
            },
            set: function (linear) {
                this._linear = linear;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "quadratic", {
            get: function () {
                return this._quadratic;
            },
            set: function (quadratic) {
                this._quadratic = quadratic;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Attenuation.prototype, "rangeLevel", {
            get: function () {
                return this._rangeLevel;
            },
            set: function (rangeLevel) {
                this._rangeLevel = rangeLevel;
                this.setByRangeLevel();
            },
            enumerable: true,
            configurable: true
        });
        Attenuation.prototype.setByRangeLevel = function () {
            switch (this._rangeLevel) {
                case 0:
                    this._range = 7;
                    this._linear = 0.7;
                    this._quadratic = 1.8;
                    break;
                case 1:
                    this._range = 13;
                    this._linear = 0.35;
                    this._quadratic = 0.44;
                    break;
                case 2:
                    this._range = 20;
                    this._linear = 0.22;
                    this._quadratic = 0.20;
                    break;
                case 3:
                    this._range = 32;
                    this._linear = 0.14;
                    this._quadratic = 0.07;
                    break;
                case 4:
                    this._range = 50;
                    this._linear = 0.09;
                    this._quadratic = 0.032;
                    break;
                case 5:
                    this._range = 65;
                    this._linear = 0.07;
                    this._quadratic = 0.017;
                    break;
                case 6:
                    this._range = 100;
                    this._linear = 0.045;
                    this._quadratic = 0.0075;
                    break;
                case 7:
                    this._range = 160;
                    this._linear = 0.027;
                    this._quadratic = 0.0028;
                    break;
                case 8:
                    this._range = 200;
                    this._linear = 0.022;
                    this._quadratic = 0.0019;
                    break;
                case 9:
                    this._range = 325;
                    this._linear = 0.014;
                    this._quadratic = 0.0007;
                    break;
                case 10:
                    this._range = 600;
                    this._linear = 0.007;
                    this._quadratic = 0.0002;
                    break;
                case 11:
                    this._range = 3250;
                    this._linear = 0.0014;
                    this._quadratic = 0.000007;
                    break;
                default:
                    wd.Log.error(true, "over light range");
                    break;
            }
        };
        return Attenuation;
    }());
    wd.Attenuation = Attenuation;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ELightModel) {
        ELightModel[ELightModel["PHONG"] = "PHONG"] = "PHONG";
        ELightModel[ELightModel["BLINN"] = "BLINN"] = "BLINN";
        ELightModel[ELightModel["LAMBERT"] = "LAMBERT"] = "LAMBERT";
        ELightModel[ELightModel["CONSTANT"] = "CONSTANT"] = "CONSTANT";
    })(wd.ELightModel || (wd.ELightModel = {}));
    var ELightModel = wd.ELightModel;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UI = (function (_super) {
        __extends(UI, _super);
        function UI() {
            _super.apply(this, arguments);
            this.context = null;
        }
        Object.defineProperty(UI.prototype, "dirty", {
            get: function () {
                var renderer = this.getUIRenderer();
                if (!renderer) {
                    return true;
                }
                return renderer.dirty;
            },
            set: function (dirty) {
                if (dirty) {
                    var renderer = this.getUIRenderer();
                    if (!renderer) {
                        return;
                    }
                    renderer.dirty = dirty;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UI.prototype, "width", {
            get: function () {
                return this.entityObject ? this.entityObject.transform.width : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UI.prototype, "height", {
            get: function () {
                return this.entityObject ? this.entityObject.transform.height : null;
            },
            enumerable: true,
            configurable: true
        });
        UI.prototype.init = function () {
            this.context = this.getContext();
        };
        UI.prototype.addToObject = function (entityObject) {
            _super.prototype.addToObject.call(this, entityObject);
            entityObject.uiManager.addChild(this);
        };
        UI.prototype.removeFromObject = function (entityObject) {
            _super.prototype.removeFromObject.call(this, entityObject);
            entityObject.uiManager.removeChild(this);
        };
        UI.prototype.update = function (elapsedTime) {
            var context = this.context;
            if (this.shouldNotUpdate()) {
                return;
            }
            context.save();
            this._setCanvasTransformForRotation();
            this.draw(elapsedTime);
            context.restore();
        };
        UI.prototype.draw = function (elapsedTime) {
        };
        UI.prototype.shouldNotUpdate = function () {
            return false;
        };
        UI.prototype.getContext = function () {
            return this.getUIRenderer().context;
        };
        UI.prototype.getCanvas = function () {
            return this.getUIRenderer().canvas;
        };
        UI.prototype.getUIRenderer = function () {
            if (!this.entityObject) {
                return null;
            }
            return this.entityObject.getComponent(wd.UIRenderer);
        };
        UI.prototype.drawInCenterPoint = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var context = args[0], source = args[1];
            if (args.length === 5) {
                var position = args[2], width = args[3], height = args[4];
                context.drawImage(source, position.x - width / 2, position.y - height / 2, width, height);
            }
            else if (args.length === 9) {
                var sx = args[2], sy = args[3], sw = args[4], sh = args[5], position = args[6], width = args[7], height = args[8];
                context.drawImage(source, sx, sy, sw, sh, position.x - width / 2, position.y - height / 2, width, height);
            }
        };
        UI.prototype._setCanvasTransformForRotation = function () {
            var matrix = this.entityObject.transform.rotationMatrix;
            this.context.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);
        };
        __decorate([
            wd.virtual
        ], UI.prototype, "dirty", null);
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.context !== null, wd.Log.info.FUNC_SHOULD("set context"));
            })
        ], UI.prototype, "update", null);
        __decorate([
            wd.virtual
        ], UI.prototype, "draw", null);
        __decorate([
            wd.virtual
        ], UI.prototype, "shouldNotUpdate", null);
        return UI;
    }(wd.Component));
    wd.UI = UI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontXAlignment) {
        EFontXAlignment[EFontXAlignment["LEFT"] = 0] = "LEFT";
        EFontXAlignment[EFontXAlignment["CENTER"] = 1] = "CENTER";
        EFontXAlignment[EFontXAlignment["RIGHT"] = 2] = "RIGHT";
    })(wd.EFontXAlignment || (wd.EFontXAlignment = {}));
    var EFontXAlignment = wd.EFontXAlignment;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontYAlignment) {
        EFontYAlignment[EFontYAlignment["TOP"] = 0] = "TOP";
        EFontYAlignment[EFontYAlignment["MIDDLE"] = 1] = "MIDDLE";
        EFontYAlignment[EFontYAlignment["BOTTOM"] = 2] = "BOTTOM";
    })(wd.EFontYAlignment || (wd.EFontYAlignment = {}));
    var EFontYAlignment = wd.EFontYAlignment;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EFontDimension) {
        EFontDimension[EFontDimension["AUTO"] = "auto"] = "AUTO";
    })(wd.EFontDimension || (wd.EFontDimension = {}));
    var EFontDimension = wd.EFontDimension;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Font = (function (_super) {
        __extends(Font, _super);
        function Font() {
            _super.apply(this, arguments);
            this.needFormat = false;
            this._isFirstUpdate = true;
            this._sizeChangeEventSubscription = null;
        }
        Font.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._sizeChangeEventSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.UI_WIDTH_CHANGE)
                .merge(wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.UI_HEIGHT_CHANGE))
                .subscribe(function () {
                self.dirty = true;
                self.needFormat = true;
            });
        };
        Font.prototype.dispose = function () {
            if (this._sizeChangeEventSubscription) {
                this._sizeChangeEventSubscription.dispose();
            }
        };
        Font.prototype.update = function (elapsedTime) {
            if (!this._isFirstUpdate) {
                if (this.needFormat) {
                    this.reFormat();
                }
            }
            else {
                this._isFirstUpdate = false;
            }
            this.needFormat = false;
            _super.prototype.update.call(this, elapsedTime);
        };
        Font.prototype.reFormat = function () {
        };
        Font.prototype.getLeftCornerPosition = function () {
            var transform = this.entityObject.transform, position = transform.position;
            return wd.Vector2.create(position.x - transform.width / 2, position.y - transform.height / 2);
        };
        __decorate([
            wd.virtual
        ], Font.prototype, "reFormat", null);
        return Font;
    }(wd.UI));
    wd.Font = Font;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WORD_REX = /([a-zA-Z0-9]+|\S)/, FIRST_ENGLISH_OR_NUM = /^[a-zA-Z0-9]/, LAST_ENGLISH_OR_NUM = /[a-zA-Z0-9]+$/, LAST_INVALID_CHAR = /\s+$/;
    var PlainFont = (function (_super) {
        __extends(PlainFont, _super);
        function PlainFont() {
            _super.apply(this, arguments);
            this._text = "";
            this._fontSize = 10;
            this._fontFamily = "sans-serif";
            this._xAlignment = wd.EFontXAlignment.LEFT;
            this._yAlignment = wd.EFontYAlignment.TOP;
            this._fillEnabled = true;
            this._fillStyle = "rgba(0, 0, 0, 1)";
            this._strokeEnabled = false;
            this._strokeStyle = null;
            this._strokeSize = null;
            this._fontClientHeightCache = wdCb.Hash.create();
            this._lineHeight = null;
            this._strArr = [];
        }
        PlainFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(PlainFont.prototype, "text", {
            get: function () {
                return this._text;
            },
            set: function (text) {
                if (text !== this._text) {
                    this._text = text;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "fontSize", {
            get: function () {
                return this._fontSize;
            },
            set: function (fontSize) {
                if (fontSize !== this._fontSize) {
                    this._fontSize = fontSize;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "fontFamily", {
            get: function () {
                return this._fontFamily;
            },
            set: function (fontFamily) {
                if (fontFamily !== this._fontFamily) {
                    this._fontFamily = fontFamily;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "xAlignment", {
            get: function () {
                return this._xAlignment;
            },
            set: function (xAlignment) {
                if (xAlignment !== this._xAlignment) {
                    this._xAlignment = xAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlainFont.prototype, "yAlignment", {
            get: function () {
                return this._yAlignment;
            },
            set: function (yAlignment) {
                if (yAlignment !== this._yAlignment) {
                    this._yAlignment = yAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        PlainFont.prototype.init = function () {
            _super.prototype.init.call(this);
            this._formatText();
            this._lineHeight = this._getDefaultLineHeight();
        };
        PlainFont.prototype.setFillStyle = function (fillStyle) {
            this._fillStyle = fillStyle;
        };
        PlainFont.prototype.enableStroke = function (strokeStyle, strokeSize) {
            this._strokeEnabled = true;
            this._fillEnabled = false;
            this._strokeStyle = strokeStyle;
            this._strokeSize = strokeSize;
        };
        PlainFont.prototype.enableFill = function (fillStyle) {
            this._fillEnabled = true;
            this._strokeEnabled = false;
            this._fillStyle = fillStyle;
        };
        PlainFont.prototype.setLineHeight = function (lineHeight) {
            this._lineHeight = lineHeight;
        };
        PlainFont.prototype.reFormat = function () {
            this._formatText();
            this._lineHeight = this._getDefaultLineHeight();
        };
        PlainFont.prototype.draw = function () {
            var context = this.context;
            context.font = this.fontSize + "px '" + this.fontFamily + "'";
            context.textBaseline = "top";
            context.textAlign = "start";
            if (this._strArr.length > 1) {
                this._drawMultiLine();
            }
            else {
                this._drawSingleLine();
            }
        };
        PlainFont.prototype._formatText = function () {
            var maxWidth = this.width;
            this._trimStr();
            if (maxWidth !== 0) {
                this._strArr = this._text.split('\n');
                for (var i = 0; i < this._strArr.length; i++) {
                    var text = this._strArr[i], allWidth = this._measure(text);
                    if (allWidth > maxWidth && text.length > 1) {
                        this._formatMultiLine(i, text, allWidth, maxWidth);
                    }
                }
            }
        };
        PlainFont.prototype._trimStr = function () {
            this._text = this._text.replace(LAST_INVALID_CHAR, "");
        };
        PlainFont.prototype._formatMultiLine = function (i, text, allWidth, maxWidth) {
            var _this = this;
            var LOOP_MAX_NUM = 100;
            var self = this, preText = null, truncationPointIndex = text.length * (maxWidth / allWidth) | 0, nextText = text.substr(truncationPointIndex), loopIndex = 0, width = allWidth - this._measure(nextText), pushNum = 0;
            var truncate = function () {
                while (width > maxWidth && loopIndex < LOOP_MAX_NUM) {
                    truncationPointIndex *= maxWidth / width;
                    truncationPointIndex = Math.floor(truncationPointIndex);
                    nextText = text.substr(truncationPointIndex);
                    width = allWidth - _this._measure(nextText);
                    loopIndex = loopIndex + 1;
                }
                loopIndex = 0;
            };
            var findTruncationPoint = function () {
                while (width < maxWidth && loopIndex < LOOP_MAX_NUM) {
                    if (nextText) {
                        var exec = WORD_REX.exec(nextText);
                        pushNum = exec ? exec[0].length : 1;
                    }
                    truncationPointIndex = truncationPointIndex + pushNum;
                    nextText = text.substr(truncationPointIndex);
                    width = allWidth - _this._measure(nextText);
                    loopIndex = loopIndex + 1;
                }
            };
            var handleTruncationPointIndex = function () {
                if (FIRST_ENGLISH_OR_NUM.test(nextText)) {
                    var preText_1 = text.substr(0, truncationPointIndex), pExec = LAST_ENGLISH_OR_NUM.exec(preText_1);
                    if (pExec) {
                        truncationPointIndex = truncationPointIndex - pExec[0].length;
                    }
                }
                else {
                    truncationPointIndex = truncationPointIndex - pushNum;
                }
                if (truncationPointIndex === 0) {
                    truncationPointIndex = 1;
                }
            };
            var setString = function () {
                nextText = text.substr(truncationPointIndex);
                preText = text.substr(0, truncationPointIndex);
                self._strArr[i] = nextText;
                self._strArr.splice(i, 0, preText);
            };
            truncate();
            findTruncationPoint();
            handleTruncationPointIndex();
            setString();
        };
        PlainFont.prototype._measure = function (text) {
            var context = this.context;
            context.font = this.fontSize + "px '" + this.fontFamily + "'";
            return context.measureText(text).width;
        };
        PlainFont.prototype._getDefaultLineHeight = function () {
            return this._computeLineHeight("normal");
        };
        PlainFont.prototype._computeLineHeight = function (lineHeight) {
            var div = wdCb.DomQuery.create("<div></div>"), dom = div.get(0), resultLineHeight = null;
            dom.style.cssText = "\n             font-family: " + this.fontFamily + ";\n             font-size: " + this.fontSize + "px;\n             position: absolute;\n             left: -100px;\n             top: -100px;\n             line-height: " + lineHeight + ";\n             ";
            div.prependTo("body");
            dom.innerHTML = "abc!";
            resultLineHeight = dom.clientHeight;
            div.remove();
            return resultLineHeight;
        };
        PlainFont.prototype._getFontClientHeight = function () {
            var fontSize = this.fontSize, fontName = this.fontFamily, key = fontSize + "." + fontName, cacheHeight = this._fontClientHeightCache.getChild(key), height = null;
            if (cacheHeight) {
                return cacheHeight;
            }
            height = this._computeLineHeight(1);
            this._fontClientHeightCache.addChild(key, height);
            return height;
        };
        PlainFont.prototype._drawMultiLine = function () {
            var context = this.context, position = this.getLeftCornerPosition(), x = position.x, y = position.y, lineHeight = this._lineHeight, fontClientHeight = this._getFontClientHeight(), self = this, lineCount = this._strArr.length, lineTotalHeight = (lineCount - 1) * lineHeight + fontClientHeight;
            if (self.yAlignment === wd.EFontYAlignment.BOTTOM) {
                y = y + self.height - lineTotalHeight;
            }
            else if (self.yAlignment === wd.EFontYAlignment.MIDDLE) {
                y = y + (self.height - lineTotalHeight) / 2;
            }
            for (var _i = 0, _a = this._strArr; _i < _a.length; _i++) {
                var str = _a[_i];
                if (self.xAlignment === wd.EFontXAlignment.RIGHT) {
                    x = x + self.width - self._measure(str);
                }
                else if (self.xAlignment == wd.EFontXAlignment.CENTER) {
                    x = x + (self.width - self._measure(str)) / 2;
                }
                if (self._fillEnabled) {
                    context.fillStyle = self._fillStyle;
                    context.fillText(str, x, y);
                }
                else if (self._strokeEnabled) {
                    context.strokeStyle = self._strokeStyle;
                    context.lineWidth = self._strokeSize;
                    context.strokeText(str, x, y);
                }
                x = position.x;
                y = y + lineHeight;
            }
        };
        PlainFont.prototype._drawSingleLine = function () {
            var context = this.context, position = this.getLeftCornerPosition(), x = position.x, y = position.y, fontClientHeight = this._getFontClientHeight(), self = this, lineCount = 1, lineTotalHeight = fontClientHeight, str = this._strArr[0];
            if (self.yAlignment === wd.EFontYAlignment.BOTTOM) {
                y = y + self.height - lineTotalHeight;
            }
            else if (self.yAlignment === wd.EFontYAlignment.MIDDLE) {
                y = y + (self.height - lineTotalHeight) / 2;
            }
            if (self.xAlignment === wd.EFontXAlignment.RIGHT) {
                x = x + self.width - self._measure(str);
            }
            else if (self.xAlignment == wd.EFontXAlignment.CENTER) {
                x = x + (self.width - self._measure(str)) / 2;
            }
            if (self._fillEnabled) {
                context.fillStyle = self._fillStyle;
                context.fillText(str, x, y);
            }
            else if (self._strokeEnabled) {
                context.strokeStyle = self._strokeStyle;
                context.lineWidth = self._strokeSize;
                context.strokeText(str, x, y);
            }
        };
        return PlainFont;
    }(wd.Font));
    wd.PlainFont = PlainFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BitmapFont = (function (_super) {
        __extends(BitmapFont, _super);
        function BitmapFont() {
            _super.apply(this, arguments);
            this._text = "";
            this._xAlignment = wd.EFontXAlignment.LEFT;
            this.fntId = null;
            this.bitmapId = null;
            this._charFontList = wdCb.Collection.create();
        }
        BitmapFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BitmapFont.prototype, "text", {
            get: function () {
                return this._text;
            },
            set: function (text) {
                if (text !== this._text) {
                    this._text = text;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BitmapFont.prototype, "xAlignment", {
            get: function () {
                return this._xAlignment;
            },
            set: function (xAlignment) {
                if (xAlignment !== this._xAlignment) {
                    this._xAlignment = xAlignment;
                    this.dirty = true;
                    this.needFormat = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        BitmapFont.prototype.init = function () {
            var fntObj = this._getFntObj(), imageAsset = this._getImageAsset();
            if (!fntObj) {
                wd.Log.log("impossible to create font: not find fnt file");
                return false;
            }
            if (!imageAsset) {
                wd.Log.log("impossible to create font: not find bitmap file");
                return false;
            }
            _super.prototype.init.call(this);
            this._createAndAddFontCharUIObjects(fntObj, imageAsset.source);
            this._formatText(fntObj);
        };
        BitmapFont.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._removeAllCharFont();
        };
        BitmapFont.prototype.reFormat = function () {
            var fntObj = this._getFntObj(), imageAsset = this._getImageAsset();
            this._removeAllCharFont();
            if (!fntObj) {
                wd.Log.log("impossible to create font: not find fnt file");
                return false;
            }
            if (!imageAsset) {
                wd.Log.log("impossible to create font: not find bitmap file");
                return false;
            }
            this._createAndAddFontCharUIObjects(fntObj, imageAsset.source);
            this._formatText(fntObj);
        };
        BitmapFont.prototype._getFntObj = function () {
            return wd.LoaderManager.getInstance().get(this.fntId);
        };
        BitmapFont.prototype._getImageAsset = function () {
            return wd.LoaderManager.getInstance().get(this.bitmapId);
        };
        BitmapFont.prototype._createAndAddFontCharUIObjects = function (fntObj, image) {
            var locStr = this.text, locFontDict = fntObj.fontDefDictionary, nextFontPositionX = 0, nextFontPositionY = 0, position = this.getLeftCornerPosition(), uiRenderer = this.getUIRenderer(), charFontUIObject = null, charFont = null;
            for (var i = 0, stringLen = locStr.length; i < stringLen; i++) {
                var key = String(locStr.charCodeAt(i)), char = locStr[i];
                if (this._isNewLine(char)) {
                    var charFontData_1 = this._createAndAddFontCharObjectOfNewLineChar(i, char, uiRenderer);
                    charFontUIObject = charFontData_1.charFontUIObject;
                    charFont = charFontData_1.charFont;
                    this._setCharFontUIObjectPosition(charFontUIObject, position.x + nextFontPositionX, position.y + nextFontPositionY);
                    charFont.startPosX = nextFontPositionX;
                    charFont.xAdvance = 0;
                    nextFontPositionX = 0;
                    nextFontPositionY = nextFontPositionY + fntObj.commonHeight;
                    continue;
                }
                var fontDef = this._getFontDef(locFontDict, key), charFontData = null;
                if (!fontDef) {
                    wd.Log.log("character not found " + char);
                    continue;
                }
                charFontData = this._createAndAddFontCharObjectOfCommonChar(fontDef, image, i, char, uiRenderer);
                charFontUIObject = charFontData.charFontUIObject;
                charFont = charFontData.charFont;
                this._setCharFontUIObjectPosition(charFontUIObject, position.x + nextFontPositionX + fontDef.xOffset, position.y + nextFontPositionY + fontDef.yOffset);
                charFont.startPosX = nextFontPositionX;
                charFont.xAdvance = fontDef.xAdvance;
                nextFontPositionX = nextFontPositionX + fontDef.xAdvance;
            }
        };
        BitmapFont.prototype._createAndAddFontCharObjectOfNewLineChar = function (index, char, uiRenderer) {
            var charFontUIObject = this._findCharFontUIObject(index), charFont = null;
            if (!charFontUIObject) {
                var charFontData = this._createCharFont(index, uiRenderer);
                charFontUIObject = charFontData.charFontUIObject;
                charFont = charFontData.charFont;
                this._addCharFontUIObject(charFontUIObject);
            }
            else {
                charFont = charFontUIObject.getComponent(wd.CharFont);
            }
            charFont.char = char;
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._createAndAddFontCharObjectOfCommonChar = function (fontDef, image, index, char, uiRenderer) {
            var rect = wd.RectRegion.create(fontDef.rect.x, fontDef.rect.y, fontDef.rect.width, fontDef.rect.height), charFontUIObject = this._findCharFontUIObject(index), charFont = null;
            if (!charFontUIObject) {
                var charFontData = this._createCharFont(index, uiRenderer), transform = null;
                charFontUIObject = charFontData.charFontUIObject;
                transform = charFontUIObject.transform,
                    charFont = charFontData.charFont;
                charFont.image = image;
                charFont.rectRegion = rect;
                transform.width = rect.width;
                transform.height = rect.height;
                this._addCharFontUIObject(charFontUIObject);
            }
            else {
                charFont = charFontUIObject.getComponent(wd.CharFont);
            }
            charFont.char = char;
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._formatText = function (fntObj) {
            if (this.width > 0) {
                this._formatMultiLine(fntObj);
            }
            this._formatAlign();
        };
        BitmapFont.prototype._formatMultiLine = function (fntObj) {
            var entityObject = this.entityObject, characterUIObject = null, charFont = null, position = this.getLeftCornerPosition(), x = 0, y = 0, lineHeight = fntObj.commonHeight;
            for (var i = 1, stringLen = this.text.length; i < stringLen; i++) {
                characterUIObject = this._findCharFontUIObject(i);
                charFont = characterUIObject.getComponent(wd.CharFont);
                if (this._isNewLine(charFont.char)) {
                    charFont.isNewLine = true;
                    charFont.isFullLine = false;
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                    x = 0;
                }
                if (this._isExceedWidth(position, charFont, x)) {
                    var prevCharUIObject = this._findCharFontUIObject(i - 1);
                    if (prevCharUIObject) {
                        var prevCharFont = prevCharUIObject.getComponent(wd.CharFont);
                        prevCharFont.isNewLine = true;
                        if (!this._isSpaceUnicode(prevCharFont.char)) {
                            prevCharFont.isFullLine = true;
                        }
                    }
                    x = this._getLetterPosXLeft(charFont);
                    y = y + lineHeight;
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                }
                else {
                    this._translateCharFontUIObject(characterUIObject, -x, y);
                }
            }
        };
        BitmapFont.prototype._formatAlign = function () {
            var position = this.getLeftCornerPosition(), self = this;
            if (this._xAlignment != wd.EFontXAlignment.LEFT) {
                var line_1 = [];
                this._charFontList.forEach(function (charFontUIObject) {
                    var charFont = charFontUIObject.getComponent(wd.CharFont);
                    if (!charFont.isNewLine) {
                        line_1.push(charFont);
                        return;
                    }
                    if (charFont.isNewLine && charFont.isFullLine) {
                        line_1 = [];
                        return;
                    }
                    self._alignLine(position, line_1, line_1[line_1.length - 1]);
                    line_1 = [];
                });
                if (line_1.length > 0) {
                    self._alignLine(position, line_1, line_1[line_1.length - 1]);
                }
            }
        };
        BitmapFont.prototype._createCharFont = function (index, uiRenderer) {
            var charFontUIObject = wd.UIObject.create(), charFont = wd.CharFont.create();
            charFontUIObject.addComponent(charFont);
            charFontUIObject.addComponent(uiRenderer);
            charFontUIObject.addTag(String(index));
            charFontUIObject.init();
            return {
                charFontUIObject: charFontUIObject,
                charFont: charFont
            };
        };
        BitmapFont.prototype._addCharFontUIObject = function (charFontUIObject) {
            this._charFontList.addChild(charFontUIObject);
            this.entityObject.addChild(charFontUIObject);
        };
        BitmapFont.prototype._findCharFontUIObject = function (index) {
            return this.entityObject.findChildByTag(String(index));
        };
        BitmapFont.prototype._isSpaceUnicode = function (char) {
            var charCode = char.charCodeAt(0);
            return charCode == 32 || charCode == 133 || charCode == 160 || charCode == 5760 || (charCode >= 8192 && charCode <= 8202) || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288;
        };
        BitmapFont.prototype._isNewLine = function (char) {
            return char.charCodeAt(0) == 10;
        };
        BitmapFont.prototype._getLetterPosXLeft = function (sp) {
            return sp.startPosX;
        };
        BitmapFont.prototype._getLetterPosXRight = function (leftCornerPosition, sp) {
            return wd.CoordinateUtils.convertCenterPositionXToLeftCornerPositionX(sp.x, sp.width) - leftCornerPosition.x + sp.xAdvance;
        };
        BitmapFont.prototype._getFontDef = function (fontDict, key) {
            return fontDict[key];
        };
        BitmapFont.prototype._isExceedWidth = function (leftCornerPosition, charFont, x) {
            return this._getLetterPosXRight(leftCornerPosition, charFont) - x > this.width;
        };
        BitmapFont.prototype._alignLine = function (leftCornerPosition, line, lastCharFont) {
            var self = this;
            line = this._trimBottomSpaceChar(line);
            lastCharFont = line[line.length - 1];
            line.forEach(function (cp) {
                var shift = null, lineWidth = self._getLetterPosXRight(leftCornerPosition, lastCharFont);
                switch (self._xAlignment) {
                    case wd.EFontXAlignment.CENTER:
                        shift = (self.width - lineWidth) / 2;
                        break;
                    case wd.EFontXAlignment.RIGHT:
                        shift = self.width - lineWidth;
                        break;
                    default:
                        break;
                }
                cp.x = cp.x + shift;
            });
        };
        BitmapFont.prototype._trimBottomSpaceChar = function (line) {
            var i = line.length - 1;
            if (this._isNewLine(line[i].char)) {
                i = i - 1;
            }
            while (i >= 0 && this._isSpaceUnicode(line[i].char)) {
                i = i - 1;
            }
            line = line.splice(0, i + 1);
            return line;
        };
        BitmapFont.prototype._setCharFontUIObjectPosition = function (charFontUIObject, x, y) {
            var transform = charFontUIObject.transform;
            charFontUIObject.transform.position = wd.CoordinateUtils.convertLeftCornerPositionToCenterPosition(wd.Vector2.create(x, y), transform.width, transform.height);
        };
        BitmapFont.prototype._translateCharFontUIObject = function (charFontUIObject, x, y) {
            charFontUIObject.transform.translate(x, y);
        };
        BitmapFont.prototype._removeAllCharFont = function () {
            this._charFontList.forEach(function (charFont) {
                charFont.dispose();
            });
            this._charFontList.removeAllChildren();
        };
        __decorate([
            wd.require(function (fntObj) {
                if (this.width > 0) {
                    for (var i = 1, stringLen = this.text.length; i < stringLen; i++) {
                        var characterUIObject = this.entityObject.findChildByTag(String(i));
                        wd.assert(!!characterUIObject, "char not has corresponding entityObject");
                        wd.assert(characterUIObject.hasComponent(wd.CharFont), wd.Log.info.FUNC_SHOULD("char entityObject", "contain CharFont component"));
                    }
                }
            })
        ], BitmapFont.prototype, "_formatText", null);
        return BitmapFont;
    }(wd.Font));
    wd.BitmapFont = BitmapFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CharFont = (function (_super) {
        __extends(CharFont, _super);
        function CharFont() {
            _super.apply(this, arguments);
            this._char = null;
            this.startPosX = null;
            this.xAdvance = null;
            this.image = null;
            this.rectRegion = null;
            this.isNewLine = false;
            this.isFullLine = false;
            this._subscription = null;
        }
        CharFont.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(CharFont.prototype, "x", {
            get: function () {
                return this.entityObject.transform.position.x;
            },
            set: function (x) {
                var position = this.entityObject.transform.position;
                this.entityObject.transform.position = wd.Vector2.create(x, position.y);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CharFont.prototype, "y", {
            get: function () {
                return this.entityObject.transform.position.y;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(CharFont.prototype, "char", {
            get: function () {
                return this._char;
            },
            set: function (char) {
                if (this._char !== null) {
                    wd.Log.log(wd.Log.info.FUNC_NOT_SUPPORT("change char"));
                    return;
                }
                this._char = char;
            },
            enumerable: true,
            configurable: true
        });
        CharFont.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._subscription = wdFrp.fromArray([wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_TRANSLATE), wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_ROTATE), wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.TRANSFORM_SCALE)])
                .mergeAll()
                .subscribe(function () {
                self.dirty = true;
            });
        };
        CharFont.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._subscription.dispose();
        };
        CharFont.prototype.shouldNotUpdate = function () {
            return this.rectRegion === null || (this.width === 0 && this.height === 0);
        };
        CharFont.prototype.draw = function (elapsedTime) {
            var transform = null, position = null, dw = null, dh = null;
            transform = this.entityObject.transform;
            position = transform.position;
            dw = this.width;
            dh = this.height;
            this.drawInCenterPoint(this.context, this.image, this.rectRegion.x, this.rectRegion.y, this.rectRegion.width, this.rectRegion.height, position, dw, dh);
        };
        __decorate([
            wd.execOnlyOnce("_isInit")
        ], CharFont.prototype, "init", null);
        return CharFont;
    }(wd.Font));
    wd.CharFont = CharFont;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProgressBar = (function (_super) {
        __extends(ProgressBar, _super);
        function ProgressBar() {
            _super.apply(this, arguments);
            this._percent = 0;
            this.borderStyle = "rgba(0, 0, 0, 1)";
            this.fillStyle = "rgba(255, 0, 0, 1)";
            this.radius = 5;
            this._offScreenCanvas = null;
            this._offScreenContext = null;
        }
        ProgressBar.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(ProgressBar.prototype, "percent", {
            get: function () {
                return this._percent;
            },
            set: function (percent) {
                if (this._percent !== percent) {
                    this._percent = percent;
                    this.dirty = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        ProgressBar.prototype.init = function () {
            _super.prototype.init.call(this);
            this._createOffScreenCanvas();
            this._drawProgressBar();
        };
        ProgressBar.prototype.shouldNotUpdate = function () {
            return this.percent <= 0;
        };
        ProgressBar.prototype.draw = function (elapsedTime) {
            var position = this.entityObject.transform.position;
            this._drawFromLeft(position);
            this._drawBorder(position);
        };
        ProgressBar.prototype._drawFromLeft = function (position) {
            var offscreenCanvas = this._offScreenCanvas, loadedWidth = this.width * this.percent;
            this.drawInCenterPoint(this.context, offscreenCanvas, 0, 0, loadedWidth, this.height, wd.Vector2.create(position.x - this.width / 2 + loadedWidth / 2, position.y), loadedWidth, this.height);
        };
        ProgressBar.prototype._drawBorder = function (position) {
            wd.RoundedRectUtils.drawRoundedRect(this.context, this.borderStyle, null, position.x - this.width / 2, position.y - this.height / 2, this.width, this.height, this.radius);
        };
        ProgressBar.prototype._createOffScreenCanvas = function () {
            var canvas = wdCb.DomQuery.create("<canvas></canvas>");
            canvas.attr("width", this.context.canvas.width);
            canvas.attr("height", this.context.canvas.height);
            this._offScreenCanvas = canvas.get(0);
            this._offScreenContext = this._offScreenCanvas.getContext("2d");
        };
        ProgressBar.prototype._drawProgressBar = function () {
            this._offScreenContext.clearRect(0, 0, this._offScreenCanvas.width, this._offScreenCanvas.height);
            wd.RoundedRectUtils.drawRoundedRect(this._offScreenContext, this.borderStyle, this.fillStyle, 0, 0, this.width, this.height, this.radius);
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.percent >= 0 && this.percent <= 1, wd.Log.info.FUNC_SHOULD("percent", " >= 0 and <= 1"));
            })
        ], ProgressBar.prototype, "draw", null);
        return ProgressBar;
    }(wd.UI));
    wd.ProgressBar = ProgressBar;
})(wd || (wd = {}));
var wd;
(function (wd) {
    function _canUseNewCanvasBlendModes() {
        var canvas = null, context = null;
        if (typeof document === 'undefined') {
            return false;
        }
        canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        context = canvas.getContext('2d');
        context.fillStyle = '#000';
        context.fillRect(0, 0, 1, 1);
        context.globalCompositeOperation = 'multiply';
        context.fillStyle = '#fff';
        context.fillRect(0, 0, 1, 1);
        return context.getImageData(0, 0, 1, 1).data[0] === 0;
    }
    var Image = (function (_super) {
        __extends(Image, _super);
        function Image() {
            _super.apply(this, arguments);
            this._source = null;
            this.color = null;
            this.targetSource = null;
            this.targetColor = null;
        }
        Image.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Image.prototype, "source", {
            get: function () {
                return this._source;
            },
            set: function (source) {
                if (source !== this._source) {
                    this._source = source;
                    this.dirty = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        Image.prototype.shouldNotUpdate = function () {
            return this._getDrawSource() === null && this._getDrawColor() === null;
        };
        Image.prototype.draw = function (elapsedTime) {
            var drawColor = this._getDrawColor(), drawSource = this._getDrawSource();
            if (drawColor !== null) {
                var position = this.entityObject.transform.position;
                this._setFillStyle(drawColor.toString());
                if (drawColor.a < 1) {
                    this._setGlobalAlpha(this.context, drawColor.a);
                }
                this.context.fillRect(position.x - this.width / 2, position.y - this.height / 2, this.width, this.height);
                if (drawSource) {
                    this._blendColorWithSource();
                }
            }
            else {
                this.drawInCenterPoint(this.context, drawSource.source, this.entityObject.transform.position, this.width, this.height);
            }
        };
        Image.prototype._setFillStyle = function (style) {
            this.context.fillStyle = style;
        };
        Image.prototype._getDrawSource = function () {
            if (this.targetSource) {
                return this.targetSource;
            }
            return this.source;
        };
        Image.prototype._getDrawColor = function () {
            if (this.targetColor) {
                return this.targetColor;
            }
            return this.color;
        };
        Image.prototype._blendByMultiply = function () {
            this._setGlobalCompositeOperation(this.context, "multiply");
            this.drawInCenterPoint(this.context, this._getDrawSource().source, this.entityObject.transform.position, this.width, this.height);
        };
        Image.prototype._blendByPerPixel = function () {
            var context = this.context, canvas = this.getCanvas(), r = this.color.r, g = this.color.g, b = this.color.b, pixelData = null, pixels = null;
            context.globalCompositeOperation = "copy";
            this.drawInCenterPoint(this.context, this._getDrawSource().source, this.entityObject.transform.position, this.width, this.height);
            pixelData = context.getImageData(0, 0, canvas.width, canvas.height);
            pixels = pixelData.data;
            for (var i = 0, len = pixels.length; i < len; i += 4) {
                pixels[i] *= r;
                pixels[i + 1] *= g;
                pixels[i + 2] *= b;
            }
            context.putImageData(pixelData, 0, 0);
        };
        Image.prototype._setGlobalCompositeOperation = function (context, mode) {
            context.globalCompositeOperation = mode;
        };
        Image.prototype._setGlobalAlpha = function (context, alpha) {
            context.globalAlpha = alpha;
        };
        Image.constructorForBlend = function (obj) {
            obj._blendColorWithSource = _canUseNewCanvasBlendModes() ?
                obj._blendByMultiply : obj._blendByPerPixel;
            return true;
        };
        Image.constructorInitForBlend = Image.constructorForBlend(Image.prototype);
        __decorate([
            wd.require(function () {
                wd.assert(!!this._getDrawSource(), wd.Log.info.FUNC_SHOULD("source", "exist"));
            })
        ], Image.prototype, "_blendByMultiply", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!this._getDrawSource(), wd.Log.info.FUNC_SHOULD("source", "exist"));
            })
        ], Image.prototype, "_blendByPerPixel", null);
        return Image;
    }(wd.UI));
    wd.Image = Image;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var InteractionUI = (function (_super) {
        __extends(InteractionUI, _super);
        function InteractionUI() {
            _super.apply(this, arguments);
            this.p_transitionMode = null;
            this.transitionManager = wd.TransitionManager.create(this);
        }
        Object.defineProperty(InteractionUI.prototype, "transitionMode", {
            get: function () {
                return this.p_transitionMode;
            },
            set: function (transitionMode) {
                this.p_transitionMode = transitionMode;
            },
            enumerable: true,
            configurable: true
        });
        return InteractionUI;
    }(wd.UI));
    wd.InteractionUI = InteractionUI;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Button = (function (_super) {
        __extends(Button, _super);
        function Button() {
            _super.apply(this, arguments);
            this._text = null;
            this._mousedownSubscription = null;
            this._mouseupSubscription = null;
            this._mouseoverSubscription = null;
            this._mouseoutSubscription = null;
            this._stateMachine = wd.UIStateMachine.create(this);
        }
        Button.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(Button.prototype, "text", {
            get: function () {
                var fontObject = null;
                if (this.entityObject === null) {
                    return this._text;
                }
                fontObject = this.getObject(wd.EButtonObjectName.TEXT);
                if (fontObject) {
                    return fontObject.getComponent(wd.PlainFont).text;
                }
                return null;
            },
            set: function (text) {
                var fontObject = null;
                this._text = text;
                if (this.entityObject === null || !this.getUIRenderer()) {
                    return;
                }
                fontObject = this.getObject(wd.EButtonObjectName.TEXT);
                if (fontObject) {
                    fontObject.getComponent(wd.PlainFont).text = text;
                }
                else {
                    this.entityObject.addChild(this._createFontObject());
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Button.prototype, "isDisabled", {
            get: function () {
                return this._stateMachine.currentState === wd.EUIState.DISABLED;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Button.prototype, "currentState", {
            get: function () {
                return this._stateMachine.currentState;
            },
            enumerable: true,
            configurable: true
        });
        Button.prototype.initWhenCreate = function () {
            this.transitionMode = wd.ETransitionMode.SPRITE;
            this.text = "button";
        };
        Button.prototype.init = function () {
            _super.prototype.init.call(this);
            if (!this._hasFontObject()) {
                this.entityObject.addChild(this._createFontObject());
            }
            this.entityObject.addChild(this._createBackgroundObject());
            this._bindEvent();
        };
        Button.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._mousedownSubscription.dispose();
            this._mouseupSubscription.dispose();
            this._mouseoverSubscription.dispose();
            this._mouseoutSubscription.dispose();
        };
        Button.prototype.getObject = function (objectName) {
            return this.entityObject.findChildByName(objectName);
        };
        Button.prototype.getObjectTransition = function (objectName) {
            return this.transitionManager.getObjectTransition(objectName);
        };
        Button.prototype.enable = function () {
            this._stateMachine.changeState(wd.EUIState.NORMAL);
        };
        Button.prototype.disable = function () {
            this._stateMachine.changeState(wd.EUIState.DISABLED);
        };
        Button.prototype.update = function (elapsedTime) {
            var target = this.transitionManager.getObjectTarget(wd.EButtonObjectName.BACKGROUND);
            if (!target) {
                var image = this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image);
                switch (this.p_transitionMode) {
                    case wd.ETransitionMode.SPRITE:
                        image.targetSource = null;
                        break;
                    case wd.ETransitionMode.COLOR:
                        image.targetColor = null;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                        break;
                }
                return;
            }
            switch (this.p_transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image).targetSource = target;
                    break;
                case wd.ETransitionMode.COLOR:
                    this.getObject(wd.EButtonObjectName.BACKGROUND).getComponent(wd.Image).targetColor = target;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
        };
        Button.prototype._createBackgroundObject = function () {
            var object = wd.UIObject.create(), image = wd.Image.create(), transform = this.entityObject.transform;
            object.addComponent(image);
            object.addComponent(this.getUIRenderer());
            object.transform.width = transform.width;
            object.transform.height = transform.height;
            object.transform.zIndex = 1;
            object.name = wd.EButtonObjectName.BACKGROUND;
            return object;
        };
        Button.prototype._createFontObject = function () {
            var fontObject = wd.UIObject.create(), font = wd.PlainFont.create(), transform = this.entityObject.transform;
            font.text = this._text;
            font.enableFill("#000000");
            font.xAlignment = wd.EFontXAlignment.CENTER;
            font.yAlignment = wd.EFontYAlignment.MIDDLE;
            fontObject.addComponent(font);
            fontObject.addComponent(this.getUIRenderer());
            fontObject.transform.width = transform.width;
            fontObject.transform.height = transform.height;
            fontObject.transform.zIndex = 2;
            fontObject.name = wd.EButtonObjectName.TEXT;
            return fontObject;
        };
        Button.prototype._hasFontObject = function () {
            return !!this.getObject(wd.EButtonObjectName.TEXT);
        };
        Button.prototype._bindEvent = function () {
            var self = this;
            this._mousedownSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_DOWN)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.changeState(wd.EUIState.PRESSED);
            });
            this._mouseupSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_UP)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.backState();
            });
            this._mouseoverSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_OVER)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.changeState(wd.EUIState.HIGHLIGHT);
            });
            this._mouseoutSubscription = wd.EventManager.fromEvent(this.entityObject, wd.EEngineEvent.MOUSE_OUT)
                .filter(function (e) {
                return !self.isDisabled;
            })
                .subscribe(function (e) {
                self._stateMachine.backState();
            });
        };
        __decorate([
            wd.require(function (elapsedTime) {
                wd.assert(this.getObject(wd.EButtonObjectName.BACKGROUND).hasComponent(wd.Image), wd.Log.info.FUNC_SHOULD("Button UIObject", "contain Image component"));
            })
        ], Button.prototype, "update", null);
        return Button;
    }(wd.InteractionUI));
    wd.Button = Button;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EButtonObjectName) {
        EButtonObjectName[EButtonObjectName["BACKGROUND"] = "background"] = "BACKGROUND";
        EButtonObjectName[EButtonObjectName["TEXT"] = "text"] = "TEXT";
    })(wd.EButtonObjectName || (wd.EButtonObjectName = {}));
    var EButtonObjectName = wd.EButtonObjectName;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EUIState) {
        EUIState[EUIState["NORMAL"] = 0] = "NORMAL";
        EUIState[EUIState["HIGHLIGHT"] = 1] = "HIGHLIGHT";
        EUIState[EUIState["PRESSED"] = 2] = "PRESSED";
        EUIState[EUIState["DISABLED"] = 3] = "DISABLED";
    })(wd.EUIState || (wd.EUIState = {}));
    var EUIState = wd.EUIState;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var UIStateMachine = (function () {
        function UIStateMachine(ui) {
            this._ui = null;
            this._stateHistory = wdCb.Stack.create();
            this._ui = ui;
        }
        UIStateMachine.create = function (ui) {
            var obj = new this(ui);
            return obj;
        };
        Object.defineProperty(UIStateMachine.prototype, "transitionManager", {
            get: function () {
                return this._ui.transitionManager;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UIStateMachine.prototype, "currentState", {
            get: function () {
                return this._stateHistory.top || wd.EUIState.NORMAL;
            },
            enumerable: true,
            configurable: true
        });
        UIStateMachine.prototype.changeState = function (state) {
            this._stateHistory.push(state);
            this.transitionManager.changeState(state);
            this._ui.dirty = true;
        };
        UIStateMachine.prototype.backState = function () {
            var lastState = null;
            this._stateHistory.pop();
            lastState = this._stateHistory.top;
            if (!lastState) {
                lastState = wd.EUIState.NORMAL;
            }
            this.transitionManager.changeState(lastState);
            this._ui.dirty = true;
        };
        return UIStateMachine;
    }());
    wd.UIStateMachine = UIStateMachine;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Transition = (function () {
        function Transition() {
            this._target = null;
        }
        Object.defineProperty(Transition.prototype, "target", {
            get: function () {
                if (this._target === null) {
                    this.changeState(wd.EUIState.NORMAL);
                }
                return this._target;
            },
            set: function (target) {
                this._target = target;
            },
            enumerable: true,
            configurable: true
        });
        return Transition;
    }());
    wd.Transition = Transition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpriteTransition = (function (_super) {
        __extends(SpriteTransition, _super);
        function SpriteTransition() {
            _super.apply(this, arguments);
            this.normalSprite = null;
            this.highlightSprite = null;
            this.pressedSprite = null;
            this.disabledSprite = null;
        }
        SpriteTransition.create = function () {
            var obj = new this();
            return obj;
        };
        SpriteTransition.prototype.changeState = function (state) {
            switch (state) {
                case wd.EUIState.NORMAL:
                    this.target = this.normalSprite;
                    break;
                case wd.EUIState.HIGHLIGHT:
                    this.target = this.highlightSprite;
                    break;
                case wd.EUIState.PRESSED:
                    this.target = this.pressedSprite;
                    break;
                case wd.EUIState.DISABLED:
                    this.target = this.disabledSprite;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("state"));
                    break;
            }
        };
        return SpriteTransition;
    }(wd.Transition));
    wd.SpriteTransition = SpriteTransition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ColorTransition = (function (_super) {
        __extends(ColorTransition, _super);
        function ColorTransition() {
            _super.apply(this, arguments);
            this.normalColor = null;
            this.highlightColor = null;
            this.pressedColor = null;
            this.disabledColor = null;
        }
        ColorTransition.create = function () {
            var obj = new this();
            return obj;
        };
        ColorTransition.prototype.changeState = function (state) {
            switch (state) {
                case wd.EUIState.NORMAL:
                    this.target = this.normalColor;
                    break;
                case wd.EUIState.HIGHLIGHT:
                    this.target = this.highlightColor;
                    break;
                case wd.EUIState.PRESSED:
                    this.target = this.pressedColor;
                    break;
                case wd.EUIState.DISABLED:
                    this.target = this.disabledColor;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("state"));
                    break;
            }
        };
        return ColorTransition;
    }(wd.Transition));
    wd.ColorTransition = ColorTransition;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETransitionMode) {
        ETransitionMode[ETransitionMode["SPRITE"] = 0] = "SPRITE";
        ETransitionMode[ETransitionMode["COLOR"] = 1] = "COLOR";
    })(wd.ETransitionMode || (wd.ETransitionMode = {}));
    var ETransitionMode = wd.ETransitionMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TransitionManager = (function () {
        function TransitionManager(ui) {
            this._ui = null;
            this._spriteTransitionMap = wdCb.Hash.create();
            this._colorTransitionMap = wdCb.Hash.create();
            this._ui = ui;
        }
        TransitionManager.create = function (ui) {
            var obj = new this(ui);
            return obj;
        };
        TransitionManager.prototype.getObjectTransition = function (objectName) {
            var result = this._getTransitionMap().getChild(objectName);
            if (!result) {
                result = this._createTransitionInstance();
                this._getTransitionMap().addChild(objectName, result);
            }
            return result;
        };
        TransitionManager.prototype.getObjectTarget = function (objectName) {
            return this.getObjectTransition(objectName).target;
        };
        TransitionManager.prototype.changeState = function (state) {
            wdFrp.fromArray([
                this._spriteTransitionMap,
                this._colorTransitionMap
            ])
                .subscribe(function (map) {
                map.forEach(function (transition) {
                    transition.changeState(state);
                });
            });
        };
        TransitionManager.prototype._getTransitionMap = function () {
            var map = null;
            switch (this._ui.transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    map = this._spriteTransitionMap;
                    break;
                case wd.ETransitionMode.COLOR:
                    map = this._colorTransitionMap;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
            return map;
        };
        TransitionManager.prototype._createTransitionInstance = function () {
            var transition = null;
            switch (this._ui.transitionMode) {
                case wd.ETransitionMode.SPRITE:
                    transition = wd.SpriteTransition.create();
                    break;
                case wd.ETransitionMode.COLOR:
                    transition = wd.ColorTransition.create();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("transitionMode"));
                    break;
            }
            return transition;
        };
        return TransitionManager;
    }());
    wd.TransitionManager = TransitionManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RoundedRectUtils = (function () {
        function RoundedRectUtils() {
        }
        RoundedRectUtils.drawRoundedRect = function (context, strokeStyle, fillStyle, cornerX, cornerY, width, height, cornerRadius) {
            context.save();
            context.beginPath();
            if (width > 0) {
                context.moveTo(cornerX + cornerRadius, cornerY);
            }
            else {
                context.moveTo(cornerX - cornerRadius, cornerY);
            }
            context.arcTo(cornerX + width, cornerY, cornerX + width, cornerY + height, cornerRadius);
            context.arcTo(cornerX + width, cornerY + height, cornerX, cornerY + height, cornerRadius);
            context.arcTo(cornerX, cornerY + height, cornerX, cornerY, cornerRadius);
            if (width > 0) {
                context.arcTo(cornerX, cornerY, cornerX + cornerRadius, cornerY, cornerRadius);
            }
            else {
                context.arcTo(cornerX, cornerY, cornerX - cornerRadius, cornerY, cornerRadius);
            }
            context.closePath();
            context.strokeStyle = strokeStyle;
            context.fillStyle = fillStyle;
            if (strokeStyle) {
                context.stroke();
            }
            if (fillStyle) {
                context.fill();
            }
            context.restore();
        };
        return RoundedRectUtils;
    }());
    wd.RoundedRectUtils = RoundedRectUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var JudgeUtils = (function (_super) {
        __extends(JudgeUtils, _super);
        function JudgeUtils() {
            _super.apply(this, arguments);
        }
        JudgeUtils.isView = function (obj) {
            return !!obj && obj.offset && obj.width && obj.height && this.isFunction(obj.getContext);
        };
        JudgeUtils.isEqual = function (target1, target2) {
            if ((!target1 && target2) || (target1 && !target2)) {
                return false;
            }
            if (target1.uid && target2.uid) {
                return target1.uid === target2.uid;
            }
            return target1 === target2;
        };
        JudgeUtils.isPowerOfTwo = function (value) {
            return (value & (value - 1)) === 0 && value !== 0;
        };
        JudgeUtils.isFloatArray = function (data) {
            return wd.EntityObject.prototype.toString.call(data) === "[object Float32Array]" || wd.EntityObject.prototype.toString.call(data) === "[object Float16Array]";
        };
        JudgeUtils.isInterface = function (target, memberOfInterface) {
            return !!target[memberOfInterface];
        };
        JudgeUtils.isSpacePartitionObject = function (entityObject) {
            return entityObject.hasComponent(wd.SpacePartition);
        };
        JudgeUtils.isSelf = function (self, entityObject) {
            return self.uid === entityObject.uid;
        };
        JudgeUtils.isComponenet = function (component) {
            return component.entityObject !== void 0;
        };
        JudgeUtils.isDom = function (obj) {
            return Object.prototype.toString.call(obj).match(/\[object HTML\w+/) !== null;
        };
        return JudgeUtils;
    }(wdCb.JudgeUtils));
    wd.JudgeUtils = JudgeUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MathUtils = (function () {
        function MathUtils() {
        }
        MathUtils.clamp = function (num, below, up) {
            if (num < below) {
                return below;
            }
            else if (num > up) {
                return up;
            }
            return num;
        };
        MathUtils.bigThan = function (num, below) {
            return num < below ? below : num;
        };
        MathUtils.generateZeroToOne = function () {
            return Math.random();
        };
        MathUtils.generateInteger = function (min, max) {
            var max = max + 1;
            return Math.floor(Math.random() * (max - min) + min);
        };
        MathUtils.mod = function (a, b) {
            var n = Math.floor(a / b);
            a -= n * b;
            if (a < 0) {
                a += b;
            }
            return a;
        };
        MathUtils.maxFloorIntegralMultiple = function (a, b) {
            if (b == 0) {
                return a;
            }
            if (a < b) {
                return 0;
            }
            return Math.floor(a / b) * b;
        };
        __decorate([
            wd.require(function (min, max) {
                wd.assert(min < max, wd.Log.info.FUNC_SHOULD("min", "< max"));
            })
        ], MathUtils, "generateInteger", null);
        __decorate([
            wd.ensure(function (val) {
                wd.assert(val >= 0);
            })
        ], MathUtils, "mod", null);
        __decorate([
            wd.require(function (a, b) {
                wd.assert(a >= 0 && b >= 0, wd.Log.info.FUNC_SHOULD("param", ">= 0"));
            }),
            wd.ensure(function (val) {
                wd.assert(val >= 0);
            })
        ], MathUtils, "maxFloorIntegralMultiple", null);
        return MathUtils;
    }());
    wd.MathUtils = MathUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CoordinateUtils = (function () {
        function CoordinateUtils() {
        }
        CoordinateUtils.convertWebGLPositionToCanvasPosition = function (position) {
            var view = wd.DeviceManager.getInstance().view;
            return wd.Vector2.create(view.width / 2 + position.x, view.height / 2 - position.y);
        };
        CoordinateUtils.convertCanvasPositionToWebGLPosition = function (position) {
            var view = wd.DeviceManager.getInstance().view;
            return wd.Vector3.create(position.x - view.width / 2, view.height / 2 - position.y, 0);
        };
        CoordinateUtils.convertLeftCornerPositionToCenterPosition = function (position, width, height) {
            return wd.Vector2.create(this.convertLeftCornerPositionXToCenterPositionX(position.x, width), this.convertLeftCornerPositionYToCenterPositionY(position.y, height));
        };
        CoordinateUtils.convertLeftCornerPositionXToCenterPositionX = function (positionX, width) {
            return positionX + width / 2;
        };
        CoordinateUtils.convertLeftCornerPositionYToCenterPositionY = function (positionY, height) {
            return positionY + height / 2;
        };
        CoordinateUtils.convertCenterPositionToLeftCornerPosition = function (position, width, height) {
            return wd.Vector2.create(this.convertCenterPositionXToLeftCornerPositionX(position.x, width), this.convertCenterPositionYToLeftCornerPositionY(position.y, height));
        };
        CoordinateUtils.convertCenterPositionXToLeftCornerPositionX = function (positionX, width) {
            return positionX - width / 2;
        };
        CoordinateUtils.convertCenterPositionYToLeftCornerPositionY = function (positionY, height) {
            return positionY - height / 2;
        };
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.DeviceManager.getInstance().view, wd.Log.info.FUNC_SHOULD("set view"));
            })
        ], CoordinateUtils, "convertWebGLPositionToCanvasPosition", null);
        __decorate([
            wd.require(function () {
                wd.assert(!!wd.DeviceManager.getInstance().view, wd.Log.info.FUNC_SHOULD("set view"));
            })
        ], CoordinateUtils, "convertCanvasPositionToWebGLPosition", null);
        return CoordinateUtils;
    }());
    wd.CoordinateUtils = CoordinateUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Log = (function (_super) {
        __extends(Log, _super);
        function Log() {
            _super.apply(this, arguments);
        }
        return Log;
    }(wdCb.Log));
    wd.Log = Log;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TimeController = (function () {
        function TimeController() {
            this.elapsed = null;
            this.pauseElapsed = 0;
            this.pauseTime = null;
            this.startTime = null;
        }
        TimeController.prototype.start = function () {
            this.startTime = this.getNow();
            this.pauseElapsed = null;
        };
        TimeController.prototype.stop = function () {
            this.startTime = null;
        };
        TimeController.prototype.pause = function () {
            this.pauseTime = this.getNow();
        };
        TimeController.prototype.resume = function () {
            this.pauseElapsed += this.getNow() - this.pauseTime;
            this.pauseTime = null;
        };
        TimeController.prototype.computeElapseTime = function (time) {
            if (this.pauseElapsed) {
                this.elapsed = time - this.pauseElapsed - this.startTime;
            }
            else {
                this.elapsed = time - this.startTime;
            }
            if (this.elapsed < 0) {
                this.elapsed = 0;
            }
            return this.elapsed;
        };
        __decorate([
            wd.ensure(function () {
                wd.assert(this.elapsed >= 0, wd.Log.info.FUNC_SHOULD("elapsed:" + this.elapsed, ">= 0"));
            })
        ], TimeController.prototype, "computeElapseTime", null);
        return TimeController;
    }());
    wd.TimeController = TimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var STARTING_FPS = 60, GAMETIME_SCALE = 1000;
    var DirectorTimeController = (function (_super) {
        __extends(DirectorTimeController, _super);
        function DirectorTimeController() {
            _super.apply(this, arguments);
            this.gameTime = null;
            this.fps = null;
            this.isTimeChange = false;
            this.deltaTime = null;
            this._lastTime = null;
        }
        DirectorTimeController.create = function () {
            var obj = new this();
            return obj;
        };
        DirectorTimeController.prototype.tick = function (time) {
            this.deltaTime = this._lastTime !== null ? time - this._lastTime : time;
            this._updateFps(this.deltaTime);
            this.gameTime = time / GAMETIME_SCALE;
            this._lastTime = time;
        };
        DirectorTimeController.prototype.start = function () {
            _super.prototype.start.call(this);
            this.isTimeChange = true;
            this.elapsed = 0;
        };
        DirectorTimeController.prototype.resume = function () {
            _super.prototype.resume.call(this);
            this.isTimeChange = true;
        };
        DirectorTimeController.prototype.getNow = function () {
            return wd.root.performance.now();
        };
        DirectorTimeController.prototype._updateFps = function (deltaTime) {
            if (this._lastTime === null) {
                this.fps = STARTING_FPS;
            }
            else {
                this.fps = 1000 / deltaTime;
            }
        };
        return DirectorTimeController;
    }(wd.TimeController));
    wd.DirectorTimeController = DirectorTimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonTimeController = (function (_super) {
        __extends(CommonTimeController, _super);
        function CommonTimeController() {
            _super.apply(this, arguments);
        }
        CommonTimeController.create = function () {
            var obj = new this();
            return obj;
        };
        CommonTimeController.prototype.getNow = function () {
            if (wd.Director.getInstance().isTimeChange) {
                return wd.Director.getInstance().elapsed;
            }
            return wd.root.performance.now();
        };
        return CommonTimeController;
    }(wd.TimeController));
    wd.CommonTimeController = CommonTimeController;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RenderTargetRenderer = (function () {
        function RenderTargetRenderer(renderTargetTexture) {
            this.texture = null;
            this.frameBufferOperator = null;
            this.texture = renderTargetTexture;
        }
        RenderTargetRenderer.prototype.initWhenCreate = function () {
            this.frameBufferOperator = wd.FrameBuffer.create(this.texture.width, this.texture.height);
        };
        RenderTargetRenderer.prototype.init = function () {
            this.texture.createEmptyTexture();
            this.initFrameBuffer();
        };
        RenderTargetRenderer.prototype.render = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var renderer = args[0];
            this.beforeRender();
            if (args.length === 1) {
                this.renderFrameBufferTexture(renderer);
            }
            else {
                var camera = args[1];
                this.renderFrameBufferTexture(renderer, camera);
            }
            this.afterRender();
        };
        RenderTargetRenderer.prototype.dispose = function () {
            this.frameBufferOperator.dispose();
            this.disposeFrameBuffer();
            this.texture.dispose();
        };
        RenderTargetRenderer.prototype.beforeRender = function () {
        };
        RenderTargetRenderer.prototype.afterRender = function () {
        };
        __decorate([
            wd.virtual
        ], RenderTargetRenderer.prototype, "beforeRender", null);
        __decorate([
            wd.virtual
        ], RenderTargetRenderer.prototype, "afterRender", null);
        return RenderTargetRenderer;
    }());
    wd.RenderTargetRenderer = RenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDRenderTargetRenderer = (function (_super) {
        __extends(TwoDRenderTargetRenderer, _super);
        function TwoDRenderTargetRenderer() {
            _super.apply(this, arguments);
            this.frameBuffer = null;
            this.renderBuffer = null;
            this._lastCamera = null;
        }
        TwoDRenderTargetRenderer.prototype.initFrameBuffer = function () {
            var frameBuffer = this.frameBufferOperator, gl = wd.DeviceManager.getInstance().gl;
            this.frameBuffer = frameBuffer.createFrameBuffer();
            this.renderBuffer = frameBuffer.createRenderBuffer();
            frameBuffer.bindFrameBuffer(this.frameBuffer);
            frameBuffer.attachTexture(gl.TEXTURE_2D, this.texture.glTexture);
            frameBuffer.attachRenderBuffer("DEPTH_ATTACHMENT", this.renderBuffer);
            frameBuffer.check();
            frameBuffer.unBind();
        };
        TwoDRenderTargetRenderer.prototype.renderFrameBufferTexture = function (renderer, camera) {
            var renderCamera = this.createCamera(camera);
            if (this._lastCamera) {
                this._lastCamera.dispose();
            }
            this._lastCamera = renderCamera;
            this.beforeRenderFrameBufferTexture(renderCamera);
            this.frameBufferOperator.bindFrameBuffer(this.frameBuffer);
            this.texture.bindToUnit(0);
            this.frameBufferOperator.setViewport();
            this.getRenderList().forEach(function (child) {
                child.render(renderer, renderCamera);
            });
            renderer.clear();
            this.renderRenderer(renderer);
            this.frameBufferOperator.unBind();
            this.frameBufferOperator.restoreViewport();
        };
        TwoDRenderTargetRenderer.prototype.disposeFrameBuffer = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteFramebuffer(this.frameBuffer);
            gl.deleteRenderbuffer(this.renderBuffer);
        };
        return TwoDRenderTargetRenderer;
    }(wd.RenderTargetRenderer));
    wd.TwoDRenderTargetRenderer = TwoDRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorRenderTargetRenderer = (function (_super) {
        __extends(MirrorRenderTargetRenderer, _super);
        function MirrorRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        MirrorRenderTargetRenderer.create = function (mirrorTexture) {
            var obj = new this(mirrorTexture);
            obj.initWhenCreate();
            return obj;
        };
        MirrorRenderTargetRenderer.prototype.beforeRenderFrameBufferTexture = function (renderCamera) {
        };
        MirrorRenderTargetRenderer.prototype.getRenderList = function () {
            return this.texture.renderList;
        };
        MirrorRenderTargetRenderer.prototype.renderRenderer = function (renderer) {
            this._setSceneSide(wd.ESide.BACK);
            renderer.render();
            this._setSceneSide(null);
        };
        MirrorRenderTargetRenderer.prototype.createCamera = function (camera) {
            var mirrorCameraComponent = null, plane = null, cameraComponent = camera.getComponent(wd.CameraController), mirrorCameraViewMatrix = null, projectionMatrix = null;
            plane = this.texture.getPlane();
            mirrorCameraViewMatrix =
                plane.getReflectionMatrix().applyMatrix(cameraComponent.worldToCameraMatrix);
            projectionMatrix = this._setClipPlane(mirrorCameraViewMatrix, cameraComponent.pMatrix, plane);
            mirrorCameraComponent = wd.PerspectiveCamera.create();
            mirrorCameraComponent.worldToCameraMatrix = mirrorCameraViewMatrix.copy();
            mirrorCameraComponent.pMatrix = projectionMatrix;
            return wd.GameObject.create().addComponent(wd.BasicCameraController.create(mirrorCameraComponent)).init();
        };
        MirrorRenderTargetRenderer.prototype._setSceneSide = function (side) {
            var scene = wd.Director.getInstance().scene;
            scene.side = side;
        };
        MirrorRenderTargetRenderer.prototype._setClipPlane = function (vMatrix, pMatrix, plane) {
            var projectionMatrix = pMatrix.copy(), q = wd.Vector4.create(), clipPlane = this._getClipPlaneInCameraSpace(vMatrix, plane), c = wd.Vector4.create();
            q.x = (Math.sign(clipPlane.x) + projectionMatrix.values[8]) / projectionMatrix.values[0];
            q.y = (Math.sign(clipPlane.y) + projectionMatrix.values[9]) / projectionMatrix.values[5];
            q.z = -1.0;
            q.w = (1.0 + projectionMatrix.values[10]) / projectionMatrix.values[14];
            c = clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));
            projectionMatrix.values[2] = c.x;
            projectionMatrix.values[6] = c.y;
            projectionMatrix.values[10] = c.z + 1.0;
            projectionMatrix.values[14] = c.w;
            return projectionMatrix;
        };
        MirrorRenderTargetRenderer.prototype._getClipPlaneInCameraSpace = function (vMatrix, plane) {
            var clipPlane = wd.Vector4.create(), p = vMatrix.multiplyPoint(this.texture.getPosition()), n = vMatrix.copy().invert().transpose().multiplyPoint(plane.normal).normalize();
            clipPlane.set(n.x, n.y, n.z, -p.dot(n));
            return clipPlane;
        };
        return MirrorRenderTargetRenderer;
    }(wd.TwoDRenderTargetRenderer));
    wd.MirrorRenderTargetRenderer = MirrorRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapRenderTargetRenderer = (function (_super) {
        __extends(TwoDShadowMapRenderTargetRenderer, _super);
        function TwoDShadowMapRenderTargetRenderer(light) {
            _super.call(this, light.shadowMap);
            this._light = null;
            this._shadowMapRendererUtils = null;
            this._light = light;
        }
        TwoDShadowMapRenderTargetRenderer.create = function (light) {
            var obj = new this(light);
            obj.initWhenCreate();
            return obj;
        };
        TwoDShadowMapRenderTargetRenderer.prototype.initWhenCreate = function () {
            this._shadowMapRendererUtils = wd.TwoDShadowMapRenderTargetRendererUtils.create(this._light, this.texture);
            _super.prototype.initWhenCreate.call(this);
        };
        TwoDShadowMapRenderTargetRenderer.prototype.init = function () {
            var self = this;
            this._handleShadowRendererList();
            this._shadowMapRendererUtils.bindEndLoop(function () {
                self._light.shadowRenderList.forEach(function (child) {
                    self._shadowMapRendererUtils.clearTwoDShadowMapData(child);
                });
            });
            this._shadowMapRendererUtils.createShaderWithShaderLib(wd.BuildTwoDShadowMapShaderLib.create());
            _super.prototype.init.call(this);
        };
        TwoDShadowMapRenderTargetRenderer.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._shadowMapRendererUtils.unBindEndLoop();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.beforeRenderFrameBufferTexture = function (renderCamera) {
            var self = this;
            this._light.shadowRenderList.removeRepeatItems().forEach(function (child) {
                self._shadowMapRendererUtils.setShadowMapData(child, renderCamera);
            });
        };
        TwoDShadowMapRenderTargetRenderer.prototype.getRenderList = function () {
            return this._light.shadowRenderList;
        };
        TwoDShadowMapRenderTargetRenderer.prototype.renderRenderer = function (renderer) {
            renderer.render();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.beforeRender = function () {
            this._shadowMapRendererUtils.beforeRender();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.afterRender = function () {
            this._shadowMapRendererUtils.afterRender();
        };
        TwoDShadowMapRenderTargetRenderer.prototype.createCamera = function () {
            var orthoCameraComponent = wd.OrthographicCamera.create(), light = this._light, camera = wd.GameObject.create();
            orthoCameraComponent.left = light.shadowCameraLeft;
            orthoCameraComponent.right = light.shadowCameraRight;
            orthoCameraComponent.top = light.shadowCameraTop;
            orthoCameraComponent.bottom = light.shadowCameraBottom;
            orthoCameraComponent.near = light.shadowCameraNear;
            orthoCameraComponent.far = light.shadowCameraFar;
            camera.addComponent(wd.BasicCameraController.create(orthoCameraComponent));
            camera.transform.translate(light.position);
            camera.transform.lookAt(0, 0, 0);
            camera.init();
            return camera;
        };
        TwoDShadowMapRenderTargetRenderer.prototype._handleShadowRendererList = function () {
            var _this = this;
            var self = this, children = [];
            this._light.shadowRenderList.forEach(function (renderTarget) {
                children = children.concat(_this._shadowMapRendererUtils.addAllChildren(renderTarget));
            }, this);
            this._light.shadowRenderList.addChildren(children);
            this._light.shadowRenderList.removeChild(function (renderTarget) {
                return self._shadowMapRendererUtils.isContainer(renderTarget);
            });
        };
        return TwoDShadowMapRenderTargetRenderer;
    }(wd.TwoDRenderTargetRenderer));
    wd.TwoDShadowMapRenderTargetRenderer = TwoDShadowMapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapRenderTargetRenderer = (function (_super) {
        __extends(CubemapRenderTargetRenderer, _super);
        function CubemapRenderTargetRenderer() {
            _super.apply(this, arguments);
            this._frameBufferList = wdCb.Collection.create();
            this._renderBufferList = wdCb.Collection.create();
            this._lastCameraList = null;
            this._lastPosition = null;
        }
        CubemapRenderTargetRenderer.prototype.initFrameBuffer = function () {
            var frameBufferOperator = this.frameBufferOperator, gl = wd.DeviceManager.getInstance().gl;
            for (var i = 0; i < 6; i++) {
                var frameBuffer = frameBufferOperator.createFrameBuffer(), renderBuffer = frameBufferOperator.createRenderBuffer();
                this._frameBufferList.addChild(frameBuffer);
                this._renderBufferList.addChild(renderBuffer);
                frameBufferOperator.bindFrameBuffer(frameBuffer);
                frameBufferOperator.attachTexture(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, this.texture.glTexture);
                frameBufferOperator.attachRenderBuffer("DEPTH_ATTACHMENT", renderBuffer);
                frameBufferOperator.check();
            }
            frameBufferOperator.unBind();
        };
        CubemapRenderTargetRenderer.prototype.renderFrameBufferTexture = function (renderer, camera) {
            var renderCamera = null, faceRenderList = null, newCameraList = null, position = this.getPosition(), renderList = null;
            renderList = this.getRenderList();
            this.texture.bindToUnit(0);
            if (this._needCreateCamera(position)) {
                newCameraList = wdCb.Collection.create();
            }
            for (var i = 0; i < 6; i++) {
                faceRenderList = renderList.getChild(this._convertIndexToFaceKey(i));
                if (this._isEmpty(faceRenderList)) {
                    continue;
                }
                if (this._needCreateCamera(position)) {
                    renderCamera = this.createCamera(i);
                    newCameraList.addChild(renderCamera);
                }
                else {
                    renderCamera = this._lastCameraList.getChild(i);
                }
                this.frameBufferOperator.bindFrameBuffer(this._frameBufferList.getChild(i));
                this.frameBufferOperator.setViewport();
                faceRenderList.forEach(function (child) {
                    child.render(renderer, renderCamera);
                });
                renderer.clear();
                renderer.render();
            }
            if (this._needCreateCamera(position)) {
                if (this._lastCameraList) {
                    this._lastCameraList.forEach(function (camera) {
                        camera.dispose();
                    });
                }
                this._lastCameraList = newCameraList;
                this._lastPosition = position;
            }
            this.frameBufferOperator.unBind();
            this.frameBufferOperator.restoreViewport();
        };
        CubemapRenderTargetRenderer.prototype.disposeFrameBuffer = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            this._frameBufferList.forEach(function (buffer) { return gl.deleteFramebuffer(buffer); });
            this._renderBufferList.forEach(function (buffer) { return gl.deleteRenderbuffer(buffer); });
        };
        CubemapRenderTargetRenderer.prototype.createCamera = function (index) {
            var cubeCameraComponent = wd.PerspectiveCamera.create(), camera = wd.GameObject.create(), pos = this.getPosition();
            cubeCameraComponent.fovy = 90;
            this.setCamera(cubeCameraComponent);
            camera.addComponent(wd.BasicCameraController.create(cubeCameraComponent));
            camera.transform.translate(pos);
            this._lookAtFace(camera, pos, index);
            camera.init();
            return camera;
        };
        CubemapRenderTargetRenderer.prototype._isEmpty = function (faceRenderList) {
            return !faceRenderList || (faceRenderList.length && faceRenderList.length === 0) || (faceRenderList.getCount && faceRenderList.getCount() === 0);
        };
        CubemapRenderTargetRenderer.prototype._convertIndexToFaceKey = function (index) {
            var face = null;
            switch (index) {
                case 0:
                    face = "px";
                    break;
                case 1:
                    face = "nx";
                    break;
                case 2:
                    face = "py";
                    break;
                case 3:
                    face = "ny";
                    break;
                case 4:
                    face = "pz";
                    break;
                case 5:
                    face = "nz";
                    break;
                default:
                    break;
            }
            return face;
        };
        CubemapRenderTargetRenderer.prototype._lookAtFace = function (camera, position, index) {
            switch (index) {
                case 0:
                    camera.transform.lookAt(position.x + 1, position.y, position.z, 0, -1, 0);
                    break;
                case 1:
                    camera.transform.lookAt(position.x - 1, position.y, position.z, 0, -1, 0);
                    break;
                case 2:
                    camera.transform.lookAt(position.x, position.y + 1, position.z, 0, 0, 1);
                    break;
                case 3:
                    camera.transform.lookAt(position.x, position.y - 1, position.z, 0, 0, -1);
                    break;
                case 4:
                    camera.transform.lookAt(position.x, position.y, position.z + 1, 0, -1, 0);
                    break;
                case 5:
                    camera.transform.lookAt(position.x, position.y, position.z - 1, 0, -1, 0);
                    break;
                default:
                    break;
            }
        };
        CubemapRenderTargetRenderer.prototype._needCreateCamera = function (position) {
            if (this._lastPosition === null || this._lastCameraList === null) {
                return true;
            }
            return !position.isEqual(this._lastPosition);
        };
        return CubemapRenderTargetRenderer;
    }(wd.RenderTargetRenderer));
    wd.CubemapRenderTargetRenderer = CubemapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapRenderTargetRenderer = (function (_super) {
        __extends(CubemapShadowMapRenderTargetRenderer, _super);
        function CubemapShadowMapRenderTargetRenderer(light) {
            _super.call(this, light.shadowMap);
            this._light = null;
            this._shadowMapRendererUtils = null;
            this._light = light;
        }
        CubemapShadowMapRenderTargetRenderer.create = function (light) {
            var obj = new this(light);
            obj.initWhenCreate();
            return obj;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.initWhenCreate = function () {
            this._shadowMapRendererUtils = wd.CubemapShadowMapRenderTargetRendererUtils.create(this._light, this.texture);
            _super.prototype.initWhenCreate.call(this);
        };
        CubemapShadowMapRenderTargetRenderer.prototype.init = function () {
            var self = this;
            this._handleShadowRendererList();
            this._shadowMapRendererUtils.bindEndLoop(function () {
                self._light.shadowRenderList.forEach(function (childList) {
                    childList.forEach(function (child) {
                        self._shadowMapRendererUtils.clearCubemapShadowMapData(child);
                    });
                });
            });
            this._shadowMapRendererUtils.createShaderWithShaderLib(wd.BuildCubemapShadowMapShaderLib.create());
            _super.prototype.init.call(this);
        };
        CubemapShadowMapRenderTargetRenderer.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._shadowMapRendererUtils.unBindEndLoop();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.getRenderList = function () {
            return this._light.shadowRenderList;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.beforeRender = function () {
            var utils = this._shadowMapRendererUtils;
            this._convertRenderListToCollection(this.getRenderList()).removeRepeatItems().forEach(function (child) {
                utils.setShadowMapData(child);
            });
            this._shadowMapRendererUtils.beforeRender();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.afterRender = function () {
            this._shadowMapRendererUtils.afterRender();
        };
        CubemapShadowMapRenderTargetRenderer.prototype.setCamera = function (camera) {
            var light = this._light;
            camera.aspect = light.shadowMapWidth / light.shadowMapHeight;
            camera.near = light.shadowCameraNear;
            camera.far = light.shadowCameraFar;
        };
        CubemapShadowMapRenderTargetRenderer.prototype.getPosition = function () {
            return this._light.position;
        };
        CubemapShadowMapRenderTargetRenderer.prototype._convertRenderListToCollection = function (renderList) {
            var resultList = wdCb.Collection.create();
            renderList.forEach(function (list) {
                resultList.addChildren(list);
            });
            return resultList;
        };
        CubemapShadowMapRenderTargetRenderer.prototype._handleShadowRendererList = function () {
            var self = this, childrenMap = wdCb.Hash.create();
            this._light.shadowRenderList.forEach(function (childList, direction) {
                var children = [];
                childList.forEach(function (renderTarget) {
                    children = children.concat(self._shadowMapRendererUtils.addAllChildren(renderTarget));
                });
                childrenMap.addChild(direction, children);
            }, this);
            this._light.shadowRenderList.forEach(function (childList, direction) {
                childList.addChildren(childrenMap.getChild(direction));
            });
            this._light.shadowRenderList.forEach(function (childList) {
                childList.removeChild(function (renderTarget) {
                    return self._shadowMapRendererUtils.isContainer(renderTarget);
                });
            });
        };
        return CubemapShadowMapRenderTargetRenderer;
    }(wd.CubemapRenderTargetRenderer));
    wd.CubemapShadowMapRenderTargetRenderer = CubemapShadowMapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicCubemapRenderTargetRenderer = (function (_super) {
        __extends(DynamicCubemapRenderTargetRenderer, _super);
        function DynamicCubemapRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        DynamicCubemapRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        DynamicCubemapRenderTargetRenderer.prototype.getRenderList = function () {
            return this.texture.renderList;
        };
        DynamicCubemapRenderTargetRenderer.prototype.setCamera = function (camera) {
            camera.aspect = 1;
            camera.near = this.texture.near;
            camera.far = this.texture.far;
        };
        DynamicCubemapRenderTargetRenderer.prototype.getPosition = function () {
            return this.texture.getPosition();
        };
        return DynamicCubemapRenderTargetRenderer;
    }(wd.CubemapRenderTargetRenderer));
    wd.DynamicCubemapRenderTargetRenderer = DynamicCubemapRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapRenderTargetRendererUtils = (function () {
        function ShadowMapRenderTargetRendererUtils(light, texture) {
            this.texture = null;
            this.light = null;
            this._endLoopSubscription = null;
            this._shader = null;
            this.light = light;
            this.texture = texture;
        }
        ShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            this.texture.width = this.light.shadowMapWidth;
            this.texture.height = this.light.shadowMapHeight;
        };
        ShadowMapRenderTargetRendererUtils.prototype.init = function () {
            this.texture.init();
        };
        ShadowMapRenderTargetRendererUtils.prototype.setShadowMapData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var target = args[0], material = target.getComponent(wd.Geometry).material, shadowMapCamera = null;
            if (args.length === 2) {
                shadowMapCamera = args[1];
            }
            wd.Log.error(!(material instanceof wd.LightMaterial), wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            this.setMaterialShadowMapData(material, target, shadowMapCamera);
        };
        ShadowMapRenderTargetRendererUtils.prototype.bindEndLoop = function (func) {
            this._endLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.ENDLOOP)
                .subscribe(function () {
                func();
            });
        };
        ShadowMapRenderTargetRendererUtils.prototype.unBindEndLoop = function () {
            this._endLoopSubscription && this._endLoopSubscription.dispose();
        };
        ShadowMapRenderTargetRendererUtils.prototype.beforeRender = function () {
            var scene = wd.Director.getInstance().scene;
            scene.useProgram(this._shader);
        };
        ShadowMapRenderTargetRendererUtils.prototype.afterRender = function () {
            var scene = wd.Director.getInstance().scene;
            scene.unUseProgram();
        };
        ShadowMapRenderTargetRendererUtils.prototype.createShaderWithShaderLib = function (lib) {
            this._shader = wd.CommonShader.create();
            this._shader.addLib(wd.CommonShaderLib.create());
            this._shader.addLib(wd.CommonVerticeShaderLib.create());
            this._shader.addLib(lib);
        };
        ShadowMapRenderTargetRendererUtils.prototype.isContainer = function (entityObject) {
            return !entityObject.hasComponent(wd.Geometry);
        };
        ShadowMapRenderTargetRendererUtils.prototype.addAllChildren = function (entityObject) {
            var children = [], add = function (entityObject) {
                entityObject.forEach(function (child) {
                    children.push(child);
                    add(child);
                });
            };
            add(entityObject);
            return children;
        };
        ShadowMapRenderTargetRendererUtils.prototype.setShadowMap = function (target, shadowMap) {
            var material = null;
            if (!target.hasComponent(wd.Geometry)) {
                return;
            }
            material = target.getComponent(wd.Geometry).material;
            if (material.hasShadowMap(shadowMap)) {
                return;
            }
            wd.Log.error(!(material instanceof wd.LightMaterial), wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            this.addShadowMap(material, shadowMap);
        };
        return ShadowMapRenderTargetRendererUtils;
    }());
    wd.ShadowMapRenderTargetRendererUtils = ShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapRenderTargetRendererUtils = (function (_super) {
        __extends(CubemapShadowMapRenderTargetRendererUtils, _super);
        function CubemapShadowMapRenderTargetRendererUtils() {
            _super.apply(this, arguments);
        }
        CubemapShadowMapRenderTargetRendererUtils.create = function (light, texture) {
            var obj = new this(light, texture);
            obj.initWhenCreate();
            return obj;
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            var self = this;
            _super.prototype.initWhenCreate.call(this);
            this.light.shadowRenderList.forEach(function (childList) {
                childList.forEach(function (child) {
                    self.setShadowMap(child, self.texture);
                });
            });
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.clearCubemapShadowMapData = function (target) {
            var material = target.getComponent(wd.Geometry).material;
            material.clearCubemapShadowMapData();
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.setMaterialShadowMapData = function (material, target, shadowMapCamera) {
            material.addCubemapShadowMapData({
                shadowBias: this.light.shadowBias,
                shadowDarkness: this.light.shadowDarkness,
                lightPos: this.light.position,
                farPlane: this.light.shadowCameraFar
            });
            material.buildCubemapShadowMapData = {
                lightPos: this.light.position,
                farPlane: this.light.shadowCameraFar
            };
        };
        CubemapShadowMapRenderTargetRendererUtils.prototype.addShadowMap = function (material, shadowMap) {
            material.addCubemapShadowMap(shadowMap);
        };
        __decorate([
            wd.require(function (target) {
                var material = target.getComponent(wd.Geometry).material;
                wd.assert(material instanceof wd.LightMaterial, wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            })
        ], CubemapShadowMapRenderTargetRendererUtils.prototype, "clearCubemapShadowMapData", null);
        return CubemapShadowMapRenderTargetRendererUtils;
    }(wd.ShadowMapRenderTargetRendererUtils));
    wd.CubemapShadowMapRenderTargetRendererUtils = CubemapShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapRenderTargetRendererUtils = (function (_super) {
        __extends(TwoDShadowMapRenderTargetRendererUtils, _super);
        function TwoDShadowMapRenderTargetRendererUtils() {
            _super.apply(this, arguments);
        }
        TwoDShadowMapRenderTargetRendererUtils.create = function (light, texture) {
            var obj = new this(light, texture);
            obj.initWhenCreate();
            return obj;
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.initWhenCreate = function () {
            var self = this;
            _super.prototype.initWhenCreate.call(this);
            this.light.shadowRenderList.forEach(function (child) {
                self.setShadowMap(child, self.texture);
            });
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.clearTwoDShadowMapData = function (target) {
            var material = target.getComponent(wd.Geometry).material;
            material.clearTwoDShadowMapData();
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.setMaterialShadowMapData = function (material, target, shadowMapCamera) {
            var cameraComponent = shadowMapCamera.getComponent(wd.CameraController);
            material.addTwoDShadowMapData({
                shadowBias: this.light.shadowBias,
                shadowDarkness: this.light.shadowDarkness,
                shadowSize: [this.light.shadowMapWidth, this.light.shadowMapHeight],
                lightPos: this.light.position,
                vpMatrixFromLight: cameraComponent.worldToCameraMatrix.applyMatrix(cameraComponent.pMatrix, true)
            });
            material.buildTwoDShadowMapData = {
                vpMatrixFromLight: cameraComponent.worldToCameraMatrix.applyMatrix(cameraComponent.pMatrix, true)
            };
        };
        TwoDShadowMapRenderTargetRendererUtils.prototype.addShadowMap = function (material, shadowMap) {
            material.addTwoDShadowMap(shadowMap);
        };
        __decorate([
            wd.require(function (target) {
                var material = target.getComponent(wd.Geometry).material;
                wd.assert(material instanceof wd.LightMaterial, wd.Log.info.FUNC_MUST_BE("material", "LightMaterial when set shadowMap"));
            })
        ], TwoDShadowMapRenderTargetRendererUtils.prototype, "clearTwoDShadowMapData", null);
        return TwoDShadowMapRenderTargetRendererUtils;
    }(wd.ShadowMapRenderTargetRendererUtils));
    wd.TwoDShadowMapRenderTargetRendererUtils = TwoDShadowMapRenderTargetRendererUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProceduralRenderTargetRenderer = (function (_super) {
        __extends(ProceduralRenderTargetRenderer, _super);
        function ProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
            this.frameBuffer = null;
            this._indexBuffer = null;
            this._vertexBuffer = null;
            this._shader = null;
            this._isRendered = false;
        }
        ProceduralRenderTargetRenderer.prototype.needRender = function () {
            if (this._isRendered) {
                return false;
            }
            this._isRendered = true;
            return true;
        };
        ProceduralRenderTargetRenderer.prototype.init = function () {
            _super.prototype.init.call(this);
            this._vertexBuffer = wd.ArrayBuffer.create(new Float32Array([
                1, 1,
                -1, 1,
                -1, -1,
                1, -1
            ]), 2, wd.EBufferType.FLOAT);
            this._indexBuffer = wd.ElementBuffer.create(new Uint16Array([
                0, 1, 2,
                0, 2, 3
            ]), wd.EBufferType.UNSIGNED_SHORT);
            this._shader = this.createShader();
            this._shader.init();
        };
        ProceduralRenderTargetRenderer.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            this._indexBuffer.dispose();
            this._vertexBuffer.dispose();
            this._shader.dispose();
        };
        ProceduralRenderTargetRenderer.prototype.initFrameBuffer = function () {
            var frameBuffer = this.frameBufferOperator, gl = wd.DeviceManager.getInstance().gl;
            this.frameBuffer = frameBuffer.createFrameBuffer();
            frameBuffer.bindFrameBuffer(this.frameBuffer);
            frameBuffer.attachTexture(gl.TEXTURE_2D, this.texture.glTexture);
            frameBuffer.check();
            frameBuffer.unBind();
        };
        ProceduralRenderTargetRenderer.prototype.renderFrameBufferTexture = function (renderer) {
            this.frameBufferOperator.bindFrameBuffer(this.frameBuffer);
            this.texture.bindToUnit(0);
            this.frameBufferOperator.setViewport();
            renderer.addCommand(this._createRenderCommand());
            renderer.clear();
            renderer.render();
            this.frameBufferOperator.unBind();
            this.frameBufferOperator.restoreViewport();
        };
        ProceduralRenderTargetRenderer.prototype.disposeFrameBuffer = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteFramebuffer(this.frameBuffer);
        };
        ProceduralRenderTargetRenderer.prototype._createRenderCommand = function () {
            var command = wd.ProceduralCommand.create();
            command.vertexBuffer = this._vertexBuffer;
            command.indexBuffer = this._indexBuffer;
            command.shader = this._shader;
            return command;
        };
        __decorate([
            wd.virtual
        ], ProceduralRenderTargetRenderer.prototype, "needRender", null);
        return ProceduralRenderTargetRenderer;
    }(wd.RenderTargetRenderer));
    wd.ProceduralRenderTargetRenderer = ProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Renderer = (function () {
        function Renderer() {
            this.skyboxCommand = null;
        }
        Renderer.prototype.init = function () {
        };
        return Renderer;
    }());
    wd.Renderer = Renderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WebGLRenderer = (function (_super) {
        __extends(WebGLRenderer, _super);
        function WebGLRenderer() {
            _super.apply(this, arguments);
            this._commandQueue = wdCb.Collection.create();
            this._clearOptions = {
                color: wd.Color.create("#000000")
            };
        }
        WebGLRenderer.create = function () {
            var obj = new this();
            return obj;
        };
        WebGLRenderer.prototype.addCommand = function (command) {
            if (this._commandQueue.hasChild(command)) {
                return;
            }
            this._commandQueue.addChild(command);
            command.init();
        };
        WebGLRenderer.prototype.hasCommand = function () {
            return this._commandQueue.getCount() > 0 || !!this.skyboxCommand;
        };
        WebGLRenderer.prototype.clear = function () {
            wd.DeviceManager.getInstance().clear(this._clearOptions);
        };
        WebGLRenderer.prototype.render = function () {
            var deviceManager = wd.DeviceManager.getInstance(), transparentCommands = [];
            this._commandQueue.forEach(function (command) {
                if (command.blend) {
                    transparentCommands.push(command);
                }
                else {
                    command.execute();
                }
            });
            if (transparentCommands.length > 0) {
                deviceManager.depthWrite = false;
                this._renderSortedTransparentCommands(transparentCommands);
                deviceManager.depthWrite = true;
            }
            if (this.skyboxCommand) {
                deviceManager.depthFunc = wd.EDepthFunction.LEQUAL;
                this.skyboxCommand.execute();
                deviceManager.depthFunc = wd.EDepthFunction.LESS;
            }
            this._clearCommand();
        };
        WebGLRenderer.prototype.init = function () {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.depthTest = true;
            deviceManager.blend = false;
            deviceManager.setColorWrite(true, true, true, true);
            deviceManager.side = wd.ESide.FRONT;
            deviceManager.depthWrite = true;
        };
        WebGLRenderer.prototype.setClearColor = function (color) {
            this._setClearOptions({
                color: color
            });
        };
        WebGLRenderer.prototype._renderSortedTransparentCommands = function (transparentCommands) {
            var self = this, cameraPositionZ = wd.Director.getInstance().scene.currentCamera.transform.position.z;
            transparentCommands
                .sort(function (a, b) {
                return self._getObjectToCameraZDistance(cameraPositionZ, b) - self._getObjectToCameraZDistance(cameraPositionZ, a);
            })
                .forEach(function (command) {
                command.execute();
            });
        };
        WebGLRenderer.prototype._getObjectToCameraZDistance = function (cameraPositionZ, cmd) {
            return cameraPositionZ - cmd.z;
        };
        WebGLRenderer.prototype._clearCommand = function () {
            this._commandQueue.removeAllChildren();
            this.skyboxCommand = null;
        };
        WebGLRenderer.prototype._setClearOptions = function (clearOptions) {
            wdCb.ExtendUtils.extend(this._clearOptions, clearOptions);
        };
        __decorate([
            wd.require(function (transparentCommands) {
                wd.assert(!!wd.Director.getInstance().scene.currentCamera, wd.Log.info.FUNC_NOT_EXIST("current camera"));
            })
        ], WebGLRenderer.prototype, "_renderSortedTransparentCommands", null);
        return WebGLRenderer;
    }(wd.Renderer));
    wd.WebGLRenderer = WebGLRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EDrawMode) {
        EDrawMode[EDrawMode["POINTS"] = "POINTS"] = "POINTS";
        EDrawMode[EDrawMode["LINES"] = "LINES"] = "LINES";
        EDrawMode[EDrawMode["LINE_LOOP"] = "LINE_LOOP"] = "LINE_LOOP";
        EDrawMode[EDrawMode["LINE_STRIP"] = "LINE_STRIP"] = "LINE_STRIP";
        EDrawMode[EDrawMode["TRIANGLES"] = "TRIANGLES"] = "TRIANGLES";
        EDrawMode[EDrawMode["TRIANGLE_STRIP"] = "TRIANGLE_STRIP"] = "TRIANGLE_STRIP";
        EDrawMode[EDrawMode["TRANGLE_FAN"] = "TRIANGLE_FAN"] = "TRANGLE_FAN";
    })(wd.EDrawMode || (wd.EDrawMode = {}));
    var EDrawMode = wd.EDrawMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferType) {
        EBufferType[EBufferType["BYTE"] = "BYTE"] = "BYTE";
        EBufferType[EBufferType["UNSIGNED_BYTE"] = "UNSIGNED_BYTE"] = "UNSIGNED_BYTE";
        EBufferType[EBufferType["SHORT"] = "SHORT"] = "SHORT";
        EBufferType[EBufferType["UNSIGNED_SHORT"] = "UNSIGNED_SHORT"] = "UNSIGNED_SHORT";
        EBufferType[EBufferType["INT"] = "INT"] = "INT";
        EBufferType[EBufferType["UNSIGNED_INT"] = "UNSIGNED_INT"] = "UNSIGNED_INT";
        EBufferType[EBufferType["FLOAT"] = "FLOAT"] = "FLOAT";
    })(wd.EBufferType || (wd.EBufferType = {}));
    var EBufferType = wd.EBufferType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferDataType) {
        EBufferDataType[EBufferDataType["VERTICE"] = "VERTICE"] = "VERTICE";
        EBufferDataType[EBufferDataType["INDICE"] = "INDICE"] = "INDICE";
        EBufferDataType[EBufferDataType["NORMAL"] = "NORMAL"] = "NORMAL";
        EBufferDataType[EBufferDataType["TEXCOORD"] = "TEXCOORD"] = "TEXCOORD";
        EBufferDataType[EBufferDataType["TANGENT"] = "TANGENT"] = "TANGENT";
        EBufferDataType[EBufferDataType["COLOR"] = "COLOR"] = "COLOR";
    })(wd.EBufferDataType || (wd.EBufferDataType = {}));
    var EBufferDataType = wd.EBufferDataType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EBufferUsage) {
        EBufferUsage[EBufferUsage["STREAM_DRAW"] = "STREAM_DRAW"] = "STREAM_DRAW";
        EBufferUsage[EBufferUsage["STATIC_DRAW"] = "STATIC_DRAW"] = "STATIC_DRAW";
        EBufferUsage[EBufferUsage["DYNAMIC_DRAW"] = "DYNAMIC_DRAW"] = "DYNAMIC_DRAW";
    })(wd.EBufferUsage || (wd.EBufferUsage = {}));
    var EBufferUsage = wd.EBufferUsage;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Buffer = (function () {
        function Buffer() {
            this.buffer = null;
            this.type = null;
            this.count = null;
        }
        Buffer.prototype.dispose = function () {
            wd.DeviceManager.getInstance().gl.deleteBuffer(this.buffer);
            delete this.buffer;
        };
        return Buffer;
    }());
    wd.Buffer = Buffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ElementBuffer = (function (_super) {
        __extends(ElementBuffer, _super);
        function ElementBuffer() {
            _super.apply(this, arguments);
            this._typeSize = null;
            this.data = null;
            this._type = null;
        }
        ElementBuffer.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var obj = new this();
            obj.initWhenCreate.apply(obj, args);
            return obj;
        };
        Object.defineProperty(ElementBuffer.prototype, "typeSize", {
            get: function () { return this._typeSize; },
            enumerable: true,
            configurable: true
        });
        ElementBuffer.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.buffer = gl.createBuffer();
            if (!this.buffer) {
                wd.Log.log('Failed to create the this.buffer object');
                return null;
            }
            if (args.length === 0) {
                return;
            }
            else {
                var data = args[0], type = args[1], usage = args[2] || wd.EBufferUsage.STATIC_DRAW;
                if (!data || !this._checkDataType(data, type)) {
                    return null;
                }
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);
                gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl[usage]);
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                this.type = gl[type];
                this._type = type;
                this.count = data.length;
                this.data = data;
                this._typeSize = this._getInfo(type).size;
                return this.buffer;
            }
        };
        ElementBuffer.prototype.resetData = function (data, type) {
            if (type === void 0) { type = this._type; }
            var gl = wd.DeviceManager.getInstance().gl;
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);
            this.type = gl[type];
            this._type = type;
            this.data = data;
            this.count = data.length;
            this._typeSize = this._getInfo(type).size;
            return this;
        };
        ElementBuffer.prototype._checkDataType = function (data, type) {
            var info = this._getInfo(type);
            return data instanceof info.typeClass;
        };
        ElementBuffer.prototype._getInfo = function (type) {
            var info = null;
            switch (type) {
                case wd.EBufferType.UNSIGNED_BYTE:
                    info = {
                        typeClass: Uint8Array,
                        size: 1
                    };
                    break;
                case wd.EBufferType.SHORT:
                    info = {
                        typeClass: Int16Array,
                        size: 2
                    };
                    break;
                case wd.EBufferType.UNSIGNED_SHORT:
                    info = {
                        typeClass: Uint16Array,
                        size: 2
                    };
                    break;
                case wd.EBufferType.INT:
                    info = {
                        typeClass: Int32Array,
                        size: 4
                    };
                    break;
                case wd.EBufferType.UNSIGNED_INT:
                    info = {
                        typeClass: Uint32Array,
                        size: 4
                    };
                    break;
                case wd.EBufferType.FLOAT:
                    info = {
                        typeClass: Float32Array,
                        size: 4
                    };
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EBufferType"));
                    break;
            }
            return info;
        };
        __decorate([
            wd.require(function (data, type) {
                if (type === void 0) { type = this._type; }
                wd.assert(this.buffer, wd.Log.info.FUNC_MUST("create gl buffer"));
            })
        ], ElementBuffer.prototype, "resetData", null);
        return ElementBuffer;
    }(wd.Buffer));
    wd.ElementBuffer = ElementBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ArrayBuffer = (function (_super) {
        __extends(ArrayBuffer, _super);
        function ArrayBuffer() {
            _super.apply(this, arguments);
            this.size = null;
            this.data = null;
            this._type = null;
        }
        ArrayBuffer.create = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var obj = new this();
            obj.initWhenCreate.apply(obj, args);
            return obj;
        };
        ArrayBuffer.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.buffer = gl.createBuffer();
            if (!this.buffer) {
                wd.Log.log('Failed to create the this.buffer object');
                return null;
            }
            if (args.length === 0) {
                return;
            }
            else {
                var data = args[0], size = args[1], type = args[2], usage = args[3] || wd.EBufferUsage.STATIC_DRAW;
                if (!data) {
                    return null;
                }
                gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
                gl.bufferData(gl.ARRAY_BUFFER, data, gl[usage]);
                gl.bindBuffer(gl.ARRAY_BUFFER, null);
                this.size = size;
                this.type = gl[type];
                this._type = type;
                this.count = data.length / size;
                this.data = data;
                return this.buffer;
            }
        };
        ArrayBuffer.prototype.resetData = function (data, size, type) {
            if (size === void 0) { size = this.size; }
            if (type === void 0) { type = this._type; }
            var gl = wd.DeviceManager.getInstance().gl;
            gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
            gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);
            this.size = size;
            this.type = gl[type];
            this._type = type;
            this.count = data.length / size;
            this.data = data;
            return this;
        };
        __decorate([
            wd.require(function (data, size, type) {
                if (size === void 0) { size = this.size; }
                if (type === void 0) { type = this._type; }
                wd.assert(this.buffer, wd.Log.info.FUNC_MUST("create gl buffer"));
            })
        ], ArrayBuffer.prototype, "resetData", null);
        return ArrayBuffer;
    }(wd.Buffer));
    wd.ArrayBuffer = ArrayBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EBufferDataType.VERTICE, "vertices");
    _table.addChild(wd.EBufferDataType.INDICE, "indices");
    _table.addChild(wd.EBufferDataType.NORMAL, "normals");
    _table.addChild(wd.EBufferDataType.TEXCOORD, "texCoords");
    _table.addChild(wd.EBufferDataType.COLOR, "colors");
    _table.addChild(wd.EBufferDataType.TANGENT, "tangents");
    var BufferDataTable = (function () {
        function BufferDataTable() {
        }
        BufferDataTable.getGeometryDataName = function (type) {
            var result = _table.getChild(type);
            return result;
        };
        __decorate([
            wd.ensure(function (result, type) {
                wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(type, "in BufferDataTable"));
            })
        ], BufferDataTable, "getGeometryDataName", null);
        return BufferDataTable;
    }());
    wd.BufferDataTable = BufferDataTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Program = (function () {
        function Program() {
            this._program = null;
            this._shader = null;
            this._getAttribLocationCache = wdCb.Hash.create();
            this._getUniformLocationCache = wdCb.Hash.create();
        }
        Program.create = function () {
            var obj = new this();
            return obj;
        };
        Program.prototype.use = function () {
            wd.DeviceManager.getInstance().gl.useProgram(this._program);
        };
        Program.prototype.getUniformLocation = function (name) {
            var pos = null;
            if (!this._shader.dirty) {
                pos = this._getUniformLocationCache.getChild(name);
                if (pos !== void 0) {
                    return pos;
                }
            }
            pos = wd.DeviceManager.getInstance().gl.getUniformLocation(this._program, name);
            this._getUniformLocationCache.addChild(name, pos);
            return pos;
        };
        Program.prototype.sendUniformData = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl, pos = null, type = null, data = null;
            type = args[1];
            data = args[2];
            if (wd.JudgeUtils.isString(args[0])) {
                var name_2 = args[0];
                pos = this.getUniformLocation(name_2);
            }
            else {
                pos = args[0];
            }
            if (this.isUniformDataNotExistByLocation(pos) || data === null) {
                return;
            }
            switch (type) {
                case wd.EVariableType.FLOAT_1:
                    gl.uniform1f(pos, Number(data));
                    break;
                case wd.EVariableType.FLOAT_2:
                    data = this._convertToArray2(data);
                    gl.uniform2f(pos, data[0], data[1]);
                    break;
                case wd.EVariableType.FLOAT_3:
                    data = this._convertToArray3(data);
                    gl.uniform3f(pos, data[0], data[1], data[2]);
                    break;
                case wd.EVariableType.FLOAT_4:
                    data = this._convertToArray4(data);
                    gl.uniform4f(pos, data[0], data[1], data[2], data[3]);
                    break;
                case wd.EVariableType.FLOAT_MAT3:
                    gl.uniformMatrix3fv(pos, false, data.values);
                    break;
                case wd.EVariableType.FLOAT_MAT4:
                    gl.uniformMatrix4fv(pos, false, data.values);
                    break;
                case wd.EVariableType.NUMBER_1:
                case wd.EVariableType.SAMPLER_CUBE:
                case wd.EVariableType.SAMPLER_2D:
                    gl.uniform1i(pos, Number(data));
                    break;
                case wd.EVariableType.SAMPLER_ARRAY:
                    this._sendSampleArray(gl, pos, data);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EVariableType:", type));
                    break;
            }
        };
        Program.prototype.sendAttributeData = function (name, type, data) {
            var gl = wd.DeviceManager.getInstance().gl, pos = null, buffer = null;
            pos = this._getAttribLocation(gl, name);
            if (pos === -1 || data === null) {
                return;
            }
            buffer = data;
            switch (type) {
                case wd.EVariableType.BUFFER:
                    gl.bindBuffer(gl.ARRAY_BUFFER, buffer.buffer);
                    gl.vertexAttribPointer(pos, buffer.size, buffer.type, false, 0, 0);
                    gl.enableVertexAttribArray(pos);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EVariableType:", type));
                    break;
            }
        };
        Program.prototype.sendStructureData = function (name, type, data) {
            this.sendUniformData(name, type, data);
        };
        Program.prototype.initWithShader = function (shader) {
            var gl = wd.DeviceManager.getInstance().gl, vs = null, fs = null;
            this._program = wd.DeviceManager.getInstance().gl.createProgram();
            vs = shader.createVsShader();
            fs = shader.createFsShader();
            this._shader = shader;
            gl.attachShader(this._program, vs);
            gl.attachShader(this._program, fs);
            gl.bindAttribLocation(this._program, 0, "a_position");
            gl.linkProgram(this._program);
            wd.Log.error(gl.getProgramParameter(this._program, gl.LINK_STATUS) === false, gl.getProgramInfoLog(this._program));
            gl.deleteShader(vs);
            gl.deleteShader(fs);
            return this;
        };
        Program.prototype.dispose = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteProgram(this._program);
            this._program = undefined;
        };
        Program.prototype.isUniformDataNotExistByLocation = function (pos) {
            return pos === null;
        };
        Program.prototype._convertToArray2 = function (data) {
            if (wd.JudgeUtils.isArray(data)) {
                return data;
            }
            return [data.x, data.y];
        };
        Program.prototype._convertToArray3 = function (data) {
            if (wd.JudgeUtils.isArray(data)) {
                return data;
            }
            return [data.x, data.y, data.z];
        };
        Program.prototype._convertToArray4 = function (data) {
            if (wd.JudgeUtils.isArray(data)) {
                return data;
            }
            return [data.x, data.y, data.z, data.w];
        };
        Program.prototype._getAttribLocation = function (gl, name) {
            var pos = null;
            if (!this._shader.dirty) {
                pos = this._getAttribLocationCache.getChild(name);
                if (pos !== void 0) {
                    return pos;
                }
            }
            pos = gl.getAttribLocation(this._program, name);
            this._getAttribLocationCache.addChild(name, pos);
            return pos;
        };
        Program.prototype._sendSampleArray = function (gl, pos, data) {
            gl.uniform1iv(pos, data);
        };
        __decorate([
            wd.require(function (name, type, data) {
                if (data) {
                    wd.assert(data instanceof wd.ArrayBuffer, wd.Log.info.FUNC_MUST_BE("ArrayBuffer"));
                    wd.assert(type === wd.EVariableType.BUFFER, wd.Log.info.FUNC_SHOULD("type", "be EVariableType.BUFFER, but actual is " + type));
                }
            })
        ], Program.prototype, "sendAttributeData", null);
        __decorate([
            wd.require(function (data) {
                wd.assert(wd.JudgeUtils.isArray(data) || data instanceof wd.Vector2, wd.Log.info.FUNC_MUST_BE("shader->attributes->value", "Array<Array<any>> or Array<Vector2> stucture"));
            })
        ], Program.prototype, "_convertToArray2", null);
        __decorate([
            wd.require(function (data) {
                wd.assert(wd.JudgeUtils.isArray(data) || data instanceof wd.Vector3, wd.Log.info.FUNC_MUST_BE("shader->attributes->value", "Array<Array<any>> or Array<Vector3> stucture"));
            })
        ], Program.prototype, "_convertToArray3", null);
        __decorate([
            wd.require(function (data) {
                wd.assert(wd.JudgeUtils.isArray(data) || data instanceof wd.Vector4, wd.Log.info.FUNC_MUST_BE("shader->attributes->value", "Array<Array<any>> or Array<Vector4> stucture"));
            })
        ], Program.prototype, "_convertToArray4", null);
        __decorate([
            wd.require(function (gl, pos, data) {
                wd.assert(wd.JudgeUtils.isArrayExactly(data), wd.Log.info.FUNC_SHOULD("data", "be array, but actual is " + data));
                for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                    var unit = data_1[_i];
                    wd.assert(wd.JudgeUtils.isNumber(unit), wd.Log.info.FUNC_SHOULD("data", "be Array<number>, but actual is " + data));
                }
            })
        ], Program.prototype, "_sendSampleArray", null);
        return Program;
    }());
    wd.Program = Program;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RenderCommand = (function () {
        function RenderCommand() {
            this.drawMode = wd.EDrawMode.TRIANGLES;
            this.blend = false;
            this.z = null;
        }
        RenderCommand.prototype.init = function () {
        };
        RenderCommand.prototype.drawElements = function (indexBuffer) {
            var startOffset = 0, gl = wd.DeviceManager.getInstance().gl;
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer.buffer);
            wd.GlUtils.drawElements(gl[this.drawMode], indexBuffer.count, indexBuffer.type, indexBuffer.typeSize * startOffset);
        };
        __decorate([
            wd.virtual
        ], RenderCommand.prototype, "init", null);
        return RenderCommand;
    }());
    wd.RenderCommand = RenderCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var QuadCommand = (function (_super) {
        __extends(QuadCommand, _super);
        function QuadCommand() {
            _super.apply(this, arguments);
            this._mMatrix = null;
            this._vMatrix = null;
            this._pMatrix = null;
            this.buffers = null;
            this.material = null;
            this.animation = null;
            this._normalMatrixCache = null;
            this._mvpMatrixCache = null;
        }
        QuadCommand.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(QuadCommand.prototype, "program", {
            get: function () {
                return this.material.program;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QuadCommand.prototype, "normalMatrix", {
            get: function () {
                return this.mMatrix.invertTo3x3().transpose();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QuadCommand.prototype, "mvpMatrix", {
            get: function () {
                return this.mMatrix.applyMatrix(this.vMatrix, true).applyMatrix(this.pMatrix, false);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QuadCommand.prototype, "mMatrix", {
            get: function () {
                return this._mMatrix;
            },
            set: function (mMatrix) {
                this._mMatrix = mMatrix;
                this._normalMatrixCache = null;
                this._mvpMatrixCache = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QuadCommand.prototype, "vMatrix", {
            get: function () {
                return this._vMatrix;
            },
            set: function (vMatrix) {
                this._vMatrix = vMatrix;
                this._mvpMatrixCache = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QuadCommand.prototype, "pMatrix", {
            get: function () {
                return this._pMatrix;
            },
            set: function (pMatrix) {
                this._pMatrix = pMatrix;
                this._mvpMatrixCache = null;
            },
            enumerable: true,
            configurable: true
        });
        QuadCommand.prototype.execute = function () {
            var material = this.material;
            material.bindAndUpdateTexture();
            material.updateShader(this);
            this._draw(material);
        };
        QuadCommand.prototype._draw = function (material) {
            var startOffset = 0, vertexBuffer = null, indexBuffer = null, gl = wd.DeviceManager.getInstance().gl;
            this._setEffects(material);
            indexBuffer = this.buffers.getChild(wd.EBufferDataType.INDICE);
            if (indexBuffer) {
                this.drawElements(indexBuffer);
            }
            else {
                vertexBuffer = this.buffers.getChild(wd.EBufferDataType.VERTICE);
                wd.GlUtils.drawArrays(gl[this.drawMode], startOffset, vertexBuffer.count);
            }
        };
        QuadCommand.prototype._setEffects = function (material) {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.setColorWrite(material.redWrite, material.greenWrite, material.blueWrite, material.alphaWrite);
            deviceManager.polygonOffsetMode = material.polygonOffsetMode;
            deviceManager.side = this._getSide();
            deviceManager.blend = material.blend;
            if (material.blendFuncSeparate && material.blendEquationSeparate) {
                deviceManager.setBlendFuncSeparate(material.blendFuncSeparate);
                deviceManager.setBlendEquationSeparate(material.blendEquationSeparate);
            }
            else {
                deviceManager.setBlendFunc(material.blendSrc, material.blendDst);
                deviceManager.setBlendEquation(material.blendEquation);
            }
        };
        QuadCommand.prototype._getSide = function () {
            var scene = wd.Director.getInstance().scene;
            return scene.side ? scene.side : this.material.side;
        };
        __decorate([
            wd.requireGetter(function () {
                wd.assert(!!this.mMatrix, wd.Log.info.FUNC_NOT_EXIST("mMatrix"));
            }),
            wd.cacheGetter(function () {
                return this._normalMatrixCache !== null;
            }, function () {
                return this._normalMatrixCache;
            }, function (result) {
                this._normalMatrixCache = result;
            })
        ], QuadCommand.prototype, "normalMatrix", null);
        __decorate([
            wd.requireGetter(function () {
                wd.assert(!!this.mMatrix && !!this.vMatrix && !!this.pMatrix, wd.Log.info.FUNC_NOT_EXIST("mMatrix or vMatrix or pMatrix"));
            }),
            wd.cacheGetter(function () {
                return this._mvpMatrixCache !== null;
            }, function () {
                return this._mvpMatrixCache;
            }, function (result) {
                this._mvpMatrixCache = result;
            })
        ], QuadCommand.prototype, "mvpMatrix", null);
        __decorate([
            wd.require(function (material) {
                if (material.blendFuncSeparate && material.blendEquationSeparate) {
                }
                else {
                    wdCb.Log.error(!material.blendSrc || !material.blendDst || !material.blendEquation, wdCb.Log.info.FUNC_MUST("material.blendSrc || material.blendDst || material.blendEquation", "be set"));
                }
            })
        ], QuadCommand.prototype, "_setEffects", null);
        return QuadCommand;
    }(wd.RenderCommand));
    wd.QuadCommand = QuadCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProceduralCommand = (function (_super) {
        __extends(ProceduralCommand, _super);
        function ProceduralCommand() {
            _super.apply(this, arguments);
            this.shader = null;
            this.indexBuffer = null;
            this.vertexBuffer = null;
        }
        ProceduralCommand.create = function () {
            var obj = new this();
            return obj;
        };
        ProceduralCommand.prototype.init = function () {
            this.blend = false;
            this.drawMode = wd.EDrawMode.TRIANGLES;
        };
        ProceduralCommand.prototype.execute = function () {
            this.shader.update(this);
            this.drawElements(this.indexBuffer);
        };
        return ProceduralCommand;
    }(wd.RenderCommand));
    wd.ProceduralCommand = ProceduralCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GlUtils = (function () {
        function GlUtils() {
        }
        GlUtils.drawElements = function (mode, count, type, offset) {
            wd.DebugStatistics.count.drawCalls++;
            this._getGl().drawElements(mode, count, type, offset);
        };
        GlUtils.drawArrays = function (mode, first, count) {
            wd.DebugStatistics.count.drawCalls++;
            this._getGl().drawArrays(mode, first, count);
        };
        GlUtils._getGl = function () {
            return wd.DeviceManager.getInstance().gl;
        };
        return GlUtils;
    }());
    wd.GlUtils = GlUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FrameBuffer = (function () {
        function FrameBuffer(width, height) {
            this.width = null;
            this.height = null;
            this._originScissorTest = null;
            this.width = width;
            this.height = height;
        }
        FrameBuffer.create = function (width, height) {
            var obj = new this(width, height);
            return obj;
        };
        Object.defineProperty(FrameBuffer.prototype, "gl", {
            get: function () {
                return wd.DeviceManager.getInstance().gl;
            },
            enumerable: true,
            configurable: true
        });
        FrameBuffer.prototype.createFrameBuffer = function () {
            return this.gl.createFramebuffer();
        };
        FrameBuffer.prototype.bindFrameBuffer = function (buffer) {
            var gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);
        };
        FrameBuffer.prototype.setViewport = function () {
            var deviceManager = wd.DeviceManager.getInstance();
            deviceManager.setViewport(0, 0, this.width, this.height);
            this._originScissorTest = deviceManager.scissorTest;
            deviceManager.scissorTest = false;
        };
        FrameBuffer.prototype.restoreViewport = function () {
            var deviceManager = wd.DeviceManager.getInstance(), view = deviceManager.view;
            deviceManager.setViewport(0, 0, view.width, view.height);
            deviceManager.scissorTest = this._originScissorTest;
        };
        FrameBuffer.prototype.dispose = function () {
            this.unBind();
        };
        FrameBuffer.prototype.unBind = function () {
            var gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
            gl.bindRenderbuffer(gl.RENDERBUFFER, null);
        };
        FrameBuffer.prototype.createRenderBuffer = function () {
            var gl = this.gl, renderBuffer = gl.createRenderbuffer();
            wd.Log.error(!renderBuffer, "Failed to create renderbuffer object");
            return renderBuffer;
        };
        FrameBuffer.prototype.attachTexture = function (glTarget, texture) {
            var gl = this.gl;
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, glTarget, texture, 0);
        };
        FrameBuffer.prototype.attachRenderBuffer = function (type, renderBuffer) {
            var gl = this.gl;
            gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);
            gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.width, this.height);
            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl[type], gl.RENDERBUFFER, renderBuffer);
        };
        FrameBuffer.prototype.check = function () {
            var gl = this.gl, e = gl.checkFramebufferStatus(gl.FRAMEBUFFER);
            if (e !== gl.FRAMEBUFFER_COMPLETE) {
                wd.Log.error(true, "Frame buffer object is incomplete:" + e.toString());
            }
        };
        return FrameBuffer;
    }());
    wd.FrameBuffer = FrameBuffer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Shader = (function () {
        function Shader() {
            this._attributes = wdCb.Hash.create();
            this._uniforms = wdCb.Hash.create();
            this._vsSource = "";
            this._fsSource = "";
            this.program = wd.Program.create();
            this.libDirty = false;
            this.libs = wdCb.Collection.create();
            this.sourceBuilder = this.createShaderSourceBuilder();
            this._definitionDataDirty = false;
        }
        Object.defineProperty(Shader.prototype, "attributes", {
            get: function () {
                return this._attributes;
            },
            set: function (attributes) {
                if (this._isNotEqual(attributes, this._attributes)) {
                    this._definitionDataDirty = true;
                }
                this._attributes = attributes;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "uniforms", {
            get: function () {
                return this._uniforms;
            },
            set: function (uniforms) {
                if (this._isNotEqual(uniforms, this._uniforms)) {
                    this._definitionDataDirty = true;
                }
                this._uniforms = uniforms;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "vsSource", {
            get: function () {
                return this._vsSource;
            },
            set: function (vsSource) {
                if (vsSource !== this._vsSource) {
                    this._definitionDataDirty = true;
                }
                this._vsSource = vsSource;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "fsSource", {
            get: function () {
                return this._fsSource;
            },
            set: function (fsSource) {
                if (fsSource !== this._fsSource) {
                    this._definitionDataDirty = true;
                }
                this._fsSource = fsSource;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Shader.prototype, "dirty", {
            get: function () {
                return this.libDirty || this._definitionDataDirty;
            },
            enumerable: true,
            configurable: true
        });
        Shader.prototype.createVsShader = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            return this._initShader(gl.createShader(gl.VERTEX_SHADER), this.vsSource);
        };
        Shader.prototype.createFsShader = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            return this._initShader(gl.createShader(gl.FRAGMENT_SHADER), this.fsSource);
        };
        Shader.prototype.init = function (material) {
            this.libs.forEach(function (lib) {
                lib.init();
            });
            this.judgeRefreshShader(material);
        };
        Shader.prototype.dispose = function () {
            this.program.dispose();
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.libs.forEach(function (lib) {
                lib.dispose();
            });
        };
        Shader.prototype.hasLib = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args[0] instanceof wd.ShaderLib) {
                var lib = args[0];
                return this.libs.hasChild(lib);
            }
            else {
                var _class_2 = args[0];
                return this.libs.hasChildWithFunc(function (lib) {
                    return lib instanceof _class_2;
                });
            }
        };
        Shader.prototype.addLib = function (lib) {
            this.libs.addChild(lib);
            lib.shader = this;
            this.libDirty = true;
        };
        Shader.prototype.addShaderLibToTop = function (lib) {
            this.libs.unShiftChild(lib);
            lib.shader = this;
            this.libDirty = true;
        };
        Shader.prototype.getLib = function (libClass) {
            return this.libs.findOne(function (lib) {
                return lib instanceof libClass;
            });
        };
        Shader.prototype.getLibs = function () {
            return this.libs;
        };
        Shader.prototype.removeLib = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            this.libDirty = true;
            return this.libs.removeChild(args[0]);
        };
        Shader.prototype.removeAllLibs = function () {
            this.libDirty = true;
            this.libs.removeAllChildren();
        };
        Shader.prototype.sortLib = function (func) {
            this.libDirty = true;
            this.libs.sort(func, true);
        };
        Shader.prototype.judgeRefreshShader = function (material) {
            if (this.libDirty) {
                this.buildDefinitionData(null, material);
            }
            if (this._definitionDataDirty) {
                this.program.initWithShader(this);
            }
            this.libDirty = false;
            this._definitionDataDirty = false;
        };
        Shader.prototype._initShader = function (shader, source) {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                return shader;
            }
            else {
                wd.Log.log(gl.getShaderInfoLog(shader));
                wd.Log.log("attributes:\n", this.attributes);
                wd.Log.log("uniforms:\n", this.uniforms);
                wd.Log.log("source:\n", source);
            }
        };
        Shader.prototype._isNotEqual = function (list1, list2) {
            var result = false;
            list1.forEach(function (data, key) {
                var list2Data = list2.getChild(key);
                if (!list2Data || data.type !== list2Data.type || data.value !== list2Data.value) {
                    result = true;
                    return wdCb.$BREAK;
                }
            });
            return result;
        };
        __decorate([
            wd.ensure(function () {
                var self = this;
                this.libs.forEach(function (lib) {
                    wd.assert(wd.JudgeUtils.isEqual(lib.shader, self), wd.Log.info.FUNC_SHOULD("set ShaderLib.shader to be this"));
                });
                wd.assert(this.libDirty === true, wd.Log.info.FUNC_SHOULD("libDirty", "be true"));
            })
        ], Shader.prototype, "addLib", null);
        __decorate([
            wd.ensure(function (val, lib) {
                var self = this;
                wd.assert(wd.JudgeUtils.isEqual(lib, this.libs.getChild(0)), wd.Log.info.FUNC_SHOULD("add shader lib to the top"));
                this.libs.forEach(function (lib) {
                    wd.assert(wd.JudgeUtils.isEqual(lib.shader, self), wd.Log.info.FUNC_SHOULD("set ShaderLib.shader to be this"));
                });
                wd.assert(this.libDirty === true, wd.Log.info.FUNC_SHOULD("libDirty", "be true"));
            })
        ], Shader.prototype, "addShaderLibToTop", null);
        return Shader;
    }());
    wd.Shader = Shader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomShader = (function (_super) {
        __extends(CustomShader, _super);
        function CustomShader() {
            _super.apply(this, arguments);
        }
        CustomShader.create = function () {
            var obj = new this();
            return obj;
        };
        CustomShader.prototype.update = function (quadCmd, material) {
            var program = this.program;
            this.judgeRefreshShader(material);
            this.program.use();
            this.libs.forEach(function (lib) {
                lib.sendShaderVariables(program, quadCmd, material);
            });
            material.sendTexture(program);
        };
        CustomShader.prototype.read = function (definitionData) {
            this.sourceBuilder.clearShaderDefinition();
            this.sourceBuilder.read(definitionData);
            this.libDirty = true;
        };
        CustomShader.prototype.getSampler2DUniformsAfterRead = function () {
            return this.sourceBuilder.uniforms.filter(function (uniform, name) {
                return uniform.type === wd.EVariableType.SAMPLER_2D;
            });
        };
        CustomShader.prototype.buildDefinitionData = function (cmd, material) {
            this.sourceBuilder.build();
            this.attributes = this.sourceBuilder.attributes;
            this.uniforms = this.sourceBuilder.uniforms;
            this.vsSource = this.sourceBuilder.vsSource;
            this.fsSource = this.sourceBuilder.fsSource;
        };
        CustomShader.prototype.createShaderSourceBuilder = function () {
            return wd.CustomShaderSourceBuilder.create();
        };
        return CustomShader;
    }(wd.Shader));
    wd.CustomShader = CustomShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EngineShader = (function (_super) {
        __extends(EngineShader, _super);
        function EngineShader() {
            _super.apply(this, arguments);
        }
        EngineShader.prototype.buildDefinitionData = function (cmd, material) {
            this.libs.forEach(function (lib) {
                lib.setShaderDefinition(cmd, material);
            });
            this.sourceBuilder.clearShaderDefinition();
            this.sourceBuilder.build(this.libs);
            this.attributes = this.sourceBuilder.attributes;
            this.uniforms = this.sourceBuilder.uniforms;
            this.vsSource = this.sourceBuilder.vsSource;
            this.fsSource = this.sourceBuilder.fsSource;
        };
        EngineShader.prototype.createShaderSourceBuilder = function () {
            return wd.EngineShaderSourceBuilder.create();
        };
        return EngineShader;
    }(wd.Shader));
    wd.EngineShader = EngineShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonShader = (function (_super) {
        __extends(CommonShader, _super);
        function CommonShader() {
            _super.apply(this, arguments);
        }
        CommonShader.create = function () {
            var obj = new this();
            return obj;
        };
        CommonShader.prototype.update = function (quadCmd, material) {
            var program = this.program;
            this.judgeRefreshShader(material);
            this.program.use();
            this.libs.forEach(function (lib) {
                lib.sendShaderVariables(program, quadCmd, material);
            });
            material.sendTexture(program);
        };
        return CommonShader;
    }(wd.EngineShader));
    wd.CommonShader = CommonShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProceduralShader = (function (_super) {
        __extends(ProceduralShader, _super);
        function ProceduralShader() {
            _super.apply(this, arguments);
        }
        ProceduralShader.prototype.init = function () {
            this.addLib(wd.CommonProceduralShaderLib.create());
            _super.prototype.init.call(this, null);
        };
        ProceduralShader.prototype.update = function (cmd) {
            var program = this.program;
            this.judgeRefreshShader(null);
            this.program.use();
            this.libs.forEach(function (lib) {
                lib.sendShaderVariables(program, cmd);
            });
        };
        return ProceduralShader;
    }(wd.EngineShader));
    wd.ProceduralShader = ProceduralShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonProceduralShader = (function (_super) {
        __extends(CommonProceduralShader, _super);
        function CommonProceduralShader() {
            _super.apply(this, arguments);
        }
        CommonProceduralShader.create = function () {
            var obj = new this();
            return obj;
        };
        return CommonProceduralShader;
    }(wd.ProceduralShader));
    wd.CommonProceduralShader = CommonProceduralShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomProceduralShader = (function (_super) {
        __extends(CustomProceduralShader, _super);
        function CustomProceduralShader(texture) {
            _super.call(this);
            this._texture = null;
            this._texture = texture;
        }
        CustomProceduralShader.create = function (texture) {
            var obj = new this(texture);
            return obj;
        };
        CustomProceduralShader.prototype.update = function (cmd) {
            _super.prototype.update.call(this, cmd);
            this._texture.mapManager.bindAndUpdate();
            this._texture.mapManager.sendData(this.program);
        };
        return CustomProceduralShader;
    }(wd.ProceduralShader));
    wd.CustomProceduralShader = CustomProceduralShader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderSourceBuilder = (function () {
        function ShaderSourceBuilder() {
            this.attributes = wdCb.Hash.create();
            this.uniforms = wdCb.Hash.create();
            this.vsSource = null;
            this.fsSource = null;
        }
        ShaderSourceBuilder.prototype.dispose = function () {
            this.clearShaderDefinition();
        };
        ShaderSourceBuilder.prototype.convertAttributesData = function () {
            var self = this;
            this.attributes
                .filter(function (data) {
                return data.value !== wd.EVariableCategory.ENGINE && wd.JudgeUtils.isArrayExactly(data.value);
            })
                .forEach(function (data, key) {
                data.value = self._convertArrayToArrayBuffer(data.type, data.value);
            });
        };
        ShaderSourceBuilder.prototype._convertArrayToArrayBuffer = function (type, value) {
            var size = this._getBufferSize(type);
            return wd.ArrayBuffer.create(new Float32Array(value), size, wd.EBufferType.FLOAT);
        };
        ShaderSourceBuilder.prototype._getBufferSize = function (type) {
            var size = null;
            switch (type) {
                case wd.EVariableType.FLOAT_1:
                case wd.EVariableType.NUMBER_1:
                    size = 1;
                    break;
                case wd.EVariableType.FLOAT_2:
                    size = 2;
                    break;
                case wd.EVariableType.FLOAT_3:
                    size = 3;
                    break;
                case wd.EVariableType.FLOAT_4:
                    size = 4;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("EVariableType", type));
                    break;
            }
            return size;
        };
        __decorate([
            wd.require(function () {
                this.attributes.forEach(function (data) {
                    wd.assert(!wd.JudgeUtils.isFloatArray(data.value), wd.Log.info.FUNC_SHOULD_NOT("attribute->value", "be Float array"));
                });
            })
        ], ShaderSourceBuilder.prototype, "convertAttributesData", null);
        __decorate([
            wd.require(function (type, value) {
                wd.assert(wd.JudgeUtils.isArrayExactly(value), wd.Log.info.FUNC_SHOULD("value:" + value, "be array"));
            })
        ], ShaderSourceBuilder.prototype, "_convertArrayToArrayBuffer", null);
        return ShaderSourceBuilder;
    }());
    wd.ShaderSourceBuilder = ShaderSourceBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomShaderSourceBuilder = (function (_super) {
        __extends(CustomShaderSourceBuilder, _super);
        function CustomShaderSourceBuilder() {
            _super.apply(this, arguments);
        }
        CustomShaderSourceBuilder.create = function () {
            var obj = new this();
            return obj;
        };
        CustomShaderSourceBuilder.prototype.read = function (definitionData) {
            if (definitionData.attributes) {
                this.attributes = wdCb.Hash.create(definitionData.attributes);
            }
            if (definitionData.uniforms) {
                this.uniforms = wdCb.Hash.create(definitionData.uniforms);
            }
            this.vsSource = wd.LoaderManager.getInstance().get(definitionData.vsSourceId);
            this.fsSource = wd.LoaderManager.getInstance().get(definitionData.fsSourceId);
        };
        CustomShaderSourceBuilder.prototype.build = function () {
            this.convertAttributesData();
        };
        CustomShaderSourceBuilder.prototype.clearShaderDefinition = function () {
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.vsSource = null;
            this.fsSource = null;
        };
        return CustomShaderSourceBuilder;
    }(wd.ShaderSourceBuilder));
    wd.CustomShaderSourceBuilder = CustomShaderSourceBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EngineShaderSourceBuilder = (function (_super) {
        __extends(EngineShaderSourceBuilder, _super);
        function EngineShaderSourceBuilder() {
            _super.apply(this, arguments);
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.vsSourceDefineList = wdCb.Collection.create();
            this.fsSourceDefineList = wdCb.Collection.create();
        }
        EngineShaderSourceBuilder.create = function () {
            var obj = new this();
            return obj;
        };
        EngineShaderSourceBuilder.prototype.build = function (libs) {
            this._readLibSource(libs);
            if (this.vsSource === null) {
                this._buildVsSource();
            }
            if (this.fsSource === null) {
                this._buildFsSource();
            }
            this.convertAttributesData();
        };
        EngineShaderSourceBuilder.prototype.clearShaderDefinition = function () {
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.vsSourceDefineList.removeAllChildren();
            this.fsSourceDefineList.removeAllChildren();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.vsSource = null;
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.fsSource = null;
        };
        EngineShaderSourceBuilder.prototype._readLibSource = function (libs) {
            var setSourceLibs = libs.filter(function (lib) {
                return lib.vsSource !== null || lib.fsSource !== null;
            });
            this._judgeAndSetVsSource(setSourceLibs);
            this._judgeAndSetFsSource(setSourceLibs);
            this._judgeAndSetPartSource(libs);
        };
        EngineShaderSourceBuilder.prototype._judgeAndSetVsSource = function (setSourceLibs) {
            var setVsSourceLib = setSourceLibs.findOne(function (lib) {
                return lib.vsSource !== null;
            });
            if (setVsSourceLib) {
                this.vsSource = setVsSourceLib.vsSource;
            }
        };
        EngineShaderSourceBuilder.prototype._judgeAndSetFsSource = function (setSourceLibs) {
            var setFsSourceLib = setSourceLibs.findOne(function (lib) {
                return lib.fsSource !== null;
            });
            if (setFsSourceLib) {
                this.fsSource = setFsSourceLib.fsSource;
            }
        };
        EngineShaderSourceBuilder.prototype._judgeAndSetPartSource = function (libs) {
            var vsSource = this.vsSource, fsSource = this.fsSource, attributes = this.attributes, uniforms = this.uniforms, vsSourceDefineList = this.vsSourceDefineList, fsSourceDefineList = this.fsSourceDefineList, vsSourceTop = "", vsSourceDefine = "", vsSourceVarDeclare = "", vsSourceFuncDeclare = "", vsSourceFuncDefine = "", vsSourceBody = "", fsSourceTop = "", fsSourceDefine = "", fsSourceVarDeclare = "", fsSourceFuncDeclare = "", fsSourceFuncDefine = "", fsSourceBody = "";
            libs.forEach(function (lib) {
                attributes.addChildren(lib.attributes);
                uniforms.addChildren(lib.uniforms);
                if (vsSource === null) {
                    vsSourceTop += lib.vsSourceTop;
                    vsSourceDefine += lib.vsSourceDefine;
                    vsSourceVarDeclare += lib.vsSourceVarDeclare;
                    vsSourceFuncDeclare += lib.vsSourceFuncDeclare;
                    vsSourceFuncDefine += lib.vsSourceFuncDefine;
                    vsSourceBody += lib.vsSourceBody;
                    vsSourceDefineList.addChildren(lib.vsSourceDefineList);
                }
                if (fsSource === null) {
                    fsSourceTop += lib.fsSourceTop;
                    fsSourceDefine += lib.fsSourceDefine;
                    fsSourceVarDeclare += lib.fsSourceVarDeclare;
                    fsSourceFuncDeclare += lib.fsSourceFuncDeclare;
                    fsSourceFuncDefine += lib.fsSourceFuncDefine;
                    fsSourceBody += lib.fsSourceBody;
                    fsSourceDefineList.addChildren(lib.fsSourceDefineList);
                }
            });
            if (vsSource === null) {
                this.vsSourceTop = vsSourceTop;
                this.vsSourceDefine = vsSourceDefine;
                this.vsSourceVarDeclare = vsSourceVarDeclare;
                this.vsSourceFuncDeclare = vsSourceFuncDeclare;
                this.vsSourceFuncDefine = vsSourceFuncDefine;
                this.vsSourceBody = vsSourceBody;
            }
            if (fsSource === null) {
                this.fsSourceTop = fsSourceTop;
                this.fsSourceDefine = fsSourceDefine;
                this.fsSourceVarDeclare = fsSourceVarDeclare;
                this.fsSourceFuncDeclare = fsSourceFuncDeclare;
                this.fsSourceFuncDefine = fsSourceFuncDefine;
                this.fsSourceBody = fsSourceBody;
            }
        };
        EngineShaderSourceBuilder.prototype._buildVsSource = function () {
            this.vsSource = this._buildVsSourceTop() + this._buildVsSourceDefine() + this._buildVsSourceVarDeclare() + this._buildVsSourceFuncDeclare() + this._buildVsSourceFuncDefine() + this._buildVsSourceBody();
        };
        EngineShaderSourceBuilder.prototype._buildFsSource = function () {
            this.fsSource = this._buildFsSourceTop() + this._buildFsSourceDefine() + this._buildFsSourceVarDeclare() + this._buildFsSourceFuncDeclare() + this._buildFsSourceFuncDefine() + this._buildFsSourceBody();
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceTop = function () {
            return this._getPrecisionSource() + this.vsSourceTop;
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceDefine = function () {
            return this._buildSourceDefine(this.vsSourceDefineList) + this.vsSourceDefine;
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceVarDeclare = function () {
            return this._generateAttributeSource() + this._generateUniformSource(this.vsSourceVarDeclare, this.vsSourceFuncDefine, this.vsSourceBody) + this.vsSourceVarDeclare;
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceFuncDeclare = function () {
            return this.vsSourceFuncDeclare;
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceFuncDefine = function () {
            return this.vsSourceFuncDefine;
        };
        EngineShaderSourceBuilder.prototype._buildVsSourceBody = function () {
            return wd.ShaderSnippet.main_begin + this.vsSourceBody + wd.ShaderSnippet.main_end;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceTop = function () {
            return this._getPrecisionSource() + this.fsSourceTop;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceDefine = function () {
            return this._buildSourceDefine(this.fsSourceDefineList) + this.fsSourceDefine;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceVarDeclare = function () {
            return this._generateUniformSource(this.fsSourceVarDeclare, this.fsSourceFuncDefine, this.fsSourceBody) + this.fsSourceVarDeclare;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceFuncDeclare = function () {
            return this.fsSourceFuncDeclare;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceFuncDefine = function () {
            return this.fsSourceFuncDefine;
        };
        EngineShaderSourceBuilder.prototype._buildFsSourceBody = function () {
            return wd.ShaderSnippet.main_begin + this.fsSourceBody + wd.ShaderSnippet.main_end;
        };
        EngineShaderSourceBuilder.prototype._buildSourceDefine = function (defineList) {
            var result = "";
            defineList.forEach(function (define) {
                if (define.value === void 0) {
                    result += "#define " + define.name + "\n";
                }
                else {
                    result += "#define " + define.name + " " + define.value + "\n";
                }
            });
            return result;
        };
        EngineShaderSourceBuilder.prototype._getPrecisionSource = function () {
            var precision = wd.GPUDetector.getInstance().precision, result = null;
            switch (precision) {
                case wd.EGPUPrecision.HIGHP:
                    result = wd.ShaderChunk.highp_fragment.top;
                    break;
                case wd.EGPUPrecision.MEDIUMP:
                    result = wd.ShaderChunk.mediump_fragment.top;
                    break;
                case wd.EGPUPrecision.LOWP:
                    result = wd.ShaderChunk.lowp_fragment.top;
                    break;
                default:
                    result = "";
                    break;
            }
            return result;
        };
        EngineShaderSourceBuilder.prototype._generateAttributeSource = function () {
            var result = "";
            this.attributes.filter(function (data, key) {
                return !!data;
            }).forEach(function (data, key) {
                result += "attribute " + wd.VariableTypeTable.getVariableType(data.type) + " " + key + ";\n";
            });
            return result;
        };
        EngineShaderSourceBuilder.prototype._generateUniformSource = function (sourceVarDeclare, sourceFuncDefine, sourceBody) {
            var result = "", self = this;
            this.uniforms.filter(function (data, key) {
                return !!data && data.type !== wd.EVariableType.STRUCTURE && data.type !== wd.EVariableType.STRUCTURES && !self._isExistInSource(key, sourceVarDeclare) && (self._isExistInSource(key, sourceFuncDefine) || self._isExistInSource(key, sourceBody));
            }).forEach(function (data, key) {
                result += "uniform " + wd.VariableTypeTable.getVariableType(data.type) + " " + key + ";\n";
            });
            return result;
        };
        EngineShaderSourceBuilder.prototype._isExistInSource = function (key, source) {
            return source.indexOf(key) !== -1;
        };
        __decorate([
            wd.require(function (libs) {
                wd.assert(this.vsSource === null, wd.Log.info.FUNC_SHOULD("vsSource", "be null"));
                wd.assert(this.fsSource === null, wd.Log.info.FUNC_SHOULD("fsSource", "be null"));
            })
        ], EngineShaderSourceBuilder.prototype, "build", null);
        return EngineShaderSourceBuilder;
    }(wd.ShaderSourceBuilder));
    wd.EngineShaderSourceBuilder = EngineShaderSourceBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EVariableType) {
        EVariableType[EVariableType["FLOAT_1"] = "FLOAT_1"] = "FLOAT_1";
        EVariableType[EVariableType["FLOAT_2"] = "FLOAT_2"] = "FLOAT_2";
        EVariableType[EVariableType["FLOAT_3"] = "FLOAT_3"] = "FLOAT_3";
        EVariableType[EVariableType["FLOAT_4"] = "FLOAT_4"] = "FLOAT_4";
        EVariableType[EVariableType["FLOAT_MAT3"] = "FLOAT_MAT3"] = "FLOAT_MAT3";
        EVariableType[EVariableType["FLOAT_MAT4"] = "FLOAT_MAT4"] = "FLOAT_MAT4";
        EVariableType[EVariableType["BUFFER"] = "BUFFER"] = "BUFFER";
        EVariableType[EVariableType["SAMPLER_CUBE"] = "SAMPLER_CUBE"] = "SAMPLER_CUBE";
        EVariableType[EVariableType["SAMPLER_2D"] = "SAMPLER_2D"] = "SAMPLER_2D";
        EVariableType[EVariableType["NUMBER_1"] = "NUMBER_1"] = "NUMBER_1";
        EVariableType[EVariableType["STRUCTURE"] = "STRUCTURE"] = "STRUCTURE";
        EVariableType[EVariableType["STRUCTURES"] = "STRUCTURES"] = "STRUCTURES";
        EVariableType[EVariableType["SAMPLER_ARRAY"] = "SAMPLER_ARRAY"] = "SAMPLER_ARRAY";
    })(wd.EVariableType || (wd.EVariableType = {}));
    var EVariableType = wd.EVariableType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EVariableSemantic) {
        EVariableSemantic[EVariableSemantic["POSITION"] = "POSITION"] = "POSITION";
        EVariableSemantic[EVariableSemantic["NORMAL"] = "NORMAL"] = "NORMAL";
        EVariableSemantic[EVariableSemantic["TEXCOORD"] = "TEXCOORD"] = "TEXCOORD";
        EVariableSemantic[EVariableSemantic["TANGENT"] = "TANGENT"] = "TANGENT";
        EVariableSemantic[EVariableSemantic["COLOR"] = "COLOR"] = "COLOR";
        EVariableSemantic[EVariableSemantic["MODEL"] = "MODEL"] = "MODEL";
        EVariableSemantic[EVariableSemantic["VIEW"] = "VIEW"] = "VIEW";
        EVariableSemantic[EVariableSemantic["PROJECTION"] = "PROJECTION"] = "PROJECTION";
        EVariableSemantic[EVariableSemantic["MODEL_VIEW"] = "MODEL_VIEW"] = "MODEL_VIEW";
        EVariableSemantic[EVariableSemantic["MODEL_VIEW_PROJECTION"] = "MODEL_VIEW_PROJECTION"] = "MODEL_VIEW_PROJECTION";
        EVariableSemantic[EVariableSemantic["MODEL_INVERSE"] = "MODEL_INVERSE"] = "MODEL_INVERSE";
        EVariableSemantic[EVariableSemantic["VIEW_INVERSE"] = "VIEW_INVERSE"] = "VIEW_INVERSE";
        EVariableSemantic[EVariableSemantic["PROJECTION_INVERSE"] = "PROJECTION_INVERSE"] = "PROJECTION_INVERSE";
        EVariableSemantic[EVariableSemantic["MODEL_VIEW_INVERSE"] = "MODEL_VIEW_INVERSE"] = "MODEL_VIEW_INVERSE";
        EVariableSemantic[EVariableSemantic["MODEL_VIEW_PROJECTION_INVERSE"] = "MODEL_VIEW_PROJECTION_INVERSE"] = "MODEL_VIEW_PROJECTION_INVERSE";
        EVariableSemantic[EVariableSemantic["MODEL_INVERSE_TRANSPOSE"] = "MODEL_INVERSE_TRANSPOSE"] = "MODEL_INVERSE_TRANSPOSE";
        EVariableSemantic[EVariableSemantic["MODEL_VIEW_INVERSE_TRANSPOSE"] = "MODEL_VIEW_INVERSE_TRANSPOSE"] = "MODEL_VIEW_INVERSE_TRANSPOSE";
        EVariableSemantic[EVariableSemantic["VIEWPORT"] = "VIEWPORT"] = "VIEWPORT";
    })(wd.EVariableSemantic || (wd.EVariableSemantic = {}));
    var EVariableSemantic = wd.EVariableSemantic;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EVariableCategory) {
        EVariableCategory[EVariableCategory["ENGINE"] = "ENGINE"] = "ENGINE";
        EVariableCategory[EVariableCategory["CUSTOM"] = "CUSTOM"] = "CUSTOM";
    })(wd.EVariableCategory || (wd.EVariableCategory = {}));
    var EVariableCategory = wd.EVariableCategory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VariableLib = (function () {
        function VariableLib() {
        }
        VariableLib.a_position = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_positionVec2 = {
            type: wd.EVariableType.FLOAT_2,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_currentFramePosition = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_nextFramePosition = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_normal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_currentFrameNormal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_nextFrameNormal = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_color = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_texCoord = {
            type: wd.EVariableType.FLOAT_2,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.a_tangent = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_vMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_pMatrix = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_normalMatrix = {
            type: wd.EVariableType.FLOAT_MAT3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_samplerCube0 = {
            type: wd.EVariableType.SAMPLER_CUBE,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_sampler2D0 = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_sampler2D1 = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuseMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_specularMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_emissionMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_normalMapSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mirrorSampler = {
            type: wd.EVariableType.SAMPLER_2D,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_cameraPos = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_refractionRatio = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_reflectivity = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_map0SourceRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_map1SourceRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuseSourceRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_map0RepeatRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_map1RepeatRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuseRepeatRegion = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_combineMode = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_mixRatio = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightMapIntensity = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_diffuse = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_specular = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_emission = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_shininess = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightModel = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_isBothSide = {
            type: wd.EVariableType.NUMBER_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_opacity = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_ambient = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_directionLights = {
            type: wd.EVariableType.STRUCTURES,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_pointLights = {
            type: wd.EVariableType.STRUCTURES,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_vpMatrixFromLight = {
            type: wd.EVariableType.FLOAT_MAT4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_lightPos = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_farPlane = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_interpolation = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_tilesHeightNumber = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_tilesWidthNumber = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_amplitude = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_jointColor = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_time = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_speed = {
            type: wd.EVariableType.FLOAT_2,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_shift = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_alphaThreshold = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_fireColor = {
            type: wd.EVariableType.STRUCTURE,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_layerHeightDatas = {
            type: wd.EVariableType.STRUCTURES,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_layerSampler2Ds = {
            type: wd.EVariableType.SAMPLER_ARRAY,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_herb1Color = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_herb2Color = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_herb3Color = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_groundColor = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_ampScale = {
            type: wd.EVariableType.FLOAT_1,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_woodColor = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_roadColor = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_skyColor = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_cloudColor = {
            type: wd.EVariableType.FLOAT_4,
            value: wd.EVariableCategory.ENGINE
        };
        VariableLib.u_brickColor = {
            type: wd.EVariableType.FLOAT_3,
            value: wd.EVariableCategory.ENGINE
        };
        return VariableLib;
    }());
    wd.VariableLib = VariableLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild(wd.EVariableType.FLOAT_1, "float");
    _table.addChild(wd.EVariableType.FLOAT_2, "vec2");
    _table.addChild(wd.EVariableType.FLOAT_3, "vec3");
    _table.addChild(wd.EVariableType.FLOAT_4, "vec4");
    _table.addChild(wd.EVariableType.FLOAT_MAT3, "mat3");
    _table.addChild(wd.EVariableType.FLOAT_MAT4, "mat4");
    _table.addChild(wd.EVariableType.NUMBER_1, "int");
    _table.addChild(wd.EVariableType.SAMPLER_CUBE, "samplerCube");
    _table.addChild(wd.EVariableType.SAMPLER_2D, "sampler2D");
    var VariableTypeTable = (function () {
        function VariableTypeTable() {
        }
        VariableTypeTable.getVariableType = function (type) {
            var result = _table.getChild(type);
            wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(type, "in VariableTypeTable"));
            return result;
        };
        return VariableTypeTable;
    }());
    wd.VariableTypeTable = VariableTypeTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var _table = wdCb.Hash.create();
    _table.addChild("lightMap", "u_lightMapSampler");
    _table.addChild("diffuseMap", "u_diffuseMapSampler");
    _table.addChild("specularMap", "u_specularMapSampler");
    _table.addChild("emissionMap", "u_emissionMapSampler");
    _table.addChild("normalMap", "u_normalMapSampler");
    _table.addChild("mirrorReflectionMap", "u_mirrorSampler");
    var VariableNameTable = (function () {
        function VariableNameTable() {
        }
        VariableNameTable.getVariableName = function (name) {
            var result = _table.getChild(name);
            wd.Log.error(result === void 0, wd.Log.info.FUNC_NOT_EXIST(name, "in VariableNameTable"));
            return result;
        };
        return VariableNameTable;
    }());
    wd.VariableNameTable = VariableNameTable;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderLib = (function () {
        function ShaderLib() {
            this.shader = null;
        }
        ShaderLib.prototype.sendShaderVariables = function (program, cmd, material) {
        };
        ShaderLib.prototype.init = function () {
        };
        ShaderLib.prototype.dispose = function () {
        };
        __decorate([
            wd.virtual
        ], ShaderLib.prototype, "sendShaderVariables", null);
        __decorate([
            wd.virtual
        ], ShaderLib.prototype, "init", null);
        __decorate([
            wd.virtual
        ], ShaderLib.prototype, "dispose", null);
        return ShaderLib;
    }());
    wd.ShaderLib = ShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomShaderLib = (function (_super) {
        __extends(CustomShaderLib, _super);
        function CustomShaderLib() {
            _super.apply(this, arguments);
        }
        CustomShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CustomShaderLib.prototype.sendShaderVariables = function (program, cmd, material) {
            var shader = this.shader;
            shader.attributes.forEach(function (attribute, name) {
                wd.CustomShaderLibUtils.sendAttributeDataWithSemantic(name, attribute.type, attribute.value, program, cmd);
            });
            shader.uniforms.forEach(function (uniform, name) {
                if (uniform.type !== wd.EVariableType.SAMPLER_2D) {
                    wd.CustomShaderLibUtils.sendUniformDataWithSemantic(name, uniform.type, uniform.value, program, cmd);
                }
            });
        };
        return CustomShaderLib;
    }(wd.ShaderLib));
    wd.CustomShaderLib = CustomShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EngineShaderLib = (function (_super) {
        __extends(EngineShaderLib, _super);
        function EngineShaderLib() {
            _super.apply(this, arguments);
            this.type = null;
            this.attributes = wdCb.Hash.create();
            this.uniforms = wdCb.Hash.create();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.vsSource = null;
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.fsSource = null;
            this.vsSourceDefineList = wdCb.Collection.create();
            this.fsSourceDefineList = wdCb.Collection.create();
        }
        EngineShaderLib.prototype.setShaderDefinition = function (cmd, material) {
            var vs = null, fs = null;
            this._clearShaderDefinition();
            vs = this.getVsChunk();
            fs = this.getFsChunk();
            vs && this.setVsSource(vs);
            fs && this.setFsSource(fs);
        };
        EngineShaderLib.prototype.sendAttributeData = function (program, name, data) {
            program.sendAttributeData(name, wd.EVariableType.BUFFER, data);
        };
        EngineShaderLib.prototype.sendUniformData = function (program, name, data) {
            program.sendUniformData(name, wd.VariableLib[name].type, data);
        };
        EngineShaderLib.prototype.getVsChunk = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args.length === 0 ? this.type : args[0];
            return this._getChunk(type, EShaderLibType.vs);
        };
        EngineShaderLib.prototype.getFsChunk = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args.length === 0 ? this.type : args[0];
            return this._getChunk(type, EShaderLibType.fs);
        };
        EngineShaderLib.prototype.setVsSource = function (vs, operator) {
            if (operator === void 0) { operator = "="; }
            if (wd.JudgeUtils.isString(vs)) {
                this.vsSource = vs;
            }
            else {
                this._setSource(vs, EShaderLibType.vs, operator);
            }
        };
        EngineShaderLib.prototype.setFsSource = function (fs, operator) {
            if (operator === void 0) { operator = "="; }
            if (wd.JudgeUtils.isString(fs)) {
                this.fsSource = fs;
            }
            else {
                this._setSource(fs, EShaderLibType.fs, operator);
            }
        };
        EngineShaderLib.prototype.addAttributeVariable = function (variableArr) {
            this._addVariable(this.attributes, variableArr);
        };
        EngineShaderLib.prototype.addUniformVariable = function (variableArr) {
            this._addVariable(this.uniforms, variableArr);
        };
        EngineShaderLib.prototype._addVariable = function (target, variableArr) {
            variableArr.forEach(function (variable) {
                wd.Log.assert(wd.VariableLib[variable], wd.Log.info.FUNC_SHOULD(variable, "exist in VariableLib"));
                target.addChild(variable, wd.VariableLib[variable]);
            });
        };
        EngineShaderLib.prototype._clearShaderDefinition = function () {
            this.attributes.removeAllChildren();
            this.uniforms.removeAllChildren();
            this.vsSourceDefineList.removeAllChildren();
            this.fsSourceDefineList.removeAllChildren();
            this.vsSourceTop = "";
            this.vsSourceDefine = "";
            this.vsSourceVarDeclare = "";
            this.vsSourceFuncDeclare = "";
            this.vsSourceFuncDefine = "";
            this.vsSourceBody = "";
            this.vsSource = null;
            this.fsSourceTop = "";
            this.fsSourceDefine = "";
            this.fsSourceVarDeclare = "";
            this.fsSourceFuncDeclare = "";
            this.fsSourceFuncDefine = "";
            this.fsSourceBody = "";
            this.fsSource = null;
        };
        EngineShaderLib.prototype._getChunk = function (type, sourceType) {
            var key = null;
            if (!type) {
                return null;
            }
            if (type.indexOf(".glsl") > -1) {
                key = "" + wdCb.PathUtils.basename(type, ".glsl");
            }
            else {
                if (sourceType === EShaderLibType.vs) {
                    key = type + "_vertex";
                }
                else {
                    key = type + "_fragment";
                }
            }
            return wd.ShaderChunk[key] ? wd.ShaderChunk[key] : wd.ShaderChunk.empty;
        };
        EngineShaderLib.prototype._setSource = function (chunk, sourceType, operator) {
            if (!chunk) {
                return;
            }
            switch (operator) {
                case "+":
                    this[(sourceType + "SourceTop")] += chunk.top;
                    this[(sourceType + "SourceDefine")] += chunk.define;
                    this[(sourceType + "SourceVarDeclare")] += chunk.varDeclare;
                    this[(sourceType + "SourceFuncDeclare")] += chunk.funcDeclare;
                    this[(sourceType + "SourceFuncDefine")] += chunk.funcDefine;
                    this[(sourceType + "SourceBody")] += chunk.body;
                    break;
                case "=":
                    this[(sourceType + "SourceTop")] = chunk.top;
                    this[(sourceType + "SourceDefine")] = chunk.define;
                    this[(sourceType + "SourceVarDeclare")] = chunk.varDeclare;
                    this[(sourceType + "SourceFuncDeclare")] = chunk.funcDeclare;
                    this[(sourceType + "SourceFuncDefine")] = chunk.funcDefine;
                    this[(sourceType + "SourceBody")] = chunk.body;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("opertor:", operator));
                    break;
            }
        };
        __decorate([
            wd.virtual
        ], EngineShaderLib.prototype, "setShaderDefinition", null);
        __decorate([
            wd.require(function (program, name, data) {
                wd.assert(!!wd.VariableLib[name], name + " should exist in VariableLib");
            })
        ], EngineShaderLib.prototype, "sendUniformData", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.vsSource === null, wd.Log.info.FUNC_SHOULD("vsSource", "be null"));
            })
        ], EngineShaderLib.prototype, "setVsSource", null);
        __decorate([
            wd.require(function () {
                wd.assert(this.fsSource === null, wd.Log.info.FUNC_SHOULD("fsSource", "be null"));
            })
        ], EngineShaderLib.prototype, "setFsSource", null);
        return EngineShaderLib;
    }(wd.ShaderLib));
    wd.EngineShaderLib = EngineShaderLib;
    var EShaderLibType;
    (function (EShaderLibType) {
        EShaderLibType[EShaderLibType["vs"] = "vs"] = "vs";
        EShaderLibType[EShaderLibType["fs"] = "fs"] = "fs";
    })(EShaderLibType || (EShaderLibType = {}));
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonShaderLib = (function (_super) {
        __extends(CommonShaderLib, _super);
        function CommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "common";
        }
        CommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_mMatrix", quadCmd.mMatrix);
            this.sendUniformData(program, "u_vMatrix", quadCmd.vMatrix);
            this.sendUniformData(program, "u_pMatrix", quadCmd.pMatrix);
        };
        CommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_mMatrix", "u_vMatrix", "u_pMatrix"]);
            this.vsSourceDefine = wd.ShaderChunk.common_define.define + wd.ShaderChunk.common_vertex.define;
            this.vsSourceFuncDefine = wd.ShaderChunk.common_function.funcDefine + wd.ShaderChunk.common_vertex.funcDefine;
            this.fsSourceDefine = wd.ShaderChunk.common_define.define + wd.ShaderChunk.common_fragment.define;
            this.fsSourceFuncDefine = wd.ShaderChunk.common_function.funcDefine + wd.ShaderChunk.common_fragment.funcDefine;
        };
        return CommonShaderLib;
    }(wd.EngineShaderLib));
    wd.CommonShaderLib = CommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonVerticeShaderLib = (function (_super) {
        __extends(CommonVerticeShaderLib, _super);
        function CommonVerticeShaderLib() {
            _super.apply(this, arguments);
            this.type = "commonVertice";
        }
        CommonVerticeShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonVerticeShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this._sendAttributeVariables(program, quadCmd);
        };
        CommonVerticeShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_position"]);
        };
        CommonVerticeShaderLib.prototype._sendAttributeVariables = function (program, quadCmd) {
            var verticeBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.VERTICE);
            if (!verticeBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_position", verticeBuffer);
        };
        return CommonVerticeShaderLib;
    }(wd.EngineShaderLib));
    wd.CommonVerticeShaderLib = CommonVerticeShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonNormalShaderLib = (function (_super) {
        __extends(CommonNormalShaderLib, _super);
        function CommonNormalShaderLib() {
            _super.apply(this, arguments);
            this.type = "commonNormal";
        }
        CommonNormalShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonNormalShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this._sendAttributeVariables(program, quadCmd);
        };
        CommonNormalShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_normal"]);
        };
        CommonNormalShaderLib.prototype._sendAttributeVariables = function (program, quadCmd) {
            var normalBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.NORMAL);
            if (!normalBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_normal", normalBuffer);
        };
        return CommonNormalShaderLib;
    }(wd.EngineShaderLib));
    wd.CommonNormalShaderLib = CommonNormalShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicShaderLib = (function (_super) {
        __extends(BasicShaderLib, _super);
        function BasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic";
        }
        BasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var colorBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.COLOR);
            if (!colorBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_color", colorBuffer);
            this.sendUniformData(program, "u_opacity", material.opacity);
        };
        BasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_color"]);
            this.addUniformVariable(["u_opacity"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + wd.ShaderChunk.basic_vertex.body;
        };
        return BasicShaderLib;
    }(wd.EngineShaderLib));
    wd.BasicShaderLib = BasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEndShaderLib = (function (_super) {
        __extends(BasicEndShaderLib, _super);
        function BasicEndShaderLib() {
            _super.apply(this, arguments);
            this.type = "basicEnd";
        }
        BasicEndShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BasicEndShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return BasicEndShaderLib;
    }(wd.EngineShaderLib));
    wd.BasicEndShaderLib = BasicEndShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphCommonShaderLib = (function (_super) {
        __extends(MorphCommonShaderLib, _super);
        function MorphCommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphCommon";
        }
        MorphCommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphCommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var anim = (quadCmd.animation);
            this.sendUniformData(program, "u_interpolation", anim.interpolation);
        };
        MorphCommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_interpolation"]);
        };
        __decorate([
            wd.require(function (program, quadCmd, material) {
                wd.assert(!!quadCmd.animation, wd.Log.info.FUNC_SHOULD("entityObject", "add MorphAnimation component"));
            })
        ], MorphCommonShaderLib.prototype, "sendShaderVariables", null);
        return MorphCommonShaderLib;
    }(wd.EngineShaderLib));
    wd.MorphCommonShaderLib = MorphCommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphVerticeShaderLib = (function (_super) {
        __extends(MorphVerticeShaderLib, _super);
        function MorphVerticeShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphVertice";
        }
        MorphVerticeShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphVerticeShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var morphVerticeData = quadCmd.buffers.getChild(wd.EBufferDataType.VERTICE);
            if (!morphVerticeData) {
                return;
            }
            this.sendAttributeData(program, "a_currentFramePosition", morphVerticeData[0]);
            this.sendAttributeData(program, "a_nextFramePosition", morphVerticeData[1]);
        };
        MorphVerticeShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_currentFramePosition", "a_nextFramePosition"]);
        };
        __decorate([
            wd.require(function (program, quadCmd, material) {
                wd.assert(!!quadCmd.animation, wd.Log.info.FUNC_SHOULD("entityObject", "add MorphAnimation component"));
            })
        ], MorphVerticeShaderLib.prototype, "sendShaderVariables", null);
        return MorphVerticeShaderLib;
    }(wd.EngineShaderLib));
    wd.MorphVerticeShaderLib = MorphVerticeShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MorphNormalShaderLib = (function (_super) {
        __extends(MorphNormalShaderLib, _super);
        function MorphNormalShaderLib() {
            _super.apply(this, arguments);
            this.type = "morphNormal";
        }
        MorphNormalShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MorphNormalShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var morphNormalData = quadCmd.buffers.getChild(wd.EBufferDataType.NORMAL);
            if (!morphNormalData) {
                return;
            }
            this.sendAttributeData(program, "a_currentFrameNormal", morphNormalData[0]);
            this.sendAttributeData(program, "a_nextFrameNormal", morphNormalData[1]);
        };
        MorphNormalShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_currentFrameNormal", "a_nextFrameNormal"]);
        };
        return MorphNormalShaderLib;
    }(wd.EngineShaderLib));
    wd.MorphNormalShaderLib = MorphNormalShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxShaderLib = (function (_super) {
        __extends(SkyboxShaderLib, _super);
        function SkyboxShaderLib() {
            _super.apply(this, arguments);
            this.type = "skybox";
        }
        SkyboxShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        SkyboxShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        SkyboxShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0"]);
        };
        return SkyboxShaderLib;
    }(wd.EngineShaderLib));
    wd.SkyboxShaderLib = SkyboxShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EnvMapForBasicShaderLib = (function (_super) {
        __extends(EnvMapForBasicShaderLib, _super);
        function EnvMapForBasicShaderLib() {
            _super.apply(this, arguments);
        }
        EnvMapForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_normalMatrix", quadCmd.normalMatrix);
            this.sendUniformData(program, "u_cameraPos", wd.Director.getInstance().scene.currentCamera.transform.position);
        };
        EnvMapForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0", "u_cameraPos", "u_normalMatrix"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + this.getVsChunk().body;
        };
        EnvMapForBasicShaderLib.prototype.setEnvMapSource = function () {
            var vs = this.getVsChunk("envMap_forBasic"), fs = this.getFsChunk("envMap_forBasic");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody += vs.body;
            this.setFsSource(fs);
        };
        return EnvMapForBasicShaderLib;
    }(wd.EngineShaderLib));
    wd.EnvMapForBasicShaderLib = EnvMapForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEnvMapForBasicShaderLib = (function (_super) {
        __extends(BasicEnvMapForBasicShaderLib, _super);
        function BasicEnvMapForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic_envMap_forBasic";
        }
        BasicEnvMapForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicEnvMapForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.BasicEnvMapForBasicShaderLib = BasicEnvMapForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ReflectionForBasicShaderLib = (function (_super) {
        __extends(ReflectionForBasicShaderLib, _super);
        function ReflectionForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "reflection_forBasic";
        }
        ReflectionForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        ReflectionForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return ReflectionForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.ReflectionForBasicShaderLib = ReflectionForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RefractionForBasicShaderLib = (function (_super) {
        __extends(RefractionForBasicShaderLib, _super);
        function RefractionForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "refraction_forBasic";
        }
        RefractionForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        RefractionForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
        };
        RefractionForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return RefractionForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.RefractionForBasicShaderLib = RefractionForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FresnelForBasicShaderLib = (function (_super) {
        __extends(FresnelForBasicShaderLib, _super);
        function FresnelForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "fresnel_forBasic";
        }
        FresnelForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        FresnelForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
            this.sendUniformData(program, "u_reflectivity", material.reflectivity);
        };
        FresnelForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio", "u_reflectivity"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return FresnelForBasicShaderLib;
    }(wd.EnvMapForBasicShaderLib));
    wd.FresnelForBasicShaderLib = FresnelForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EnvMapForLightShaderLib = (function (_super) {
        __extends(EnvMapForLightShaderLib, _super);
        function EnvMapForLightShaderLib() {
            _super.apply(this, arguments);
        }
        EnvMapForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        EnvMapForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_samplerCube0"]);
            this.vsSourceBody = wd.ShaderSnippet.setPos_mvp + this.getVsChunk().body;
        };
        EnvMapForLightShaderLib.prototype.setEnvMapSource = function () {
            var vs = this.getVsChunk("envMap_forLight"), fs = this.getFsChunk("envMap_forLight");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody += vs.body;
            this.setFsSource(fs);
        };
        return EnvMapForLightShaderLib;
    }(wd.EngineShaderLib));
    wd.EnvMapForLightShaderLib = EnvMapForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicEnvMapForLightShaderLib = (function (_super) {
        __extends(BasicEnvMapForLightShaderLib, _super);
        function BasicEnvMapForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "basic_forLight_envMap";
        }
        BasicEnvMapForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicEnvMapForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.BasicEnvMapForLightShaderLib = BasicEnvMapForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ReflectionForLightShaderLib = (function (_super) {
        __extends(ReflectionForLightShaderLib, _super);
        function ReflectionForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "reflection_forLight";
        }
        ReflectionForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        ReflectionForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return ReflectionForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.ReflectionForLightShaderLib = ReflectionForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RefractionForLightShaderLib = (function (_super) {
        __extends(RefractionForLightShaderLib, _super);
        function RefractionForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "refraction_forLight";
        }
        RefractionForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        RefractionForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
        };
        RefractionForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return RefractionForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.RefractionForLightShaderLib = RefractionForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FresnelForLightShaderLib = (function (_super) {
        __extends(FresnelForLightShaderLib, _super);
        function FresnelForLightShaderLib() {
            _super.apply(this, arguments);
            this.type = "fresnel_forLight";
        }
        FresnelForLightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        FresnelForLightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            if (material.reflectivity !== null) {
                this.sendUniformData(program, "u_reflectivity", material.reflectivity);
            }
            else {
                this.sendUniformData(program, "u_reflectivity", wd.ShaderChunk.NULL);
                this.sendUniformData(program, "u_refractionRatio", material.refractionRatio);
            }
        };
        FresnelForLightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_refractionRatio", "u_reflectivity"]);
            this.setEnvMapSource();
            this.setFsSource(this.getFsChunk(), "+");
        };
        return FresnelForLightShaderLib;
    }(wd.EnvMapForLightShaderLib));
    wd.FresnelForLightShaderLib = FresnelForLightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MapShaderLib = (function (_super) {
        __extends(MapShaderLib, _super);
        function MapShaderLib() {
            _super.apply(this, arguments);
        }
        MapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var texCoordBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.TEXCOORD), mapList = null, map0 = null;
            if (!texCoordBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_texCoord", texCoordBuffer);
            mapList = material.mapList;
            map0 = mapList.getChild(0);
            this.sendUniformData(program, "u_map0SourceRegion", map0.sourceRegionForGLSL);
            this.sendUniformData(program, "u_map0RepeatRegion", map0.repeatRegion);
            this.sendMapShaderVariables(program, quadCmd, material);
        };
        MapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_texCoord"]);
            this.addUniformVariable(["u_sampler2D0", "u_map0SourceRegion", "u_map0RepeatRegion"]);
            this._setMapSource();
        };
        MapShaderLib.prototype.sendMapShaderVariables = function (program, quadCmd, material) {
        };
        MapShaderLib.prototype._setMapSource = function () {
            var vs = this.getVsChunk("map_forBasic"), fs = this.getFsChunk("map_forBasic");
            this.vsSourceTop = vs.top;
            this.vsSourceDefine = vs.define;
            this.vsSourceVarDeclare = vs.varDeclare;
            this.vsSourceFuncDeclare = vs.funcDeclare;
            this.vsSourceFuncDefine = vs.funcDefine;
            this.vsSourceBody = vs.body;
            this.setFsSource(fs);
        };
        __decorate([
            wd.virtual
        ], MapShaderLib.prototype, "sendMapShaderVariables", null);
        return MapShaderLib;
    }(wd.EngineShaderLib));
    wd.MapShaderLib = MapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicMapShaderLib = (function (_super) {
        __extends(BasicMapShaderLib, _super);
        function BasicMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "map_forBasic";
        }
        BasicMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        return BasicMapShaderLib;
    }(wd.MapShaderLib));
    wd.BasicMapShaderLib = BasicMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MultiMapShaderLib = (function (_super) {
        __extends(MultiMapShaderLib, _super);
        function MultiMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "multi_map_forBasic";
        }
        MultiMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MultiMapShaderLib.prototype.sendMapShaderVariables = function (program, quadCmd, material) {
            var mapList = material.mapList, map1 = mapList.getChild(1);
            this.sendUniformData(program, "u_combineMode", material.mapCombineMode);
            this.sendUniformData(program, "u_mixRatio", material.mapMixRatio);
            this.sendUniformData(program, "u_map1SourceRegion", map1.sourceRegionForGLSL);
            this.sendUniformData(program, "u_map1RepeatRegion", map1.repeatRegion);
        };
        MultiMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                "u_sampler2D1", "u_combineMode", "u_mixRatio",
                "u_map1SourceRegion", "u_map1RepeatRegion"
            ]);
            this.vsSourceVarDeclare += this.getVsChunk().varDeclare;
            this.vsSourceBody += this.getVsChunk().body;
            this.fsSourceVarDeclare = this.getFsChunk().varDeclare;
            this.fsSourceFuncDefine = this.getFsChunk().funcDefine;
            this.fsSourceBody = this.getFsChunk().body;
        };
        return MultiMapShaderLib;
    }(wd.MapShaderLib));
    wd.MultiMapShaderLib = MultiMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorForBasicShaderLib = (function (_super) {
        __extends(MirrorForBasicShaderLib, _super);
        function MirrorForBasicShaderLib() {
            _super.apply(this, arguments);
            this.type = "mirror_forBasic";
        }
        MirrorForBasicShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        MirrorForBasicShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        MirrorForBasicShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("mirrorReflectionMap")
            ]);
        };
        return MirrorForBasicShaderLib;
    }(wd.EngineShaderLib));
    wd.MirrorForBasicShaderLib = MirrorForBasicShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProceduralShaderLib = (function (_super) {
        __extends(ProceduralShaderLib, _super);
        function ProceduralShaderLib() {
            _super.apply(this, arguments);
        }
        ProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd, null);
        };
        __decorate([
            wd.virtual
        ], ProceduralShaderLib.prototype, "setShaderDefinition", null);
        return ProceduralShaderLib;
    }(wd.EngineShaderLib));
    wd.ProceduralShaderLib = ProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightCommonShaderLib = (function (_super) {
        __extends(LightCommonShaderLib, _super);
        function LightCommonShaderLib() {
            _super.apply(this, arguments);
            this.type = "lightCommon";
        }
        LightCommonShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightCommonShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        LightCommonShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setVsSource(this.getVsChunk("light_common.glsl"));
            this.setVsSource(this.getVsChunk(), "+");
            this.setFsSource(this.getFsChunk("light_common.glsl"));
            this.setFsSource(this.getFsChunk(), "+");
        };
        return LightCommonShaderLib;
    }(wd.EngineShaderLib));
    wd.LightCommonShaderLib = LightCommonShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightShaderLib = (function (_super) {
        __extends(LightShaderLib, _super);
        function LightShaderLib() {
            _super.apply(this, arguments);
            this.type = "light";
        }
        LightShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_normalMatrix", quadCmd.normalMatrix);
            this.sendUniformData(program, "u_cameraPos", wd.Director.getInstance().scene.currentCamera.transform.position);
            this.sendUniformData(program, "u_shininess", material.shininess);
            this.sendUniformData(program, "u_opacity", material.opacity);
            this.sendUniformData(program, "u_lightModel", this._convertLightModelToGLSLVariable(material.lightModel));
            this._sendLightVariables(program);
        };
        LightShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_normalMatrix", "u_cameraPos", "u_shininess", "u_ambient", "u_opacity", "u_isBothSide", "u_lightModel"]);
            this._setLightDefinition(material);
        };
        LightShaderLib.prototype._sendLightVariables = function (program) {
            var scene = wd.Director.getInstance().scene, directionLights = scene.directionLights, ambientLight = scene.ambientLight, pointLights = scene.pointLights;
            if (ambientLight) {
                this.sendUniformData(program, "u_ambient", ambientLight.getComponent(wd.AmbientLight).color.toVector4());
            }
            if (pointLights) {
                this._sendPointLightVariables(program, pointLights);
            }
            if (directionLights) {
                this._sendDirectionLightVariables(program, directionLights);
            }
        };
        LightShaderLib.prototype._sendPointLightVariables = function (program, pointLights) {
            pointLights.forEach(function (pointLight, index) {
                var lightComponent = pointLight.getComponent(wd.PointLight);
                program.sendStructureData("u_pointLights[" + index + "].position", wd.EVariableType.FLOAT_3, lightComponent.position);
                program.sendStructureData("u_pointLights[" + index + "].color", wd.EVariableType.FLOAT_4, lightComponent.color.toVector4());
                program.sendStructureData("u_pointLights[" + index + "].intensity", wd.EVariableType.FLOAT_1, lightComponent.intensity);
                program.sendStructureData("u_pointLights[" + index + "].constant", wd.EVariableType.FLOAT_1, lightComponent.constant);
                program.sendStructureData("u_pointLights[" + index + "].linear", wd.EVariableType.FLOAT_1, lightComponent.linear);
                program.sendStructureData("u_pointLights[" + index + "].quadratic", wd.EVariableType.FLOAT_1, lightComponent.quadratic);
                if (lightComponent.range !== null) {
                    program.sendStructureData("u_pointLights[" + index + "].range", wd.EVariableType.FLOAT_1, lightComponent.range);
                }
                else {
                    program.sendStructureData("u_pointLights[" + index + "].range", wd.EVariableType.FLOAT_1, wd.ShaderChunk.NULL);
                }
            });
        };
        LightShaderLib.prototype._sendDirectionLightVariables = function (program, directionLights) {
            var self = this;
            directionLights.forEach(function (directionLight, index) {
                var lightComponent = directionLight.getComponent(wd.DirectionLight);
                if (self._isZero(lightComponent.position)) {
                    program.sendStructureData("u_directionLights[" + index + "].position", wd.EVariableType.FLOAT_3, wd.DirectionLight.defaultPosition);
                }
                else {
                    program.sendStructureData("u_directionLights[" + index + "].position", wd.EVariableType.FLOAT_3, lightComponent.position);
                }
                program.sendStructureData("u_directionLights[" + index + "].color", wd.EVariableType.FLOAT_4, lightComponent.color.toVector4());
                program.sendStructureData("u_directionLights[" + index + "].intensity", wd.EVariableType.FLOAT_1, lightComponent.intensity);
            });
        };
        LightShaderLib.prototype._isZero = function (position) {
            var val = position.values;
            return val[0] === 0 && val[1] === 0 && val[2] === 0;
        };
        LightShaderLib.prototype._setLightDefinition = function (material) {
            var scene = wd.Director.getInstance().scene, directionLights = scene.directionLights, pointLights = scene.pointLights, direction_lights_count = 0, point_lights_count = 0;
            if (directionLights) {
                this.addUniformVariable(["u_directionLights"]);
                direction_lights_count = directionLights.getCount();
            }
            if (pointLights) {
                this.addUniformVariable(["u_pointLights"]);
                point_lights_count = pointLights.getCount();
            }
            this._addDefine(this.vsSourceDefineList, direction_lights_count, point_lights_count);
            this._addDefine(this.fsSourceDefineList, direction_lights_count, point_lights_count);
            if (material.side === wd.ESide.BOTH) {
                this.fsSourceDefineList.addChildren([{
                        name: "BOTH_SIDE"
                    }]);
            }
        };
        LightShaderLib.prototype._addDefine = function (list, direction_lights_count, point_lights_count) {
            list.addChildren([{
                    name: "DIRECTION_LIGHTS_COUNT",
                    value: direction_lights_count
                }, {
                    name: "POINT_LIGHTS_COUNT",
                    value: point_lights_count
                }]);
        };
        LightShaderLib.prototype._convertLightModelToGLSLVariable = function (lightModel) {
            switch (lightModel) {
                case wd.ELightModel.BLINN:
                    return 1;
                case wd.ELightModel.PHONG:
                    return 2;
                case wd.ELightModel.CONSTANT:
                    return 3;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("lightModel:" + lightModel));
                    break;
            }
        };
        __decorate([
            wd.require(function (lightModel) {
                wd.assert(lightModel !== wd.ELightModel.LAMBERT, wd.Log.info.FUNC_SHOULD_NOT("lightModel", "=== ELightModel.LAMBERT"));
            })
        ], LightShaderLib.prototype, "_convertLightModelToGLSLVariable", null);
        return LightShaderLib;
    }(wd.EngineShaderLib));
    wd.LightShaderLib = LightShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightEndShaderLib = (function (_super) {
        __extends(LightEndShaderLib, _super);
        function LightEndShaderLib() {
            _super.apply(this, arguments);
            this.type = "lightEnd";
        }
        LightEndShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightEndShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return LightEndShaderLib;
    }(wd.EngineShaderLib));
    wd.LightEndShaderLib = LightEndShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BaseLightMapShaderLib = (function (_super) {
        __extends(BaseLightMapShaderLib, _super);
        function BaseLightMapShaderLib() {
            _super.apply(this, arguments);
        }
        BaseLightMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return BaseLightMapShaderLib;
    }(wd.EngineShaderLib));
    wd.BaseLightMapShaderLib = BaseLightMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonLightMapShaderLib = (function (_super) {
        __extends(CommonLightMapShaderLib, _super);
        function CommonLightMapShaderLib() {
            _super.apply(this, arguments);
        }
        CommonLightMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonLightMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var texCoordBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.TEXCOORD);
            if (!texCoordBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_texCoord", texCoordBuffer);
        };
        CommonLightMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_texCoord"]);
        };
        return CommonLightMapShaderLib;
    }(wd.EngineShaderLib));
    wd.CommonLightMapShaderLib = CommonLightMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightMapShaderLib = (function (_super) {
        __extends(LightMapShaderLib, _super);
        function LightMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "lightMap";
        }
        LightMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        LightMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_lightMapIntensity", material.lightMapIntensity);
        };
        LightMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("lightMap"), "u_lightMapIntensity"
            ]);
        };
        return LightMapShaderLib;
    }(wd.BaseLightMapShaderLib));
    wd.LightMapShaderLib = LightMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DiffuseMapShaderLib = (function (_super) {
        __extends(DiffuseMapShaderLib, _super);
        function DiffuseMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "diffuseMap";
        }
        DiffuseMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        DiffuseMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var diffuseMap = material.diffuseMap;
            this.sendUniformData(program, "u_diffuseSourceRegion", diffuseMap.sourceRegionForGLSL);
            this.sendUniformData(program, "u_diffuseRepeatRegion", diffuseMap.repeatRegion);
            return this;
        };
        DiffuseMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("diffuseMap"),
                "u_diffuseSourceRegion", "u_diffuseRepeatRegion"
            ]);
        };
        __decorate([
            wd.require(function (program, quadCmd, material) {
                var diffuseMap = material.diffuseMap;
                wd.assert(!!diffuseMap, wd.Log.info.FUNC_MUST_DEFINE("diffuseMap"));
                wd.assert(!!diffuseMap.sourceRegionForGLSL && !!diffuseMap.repeatRegion, wd.Log.info.FUNC_SHOULD("material.diffuseMap", "has sourceRegionForGLSL,repeatRegion data"));
            })
        ], DiffuseMapShaderLib.prototype, "sendShaderVariables", null);
        return DiffuseMapShaderLib;
    }(wd.BaseLightMapShaderLib));
    wd.DiffuseMapShaderLib = DiffuseMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SpecularMapShaderLib = (function (_super) {
        __extends(SpecularMapShaderLib, _super);
        function SpecularMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "specularMap";
        }
        SpecularMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        SpecularMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("specularMap")
            ]);
        };
        return SpecularMapShaderLib;
    }(wd.BaseLightMapShaderLib));
    wd.SpecularMapShaderLib = SpecularMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EmissionMapShaderLib = (function (_super) {
        __extends(EmissionMapShaderLib, _super);
        function EmissionMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "emissionMap";
        }
        EmissionMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        EmissionMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("emissionMap")
            ]);
        };
        return EmissionMapShaderLib;
    }(wd.BaseLightMapShaderLib));
    wd.EmissionMapShaderLib = EmissionMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NormalMapShaderLib = (function (_super) {
        __extends(NormalMapShaderLib, _super);
        function NormalMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "normalMap";
        }
        NormalMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NormalMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            var tangentBuffer = null;
            _super.prototype.sendShaderVariables.call(this, program, quadCmd, material);
            tangentBuffer = quadCmd.buffers.getChild(wd.EBufferDataType.TANGENT);
            if (!tangentBuffer) {
                return;
            }
            this.sendAttributeData(program, "a_tangent", tangentBuffer);
        };
        NormalMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addAttributeVariable(["a_tangent"]);
            this.addUniformVariable([
                wd.VariableNameTable.getVariableName("normalMap")
            ]);
        };
        return NormalMapShaderLib;
    }(wd.BaseLightMapShaderLib));
    wd.NormalMapShaderLib = NormalMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoLightMapShaderLib = (function (_super) {
        __extends(NoLightMapShaderLib, _super);
        function NoLightMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noLightMap";
        }
        NoLightMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoLightMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return NoLightMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoLightMapShaderLib = NoLightMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoDiffuseMapShaderLib = (function (_super) {
        __extends(NoDiffuseMapShaderLib, _super);
        function NoDiffuseMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noDiffuseMap";
        }
        NoDiffuseMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoDiffuseMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_diffuse", material.color.toVector4());
        };
        NoDiffuseMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_diffuse"]);
        };
        return NoDiffuseMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoDiffuseMapShaderLib = NoDiffuseMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoSpecularMapShaderLib = (function (_super) {
        __extends(NoSpecularMapShaderLib, _super);
        function NoSpecularMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noSpecularMap";
        }
        NoSpecularMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoSpecularMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_specular", material.specularColor.toVector4());
        };
        NoSpecularMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_specular"]);
        };
        return NoSpecularMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoSpecularMapShaderLib = NoSpecularMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoEmissionMapShaderLib = (function (_super) {
        __extends(NoEmissionMapShaderLib, _super);
        function NoEmissionMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noEmissionMap";
        }
        NoEmissionMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoEmissionMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_emission", material.emissionColor.toVector4());
        };
        NoEmissionMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_emission"]);
        };
        return NoEmissionMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoEmissionMapShaderLib = NoEmissionMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoNormalMapShaderLib = (function (_super) {
        __extends(NoNormalMapShaderLib, _super);
        function NoNormalMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noNormalMap";
        }
        NoNormalMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoNormalMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return NoNormalMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoNormalMapShaderLib = NoNormalMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildShadowMapShaderLib = (function (_super) {
        __extends(BuildShadowMapShaderLib, _super);
        function BuildShadowMapShaderLib() {
            _super.apply(this, arguments);
        }
        BuildShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.setFsSource(this.getFsChunk("commonBuildShadowMap_fragment.glsl"));
            this.setFsSource(this.getFsChunk(), "+");
        };
        return BuildShadowMapShaderLib;
    }(wd.EngineShaderLib));
    wd.BuildShadowMapShaderLib = BuildShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildTwoDShadowMapShaderLib = (function (_super) {
        __extends(BuildTwoDShadowMapShaderLib, _super);
        function BuildTwoDShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "buildTwoDShadowMap";
        }
        BuildTwoDShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BuildTwoDShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_vpMatrixFromLight", material.buildTwoDShadowMapData.vpMatrixFromLight);
        };
        BuildTwoDShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                "u_vpMatrixFromLight"
            ]);
        };
        return BuildTwoDShadowMapShaderLib;
    }(wd.BuildShadowMapShaderLib));
    wd.BuildTwoDShadowMapShaderLib = BuildTwoDShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BuildCubemapShadowMapShaderLib = (function (_super) {
        __extends(BuildCubemapShadowMapShaderLib, _super);
        function BuildCubemapShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "buildCubemapShadowMap";
        }
        BuildCubemapShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        BuildCubemapShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            this.sendUniformData(program, "u_lightPos", material.buildCubemapShadowMapData.lightPos);
            this.sendUniformData(program, "u_farPlane", material.buildCubemapShadowMapData.farPlane);
        };
        BuildCubemapShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable([
                "u_lightPos", "u_farPlane"
            ]);
        };
        return BuildCubemapShadowMapShaderLib;
    }(wd.BuildShadowMapShaderLib));
    wd.BuildCubemapShadowMapShaderLib = BuildCubemapShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TotalShadowMapShaderLib = (function (_super) {
        __extends(TotalShadowMapShaderLib, _super);
        function TotalShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "totalShadowMap";
        }
        TotalShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        TotalShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return TotalShadowMapShaderLib;
    }(wd.EngineShaderLib));
    wd.TotalShadowMapShaderLib = TotalShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapShaderLib = (function (_super) {
        __extends(ShadowMapShaderLib, _super);
        function ShadowMapShaderLib() {
            _super.apply(this, arguments);
            this._softTypeChangeSubscription = null;
        }
        ShadowMapShaderLib.prototype.init = function () {
            var shader = this.shader;
            this._softTypeChangeSubscription = wd.EventManager.fromEvent(wd.Director.getInstance().scene.gameObjectScene, wd.EEngineEvent.SHADOWMAP_SOFTTYPE_CHANGE)
                .subscribe(function () {
                shader.libDirty = true;
            });
        };
        ShadowMapShaderLib.prototype.dispose = function () {
            this._softTypeChangeSubscription && this._softTypeChangeSubscription.dispose();
        };
        ShadowMapShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this._setShadowMapSource();
        };
        ShadowMapShaderLib.prototype._setShadowMapSource = function () {
            var scene = wd.Director.getInstance().scene, twoDShadowMapCount = scene.directionLights ? scene.directionLights.filter(function (light) {
                return light.getComponent(wd.DirectionLight).castShadow;
            }).getCount() : 0, cubemapShadowMapCount = scene.pointLights ? scene.pointLights.filter(function (light) {
                return light.getComponent(wd.PointLight).castShadow;
            }).getCount() : 0;
            if (scene.shadowMap.softType === wd.EShadowMapSoftType.PCF) {
                this.fsSourceDefineList.addChildren([{
                        name: "SHADOWMAP_TYPE_PCF"
                    }]);
            }
            this.vsSourceDefineList.addChild({
                name: "TWOD_SHADOWMAP_COUNT",
                value: twoDShadowMapCount
            });
            this.fsSourceDefineList.addChildren([
                {
                    name: "TWOD_SHADOWMAP_COUNT",
                    value: twoDShadowMapCount
                },
                {
                    name: "CUBEMAP_SHADOWMAP_COUNT",
                    value: cubemapShadowMapCount
                },
            ]);
        };
        return ShadowMapShaderLib;
    }(wd.EngineShaderLib));
    wd.ShadowMapShaderLib = ShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapShaderLib = (function (_super) {
        __extends(TwoDShadowMapShaderLib, _super);
        function TwoDShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "twoDShadowMap";
        }
        TwoDShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        TwoDShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            material.twoDShadowMapDatas.forEach(function (data, index) {
                program.sendStructureData("u_vpMatrixFromLight[" + index + "]", wd.EVariableType.FLOAT_MAT4, data.vpMatrixFromLight);
                program.sendStructureData("u_twoDShadowSize[" + index + "]", wd.EVariableType.FLOAT_2, data.shadowSize);
                program.sendStructureData("u_twoDShadowBias[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowBias);
                program.sendStructureData("u_twoDShadowDarkness[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowDarkness);
                program.sendStructureData("u_twoDLightPos[" + index + "]", wd.EVariableType.FLOAT_3, data.lightPos);
            });
        };
        return TwoDShadowMapShaderLib;
    }(wd.ShadowMapShaderLib));
    wd.TwoDShadowMapShaderLib = TwoDShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapShaderLib = (function (_super) {
        __extends(CubemapShadowMapShaderLib, _super);
        function CubemapShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "cubemapShadowMap";
        }
        CubemapShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CubemapShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
            material.cubemapShadowMapDatas.forEach(function (data, index) {
                program.sendStructureData("u_cubemapLightPos[" + index + "]", wd.EVariableType.FLOAT_3, data.lightPos);
                program.sendStructureData("u_farPlane[" + index + "]", wd.EVariableType.FLOAT_1, data.farPlane);
                program.sendStructureData("u_cubemapShadowBias[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowBias);
                program.sendStructureData("u_cubemapShadowDarkness[" + index + "]", wd.EVariableType.FLOAT_1, data.shadowDarkness);
            });
        };
        return CubemapShadowMapShaderLib;
    }(wd.ShadowMapShaderLib));
    wd.CubemapShadowMapShaderLib = CubemapShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var NoShadowMapShaderLib = (function (_super) {
        __extends(NoShadowMapShaderLib, _super);
        function NoShadowMapShaderLib() {
            _super.apply(this, arguments);
            this.type = "noShadowMap";
        }
        NoShadowMapShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        NoShadowMapShaderLib.prototype.sendShaderVariables = function (program, quadCmd, material) {
        };
        return NoShadowMapShaderLib;
    }(wd.EngineShaderLib));
    wd.NoShadowMapShaderLib = NoShadowMapShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomShaderLibUtils = (function () {
        function CustomShaderLibUtils() {
        }
        CustomShaderLibUtils.sendUniformData = function (name, type, value, program) {
            if (type === wd.EVariableType.STRUCTURE) {
                this._sendStructureData(name, value, program);
            }
            else {
                program.sendUniformData(name, type, value);
            }
        };
        CustomShaderLibUtils.sendUniformDataWithSemantic = function (name, type, value, program, cmd) {
            if (type === wd.EVariableType.STRUCTURE) {
                this._sendStructureDataWithSemantic(name, value, program, cmd);
            }
            else {
                program.sendUniformData(name, type, this._getUniformData(value, cmd));
            }
        };
        CustomShaderLibUtils.sendAttributeDataWithSemantic = function (name, type, value, program, cmd) {
            program.sendAttributeData(name, this._getAttributeType(type), this._getAttributeData(value, type, cmd));
        };
        CustomShaderLibUtils._sendStructureData = function (name, data, program) {
            for (var fieldName in data) {
                if (data.hasOwnProperty(fieldName)) {
                    var fieldValue = data[fieldName];
                    program.sendStructureData(name + "." + fieldName, fieldValue.type, fieldValue.value);
                }
            }
        };
        CustomShaderLibUtils._sendStructureDataWithSemantic = function (name, data, program, cmd) {
            for (var fieldName in data) {
                if (data.hasOwnProperty(fieldName)) {
                    var fieldValue = data[fieldName];
                    program.sendStructureData(name + "." + fieldName, fieldValue.type, this._getUniformData(fieldValue.value, cmd));
                }
            }
        };
        CustomShaderLibUtils._getAttributeData = function (data, type, cmd) {
            switch (data) {
                case wd.EVariableSemantic.POSITION:
                    return cmd.buffers.getChild(wd.EBufferDataType.VERTICE);
                case wd.EVariableSemantic.TEXCOORD:
                    return cmd.buffers.getChild(wd.EBufferDataType.TEXCOORD);
                case wd.EVariableSemantic.COLOR:
                    return cmd.buffers.getChild(wd.EBufferDataType.COLOR);
                case wd.EVariableSemantic.NORMAL:
                    return cmd.buffers.getChild(wd.EBufferDataType.NORMAL);
                case wd.EVariableSemantic.TANGENT:
                    return cmd.buffers.getChild(wd.EBufferDataType.TANGENT);
                default:
                    return data;
            }
        };
        CustomShaderLibUtils._getAttributeType = function (type) {
            return wd.EVariableType.BUFFER;
        };
        CustomShaderLibUtils._getUniformData = function (data, cmd) {
            switch (data) {
                case wd.EVariableSemantic.MODEL:
                    return cmd.mMatrix;
                case wd.EVariableSemantic.VIEW:
                    return cmd.vMatrix;
                case wd.EVariableSemantic.PROJECTION:
                    return cmd.pMatrix;
                case wd.EVariableSemantic.MODEL_VIEW_PROJECTION:
                    return cmd.mvpMatrix;
                case wd.EVariableSemantic.MODEL_INVERSE:
                    return cmd.mMatrix.copy().invert();
                case wd.EVariableSemantic.VIEW_INVERSE:
                    return cmd.vMatrix.copy().invert();
                case wd.EVariableSemantic.PROJECTION_INVERSE:
                    return cmd.pMatrix.copy().invert();
                case wd.EVariableSemantic.MODEL_VIEW_INVERSE:
                    return cmd.mMatrix.applyMatrix(cmd.vMatrix, true).invert();
                case wd.EVariableSemantic.MODEL_VIEW_PROJECTION_INVERSE:
                    return cmd.mMatrix.applyMatrix(cmd.vMatrix, true).applyMatrix(cmd.pMatrix, false).invert();
                case wd.EVariableSemantic.MODEL_INVERSE_TRANSPOSE:
                    return cmd.normalMatrix;
                case wd.EVariableSemantic.MODEL_VIEW_INVERSE_TRANSPOSE:
                    return cmd.mMatrix.applyMatrix(cmd.vMatrix, true).invertTo3x3().transpose();
                case wd.EVariableSemantic.VIEWPORT:
                    return wd.DeviceManager.getInstance().viewport;
                default:
                    return data;
            }
        };
        __decorate([
            wd.require(function (name, type, value, program) {
                wd.assert(type !== wd.EVariableType.SAMPLER_2D && type !== wd.EVariableType.SAMPLER_CUBE, wd.Log.info.FUNC_SHOULD_NOT("type", "be SAMPLER_2D or SAMPLER_CUBE, but actual is " + type));
                wd.assert(type !== wd.EVariableType.STRUCTURES, wd.Log.info.FUNC_NOT_SUPPORT("type === STRUCTURES"));
                if (type === wd.EVariableType.STRUCTURE) {
                    wd.assert(wd.JudgeUtils.isDirectObject(value), wd.Log.info.FUNC_MUST_BE("value", "object when type === STRUCTURE"));
                }
            })
        ], CustomShaderLibUtils, "sendUniformData", null);
        __decorate([
            wd.require(function (name, type, value, program, cmd) {
                wd.assert(type !== wd.EVariableType.SAMPLER_2D && type !== wd.EVariableType.SAMPLER_CUBE, wd.Log.info.FUNC_SHOULD_NOT("type", "be SAMPLER_2D or SAMPLER_CUBE, but actual is " + type));
                wd.assert(type !== wd.EVariableType.STRUCTURES, wd.Log.info.FUNC_NOT_SUPPORT("type === STRUCTURES"));
                if (type === wd.EVariableType.STRUCTURE) {
                    wd.assert(wd.JudgeUtils.isDirectObject(value), wd.Log.info.FUNC_MUST_BE("value", "object when type === STRUCTURE"));
                }
            })
        ], CustomShaderLibUtils, "sendUniformDataWithSemantic", null);
        __decorate([
            wd.require(function (data, type, cmd) {
                wd.assert(data !== "INDICE", wd.Log.info.FUNC_NOT_SUPPORT("semantic:INDICE"));
                switch (data) {
                    case "POSITION":
                    case "COLOR":
                    case "NORMAL":
                    case "TANGENT":
                        wd.assert(type === wd.EVariableType.FLOAT_3, wd.Log.info.FUNC_SHOULD("type", "be EVariableType.FLOAT_3"));
                        break;
                    case "TEXCOORD":
                        wd.assert(type === wd.EVariableType.FLOAT_2, wd.Log.info.FUNC_SHOULD("type", "be EVariableType.FLOAT_2"));
                        break;
                }
            }),
            wd.ensure(function (data) {
                wd.assert(data && data instanceof wd.Buffer, wd.Log.info.FUNC_SHOULD("attributeData", "be Buffer, but actual is " + data));
            })
        ], CustomShaderLibUtils, "_getAttributeData", null);
        return CustomShaderLibUtils;
    }());
    wd.CustomShaderLibUtils = CustomShaderLibUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderSnippet = (function () {
        function ShaderSnippet() {
        }
        ShaderSnippet.main_begin = "void main(void){\n";
        ShaderSnippet.main_end = "}\n";
        ShaderSnippet.setPos_mvp = "gl_Position = u_pMatrix * u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\n";
        return ShaderSnippet;
    }());
    wd.ShaderSnippet = ShaderSnippet;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Material = (function () {
        function Material() {
            this._blendType = null;
            this._blendSrc = wd.EBlendFunc.ONE;
            this._blendDst = wd.EBlendFunc.ZERO;
            this._blendEquation = wd.EBlendEquation.ADD;
            this._color = wd.Color.create("#ffffff");
            this.shader = this.createShader();
            this.redWrite = true;
            this.greenWrite = true;
            this.blueWrite = true;
            this.alphaWrite = true;
            this.polygonOffsetMode = wd.EPolygonOffsetMode.NONE;
            this.side = wd.ESide.FRONT;
            this.blend = false;
            this.blendFuncSeparate = null;
            this.blendEquationSeparate = [wd.EBlendEquation.ADD, wd.EBlendEquation.ADD];
            this.shading = wd.EShading.FLAT;
            this.mapManager = wd.MapManager.create(this);
            this.geometry = null;
        }
        Object.defineProperty(Material.prototype, "program", {
            get: function () {
                return this.shader.program;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendType", {
            get: function () {
                if (this._blendType) {
                    return this._blendType;
                }
                if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ZERO)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.NONE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.SRC_ALPHA)
                    && (this.blendDst === wd.EBlendFunc.ONE_MINUS_SRC_ALPHA)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.NORMAL;
                }
                else if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ONE)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.ADDITIVE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.SRC_ALPHA)
                    && (this.blendDst === wd.EBlendFunc.ONE)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.ADDITIVEALPHA;
                }
                else if ((this.blendSrc === wd.EBlendFunc.DST_COLOR)
                    && (this.blendDst === wd.EBlendFunc.ZERO)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.MULTIPLICATIVE;
                }
                else if ((this.blendSrc === wd.EBlendFunc.ONE)
                    && (this.blendDst === wd.EBlendFunc.ONE_MINUS_SRC_ALPHA)
                    && (this.blendEquation === wd.EBlendEquation.ADD)) {
                    return wd.EBlendType.PREMULTIPLIED;
                }
                else {
                    return wd.EBlendType.NORMAL;
                }
            },
            set: function (blendType) {
                switch (blendType) {
                    case wd.EBlendType.NONE:
                        this.blend = false;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ZERO;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.NORMAL:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.SRC_ALPHA;
                        this.blendDst = wd.EBlendFunc.ONE_MINUS_SRC_ALPHA;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.PREMULTIPLIED:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ONE_MINUS_SRC_ALPHA;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.ADDITIVE:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.ONE;
                        this.blendDst = wd.EBlendFunc.ONE;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.ADDITIVEALPHA:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.SRC_ALPHA;
                        this.blendDst = wd.EBlendFunc.ONE;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    case wd.EBlendType.MULTIPLICATIVE:
                        this.blend = true;
                        this.blendSrc = wd.EBlendFunc.DST_COLOR;
                        this.blendDst = wd.EBlendFunc.ZERO;
                        this.blendEquation = wd.EBlendEquation.ADD;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_INVALID("blendType"));
                        break;
                }
                this._blendType = blendType;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "envMap", {
            get: function () {
                return this.mapManager.getEnvMap();
            },
            set: function (envMap) {
                this.mapManager.setEnvMap(envMap);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendSrc", {
            get: function () {
                return this._blendSrc;
            },
            set: function (blendSrc) {
                this._blendSrc = blendSrc;
                this.blendFuncSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendDst", {
            get: function () {
                return this._blendDst;
            },
            set: function (blendDst) {
                this._blendDst = blendDst;
                this.blendFuncSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "blendEquation", {
            get: function () {
                return this._blendEquation;
            },
            set: function (blendEquation) {
                this._blendEquation = blendEquation;
                this.blendEquationSeparate = null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Material.prototype, "color", {
            get: function () {
                return this._color;
            },
            set: function (color) {
                if (!this._isColorEqual(color, this._color)) {
                    if (this.geometry && this.geometry.entityObject) {
                        wd.EventManager.trigger(this.geometry.entityObject, wd.EEngineEvent.MATERIAL_COLOR_CHANGE);
                    }
                    this._color = color;
                }
            },
            enumerable: true,
            configurable: true
        });
        Material.prototype.init = function () {
            this.shader.init(this);
            this.mapManager.init();
        };
        Material.prototype.dispose = function () {
            this.shader.dispose();
            this.mapManager.dispose();
        };
        Material.prototype.bindAndUpdateTexture = function () {
            this.mapManager.bindAndUpdate();
        };
        Material.prototype.sendTexture = function (program) {
            this.mapManager.sendData(program);
        };
        Material.prototype.updateShader = function (quadCmd) {
            var scene = wd.Director.getInstance().scene;
            if (scene.isUseProgram) {
                scene.shader.update(quadCmd, this);
            }
            else {
                this.shader.update(quadCmd, this);
            }
        };
        Material.prototype._isColorEqual = function (color1, color2) {
            return color1.r === color2.r && color1.g === color2.g && color1.b === color2.b && color1.a === color2.a;
        };
        return Material;
    }());
    wd.Material = Material;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var EngineMaterial = (function (_super) {
        __extends(EngineMaterial, _super);
        function EngineMaterial() {
            _super.apply(this, arguments);
            this.refractionRatio = 0;
            this.reflectivity = null;
            this.mapCombineMode = wd.ETextureCombineMode.MIX;
            this.mapMixRatio = 0.5;
        }
        EngineMaterial.prototype.init = function () {
            this._addTopShaderLib();
            this.addShaderLib();
            _super.prototype.init.call(this);
        };
        EngineMaterial.prototype.addShaderLib = function () {
        };
        EngineMaterial.prototype.addNormalShaderLib = function () {
            if (this._hasAnimation() && !this.shader.hasLib(wd.MorphNormalShaderLib)) {
                this._addShaderLibToTop(wd.MorphNormalShaderLib.create());
            }
            else if (!this.shader.hasLib(wd.CommonNormalShaderLib)) {
                this._addShaderLibToTop(wd.CommonNormalShaderLib.create());
            }
        };
        EngineMaterial.prototype.setBlendByOpacity = function (opacity) {
            if (opacity < 1.0 && opacity >= 0.0) {
                this.blend = true;
            }
            else {
                this.blend = false;
            }
        };
        EngineMaterial.prototype.createShader = function () {
            return wd.CommonShader.create();
        };
        EngineMaterial.prototype._addTopShaderLib = function () {
            this.shader.addLib(wd.CommonShaderLib.create());
            if (this._hasAnimation()) {
                this.shader.addLib(wd.MorphCommonShaderLib.create());
                this.shader.addLib(wd.MorphVerticeShaderLib.create());
            }
            else {
                this.shader.addLib(wd.CommonVerticeShaderLib.create());
            }
        };
        EngineMaterial.prototype._addShaderLibToTop = function (lib) {
            this.shader.addShaderLibToTop(lib);
        };
        EngineMaterial.prototype._hasAnimation = function () {
            if (this.geometry instanceof wd.ModelGeometry) {
                var geo = (this.geometry);
                return geo.hasAnimation();
            }
            return false;
        };
        __decorate([
            wd.require(function () {
                wd.assert(!(this.mirrorMap && this.envMap), wd.Log.info.FUNC_SHOULD_NOT("mirrorMap and envMap", "be set both"));
            })
        ], EngineMaterial.prototype, "init", null);
        __decorate([
            wd.virtual
        ], EngineMaterial.prototype, "addShaderLib", null);
        return EngineMaterial;
    }(wd.Material));
    wd.EngineMaterial = EngineMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicMaterial = (function (_super) {
        __extends(BasicMaterial, _super);
        function BasicMaterial() {
            _super.apply(this, arguments);
            this._opacity = 1.0;
        }
        BasicMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(BasicMaterial.prototype, "mapList", {
            get: function () {
                return this.mapManager.getMapList();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicMaterial.prototype, "map", {
            set: function (map) {
                if (map instanceof wd.Texture || map instanceof wd.TextureAsset) {
                    this.mapManager.addMap(map);
                }
                else {
                    var mapArr = arguments[0];
                    for (var _i = 0, mapArr_1 = mapArr; _i < mapArr_1.length; _i++) {
                        var m = mapArr_1[_i];
                        this.mapManager.addMap(m);
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicMaterial.prototype, "mirrorMap", {
            get: function () {
                return this.mapManager.getMirrorMap();
            },
            set: function (mirrorMap) {
                this.mapManager.setMirrorMap(mirrorMap);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicMaterial.prototype, "opacity", {
            get: function () {
                return this._opacity;
            },
            set: function (opacity) {
                this.setBlendByOpacity(opacity);
                this._opacity = opacity;
            },
            enumerable: true,
            configurable: true
        });
        BasicMaterial.prototype.addShaderLib = function () {
            var envMap = null;
            this.shader.addLib(wd.BasicShaderLib.create());
            this._setMapShaderLib();
            envMap = this.envMap;
            if (envMap) {
                this._setEnvMapShaderLib(envMap);
            }
            this._setMirrorMapShaderLib();
            this.shader.addLib(wd.BasicEndShaderLib.create());
        };
        BasicMaterial.prototype._setMapShaderLib = function () {
            var mapManager = this.mapManager, mapCount = mapManager.getMapCount();
            if (mapCount > 0) {
                if (mapCount > 1) {
                    this.shader.addLib(wd.MultiMapShaderLib.create());
                }
                else {
                    this.shader.addLib(wd.BasicMapShaderLib.create());
                }
            }
        };
        BasicMaterial.prototype._setEnvMapShaderLib = function (envMap) {
            this.addNormalShaderLib();
            switch (envMap.mode) {
                case wd.EEnvMapMode.BASIC:
                    this.shader.addLib(wd.BasicEnvMapForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFLECTION:
                    this.shader.addLib(wd.ReflectionForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFRACTION:
                    this.shader.addLib(wd.RefractionForBasicShaderLib.create());
                    break;
                case wd.EEnvMapMode.FRESNEL:
                    this.shader.addLib(wd.FresnelForBasicShaderLib.create());
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EEnvMapMode"));
                    break;
            }
        };
        BasicMaterial.prototype._setMirrorMapShaderLib = function () {
            if (this.mirrorMap) {
                this.shader.addLib(wd.MirrorForBasicShaderLib.create());
            }
        };
        __decorate([
            wd.ensureGetter(function (mapList) {
                wd.assert(mapList.getCount() <= 2, wdCb.Log.info.FUNC_SUPPORT("only", "map.count <= 2"));
            })
        ], BasicMaterial.prototype, "mapList", null);
        __decorate([
            wd.requireSetter(function (map) {
                if (map instanceof wd.Texture || map instanceof wd.TextureAsset) {
                }
                else {
                    var mapArr = arguments[0];
                    wdCb.Log.error(mapArr.length > 2, wdCb.Log.info.FUNC_SUPPORT("only", "map.count <= 2"));
                }
            })
        ], BasicMaterial.prototype, "map", null);
        return BasicMaterial;
    }(wd.EngineMaterial));
    wd.BasicMaterial = BasicMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var SkyboxMaterial = (function (_super) {
        __extends(SkyboxMaterial, _super);
        function SkyboxMaterial() {
            _super.apply(this, arguments);
        }
        SkyboxMaterial.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        SkyboxMaterial.prototype.initWhenCreate = function () {
            this.side = wd.ESide.BACK;
        };
        SkyboxMaterial.prototype.addShaderLib = function () {
            this.shader.addLib(wd.SkyboxShaderLib.create());
        };
        return SkyboxMaterial;
    }(wd.EngineMaterial));
    wd.SkyboxMaterial = SkyboxMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LightMaterial = (function (_super) {
        __extends(LightMaterial, _super);
        function LightMaterial() {
            _super.apply(this, arguments);
            this._lightMap = null;
            this._diffuseMap = null;
            this._specularMap = null;
            this._emissionMap = null;
            this._normalMap = null;
            this._shininess = 32;
            this._opacity = 1.0;
            this.lightModel = wd.ELightModel.PHONG;
            this.twoDShadowMapDatas = wdCb.Collection.create();
            this.cubemapShadowMapDatas = wdCb.Collection.create();
            this.buildTwoDShadowMapData = null;
            this.buildCubemapShadowMapData = null;
            this.specularColor = wd.Color.create("#ffffff");
            this.emissionColor = wd.Color.create("rgba(0,0,0,0)");
            this.lightMapIntensity = 1;
            this._twoDShadowMapSamplerIndex = 0;
            this._cubemapShadowMapSamplerIndex = 0;
        }
        LightMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(LightMaterial.prototype, "lightMap", {
            get: function () {
                return this._lightMap;
            },
            set: function (lightMap) {
                this.mapManager.addMap(lightMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("lightMap")
                });
                this._lightMap = lightMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "diffuseMap", {
            get: function () {
                return this._diffuseMap;
            },
            set: function (diffuseMap) {
                this.mapManager.addMap(diffuseMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("diffuseMap")
                });
                this._diffuseMap = diffuseMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "specularMap", {
            get: function () {
                return this._specularMap;
            },
            set: function (specularMap) {
                this.mapManager.addMap(specularMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("specularMap")
                });
                this._specularMap = specularMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "emissionMap", {
            get: function () {
                return this._emissionMap;
            },
            set: function (emissionMap) {
                this.mapManager.addMap(emissionMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("emissionMap")
                });
                this._emissionMap = emissionMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "normalMap", {
            get: function () {
                return this._normalMap;
            },
            set: function (normalMap) {
                this.mapManager.addMap(normalMap, {
                    samplerVariableName: wd.VariableNameTable.getVariableName("normalMap")
                });
                this._normalMap = normalMap;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "shininess", {
            get: function () {
                if (Number(this._shininess) <= 0) {
                    return 32;
                }
                return this._shininess;
            },
            set: function (shininess) {
                this._shininess = shininess;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LightMaterial.prototype, "opacity", {
            get: function () {
                return this._opacity;
            },
            set: function (opacity) {
                this.setBlendByOpacity(opacity);
                this._opacity = opacity;
            },
            enumerable: true,
            configurable: true
        });
        LightMaterial.prototype.addTwoDShadowMap = function (shadowMap) {
            this.mapManager.addMap(shadowMap, {
                samplerData: this._twoDShadowMapSamplerIndex
            });
            this._twoDShadowMapSamplerIndex++;
        };
        LightMaterial.prototype.addCubemapShadowMap = function (shadowMap) {
            this.mapManager.addMap(shadowMap, {
                samplerData: this._cubemapShadowMapSamplerIndex
            });
            this._cubemapShadowMapSamplerIndex++;
        };
        LightMaterial.prototype.hasShadowMap = function (map) {
            return this.mapManager.hasMap(map);
        };
        LightMaterial.prototype.addTwoDShadowMapData = function (shadowMapData) {
            this.twoDShadowMapDatas.addChild(shadowMapData);
        };
        LightMaterial.prototype.addCubemapShadowMapData = function (shadowMapData) {
            this.cubemapShadowMapDatas.addChild(shadowMapData);
        };
        LightMaterial.prototype.clearTwoDShadowMapData = function () {
            this.twoDShadowMapDatas.removeAllChildren();
        };
        LightMaterial.prototype.clearCubemapShadowMapData = function () {
            this.cubemapShadowMapDatas.removeAllChildren();
        };
        LightMaterial.prototype.addExtendShaderLib = function () {
        };
        LightMaterial.prototype.addShaderLib = function () {
            var envMap = null;
            this.addNormalShaderLib();
            this.shader.addLib(wd.LightCommonShaderLib.create());
            this._setLightMapShaderLib();
            this.shader.addLib(wd.LightShaderLib.create());
            envMap = this.envMap;
            if (envMap) {
                this._setEnvMapShaderLib(envMap);
            }
            this.addExtendShaderLib();
            this.shader.addLib(wd.LightEndShaderLib.create());
        };
        LightMaterial.prototype._setLightMapShaderLib = function () {
            var scene = wd.Director.getInstance().scene;
            this.shader.addLib(wd.CommonLightMapShaderLib.create());
            if (this._lightMap) {
                this.shader.addLib(wd.LightMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoLightMapShaderLib.create());
            }
            if (this._diffuseMap) {
                this.shader.addLib(wd.DiffuseMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoDiffuseMapShaderLib.create());
            }
            if (this._specularMap) {
                this.shader.addLib(wd.SpecularMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoSpecularMapShaderLib.create());
            }
            if (this._emissionMap) {
                this.shader.addLib(wd.EmissionMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoEmissionMapShaderLib.create());
            }
            if (this._normalMap) {
                this.shader.addLib(wd.NormalMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoNormalMapShaderLib.create());
            }
            if (scene.shadowMap.enable && (this._hasTwoDShadowMap() || this._hasCubemapShadowMap())) {
                if (this._hasTwoDShadowMap()) {
                    this.shader.addLib(wd.TwoDShadowMapShaderLib.create());
                }
                if (this._hasCubemapShadowMap()) {
                    this.shader.addLib(wd.CubemapShadowMapShaderLib.create());
                }
                this.shader.addLib(wd.TotalShadowMapShaderLib.create());
            }
            else {
                this.shader.addLib(wd.NoShadowMapShaderLib.create());
            }
        };
        LightMaterial.prototype._setEnvMapShaderLib = function (envMap) {
            switch (envMap.mode) {
                case wd.EEnvMapMode.BASIC:
                    this.shader.addLib(wd.BasicEnvMapForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFLECTION:
                    this.shader.addLib(wd.ReflectionForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.REFRACTION:
                    this.shader.addLib(wd.RefractionForLightShaderLib.create());
                    break;
                case wd.EEnvMapMode.FRESNEL:
                    this.shader.addLib(wd.FresnelForLightShaderLib.create());
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_INVALID("EEnvMapMode"));
                    break;
            }
        };
        LightMaterial.prototype._hasTwoDShadowMap = function () {
            return this.mapManager.hasMap(function (map) {
                return map instanceof wd.TwoDShadowMapTexture;
            });
        };
        LightMaterial.prototype._hasCubemapShadowMap = function () {
            return this.mapManager.hasMap(function (map) {
                return map instanceof wd.CubemapShadowMapTexture;
            });
        };
        __decorate([
            wd.requireSetter(function (lightMap) {
                wd.assert(lightMap instanceof wd.ImageTexture || lightMap instanceof wd.ProceduralTexture, wd.Log.info.FUNC_SHOULD("lightMap", "be ImageTexture or ProceduralTexture"));
            })
        ], LightMaterial.prototype, "lightMap", null);
        __decorate([
            wd.requireSetter(function (diffuseMap) {
                wd.assert(diffuseMap instanceof wd.ImageTexture || diffuseMap instanceof wd.ProceduralTexture, wd.Log.info.FUNC_SHOULD("diffuseMap", "be ImageTexture or ProceduralTexture"));
            })
        ], LightMaterial.prototype, "diffuseMap", null);
        __decorate([
            wd.requireSetter(function (specularMap) {
                wd.assert(specularMap instanceof wd.ImageTexture || specularMap instanceof wd.ProceduralTexture, wd.Log.info.FUNC_SHOULD("specularMap", "be ImageTexture or ProceduralTexture"));
            })
        ], LightMaterial.prototype, "specularMap", null);
        __decorate([
            wd.requireSetter(function (emissionMap) {
                wd.assert(emissionMap instanceof wd.ImageTexture || emissionMap instanceof wd.ProceduralTexture, wd.Log.info.FUNC_SHOULD("emissionMap", "be ImageTexture or ProceduralTexture"));
            })
        ], LightMaterial.prototype, "emissionMap", null);
        __decorate([
            wd.requireSetter(function (normalMap) {
                wd.assert(normalMap instanceof wd.ImageTexture, wd.Log.info.FUNC_SHOULD("normalMap", "be ImageTexture"));
            })
        ], LightMaterial.prototype, "normalMap", null);
        __decorate([
            wd.virtual
        ], LightMaterial.prototype, "addExtendShaderLib", null);
        return LightMaterial;
    }(wd.EngineMaterial));
    wd.LightMaterial = LightMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderMaterial = (function (_super) {
        __extends(ShaderMaterial, _super);
        function ShaderMaterial() {
            _super.apply(this, arguments);
        }
        ShaderMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        ShaderMaterial.prototype.init = function () {
            this.shader.addLib(wd.CustomShaderLib.create());
            _super.prototype.init.call(this);
        };
        ShaderMaterial.prototype.read = function (definitionDataId) {
            var _this = this;
            this.shader.read(wd.LoaderManager.getInstance().get(definitionDataId));
            this.shader.getSampler2DUniformsAfterRead().forEach(function (uniform, name) {
                _this.mapManager.addMap(wd.LoaderManager.getInstance().get(uniform.textureId), {
                    samplerVariableName: name
                });
            });
        };
        ShaderMaterial.prototype.createShader = function () {
            return wd.CustomShader.create();
        };
        __decorate([
            wd.ensure(function () {
                wd.assert(this.shader.getLibs().getCount() === 1 && this.shader.hasLib(wd.CustomShaderLib), wd.Log.info.FUNC_SHOULD("only has CustomShaderLib, not has other shader libs"));
            })
        ], ShaderMaterial.prototype, "init", null);
        return ShaderMaterial;
    }(wd.Material));
    wd.ShaderMaterial = ShaderMaterial;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EShading) {
        EShading[EShading["FLAT"] = 0] = "FLAT";
        EShading[EShading["SMOOTH"] = 1] = "SMOOTH";
    })(wd.EShading || (wd.EShading = {}));
    var EShading = wd.EShading;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MapManager = (function () {
        function MapManager(material) {
            this._material = null;
            this._mapTable = wdCb.Hash.create();
            this._arrayMapList = wdCb.Collection.create();
            this._mirrorMap = null;
            this._textureDirty = false;
            this._allMapsCache = null;
            this._allSingleMapsCache = null;
            this._material = material;
        }
        MapManager.create = function (material) {
            var obj = new this(material);
            return obj;
        };
        MapManager.prototype.init = function () {
            var mapArr = this._getAllMaps();
            for (var i = 0, len = mapArr.length; i < len; i++) {
                var texture = mapArr[i];
                texture.init();
            }
        };
        MapManager.prototype.addMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var map = null;
            if (args[0] instanceof wd.TextureAsset) {
                var asset = args[0];
                map = asset.toTexture();
            }
            else if (args[0] instanceof wd.Texture) {
                map = args[0];
            }
            if (args.length === 2) {
                var option = args[1];
                this._setMapOption(map, option);
            }
            map.material = this._material;
            this._mapTable.appendChild("map", map);
            this._textureDirty = true;
        };
        MapManager.prototype.addArrayMap = function (samplerName, mapArray) {
            this._arrayMapList.addChild({
                samplerName: samplerName,
                mapArray: mapArray
            });
            this._textureDirty = true;
        };
        MapManager.prototype.getMapList = function () {
            var map = this._mapTable.getChild("map");
            return map ? this._mapTable.getChild("map")
                .filter(function (map) {
                return map instanceof wd.BasicTexture || map instanceof wd.ProceduralTexture;
            }) : wdCb.Collection.create();
        };
        MapManager.prototype.hasMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var mapList = null;
            mapList = this._mapTable.getChild("map");
            if (!mapList) {
                return false;
            }
            if (wd.JudgeUtils.isFunction(args[0])) {
                return mapList.hasChildWithFunc(args[0]);
            }
            else {
                return mapList.hasChild(args[0]);
            }
        };
        MapManager.prototype.getMapCount = function () {
            return this.getMapList().getCount();
        };
        MapManager.prototype.getEnvMap = function () {
            return this._getMapByType("envMap");
        };
        MapManager.prototype.setEnvMap = function (envMap) {
            this._setMap("envMap", envMap);
        };
        MapManager.prototype.getMirrorMap = function () {
            return this._mirrorMap;
        };
        MapManager.prototype.setMirrorMap = function (mirrorMap) {
            this.addMap(mirrorMap, {
                samplerVariableName: wd.VariableNameTable.getVariableName("mirrorReflectionMap")
            });
            this._mirrorMap = mirrorMap;
        };
        MapManager.prototype.isMirrorMap = function (map) {
            return map === this._mirrorMap;
        };
        MapManager.prototype.removeAllChildren = function () {
            this._mapTable.removeAllChildren();
            this._arrayMapList.removeAllChildren();
            this._textureDirty = true;
        };
        MapManager.prototype.dispose = function () {
            var mapArr = this._getAllMaps();
            for (var i = 0, len = mapArr.length; i < len; i++) {
                var texture = mapArr[i];
                texture.dispose();
            }
            this.removeAllChildren();
        };
        MapManager.prototype.bindAndUpdate = function () {
            var mapArr = this._getAllMaps();
            for (var i = 0, len = mapArr.length; i < len; i++) {
                var texture = mapArr[i];
                texture.bindToUnit(i);
                if (texture.needUpdate) {
                    texture.update(i);
                }
            }
        };
        MapManager.prototype.sendData = function (program) {
            this._sendSingleMapData(program);
            this._sendArrayMapData(program);
        };
        MapManager.prototype._sendSingleMapData = function (program) {
            var mapArr = this._getAllSingleMaps(), len = mapArr.length;
            for (var i = 0; i < len; i++) {
                var texture = mapArr[i];
                texture.sendData(program, texture.getSamplerName(i), i);
            }
        };
        MapManager.prototype._sendArrayMapData = function (program) {
            var self = this, maxUnitOfBindedSingleMap = this._getMaxUnitOfBindedSingleMap();
            this._arrayMapList.forEach(function (mapData) {
                var arrayMapCount = mapData.mapArray.length;
                program.sendUniformData(mapData.samplerName + "[0]", wd.EVariableType.SAMPLER_ARRAY, self._generateArrayMapUnitArray(maxUnitOfBindedSingleMap, maxUnitOfBindedSingleMap + arrayMapCount));
                maxUnitOfBindedSingleMap += arrayMapCount;
            });
        };
        MapManager.prototype._generateArrayMapUnitArray = function (startUnit, endUnit) {
            var arr = [];
            while (endUnit > startUnit) {
                arr.push(startUnit);
                startUnit++;
            }
            return arr;
        };
        MapManager.prototype._getAllMaps = function () {
            return [].concat(this._getAllSingleMaps(), this._getAllArrayMaps());
        };
        MapManager.prototype._getMaxUnitOfBindedSingleMap = function () {
            return this._getAllSingleMaps().length;
        };
        MapManager.prototype._getAllSingleMaps = function () {
            return this._mapTable.toArray();
        };
        MapManager.prototype._getAllArrayMaps = function () {
            var arrayMap = [];
            this._arrayMapList.forEach(function (mapData) {
                arrayMap = arrayMap.concat(mapData.mapArray);
            });
            return arrayMap;
        };
        MapManager.prototype._getMapByType = function (key) {
            return this._mapTable.getChild(key);
        };
        MapManager.prototype._setMap = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var key = args[0], map = args[1];
            if (!map) {
                this._removeMap(key, map);
                return;
            }
            if (arguments.length === 3) {
                var option = args[1];
                this._setMapOption(map, option);
            }
            map.material = this._material;
            this._mapTable.addChild(key, map);
        };
        MapManager.prototype._removeMap = function (key, map) {
            this._mapTable.removeChild(key);
            this._textureDirty = true;
        };
        MapManager.prototype._setMapOption = function (map, option) {
            map.variableData = option;
        };
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(args[0] instanceof wd.TextureAsset || args[0] instanceof wd.Texture, wd.Log.info.FUNC_SHOULD("arguments[0]", "be TextureAsset || Texture"));
            })
        ], MapManager.prototype, "addMap", null);
        __decorate([
            wd.ensure(function (mapList) {
                mapList.forEach(function (map) {
                    wd.assert(map instanceof wd.BasicTexture || map instanceof wd.ProceduralTexture, wd.Log.info.FUNC_SHOULD("mapList", "only contain BasicTexture or ProceduralTexture"));
                });
            })
        ], MapManager.prototype, "getMapList", null);
        __decorate([
            wd.ensure(function (arr, startUnit, endUnit) {
                wd.assert(arr.length === endUnit - startUnit, wd.Log.info.FUNC_SHOULD("length", "be " + (endUnit - startUnit) + ", but actual is " + arr.length));
                wd.assert(arr[0] === startUnit, wd.Log.info.FUNC_SHOULD("first element", "be " + startUnit + ", but actual is " + arr[0]));
                wd.assert(arr[arr.length - 1] === endUnit - 1, wd.Log.info.FUNC_SHOULD("last element", "be " + (endUnit - 1) + ", but actual is " + arr[arr.length - 1]));
            })
        ], MapManager.prototype, "_generateArrayMapUnitArray", null);
        __decorate([
            wd.ensure(function (mapArr) {
                for (var _i = 0, mapArr_2 = mapArr; _i < mapArr_2.length; _i++) {
                    var map = mapArr_2[_i];
                    wd.assert(map instanceof wd.Texture, wd.Log.info.FUNC_SHOULD("each element", "be Texture"));
                }
            }),
            wd.cache(function () {
                return !this._textureDirty && this._allMapsCache;
            }, function () {
                return this._allMapsCache;
            }, function (mapList) {
                this._allMapsCache = mapList;
                this._textureDirty = false;
            })
        ], MapManager.prototype, "_getAllMaps", null);
        __decorate([
            wd.cache(function () {
                return !this._textureDirty && this._allSingleMapsCache;
            }, function () {
                return this._allSingleMapsCache;
            }, function (mapList) {
                this._allSingleMapsCache = mapList;
                this._textureDirty = false;
            })
        ], MapManager.prototype, "_getAllSingleMaps", null);
        __decorate([
            wd.ensure(function (mapArr) {
                for (var _i = 0, mapArr_3 = mapArr; _i < mapArr_3.length; _i++) {
                    var map = mapArr_3[_i];
                    wd.assert(map instanceof wd.Texture, wd.Log.info.FUNC_SHOULD("each element", "be Texture"));
                }
            })
        ], MapManager.prototype, "_getAllArrayMaps", null);
        return MapManager;
    }());
    wd.MapManager = MapManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EAssetType) {
        EAssetType[EAssetType["UNKNOW"] = 0] = "UNKNOW";
        EAssetType[EAssetType["FONT"] = 1] = "FONT";
    })(wd.EAssetType || (wd.EAssetType = {}));
    var EAssetType = wd.EAssetType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Loader = (function () {
        function Loader() {
            this._container = wdCb.Hash.create();
        }
        Loader.prototype.load = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], id = null, self = this, data = null, stream = null;
            if (args.length === 1) {
                if (wd.JudgeUtils.isArrayExactly(url)) {
                    id = url.join("-");
                }
                else {
                    id = url;
                }
            }
            else {
                id = args[1];
            }
            data = this._container.getChild(id);
            if (data) {
                stream = wdFrp.just(data);
            }
            else {
                stream = this.loadAsset(url, id)
                    .do(function (data) {
                    self._container.addChild(id, data);
                }, function (err) {
                    self._errorHandle(url, err);
                }, null);
            }
            return stream;
        };
        Loader.prototype.get = function (id) {
            return this._container.getChild(id);
        };
        Loader.prototype.has = function (id) {
            return this._container.hasChild(id);
        };
        Loader.prototype.dispose = function () {
            this._container.removeAllChildren();
        };
        Loader.prototype._errorHandle = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var path = null, err = null;
            if (wd.JudgeUtils.isArrayExactly(args[0])) {
                path = args[0].join(",");
            }
            else {
                path = args[0];
            }
            err = args[1];
            wd.Log.log("load " + path + " asset fail:" + err);
        };
        return Loader;
    }());
    wd.Loader = Loader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLSLLoader = (function (_super) {
        __extends(GLSLLoader, _super);
        function GLSLLoader() {
            _super.apply(this, arguments);
        }
        GLSLLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        GLSLLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0];
            return wd.AjaxLoader.load(url, "text");
        };
        GLSLLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], GLSLLoader.prototype, "loadAsset", null);
        return GLSLLoader;
    }(wd.Loader));
    wd.GLSLLoader = GLSLLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var JsLoader = (function (_super) {
        __extends(JsLoader, _super);
        function JsLoader() {
            _super.apply(this, arguments);
        }
        JsLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        JsLoader.prototype.loadAsset = function () {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this, url = args[0];
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                var script = self._createScript();
                script.async = false;
                script.addEventListener("error", function (e) {
                    reject("load js file error. url:" + url);
                });
                if (script.readyState) {
                    script.onreadystatechange = function () {
                        if (script.readyState === "loaded" || script.readyState === "complete") {
                            script.onreadystatechange = null;
                            resolve(url);
                        }
                    };
                }
                else {
                    script.onload = function () {
                        resolve(url);
                    };
                }
                script.src = url;
                _this._appendScript(script);
            }));
        };
        JsLoader.prototype._createScript = function () {
            var script = document.createElement("script");
            script.type = "text/javascript";
            return script;
        };
        JsLoader.prototype._appendScript = function (script) {
            document.getElementsByTagName("head")[0].appendChild(script);
        };
        JsLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], JsLoader.prototype, "loadAsset", null);
        return JsLoader;
    }(wd.Loader));
    wd.JsLoader = JsLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var JSONLoader = (function (_super) {
        __extends(JSONLoader, _super);
        function JSONLoader() {
            _super.apply(this, arguments);
        }
        JSONLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        JSONLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0];
            return wd.AjaxLoader.load(url, "json");
        };
        JSONLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], JSONLoader.prototype, "loadAsset", null);
        return JSONLoader;
    }(wd.Loader));
    wd.JSONLoader = JSONLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoLoader = (function (_super) {
        __extends(VideoLoader, _super);
        function VideoLoader() {
            _super.apply(this, arguments);
        }
        VideoLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        VideoLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var urlArr = null;
            if (wd.JudgeUtils.isString(args[0])) {
                urlArr = [args[0]];
            }
            else {
                urlArr = args[0];
            }
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                wd.Video.create({
                    urlArr: urlArr,
                    onLoad: function (video) {
                        resolve(wd.VideoTextureAsset.create(video));
                    },
                    onError: function (err) {
                        reject(err);
                    }
                });
            }));
        };
        VideoLoader._instance = null;
        return VideoLoader;
    }(wd.Loader));
    wd.VideoLoader = VideoLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureLoader = (function (_super) {
        __extends(TextureLoader, _super);
        function TextureLoader() {
            _super.apply(this, arguments);
        }
        TextureLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        TextureLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var extname = null, stream = null, url = args[0];
            extname = wdCb.PathUtils.extname(url).toLowerCase();
            switch (extname) {
                case ".jpg":
                case ".jpeg":
                case ".gif":
                case ".bmp":
                    stream = wd.ImageLoader.load(url)
                        .map(function (image) {
                        var asset = wd.ImageTextureAsset.create(image);
                        asset.format = wd.ETextureFormat.RGB;
                        return asset;
                    });
                    break;
                case ".png":
                    stream = wd.ImageLoader.load(url)
                        .map(function (image) {
                        return wd.ImageTextureAsset.create(image);
                    });
                    break;
                case ".dds":
                    stream = wd.CompressedTextureLoader.load(url);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT(extname));
                    break;
            }
            return stream;
        };
        TextureLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], TextureLoader.prototype, "loadAsset", null);
        return TextureLoader;
    }(wd.Loader));
    wd.TextureLoader = TextureLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageLoader = (function () {
        function ImageLoader() {
        }
        ImageLoader.load = function (url) {
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                var img = null;
                img = new wd.root.Image();
                img.onload = function () {
                    this.onload = null;
                    resolve(img);
                };
                img.onerror = function () {
                    reject("error");
                };
                img.src = url;
            }));
        };
        return ImageLoader;
    }());
    wd.ImageLoader = ImageLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var AjaxLoader = (function () {
        function AjaxLoader() {
        }
        AjaxLoader.load = function (url, dataType) {
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                wdCb.AjaxUtils.ajax({
                    type: "get",
                    url: url,
                    contentType: "text/plain; charset=utf-8",
                    dataType: dataType,
                    success: function (data) {
                        resolve(data);
                    },
                    error: function (XMLHttpRequest, errorThrown) {
                        reject("url:" + url + "\nreadyState:" + XMLHttpRequest.readyState + "\nstatus:" + XMLHttpRequest.status + "\nmessage:" + errorThrown.message + "\nresponseText:" + XMLHttpRequest.responseText);
                    }
                });
            }));
        };
        return AjaxLoader;
    }());
    wd.AjaxLoader = AjaxLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ModelLoaderUtils = (function () {
        function ModelLoaderUtils() {
        }
        ModelLoaderUtils.getPath = function (filePath, mapUrl) {
            return wdCb.PathUtils.dirname(filePath) + "/" + mapUrl;
        };
        return ModelLoaderUtils;
    }());
    wd.ModelLoaderUtils = ModelLoaderUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTextureLoader = (function () {
        function CompressedTextureLoader() {
        }
        CompressedTextureLoader.load = function (url) {
            var _this = this;
            return wd.AjaxLoader.load(url, "arraybuffer")
                .map(function (data) {
                var texDatas = wd.DDSParser.parse(data, true), asset = wd.CompressedTextureAsset.create();
                asset.width = texDatas.width;
                asset.height = texDatas.height;
                asset.mipmaps = texDatas.mipmaps;
                if (texDatas.mipmapCount == 1) {
                    asset.minFilter = wd.ETextureFilterMode.LINEAR;
                }
                asset.format = _this._getCompressedFormat(texDatas.format);
                return asset;
            });
        };
        CompressedTextureLoader._getCompressedFormat = function (format) {
            var extension = wd.GPUDetector.getInstance().extensionCompressedTextureS3TC;
            if (format === wd.ETextureFormat.RGBA) {
                return format;
            }
            if (!extension) {
                return null;
            }
            switch (format) {
                case wd.ETextureFormat.RGB_S3TC_DXT1:
                    format = extension.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT1:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT3:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    break;
                case wd.ETextureFormat.RGBA_S3TC_DXT5:
                    format = extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;
                    break;
            }
            return format;
        };
        return CompressedTextureLoader;
    }());
    wd.CompressedTextureLoader = CompressedTextureLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DDS_MAGIC = 0x20534444, DDSD_CAPS = 0x1, DDSD_HEIGHT = 0x2, DDSD_WIDTH = 0x4, DDSD_PITCH = 0x8, DDSD_PIXELFORMAT = 0x1000, DDSD_MIPMAPCOUNT = 0x20000, DDSD_LINEARSIZE = 0x80000, DDSD_DEPTH = 0x800000, DDSCAPS_COMPLEX = 0x8, DDSCAPS_MIPMAP = 0x400000, DDSCAPS_TEXTURE = 0x1000, DDSCAPS2_CUBEMAP = 0x200, DDSCAPS2_CUBEMAP_POSITIVEX = 0x400, DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800, DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000, DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000, DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000, DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000, DDSCAPS2_VOLUME = 0x200000, DDPF_ALPHAPIXELS = 0x1, DDPF_ALPHA = 0x2, DDPF_FOURCC = 0x4, DDPF_RGB = 0x40, DDPF_YUV = 0x200, DDPF_LUMINANCE = 0x20000;
    var DDSParser = (function () {
        function DDSParser() {
        }
        DDSParser.parse = function (buffer, loadMipmaps) {
            if (loadMipmaps === void 0) { loadMipmaps = true; }
            var dds = new DDSData(), FOURCC_DXT1 = this._fourCCToInt32("DXT1"), FOURCC_DXT3 = this._fourCCToInt32("DXT3"), FOURCC_DXT5 = this._fourCCToInt32("DXT5"), headerLengthInt = 31, off_magic = 0, off_size = 1, off_flags = 2, off_height = 3, off_width = 4, off_mipmapCount = 7, off_pfFlags = 20, off_pfFourCC = 21, off_RGBBitCount = 22, off_RBitMask = 23, off_GBitMask = 24, off_BBitMask = 25, off_ABitMask = 26, off_caps = 27, off_caps2 = 28, off_caps3 = 29, off_caps4 = 30, header = new Int32Array(buffer, 0, headerLengthInt), blockBytes = null, fourCC = null, isRGBAUncompressed = null, dataOffset = null, width = null, height = null, faces = null;
            if (header[off_magic] !== DDS_MAGIC) {
                wd.Log.error(true, "Invalid magic number in DDS header.");
                return dds;
            }
            if ((!header[off_pfFlags]) & DDPF_FOURCC) {
                wd.Log.error(true, "Unsupported format, must contain a FourCC code.");
                return dds;
            }
            fourCC = header[off_pfFourCC];
            isRGBAUncompressed = false;
            switch (fourCC) {
                case FOURCC_DXT1:
                    blockBytes = 8;
                    dds.format = wd.ETextureFormat.RGB_S3TC_DXT1;
                    break;
                case FOURCC_DXT3:
                    blockBytes = 16;
                    dds.format = wd.ETextureFormat.RGBA_S3TC_DXT3;
                    break;
                case FOURCC_DXT5:
                    blockBytes = 16;
                    dds.format = wd.ETextureFormat.RGBA_S3TC_DXT5;
                    break;
                default:
                    if (header[off_RGBBitCount] == 32
                        && header[off_RBitMask] & 0xff0000
                        && header[off_GBitMask] & 0xff00
                        && header[off_BBitMask] & 0xff
                        && header[off_ABitMask] & 0xff000000) {
                        isRGBAUncompressed = true;
                        blockBytes = 64;
                        dds.format = wd.ETextureFormat.RGBA;
                    }
                    else {
                        wd.Log.error(true, "Unsupported FourCC code " + this._int32ToFourCC(fourCC));
                        return dds;
                    }
            }
            dds.mipmapCount = 1;
            if (header[off_flags] & DDSD_MIPMAPCOUNT && loadMipmaps !== false) {
                dds.mipmapCount = Math.max(1, header[off_mipmapCount]);
            }
            dds.isCubemap = header[off_caps2] & DDSCAPS2_CUBEMAP ? true : false;
            dds.width = header[off_width];
            dds.height = header[off_height];
            dataOffset = header[off_size] + 4;
            width = dds.width;
            height = dds.height;
            faces = dds.isCubemap ? 6 : 1;
            for (var face = 0; face < faces; face++) {
                for (var i = 0; i < dds.mipmapCount; i++) {
                    var mipmap = null, byteArray = null, dataLength = null;
                    if (isRGBAUncompressed) {
                        byteArray = this._loadARGBMip(buffer, dataOffset, width, height);
                        dataLength = byteArray.length;
                    }
                    else {
                        dataLength = Math.max(4, width) / 4 * Math.max(4, height) / 4 * blockBytes;
                        byteArray = new Uint8Array(buffer, dataOffset, dataLength);
                    }
                    mipmap = { "data": byteArray, "width": width, "height": height };
                    dds.mipmaps.addChild(mipmap);
                    dataOffset += dataLength;
                    width = Math.max(width * 0.5, 1);
                    height = Math.max(height * 0.5, 1);
                }
                width = dds.width;
                height = dds.height;
            }
            return dds;
        };
        DDSParser._fourCCToInt32 = function (value) {
            return value.charCodeAt(0) +
                (value.charCodeAt(1) << 8) +
                (value.charCodeAt(2) << 16) +
                (value.charCodeAt(3) << 24);
        };
        DDSParser._int32ToFourCC = function (value) {
            return String.fromCharCode(value & 0xff, (value >> 8) & 0xff, (value >> 16) & 0xff, (value >> 24) & 0xff);
        };
        DDSParser._loadARGBMip = function (buffer, dataOffset, width, height) {
            var dataLength = width * height * 4, srcBuffer = new Uint8Array(buffer, dataOffset, dataLength), byteArray = new Uint8Array(dataLength), dst = 0, src = 0;
            for (var y = 0; y < height; y++) {
                for (var x = 0; x < width; x++) {
                    var b = null, g = null, r = null, a = null;
                    b = srcBuffer[src];
                    src++;
                    g = srcBuffer[src];
                    src++;
                    r = srcBuffer[src];
                    src++;
                    a = srcBuffer[src];
                    src++;
                    byteArray[dst] = r;
                    dst++;
                    byteArray[dst] = g;
                    dst++;
                    byteArray[dst] = b;
                    dst++;
                    byteArray[dst] = a;
                    dst++;
                }
            }
            return byteArray;
        };
        return DDSParser;
    }());
    wd.DDSParser = DDSParser;
    var DDSData = (function () {
        function DDSData() {
            this.mipmaps = wdCb.Collection.create();
            this.width = 0;
            this.height = 0;
            this.format = null;
            this.mipmapCount = 1;
            this.isCubemap = false;
        }
        return DDSData;
    }());
    wd.DDSData = DDSData;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureAsset = (function () {
        function TextureAsset() {
            this._width = null;
            this._height = null;
            this.generateMipmaps = true;
            this.sourceRegionMethod = wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            this.format = wd.ETextureFormat.RGBA;
            this.source = TextureAsset.defaultTexture;
            this.repeatRegion = wd.RectRegion.create(0, 0, 1, 1);
            this.sourceRegion = null;
            this.sourceRegionMapping = wd.ETextureSourceRegionMapping.CANVAS;
            this.flipY = true;
            this.premultiplyAlpha = false;
            this.unpackAlignment = 4;
            this.wrapS = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.wrapT = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.magFilter = wd.ETextureFilterMode.LINEAR;
            this.minFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR;
            this.type = wd.ETextureType.UNSIGNED_BYTE;
            this.mipmaps = wdCb.Collection.create();
            this.anisotropy = 0;
            this.needUpdate = true;
        }
        Object.defineProperty(TextureAsset.prototype, "width", {
            get: function () {
                return this._width === null ? (this.source ? this.source.width : null) : this._width;
            },
            set: function (width) {
                this._width = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(TextureAsset.prototype, "height", {
            get: function () {
                return this._height === null ? (this.source ? this.source.height : null) : this._height;
            },
            set: function (height) {
                this._height = height;
            },
            enumerable: true,
            configurable: true
        });
        TextureAsset.prototype.copyToCubemapTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.generateMipmaps = this.generateMipmaps;
            cubemapFaceTexture.minFilter = this.minFilter;
            cubemapFaceTexture.magFilter = this.magFilter;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.wrapS = this.wrapS;
            cubemapFaceTexture.wrapT = this.wrapT;
            cubemapFaceTexture.anisotropy = this.anisotropy;
            cubemapFaceTexture.premultiplyAlpha = this.premultiplyAlpha;
            cubemapFaceTexture.unpackAlignment = this.unpackAlignment;
            cubemapFaceTexture.needUpdate = this.needUpdate;
            cubemapFaceTexture.mode = wd.EEnvMapMode.BASIC;
        };
        TextureAsset.prototype.copyTo = function (texture) {
            wd.Log.error(!texture, wd.Log.info.FUNC_MUST_DEFINE("texture"));
            texture.source = this.source;
            texture.width = this.width;
            texture.height = this.height;
            texture.mipmaps = this.mipmaps.copy();
            texture.wrapS = this.wrapS;
            texture.wrapT = this.wrapT;
            texture.magFilter = this.magFilter;
            texture.minFilter = this.minFilter;
            texture.anisotropy = this.anisotropy;
            texture.format = this.format;
            texture.type = this.type;
            texture.repeatRegion = this.repeatRegion.copy();
            texture.sourceRegion = this.sourceRegion && this.sourceRegion.copy();
            texture.sourceRegionMapping = this.sourceRegionMapping;
            texture.sourceRegionMethod = this.sourceRegionMethod;
            texture.generateMipmaps = this.generateMipmaps;
            texture.premultiplyAlpha = this.premultiplyAlpha;
            texture.flipY = this.flipY;
            texture.unpackAlignment = this.unpackAlignment;
            texture.needUpdate = this.needUpdate;
            return texture;
        };
        TextureAsset.defaultTexture = null;
        return TextureAsset;
    }());
    wd.TextureAsset = TextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageTextureAsset = (function (_super) {
        __extends(ImageTextureAsset, _super);
        function ImageTextureAsset(source) {
            _super.call(this);
            this.source = source;
        }
        ImageTextureAsset.create = function (source) {
            var obj = new this(source);
            return obj;
        };
        ImageTextureAsset.prototype.toTexture = function () {
            return wd.ImageTexture.create(this);
        };
        ImageTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.CubemapFaceImageTexture.create(this);
        };
        ImageTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.source = this.source;
            cubemapFaceTexture.type = this.type;
            cubemapFaceTexture.format = this.format;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.sourceRegion = this.sourceRegion;
            cubemapFaceTexture.sourceRegionMethod = wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
        };
        return ImageTextureAsset;
    }(wd.TextureAsset));
    wd.ImageTextureAsset = ImageTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoTextureAsset = (function (_super) {
        __extends(VideoTextureAsset, _super);
        function VideoTextureAsset(video) {
            _super.call(this);
            this.video = null;
            this.video = video;
            this.source = this.video.source;
        }
        VideoTextureAsset.create = function (video) {
            var obj = new this(video);
            obj.initWhenCreate();
            return obj;
        };
        VideoTextureAsset.prototype.initWhenCreate = function () {
            this.width = 0;
            this.height = 0;
            this.generateMipmaps = false;
            this.minFilter = null;
            this.magFilter = null;
            this.sourceRegion = null;
            this.sourceRegionMethod = null;
        };
        VideoTextureAsset.prototype.toTexture = function () {
            return wd.VideoTexture.create(this);
        };
        VideoTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("video texture", "cubemap"));
        };
        VideoTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("video texture", "cubemap"));
        };
        return VideoTextureAsset;
    }(wd.TextureAsset));
    wd.VideoTextureAsset = VideoTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTextureAsset = (function (_super) {
        __extends(CompressedTextureAsset, _super);
        function CompressedTextureAsset() {
            _super.apply(this, arguments);
        }
        CompressedTextureAsset.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        CompressedTextureAsset.prototype.initWhenCreate = function () {
            this.generateMipmaps = false;
            this.flipY = false;
        };
        CompressedTextureAsset.prototype.toTexture = function () {
            return wd.CompressedTexture.create(this);
        };
        CompressedTextureAsset.prototype.toCubemapFaceTexture = function () {
            return wd.CubemapFaceCompressedTexture.create(this);
        };
        CompressedTextureAsset.prototype.copyToCubemapFaceTexture = function (cubemapFaceTexture) {
            cubemapFaceTexture.type = this.type;
            cubemapFaceTexture.format = this.format;
            cubemapFaceTexture.width = this.width;
            cubemapFaceTexture.height = this.height;
            cubemapFaceTexture.mipmaps = this.mipmaps;
            cubemapFaceTexture.minFilter = this.minFilter;
        };
        return CompressedTextureAsset;
    }(wd.TextureAsset));
    wd.CompressedTextureAsset = CompressedTextureAsset;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureFilterMode) {
        ETextureFilterMode[ETextureFilterMode["NEAREST"] = "NEAREST"] = "NEAREST";
        ETextureFilterMode[ETextureFilterMode["NEAREST_MIPMAP_MEAREST"] = "NEAREST_MIPMAP_MEAREST"] = "NEAREST_MIPMAP_MEAREST";
        ETextureFilterMode[ETextureFilterMode["NEAREST_MIPMAP_LINEAR"] = "NEAREST_MIPMAP_LINEAR"] = "NEAREST_MIPMAP_LINEAR";
        ETextureFilterMode[ETextureFilterMode["LINEAR"] = "LINEAR"] = "LINEAR";
        ETextureFilterMode[ETextureFilterMode["LINEAR_MIPMAP_NEAREST"] = "LINEAR_MIPMAP_NEAREST"] = "LINEAR_MIPMAP_NEAREST";
        ETextureFilterMode[ETextureFilterMode["LINEAR_MIPMAP_LINEAR"] = "LINEAR_MIPMAP_LINEAR"] = "LINEAR_MIPMAP_LINEAR";
    })(wd.ETextureFilterMode || (wd.ETextureFilterMode = {}));
    var ETextureFilterMode = wd.ETextureFilterMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureWrapMode) {
        ETextureWrapMode[ETextureWrapMode["REPEAT"] = "REPEAT"] = "REPEAT";
        ETextureWrapMode[ETextureWrapMode["MIRRORED_REPEAT"] = "MIRRORED_REPEAT"] = "MIRRORED_REPEAT";
        ETextureWrapMode[ETextureWrapMode["CLAMP_TO_EDGE"] = "CLAMP_TO_EDGE"] = "CLAMP_TO_EDGE";
    })(wd.ETextureWrapMode || (wd.ETextureWrapMode = {}));
    var ETextureWrapMode = wd.ETextureWrapMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureFormat) {
        ETextureFormat[ETextureFormat["RGB"] = "RGB"] = "RGB";
        ETextureFormat[ETextureFormat["RGBA"] = "RGBA"] = "RGBA";
        ETextureFormat[ETextureFormat["ALPHA"] = "ALPHA"] = "ALPHA";
        ETextureFormat[ETextureFormat["LUMINANCE"] = "LUMINANCE"] = "LUMINANCE";
        ETextureFormat[ETextureFormat["LUMINANCE_ALPHA"] = "LUMINANCE_ALPHA"] = "LUMINANCE_ALPHA";
        ETextureFormat[ETextureFormat["RGB_S3TC_DXT1"] = "RGB_S3TC_DXT1"] = "RGB_S3TC_DXT1";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT1"] = "RGBA_S3TC_DXT1"] = "RGBA_S3TC_DXT1";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT3"] = "RGBA_S3TC_DXT3"] = "RGBA_S3TC_DXT3";
        ETextureFormat[ETextureFormat["RGBA_S3TC_DXT5"] = "RGBA_S3TC_DXT5"] = "RGBA_S3TC_DXT5";
    })(wd.ETextureFormat || (wd.ETextureFormat = {}));
    var ETextureFormat = wd.ETextureFormat;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureType) {
        ETextureType[ETextureType["UNSIGNED_BYTE"] = "UNSIGNED_BYTE"] = "UNSIGNED_BYTE";
        ETextureType[ETextureType["UNSIGNED_SHORT_5_6_5"] = "UNSIGNED_SHORT_5_6_5"] = "UNSIGNED_SHORT_5_6_5";
        ETextureType[ETextureType["UNSIGNED_SHORT_4_4_4_4"] = "UNSIGNED_SHORT_4_4_4_4"] = "UNSIGNED_SHORT_4_4_4_4";
        ETextureType[ETextureType["UNSIGNED_SHORT_5_5_5_1"] = "UNSIGNED_SHORT_5_5_5_1"] = "UNSIGNED_SHORT_5_5_5_1";
    })(wd.ETextureType || (wd.ETextureType = {}));
    var ETextureType = wd.ETextureType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EEnvMapMode) {
        EEnvMapMode[EEnvMapMode["BASIC"] = 0] = "BASIC";
        EEnvMapMode[EEnvMapMode["REFLECTION"] = 1] = "REFLECTION";
        EEnvMapMode[EEnvMapMode["REFRACTION"] = 2] = "REFRACTION";
        EEnvMapMode[EEnvMapMode["FRESNEL"] = 3] = "FRESNEL";
    })(wd.EEnvMapMode || (wd.EEnvMapMode = {}));
    var EEnvMapMode = wd.EEnvMapMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureCombineMode) {
        ETextureCombineMode[ETextureCombineMode["MIX"] = 0] = "MIX";
        ETextureCombineMode[ETextureCombineMode["MULTIPLY"] = 1] = "MULTIPLY";
        ETextureCombineMode[ETextureCombineMode["ADD"] = 2] = "ADD";
    })(wd.ETextureCombineMode || (wd.ETextureCombineMode = {}));
    var ETextureCombineMode = wd.ETextureCombineMode;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureSourceRegionMapping) {
        ETextureSourceRegionMapping[ETextureSourceRegionMapping["CANVAS"] = 0] = "CANVAS";
        ETextureSourceRegionMapping[ETextureSourceRegionMapping["UV"] = 1] = "UV";
    })(wd.ETextureSourceRegionMapping || (wd.ETextureSourceRegionMapping = {}));
    var ETextureSourceRegionMapping = wd.ETextureSourceRegionMapping;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureSourceRegionMethod) {
        ETextureSourceRegionMethod[ETextureSourceRegionMethod["CHANGE_TEXCOORDS_IN_GLSL"] = 0] = "CHANGE_TEXCOORDS_IN_GLSL";
        ETextureSourceRegionMethod[ETextureSourceRegionMethod["DRAW_IN_CANVAS"] = 1] = "DRAW_IN_CANVAS";
    })(wd.ETextureSourceRegionMethod || (wd.ETextureSourceRegionMethod = {}));
    var ETextureSourceRegionMethod = wd.ETextureSourceRegionMethod;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (ETextureTarget) {
        ETextureTarget[ETextureTarget["TEXTURE_2D"] = "TEXTURE_2D"] = "TEXTURE_2D";
        ETextureTarget[ETextureTarget["TEXTURE_CUBE_MAP"] = "TEXTURE_CUBE_MAP"] = "TEXTURE_CUBE_MAP";
    })(wd.ETextureTarget || (wd.ETextureTarget = {}));
    var ETextureTarget = wd.ETextureTarget;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LoaderManager = (function () {
        function LoaderManager() {
            this.assetCount = 0;
            this.currentLoadedCount = 0;
            this._assetTable = wdCb.Hash.create();
        }
        LoaderManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        LoaderManager.prototype.load = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var self = this;
            if (wd.JudgeUtils.isString(args[0])) {
                var url = args[0], id = url;
                return this._createLoadSingleAssetStream(url, id);
            }
            else {
                var assetArr = args[0];
                return wdFrp.fromArray(assetArr).flatMap(function (asset) {
                    return self._createLoadMultiAssetStream(asset.type || wd.EAssetType.UNKNOW, asset.url, asset.id);
                });
            }
        };
        LoaderManager.prototype.reset = function () {
            this.assetCount = 0;
            this.currentLoadedCount = 0;
        };
        LoaderManager.prototype.dispose = function () {
            this.reset();
            wd.LoaderFactory.createAllLoader().forEach(function (loader) {
                loader.dispose();
            });
        };
        LoaderManager.prototype.get = function (id) {
            var loader = this._assetTable.getChild(id);
            return loader ? loader.get(id) : null;
        };
        LoaderManager.prototype._createLoadMultiAssetStream = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args[0], url = args[1], id = args[2], loader = this._getLoader(type, url), stream = null, self = this;
            if (!loader.has(id)) {
                self.assetCount++;
            }
            return this._addToAssetTable(loader.load(url, id)
                .map(function (data) {
                self.currentLoadedCount++;
                return {
                    currentLoadedCount: self.currentLoadedCount,
                    assetCount: self.assetCount
                };
            }), id, loader);
        };
        LoaderManager.prototype._createLoadSingleAssetStream = function (url, id) {
            var loader = this._getLoader(wd.EAssetType.UNKNOW, url);
            return this._addToAssetTable(loader.load(url, id), id, loader);
        };
        LoaderManager.prototype._getLoader = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var type = args[0], extname = null;
            if (wd.JudgeUtils.isArrayExactly(args[1])) {
                extname = wdCb.PathUtils.extname(args[1][0]);
            }
            else {
                extname = wdCb.PathUtils.extname(args[1]);
            }
            return wd.LoaderFactory.create(type, extname.toLowerCase());
        };
        LoaderManager.prototype._addToAssetTable = function (loadStream, id, loader) {
            var self = this;
            return loadStream.do(null, null, function () {
                self._assetTable.addChild(id, loader);
            });
        };
        LoaderManager._instance = null;
        return LoaderManager;
    }());
    wd.LoaderManager = LoaderManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var LoaderFactory = (function () {
        function LoaderFactory() {
        }
        LoaderFactory.create = function (type, extname) {
            var loader = null;
            switch (type) {
                case wd.EAssetType.FONT:
                    loader = wd.FontLoader.getInstance();
                    break;
                case wd.EAssetType.UNKNOW:
                    loader = this._getLoaderByExtname(extname);
                    break;
                default:
                    wdCb.Log.error(true, wdCb.Log.info.FUNC_UNKNOW("asset type:" + type));
                    break;
            }
            return loader;
        };
        LoaderFactory.createAllLoader = function () {
            return wdCb.Collection.create([wd.JsLoader.getInstance(), wd.GLSLLoader.getInstance(), wd.TextureLoader.getInstance(), wd.VideoLoader.getInstance(), wd.FontLoader.getInstance(), wd.FntLoader.getInstance()]);
        };
        LoaderFactory._getLoaderByExtname = function (extname) {
            var loader = null;
            switch (extname) {
                case ".json":
                    loader = wd.JSONLoader.getInstance();
                    break;
                case ".js":
                    loader = wd.JsLoader.getInstance();
                    break;
                case ".glsl":
                    loader = wd.GLSLLoader.getInstance();
                    break;
                case ".jpg":
                case ".jpeg":
                case ".png":
                case ".dds":
                case ".gif":
                case ".bmp":
                    loader = wd.TextureLoader.getInstance();
                    break;
                case ".mp4":
                case ".ogv":
                case ".webm":
                    loader = wd.VideoLoader.getInstance();
                    break;
                case ".gltf":
                    loader = wd.GLTFLoader.getInstance();
                    break;
                case ".wd":
                    loader = wd.WDLoader.getInstance();
                    break;
                case ".eot":
                case ".ttf":
                case ".woff":
                case ".svg":
                    loader = wd.FontLoader.getInstance();
                    break;
                case ".fnt":
                    loader = wd.FntLoader.getInstance();
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNKNOW("extname:" + extname));
                    break;
            }
            return loader;
        };
        return LoaderFactory;
    }());
    wd.LoaderFactory = LoaderFactory;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFLoader = (function (_super) {
        __extends(GLTFLoader, _super);
        function GLTFLoader() {
            _super.apply(this, arguments);
            this._gltfAssembler = wd.GLTFAssembler.create();
            this._gltfParser = wd.GLTFParser.create();
            this._arrayBufferMap = wdCb.Hash.create();
            this._imageMap = wdCb.Hash.create();
        }
        GLTFLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        GLTFLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this, jsonData = null;
            return wd.AjaxLoader.load(url, "json")
                .flatMap(function (json) {
                jsonData = json;
                return self._createLoadAllAssetsStream(url, json);
            })
                .concat(wdFrp.callFunc(function () {
                return self._gltfAssembler.build(self._gltfParser.parse(jsonData, self._arrayBufferMap, self._imageMap));
            }));
        };
        GLTFLoader.prototype._createLoadAllAssetsStream = function (url, json) {
            return wdFrp.fromArray([
                this._createLoadBuffersStream(url, json),
                this._createLoadImageAssetStream(url, json)
            ])
                .mergeAll();
        };
        GLTFLoader.prototype._createLoadBuffersStream = function (filePath, json) {
            var arrayBufferMap = this._arrayBufferMap;
            return this._createLoadAssetStream(filePath, json, json.buffers, arrayBufferMap, function (id, url) {
                return wd.AjaxLoader.load(url, "arraybuffer")
                    .do(function (buffer) {
                    wd.Log.error(!(buffer instanceof ArrayBuffer), wd.Log.info.FUNC_SHOULD("Buffer:" + id, "be an array buffer"));
                    wd.Log.error(buffer.byteLength !== buffer.byteLength, wd.Log.info.FUNC_SHOULD("Buffer:" + id + "'s length is " + buffer.byteLength + ", but it", "be " + buffer.byteLength));
                    arrayBufferMap.addChild(id, buffer);
                });
            });
        };
        GLTFLoader.prototype._createLoadImageAssetStream = function (filePath, json) {
            var imageMap = this._imageMap;
            return this._createLoadAssetStream(filePath, json, json.images, imageMap, function (id, url) {
                return wd.ImageLoader.load(url)
                    .do(function (image) {
                    imageMap.addChild(id, image);
                });
            });
        };
        GLTFLoader.prototype._createLoadAssetStream = function (filePath, json, datas, dataMap, loadStreamFunc) {
            var streamArr = [];
            if (datas) {
                var id = null;
                for (id in datas) {
                    if (datas.hasOwnProperty(id)) {
                        var data = datas[id];
                        if (wd.GLTFUtils.isBase64(data.uri)) {
                            dataMap.addChild(id, wd.GLTFUtils.decodeArrayBuffer(data.uri));
                        }
                        else {
                            var url = wd.ModelLoaderUtils.getPath(filePath, data.uri);
                            streamArr.push(loadStreamFunc(id, url));
                        }
                    }
                }
            }
            return wdFrp.fromArray(streamArr).mergeAll();
        };
        GLTFLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], GLTFLoader.prototype, "loadAsset", null);
        return GLTFLoader;
    }(wd.Loader));
    wd.GLTFLoader = GLTFLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFAssembler = (function () {
        function GLTFAssembler() {
            this._result = wdCb.Hash.create();
        }
        GLTFAssembler.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFAssembler.prototype.build = function (parseData) {
            this._buildMetadata(parseData);
            this._buildModels(parseData);
            return this._result;
        };
        GLTFAssembler.prototype._buildMetadata = function (parseData) {
            var metadata = wdCb.Hash.create();
            for (var i in parseData.metadata) {
                if (parseData.metadata.hasOwnProperty(i)) {
                    metadata.addChild(i, parseData.metadata[i]);
                }
            }
            this._result.addChild("metadata", metadata);
        };
        GLTFAssembler.prototype._buildModels = function (parseData) {
            var models = wdCb.Collection.create(), self = this;
            var build = function (object) {
                var model = wd.GameObject.create();
                if (object.name) {
                    model.name = object.name;
                }
                if (self._isModelContainer(object)) {
                    model.addTag(wd.EWDTag.CONTAINER);
                }
                self._addComponentsFromGLTF(model, object.components);
                model.addComponent(wd.MeshRenderer.create());
                if (object.children) {
                    object.children.forEach(function (child) {
                        model.addChild(build(child));
                    });
                }
                return model;
            };
            if (!parseData.objects) {
                return;
            }
            parseData.objects.forEach(function (object) {
                models.addChild(build(object));
            });
            this._result.addChild("models", models);
        };
        GLTFAssembler.prototype._isModelContainer = function (object) {
            return object.isContainer;
        };
        GLTFAssembler.prototype._addComponentsFromGLTF = function (model, components) {
            var self = this;
            components.forEach(function (component) {
                if (self._isTransform(component)) {
                    model.transform = self._createTransform(component);
                }
                else if (self._isCamera(component)) {
                    model.addComponent(self._createCamera(component));
                }
                else if (self._isLight(component)) {
                    model.addComponent(self._createLight(component));
                }
                else if (self._isGeometry(component)) {
                    model.addComponent(self._createGeometry(component));
                }
                else if (self._isArticulatedAnimation(component)) {
                    model.addComponent(self._createArticulatedAnimation(component));
                }
            });
        };
        GLTFAssembler.prototype._isTransform = function (component) {
            return !!component.matrix || !!component.position;
        };
        GLTFAssembler.prototype._isCamera = function (component) {
            return !!component.camera;
        };
        GLTFAssembler.prototype._isLight = function (component) {
            return !!component.lightColor && !!component.type;
        };
        GLTFAssembler.prototype._isGeometry = function (component) {
            return !!component.material;
        };
        GLTFAssembler.prototype._isArticulatedAnimation = function (component) {
            return wd.GLTFUtils.isIGLTFArticulatedAnimation(component);
        };
        GLTFAssembler.prototype._createTransform = function (component) {
            var transform = wd.ThreeDTransform.create();
            if (component.matrix) {
                transform.localPosition = component.matrix.getTranslation();
                transform.localRotation = component.matrix.getRotation();
                transform.localScale = component.matrix.getScale();
            }
            else {
                transform.localPosition = component.position;
                transform.localRotation = component.rotation;
                transform.localScale = component.scale;
            }
            return transform;
        };
        GLTFAssembler.prototype._createCamera = function (component) {
            return wd.BasicCameraController.create(component.camera);
        };
        GLTFAssembler.prototype._createLight = function (component) {
            var light = null;
            switch (component.type) {
                case "ambient":
                    light = wd.AmbientLight.create();
                    light.color = component.lightColor;
                    break;
                case "directional":
                    light = wd.DirectionLight.create();
                    light.color = component.lightColor;
                    break;
                case "point":
                    light = wd.PointLight.create();
                    light.color = component.lightColor;
                    wd.GLTFUtils.addData(light, "range", component.distance);
                    wd.GLTFUtils.addData(light, "constant", component.constantAttenuation);
                    wd.GLTFUtils.addData(light, "linear", component.linearAttenuation);
                    wd.GLTFUtils.addData(light, "quadratic", component.quadraticAttenuation);
                    break;
                default:
                    break;
            }
            return light;
        };
        GLTFAssembler.prototype._createGeometry = function (component) {
            var geometry = wd.ModelGeometry.create();
            geometry.vertices = component.vertices;
            geometry.faces = component.faces;
            wd.GLTFUtils.addData(geometry, "colors", component.colors);
            wd.GLTFUtils.addData(geometry, "texCoords", component.texCoords);
            geometry.drawMode = component.drawMode;
            geometry.material = this._createMaterial(component.material);
            return geometry;
        };
        GLTFAssembler.prototype._createMaterial = function (materialData) {
            var material = null;
            switch (materialData.type) {
                case "BasicMaterial":
                    material = this._createBasicMaterial(materialData);
                    break;
                case "LightMaterial":
                    material = this._createLightMaterial(materialData);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("material type:" + materialData.type));
                    break;
            }
            return material;
        };
        GLTFAssembler.prototype._createBasicMaterial = function (materialData) {
            var material = wd.BasicMaterial.create();
            this._setBasicDataOfMaterial(material, materialData);
            return material;
        };
        GLTFAssembler.prototype._createLightMaterial = function (materialData) {
            var material = wd.LightMaterial.create();
            this._setBasicDataOfMaterial(material, materialData);
            if (materialData.transparent === true && materialData.opacity !== void 0) {
                material.opacity = materialData.opacity;
                material.blendType = wd.EBlendType.NORMAL;
            }
            if (materialData.lightModel === wd.ELightModel.LAMBERT) {
                wd.Log.log(wd.Log.info.FUNC_NOT_SUPPORT("LAMBERT light model, use PHONG light model instead"));
                material.lightModel = wd.ELightModel.PHONG;
            }
            else {
                material.lightModel = materialData.lightModel;
            }
            wd.GLTFUtils.addData(material, "color", materialData.diffuseColor);
            wd.GLTFUtils.addData(material, "specularColor", materialData.specularColor);
            wd.GLTFUtils.addData(material, "emissionColor", materialData.emissionColor);
            wd.GLTFUtils.addData(material, "diffuseMap", materialData.diffuseMap);
            wd.GLTFUtils.addData(material, "specularMap", materialData.specularMap);
            wd.GLTFUtils.addData(material, "emissionMap", materialData.emissionMap);
            wd.GLTFUtils.addData(material, "shininess", materialData.shininess);
            return material;
        };
        GLTFAssembler.prototype._setBasicDataOfMaterial = function (material, materialData) {
            if (!!materialData.doubleSided && materialData.doubleSided === true) {
                material.side = wd.ESide.BOTH;
            }
            else {
                material.side = wd.ESide.FRONT;
            }
        };
        GLTFAssembler.prototype._createArticulatedAnimation = function (component) {
            var anim = wd.ArticulatedAnimation.create();
            anim.data = wdCb.Hash.create(component);
            return anim;
        };
        return GLTFAssembler;
    }());
    wd.GLTFAssembler = GLTFAssembler;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFParser = (function () {
        function GLTFParser() {
            this._data = {};
            this._arrayBufferMap = null;
            this._imageMap = null;
            this._json = null;
            this._geometryParser = wd.GLTFGeometryParser.create();
            this._articulatedAnimationParser = wd.GLTFArticulatedAnimationParser.create();
        }
        GLTFParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFParser.prototype.parse = function (json, arrayBufferMap, imageMap) {
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            this._imageMap = imageMap;
            if (json.asset) {
                this._parseMetadata();
            }
            this._parseObjects();
            if (json.animations) {
                this._articulatedAnimationParser.parse(json, this._data.objects, this._arrayBufferMap);
            }
            return this._data;
        };
        GLTFParser.prototype._parseMetadata = function () {
            var metadata = {}, json = this._json;
            for (var i in json.asset) {
                if (json.asset.hasOwnProperty(i)) {
                    metadata[i] = json.asset[i];
                }
            }
            this._data.metadata = metadata;
        };
        GLTFParser.prototype._parseObjects = function () {
            var self = this, json = this._json, objects = wdCb.Collection.create();
            var parse = function (nodeId, node) {
                var object = wd.GLTFUtils.createObjectData();
                object.id = nodeId;
                if (node.name) {
                    object.name = node.name;
                }
                if (node.meshes && node.meshes.length > 0) {
                    var mesh = null;
                    if (node.meshes.length > 1) {
                        wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("multi mesh(geometry), just use the first mesh(geometry)"));
                    }
                    mesh = json.meshes[node.meshes[0]];
                    if (!node.name && mesh.name) {
                        object.name = mesh.name;
                    }
                    self._geometryParser.parse(json, object, mesh, self._arrayBufferMap, self._imageMap);
                }
                if (node.extensions) {
                    if (node.extensions["KHR_materials_common"] && node.extensions["KHR_materials_common"].light) {
                        object.components.addChild(self._parseLight(node.extensions["KHR_materials_common"].light));
                    }
                }
                if (node.camera) {
                    object.components.addChild(self._parseCamera(node.camera));
                }
                if (node.matrix) {
                    object.components.addChild(self._parseTransform(node.matrix));
                }
                else if (node.rotation && node.scale && node.translation) {
                    object.components.addChild(self._parseTransform(node.translation, node.rotation, node.scale));
                }
                if (node.children) {
                    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {
                        var childId = _a[_i];
                        object.children.addChild(parse(childId, json.nodes[childId]));
                    }
                }
                return object;
            };
            if (!json.scenes[json.scene]) {
                this._data.objects = objects;
                return;
            }
            for (var _i = 0, _a = json.scenes[json.scene].nodes; _i < _a.length; _i++) {
                var nodeId = _a[_i];
                objects.addChild(parse(nodeId, json.nodes[nodeId]));
            }
            this._data.objects = objects;
        };
        GLTFParser.prototype._parseLight = function (lightId) {
            var lightData = this._json.extensions["KHR_materials_common"].lights[lightId], light = {};
            wd.GLTFUtils.addData(light, "type", lightData.type);
            this._parseLightDataByType(light, lightData, light.type);
            return light;
        };
        GLTFParser.prototype._parseLightDataByType = function (light, lightData, type) {
            var data = lightData[type];
            switch (type) {
                case "ambient":
                case "directional":
                    light.lightColor = wd.GLTFUtils.getColor(data.color);
                    break;
                case "point":
                    light.lightColor = wd.GLTFUtils.getColor(data.color);
                    wd.GLTFUtils.addData(light, "distance", data.distance);
                    wd.GLTFUtils.addData(light, "constantAttenuation", data.constantAttenuation);
                    wd.GLTFUtils.addData(light, "linearAttenuation", data.linearAttenuation);
                    wd.GLTFUtils.addData(light, "quadraticAttenuation", data.quadraticAttenuation);
                    break;
                default:
                    break;
            }
        };
        GLTFParser.prototype._parseCamera = function (cameraId) {
            var cameraData = this._json.cameras[cameraId], camera = {};
            this._parseCameraDataByType(camera, cameraData);
            return camera;
        };
        GLTFParser.prototype._parseCameraDataByType = function (camera, cameraData) {
            var cameraComponent = null, type = cameraData.type, data = cameraData[type];
            switch (type) {
                case "perspective":
                    data = cameraData[type];
                    cameraComponent = wd.PerspectiveCamera.create();
                    cameraComponent.near = data.znear;
                    cameraComponent.far = data.zfar;
                    if (data.aspectRatio) {
                        cameraComponent.aspect = data.aspectRatio;
                    }
                    else {
                        var view = wd.DeviceManager.getInstance().view;
                        cameraComponent.aspect = view.width / view.height;
                    }
                    cameraComponent.fovy = data.yfov;
                    camera.camera = cameraComponent;
                    break;
                case "orthographic":
                    cameraComponent = wd.OrthographicCamera.create();
                    cameraComponent.near = data.znear;
                    cameraComponent.far = data.zfar;
                    cameraComponent.left = -data.xmag;
                    cameraComponent.right = data.xmag;
                    cameraComponent.top = data.ymag;
                    cameraComponent.bottom = -data.ymag;
                    camera.camera = cameraComponent;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("camera type:" + type));
                    break;
            }
        };
        GLTFParser.prototype._parseTransform = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var transform = {};
            if (args.length === 1) {
                var matrix = args[0];
                transform.matrix = wd.Matrix4.create(new Float32Array(matrix));
            }
            else if (args.length === 3) {
                var translation = args[0], rotation = args[1], scale = args[2];
                transform.position = wd.Vector3.create(translation[0], translation[1], translation[2]);
                transform.rotation = wd.Quaternion.create(rotation[0], rotation[1], rotation[2], rotation[3]);
                transform.scale = wd.Vector3.create(scale[0], scale[1], scale[2]);
            }
            return transform;
        };
        __decorate([
            wd.require(function (lightId) {
                var lights = this._json.extensions["KHR_materials_common"].lights;
                wd.assert(lights && lights[lightId], wd.Log.info.FUNC_NOT_EXIST("lightId:" + lightId));
            })
        ], GLTFParser.prototype, "_parseLight", null);
        __decorate([
            wd.require(function (cameraId) {
                var cameras = this._json.cameras;
                wd.assert(cameras && cameras[cameraId], wd.Log.info.FUNC_NOT_EXIST("cameraId:" + cameraId));
            })
        ], GLTFParser.prototype, "_parseCamera", null);
        return GLTFParser;
    }());
    wd.GLTFParser = GLTFParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFGeometryParser = (function () {
        function GLTFGeometryParser() {
            this._arrayBufferMap = null;
            this._imageMap = null;
            this._json = null;
            this._materialParser = wd.GLTFMaterialParser.create();
        }
        GLTFGeometryParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFGeometryParser.prototype.parse = function (json, object, mesh, arrayBufferMap, imageMap) {
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            this._imageMap = imageMap;
            if (mesh.primitives.length > 1) {
                for (var _i = 0, _a = mesh.primitives; _i < _a.length; _i++) {
                    var primitive = _a[_i];
                    var childObject = wd.GLTFUtils.createObjectData();
                    this._setChildObjectNameWithMultiPrimitives(childObject, primitive);
                    childObject.components.addChild(this._parseGeometry(primitive));
                    object.children.addChild(childObject);
                }
                object.isContainer = true;
            }
            else if (mesh.primitives.length === 1) {
                object.components.addChild(this._parseGeometry(mesh.primitives[0]));
            }
            else {
            }
        };
        GLTFGeometryParser.prototype._setChildObjectNameWithMultiPrimitives = function (object, primitive) {
            object.name = primitive.material;
        };
        GLTFGeometryParser.prototype._parseGeometry = function (primitive) {
            var json = this._json, arrayBufferMap = this._arrayBufferMap, accessor = null, bufferArr = null, geometry = {}, vertices = null, texCoords = null, colors = null, normals = null, faces = null;
            for (var semantic in primitive.attributes) {
                if (primitive.attributes.hasOwnProperty(semantic)) {
                    var attribute = primitive.attributes[semantic];
                    accessor = json.accessors[attribute];
                    bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, arrayBufferMap);
                    if (semantic === "POSITION") {
                        vertices = [];
                        this._addGeometryData(vertices, bufferArr);
                    }
                    else if (semantic.indexOf("TEXCOORD_") > -1) {
                        texCoords = [];
                        this._addGeometryData(texCoords, bufferArr);
                        this._normalizeTexCoords(texCoords);
                    }
                    else if (semantic === "NORMAL") {
                        normals = [];
                        for (var _i = 0, bufferArr_1 = bufferArr; _i < bufferArr_1.length; _i++) {
                            var data = bufferArr_1[_i];
                            normals.push(data);
                        }
                    }
                    else if (semantic === "COLOR") {
                        colors = [];
                        this._addGeometryData(colors, bufferArr);
                    }
                }
            }
            faces = this._getFaces(json, primitive.indices, normals);
            wd.GLTFUtils.addData(geometry, "vertices", vertices);
            wd.GLTFUtils.addData(geometry, "colors", colors);
            wd.GLTFUtils.addData(geometry, "texCoords", texCoords);
            wd.GLTFUtils.addData(geometry, "faces", faces);
            wd.GLTFUtils.addData(geometry, "drawMode", this._parseDrawMode(primitive.mode));
            geometry.material = this._materialParser.parse(json, primitive.material, this._imageMap);
            return geometry;
        };
        GLTFGeometryParser.prototype._addGeometryData = function (geometryData, sourceData) {
            for (var i = 0, len = sourceData.length; i < len; i++) {
                geometryData.push(sourceData[i]);
            }
        };
        GLTFGeometryParser.prototype._getFaces = function (json, indices, normals) {
            var accessor = null, bufferArr = null, face = null, faces = [];
            if (!indices) {
                return [];
            }
            accessor = json.accessors[indices];
            bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, this._arrayBufferMap);
            for (var i = 0, len = bufferArr.length; i < len; i += 3) {
                var aIndex = bufferArr[i], bIndex = bufferArr[i + 1], cIndex = bufferArr[i + 2], verticeIndiceArr = [aIndex, bIndex, cIndex];
                face = wd.Face3.create(aIndex, bIndex, cIndex);
                if (wd.GeometryUtils.hasData(normals)) {
                    this._addNormalData(face.vertexNormals, normals, verticeIndiceArr);
                }
                faces.push(face);
            }
            return faces;
        };
        GLTFGeometryParser.prototype._addNormalData = function (targetNormals, sourceNormals, normalIndiceArr) {
            var aIndex = normalIndiceArr[0], bIndex = normalIndiceArr[1], cIndex = normalIndiceArr[2];
            targetNormals.addChildren([
                this._getThreeComponentData(sourceNormals, aIndex),
                this._getThreeComponentData(sourceNormals, bIndex),
                this._getThreeComponentData(sourceNormals, cIndex)
            ]);
        };
        GLTFGeometryParser.prototype._getThreeComponentData = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        GLTFGeometryParser.prototype._parseDrawMode = function (mode) {
            var drawMode = null;
            if (!mode) {
                return null;
            }
            switch (mode) {
                case 0:
                    drawMode = wd.EDrawMode.POINTS;
                    break;
                case 1:
                    drawMode = wd.EDrawMode.LINES;
                    break;
                case 2:
                    drawMode = wd.EDrawMode.LINE_LOOP;
                    break;
                case 3:
                    drawMode = wd.EDrawMode.LINE_STRIP;
                    break;
                case 4:
                    drawMode = wd.EDrawMode.TRIANGLES;
                    break;
                case 5:
                    drawMode = wd.EDrawMode.TRIANGLE_STRIP;
                    break;
                case 6:
                    drawMode = wd.EDrawMode.TRANGLE_FAN;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("mode:" + mode));
                    break;
            }
            return drawMode;
        };
        GLTFGeometryParser.prototype._normalizeTexCoords = function (texCoords) {
            if (!texCoords) {
                return;
            }
            for (var i = 0, len = texCoords.length / 2; i < len; i++) {
                texCoords[i * 2 + 1] = 1.0 - texCoords[i * 2 + 1];
            }
        };
        __decorate([
            wd.require(function (json, indices, normals) {
                var accessor = null, bufferArr = null;
                if (!indices) {
                    return [];
                }
                accessor = json.accessors[indices];
                bufferArr = wd.GLTFUtils.getBufferArrFromAccessor(json, accessor, this._arrayBufferMap);
                wd.assert(bufferArr.length % 3 === 0, wd.Log.info.FUNC_SHOULD("indices' count", "3 times"));
            })
        ], GLTFGeometryParser.prototype, "_getFaces", null);
        return GLTFGeometryParser;
    }());
    wd.GLTFGeometryParser = GLTFGeometryParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFMaterialParser = (function () {
        function GLTFMaterialParser() {
            this._imageMap = null;
            this._json = null;
        }
        GLTFMaterialParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFMaterialParser.prototype.parse = function (json, materialId, imageMap) {
            var materialData = null, materialExtension = null;
            this._json = json;
            this._imageMap = imageMap;
            if (!this._isUseKHRMaterialExtension()) {
                wd.Log.log("no KHR_materials_common extension found, will use default material instead");
                var material_1 = {
                    type: "BasicMaterial",
                    doubleSided: false
                };
                return material_1;
            }
            var material = {};
            materialData = json.materials[materialId];
            wd.Log.error(!materialData.extensions || !materialData.extensions.KHR_materials_common, wd.Log.info.FUNC_SHOULD("materials", "define KHR_materials_common extensions"));
            materialExtension = materialData.extensions.KHR_materials_common;
            wd.GLTFUtils.addData(material, "doubleSided", materialExtension.doubleSided);
            wd.GLTFUtils.addData(material, "transparent", Boolean(materialExtension.transparent));
            material.type = this._getMaterialType(materialExtension.technique);
            material.lightModel = this._getLightModel(materialExtension.technique);
            this._addMaterialExtensionValues(material, materialExtension.values);
            return material;
        };
        GLTFMaterialParser.prototype._isUseKHRMaterialExtension = function () {
            var extensionsUsed = this._json.extensionsUsed;
            if (!extensionsUsed) {
                return false;
            }
            return extensionsUsed.indexOf("KHR_materials_common") > -1;
        };
        GLTFMaterialParser.prototype._getMaterialType = function (technique) {
            var type = null;
            switch (technique) {
                case "PHONG":
                case "BLINN":
                case "CONSTANT":
                case "LAMBERT":
                    type = "LightMaterial";
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("technique:" + technique));
                    break;
            }
            return type;
        };
        GLTFMaterialParser.prototype._getLightModel = function (technique) {
            var model = null;
            switch (technique) {
                case "PHONG":
                    model = wd.ELightModel.PHONG;
                    break;
                case "BLINN":
                    model = wd.ELightModel.BLINN;
                    break;
                case "CONSTANT":
                    model = wd.ELightModel.CONSTANT;
                    break;
                case "LAMBERT":
                    model = wd.ELightModel.LAMBERT;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("technique:" + technique));
                    break;
            }
            return model;
        };
        GLTFMaterialParser.prototype._addMaterialExtensionValues = function (material, values) {
            if (!values) {
                return;
            }
            if (values.ambient) {
                wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("ambient of material"));
            }
            this._addMaterialLightColor(material, "diffuse", values.diffuse);
            this._addMaterialLightColor(material, "specular", values.specular);
            this._addMaterialLightColor(material, "emission", values.emission);
            if (values.shininess) {
                material.shininess = values.shininess.value;
            }
            if (values.transparency) {
                material.opacity = values.transparency.value;
            }
        };
        GLTFMaterialParser.prototype._addMaterialLightColor = function (material, colorName, colorData) {
            if (!colorData) {
                return;
            }
            if (wd.JudgeUtils.isArrayExactly(colorData)) {
                material[(colorName + "Color")] = wd.GLTFUtils.getColor(colorData);
            }
            else {
                if (this._isColor(colorData.type)) {
                    material[(colorName + "Color")] = wd.GLTFUtils.getColor(colorData.value);
                }
                else {
                    material[(colorName + "Map")] = this._getTexture(colorData.value);
                }
            }
        };
        GLTFMaterialParser.prototype._isColor = function (type) {
            return Number(type) === 35666;
        };
        GLTFMaterialParser.prototype._getTexture = function (textureId) {
            var texture = null, asset = null;
            if (!this._json.textures || !this._json.textures[textureId]) {
                return null;
            }
            texture = this._json.textures[textureId];
            asset = this._createTextureAsset(texture.target, texture.source);
            if (texture.internalFormat !== texture.format) {
                wd.Log.warn("texture.internalFormat(" + texture.internalFormat + ") !== texture.format(" + texture.format + "), here take texture.format value as their value");
            }
            if (texture.format) {
                asset.format = this._getTextureFormat(texture.format);
            }
            if (texture.type) {
                asset.type = this._getTextureType(texture.type);
            }
            this._addTextureSampler(asset, texture.sampler);
            return asset.toTexture();
        };
        GLTFMaterialParser.prototype._createTextureAsset = function (target, imageId) {
            var asset = null, source = this._imageMap.getChild(imageId);
            if (!source) {
                wd.Log.warn("no image found in loader(id:" + imageId + ")");
            }
            switch (target) {
                case 3553:
                    asset = wd.ImageTextureAsset.create(source);
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("target except TEXTURE_2D"));
                    break;
            }
            return asset;
        };
        GLTFMaterialParser.prototype._getTextureType = function (type) {
            var textureType = null;
            switch (type) {
                case 5121:
                    textureType = wd.ETextureType.UNSIGNED_BYTE;
                    break;
                case 33635:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_5_6_5;
                    break;
                case 32819:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_4_4_4_4;
                    break;
                case 32820:
                    textureType = wd.ETextureType.UNSIGNED_SHORT_5_5_5_1;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture->type:" + type));
                    break;
            }
            return textureType;
        };
        GLTFMaterialParser.prototype._getTextureFormat = function (format) {
            var textureFormat = null;
            switch (format) {
                case 6406:
                    textureFormat = wd.ETextureFormat.ALPHA;
                    break;
                case 6407:
                    textureFormat = wd.ETextureFormat.RGB;
                    break;
                case 6408:
                    textureFormat = wd.ETextureFormat.RGBA;
                    break;
                case 6409:
                    textureFormat = wd.ETextureFormat.LUMINANCE;
                    break;
                case 6410:
                    textureFormat = wd.ETextureFormat.LUMINANCE_ALPHA;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture->format:" + format));
                    break;
            }
            return textureFormat;
        };
        GLTFMaterialParser.prototype._addTextureSampler = function (asset, samplerId) {
            var sampler = this._json.samplers[samplerId];
            asset.wrapT = this._getTextureWrap(sampler.wrapT);
            asset.wrapS = this._getTextureWrap(sampler.wrapS);
            asset.minFilter = this._getTextureFilter(sampler.minFilter);
            asset.magFilter = this._getTextureFilter(sampler.magFilter);
        };
        GLTFMaterialParser.prototype._getTextureFilter = function (filter) {
            var textureFilter = null;
            switch (filter) {
                case 9728:
                    textureFilter = wd.ETextureFilterMode.NEAREST;
                    break;
                case 9729:
                    textureFilter = wd.ETextureFilterMode.LINEAR;
                    break;
                case 9984:
                    textureFilter = wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST;
                    break;
                case 9985:
                    textureFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_NEAREST;
                    break;
                case 9986:
                    textureFilter = wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR;
                    break;
                case 9987:
                    textureFilter = wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture filter:" + filter));
                    break;
            }
            return textureFilter;
        };
        GLTFMaterialParser.prototype._getTextureWrap = function (wrap) {
            var textureWrap = null;
            switch (wrap) {
                case 33071:
                    textureWrap = wd.ETextureWrapMode.CLAMP_TO_EDGE;
                    break;
                case 33648:
                    textureWrap = wd.ETextureWrapMode.MIRRORED_REPEAT;
                    break;
                case 10497:
                    textureWrap = wd.ETextureWrapMode.REPEAT;
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("texture wrap:" + wrap));
                    break;
            }
            return textureWrap;
        };
        __decorate([
            wd.require(function (asset, samplerId) {
                wd.assert(!!this._json.samplers[samplerId], wd.Log.info.FUNC_NOT_EXIST("samplerId:" + samplerId));
            })
        ], GLTFMaterialParser.prototype, "_addTextureSampler", null);
        return GLTFMaterialParser;
    }());
    wd.GLTFMaterialParser = GLTFMaterialParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFArticulatedAnimationParser = (function () {
        function GLTFArticulatedAnimationParser() {
            this._arrayBufferMap = null;
            this._json = null;
            this._translationArrayOffset = null;
            this._rotationArrayOffset = null;
            this._scaleArrayOffset = null;
        }
        GLTFArticulatedAnimationParser.create = function () {
            var obj = new this();
            return obj;
        };
        GLTFArticulatedAnimationParser.prototype.parse = function (json, objects, arrayBufferMap) {
            var _this = this;
            var nodeWithAnimationMap = wdCb.Hash.create(), self = this;
            this._json = json;
            this._arrayBufferMap = arrayBufferMap;
            var _loop_1 = function(animId) {
                if (json.animations.hasOwnProperty(animId)) {
                    var animation_1 = json.animations[animId], nodeWithChannelMap = wdCb.Hash.create();
                    for (var i = 0, len = animation_1.channels.length; i < len; i++) {
                        var channel = animation_1.channels[i], targetId = channel.target.id;
                        nodeWithChannelMap.appendChild(targetId, channel);
                    }
                    nodeWithChannelMap.forEach(function (channelList, targetId) {
                        var keyFrameDataList = wdCb.Collection.create(), targetNode = self._findNode(objects, targetId), inputData = null, bufferInput = null;
                        if (targetNode === null) {
                            wd.Log.warn("can't find node whose id is " + targetId + " to attach to animation named " + animId);
                            return;
                        }
                        self._addAnimationToNode(nodeWithAnimationMap, targetId, targetNode, self._getAnimName(animation_1, animId), keyFrameDataList);
                        inputData = self._getInputData(animation_1, channelList);
                        bufferInput = wd.GLTFUtils.getBufferArrFromAccessor(json, json.accessors[inputData], arrayBufferMap);
                        _this._translationArrayOffset = 0;
                        _this._rotationArrayOffset = 0;
                        _this._scaleArrayOffset = 0;
                        for (var j = 0; j < bufferInput.length; j++) {
                            var keyFrameData = {};
                            keyFrameData.time = _this._convertSecondToMillisecond(bufferInput[j]);
                            keyFrameData.targets = _this._getKeyFrameDataTargets(animation_1, channelList);
                            keyFrameDataList.addChild(keyFrameData);
                        }
                    });
                }
            };
            for (var animId in json.animations) {
                _loop_1(animId);
            }
            this._addAnimationComponent(nodeWithAnimationMap);
        };
        GLTFArticulatedAnimationParser.prototype._getAnimName = function (animation, animId) {
            return animation.name ? animation.name : animId;
        };
        GLTFArticulatedAnimationParser.prototype._getInputData = function (animation, channelList) {
            var result = null;
            channelList.forEach(function (channel) {
                var sampler = animation.samplers[channel.sampler];
                if (sampler) {
                    result = animation.parameters[sampler.input];
                    return wdCb.$BREAK;
                }
            });
            return result;
        };
        GLTFArticulatedAnimationParser.prototype._addAnimationToNode = function (nodeWithAnimationMap, targetId, targetNode, animName, keyFrameDataList) {
            if (!nodeWithAnimationMap.hasChild(targetId)) {
                nodeWithAnimationMap.addChild(targetId, {
                    node: targetNode,
                    animationData: {}
                });
            }
            nodeWithAnimationMap.getChild(targetId).animationData[animName] = keyFrameDataList;
        };
        GLTFArticulatedAnimationParser.prototype._getKeyFrameDataTargets = function (animation, channelList) {
            var _this = this;
            var targets = wdCb.Collection.create();
            channelList.forEach(function (channel) {
                var sampler = animation.samplers[channel.sampler], outputData = null, bufferOutput = null, targetPath = null, targetData = {};
                if (!sampler) {
                    return;
                }
                targetPath = channel.target.path;
                outputData = animation.parameters[sampler.output];
                bufferOutput = wd.GLTFUtils.getBufferArrFromAccessor(_this._json, _this._json.accessors[outputData], _this._arrayBufferMap);
                targetData.interpolationMethod = _this._convertTointerpolationMethod(sampler.interpolation);
                switch (targetPath) {
                    case "translation":
                        targetData.target = wd.EArticulatedAnimationTarget.TRANSLATION;
                        targetData.data = wd.Vector3.create(bufferOutput[_this._translationArrayOffset], bufferOutput[_this._translationArrayOffset + 1], bufferOutput[_this._translationArrayOffset + 2]);
                        _this._translationArrayOffset += 3;
                        break;
                    case "rotation":
                        targetData.target = wd.EArticulatedAnimationTarget.ROTATION;
                        targetData.data = wd.Quaternion.create(bufferOutput[_this._rotationArrayOffset], bufferOutput[_this._rotationArrayOffset + 1], bufferOutput[_this._rotationArrayOffset + 2], bufferOutput[_this._rotationArrayOffset + 3]);
                        _this._rotationArrayOffset += 4;
                        break;
                    case "scale":
                        targetData.target = wd.EArticulatedAnimationTarget.SCALE;
                        targetData.data = wd.Vector3.create(bufferOutput[_this._scaleArrayOffset], bufferOutput[_this._scaleArrayOffset + 1], bufferOutput[_this._scaleArrayOffset + 2]);
                        _this._scaleArrayOffset += 3;
                        break;
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("path:" + targetPath));
                        break;
                }
                targets.addChild(targetData);
            });
            return targets;
        };
        GLTFArticulatedAnimationParser.prototype._findNode = function (objects, targetId) {
            var find = function (objects) {
                var result = objects.findOne(function (object) {
                    return object.id === targetId;
                });
                if (result) {
                    return result;
                }
                objects.forEach(function (object) {
                    result = find(object.children);
                    if (result) {
                        return wdCb.$BREAK;
                    }
                });
                return result;
            };
            return find(objects);
        };
        GLTFArticulatedAnimationParser.prototype._addAnimationComponent = function (nodeWithAnimationMap) {
            nodeWithAnimationMap.forEach(function (_a) {
                var node = _a.node, animationData = _a.animationData;
                node.components.addChild(animationData);
            });
        };
        GLTFArticulatedAnimationParser.prototype._convertSecondToMillisecond = function (time) {
            return 1000 * time;
        };
        GLTFArticulatedAnimationParser.prototype._convertTointerpolationMethod = function (jsonInterpolation) {
            switch (jsonInterpolation) {
                case "LINEAR":
                    return wd.EKeyFrameInterpolation.LINEAR;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_NOT_SUPPORT("interpolation:" + jsonInterpolation));
                    break;
            }
        };
        __decorate([
            wd.require(function (animation, channelList) {
                var inputSamplerList = wdCb.Collection.create();
                for (var samplerId in animation.samplers) {
                    if (animation.samplers.hasOwnProperty(samplerId)) {
                        var sampelr = animation.samplers[samplerId];
                        inputSamplerList.addChild(sampelr.input);
                    }
                }
                wd.assert(inputSamplerList.removeRepeatItems().getCount() === 1, wd.Log.info.FUNC_SHOULD("all sampler->input", "be the same"));
            })
        ], GLTFArticulatedAnimationParser.prototype, "_getInputData", null);
        __decorate([
            wd.ensure(function (returnVal, nodeWithAnimationMap) {
                nodeWithAnimationMap.forEach(function (_a) {
                    var node = _a.node, animationData = _a.animationData;
                    wd.assert(node.components.filter(function (component) {
                        return wd.GLTFUtils.isIGLTFArticulatedAnimation(component);
                    }).getCount() <= 1, wd.Log.info.FUNC_SHOULD("node", "only has 1 IGLTFArticulatedAnimation component"));
                });
            })
        ], GLTFArticulatedAnimationParser.prototype, "_addAnimationComponent", null);
        return GLTFArticulatedAnimationParser;
    }());
    wd.GLTFArticulatedAnimationParser = GLTFArticulatedAnimationParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GLTFUtils = (function () {
        function GLTFUtils() {
        }
        GLTFUtils.addData = function (target, sourceName, sourceData) {
            if (sourceData !== undefined && sourceData !== null) {
                target[sourceName] = sourceData;
            }
        };
        GLTFUtils.isBase64 = function (uri) {
            return uri.length < 5 ? false : uri.substr(0, 5) === "data:";
        };
        GLTFUtils.decodeArrayBuffer = function (base64Str) {
            var base64 = base64Str.split(',')[1], decodedString = atob(base64), bufferLength = decodedString.length, arraybuffer = new Uint8Array(new ArrayBuffer(bufferLength));
            for (var i = 0; i < bufferLength; i++) {
                arraybuffer[i] = decodedString.charCodeAt(i);
            }
            return arraybuffer.buffer;
        };
        GLTFUtils.createObjectData = function () {
            return {
                id: null,
                isContainer: false,
                components: wdCb.Collection.create(),
                children: wdCb.Collection.create()
            };
        };
        GLTFUtils.getColor = function (value) {
            var color = wd.Color.create();
            color.r = Number(value[0]);
            color.g = Number(value[1]);
            color.b = Number(value[2]);
            if (value.length === 4) {
                color.a = Number(value[3]);
            }
            return color;
        };
        GLTFUtils.getBufferArrFromAccessor = function (json, accessor, arrayBufferMap) {
            var bufferView = json.bufferViews[accessor.bufferView], arrayBuffer = arrayBufferMap.getChild(bufferView.buffer), byteOffset = accessor.byteOffset + bufferView.byteOffset, count = accessor.count * this.getAccessorTypeSize(accessor);
            switch (accessor.componentType) {
                case 5120:
                    return new Int8Array(arrayBuffer, byteOffset, count);
                case 5121:
                    return new Uint8Array(arrayBuffer, byteOffset, count);
                case 5122:
                    return new Int16Array(arrayBuffer, byteOffset, count);
                case 5123:
                    return new Uint16Array(arrayBuffer, byteOffset, count);
                case 5126:
                    return new Float32Array(arrayBuffer, byteOffset, count);
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("componentType:" + accessor.componentType));
                    break;
            }
        };
        GLTFUtils.getAccessorTypeSize = function (accessor) {
            var type = accessor.type;
            switch (type) {
                case "VEC2":
                    return 2;
                case "VEC3":
                    return 3;
                case "VEC4":
                    return 4;
                case "MAT2":
                    return 4;
                case "MAT3":
                    return 9;
                case "MAT4":
                    return 16;
                default:
                    return 1;
            }
        };
        GLTFUtils.isIGLTFArticulatedAnimation = function (component) {
            if (!wd.JudgeUtils.isDirectObject(component)) {
                return false;
            }
            for (var animName in component) {
                return component[animName] instanceof wdCb.Collection && component[animName].getCount() > 0 && component[animName].getChild(0).time !== void 0;
            }
        };
        return GLTFUtils;
    }());
    wd.GLTFUtils = GLTFUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EWDTag) {
        EWDTag[EWDTag["CONTAINER"] = "CONTAINER"] = "CONTAINER";
    })(wd.EWDTag || (wd.EWDTag = {}));
    var EWDTag = wd.EWDTag;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDLoader = (function (_super) {
        __extends(WDLoader, _super);
        function WDLoader() {
            _super.apply(this, arguments);
            this._wdParser = wd.WDParser.create();
            this._wdBuilder = wd.WDBuilder.create();
            this._parseData = null;
        }
        WDLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        WDLoader.prototype.loadAsset = function () {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this;
            return wd.AjaxLoader.load(url, "json")
                .flatMap(function (json) {
                self._parseData = self._wdParser.parse(json);
                return _this._createLoadMapStream(url);
            })
                .concat(wdFrp.callFunc(function () {
                return self._wdBuilder.build(self._parseData);
            }));
        };
        WDLoader.prototype._createLoadMapStream = function (filePath) {
            var streamArr = [], parseData = this._parseData, i = null;
            parseData.materials.forEach(function (material) {
                var mapUrlArr = [];
                if (material.diffuseMapUrl) {
                    mapUrlArr.push(["diffuseMap", material.diffuseMapUrl]);
                }
                if (material.specularMapUrl) {
                    mapUrlArr.push(["specularMap", material.specularMapUrl]);
                }
                if (material.normalMapUrl) {
                    mapUrlArr.push(["normalMap", material.normalMapUrl]);
                }
                streamArr.push(wdFrp.fromArray(mapUrlArr)
                    .flatMap(function (_a) {
                    var type = _a[0], mapUrl = _a[1];
                    return wd.TextureLoader.getInstance().load(wd.ModelLoaderUtils.getPath(filePath, mapUrl))
                        .do(function (asset) {
                        material[type] = asset.toTexture();
                    }, null, null);
                }));
            });
            return wdFrp.fromArray(streamArr).mergeAll();
        };
        WDLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], WDLoader.prototype, "loadAsset", null);
        return WDLoader;
    }(wd.Loader));
    wd.WDLoader = WDLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDParser = (function () {
        function WDParser() {
            this._data = {};
            this._objectParser = wd.WDObjectParser.create();
        }
        WDParser.create = function () {
            var obj = new this();
            return obj;
        };
        WDParser.prototype.parse = function (json) {
            this._parseMetadata(json);
            this._parseScene(json);
            this._parseMaterial(json);
            this._parseObject(json);
            return this._data;
        };
        WDParser.prototype._parseMetadata = function (json) {
            this._data.metadata = json.metadata;
        };
        WDParser.prototype._parseObject = function (json) {
            this._objectParser.parse(this._data, json);
        };
        WDParser.prototype._parseScene = function (json) {
            this._data.scene = json.scene;
            if (json.scene.ambientColor) {
                this._data.scene.ambientColor = this._createColor(json.scene.ambientColor);
            }
        };
        WDParser.prototype._parseMaterial = function (json) {
            var _this = this;
            this._data.materials = wdCb.Hash.create(json.materials);
            this._data.materials.forEach(function (material) {
                if (material.diffuseColor) {
                    material.diffuseColor = _this._createColor(material.diffuseColor);
                }
                if (material.specularColor) {
                    material.specularColor = _this._createColor(material.specularColor);
                }
            });
        };
        WDParser.prototype._createColor = function (colorArr) {
            return wd.Color.create("rgb(" + colorArr.join(",").replace(/^(\d+),/g, "$1.0,").replace(/,(\d+),/g, ",$1.0,").replace(/,(\d+)$/g, ",$1.0") + ")");
        };
        return WDParser;
    }());
    wd.WDParser = WDParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDObjectParser = (function () {
        function WDObjectParser() {
        }
        WDObjectParser.create = function () {
            var obj = new this();
            return obj;
        };
        WDObjectParser.prototype.parse = function (data, json) {
            var parse = null, self = this;
            data.objects = wdCb.Collection.create(json.objects);
            parse = function (object) {
                if (self._isObjectContainer(object)) {
                    object.isContainer = true;
                }
                else {
                    object.isContainer = false;
                    self._parseFromIndices(object);
                }
                if (object.children) {
                    object.children = wdCb.Collection.create(object.children);
                    object.children.forEach(function (child) {
                        child.parent = object;
                        parse(child);
                    });
                }
            };
            data.objects.forEach(function (object) {
                object.parent = null;
                parse(object);
                self._removeObjectContainerData(object);
            });
        };
        WDObjectParser.prototype._isObjectContainer = function (object) {
            return !wd.GeometryUtils.hasData(object.verticeIndices);
        };
        WDObjectParser.prototype._parseFromIndices = function (object) {
            this._duplicateVertexWithDifferentUvs(object);
            this._parseObjectFromIndices(object);
            this._removeRebundantIndiceData(object);
        };
        WDObjectParser.prototype._duplicateVertexWithDifferentUvs = function (object) {
            var arr = [], container = wdCb.Hash.create(), verticeIndices = object.verticeIndices, uvIndices = object.uvIndices;
            if (!wd.GeometryUtils.hasData(uvIndices)) {
                return;
            }
            for (var i = 0, len = verticeIndices.length; i < len; i++) {
                var verticeIndex = verticeIndices[i];
                if (this._isSameVertexWithDifferentUvsByCompareToFirstOne(arr, uvIndices[i], verticeIndex)) {
                    if (this._isUvIndiceEqualTheOneOfAddedVertex(container, verticeIndex, uvIndices[i])) {
                        verticeIndices[i] = this._getVerticeIndexOfAddedVertexByFindContainer(container, verticeIndex, uvIndices[i]);
                    }
                    else {
                        this._addVertexData(object, container, verticeIndex, i);
                    }
                    verticeIndex = verticeIndices[i];
                }
                arr[verticeIndex] = uvIndices[i];
            }
        };
        WDObjectParser.prototype._isSameVertexWithDifferentUvsByCompareToFirstOne = function (arr, uvIndex, verticeIndex) {
            return arr[verticeIndex] !== void 0 && arr[verticeIndex] !== uvIndex;
        };
        WDObjectParser.prototype._addVertexData = function (object, container, verticeIndex, index) {
            var verticeIndices = object.verticeIndices, uvIndices = object.uvIndices, normalIndices = object.normalIndices, vertices = this._findData(object, "vertices"), normals = this._findData(object, "normals"), morphTargets = this._findData(object, "morphTargets"), verticeIndexOfAddedVertex = null;
            this._addThreeComponent(vertices, verticeIndex);
            verticeIndexOfAddedVertex = this._getVerticeIndexOfAddedVertex(vertices);
            verticeIndices[index] = verticeIndexOfAddedVertex;
            if (wd.GeometryUtils.hasData(morphTargets)) {
                for (var _i = 0, morphTargets_1 = morphTargets; _i < morphTargets_1.length; _i++) {
                    var frame = morphTargets_1[_i];
                    this._addThreeComponent(frame.vertices, verticeIndex);
                    if (wd.GeometryUtils.hasData(frame.normals)) {
                        this._addDuplicateNormalOfAddedVertex(frame.normals, normalIndices, index, verticeIndex);
                    }
                }
            }
            if (wd.GeometryUtils.hasData(normals)) {
                this._addDuplicateNormalOfAddedVertex(normals, normalIndices, index, verticeIndex);
                if (wd.GeometryUtils.hasData(normalIndices)) {
                    normalIndices[index] = verticeIndexOfAddedVertex;
                }
            }
            container.appendChild(String(verticeIndex), [uvIndices[index], verticeIndexOfAddedVertex]);
        };
        WDObjectParser.prototype._addDuplicateNormalOfAddedVertex = function (normals, normalIndices, index, oldVerticeIndex) {
            if (!wd.GeometryUtils.hasData(normalIndices)) {
                this._addThreeComponent(normals, normals, oldVerticeIndex);
                return;
            }
            this._addThreeComponent(normals, normals, normalIndices[index]);
        };
        WDObjectParser.prototype._isUvIndiceEqualTheOneOfAddedVertex = function (container, targetVerticeIndex, targetUvIndex) {
            var data = container.getChild(String(targetVerticeIndex));
            if (!data) {
                return false;
            }
            return data.hasChildWithFunc(function (_a) {
                var uvIndex = _a[0], verticeIndex = _a[1];
                return uvIndex === targetUvIndex;
            });
        };
        WDObjectParser.prototype._getVerticeIndexOfAddedVertexByFindContainer = function (container, targetVerticeIndex, targetUvIndex) {
            var data = container.getChild(String(targetVerticeIndex));
            return data.findOne(function (_a) {
                var uvIndex = _a[0], verticeIndex = _a[1];
                return uvIndex === targetUvIndex;
            })[1];
        };
        WDObjectParser.prototype._getVerticeIndexOfAddedVertex = function (vertices) {
            return vertices.length / 3 - 1;
        };
        WDObjectParser.prototype._addThreeComponent = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (args.length === 2) {
                var data = args[0], index = args[1];
                data.push(data[index * 3], data[index * 3 + 1], data[index * 3 + 2]);
            }
            else {
                var targetData = args[0], sourceData = args[1], index = args[2];
                targetData.push(sourceData[index * 3], sourceData[index * 3 + 1], sourceData[index * 3 + 2]);
            }
        };
        WDObjectParser.prototype._parseObjectFromIndices = function (object) {
            var vertices = [], uvs = [], faces = [], face = null, colors = [], objectVertices = this._findData(object, "vertices"), objectUVs = this._findData(object, "uvs"), objectNormals = this._findData(object, "normals"), objectColors = this._findData(object, "colors");
            for (var i = 0, len = object.verticeIndices.length; i < len; i += 3) {
                var aIndex = object.verticeIndices[i], bIndex = object.verticeIndices[i + 1], cIndex = object.verticeIndices[i + 2], indexArr = [i, i + 1, i + 2], verticeIndiceArr = [aIndex, bIndex, cIndex];
                face = wd.Face3.create(aIndex, bIndex, cIndex);
                if (wd.GeometryUtils.hasData(object.uvIndices) && wd.GeometryUtils.hasData(objectUVs)) {
                    this._setUV(uvs, objectUVs, object.uvIndices, indexArr, verticeIndiceArr);
                }
                if (wd.GeometryUtils.hasData(objectNormals)) {
                    this._setNormal(face.vertexNormals, objectNormals, object.normalIndices, indexArr, verticeIndiceArr);
                }
                faces.push(face);
            }
            object.vertices = objectVertices;
            if (!wd.GeometryUtils.hasData(object.uvIndices)) {
                object.uvs = objectUVs;
            }
            else {
                object.uvs = uvs;
            }
            object.colors = objectColors;
            object.faces = faces;
            this._setMorphTargets(object, object.verticeIndices, object.normalIndices);
        };
        WDObjectParser.prototype._getAnimName = function (frameName) {
            var PATTERN = /([a-z]+)_?(\d+)/, DEFAULT_ANIM_NAME = "default";
            var parts = frameName.match(PATTERN);
            return parts && parts.length > 1 ? parts[1] : DEFAULT_ANIM_NAME;
        };
        WDObjectParser.prototype._removeRebundantIndiceData = function (object) {
            delete object.verticeIndices;
            delete object.uvIndices;
            delete object.normalIndices;
        };
        WDObjectParser.prototype._removeObjectContainerData = function (object) {
            var remove = null;
            remove = function (object) {
                if (object.isContainer) {
                    delete object.vertices;
                    delete object.uvs;
                    delete object.colors;
                }
                if (object.children) {
                    object.children.forEach(function (child) {
                        remove(child);
                    });
                }
            };
            remove(object);
        };
        WDObjectParser.prototype._findData = function (object, dataName) {
            var data = null;
            do {
                data = object[dataName];
            } while (!data && (object = object.parent) !== null);
            return data;
        };
        WDObjectParser.prototype._setUV = function (targetUVs, sourceUVs, uvIndices, indexArr, verticeIndiceArr) {
            var uvIndice1 = null, uvIndice2 = null, uvIndice3 = null, index1 = indexArr[0], index2 = indexArr[1], index3 = indexArr[2], aIndex = verticeIndiceArr[0], bIndex = verticeIndiceArr[1], cIndex = verticeIndiceArr[2];
            uvIndice1 = uvIndices[index1];
            uvIndice2 = uvIndices[index2];
            uvIndice3 = uvIndices[index3];
            this._setTwoComponentData(targetUVs, sourceUVs, aIndex, uvIndice1);
            this._setTwoComponentData(targetUVs, sourceUVs, bIndex, uvIndice2);
            this._setTwoComponentData(targetUVs, sourceUVs, cIndex, uvIndice3);
        };
        WDObjectParser.prototype._setTwoComponentData = function (targetData, sourceData, index, indice) {
            targetData[index * 2] = sourceData[indice * 2];
            targetData[index * 2 + 1] = sourceData[indice * 2 + 1];
        };
        WDObjectParser.prototype._setThreeComponentData = function (targetData, sourceData, index, indice) {
            targetData[index * 3] = sourceData[indice * 3];
            targetData[index * 3 + 1] = sourceData[indice * 3 + 1];
            targetData[index * 3 + 2] = sourceData[indice * 3 + 2];
        };
        WDObjectParser.prototype._getThreeComponentData = function (sourceData, index) {
            var startIndex = 3 * index;
            return wd.Vector3.create(sourceData[startIndex], sourceData[startIndex + 1], sourceData[startIndex + 2]);
        };
        WDObjectParser.prototype._setNormal = function (targetNormals, sourceNormals, normalIndices, indexArr, verticeIndiceArr) {
            var index1 = indexArr[0], index2 = indexArr[1], index3 = indexArr[2];
            if (!wd.GeometryUtils.hasData(normalIndices)) {
                this._addNormalData(targetNormals, sourceNormals, verticeIndiceArr);
                return;
            }
            this._addNormalData(targetNormals, sourceNormals, [normalIndices[index1], normalIndices[index2], normalIndices[index3]]);
        };
        WDObjectParser.prototype._addNormalData = function (targetNormals, sourceNormals, normalIndiceArr) {
            var aIndex = normalIndiceArr[0], bIndex = normalIndiceArr[1], cIndex = normalIndiceArr[2];
            if (targetNormals instanceof wdCb.Collection) {
                targetNormals.addChildren([
                    this._getThreeComponentData(sourceNormals, aIndex),
                    this._getThreeComponentData(sourceNormals, bIndex),
                    this._getThreeComponentData(sourceNormals, cIndex)
                ]);
            }
            else {
                var normals = targetNormals;
                for (var _i = 0, _a = [this._getThreeComponentData(sourceNormals, aIndex), this._getThreeComponentData(sourceNormals, bIndex), this._getThreeComponentData(sourceNormals, cIndex)]; _i < _a.length; _i++) {
                    var v = _a[_i];
                    normals.push(v.x, v.y, v.z);
                }
            }
        };
        WDObjectParser.prototype._setMorphTargets = function (object, verticeIndices, normalIndices) {
            var objectMorphTargets = this._findData(object, "morphTargets"), morphTargets = null, morphNormals = null;
            if (wd.GeometryUtils.hasData(objectMorphTargets)) {
                morphTargets = wdCb.Hash.create();
                morphNormals = wdCb.Hash.create();
                for (var _i = 0, objectMorphTargets_1 = objectMorphTargets; _i < objectMorphTargets_1.length; _i++) {
                    var frameData = objectMorphTargets_1[_i];
                    var animName = this._getAnimName(frameData.name);
                    morphTargets.appendChild(animName, frameData.vertices);
                    if (wd.GeometryUtils.hasData(frameData.normals)) {
                        if (wd.GeometryUtils.hasData(normalIndices)) {
                            var normals = [];
                            for (var i = 0, len = verticeIndices.length; i < len; i++) {
                                this._setThreeComponentData(normals, frameData.normals, verticeIndices[i], normalIndices[i]);
                            }
                            morphNormals.appendChild(animName, normals);
                        }
                        else {
                            morphNormals.appendChild(animName, frameData.normals);
                        }
                    }
                }
            }
            object.morphTargets = morphTargets;
            object.morphNormals = morphNormals;
        };
        __decorate([
            wd.require(function (container, targetVerticeIndex, targetUvIndex) {
                wd.assert(this._isUvIndiceEqualTheOneOfAddedVertex(container, targetVerticeIndex, targetUvIndex), wd.Log.info.FUNC_SHOULD("uvIndex", "equal the one of added vertex"));
            })
        ], WDObjectParser.prototype, "_getVerticeIndexOfAddedVertexByFindContainer", null);
        __decorate([
            wd.ensure(function (returnValue, object) {
                wd.assert(!object.verticeIndices, wd.Log.info.FUNC_SHOULD("object.verticeIndices", "be removed"));
                wd.assert(!object.uvIndices, wd.Log.info.FUNC_SHOULD("object.uvIndices", "be removed"));
                wd.assert(!object.normalIndices, wd.Log.info.FUNC_SHOULD("object.normalIndices", "be removed"));
            })
        ], WDObjectParser.prototype, "_removeRebundantIndiceData", null);
        return WDObjectParser;
    }());
    wd.WDObjectParser = WDObjectParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WDBuilder = (function () {
        function WDBuilder() {
            this._result = wdCb.Hash.create();
        }
        WDBuilder.create = function () {
            var obj = new this();
            return obj;
        };
        WDBuilder.prototype.build = function (parseData) {
            this._buildMetadata(parseData);
            this._buildScene(parseData);
            this._buildModels(parseData);
            return this._result;
        };
        WDBuilder.prototype._buildMetadata = function (parseData) {
            var metadata = wdCb.Hash.create();
            for (var i in parseData.metadata) {
                if (parseData.metadata.hasOwnProperty(i)) {
                    metadata.addChild(i, parseData.metadata[i]);
                }
            }
            this._result.addChild("metadata", metadata);
        };
        WDBuilder.prototype._buildScene = function (parseData) {
            var scene = wdCb.Hash.create();
            if (parseData.scene.ambientColor) {
                scene.addChild("ambientColor", parseData.scene.ambientColor);
            }
            this._result.addChild("scene", scene);
        };
        WDBuilder.prototype._buildModels = function (parseData) {
            var models = wdCb.Collection.create(), self = this, build = null;
            build = function (objects, models) {
                objects.forEach(function (object) {
                    var geometry = null, model = null;
                    model = wd.GameObject.create();
                    if (self._isModelContainer(object)) {
                        model.addTag(wd.EWDTag.CONTAINER);
                    }
                    else {
                        geometry = wd.ModelGeometry.create();
                        geometry.vertices = object.vertices;
                        geometry.faces = object.faces;
                        geometry.texCoords = object.uvs;
                        geometry.colors = object.colors;
                        if (object.material) {
                            geometry.material = self._buildMaterial(object.material, parseData.materials);
                        }
                        geometry.morphTargets = object.morphTargets;
                        geometry.morphFaceNormals = object.morphNormals;
                        geometry.morphVertexNormals = object.morphNormals;
                        if (wd.GeometryUtils.hasData(geometry.morphTargets)) {
                            model.addComponent(wd.MorphAnimation.create());
                        }
                        model.addComponent(geometry);
                    }
                    model.name = object.name;
                    model.addComponent(wd.MeshRenderer.create());
                    models.addChild(model);
                    if (object.children) {
                        build(object.children, model);
                    }
                });
            };
            build(parseData.objects, models);
            this._result.addChild("models", models);
        };
        WDBuilder.prototype._isModelContainer = function (object) {
            return object.isContainer;
        };
        WDBuilder.prototype._buildMaterial = function (materialName, materials) {
            var DEFAULTYPE = "LightMaterial";
            var materialData = null, type = null, material = null;
            _a = materials.findOne(function (material, name) {
                return name === materialName;
            }), materialData = _a[1];
            type = materialData.type || DEFAULTYPE;
            wdCb.Log.error(!wd[type], wdCb.Log.info.FUNC_NOT_EXIST("materialClass:" + type));
            material = wd[type].create();
            material.name = materialName;
            if (materialData.diffuseColor) {
                material.color = materialData.diffuseColor;
            }
            if (materialData.specularColor) {
                material.specularColor = materialData.specularColor;
            }
            if (materialData.diffuseMap) {
                material.diffuseMap = materialData.diffuseMap;
            }
            if (materialData.specularMap) {
                material.specularMap = materialData.specularMap;
            }
            if (materialData.normalMap) {
                material.normalMap = materialData.normalMap;
            }
            if (materialData.shininess !== null) {
                material.shininess = materialData.shininess;
            }
            if (materialData.opacity !== null) {
                material.opacity = materialData.opacity;
            }
            return material;
            var _a;
        };
        return WDBuilder;
    }());
    wd.WDBuilder = WDBuilder;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TYPE = {
        ".eot": "embedded-opentype",
        ".ttf": "truetype",
        ".woff": "woff",
        ".svg": "svg"
    };
    var FontLoader = (function (_super) {
        __extends(FontLoader, _super);
        function FontLoader() {
            _super.apply(this, arguments);
            this._familyName = null;
        }
        FontLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        FontLoader.prototype.dispose = function () {
            _super.prototype.dispose.call(this);
            wdCb.DomQuery.create("#" + this._familyName).remove();
        };
        FontLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var familyName = args[1], self = this;
            this._familyName = familyName;
            return wdFrp.fromPromise(new RSVP.Promise(function (resolve, reject) {
                self._addStyleElement(args, familyName);
                if (document.fonts) {
                    document.fonts.load("1em " + familyName).then(function () {
                        resolve();
                    }, function (e) {
                        reject(e);
                    });
                }
                else {
                    wd.Log.warn("your browser not support document.fonts api, so it can't ensure that the font is loaded");
                    resolve();
                }
            }));
        };
        FontLoader.prototype._getType = function (url) {
            return TYPE[wdCb.PathUtils.extname(url).toLowerCase()];
        };
        FontLoader.prototype._addStyleElement = function (args, familyName) {
            var fontStyleEle = wdCb.DomQuery.create("<style id=\"" + familyName + "\"></style>"), fontStr = null;
            fontStyleEle.prependTo("body");
            fontStr = "@font-face { font-family:" + familyName + "; src:";
            if (wd.JudgeUtils.isArrayExactly(args[0])) {
                var urlArr = args[0];
                for (var _i = 0, urlArr_1 = urlArr; _i < urlArr_1.length; _i++) {
                    var url = urlArr_1[_i];
                    fontStr += "url('" + url + "') format('" + this._getType(url) + "'),";
                }
                fontStr = fontStr.replace(/,$/, ";");
            }
            else {
                var url = args[0];
                fontStr += "url('" + url + "') format('" + this._getType(url) + "');";
            }
            fontStyleEle.get(0).textContent += fontStr + "};";
        };
        FontLoader._instance = null;
        __decorate([
            wd.require(function (url) {
                var extname = wdCb.PathUtils.extname(url).toLowerCase();
                wd.assert(!!TYPE[extname], wd.Log.info.FUNC_UNKNOW("type:" + extname));
            })
        ], FontLoader.prototype, "_getType", null);
        return FontLoader;
    }(wd.Loader));
    wd.FontLoader = FontLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var COMMON_EXP = /common [^\n]*(\n|$)/gi, PAGE_EXP = /page [^\n]*(\n|$)/gi, CHAR_EXP = /char [^\n]*(\n|$)/gi, ITEM_EXP = /\w+=[^ \r\n]+/gi, INT_EXP = /^[\-]?\d+$/;
    var FntParser = (function () {
        function FntParser() {
        }
        FntParser.create = function () {
            var obj = new this();
            return obj;
        };
        FntParser.prototype.parseFnt = function (fntStr, url) {
            var fnt = {}, commonObj = null, pageObj = null;
            commonObj = this._parseStrToObj(fntStr.match(COMMON_EXP)[0]);
            fnt.commonHeight = commonObj["lineHeight"];
            if (commonObj["pages"] !== 1) {
                wd.Log.log("only supports 1 page");
            }
            pageObj = this._parseStrToObj(fntStr.match(PAGE_EXP)[0]);
            if (pageObj["id"] !== 0) {
                wd.Log.log("file could not be found");
            }
            fnt.atlasName = wdCb.PathUtils.changeBasename(url, pageObj["file"]);
            this._parseChar(fntStr, fnt);
            return fnt;
        };
        FntParser.prototype._parseStrToObj = function (str) {
            var arr = str.match(ITEM_EXP), obj = {};
            if (arr) {
                for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
                    var tempStr = arr_1[_i];
                    var index = tempStr.indexOf("="), key = tempStr.substring(0, index), value = tempStr.substring(index + 1);
                    if (value.match(INT_EXP)) {
                        value = parseInt(value);
                    }
                    else if (value[0] == '"') {
                        value = value.substring(1, value.length - 1);
                    }
                    obj[key] = value;
                }
            }
            return obj;
        };
        FntParser.prototype._parseChar = function (fntStr, fnt) {
            var charLines = fntStr.match(CHAR_EXP), fontDefDictionary = {};
            for (var _i = 0, charLines_1 = charLines; _i < charLines_1.length; _i++) {
                var char = charLines_1[_i];
                var charObj = this._parseStrToObj(char), charId = charObj["id"];
                fontDefDictionary[charId] = {
                    rect: { x: charObj["x"], y: charObj["y"], width: charObj["width"], height: charObj["height"] },
                    xOffset: charObj["xoffset"],
                    yOffset: charObj["yoffset"],
                    xAdvance: charObj["xadvance"]
                };
            }
            fnt.fontDefDictionary = fontDefDictionary;
        };
        return FntParser;
    }());
    wd.FntParser = FntParser;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FntLoader = (function (_super) {
        __extends(FntLoader, _super);
        function FntLoader() {
            _super.apply(this, arguments);
            this._parser = wd.FntParser.create();
        }
        FntLoader.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        FntLoader.prototype.loadAsset = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var url = args[0], self = this;
            return wd.AjaxLoader.load(url, "text")
                .map(function (fntStr) {
                return self._parser.parseFnt(fntStr, url);
            });
        };
        FntLoader._instance = null;
        __decorate([
            wd.require(function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                wd.assert(!wd.JudgeUtils.isArrayExactly(args[0]), wd.Log.info.FUNC_MUST_BE("url", "string"));
            })
        ], FntLoader.prototype, "loadAsset", null);
        return FntLoader;
    }(wd.Loader));
    wd.FntLoader = FntLoader;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DeviceManager = (function () {
        function DeviceManager() {
            this.view = null;
            this.gl = null;
            this.viewport = wd.RectRegion.create();
            this._scissorTest = null;
            this._depthTest = null;
            this._depthFunc = null;
            this._side = null;
            this.polygonOffset = null;
            this._polygonOffsetMode = null;
            this._depthWrite = null;
            this._blend = null;
            this._writeRed = null;
            this._writeGreen = null;
            this._writeBlue = null;
            this._writeAlpha = null;
            this._blendSrc = null;
            this._blendDst = null;
            this._blendEquation = null;
            this._blendFuncSeparate = null;
            this._blendEquationSeparate = null;
        }
        DeviceManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        Object.defineProperty(DeviceManager.prototype, "scissorTest", {
            get: function () {
                return this._scissorTest;
            },
            set: function (scissorTest) {
                var gl = this.gl;
                if (scissorTest) {
                    gl.enable(gl.SCISSOR_TEST);
                }
                else {
                    gl.disable(gl.SCISSOR_TEST);
                }
                this._scissorTest = scissorTest;
            },
            enumerable: true,
            configurable: true
        });
        DeviceManager.prototype.setScissor = function (x, y, width, height) {
            this.gl.scissor(x, y, width, height);
            if (!this.scissorTest) {
                this.scissorTest = true;
            }
        };
        DeviceManager.prototype.setViewport = function (x, y, width, height) {
            this.viewport.set(x, y, width, height);
            this.gl.viewport(x, y, width, height);
        };
        Object.defineProperty(DeviceManager.prototype, "depthTest", {
            get: function () {
                return this._depthTest;
            },
            set: function (depthTest) {
                var gl = this.gl;
                if (this._depthTest !== depthTest) {
                    if (depthTest) {
                        gl.enable(gl.DEPTH_TEST);
                    }
                    else {
                        gl.disable(gl.DEPTH_TEST);
                    }
                    this._depthTest = depthTest;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "depthFunc", {
            get: function () {
                return this._depthFunc;
            },
            set: function (depthFunc) {
                var gl = this.gl;
                if (this._depthFunc !== depthFunc) {
                    gl.depthFunc(gl[depthFunc]);
                    this._depthFunc = depthFunc;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "side", {
            get: function () {
                return this._side;
            },
            set: function (side) {
                var gl = this.gl;
                if (this._side !== side) {
                    switch (side) {
                        case ESide.NONE:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.FRONT_AND_BACK);
                            break;
                        case ESide.BOTH:
                            gl.disable(gl.CULL_FACE);
                            break;
                        case ESide.FRONT:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.BACK);
                            break;
                        case ESide.BACK:
                            gl.enable(gl.CULL_FACE);
                            gl.cullFace(gl.FRONT);
                            break;
                        default:
                            wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("side", side));
                            break;
                    }
                    this._side = side;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "polygonOffsetMode", {
            get: function () {
                return this._polygonOffsetMode;
            },
            set: function (polygonOffsetMode) {
                var gl = this.gl;
                if (this._polygonOffsetMode !== polygonOffsetMode) {
                    switch (polygonOffsetMode) {
                        case EPolygonOffsetMode.NONE:
                            gl.polygonOffset(0.0, 0.0);
                            gl.disable(gl.POLYGON_OFFSET_FILL);
                            break;
                        case EPolygonOffsetMode.IN:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            gl.polygonOffset(1.0, 1.0);
                            break;
                        case EPolygonOffsetMode.OUT:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            gl.polygonOffset(-1.0, -1.0);
                            break;
                        case EPolygonOffsetMode.CUSTOM:
                            gl.enable(gl.POLYGON_OFFSET_FILL);
                            wd.Log.error(!this.polygonOffset, wd.Log.info.FUNC_MUST_DEFINE("polygonOffset"));
                            gl.polygonOffset(this.polygonOffset.x, this.polygonOffset.y);
                            break;
                        default:
                            break;
                    }
                    this._polygonOffsetMode = polygonOffsetMode;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "depthWrite", {
            get: function () {
                return this._depthWrite;
            },
            set: function (depthWrite) {
                if (this._depthWrite !== depthWrite) {
                    this.gl.depthMask(depthWrite);
                    this._depthWrite = depthWrite;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DeviceManager.prototype, "blend", {
            get: function () {
                return this._blend;
            },
            set: function (blend) {
                var gl = this.gl;
                if (this._blend !== blend) {
                    if (blend) {
                        gl.enable(gl.BLEND);
                    }
                    else {
                        gl.disable(gl.BLEND);
                    }
                    this._blend = blend;
                }
            },
            enumerable: true,
            configurable: true
        });
        DeviceManager.prototype.setBlendFunc = function (blendSrc, blendDst) {
            if ((this._blendSrc !== blendSrc) || (this._blendDst !== blendDst)) {
                this._blend && this.gl.blendFunc(this.gl[blendSrc], this.gl[blendDst]);
                this._blendSrc = blendSrc;
                this._blendDst = blendDst;
            }
        };
        DeviceManager.prototype.setBlendEquation = function (blendEquation) {
            if (this._blendEquation !== blendEquation) {
                this._blend && this.gl.blendEquation(this.gl[blendEquation]);
                this._blendEquation = blendEquation;
            }
        };
        DeviceManager.prototype.setBlendFuncSeparate = function (blendFuncSeparate) {
            var gl = this.gl;
            if (!this._blendFuncSeparate || this._blendFuncSeparate[0] !== blendFuncSeparate[0] || this._blendFuncSeparate[1] !== blendFuncSeparate[1]) {
                this._blend && gl.blendFuncSeparate(gl[blendFuncSeparate[0]], gl[blendFuncSeparate[1]], gl[blendFuncSeparate[2]], gl[blendFuncSeparate[3]]);
                this._blendFuncSeparate = blendFuncSeparate;
            }
        };
        DeviceManager.prototype.setBlendEquationSeparate = function (blendEquationSeparate) {
            var gl = this.gl;
            if (!this._blendEquationSeparate || this._blendEquationSeparate[0] !== blendEquationSeparate[0] || this._blendEquationSeparate[1] !== blendEquationSeparate[1]) {
                this._blend && gl.blendEquationSeparate(gl[blendEquationSeparate[0]], gl[blendEquationSeparate[1]]);
                this._blendEquationSeparate = blendEquationSeparate;
            }
        };
        DeviceManager.prototype.setColorWrite = function (writeRed, writeGreen, writeBlue, writeAlpha) {
            if (this._writeRed !== writeRed
                || this._writeGreen !== writeGreen
                || this._writeBlue !== writeBlue
                || this._writeAlpha !== writeAlpha) {
                this.gl.colorMask(writeRed, writeGreen, writeBlue, writeAlpha);
                this._writeRed = writeRed;
                this._writeGreen = writeGreen;
                this._writeBlue = writeBlue;
                this._writeAlpha = writeAlpha;
            }
        };
        DeviceManager.prototype.clear = function (options) {
            var gl = this.gl, color = options.color;
            gl.clearColor(color.r, color.g, color.b, color.a);
            this.setColorWrite(true, true, true, true);
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);
        };
        DeviceManager.prototype.createGL = function (canvasId) {
            var canvas = null;
            if (canvasId) {
                canvas = wdCb.DomQuery.create(canvasId).get(0);
            }
            else {
                canvas = wdCb.DomQuery.create("<canvas></canvas>").prependTo("body").get(0);
            }
            this.view = wd.ViewWebGL.create(canvas);
            this.gl = this.view.getContext();
        };
        DeviceManager.prototype.setScreen = function () {
            var screenSize = wd.Main.screenSize, x = null, y = null, width = null, height = null;
            if (screenSize === wd.EScreenSize.FULL) {
                x = 0;
                y = 0;
                width = wd.root.innerWidth;
                height = wd.root.innerHeight;
                wdCb.DomQuery.create("body").css("margin", "0");
            }
            else {
                x = screenSize.x || 0;
                y = screenSize.y || 0;
                width = screenSize.width || wd.root.innerWidth;
                height = screenSize.height || wd.root.innerHeight;
            }
            this.view.x = x;
            this.view.y = y;
            this.view.width = width;
            this.view.height = height;
            this.setViewport(0, 0, width, height);
        };
        DeviceManager._instance = null;
        __decorate([
            wd.require(function () {
                wd.assert(wd.Main.screenSize !== null, wd.Log.info.FUNC_NOT_EXIST("Main.screenSize"));
            })
        ], DeviceManager.prototype, "setScreen", null);
        return DeviceManager;
    }());
    wd.DeviceManager = DeviceManager;
    (function (EDepthFunction) {
        EDepthFunction[EDepthFunction["NEVER"] = "NEVER"] = "NEVER";
        EDepthFunction[EDepthFunction["ALWAYS"] = "ALWAYS"] = "ALWAYS";
        EDepthFunction[EDepthFunction["LESS"] = "LESS"] = "LESS";
        EDepthFunction[EDepthFunction["LEQUAL"] = "LEQUAL"] = "LEQUAL";
        EDepthFunction[EDepthFunction["EQUAL"] = "EQUAL"] = "EQUAL";
        EDepthFunction[EDepthFunction["GEQUAL"] = "GEQUAL"] = "GEQUAL";
        EDepthFunction[EDepthFunction["GREATER"] = "GREATER"] = "GREATER";
        EDepthFunction[EDepthFunction["NOTEQUAL"] = "NOTEQUAL"] = "NOTEQUAL";
    })(wd.EDepthFunction || (wd.EDepthFunction = {}));
    var EDepthFunction = wd.EDepthFunction;
    (function (ESide) {
        ESide[ESide["NONE"] = 0] = "NONE";
        ESide[ESide["BOTH"] = 1] = "BOTH";
        ESide[ESide["BACK"] = 2] = "BACK";
        ESide[ESide["FRONT"] = 3] = "FRONT";
    })(wd.ESide || (wd.ESide = {}));
    var ESide = wd.ESide;
    (function (EPolygonOffsetMode) {
        EPolygonOffsetMode[EPolygonOffsetMode["NONE"] = 0] = "NONE";
        EPolygonOffsetMode[EPolygonOffsetMode["IN"] = 1] = "IN";
        EPolygonOffsetMode[EPolygonOffsetMode["OUT"] = 2] = "OUT";
        EPolygonOffsetMode[EPolygonOffsetMode["CUSTOM"] = 3] = "CUSTOM";
    })(wd.EPolygonOffsetMode || (wd.EPolygonOffsetMode = {}));
    var EPolygonOffsetMode = wd.EPolygonOffsetMode;
    (function (EBlendFunc) {
        EBlendFunc[EBlendFunc["ZERO"] = "ZEOR"] = "ZERO";
        EBlendFunc[EBlendFunc["ONE"] = "ONE"] = "ONE";
        EBlendFunc[EBlendFunc["SRC_COLOR"] = "SRC_COLOR"] = "SRC_COLOR";
        EBlendFunc[EBlendFunc["ONE_MINUS_SRC_COLOR"] = "ONE_MINUS_SRC_COLOR"] = "ONE_MINUS_SRC_COLOR";
        EBlendFunc[EBlendFunc["DST_COLOR"] = "DST_COLOR"] = "DST_COLOR";
        EBlendFunc[EBlendFunc["ONE_MINUS_DST_COLOR"] = "ONE_MINUS_DST_COLOR"] = "ONE_MINUS_DST_COLOR";
        EBlendFunc[EBlendFunc["SRC_ALPHA"] = "SRC_ALPHA"] = "SRC_ALPHA";
        EBlendFunc[EBlendFunc["SRC_ALPHA_SATURATE"] = "SRC_ALPHA_SATURATE"] = "SRC_ALPHA_SATURATE";
        EBlendFunc[EBlendFunc["ONE_MINUS_SRC_ALPHA"] = "ONE_MINUS_SRC_ALPHA"] = "ONE_MINUS_SRC_ALPHA";
        EBlendFunc[EBlendFunc["DST_ALPHA"] = "DST_ALPHA"] = "DST_ALPHA";
        EBlendFunc[EBlendFunc["ONE_MINUS_DST_ALPH"] = "ONE_MINUS_DST_ALPHA"] = "ONE_MINUS_DST_ALPH";
    })(wd.EBlendFunc || (wd.EBlendFunc = {}));
    var EBlendFunc = wd.EBlendFunc;
    (function (EBlendEquation) {
        EBlendEquation[EBlendEquation["ADD"] = "FUNC_ADD"] = "ADD";
        EBlendEquation[EBlendEquation["SUBTRACT"] = "FUNC_SUBTRACT"] = "SUBTRACT";
        EBlendEquation[EBlendEquation["REVERSE_SUBTRAC"] = "FUNC_REVERSE_SUBTRACT"] = "REVERSE_SUBTRAC";
    })(wd.EBlendEquation || (wd.EBlendEquation = {}));
    var EBlendEquation = wd.EBlendEquation;
    (function (EBlendType) {
        EBlendType[EBlendType["NONE"] = 0] = "NONE";
        EBlendType[EBlendType["NORMAL"] = 1] = "NORMAL";
        EBlendType[EBlendType["ADDITIVE"] = 2] = "ADDITIVE";
        EBlendType[EBlendType["ADDITIVEALPHA"] = 3] = "ADDITIVEALPHA";
        EBlendType[EBlendType["MULTIPLICATIVE"] = 4] = "MULTIPLICATIVE";
        EBlendType[EBlendType["PREMULTIPLIED"] = 5] = "PREMULTIPLIED";
    })(wd.EBlendType || (wd.EBlendType = {}));
    var EBlendType = wd.EBlendType;
    (function (ECanvasType) {
        ECanvasType[ECanvasType["UI"] = "UI"] = "UI";
    })(wd.ECanvasType || (wd.ECanvasType = {}));
    var ECanvasType = wd.ECanvasType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GPUDetector = (function () {
        function GPUDetector() {
            this.maxTextureUnit = null;
            this.maxTextureSize = null;
            this.maxCubemapTextureSize = null;
            this.maxAnisotropy = null;
            this.extensionCompressedTextureS3TC = null;
            this.extensionTextureFilterAnisotropic = null;
            this.precision = null;
            this._isDetected = false;
        }
        GPUDetector.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        Object.defineProperty(GPUDetector.prototype, "gl", {
            get: function () {
                return wd.DeviceManager.getInstance().gl;
            },
            enumerable: true,
            configurable: true
        });
        GPUDetector.prototype.detect = function () {
            this._isDetected = true;
            this._detectExtension();
            this._detectCapabilty();
        };
        GPUDetector.prototype._detectExtension = function () {
            this.extensionCompressedTextureS3TC = this._getExtension("WEBGL_compressed_texture_s3tc");
            this.extensionTextureFilterAnisotropic = this._getExtension("EXT_texture_filter_anisotropic");
        };
        GPUDetector.prototype._detectCapabilty = function () {
            var gl = this.gl;
            this.maxTextureUnit = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
            this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);
            this.maxCubemapTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
            this.maxAnisotropy = this._getMaxAnisotropy();
            this._detectPrecision();
        };
        GPUDetector.prototype._getExtension = function (name) {
            var extension, gl = this.gl;
            switch (name) {
                case "EXT_texture_filter_anisotropic":
                    extension = gl.getExtension("EXT_texture_filter_anisotropic") || gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                    break;
                case "WEBGL_compressed_texture_s3tc":
                    extension = gl.getExtension("WEBGL_compressed_texture_s3tc") || gl.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                    break;
                case "WEBGL_compressed_texture_pvrtc":
                    extension = gl.getExtension("WEBGL_compressed_texture_pvrtc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                    break;
                default:
                    extension = gl.getExtension(name);
            }
            return extension;
        };
        GPUDetector.prototype._getMaxAnisotropy = function () {
            var extension = this.extensionTextureFilterAnisotropic, gl = this.gl;
            return extension !== null ? gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;
        };
        GPUDetector.prototype._detectPrecision = function () {
            var gl = this.gl, vertexShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT), vertexShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT), fragmentShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT), fragmentShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT), highpAvailable = vertexShaderPrecisionHighpFloat.precision > 0 && fragmentShaderPrecisionHighpFloat.precision > 0, mediumpAvailable = vertexShaderPrecisionMediumpFloat.precision > 0 && fragmentShaderPrecisionMediumpFloat.precision > 0;
            if (!highpAvailable) {
                if (mediumpAvailable) {
                    this.precision = EGPUPrecision.MEDIUMP;
                    wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("gpu", "highp, using mediump"));
                }
                else {
                    this.precision = EGPUPrecision.LOWP;
                    wd.Log.warn(wd.Log.info.FUNC_NOT_SUPPORT("gpu", "highp and mediump, using lowp"));
                }
            }
            else {
                this.precision = EGPUPrecision.HIGHP;
            }
        };
        GPUDetector._instance = null;
        return GPUDetector;
    }());
    wd.GPUDetector = GPUDetector;
    (function (EGPUPrecision) {
        EGPUPrecision[EGPUPrecision["HIGHP"] = 0] = "HIGHP";
        EGPUPrecision[EGPUPrecision["MEDIUMP"] = 1] = "MEDIUMP";
        EGPUPrecision[EGPUPrecision["LOWP"] = 2] = "LOWP";
    })(wd.EGPUPrecision || (wd.EGPUPrecision = {}));
    var EGPUPrecision = wd.EGPUPrecision;
})(wd || (wd = {}));
var wd;
(function (wd) {
    (function (EScreenSize) {
        EScreenSize[EScreenSize["FULL"] = 0] = "FULL";
    })(wd.EScreenSize || (wd.EScreenSize = {}));
    var EScreenSize = wd.EScreenSize;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Point = (function () {
        function Point(x, y) {
            if (x === void 0) { x = null; }
            if (y === void 0) { y = null; }
            this.x = null;
            this.y = null;
            this.x = x;
            this.y = y;
        }
        Point.create = function (x, y) {
            if (x === void 0) { x = null; }
            if (y === void 0) { y = null; }
            var obj = new this(x, y);
            return obj;
        };
        return Point;
    }());
    wd.Point = Point;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Face3 = (function () {
        function Face3(aIndex, bIndex, cIndex, faceNormal, vertexNormals) {
            this._faceNormal = null;
            this.aIndex = null;
            this.bIndex = null;
            this.cIndex = null;
            this.vertexNormals = null;
            this.aIndex = aIndex;
            this.bIndex = bIndex;
            this.cIndex = cIndex;
            this._faceNormal = faceNormal;
            this.vertexNormals = vertexNormals;
        }
        Face3.create = function (aIndex, bIndex, cIndex, faceNormal, vertexNormals) {
            if (faceNormal === void 0) { faceNormal = null; }
            if (vertexNormals === void 0) { vertexNormals = wdCb.Collection.create(); }
            var obj = new this(aIndex, bIndex, cIndex, faceNormal, vertexNormals);
            return obj;
        };
        Object.defineProperty(Face3.prototype, "faceNormal", {
            get: function () {
                return this._faceNormal !== null ? this._faceNormal : wd.Vector3.create(0, 0, 0);
            },
            set: function (faceNormal) {
                this._faceNormal = faceNormal;
            },
            enumerable: true,
            configurable: true
        });
        Face3.prototype.hasFaceNormal = function () {
            return this._faceNormal !== null;
        };
        Face3.prototype.hasVertexNormal = function () {
            return this.vertexNormals.getCount() > 0;
        };
        Face3.prototype.copy = function () {
            var copyFaceNormal = this._faceNormal ? this._faceNormal.copy() : null, copyVertexNormals = null;
            if (this.vertexNormals) {
                copyVertexNormals = wdCb.Collection.create();
                this.vertexNormals.forEach(function (vertexNormal) {
                    copyVertexNormals.addChild(vertexNormal.copy());
                });
            }
            return Face3.create(this.aIndex, this.bIndex, this.cIndex, copyFaceNormal, copyVertexNormals);
        };
        return Face3;
    }());
    wd.Face3 = Face3;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RectRegion = (function (_super) {
        __extends(RectRegion, _super);
        function RectRegion() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(RectRegion.prototype, "width", {
            get: function () {
                return this.z;
            },
            set: function (width) {
                this.z = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RectRegion.prototype, "height", {
            get: function () {
                return this.w;
            },
            set: function (height) {
                this.w = height;
            },
            enumerable: true,
            configurable: true
        });
        RectRegion.prototype.copy = function () {
            return this.copyHelper(RectRegion.create());
        };
        RectRegion.prototype.isNotEmpty = function () {
            return this.x !== 0
                || this.y !== 0
                || this.width !== 0
                || this.height !== 0;
        };
        return RectRegion;
    }(wd.Vector4));
    wd.RectRegion = RectRegion;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ViewWebGL = (function () {
        function ViewWebGL(dom) {
            this._dom = null;
            this._dom = dom;
        }
        ViewWebGL.create = function (view) {
            var obj = new this(view);
            return obj;
        };
        Object.defineProperty(ViewWebGL.prototype, "offset", {
            get: function () {
                var view = this._dom, offset = { x: view.offsetLeft, y: view.offsetTop };
                while (view = view.offsetParent) {
                    offset.x += view.offsetLeft;
                    offset.y += view.offsetTop;
                }
                return offset;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "dom", {
            get: function () {
                return this._dom;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "width", {
            get: function () {
                return this._dom.width;
            },
            set: function (width) {
                this._dom.width = width;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "height", {
            get: function () {
                return this._dom.height;
            },
            set: function (height) {
                this._dom.height = height;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "x", {
            get: function () {
                return Number(this._dom.style.left.slice(0, -2));
            },
            set: function (x) {
                this._dom.style.position = "absolute";
                this._dom.style.left = x + "px";
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewWebGL.prototype, "y", {
            get: function () {
                return Number(this._dom.style.top.slice(0, -2));
            },
            set: function (y) {
                this._dom.style.position = "absolute";
                this._dom.style.top = y + "px";
            },
            enumerable: true,
            configurable: true
        });
        ViewWebGL.prototype.getContext = function () {
            return this._dom.getContext("webgl") || this._dom.getContext("experimental-webgl");
        };
        return ViewWebGL;
    }());
    wd.ViewWebGL = ViewWebGL;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Color = (function () {
        function Color() {
            this._r = null;
            this._g = null;
            this._b = null;
            this._a = null;
            this._colorString = null;
            this._colorVec3Cache = null;
            this._colorVec4Cache = null;
        }
        Color.create = function (colorVal) {
            var obj = new this();
            obj.initWhenCreate(colorVal);
            return obj;
        };
        Object.defineProperty(Color.prototype, "dirty", {
            set: function (dirty) {
                if (dirty) {
                    this._clearCache();
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Color.prototype, "r", {
            get: function () {
                return this._r;
            },
            set: function (r) {
                if (this._r !== r) {
                    this.dirty = true;
                    this._r = r;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Color.prototype, "g", {
            get: function () {
                return this._g;
            },
            set: function (g) {
                if (this._g !== g) {
                    this.dirty = true;
                    this._g = g;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Color.prototype, "b", {
            get: function () {
                return this._b;
            },
            set: function (b) {
                if (this._b !== b) {
                    this.dirty = true;
                    this._b = b;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Color.prototype, "a", {
            get: function () {
                return this._a;
            },
            set: function (a) {
                if (this._a !== a) {
                    this.dirty = true;
                    this._a = a;
                }
            },
            enumerable: true,
            configurable: true
        });
        Color.prototype.initWhenCreate = function (colorVal) {
            if (!colorVal) {
                return;
            }
            this._colorString = colorVal;
            this._setColor(colorVal);
        };
        Color.prototype.toVector3 = function () {
            return wd.Vector3.create(this.r, this.g, this.b);
        };
        Color.prototype.toVector4 = function () {
            return wd.Vector4.create(this.r, this.g, this.b, this.a);
        };
        Color.prototype.toString = function () {
            return this._colorString;
        };
        Color.prototype._setColor = function (colorVal) {
            var REGEX_RGBA = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*([^\)]+)\)$/i, REGEX_RGB = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/i, REGEX_RGB_2 = /^rgb\((\d+\.\d+),\s*(\d+\.\d+),\s*(\d+\.\d+)\)$/i, REGEX_NUM = /^\#([0-9a-f]{6})$/i;
            var color = null;
            if (REGEX_RGBA.test(colorVal)) {
                color = REGEX_RGBA.exec(colorVal);
                this.r = this._getColorValue(color, 1);
                this.g = this._getColorValue(color, 2);
                this.b = this._getColorValue(color, 3);
                this.a = Number(color[4]);
                return this;
            }
            if (REGEX_RGB.test(colorVal)) {
                color = REGEX_RGB.exec(colorVal);
                this.r = this._getColorValue(color, 1);
                this.g = this._getColorValue(color, 2);
                this.b = this._getColorValue(color, 3);
                this.a = 1;
                return this;
            }
            if (REGEX_RGB_2.test(colorVal)) {
                color = REGEX_RGB_2.exec(colorVal);
                this.r = parseFloat(color[1]);
                this.g = parseFloat(color[2]);
                this.b = parseFloat(color[3]);
                this.a = 1;
                return this;
            }
            if (REGEX_NUM.test(colorVal)) {
                color = REGEX_NUM.exec(colorVal);
                this._setHex(parseInt(color[1], 16));
                return this;
            }
        };
        Color.prototype._getColorValue = function (color, index, num) {
            if (num === void 0) { num = 255; }
            return Math.min(num, parseInt(color[index], 10)) / num;
        };
        Color.prototype._setHex = function (hex) {
            hex = Math.floor(hex);
            this.r = (hex >> 16 & 255) / 255;
            this.g = (hex >> 8 & 255) / 255;
            this.b = (hex & 255) / 255;
            this.a = 1;
            return this;
        };
        Color.prototype._clearCache = function () {
            this._colorVec3Cache = null;
            this._colorVec4Cache = null;
        };
        __decorate([
            wd.cache(function () {
                return this._colorVec3Cache !== null;
            }, function () {
                return this._colorVec3Cache;
            }, function (result) {
                this._colorVec3Cache = result;
            })
        ], Color.prototype, "toVector3", null);
        __decorate([
            wd.cache(function () {
                return this._colorVec4Cache !== null;
            }, function () {
                return this._colorVec4Cache;
            }, function (result) {
                this._colorVec4Cache = result;
            })
        ], Color.prototype, "toVector4", null);
        return Color;
    }());
    wd.Color = Color;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Texture = (function () {
        function Texture() {
            this.material = null;
            this.width = null;
            this.height = null;
            this.variableData = null;
            this.wrapS = null;
            this.wrapT = null;
            this.magFilter = null;
            this.minFilter = null;
            this.glTexture = null;
            this.needUpdate = null;
            this.target = wd.ETextureTarget.TEXTURE_2D;
        }
        Object.defineProperty(Texture.prototype, "geometry", {
            get: function () {
                return this.material.geometry;
            },
            enumerable: true,
            configurable: true
        });
        Texture.prototype.bindToUnit = function (unit) {
            var gl = wd.DeviceManager.getInstance().gl, maxUnit = wd.GPUDetector.getInstance().maxTextureUnit;
            if (unit >= maxUnit) {
                wd.Log.warn("trying to use " + unit + " texture units, but GPU only supports " + maxUnit + " units");
            }
            gl.activeTexture(gl["TEXTURE" + String(unit)]);
            gl.bindTexture(gl[this.target], this.glTexture);
            return this;
        };
        Texture.prototype.sendData = function (program, name, unit) {
            program.sendUniformData(name, this.getSamplerType(), unit);
        };
        Texture.prototype.dispose = function () {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.deleteTexture(this.glTexture);
            delete this.glTexture;
        };
        Texture.prototype.filterFallback = function (filter) {
            if (filter === wd.ETextureFilterMode.NEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR) {
                return wd.ETextureFilterMode.NEAREST;
            }
            return wd.ETextureFilterMode.LINEAR;
        };
        Texture.prototype.getSamplerNameByVariableData = function (unit, type) {
            var samplerName = null;
            if (this.variableData) {
                if (this.variableData.samplerVariableName) {
                    samplerName = this.variableData.samplerVariableName;
                }
            }
            else {
                samplerName = type === wd.EVariableType.SAMPLER_2D ? "u_sampler2D" + unit : "u_samplerCube" + unit;
            }
            return samplerName;
        };
        Texture.prototype.getSamplerType = function () {
            var type = null;
            switch (this.target) {
                case wd.ETextureTarget.TEXTURE_2D:
                    type = wd.EVariableType.SAMPLER_2D;
                    break;
                case wd.ETextureTarget.TEXTURE_CUBE_MAP:
                    type = wd.EVariableType.SAMPLER_CUBE;
                    break;
                default:
                    break;
            }
            return type;
        };
        Texture.prototype.isSourcePowerOfTwo = function () {
            return wd.TextureUtils.isPowerOfTwo(this.width, this.height);
        };
        Texture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            var gl = wd.DeviceManager.getInstance().gl;
            if (isSourcePowerOfTwo) {
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_S, gl[this.wrapS]);
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_T, gl[this.wrapT]);
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl[this.magFilter]);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl[this.minFilter]);
            }
            else {
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                gl.texParameteri(textureType, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl[this.filterFallback(this.magFilter)]);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl[this.filterFallback(this.minFilter)]);
            }
        };
        __decorate([
            wd.virtual
        ], Texture.prototype, "isSourcePowerOfTwo", null);
        return Texture;
    }());
    wd.Texture = Texture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TextureUtils = (function () {
        function TextureUtils() {
        }
        TextureUtils.isPowerOfTwo = function (width, height) {
            return wd.JudgeUtils.isPowerOfTwo(width) && wd.JudgeUtils.isPowerOfTwo(height);
        };
        return TextureUtils;
    }());
    wd.TextureUtils = TextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd_2) {
    var BasicTextureUtils = (function (_super) {
        __extends(BasicTextureUtils, _super);
        function BasicTextureUtils() {
            _super.apply(this, arguments);
        }
        BasicTextureUtils.isDrawPartOfTexture = function (sourceRegion, sourceRegionMethod) {
            return sourceRegion && sourceRegion.isNotEmpty() && sourceRegionMethod === wd_2.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
        };
        BasicTextureUtils.drawPartOfTextureByCanvas = function (source, canvasWidth, canvasHeight, sx, sy, sWidth, sHeight, dx, wd, dWidth, dHeight) {
            var canvas = wdCb.DomQuery.create("<canvas></canvas>").get(0), ctx = null;
            canvas.width = canvasWidth;
            canvas.height = canvasHeight;
            ctx = canvas.getContext("2d");
            ctx.drawImage(source, sx, sy, sWidth, sHeight, dx, wd, dWidth, dHeight);
            return canvas;
        };
        BasicTextureUtils.isSourcePowerOfTwo = function (sourceRegion, sourceRegionMethod, width, height) {
            if (this.isDrawPartOfTexture(sourceRegion, sourceRegionMethod)) {
                return this.isPowerOfTwo(sourceRegion.width, sourceRegion.height);
            }
            return this.isPowerOfTwo(width, height);
        };
        BasicTextureUtils.needClampMaxSize = function (maxSize, width, height) {
            return width > maxSize || height > maxSize;
        };
        BasicTextureUtils.clampToMaxSize = function (source, maxSize) {
            var maxDimension = null, newWidth = null, newHeight = null, canvas = null;
            maxDimension = Math.max(source.width, source.height);
            newWidth = Math.floor(source.width * maxSize / maxDimension);
            newHeight = Math.floor(source.height * maxSize / maxDimension);
            canvas = this.drawPartOfTextureByCanvas(source, newWidth, newHeight, 0, 0, source.width, source.height, 0, 0, newWidth, newHeight);
            wd_2.Log.log("source is too big (width:" + source.width + ", height:" + source.height + "), resize it to be width:" + canvas.width + ", height:" + canvas.height + ".");
            return canvas;
        };
        return BasicTextureUtils;
    }(wd_2.TextureUtils));
    wd_2.BasicTextureUtils = BasicTextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RenderTargetTexture = (function (_super) {
        __extends(RenderTargetTexture, _super);
        function RenderTargetTexture() {
            _super.apply(this, arguments);
        }
        RenderTargetTexture.prototype.initWhenCreate = function () {
            this.needUpdate = false;
        };
        RenderTargetTexture.prototype.init = function () {
            this.minFilter = wd.ETextureFilterMode.LINEAR;
            this.magFilter = wd.ETextureFilterMode.LINEAR;
            this.wrapS = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            this.wrapT = wd.ETextureWrapMode.CLAMP_TO_EDGE;
            return this;
        };
        RenderTargetTexture.prototype.update = function () {
        };
        RenderTargetTexture.prototype.getPosition = function () {
            return this.geometry.entityObject.transform.position;
        };
        RenderTargetTexture.prototype.setEmptyTexture = function (texture) {
            var gl = wd.DeviceManager.getInstance().gl;
            wd.Log.error(!texture, "Failed to create texture object");
            gl.bindTexture(gl[this.target], texture);
            this.setTextureParameters(gl[this.target], this.isSourcePowerOfTwo());
        };
        return RenderTargetTexture;
    }(wd.Texture));
    wd.RenderTargetTexture = RenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDRenderTargetTexture = (function (_super) {
        __extends(TwoDRenderTargetTexture, _super);
        function TwoDRenderTargetTexture() {
            _super.apply(this, arguments);
            this._renderList = null;
            this.width = 256;
            this.height = 256;
        }
        Object.defineProperty(TwoDRenderTargetTexture.prototype, "renderList", {
            get: function () {
                return this._renderList;
            },
            set: function (renderList) {
                if (wd.JudgeUtils.isArrayExactly(renderList)) {
                    this._renderList = wdCb.Collection.create(renderList);
                }
                else if (renderList instanceof wdCb.Collection) {
                    this._renderList = renderList;
                }
                else {
                    wd.Log.error(true, wd.Log.info.FUNC_MUST_BE("renderList", "array or wdCb.Collection"));
                }
            },
            enumerable: true,
            configurable: true
        });
        TwoDRenderTargetTexture.prototype.createEmptyTexture = function () {
            var gl = wd.DeviceManager.getInstance().gl, texture = gl.createTexture();
            this.setEmptyTexture(texture);
            gl.texImage2D(gl[this.target], 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
            this.glTexture = texture;
        };
        return TwoDRenderTargetTexture;
    }(wd.RenderTargetTexture));
    wd.TwoDRenderTargetTexture = TwoDRenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShadowMapTextureUtils = (function () {
        function ShadowMapTextureUtils() {
        }
        ShadowMapTextureUtils.setTextureParameters = function (textureType) {
            var gl = wd.DeviceManager.getInstance().gl, scene = wd.Director.getInstance().scene;
            if (scene.shadowMap.softType === wd.EShadowMapSoftType.PCF) {
                gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
                gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
            }
        };
        return ShadowMapTextureUtils;
    }());
    wd.ShadowMapTextureUtils = ShadowMapTextureUtils;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MirrorTexture = (function (_super) {
        __extends(MirrorTexture, _super);
        function MirrorTexture() {
            _super.apply(this, arguments);
            this._plane = null;
        }
        MirrorTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        MirrorTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addRenderTargetRenderer(wd.MirrorRenderTargetRenderer.create(this));
            return this;
        };
        MirrorTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_2D);
        };
        MirrorTexture.prototype.getPlane = function () {
            var normalData = null, normal = null, p = null;
            if (this._plane && !this.geometry.entityObject.transform.dirtyLocal) {
                return this._plane;
            }
            wd.Log.error(!(this.geometry instanceof wd.PlaneGeometry), wd.Log.info.FUNC_MUST_BE("geometry", "PlaneGeometry"));
            normalData = this.geometry.geometryData.normals;
            normal = this.geometry.entityObject.transform.localRotation.multiplyVector3(wd.Vector3.create(normalData[0], normalData[1], normalData[2])).normalize();
            p = this.getPosition();
            this._plane = wd.Plane.create(normal.x, normal.y, normal.z, -p.dot(normal));
            return this._plane;
        };
        return MirrorTexture;
    }(wd.TwoDRenderTargetTexture));
    wd.MirrorTexture = MirrorTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDShadowMapTexture = (function (_super) {
        __extends(TwoDShadowMapTexture, _super);
        function TwoDShadowMapTexture() {
            _super.apply(this, arguments);
        }
        TwoDShadowMapTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        TwoDShadowMapTexture.prototype.getSamplerName = function (unit) {
            wd.Log.error(!wd.JudgeUtils.isNumber(this.variableData.samplerData), wd.Log.info.FUNC_MUST_BE("shadowMapTexture->variableData.samplerData", "samplerIndex"));
            return "u_twoDShadowMapSampler[" + this.variableData.samplerData + "]";
        };
        TwoDShadowMapTexture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            _super.prototype.setTextureParameters.call(this, textureType, isSourcePowerOfTwo);
            wd.ShadowMapTextureUtils.setTextureParameters(textureType);
        };
        return TwoDShadowMapTexture;
    }(wd.TwoDRenderTargetTexture));
    wd.TwoDShadowMapTexture = TwoDShadowMapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapRenderTargetTexture = (function (_super) {
        __extends(CubemapRenderTargetTexture, _super);
        function CubemapRenderTargetTexture() {
            _super.apply(this, arguments);
            this.target = wd.ETextureTarget.TEXTURE_CUBE_MAP;
        }
        CubemapRenderTargetTexture.prototype.createEmptyTexture = function () {
            var gl = wd.DeviceManager.getInstance().gl, texture = gl.createTexture(), i = null;
            this.setEmptyTexture(texture);
            for (i = 0; i < 6; i++) {
                gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
            }
            this.glTexture = texture;
        };
        return CubemapRenderTargetTexture;
    }(wd.RenderTargetTexture));
    wd.CubemapRenderTargetTexture = CubemapRenderTargetTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapShadowMapTexture = (function (_super) {
        __extends(CubemapShadowMapTexture, _super);
        function CubemapShadowMapTexture() {
            _super.apply(this, arguments);
        }
        CubemapShadowMapTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        CubemapShadowMapTexture.prototype.getSamplerName = function (unit) {
            wd.Log.error(!wd.JudgeUtils.isNumber(this.variableData.samplerData), wd.Log.info.FUNC_MUST_BE("shadowMapTexture->variableData.samplerData", "samplerIndex"));
            return "u_cubemapShadowMapSampler[" + this.variableData.samplerData + "]";
        };
        return CubemapShadowMapTexture;
    }(wd.CubemapRenderTargetTexture));
    wd.CubemapShadowMapTexture = CubemapShadowMapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DynamicCubemapTexture = (function (_super) {
        __extends(DynamicCubemapTexture, _super);
        function DynamicCubemapTexture() {
            _super.apply(this, arguments);
            this._renderList = null;
            this.size = 256;
            this.near = 0.1;
            this.far = 100;
            this.mode = null;
        }
        DynamicCubemapTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(DynamicCubemapTexture.prototype, "renderList", {
            get: function () {
                return this._renderList;
            },
            set: function (renderList) {
                if (wd.JudgeUtils.isDirectObject(renderList)) {
                    this._renderList = wdCb.Hash.create(renderList);
                }
                else if (renderList instanceof wdCb.Hash) {
                    this._renderList = renderList;
                }
                else {
                    wd.Log.error(true, wd.Log.info.FUNC_MUST_BE("renderList", "array or wdCb.Collection"));
                }
            },
            enumerable: true,
            configurable: true
        });
        DynamicCubemapTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            this.width = this.size;
            this.height = this.size;
            wd.Director.getInstance().scene.addRenderTargetRenderer(wd.DynamicCubemapRenderTargetRenderer.create(this));
            return this;
        };
        DynamicCubemapTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_CUBE);
        };
        return DynamicCubemapTexture;
    }(wd.CubemapRenderTargetTexture));
    wd.DynamicCubemapTexture = DynamicCubemapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ProceduralTexture = (function (_super) {
        __extends(ProceduralTexture, _super);
        function ProceduralTexture() {
            _super.apply(this, arguments);
            this.repeatRegion = wd.RectRegion.create(0, 0, 1, 1);
        }
        Object.defineProperty(ProceduralTexture.prototype, "sourceRegionForGLSL", {
            get: function () {
                return wd.RectRegion.create(0, 0, 1, 1);
            },
            enumerable: true,
            configurable: true
        });
        ProceduralTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_2D);
        };
        return ProceduralTexture;
    }(wd.TwoDRenderTargetTexture));
    wd.ProceduralTexture = ProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BasicTexture = (function (_super) {
        __extends(BasicTexture, _super);
        function BasicTexture() {
            _super.apply(this, arguments);
            this.p_sourceRegionMethod = null;
            this.generateMipmaps = null;
            this.format = null;
            this.source = null;
            this.repeatRegion = null;
            this.sourceRegion = null;
            this.sourceRegionMapping = null;
            this.flipY = null;
            this.premultiplyAlpha = null;
            this.unpackAlignment = null;
            this.type = null;
            this.mipmaps = null;
            this.anisotropy = null;
        }
        Object.defineProperty(BasicTexture.prototype, "sourceRegionMethod", {
            get: function () {
                return this.p_sourceRegionMethod;
            },
            set: function (sourceRegionMethod) {
                this.p_sourceRegionMethod = sourceRegionMethod;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicTexture.prototype, "sourceRegionForGLSL", {
            get: function () {
                if (this.sourceRegion && this.sourceRegionMethod === wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL) {
                    return this._convertSourceRegionToUV(this.sourceRegion);
                }
                return wd.RectRegion.create(0, 0, 1, 1);
            },
            enumerable: true,
            configurable: true
        });
        BasicTexture.prototype.initWhenCreate = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var gl = wd.DeviceManager.getInstance().gl;
            this.glTexture = gl.createTexture();
            this.needUpdate = true;
        };
        BasicTexture.prototype.init = function () {
        };
        BasicTexture.prototype.update = function () {
            var gl = wd.DeviceManager.getInstance().gl, isSourcePowerOfTwo = this.isSourcePowerOfTwo();
            gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, this.flipY);
            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
            gl.pixelStorei(gl.UNPACK_ALIGNMENT, this.unpackAlignment);
            if (this.needClampMaxSize()) {
                this.clampToMaxSize();
                isSourcePowerOfTwo = this.isSourcePowerOfTwo();
                if (!isSourcePowerOfTwo) {
                    wd.Log.warn("texture size is not power of two after clampToMaxSize()");
                }
            }
            this.setTextureParameters(gl[this.target], isSourcePowerOfTwo);
            this.allocateSourceToTexture(isSourcePowerOfTwo);
            if (this.generateMipmaps && isSourcePowerOfTwo) {
                gl.generateMipmap(gl[this.target]);
            }
            this.needUpdate = false;
            return this;
        };
        BasicTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_2D);
        };
        BasicTexture.prototype.needClampMaxSize = function () {
            if (!this.source) {
                return false;
            }
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxTextureSize, this.source.width, this.source.height);
        };
        BasicTexture.prototype.clampToMaxSize = function () {
            this.source = wd.BasicTextureUtils.clampToMaxSize(this.source, wd.GPUDetector.getInstance().maxTextureSize);
        };
        BasicTexture.prototype.setTextureParameters = function (textureType, isSourcePowerOfTwo) {
            _super.prototype.setTextureParameters.call(this, textureType, isSourcePowerOfTwo);
            this._setAnisotropy(textureType);
        };
        BasicTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(this.sourceRegion, this.sourceRegionMethod, this.width, this.height);
        };
        BasicTexture.prototype._setAnisotropy = function (textureType) {
            var gpu = wd.GPUDetector.getInstance(), gl = wd.DeviceManager.getInstance().gl;
            if (!gpu.extensionTextureFilterAnisotropic) {
                return;
            }
            if (this.anisotropy > 1) {
                gl.texParameterf(textureType, gpu.extensionTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(this.anisotropy, gpu.maxAnisotropy));
            }
        };
        BasicTexture.prototype._convertSourceRegionCanvasMapToUV = function (sourceRegion) {
            var width = this.width, height = this.height, region = null;
            region = wd.RectRegion.create(sourceRegion.x / width, sourceRegion.y / height, sourceRegion.width / width, sourceRegion.height / height);
            region.y = 1 - region.y - region.height;
            return region;
        };
        BasicTexture.prototype._convertSourceRegionToUV = function (sourceRegion) {
            if (this.sourceRegionMapping === wd.ETextureSourceRegionMapping.CANVAS) {
                return this._convertSourceRegionCanvasMapToUV(sourceRegion);
            }
            else if (this.sourceRegionMapping === wd.ETextureSourceRegionMapping.UV) {
                return sourceRegion;
            }
        };
        __decorate([
            wd.virtual
        ], BasicTexture.prototype, "needClampMaxSize", null);
        return BasicTexture;
    }(wd.Texture));
    wd.BasicTexture = BasicTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TwoDTexture = (function (_super) {
        __extends(TwoDTexture, _super);
        function TwoDTexture() {
            _super.apply(this, arguments);
        }
        TwoDTexture.prototype.initWhenCreate = function (asset) {
            _super.prototype.initWhenCreate.call(this);
            asset.copyTo(this);
        };
        return TwoDTexture;
    }(wd.BasicTexture));
    wd.TwoDTexture = TwoDTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonTexture = (function (_super) {
        __extends(CommonTexture, _super);
        function CommonTexture() {
            _super.apply(this, arguments);
        }
        CommonTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            var mipmapCmd = null, noMipmapCmd = null, gl = wd.DeviceManager.getInstance().gl;
            if (isSourcePowerOfTwo && this.mipmaps.getCount() > 0) {
                mipmapCmd = wd.DrawMipmapTwoDTextureCommand.create();
                mipmapCmd.mipmaps = this.mipmaps;
                mipmapCmd.format = this.format;
                mipmapCmd.type = this.type;
                mipmapCmd.sourceRegion = this.sourceRegion;
                mipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
                mipmapCmd.glTarget = gl.TEXTURE_2D;
                mipmapCmd.execute();
                this.generateMipmaps = false;
            }
            else {
                noMipmapCmd = wd.DrawNoMipmapTwoDTextureCommand.create();
                noMipmapCmd.source = this.source;
                noMipmapCmd.format = this.format;
                noMipmapCmd.type = this.type;
                noMipmapCmd.sourceRegion = this.sourceRegion;
                noMipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
                noMipmapCmd.glTarget = gl.TEXTURE_2D;
                noMipmapCmd.execute();
            }
        };
        return CommonTexture;
    }(wd.TwoDTexture));
    wd.CommonTexture = CommonTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ImageTexture = (function (_super) {
        __extends(ImageTexture, _super);
        function ImageTexture() {
            _super.apply(this, arguments);
        }
        ImageTexture.create = function (arg) {
            var obj = new this();
            obj.initWhenCreate(arg);
            return obj;
        };
        ImageTexture.prototype.initWhenCreate = function (arg) {
            if (arguments[0] instanceof wd.ImageTextureAsset) {
                var asset = arguments[0];
                _super.prototype.initWhenCreate.call(this, asset);
            }
            else {
                var canvas = arguments[0];
                _super.prototype.initWhenCreate.call(this, wd.ImageTextureAsset.create(canvas));
            }
        };
        return ImageTexture;
    }(wd.CommonTexture));
    wd.ImageTexture = ImageTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoTexture = (function (_super) {
        __extends(VideoTexture, _super);
        function VideoTexture() {
            _super.apply(this, arguments);
            this._video = null;
            this._startLoopSubscription = null;
        }
        VideoTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        VideoTexture.prototype.initWhenCreate = function (asset) {
            _super.prototype.initWhenCreate.call(this, asset);
            this._video = asset.video;
        };
        VideoTexture.prototype.init = function () {
            var self = this;
            _super.prototype.init.call(this);
            this._startLoopSubscription = wd.EventManager.fromEvent(wd.EEngineEvent.STARTLOOP)
                .subscribe(function () {
                if (self._video.isStop) {
                    self.needUpdate = false;
                }
                else {
                    self.needUpdate = true;
                }
            });
            return this;
        };
        VideoTexture.prototype.dispose = function () {
            this._startLoopSubscription && this._startLoopSubscription.dispose();
        };
        VideoTexture.prototype.needClampMaxSize = function () {
            return false;
        };
        return VideoTexture;
    }(wd.CommonTexture));
    wd.VideoTexture = VideoTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapTexture = (function (_super) {
        __extends(CubemapTexture, _super);
        function CubemapTexture(assets) {
            _super.call(this);
            this.assets = null;
            this.textures = wdCb.Collection.create();
            this.mode = null;
            this.target = wd.ETextureTarget.TEXTURE_CUBE_MAP;
            this._areAllCompressedAsset = false;
            this.assets = assets;
        }
        CubemapTexture.create = function (assets) {
            var obj = new this(assets);
            obj.initWhenCreate(assets);
            return obj;
        };
        CubemapTexture.prototype.initWhenCreate = function (assets) {
            _super.prototype.initWhenCreate.call(this);
            if (this._areAssetsAllCompressedAsset(assets)) {
                this._areAllCompressedAsset = true;
            }
            else {
                this._areAllCompressedAsset = false;
            }
            this._createTextures(assets);
            this._getRepresentAsset(assets).copyToCubemapTexture(this);
            if (this._areAllCompressedAsset) {
                this.generateMipmaps = false;
                if (this._hasNoMipmapCompressedAsset()) {
                    this.minFilter = this.filterFallback(this.minFilter);
                }
            }
            else {
                this.generateMipmaps = true;
            }
            this.flipY = false;
        };
        CubemapTexture.prototype.getSamplerName = function (unit) {
            return this.getSamplerNameByVariableData(unit, wd.EVariableType.SAMPLER_CUBE);
        };
        CubemapTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            if (this._areAllCompressedAsset) {
                this.textures.forEach(function (texture, i) {
                    texture.draw(i);
                });
            }
            else {
                this.textures.forEach(function (texture, i) {
                    texture.draw(i);
                });
            }
        };
        CubemapTexture.prototype.needClampMaxSize = function () {
            var needAllClampMaxSize = false;
            this.textures.forEach(function (texture) {
                if (texture.needClampMaxSize()) {
                    needAllClampMaxSize = true;
                    return wdCb.$BREAK;
                }
            });
            return needAllClampMaxSize;
        };
        CubemapTexture.prototype.isSourcePowerOfTwo = function () {
            var areAllSourcePowerOfTwo = true;
            this.textures.forEach(function (texture) {
                if (!texture.isSourcePowerOfTwo()) {
                    areAllSourcePowerOfTwo = false;
                    return wdCb.$BREAK;
                }
            });
            return areAllSourcePowerOfTwo;
        };
        CubemapTexture.prototype.clampToMaxSize = function () {
            this.textures.forEach(function (texture) {
                texture.clampToMaxSize();
            });
        };
        CubemapTexture.prototype._hasNoMipmapCompressedAsset = function () {
            var self = this;
            if (!this._areAllCompressedAsset) {
                return false;
            }
            return this.textures.filter(function (texture) {
                return !self._isMipmapFilter(texture.minFilter);
            }).getCount() > 0;
        };
        CubemapTexture.prototype._isMipmapFilter = function (filter) {
            return filter === wd.ETextureFilterMode.LINEAR_MIPMAP_LINEAR || filter === wd.ETextureFilterMode.LINEAR_MIPMAP_NEAREST || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_LINEAR || filter === wd.ETextureFilterMode.NEAREST_MIPMAP_MEAREST;
        };
        CubemapTexture.prototype._getRepresentAsset = function (assets) {
            return assets[0].asset;
        };
        CubemapTexture.prototype._areAssetsAllImageAssets = function (assets) {
            var areImageAssets = [];
            for (var _i = 0, assets_1 = assets; _i < assets_1.length; _i++) {
                var data = assets_1[_i];
                if (data.asset instanceof wd.ImageTextureAsset) {
                    areImageAssets.push(data);
                }
            }
            return areImageAssets.length === 6;
        };
        CubemapTexture.prototype._areAssetsAllCompressedAsset = function (assets) {
            var areCompressedAssets = [];
            for (var _i = 0, assets_2 = assets; _i < assets_2.length; _i++) {
                var data = assets_2[_i];
                if (data.asset instanceof wd.CompressedTextureAsset) {
                    areCompressedAssets.push(data);
                }
            }
            return areCompressedAssets.length === 6;
        };
        CubemapTexture.prototype._createTextures = function (assets) {
            var self = this;
            for (var _i = 0, assets_3 = assets; _i < assets_3.length; _i++) {
                var data = assets_3[_i];
                var face = data.asset.toCubemapFaceTexture();
                if (data.sourceRegion && face instanceof wd.CubemapFaceImageTexture) {
                    var twoDFace = face;
                    twoDFace.sourceRegion = data.sourceRegion;
                }
                if (data.type) {
                    face.type = data.type;
                }
                self.textures.addChild(face);
            }
        };
        CubemapTexture.prototype._areTextureSizOfAllFaceseEqual = function (assets) {
            var textureWidthSizeArr = [], textureHeightSizeArr = [];
            for (var _i = 0, assets_4 = assets; _i < assets_4.length; _i++) {
                var data = assets_4[_i];
                if (data.sourceRegion) {
                    textureWidthSizeArr.push(data.sourceRegion.width);
                    textureHeightSizeArr.push(data.sourceRegion.height);
                }
                else {
                    textureWidthSizeArr.push(data.asset.width);
                    textureHeightSizeArr.push(data.asset.height);
                }
            }
            return this._areAllElementsEqual(textureWidthSizeArr) && this._areAllElementsEqual(textureHeightSizeArr);
        };
        CubemapTexture.prototype._hasSourceRegion = function (assets) {
            for (var _i = 0, assets_5 = assets; _i < assets_5.length; _i++) {
                var data = assets_5[_i];
                if (data.sourceRegion) {
                    return true;
                }
            }
            return false;
        };
        CubemapTexture.prototype._areAllElementsEqual = function (arr) {
            var lastEle = arr[0];
            for (var _i = 0, arr_2 = arr; _i < arr_2.length; _i++) {
                var ele = arr_2[_i];
                if (ele !== lastEle) {
                    return false;
                }
            }
            return true;
        };
        __decorate([
            wd.require(function (assets) {
                wd.assert(assets.length === 6, wd.Log.info.FUNC_MUST("cubemap", "has 6 assets"));
                wd.assert(this._areAssetsAllImageAssets(assets) || this._areAssetsAllCompressedAsset(assets), wd.Log.info.FUNC_MUST_BE("cubemap six face's assets", "all ImageTextureAsset or all CompressedTextureAsset"));
                if (this._areAssetsAllCompressedAsset(assets)) {
                    wd.assert(!this._hasSourceRegion(assets), wd.Log.info.FUNC_SHOULD_NOT("compressed face", "contain sourceRegion data"));
                }
                wd.assert(this._areTextureSizOfAllFaceseEqual(assets), wd.Log.info.FUNC_MUST_BE("all cubemap faces' texture size", "equal"));
            })
        ], CubemapTexture.prototype, "initWhenCreate", null);
        return CubemapTexture;
    }(wd.BasicTexture));
    wd.CubemapTexture = CubemapTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceTexture = (function () {
        function CubemapFaceTexture() {
            this.type = wd.ETextureType.UNSIGNED_BYTE;
            this.format = null;
            this.width = null;
            this.height = null;
        }
        return CubemapFaceTexture;
    }());
    wd.CubemapFaceTexture = CubemapFaceTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceImageTexture = (function (_super) {
        __extends(CubemapFaceImageTexture, _super);
        function CubemapFaceImageTexture() {
            _super.apply(this, arguments);
            this.sourceRegion = null;
            this.source = null;
        }
        CubemapFaceImageTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        Object.defineProperty(CubemapFaceImageTexture.prototype, "sourceRegionMethod", {
            get: function () {
                return wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS;
            },
            set: function (sourceRegionMethod) {
                var a = sourceRegionMethod;
            },
            enumerable: true,
            configurable: true
        });
        CubemapFaceImageTexture.prototype.initWhenCreate = function (asset) {
            asset.copyToCubemapFaceTexture(this);
        };
        CubemapFaceImageTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(this.sourceRegion, this.sourceRegionMethod, this.width, this.height);
        };
        CubemapFaceImageTexture.prototype.needClampMaxSize = function () {
            if (!this.source) {
                return false;
            }
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxCubemapTextureSize, this.source.width, this.source.height);
        };
        CubemapFaceImageTexture.prototype.clampToMaxSize = function () {
            var maxSize = wd.GPUDetector.getInstance().maxCubemapTextureSize;
            this.source = wd.BasicTextureUtils.clampToMaxSize(this.source, maxSize);
        };
        CubemapFaceImageTexture.prototype.draw = function (index) {
            var noMipmapCmd = wd.DrawNoMipmapTwoDTextureCommand.create(), gl = wd.DeviceManager.getInstance().gl;
            noMipmapCmd.source = this.source;
            noMipmapCmd.sourceRegion = this.sourceRegion;
            noMipmapCmd.sourceRegionMethod = this.sourceRegionMethod;
            noMipmapCmd.glTarget = gl.TEXTURE_CUBE_MAP_POSITIVE_X + index;
            noMipmapCmd.format = this.format;
            noMipmapCmd.type = this.type;
            noMipmapCmd.execute();
        };
        __decorate([
            wd.requireSetter(function (sourceRegionMethod) {
                wd.assert(sourceRegionMethod === wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS, wd.Log.info.FUNC_SUPPORT("cubemap twoD face texture->sourceRegionMethod only", "DRAW_IN_CANVAS"));
            })
        ], CubemapFaceImageTexture.prototype, "sourceRegionMethod", null);
        return CubemapFaceImageTexture;
    }(wd.CubemapFaceTexture));
    wd.CubemapFaceImageTexture = CubemapFaceImageTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CubemapFaceCompressedTexture = (function (_super) {
        __extends(CubemapFaceCompressedTexture, _super);
        function CubemapFaceCompressedTexture() {
            _super.apply(this, arguments);
            this.mipmaps = null;
            this.minFilter = null;
        }
        CubemapFaceCompressedTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        CubemapFaceCompressedTexture.prototype.initWhenCreate = function (asset) {
            asset.copyToCubemapFaceTexture(this);
        };
        CubemapFaceCompressedTexture.prototype.isSourcePowerOfTwo = function () {
            return wd.BasicTextureUtils.isSourcePowerOfTwo(null, null, this.width, this.height);
        };
        CubemapFaceCompressedTexture.prototype.needClampMaxSize = function () {
            return wd.BasicTextureUtils.needClampMaxSize(wd.GPUDetector.getInstance().maxCubemapTextureSize, this.width, this.height);
        };
        CubemapFaceCompressedTexture.prototype.clampToMaxSize = function () {
            wd.Log.warn("CubemapFaceCompressedTexture's texture size is over maxCubemapTextureSize");
        };
        CubemapFaceCompressedTexture.prototype.draw = function (index) {
            var compressedCmd = wd.DrawCompressedTextureCommand.create(), gl = wd.DeviceManager.getInstance().gl;
            compressedCmd.glTarget = gl.TEXTURE_CUBE_MAP_POSITIVE_X + index;
            compressedCmd.type = this.type;
            compressedCmd.format = this.format;
            compressedCmd.mipmaps = this.mipmaps;
            compressedCmd.execute();
        };
        return CubemapFaceCompressedTexture;
    }(wd.CubemapFaceTexture));
    wd.CubemapFaceCompressedTexture = CubemapFaceCompressedTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CompressedTexture = (function (_super) {
        __extends(CompressedTexture, _super);
        function CompressedTexture() {
            _super.apply(this, arguments);
        }
        CompressedTexture.create = function (asset) {
            var obj = new this();
            obj.initWhenCreate(asset);
            return obj;
        };
        Object.defineProperty(CompressedTexture.prototype, "sourceRegionMethod", {
            get: function () {
                wd.Log.assert(this.p_sourceRegionMethod === wd.ETextureSourceRegionMethod.DRAW_IN_CANVAS, "compressed texture not support ETextureSourceRegionMethod.DRAW_IN_CANVAS, will use ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL instead");
                return wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            },
            enumerable: true,
            configurable: true
        });
        CompressedTexture.prototype.allocateSourceToTexture = function (isSourcePowerOfTwo) {
            var gl = wd.DeviceManager.getInstance().gl, compressedCmd = wd.DrawCompressedTextureCommand.create();
            compressedCmd.glTarget = gl.TEXTURE_2D;
            compressedCmd.type = this.type;
            compressedCmd.format = this.format;
            compressedCmd.mipmaps = this.mipmaps;
            compressedCmd.sourceRegion = this.sourceRegion;
            compressedCmd.sourceRegionMethod = this.sourceRegionMethod;
            compressedCmd.execute();
            if (this.mipmaps.getCount() > 1) {
                this.generateMipmaps = false;
            }
        };
        CompressedTexture.prototype.needClampMaxSize = function () {
            return false;
        };
        return CompressedTexture;
    }(wd.TwoDTexture));
    wd.CompressedTexture = CompressedTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawTextureCommand = (function () {
        function DrawTextureCommand() {
            this.format = null;
            this.type = null;
            this.sourceRegion = null;
            this.sourceRegionMethod = wd.ETextureSourceRegionMethod.CHANGE_TEXCOORDS_IN_GLSL;
            this.glTarget = null;
        }
        DrawTextureCommand.prototype.getDrawTarget = function (source, sourceRegion) {
            if (sourceRegion === void 0) { sourceRegion = this.sourceRegion; }
            var result = null;
            if (wd.BasicTextureUtils.isDrawPartOfTexture(sourceRegion, this.sourceRegionMethod)) {
                result = wd.BasicTextureUtils.drawPartOfTextureByCanvas(source, sourceRegion.width, sourceRegion.height, sourceRegion.x, sourceRegion.y, sourceRegion.width, sourceRegion.height, 0, 0, sourceRegion.width, sourceRegion.height);
            }
            else {
                result = source;
            }
            return result;
        };
        return DrawTextureCommand;
    }());
    wd.DrawTextureCommand = DrawTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawCompressedTextureCommand = (function (_super) {
        __extends(DrawCompressedTextureCommand, _super);
        function DrawCompressedTextureCommand() {
            _super.apply(this, arguments);
            this.mipmaps = null;
        }
        DrawCompressedTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawCompressedTextureCommand.prototype.execute = function () {
            var gl = wd.DeviceManager.getInstance().gl, self = this;
            wd.Log.error(this.format === null, wd.Log.info.FUNC_NOT_SUPPORT(this.format));
            if (this.format !== wd.ETextureFormat.RGBA) {
                this.mipmaps.forEach(function (mipmap, index) {
                    gl.compressedTexImage2D(self.glTarget, index, self.format, mipmap.width, mipmap.height, 0, self.getDrawTarget(mipmap.data));
                });
            }
            else {
                this.mipmaps.forEach(function (mipmap, index) {
                    gl.texImage2D(self.glTarget, index, gl[self.format], mipmap.width, mipmap.height, 0, gl[self.format], gl[self.type], self.getDrawTarget(mipmap.data));
                });
            }
        };
        return DrawCompressedTextureCommand;
    }(wd.DrawTextureCommand));
    wd.DrawCompressedTextureCommand = DrawCompressedTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawTwoDTextureCommand = (function (_super) {
        __extends(DrawTwoDTextureCommand, _super);
        function DrawTwoDTextureCommand() {
            _super.apply(this, arguments);
            this.source = null;
        }
        DrawTwoDTextureCommand.prototype.drawTexture = function (index, source) {
            var gl = wd.DeviceManager.getInstance().gl;
            gl.texImage2D(this.glTarget, index, gl[this.format], gl[this.format], gl[this.type], this.getDrawTarget(source));
        };
        return DrawTwoDTextureCommand;
    }(wd.DrawTextureCommand));
    wd.DrawTwoDTextureCommand = DrawTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawMipmapTwoDTextureCommand = (function (_super) {
        __extends(DrawMipmapTwoDTextureCommand, _super);
        function DrawMipmapTwoDTextureCommand() {
            _super.apply(this, arguments);
            this.mipmaps = null;
        }
        DrawMipmapTwoDTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawMipmapTwoDTextureCommand.prototype.execute = function () {
            var self = this;
            this.mipmaps.forEach(function (mipmap, index) {
                self.drawTexture(index, mipmap);
            });
        };
        return DrawMipmapTwoDTextureCommand;
    }(wd.DrawTwoDTextureCommand));
    wd.DrawMipmapTwoDTextureCommand = DrawMipmapTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var DrawNoMipmapTwoDTextureCommand = (function (_super) {
        __extends(DrawNoMipmapTwoDTextureCommand, _super);
        function DrawNoMipmapTwoDTextureCommand() {
            _super.apply(this, arguments);
        }
        DrawNoMipmapTwoDTextureCommand.create = function () {
            var obj = new this();
            return obj;
        };
        DrawNoMipmapTwoDTextureCommand.prototype.execute = function () {
            this.drawTexture(0, this.source);
        };
        return DrawNoMipmapTwoDTextureCommand;
    }(wd.DrawTwoDTextureCommand));
    wd.DrawNoMipmapTwoDTextureCommand = DrawNoMipmapTwoDTextureCommand;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var Video = (function () {
        function Video(_a) {
            var urlArr = _a.urlArr, _b = _a.onLoad, onLoad = _b === void 0 ? function (video) { } : _b, _c = _a.onError, onError = _c === void 0 ? function (err) { } : _c;
            this.url = null;
            this.source = null;
            this.isStop = false;
            this._urlArr = null;
            this._onLoad = null;
            this._onError = null;
            this._urlArr = wdCb.Collection.create(urlArr);
            this._onLoad = onLoad;
            this._onError = onError;
        }
        Video.create = function (data) {
            var obj = new this(data);
            obj.initWhenCreate();
            return obj;
        };
        Video.prototype.initWhenCreate = function () {
            this.url = this._getCanPlayUrl();
            this.source = document.createElement("video");
            this.source.src = this.url;
            this._bindEvent();
        };
        Video.prototype.play = function () {
            this.isStop = false;
            this.source.play();
        };
        Video.prototype._getCanPlayUrl = function () {
            var self = this, canPlayUrl = null, extnameArr = [];
            this._urlArr.forEach(function (url) {
                var extname = wdCb.PathUtils.extname(url);
                extnameArr.push(extname);
                if (self._canplay(extname)) {
                    canPlayUrl = url;
                    return wdCb.$BREAK;
                }
            });
            wd.Log.error(canPlayUrl === null, wd.Log.info.FUNC_NOT_SUPPORT("browser", extnameArr.join(",")));
            return canPlayUrl;
        };
        Video.prototype._canplay = function (extname) {
            var video = document.createElement("video"), mimeStr = null;
            switch (extname) {
                case '.mp4':
                    mimeStr = 'video/mp4; codecs="avc1.42e01e, mp4a.40.2"';
                    break;
                case ".ogv":
                    mimeStr = 'video/ogg; codecs="theora, vorbis"';
                    break;
                case ".webm":
                    mimeStr = 'video/webm; codecs="vp8, vorbis"';
                    break;
                default:
                    wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT(extname));
                    break;
            }
            return !!video.canPlayType && video.canPlayType(mimeStr) !== "";
        };
        Video.prototype._bindEvent = function () {
            var self = this;
            this.source.addEventListener("canplaythrough", function () {
                self._onLoad(self);
            }, false);
            this.source.addEventListener("error", function () {
                self._onError("errorCode " + self.source.error.code);
            }, false);
            this.source.addEventListener("ended", function () {
                self.isStop = true;
            }, false);
        };
        return Video;
    }());
    wd.Video = Video;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var VideoManager = (function () {
        function VideoManager() {
        }
        VideoManager.getInstance = function () {
            if (this._instance === null) {
                this._instance = new this();
            }
            return this._instance;
        };
        VideoManager.prototype.play = function (id) {
            var asset = wd.VideoLoader.getInstance().get(id), video = null;
            wd.Log.error(!asset, wd.Log.info.FUNC_NOT_EXIST("video asset which id is " + id));
            video = asset.video;
            video.play();
        };
        VideoManager._instance = null;
        return VideoManager;
    }());
    wd.VideoManager = VideoManager;
})(wd || (wd = {}));
var wd;
(function (wd) {
    if (wd.JudgeUtils.isNodeJs()) {
        wd.root = global;
    }
    else {
        wd.root = window;
    }
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CommonProceduralShaderLib = (function (_super) {
        __extends(CommonProceduralShaderLib, _super);
        function CommonProceduralShaderLib() {
            _super.apply(this, arguments);
            this.type = "common_proceduralTexture";
        }
        CommonProceduralShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        CommonProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            this.sendAttributeData(program, "a_positionVec2", cmd.vertexBuffer);
        };
        CommonProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addAttributeVariable(["a_positionVec2"]);
        };
        return CommonProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.CommonProceduralShaderLib = CommonProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FireProceduralShaderLib = (function (_super) {
        __extends(FireProceduralShaderLib, _super);
        function FireProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "fire_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        FireProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        FireProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            texture.computeTime();
            this.sendUniformData(program, "u_time", texture.time);
            this.sendUniformData(program, "u_speed", texture.speed);
            this.sendUniformData(program, "u_shift", texture.shift);
            this.sendUniformData(program, "u_alphaThreshold", texture.alphaThreshold);
            texture.fireColorMap.forEach(function (color, name) {
                program.sendStructureData("u_fireColor." + name, wd.EVariableType.FLOAT_3, color.toVector3());
            });
        };
        FireProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_time", "u_speed", "u_shift", "u_alphaThreshold", "u_fireColor"
            ]);
        };
        return FireProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.FireProceduralShaderLib = FireProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FireProceduralRenderTargetRenderer = (function (_super) {
        __extends(FireProceduralRenderTargetRenderer, _super);
        function FireProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        FireProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        FireProceduralRenderTargetRenderer.prototype.needRender = function () {
            return true;
        };
        FireProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.FireProceduralShaderLib.create(this.texture));
            return shader;
        };
        return FireProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.FireProceduralRenderTargetRenderer = FireProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var FireProceduralTexture = (function (_super) {
        __extends(FireProceduralTexture, _super);
        function FireProceduralTexture() {
            _super.apply(this, arguments);
            this._fireColorMap = null;
            this.fireColorType = EFireProceduralTextureColorType.RED;
            this.speed = wd.Vector2.create(0.5, 0.3);
            this.alphaThreshold = 0.5;
            this.shift = 1;
            this.time = 0;
        }
        FireProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        Object.defineProperty(FireProceduralTexture.prototype, "fireColorMap", {
            get: function () {
                switch (this.fireColorType) {
                    case EFireProceduralTextureColorType.CUSTOM:
                        return this._fireColorMap;
                    case EFireProceduralTextureColorType.RED:
                        return wdCb.Hash.create({
                            "c1": wd.Color.create("rgb(0.5, 0.0, 0.1)"),
                            "c2": wd.Color.create("rgb(0.9, 0.0, 0.0)"),
                            "c3": wd.Color.create("rgb(0.2, 0.0, 0.0)"),
                            "c4": wd.Color.create("rgb(1.0, 0.9, 0.0)"),
                            "c5": wd.Color.create("rgb(0.1, 0.1, 0.1)"),
                            "c6": wd.Color.create("rgb(0.9, 0.9, 0.9)")
                        });
                    case EFireProceduralTextureColorType.BLUE:
                        return wdCb.Hash.create({
                            "c1": wd.Color.create("rgb(0.1, 0.0, 0.5)"),
                            "c2": wd.Color.create("rgb(0.0, 0.0, 0.5)"),
                            "c3": wd.Color.create("rgb(0.1, 0.0, 0.2)"),
                            "c4": wd.Color.create("rgb(0.0, 0.0, 1.0)"),
                            "c5": wd.Color.create("rgb(0.1, 0.2, 0.3)"),
                            "c6": wd.Color.create("rgb(0.0, 0.2, 0.9)")
                        });
                    case EFireProceduralTextureColorType.PURPLE:
                        return wdCb.Hash.create({
                            "c1": wd.Color.create("rgb(0.5, 0.0, 1.0)"),
                            "c2": wd.Color.create("rgb(0.9, 0.0, 1.0)"),
                            "c3": wd.Color.create("rgb(0.2, 0.0, 1.0)"),
                            "c4": wd.Color.create("rgb(1.0, 0.9, 1.0)"),
                            "c5": wd.Color.create("rgb(0.1, 0.1, 1.0)"),
                            "c6": wd.Color.create("rgb(0.9, 0.9, 1.0)")
                        });
                    case EFireProceduralTextureColorType.GREEN:
                        return wdCb.Hash.create({
                            "c1": wd.Color.create("rgb(0.5, 1.0, 0.0)"),
                            "c2": wd.Color.create("rgb(0.5, 1.0, 0.0)"),
                            "c3": wd.Color.create("rgb(0.3, 0.4, 0.0)"),
                            "c4": wd.Color.create("rgb(0.5, 1.0, 0.0)"),
                            "c5": wd.Color.create("rgb(0.2, 0.0, 0.0)"),
                            "c6": wd.Color.create("rgb(0.5, 1.0, 0.0)")
                        });
                    default:
                        wd.Log.error(true, wd.Log.info.FUNC_UNEXPECT("fireColorType:" + this.fireColorType));
                        break;
                }
            },
            set: function (fireColorMap) {
                this._fireColorMap = fireColorMap;
            },
            enumerable: true,
            configurable: true
        });
        FireProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.FireProceduralRenderTargetRenderer.create(this));
            return this;
        };
        FireProceduralTexture.prototype.computeTime = function () {
            this.time += 0.1;
        };
        __decorate([
            wd.requireSetter(function (fireColorMap) {
                wd.assert(fireColorMap.getCount() === 6, wd.Log.info.FUNC_SHOULD("contain 6 colors"));
            }),
            wd.ensureGetter(function (value) {
                wd.assert(value.getCount() === 6, wd.Log.info.FUNC_SHOULD("contain 6 colors"));
            })
        ], FireProceduralTexture.prototype, "fireColorMap", null);
        return FireProceduralTexture;
    }(wd.ProceduralTexture));
    wd.FireProceduralTexture = FireProceduralTexture;
    (function (EFireProceduralTextureColorType) {
        EFireProceduralTextureColorType[EFireProceduralTextureColorType["CUSTOM"] = 0] = "CUSTOM";
        EFireProceduralTextureColorType[EFireProceduralTextureColorType["RED"] = 1] = "RED";
        EFireProceduralTextureColorType[EFireProceduralTextureColorType["PURPLE"] = 2] = "PURPLE";
        EFireProceduralTextureColorType[EFireProceduralTextureColorType["GREEN"] = 3] = "GREEN";
        EFireProceduralTextureColorType[EFireProceduralTextureColorType["BLUE"] = 4] = "BLUE";
    })(wd.EFireProceduralTextureColorType || (wd.EFireProceduralTextureColorType = {}));
    var EFireProceduralTextureColorType = wd.EFireProceduralTextureColorType;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MarbleProceduralRenderTargetRenderer = (function (_super) {
        __extends(MarbleProceduralRenderTargetRenderer, _super);
        function MarbleProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        MarbleProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        MarbleProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.MarbleProceduralShaderLib.create(this.texture));
            return shader;
        };
        return MarbleProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.MarbleProceduralRenderTargetRenderer = MarbleProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MarbleProceduralTexture = (function (_super) {
        __extends(MarbleProceduralTexture, _super);
        function MarbleProceduralTexture() {
            _super.apply(this, arguments);
            this.tilesHeightNumber = 3;
            this.tilesWidthNumber = 3;
            this.amplitude = 9;
            this.jointColor = wd.Color.create("rgb(0.72, 0.72, 0.72)");
        }
        MarbleProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        MarbleProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.MarbleProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return MarbleProceduralTexture;
    }(wd.ProceduralTexture));
    wd.MarbleProceduralTexture = MarbleProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var MarbleProceduralShaderLib = (function (_super) {
        __extends(MarbleProceduralShaderLib, _super);
        function MarbleProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "marble_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        MarbleProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        MarbleProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_tilesHeightNumber", texture.tilesHeightNumber);
            this.sendUniformData(program, "u_tilesWidthNumber", texture.tilesWidthNumber);
            this.sendUniformData(program, "u_amplitude", texture.amplitude);
            this.sendUniformData(program, "u_jointColor", texture.jointColor.toVector3());
        };
        MarbleProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_tilesHeightNumber", "u_tilesWidthNumber", "u_amplitude", "u_jointColor"
            ]);
        };
        return MarbleProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.MarbleProceduralShaderLib = MarbleProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GrassProceduralRenderTargetRenderer = (function (_super) {
        __extends(GrassProceduralRenderTargetRenderer, _super);
        function GrassProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        GrassProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        GrassProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.GrassProceduralShaderLib.create(this.texture));
            return shader;
        };
        return GrassProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.GrassProceduralRenderTargetRenderer = GrassProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GrassProceduralTexture = (function (_super) {
        __extends(GrassProceduralTexture, _super);
        function GrassProceduralTexture() {
            _super.apply(this, arguments);
            this.herb1Color = wd.Color.create("rgb(0.29, 0.38, 0.02)");
            this.herb2Color = wd.Color.create("rgb(0.36, 0.49, 0.09)");
            this.herb3Color = wd.Color.create("rgb(0.51, 0.6, 0.28)");
            this.groundColor = wd.Color.create("rgb(1.0,1.0,1.0)");
        }
        GrassProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        GrassProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.GrassProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return GrassProceduralTexture;
    }(wd.ProceduralTexture));
    wd.GrassProceduralTexture = GrassProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var GrassProceduralShaderLib = (function (_super) {
        __extends(GrassProceduralShaderLib, _super);
        function GrassProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "grass_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        GrassProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        GrassProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_herb1Color", texture.herb1Color.toVector3());
            this.sendUniformData(program, "u_herb2Color", texture.herb2Color.toVector3());
            this.sendUniformData(program, "u_herb3Color", texture.herb3Color.toVector3());
            this.sendUniformData(program, "u_groundColor", texture.groundColor.toVector3());
        };
        GrassProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_herb1Color", "u_herb2Color", "u_herb3Color", "u_groundColor"
            ]);
        };
        return GrassProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.GrassProceduralShaderLib = GrassProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WoodProceduralRenderTargetRenderer = (function (_super) {
        __extends(WoodProceduralRenderTargetRenderer, _super);
        function WoodProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        WoodProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        WoodProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.WoodProceduralShaderLib.create(this.texture));
            return shader;
        };
        return WoodProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.WoodProceduralRenderTargetRenderer = WoodProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WoodProceduralTexture = (function (_super) {
        __extends(WoodProceduralTexture, _super);
        function WoodProceduralTexture() {
            _super.apply(this, arguments);
            this.ampScale = 100.0;
            this.woodColor = wd.Color.create("rgb(0.32, 0.17, 0.09)");
        }
        WoodProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        WoodProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.WoodProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return WoodProceduralTexture;
    }(wd.ProceduralTexture));
    wd.WoodProceduralTexture = WoodProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var WoodProceduralShaderLib = (function (_super) {
        __extends(WoodProceduralShaderLib, _super);
        function WoodProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "wood_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        WoodProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        WoodProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_ampScale", texture.ampScale);
            this.sendUniformData(program, "u_woodColor", texture.woodColor.toVector3());
        };
        WoodProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_ampScale", "u_woodColor"
            ]);
        };
        return WoodProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.WoodProceduralShaderLib = WoodProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RoadProceduralRenderTargetRenderer = (function (_super) {
        __extends(RoadProceduralRenderTargetRenderer, _super);
        function RoadProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        RoadProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        RoadProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.RoadProceduralShaderLib.create(this.texture));
            return shader;
        };
        return RoadProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.RoadProceduralRenderTargetRenderer = RoadProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RoadProceduralTexture = (function (_super) {
        __extends(RoadProceduralTexture, _super);
        function RoadProceduralTexture() {
            _super.apply(this, arguments);
            this.roadColor = wd.Color.create("rgb(0.53, 0.53, 0.53)");
        }
        RoadProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        RoadProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.RoadProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return RoadProceduralTexture;
    }(wd.ProceduralTexture));
    wd.RoadProceduralTexture = RoadProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var RoadProceduralShaderLib = (function (_super) {
        __extends(RoadProceduralShaderLib, _super);
        function RoadProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "road_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        RoadProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        RoadProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_roadColor", texture.roadColor.toVector3());
        };
        RoadProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_roadColor"
            ]);
        };
        return RoadProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.RoadProceduralShaderLib = RoadProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CloudProceduralRenderTargetRenderer = (function (_super) {
        __extends(CloudProceduralRenderTargetRenderer, _super);
        function CloudProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        CloudProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        CloudProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.CloudProceduralShaderLib.create(this.texture));
            return shader;
        };
        return CloudProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.CloudProceduralRenderTargetRenderer = CloudProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CloudProceduralTexture = (function (_super) {
        __extends(CloudProceduralTexture, _super);
        function CloudProceduralTexture() {
            _super.apply(this, arguments);
            this.skyColor = wd.Color.create("rgb(0.15, 0.68, 1.0)");
            this.cloudColor = wd.Color.create("rgb(1.0, 1.0, 1.0)");
        }
        CloudProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        CloudProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.CloudProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return CloudProceduralTexture;
    }(wd.ProceduralTexture));
    wd.CloudProceduralTexture = CloudProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CloudProceduralShaderLib = (function (_super) {
        __extends(CloudProceduralShaderLib, _super);
        function CloudProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "cloud_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        CloudProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        CloudProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_skyColor", texture.skyColor.toVector4());
            this.sendUniformData(program, "u_cloudColor", texture.cloudColor.toVector4());
        };
        CloudProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_skyColor", "u_cloudColor"
            ]);
        };
        return CloudProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.CloudProceduralShaderLib = CloudProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BrickProceduralRenderTargetRenderer = (function (_super) {
        __extends(BrickProceduralRenderTargetRenderer, _super);
        function BrickProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        BrickProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        BrickProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CommonProceduralShader.create();
            shader.addLib(wd.BrickProceduralShaderLib.create(this.texture));
            return shader;
        };
        return BrickProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.BrickProceduralRenderTargetRenderer = BrickProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BrickProceduralTexture = (function (_super) {
        __extends(BrickProceduralTexture, _super);
        function BrickProceduralTexture() {
            _super.apply(this, arguments);
            this.tilesHeightNumber = 15;
            this.tilesWidthNumber = 5;
            this.brickColor = wd.Color.create("rgb(0.77, 0.47, 0.40)");
            this.jointColor = wd.Color.create("rgb(0.72, 0.72, 0.72)");
        }
        BrickProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        BrickProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.BrickProceduralRenderTargetRenderer.create(this));
            return this;
        };
        return BrickProceduralTexture;
    }(wd.ProceduralTexture));
    wd.BrickProceduralTexture = BrickProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var BrickProceduralShaderLib = (function (_super) {
        __extends(BrickProceduralShaderLib, _super);
        function BrickProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "brick_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        BrickProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        BrickProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture;
            this.sendUniformData(program, "u_tilesWidthNumber", texture.tilesWidthNumber);
            this.sendUniformData(program, "u_tilesHeightNumber", texture.tilesHeightNumber);
            this.sendUniformData(program, "u_brickColor", texture.brickColor.toVector3());
            this.sendUniformData(program, "u_jointColor", texture.jointColor.toVector3());
        };
        BrickProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.addUniformVariable([
                "u_tilesHeightNumber", "u_tilesWidthNumber", "u_brickColor", "u_jointColor"
            ]);
        };
        return BrickProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.BrickProceduralShaderLib = BrickProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomProceduralRenderTargetRenderer = (function (_super) {
        __extends(CustomProceduralRenderTargetRenderer, _super);
        function CustomProceduralRenderTargetRenderer() {
            _super.apply(this, arguments);
        }
        CustomProceduralRenderTargetRenderer.create = function (texture) {
            var obj = new this(texture);
            obj.initWhenCreate();
            return obj;
        };
        CustomProceduralRenderTargetRenderer.prototype.needRender = function () {
            if (this.texture.isAnimate) {
                return true;
            }
            return _super.prototype.needRender.call(this);
        };
        CustomProceduralRenderTargetRenderer.prototype.createShader = function () {
            var shader = wd.CustomProceduralShader.create(this.texture);
            shader.addLib(wd.CustomProceduralShaderLib.create(this.texture));
            return shader;
        };
        return CustomProceduralRenderTargetRenderer;
    }(wd.ProceduralRenderTargetRenderer));
    wd.CustomProceduralRenderTargetRenderer = CustomProceduralRenderTargetRenderer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomProceduralTexture = (function (_super) {
        __extends(CustomProceduralTexture, _super);
        function CustomProceduralTexture() {
            _super.apply(this, arguments);
            this.mapManager = wd.MapManager.create(null);
            this.uniformMap = wdCb.Hash.create();
            this.fsSource = null;
            this.isAnimate = false;
        }
        CustomProceduralTexture.create = function () {
            var obj = new this();
            obj.initWhenCreate();
            return obj;
        };
        CustomProceduralTexture.prototype.init = function () {
            _super.prototype.init.call(this);
            wd.Director.getInstance().scene.addProceduralRenderTargetRenderer(wd.CustomProceduralRenderTargetRenderer.create(this));
            return this;
        };
        CustomProceduralTexture.prototype.read = function (shaderConfigId) {
            var shaderConfig = wd.LoaderManager.getInstance().get(shaderConfigId), uniforms = shaderConfig.uniforms;
            this.fsSource = wd.LoaderManager.getInstance().get(shaderConfig.fsSourceId);
            for (var name_3 in uniforms) {
                if (uniforms.hasOwnProperty(name_3)) {
                    var uniform = uniforms[name_3];
                    if (uniform.type === wd.EVariableType.SAMPLER_2D) {
                        this.mapManager.addMap(wd.LoaderManager.getInstance().get(uniform.textureId), {
                            samplerVariableName: name_3
                        });
                    }
                    else {
                        this.uniformMap.addChild(name_3, uniform);
                    }
                }
            }
        };
        __decorate([
            wd.require(function (shaderConfigId) {
                var shaderConfig = wd.LoaderManager.getInstance().get(shaderConfigId), uniforms = shaderConfig.uniforms;
                for (var name_4 in uniforms) {
                    if (uniforms.hasOwnProperty(name_4)) {
                        var uniform = uniforms[name_4];
                        wd.assert(uniform.type !== wd.EVariableType.SAMPLER_CUBE, wd.Log.info.FUNC_NOT_SUPPORT("uniforms", "EVariableType.SAMPLER_CUBE type"));
                    }
                }
            }),
            wd.ensure(function () {
                wd.assert(this.fsSource !== null, wd.Log.info.FUNC_SHOULD("read fragment glsl source"));
            })
        ], CustomProceduralTexture.prototype, "read", null);
        return CustomProceduralTexture;
    }(wd.ProceduralTexture));
    wd.CustomProceduralTexture = CustomProceduralTexture;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var CustomProceduralShaderLib = (function (_super) {
        __extends(CustomProceduralShaderLib, _super);
        function CustomProceduralShaderLib(proceduralTexture) {
            _super.call(this);
            this.type = "custom_proceduralTexture";
            this._proceduralTexture = null;
            this._proceduralTexture = proceduralTexture;
        }
        CustomProceduralShaderLib.create = function (proceduralTexture) {
            var obj = new this(proceduralTexture);
            return obj;
        };
        CustomProceduralShaderLib.prototype.sendShaderVariables = function (program, cmd) {
            var texture = this._proceduralTexture, uniformMap = texture.uniformMap;
            uniformMap.forEach(function (uniform, name) {
                wd.CustomShaderLibUtils.sendUniformData(name, uniform.type, uniform.value, program);
            });
        };
        CustomProceduralShaderLib.prototype.setShaderDefinition = function (cmd) {
            var texture = this._proceduralTexture;
            _super.prototype.setShaderDefinition.call(this, cmd);
            this.setFsSource(texture.fsSource);
        };
        return CustomProceduralShaderLib;
    }(wd.ProceduralShaderLib));
    wd.CustomProceduralShaderLib = CustomProceduralShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TerrainMaterial = (function (_super) {
        __extends(TerrainMaterial, _super);
        function TerrainMaterial() {
            _super.apply(this, arguments);
            this.layer = Layer.create();
        }
        TerrainMaterial.create = function () {
            var obj = new this();
            return obj;
        };
        TerrainMaterial.prototype.init = function () {
            this.mapManager.addArrayMap("u_layerSampler2Ds", this.layer.mapArray);
            _super.prototype.init.call(this);
        };
        TerrainMaterial.prototype.addExtendShaderLib = function () {
            if (this.layer.mapDataList.getCount() > 0) {
                this.shader.addLib(wd.TerrainLayerShaderLib.create());
            }
        };
        return TerrainMaterial;
    }(wd.LightMaterial));
    wd.TerrainMaterial = TerrainMaterial;
    var Layer = (function () {
        function Layer() {
            this._mapDataList = wdCb.Collection.create();
        }
        Layer.create = function () {
            var obj = new this();
            return obj;
        };
        Object.defineProperty(Layer.prototype, "mapDataList", {
            get: function () {
                return this._mapDataList;
            },
            set: function (mapDataList) {
                this._mapDataList = mapDataList;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Layer.prototype, "mapArray", {
            get: function () {
                var arr = [];
                this._mapDataList.forEach(function (data) {
                    arr.push(data.diffuseMap);
                });
                return arr;
            },
            enumerable: true,
            configurable: true
        });
        __decorate([
            wd.requireSetter(function (mapDataList) {
                mapDataList.forEach(function (mapData) {
                    wd.assert(mapData.minHeight < mapData.maxHeight, wd.Log.info.FUNC_SHOULD("minHeight", "< maxHeight"));
                });
                mapDataList.forEach(function (mapData) {
                    mapDataList
                        .filter(function (data) {
                        return data.minHeight !== mapData.minHeight || data.maxHeight !== mapData.maxHeight;
                    })
                        .forEach(function (data) {
                        wd.assert(mapData.minHeight >= data.maxHeight || mapData.maxHeight <= data.minHeight, wd.Log.info.FUNC_SHOULD_NOT("height range", "overlap"));
                    });
                });
            })
        ], Layer.prototype, "mapDataList", null);
        __decorate([
            wd.ensureGetter(function (mapArray) {
                for (var _i = 0, mapArray_1 = mapArray; _i < mapArray_1.length; _i++) {
                    var map = mapArray_1[_i];
                    wd.assert(map instanceof wd.Texture, wd.Log.info.FUNC_SHOULD("return Array<Texture>"));
                }
            })
        ], Layer.prototype, "mapArray", null);
        return Layer;
    }());
    wd.Layer = Layer;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var TerrainLayerShaderLib = (function (_super) {
        __extends(TerrainLayerShaderLib, _super);
        function TerrainLayerShaderLib() {
            _super.apply(this, arguments);
            this.type = "terrainLayer";
        }
        TerrainLayerShaderLib.create = function () {
            var obj = new this();
            return obj;
        };
        TerrainLayerShaderLib.prototype.sendShaderVariables = function (program, cmd, material) {
            material.layer.mapDataList.forEach(function (mapData, index) {
                program.sendStructureData("u_layerHeightDatas[" + index + "].minHeight", wd.EVariableType.FLOAT_1, mapData.minHeight);
                program.sendStructureData("u_layerHeightDatas[" + index + "].maxHeight", wd.EVariableType.FLOAT_1, mapData.maxHeight);
            });
        };
        TerrainLayerShaderLib.prototype.setShaderDefinition = function (quadCmd, material) {
            _super.prototype.setShaderDefinition.call(this, quadCmd, material);
            this.addUniformVariable(["u_layerHeightDatas", "u_layerSampler2Ds"]);
            this.fsSourceDefineList.addChildren([{
                    name: "LAYER_COUNT",
                    value: material.layer.mapDataList.getCount()
                }]);
        };
        __decorate([
            wd.require(function (quadCmd, material) {
                wd.assert(!!material, wd.Log.info.FUNC_NOT_EXIST("param:material"));
                wd.assert(material.layer.mapDataList.getCount() >= 0, wd.Log.info.FUNC_SHOULD("TerrainMaterial->layer->mapDataList->count", ">= 0"));
            })
        ], TerrainLayerShaderLib.prototype, "setShaderDefinition", null);
        return TerrainLayerShaderLib;
    }(wd.EngineShaderLib));
    wd.TerrainLayerShaderLib = TerrainLayerShaderLib;
})(wd || (wd = {}));
var wd;
(function (wd) {
    var ShaderChunk = (function () {
        function ShaderChunk() {
        }
        ShaderChunk.empty = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "" };
        ShaderChunk.NULL = -1.0;
        ShaderChunk.morphNormal_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 a_normal = a_currentFrameNormal + (a_nextFrameNormal - a_currentFrameNormal) * u_interpolation;\n", };
        ShaderChunk.morphVertice_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 a_position = a_currentFramePosition + (a_nextFramePosition - a_currentFramePosition) * u_interpolation;\n", };
        ShaderChunk.basicEnd_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\n", };
        ShaderChunk.basic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_color;\n", funcDeclare: "", funcDefine: "", body: "vec4 totalColor = vec4(v_color, 1.0);\n", };
        ShaderChunk.basic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_color;\n", funcDeclare: "", funcDefine: "", body: "v_color = a_color;\n", };
        ShaderChunk.common_define = { top: "", define: "#define NULL -1.0\n", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.common_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.common_function = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "mat2 transpose(mat2 m) {\n  return mat2(  m[0][0], m[1][0],   // new col 0\n                m[0][1], m[1][1]    // new col 1\n             );\n  }\nmat3 transpose(mat3 m) {\n  return mat3(  m[0][0], m[1][0], m[2][0],  // new col 0\n                m[0][1], m[1][1], m[2][1],  // new col 1\n                m[0][2], m[1][2], m[2][2]   // new col 1\n             );\n  }\n", body: "", };
        ShaderChunk.common_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.highp_fragment = { top: "precision highp float;\nprecision highp int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.lowp_fragment = { top: "precision lowp float;\nprecision lowp int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.mediump_fragment = { top: "precision mediump float;\nprecision mediump int;\n", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.lightCommon_fragment = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n#if POINT_LIGHTS_COUNT > 0\nstruct PointLight {\n    vec3 position;\n    vec4 color;\n    float intensity;\n\n    float range;\n    float constant;\n    float linear;\n    float quadratic;\n};\nuniform PointLight u_pointLights[POINT_LIGHTS_COUNT];\n\n#endif\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\nstruct DirectionLight {\n    vec3 position;\n\n    float intensity;\n\n    vec4 color;\n};\nuniform DirectionLight u_directionLights[DIRECTION_LIGHTS_COUNT];\n#endif\n", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.lightCommon_vertex = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n#if POINT_LIGHTS_COUNT > 0\nstruct PointLight {\n    vec3 position;\n    vec4 color;\n    float intensity;\n\n    float range;\n    float constant;\n    float linear;\n    float quadratic;\n};\nuniform PointLight u_pointLights[POINT_LIGHTS_COUNT];\n\n#endif\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\nstruct DirectionLight {\n    vec3 position;\n\n    float intensity;\n\n    vec4 color;\n};\nuniform DirectionLight u_directionLights[DIRECTION_LIGHTS_COUNT];\n#endif\n", funcDeclare: "", funcDefine: "", body: "v_worldPosition = vec3(u_mMatrix * vec4(a_position, 1.0));\n", };
        ShaderChunk.lightEnd_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\n", };
        ShaderChunk.light_common = { top: "", define: "", varDeclare: "", funcDeclare: "vec3 getDirectionLightDirByLightPos(vec3 lightPos);\nvec3 getPointLightDirByLightPos(vec3 lightPos);\nvec3 getPointLightDirByLightPos(vec3 lightPos, vec3 worldPosition);\n", funcDefine: "vec3 getDirectionLightDirByLightPos(vec3 lightPos){\n    return lightPos - vec3(0.0);\n    //return vec3(0.0) - lightPos;\n}\nvec3 getPointLightDirByLightPos(vec3 lightPos){\n    return lightPos - v_worldPosition;\n}\nvec3 getPointLightDirByLightPos(vec3 lightPos, vec3 worldPosition){\n    return lightPos - worldPosition;\n}\n", body: "", };
        ShaderChunk.light_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float getBlinnShininess(float shininess, vec3 normal, vec3 lightDir, vec3 viewDir, float dotResultBetweenNormAndLight){\n        vec3 halfAngle = normalize(lightDir + viewDir);\n        float blinnTerm = dot(normal, halfAngle);\n\n        blinnTerm = clamp(blinnTerm, 0.0, 1.0);\n        blinnTerm = dotResultBetweenNormAndLight != 0.0 ? blinnTerm : 0.0;\n        blinnTerm = pow(blinnTerm, shininess);\n\n        return blinnTerm;\n}\n\nfloat getPhongShininess(float shininess, vec3 normal, vec3 lightDir, vec3 viewDir, float dotResultBetweenNormAndLight){\n        vec3 reflectDir = reflect(-lightDir, normal);\n        float phongTerm = dot(viewDir, reflectDir);\n\n        phongTerm = clamp(phongTerm, 0.0, 1.0);\n        phongTerm = dotResultBetweenNormAndLight != 0.0 ? phongTerm : 0.0;\n        phongTerm = pow(phongTerm, shininess);\n\n        return phongTerm;\n}\n\nvec4 calcLight(vec3 lightDir, vec4 color, float intensity, float attenuation, vec3 normal, vec3 viewDir)\n{\n        vec4 materialLight = getMaterialLight();\n        vec4 materialDiffuse = getMaterialDiffuse();\n        vec4 materialSpecular = getMaterialSpecular();\n        vec4 materialEmission = getMaterialEmission();\n\n        float dotResultBetweenNormAndLight = dot(normal, lightDir);\n        float diff = max(dotResultBetweenNormAndLight, 0.0);\n\n        vec4 emissionColor = materialEmission;\n\n        vec4 ambientColor = (u_ambient + materialLight) * materialDiffuse;\n\n\n        if(u_lightModel == 3){\n            return emissionColor + ambientColor;\n        }\n\n\n        vec4 diffuseColor = color * materialDiffuse * intensity;\n\n        diffuseColor = vec4(diff * vec3(diffuseColor), diffuseColor.a);\n\n\n        float spec = 0.0;\n\n        if(u_lightModel == 2){\n                spec = getPhongShininess(u_shininess, normal, lightDir, viewDir, diff);\n        }\n        else if(u_lightModel == 1){\n                spec = getBlinnShininess(u_shininess, normal, lightDir, viewDir, diff);\n        }\n\n        vec4 specularColor = spec * materialSpecular * intensity;\n\n\n        return emissionColor + ambientColor + attenuation * (diffuseColor + specularColor);\n}\n\n\n\n\n\n#if POINT_LIGHTS_COUNT > 0\n        vec4 calcPointLight(vec3 lightDir, PointLight light, vec3 normal, vec3 viewDir)\n{\n        //lightDir is not normalize computing distance\n        float distance = length(lightDir);\n\n        float attenuation = 0.0;\n\n        if(light.range == NULL || distance < light.range)\n        {\n            attenuation = 1.0 / (light.constant + light.linear * distance + light.quadratic * (distance * distance));\n        }\n\n        lightDir = normalize(lightDir);\n\n        return calcLight(lightDir, light.color, light.intensity, attenuation, normal, viewDir);\n}\n#endif\n\n\n\n#if DIRECTION_LIGHTS_COUNT > 0\n        vec4 calcDirectionLight(vec3 lightDir, DirectionLight light, vec3 normal, vec3 viewDir)\n{\n        float attenuation = 1.0;\n\n        lightDir = normalize(lightDir);\n\n        return calcLight(lightDir, light.color, light.intensity, attenuation, normal, viewDir);\n}\n#endif\n\n\n\nvec4 calcTotalLight(vec3 norm, vec3 viewDir){\n    vec4 totalLight = vec4(0.0);\n\n    #if POINT_LIGHTS_COUNT > 0\n                for(int i = 0; i < POINT_LIGHTS_COUNT; i++){\n                totalLight += calcPointLight(getPointLightDir(i), u_pointLights[i], norm, viewDir);\n        }\n    #endif\n\n    #if DIRECTION_LIGHTS_COUNT > 0\n                for(int i = 0; i < DIRECTION_LIGHTS_COUNT; i++){\n                totalLight += calcDirectionLight(getDirectionLightDir(i), u_directionLights[i], norm, viewDir);\n        }\n    #endif\n\n        return totalLight;\n}\n", body: "vec3 normal = normalize(getNormal());\n\n#ifdef BOTH_SIDE\nnormal = normal * (-1.0 + 2.0 * float(gl_FrontFacing));\n#endif\n\nvec3 viewDir = normalize(getViewDir());\n\nvec4 totalColor = calcTotalLight(normal, viewDir);\n\ntotalColor *= vec4(getShadowVisibility(), 1.0);\n", };
        ShaderChunk.light_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_Position = u_pMatrix * u_vMatrix * vec4(v_worldPosition, 1.0);\n", };
        ShaderChunk.map_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord0;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= vec4(texture2D(u_sampler2D0, v_mapCoord0).xyz, 1.0);\n", };
        ShaderChunk.map_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord0;\n", funcDeclare: "", funcDefine: "", body: "vec2 sourceTexCoord0 = a_texCoord * u_map0SourceRegion.zw + u_map0SourceRegion.xy;\n\n    v_mapCoord0 = sourceTexCoord0 * u_map0RepeatRegion.zw + u_map0RepeatRegion.xy;\n", };
        ShaderChunk.multi_map_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord0;\nvarying vec2 v_mapCoord1;\n", funcDeclare: "", funcDefine: "vec4 getMapColor(){\n            vec4 color0 = vec4(texture2D(u_sampler2D0, v_mapCoord0).xyz, 1.0);\n            vec4 color1 = vec4(texture2D(u_sampler2D1, v_mapCoord1).xyz, 1.0);\n\n            if(u_combineMode == 0){\n                return mix(color0, color1, u_mixRatio);\n            }\n            else if(u_combineMode == 1){\n                return color0 * color1;\n            }\n            else if(u_combineMode == 2){\n                return color0 + color1;\n            }\n		}\n", body: "totalColor *= getMapColor();\n", };
        ShaderChunk.multi_map_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec2 v_mapCoord1;\n", funcDeclare: "", funcDefine: "", body: "vec2 sourceTexCoord1 = a_texCoord * u_map1SourceRegion.zw + u_map1SourceRegion.xy;\n\n    v_mapCoord1 = sourceTexCoord1 * u_map1RepeatRegion.zw + u_map1RepeatRegion.xy;\n", };
        ShaderChunk.mirror_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec4 v_mirrorCoord;\n", funcDeclare: "", funcDefine: "//todo add more blend way to mix mirror color and textureColor\n		float blendOverlay(float base, float blend) {\n			return( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n		}\n		vec4 getMirrorColor(in vec4 materialColor){\n			vec4 color = texture2DProj(u_mirrorSampler, v_mirrorCoord);\n\n			color = vec4(blendOverlay(materialColor.r, color.r), blendOverlay(materialColor.g, color.g), blendOverlay(materialColor.b, color.b), 1.0);\n\n			return color;\n		}\n", body: "totalColor = getMirrorColor(totalColor);\n", };
        ShaderChunk.mirror_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec4 v_mirrorCoord;\n", funcDeclare: "", funcDefine: "", body: "mat4 textureMatrix = mat4(\n                        0.5, 0.0, 0.0, 0.0,\n                        0.0, 0.5, 0.0, 0.0,\n                        0.0, 0.0, 0.5, 0.0,\n                        0.5, 0.5, 0.5, 1.0\n);\n\nv_mirrorCoord = textureMatrix * gl_Position;\n", };
        ShaderChunk.skybox_fragment = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "gl_FragColor = textureCube(u_samplerCube0, v_dir);\n", };
        ShaderChunk.skybox_vertex = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "vec4 pos = u_pMatrix * mat4(mat3(u_vMatrix)) * u_mMatrix * vec4(a_position, 1.0);\n\n    gl_Position = pos.xyww;\n\n    v_dir = a_position;\n", };
        ShaderChunk.diffuseMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_diffuseMapTexCoord;\n", funcDeclare: "", funcDefine: "vec4 getMaterialDiffuse() {\n        return texture2D(u_diffuseMapSampler, v_diffuseMapTexCoord);\n    }\n", body: "", };
        ShaderChunk.diffuseMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_diffuseMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "vec2 sourceTexCoord = a_texCoord * u_diffuseSourceRegion.zw + u_diffuseSourceRegion.xy;\n    v_diffuseMapTexCoord = sourceTexCoord * u_diffuseRepeatRegion.zw + u_diffuseRepeatRegion.xy;\n", };
        ShaderChunk.emissionMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_emissionMapTexCoord;\n", funcDeclare: "", funcDefine: "vec4 getMaterialEmission() {\n        return texture2D(u_emissionMapSampler, v_emissionMapTexCoord);\n    }\n", body: "", };
        ShaderChunk.emissionMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_emissionMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_emissionMapTexCoord = a_texCoord;\n", };
        ShaderChunk.lightMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_lightMapTexCoord;\n", funcDeclare: "", funcDefine: "vec4 getMaterialLight() {\n        return texture2D(u_lightMapSampler, v_lightMapTexCoord) * u_lightMapIntensity;\n    }\n", body: "", };
        ShaderChunk.lightMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_lightMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_lightMapTexCoord = a_texCoord;\n", };
        ShaderChunk.noDiffuseMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec4 getMaterialDiffuse() {\n        return u_diffuse;\n    }\n", body: "", };
        ShaderChunk.noEmissionMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec4 getMaterialEmission() {\n        return u_emission;\n    }\n", body: "", };
        ShaderChunk.noLightMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec4 getMaterialLight() {\n        return vec4(0.0);\n    }\n", body: "", };
        ShaderChunk.noNormalMap_fragment = { top: "", define: "", varDeclare: "varying vec3 v_normal;\n", funcDeclare: "vec3 getNormal();\n\n", funcDefine: "#if POINT_LIGHTS_COUNT > 0\nvec3 getPointLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= POINT_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return getPointLightDirByLightPos(u_pointLights[x].position);\n        }\n    }\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvec3 getDirectionLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= DIRECTION_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return getDirectionLightDirByLightPos(u_directionLights[x].position);\n        }\n    }\n\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n\nvec3 getViewDir(){\n    return normalize(u_cameraPos - v_worldPosition);\n}\nvec3 getNormal(){\n    return v_normal;\n}\n\n", body: "", };
        ShaderChunk.noNormalMap_vertex = { top: "", define: "", varDeclare: "varying vec3 v_normal;\n", funcDeclare: "", funcDefine: "", body: "//v_normal = normalize( vec3(u_normalMatrix * vec4(a_normal, 1.0)));\n    v_normal = normalize( u_normalMatrix * a_normal);\n", };
        ShaderChunk.noSpecularMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec4 getMaterialSpecular() {\n        return u_specular;\n    }\n", body: "", };
        ShaderChunk.normalMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_normalMapTexCoord;\nvarying vec3 v_viewDir;\n#if POINT_LIGHTS_COUNT > 0\nvarying vec3 v_pointLightDir[POINT_LIGHTS_COUNT];\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvarying vec3 v_directionLightDir[DIRECTION_LIGHTS_COUNT];\n#endif\n\n", funcDeclare: "vec3 getNormal();\n\nvec3 getLightDir(vec3 lightPos);\n\n", funcDefine: "#if POINT_LIGHTS_COUNT > 0\nvec3 getPointLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= POINT_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return v_pointLightDir[x];\n        }\n    }\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\n\nvec3 getDirectionLightDir(int index){\n    //workaround '[] : Index expression must be constant' error\n    for (int x = 0; x <= DIRECTION_LIGHTS_COUNT; x++) {\n        if(x == index){\n            return v_directionLightDir[x];\n        }\n    }\n\n    /*!\n    solve error in window7 chrome/firefox:\n    not all control paths return a value.\n    failed to create d3d shaders\n    */\n    return vec3(0.0);\n}\n#endif\n\n\nvec3 getViewDir(){\n    return v_viewDir;\n}\nvec3 getNormal(){\n        // Obtain normal from normal map in range [0,1]\n        vec3 normal = texture2D(u_normalMapSampler, v_normalMapTexCoord).rgb;\n\n        // Transform normal vector to range [-1,1]\n        return normalize(normal * 2.0 - 1.0);  // this normal is in tangent space\n}\n", body: "", };
        ShaderChunk.normalMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_normalMapTexCoord;\n	varying vec3 v_viewDir;\n\n\n#if POINT_LIGHTS_COUNT > 0\nvarying vec3 v_pointLightDir[POINT_LIGHTS_COUNT];\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\nvarying vec3 v_directionLightDir[DIRECTION_LIGHTS_COUNT];\n#endif\n\n", funcDeclare: "", funcDefine: "mat3 computeTBN(){\n            //vec3 T = normalize(normalMatrix * tangent);\n            //vec3 B = normalize(normalMatrix * bitangent);\n            //vec3 N = normalize(normalMatrix * normal);\n\n            vec3 T = normalize(u_normalMatrix * a_tangent);\n            vec3 N = normalize(u_normalMatrix * a_normal);\n            // re-orthogonalize T with respect to N\n            T = normalize(T - dot(T, N) * N);\n            // then retrieve perpendicular vector B with the cross product of T and N\n            vec3 B = cross(T, N);\n\n\n            return transpose(mat3(T, B, N));\n        }\n", body: "mat3 TBN = computeTBN();\n\n    //v_tangentLightPos = TBN * light.position;\n    //v_tangentCameraPos  = TBN * u_cameraPos;\n    //v_tangentPos  = TBN * v_position;\n\n\n    vec3 tangentPosition = TBN * vec3(u_mMatrix * vec4(a_position, 1.0));\n\n    v_normalMapTexCoord = a_texCoord;\n\n    v_viewDir = normalize(TBN * u_cameraPos - tangentPosition);\n\n\n#if POINT_LIGHTS_COUNT > 0\n       for(int i = 0; i < POINT_LIGHTS_COUNT; i++){\n            //not normalize for computing distance\n            v_pointLightDir[i] = TBN * getPointLightDirByLightPos(u_pointLights[i].position, tangentPosition);\n       }\n#endif\n\n#if DIRECTION_LIGHTS_COUNT > 0\n       for(int i = 0; i < DIRECTION_LIGHTS_COUNT; i++){\n            v_directionLightDir[i] = normalize(- TBN * getDirectionLightDirByLightPos(u_directionLights[i].position));\n       }\n#endif\n\n", };
        ShaderChunk.specularMap_fragment = { top: "", define: "", varDeclare: "varying vec2 v_specularMapTexCoord;\n", funcDeclare: "", funcDefine: "vec4 getMaterialSpecular() {\n        return texture2D(u_specularMapSampler, v_specularMapTexCoord);\n    }\n", body: "", };
        ShaderChunk.specularMap_vertex = { top: "", define: "", varDeclare: "varying vec2 v_specularMapTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_specularMapTexCoord = a_texCoord;\n", };
        ShaderChunk.basic_envMap_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, v_dir);\n", };
        ShaderChunk.basic_envMap_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_dir;\n", funcDeclare: "", funcDefine: "", body: "v_dir = a_position;\n", };
        ShaderChunk.envMap_forBasic_fragment = { top: "", define: "", varDeclare: "varying vec3 v_normal;\nvarying vec3 v_position;\n", funcDeclare: "", funcDefine: "", body: "vec3 inDir = normalize(v_position - u_cameraPos);\n", };
        ShaderChunk.envMap_forBasic_vertex = { top: "", define: "", varDeclare: "varying vec3 v_normal;\nvarying vec3 v_position;\n", funcDeclare: "", funcDefine: "", body: "v_normal = normalize( u_normalMatrix * a_normal);\n    v_position = vec3(u_mMatrix * vec4(a_position, 1.0));\n", };
        ShaderChunk.fresnel_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float computeFresnelRatio(vec3 inDir, vec3 normal, float refractionRatio){\n    float f = pow(1.0 - refractionRatio, 2.0) / pow(1.0 + refractionRatio, 2.0);\n    float fresnelPower = 5.0;\n    float ratio = f + (1.0 - f) * pow((1.0 - dot(inDir, normal)), fresnelPower);\n\n    return ratio / 100.0;\n}\nvec4 getEnvMapTotalColor(vec3 inDir, vec3 normal){\n    vec3 reflectDir = reflect(inDir, normal);\n    vec3 refractDir = refract(inDir, normal, u_refractionRatio);\n\n    vec4 reflectColor = textureCube(u_samplerCube0, reflectDir);\n    vec4 refractColor = textureCube(u_samplerCube0, refractDir);\n\n    vec4 totalColor = vec4(0.0);\n\n	if(u_reflectivity != NULL){\n        totalColor = mix(reflectColor, refractColor, u_reflectivity);\n	}\n	else{\n        totalColor = mix(reflectColor, refractColor, computeFresnelRatio(inDir, normal, u_refractionRatio));\n	}\n\n	return totalColor;\n}\n", body: "totalColor *= getEnvMapTotalColor(inDir, normalize(v_normal));\n", };
        ShaderChunk.reflection_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, reflect(inDir, normalize(v_normal)));\n", };
        ShaderChunk.refraction_forBasic_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, refract(inDir, normalize(v_normal), u_refractionRatio));\n", };
        ShaderChunk.buildCubemapShadowMap_fragment = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n", funcDeclare: "", funcDefine: "", body: "\n// get distance between fragment and light source\n    float lightDistance = length(v_worldPosition - u_lightPos);\n\n    // map to [0,1] range by dividing by farPlane\n    lightDistance = lightDistance / u_farPlane;\n\n\ngl_FragData[0] = packDepth(lightDistance);\n\n\n//gl_FragColor = vec4(0.5, 0.0, 1.0, 1.0);\n//gl_FragData[0] = vec4(lightDistance, 1.0, 1.0, 1.0);\n", };
        ShaderChunk.buildCubemapShadowMap_vertex = { top: "", define: "", varDeclare: "varying vec3 v_worldPosition;\n", funcDeclare: "", funcDefine: "", body: "v_worldPosition = vec3(u_mMatrix * vec4(a_position, 1.0));\n    gl_Position = u_pMatrix * u_vMatrix * vec4(v_worldPosition, 1.0);\n", };
        ShaderChunk.buildTwoDShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_FragData[0] = packDepth(gl_FragCoord.z);\n", };
        ShaderChunk.buildTwoDShadowMap_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "gl_Position = u_vpMatrixFromLight * u_mMatrix * vec4(a_position, 1.0);\n//gl_Position = u_pMatrix* u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\n", };
        ShaderChunk.commonBuildShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "// Packing a float in GLSL with multiplication and mod\nvec4 packDepth(in float depth) {\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n    const vec4 bit_mask = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n    // combination of mod and multiplication and division works better\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n    res -= res.xxyz * bit_mask;\n\n    return res;\n}\n", body: "", };
        ShaderChunk.cubemapShadowMap_fragment = { top: "", define: "", varDeclare: "uniform samplerCube u_cubemapShadowMapSampler[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_cubemapShadowDarkness[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_cubemapShadowBias[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform float u_farPlane[ CUBEMAP_SHADOWMAP_COUNT ];\n	uniform vec3 u_cubemapLightPos[ CUBEMAP_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "// PCF\nfloat getCubemapShadowVisibilityByPCF(float currentDepth, vec3 fragToLight, samplerCube cubemapShadowMapSampler, float shadowBias, float farPlane, float shadowDarkness){\n    //only support in opengl es 3.0+\n    //vec3 sampleOffsetDirections[20] = vec3[]\n    //(\n       //vec3( 1,  1,  1), vec3( 1, -1,  1), vec3(-1, -1,  1), vec3(-1,  1,  1),\n       //vec3( 1,  1, -1), vec3( 1, -1, -1), vec3(-1, -1, -1), vec3(-1,  1, -1),\n       //vec3( 1,  1,  0), vec3( 1, -1,  0), vec3(-1, -1,  0), vec3(-1,  1,  0),\n       //vec3( 1,  0,  1), vec3(-1,  0,  1), vec3( 1,  0, -1), vec3(-1,  0, -1),\n       //vec3( 0,  1,  1), vec3( 0, -1,  1), vec3( 0, -1, -1), vec3( 0,  1, -1)\n    //);\n\n    vec3 sampleOffsetDirections[20];\n\n    sampleOffsetDirections[0] = vec3( 1,  1,  1);\n    sampleOffsetDirections[1] = vec3( 1,  -1,  1);\n    sampleOffsetDirections[2] = vec3( -1,  -1,  1);\n    sampleOffsetDirections[3] = vec3( -1,  1,  1);\n\n    sampleOffsetDirections[4] = vec3( 1,  1,  -1);\n    sampleOffsetDirections[5] = vec3( 1,  -1,  -1);\n    sampleOffsetDirections[6] = vec3( -1,  -1,  -1);\n    sampleOffsetDirections[7] = vec3( -1,  1,  -1);\n\n    sampleOffsetDirections[8] = vec3( 1,  1,  0);\n    sampleOffsetDirections[9] = vec3( 1,  -1,  0);\n    sampleOffsetDirections[10] = vec3( -1,  -1,  0);\n    sampleOffsetDirections[11] = vec3( -1,  1,  0);\n\n    sampleOffsetDirections[12] = vec3( 1,  0,  1);\n    sampleOffsetDirections[13] = vec3( -1,  0,  1);\n    sampleOffsetDirections[14] = vec3( 1,  0,  -1);\n    sampleOffsetDirections[15] = vec3( -1,  0,  -1);\n\n    sampleOffsetDirections[16] = vec3( 0,  1,  1);\n    sampleOffsetDirections[17] = vec3( 0,  -1,  1);\n    sampleOffsetDirections[18] = vec3( 0,  -1,  -1);\n    sampleOffsetDirections[19] = vec3( 0,  1,  -1);\n\n    float shadow = 0.0;\n    int samples = 20;\n\n    //float diskRadius = 0.00000;\n    //Another interesting trick we can apply here is that we can change the diskRadius based on how far the viewer is away from a fragment; this way we can increase the offset radius by the distance to the viewer, making the shadows softer when far away and sharper when close by.\n    float viewDistance = length(u_cameraPos - v_worldPosition);\n    float diskRadius = (1.0 + (viewDistance / farPlane)) / 25.0;\n\n    //for(int i = 0; i < samples; ++i)\n    for(int i = 0; i < 20; ++i)\n    {\n        float pcfDepth = unpackDepth(textureCube(cubemapShadowMapSampler, fragToLight + sampleOffsetDirections[i] * diskRadius));\n        pcfDepth *= farPlane;   // Undo mapping [0;1]\n        shadow += currentDepth - shadowBias > pcfDepth  ? shadowDarkness : 1.0;\n    }\n    shadow /= float(samples);\n\n    return shadow;\n}\n\n\nfloat getCubemapShadowVisibility(vec3 lightDir, samplerCube cubemapShadowMapSampler, vec3 lightPos, float farPlane, float shadowBias, float  shadowDarkness) {\n// Get vector between fragment position and light position\n    vec3 fragToLight= v_worldPosition - lightPos;\n    // Use the light to fragment vector to sample from the depth map\n    // Now get current linear depth as the length between the fragment and light position\n    float currentDepth = length(fragToLight);\n\n    #if defined(SHADOWMAP_TYPE_PCF)\n    return getCubemapShadowVisibilityByPCF(currentDepth, fragToLight, cubemapShadowMapSampler, getShadowBias(lightDir, shadowBias), farPlane, shadowDarkness);\n    #endif\n\n    float closestDepth = unpackDepth(textureCube(cubemapShadowMapSampler, fragToLight));\n\n    // It is currently in linear range between [0,1]. Re-transform back to original value\n    closestDepth *= farPlane;\n\n\n    return float(currentDepth > closestDepth + getShadowBias(lightDir, shadowBias) ? shadowDarkness : 1.0);\n}\n", body: "", };
        ShaderChunk.noShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "vec3 getShadowVisibility() {\n        return vec3(1.0);\n    }\n", body: "", };
        ShaderChunk.totalShadowMap_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "float getShadowBias(vec3 lightDir, float shadowBias);\nfloat unpackDepth(vec4 rgbaDepth);\n", funcDefine: "float getShadowBias(vec3 lightDir, float shadowBias){\n    float bias = shadowBias;\n\n    if(shadowBias == NULL){\n        bias = 0.005;\n    }\n\n\n     /*!\n     A shadow bias of 0.005 solves the issues of our scene by a large extent, but some surfaces that have a steep angle to the light source might still produce shadow acne. A more solid approach would be to change the amount of bias based on the surface angle towards the light: something we can solve with the dot product:\n     */\n\n     return max(bias * (1.0 - dot(normalize(getNormal()), lightDir)), bias);\n\n    //return bias;\n}\n\nfloat unpackDepth(vec4 rgbaDepth) {\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n    return dot(rgbaDepth, bitShift);\n}\n\nvec3 getShadowVisibility() {\n    vec3 shadowColor = vec3(1.0);\n    vec3 twoDLightDir = vec3(0.0);\n    vec3 cubemapLightDir = vec3(0.0);\n\n\n    //to normalMap, the lightDir use the origin one instead of normalMap's lightDir here(the lightDir is used for computing shadowBias, the origin one is enough for it)\n\n    #if TWOD_SHADOWMAP_COUNT > 0\n	for( int i = 0; i < TWOD_SHADOWMAP_COUNT; i ++ ) {\n        twoDLightDir = getDirectionLightDirByLightPos(u_twoDLightPos[i]);\n\n	////if is opposite to direction of light rays, no shadow\n\n        shadowColor *= getTwoDShadowVisibility(twoDLightDir, u_twoDShadowMapSampler[i], v_positionFromLight[i], u_twoDShadowBias[i], u_twoDShadowDarkness[i], u_twoDShadowSize[i]);\n	}\n	#endif\n\n\n	#if CUBEMAP_SHADOWMAP_COUNT > 0\n	for( int i = 0; i < CUBEMAP_SHADOWMAP_COUNT; i ++ ) {\n        cubemapLightDir = getPointLightDirByLightPos(u_cubemapLightPos[i]);\n\n	////if is opposite to direction of light rays, no shadow\n\n        shadowColor *= getCubemapShadowVisibility(cubemapLightDir, u_cubemapShadowMapSampler[i], u_cubemapLightPos[i], u_farPlane[i], u_cubemapShadowBias[i], u_cubemapShadowDarkness[i]);\n	}\n	#endif\n\n	return shadowColor;\n}\n\n", body: "", };
        ShaderChunk.twoDShadowMap_fragment = { top: "", define: "", varDeclare: "varying vec4 v_positionFromLight[ TWOD_SHADOWMAP_COUNT ];\n	uniform sampler2D u_twoDShadowMapSampler[ TWOD_SHADOWMAP_COUNT ];\n	uniform float u_twoDShadowDarkness[ TWOD_SHADOWMAP_COUNT ];\n	uniform float u_twoDShadowBias[ TWOD_SHADOWMAP_COUNT ];\n	uniform vec2 u_twoDShadowSize[ TWOD_SHADOWMAP_COUNT ];\n	uniform vec3 u_twoDLightPos[ TWOD_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "// PCF\nfloat getTwoDShadowVisibilityByPCF(float currentDepth, vec2 shadowCoord, sampler2D twoDShadowMapSampler, float shadowBias, float shadowDarkness, vec2 shadowMapSize){\n\n    float shadow = 0.0;\n    vec2 texelSize = vec2(1.0 / shadowMapSize[0], 1.0 / shadowMapSize[1]);\n\n    for(int x = -1; x <= 1; ++x)\n    {\n        for(int y = -1; y <= 1; ++y)\n        {\n            float pcfDepth = unpackDepth(texture2D(twoDShadowMapSampler, shadowCoord + vec2(x, y) * texelSize));\n            shadow += currentDepth - shadowBias > pcfDepth  ? shadowDarkness : 1.0;\n        }\n    }\n    shadow /= 9.0;\n\n    return shadow;\n}\n\n\n\nfloat getTwoDShadowVisibility(vec3 lightDir, sampler2D twoDShadowMapSampler, vec4 v_positionFromLight, float shadowBias, float shadowDarkness, vec2 shadowSize) {\n    //project texture\n    vec3 shadowCoord = (v_positionFromLight.xyz / v_positionFromLight.w) / 2.0 + 0.5;\n    //vec3 shadowCoord = vec3(0.5, 0.5, 0.5);\n\n    #ifdef SHADOWMAP_TYPE_PCF\n    // Percentage-close filtering\n    // (9 pixel kernel)\n    return getTwoDShadowVisibilityByPCF(shadowCoord.z, shadowCoord.xy, twoDShadowMapSampler, getShadowBias(lightDir, shadowBias), shadowDarkness, shadowSize);\n\n    #else\n    return shadowCoord.z > unpackDepth(texture2D(twoDShadowMapSampler, shadowCoord.xy)) + getShadowBias(lightDir, shadowBias) ? shadowDarkness : 1.0;\n    #endif\n}\n", body: "", };
        ShaderChunk.twoDShadowMap_vertex = { top: "", define: "", varDeclare: "varying vec4 v_positionFromLight[ TWOD_SHADOWMAP_COUNT ];\nuniform mat4 u_vpMatrixFromLight[ TWOD_SHADOWMAP_COUNT ];\n", funcDeclare: "", funcDefine: "", body: "for( int i = 0; i < TWOD_SHADOWMAP_COUNT; i ++ ) {\n    v_positionFromLight[i] = u_vpMatrixFromLight[i] * vec4(v_worldPosition, 1.0);\n	}\n", };
        ShaderChunk.basic_envMap_forLight_fragment = { top: "", define: "", varDeclare: "varying vec3 v_basicEnvMap_dir;\n", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, v_basicEnvMap_dir);\n", };
        ShaderChunk.basic_envMap_forLight_vertex = { top: "", define: "", varDeclare: "varying vec3 v_basicEnvMap_dir;\n", funcDeclare: "", funcDefine: "", body: "v_basicEnvMap_dir = a_position;\n", };
        ShaderChunk.envMap_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "vec3 inDir = normalize(v_worldPosition - u_cameraPos);\n", };
        ShaderChunk.envMap_forLight_vertex = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "", };
        ShaderChunk.fresnel_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float computeFresnelRatio(vec3 inDir, vec3 normal, float refractionRatio){\n    float f = pow(1.0 - refractionRatio, 2.0) / pow(1.0 + refractionRatio, 2.0);\n    float fresnelPower = 5.0;\n    float ratio = f + (1.0 - f) * pow((1.0 - dot(inDir, normal)), fresnelPower);\n\n    return ratio / 100.0;\n}\n\nvec4 getEnvMapTotalColor(vec3 inDir, vec3 normal){\n    vec3 reflectDir = reflect(inDir, normal);\n    vec3 refractDir = refract(inDir, normal, u_refractionRatio);\n\n    vec4 reflectColor = textureCube(u_samplerCube0, reflectDir);\n    vec4 refractColor = textureCube(u_samplerCube0, refractDir);\n\n    vec4 totalColor = vec4(0.0);\n\n	if(u_reflectivity != NULL){\n        totalColor = mix(reflectColor, refractColor, u_reflectivity);\n	}\n	else{\n        totalColor = mix(reflectColor, refractColor, computeFresnelRatio(inDir, normal, u_refractionRatio));\n	}\n\n	return totalColor;\n}\n", body: "totalColor *= getEnvMapTotalColor(inDir, normalize(getNormal()));\n", };
        ShaderChunk.reflection_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, reflect(inDir, normalize(getNormal())));\n", };
        ShaderChunk.refraction_forLight_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "", body: "totalColor *= textureCube(u_samplerCube0, refract(inDir, getNormal(), u_refractionRatio));\n", };
        ShaderChunk.terrainLayer_fragment = { top: "", define: "", varDeclare: "struct LayerHeightData {\n    float minHeight;\n    float maxHeight;\n};\nuniform LayerHeightData u_layerHeightDatas[LAYER_COUNT];\n//sampler2D can't be contained in struct\nuniform sampler2D u_layerSampler2Ds[LAYER_COUNT];\n\n\nvarying vec2 v_layerTexCoord;\n", funcDeclare: "", funcDefine: "vec4 getLayerTextureColor(in sampler2D layerSampler2Ds[LAYER_COUNT], in LayerHeightData layerHeightDatas[LAYER_COUNT]){\n    vec4 color = vec4(0.0);\n    bool isInLayer = false;\n\n    float height = v_worldPosition.y;\n\n    for(int i = 0; i < LAYER_COUNT; i++){\n        if(height >= layerHeightDatas[i].minHeight && height <= layerHeightDatas[i].maxHeight){\n            //todo blend color\n            color += texture2D(layerSampler2Ds[i], v_layerTexCoord);\n\n            isInLayer = true;\n\n            break;\n        }\n    }\n\n    return isInLayer ? color : vec4(1.0);\n}\n", body: "\ntotalColor *= getLayerTextureColor(u_layerSampler2Ds, u_layerHeightDatas);\n", };
        ShaderChunk.terrainLayer_vertex = { top: "", define: "", varDeclare: "varying vec2 v_layerTexCoord;\n", funcDeclare: "", funcDefine: "", body: "v_layerTexCoord = a_texCoord;\n", };
        ShaderChunk.cloud_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\n", funcDeclare: "", funcDefine: "", body: "gl_FragColor = mix(u_skyColor, u_cloudColor, fbm(v_texCoord * 12.0));\n", };
        ShaderChunk.brick_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\n", funcDeclare: "", funcDefine: "", body: "float brickW = 1.0 / u_tilesWidthNumber;\n	float brickH = 1.0 / u_tilesWidthNumber;\n	float jointWPercentage = 0.01;\n	float jointHPercentage = 0.05;\n	vec3 color = u_brickColor;\n	float yi = v_texCoord.y / brickH;\n	float nyi = round(yi);\n	float xi = v_texCoord.x / brickW;\n\n	if (mod(floor(yi), 2.0) == 0.0){\n		xi = xi - 0.5;\n	}\n\n	float nxi = round(xi);\n	vec2 brickv_texCoord = vec2((xi - floor(xi)) / brickH, (yi - floor(yi)) /  brickW);\n\n	if (yi < nyi + jointHPercentage && yi > nyi - jointHPercentage){\n		color = mix(u_jointColor, vec3(0.37, 0.25, 0.25), (yi - nyi) / jointHPercentage + 0.2);\n	}\n	else if (xi < nxi + jointWPercentage && xi > nxi - jointWPercentage){\n		color = mix(u_jointColor, vec3(0.44, 0.44, 0.44), (xi - nxi) / jointWPercentage + 0.2);\n	}\n	else {\n		float u_brickColorSwitch = mod(floor(yi) + floor(xi), 3.0);\n\n		if (u_brickColorSwitch == 0.0)\n			color = mix(color, vec3(0.33, 0.33, 0.33), 0.3);\n		else if (u_brickColorSwitch == 2.0)\n			color = mix(color, vec3(0.11, 0.11, 0.11), 0.3);\n	}\n\n	gl_FragColor = vec4(color, 1.0);\n", };
        ShaderChunk.common_proceduralTexture_fragment = { top: "", define: "", varDeclare: "", funcDeclare: "", funcDefine: "float rand(vec2 n) {\n	return fract(cos(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\nfloat noise(vec2 n) {\n	const vec2 d = vec2(0.0, 1.0);\n	vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n	return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\nfloat turbulence(vec2 P)\n{\n	float val = 0.0;\n	float freq = 1.0;\n	for (int i = 0; i < 4; i++)\n	{\n		val += abs(noise(P*freq) / freq);\n		freq *= 2.07;\n	}\n	return val;\n}\n\nfloat fbm(vec2 n) {\n	float total = 0.0, amplitude = 1.0;\n	for (int i = 0; i < 4; i++) {\n		total += noise(n) * amplitude;\n		n += n;\n		amplitude *= 0.5;\n	}\n	return total;\n}\n\nfloat round(float number){\n	return sign(number)*floor(abs(number) + 0.5);\n}\n", body: "", };
        ShaderChunk.common_proceduralTexture_vertex = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\nconst vec2 MADD=vec2(0.5,0.5);\n", funcDeclare: "", funcDefine: "", body: "v_texCoord=a_positionVec2*MADD+MADD;\n\n    gl_Position=vec4(a_positionVec2, 0.0 ,1.0);\n", };
        ShaderChunk.fire_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\nstruct FireColor {\n    vec3 c1;\n    vec3 c2;\n    vec3 c3;\n    vec3 c4;\n    vec3 c5;\n    vec3 c6;\n};\nuniform FireColor u_fireColor;\n", funcDeclare: "", funcDefine: "", body: "vec2 p = v_texCoord * 8.0;\n	float q = fbm(p - u_time * 0.1);\n	vec2 r = vec2(fbm(p + q + u_time * u_speed.x - p.x - p.y), fbm(p + q - u_time * u_speed.y));\n	vec3 c = mix(u_fireColor.c1, u_fireColor.c2, fbm(p + r)) + mix(u_fireColor.c3, u_fireColor.c4, r.x) - mix(u_fireColor.c5, u_fireColor.c6, r.y);\n	vec3 color = c * cos(u_shift * v_texCoord.y);\n	float luminance = dot(color.rgb, vec3(0.3, 0.59, 0.11));\n\n	gl_FragColor = vec4(color, luminance * u_alphaThreshold + (1.0 - u_alphaThreshold));\n", };
        ShaderChunk.grass_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\n", funcDeclare: "", funcDefine: "", body: "vec3 color = mix(u_groundColor, u_herb1Color, rand(gl_FragCoord.xy * 4.0));\n	color = mix(color, u_herb2Color, rand(gl_FragCoord.xy * 8.0));\n	color = mix(color, u_herb3Color, rand(gl_FragCoord.xy));\n	color = mix(color, u_herb1Color, fbm(gl_FragCoord.xy * 16.0));\n\n	gl_FragColor = vec4(color, 1.0);\n", };
        ShaderChunk.marble_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\nconst vec3 TILE_SIZE = vec3(1.1, 1.0, 1.1);\n//const vec3 TILE_PCT = vec3(0.98, 1.0, 0.98);\n", funcDeclare: "", funcDefine: "vec3 marble_color(float x)\n{\n	vec3 col;\n	x = 0.5*(x + 1.);\n	x = sqrt(x);\n	x = sqrt(x);\n	x = sqrt(x);\n	col = vec3(.2 + .75*x);\n	col.b *= 0.95;\n	return col;\n}\n", body: "vec3 color;\n	float brickW = 1.0 / u_tilesHeightNumber;\n	float brickH = 1.0 / u_tilesWidthNumber;\n	float jointWPercentage = 0.01;\n	float jointHPercentage = 0.01;\n	float yi = v_texCoord.y / brickH;\n	float nyi = round(yi);\n	float xi = v_texCoord.x / brickW;\n\n	if (mod(floor(yi), 2.0) == 0.0){\n		xi = xi - 0.5;\n	}\n\n	float nxi = round(xi);\n	vec2 brickv_texCoord = vec2((xi - floor(xi)) / brickH, (yi - floor(yi)) / brickW);\n\n	if (yi < nyi + jointHPercentage && yi > nyi - jointHPercentage){\n		color = mix(u_jointColor, vec3(0.37, 0.25, 0.25), (yi - nyi) / jointHPercentage + 0.2);\n	}\n	else if (xi < nxi + jointWPercentage && xi > nxi - jointWPercentage){\n		color = mix(u_jointColor, vec3(0.44, 0.44, 0.44), (xi - nxi) / jointWPercentage + 0.2);\n	}\n	else {\n		float t = 6.28 * brickv_texCoord.x / (TILE_SIZE.x + noise(vec2(v_texCoord)*6.0));\n		t += u_amplitude * turbulence(brickv_texCoord.xy);\n		t = sin(t);\n		color = marble_color(t);\n	}\n\n	gl_FragColor = vec4(color, 1.0);\n", };
        ShaderChunk.road_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\n", funcDeclare: "", funcDefine: "", body: "float ratioy = mod(gl_FragCoord.y * 100.0 , fbm(v_texCoord * 2.0));\n	vec3 color = u_roadColor * ratioy;\n\n	gl_FragColor = vec4(color, 1.0);\n", };
        ShaderChunk.wood_proceduralTexture_fragment = { top: "", define: "", varDeclare: "varying vec2 v_texCoord;\n", funcDeclare: "", funcDefine: "", body: "float ratioy = mod(v_texCoord.x * u_ampScale, 2.0 + fbm(v_texCoord * 0.8));\n	vec3 wood = u_woodColor * ratioy;\n\n	gl_FragColor = vec4(wood, 1.0);\n", };
        return ShaderChunk;
    }());
    wd.ShaderChunk = ShaderChunk;
})(wd || (wd = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9EZWJ1Z0NvbmZpZy50cyIsImRlYnVnL0RlYnVnU3RhdGlzdGljcy50cyIsImV4dGVuZC93ZEZycC50cyIsImRlZmluaXRpb24vdHlwZXNjcmlwdC9kZWNvcmF0b3IvY29udHJhY3QudHMiLCJkZWZpbml0aW9uL3R5cGVzY3JpcHQvZGVjb3JhdG9yL2NhY2hlLnRzIiwiZGVmaW5pdGlvbi90eXBlc2NyaXB0L2RlY29yYXRvci92aXJ0dWFsLnRzIiwiZGVmaW5pdGlvbi90eXBlc2NyaXB0L2RlY29yYXRvci9yaWdpZEJvZHkudHMiLCJkZWZpbml0aW9uL3R5cGVzY3JpcHQvZGVjb3JhdG9yL3NjcmlwdC50cyIsImRlZmluaXRpb24vdHlwZXNjcmlwdC9kZWNvcmF0b3IvY29udHJvbC50cyIsImRlZmluaXRpb24vR2xvYmFsLnRzIiwibWF0aC9HbG9iYWwudHMiLCJtYXRoL1ZlY3RvcjIudHMiLCJtYXRoL1ZlY3RvcjMudHMiLCJtYXRoL1ZlY3RvcjQudHMiLCJtYXRoL01hdHJpeDQudHMiLCJtYXRoL01hdHJpeDMudHMiLCJtYXRoL1F1YXRlcm5pb24udHMiLCJtYXRoL1BsYW5lLnRzIiwibWF0aC9SYXkudHMiLCJjb3JlL0VudGl0eS50cyIsImNvcmUvQ29tcG9uZW50LnRzIiwiY29yZS9TY2hlZHVsZXIudHMiLCJjb3JlL0RpcmVjdG9yLnRzIiwiY29yZS9NYWluLnRzIiwiY29yZS9Eb21FdmVudE1hbmFnZXIudHMiLCJjb3JlL2VudGl0eU9iamVjdC9FbnRpdHlPYmplY3QudHMiLCJjb3JlL2VudGl0eU9iamVjdC9VSU9iamVjdC50cyIsImNvcmUvZW50aXR5T2JqZWN0L0dhbWVPYmplY3QudHMiLCJjb3JlL2VudGl0eU9iamVjdC9TY2VuZURpc3BhdGNoZXIudHMiLCJjb3JlL2VudGl0eU9iamVjdC9TY2VuZS50cyIsImNvcmUvZW50aXR5T2JqZWN0L0dhbWVPYmplY3RTY2VuZS50cyIsImNvcmUvZW50aXR5T2JqZWN0L1VJT2JqZWN0U2NlbmUudHMiLCJjb2xsaXNpb24vQ29sbGlzaW9uRGV0ZWN0b3IudHMiLCJldmVudC9zdHJ1Y3R1cmUvRXZlbnRMaXN0ZW5lck1hcC50cyIsImV2ZW50L3N0cnVjdHVyZS9DdXN0b21FdmVudExpc3RlbmVyTWFwLnRzIiwiZXZlbnQvc3RydWN0dXJlL0RvbUV2ZW50TGlzdGVuZXJNYXAudHMiLCJldmVudC9vYmplY3QvRUV2ZW50VHlwZS50cyIsImV2ZW50L29iamVjdC9FdmVudE5hbWVIYW5kbGVyLnRzIiwiZXZlbnQvb2JqZWN0L0VFdmVudFBoYXNlLnRzIiwiZXZlbnQvb2JqZWN0L0V2ZW50VGFibGUudHMiLCJldmVudC9vYmplY3QvRXZlbnQudHMiLCJldmVudC9vYmplY3QvRG9tRXZlbnQudHMiLCJldmVudC9vYmplY3QvTW91c2VFdmVudC50cyIsImV2ZW50L29iamVjdC9LZXlib2FyZEV2ZW50LnRzIiwiZXZlbnQvb2JqZWN0L0N1c3RvbUV2ZW50LnRzIiwiZXZlbnQvb2JqZWN0L0VNb3VzZUJ1dHRvbi50cyIsImV2ZW50L2xpc3RlbmVyL0V2ZW50TGlzdGVuZXIudHMiLCJldmVudC9oYW5kbGVyL0V2ZW50SGFuZGxlci50cyIsImV2ZW50L2hhbmRsZXIvRG9tRXZlbnRIYW5kbGVyLnRzIiwiZXZlbnQvaGFuZGxlci9Nb3VzZUV2ZW50SGFuZGxlci50cyIsImV2ZW50L2hhbmRsZXIvS2V5Ym9hcmRFdmVudEhhbmRsZXIudHMiLCJldmVudC9oYW5kbGVyL0N1c3RvbUV2ZW50SGFuZGxlci50cyIsImV2ZW50L2Rpc3BhdGNoZXIvRXZlbnREaXNwYXRjaGVyLnRzIiwiZXZlbnQvZGlzcGF0Y2hlci9DdXN0b21FdmVudERpc3BhdGNoZXIudHMiLCJldmVudC9kaXNwYXRjaGVyL0RvbUV2ZW50RGlzcGF0Y2hlci50cyIsImV2ZW50L2JpbmRlci9FdmVudFJlZ2lzdGVyLnRzIiwiZXZlbnQvYmluZGVyL0N1c3RvbUV2ZW50UmVnaXN0ZXIudHMiLCJldmVudC9iaW5kZXIvRG9tRXZlbnRSZWdpc3Rlci50cyIsImV2ZW50L2JpbmRlci9FdmVudEJpbmRlci50cyIsImV2ZW50L2JpbmRlci9DdXN0b21FdmVudEJpbmRlci50cyIsImV2ZW50L2JpbmRlci9Eb21FdmVudEJpbmRlci50cyIsImV2ZW50L2ZhY3RvcnkvRXZlbnRIYW5kbGVyRmFjdG9yeS50cyIsImV2ZW50L2ZhY3RvcnkvRXZlbnRCaW5kZXJGYWN0b3J5LnRzIiwiZXZlbnQvZmFjdG9yeS9FdmVudERpc3BhdGNoZXJGYWN0b3J5LnRzIiwiZXZlbnQvdXRpbHMvRXZlbnRVdGlscy50cyIsImV2ZW50L0V2ZW50TWFuYWdlci50cyIsImV2ZW50L0VFbmdpbmVFdmVudC50cyIsImNvbXBvbmVudC9sb2QvTE9EQ29udHJvbGxlci50cyIsImNvbXBvbmVudC9sb2QvRUxPREdlb21ldHJ5U3RhdGUudHMiLCJjb21wb25lbnQvZXZlbnQvZGV0ZWN0b3IvRXZlbnRUcmlnZ2VyRGV0ZWN0b3IudHMiLCJjb21wb25lbnQvZXZlbnQvZGV0ZWN0b3IvVUlFdmVudFRyaWdnZXJEZXRlY3Rvci50cyIsImNvbXBvbmVudC9ldmVudC9kZXRlY3Rvci9SYXlDYXN0ZXJFdmVudFRyaWdnZXJEZXRlY3Rvci50cyIsImNvbXBvbmVudC9ldmVudC9kZXRlY3Rvci9TY2VuZUV2ZW50VHJpZ2dlckRldGVjdG9yLnRzIiwiY29tcG9uZW50L2V2ZW50L2RldGVjdG9yL0V2ZW50VHJpZ2dlckRldGVjdG9yVXRpbHMudHMiLCJjb21wb25lbnQvZXZlbnQvRXZlbnRUcmlnZ2VyVGFibGUudHMiLCJjb21wb25lbnQvc2NyaXB0L1NjcmlwdC50cyIsImNvbXBvbmVudC90cmFuc2Zvcm0vVHJhbnNmb3JtLnRzIiwiY29tcG9uZW50L3RyYW5zZm9ybS9UaHJlZURUcmFuc2Zvcm0udHMiLCJjb21wb25lbnQvdHJhbnNmb3JtL1JlY3RUcmFuc2Zvcm0udHMiLCJjb21wb25lbnQvdHJhbnNmb3JtL0VUcmFuc2Zvcm1TdGF0ZS50cyIsImNvbXBvbmVudC9jb250YWluZXIvQ29tcG9uZW50Q29udGFpbmVyLnRzIiwiY29tcG9uZW50L2NvbnRhaW5lci9BY3Rpb25NYW5hZ2VyLnRzIiwiY29tcG9uZW50L2NvbnRhaW5lci9VSU1hbmFnZXIudHMiLCJjb21wb25lbnQvY29udGFpbmVyL0xpZ2h0TWFuYWdlci50cyIsImNvbXBvbmVudC9hbmltYXRpb24vQW5pbWF0aW9uLnRzIiwiY29tcG9uZW50L2FuaW1hdGlvbi9Nb3JwaEFuaW1hdGlvbi50cyIsImNvbXBvbmVudC9hbmltYXRpb24vQXJ0aWN1bGF0ZWRBbmltYXRpb24udHMiLCJjb21wb25lbnQvYW5pbWF0aW9uL0VLZXlGcmFtZUludGVycG9sYXRpb24udHMiLCJjb21wb25lbnQvYW5pbWF0aW9uL0VBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9HZW9tZXRyeS50cyIsImNvbXBvbmVudC9nZW9tZXRyeS9HZW9tZXRyeVV0aWxzLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L0N1c3RvbUdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L01vZGVsR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvQm94R2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvUmVjdEdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvRVNwaGVyZURyYXdNb2RlLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1NwaGVyZUdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L1RyaWFuZ2xlR2VvbWV0cnkudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvVGVycmFpbkdlb21ldHJ5LnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L2RhdGEvR2VvbWV0cnlEYXRhLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L2RhdGEvQ29tbW9uR2VvbWV0cnlEYXRhLnRzIiwiY29tcG9uZW50L2dlb21ldHJ5L2RhdGEvTW9ycGhHZW9tZXRyeURhdGEudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9CdWZmZXJDb250YWluZXIudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9Db21tb25CdWZmZXJDb250YWluZXIudHMiLCJjb21wb25lbnQvZ2VvbWV0cnkvZGF0YS9Nb3JwaEJ1ZmZlckNvbnRhaW5lci50cyIsImNvbXBvbmVudC9jYW1lcmEvQ2FtZXJhLnRzIiwiY29tcG9uZW50L2NhbWVyYS9PcnRob2dyYXBoaWNDYW1lcmEudHMiLCJjb21wb25lbnQvY2FtZXJhL1BlcnNwZWN0aXZlQ2FtZXJhLnRzIiwiY29tcG9uZW50L2NhbWVyYS9jb250cm9sbGVyL0NhbWVyYUNvbnRyb2xsZXIudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvYmFzaWMvQmFzaWNDYW1lcmFDb250cm9sbGVyLnRzIiwiY29tcG9uZW50L2NhbWVyYS9jb250cm9sbGVyL2ZseS9GbHlDYW1lcmFDb250cm9sbGVyLnRzIiwiY29tcG9uZW50L2NhbWVyYS9jb250cm9sbGVyL2ZseS9GbHlDYW1lcmFDb250cm9sLnRzIiwiY29tcG9uZW50L2NhbWVyYS9jb250cm9sbGVyL2ZseS9GbHlQZXJzcGVjdGl2ZUNhbWVyYUNvbnRyb2wudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvZmx5L0ZseU9ydGhvZ3JhcGhpY0NhbWVyYUNvbnRyb2wudHMiLCJjb21wb25lbnQvY2FtZXJhL2NvbnRyb2xsZXIvYXJjYmFsbC9BcmNiYWxsQ2FtZXJhQ29udHJvbGxlci50cyIsImNvbXBvbmVudC9hY3Rpb24vQWN0aW9uLnRzIiwiY29tcG9uZW50L2FjdGlvbi9BY3Rpb25JbnN0YW50LnRzIiwiY29tcG9uZW50L2FjdGlvbi9DYWxsRnVuYy50cyIsImNvbXBvbmVudC9hY3Rpb24vQWN0aW9uSW50ZXJ2YWwudHMiLCJjb21wb25lbnQvYWN0aW9uL0NvbnRyb2wudHMiLCJjb21wb25lbnQvYWN0aW9uL1NlcXVlbmNlLnRzIiwiY29tcG9uZW50L2FjdGlvbi9TcGF3bi50cyIsImNvbXBvbmVudC9hY3Rpb24vRGVsYXlUaW1lLnRzIiwiY29tcG9uZW50L2FjdGlvbi9SZXBlYXQudHMiLCJjb21wb25lbnQvYWN0aW9uL1JlcGVhdEZvcmV2ZXIudHMiLCJjb21wb25lbnQvYWN0aW9uL1R3ZWVuLnRzIiwiY29tcG9uZW50L3JlbmRlcmVyL1JlbmRlcmVyQ29tcG9uZW50LnRzIiwiY29tcG9uZW50L3JlbmRlcmVyL01lc2hSZW5kZXJlci50cyIsImNvbXBvbmVudC9yZW5kZXJlci9Ta3lib3hSZW5kZXJlci50cyIsImNvbXBvbmVudC9yZW5kZXJlci9VSVJlbmRlcmVyLnRzIiwiY29tcG9uZW50L3JlbmRlcmVyL0VVSVJlbmRlcmVyU3RhdGUudHMiLCJjb21wb25lbnQvc3BhY2VfcGFydGl0aW9uL1NwYWNlUGFydGl0aW9uLnRzIiwiY29tcG9uZW50L3NwYWNlX3BhcnRpdGlvbi9PY3RyZWUudHMiLCJjb21wb25lbnQvc3BhY2VfcGFydGl0aW9uL09jdHJlZU5vZGUudHMiLCJjb21wb25lbnQvY29sbGlkZXIvY29sbGlkZXJGb3JGaXJzdENoZWNrL0NvbGxpZGVyRm9yRmlyc3RDaGVjay50cyIsImNvbXBvbmVudC9jb2xsaWRlci9jb2xsaWRlckZvckZpcnN0Q2hlY2svQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0NvbGxpZGVyLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0JveENvbGxpZGVyLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL1NwaGVyZUNvbGxpZGVyLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0JvdW5kaW5nUmVnaW9uLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0JveEJvdW5kaW5nUmVnaW9uLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL1NwaGVyZUJvdW5kaW5nUmVnaW9uLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0JvdW5kaW5nUmVnaW9uVXRpbHMudHMiLCJjb21wb25lbnQvY29sbGlkZXIvU2hhcGUudHMiLCJjb21wb25lbnQvY29sbGlkZXIvQUFCQlNoYXBlLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL1NwaGVyZVNoYXBlLnRzIiwiY29tcG9uZW50L2NvbGxpZGVyL0VDb2xsaWRlclR5cGUudHMiLCJjb21wb25lbnQvY29sbGlkZXIvQ29sbGlkZXJVdGlscy50cyIsImNvbXBvbmVudC9waHlzaWNzL1JpZ2lkQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL0R5bmFtaWNSaWdpZEJvZHkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9LaW5lbWF0aWNSaWdpZEJvZHkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9TdGF0aWNSaWdpZEJvZHkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9tb2RlbC9QaHlzaWNzQ29uc3RyYWludE1vZGVsLnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL1BoeXNpY3NFbmdpbmVGYWN0b3J5LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvRVBoeXNpY3NFbmdpbmVUeXBlLnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9DYW5ub25EYXRhTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9zdHJ1Y3R1cmUvQ2Fubm9uR2FtZU9iamVjdERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9DYW5ub25NYXRlcmlhbExpc3QudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vc3RydWN0dXJlL2NvbnN0cmFpbnQvQ2Fubm9uQ29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9jb25zdHJhaW50L0Nhbm5vblNpbmdsZUNvbnN0cmFpbnREYXRhTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9zdHJ1Y3R1cmUvY29uc3RyYWludC9DYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL3N0cnVjdHVyZS9jb25zdHJhaW50L0Nhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9zdHJ1Y3R1cmUvY29uc3RyYWludC9DYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9zdHJ1Y3R1cmUvY29uc3RyYWludC9DYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9DYW5ub25VdGlscy50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9DYW5ub25BZGFwdGVyLnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2JvZHkvQ2Fubm9uQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9ib2R5L0Nhbm5vbkR5bmFtaWNCb2R5LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2JvZHkvQ2Fubm9uS2luZW1hdGljQm9keS50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9ib2R5L0Nhbm5vblN0YXRpY0JvZHkudHMiLCJjb21wb25lbnQvcGh5c2ljcy9lbmdpbmUvYWRhcHRlci9jYW5ub24vY29uc3RyYWludC9DYW5ub25Db25zdHJhaW50LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2NvbnN0cmFpbnQvQ2Fubm9uU2luZ2xlQ29uc3RyYWludC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9jb25zdHJhaW50L0Nhbm5vbkxvY2tDb25zdHJhaW50LnRzIiwiY29tcG9uZW50L3BoeXNpY3MvZW5naW5lL2FkYXB0ZXIvY2Fubm9uL2NvbnN0cmFpbnQvQ2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9jb25zdHJhaW50L0Nhbm5vbkRpc3RhbmNlQ29uc3RyYWludC50cyIsImNvbXBvbmVudC9waHlzaWNzL2VuZ2luZS9hZGFwdGVyL2Nhbm5vbi9jb25zdHJhaW50L0Nhbm5vbkhpbmdlQ29uc3RyYWludC50cyIsImNvbXBvbmVudC9saWdodC9MaWdodC50cyIsImNvbXBvbmVudC9saWdodC9BbWJpZW50TGlnaHQudHMiLCJjb21wb25lbnQvbGlnaHQvU291cmNlTGlnaHQudHMiLCJjb21wb25lbnQvbGlnaHQvRGlyZWN0aW9uTGlnaHQudHMiLCJjb21wb25lbnQvbGlnaHQvUG9pbnRMaWdodC50cyIsImNvbXBvbmVudC9saWdodC9BdHRlbnVhdGlvbi50cyIsImNvbXBvbmVudC9saWdodC9FTGlnaHRNb2RlbC50cyIsImNvbXBvbmVudC91aS9VSS50cyIsImNvbXBvbmVudC91aS9mb250L0VGb250WEFsaWdubWVudC50cyIsImNvbXBvbmVudC91aS9mb250L0VGb250WUFsaWdubWVudC50cyIsImNvbXBvbmVudC91aS9mb250L0VGb250RGltZW5zaW9uLnRzIiwiY29tcG9uZW50L3VpL2ZvbnQvRm9udC50cyIsImNvbXBvbmVudC91aS9mb250L1BsYWluRm9udC50cyIsImNvbXBvbmVudC91aS9mb250L0JpdG1hcEZvbnQudHMiLCJjb21wb25lbnQvdWkvZm9udC9DaGFyRm9udC50cyIsImNvbXBvbmVudC91aS9wcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhci50cyIsImNvbXBvbmVudC91aS9pbWFnZS9JbWFnZS50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvblVJLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL2J1dHRvbi9CdXR0b24udHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vYnV0dG9uL0VCdXR0b25PYmplY3ROYW1lLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL3N0YXRlL0VVSVN0YXRlLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL3N0YXRlL1VJU3RhdGVNYWNoaW5lLnRzIiwiY29tcG9uZW50L3VpL2ludGVyYWN0aW9uL3RyYW5zaXRpb24vVHJhbnNpdGlvbi50cyIsImNvbXBvbmVudC91aS9pbnRlcmFjdGlvbi90cmFuc2l0aW9uL1Nwcml0ZVRyYW5zaXRpb24udHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vdHJhbnNpdGlvbi9Db2xvclRyYW5zaXRpb24udHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vdHJhbnNpdGlvbi9FVHJhbnNpdGlvbk1vZGUudHMiLCJjb21wb25lbnQvdWkvaW50ZXJhY3Rpb24vdHJhbnNpdGlvbi9UcmFuc2l0aW9uTWFuYWdlci50cyIsImNvbXBvbmVudC91aS91dGlscy9Sb3VuZGVkUmVjdFV0aWxzLnRzIiwidXRpbHMvSnVkZ2VVdGlscy50cyIsInV0aWxzL01hdGhVdGlscy50cyIsInV0aWxzL0Nvb3JkaW5hdGVVdGlscy50cyIsInV0aWxzL0xvZy50cyIsInV0aWxzL3RpbWUvVGltZUNvbnRyb2xsZXIudHMiLCJ1dGlscy90aW1lL0RpcmVjdG9yVGltZUNvbnRyb2xsZXIudHMiLCJ1dGlscy90aW1lL0NvbW1vblRpbWVDb250cm9sbGVyLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci9Ud29EUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci9NaXJyb3JSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL1R3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL0N1YmVtYXBSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL0N1YmVtYXBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL0R5bmFtaWNDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci91dGlscy9TaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxzLnRzIiwicmVuZGVyZXIvcmVuZGVyVGFyZ2V0UmVuZGVyZXIvdXRpbHMvQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMudHMiLCJyZW5kZXJlci9yZW5kZXJUYXJnZXRSZW5kZXJlci91dGlscy9Ud29EU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJVdGlscy50cyIsInJlbmRlcmVyL3JlbmRlclRhcmdldFJlbmRlcmVyL3Byb2NlZHVyYWxSVFQvUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvcmVuZGVyZXIvUmVuZGVyZXIudHMiLCJyZW5kZXJlci9yZW5kZXJlci9XZWJHTFJlbmRlcmVyLnRzIiwicmVuZGVyZXIvRURyYXdNb2RlLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VCdWZmZXJUeXBlLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VCdWZmZXJEYXRhVHlwZS50cyIsInJlbmRlcmVyL2J1ZmZlci9FQnVmZmVyVXNhZ2UudHMiLCJyZW5kZXJlci9idWZmZXIvQnVmZmVyLnRzIiwicmVuZGVyZXIvYnVmZmVyL0VsZW1lbnRCdWZmZXIudHMiLCJyZW5kZXJlci9idWZmZXIvQXJyYXlCdWZmZXIudHMiLCJyZW5kZXJlci9idWZmZXIvQnVmZmVyRGF0YVRhYmxlLnRzIiwicmVuZGVyZXIvUHJvZ3JhbS50cyIsInJlbmRlcmVyL2NvbW1hbmQvUmVuZGVyQ29tbWFuZC50cyIsInJlbmRlcmVyL2NvbW1hbmQvUXVhZENvbW1hbmQudHMiLCJyZW5kZXJlci9jb21tYW5kL1Byb2NlZHVyYWxDb21tYW5kLnRzIiwicmVuZGVyZXIvR2xVdGlscy50cyIsInJlbmRlcmVyL2J1ZmZlci9GcmFtZUJ1ZmZlci50cyIsInJlbmRlcmVyL3NoYWRlci9zaGFkZXIvU2hhZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3NoYWRlci9DdXN0b21TaGFkZXIudHMiLCJyZW5kZXJlci9zaGFkZXIvc2hhZGVyL0VuZ2luZVNoYWRlci50cyIsInJlbmRlcmVyL3NoYWRlci9zaGFkZXIvQ29tbW9uU2hhZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3NoYWRlci9Qcm9jZWR1cmFsU2hhZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3NoYWRlci9Db21tb25Qcm9jZWR1cmFsU2hhZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3NoYWRlci9DdXN0b21Qcm9jZWR1cmFsU2hhZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3NvdXJjZUJ1aWxkZXIvU2hhZGVyU291cmNlQnVpbGRlci50cyIsInJlbmRlcmVyL3NoYWRlci9zb3VyY2VCdWlsZGVyL0N1c3RvbVNoYWRlclNvdXJjZUJ1aWxkZXIudHMiLCJyZW5kZXJlci9zaGFkZXIvc291cmNlQnVpbGRlci9FbmdpbmVTaGFkZXJTb3VyY2VCdWlsZGVyLnRzIiwicmVuZGVyZXIvc2hhZGVyL3ZhcmlhYmxlL0VWYXJpYWJsZVR5cGUudHMiLCJyZW5kZXJlci9zaGFkZXIvdmFyaWFibGUvRVZhcmlhYmxlU2VtYW50aWMudHMiLCJyZW5kZXJlci9zaGFkZXIvdmFyaWFibGUvRVZhcmlhYmxlQ2F0ZWdvcnkudHMiLCJyZW5kZXJlci9zaGFkZXIvdmFyaWFibGUvVmFyaWFibGVMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvdmFyaWFibGUvVmFyaWFibGVUeXBlVGFibGUudHMiLCJyZW5kZXJlci9zaGFkZXIvdmFyaWFibGUvVmFyaWFibGVOYW1lVGFibGUudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL1NoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvQ3VzdG9tU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9FbmdpbmVTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2NvbW1vbi9Db21tb25TaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2NvbW1vbi9Db21tb25WZXJ0aWNlU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9jb21tb24vQ29tbW9uTm9ybWFsU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9iYXNpYy9CYXNpY1NoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYmFzaWMvQmFzaWNFbmRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2FuaW1hdGlvbi9tb3JwaC9Nb3JwaENvbW1vblNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYW5pbWF0aW9uL21vcnBoL01vcnBoVmVydGljZVNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvYW5pbWF0aW9uL21vcnBoL01vcnBoTm9ybWFsU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9za3lib3gvU2t5Ym94U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvRW52TWFwRm9yQmFzaWNTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2Vudk1hcC9mb3JCYXNpYy9CYXNpY0Vudk1hcEZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvUmVmbGVjdGlvbkZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvUmVmcmFjdGlvbkZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yQmFzaWMvRnJlc25lbEZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvRW52TWFwRm9yTGlnaHRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2Vudk1hcC9mb3JMaWdodC9CYXNpY0Vudk1hcEZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvUmVmbGVjdGlvbkZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvUmVmcmFjdGlvbkZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9lbnZNYXAvZm9yTGlnaHQvRnJlc25lbEZvckxpZ2h0U2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9tYXAvTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9tYXAvQmFzaWNNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL21hcC9NdWx0aU1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbWlycm9yL01pcnJvckZvckJhc2ljU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9wcm9jZWR1cmFsL1Byb2NlZHVyYWxTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L0xpZ2h0Q29tbW9uU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9MaWdodFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvTGlnaHRFbmRTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L2xpZ2h0TWFwL0Jhc2VMaWdodE1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvQ29tbW9uTGlnaHRNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L2xpZ2h0TWFwL0xpZ2h0TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9EaWZmdXNlTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9TcGVjdWxhck1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvRW1pc3Npb25NYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L2xpZ2h0TWFwL05vcm1hbE1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvTm9MaWdodE1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvbGlnaHRNYXAvTm9EaWZmdXNlTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9Ob1NwZWN1bGFyTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9Ob0VtaXNzaW9uTWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9saWdodE1hcC9Ob05vcm1hbE1hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL0J1aWxkU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvQnVpbGRUd29EU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvQnVpbGRDdWJlbWFwU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvVG90YWxTaGFkb3dNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L3NoYWRvd01hcC9TaGFkb3dNYXBTaGFkZXJMaWIudHMiLCJyZW5kZXJlci9zaGFkZXIvbGliL2xpZ2h0L3NoYWRvd01hcC9Ud29EU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi9saWdodC9zaGFkb3dNYXAvQ3ViZW1hcFNoYWRvd01hcFNoYWRlckxpYi50cyIsInJlbmRlcmVyL3NoYWRlci9saWIvbGlnaHQvc2hhZG93TWFwL05vU2hhZG93TWFwU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2xpYi91dGlscy9DdXN0b21TaGFkZXJMaWJVdGlscy50cyIsInJlbmRlcmVyL3NoYWRlci9zbmlwcGV0L1NoYWRlclNuaXBwZXQudHMiLCJtYXRlcmlhbC9NYXRlcmlhbC50cyIsIm1hdGVyaWFsL0VuZ2luZU1hdGVyaWFsLnRzIiwibWF0ZXJpYWwvQmFzaWNNYXRlcmlhbC50cyIsIm1hdGVyaWFsL1NreWJveE1hdGVyaWFsLnRzIiwibWF0ZXJpYWwvTGlnaHRNYXRlcmlhbC50cyIsIm1hdGVyaWFsL1NoYWRlck1hdGVyaWFsLnRzIiwibWF0ZXJpYWwvRVNoYWRpbmcudHMiLCJtYXRlcmlhbC9NYXBNYW5hZ2VyLnRzIiwiYXNzZXQvRUFzc2V0VHlwZS50cyIsImFzc2V0L0xvYWRlci50cyIsImFzc2V0L0dMU0xMb2FkZXIudHMiLCJhc3NldC9Kc0xvYWRlci50cyIsImFzc2V0L0pTT05Mb2FkZXIudHMiLCJhc3NldC9WaWRlb0xvYWRlci50cyIsImFzc2V0L1RleHR1cmVMb2FkZXIudHMiLCJhc3NldC91dGlscy9JbWFnZUxvYWRlci50cyIsImFzc2V0L3V0aWxzL0FqYXhMb2FkZXIudHMiLCJhc3NldC91dGlscy9Nb2RlbExvYWRlclV0aWxzLnRzIiwiYXNzZXQvdGV4dHVyZS9Db21wcmVzc2VkVGV4dHVyZUxvYWRlci50cyIsImFzc2V0L3RleHR1cmUvRERTUGFyc2VyLnRzIiwiYXNzZXQvdGV4dHVyZS9UZXh0dXJlQXNzZXQudHMiLCJhc3NldC90ZXh0dXJlL0ltYWdlVGV4dHVyZUFzc2V0LnRzIiwiYXNzZXQvdGV4dHVyZS9WaWRlb1RleHR1cmVBc3NldC50cyIsImFzc2V0L3RleHR1cmUvQ29tcHJlc3NlZFRleHR1cmVBc3NldC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVGaWx0ZXJNb2RlLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZVdyYXBNb2RlLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZUZvcm1hdC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVUeXBlLnRzIiwiYXNzZXQvdGV4dHVyZS9FRW52TWFwTW9kZS50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVDb21iaW5lTW9kZS50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nLnRzIiwiYXNzZXQvdGV4dHVyZS9FVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC50cyIsImFzc2V0L3RleHR1cmUvRVRleHR1cmVUYXJnZXQudHMiLCJhc3NldC9Mb2FkZXJNYW5hZ2VyLnRzIiwiYXNzZXQvTG9hZGVyRmFjdG9yeS50cyIsImFzc2V0L2dsdGYvR0xURkxvYWRlci50cyIsImFzc2V0L2dsdGYvR0xURkFzc2VtYmxlci50cyIsImFzc2V0L2dsdGYvR0xURlBhcnNlci50cyIsImFzc2V0L2dsdGYvR0xURkdlb21ldHJ5UGFyc2VyLnRzIiwiYXNzZXQvZ2x0Zi9HTFRGTWF0ZXJpYWxQYXJzZXIudHMiLCJhc3NldC9nbHRmL0dMVEZBcnRpY3VsYXRlZEFuaW1hdGlvblBhcnNlci50cyIsImFzc2V0L2dsdGYvR0xURlV0aWxzLnRzIiwiYXNzZXQvd2QvRVdEVGFnLnRzIiwiYXNzZXQvd2QvV0RMb2FkZXIudHMiLCJhc3NldC93ZC9XRFBhcnNlci50cyIsImFzc2V0L3dkL1dET2JqZWN0UGFyc2VyLnRzIiwiYXNzZXQvd2QvV0RCdWlsZGVyLnRzIiwiYXNzZXQvZm9udC9Gb250TG9hZGVyLnRzIiwiYXNzZXQvZm9udC9GbnRQYXJzZXIudHMiLCJhc3NldC9mb250L0ZudExvYWRlci50cyIsImRldmljZS9EZXZpY2VNYW5hZ2VyLnRzIiwiZGV2aWNlL0dQVURldGVjdG9yLnRzIiwiZGV2aWNlL0VTY3JlZW5TaXplLnRzIiwic3RydWN0dXJlL1BvaW50LnRzIiwic3RydWN0dXJlL0ZhY2UzLnRzIiwic3RydWN0dXJlL1JlY3RSZWdpb24udHMiLCJzdHJ1Y3R1cmUvVmlldy50cyIsInN0cnVjdHVyZS9Db2xvci50cyIsInRleHR1cmUvVGV4dHVyZS50cyIsInRleHR1cmUvdXRpbHMvVGV4dHVyZVV0aWxzLnRzIiwidGV4dHVyZS91dGlscy9CYXNpY1RleHR1cmVVdGlscy50cyIsInRleHR1cmUvcmVuZGVyVGFyZ2V0VGV4dHVyZS9SZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL1R3b0RSZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL3V0aWxzL1NoYWRvd01hcFRleHR1cmVVdGlscy50cyIsInRleHR1cmUvcmVuZGVyVGFyZ2V0VGV4dHVyZS9NaXJyb3JUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL1R3b0RTaGFkb3dNYXBUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0N1YmVtYXBSZW5kZXJUYXJnZXRUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0N1YmVtYXBTaGFkb3dNYXBUZXh0dXJlLnRzIiwidGV4dHVyZS9yZW5kZXJUYXJnZXRUZXh0dXJlL0R5bmFtaWNDdWJlbWFwVGV4dHVyZS50cyIsInRleHR1cmUvcmVuZGVyVGFyZ2V0VGV4dHVyZS9wcm9jZWR1cmFsVGV4dHVyZS9Qcm9jZWR1cmFsVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL0Jhc2ljVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL1R3b0RUZXh0dXJlLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvQ29tbW9uVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL0ltYWdlVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL1ZpZGVvVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2N1YmVtYXAvQ3ViZW1hcFRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9jdWJlbWFwL0N1YmVtYXBGYWNlVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2N1YmVtYXAvQ3ViZW1hcEZhY2VJbWFnZVRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9jdWJlbWFwL0N1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUudHMiLCJ0ZXh0dXJlL2Jhc2ljVGV4dHVyZS9Db21wcmVzc2VkVGV4dHVyZS50cyIsInRleHR1cmUvYmFzaWNUZXh0dXJlL2NvbW1hbmQvRHJhd1RleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3Q29tcHJlc3NlZFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3VHdvRFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3TWlwbWFwVHdvRFRleHR1cmVDb21tYW5kLnRzIiwidGV4dHVyZS9iYXNpY1RleHR1cmUvY29tbWFuZC9EcmF3Tm9NaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQudHMiLCJ2aWRlby9WaWRlby50cyIsInZpZGVvL1ZpZGVvTWFuYWdlci50cyIsImRlZmluaXRpb24vVmFyaWFibGUudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9jb21tb24vQ29tbW9uUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2ZpcmUvRmlyZVByb2NlZHVyYWxTaGFkZXJMaWIudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9maXJlL0ZpcmVQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9maXJlL0ZpcmVQcm9jZWR1cmFsVGV4dHVyZS50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL21hcmJsZS9NYXJibGVQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9tYXJibGUvTWFyYmxlUHJvY2VkdXJhbFRleHR1cmUudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9tYXJibGUvTWFyYmxlUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2dyYXNzL0dyYXNzUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwibGliL3Byb2NlZHVyYWxfdGV4dHVyZV9saWIvZ3Jhc3MvR3Jhc3NQcm9jZWR1cmFsVGV4dHVyZS50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2dyYXNzL0dyYXNzUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL3dvb2QvV29vZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL3dvb2QvV29vZFByb2NlZHVyYWxUZXh0dXJlLnRzIiwibGliL3Byb2NlZHVyYWxfdGV4dHVyZV9saWIvd29vZC9Xb29kUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL3JvYWQvUm9hZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL3JvYWQvUm9hZFByb2NlZHVyYWxUZXh0dXJlLnRzIiwibGliL3Byb2NlZHVyYWxfdGV4dHVyZV9saWIvcm9hZC9Sb2FkUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2Nsb3VkL0Nsb3VkUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwibGliL3Byb2NlZHVyYWxfdGV4dHVyZV9saWIvY2xvdWQvQ2xvdWRQcm9jZWR1cmFsVGV4dHVyZS50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2Nsb3VkL0Nsb3VkUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2JyaWNrL0JyaWNrUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLnRzIiwibGliL3Byb2NlZHVyYWxfdGV4dHVyZV9saWIvYnJpY2svQnJpY2tQcm9jZWR1cmFsVGV4dHVyZS50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2JyaWNrL0JyaWNrUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9wcm9jZWR1cmFsX3RleHR1cmVfbGliL2N1c3RvbS9DdXN0b21Qcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9jdXN0b20vQ3VzdG9tUHJvY2VkdXJhbFRleHR1cmUudHMiLCJsaWIvcHJvY2VkdXJhbF90ZXh0dXJlX2xpYi9jdXN0b20vQ3VzdG9tUHJvY2VkdXJhbFNoYWRlckxpYi50cyIsImxpYi9tYXRlcmlhbF9saWIvdGVycmFpbi9UZXJyYWluTWF0ZXJpYWwudHMiLCJsaWIvbWF0ZXJpYWxfbGliL3RlcnJhaW4vVGVycmFpbkxheWVyU2hhZGVyTGliLnRzIiwicmVuZGVyZXIvc2hhZGVyL2NodW5rL1NoYWRlckNodW5rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sRUFBRSxDQU1SO0FBTkQsV0FBTyxFQUFFLEVBQUEsQ0FBQztJQUNLLGNBQVcsR0FBRztRQUNyQixNQUFNLEVBQUMsS0FBSztRQUNa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QyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFOUMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sc0JBQUksR0FBWCxVQUFZLEVBQVUsRUFBRSxFQUFVO1lBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTdDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHFCQUFHLEdBQVYsVUFBVyxDQUFTO1lBQ2hCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRS9DLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHNCQUFJLEdBQVgsVUFBWSxFQUFVLEVBQUUsRUFBVTtZQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUU5QyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx5QkFBTyxHQUFkO1lBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFakMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sc0JBQUksR0FBWDtZQUNJLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFDekIsQ0FBQyxHQUFHLENBQUMsRUFDTCxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFFN0IsR0FBRyxDQUFBLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFDLENBQUM7Z0JBQ3JCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QyxDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRU0sMkJBQVMsR0FBaEI7WUFDSSxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMvRSxDQUFDO1FBRU0sd0JBQU0sR0FBYjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxDQUFDO1FBZU0sdUJBQUssR0FBWixVQUFhLEdBQVcsRUFBRSxHQUFXO1lBQ2pDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFFcEMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDZixDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztZQUNmLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1YsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNWLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1YsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDekIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBRXpCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQXFCTSxzQkFBSSxHQUFYLFVBQVksR0FBVyxFQUFFLEdBQVcsRUFBRSxLQUFZO1lBQzlDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQ2QsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQ2QsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFcEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFcEMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBY00scUJBQUcsR0FBVixVQUFXLEdBQUc7WUFDVixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUNmLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxDQUFDO1FBRU0scUJBQUcsR0FBVixVQUFXLENBQVM7WUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDZixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNmLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUVoQixDQUFDO1FBRU0scUJBQUcsR0FBVixVQUFXLENBQVM7WUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDZixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNmLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUVoQixDQUFDO1FBRU0seUJBQU8sR0FBZCxVQUFlLENBQVM7WUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlELENBQUM7UUFFTSx5QkFBTyxHQUFkO1lBQ0ksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBRU0sOEJBQVksR0FBbkIsVUFBb0IsQ0FBUztZQUN6QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUNWLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUNWLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUNWLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBRWpCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEVBQUUsQ0FBRSxDQUFDO1lBQ3pELElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEVBQUUsQ0FBRSxDQUFDO1lBQ3pELElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxFQUFFLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLEVBQUUsQ0FBRSxDQUFDO1lBRXpELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLDRCQUFVLEdBQWpCLFVBQWtCLENBQVM7WUFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQUVNLG1DQUFpQixHQUF4QixVQUF5QixDQUFTO1lBQzlCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFDakIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFDakIsRUFBRSxHQUFHLElBQUksQ0FB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QUFDLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBRSxFQUFFLENBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEIsRUFBRSxDQUFFLEVBQUUsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0QixFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RCLEVBQUUsQ0FBRSxFQUFFLENBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEIsRUFBRSxDQUFFLEVBQUUsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0QixFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRXRCLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLDZCQUFXLEdBQWxCO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9DLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQU9NLHdCQUFNLEdBQWI7WUFDSSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUNsQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQ2xCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUNsQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQ2xCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFDbEIsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUVkLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ2hCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1gsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ1osR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNaLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDWixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ1osR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNaLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFWixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUM1QixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzVCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDNUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUU1QixNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUVyRixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNwRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNyRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUNwRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztZQUN0RCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7WUFFckQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sNkJBQVcsR0FBbEI7WUFDQSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUMzQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUM7WUFDaEIsSUFBSSxJQUFJLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRWhDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWhCLEdBQUcsR0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFbEMsR0FBRyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQzVDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNSLE1BQUcsQ0FBQyxJQUFJLENBQUMsdUNBQXVDLENBQUMsQ0FBQztnQkFFdEQsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNoQixDQUFDO1lBRUQsSUFBSSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7WUFFZixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUVsQixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFNVSwyQkFBUyxHQUFoQjtZQUNJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDckIsSUFBSSxHQUFHLENBQUM7WUFFUixHQUFHLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBRSxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLEVBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxHQUFHLENBQUM7WUFDaEQsR0FBRyxHQUFHLEVBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxFQUFFLENBQUUsQ0FBQyxDQUFFLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsR0FBRyxDQUFDO1lBQ2hELEdBQUcsR0FBRyxFQUFFLENBQUUsQ0FBQyxDQUFFLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBRSxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLEdBQUcsQ0FBQztZQUVoRCxHQUFHLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBRSxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLEVBQUUsQ0FBRSxFQUFFLENBQUUsQ0FBQztZQUFDLEVBQUUsQ0FBRSxFQUFFLENBQUUsR0FBRyxHQUFHLENBQUM7WUFDbEQsR0FBRyxHQUFHLEVBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxFQUFFLENBQUUsRUFBRSxDQUFFLENBQUM7WUFBQyxFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsR0FBRyxDQUFDO1lBQ2xELEdBQUcsR0FBRyxFQUFFLENBQUUsRUFBRSxDQUFFLENBQUM7WUFBQyxFQUFFLENBQUUsRUFBRSxDQUFFLEdBQUcsRUFBRSxDQUFFLEVBQUUsQ0FBRSxDQUFDO1lBQUMsRUFBRSxDQUFFLEVBQUUsQ0FBRSxHQUFHLEdBQUcsQ0FBQztZQUVwRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFTTSw4QkFBWSxHQUFuQixVQUFxQixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVNNLDJCQUFTLEdBQWhCLFVBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXpELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQVdNLDJCQUFTLEdBQWhCLFVBQWtCLEtBQWEsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVE7WUFDM0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUVuRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDbEMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFaEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFcEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDUixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQztnQkFDRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEQsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXZDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNSLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDO2dCQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFdkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ1IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUM7Z0JBQ0QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hELENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFFSixHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFWixJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDZixDQUFDLElBQUksSUFBSSxDQUFDO29CQUNWLENBQUMsSUFBSSxJQUFJLENBQUM7b0JBQ1YsQ0FBQyxJQUFJLElBQUksQ0FBQztnQkFDZCxDQUFDO2dCQUVELEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVYLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxHQUFDLEVBQUUsR0FBSSxDQUFDLENBQUM7Z0JBQ3BCLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDcEIsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRSxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUNwQixDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVWLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDcEIsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLEdBQUMsRUFBRSxHQUFJLENBQUMsQ0FBQztnQkFDcEIsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRSxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUNwQixDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVWLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDcEIsQ0FBQyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRSxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUNwQixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBQyxFQUFFLEdBQUksQ0FBQyxDQUFDO2dCQUNwQixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ1YsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDVixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNWLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixD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QUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzFCLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRWQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVwQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNkLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDZCxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRVYs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QUksRUFDWCxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBRWxCLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXJCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQztnQkFDbEIsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7Z0JBQ25CLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQzFCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQSxDQUFDO2dCQUN2QixJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztnQkFDdEIsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFFMUIsQ0FBQztZQUVELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFDcEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFDdEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFDcEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUUzRCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUUzQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxpQ0FBZSxHQUF0QixVQUF1QixNQUFjO1lBQ2pDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQ2xCLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUVoQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMzRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMzRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1RixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUU1RixNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RSxDQUFDO1FBRU0saUNBQWUsR0FBdEIsVUFBdUIsTUFBYztZQUNqQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUNsQixJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUN6QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFFaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFdkUsTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRU0sK0JBQWEsR0FBcEIsVUFBcUIsTUFBYztZQUMvQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUNsQixJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUN6QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFFaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pGLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFbEYsTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRU0sc0JBQUksR0FBWDtZQUNJLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFDekIsQ0FBQyxHQUFHLENBQUMsRUFDTCxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFFN0IsR0FBRyxDQUFBLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFDLENBQUM7Z0JBQ3JCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QyxDQUFDO1lBR0QsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRU0sc0JBQUksR0FBWDtZQUNJLE1BQU0sQ0FBQyxVQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUUsQ0FBQztRQUVNLHNCQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFFLENBQUM7UUFFTSxzQkFBSSxHQUFYO1lBQ0ksTUFBTSxDQUFDLFVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMzRSxDQUFDO1FBRU0sZ0NBQWMsR0FBckI7WUFDSSxNQUFNLENBQUMsVUFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxD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LEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFdEQsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNULEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRVQsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNULEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFVCxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNULEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFVCxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDYixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNiLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFYixDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVoQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDNUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzdCLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFVixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1gsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7WUFD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LENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVULE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUFNLEdBQWI7WUFDSSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUMsRUFBRSxHQUFDLEVBQUUsR0FBQyxFQUFFLENBQUM7WUFFcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFDLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFDLEdBQUcsR0FBQyxFQUFFLEdBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBQyxHQUFHLEdBQUMsRUFBRSxHQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUVwQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxnQ0FBYyxHQUFyQixVQUFzQixDQUFRO1lBQzFCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDWCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDWCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDWCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRVgsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUNBQWUsR0FBdEIsVUFBd0IsTUFBYztZQUNsQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUNaLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUNaLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxFQUFFLEVBQ3pCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXBCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRW5DLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVNLCtCQUFhLEdBQXBCLFVBQXNCLE1BQWM7WUFDaEMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFDWixDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFDWixNQUFNLEdBQUcsVUFBTyxDQUFDLE1BQU0sRUFBRSxFQUN6QixDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVwQixNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLENBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFFN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRU0sMEJBQVEsR0FBZixVQUFnQixNQUFjO1lBQzFCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDaEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUVoRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2hELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFFaEQsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzNELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUUzRCxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNiLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2IsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDYixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNiLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFYixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSwyQkFBUyxHQUFoQjtZQUNJLElBQUksR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXpCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNYLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUVYLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHNCQUFJLEdBQVg7WUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBRU0scUJBQUcsR0FBVixVQUFXLE1BQWM7WUFDckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFDaEIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFFM0IsRUFBRSxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlELEVBQUUsQ0FBRSxDQUFDLENBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxFQUFFLENBQUUsQ0FBQyxDQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxDQUFFLENBQUMsQ0FB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LENBQUM7WUFDWCxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBR1osRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDdEQsRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDdEQsRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFFdEQsR0FBRyxJQUFJLEVBQUUsQ0FBQztZQUNWLEdBQUcsSUFBSSxFQUFFLENBQUM7WUFDVixHQUFHLElBQUksRUFBRSxDQUFDO1lBQ1YsR0FBRyxJQUFJLEVBQUUsQ0FBQztZQUNWLEdBQUcsSUFBSSxFQUFFLENBQUM7WUFDVixHQUFHLElBQUksRUFBRSxDQUFDO1lBQ1YsR0FBRyxJQUFJLEVBQUUsQ0FBQztZQUNWLEdBQUcsSUFBSSxFQUFFLENBQUM7WUFDVixHQUFHLElBQUksRUFBRSxDQUFDO1lBSVYsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQ3JCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNWLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUNqQixDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDWixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDWixFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFFWixFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQzdCLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dCQUVuQixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7d0JBQ2xCLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO3dCQUNkLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO3dCQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzt3QkFDMUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzlCLENBQUM7b0JBQUMsSUFBSSxDQUFDLENBQUM7d0JBRUosRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUM3QixFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzt3QkFFbkIsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDO3dCQUNsQixFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQzt3QkFDZCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzt3QkFDMUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7d0JBQzFCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUM5QixDQUFDO2dCQUNMLENBQUM7Z0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUVuQixFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzdCLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUVuQixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7b0JBQ2xCLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO29CQUNkLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDMUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzlCLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBRUosRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUM3QixFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFFbkIs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QkFDWCxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUNaLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQztZQUNqQixDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLElBQUksR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUNmLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQzdCLENBQUM7WUFDRCxJQUFJLENBQUMsQ0FBQztnQkFDRixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMzQixJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQzdDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNyRixDQUFDO1lBRUQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdLLENBQUM7UUFDTCxpQkFBQztJQUFELENBdmFBLEFBdWFDLElBQUE7SUF2YVksYUFBVSxhQXVhdEIsQ0FBQTtBQUNMLENBQUMsRUEzYU0sRUFBRSxLQUFGLEVBQUUsUUEyYVI7QUMzYUQsSUFBTyxFQUFFLENBeUVSO0FBekVELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFHUDtRQU9JLGVBQVksQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUztZQUsvQyxXQUFNLEdBQVcsVUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLE1BQUMsR0FBVSxDQUFDLENBQUM7WUFMaEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDZixDQUFDO1FBVGEsWUFBTSxHQUFwQixVQUFxQixDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1lBQzlELElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRS9CLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFDWixDQUFDO1FBVU0sbUNBQW1CLEdBQTFCO1lBQ0ksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLElBQUksTUFBTSxHQUFHLFVBQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUU5QixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQztZQUM1QixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDdkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMs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RUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxFQUFFLEVBQUUsR0FBRztRQUNQLEVBQUUsRUFBRSxHQUFHO1FBQ1AsRUFBRSxFQUFFLEdBQUc7UUFDUCxHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsS0FBSztRQUNWLEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLFNBQVM7UUFDZCxHQUFHLEVBQUUsUUFBUTtRQUNiLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcs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QWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3pFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3ZFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQzdFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRzNFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3RFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3hFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzVFLHVCQUF1QixDQUFDLFFBQVEsQ0FBTSxhQUFVLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRTFF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Q0FBQyxDQUFDO2dCQUNyRSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXJFLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRCxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDakQsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRWpELEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBRWpCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBRWpCLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFDNUIsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQ3ZCLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQzVCLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUN2QixDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUU3QixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUUzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLENB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RCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQztZQUUxQyxNQUFNLENBQUMsYUFBYSxDQUFDO1FBQ3pCLENBQUM7UUFFTyxxQ0FBVSxHQUFsQixVQUFtQixTQUFpQixFQUFFLGFBQTJCO1lBTTdELGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3hFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUc3QixhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7WUFHN0IsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRzdCLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUc3QixhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRSxhQUFhLENBQUMsQ0FBQyxD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Q0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7Z0JBRTlGLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUVoQixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FBQztvQkFFN0MsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFckYsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFFSixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUM7b0JBQ25FLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUM7b0JBRTlFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRWpHLENBQUM7WUFFTCxDQUFDO1lBRUQsS0FBSyxFQUFFO2dCQUVILE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztvQkFFdkIsTUFBTSxDQUFDLENBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBRWhDLENBQUM7Z0JBRUQsU0FBUyxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUM7b0JBRXJCLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztvQkFDN0MsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxD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LElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUM1QixDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFDakIsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNWLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ1YsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNWLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ1YsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNWLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQ1gsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUV6QixFQUFFLENBQUMsR0FBRyxDQUNGLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDL0MsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUMvQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQ2xELENBQUM7WUFFRixFQUFFLENBQUMsR0FBRyxDQUNGLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUMxQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDMUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQzdDLENBQUM7UUFDTixDQUFDO1FBRU0sOENBQTBCLEdBQWpDLFVBQWtDLElBQWMsRUFBRSxNQUFjO1lBQzVELElBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUUsRUFDckMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUU5QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBS2xELElBQUksQ0FBQyxXQUFX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LENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbEIsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkIsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFDRCxJQUFJLENBQUMsQ0FBQztnQkFDRixXQUFXLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDNUIsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZCLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0YsV0FBVyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQzVCLENBQUM7WUFFRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQztZQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FB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QUksRUFBRSxzZkFBc2YsR0FBRSxDQUFBO1FBQ2x4Qiw0Q0FBZ0MsR0FBYSxFQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUMsTUFBTSxFQUFFLEVBQUUsRUFBQyxVQUFVLEVBQUUsNEJBQTRCLEVBQUMsV0FBVyxFQUFFLEVBQUUsRUFBQyxVQUFVLEVBQUUsRUFBRSxFQUFDLElBQUksRUFBRSxpVEFBaVQsR0FBRSxDQUFBO1FBQ2xjLDZDQUFpQyxHQUFhLEVBQUMsR0FBRyxFQUFFLEVBQUUsRUFBQyxNQUFNLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSx5SEFBeUgsRUFBQyxXQUFXLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSwwS0FBMEssRUFBQyxJQUFJLEVBQUUsdStCQUF1K0IsR0FBRSxDQUFBO1FBQzkzQywyQ0FBK0IsR0FBYSxFQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUMsTUFBTSxFQUFFLEVBQUUsRUFBQyxVQUFVLEVBQUUsNEJBQTRCLEVBQUMsV0FBVyxFQUFFLEVBQUUsRUFBQyxVQUFVLEVBQUUsRUFBRSxFQUFDLElBQUksRUFBRSxpSkFBaUosR0FBRSxDQUFBO1FBQ2pTLDJDQUErQixHQUFhLEVBQUMsR0FBRyxFQUFFLEVBQUUsRUFBQyxNQUFNLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSw0QkFBNEIsRUFBQyxXQUFXLEVBQUUsRUFBRSxFQUFDLFVBQVUsRUFBRSxFQUFFLEVBQUMsSUFBSSxFQUFFLHVKQUF1SixHQUFFLENBQUE7UUFDclQsa0JBQUM7SUFBRCxDQS9FQSxBQStFQyxJQUFBO0lBL0VZLGNBQVcsY0ErRXZCLENBQUE7QUFFRCxDQUFDLEVBbEZNLEVBQUUsS0FBRixFQUFFLFFBa0ZSIiwiZmlsZSI6IndkLmRlYnVnLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIHdke1xuICAgIGV4cG9ydCB2YXIgRGVidWdDb25maWcgPSB7XG4gICAgICAgIGlzVGVzdDpmYWxzZSxcbiAgICAgICAgZGVidWdDb2xsaXNpb246ZmFsc2UsXG4gICAgICAgIHNob3dEZWJ1Z1BhbmVsOiBmYWxzZVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIC8vdG9kbyB1c2UgdWkgY29tcG9uZW50IHRvIGRyYXcgZGVidWcgcGFuZWwhXG4gICAgZXhwb3J0IGNsYXNzIERlYnVnU3RhdGlzdGljc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb3VudCA9IHtcbiAgICAgICAgICAgIGdldCB0b3RhbEdhbWVPYmplY3RzKCl7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGQuaGFzQ29tcG9uZW50KFNwYWNlUGFydGl0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBjaGlsZC5nZXRDb21wb25lbnQ8U3BhY2VQYXJ0aXRpb24+KFNwYWNlUGFydGl0aW9uKS5nZXRDaGlsZHJlbigpLmdldENvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb3VudCArKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlbmRlckdhbWVPYmplY3RzOjAsXG4gICAgICAgICAgICBkcmF3Q2FsbHM6MFxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZHVyaW5nID0ge1xuICAgICAgICAgICAgZ2V0IGZwcygpe1xuICAgICAgICAgICAgICAgIHJldHVybiBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmZwcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdG9kbyBjb21wdXRlIHBvdGVudGlhbCBmcHM/XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3N0YXJ0TG9vcFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjbGVhcigpe1xuICAgICAgICAgICAgdGhpcy5jb3VudC5yZW5kZXJHYW1lT2JqZWN0cyA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvdW50LmRyYXdDYWxscyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5fc3RhcnRMb29wU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCg8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1ApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZihEZWJ1Z0NvbmZpZy5zaG93RGVidWdQYW5lbCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGB0b3RhbEdhbWVPYmplY3RzOiR7c2VsZi5jb3VudC50b3RhbEdhbWVPYmplY3RzfSwgcmVuZGVyR2FtZU9iamVjdHM6JHtzZWxmLmNvdW50LnJlbmRlckdhbWVPYmplY3RzfSwgZHJhd0NhbGxzOiR7c2VsZi5jb3VudC5kcmF3Q2FsbHN9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBmcHM6JHtzZWxmLmR1cmluZy5mcHN9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLl9zdGFydExvb3BTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkRnJwe1xuICAgIGV4cG9ydCB2YXIgZnJvbUNvbGxlY3Rpb24gPSAoY29sbGVjdGlvbjp3ZENiLkNvbGxlY3Rpb248YW55Piwgc2NoZWR1bGVyID0gU2NoZWR1bGVyLmNyZWF0ZSgpKSA9PntcbiAgICAgICAgdmFyIGFyciA9IGNvbGxlY3Rpb24udG9BcnJheSgpO1xuXG4gICAgICAgIHJldHVybiBhcnIubGVuZ3RoID09PSAwID8gZW1wdHkoKSA6IGZyb21BcnJheShhcnIsIHNjaGVkdWxlcik7XG4gICAgfTtcbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGNvbmQ6Ym9vbGVhbiwgbWVzc2FnZTpzdHJpbmc9XCJjb250cmFjdCBlcnJvclwiKXtcbiAgICAgICAgTG9nLmVycm9yKCFjb25kLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVxdWlyZShJbkZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgICAgICBpZihNYWluLmlzVGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIEluRnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnN1cmUoT3V0RnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYoTWFpbi5pc1Rlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IFtyZXN1bHRdLmNvbmNhdChhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgT3V0RnVuYy5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZXF1aXJlR2V0dGVyKEluRnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKE1haW4uaXNUZXN0KXtcbiAgICAgICAgICAgICAgICAgICAgSW5GdW5jLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVxdWlyZVNldHRlcihJbkZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBkZXNjcmlwdG9yLnNldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICBpZihNYWluLmlzVGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIEluRnVuYy5jYWxsKHRoaXMsIHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0dGVyLmNhbGwodGhpcywgdmFsKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUdldHRlcihPdXRGdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gZGVzY3JpcHRvci5nZXQ7XG5cbiAgICAgICAgICAgIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYoTWFpbi5pc1Rlc3Qpe1xuICAgICAgICAgICAgICAgICAgICBPdXRGdW5jLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZW5zdXJlU2V0dGVyKE91dEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBkZXNjcmlwdG9yLnNldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2V0dGVyLmNhbGwodGhpcywgdmFsKTtcblxuICAgICAgICAgICAgICAgIGlmKE1haW4uaXNUZXN0KXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IFtyZXN1bHQsIHZhbF07XG4gICAgICAgICAgICAgICAgICAgIE91dEZ1bmMuYXBwbHkodGhpcywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgaWYoTWFpbi5pc1Rlc3QpIHtcbiAgICAgICAgICAgICAgICBmdW5jKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNhY2hlR2V0dGVyKGp1ZGdlRnVuYzooKSA9PiBib29sZWFuLCByZXR1cm5DYWNoZVZhbHVlRnVuYzooKSA9PiBhbnksIHNldENhY2hlRnVuYzoocmV0dXJuVmFsKSA9PiB2b2lkKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmKGp1ZGdlRnVuYy5jYWxsKHRoaXMpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkNhY2hlVmFsdWVGdW5jLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2V0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBzZXRDYWNoZUZ1bmMuY2FsbCh0aGlzLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNhY2hlKGp1ZGdlRnVuYzooLi4uYXJncykgPT4gYm9vbGVhbiwgcmV0dXJuQ2FjaGVWYWx1ZUZ1bmM6KC4uLmFyZ3MpID0+IGFueSwgc2V0Q2FjaGVGdW5jOiguLi5yZXR1cm5WYWwpID0+IHZvaWQpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYoanVkZ2VGdW5jLmFwcGx5KHRoaXMsIGFyZ3MpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkNhY2hlVmFsdWVGdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgc2V0Q2FjaGVGdW5jLmFwcGx5KHRoaXMsIFtyZXN1bHRdLmNvbmNhdChhcmdzKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoZGF0YU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBkZXNjcmlwdG9yLnNldDtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpW2BnZXQke2RhdGFOYW1lfWBdKHRoaXMuZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiB0aGlzW2BfJHtsb3dlckZpcnN0Q2hhcihkYXRhTmFtZSl9YF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzUGh5c2ljc0VuZ2luZUFkYXB0ZXJFeGlzdCgpKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpW2BzZXQke2RhdGFOYW1lfWBdKHRoaXMuZW50aXR5T2JqZWN0LCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBleHBvcnQgZnVuY3Rpb24gb3BlcmF0ZVdvcmxkRGF0YUdldHRlckFuZFNldHRlcihkYXRhTmFtZSkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0LFxuICAgICAgICAgICAgICAgIHNldHRlciA9IGRlc2NyaXB0b3Iuc2V0O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NlbmUgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICAgICAgaWYoaXNXb3JsZERlZmluZWQoc2NlbmUpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBzY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlcltgZ2V0JHtkYXRhTmFtZX1gXSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHRoaXNbYF8ke2xvd2VyRmlyc3RDaGFyKGRhdGFOYW1lKX1gXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnNldCA9IGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjZW5lID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcblxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZihpc1dvcmxkRGVmaW5lZChzY2VuZSkpe1xuICAgICAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlcltgc2V0JHtkYXRhTmFtZX1gXSh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNXb3JsZERlZmluZWQoc2NlbmU6U2NlbmVEaXNwYXRjaGVyKXtcbiAgICAgICAgcmV0dXJuIHNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyICYmIHNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyLndvcmxkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvd2VyRmlyc3RDaGFyKHN0cil7XG4gICAgICAgIHZhciBmaXJzdENoYXIgPSBzdHIuc2xpY2UoMCwgMSk7XG5cbiAgICAgICAgcmV0dXJuIGAke2ZpcnN0Q2hhci50b0xvd2VyQ2FzZSgpfSR7c3RyLnNsaWNlKDEpfWA7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZnVuY3Rpb24gc2NyaXB0KHNjcmlwdE5hbWU6c3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBTY3JpcHQuYWRkU2NyaXB0KHNjcmlwdE5hbWUsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBleGVjT25seU9uY2UoZmxhZ05hbWU6c3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ZsYWdOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpc1tmbGFnTmFtZV0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNvbnN0IEFCU1RSQUNUX0FUVFJJQlVURSA9IG51bGw7XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBERUdfVE9fUkFEXG4gICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnNpb24gZmFjdG9yIGJldHdlZW4gZGVncmVlcyBhbmQgcmFkaWFuc1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ29udmVydCAxODAgZGVncmVlcyB0byBwaSByYWRpYW5zXG4gICAgICogdmFyIHJhZCA9IDE4MCAqIERFR19UT19SQUQ7XG4gICAgICovXG4gICAgZXhwb3J0IGNvbnN0IERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgUkFEX1RPX0RFR1xuICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJzaW9uIGZhY3RvciBiZXR3ZWVuIGRlZ3JlZXMgYW5kIHJhZGlhbnNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENvbnZlcnQgcGkgcmFkaWFucyB0byAxODAgZGVncmVlc1xuICAgICAqIHZhciBkZWcgPSBNYXRoLlBJICogUkFEX1RPX0RFRztcbiAgICAgKi9cbiAgICBleHBvcnQgY29uc3QgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZlY3RvcjJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHgsIHkpOlZlY3RvcjIgO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOlZlY3RvcjIgO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOlZlY3RvcjIge1xuICAgICAgICAgICAgdmFyIG0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcyhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5KTtcbiAgICAgICAgY29uc3RydWN0b3IoKTtcbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncyl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHgoeDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeSh5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdmFsdWVzOiBGbG9hdDMyQXJyYXk7XG5cbiAgICAgICAgcHVibGljIHNldCh4Om51bWJlciwgeTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKHY6VmVjdG9yMil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHRoaXMudmFsdWVzWzBdICsgdi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHRoaXMudmFsdWVzWzFdICsgdi52YWx1ZXNbMV07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bCh2OlZlY3RvcjIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB0aGlzLnZhbHVlc1swXSAqIHYudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB0aGlzLnZhbHVlc1sxXSAqIHYudmFsdWVzWzFdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgVmVjdG9yM3tcbiAgICAgICAgcHVibGljIHN0YXRpYyB1cCA9IFZlY3RvcjMuY3JlYXRlKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGZvcndhcmQgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAxKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyByaWdodCA9IFZlY3RvcjMuY3JlYXRlKDEsIDAsIDApO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHgsIHksIHopOlZlY3RvcjMgO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOlZlY3RvcjMgO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOlZlY3RvcjMge1xuICAgICAgICAgICAgdmFyIG0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcyhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KTtcbiAgICAgICAgY29uc3RydWN0b3IoKTtcbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncyl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9YXJnc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHgoeDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeSh5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgeigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzJdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB6KHo6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gejtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2YWx1ZXM6IEZsb2F0MzJBcnJheSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIG5vcm1hbGl6ZSgpOiBWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIHYgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgIHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0gKyB2WzJdICogdlsyXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYoZCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgdlswXSA9IDA7XG4gICAgICAgICAgICAgICAgdlsxXSA9IDA7XG4gICAgICAgICAgICAgICAgdlsyXSA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZbMF0gPSB2WzBdIC8gZDtcbiAgICAgICAgICAgIHZbMV0gPSB2WzFdIC8gZDtcbiAgICAgICAgICAgIHZbMl0gPSB2WzJdIC8gZDtcblxuICAgICAgICAgICAgLy8gZm9yIGphc21pbmUgdGVzdDpcbiAgICAgICAgICAgIC8vIC0wLmlzRXF1YWwoMCk7Ly9ub3QgcGFzcywgc28gaGVyZSBjaGFuZ2UgLTAgdG8gMFxuICAgICAgICAgICAgaWYodlswXSA9PT0gLTApe1xuICAgICAgICAgICAgICAgIHZbMF0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodlsxXSA9PT0gLTApe1xuICAgICAgICAgICAgICAgIHZbMV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodlsyXSA9PT0gLTApe1xuICAgICAgICAgICAgICAgIHZbMl0gPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1plcm8oKXtcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJldHVybiB2WzBdID09PSAwICYmIHZbMV0gPT09IDAgJiYgdlsyXSA9PT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzY2FsZShzY2FsYXI6bnVtYmVyKTtcbiAgICAgICAgcHVibGljIHNjYWxlKHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyBzY2FsZSguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHNjYWxhciA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICB2WzBdICo9IHNjYWxhcjtcbiAgICAgICAgICAgICAgICB2WzFdICo9IHNjYWxhcjtcbiAgICAgICAgICAgICAgICB2WzJdICo9IHNjYWxhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCB4ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgeSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHogPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgdlswXSAqPSB4O1xuICAgICAgICAgICAgICAgIHZbMV0gKj0geTtcbiAgICAgICAgICAgICAgICB2WzJdICo9IHo7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldCh2OlZlY3RvcjMpO1xuICAgICAgICBwdWJsaWMgc2V0KHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyBzZXQoLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMueiA9IGFyZ3NbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCB2OlZlY3RvcjMgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy54ID0gdi54O1xuICAgICAgICAgICAgICAgIHRoaXMueSA9IHYueTtcbiAgICAgICAgICAgICAgICB0aGlzLnogPSB2Lno7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3ViKHY6VmVjdG9yMyk6VmVjdG9yMyB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHRoaXMudmFsdWVzWzBdIC0gdi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHRoaXMudmFsdWVzWzFdIC0gdi52YWx1ZXNbMV07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IHRoaXMudmFsdWVzWzJdIC0gdi52YWx1ZXNbMl07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN1YjIodjE6VmVjdG9yMywgdjI6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHYxLnZhbHVlc1swXSAtIHYyLnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gdjEudmFsdWVzWzFdIC0gdjIudmFsdWVzWzFdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSB2MS52YWx1ZXNbMl0gLSB2Mi52YWx1ZXNbMl07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZCh2OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB0aGlzLnZhbHVlc1swXSArIHYudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB0aGlzLnZhbHVlc1sxXSArIHYudmFsdWVzWzFdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSB0aGlzLnZhbHVlc1syXSArIHYudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGQyKHYxOlZlY3RvcjMsIHYyOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSB2MS52YWx1ZXNbMF0gKyB2Mi52YWx1ZXNbMF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IHYxLnZhbHVlc1sxXSArIHYyLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gdjEudmFsdWVzWzJdICsgdjIudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWwodjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gdGhpcy52YWx1ZXNbMF0gKiB2LnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gdGhpcy52YWx1ZXNbMV0gKiB2LnZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzJdID0gdGhpcy52YWx1ZXNbMl0gKiAgdi52YWx1ZXNbMl07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bDIodjE6VmVjdG9yMywgdjI6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IHYxLnZhbHVlc1swXSAqIHYyLnZhbHVlc1swXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzFdID0gdjEudmFsdWVzWzFdICogdjIudmFsdWVzWzFdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPSB2MS52YWx1ZXNbMl0gKiAgdjIudmFsdWVzWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCk6VmVjdG9yM3tcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gLXRoaXMudmFsdWVzWzBdO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSAtdGhpcy52YWx1ZXNbMV07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IC10aGlzLnZhbHVlc1syXTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOiBWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1tpXSA9IHRoaXMudmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRvVmVjdG9yNCgpOiBWZWN0b3I0e1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjQuY3JlYXRlKHRoaXMudmFsdWVzWzBdLCB0aGlzLnZhbHVlc1sxXSwgdGhpcy52YWx1ZXNbMl0sIDEuMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbGVuZ3RoKCkge1xuICAgICAgICAgICAgdmFyIHYgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2WzBdICogdlswXSArIHZbMV0gKiB2WzFdICsgdlsyXSAqIHZbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBjcm9zc1xuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGEgY3Jvc3MgcHJvZHVjdCBvcGVyYXRpb24gcGVyZm9ybWVkIG9uIHRoZSB0d28gc3BlY2lmaWVkIDMtZGltZW5zaW9uYWwgdmVjdG9ycy5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSBsaHMgVGhlIGZpcnN0IDMtZGltZW5zaW9uYWwgdmVjdG9yIG9wZXJhbmQgb2YgdGhlIGNyb3NzIHByb2R1Y3QuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gcmhzIFRoZSBzZWNvbmQgMy1kaW1lbnNpb25hbCB2ZWN0b3Igb3BlcmFuZCBvZiB0aGUgY3Jvc3MgcHJvZHVjdC5cbiAgICAgICAgICogQHJldHVybnMge1ZlYzN9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgYmFjayA9IG5ldyBWZWMzKCkuY3Jvc3MoVmVjMy5SSUdIVCwgVmVjMy5VUCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFNob3VsZCBwcmludCB0aGUgWiBheGlzIChpLmUuIFswLCAwLCAxXSlcbiAgICAgICAgICogY29uc29sZS5sb2coXCJUaGUgcmVzdWx0IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGlzOiBcIiArIGJhY2sudG9TdHJpbmcoKSk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgY3Jvc3MobGhzOlZlY3RvcjMsIHJoczpWZWN0b3IzKSB7XG4gICAgICAgICAgICB2YXIgYSwgYiwgciwgYXgsIGF5LCBheiwgYngsIGJ5LCBiejtcblxuICAgICAgICAgICAgYSA9IGxocy52YWx1ZXM7XG4gICAgICAgICAgICBiID0gcmhzLnZhbHVlcztcbiAgICAgICAgICAgIHIgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgYXggPSBhWzBdO1xuICAgICAgICAgICAgYXkgPSBhWzFdO1xuICAgICAgICAgICAgYXogPSBhWzJdO1xuICAgICAgICAgICAgYnggPSBiWzBdO1xuICAgICAgICAgICAgYnkgPSBiWzFdO1xuICAgICAgICAgICAgYnogPSBiWzJdO1xuXG4gICAgICAgICAgICByWzBdID0gYXkgKiBieiAtIGJ5ICogYXo7XG4gICAgICAgICAgICByWzFdID0gYXogKiBieCAtIGJ6ICogYXg7XG4gICAgICAgICAgICByWzJdID0gYXggKiBieSAtIGJ4ICogYXk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBsZXJwXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBzcGVjaWZpZWQgMy1kaW1lbnNpb25hbCB2ZWN0b3JzLlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IGxocyBUaGUgMy1kaW1lbnNpb25hbCB0byBpbnRlcnBvbGF0ZSBmcm9tLlxuICAgICAgICAgKiBAcGFyYW0ge1ZlYzN9IHJocyBUaGUgMy1kaW1lbnNpb25hbCB0byBpbnRlcnBvbGF0ZSB0by5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhIFRoZSB2YWx1ZSBjb250cm9sbGluZyB0aGUgcG9pbnQgb2YgaW50ZXJwb2xhdGlvbi4gQmV0d2VlbiAwIGFuZCAxLCB0aGUgbGluZWFyIGludGVycG9sYW50XG4gICAgICAgICAqIHdpbGwgb2NjdXIgb24gYSBzdHJhaWdodCBsaW5lIGJldHdlZW4gbGhzIGFuZCByaHMuIE91dHNpZGUgb2YgdGhpcyByYW5nZSwgdGhlIGxpbmVhciBpbnRlcnBvbGFudCB3aWxsIG9jY3VyIG9uXG4gICAgICAgICAqIGEgcmF5IGV4dHJhcG9sYXRlZCBmcm9tIHRoaXMgbGluZS5cbiAgICAgICAgICogQHJldHVybnMge1ZlYzN9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgYSA9IG5ldyBWZWMzKDAsIDAsIDApO1xuICAgICAgICAgKiB2YXIgYiA9IG5ldyBWZWMzKDEwLCAxMCwgMTApO1xuICAgICAgICAgKiB2YXIgciA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHIubGVycChhLCBiLCAwKTsgICAvLyByIGlzIGVxdWFsIHRvIGFcbiAgICAgICAgICogci5sZXJwKGEsIGIsIDAuNSk7IC8vIHIgaXMgNSwgNSwgNVxuICAgICAgICAgKiByLmxlcnAoYSwgYiwgMSk7ICAgLy8gciBpcyBlcXVhbCB0byBiXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgbGVycChsaHM6VmVjdG9yMywgcmhzOlZlY3RvcjMsIGFscGhhOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIGEgPSBsaHMudmFsdWVzLFxuICAgICAgICAgICAgICAgIGIgPSByaHMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHIgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgclswXSA9IGFbMF0gKyBhbHBoYSAqIChiWzBdIC0gYVswXSk7XG4gICAgICAgICAgICByWzFdID0gYVsxXSArIGFscGhhICogKGJbMV0gLSBhWzFdKTtcbiAgICAgICAgICAgIHJbMl0gPSBhWzJdICsgYWxwaGEgKiAoYlsyXSAtIGFbMl0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgZG90XG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYSBkb3QgcHJvZHVjdCBvcGVyYXRpb24gcGVyZm9ybWVkIG9uIHRoZSB0d28gc3BlY2lmaWVkIDMtZGltZW5zaW9uYWwgdmVjdG9ycy5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSByaHMgVGhlIHNlY29uZCAzLWRpbWVuc2lvbmFsIHZlY3RvciBvcGVyYW5kIG9mIHRoZSBkb3QgcHJvZHVjdC5cbiAgICAgICAgICogQHJldHVybnMge051bWJlcn0gVGhlIHJlc3VsdCBvZiB0aGUgZG90IHByb2R1Y3Qgb3BlcmF0aW9uLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgdjEgPSBuZXcgVmVjMyg1LCAxMCwgMjApO1xuICAgICAgICAgKiB2YXIgdjIgPSBuZXcgVmVjMygxMCwgMjAsIDQwKTtcbiAgICAgICAgICogdmFyIHYxZG90djIgPSB2MS5kb3QodjIpO1xuICAgICAgICAgKiBjb25zb2xlLmxvZyhcIlRoZSByZXN1bHQgb2YgdGhlIGRvdCBwcm9kdWN0IGlzOiBcIiArIHYxZG90djIpO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGRvdChyaHMpIHtcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgYiA9IHJocy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWluKHY6VmVjdG9yMykge1xuICAgICAgICAgICAgaWYgKHRoaXMueCA+IHYueCkge1xuICAgICAgICAgICAgICAgIHRoaXMueCA9IHYueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnkgPiB2LnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB2Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy56ID4gdi56KSB7XG4gICAgICAgICAgICAgICAgdGhpcy56ID0gdi56O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1heCh2OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnggPCB2LngpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB2Lng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy55IDwgdi55KSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdi55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMueiA8IHYueikge1xuICAgICAgICAgICAgICAgIHRoaXMueiA9IHYuejtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0VxdWFsKHY6VmVjdG9yMyl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSB2LnggJiYgdGhpcy55ID09PSB2LnkgJiYgdGhpcy56ID09PSB2Lno7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9BcnJheSgpe1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhcHBseU1hdHJpeDQobTpNYXRyaXg0KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMueCxcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy55LFxuICAgICAgICAgICAgICAgIHogPSB0aGlzLnosXG4gICAgICAgICAgICAgICAgZSA9IG0udmFsdWVzO1xuXG4gICAgICAgICAgICB0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDggXSAgKiB6ICsgZVsgMTIgXTtcbiAgICAgICAgICAgIHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOSBdICAqIHogKyBlWyAxMyBdO1xuICAgICAgICAgICAgdGhpcy56ID0gZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogeiArIGVbIDE0IF07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3RhbmNlVG8odjpWZWN0b3IzKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3RhbmNlVG9TcXVhcmVkKHY6VmVjdG9yMykge1xuICAgICAgICAgICAgdmFyIGR4ID0gdGhpcy54IC0gdi54LFxuICAgICAgICAgICAgICAgIGR5ID0gdGhpcy55IC0gdi55LFxuICAgICAgICAgICAgICAgIGR6ID0gdGhpcy56IC0gdi56O1xuXG4gICAgICAgICAgICByZXR1cm4gZHgqKjIgKyBkeSoqMiArIGR6KioyO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIFZlY3RvcjR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHgsIHksIHosIHcpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgeiwgdyk7XG4gICAgICAgIGNvbnN0cnVjdG9yKCk7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMl0gPWFyZ3NbMl07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbM10gPWFyZ3NbM107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB4KHg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzBdID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHkoeTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHooKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1syXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeih6Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1syXSA9IHo7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzNdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3KHc6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzNdID0gdztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2YWx1ZXM6IEZsb2F0MzJBcnJheTtcblxuICAgICAgICBwdWJsaWMgbm9ybWFsaXplKCk6IFZlY3RvcjR7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgdmFyIGQgPSBNYXRoLnNxcnQoXG4gICAgICAgICAgICAgICAgdlswXSAqIHZbMF0gKyB2WzFdICogdlsxXSArIHZbMl0gKiB2WzJdICsgdlszXSAqIHZbM11cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmKGQgPT09IDApe1xuICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3I0LmNyZWF0ZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdlswXSA9IHZbMF0gLyBkO1xuICAgICAgICAgICAgdlsxXSA9IHZbMV0gLyBkO1xuICAgICAgICAgICAgdlsyXSA9IHZbMl0gLyBkO1xuICAgICAgICAgICAgdlszXSA9IHZbM10gLyBkO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCk6VmVjdG9yNHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvcHlIZWxwZXIoVmVjdG9yNC5jcmVhdGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9WZWN0b3IzKCk6IFZlY3RvcjN7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUodGhpcy52YWx1ZXNbMF0sIHRoaXMudmFsdWVzWzFdLCB0aGlzLnZhbHVlc1syXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHlTY2FsYXIoc2NhbGFyOm51bWJlcikge1xuICAgICAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMueSAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLnogKj0gc2NhbGFyO1xuICAgICAgICAgICAgdGhpcy53ICo9IHNjYWxhcjtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZG90KHY6VmVjdG9yNCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYueiArIHRoaXMudyAqIHYudztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXQoeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICAgICAgdGhpcy53ID0gdztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb3B5SGVscGVyKHZlY3RvcjQ6VmVjdG9yNCk6YW55e1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZlY3RvcjQsXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1tpXSA9IHRoaXMudmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgLyohXG4gICAgIOazqOaEj++8muefqemYteWFg+e0oOaYr+aMieWIl+S4u+W6j+WtmOWCqOWcqOaVsOe7hOS4reeahOOAglxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBNYXRyaXg0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShtYXQ6RmxvYXQzMkFycmF5KTpNYXRyaXg0O1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOk1hdHJpeDQ7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoLi4uYXJncyk6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgbSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyB0aGlzKGFyZ3NbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKG1hdDpGbG9hdDMyQXJyYXkpO1xuICAgICAgICBjb25zdHJ1Y3RvcigpO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzID0gYXJnc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhBcnIgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2YWx1ZXM6IEZsb2F0MzJBcnJheSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfbWF0cml4QXJyOkFycmF5PEZsb2F0MzJBcnJheT4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBwdXNoKCl7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhBcnIucHVzaCh0aGlzLnZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcG9wKCl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMuX21hdHJpeEFyci5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXQoaW5pdGlhbE0xMTogbnVtYmVyLCBpbml0aWFsTTEyOiBudW1iZXIsIGluaXRpYWxNMTM6IG51bWJlciwgaW5pdGlhbE0xNDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE0yMTogbnVtYmVyLCBpbml0aWFsTTIyOiBudW1iZXIsIGluaXRpYWxNMjM6IG51bWJlciwgaW5pdGlhbE0yNDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE0zMTogbnVtYmVyLCBpbml0aWFsTTMyOiBudW1iZXIsIGluaXRpYWxNMzM6IG51bWJlciwgaW5pdGlhbE0zNDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE00MTogbnVtYmVyLCBpbml0aWFsTTQyOiBudW1iZXIsIGluaXRpYWxNNDM6IG51bWJlciwgaW5pdGlhbE00NDogbnVtYmVyKTtcbiAgICAgICAgcHVibGljIHNldChtYXRyaXg6TWF0cml4NCk7XG5cbiAgICAgICAgcHVibGljIHNldCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGUgPSB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBtYXRyaXg6TWF0cml4NCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBtYXRyaXgudmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0sIGFyZ3NbN10sIGFyZ3NbOF0sIGFyZ3NbOV0sIGFyZ3NbMTBdLCBhcmdzWzExXSwgYXJnc1sxMl0sIGFyZ3NbMTNdLCBhcmdzWzE0XSwgYXJnc1sxNV1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZVsgMCBdID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgdGVbIDEgXSA9IHZhbHVlc1sxXTtcbiAgICAgICAgICAgIHRlWyAyIF0gPSB2YWx1ZXNbMl07XG4gICAgICAgICAgICB0ZVsgMyBdID0gdmFsdWVzWzNdO1xuICAgICAgICAgICAgdGVbIDQgXSA9IHZhbHVlc1s0XTtcbiAgICAgICAgICAgIHRlWyA1IF0gPSB2YWx1ZXNbNV07XG4gICAgICAgICAgICB0ZVsgNiBdID0gdmFsdWVzWzZdO1xuICAgICAgICAgICAgdGVbIDcgXSA9IHZhbHVlc1s3XTtcbiAgICAgICAgICAgIHRlWyA4IF0gPSB2YWx1ZXNbOF07XG4gICAgICAgICAgICB0ZVsgOSBdID0gdmFsdWVzWzldO1xuICAgICAgICAgICAgdGVbIDEwIF0gPSB2YWx1ZXNbMTBdO1xuICAgICAgICAgICAgdGVbIDExIF0gPSB2YWx1ZXNbMTFdO1xuICAgICAgICAgICAgdGVbIDEyIF0gPSB2YWx1ZXNbMTJdO1xuICAgICAgICAgICAgdGVbIDEzIF0gPSB2YWx1ZXNbMTNdO1xuICAgICAgICAgICAgdGVbIDE0IF0gPSB2YWx1ZXNbMTRdO1xuICAgICAgICAgICAgdGVbIDE1IF0gPSB2YWx1ZXNbMTVdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRJZGVudGl0eSAoKTogTWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgZVswXSA9IDE7ICAgZVs0XSA9IDA7ICAgZVs4XSAgPSAwOyAgIGVbMTJdID0gMDtcbiAgICAgICAgICAgIGVbMV0gPSAwOyAgIGVbNV0gPSAxOyAgIGVbOV0gID0gMDsgICBlWzEzXSA9IDA7XG4gICAgICAgICAgICBlWzJdID0gMDsgICBlWzZdID0gMDsgICBlWzEwXSA9IDE7ICAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgZVszXSA9IDA7ICAgZVs3XSA9IDA7ICAgZVsxMV0gPSAwOyAgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGN1bGF0ZSB0aGUgaW52ZXJzZSBtYXRyaXggb2Ygc3BlY2lmaWVkIG1hdHJpeCwgYW5kIHNldCB0byB0aGlzLlxuICAgICAgICAgKiBAcGFyYW0gb3RoZXIgVGhlIHNvdXJjZSBtYXRyaXhcbiAgICAgICAgICogQHJldHVybiB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgaW52ZXJ0ICgpOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMyxcbiAgICAgICAgICAgICAgICBhMTAsIGExMSwgYTEyLCBhMTMsXG4gICAgICAgICAgICAgICAgYTIwLCBhMjEsIGEyMiwgYTIzLFxuICAgICAgICAgICAgICAgIGEzMCwgYTMxLCBhMzIsIGEzMyxcbiAgICAgICAgICAgICAgICBiMDAsIGIwMSwgYjAyLCBiMDMsXG4gICAgICAgICAgICAgICAgYjA0LCBiMDUsIGIwNiwgYjA3LFxuICAgICAgICAgICAgICAgIGIwOCwgYjA5LCBiMTAsIGIxMSxcbiAgICAgICAgICAgICAgICBpbnZEZXQsIG07XG5cbiAgICAgICAgICAgIG0gPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICAgIGEwMCA9IG1bMF07XG4gICAgICAgICAgICBhMDEgPSBtWzFdO1xuICAgICAgICAgICAgYTAyID0gbVsyXTtcbiAgICAgICAgICAgIGEwMyA9IG1bM107XG4gICAgICAgICAgICBhMTAgPSBtWzRdO1xuICAgICAgICAgICAgYTExID0gbVs1XTtcbiAgICAgICAgICAgIGExMiA9IG1bNl07XG4gICAgICAgICAgICBhMTMgPSBtWzddO1xuICAgICAgICAgICAgYTIwID0gbVs4XTtcbiAgICAgICAgICAgIGEyMSA9IG1bOV07XG4gICAgICAgICAgICBhMjIgPSBtWzEwXTtcbiAgICAgICAgICAgIGEyMyA9IG1bMTFdO1xuICAgICAgICAgICAgYTMwID0gbVsxMl07XG4gICAgICAgICAgICBhMzEgPSBtWzEzXTtcbiAgICAgICAgICAgIGEzMiA9IG1bMTRdO1xuICAgICAgICAgICAgYTMzID0gbVsxNV07XG5cbiAgICAgICAgICAgIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgICAgICAgICAgIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgICAgICAgICAgIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgICAgICAgICAgIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgICAgICAgICAgIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgICAgICAgICAgIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgICAgICAgICAgIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgICAgICAgICAgIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgICAgICAgICAgIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgICAgICAgICAgIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgICAgICAgICAgIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgICAgICAgICAgIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjtcblxuICAgICAgICAgICAgaW52RGV0ID0gMSAvIChiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDYpO1xuXG4gICAgICAgICAgICBtWzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzFdID0gKC1hMDEgKiBiMTEgKyBhMDIgKiBiMTAgLSBhMDMgKiBiMDkpICogaW52RGV0O1xuICAgICAgICAgICAgbVsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogaW52RGV0O1xuICAgICAgICAgICAgbVszXSA9ICgtYTIxICogYjA1ICsgYTIyICogYjA0IC0gYTIzICogYjAzKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bNF0gPSAoLWExMCAqIGIxMSArIGExMiAqIGIwOCAtIGExMyAqIGIwNykgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzZdID0gKC1hMzAgKiBiMDUgKyBhMzIgKiBiMDIgLSBhMzMgKiBiMDEpICogaW52RGV0O1xuICAgICAgICAgICAgbVs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogaW52RGV0O1xuICAgICAgICAgICAgbVs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogaW52RGV0O1xuICAgICAgICAgICAgbVs5XSA9ICgtYTAwICogYjEwICsgYTAxICogYjA4IC0gYTAzICogYjA2KSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBpbnZEZXQ7XG4gICAgICAgICAgICBtWzExXSA9ICgtYTIwICogYjA0ICsgYTIxICogYjAyIC0gYTIzICogYjAwKSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMTJdID0gKC1hMTAgKiBiMDkgKyBhMTEgKiBiMDcgLSBhMTIgKiBiMDYpICogaW52RGV0O1xuICAgICAgICAgICAgbVsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGludkRldDtcbiAgICAgICAgICAgIG1bMTRdID0gKC1hMzAgKiBiMDMgKyBhMzEgKiBiMDEgLSBhMzIgKiBiMDApICogaW52RGV0O1xuICAgICAgICAgICAgbVsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGludkRldDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW52ZXJ0VG8zeDMoKTpNYXRyaXgzIHtcbiAgICAgICAgdmFyIGExMSwgYTIxLCBhMzEsIGExMiwgYTIyLCBhMzIsIGExMywgYTIzLCBhMzMsXG4gICAgICAgICAgICBtLCByLCBkZXQsIGlkZXQ7XG4gICAgICAgICAgICB2YXIgbWF0MyA9IE1hdHJpeDMuY3JlYXRlKCk7XG5cbiAgICAgICAgbSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgIHIgPSBtYXQzLnZhbHVlcztcblxuICAgICAgICBhMTEgPSAgbVsxMF0gKiBtWzVdIC0gbVs2XSAqIG1bOV07XG4gICAgICAgIGEyMSA9IC1tWzEwXSAqIG1bMV0gKyBtWzJdICogbVs5XTtcbiAgICAgICAgYTMxID0gIG1bNl0gICogbVsxXSAtIG1bMl0gKiBtWzVdO1xuICAgICAgICBhMTIgPSAtbVsxMF0gKiBtWzRdICsgbVs2XSAqIG1bOF07XG4gICAgICAgIGEyMiA9ICBtWzEwXSAqIG1bMF0gLSBtWzJdICogbVs4XTtcbiAgICAgICAgYTMyID0gLW1bNl0gICogbVswXSArIG1bMl0gKiBtWzRdO1xuICAgICAgICBhMTMgPSAgbVs5XSAgKiBtWzRdIC0gbVs1XSAqIG1bOF07XG4gICAgICAgIGEyMyA9IC1tWzldICAqIG1bMF0gKyBtWzFdICogbVs4XTtcbiAgICAgICAgYTMzID0gIG1bNV0gICogbVswXSAtIG1bMV0gKiBtWzRdO1xuXG4gICAgICAgIGRldCA9ICBtWzBdICogYTExICsgbVsxXSAqIGExMiArIG1bMl0gKiBhMTM7XG4gICAgICAgIGlmIChkZXQgPT09IDApIHsgLy8gbm8gaW52ZXJzZVxuICAgICAgICAgICAgICAgIExvZy53YXJuKFwiY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdDM7XG4gICAgICAgIH1cblxuICAgICAgICBpZGV0ID0gMSAvIGRldDtcblxuICAgICAgICByWzBdID0gaWRldCAqIGExMTtcbiAgICAgICAgclsxXSA9IGlkZXQgKiBhMjE7XG4gICAgICAgIHJbMl0gPSBpZGV0ICogYTMxO1xuICAgICAgICByWzNdID0gaWRldCAqIGExMjtcbiAgICAgICAgcls0XSA9IGlkZXQgKiBhMjI7XG4gICAgICAgIHJbNV0gPSBpZGV0ICogYTMyO1xuICAgICAgICByWzZdID0gaWRldCAqIGExMztcbiAgICAgICAgcls3XSA9IGlkZXQgKiBhMjM7XG4gICAgICAgIHJbOF0gPSBpZGV0ICogYTMzO1xuXG4gICAgICAgIHJldHVybiBtYXQzO1xuICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNwb3NlIHRoZSBtYXRyaXguXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHRyYW5zcG9zZSAoKTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciB0ZSA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgdmFyIHRtcDtcblxuICAgICAgICAgICAgdG1wID0gdGVbIDEgXTsgdGVbIDEgXSA9IHRlWyA0IF07IHRlWyA0IF0gPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSB0ZVsgMiBdOyB0ZVsgMiBdID0gdGVbIDggXTsgdGVbIDggXSA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IHRlWyA2IF07IHRlWyA2IF0gPSB0ZVsgOSBdOyB0ZVsgOSBdID0gdG1wO1xuXG4gICAgICAgICAgICB0bXAgPSB0ZVsgMyBdOyB0ZVsgMyBdID0gdGVbIDEyIF07IHRlWyAxMiBdID0gdG1wO1xuICAgICAgICAgICAgdG1wID0gdGVbIDcgXTsgdGVbIDcgXSA9IHRlWyAxMyBdOyB0ZVsgMTMgXSA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IHRlWyAxMSBdOyB0ZVsgMTEgXSA9IHRlWyAxNCBdOyB0ZVsgMTQgXSA9IHRtcDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBtYXRyaXggZm9yIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geCBUaGUgWCB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geSBUaGUgWSB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geiBUaGUgWiB2YWx1ZSBvZiBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRUcmFuc2xhdGUgKHgsIHksIHopOiBNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy52YWx1ZXM7XG4gICAgICAgICAgICBlWzBdID0gMTsgIGVbNF0gPSAwOyAgZVs4XSAgPSAwOyAgZVsxMl0gPSB4O1xuICAgICAgICAgICAgZVsxXSA9IDA7ICBlWzVdID0gMTsgIGVbOV0gID0gMDsgIGVbMTNdID0geTtcbiAgICAgICAgICAgIGVbMl0gPSAwOyAgZVs2XSA9IDA7ICBlWzEwXSA9IDE7ICBlWzE0XSA9IHo7XG4gICAgICAgICAgICBlWzNdID0gMDsgIGVbN10gPSAwOyAgZVsxMV0gPSAwOyAgZVsxNV0gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGhlIG1hdHJpeCBmb3IgdHJhbnNsYXRpb24gZnJvbSB0aGUgcmlnaHQuXG4gICAgICAgICAqIEBwYXJhbSB4IFRoZSBYIHZhbHVlIG9mIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB5IFRoZSBZIHZhbHVlIG9mIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB6IFRoZSBaIHZhbHVlIG9mIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZSAoeCwgeSwgeik6IE1hdHJpeDQge1xuICAgICAgICAgICAgdGhpcy5hcHBseU1hdHJpeChNYXRyaXg0LmNyZWF0ZSgpLnNldFRyYW5zbGF0ZSh4LCB5LCB6KSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbWF0cml4IGZvciByb3RhdGlvbi5cbiAgICAgICAgICogVGhlIHZlY3RvciBvZiByb3RhdGlvbiBheGlzIG1heSBub3QgYmUgbm9ybWFsaXplZC5cbiAgICAgICAgICogQHBhcmFtIGFuZ2xlIFRoZSBhbmdsZSBvZiByb3RhdGlvbiAoZGVncmVlcylcbiAgICAgICAgICogQHBhcmFtIHggVGhlIFggY29vcmRpbmF0ZSBvZiB2ZWN0b3Igb2Ygcm90YXRpb24gYXhpcy5cbiAgICAgICAgICogQHBhcmFtIHkgVGhlIFkgY29vcmRpbmF0ZSBvZiB2ZWN0b3Igb2Ygcm90YXRpb24gYXhpcy5cbiAgICAgICAgICogQHBhcmFtIHogVGhlIFogY29vcmRpbmF0ZSBvZiB2ZWN0b3Igb2Ygcm90YXRpb24gYXhpcy5cbiAgICAgICAgICogQHJldHVybiB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0Um90YXRlIChhbmdsZTogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgejpudW1iZXIpOiBNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciBlLCBzLCBjLCBsZW4sIHJsZW4sIG5jLCB4eSwgeXosIHp4LCB4cywgeXMsIHpzO1xuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLlBJICogYW5nbGUgLyAxODA7XG4gICAgICAgICAgICBlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBjID0gTWF0aC5jb3MoYW5nbGUpO1xuXG4gICAgICAgICAgICBpZiAoMCAhPT0geCAmJiAwID09PSB5ICYmIDAgPT09IHopIHtcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGlvbiBhcm91bmQgWCBheGlzXG4gICAgICAgICAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSAtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZVswXSA9IDE7ICBlWzRdID0gMDsgIGVbIDhdID0gMDsgIGVbMTJdID0gMDtcbiAgICAgICAgICAgICAgICBlWzFdID0gMDsgIGVbNV0gPSBjOyAgZVsgOV0gPS1zOyAgZVsxM10gPSAwO1xuICAgICAgICAgICAgICAgIGVbMl0gPSAwOyAgZVs2XSA9IHM7ICBlWzEwXSA9IGM7ICBlWzE0XSA9IDA7XG4gICAgICAgICAgICAgICAgZVszXSA9IDA7ICBlWzddID0gMDsgIGVbMTFdID0gMDsgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0geCAmJiAwICE9PSB5ICYmIDAgPT09IHopIHtcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGlvbiBhcm91bmQgWSBheGlzXG4gICAgICAgICAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSAtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZVswXSA9IGM7ICBlWzRdID0gMDsgIGVbIDhdID0gczsgIGVbMTJdID0gMDtcbiAgICAgICAgICAgICAgICBlWzFdID0gMDsgIGVbNV0gPSAxOyAgZVsgOV0gPSAwOyAgZVsxM10gPSAwO1xuICAgICAgICAgICAgICAgIGVbMl0gPS1zOyAgZVs2XSA9IDA7ICBlWzEwXSA9IGM7ICBlWzE0XSA9IDA7XG4gICAgICAgICAgICAgICAgZVszXSA9IDA7ICBlWzddID0gMDsgIGVbMTFdID0gMDsgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0geCAmJiAwID09PSB5ICYmIDAgIT09IHopIHtcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGlvbiBhcm91bmQgWiBheGlzXG4gICAgICAgICAgICAgICAgaWYgKHogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSAtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZVswXSA9IGM7ICBlWzRdID0tczsgIGVbIDhdID0gMDsgIGVbMTJdID0gMDtcbiAgICAgICAgICAgICAgICBlWzFdID0gczsgIGVbNV0gPSBjOyAgZVsgOV0gPSAwOyAgZVsxM10gPSAwO1xuICAgICAgICAgICAgICAgIGVbMl0gPSAwOyAgZVs2XSA9IDA7ICBlWzEwXSA9IDE7ICBlWzE0XSA9IDA7XG4gICAgICAgICAgICAgICAgZVszXSA9IDA7ICBlWzddID0gMDsgIGVbMTFdID0gMDsgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUm90YXRpb24gYXJvdW5kIGFub3RoZXIgYXhpc1xuICAgICAgICAgICAgICAgIGxlbiA9IE1hdGguc3FydCh4KnggKyB5KnkgKyB6KnopO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy/ovazmjaLkuLrljZXkvY3lkJHph49cbiAgICAgICAgICAgICAgICAgICAgcmxlbiA9IDEgLyBsZW47XG4gICAgICAgICAgICAgICAgICAgIHggKj0gcmxlbjtcbiAgICAgICAgICAgICAgICAgICAgeSAqPSBybGVuO1xuICAgICAgICAgICAgICAgICAgICB6ICo9IHJsZW47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmMgPSAxIC0gYztcbiAgICAgICAgICAgICAgICB4eSA9IHggKiB5O1xuICAgICAgICAgICAgICAgIHl6ID0geSAqIHo7XG4gICAgICAgICAgICAgICAgenggPSB6ICogeDtcbiAgICAgICAgICAgICAgICB4cyA9IHggKiBzO1xuICAgICAgICAgICAgICAgIHlzID0geSAqIHM7XG4gICAgICAgICAgICAgICAgenMgPSB6ICogcztcblxuICAgICAgICAgICAgICAgIGVbIDBdID0geCp4Km5jICsgIGM7XG4gICAgICAgICAgICAgICAgZVsgMV0gPSB4eSAqbmMgKyB6cztcbiAgICAgICAgICAgICAgICBlWyAyXSA9IHp4ICpuYyAtIHlzO1xuICAgICAgICAgICAgICAgIGVbIDNdID0gMDtcblxuICAgICAgICAgICAgICAgIGVbIDRdID0geHkgKm5jIC0genM7XG4gICAgICAgICAgICAgICAgZVsgNV0gPSB5KnkqbmMgKyAgYztcbiAgICAgICAgICAgICAgICBlWyA2XSA9IHl6ICpuYyArIHhzO1xuICAgICAgICAgICAgICAgIGVbIDddID0gMDtcblxuICAgICAgICAgICAgICAgIGVbIDhdID0genggKm5jICsgeXM7XG4gICAgICAgICAgICAgICAgZVsgOV0gPSB5eiAqbmMgLSB4cztcbiAgICAgICAgICAgICAgICBlWzEwXSA9IHoqeipuYyArICBjO1xuICAgICAgICAgICAgICAgIGVbMTFdID0gMDtcblxuICAgICAgICAgICAgICAgIGVbMTJdID0gMDtcbiAgICAgICAgICAgICAgICBlWzEzXSA9IDA7XG4gICAgICAgICAgICAgICAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgICAgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGhlIG1hdHJpeCBmb3Igcm90YXRpb24gZnJvbSB0aGUgcmlnaHQuXG4gICAgICAgICAqIFRoZSB2ZWN0b3Igb2Ygcm90YXRpb24gYXhpcyBtYXkgbm90IGJlIG5vcm1hbGl6ZWQuXG4gICAgICAgICAqIEBwYXJhbSBhbmdsZSBUaGUgYW5nbGUgb2Ygcm90YXRpb24gKGRlZ3JlZXMpXG4gICAgICAgICAqIEBwYXJhbSB4IFRoZSBYIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEBwYXJhbSB5IFRoZSBZIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEBwYXJhbSB6IFRoZSBaIGNvb3JkaW5hdGUgb2YgdmVjdG9yIG9mIHJvdGF0aW9uIGF4aXMuXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHJvdGF0ZSAoYW5nbGUsIHZlY3RvcjM6VmVjdG9yMyk6IE1hdHJpeDQ7XG4gICAgICAgIHB1YmxpYyByb3RhdGUgKGFuZ2xlLCB4LCB5LCB6KTogTWF0cml4NDtcblxuICAgICAgICBwdWJsaWMgcm90YXRlICguLi5hcmdzKTogTWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IHZlY3RvcjMgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU1hdHJpeChNYXRyaXg0LmNyZWF0ZSgpLnNldFJvdGF0ZShhbmdsZSwgdmVjdG9yMy52YWx1ZXNbMF0sIHZlY3RvcjMudmFsdWVzWzFdLCB2ZWN0b3IzLnZhbHVlc1syXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gNCl7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB5ID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgeiA9IGFyZ3NbM107XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5TWF0cml4KE1hdHJpeDQuY3JlYXRlKCkuc2V0Um90YXRlKGFuZ2xlLCB4LCB5LCB6KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbWF0cml4IGZvciBzY2FsaW5nLlxuICAgICAgICAgKiBAcGFyYW0geCBUaGUgc2NhbGUgZmFjdG9yIGFsb25nIHRoZSBYIGF4aXNcbiAgICAgICAgICogQHBhcmFtIHkgVGhlIHNjYWxlIGZhY3RvciBhbG9uZyB0aGUgWSBheGlzXG4gICAgICAgICAqIEBwYXJhbSB6IFRoZSBzY2FsZSBmYWN0b3IgYWxvbmcgdGhlIFogYXhpc1xuICAgICAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRTY2FsZSAoeCwgeSwgeik6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgZVswXSA9IHg7ICBlWzRdID0gMDsgIGVbOF0gID0gMDsgIGVbMTJdID0gMDtcbiAgICAgICAgICAgIGVbMV0gPSAwOyAgZVs1XSA9IHk7ICBlWzldICA9IDA7ICBlWzEzXSA9IDA7XG4gICAgICAgICAgICBlWzJdID0gMDsgIGVbNl0gPSAwOyAgZVsxMF0gPSB6OyAgZVsxNF0gPSAwO1xuICAgICAgICAgICAgZVszXSA9IDA7ICBlWzddID0gMDsgIGVbMTFdID0gMDsgIGVbMTVdID0gMTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRoZSBtYXRyaXggZm9yIHNjYWxpbmcgZnJvbSB0aGUgcmlnaHQuXG4gICAgICAgICAqIEBwYXJhbSB4IFRoZSBzY2FsZSBmYWN0b3IgYWxvbmcgdGhlIFggYXhpc1xuICAgICAgICAgKiBAcGFyYW0geSBUaGUgc2NhbGUgZmFjdG9yIGFsb25nIHRoZSBZIGF4aXNcbiAgICAgICAgICogQHBhcmFtIHogVGhlIHNjYWxlIGZhY3RvciBhbG9uZyB0aGUgWiBheGlzXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNjYWxlICh4LCB5LCB6KTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlNYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRTY2FsZSh4LCB5LCB6KSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldExvb2tBdCAoZXllOlZlY3RvcjMsIGNlbnRlcjpWZWN0b3IzLCB1cDpWZWN0b3IzKTpNYXRyaXg0O1xuICAgICAgICBwdWJsaWMgc2V0TG9va0F0IChleWVYOm51bWJlciwgZXllWTpudW1iZXIsIGV5ZVo6bnVtYmVyLCBjZW50ZXJYOm51bWJlciwgY2VudGVyWTpudW1iZXIsIGNlbnRlclo6bnVtYmVyLCB1cFg6bnVtYmVyLCB1cFk6bnVtYmVyLCB1cFo6bnVtYmVyKTpNYXRyaXg0O1xuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBzZXRMb29rQXRcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgdGhlIHNwZWNpZmllZCBtYXRyaXggdG8gYSB2aWV3aW5nIG1hdHJpeCBkZXJpdmVkIGZyb20gYW4gZXllIHBvaW50LCBhIHRhcmdldCBwb2ludFxuICAgICAgICAgKiBhbmQgYW4gdXAgdmVjdG9yLiBUaGUgbWF0cml4IG1hcHMgdGhlIHRhcmdldCBwb2ludCB0byB0aGUgbmVnYXRpdmUgei1heGlzIGFuZCB0aGUgZXllIHBvaW50IHRvIHRoZVxuICAgICAgICAgKiBvcmlnaW4sIHNvIHRoYXQgd2hlbiB5b3UgdXNlIGEgdHlwaWNhbCBwcm9qZWN0aW9uIG1hdHJpeCwgdGhlIGNlbnRlciBvZiB0aGUgc2NlbmUgbWFwcyB0byB0aGUgY2VudGVyXG4gICAgICAgICAqIG9mIHRoZSB2aWV3cG9ydC4gU2ltaWxhcmx5LCB0aGUgZGlyZWN0aW9uIGRlc2NyaWJlZCBieSB0aGUgdXAgdmVjdG9yIHByb2plY3RlZCBvbnRvIHRoZSB2aWV3aW5nIHBsYW5lXG4gICAgICAgICAqIGlzIG1hcHBlZCB0byB0aGUgcG9zaXRpdmUgeS1heGlzIHNvIHRoYXQgaXQgcG9pbnRzIHVwd2FyZCBpbiB0aGUgdmlld3BvcnQuIFRoZSB1cCB2ZWN0b3IgbXVzdCBub3QgYmVcbiAgICAgICAgICogcGFyYWxsZWwgdG8gdGhlIGxpbmUgb2Ygc2lnaHQgZnJvbSB0aGUgZXllIHRvIHRoZSByZWZlcmVuY2UgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gcG9zaXRpb24gMy1kIHZlY3RvciBob2xkaW5nIHZpZXcgcG9zaXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IDMtZCB2ZWN0b3IgaG9sZGluZyByZWZlcmVuY2UgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gdXAgMy1kIHZlY3RvciBob2xkaW5nIHRoZSB1cCBkaXJlY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtNYXQ0fSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRMb29rQXQoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHgsIHksIHosXG4gICAgICAgICAgICAgICAgZXllLCBjZW50ZXIsIHVwO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgZXllID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHVwID0gYXJnc1syXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gOSl7XG4gICAgICAgICAgICAgICAgZXllID0gVmVjdG9yMy5jcmVhdGUoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICAgICAgY2VudGVyID0gVmVjdG9yMy5jcmVhdGUoYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgICAgICAgdXAgPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzZdLCBhcmdzWzddLCBhcmdzWzhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHggPSBWZWN0b3IzLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB6ID0gZXllLmNvcHkoKS5zdWIoY2VudGVyKS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgeSA9IHVwLmNvcHkoKS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHguY3Jvc3MoeSwgeikubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB5LmNyb3NzKHosIHgpO1xuXG4gICAgICAgICAgICB2YXIgciA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICByWzBdICA9IHgueDtcbiAgICAgICAgICAgIHJbMV0gID0geC55O1xuICAgICAgICAgICAgclsyXSAgPSB4Lno7XG4gICAgICAgICAgICByWzNdICA9IDA7XG4gICAgICAgICAgICByWzRdICA9IHkueDtcbiAgICAgICAgICAgIHJbNV0gID0geS55O1xuICAgICAgICAgICAgcls2XSAgPSB5Lno7XG4gICAgICAgICAgICByWzddICA9IDA7XG4gICAgICAgICAgICByWzhdICA9IHoueDtcbiAgICAgICAgICAgIHJbOV0gID0gei55O1xuICAgICAgICAgICAgclsxMF0gPSB6Lno7XG4gICAgICAgICAgICByWzExXSA9IDA7XG4gICAgICAgICAgICByWzEyXSA9IGV5ZS54O1xuICAgICAgICAgICAgclsxM10gPSBleWUueTtcbiAgICAgICAgICAgIHJbMTRdID0gZXllLno7XG4gICAgICAgICAgICByWzE1XSA9IDE7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRoZSB2aWV3aW5nIG1hdHJpeCBmcm9tIHRoZSByaWdodC5cbiAgICAgICAgICogQHBhcmFtIGV5ZVgsIGV5ZVksIGV5ZVogVGhlIHBvc2l0aW9uIG9mIHRoZSBleWUgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSBjZW50ZXJYLCBjZW50ZXJZLCBjZW50ZXJaIFRoZSBwb3NpdGlvbiBvZiB0aGUgcmVmZXJlbmNlIHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0gdXBYLCB1cFksIHVwWiBUaGUgZGlyZWN0aW9uIG9mIHRoZSB1cCB2ZWN0b3IuXG4gICAgICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGxvb2tBdCAoZXllOlZlY3RvcjMsIGNlbnRlcjpWZWN0b3IzLCB1cDpWZWN0b3IzKTpNYXRyaXg0O1xuICAgICAgICBwdWJsaWMgbG9va0F0IChleWVYOm51bWJlciwgZXllWTpudW1iZXIsIGV5ZVo6bnVtYmVyLCBjZW50ZXJYOm51bWJlciwgY2VudGVyWTpudW1iZXIsIGNlbnRlclo6bnVtYmVyLCB1cFg6bnVtYmVyLCB1cFk6bnVtYmVyLCB1cFo6bnVtYmVyKTpNYXRyaXg0O1xuXG4gICAgICAgIHB1YmxpYyBsb29rQXQgKC4uLmFyZ3MpOk1hdHJpeDQge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IE1hdHJpeDQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwbHlNYXRyaXgobWF0cml4LnNldExvb2tBdC5hcHBseShtYXRyaXgsIGFyZ3MpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihsZWZ0Om51bWJlciwgcmlnaHQ6bnVtYmVyLCBib3R0b206bnVtYmVyLCB0b3A6bnVtYmVyLCBuZWFyOm51bWJlciwgZmFyOm51bWJlcil7XG4gICAgICAgICAgICBhc3NlcnQobGVmdCAhPT0gcmlnaHQgJiYgYm90dG9tICE9PSB0b3AgJiYgbmVhciAhPT0gZmFyLCBMb2cuaW5mby5GVU5DX01VU1RfTk9UX0JFKFwiZnJ1c3R1bVwiLCBcIm51bGxcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2V0T3J0aG8gKGxlZnQ6bnVtYmVyLCByaWdodDpudW1iZXIsIGJvdHRvbTpudW1iZXIsIHRvcDpudW1iZXIsIG5lYXI6bnVtYmVyLCBmYXI6bnVtYmVyKTpNYXRyaXg0IHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy52YWx1ZXMsXG4gICAgICAgICAgICAgICAgcncsXG4gICAgICAgICAgICAgICAgcmgsXG4gICAgICAgICAgICAgICAgcmQ7XG5cbiAgICAgICAgICAgIHJ3ID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICAgICAgICAgICAgcmggPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gICAgICAgICAgICByZCA9IDEgLyAoZmFyIC0gbmVhcik7XG5cbiAgICAgICAgICAgIGVbMF0gID0gMiAqIHJ3O1xuICAgICAgICAgICAgZVsxXSAgPSAwO1xuICAgICAgICAgICAgZVsyXSAgPSAwO1xuICAgICAgICAgICAgZVszXSAgPSAwO1xuXG4gICAgICAgICAgICBlWzRdICA9IDA7XG4gICAgICAgICAgICBlWzVdICA9IDIgKiByaDtcbiAgICAgICAgICAgIGVbNl0gID0gMDtcbiAgICAgICAgICAgIGVbN10gID0gMDtcblxuICAgICAgICAgICAgZVs4XSAgPSAwO1xuICAgICAgICAgICAgZVs5XSAgPSAwO1xuICAgICAgICAgICAgZVsxMF0gPSAtMiAqIHJkO1xuICAgICAgICAgICAgZVsxMV0gPSAwO1xuXG4gICAgICAgICAgICBlWzEyXSA9IC0ocmlnaHQgKyBsZWZ0KSAqIHJ3O1xuICAgICAgICAgICAgZVsxM10gPSAtKHRvcCArIGJvdHRvbSkgKiByaDtcbiAgICAgICAgICAgIGVbMTRdID0gLShmYXIgKyBuZWFyKSAqIHJkO1xuICAgICAgICAgICAgZVsxNV0gPSAxO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvcnRobyAobGVmdDpudW1iZXIsIHJpZ2h0Om51bWJlciwgYm90dG9tOm51bWJlciwgdG9wOm51bWJlciwgbmVhcjpudW1iZXIsIGZhcjpudW1iZXIpOk1hdHJpeDR7XG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0cml4KE1hdHJpeDQuY3JlYXRlKCkuc2V0T3J0aG8obGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBieSBmb3Z5IGFuZCBhc3BlY3QuXG4gICAgICAgICAqIEBwYXJhbSBmb3Z5IFRoZSBhbmdsZSBiZXR3ZWVuIHRoZSB1cHBlciBhbmQgbG93ZXIgc2lkZXMgb2YgdGhlIGZydXN0dW0uXG4gICAgICAgICAqIEBwYXJhbSBhc3BlY3QgVGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgZnJ1c3R1bS4gKHdpZHRoL2hlaWdodClcbiAgICAgICAgICogQHBhcmFtIG5lYXIgVGhlIGRpc3RhbmNlcyB0byB0aGUgbmVhcmVyIGRlcHRoIGNsaXBwaW5nIHBsYW5lLiBUaGlzIHZhbHVlIG11c3QgYmUgcGx1cyB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIGZhciBUaGUgZGlzdGFuY2VzIHRvIHRoZSBmYXJ0aGVyIGRlcHRoIGNsaXBwaW5nIHBsYW5lLiBUaGlzIHZhbHVlIG11c3QgYmUgcGx1cyB2YWx1ZS5cbiAgICAgICAgICogQHJldHVybiB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihmb3Z5OiBudW1iZXIsIGFzcGVjdDpudW1iZXIsIG5lYXI6bnVtYmVyLCBmYXI6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydChuZWFyICE9PSBmYXIgJiYgYXNwZWN0ICE9PSAwLCBMb2cuaW5mby5GVU5DX01VU1RfTk9UX0JFKFwiZnJ1c3R1bVwiLCBcIm51bGxcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KG5lYXIgPiAwLCBMb2cuaW5mby5GVU5DX01VU1QoXCJuZWFyXCIsIFwiPiAwXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChmYXIgPiAwLCBMb2cuaW5mby5GVU5DX01VU1QoXCJmYXJcIiwgXCI+IDBcIikpO1xuXG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzZXRQZXJzcGVjdGl2ZSAoZm92eTogbnVtYmVyLCBhc3BlY3Q6bnVtYmVyLCBuZWFyOm51bWJlciwgZmFyOm51bWJlcik6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGN0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmb3Z5ID0gTWF0aC5QSSAqIGZvdnkgLyAxODAgLyAyO1xuXG4gICAgICAgICAgICBzID0gTWF0aC5zaW4oZm92eSk7XG4gICAgICAgICAgICBMb2cuZXJyb3IocyA9PT0gMCwgTG9nLmluZm8uRlVOQ19NVVNUX05PVF9CRShcImZydXN0dW1cIiwgXCJudWxsXCIpKTtcblxuICAgICAgICAgICAgcmQgPSAxIC8gKGZhciAtIG5lYXIpO1xuICAgICAgICAgICAgY3QgPSBNYXRoLmNvcyhmb3Z5KSAvIHM7XG5cbiAgICAgICAgICAgIGUgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgZVswXSAgPSBjdCAvIGFzcGVjdDtcbiAgICAgICAgICAgIGVbMV0gID0gMDtcbiAgICAgICAgICAgIGVbMl0gID0gMDtcbiAgICAgICAgICAgIGVbM10gID0gMDtcblxuICAgICAgICAgICAgZVs0XSAgPSAwO1xuICAgICAgICAgICAgZVs1XSAgPSBjdDtcbiAgICAgICAgICAgIGVbNl0gID0gMDtcbiAgICAgICAgICAgIGVbN10gID0gMDtcblxuICAgICAgICAgICAgZVs4XSAgPSAwO1xuICAgICAgICAgICAgZVs5XSAgPSAwO1xuICAgICAgICAgICAgZVsxMF0gPSAtKGZhciArIG5lYXIpICogcmQ7XG4gICAgICAgICAgICBlWzExXSA9IC0xO1xuXG4gICAgICAgICAgICBlWzEyXSA9IDA7XG4gICAgICAgICAgICBlWzEzXSA9IDA7XG4gICAgICAgICAgICBlWzE0XSA9IC0yICogbmVhciAqIGZhciAqIHJkO1xuICAgICAgICAgICAgZVsxNV0gPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwZXJzcGVjdGl2ZSAoZm92eTogbnVtYmVyLCBhc3BlY3Q6bnVtYmVyLCBuZWFyOm51bWJlciwgZmFyOm51bWJlcik6TWF0cml4NHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlNYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRQZXJzcGVjdGl2ZShmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhcHBseU1hdHJpeCAob3RoZXI6TWF0cml4NCwgbm90Q2hhbmdlU2VsZjpib29sZWFuID0gZmFsc2UpOk1hdHJpeDR7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYiA9IG90aGVyLmNvcHkoKTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgYiph77yM6ICM5LiN5pivYSpiXG4gICAgICAgICAgICAg6L+Z5piv5Zug5Li65Zyod2ViZ2zkuK3vvIzlkJHph4/mmK/lj7PkuZjnmoTvvIxcbiAgICAgICAgICAgICDmraTlpITluIzmnJvlnZDmoIflkJHph4/lhYjov5vooYx0aGlzLnZhbHVlc+eahOWPmOaNou+8jOeEtuWQjui/m+ihjG90aGVyLnZhbHVlc+eahOWPmOaNou+8jOWboOatpOimgWIqYe+8jOS7juiAjOWcqOWPs+S5mOWQkemHj+aXtuS4umIqYSp2ZWNcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBpZihub3RDaGFuZ2VTZWxmKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5tdWx0aXBseShhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBiLm11bHRpcGx5KGEpLnZhbHVlcztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHkobWF0cml4Ok1hdHJpeDQpOk1hdHJpeDQ7XG4gICAgICAgIHB1YmxpYyBtdWx0aXBseShtYXRyaXgxOk1hdHJpeDQsIG1hdHJpeDI6TWF0cml4NCk6TWF0cml4NDtcblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHkoLi4uYXJncyk6TWF0cml4NCB7XG4gICAgICAgICAgICB2YXIgbWF0MSA9IG51bGwsXG4gICAgICAgICAgICAgICAgbWF0MiA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBtYXQxID0gdGhpcy52YWx1ZXM7XG4gICAgICAgICAgICAgICAgbWF0MiA9IGFyZ3NbMF0udmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbWF0MSA9IGFyZ3NbMF0udmFsdWVzO1xuICAgICAgICAgICAgICAgIG1hdDIgPSBhcmdzWzFdLnZhbHVlcztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYSA9IG1hdDFbMF0sIGIgPSBtYXQxWzFdLCBjID0gbWF0MVsyXSwgZCA9IG1hdDFbM10sXG4gICAgICAgICAgICAgICAgZSA9IG1hdDFbNF0sIGYgPSBtYXQxWzVdLCBnID0gbWF0MVs2XSwgaCA9IG1hdDFbN10sXG4gICAgICAgICAgICAgICAgaSA9IG1hdDFbOF0sIGogPSBtYXQxWzldLCBrID0gbWF0MVsxMF0sIGwgPSBtYXQxWzExXSxcbiAgICAgICAgICAgICAgICBtID0gbWF0MVsxMl0sIG4gPSBtYXQxWzEzXSwgbyA9IG1hdDFbMTRdLCBwID0gbWF0MVsxNV0sXG4gICAgICAgICAgICAgICAgQSA9IG1hdDJbMF0sIEIgPSBtYXQyWzFdLCBDID0gbWF0MlsyXSwgRCA9IG1hdDJbM10sXG4gICAgICAgICAgICAgICAgRSA9IG1hdDJbNF0sIEYgPSBtYXQyWzVdLCBHID0gbWF0Mls2XSwgSCA9IG1hdDJbN10sXG4gICAgICAgICAgICAgICAgSSA9IG1hdDJbOF0sIEogPSBtYXQyWzldLCBLID0gbWF0MlsxMF0sIEwgPSBtYXQyWzExXSxcbiAgICAgICAgICAgICAgICBNID0gbWF0MlsxMl0sIE4gPSBtYXQyWzEzXSwgTyA9IG1hdDJbMTRdLCBQID0gbWF0MlsxNV07XG5cbiAgICAgICAgICAgIHJlc3VsdFswXSA9IEEgKiBhICsgQiAqIGUgKyBDICogaSArIEQgKiBtO1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gQSAqIGIgKyBCICogZiArIEMgKiBqICsgRCAqIG47XG4gICAgICAgICAgICByZXN1bHRbMl0gPSBBICogYyArIEIgKiBnICsgQyAqIGsgKyBEICogbztcbiAgICAgICAgICAgIHJlc3VsdFszXSA9IEEgKiBkICsgQiAqIGggKyBDICogbCArIEQgKiBwO1xuICAgICAgICAgICAgcmVzdWx0WzRdID0gRSAqIGEgKyBGICogZSArIEcgKiBpICsgSCAqIG07XG4gICAgICAgICAgICByZXN1bHRbNV0gPSBFICogYiArIEYgKiBmICsgRyAqIGogKyBIICogbjtcbiAgICAgICAgICAgIHJlc3VsdFs2XSA9IEUgKiBjICsgRiAqIGcgKyBHICogayArIEggKiBvO1xuICAgICAgICAgICAgcmVzdWx0WzddID0gRSAqIGQgKyBGICogaCArIEcgKiBsICsgSCAqIHA7XG4gICAgICAgICAgICByZXN1bHRbOF0gPSBJICogYSArIEogKiBlICsgSyAqIGkgKyBMICogbTtcbiAgICAgICAgICAgIHJlc3VsdFs5XSA9IEkgKiBiICsgSiAqIGYgKyBLICogaiArIEwgKiBuO1xuICAgICAgICAgICAgcmVzdWx0WzEwXSA9IEkgKiBjICsgSiAqIGcgKyBLICogayArIEwgKiBvO1xuICAgICAgICAgICAgcmVzdWx0WzExXSA9IEkgKiBkICsgSiAqIGggKyBLICogbCArIEwgKiBwO1xuICAgICAgICAgICAgcmVzdWx0WzEyXSA9IE0gKiBhICsgTiAqIGUgKyBPICogaSArIFAgKiBtO1xuICAgICAgICAgICAgcmVzdWx0WzEzXSA9IE0gKiBiICsgTiAqIGYgKyBPICogaiArIFAgKiBuO1xuICAgICAgICAgICAgcmVzdWx0WzE0XSA9IE0gKiBjICsgTiAqIGcgKyBPICogayArIFAgKiBvO1xuICAgICAgICAgICAgcmVzdWx0WzE1XSA9IE0gKiBkICsgTiAqIGggKyBPICogbCArIFAgKiBwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVZlY3RvcjQodmVjdG9yOlZlY3RvcjQpOlZlY3RvcjQge1xuICAgICAgICAgICAgdmFyIG1hdDEgPSB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB2ZWM0ID0gdmVjdG9yLnZhbHVlcztcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgcmVzdWx0WzBdID0gdmVjNFswXSAqIG1hdDFbMF0gKyB2ZWM0WzFdICogbWF0MVs0XSArIHZlYzRbMl0gKiBtYXQxWzhdICsgdmVjNFszXSAqIG1hdDFbMTJdO1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gdmVjNFswXSAqIG1hdDFbMV0gKyB2ZWM0WzFdICogbWF0MVs1XSArIHZlYzRbMl0gKiBtYXQxWzldICsgdmVjNFszXSAqIG1hdDFbMTNdO1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gdmVjNFswXSAqIG1hdDFbMl0gKyB2ZWM0WzFdICogbWF0MVs2XSArIHZlYzRbMl0gKiBtYXQxWzEwXSArIHZlYzRbM10gKiBtYXQxWzE0XTtcbiAgICAgICAgICAgIHJlc3VsdFszXSA9IHZlYzRbMF0gKiBtYXQxWzNdICsgdmVjNFsxXSAqIG1hdDFbN10gKyB2ZWM0WzJdICogbWF0MVsxMV0gKyB2ZWM0WzNdICogbWF0MVsxNV07XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3I0LmNyZWF0ZShyZXN1bHRbMF0sIHJlc3VsdFsxXSwgcmVzdWx0WzJdLCByZXN1bHRbM10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5VmVjdG9yMyh2ZWN0b3I6VmVjdG9yMyk6VmVjdG9yMyB7XG4gICAgICAgICAgICB2YXIgbWF0MSA9IHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHZlYzMgPSB2ZWN0b3IudmFsdWVzO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICByZXN1bHRbMF0gPSB2ZWMzWzBdICogbWF0MVswXSArIHZlYzNbMV0gKiBtYXQxWzRdICsgdmVjM1syXSAqIG1hdDFbOF07XG4gICAgICAgICAgICByZXN1bHRbMV0gPSB2ZWMzWzBdICogbWF0MVsxXSArIHZlYzNbMV0gKiBtYXQxWzVdICsgdmVjM1syXSAqIG1hdDFbOV07XG4gICAgICAgICAgICByZXN1bHRbMl0gPSB2ZWMzWzBdICogbWF0MVsyXSArIHZlYzNbMV0gKiBtYXQxWzZdICsgdmVjM1syXSAqIG1hdDFbMTBdO1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUocmVzdWx0WzBdLCByZXN1bHRbMV0sIHJlc3VsdFsyXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHlQb2ludCh2ZWN0b3I6VmVjdG9yMyk6VmVjdG9yMyB7XG4gICAgICAgICAgICB2YXIgbWF0MSA9IHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHZlYzMgPSB2ZWN0b3IudmFsdWVzO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICByZXN1bHRbMF0gPSB2ZWMzWzBdICogbWF0MVswXSArIHZlYzNbMV0gKiBtYXQxWzRdICsgdmVjM1syXSAqIG1hdDFbOF0gKyBtYXQxWzEyXTtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IHZlYzNbMF0gKiBtYXQxWzFdICsgdmVjM1sxXSAqIG1hdDFbNV0gKyB2ZWMzWzJdICogbWF0MVs5XSArIG1hdDFbMTNdO1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gdmVjM1swXSAqIG1hdDFbMl0gKyB2ZWMzWzFdICogbWF0MVs2XSArIHZlYzNbMl0gKiBtYXQxWzEwXSArIG1hdDFbMTRdO1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUocmVzdWx0WzBdLCByZXN1bHRbMV0sIHJlc3VsdFsyXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOiBNYXRyaXg0e1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IE1hdHJpeDQuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1tpXSA9IHRoaXMudmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0WCgpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHRoaXMudmFsdWVzWzBdLCB0aGlzLnZhbHVlc1sxXSwgdGhpcy52YWx1ZXNbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFkoKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh0aGlzLnZhbHVlc1s0XSwgdGhpcy52YWx1ZXNbNV0sIHRoaXMudmFsdWVzWzZdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRaKCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUodGhpcy52YWx1ZXNbOF0sIHRoaXMudmFsdWVzWzldLCB0aGlzLnZhbHVlc1sxMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFRyYW5zbGF0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHRoaXMudmFsdWVzWzEyXSwgdGhpcy52YWx1ZXNbMTNdLCB0aGlzLnZhbHVlc1sxNF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFNjYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHRoaXMuZ2V0WCgpLmxlbmd0aCgpLCB0aGlzLmdldFkoKS5sZW5ndGgoKSwgdGhpcy5nZXRaKCkubGVuZ3RoKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFJvdGF0aW9uKCkge1xuICAgICAgICAgICAgLy9yZXR1cm4gUXVhdGVybmlvbi5jcmVhdGUoKS5zZXRGcm9tRXVsZXJBbmdsZXModGhpcy5nZXRFdWxlckFuZ2xlcygpKTtcbiAgICAgICAgICAgIHJldHVybiBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNldEZyb21NYXRyaXgodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RXVsZXJBbmdsZXMoKSB7XG4gICAgICAgICAgICB2YXIgeCwgeSwgeiwgc3gsIHN5LCBzeiwgbSwgaGFsZlBpO1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuXG4gICAgICAgICAgICBzeCA9IHNjYWxlLng7XG4gICAgICAgICAgICBzeSA9IHNjYWxlLnk7XG4gICAgICAgICAgICBzeiA9IHNjYWxlLno7XG5cbiAgICAgICAgICAgIG0gPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgeSA9IE1hdGguYXNpbigtbVsyXSAvIHN4KTtcbiAgICAgICAgICAgIGhhbGZQaSA9IE1hdGguUEkgKiAwLjU7XG5cbiAgICAgICAgICAgIGlmICh5IDwgaGFsZlBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHkgPiAtaGFsZlBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBNYXRoLmF0YW4yKG1bNl0gLyBzeSwgbVsxMF0gLyBzeik7XG4gICAgICAgICAgICAgICAgICAgIHogPSBNYXRoLmF0YW4yKG1bMV0gLyBzeCwgbVswXSAvIHN4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYSB1bmlxdWUgc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgeiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHggPSAtTWF0aC5hdGFuMihtWzRdIC8gc3ksIG1bNV0gLyBzeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOb3QgYSB1bmlxdWUgc29sdXRpb25cbiAgICAgICAgICAgICAgICB6ID0gMDtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5hdGFuMihtWzRdIC8gc3ksIG1bNV0gLyBzeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh4LCB5LCB6KS5zY2FsZShSQURfVE9fREVHKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0VFJTXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHRoZSBzcGVjaWZpZWQgbWF0cml4IHRvIHRoZSBjb25jYXRlbmF0aW9uIG9mIGEgdHJhbnNsYXRpb24sIGFcbiAgICAgICAgICogcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgYSBzY2FsZS5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSB0IEEgMy1kIHZlY3RvciB0cmFuc2xhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtRdWF0fSByIEEgcXVhdGVybmlvbiByb3RhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSBzIEEgMy1kIHZlY3RvciBzY2FsZS5cbiAgICAgICAgICogQHJldHVybnMge01hdDR9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgdCA9IG5ldyBWZWMzKDEwLCAyMCwgMzApO1xuICAgICAgICAgKiB2YXIgciA9IG5ldyBRdWF0KCk7XG4gICAgICAgICAqIHZhciBzID0gbmV3IFZlYzMoMiwgMiwgMik7XG4gICAgICAgICAqXG4gICAgICAgICAqIHZhciBtID0gbmV3IE1hdDQoKTtcbiAgICAgICAgICogbS5zZXRUUlModCwgciwgcyk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0VFJTKHQ6VmVjdG9yMywgcjpRdWF0ZXJuaW9uLCBzOlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciB0eCwgdHksIHR6LCBxeCwgcXksIHF6LCBxdywgc3gsIHN5LCBzeixcbiAgICAgICAgICAgICAgICB4MiwgeTIsIHoyLCB4eCwgeHksIHh6LCB5eSwgeXosIHp6LCB3eCwgd3ksIHd6LCBtO1xuXG4gICAgICAgICAgICB0eCA9IHQueDtcbiAgICAgICAgICAgIHR5ID0gdC55O1xuICAgICAgICAgICAgdHogPSB0Lno7XG5cbiAgICAgICAgICAgIHF4ID0gci54O1xuICAgICAgICAgICAgcXkgPSByLnk7XG4gICAgICAgICAgICBxeiA9IHIuejtcbiAgICAgICAgICAgIHF3ID0gci53O1xuXG4gICAgICAgICAgICBzeCA9IHMueDtcbiAgICAgICAgICAgIHN5ID0gcy55O1xuICAgICAgICAgICAgc3ogPSBzLno7XG5cbiAgICAgICAgICAgIHgyID0gcXggKyBxeDtcbiAgICAgICAgICAgIHkyID0gcXkgKyBxeTtcbiAgICAgICAgICAgIHoyID0gcXogKyBxejtcbiAgICAgICAgICAgIHh4ID0gcXggKiB4MjtcbiAgICAgICAgICAgIHh5ID0gcXggKiB5MjtcbiAgICAgICAgICAgIHh6ID0gcXggKiB6MjtcbiAgICAgICAgICAgIHl5ID0gcXkgKiB5MjtcbiAgICAgICAgICAgIHl6ID0gcXkgKiB6MjtcbiAgICAgICAgICAgIHp6ID0gcXogKiB6MjtcbiAgICAgICAgICAgIHd4ID0gcXcgKiB4MjtcbiAgICAgICAgICAgIHd5ID0gcXcgKiB5MjtcbiAgICAgICAgICAgIHd6ID0gcXcgKiB6MjtcblxuICAgICAgICAgICAgbSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICBtWzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gICAgICAgICAgICBtWzFdID0gKHh5ICsgd3opICogc3g7XG4gICAgICAgICAgICBtWzJdID0gKHh6IC0gd3kpICogc3g7XG4gICAgICAgICAgICBtWzNdID0gMDtcblxuICAgICAgICAgICAgbVs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICAgICAgICAgICAgbVs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICAgICAgICAgICAgbVs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICAgICAgICAgICAgbVs3XSA9IDA7XG5cbiAgICAgICAgICAgIG1bOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgICAgICAgICAgIG1bOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgICAgICAgICAgIG1bMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gICAgICAgICAgICBtWzExXSA9IDA7XG5cbiAgICAgICAgICAgIG1bMTJdID0gdHg7XG4gICAgICAgICAgICBtWzEzXSA9IHR5O1xuICAgICAgICAgICAgbVsxNF0gPSB0ejtcbiAgICAgICAgICAgIG1bMTVdID0gMTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBNYXRyaXgzIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUobWF0OkZsb2F0MzJBcnJheSk6TWF0cml4MztcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpNYXRyaXgzO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOk1hdHJpeDMge1xuICAgICAgICAgICAgdmFyIG0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBtID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG0gPSBuZXcgdGhpcyhhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihtYXQ6RmxvYXQzMkFycmF5KTtcbiAgICAgICAgY29uc3RydWN0b3IoKTtcblxuICAgICAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBhKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1swXTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYShhOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1swXSA9IGE7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgYygpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGMoYzpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSBjO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGIoKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzNdO1xuICAgICAgICB9XG4gICAgICAgIHNldCBiKGI6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzNdID0gYjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBkKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1s0XTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZChkOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1s0XSA9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdHgoKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzZdO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0eCh0eDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbNl0gPSB0eDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB0eSgpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbN107XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHR5KHR5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1s3XSA9IHR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHZhbHVlczpGbG9hdDMyQXJyYXkgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzZXRJZGVudGl0eSgpOk1hdHJpeDMge1xuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgZVswXSA9IDE7XG4gICAgICAgICAgICBlWzNdID0gMDtcbiAgICAgICAgICAgIGVbNl0gPSAwO1xuICAgICAgICAgICAgZVsxXSA9IDA7XG4gICAgICAgICAgICBlWzRdID0gMTtcbiAgICAgICAgICAgIGVbN10gPSAwO1xuICAgICAgICAgICAgZVsyXSA9IDA7XG4gICAgICAgICAgICBlWzVdID0gMDtcbiAgICAgICAgICAgIGVbOF0gPSAxO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbnZlcnQoKTpNYXRyaXgzIHtcbiAgICAgICAgICAgIHZhciBhMSA9IHRoaXMudmFsdWVzWzBdO1xuICAgICAgICAgICAgdmFyIGIxID0gdGhpcy52YWx1ZXNbMV07XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLnZhbHVlc1szXTtcbiAgICAgICAgICAgIHZhciBkMSA9IHRoaXMudmFsdWVzWzRdO1xuICAgICAgICAgICAgdmFyIHR4MSA9IHRoaXMudmFsdWVzWzZdO1xuICAgICAgICAgICAgdmFyIHR5MSA9IHRoaXMudmFsdWVzWzddO1xuICAgICAgICAgICAgdmFyIG4gPSBhMSpkMS1iMSpjMTtcblxuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSBkMS9uO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbMV0gPSAtYjEvbjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzWzNdID0gLWMxL247XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1s0XSA9IGExL247XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1s2XSA9IChjMSp0eTEtZDEqdHgxKS9uO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbN10gPSAtKGExKnR5MS1iMSp0eDEpL247XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5U2NhbGFyKHM6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgdGUgPSB0aGlzLnZhbHVlcztcblxuICAgICAgICAgICAgdGVbMF0gKj0gcztcbiAgICAgICAgICAgIHRlWzNdICo9IHM7XG4gICAgICAgICAgICB0ZVs2XSAqPSBzO1xuICAgICAgICAgICAgdGVbMV0gKj0gcztcbiAgICAgICAgICAgIHRlWzRdICo9IHM7XG4gICAgICAgICAgICB0ZVs3XSAqPSBzO1xuICAgICAgICAgICAgdGVbMl0gKj0gcztcbiAgICAgICAgICAgIHRlWzVdICo9IHM7XG4gICAgICAgICAgICB0ZVs4XSAqPSBzO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVZlY3RvcjIoIHZlY3RvcjpWZWN0b3IyICkge1xuICAgICAgICAgICAgdmFyIHggPSB2ZWN0b3IueCxcbiAgICAgICAgICAgICAgICB5ID0gdmVjdG9yLnksXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gVmVjdG9yMi5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJlc3VsdC54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHk7XG4gICAgICAgICAgICByZXN1bHQueSA9IGVbIDEgXSAqIHggKyBlWyA0IF0gKiB5O1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG11bHRpcGx5UG9pbnQoIHZlY3RvcjpWZWN0b3IyICkge1xuICAgICAgICAgICAgdmFyIHggPSB2ZWN0b3IueCxcbiAgICAgICAgICAgICAgICB5ID0gdmVjdG9yLnksXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gVmVjdG9yMi5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBlID0gdGhpcy52YWx1ZXM7XG5cbiAgICAgICAgICAgIHJlc3VsdC54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHkgKyB0aGlzLnR4O1xuICAgICAgICAgICAgcmVzdWx0LnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeSArIHRoaXMudHk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHkobWF0cml4Ok1hdHJpeDMpIHtcbiAgICAgICAgICAgIHZhciBtMTEgPSB0aGlzLmEgKiBtYXRyaXguYSArIHRoaXMuYyAqIG1hdHJpeC5iO1xuICAgICAgICAgICAgdmFyIG0xMiA9IHRoaXMuYiAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmI7XG5cbiAgICAgICAgICAgIHZhciBtMjEgPSB0aGlzLmEgKiBtYXRyaXguYyArIHRoaXMuYyAqIG1hdHJpeC5kO1xuICAgICAgICAgICAgdmFyIG0yMiA9IHRoaXMuYiAqIG1hdHJpeC5jICsgdGhpcy5kICogbWF0cml4LmQ7XG5cbiAgICAgICAgICAgIHZhciBkeCA9IHRoaXMuYSAqIG1hdHJpeC50eCArIHRoaXMuYyAqIG1hdHJpeC50eSArIHRoaXMudHg7XG4gICAgICAgICAgICB2YXIgZHkgPSB0aGlzLmIgKiBtYXRyaXgudHggKyB0aGlzLmQgKiBtYXRyaXgudHkgKyB0aGlzLnR5O1xuXG4gICAgICAgICAgICB0aGlzLmEgPSBtMTE7XG4gICAgICAgICAgICB0aGlzLmIgPSBtMTI7XG4gICAgICAgICAgICB0aGlzLmMgPSBtMjE7XG4gICAgICAgICAgICB0aGlzLmQgPSBtMjI7XG4gICAgICAgICAgICB0aGlzLnR4ID0gZHg7XG4gICAgICAgICAgICB0aGlzLnR5ID0gZHk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRyYW5zcG9zZSgpOk1hdHJpeDMge1xuICAgICAgICAgICAgdmFyIHRtcCwgbSA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICB0bXAgPSBtWzFdO1xuICAgICAgICAgICAgbVsxXSA9IG1bM107XG4gICAgICAgICAgICBtWzNdID0gdG1wO1xuICAgICAgICAgICAgdG1wID0gbVsyXTtcbiAgICAgICAgICAgIG1bMl0gPSBtWzZdO1xuICAgICAgICAgICAgbVs2XSA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IG1bNV07XG4gICAgICAgICAgICBtWzVdID0gbVs3XTtcbiAgICAgICAgICAgIG1bN10gPSB0bXA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0cml4My5jcmVhdGUoKS5zZXQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0KG1hdHJpeDpNYXRyaXgzKSB7XG4gICAgICAgICAgICB2YXIgdGUgPSB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBtYXRyaXgudmFsdWVzO1xuXG4gICAgICAgICAgICB0ZVsgMCBdID0gdmFsdWVzWzBdOyB0ZVsgMyBdID0gdmFsdWVzWzNdOyB0ZVsgNiBdID0gdmFsdWVzWzZdO1xuICAgICAgICAgICAgdGVbIDEgXSA9IHZhbHVlc1sxXTsgdGVbIDQgXSA9IHZhbHVlc1s0XTsgdGVbIDcgXSA9IHZhbHVlc1s3XTtcbiAgICAgICAgICAgIHRlWyAyIF0gPSB2YWx1ZXNbMl07IHRlWyA1IF0gPSB2YWx1ZXNbNV07IHRlWyA4IF0gPSB2YWx1ZXNbOF07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFRTKHQ6VmVjdG9yMiwgczpWZWN0b3IyKXtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24odC54LCB0LnkpO1xuICAgICAgICAgICAgdGhpcy5zZXRTY2FsZShzLngsIHMueSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcm90YXRlKGFuZ2xlOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIHJhZCA9IGFuZ2xlICogREVHX1RPX1JBRDtcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgICAgICAgICAgIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgICAgICAgIHZhciBtMTEgPSB0aGlzLmEgKiBjICsgdGhpcy5jICogcztcbiAgICAgICAgICAgIHZhciBtMTIgPSB0aGlzLmIgKiBjICsgdGhpcy5kICogcztcbiAgICAgICAgICAgIHZhciBtMjEgPSB0aGlzLmEgKiAtcyArIHRoaXMuYyAqIGM7XG4gICAgICAgICAgICB2YXIgbTIyID0gdGhpcy5iICogLXMgKyB0aGlzLmQgKiBjO1xuICAgICAgICAgICAgdGhpcy5hID0gbTExO1xuICAgICAgICAgICAgdGhpcy5iID0gbTEyO1xuICAgICAgICAgICAgdGhpcy5jID0gbTIxO1xuICAgICAgICAgICAgdGhpcy5kID0gbTIyO1xuXG4gICAgICAgICAgICAvL3ZhciByYWQgPSBhbmdsZSAqIERFR19UT19SQUQ7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YXIgY29zX2EgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgICAgICAgLy92YXIgc2luX2EgPSBNYXRoLnNpbihyYWQpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhciBtMDAgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICAvL3ZhciBtMTAgPSB2YWx1ZXNbMV07XG4gICAgICAgICAgICAvL3ZhciBtMjAgPSB2YWx1ZXNbMl07XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YXIgbTAxID0gdmFsdWVzWzNdO1xuICAgICAgICAgICAgLy92YXIgbTExID0gdmFsdWVzWzRdO1xuICAgICAgICAgICAgLy92YXIgbTIxID0gdmFsdWVzWzVdO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFyIG0wMiA9IHZhbHVlc1s2XTtcbiAgICAgICAgICAgIC8vdmFyIG0xMiA9IHZhbHVlc1s3XTtcbiAgICAgICAgICAgIC8vdmFyIG0yMiA9IHZhbHVlc1s4XTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhbHVlc1swXSA9IGNvc19hICogbTAwIC0gc2luX2EgKiBtMTA7XG4gICAgICAgICAgICAvL3ZhbHVlc1sxXSA9IHNpbl9hICogbTAwICsgY29zX2EgKiBtMTA7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YWx1ZXNbM10gPSBjb3NfYSAqIG0wMSAtIHNpbl9hICogbTExO1xuICAgICAgICAgICAgLy92YWx1ZXNbNF0gPSBzaW5fYSAqIG0wMSArIGNvc19hICogbTExO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFsdWVzWzZdID0gY29zX2EgKiBtMDIgLSBzaW5fYSAqIG0xMjtcbiAgICAgICAgICAgIC8vdmFsdWVzWzddID0gc2luX2EgKiBtMDIgKyBjb3NfYSAqIG0xMjtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0Um90YXRpb24oYW5nbGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciByYWQgPSBhbmdsZSAqIERFR19UT19SQUQ7XG5cbiAgICAgICAgICAgIHZhciBjb3NfYSA9IE1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBNYXRoLnNpbihyYWQpO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICAvL3ZhbHVlc1swXSA9IGNvc19hO1xuICAgICAgICAgICAgLy92YWx1ZXNbMV0gPSBzaW5fYTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL3ZhbHVlc1szXSA9IC1zaW5fYTtcbiAgICAgICAgICAgIC8vdmFsdWVzWzRdID0gY29zX2E7XG4gICAgICAgICAgICB2YWx1ZXNbMF0gPSBjb3NfYTtcbiAgICAgICAgICAgIHZhbHVlc1sxXSA9IC1zaW5fYTtcblxuICAgICAgICAgICAgdmFsdWVzWzNdID0gc2luX2E7XG4gICAgICAgICAgICB2YWx1ZXNbNF0gPSBjb3NfYTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHg6bnVtYmVyLCB5Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy50eCArPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeTtcbiAgICAgICAgICAgIHRoaXMudHkgKz0gdGhpcy5iICogeCArIHRoaXMuZCAqIHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0UG9zaXRpb24oeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMudHggPSB4O1xuICAgICAgICAgICAgdGhpcy50eSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2NhbGUoeDpudW1iZXIsIHk6bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgICAgIHRoaXMuYiAqPSB4O1xuICAgICAgICAgICAgdGhpcy5jICo9IHk7XG4gICAgICAgICAgICB0aGlzLmQgKj0geTtcblxuICAgICAgICAgICAgLy92YXIgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy92YWx1ZXNbMF0gKj0geDtcbiAgICAgICAgICAgIC8vdmFsdWVzWzFdICo9IHg7XG4gICAgICAgICAgICAvL3ZhbHVlc1syXSAqPSB4O1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vdmFsdWVzWzNdICo9IHk7XG4gICAgICAgICAgICAvL3ZhbHVlc1s0XSAqPSB5O1xuICAgICAgICAgICAgLy92YWx1ZXNbNV0gKj0geTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTY2FsZSh4Om51bWJlciwgeTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuXG4gICAgICAgICAgICB2YWx1ZXNbMF0gPSB4O1xuICAgICAgICAgICAgdmFsdWVzWzRdID0geTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0VHJhbnNsYXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSh0aGlzLnR4LCB0aGlzLnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTY2FsZSgpe1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjIuY3JlYXRlKFxuICAgICAgICAgICAgICAgIE1hdGguc3FydCh0aGlzLmEgKiB0aGlzLmEgKyB0aGlzLmIgKiB0aGlzLmIpLFxuICAgICAgICAgICAgICAgIE1hdGguc3FydCh0aGlzLmMgKiB0aGlzLmMgKyB0aGlzLmQgKiB0aGlzLmQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFJvdGF0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2tld1goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTa2V3KCl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0U2tld1goKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRTa2V3WSgpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0RGVsdGFUcmFuc2Zvcm1Qb2ludChtYXRyaXg6TWF0cml4MywgcG9pbnQ6e3g6bnVtYmVyLCB5Om51bWJlcn0pICB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKiBtYXRyaXguYSArIHBvaW50LnkgKiBtYXRyaXguYyArIDAsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueCAqIG1hdHJpeC5iICsgcG9pbnQueSAqIG1hdHJpeC5kICsgMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFNrZXdYKCl7XG4gICAgICAgICAgICB2YXIgcHggPSB0aGlzLl9nZXREZWx0YVRyYW5zZm9ybVBvaW50KHRoaXMsIHt4OiAwLCB5OiAxfSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoKDE4MCAvIE1hdGguUEkpICogTWF0aC5hdGFuMihweC55LCBweC54KSAtIDkwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFNrZXdZKCl7XG4gICAgICAgICAgICB2YXIgcHkgPSB0aGlzLl9nZXREZWx0YVRyYW5zZm9ybVBvaW50KHRoaXMsIHsgeDogMSwgeTogMCB9KTtcblxuICAgICAgICAgICAgcmV0dXJuICgoMTgwIC8gTWF0aC5QSSkgKiBNYXRoLmF0YW4yKHB5LnksIHB5LngpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBRdWF0ZXJuaW9uIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoeD86bnVtYmVyLCB5PzpudW1iZXIsIHo/Om51bWJlciwgdz86bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoeCwgeSwgeiwgdyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih4Om51bWJlciA9IDAsIHk6bnVtYmVyID0gMCwgejpudW1iZXIgPSAwLCB3Om51bWJlciA9IDEpIHtcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgeDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgeTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgejpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdzpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0RnJvbUV1bGVyQW5nbGVzXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGEgcXVhdGVybmlvbiBmcm9tIEV1bGVyIGFuZ2xlcyBzcGVjaWZpZWQgaW4gWFlaIG9yZGVyLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXggQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV5IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWSBheGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBleiBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFogYXhpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKiBAcmV0dXJucyB7UXVhdH0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHZhciBxID0gbmV3IFF1YXQoKTtcbiAgICAgICAgICogcS5zZXRGcm9tRXVsZXJBbmdsZXMoNDUsIDkwLCAxODApO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldEZyb21FdWxlckFuZ2xlcyhldWxlckFuZ2xlczpWZWN0b3IzKSB7XG4gICAgICAgICAgICB2YXIgc3gsIGN4LCBzeSwgY3ksIHN6LCBjeiwgaGFsZlRvUmFkLFxuICAgICAgICAgICAgICAgIGV4ID0gZXVsZXJBbmdsZXMueCxcbiAgICAgICAgICAgICAgICBleSA9IGV1bGVyQW5nbGVzLnksXG4gICAgICAgICAgICAgICAgZXogPSBldWxlckFuZ2xlcy56O1xuXG4gICAgICAgICAgICBoYWxmVG9SYWQgPSAwLjUgKiBERUdfVE9fUkFEO1xuICAgICAgICAgICAgZXggKj0gaGFsZlRvUmFkO1xuICAgICAgICAgICAgZXkgKj0gaGFsZlRvUmFkO1xuICAgICAgICAgICAgZXogKj0gaGFsZlRvUmFkO1xuXG4gICAgICAgICAgICBzeCA9IE1hdGguc2luKGV4KTtcbiAgICAgICAgICAgIGN4ID0gTWF0aC5jb3MoZXgpO1xuICAgICAgICAgICAgc3kgPSBNYXRoLnNpbihleSk7XG4gICAgICAgICAgICBjeSA9IE1hdGguY29zKGV5KTtcbiAgICAgICAgICAgIHN6ID0gTWF0aC5zaW4oZXopO1xuICAgICAgICAgICAgY3ogPSBNYXRoLmNvcyhleik7XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcbiAgICAgICAgICAgIHRoaXMueSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcbiAgICAgICAgICAgIHRoaXMueiA9IGN4ICogY3kgKiBzeiAtIHN4ICogc3kgKiBjejtcbiAgICAgICAgICAgIHRoaXMudyA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbXVsdGlwbHkocmhzOlF1YXRlcm5pb24pO1xuICAgICAgICBwdWJsaWMgbXVsdGlwbHkocmhzMTpRdWF0ZXJuaW9uLCByaHMyOlF1YXRlcm5pb24pO1xuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseSguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgcTF4LCBxMXksIHExeiwgcTF3LCBxMngsIHEyeSwgcTJ6LCBxMncsXG4gICAgICAgICAgICAgICAgcmhzMSwgcmhzMixcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgcmhzMSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmhzMiA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICByaHMxID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICByaHMyID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcTF4ID0gcmhzMS54O1xuICAgICAgICAgICAgcTF5ID0gcmhzMS55O1xuICAgICAgICAgICAgcTF6ID0gcmhzMS56O1xuICAgICAgICAgICAgcTF3ID0gcmhzMS53O1xuXG4gICAgICAgICAgICBxMnggPSByaHMyLng7XG4gICAgICAgICAgICBxMnkgPSByaHMyLnk7XG4gICAgICAgICAgICBxMnogPSByaHMyLno7XG4gICAgICAgICAgICBxMncgPSByaHMyLnc7XG5cbiAgICAgICAgICAgIHJlc3VsdC54ID0gcTF3ICogcTJ4ICsgcTF4ICogcTJ3ICsgcTF5ICogcTJ6IC0gcTF6ICogcTJ5O1xuICAgICAgICAgICAgcmVzdWx0LnkgPSBxMXcgKiBxMnkgKyBxMXkgKiBxMncgKyBxMXogKiBxMnggLSBxMXggKiBxMno7XG4gICAgICAgICAgICByZXN1bHQueiA9IHExdyAqIHEyeiArIHExeiAqIHEydyArIHExeCAqIHEyeSAtIHExeSAqIHEyeDtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gcTF3ICogcTJ3IC0gcTF4ICogcTJ4IC0gcTF5ICogcTJ5IC0gcTF6ICogcTJ6O1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBzZXRGcm9tTWF0NFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCA0eDQgbWF0cml4IHRvIGEgcXVhdGVybmlvbi4gTm90ZSB0aGF0IHNpbmNlXG4gICAgICAgICAqIGEgcXVhdGVybmlvbiBpcyBwdXJlbHkgYSByZXByZXNlbnRhdGlvbiBmb3Igb3JpZW50YXRpb24sIG9ubHkgdGhlIHRyYW5zbGF0aW9uYWwgcGFydFxuICAgICAgICAgKiBvZiB0aGUgbWF0cml4IGlzIGxvc3QuXG4gICAgICAgICAqIEBwYXJhbSB7TWF0NH0gbSBUaGUgNHg0IG1hdHJpeCB0byBjb252ZXJ0LlxuICAgICAgICAgKiBAcmV0dXJucyB7UXVhdH0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIENyZWF0ZSBhIDR4NCByb3RhdGlvbiBtYXRyaXggb2YgMTgwIGRlZ3JlZXMgYXJvdW5kIHRoZSB5LWF4aXNcbiAgICAgICAgICogdmFyIHJvdCA9IG5ldyBNYXQ0KCkuc2V0RnJvbUF4aXNBbmdsZShWZWMzLlVQLCAxODApO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBDb252ZXJ0IHRvIGEgcXVhdGVybmlvblxuICAgICAgICAgKiB2YXIgcSA9IG5ldyBRdWF0KCkuc2V0RnJvbU1hdDQocm90KTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRGcm9tTWF0cml4KG1hdHJpeDpNYXRyaXg0KSB7XG4gICAgICAgICAgICB2YXIgbTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMixcbiAgICAgICAgICAgICAgICB0ciwgcywgcnMsIGx4LCBseSwgbHosIG07XG5cbiAgICAgICAgICAgIG0gPSBtYXRyaXgudmFsdWVzO1xuXG4gICAgICAgICAgICAvLyBDYWNoZSBtYXRyaXggdmFsdWVzIGZvciBzdXBlci1zcGVlZFxuICAgICAgICAgICAgbTAwID0gbVswXTtcbiAgICAgICAgICAgIG0wMSA9IG1bMV07XG4gICAgICAgICAgICBtMDIgPSBtWzJdO1xuICAgICAgICAgICAgbTEwID0gbVs0XTtcbiAgICAgICAgICAgIG0xMSA9IG1bNV07XG4gICAgICAgICAgICBtMTIgPSBtWzZdO1xuICAgICAgICAgICAgbTIwID0gbVs4XTtcbiAgICAgICAgICAgIG0yMSA9IG1bOV07XG4gICAgICAgICAgICBtMjIgPSBtWzEwXTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzY2FsZSBmcm9tIHRoZSBtYXRyaXhcbiAgICAgICAgICAgIGx4ID0gMSAvIE1hdGguc3FydChtMDAgKiBtMDAgKyBtMDEgKiBtMDEgKyBtMDIgKiBtMDIpO1xuICAgICAgICAgICAgbHkgPSAxIC8gTWF0aC5zcXJ0KG0xMCAqIG0xMCArIG0xMSAqIG0xMSArIG0xMiAqIG0xMik7XG4gICAgICAgICAgICBseiA9IDEgLyBNYXRoLnNxcnQobTIwICogbTIwICsgbTIxICogbTIxICsgbTIyICogbTIyKTtcblxuICAgICAgICAgICAgbTAwICo9IGx4O1xuICAgICAgICAgICAgbTAxICo9IGx4O1xuICAgICAgICAgICAgbTAyICo9IGx4O1xuICAgICAgICAgICAgbTEwICo9IGx5O1xuICAgICAgICAgICAgbTExICo9IGx5O1xuICAgICAgICAgICAgbTEyICo9IGx5O1xuICAgICAgICAgICAgbTIwICo9IGx6O1xuICAgICAgICAgICAgbTIxICo9IGx6O1xuICAgICAgICAgICAgbTIyICo9IGx6O1xuXG4gICAgICAgICAgICAvLyBodHRwOi8vd3d3LmNzLnVjci5lZHUvfnZiei9yZXNvdXJjZXMvcXVhdHV0LnBkZlxuXG4gICAgICAgICAgICB0ciA9IG0wMCArIG0xMSArIG0yMjtcbiAgICAgICAgICAgIGlmICh0ciA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcyA9IE1hdGguc3FydCh0ciArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudyA9IHMgKiAwLjU7XG4gICAgICAgICAgICAgICAgcyA9IDAuNSAvIHM7XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gKG0xMiAtIG0yMSkgKiBzO1xuICAgICAgICAgICAgICAgIHRoaXMueSA9IChtMjAgLSBtMDIpICogcztcbiAgICAgICAgICAgICAgICB0aGlzLnogPSAobTAxIC0gbTEwKSAqIHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtMDAgPiBtMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0wMCA+IG0yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gWERpYWdEb21NYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzID0gKG0wMCAtIChtMTEgKyBtMjIpKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBycyA9IE1hdGguc3FydChycyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IHJzICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgcnMgPSAwLjUgLyBycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudyA9IChtMTIgLSBtMjEpICogcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSAobTAxICsgbTEwKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56ID0gKG0wMiArIG0yMCkgKiBycztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpEaWFnRG9tTWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICBycyA9IChtMjIgLSAobTAwICsgbTExKSkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnMgPSBNYXRoLnNxcnQocnMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnogPSBycyAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzID0gMC41IC8gcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLncgPSAobTAxIC0gbTEwKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0gKG0yMCArIG0wMikgKiBycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IChtMjEgKyBtMTIpICogcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBZRGlhZ0RvbU1hdHJpeFxuICAgICAgICAgICAgICAgICAgICBycyA9IChtMTEgLSAobTIyICsgbTAwKSkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBycyA9IE1hdGguc3FydChycyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gcnMgKiAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHJzID0gMC41IC8gcnM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudyA9IChtMjAgLSBtMDIpICogcnM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueiA9IChtMTIgKyBtMjEpICogcnM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IChtMTAgKyBtMDEpICogcnM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWkRpYWdEb21NYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgcnMgPSAobTIyIC0gKG0wMCArIG0xMSkpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgcnMgPSBNYXRoLnNxcnQocnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueiA9IHJzICogMC41O1xuICAgICAgICAgICAgICAgICAgICBycyA9IDAuNSAvIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLncgPSAobTAxIC0gbTEwKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSAobTIwICsgbTAyKSAqIHJzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSAobTIxICsgbTEyKSAqIHJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldEZyb21BeGlzQW5nbGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgYSBxdWF0ZXJuaW9uIGZyb20gYW4gYW5ndWxhciByb3RhdGlvbiBhcm91bmQgYW4gYXhpcy5cbiAgICAgICAgICogQHBhcmFtIHtWZWMzfSBheGlzIFdvcmxkIHNwYWNlIGF4aXMgYXJvdW5kIHdoaWNoIHRvIHJvdGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgdGhlIGdpdmVuIGF4aXMgaW4gZGVncmVlcy5cbiAgICAgICAgICogQHJldHVybnMge1F1YXR9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgcSA9IG5ldyBRdWF0KCk7XG4gICAgICAgICAqIHEuc2V0RnJvbUF4aXNBbmdsZShWZWMzLlVQLCA5MCk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0RnJvbUF4aXNBbmdsZShhbmdsZTpudW1iZXIsIGF4aXM6VmVjdG9yMykge1xuICAgICAgICAgICAgdmFyIHNhLCBjYTtcblxuICAgICAgICAgICAgYXhpcyA9IGF4aXMubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIGFuZ2xlICo9IDAuNSAqIERFR19UT19SQUQ7XG5cbiAgICAgICAgICAgIHNhID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgY2EgPSBNYXRoLmNvcyhhbmdsZSk7XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHNhICogYXhpcy54O1xuICAgICAgICAgICAgdGhpcy55ID0gc2EgKiBheGlzLnk7XG4gICAgICAgICAgICB0aGlzLnogPSBzYSAqIGF4aXMuejtcbiAgICAgICAgICAgIHRoaXMudyA9IGNhO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgaW52ZXJ0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBHZW5lcmF0ZXMgdGhlIGludmVyc2Ugb2YgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7UXVhdH0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIENyZWF0ZSBhIHF1YXRlcm5pb24gcm90YXRlZCAxODAgZGVncmVlcyBhcm91bmQgdGhlIHktYXhpc1xuICAgICAgICAgKiB2YXIgcm90ID0gbmV3IFF1YXQoKS5zZXRGcm9tRXVsZXJBbmdsZXMoMCwgMTgwLCAwKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gSW52ZXJ0IGluIHBsYWNlXG4gICAgICAgICAqIHJvdC5pbnZlcnQoKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBpbnZlcnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25qdWdhdGUoKS5ub3JtYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb25qdWdhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnggKj0gLTE7XG4gICAgICAgICAgICB0aGlzLnkgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLnogKj0gLTE7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhbiBpZGVudGljYWwgY29weSBvZiB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtRdWF0fSBBIHF1YXRlcm5pb24gY29udGFpbmluZyB0aGUgcmVzdWx0IG9mIHRoZSBjbG9uaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgcSA9IG5ldyBRdWF0KC0wLjExLCAtMC4xNSwgLTAuNDYsIDAuODcpO1xuICAgICAgICAgKiB2YXIgcWNsb25lID0gcS5jbG9uZSgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBjb25zb2xlLmxvZyhcIlRoZSByZXN1bHQgb2YgdGhlIGNsb25pbmcgaXM6IFwiICsgcS50b1N0cmluZygpKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjbG9uZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBRdWF0ZXJuaW9uLmNyZWF0ZSh0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5jcmVhdGUodGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgbm9ybWFsaXplXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbiBjb252ZXJ0ZWQgaW4gcGxhY2UgdG8gYSB1bml0IHF1YXRlcm5pb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtRdWF0fSBUaGUgcmVzdWx0IG9mIHRoZSBub3JtYWxpemF0aW9uLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgdiA9IG5ldyBRdWF0KDAsIDAsIDAsIDUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiB2Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBTaG91bGQgb3V0cHV0IDAsIDAsIDAsIDFcbiAgICAgICAgICogY29uc29sZS5sb2coXCJUaGUgcmVzdWx0IG9mIHRoZSB2ZWN0b3Igbm9ybWFsaXphdGlvbiBpczogXCIgKyB2LnRvU3RyaW5nKCkpO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIG5vcm1hbGl6ZSgpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCgpO1xuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy53ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVuID0gMSAvIGxlbjtcbiAgICAgICAgICAgICAgICB0aGlzLnggKj0gbGVuO1xuICAgICAgICAgICAgICAgIHRoaXMueSAqPSBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy56ICo9IGxlbjtcbiAgICAgICAgICAgICAgICB0aGlzLncgKj0gbGVuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgbGVuZ3RoXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRoZSBtYWduaXR1ZGUgb2YgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbWFnbml0dWRlIG9mIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHEgPSBuZXcgUXVhdCgwLCAwLCAwLCA1KTtcbiAgICAgICAgICogdmFyIGxlbiA9IHEubGVuZ3RoKCk7XG4gICAgICAgICAqIC8vIFNob3VsZCBvdXRwdXQgNVxuICAgICAgICAgKiBjb25zb2xlLmxvZyhcIlRoZSBsZW5ndGggb2YgdGhlIHF1YXRlcm5pb24gaXM6IFwiICsgbGVuKTtcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBsZW5ndGgoKSB7XG4gICAgICAgICAgICB2YXIgeCwgeSwgeiwgdztcblxuICAgICAgICAgICAgeCA9IHRoaXMueDtcbiAgICAgICAgICAgIHkgPSB0aGlzLnk7XG4gICAgICAgICAgICB6ID0gdGhpcy56O1xuICAgICAgICAgICAgdyA9IHRoaXMudztcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBtdWx0aXBseVZlY3RvcjModmVjdG9yOlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciBxID0gdGhpcztcbiAgICAgICAgICAgIHZhciB4ID0gdmVjdG9yLng7XG4gICAgICAgICAgICB2YXIgeSA9IHZlY3Rvci55O1xuICAgICAgICAgICAgdmFyIHogPSB2ZWN0b3IuejtcblxuICAgICAgICAgICAgdmFyIHF4ID0gcS54O1xuICAgICAgICAgICAgdmFyIHF5ID0gcS55O1xuICAgICAgICAgICAgdmFyIHF6ID0gcS56O1xuICAgICAgICAgICAgdmFyIHF3ID0gcS53O1xuXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3RvclxuXG4gICAgICAgICAgICB2YXIgaXggPSAgcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgICAgICAgICAgdmFyIGl5ID0gIHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgICAgICAgICAgIHZhciBpeiA9ICBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gICAgICAgICAgICB2YXIgaXcgPSAtIHF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgaXggKiBxdyArIGl3ICogLSBxeCArIGl5ICogLSBxeiAtIGl6ICogLSBxeSxcbiAgICAgICAgICAgICAgICBpeSAqIHF3ICsgaXcgKiAtIHF5ICsgaXogKiAtIHF4IC0gaXggKiAtIHF6LFxuICAgICAgICAgICAgICAgIGl6ICogcXcgKyBpdyAqIC0gcXogKyBpeCAqIC0gcXkgLSBpeSAqIC0gcXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0KHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3ViKHF1YXQ6UXVhdGVybmlvbil7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcXVhdC5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHkodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0KHJlc3VsdC54LCByZXN1bHQueSwgcmVzdWx0LnosIHJlc3VsdC53KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGdldEV1bGVyQW5nbGVzXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3VwcGxpZWQgcXVhdGVybmlvbiB0byBFdWxlciBhbmdsZXMuXG4gICAgICAgICAqIEBwYXJhbSB7VmVjM30gW2V1bGVyc10gVGhlIDMtZGltZW5zaW9uYWwgdmVjdG9yIHRvIHJlY2VpdmUgdGhlIEV1bGVyIGFuZ2xlcy5cbiAgICAgICAgICogQHJldHVybnMge1ZlYzN9IFRoZSAzLWRpbWVuc2lvbmFsIHZlY3RvciBob2xkaW5nIHRoZSBFdWxlciBhbmdsZXMgdGhhdFxuICAgICAgICAgKiBjb3JyZXNwb25kIHRvIHRoZSBzdXBwbGllZCBxdWF0ZXJuaW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGdldEV1bGVyQW5nbGVzKCkge1xuICAgICAgICAgICAgdmFyIHgsIHksIHosIHF4LCBxeSwgcXosIHF3LCBhMjtcblxuICAgICAgICAgICAgcXggPSB0aGlzLng7XG4gICAgICAgICAgICBxeSA9IHRoaXMueTtcbiAgICAgICAgICAgIHF6ID0gdGhpcy56O1xuICAgICAgICAgICAgcXcgPSB0aGlzLnc7XG5cbiAgICAgICAgICAgIGEyID0gMiAqIChxdyAqIHF5IC0gcXggKiBxeik7XG4gICAgICAgICAgICBpZiAoYTIgPD0gLTAuOTk5OTkpIHtcbiAgICAgICAgICAgICAgICB4ID0gMiAqIE1hdGguYXRhbjIocXgsIHF3KTtcbiAgICAgICAgICAgICAgICB5ID0gLU1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIHogPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhMiA+PSAwLjk5OTk5KSB7XG4gICAgICAgICAgICAgICAgeCA9IDIgKiBNYXRoLmF0YW4yKHF4LCBxdyk7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIHogPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5hdGFuMigyICogKHF3ICogcXggKyBxeSAqIHF6KSwgMSAtIDIgKiAocXggKiBxeCArIHF5ICogcXkpKTtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5hc2luKGEyKTtcbiAgICAgICAgICAgICAgICB6ID0gTWF0aC5hdGFuMigyICogKHF3ICogcXogKyBxeCAqIHF5KSwgMSAtIDIgKiAocXkgKiBxeSArIHF6ICogcXopKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHgsIHksIHopLnNjYWxlKFJBRF9UT19ERUcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNsZXJwKGxlZnQ6IFF1YXRlcm5pb24sIHJpZ2h0OiBRdWF0ZXJuaW9uLCBhbW91bnQ6IG51bWJlcik6IFF1YXRlcm5pb24ge1xuICAgICAgICAgICAgdmFyIG51bTI7XG4gICAgICAgICAgICB2YXIgbnVtMztcbiAgICAgICAgICAgIHZhciBudW0gPSBhbW91bnQ7XG4gICAgICAgICAgICB2YXIgbnVtNCA9ICgoKGxlZnQueCAqIHJpZ2h0LngpICsgKGxlZnQueSAqIHJpZ2h0LnkpKSArIChsZWZ0LnogKiByaWdodC56KSkgKyAobGVmdC53ICogcmlnaHQudyk7XG4gICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAobnVtNCA8IDApIHtcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBudW00ID0gLW51bTQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChudW00ID4gMC45OTk5OTkpIHtcbiAgICAgICAgICAgICAgICBudW0zID0gMSAtIG51bTtcbiAgICAgICAgICAgICAgICBudW0yID0gZmxhZyA/IC1udW0gOiBudW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtNSA9IE1hdGguYWNvcyhudW00KTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtNiA9ICgxLjAgLyBNYXRoLnNpbihudW01KSk7XG4gICAgICAgICAgICAgICAgbnVtMyA9IChNYXRoLnNpbigoMS4wIC0gbnVtKSAqIG51bTUpKSAqIG51bTY7XG4gICAgICAgICAgICAgICAgbnVtMiA9IGZsYWcgPyAoKC1NYXRoLnNpbihudW0gKiBudW01KSkgKiBudW02KSA6ICgoTWF0aC5zaW4obnVtICogbnVtNSkpICogbnVtNik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBRdWF0ZXJuaW9uLmNyZWF0ZSgobnVtMyAqIGxlZnQueCkgKyAobnVtMiAqIHJpZ2h0LngpLCAobnVtMyAqIGxlZnQueSkgKyAobnVtMiAqIHJpZ2h0LnkpLCAobnVtMyAqIGxlZnQueikgKyAobnVtMiAqIHJpZ2h0LnopLCAobnVtMyAqIGxlZnQudykgKyAobnVtMiAqIHJpZ2h0LncpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgUGxhbmV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGE6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlcikge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyhhLCBiLCBjLCBkKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwgPSBWZWN0b3IzLmNyZWF0ZShhLCBiLCBjKTtcbiAgICAgICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbm9ybWFsOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGQ6bnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgZ2V0UmVmbGVjdGlvbk1hdHJpeCgpOk1hdHJpeDQge1xuICAgICAgICAgICAgdGhpcy5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHZhciB4ID0gdGhpcy5ub3JtYWwueDtcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5ub3JtYWwueTtcbiAgICAgICAgICAgIHZhciB6ID0gdGhpcy5ub3JtYWwuejtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gLTIgKiB4O1xuICAgICAgICAgICAgdmFyIHRlbXAyID0gLTIgKiB5O1xuICAgICAgICAgICAgdmFyIHRlbXAzID0gLTIgKiB6O1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IE1hdHJpeDQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMF0gPSAodGVtcCAqIHgpICsgMTtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMV0gPSB0ZW1wMiAqIHg7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzJdID0gdGVtcDMgKiB4O1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1szXSA9IDAuMDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbNF0gPSB0ZW1wICogeTtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbNV0gPSAodGVtcDIgKiB5KSArIDE7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzZdID0gdGVtcDMgKiB5O1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1s3XSA9IDAuMDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbOF0gPSB0ZW1wICogejtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbOV0gPSB0ZW1wMiAqIHo7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzEwXSA9ICh0ZW1wMyAqIHopICsgMTtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMTFdID0gMC4wO1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1sxMl0gPSB0ZW1wICogdGhpcy5kO1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlc1sxM10gPSB0ZW1wMiAqIHRoaXMuZDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXNbMTRdID0gdGVtcDMgKiB0aGlzLmQ7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVzWzE1XSA9IDEuMDtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBub3JtYWxpemUoKTpQbGFuZSB7XG4gICAgICAgICAgICB2YXIgbm9ybSA9IChNYXRoLnNxcnQoKHRoaXMubm9ybWFsLnggKiB0aGlzLm5vcm1hbC54KSArICh0aGlzLm5vcm1hbC55ICogdGhpcy5ub3JtYWwueSkgKyAodGhpcy5ub3JtYWwueiAqIHRoaXMubm9ybWFsLnopKSk7XG4gICAgICAgICAgICB2YXIgbWFnbml0dWRlID0gMDtcblxuICAgICAgICAgICAgaWYgKG5vcm0gIT09IDApIHtcbiAgICAgICAgICAgICAgICBtYWduaXR1ZGUgPSAxLjAgLyBub3JtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm5vcm1hbC54ICo9IG1hZ25pdHVkZTtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLnkgKj0gbWFnbml0dWRlO1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwueiAqPSBtYWduaXR1ZGU7XG5cbiAgICAgICAgICAgIHRoaXMuZCAqPSBtYWduaXR1ZGU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKTogUGxhbmUge1xuICAgICAgICAgICAgcmV0dXJuIFBsYW5lLmNyZWF0ZSh0aGlzLm5vcm1hbC54LCB0aGlzLm5vcm1hbC55LCB0aGlzLm5vcm1hbC56LCB0aGlzLmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRvdENvb3JkaW5hdGUocG9pbnQpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuICgoKCh0aGlzLm5vcm1hbC54ICogcG9pbnQueCkgKyAodGhpcy5ub3JtYWwueSAqIHBvaW50LnkpKSArICh0aGlzLm5vcm1hbC56ICogcG9pbnQueikpICsgdGhpcy5kKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUmF5IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUob3JpZ2luOiBWZWN0b3IzLCBkaXJlY3Rpb246IFZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhvcmlnaW4sIGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihvcmlnaW46IFZlY3RvcjMsIGRpcmVjdGlvbjogVmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9vcmlnaW46VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2RpcmVjdGlvbjpWZWN0b3IzID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhBQUJCKGFhYmI6QUFCQlNoYXBlKTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aEFBQkIobWluUG9pbnQ6IFZlY3RvcjMsIG1heFBvaW50OiBWZWN0b3IzKTogYm9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQUFCQiguLi5hcmdzKTogYm9vbGVhbiB7XG4gICAgICAgICAgICB2YXIgY2VudGVyOlZlY3RvcjMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGhhbGZFeHRlbmRzOlZlY3RvcjMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGRpZmYgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGFic0RpZmYgPSBudWxsLFxuICAgICAgICAgICAgICAgIGFic0RpciA9IG51bGwsXG4gICAgICAgICAgICAgICAgY3Jvc3MgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHByb2QgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHJheU9yaWdpbiA9IHRoaXMuX29yaWdpbixcbiAgICAgICAgICAgICAgICByYXlEaXIgPSB0aGlzLl9kaXJlY3Rpb247XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgYWFiYjpBQUJCU2hhcGUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgY2VudGVyID0gYWFiYi5jZW50ZXI7XG4gICAgICAgICAgICAgICAgaGFsZkV4dGVuZHMgPSBhYWJiLmhhbGZFeHRlbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IG1pblBvaW50ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgY2VudGVyID0gQUFCQlNoYXBlLmdldENlbnRlcihtaW5Qb2ludCwgbWF4UG9pbnQpO1xuICAgICAgICAgICAgICAgIGhhbGZFeHRlbmRzID0gQUFCQlNoYXBlLmdldEhhbGZFeHRlbnRzKG1pblBvaW50LCBtYXhQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpZmYuc3ViMihyYXlPcmlnaW4sIGNlbnRlcik7XG4gICAgICAgICAgICBhYnNEaWZmID0gVmVjdG9yMy5jcmVhdGUoTWF0aC5hYnMoZGlmZi54KSwgTWF0aC5hYnMoZGlmZi55KSwgTWF0aC5hYnMoZGlmZi56KSk7XG5cbiAgICAgICAgICAgIHByb2QubXVsMihkaWZmLCByYXlEaXIpO1xuXG4gICAgICAgICAgICBpZiAoYWJzRGlmZi54ID4gaGFsZkV4dGVuZHMueCAmJiBwcm9kLnggPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhYnNEaWZmLnkgPiBoYWxmRXh0ZW5kcy55ICYmIHByb2QueSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFic0RpZmYueiA+IGhhbGZFeHRlbmRzLnogJiYgcHJvZC56ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFic0RpciA9IFZlY3RvcjMuY3JlYXRlKE1hdGguYWJzKHJheURpci54KSwgTWF0aC5hYnMocmF5RGlyLnkpLCBNYXRoLmFicyhyYXlEaXIueikpO1xuICAgICAgICAgICAgY3Jvc3MuY3Jvc3MocmF5RGlyLCBkaWZmKTtcbiAgICAgICAgICAgIGNyb3NzLnNldChNYXRoLmFicyhjcm9zcy54KSwgTWF0aC5hYnMoY3Jvc3MueSksIE1hdGguYWJzKGNyb3NzLnopKTtcblxuICAgICAgICAgICAgaWYgKGNyb3NzLnggPiBoYWxmRXh0ZW5kcy55ICogYWJzRGlyLnogKyBoYWxmRXh0ZW5kcy56ICogYWJzRGlyLnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Jvc3MueSA+IGhhbGZFeHRlbmRzLnggKiBhYnNEaXIueiArIGhhbGZFeHRlbmRzLnogKiBhYnNEaXIueCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjcm9zcy56ID4gaGFsZkV4dGVuZHMueCAqIGFic0Rpci55ICsgaGFsZkV4dGVuZHMueSAqIGFic0Rpci54KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhTcGhlcmUoc3BoZXJlOlNwaGVyZVNoYXBlKTogYm9vbGVhbiB7XG4gICAgICAgICAgICB2YXIgY2VudGVyOlZlY3RvcjMgPSBzcGhlcmUuY2VudGVyLFxuICAgICAgICAgICAgICAgIHJhZGl1czpudW1iZXIgPSBzcGhlcmUucmFkaXVzLFxuICAgICAgICAgICAgICAgIGRpZmYgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGEgPSAwLFxuICAgICAgICAgICAgICAgIGIgPSAwLFxuICAgICAgICAgICAgICAgIGMgPSAwLFxuICAgICAgICAgICAgICAgIGRpc2NyID0gMCxcbiAgICAgICAgICAgICAgICByYXlPcmlnaW4gPSB0aGlzLl9vcmlnaW4sXG4gICAgICAgICAgICAgICAgcmF5RGlyID0gdGhpcy5fZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBkaWZmLnN1YjIocmF5T3JpZ2luLCBjZW50ZXIpO1xuICAgICAgICAgICAgaWYgKGRpZmYuZG90KGRpZmYpIDwgcmFkaXVzICogcmFkaXVzICkge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyBpbnNpZGUgdGhpc1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhID0gcmF5RGlyLmRvdChyYXlEaXIpO1xuICAgICAgICAgICAgYiA9IDIgKiByYXlEaXIuZG90KGRpZmYpO1xuICAgICAgICAgICAgYyA9IGNlbnRlci5kb3QoY2VudGVyKTtcbiAgICAgICAgICAgIGMgKz0gcmF5T3JpZ2luLmRvdChyYXlPcmlnaW4pO1xuICAgICAgICAgICAgYyAtPSAyICogY2VudGVyLmRvdChyYXlPcmlnaW4pO1xuICAgICAgICAgICAgYyAtPSByYWRpdXMgKiByYWRpdXM7XG5cbiAgICAgICAgICAgIGRpc2NyID0gKGIgKiBiKSAtICg0ICogYSAqIGMpO1xuICAgICAgICAgICAgaWYgKGRpc2NyIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudGl0eSB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9jb3VudDpudW1iZXIgPSAxO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy51aWQgPSBFbnRpdHkuX2NvdW50O1xuICAgICAgICAgICAgRW50aXR5Ll9jb3VudCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVpZDpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3RhZ0xpc3Q6d2RDYi5Db2xsZWN0aW9uPHN0cmluZz4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPHN0cmluZz4oKTtcblxuXG4gICAgICAgIHB1YmxpYyBhZGRUYWcodGFnOnN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fdGFnTGlzdC5hZGRDaGlsZCh0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZVRhZyh0YWc6c3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdMaXN0LnJlbW92ZUNoaWxkKHRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0VGFnTGlzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YWdMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1RhZyh0YWc6c3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFnTGlzdC5oYXNDaGlsZCh0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbnRhaW5UYWcodGFnOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhZ0xpc3QuaGFzQ2hpbGRXaXRoRnVuYygodDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5pbmRleE9mKHRhZykgPiAtMTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIEVudGl0eXtcbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QgPSBudWxsO1xuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldCB0cmFuc2Zvcm0oKTpUcmFuc2Zvcm0ge1xuICAgICAgICAgICAgaWYoIXRoaXMuZW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkVG9PYmplY3QoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBpZih0aGlzLmVudGl0eU9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LnJlbW92ZUNvbXBvbmVudCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0ID0gZW50aXR5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUZyb21PYmplY3QoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFNjaGVkdWxlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NjaGVkdWxlQ291bnQgPSAwO1xuICAgICAgICBwcml2YXRlIF9zY2hlZHVsZXM6d2RDYi5IYXNoPGFueT4gPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVzLmZvckVhY2goKHNjaGVkdWxlSXRlbTphbnksIHNjaGVkdWxlSWQ6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoc2NoZWR1bGVJdGVtLmlzU3RvcCB8fCBzY2hlZHVsZUl0ZW0uaXNQYXVzZSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY2hlZHVsZUl0ZW0udXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgICAgIGlmKHNjaGVkdWxlSXRlbS5pc0ZpbmlzaCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKHNjaGVkdWxlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjaGVkdWxlIHRoZSB0YXNrIHRvIGVhY2ggZnJhbWVcbiAgICAgICAgICogQHBhcmFtIHRhc2tcbiAgICAgICAgICogQHBhcmFtIGFyZ3NcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gc2NoZWR1bGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzY2hlZHVsZUxvb3AodGFzazpGdW5jdGlvbiwgYXJnczpBcnJheTxhbnk+PVtdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NoZWR1bGUoTG9vcFNjaGVkdWxlSXRlbSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NoZWR1bGUgdGhlIHRhc2sgdG8gdGhlIG5leHQgc3BlZmljaWVkIGZyYW1lXG4gICAgICAgICAqIEBwYXJhbSB0YXNrXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZVxuICAgICAgICAgKiBAcGFyYW0gYXJnc1xuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzY2hlZHVsZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNjaGVkdWxlRnJhbWUodGFzaywgZnJhbWU9MSwgYXJncz8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZShGcmFtZVNjaGVkdWxlSXRlbSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NoZWR1bGUgdGhlIHRhc2sgdG8gaW50ZXJuYWwsIGxpa2Ugc2V0SW50ZXJ2YWxcbiAgICAgICAgICogQHBhcmFtIHRhc2tcbiAgICAgICAgICogQHBhcmFtIHRpbWVcbiAgICAgICAgICogQHBhcmFtIGFyZ3NcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gc2NoZWR1bGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzY2hlZHVsZUludGVydmFsKHRhc2ssIHRpbWU9MCwgYXJncz8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZShJbnRlcnZhbFNjaGVkdWxlSXRlbSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NoZWR1bGUgdGhlIHRhc2sgdG8gdGltZSwgbGlrZSBzZXRUaW1lb3V0XG4gICAgICAgICAqIEBwYXJhbSB0YXNrXG4gICAgICAgICAqIEBwYXJhbSB0aW1lXG4gICAgICAgICAqIEBwYXJhbSBhcmdzXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHNjaGVkdWxlIGlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2NoZWR1bGVUaW1lKHRhc2ssIHRpbWU9MCwgYXJncz8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZShUaW1lU2NoZWR1bGVJdGVtLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwYXVzZSB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlXG4gICAgICAgICAqIEBwYXJhbSBzY2hlZHVsZUlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgcGF1c2Uoc2NoZWR1bGVJZD86c3RyaW5nKSB7XG4gICAgICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGVJdGVtOmFueSwgc2NoZWR1bGVJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXVzZShzY2hlZHVsZUlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGxldCBzY2hlZHVsZUl0ZW0gPSB0aGlzLl9zY2hlZHVsZXMuZ2V0Q2hpbGQoYXJndW1lbnRzWzBdKTtcblxuICAgICAgICAgICAgICAgIHNjaGVkdWxlSXRlbS5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlc3VtZSB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlXG4gICAgICAgICAqIEBwYXJhbSBzY2hlZHVsZUlkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgcmVzdW1lKHNjaGVkdWxlSWQ/OnN0cmluZykge1xuICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVzLmZvckVhY2goKHNjaGVkdWxlSXRlbTphbnksIHNjaGVkdWxlSWQ6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVzdW1lKHNjaGVkdWxlSWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlSXRlbSA9IHRoaXMuX3NjaGVkdWxlcy5nZXRDaGlsZChhcmd1bWVudHNbMF0pO1xuXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVJdGVtLnJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KHNjaGVkdWxlSWQ/OnN0cmluZyl7XG4gICAgICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGVJdGVtOmFueSwgc2NoZWR1bGVJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydChzY2hlZHVsZUlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlSXRlbSA9IHRoaXMuX3NjaGVkdWxlcy5nZXRDaGlsZChhcmd1bWVudHNbMF0pO1xuXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVJdGVtLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcChzY2hlZHVsZUlkPzpzdHJpbmcpe1xuICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVzLmZvckVhY2goKHNjaGVkdWxlSXRlbTphbnksIHNjaGVkdWxlSWQ6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcChzY2hlZHVsZUlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHNjaGVkdWxlSXRlbSA9IHRoaXMuX3NjaGVkdWxlcy5nZXRDaGlsZChhcmd1bWVudHNbMF0pO1xuXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVJdGVtLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXMoc2NoZWR1bGVJZDpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3NjaGVkdWxlcy5oYXNDaGlsZChzY2hlZHVsZUlkKVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbW92ZSB0aGUgc3BlY2lmeSBzY2hlZHVsZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0gaWRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyByZW1vdmUoc2NoZWR1bGVJZDpzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlcy5yZW1vdmVDaGlsZChzY2hlZHVsZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVBbGwoKXtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2NoZWR1bGUoX2NsYXNzOmFueSwgYXJnczpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIHZhciBzY2hlZHVsZUlkID0gdGhpcy5fYnVpbGRJZCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZXMuc2V0VmFsdWUoc2NoZWR1bGVJZCwgX2NsYXNzLmNyZWF0ZS5hcHBseShfY2xhc3MsIGFyZ3MpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZElkKCl7XG4gICAgICAgICAgICByZXR1cm4gJ1NjaGVkdWxlXycgKyAodGhpcy5fc2NoZWR1bGVDb3VudCsrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIFNjaGVkdWxlSXRlbXtcbiAgICAgICAgY29uc3RydWN0b3IodGFzazpGdW5jdGlvbiwgYXJnczpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IHRhc2s7XG4gICAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzUGF1c2U6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgaXNTdG9wOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBhdXNlVGltZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGF1c2VFbGFwc2VkOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGFydFRpbWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGlzRmluaXNoOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgdGFzazpGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBhcmdzOkFycmF5PGFueT4gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgdGltZUNvbnRyb2xsZXI6Q29tbW9uVGltZUNvbnRyb2xsZXIgPSBDb21tb25UaW1lQ29udHJvbGxlci5jcmVhdGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcGF1c2UgdGhlIHNwZWNpZmllZCBzY2hlZHVsZVxuICAgICAgICAgKiBAcGFyYW0gc2NoZWR1bGVJZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHBhdXNlKCkge1xuICAgICAgICAgICAgdGhpcy5pc1BhdXNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGltZUNvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXN1bWUgdGhlIHNwZWNpZmllZCBzY2hlZHVsZVxuICAgICAgICAgKiBAcGFyYW0gc2NoZWR1bGVJZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHJlc3VtZSgpe1xuICAgICAgICAgICAgdGhpcy5pc1BhdXNlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRpbWVDb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCl7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50aW1lQ29udHJvbGxlci5zdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKXtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGltZUNvbnRyb2xsZXIuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmlzaCgpe1xuICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBUaW1lU2NoZWR1bGVJdGVtIGV4dGVuZHMgU2NoZWR1bGVJdGVte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0YXNrOkZ1bmN0aW9uLCB0aW1lOm51bWJlciA9IDAsIGFyZ3M6QXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGFzaywgdGltZSwgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih0YXNrOkZ1bmN0aW9uLCB0aW1lOm51bWJlciA9IDAsIGFyZ3M6QXJyYXk8YW55PiA9IFtdKXtcbiAgICAgICAgICAgIHN1cGVyKHRhc2ssIGFyZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RpbWU6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMudGltZUNvbnRyb2xsZXIuY29tcHV0ZUVsYXBzZVRpbWUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZiAoZWxhcHNlZCA+PSB0aGlzLl90aW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrLmFwcGx5KHRoaXMsIHRoaXMuYXJncyk7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIEludGVydmFsU2NoZWR1bGVJdGVtIGV4dGVuZHMgU2NoZWR1bGVJdGVte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0YXNrOkZ1bmN0aW9uLCB0aW1lOm51bWJlciA9IDAsIGFyZ3M6QXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGFzaywgdGltZSwgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih0YXNrOkZ1bmN0aW9uLCB0aW1lOm51bWJlciA9IDAsIGFyZ3M6QXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgICAgICBzdXBlcih0YXNrLCBhcmdzKTtcblxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxUaW1lID0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ludGVydmFsVGltZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9lbGFwc2VkOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLnRpbWVDb250cm9sbGVyLmNvbXB1dGVFbGFwc2VUaW1lKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYgKGVsYXBzZWQgLSB0aGlzLl9lbGFwc2VkID49IHRoaXMuX2ludGVydmFsVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFzay5hcHBseSh0aGlzLCB0aGlzLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsYXBzZWQgPSAgZWxhcHNlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpe1xuICAgICAgICAgICAgc3VwZXIuc3RhcnQoKTtcblxuICAgICAgICAgICAgdGhpcy5fZWxhcHNlZCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBMb29wU2NoZWR1bGVJdGVtIGV4dGVuZHMgU2NoZWR1bGVJdGVte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0YXNrOkZ1bmN0aW9uLCBhcmdzOkFycmF5PGFueT4gPSBbXSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHRhc2ssIGFyZ3MpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy50YXNrLmFwcGx5KHRoaXMsIHRoaXMuYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBGcmFtZVNjaGVkdWxlSXRlbSBleHRlbmRzIFNjaGVkdWxlSXRlbSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRhc2s6RnVuY3Rpb24sIGZyYW1lOm51bWJlciA9IDEsIGFyZ3M6QXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGFzaywgZnJhbWUsIGFyZ3MpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodGFzazpGdW5jdGlvbiwgZnJhbWU6bnVtYmVyID0gMSwgYXJnczpBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgICAgIHN1cGVyKHRhc2ssIGFyZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZnJhbWU6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS0tO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZnJhbWUgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFzay5hcHBseSh0aGlzLCB0aGlzLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZW51bSBFR2FtZVN0YXRle1xuICAgICAgICBOT1JNQUwsXG4gICAgICAgIFNUT1AsXG4gICAgICAgIFBBVVNFXG4gICAgfVxuXG4gICAgLy90b2RvIGludm9rZSBzY2VuZS5vbkV4aXRcblxuICAgIGV4cG9ydCBjbGFzcyBEaXJlY3RvcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlLmluaXRXaGVuQ3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZ2FtZVRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lQ29udHJvbGxlci5nYW1lVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBmcHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lQ29udHJvbGxlci5mcHM7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNOb3JtYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nYW1lU3RhdGUgPT09IEVHYW1lU3RhdGUuTk9STUFMO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzU3RvcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5TVE9QO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzUGF1c2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nYW1lU3RhdGUgPT09IEVHYW1lU3RhdGUuUEFVU0U7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNUaW1lQ2hhbmdlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZUNvbnRyb2xsZXIuaXNUaW1lQ2hhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGVsYXBzZWQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lQ29udHJvbGxlci5lbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHZpZXcoKXtcbiAgICAgICAgICAgIHJldHVybiBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkudmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2NoZWR1bGVyOlNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyByZW5kZXJlcjpSZW5kZXJlcj0gbnVsbDtcbiAgICAgICAgcHVibGljIGRvbUV2ZW50TWFuYWdlcjpEb21FdmVudE1hbmFnZXIgPSBEb21FdmVudE1hbmFnZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2FtZUxvb3A6d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9ldmVudFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2dhbWVTdGF0ZTpFR2FtZVN0YXRlID0gRUdhbWVTdGF0ZS5OT1JNQUw7XG4gICAgICAgIHByaXZhdGUgX3RpbWVDb250cm9sbGVyOkRpcmVjdG9yVGltZUNvbnRyb2xsZXI9IERpcmVjdG9yVGltZUNvbnRyb2xsZXIuY3JlYXRlKCk7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUgPSBTY2VuZURpc3BhdGNoZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlciA9IFNjaGVkdWxlci5jcmVhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBXZWJHTFJlbmRlcmVyLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCl7XG4gICAgICAgICAgICB0aGlzLl9nYW1lU3RhdGUgPSBFR2FtZVN0YXRlLk5PUk1BTDtcblxuICAgICAgICAgICAgdGhpcy5fc3RhcnRMb29wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpe1xuICAgICAgICAgICAgdGhpcy5fZ2FtZUxvb3AgJiYgdGhpcy5fZ2FtZUxvb3AuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gRUdhbWVTdGF0ZS5TVE9QO1xuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb24gJiYgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhdXNlKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2FtZVN0YXRlID09PSBFR2FtZVN0YXRlLlBBVVNFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9nYW1lU3RhdGUgPSBFR2FtZVN0YXRlLlBBVVNFO1xuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCl7XG4gICAgICAgICAgICB0aGlzLl9nYW1lU3RhdGUgPSBFR2FtZVN0YXRlLk5PUk1BTDtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gYWRkIGRpc3Bvc2VcblxuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFUaW1lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZUNvbnRyb2xsZXIuZGVsdGFUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgQGV4ZWNPbmx5T25jZShcIl9pc0luaXRVSVNjZW5lXCIpXG4gICAgICAgIHB1YmxpYyBpbml0VUlPYmplY3RTY2VuZSgpe1xuICAgICAgICAgICAgdmFyIHVpT2JqZWN0U2NlbmU6VUlPYmplY3RTY2VuZSA9IHRoaXMuc2NlbmUudWlPYmplY3RTY2VuZTtcblxuICAgICAgICAgICAgdGhpcy5faW5pdERvbUV2ZW50KCk7XG5cbiAgICAgICAgICAgIHVpT2JqZWN0U2NlbmUub25FbnRlcigpO1xuICAgICAgICAgICAgdWlPYmplY3RTY2VuZS5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcnVuVUlPYmplY3RTY2VuZShlbGFwc2VUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgdWlPYmplY3RTY2VuZTpVSU9iamVjdFNjZW5lID0gdGhpcy5zY2VuZS51aU9iamVjdFNjZW5lO1xuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcih1aU9iamVjdFNjZW5lLCBDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuU1RBUlRMT09QKSk7XG5cbiAgICAgICAgICAgIHVpT2JqZWN0U2NlbmUudXBkYXRlKGVsYXBzZVRpbWUpO1xuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcih1aU9iamVjdFNjZW5lLCBDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuRU5ETE9PUCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc3RhcnRMb29wKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9nYW1lTG9vcCA9IHRoaXMuX2J1aWxkSW5pdFN0cmVhbSgpXG4gICAgICAgICAgICAgICAgLmlnbm9yZUVsZW1lbnRzKClcbiAgICAgICAgICAgICAgICAuY29uY2F0KHRoaXMuX2J1aWxkTG9vcFN0cmVhbSgpKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKHRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIG5lZWQgcG9seWZpbGxcbiAgICAgICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgICAgICBJIGFzc3VtZSB0aGF0IHRoZSB0aW1lIGlzIERPTUhpZ2hSZXNUaW1lU3RhbXAsIGJ1dCBpdCBtYXkgYmUgRE9NVGltZVN0YW1wIGluIHNvbWUgYnJvd3NlciFcbiAgICAgICAgICAgICAgICAgICAgIHNvIGl0IG5lZWQgcG9seWZpbGxcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvb3BCb2R5KHRpbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRJbml0U3RyZWFtKCl7XG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuY2FsbEZ1bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5faW5pdEdhbWVPYmplY3RTY2VuZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRVSU9iamVjdFNjZW5lKCk7XG5cbiAgICAgICAgICAgIERlYnVnU3RhdGlzdGljcy5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pbml0R2FtZU9iamVjdFNjZW5lKCl7XG4gICAgICAgICAgICB2YXIgZ2FtZU9iamVjdFNjZW5lOkdhbWVPYmplY3RTY2VuZSA9IHRoaXMuc2NlbmUuZ2FtZU9iamVjdFNjZW5lO1xuXG4gICAgICAgICAgICB0aGlzLl9pbml0RG9tRXZlbnQoKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LkJFRk9SRV9HQU1FT0JKRUNUX0lOSVQpKTtcblxuICAgICAgICAgICAgZ2FtZU9iamVjdFNjZW5lLm9uRW50ZXIoKTtcbiAgICAgICAgICAgIGdhbWVPYmplY3RTY2VuZS5pbml0KCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBub3QgcHV0IGhlcmU/XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5BRlRFUl9HQU1FT0JKRUNUX0lOSVQpKTtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5BRlRFUl9HQU1FT0JKRUNUX0lOSVRfUklHSURCT0RZX0FERF9DT05TVFJBSU5UKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZExvb3BTdHJlYW0oKXtcbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5pbnRlcnZhbFJlcXVlc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvb3BCb2R5KHRpbWUpIHtcbiAgICAgICAgICAgIHZhciBlbGFwc2VUaW1lID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5fZ2FtZVN0YXRlID09PSBFR2FtZVN0YXRlLlBBVVNFIHx8IHRoaXMuX2dhbWVTdGF0ZSA9PT0gRUdhbWVTdGF0ZS5TVE9QKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsYXBzZVRpbWUgPSB0aGlzLl90aW1lQ29udHJvbGxlci5jb21wdXRlRWxhcHNlVGltZSh0aW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fcnVuKGVsYXBzZVRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3J1bihlbGFwc2VUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9ydW5HYW1lT2JqZWN0U2NlbmUoZWxhcHNlVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMucnVuVUlPYmplY3RTY2VuZShlbGFwc2VUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3J1bkdhbWVPYmplY3RTY2VuZShlbGFwc2VUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIGdhbWVPYmplY3RTY2VuZTpHYW1lT2JqZWN0U2NlbmUgPSB0aGlzLnNjZW5lLmdhbWVPYmplY3RTY2VuZTtcblxuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIudGljayhlbGFwc2VUaW1lKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LlNUQVJUTE9PUCkpO1xuXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci51cGRhdGUoZWxhcHNlVGltZSk7XG5cbiAgICAgICAgICAgIGdhbWVPYmplY3RTY2VuZS51cGRhdGUoZWxhcHNlVGltZSk7XG4gICAgICAgICAgICBnYW1lT2JqZWN0U2NlbmUucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMucmVuZGVyZXIuaGFzQ29tbWFuZCgpKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuRU5ETE9PUCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGV4ZWNPbmx5T25jZShcIl9pc0luaXREb21FdmVudFwiKVxuICAgICAgICBwcml2YXRlIF9pbml0RG9tRXZlbnQoKXtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9uID0gdGhpcy5kb21FdmVudE1hbmFnZXIuaW5pdERvbUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1haW57XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pc1Rlc3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBzdGF0aWMgZ2V0IGlzVGVzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgc2V0IGlzVGVzdChpc1Rlc3Q6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9pc1Rlc3QgPSBpc1Rlc3Q7XG5cbiAgICAgICAgICAgIHdkRnJwLk1haW4uaXNUZXN0ID0gaXNUZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBzY3JlZW5TaXplOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2NhbnZhc0lkOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXRDb25maWcoe1xuICAgICAgICAgICAgY2FudmFzSWQsXG4gICAgICAgICAgICBpc1Rlc3QgPSBEZWJ1Z0NvbmZpZy5pc1Rlc3QsXG4gICAgICAgICAgICBzY3JlZW5TaXplID0gRVNjcmVlblNpemUuRlVMTFxuICAgICAgICAgICAgfSl7XG4gICAgICAgICAgICB0aGlzLmlzVGVzdCA9IGlzVGVzdDtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuU2l6ZSA9IHNjcmVlblNpemU7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXNJZCA9IGNhbnZhc0lkO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQoKXtcbiAgICAgICAgICAgIHdkLkRldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVHTCh0aGlzLl9jYW52YXNJZCk7XG4gICAgICAgICAgICB3ZC5EZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0U2NyZWVuKCk7XG4gICAgICAgICAgICBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLmRldGVjdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBkb2N1bWVudDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRNYW5hZ2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHNjZW5lKCk6U2NlbmVEaXNwYXRjaGVye1xuICAgICAgICAgICAgcmV0dXJuIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGVzaWduYXRlZFRyaWdnZXJMaXN0ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9sYXN0VHJpZ2dlckxpc3Q6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaXNEcmFnRXZlbnRUcmlnZ2VyaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfdHJpZ2dlckxpc3RPZkRyYWdFdmVudCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXREb21FdmVudCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbUFycmF5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZyb21FdmVudChFRXZlbnROYW1lLkNMSUNLKSxcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZyb21FdmVudChFRXZlbnROYW1lLk1PVVNFRE9XTiksXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5NT1VTRVVQKSxcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZyb21FdmVudChFRXZlbnROYW1lLk1PVVNFV0hFRUwpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWlsZE1vdXNlRHJhZ1N0cmVhbSgpXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAubWVyZ2VBbGwoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGU6TW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIURpcmVjdG9yLmdldEluc3RhbmNlKCkuaXNQYXVzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5tYXAoKGU6TW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckxpc3QgPSBzZWxmLl9nZXRNb3VzZUV2ZW50VHJpZ2dlckxpc3QoZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5faXNEcmFnRXZlbnRUcmlnZ2VyaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXJMaXN0T2ZEcmFnRXZlbnQgPSB0cmlnZ2VyTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9nZXRNb3VzZUV2ZW50VHJpZ2dlckxpc3REYXRhKGUsIHRyaWdnZXJMaXN0KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5tZXJnZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRNb3VzZU1vdmVTdHJlYW0oKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChbdHJpZ2dlckxpc3QsIGVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXIoZS5jb3B5KCksIGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZE1vdXNlRHJhZ1N0cmVhbSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICBoZXJlIGJpbmQgb24gZG9jdW1lbnQobm90IG9uIGRvY3VtZW50LmJvZHkpLCBzbyB0aGUgZXZlbnQgaGFuZGxlciBiaW5kZWQgd2lsbCBub3QgYWZmZWN0ZWQgYnkgb3RoZXIgZXZlbnQgaGFuZGxlciBiaW5kZWQgb24gdGhlIHNhbWUgZXZlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoZG9jdW1lbnQsIEVFdmVudE5hbWUuTU9VU0VET1dOKVxuICAgICAgICAgICAgICAgIC5mbGF0TWFwKChlOk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoZG9jdW1lbnQsIEVFdmVudE5hbWUuTU9VU0VNT1ZFKS50YWtlVW50aWwoRXZlbnRNYW5hZ2VyLmZyb21FdmVudChkb2N1bWVudCwgRUV2ZW50TmFtZS5NT1VTRVVQKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRvKChlOk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9pc0RyYWdFdmVudFRyaWdnZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAubWFwKChlOk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5uYW1lID0gRUV2ZW50TmFtZS5NT1VTRURSQUc7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faXNEcmFnRXZlbnRUcmlnZ2VyaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRNb3VzZU1vdmVTdHJlYW0oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoRUV2ZW50TmFtZS5NT1VTRU1PVkUpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5pc1BhdXNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoZTpNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyTGlzdCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5kZXNpZ25hdGVkVHJpZ2dlckxpc3Qpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckxpc3QgPSBzZWxmLmRlc2lnbmF0ZWRUcmlnZ2VyTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbGYuX2lzRHJhZ0V2ZW50VHJpZ2dlcmluZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyTGlzdCA9IHNlbGYuX3RyaWdnZXJMaXN0T2ZEcmFnRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0ID0gc2VsZi5fZ2V0TW91c2VFdmVudFRyaWdnZXJMaXN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHttb3VzZW92ZXJPYmplY3RzLCBtb3VzZW91dE9iamVjdHN9ID0gc2VsZi5fZ2V0TW91c2VPdmVyQW5kTW91c2VPdXRPYmplY3QodHJpZ2dlckxpc3QsIHNlbGYuX2xhc3RUcmlnZ2VyTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2V0TW91c2VPdmVyVGFnKG1vdXNlb3Zlck9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZXRNb3VzZU91dFRhZyhtb3VzZW91dE9iamVjdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xhc3RUcmlnZ2VyTGlzdCA9IHRyaWdnZXJMaXN0LmNvcHkoKTtcblxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyTGlzdCA9IG1vdXNlb3V0T2JqZWN0cy5hZGRDaGlsZHJlbih0cmlnZ2VyTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dldE1vdXNlRXZlbnRUcmlnZ2VyTGlzdERhdGEoZSwgdHJpZ2dlckxpc3QpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNb3VzZU92ZXJBbmRNb3VzZU91dE9iamVjdChjdXJyZW50VHJpZ2dlckxpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4sIGxhc3RUcmlnZ2VyTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICB2YXIgbW91c2VvdmVyT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpLFxuICAgICAgICAgICAgICAgIG1vdXNlb3V0T2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpO1xuXG4gICAgICAgICAgICBpZighbGFzdFRyaWdnZXJMaXN0KXtcbiAgICAgICAgICAgICAgICBtb3VzZW92ZXJPYmplY3RzID0gY3VycmVudFRyaWdnZXJMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAvL3RvZG8gb3B0aW1pemVcbiAgICAgICAgICAgICAgICBsYXN0VHJpZ2dlckxpc3QuZm9yRWFjaCgobGFzdE9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWN1cnJlbnRUcmlnZ2VyTGlzdC5oYXNDaGlsZFdpdGhGdW5jKChjdXJyZW50T2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzRXF1YWwoY3VycmVudE9iamVjdCwgbGFzdE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZW91dE9iamVjdHMuYWRkQ2hpbGQobGFzdE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnRUcmlnZ2VyTGlzdC5mb3JFYWNoKChjdXJyZW50T2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZighbGFzdFRyaWdnZXJMaXN0Lmhhc0NoaWxkV2l0aEZ1bmMoKGxhc3RPYmplY3Q6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChjdXJyZW50T2JqZWN0LCBsYXN0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlb3Zlck9iamVjdHMuYWRkQ2hpbGQoY3VycmVudE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb3VzZW92ZXJPYmplY3RzOiBtb3VzZW92ZXJPYmplY3RzLFxuICAgICAgICAgICAgICAgIG1vdXNlb3V0T2JqZWN0czogbW91c2VvdXRPYmplY3RzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRNb3VzZU92ZXJUYWcob2JqZWN0czp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pil7XG4gICAgICAgICAgICBvYmplY3RzLmZvckVhY2goKG9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBvYmplY3QuYWRkVGFnKDxhbnk+RUV2ZW50VGFnLk1PVVNFX09WRVIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE1vdXNlT3V0VGFnKG9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pe1xuICAgICAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChvYmplY3Q6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqZWN0LmFkZFRhZyg8YW55PkVFdmVudFRhZy5NT1VTRV9PVVQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldEV2ZW50TmFtZUJ5RXZlbnRUYWcob2JqZWN0OkVudGl0eU9iamVjdCwgZTpNb3VzZUV2ZW50KXtcbiAgICAgICAgICAgIGlmKG9iamVjdC5oYXNUYWcoPGFueT5FRXZlbnRUYWcuTU9VU0VfT1ZFUikpe1xuICAgICAgICAgICAgICAgIGUubmFtZSA9IEVFdmVudE5hbWUuTU9VU0VPVkVSO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihvYmplY3QuaGFzVGFnKDxhbnk+RUV2ZW50VGFnLk1PVVNFX09VVCkpe1xuICAgICAgICAgICAgICAgIGUubmFtZSA9IEVFdmVudE5hbWUuTU9VU0VPVVQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlRXZlbnRUYWcob2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBvYmplY3QucmVtb3ZlVGFnKDxhbnk+RUV2ZW50VGFnLk1PVVNFX09WRVIpO1xuICAgICAgICAgICAgb2JqZWN0LnJlbW92ZVRhZyg8YW55PkVFdmVudFRhZy5NT1VTRV9PVVQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJpZ2dlcihlOk1vdXNlRXZlbnQsIGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpO1xuICAgICAgICBwcml2YXRlIF90cmlnZ2VyKGU6TW91c2VFdmVudCwgZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCwgaXNCdWJibGU6Ym9vbGVhbik7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJpZ2dlciguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZTpNb3VzZUV2ZW50ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICBub3RTZXRUYXJnZXQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBldmVudDpNb3VzZUV2ZW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXN0b21FdmVudDpDdXN0b21FdmVudCA9IG51bGwsXG4gICAgICAgICAgICAgICAgaGFuZGxlck5hbWUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBhcmdzWzJdKXtcbiAgICAgICAgICAgICAgICBub3RTZXRUYXJnZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSB0aGlzLl9zZXRFdmVudE5hbWVCeUV2ZW50VGFnKGVudGl0eU9iamVjdCwgZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRUYWcoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFuZGxlck5hbWUgPSBFdmVudFRyaWdnZXJUYWJsZS5nZXRTY3JpcHRIYW5kbGVyTmFtZShldmVudC5uYW1lKTtcblxuICAgICAgICAgICAgY3VzdG9tRXZlbnQgPSBDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnRbRXZlbnRUcmlnZ2VyVGFibGUuZ2V0U2NyaXB0RW5naW5lRXZlbnQoZXZlbnQubmFtZSldKTtcblxuICAgICAgICAgICAgY3VzdG9tRXZlbnQuZ2V0RGF0YUZyb21Eb21FdmVudChldmVudCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyByZWZhY3Rvcjogc3VwcG9ydCBkaXJlY3RseSB0cmlnZ2VyIG1vdXNlIGV2ZW50IG9uIHRhcmdldFxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoZW50aXR5T2JqZWN0LCBjdXN0b21FdmVudCwgZXZlbnQsIG5vdFNldFRhcmdldCk7XG5cbiAgICAgICAgICAgIGV2ZW50LmdldERhdGFGcm9tQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnQpO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3QuZXhlY0V2ZW50U2NyaXB0KGhhbmRsZXJOYW1lLCBldmVudCk7XG5cbiAgICAgICAgICAgIGlmICghZXZlbnQuaXNTdG9wUHJvcGFnYXRpb24gJiYgZW50aXR5T2JqZWN0LmJ1YmJsZVBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoZXZlbnQuY29weSgpLCBlbnRpdHlPYmplY3QuYnViYmxlUGFyZW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE1vdXNlRXZlbnRUcmlnZ2VyTGlzdChlOk1vdXNlRXZlbnQpe1xuICAgICAgICAgICAgdmFyIHRvcEdhbWVPYmplY3Q6R2FtZU9iamVjdCA9IG51bGwsXG4gICAgICAgICAgICAgICAgdG9wVUlPYmplY3Q6VUlPYmplY3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0OndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5kZXNpZ25hdGVkVHJpZ2dlckxpc3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc2lnbmF0ZWRUcmlnZ2VyTGlzdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJpZ2dlckxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEVudGl0eU9iamVjdD4oKTtcblxuICAgICAgICAgICAgdG9wR2FtZU9iamVjdCA9IHRoaXMuX2ZpbmRUb3BHYW1lT2JqZWN0KGUsIHRoaXMuc2NlbmUuZ2FtZU9iamVjdFNjZW5lKTtcbiAgICAgICAgICAgIHRvcFVJT2JqZWN0ID0gdGhpcy5fZmluZFRvcFVJT2JqZWN0KGUsIHRoaXMuc2NlbmUudWlPYmplY3RTY2VuZSk7XG5cbiAgICAgICAgICAgIGlmKHRvcEdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0LmFkZENoaWxkKHRvcEdhbWVPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0b3BVSU9iamVjdCl7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3QuYWRkQ2hpbGQodG9wVUlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLl9pc1NjZW5lQXNUb3BPbmUoZSwgdHJpZ2dlckxpc3QpKXtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyTGlzdC5hZGRDaGlsZCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNTY2VuZUFzVG9wT25lKGU6TW91c2VFdmVudCwgdHJpZ2dlckxpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVHJpZ2dlclNjZW5lKGUpICYmIHRyaWdnZXJMaXN0LmdldENvdW50KCkgPT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maW5kVG9wR2FtZU9iamVjdChlOk1vdXNlRXZlbnQsIGdhbWVPYmplY3RTY2VuZTpHYW1lT2JqZWN0U2NlbmUpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmluZFRyaWdnZXJHYW1lT2JqZWN0TGlzdChlLCBnYW1lT2JqZWN0U2NlbmUpLnNvcnQoKGE6R2FtZU9iamVjdCwgYjpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9nZXREaXN0YW5jZVRvQ2FtZXJhKGEpIC0gc2VsZi5fZ2V0RGlzdGFuY2VUb0NhbWVyYShiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5nZXRDaGlsZCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldERpc3RhbmNlVG9DYW1lcmEob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuIG9iai50cmFuc2Zvcm0ucG9zaXRpb24uY29weSgpLnN1YihEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmN1cnJlbnRDYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uKS5sZW5ndGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbmRUb3BVSU9iamVjdChlOk1vdXNlRXZlbnQsIHVpT2JqZWN0U2NlbmU6VUlPYmplY3RTY2VuZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmluZFRyaWdnZXJVSU9iamVjdExpc3QoZSwgdWlPYmplY3RTY2VuZSkuc29ydCgoYTpVSU9iamVjdCwgYjpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi50cmFuc2Zvcm0uekluZGV4IC0gYS50cmFuc2Zvcm0uekluZGV4O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmdldENoaWxkKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZFRyaWdnZXJHYW1lT2JqZWN0TGlzdChlOk1vdXNlRXZlbnQsIG9iamVjdFNjZW5lOkdhbWVPYmplY3RTY2VuZSk6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgdmFyIHRyaWdnZXJPYmplY3RMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KCksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZmluZCA9IChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGVudGl0eU9iamVjdC5oYXNDb21wb25lbnQoU3BhY2VQYXJ0aXRpb24pKXtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LmdldFNwYWNlUGFydGl0aW9uKCkuZ2V0SW50ZXJzZWN0TGlzdFdpdGhSYXkoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkZFRyaWdnZXJPYmplY3RCeVF1ZXJ5RGV0ZWN0b3IoZW50aXR5T2JqZWN0LCBlLCB0cmlnZ2VyT2JqZWN0TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRkVHJpZ2dlck9iamVjdEJ5UXVlcnlEZXRlY3RvcihlbnRpdHlPYmplY3QsIGUsIHRyaWdnZXJPYmplY3RMaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0U2NlbmUuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbmQoY2hpbGQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2JqZWN0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbmRUcmlnZ2VyVUlPYmplY3RMaXN0KGU6TW91c2VFdmVudCwgb2JqZWN0U2NlbmU6VUlPYmplY3RTY2VuZSk6d2RDYi5Db2xsZWN0aW9uPFVJT2JqZWN0PntcbiAgICAgICAgICAgIHZhciB0cmlnZ2VyT2JqZWN0TGlzdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8YW55PigpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGZpbmQgPSAoZW50aXR5T2JqZWN0OlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fYWRkVHJpZ2dlck9iamVjdEJ5UXVlcnlEZXRlY3RvcihlbnRpdHlPYmplY3QsIGUsIHRyaWdnZXJPYmplY3RMaXN0KTtcblxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaW5kKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0U2NlbmUuZm9yRWFjaCgoY2hpbGQ6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBmaW5kKGNoaWxkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlck9iamVjdExpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRUcmlnZ2VyT2JqZWN0QnlRdWVyeURldGVjdG9yKGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QsIGU6TW91c2VFdmVudCwgdHJpZ2dlck9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pe1xuICAgICAgICAgICAgaWYgKGVudGl0eU9iamVjdC5oYXNDb21wb25lbnQoRXZlbnRUcmlnZ2VyRGV0ZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRldGVjdG9yID0gZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxFdmVudFRyaWdnZXJEZXRlY3Rvcj4oRXZlbnRUcmlnZ2VyRGV0ZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRldGVjdG9yLmlzVHJpZ2dlcihlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyT2JqZWN0TGlzdC5hZGRDaGlsZChlbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVHJpZ2dlclNjZW5lKGU6TW91c2VFdmVudCl7XG4gICAgICAgICAgICB2YXIgZGV0ZWN0b3IgPSB0aGlzLnNjZW5lLmdldENvbXBvbmVudDxFdmVudFRyaWdnZXJEZXRlY3Rvcj4oRXZlbnRUcmlnZ2VyRGV0ZWN0b3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGV0ZWN0b3IuaXNUcmlnZ2VyKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TW91c2VFdmVudFRyaWdnZXJMaXN0RGF0YShlOk1vdXNlRXZlbnQsIHRyaWdnZXJMaXN0OndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KXtcbiAgICAgICAgICAgIHJldHVybiBbdHJpZ2dlckxpc3QsIGVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW51bSBFRXZlbnRUYWd7XG4gICAgICAgIE1PVVNFX09WRVIgPSA8YW55PlwiTU9VU0VfT1ZFUlwiLFxuICAgICAgICBNT1VTRV9PVVQgPSA8YW55PlwiTU9VU0VfT1VUXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIC8vdG9kbyBhZGQgY29weSBtZXRob2RcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRW50aXR5T2JqZWN0IGV4dGVuZHMgRW50aXR5e1xuICAgICAgICBwcml2YXRlIF9zY3JpcHRMaXN0OndkQ2IuSGFzaDxJU2NyaXB0QmVoYXZpb3I+ID0gd2RDYi5IYXNoLmNyZWF0ZTxJU2NyaXB0QmVoYXZpb3I+KCk7XG4gICAgICAgIGdldCBzY3JpcHRMaXN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NyaXB0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1YmJsZVBhcmVudDpFbnRpdHlPYmplY3QgPSBudWxsO1xuICAgICAgICBnZXQgYnViYmxlUGFyZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnViYmxlUGFyZW50ID8gdGhpcy5fYnViYmxlUGFyZW50IDogdGhpcy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1YmJsZVBhcmVudChidWJibGVQYXJlbnQ6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2J1YmJsZVBhcmVudCA9IGJ1YmJsZVBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyYW5zZm9ybTpUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBnZXQgdHJhbnNmb3JtKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0cmFuc2Zvcm0odHJhbnNmb3JtOlRyYW5zZm9ybSl7XG4gICAgICAgICAgICBpZighdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX3RyYW5zZm9ybSl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQodGhpcy5fdHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCBjb21wb25lbnREaXJ0eShjb21wb25lbnREaXJ0eTpib29sZWFuKXtcbiAgICAgICAgICAgIGlmKGNvbXBvbmVudERpcnR5ID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBuYW1lOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwYXJlbnQ6RW50aXR5T2JqZWN0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGlzVmlzaWJsZTpib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwdWJsaWMgYWN0aW9uTWFuYWdlcjpBY3Rpb25NYW5hZ2VyID0gQWN0aW9uTWFuYWdlci5jcmVhdGUoKTtcblxuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0TG9vcEhhbmRsZXI6KCkgPT4gdm9pZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBlbmRMb29wSGFuZGxlcjooKSA9PiB2b2lkID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGNvbXBvbmVudHM6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBwcml2YXRlIF9zY3JpcHRFeGVjdXRlSGlzdG9yeTp3ZENiLkhhc2g8Ym9vbGVhbj4gPSB3ZENiLkhhc2guY3JlYXRlPGJvb2xlYW4+KCk7XG4gICAgICAgIHByaXZhdGUgX2hhc0NvbXBvbmVudENhY2hlOndkQ2IuSGFzaDxib29sZWFuPiA9IHdkQ2IuSGFzaC5jcmVhdGU8Ym9vbGVhbj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q29tcG9uZW50Q2FjaGU6d2RDYi5IYXNoPGJvb2xlYW4+ID0gd2RDYi5IYXNoLmNyZWF0ZTxib29sZWFuPigpO1xuICAgICAgICBwcml2YXRlIF9yZW5kZXJlckNvbXBvbmVudDpSZW5kZXJlckNvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2FuaW1hdGlvbjpBbmltYXRpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jb2xsaWRlcjpDb2xsaWRlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2NvbXBvbmVudENoYW5nZVN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zdGFydExvb3BIYW5kbGVyID0gd2RDYi5GdW5jdGlvblV0aWxzLmJpbmQodGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGFydExvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbmRMb29wSGFuZGxlciA9IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRW5kTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYmluZFN0YXJ0TG9vcEV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLmJpbmRFbmRMb29wRXZlbnQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50Q2hhbmdlU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLCA8YW55PkVFbmdpbmVFdmVudC5DT01QT05FTlRfQ0hBTkdFKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX29uQ29tcG9uZW50Q2hhbmdlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQuaW5pdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJJbml0Q2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25TdGFydExvb3AoKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWNTY3JpcHQoXCJvblN0YXJ0TG9vcFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkVuZExvb3AoKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWNTY3JpcHQoXCJvbkVuZExvb3BcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbnRlcigpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkV4aXQoKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWNTY3JpcHQoXCJvbkV4aXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25EaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmV4ZWNTY3JpcHQoXCJvbkRpc3Bvc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRzID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5vbkRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgaWYodGhpcy5wYXJlbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZih0aGlzKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZig8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1AsIHRoaXMuc3RhcnRMb29wSGFuZGxlcik7XG4gICAgICAgICAgICBFdmVudE1hbmFnZXIub2ZmKDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1AsIHRoaXMuZW5kTG9vcEhhbmRsZXIpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnRDaGFuZ2VTdWJzY3JpcHRpb24gJiYgdGhpcy5fY29tcG9uZW50Q2hhbmdlU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgY29tcG9uZW50cyA9IHRoaXMucmVtb3ZlQWxsQ29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNDaGlsZChjaGlsZDpFbnRpdHlPYmplY3QpOmJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uaGFzQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6RW50aXR5T2JqZWN0IHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZENoaWxkKGNoaWxkKTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgbm8gbmVlZCB0byBzb3J0IVxuICAgICAgICAgICAgIGJlY2F1c2UgV2ViR0xSZW5kZXJlciBlbmFibGUgZGVwdGggdGVzdCwgaXQgd2lsbCBzb3J0IHdoZW4gbmVlZGVkKGp1c3QgYXMgV2ViR0xSZW5kZXJlci0+cmVuZGVyU29ydGVkVHJhbnNwYXJlbnRDb21tYW5kcyBzb3J0IHRoZSBjb21tYW5kcylcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBjaGlsZC5vbkVudGVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOkVudGl0eU9iamVjdCk7XG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZHJlbihjaGlsZHJlbjpBcnJheTxFbnRpdHlPYmplY3Q+KTtcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KTtcblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oLi4uYXJncykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5hZGRDaGlsZHJlbihhcmdzWzBdKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9yRWFjaChmdW5jOihlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KSA9PiB2b2lkKXtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmlsdGVyKGZ1bmM6KGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpID0+IGJvb2xlYW4pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmlsdGVyKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNvcnQoZnVuYzooYTpFbnRpdHlPYmplY3QsIGI6RW50aXR5T2JqZWN0KSA9PiBhbnksIGlzU29ydFNlbGYgPSBmYWxzZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5zb3J0KGZ1bmMsIGlzU29ydFNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkcmVuKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZChpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZ2V0Q2hpbGQoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDaGlsZEJ5VWlkKHVpZDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZE9uZSgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnVpZCA9PT0gdWlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZENoaWxkQnlUYWcodGFnOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5maW5kT25lKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaGFzVGFnKHRhZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRCeU5hbWUobmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZE9uZSgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLm5hbWUuc2VhcmNoKG5hbWUpID4gLTE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRyZW5CeU5hbWUobmFtZTpzdHJpbmcpOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZmlsdGVyKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQubmFtZS5zZWFyY2gobmFtZSkgPiAtMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKF9jbGFzczphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENvbXBvbmVudENhY2hlLmhhc0NoaWxkKF9jbGFzcy5uYW1lKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oX2NsYXNzOmFueSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q29tcG9uZW50Q2FjaGUuZ2V0Q2hpbGQoX2NsYXNzLm5hbWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIF9jbGFzczphbnkpe1xuICAgICAgICAgICAgdGhpcy5fZ2V0Q29tcG9uZW50Q2FjaGUuYWRkQ2hpbGQoX2NsYXNzLm5hbWUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBnZXRDb21wb25lbnQ8VD4oX2NsYXNzOmFueSk6VHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuZmluZE9uZSgoY29tcG9uZW50OkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBfY2xhc3M7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ29tcG9uZW50QnlVaWQodWlkOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLmZpbmRPbmUoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LnVpZCA9PT0gdWlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Rmlyc3RDb21wb25lbnQoKTpDb21wb25lbnQge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5nZXRDaGlsZCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmb3JFYWNoQ29tcG9uZW50KGZ1bmM6KGNvbXBvbmVudDpDb21wb25lbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuYyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6RW50aXR5T2JqZWN0IHtcbiAgICAgICAgICAgIGNoaWxkLm9uRXhpdCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUNoaWxkKGNoaWxkKTtcblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzQ29tcG9uZW50KGNvbXBvbmVudDpDb21wb25lbnQpOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBoYXNDb21wb25lbnQoX2NsYXNzOkZ1bmN0aW9uKTpib29sZWFuO1xuXG4gICAgICAgIC8qIVxuICAgICAgICAgbm90IHVzZSBAY2FjaGUsXG4gICAgICAgICBoZXJlIGp1ZGdlIHJldHVybiBkYXRhIG9mIFwiZ2V0Q2hpbGRcIiwgc28gaXQgZG9uJ3QgbmVlZCB0byBpbnZva2UgXCJoYXNDaGlsZFwiXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgaGFzQ29tcG9uZW50KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuX2dldEhhc0NvbXBvbmVudENhY2hlS2V5KGFyZ3NbMF0pLFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2hhc0NvbXBvbmVudENhY2hlLmdldENoaWxkKGtleSk7XG5cbiAgICAgICAgICAgIGlmKHJlc3VsdCAhPT0gdm9pZCAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQ29tcG9uZW5ldChhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNvbXBvbmVudHMuaGFzQ2hpbGQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IF9jbGFzcyA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNvbXBvbmVudHMuaGFzQ2hpbGRXaXRoRnVuYygoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBfY2xhc3M7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2hhc0NvbXBvbmVudENhY2hlLmFkZENoaWxkKGtleSwgcmVzdWx0KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICBpZih0aGlzLmhhc0NvbXBvbmVudChjb21wb25lbnQpKXtcbiAgICAgICAgICAgICAgICBMb2cuYXNzZXJ0KGZhbHNlLCBcInRoZSBjb21wb25lbnQgYWxyZWFkeSBleGlzdFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoY29tcG9uZW50IGluc3RhbmNlb2YgUmVuZGVyZXJDb21wb25lbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihjb21wb25lbnQgaW5zdGFuY2VvZiBBbmltYXRpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY29tcG9uZW50IGluc3RhbmNlb2YgQ29sbGlkZXIpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxpZGVyID0gY29tcG9uZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuYWRkQ2hpbGQoY29tcG9uZW50KTtcblxuICAgICAgICAgICAgY29tcG9uZW50LmFkZFRvT2JqZWN0KHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDpDb21wb25lbnQpO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KF9jbGFzczpGdW5jdGlvbik7XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNvbXBvbmVudCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQ6Q29tcG9uZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIENvbXBvbmVudCl7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gPENvbXBvbmVudD5hcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudDxhbnk+KDxGdW5jdGlvbj5hcmdzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnJlbW92ZUNoaWxkKGNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbXBvbmVudEhhbmRsZXIoY29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnREaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUFsbENvbXBvbmVudCgpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8Q29tcG9uZW50PigpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbXBvbmVudEhhbmRsZXIoY29tcG9uZW50KTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRDaGlsZChjb21wb25lbnQpXG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbmRlcihyZW5kZXJlcjpSZW5kZXJlciwgY2FtZXJhOkdhbWVPYmplY3QpOnZvaWQge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICByZW5kZXJlckNvbXBvbmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLmlzVmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZW9tZXRyeSA9IHRoaXMuX2dldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICByZW5kZXJlckNvbXBvbmVudCA9IHRoaXMuX2dldFJlbmRlcmVyQ29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIGlmKHJlbmRlcmVyQ29tcG9uZW50ICYmIGdlb21ldHJ5KXtcbiAgICAgICAgICAgICAgICByZW5kZXJlckNvbXBvbmVudC5yZW5kZXIocmVuZGVyZXIsIGdlb21ldHJ5LCAgY2FtZXJhKTtcblxuICAgICAgICAgICAgICAgIERlYnVnU3RhdGlzdGljcy5jb3VudC5yZW5kZXJHYW1lT2JqZWN0cysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdldFJlbmRlckxpc3QoKS5mb3JFYWNoKChjaGlsZDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5yZW5kZXIocmVuZGVyZXIsIGNhbWVyYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLl9nZXRBbmltYXRpb24oKSxcbiAgICAgICAgICAgICAgICBjb2xsaWRlciA9IHRoaXMuX2dldENvbGxpZGVyKCk7XG5cbiAgICAgICAgICAgIGlmKGFuaW1hdGlvbil7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uTWFuYWdlci51cGRhdGUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmV4ZWNTY3JpcHQoXCJ1cGRhdGVcIiwgZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZihjb2xsaWRlcil7XG4gICAgICAgICAgICAgICAgY29sbGlkZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iZWZvcmVVcGRhdGVDaGlsZHJlbihlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGV4ZWNTY3JpcHQobWV0aG9kOnN0cmluZyk7XG4gICAgICAgIHB1YmxpYyBleGVjU2NyaXB0KG1ldGhvZDpzdHJpbmcsIGFyZzphbnkpO1xuICAgICAgICBwdWJsaWMgZXhlY1NjcmlwdChtZXRob2Q6c3RyaW5nLCBhcmc6YW55LCBpc0V4ZWNPbmx5T25jZTpib29sZWFuKTtcblxuICAgICAgICBwdWJsaWMgZXhlY1NjcmlwdCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBtZXRob2Q6c3RyaW5nID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NjcmlwdExpc3QuZm9yRWFjaCgoc2NyaXB0OklTY3JpcHRCZWhhdmlvciwgc2NyaXB0TmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0W21ldGhvZF0gJiYgc2NyaXB0W21ldGhvZF0oKTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZGRUb1NjcmlwdEV4ZWN1dGVIaXN0b3J5KHNjcmlwdE5hbWUsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBsZXQgYXJnOmFueSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JpcHRMaXN0LmZvckVhY2goKHNjcmlwdDpJU2NyaXB0QmVoYXZpb3IsIHNjcmlwdE5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFttZXRob2RdICYmIHNjcmlwdFttZXRob2RdKGFyZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRkVG9TY3JpcHRFeGVjdXRlSGlzdG9yeShzY3JpcHROYW1lLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgbGV0IGFyZzphbnkgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBpc0V4ZWNPbmx5T25jZTpib29sZWFuID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NjcmlwdExpc3QuZm9yRWFjaCgoc2NyaXB0OklTY3JpcHRCZWhhdmlvciwgc2NyaXB0TmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNFeGVjT25seU9uY2UgJiYgc2VsZi5faXNTY3JpcHRFeGVjdXRlZChzY3JpcHROYW1lLCBtZXRob2QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFttZXRob2RdICYmIHNjcmlwdFttZXRob2RdKGFyZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRkVG9TY3JpcHRFeGVjdXRlSGlzdG9yeShzY3JpcHROYW1lLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGV4ZWNFdmVudFNjcmlwdChtZXRob2Q6c3RyaW5nLCBhcmc/OmFueSl7XG4gICAgICAgICAgICB0aGlzLl9zY3JpcHRMaXN0LmZvckVhY2goKHNjcmlwdDpJRXZlbnRTY3JpcHRCZWhhdmlvcikgPT4ge1xuICAgICAgICAgICAgICAgIHNjcmlwdFttZXRob2RdICYmIChhcmcgPyBzY3JpcHRbbWV0aG9kXShhcmcpIDogc2NyaXB0W21ldGhvZF0oKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDb21wb25lbnRDb3VudChfY2xhc3M6RnVuY3Rpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgX2NsYXNzO1xuICAgICAgICAgICAgfSkuZ2V0Q291bnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVUcmFuc2Zvcm0oKTpUcmFuc2Zvcm07XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGJlZm9yZVVwZGF0ZUNoaWxkcmVuKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJJbml0Q2hpbGRyZW4oKXtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBiaW5kU3RhcnRMb29wRXZlbnQoKXtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbig8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1AsIHRoaXMuc3RhcnRMb29wSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgYmluZEVuZExvb3BFdmVudCgpe1xuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1AsIHRoaXMuZW5kTG9vcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGdldFJlbmRlckxpc3QoKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzVmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRDb21wb25lbnQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQ29tcG9uZW50KEdlb21ldHJ5KSl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5pbml0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoY29tcG9uZW50IGluc3RhbmNlb2YgR2VvbWV0cnkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNvbXBvbmVudDpDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmluaXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRBbGxDaGlsZHJlbigpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpO1xuICAgICAgICAgICAgdmFyIGdldENoaWxkcmVuID0gKGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkQ2hpbGRyZW4oZW50aXR5T2JqZWN0LmdldENoaWxkcmVuKCkpO1xuXG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnZXRDaGlsZHJlbihjaGlsZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldENoaWxkcmVuKHRoaXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyQ2FjaGUoKXtcbiAgICAgICAgICAgIHRoaXMuX2hhc0NvbXBvbmVudENhY2hlLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLl9nZXRDb21wb25lbnRDYWNoZS5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmdldENvbXBvbmVudENvdW50KEdlb21ldHJ5KSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIG1vcmUgdGhhbiAxIGdlb21ldHJ5IGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEdlb21ldHJ5KCk6R2VvbWV0cnl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZXRDb21wb25lbnRDb3VudChBbmltYXRpb24pIDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImVudGl0eU9iamVjdFwiLCBcImNvbnRhaW4gbW9yZSB0aGFuIDEgYW5pbWF0aW9uIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEFuaW1hdGlvbigpOkFuaW1hdGlvbntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmltYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZ2V0Q29tcG9uZW50Q291bnQoUmVuZGVyZXJDb21wb25lbnQpIDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImVudGl0eU9iamVjdFwiLCBcImNvbnRhaW4gbW9yZSB0aGFuIDEgcmVuZGVyZXJDb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRSZW5kZXJlckNvbXBvbmVudCgpOlJlbmRlcmVyQ29tcG9uZW50e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyQ29tcG9uZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmdldENvbXBvbmVudENvdW50KENvbGxpZGVyKSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIG1vcmUgdGhhbiAxIGNvbGxpZGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVyKCk6Q29sbGlkZXJ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sbGlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZW1vdmVDb21wb25lbnRIYW5kbGVyKGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgY29tcG9uZW50LnJlbW92ZUZyb21PYmplY3QodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRUb1NjcmlwdEV4ZWN1dGVIaXN0b3J5KHNjcmlwdE5hbWU6c3RyaW5nLCBtZXRob2Q6c3RyaW5nKXtcbiAgICAgICAgICAgIHRoaXMuX3NjcmlwdEV4ZWN1dGVIaXN0b3J5LmFkZENoaWxkKHRoaXMuX2J1aWxkU2NyaXB0SGlzdG9yeUtleShzY3JpcHROYW1lLCBtZXRob2QpLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU2NyaXB0RXhlY3V0ZWQoc2NyaXB0TmFtZTpzdHJpbmcsIG1ldGhvZDpzdHJpbmcpOmJvb2xlYW57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NyaXB0RXhlY3V0ZUhpc3RvcnkuZ2V0Q2hpbGQodGhpcy5fYnVpbGRTY3JpcHRIaXN0b3J5S2V5KHNjcmlwdE5hbWUsIG1ldGhvZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRTY3JpcHRIaXN0b3J5S2V5KHNjcmlwdE5hbWU6c3RyaW5nLCBtZXRob2Q6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBgJHtzY3JpcHROYW1lfV8ke21ldGhvZH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbihrZXk6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzU3RyaW5nKGtleSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKGBrZXk6JHtrZXl9YCwgXCJiZSBzdHJpbmdcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRIYXNDb21wb25lbnRDYWNoZUtleSguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNDb21wb25lbmV0KGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgY29tcG9uZW50OkNvbXBvbmVudCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGNvbXBvbmVudC51aWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgX2NsYXNzOmFueSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NsYXNzLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9vbkNvbXBvbmVudENoYW5nZSgpe1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFVJT2JqZWN0IGV4dGVuZHMgRW50aXR5T2JqZWN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmFuc2Zvcm06UmVjdFRyYW5zZm9ybTtcblxuICAgICAgICBwdWJsaWMgbmFtZTpzdHJpbmcgPSBgdWlPYmplY3Qke1N0cmluZyh0aGlzLnVpZCl9YDtcbiAgICAgICAgcHVibGljIHVpTWFuYWdlcjpVSU1hbmFnZXIgPSBVSU1hbmFnZXIuY3JlYXRlKHRoaXMpO1xuXG4gICAgICAgIHByb3RlY3RlZCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248VUlPYmplY3Q+O1xuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVVcGRhdGVDaGlsZHJlbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy51aU1hbmFnZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHJldHVybiBSZWN0VHJhbnNmb3JtLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICBpZihjb21wb25lbnQgaW5zdGFuY2VvZiBVSSl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhIXRoaXMuZ2V0Q29tcG9uZW50KFVJKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJvbmx5IGhhcyBvbmUgVUkgY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGFkZENvbXBvbmVudChjb21wb25lbnQ6Q29tcG9uZW50KXtcbiAgICAgICAgICAgIHN1cGVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGNoaWxkOkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZXRDb21wb25lbnQoVUlSZW5kZXJlcikgPT09IGNoaWxkLmdldENvbXBvbmVudChVSVJlbmRlcmVyKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidGhlIFVJUmVuZGVyZXIgb2YgVUlPYmplY3QgYW5kIGl0cyBjaGlsZHJlblwiLCBcInRoZSBzYW1lIG9uZVwiKSlcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNoaWxkOkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBzdXBlci5hZGRDaGlsZChjaGlsZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEdhbWVPYmplY3QgZXh0ZW5kcyBFbnRpdHlPYmplY3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRyYW5zZm9ybTpUaHJlZURUcmFuc2Zvcm07XG5cbiAgICAgICAgcHVibGljIG5hbWU6c3RyaW5nID0gYGdhbWVPYmplY3Qke1N0cmluZyh0aGlzLnVpZCl9YDtcblxuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+O1xuXG5cbiAgICAgICAgcHVibGljIGdldFNwYWNlUGFydGl0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnQ8U3BhY2VQYXJ0aXRpb24+KFNwYWNlUGFydGl0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDb21wb25lbnQ8VD4oX2NsYXNzOmFueSk6VHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzR2VvbWV0cnkoX2NsYXNzKSl7XG4gICAgICAgICAgICAgICAgbGV0IGxvZDpMT0RDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQ8TE9EQ29udHJvbGxlcj4oTE9EQ29udHJvbGxlcik7XG5cbiAgICAgICAgICAgICAgICBpZihsb2QgJiYgbG9kLmFjdGl2ZUdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8YW55PmxvZC5hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiA8YW55PnN1cGVyLmdldENvbXBvbmVudChfY2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgdmFyIGxvZCA9IHRoaXMuZ2V0Q29tcG9uZW50PExPRENvbnRyb2xsZXI+KExPRENvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICBpZihsb2Qpe1xuICAgICAgICAgICAgICAgIGxvZC51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdXBlci51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVRyYW5zZm9ybSgpe1xuICAgICAgICAgICAgcmV0dXJuIFRocmVlRFRyYW5zZm9ybS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZW5kZXJMaXN0KCl7XG4gICAgICAgICAgICBpZih0aGlzLmhhc0NvbXBvbmVudChPY3RyZWUpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTcGFjZVBhcnRpdGlvbigpLmdldFJlbmRlckxpc3RCeUZydXN0dW1DdWxsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVySW5pdENoaWxkcmVuKCl7XG4gICAgICAgICAgICBpZih0aGlzLmhhc0NvbXBvbmVudChPY3RyZWUpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTcGFjZVBhcnRpdGlvbigpLmJ1aWxkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0dlb21ldHJ5KF9jbGFzczphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIF9jbGFzcy5uYW1lID09PSBcIkdlb21ldHJ5XCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFNjZW5lRGlzcGF0Y2hlciBleHRlbmRzIEVudGl0eU9iamVjdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICAvKiFcbiAgICAgICAgIHVzZSBnYW1lT2JqZWN0U2NlbmUtPnNjcmlwdExpc3QgYXMgc2NlbmUtPnNjcmlwdExpc3RcbiAgICAgICAgICovXG4gICAgICAgIGdldCBzY3JpcHRMaXN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUuc2NyaXB0TGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIVxuICAgICAgICAgdXNlIGdhbWVPYmplY3RTY2VuZS0+YWN0aW9uTWFuYWdlciBhcyBzY2VuZS0+YWN0aW9uTWFuYWdlclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGFjdGlvbk1hbmFnZXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5hY3Rpb25NYW5hZ2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGFtYmllbnRMaWdodCgpOkdhbWVPYmplY3Qge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmFtYmllbnRMaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2V0IGRpcmVjdGlvbkxpZ2h0cygpOiB3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUuZGlyZWN0aW9uTGlnaHRzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBnZXQgcG9pbnRMaWdodHMoKTogd2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnBvaW50TGlnaHRzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBnZXQgc2lkZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNpZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNpZGUoc2lkZTpFU2lkZSl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5zaWRlID0gc2lkZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2V0IHNoYWRvd01hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNoYWRvd01hcDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2hhZG93TWFwKHNoYWRvd01hcDphbnkpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUuc2hhZG93TWFwID0gc2hhZG93TWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHNoYWRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnNoYWRlcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2hhZGVyKHNoYWRlcjpDb21tb25TaGFkZXIpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGN1cnJlbnRDYW1lcmEoKTpHYW1lT2JqZWN0e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmN1cnJlbnRDYW1lcmE7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGN1cnJlbnRDYW1lcmEoYXJnOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUuY3VycmVudENhbWVyYSA9IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc1VzZVByb2dyYW0oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5pc1VzZVByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzVXNlUHJvZ3JhbShpc1VzZVByb2dyYW06Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5pc1VzZVByb2dyYW0gPSBpc1VzZVByb2dyYW07XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcGh5c2ljcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnBoeXNpY3M7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBoeXNpY3MocGh5c2ljczpQaHlzaWNzQ29uZmlnKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnBoeXNpY3MgPSBwaHlzaWNzO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHBoeXNpY3NFbmdpbmVBZGFwdGVyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUucGh5c2ljc0VuZ2luZUFkYXB0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBoeXNpY3NFbmdpbmVBZGFwdGVyKHBoeXNpY3NFbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlcil7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5waHlzaWNzRW5naW5lQWRhcHRlciA9IHBoeXNpY3NFbmdpbmVBZGFwdGVyO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgbmFtZTpzdHJpbmcgPSBgc2NlbmUke1N0cmluZyh0aGlzLnVpZCl9YDtcblxuICAgICAgICBwdWJsaWMgdWlPYmplY3RTY2VuZTpVSU9iamVjdFNjZW5lID0gVUlPYmplY3RTY2VuZS5jcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGdhbWVPYmplY3RTY2VuZTpHYW1lT2JqZWN0U2NlbmUgPSBHYW1lT2JqZWN0U2NlbmUuY3JlYXRlKCk7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChTY2VuZUV2ZW50VHJpZ2dlckRldGVjdG9yLmNyZWF0ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1c2VQcm9ncmFtKHNoYWRlcjpDb21tb25TaGFkZXIpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUudXNlUHJvZ3JhbShzaGFkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVuVXNlUHJvZ3JhbSgpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUudW5Vc2VQcm9ncmFtKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGQoY2hpbGQ6RW50aXR5T2JqZWN0KTpFbnRpdHlPYmplY3R7XG4gICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIEdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY2hpbGQgaW5zdGFuY2VvZiBVSU9iamVjdCl7XG4gICAgICAgICAgICAgICAgdGhpcy51aU9iamVjdFNjZW5lLmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXI6UHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5hZGRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIocmVuZGVyVGFyZ2V0UmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZVJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyOlJlbmRlclRhcmdldFJlbmRlcmVyKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnJlbW92ZVJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnVpT2JqZWN0U2NlbmUuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6Ym9vbGVhbiB7XG4gICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIEdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3RTY2VuZS5oYXNDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNoaWxkIGluc3RhbmNlb2YgVUlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVpT2JqZWN0U2NlbmUuaGFzQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOkVudGl0eU9iamVjdCk7XG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZHJlbihjaGlsZHJlbjpBcnJheTxFbnRpdHlPYmplY3Q+KTtcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KTtcblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkOkVudGl0eU9iamVjdCA9IDxFbnRpdHlPYmplY3Q+YXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIHdkQ2IuQ29sbGVjdGlvbil7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+ID0gPHdkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+PmFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRyZW46QXJyYXk8RW50aXR5T2JqZWN0PiA9IDxBcnJheTxFbnRpdHlPYmplY3Q+PmFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBmb3IobGV0IGNoaWxkIG9mIGNoaWxkcmVuKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZHJlbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmdldENoaWxkcmVuKCkuYWRkQ2hpbGRyZW4odGhpcy51aU9iamVjdFNjZW5lLmdldENoaWxkcmVuKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDaGlsZEJ5VWlkKHVpZDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZ2FtZU9iamVjdFNjZW5lLmZpbmRDaGlsZEJ5VWlkKHVpZCk7XG5cbiAgICAgICAgICAgIGlmKCFyZXN1bHQpe1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMudWlPYmplY3RTY2VuZS5maW5kQ2hpbGRCeVVpZCh1aWQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZENoaWxkQnlUYWcodGFnOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5nYW1lT2JqZWN0U2NlbmUuZmluZENoaWxkQnlUYWcodGFnKTtcblxuICAgICAgICAgICAgaWYoIXJlc3VsdCl7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy51aU9iamVjdFNjZW5lLmZpbmRDaGlsZEJ5VGFnKHRhZylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ2hpbGRCeU5hbWUobmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZ2FtZU9iamVjdFNjZW5lLmZpbmRDaGlsZEJ5TmFtZShuYW1lKTtcblxuICAgICAgICAgICAgaWYoIXJlc3VsdCl7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy51aU9iamVjdFNjZW5lLmZpbmRDaGlsZEJ5TmFtZShuYW1lKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDaGlsZHJlbkJ5TmFtZShuYW1lOnN0cmluZyk6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0U2NlbmUuZmluZENoaWxkcmVuQnlOYW1lKG5hbWUpLmFkZENoaWxkcmVuKHRoaXMudWlPYmplY3RTY2VuZS5maW5kQ2hpbGRyZW5CeU5hbWUobmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGNoaWxkOkVudGl0eU9iamVjdCk6RW50aXR5T2JqZWN0IHtcbiAgICAgICAgICAgIGlmKGNoaWxkIGluc3RhbmNlb2YgR2FtZU9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iamVjdFNjZW5lLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoY2hpbGQgaW5zdGFuY2VvZiBVSU9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudWlPYmplY3RTY2VuZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25TdGFydExvb3AoKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5vblN0YXJ0TG9vcCgpO1xuICAgICAgICAgICAgdGhpcy51aU9iamVjdFNjZW5lLm9uU3RhcnRMb29wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbmRMb29wKCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUub25FbmRMb29wKCk7XG4gICAgICAgICAgICB0aGlzLnVpT2JqZWN0U2NlbmUub25FbmRMb29wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbnRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLm9uRW50ZXIoKTtcbiAgICAgICAgICAgIHRoaXMudWlPYmplY3RTY2VuZS5vbkVudGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FeGl0KCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0U2NlbmUub25FeGl0KCk7XG4gICAgICAgICAgICB0aGlzLnVpT2JqZWN0U2NlbmUub25FeGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25EaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3RTY2VuZS5vbkRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMudWlPYmplY3RTY2VuZS5vbkRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBleGVjU2NyaXB0KG1ldGhvZDpzdHJpbmcsIGFyZz86YW55KXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmV4ZWNTY3JpcHQuYXBwbHkodGhpcy5nYW1lT2JqZWN0U2NlbmUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZXhlY0V2ZW50U2NyaXB0KG1ldGhvZDpzdHJpbmcsIGFyZz86YW55KXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdFNjZW5lLmV4ZWNFdmVudFNjcmlwdC5hcHBseSh0aGlzLmdhbWVPYmplY3RTY2VuZSwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUcmFuc2Zvcm0oKXtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTY2VuZSBleHRlbmRzIEVudGl0eU9iamVjdCB7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0U2NlbmUgZXh0ZW5kcyBTY2VuZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgYW1iaWVudExpZ2h0KCk6R2FtZU9iamVjdCB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHRNYW5hZ2VyLmFtYmllbnRMaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBkaXJlY3Rpb25MaWdodHMoKTogd2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0TWFuYWdlci5kaXJlY3Rpb25MaWdodHM7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcG9pbnRMaWdodHMoKTogd2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0TWFuYWdlci5wb2ludExpZ2h0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRDYW1lcmE6R2FtZU9iamVjdCA9IG51bGw7XG4gICAgICAgIGdldCBjdXJyZW50Q2FtZXJhKCk6YW55e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDYW1lcmEgfHwgdGhpcy5fY2FtZXJhTGlzdC5nZXRDaGlsZCgwKTtcbiAgICAgICAgfVxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihhcmc6YW55KXtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnKSl7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4Om51bWJlciA9IGFyZztcblxuICAgICAgICAgICAgICAgIGFzc2VydCghIXRoaXMuX2NhbWVyYUxpc3QuZ2V0Q2hpbGQoaW5kZXgpLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChcImN1cnJlbnQgY2FtZXJhIGluIGNhbWVyYUxpc3RcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBzZXQgY3VycmVudENhbWVyYShhcmc6YW55KXtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnKSl7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4Om51bWJlciA9IGFyZztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDYW1lcmEgPSB0aGlzLl9jYW1lcmFMaXN0LmdldENoaWxkKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJnIGluc3RhbmNlb2YgR2FtZU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYW1lcmE6R2FtZU9iamVjdCA9IGFyZztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDYW1lcmEgPSBjdXJyZW50Q2FtZXJhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNpZGU6RVNpZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2hhZG93TWFwID0gU2hhZG93TWFwTW9kZWwuY3JlYXRlKHRoaXMpO1xuICAgICAgICBwdWJsaWMgc2hhZGVyOkNvbW1vblNoYWRlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1VzZVByb2dyYW06Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGh5c2ljcyA9IFBoeXNpY3NDb25maWcuY3JlYXRlKCk7XG4gICAgICAgIHB1YmxpYyBwaHlzaWNzRW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2xpZ2h0TWFuYWdlcjpMaWdodE1hbmFnZXIgPSBMaWdodE1hbmFnZXIuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX3JlbmRlclRhcmdldFJlbmRlcmVyTGlzdDp3ZENiLkNvbGxlY3Rpb248UmVuZGVyVGFyZ2V0UmVuZGVyZXI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxSZW5kZXJUYXJnZXRSZW5kZXJlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfcHJvY2VkdXJhbFJlbmRlcmVyTGlzdDp3ZENiLkNvbGxlY3Rpb248UHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8UHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyPigpO1xuICAgICAgICBwcml2YXRlIF9jb2xsaXNpb25EZXRlY3RvcjpDb2xsaXNpb25EZXRlY3RvciA9IENvbGxpc2lvbkRldGVjdG9yLmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9jYW1lcmFMaXN0OndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgaWYodGhpcy5waHlzaWNzLmVuYWJsZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzRW5naW5lQWRhcHRlciA9IFBoeXNpY3NFbmdpbmVGYWN0b3J5LmNyZWF0ZSh0aGlzLnBoeXNpY3MuZW5naW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3NFbmdpbmVBZGFwdGVyLmluaXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXRSZW5kZXJlckxpc3QuZm9yRWFjaCgocmVuZGVyVGFyZ2V0UmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIpID0+IHJlbmRlclRhcmdldFJlbmRlcmVyLmluaXQoKSk7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsUmVuZGVyZXJMaXN0LmZvckVhY2goKHJlbmRlclRhcmdldFJlbmRlcmVyOlByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcikgPT4gcmVuZGVyVGFyZ2V0UmVuZGVyZXIuaW5pdCgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXNlUHJvZ3JhbShzaGFkZXI6Q29tbW9uU2hhZGVyKXtcbiAgICAgICAgICAgIHRoaXMuaXNVc2VQcm9ncmFtID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdW5Vc2VQcm9ncmFtKCl7XG4gICAgICAgICAgICB0aGlzLmlzVXNlUHJvZ3JhbSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNoaWxkOkdhbWVPYmplY3QpOkdhbWVPYmplY3R7XG4gICAgICAgICAgICB2YXIgY2FtZXJhTGlzdCA9IHRoaXMuX2dldENhbWVyYXMoY2hpbGQpLFxuICAgICAgICAgICAgICAgIGxpZ2h0TGlzdCA9IHRoaXMuX2dldExpZ2h0cyhjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmKGNhbWVyYUxpc3QuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYUxpc3QuYWRkQ2hpbGRyZW4oY2FtZXJhTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihsaWdodExpc3QuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpZ2h0TWFuYWdlci5hZGRDaGlsZHJlbihsaWdodExpc3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gPEdhbWVPYmplY3Q+c3VwZXIuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyOlJlbmRlclRhcmdldFJlbmRlcmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcmdldFJlbmRlcmVyTGlzdC5hZGRDaGlsZChyZW5kZXJUYXJnZXRSZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyKHJlbmRlclRhcmdldFJlbmRlcmVyOlByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcil7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsUmVuZGVyZXJMaXN0LmFkZENoaWxkKHJlbmRlclRhcmdldFJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVSZW5kZXJUYXJnZXRSZW5kZXJlcihyZW5kZXJUYXJnZXRSZW5kZXJlcjpSZW5kZXJUYXJnZXRSZW5kZXJlcil7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXRSZW5kZXJlckxpc3QucmVtb3ZlQ2hpbGQocmVuZGVyVGFyZ2V0UmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDYW1lcmFDb21wb25lbnQgPSB0aGlzLl9nZXRDdXJyZW50Q2FtZXJhQ29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMucGh5c2ljcy5lbmFibGUpe1xuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljc0VuZ2luZUFkYXB0ZXIudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoY3VycmVudENhbWVyYUNvbXBvbmVudCl7XG4gICAgICAgICAgICAgICAgY3VycmVudENhbWVyYUNvbXBvbmVudC51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdXBlci51cGRhdGUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb2xsaXNpb25EZXRlY3Rvci5kZXRlY3QodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcmdldFJlbmRlcmVyTGlzdC5mb3JFYWNoKCh0YXJnZXQ6UmVuZGVyVGFyZ2V0UmVuZGVyZXIpID0+e1xuICAgICAgICAgICAgICAgIHRhcmdldC5yZW5kZXIocmVuZGVyZXIsIHNlbGYuY3VycmVudENhbWVyYSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgc3VwZXIucmVuZGVyKHJlbmRlcmVyLCB0aGlzLmN1cnJlbnRDYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVRyYW5zZm9ybSgpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZW5kZXJQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpe1xuICAgICAgICAgICAgdGhpcy5fcHJvY2VkdXJhbFJlbmRlcmVyTGlzdC5maWx0ZXIoKHRhcmdldDpQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIpID0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm5lZWRSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKCh0YXJnZXQ6UHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyKSA9PntcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRDYW1lcmFzKGdhbWVPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmluZChnYW1lT2JqZWN0LCB0aGlzLl9pc0NhbWVyYSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRMaWdodHMoZ2FtZU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maW5kKGdhbWVPYmplY3QsIHRoaXMuX2lzTGlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZChnYW1lT2JqZWN0OkdhbWVPYmplY3QsIGp1ZGdlRnVuYyl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcmVzdWx0QXJyOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKTtcbiAgICAgICAgICAgIHZhciBmaW5kID0gKGdhbWVPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGp1ZGdlRnVuYy5jYWxsKHNlbGYsIGdhbWVPYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0QXJyLmFkZENoaWxkKGdhbWVPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdhbWVPYmplY3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaW5kKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmluZChnYW1lT2JqZWN0KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEFycjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ2FtZXJhKGNoaWxkOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmhhc0NvbXBvbmVudChDYW1lcmFDb250cm9sbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTGlnaHQoY2hpbGQ6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuaGFzQ29tcG9uZW50KExpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEN1cnJlbnRDYW1lcmFDb21wb25lbnQoKTpDYW1lcmFDb250cm9sbGVye1xuICAgICAgICAgICAgaWYoIXRoaXMuY3VycmVudENhbWVyYSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDYW1lcmEuZ2V0Q29tcG9uZW50KENhbWVyYUNvbnRyb2xsZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIFBoeXNpY3NDb25maWd7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ncmF2aXR5OlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAtOS44LCAwKTtcbiAgICAgICAgQG9wZXJhdGVXb3JsZERhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJHcmF2aXR5XCIpXG4gICAgICAgIGdldCBncmF2aXR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ3Jhdml0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZ3Jhdml0eShncmF2aXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fZ3Jhdml0eSA9IGdyYXZpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW5hYmxlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGVuZ2luZTpFUGh5c2ljc0VuZ2luZVR5cGUgPSBFUGh5c2ljc0VuZ2luZVR5cGUuQ0FOTk9OO1xuICAgICAgICBwdWJsaWMgaXRlcmF0aW9uczpudW1iZXIgPSAxMDtcbiAgICB9XG5cblxuICAgIGV4cG9ydCB0eXBlIFNoYWRvd01hcENvbmZpZyA9IHtcbiAgICAgICAgZW5hYmxlOmJvb2xlYW47XG4gICAgICAgIHNvZnRUeXBlOkVTaGFkb3dNYXBTb2Z0VHlwZVxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVTaGFkb3dNYXBTb2Z0VHlwZXtcbiAgICAgICAgTk9ORSxcbiAgICAgICAgUENGXG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIFNoYWRvd01hcE1vZGVse1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShzY2VuZTpHYW1lT2JqZWN0U2NlbmUpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoc2NlbmUpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NjZW5lOkdhbWVPYmplY3RTY2VuZSA9IG51bGw7XG5cbiAgICAgICAgY29uc3RydWN0b3Ioc2NlbmU6R2FtZU9iamVjdFNjZW5lKXtcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lID0gc2NlbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9lbmFibGU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIGdldCBlbmFibGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGVuYWJsZShlbmFibGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGUgPSBlbmFibGU7XG5cbiAgICAgICAgICAgIC8vdG9kbyBzZW5kIGV2ZW50IGlmIG5lZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NvZnRUeXBlOkVTaGFkb3dNYXBTb2Z0VHlwZSA9IEVTaGFkb3dNYXBTb2Z0VHlwZS5OT05FO1xuICAgICAgICBnZXQgc29mdFR5cGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb2Z0VHlwZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc29mdFR5cGUoc29mdFR5cGU6RVNoYWRvd01hcFNvZnRUeXBlKXtcbiAgICAgICAgICAgIGlmKHNvZnRUeXBlICE9PSB0aGlzLl9zb2Z0VHlwZSl7XG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmJyb2FkY2FzdCh0aGlzLl9zY2VuZSwgQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LlNIQURPV01BUF9TT0ZUVFlQRV9DSEFOR0UpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NvZnRUeXBlID0gc29mdFR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFVJT2JqZWN0U2NlbmUgZXh0ZW5kcyBTY2VuZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25FbmRMb29wKCkge1xuICAgICAgICAgICAgc3VwZXIub25FbmRMb29wKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0QWxsVHJhbnNmb3JtU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0QWxsUmVuZGVyZXJDbGVhckNhbnZhc0ZsYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvblN0YXJ0TG9vcCgpe1xuICAgICAgICAgICAgc3VwZXIub25TdGFydExvb3AoKTtcblxuICAgICAgICAgICAgdGhpcy5fc29ydFNpYmxpbmdDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVRyYW5zZm9ybSgpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydChjaGlsZCBpbnN0YW5jZW9mIFVJT2JqZWN0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJjaGlsZFwiLCBcIlVJT2JqZWN0XCIpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2hpbGQuaGFzQ29tcG9uZW50KFVJKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJVSU9iamVjdFwiLCBcImNvbnRhaW4gdWkgY29tcG9uZW50XCIpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVVcGRhdGVDaGlsZHJlbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNldEFsbFJlbmRlcmVyU3RhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgaWYocmVuZGVyZXIuZGlydHkpe1xuICAgICAgICAgICAgICAgICAgICBpZighcmVuZGVyZXIuaXNDbGVhckNhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuY2xlYXJDYW52YXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmRpcnR5RHVyaW5nQ3VycmVudExvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5ESVJUWTtcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5yZXNldERpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlbmRlcmVyLnN0YXRlICE9PSBFVUlSZW5kZXJlclN0YXRlLkRJUlRZKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5OT1RfRElSVFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiaW5kU3RhcnRMb29wRXZlbnQoKXtcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbih0aGlzLCA8YW55PkVFbmdpbmVFdmVudC5TVEFSVExPT1AsIHRoaXMuc3RhcnRMb29wSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYmluZEVuZExvb3BFdmVudCgpe1xuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKHRoaXMsIDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1AsIHRoaXMuZW5kTG9vcEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odWlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgYXNzZXJ0KHVpT2JqZWN0LmdldENvbXBvbmVudENvdW50KFVJUmVuZGVyZXIpIDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInVpT2JqZWN0XCIsIFwiY29udGFpbiBtb3JlIHRoYW4gMSB1aVJlbmRlcmVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldFVJUmVuZGVyZXIodWlPYmplY3Q6VUlPYmplY3QpOlVJUmVuZGVyZXJ7XG4gICAgICAgICAgICByZXR1cm4gdWlPYmplY3QuZ2V0Q29tcG9uZW50PFVJUmVuZGVyZXI+KFVJUmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmdldEFsbENoaWxkcmVuKCkuZm9yRWFjaCgoY2hpbGQ6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gc2VsZi5fZ2V0VUlSZW5kZXJlcihjaGlsZCk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoIXJlbmRlcmVyLmlzQ2xlYXJDYW52YXMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwicmVzZXQgYWxsIFVJUmVuZGVyZXJzLT5pc0NsZWFyQ2FudmFzXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9yZXNldEFsbFJlbmRlcmVyQ2xlYXJDYW52YXNGbGFnKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBzZWxmLl9nZXRVSVJlbmRlcmVyKGNoaWxkKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5pc0NsZWFyQ2FudmFzID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5nZXRBbGxDaGlsZHJlbigpLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHJlbmRlcmVyLnN0YXRlID09PSBFVUlSZW5kZXJlclN0YXRlLk5PUk1BTCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJyZXNldCBhbGwgVUlSZW5kZXJlcnMtPnN0YXRlXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9yZXNldEFsbFJlbmRlcmVyU3RhdGUoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW5kZXJlciA9IHNlbGYuX2dldFVJUmVuZGVyZXIoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc3RhdGUgPSBFVUlSZW5kZXJlclN0YXRlLk5PUk1BTDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzZXRBbGxUcmFuc2Zvcm1TdGF0ZSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgcmVzZXQgPSAodWlPYmplY3Q6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZihzZWxmLl9pc05vdERpcnR5RHVyaW5nVGhpc0xvb3Aoc2VsZi5fZ2V0VUlSZW5kZXJlcih1aU9iamVjdCkpKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVzZXRUcmFuc2Zvcm1GbGFnKHVpT2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1aU9iamVjdC5mb3JFYWNoKChjaGlsZDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNldChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaCgoY2hpbGQ6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNldChjaGlsZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTm90RGlydHlEdXJpbmdUaGlzTG9vcChyZW5kZXJlcjpVSVJlbmRlcmVyKXtcbiAgICAgICAgICAgIHJldHVybiAhcmVuZGVyZXIuZGlydHlEdXJpbmdDdXJyZW50TG9vcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc2V0VHJhbnNmb3JtRmxhZyh1aU9iamVjdDpVSU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtOlJlY3RUcmFuc2Zvcm0gPSB1aU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybS5pc1RyYW5zbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJhbnNmb3JtLmlzU2NhbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5pc1JvdGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgXCJwdXQgYWxsIGNoaWxkcmVuIHRvZ2V0aGVyLCBzbyBpdCBjYW4gc29ydCBhbGwgY2hpbGRyZW4gYnkgekluZGV4XCI/XG4gICAgICAgIHByaXZhdGUgX3NvcnRTaWJsaW5nQ2hpbGRyZW4oKXtcbiAgICAgICAgICAgIHZhciBzb3J0ID0gKHVpT2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpT2JqZWN0LnNvcnQoKGE6VUlPYmplY3QsIGI6VUlPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudHJhbnNmb3JtLnpJbmRleCAtIGIudHJhbnNmb3JtLnpJbmRleDtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHVpT2JqZWN0LmZvckVhY2goKGNoaWxkOlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3J0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbGxpc2lvbkRldGVjdG9ye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9sYXN0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY29sbGlzaW9uVGFibGU6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj4gPSB3ZENiLkhhc2guY3JlYXRlPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj4oKTtcblxuICAgICAgICAvL3RvZG8gb3B0aW1pemUgY29sbGlzaW9uXG4gICAgICAgIHB1YmxpYyBkZXRlY3Qoc2NlbmU6R2FtZU9iamVjdFNjZW5lKXtcbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTp1c2Ugd29ya2VyXG4gICAgICAgICAgICB2YXIgY2hlY2tUYXJnZXRMaXN0ID0gc2NlbmUuZmlsdGVyKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChDb2xsaWRlcikgfHwgSnVkZ2VVdGlscy5pc1NwYWNlUGFydGl0aW9uT2JqZWN0KGVudGl0eU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sbGlzaW9uVGFibGUoKTtcblxuICAgICAgICAgICAgY2hlY2tUYXJnZXRMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChSaWdpZEJvZHkpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB7dGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzfSA9IHNlbGYuX2dldENvbGxpZGVPYmplY3RzKGVudGl0eU9iamVjdCwgY2hlY2tUYXJnZXRMaXN0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLmZvckVhY2goKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldENvbGxpZGVPYmplY3RzLmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzQ29sbGlzaW9uU3RhcnQoc291cmNlT2JqZWN0KSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VPYmplY3QuZXhlY1NjcmlwdChcIm9uQ29sbGlzaW9uU3RhcnRcIiwgdGFyZ2V0Q29sbGlkZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZU9iamVjdC5leGVjU2NyaXB0KFwib25Db250YWN0XCIsIHRhcmdldENvbGxpZGVPYmplY3RzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXJDb2xsaXNpb25FdmVudE9mQ29sbGlkZU9iamVjdFdoaWNoSGFzUmlnaWRCb2R5KHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VPYmplY3QsIFtcIm9uQ29sbGlzaW9uU3RhcnRcIiwgXCJvbkNvbnRhY3RcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VPYmplY3QuZXhlY1NjcmlwdChcIm9uQ29udGFjdFwiLCB0YXJnZXRDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlckNvbGxpc2lvbkV2ZW50T2ZDb2xsaWRlT2JqZWN0V2hpY2hIYXNSaWdpZEJvZHkodGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZU9iamVjdCwgW1wib25Db250YWN0XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlT2JqZWN0LmFkZFRhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFzdENvbGxpZGVPYmplY3RzID0gdGFyZ2V0Q29sbGlkZU9iamVjdHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzQ29sbGlzaW9uRW5kKHNvdXJjZU9iamVjdCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZU9iamVjdC5leGVjU2NyaXB0KFwib25Db2xsaXNpb25FbmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlckNvbGxpc2lvbkV2ZW50T2ZDb2xsaWRlT2JqZWN0V2hpY2hIYXNSaWdpZEJvZHkoc2VsZi5fbGFzdENvbGxpZGVPYmplY3RzLCBzb3VyY2VPYmplY3QsIFtcIm9uQ29sbGlzaW9uRW5kXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlT2JqZWN0LnJlbW92ZVRhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBjaGVja1RhcmdldExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0YXJnZXRPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRhcmdldE9iamVjdFwiLCBcImJlIEdhbWVPYmplY3RcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBjaGVja1RhcmdldExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDb2xsaWRlT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlT2JqZWN0cyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzU3BhY2VQYXJ0aXRpb25PYmplY3Qoc291cmNlT2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc1NlbGYoc291cmNlT2JqZWN0LCB0YXJnZXRPYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTcGFjZVBhcnRpdGlvbk9iamVjdCh0YXJnZXRPYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRPYmplY3QuZ2V0U3BhY2VQYXJ0aXRpb24oKSwgc291cmNlT2JqZWN0LmdldFNwYWNlUGFydGl0aW9uKCksIHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKHRhcmdldE9iamVjdCwgc291cmNlT2JqZWN0LmdldFNwYWNlUGFydGl0aW9uKCksIHRhcmdldENvbGxpZGVPYmplY3RzLCBzb3VyY2VDb2xsaWRlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZENvbGxpc2lvblRhcmdldHModGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcblxuICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHM6dGFyZ2V0Q29sbGlkZU9iamVjdHMucmVtb3ZlUmVwZWF0SXRlbXMoKSxcbiAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOnNvdXJjZUNvbGxpZGVPYmplY3RzLnJlbW92ZVJlcGVhdEl0ZW1zKClcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291cmNlQ29sbGlkZXIgPSBzb3VyY2VPYmplY3QuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcik7XG5cbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0TGlzdC5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTZWxmKHNvdXJjZU9iamVjdCwgdGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzU3BhY2VQYXJ0aXRpb25PYmplY3QodGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKHRhcmdldE9iamVjdC5nZXRTcGFjZVBhcnRpdGlvbigpLCBzb3VyY2VDb2xsaWRlciwgc291cmNlT2JqZWN0LCB0YXJnZXRDb2xsaWRlT2JqZWN0cywgc291cmNlQ29sbGlkZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c0J5R2FtZU9iamVjdFRvR2FtZU9iamVjdChzb3VyY2VPYmplY3QsIHNvdXJjZUNvbGxpZGVyLCB0YXJnZXRPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHMuYWRkQ2hpbGQoc291cmNlT2JqZWN0KTtcblxuICAgICAgICAgICAgaWYodGFyZ2V0Q29sbGlkZU9iamVjdHMuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZENvbGxpc2lvblRhcmdldHModGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0czp0YXJnZXRDb2xsaWRlT2JqZWN0cy5yZW1vdmVSZXBlYXRJdGVtcygpLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOnNvdXJjZUNvbGxpZGVPYmplY3RzLnJlbW92ZVJlcGVhdEl0ZW1zKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciwgdGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pil7XG4gICAgICAgICAgICBhc3NlcnQoc291cmNlT2JqZWN0IGluc3RhbmNlb2YgR2FtZU9iamVjdCAmJiB0YXJnZXRPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNvdXJjZU9iamVjdCBhbmQgdGFyZ2V0T2JqZWN0XCIsIFwiYmUgR2FtZU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzQnlHYW1lT2JqZWN0VG9HYW1lT2JqZWN0KHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCBzb3VyY2VDb2xsaWRlcjpDb2xsaWRlciwgdGFyZ2V0T2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pil7XG4gICAgICAgICAgICBpZih0aGlzLl9pc1RhcmdldENvbGxpZGVkV2l0aFNvdXJjZUluQ3VycmVudEZyYW1lKHNvdXJjZU9iamVjdCwgdGFyZ2V0T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHMuYWRkQ2hpbGQodGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoXG4gICAgICAgICAgICAgICAgISh0aGlzLl9pc05vdFRyYW5zZm9ybShzb3VyY2VPYmplY3QpICYmIHRoaXMuX2lzTm90VHJhbnNmb3JtKHRhcmdldE9iamVjdCkgJiYgIXNvdXJjZU9iamVjdC5oYXNUYWcoPGFueT5FQ29sbGlzaW9uVGFnLkNPTExJREVEKSlcbiAgICAgICAgICAgICAgICAmJiBzb3VyY2VDb2xsaWRlci5pc0NvbGxpZGUodGFyZ2V0T2JqZWN0KVxuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0cy5hZGRDaGlsZCh0YXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDb2xsaXNpb25UYWJsZSgpe1xuICAgICAgICAgICAgdGhpcy5fY29sbGlzaW9uVGFibGUucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVGFyZ2V0Q29sbGlkZWRXaXRoU291cmNlSW5DdXJyZW50RnJhbWUoc291cmNlT2JqZWN0OkdhbWVPYmplY3QsIHRhcmdldE9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDb2xsaWRlT2JqZWN0cyA9IHRoaXMuX2NvbGxpc2lvblRhYmxlLmdldENoaWxkKFN0cmluZyh0YXJnZXRPYmplY3QudWlkKSk7XG5cbiAgICAgICAgICAgIGlmKCF0YXJnZXRDb2xsaWRlT2JqZWN0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldENvbGxpZGVPYmplY3RzLmhhc0NoaWxkV2l0aEZ1bmMoKHRhcmdldENvbGxpZGVPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzRXF1YWwodGFyZ2V0Q29sbGlkZU9iamVjdCwgc291cmNlT2JqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVjb3JkQ29sbGlzaW9uVGFyZ2V0cyh0YXJnZXRDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pil7XG4gICAgICAgICAgICB2YXIgdGFibGUgPSB0aGlzLl9jb2xsaXNpb25UYWJsZTtcblxuICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHMuZm9yRWFjaCgoc291cmNlT2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0cy5mb3JFYWNoKCh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChTdHJpbmcoc291cmNlT2JqZWN0LnVpZCksIHRhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldENvbGxpZGVPYmplY3RzV2l0aFNwYWNlUGFydGl0aW9uKHRhcmdldE9iamVjdDpHYW1lT2JqZWN0LCBzb3VyY2VTcGFjZVBhcnRpdGlvbjpTcGFjZVBhcnRpdGlvbiwgdGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBzb3VyY2VDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pO1xuICAgICAgICBwcml2YXRlIF9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRTcGFjZVBhcnRpdGlvbjpTcGFjZVBhcnRpdGlvbiwgc291cmNlU3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24sIHRhcmdldENvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Piwgc291cmNlQ29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KTtcblxuICAgICAgICBwcml2YXRlIF9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRTcGFjZVBhcnRpdGlvbjpTcGFjZVBhcnRpdGlvbiwgc291cmNlQ29sbGlkZXI6Q29sbGlkZXIsIHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0LCB0YXJnZXRDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pik7XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q29sbGlkZU9iamVjdHNXaXRoU3BhY2VQYXJ0aXRpb24oLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDQpe1xuICAgICAgICAgICAgICAgIGlmKGFyZ3NbMF0gaW5zdGFuY2VvZiBHYW1lT2JqZWN0ICYmIGFyZ3NbMV0gaW5zdGFuY2VvZiBTcGFjZVBhcnRpdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VTcGFjZVBhcnRpdGlvbjpTcGFjZVBhcnRpdGlvbiA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb2xsaWRlT2JqZWN0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbGxpZGVyID0gdGFyZ2V0T2JqZWN0LmdldENvbXBvbmVudDxDb2xsaWRlcj4oQ29sbGlkZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgc291cmNlU3BhY2VQYXJ0aXRpb24uZ2V0Q29sbGlkZU9iamVjdHModGFyZ2V0Q29sbGlkZXIuc2hhcGUpLmZvckVhY2goKHNvdXJjZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c0J5R2FtZU9iamVjdFRvR2FtZU9iamVjdCh0YXJnZXRPYmplY3QsIHRhcmdldENvbGxpZGVyLCBzb3VyY2VPYmplY3QsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoc291cmNlQ29sbGlkZU9iamVjdHMuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHMuYWRkQ2hpbGQodGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzLmFkZENoaWxkcmVuKHNvdXJjZVNwYWNlUGFydGl0aW9uLmdldENoaWxkcmVuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKGFyZ3NbMF0gaW5zdGFuY2VvZiBTcGFjZVBhcnRpdGlvbiAmJiBhcmdzWzFdIGluc3RhbmNlb2YgU3BhY2VQYXJ0aXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlU3BhY2VQYXJ0aXRpb246U3BhY2VQYXJ0aXRpb24gPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVPYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VTcGFjZVBhcnRpdGlvbi5nZXRDaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoc291cmNlT2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlQ29sbGlkZXIgPSBzb3VyY2VPYmplY3QuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9nZXRDb2xsaWRlT2JqZWN0c1dpdGhTcGFjZVBhcnRpdGlvbih0YXJnZXRTcGFjZVBhcnRpdGlvbiwgc291cmNlQ29sbGlkZXIsIHNvdXJjZU9iamVjdCwgdGFyZ2V0Q29sbGlkZU9iamVjdHMsIHNvdXJjZUNvbGxpZGVPYmplY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDUpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRTcGFjZVBhcnRpdGlvbjpTcGFjZVBhcnRpdGlvbiA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvbGxpZGVyOkNvbGxpZGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlT2JqZWN0ID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gYXJnc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZighc291cmNlQ29sbGlkZXIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0U3BhY2VQYXJ0aXRpb24uZ2V0Q29sbGlkZU9iamVjdHMoc291cmNlQ29sbGlkZXIuc2hhcGUpLmZvckVhY2goKHRhcmdldE9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dldENvbGxpZGVPYmplY3RzQnlHYW1lT2JqZWN0VG9HYW1lT2JqZWN0KHNvdXJjZU9iamVjdCwgc291cmNlQ29sbGlkZXIsIHRhcmdldE9iamVjdCwgdGFyZ2V0Q29sbGlkZU9iamVjdHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQ29sbGlkZU9iamVjdHMuYWRkQ2hpbGQoc291cmNlT2JqZWN0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ29sbGlzaW9uU3RhcnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuICFlbnRpdHlPYmplY3QuaGFzVGFnKDxhbnk+RUNvbGxpc2lvblRhZy5DT0xMSURFRCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0NvbGxpc2lvbkVuZChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0Lmhhc1RhZyg8YW55PkVDb2xsaXNpb25UYWcuQ09MTElERUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdHJpZ2dlckNvbGxpc2lvbkV2ZW50T2ZDb2xsaWRlT2JqZWN0V2hpY2hIYXNSaWdpZEJvZHkoY29sbGlkZU9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBjdXJyZW50R2FtZU9iamVjdDpHYW1lT2JqZWN0LCBldmVudExpc3Q6QXJyYXk8c3RyaW5nPil7XG4gICAgICAgICAgICBjb2xsaWRlT2JqZWN0cy5maWx0ZXIoKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KFJpZ2lkQm9keSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgZXZlbnROYW1lIG9mIGV2ZW50TGlzdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlT2JqZWN0LmV4ZWNTY3JpcHQoZXZlbnROYW1lLCB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlKFtjdXJyZW50R2FtZU9iamVjdF0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNOb3RUcmFuc2Zvcm0oZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmV0dXJuICFlbnRpdHlPYmplY3QudHJhbnNmb3JtLmlzVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW51bSBFQ29sbGlzaW9uVGFne1xuICAgICAgICBDT0xMSURFRCA9IDxhbnk+XCJDT0xMSURFRFwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudExpc3RlbmVyTWFwe1xuICAgICAgICBwcm90ZWN0ZWQgbGlzdGVuZXJNYXA6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxFdmVudFJlZ2lzdGVyRGF0YT4+ID0gd2RDYi5IYXNoLmNyZWF0ZTx3ZENiLkNvbGxlY3Rpb248RXZlbnRSZWdpc3RlckRhdGE+PigpO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRDaGlsZCguLi5hcmdzKTp3ZENiLkNvbGxlY3Rpb248YW55PjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IHJlbW92ZUNoaWxkKC4uLmFyZ3MpOmFueTtcblxuICAgICAgICBwdWJsaWMgaGFzQ2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBoYXNDaGlsZChkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyBoYXNDaGlsZCguLi5hcmdzKXtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgbGlzdCA9IHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQodGhpcy5idWlsZEtleSh0YXJnZXQsIGV2ZW50TmFtZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbGlzdCAmJiBsaXN0LmdldENvdW50KCkgPiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NoaWxkV2l0aEZ1bmMoZnVuYzooLi4uYXJncykgPT4gYm9vbGVhbik6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmhhc0NoaWxkV2l0aEZ1bmMoZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXBwZW5kQ2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdHxIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZEtleSh0YXJnZXQsIGV2ZW50TmFtZSksXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaWx0ZXIoZnVuYzpGdW5jdGlvbil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5maWx0ZXIoZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZm9yRWFjaChmdW5jOkZ1bmN0aW9uKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZvckVhY2goZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnROYW1lRnJvbUtleShrZXk6c3RyaW5nKTpFRXZlbnROYW1le1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuZ2V0RXZlbnRTZXBhcmF0b3IoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHNlcGFyYXRvcikgPiAtMSA/IDxhbnk+a2V5LnNwbGl0KHNlcGFyYXRvcilbMV0gOiBrZXk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBidWlsZEtleSguLi5hcmdzKTpzdHJpbmc7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRFdmVudFNlcGFyYXRvcigpOnN0cmluZztcblxuXG4gICAgICAgIHByb3RlY3RlZCBpc0V2ZW50TmFtZShrZXk6c3RyaW5nLCBldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICByZXR1cm4ga2V5LmluZGV4T2YoYCR7dGhpcy5nZXRFdmVudFNlcGFyYXRvcigpfSR7ZXZlbnROYW1lfWApID4gLTFcbiAgICAgICAgICAgICAgICB8fCBrZXkgPT09IDxhbnk+ZXZlbnROYW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbUV2ZW50TGlzdGVuZXJNYXAgZXh0ZW5kcyBFdmVudExpc3RlbmVyTWFwe1xuICAgICAgICBwdWJsaWMgc3RhdGljIGV2ZW50U2VwYXJhdG9yID0gXCJAXCI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxpc3RlbmVyTWFwOndkQ2IuSGFzaDx3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+PjtcblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT47XG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0KTp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT47XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKC4uLmFyZ3MpOmFueXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5nZXRDaGlsZChldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZpbHRlcigobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzVGFyZ2V0KGtleSwgdGFyZ2V0LCBsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQodGhpcy5idWlsZEtleSh0YXJnZXQsIGV2ZW50TmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCh1aWQ6bnVtYmVyLCBldmVudE5hbWU6RUV2ZW50TmFtZSk6dm9pZDtcbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZCguLi5hcmdzKTp2b2lke1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5pc0V2ZW50TmFtZShrZXksIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCgobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzVGFyZ2V0KGtleSwgdGFyZ2V0LCBsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4gPSBudWxsO1xuXG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmxpc3RlbmVyTWFwLmhhc0NoaWxkKGV2ZW50TmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gdGhpcy5saXN0ZW5lck1hcC5nZXRDaGlsZChldmVudE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKS5hZGRDaGlsZChsaXN0LnJlbW92ZUNoaWxkKCh2YWw6Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwub3JpZ2luSGFuZGxlciA9PT0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCh0aGlzLmJ1aWxkS2V5KHVpZCwgZXZlbnROYW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkKHRoaXMuYnVpbGRLZXkodGFyZ2V0LCBldmVudE5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5yZW1vdmVDaGlsZCgodmFsOkN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLm9yaWdpbkhhbmRsZXIgPT09IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kUkVNT1ZFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0VWlkRnJvbUtleShrZXk6c3RyaW5nKTpudW1iZXJ7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gYCR7Q3VzdG9tRXZlbnRMaXN0ZW5lck1hcC5ldmVudFNlcGFyYXRvcn1gO1xuXG4gICAgICAgICAgICByZXR1cm4ga2V5LmluZGV4T2Yoc2VwYXJhdG9yKSA+IC0xID8gTnVtYmVyKDxhbnk+a2V5LnNwbGl0KHNlcGFyYXRvcilbMF0pIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RhcmdldChrZXk6c3RyaW5nLCB0YXJnZXQ6RW50aXR5T2JqZWN0LCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4pe1xuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHRoaXMuX2J1aWxkS2V5UHJlZml4KHRhcmdldC51aWQpKSA+IC0xICYmIGxpc3QgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRFdmVudFNlcGFyYXRvcigpOnN0cmluZ3tcbiAgICAgICAgICAgIHJldHVybiBgJHtDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYnVpbGRLZXkodWlkOm51bWJlciwgZXZlbnROYW1lOkVFdmVudE5hbWUpOnN0cmluZztcbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkS2V5KHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTpzdHJpbmc7XG5cbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkS2V5KC4uLmFyZ3MpOnN0cmluZ3tcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNOdW1iZXIoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkS2V5V2l0aFVpZCh1aWQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkS2V5V2l0aFVpZCh0YXJnZXQudWlkLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzWzBdID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEtleVdpdGhVaWQodWlkOm51bWJlciwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuX2J1aWxkS2V5UHJlZml4KHVpZCl9JHtDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yfSR7ZXZlbnROYW1lfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEtleVByZWZpeCh1aWQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBgJHtTdHJpbmcodWlkKX1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBEb21FdmVudExpc3RlbmVyTWFwIGV4dGVuZHMgRXZlbnRMaXN0ZW5lck1hcHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBldmVudFNlcGFyYXRvciA9IFwiQFwiO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsaXN0ZW5lck1hcDp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPj47XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPjtcblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoLi4uYXJncyk6YW55e1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuZ2V0Q2hpbGQodGhpcy5idWlsZEtleShkb20sIGV2ZW50TmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp3ZENiLkNvbGxlY3Rpb248d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50T2ZmRGF0YT4+O1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDaGlsZChldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6d2RDYi5Db2xsZWN0aW9uPHdkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+PjtcbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOndkQ2IuQ29sbGVjdGlvbjx3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRPZmZEYXRhPj47XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOndkQ2IuQ29sbGVjdGlvbjx3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRPZmZEYXRhPj47XG5cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoLi4uYXJncyk6d2RDYi5Db2xsZWN0aW9uPHdkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+PntcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICByZXN1bHQ6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPXRoaXMuX2dldEV2ZW50RGF0YU9mZkRhdGFMaXN0KGV2ZW50TmFtZSwgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzRXZlbnROYW1lKGtleSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdCA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5pc0V2ZW50TmFtZShrZXksIGV2ZW50TmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBsaXN0LnJlbW92ZUNoaWxkKCh2YWw6RG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5vcmlnaW5IYW5kbGVyID09PSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmdldENvdW50KCkgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5hZGRDaGlsZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxpc3QuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRSRU1PVkU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWUsIHJlc3VsdExpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZG9tID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID10aGlzLl9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWUsIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQodGhpcy5idWlsZEtleShkb20sIGV2ZW50TmFtZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGxpc3QucmVtb3ZlQ2hpbGQoKHZhbDpEb21FdmVudFJlZ2lzdGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5vcmlnaW5IYW5kbGVyID09PSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5hZGRDaGlsZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYobGlzdC5nZXRDb3VudCgpID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRSRU1PVkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldEV2ZW50RGF0YU9mZkRhdGFMaXN0KGV2ZW50TmFtZSwgcmVzdWx0TGlzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNEb20oa2V5OnN0cmluZywgZG9tOkhUTUxFbGVtZW50LCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4pe1xuICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHRoaXMuX2J1aWxkS2V5UHJlZml4KGRvbSkpID4gLTEgJiYgbGlzdCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldEV2ZW50U2VwYXJhdG9yKCk6c3RyaW5ne1xuICAgICAgICAgICAgcmV0dXJuIGAke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBidWlsZEtleShkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTpzdHJpbmd7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5fYnVpbGRLZXlQcmVmaXgoZG9tKX0ke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9JHtldmVudE5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkS2V5UHJlZml4KGRvbTpIVE1MRWxlbWVudCl7XG4gICAgICAgICAgICByZXR1cm4gZG9tLmlkID8gYCR7ZG9tLnRhZ05hbWV9JHtkb20uaWR9YCA6IGAke2RvbS50YWdOYW1lfWA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRFdmVudERhdGFPZmZEYXRhTGlzdChldmVudE5hbWU6c3RyaW5nLCByZXN1bHQ6YW55KTphbnl7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgobGlzdDp3ZENiLkNvbGxlY3Rpb248YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0Lm1hcCgoZGF0YTpEb21FdmVudFJlZ2lzdGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tOiBkYXRhLmRvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tSGFuZGxlcjogZGF0YS5kb21IYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgRG9tRXZlbnRPZmZEYXRhID0ge1xuICAgICAgICBkb206SFRNTEVsZW1lbnQsXG4gICAgICAgIGV2ZW50TmFtZTpFRXZlbnROYW1lLFxuICAgICAgICBkb21IYW5kbGVyOkZ1bmN0aW9uXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZW51bSBFRXZlbnRUeXBle1xuICAgICAgICBNT1VTRSxcbiAgICAgICAgS0VZQk9BUkQsXG4gICAgICAgIENVU1RPTVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBlbnVtIEVCcm93c2VySWRlbnRpZmllcntcbiAgICAgICAgRkFMTEJBQ0sgPSA8YW55PlwiZmFsbGJhY2tcIixcbiAgICAgICAgRklSRUZPWCA9IDxhbnk+XCJmaXJlZm94XCIsXG4gICAgICAgIENIUk9NRSA9IDxhbnk+XCJjaHJvbWVcIlxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVFdmVudE5hbWV7XG4gICAgICAgIENMSUNLID0gPGFueT5cImNsaWNrXCIsXG4gICAgICAgIE1PVVNFT1ZFUiA9IDxhbnk+XCJtb3VzZW92ZXJcIixcbiAgICAgICAgTU9VU0VVUCA9IDxhbnk+XCJtb3VzZXVwXCIsXG4gICAgICAgIE1PVVNFT1VUID0gPGFueT5cIm1vdXNlb3V0XCIsXG4gICAgICAgIE1PVVNFTU9WRSA9IDxhbnk+XCJtb3VzZW1vdmVcIixcbiAgICAgICAgTU9VU0VET1dOID0gPGFueT5cIm1vdXNlZG93blwiLFxuICAgICAgICBNT1VTRVdIRUVMID0gPGFueT5gbW91c2V3aGVlbHxET01Nb3VzZVNjcm9sbCoke0VCcm93c2VySWRlbnRpZmllci5GSVJFRk9YfWAsXG4gICAgICAgIE1PVVNFRFJBRyA9IDxhbnk+XCJtb3VzZWRyYWdcIixcblxuICAgICAgICBLRVlET1dOID0gPGFueT5cImtleWRvd25cIixcbiAgICAgICAgS0VZVVAgPSA8YW55Plwia2V5dXBcIixcbiAgICAgICAgS0VZUFJFU1MgPSA8YW55Plwia2V5cHJlc3NcIlxuICAgIH1cblxuICAgIGNvbnN0IEVWRU5UTkFNRV9TUExJVFRFUiA9ICd8JyxcbiAgICAgICAgQlJPV1NFUl9JREVOVElGSUVSID0gJyonO1xuXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50TmFtZUhhbmRsZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaGFuZGxlRXZlbnROYW1lKGRvbUV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWU6c3RyaW5nID0gPGFueT5kb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tFdmVudE5hbWUgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyID0gW10sXG4gICAgICAgICAgICAgICAgcmVzdWx0OnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgZXZlbnROYW1lLnNwbGl0KEVWRU5UTkFNRV9TUExJVFRFUikpe1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5faXNGYWxsYmFja0V2ZW50TmFtZShuYW1lKSl7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrRXZlbnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lmeUJyb3dzZXJFdmVudE5hbWVBcnIucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldFNwZWNpZnlCcm93c2VyRXZlbnROYW1lKHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdCA6IGZhbGxiYWNrRXZlbnROYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2lzRmFsbGJhY2tFdmVudE5hbWUoZXZlbnROYW1lOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lLnNwbGl0KEJST1dTRVJfSURFTlRJRklFUikubGVuZ3RoID09PSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2dldFNwZWNpZnlCcm93c2VyRXZlbnROYW1lKHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvcihsZXQgZXZlbnROYW1lIG9mIHNwZWNpZnlCcm93c2VyRXZlbnROYW1lQXJyKXtcbiAgICAgICAgICAgICAgICBsZXQgW2RvbUV2ZW50TmFtZSwgYnJvd3NlcklkZW50aWZpZXJdID0gZXZlbnROYW1lLnNwbGl0KEJST1dTRVJfSURFTlRJRklFUik7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKDxhbnk+YnJvd3NlcklkZW50aWZpZXIpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVCcm93c2VySWRlbnRpZmllci5DSFJPTUU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihib3dzZXIuY2hyb21lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFQnJvd3NlcklkZW50aWZpZXIuRklSRUZPWDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJvd3Nlci5maXJlZm94KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyBqdWRnZSBJRVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUV2ZW50UGhhc2V7XG4gICAgICAgIEJST0FEQ0FTVCxcbiAgICAgICAgRU1JVFxuICAgIH1cbn1cbiIsIi8vdG9kbyBhZGQgbW9yZSBldmVudCB0eXBlXG5tb2R1bGUgd2Qge1xuICAgICBjb25zdCBfdGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPEVFdmVudFR5cGU+KCk7XG5cbiAgICAvL3RvZG8gbm90IGRlY2xhcmUgXCI8YW55PlwiIVxuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuQ0xJQ0ssIEVFdmVudFR5cGUuTU9VU0UpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VPVkVSLCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFT1VULCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFTU9WRSwgRUV2ZW50VHlwZS5NT1VTRSk7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRURPV04sIEVFdmVudFR5cGUuTU9VU0UpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VVUCwgRUV2ZW50VHlwZS5NT1VTRSk7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRVdIRUVMLCBFRXZlbnRUeXBlLk1PVVNFKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFRFJBRywgRUV2ZW50VHlwZS5NT1VTRSk7XG5cbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLktFWURPV04sIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuS0VZUFJFU1MsIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuS0VZVVAsIEVFdmVudFR5cGUuS0VZQk9BUkQpO1xuXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50VGFibGUge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEV2ZW50VHlwZShldmVudE5hbWU6RUV2ZW50TmFtZSk6RUV2ZW50VHlwZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RhYmxlLmdldENoaWxkKDxhbnk+ZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYocmVzdWx0ID09PSB2b2lkIDApe1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEVFdmVudFR5cGUuQ1VTVE9NO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudHtcbiAgICAgICAgY29uc3RydWN0b3IoZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdHlwZTpFRXZlbnRUeXBlID0gbnVsbDtcbiAgICAgICAgZ2V0IHR5cGUoKXtcbiAgICAgICAgICAgIExvZy5lcnJvcih0aGlzLnBfdHlwZSA9PT0gbnVsbCwgTG9nLmluZm8uQUJTVFJBQ1RfQVRUUklCVVRFKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF90eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5hbWU6RUV2ZW50TmFtZSA9IG51bGw7XG4gICAgICAgIC8vdGFyZ2V0IGlzIHRoZSBhY3R1YWwgdGFyZ2V0IHRoYXQgcmVjZWl2ZWQgdGhlIGV2ZW50LlxuICAgICAgICBwdWJsaWMgdGFyZ2V0OkhUTUxFbGVtZW50fEVudGl0eU9iamVjdDtcbiAgICAgICAgLy9jdXJyZW50VGFyZ2V0IGlzIGFsd2F5cyB0aGUgb2JqZWN0IGxpc3RlbmluZyBmb3IgdGhlIGV2ZW50XG4gICAgICAgIHB1YmxpYyBjdXJyZW50VGFyZ2V0OkhUTUxFbGVtZW50fEVudGl0eU9iamVjdCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1N0b3BQcm9wYWdhdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBwaGFzZTpFRXZlbnRQaGFzZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNvcHkoKTtcblxuICAgICAgICBwdWJsaWMgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29weU1lbWJlcihkZXN0aW5hdGlvbjpFdmVudCwgc291cmNlOkV2ZW50LCBtZW1iZXJBcnI6W2FueV0pe1xuICAgICAgICAgICAgbWVtYmVyQXJyLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW21lbWJlcl0gPSBzb3VyY2VbbWVtYmVyXTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEb21FdmVudCBleHRlbmRzIEV2ZW50e1xuICAgICAgICBjb25zdHJ1Y3RvcihldmVudDphbnksIGV2ZW50TmFtZTpFRXZlbnROYW1lKSB7XG4gICAgICAgICAgICBzdXBlcihldmVudE5hbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ldmVudDphbnkgPSBudWxsO1xuICAgICAgICBnZXQgZXZlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGV2ZW50KGV2ZW50OmFueSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnQgPSBldmVudCB8fCByb290LmV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHByZXZlbnREZWZhdWx0KCl7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMuX2V2ZW50O1xuXG4gICAgICAgICAgICBpZiAoYm93c2VyLm1zaWUgJiYgTnVtYmVyKGJvd3Nlci52ZXJzaW9uKSA8PSA4KSB7XG4gICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQoZXZlbnQ6Q3VzdG9tRXZlbnQpe1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BQcm9wYWdhdGlvbiA9IGV2ZW50LmlzU3RvcFByb3BhZ2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBNb3VzZUV2ZW50IGV4dGVuZHMgRG9tRXZlbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGV2ZW50OmFueSwgZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhldmVudCwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvY2F0aW9uOlBvaW50ID0gbnVsbDtcbiAgICAgICAgLy9HZXQgY3Vyc29yIGxvY2F0aW9uKHJlbGF0ZWQgdG8gZG9jdW1lbnQpXG4gICAgICAgIGdldCBsb2NhdGlvbigpOlBvaW50IHtcbiAgICAgICAgICAgIHZhciBwb2ludDpQb2ludCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZSA9IHRoaXMuZXZlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9pbnQgPSBQb2ludC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgaWYgKGJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IGUuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBwb2ludC55ID0gZS5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50LnggPSBlLnBhZ2VYO1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSBlLnBhZ2VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxvY2F0aW9uKHBvaW50OlBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IHBvaW50O1xuICAgICAgICB9XG5cblxuICAgICAgICBwcml2YXRlIF9sb2NhdGlvbkluVmlldzpQb2ludCA9IG51bGw7XG4gICAgICAgIC8vUmV0dXJucyB0aGUgY3VycmVudCBjdXJzb3IgbG9jYXRpb24gaW4gc2NyZWVuIGNvb3JkaW5hdGVzKHJlbGF0ZWQgdG8gY2FudmFzKVxuICAgICAgICBnZXQgbG9jYXRpb25JblZpZXcoKTpQb2ludCB7XG4gICAgICAgICAgICB2YXIgcG9pbnQ6UG9pbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHZpZXdPZmZzZXQ6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2F0aW9uSW5WaWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uSW5WaWV3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludCA9IHRoaXMubG9jYXRpb247XG5cblxuICAgICAgICAgICAgdmlld09mZnNldCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3Lm9mZnNldDtcblxuICAgICAgICAgICAgcmV0dXJuIFBvaW50LmNyZWF0ZShwb2ludC54IC0gdmlld09mZnNldC54LCBwb2ludC55IC0gdmlld09mZnNldC55KTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYXRpb25JblZpZXcobG9jYXRpb25JblZpZXc6UG9pbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2F0aW9uSW5WaWV3ID0gbG9jYXRpb25JblZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idXR0b246bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IGJ1dHRvbigpIHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5ldmVudCxcbiAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbjpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1dHRvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbiA9IEVNb3VzZUJ1dHRvbi5MRUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLlJJR0hUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLkNFTlRFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJtdWx0aSBtb3VzZSBidXR0b25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbiA9IEVNb3VzZUJ1dHRvbi5MRUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLlJJR0hUO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gRU1vdXNlQnV0dG9uLkNFTlRFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJtdWx0aSBtb3VzZSBidXR0b25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbW91c2VCdXR0b247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJ1dHRvbihidXR0b246bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24gPSBidXR0b247XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgd2hlZWwoKXtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIEZGIHVzZXMgJ2RldGFpbCcgYW5kIHJldHVybnMgYSB2YWx1ZSBpbiAnbm8uIG9mIGxpbmVzJyB0byBzY3JvbGxcbiAgICAgICAgICAgICBXZWJLaXQgYW5kIE9wZXJhIHVzZSAnd2hlZWxEZWx0YScsIFdlYktpdCBnb2VzIGluIG11bHRpcGxlcyBvZiAxMjAgcGVyIHdoZWVsIG5vdGNoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5ldmVudDtcblxuICAgICAgICAgICAgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xICogZS5kZXRhaWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlLndoZWVsRGVsdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBtb3ZlbWVudERlbHRhKCl7XG4gICAgICAgICAgICB2YXIgZSA9IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAgICAgZHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHdkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNQb2ludGVyTG9ja2VkKCkpe1xuICAgICAgICAgICAgICAgIGR4ID0gZS5tb3ZlbWVudFggfHwgZS53ZWJraXRNb3ZlbWVudFggfHwgZS5tb3pNb3ZlbWVudFggfHwgMDtcbiAgICAgICAgICAgICAgICB3ZCA9IGUubW92ZW1lbnRZIHx8IGUud2Via2l0TW92ZW1lbnRZIHx8IGUubW96TW92ZW1lbnRZIHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RYID0gdGhpcy5sYXN0WCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFkgPSB0aGlzLmxhc3RZO1xuXG4gICAgICAgICAgICAgICAgaWYobGFzdFggPT09IG51bGwgJiYgbGFzdFkgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdkID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZHggPSBsb2NhdGlvbi54IC0gbGFzdFg7XG4gICAgICAgICAgICAgICAgICAgIHdkID0gbG9jYXRpb24ueSAtIGxhc3RZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBkeCxcbiAgICAgICAgICAgICAgICB5OiB3ZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGxhc3RYOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBsYXN0WTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3R5cGU6RUV2ZW50VHlwZSA9IEVFdmVudFR5cGUuTU9VU0U7XG5cblxuICAgICAgICBwdWJsaWMgY29weSgpOk1vdXNlRXZlbnR7XG4gICAgICAgICAgICB2YXIgZXZlbnRPYmogPSBNb3VzZUV2ZW50LmNyZWF0ZSh0aGlzLmV2ZW50LCB0aGlzLm5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gPE1vdXNlRXZlbnQ+dGhpcy5jb3B5TWVtYmVyKGV2ZW50T2JqLCB0aGlzLCBbXCJ0YXJnZXRcIiwgXCJjdXJyZW50VGFyZ2V0XCIsIFwiaXNTdG9wUHJvcGFnYXRpb25cIiwgXCJwaGFzZVwiLCBcImxhc3RYXCIsIFwibGFzdFlcIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNQb2ludGVyTG9ja2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCB8fCBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0UG9pbnRlckxvY2tFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgY29uc3QgU1BFQ0lBTF9LRVlfTUFQID0ge1xuICAgICAgICAgICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAgICAgICAgIDk6IFwidGFiXCIsXG4gICAgICAgICAgICAxMDogXCJyZXR1cm5cIixcbiAgICAgICAgICAgIDEzOiBcInJldHVyblwiLFxuICAgICAgICAgICAgMTY6IFwic2hpZnRcIixcbiAgICAgICAgICAgIDE3OiBcImN0cmxcIixcbiAgICAgICAgICAgIDE4OiBcImFsdFwiLFxuICAgICAgICAgICAgMTk6IFwicGF1c2VcIixcbiAgICAgICAgICAgIDIwOiBcImNhcHNsb2NrXCIsXG4gICAgICAgICAgICAyNzogXCJlc2NcIixcbiAgICAgICAgICAgIDMyOiBcInNwYWNlXCIsXG4gICAgICAgICAgICAzMzogXCJwYWdldXBcIixcbiAgICAgICAgICAgIDM0OiBcInBhZ2Vkb3duXCIsXG4gICAgICAgICAgICAzNTogXCJlbmRcIixcbiAgICAgICAgICAgIDM2OiBcImhvbWVcIixcbiAgICAgICAgICAgIDM3OiBcImxlZnRcIixcbiAgICAgICAgICAgIDM4OiBcInVwXCIsXG4gICAgICAgICAgICAzOTogXCJyaWdodFwiLFxuICAgICAgICAgICAgNDA6IFwiZG93blwiLFxuICAgICAgICAgICAgNDU6IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICA0NjogXCJkZWxcIixcbiAgICAgICAgICAgIDU5OiBcIjtcIixcbiAgICAgICAgICAgIDYxOiBcIj1cIixcbiAgICAgICAgICAgIDY1OiBcImFcIixcbiAgICAgICAgICAgIDY2OiBcImJcIixcbiAgICAgICAgICAgIDY3OiBcImNcIixcbiAgICAgICAgICAgIDY4OiBcImRcIixcbiAgICAgICAgICAgIDY5OiBcImVcIixcbiAgICAgICAgICAgIDcwOiBcImZcIixcbiAgICAgICAgICAgIDcxOiBcImdcIixcbiAgICAgICAgICAgIDcyOiBcImhcIixcbiAgICAgICAgICAgIDczOiBcImlcIixcbiAgICAgICAgICAgIDc0OiBcImpcIixcbiAgICAgICAgICAgIDc1OiBcImtcIixcbiAgICAgICAgICAgIDc2OiBcImxcIixcbiAgICAgICAgICAgIDc3OiBcIm1cIixcbiAgICAgICAgICAgIDc4OiBcIm5cIixcbiAgICAgICAgICAgIDc5OiBcIm9cIixcbiAgICAgICAgICAgIDgwOiBcInBcIixcbiAgICAgICAgICAgIDgxOiBcInFcIixcbiAgICAgICAgICAgIDgyOiBcInJcIixcbiAgICAgICAgICAgIDgzOiBcInNcIixcbiAgICAgICAgICAgIDg0OiBcInRcIixcbiAgICAgICAgICAgIDg1OiBcInVcIixcbiAgICAgICAgICAgIDg2OiBcInZcIixcbiAgICAgICAgICAgIDg3OiBcIndcIixcbiAgICAgICAgICAgIDg4OiBcInhcIixcbiAgICAgICAgICAgIDg5OiBcInlcIixcbiAgICAgICAgICAgIDkwOiBcInpcIixcbiAgICAgICAgICAgIDk2OiBcIjBcIixcbiAgICAgICAgICAgIDk3OiBcIjFcIixcbiAgICAgICAgICAgIDk4OiBcIjJcIixcbiAgICAgICAgICAgIDk5OiBcIjNcIixcbiAgICAgICAgICAgIDEwMDogXCI0XCIsXG4gICAgICAgICAgICAxMDE6IFwiNVwiLFxuICAgICAgICAgICAgMTAyOiBcIjZcIixcbiAgICAgICAgICAgIDEwMzogXCI3XCIsXG4gICAgICAgICAgICAxMDQ6IFwiOFwiLFxuICAgICAgICAgICAgMTA1OiBcIjlcIixcbiAgICAgICAgICAgIDEwNjogXCIqXCIsXG4gICAgICAgICAgICAxMDc6IFwiK1wiLFxuICAgICAgICAgICAgMTA5OiBcIi1cIixcbiAgICAgICAgICAgIDExMDogXCIuXCIsXG4gICAgICAgICAgICAxMTE6IFwiL1wiLFxuICAgICAgICAgICAgMTEyOiBcImYxXCIsXG4gICAgICAgICAgICAxMTM6IFwiZjJcIixcbiAgICAgICAgICAgIDExNDogXCJmM1wiLFxuICAgICAgICAgICAgMTE1OiBcImY0XCIsXG4gICAgICAgICAgICAxMTY6IFwiZjVcIixcbiAgICAgICAgICAgIDExNzogXCJmNlwiLFxuICAgICAgICAgICAgMTE4OiBcImY3XCIsXG4gICAgICAgICAgICAxMTk6IFwiZjhcIixcbiAgICAgICAgICAgIDEyMDogXCJmOVwiLFxuICAgICAgICAgICAgMTIxOiBcImYxMFwiLFxuICAgICAgICAgICAgMTIyOiBcImYxMVwiLFxuICAgICAgICAgICAgMTIzOiBcImYxMlwiLFxuICAgICAgICAgICAgMTQ0OiBcIm51bWxvY2tcIixcbiAgICAgICAgICAgIDE0NTogXCJzY3JvbGxcIixcbiAgICAgICAgICAgIDE3MzogXCItXCIsXG4gICAgICAgICAgICAxODY6IFwiO1wiLFxuICAgICAgICAgICAgMTg3OiBcIj1cIixcbiAgICAgICAgICAgIDE4ODogXCIsXCIsXG4gICAgICAgICAgICAxODk6IFwiLVwiLFxuICAgICAgICAgICAgMTkwOiBcIi5cIixcbiAgICAgICAgICAgIDE5MTogXCIvXCIsXG4gICAgICAgICAgICAxOTI6IFwiYFwiLFxuICAgICAgICAgICAgMjE5OiBcIltcIixcbiAgICAgICAgICAgIDIyMDogXCJcXFxcXCIsXG4gICAgICAgICAgICAyMjE6IFwiXVwiLFxuICAgICAgICAgICAgMjIyOiBcIidcIlxuICAgICAgICB9LFxuICAgICAgICBTSElGVF9LRVlfTUFQID0ge1xuICAgICAgICAgICAgXCJgXCI6IFwiflwiLFxuICAgICAgICAgICAgXCIxXCI6IFwiIVwiLFxuICAgICAgICAgICAgXCIyXCI6IFwiQFwiLFxuICAgICAgICAgICAgXCIzXCI6IFwiI1wiLFxuICAgICAgICAgICAgXCI0XCI6IFwiJFwiLFxuICAgICAgICAgICAgXCI1XCI6IFwiJVwiLFxuICAgICAgICAgICAgXCI2XCI6IFwiXlwiLFxuICAgICAgICAgICAgXCI3XCI6IFwiJlwiLFxuICAgICAgICAgICAgXCI4XCI6IFwiKlwiLFxuICAgICAgICAgICAgXCI5XCI6IFwiKFwiLFxuICAgICAgICAgICAgXCIwXCI6IFwiKVwiLFxuICAgICAgICAgICAgXCItXCI6IFwiX1wiLFxuICAgICAgICAgICAgXCI9XCI6IFwiK1wiLFxuICAgICAgICAgICAgXCI7XCI6IFwiOiBcIixcbiAgICAgICAgICAgIFwiJ1wiOiBcIlxcXCJcIixcbiAgICAgICAgICAgIFwiLFwiOiBcIjxcIixcbiAgICAgICAgICAgIFwiLlwiOiBcIj5cIixcbiAgICAgICAgICAgIFwiL1wiOiBcIj9cIixcbiAgICAgICAgICAgIFwiXFxcXFwiOiBcInxcIlxuICAgICAgICB9O1xuXG4gICAgZXhwb3J0IGNsYXNzIEtleWJvYXJkRXZlbnQgZXh0ZW5kcyBEb21FdmVudHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZXZlbnQ6YW55LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGV2ZW50LCBldmVudE5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdHlwZTpFRXZlbnRUeXBlID0gRUV2ZW50VHlwZS5LRVlCT0FSRDtcblxuICAgICAgICBnZXQgY3RybEtleSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuY3RybEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBhbHRLZXkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmFsdEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBzaGlmdEtleSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgbWV0YUtleSgpe1xuICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5ldmVudC5tZXRhS2V5ICYmICF0aGlzLmN0cmxLZXk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5tZXRhS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGtleUNvZGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmtleUNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQga2V5KCl7XG4gICAgICAgICAgICB2YXIga2V5ID0gU1BFQ0lBTF9LRVlfTUFQW3RoaXMua2V5Q29kZV0sXG4gICAgICAgICAgICAgICAgY2hhciA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCFrZXkpe1xuICAgICAgICAgICAgICAgIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMua2V5Q29kZSkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc2hpZnRLZXkpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0hJRlRfS0VZX01BUFtjaGFyXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBrZXlTdGF0ZTphbnkgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBjb3B5KCk6S2V5Ym9hcmRFdmVudHtcbiAgICAgICAgICAgIHZhciBldmVudE9iaiA9IEtleWJvYXJkRXZlbnQuY3JlYXRlKHRoaXMuZXZlbnQsIHRoaXMubmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiA8S2V5Ym9hcmRFdmVudD50aGlzLmNvcHlNZW1iZXIoZXZlbnRPYmosIHRoaXMsIFtcInRhcmdldFwiLCBcImN1cnJlbnRUYXJnZXRcIiwgXCJpc1N0b3BQcm9wYWdhdGlvblwiLCBcInBoYXNlXCIsIFwiYWx0S2V5XCIsIFwic2hpZnRLZXlcIiwgXCJjdHJsS2V5XCIsIFwibWV0YUtleVwiLCBcImtleUNvZGVcIiwgXCJrZXlcIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tRXZlbnQgZXh0ZW5kcyBFdmVudHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZXZlbnROYW1lOnN0cmluZykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKDxhbnk+ZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1c2VyRGF0YTphbnkgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3R5cGU6RUV2ZW50VHlwZSA9IEVFdmVudFR5cGUuQ1VTVE9NO1xuXG5cbiAgICAgICAgcHVibGljIGNvcHlQdWJsaWNBdHRyaShkZXN0aW5hdGlvbiwgc291cmNlOmFueSl7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBudWxsO1xuXG4gICAgICAgICAgICB3ZENiLkV4dGVuZFV0aWxzLmV4dGVuZChkZXN0aW5hdGlvbiwgZnVuY3Rpb24oaXRlbSwgcHJvcGVydHkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5zbGljZSgwLCAxKSAhPT0gXCJfXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgIUp1ZGdlVXRpbHMuaXNGdW5jdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOkN1c3RvbUV2ZW50e1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+dGhpcy5uYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIDxDdXN0b21FdmVudD50aGlzLmNvcHlNZW1iZXIoZXZlbnRPYmosIHRoaXMsIFtcInRhcmdldFwiLCBcImN1cnJlbnRUYXJnZXRcIiwgXCJpc1N0b3BQcm9wYWdhdGlvblwiLCBcInBoYXNlXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQHJlcXVpcmUoZnVuY3Rpb24oZXZlbnQ6TW91c2VFdmVudCl7XG4gICAgICAgIC8vICAgIGlmKGV2ZW50LnRhcmdldCl7XG4gICAgICAgIC8vICAgICAgICBhc3NlcnQoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRW50aXR5T2JqZWN0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJ0YXJnZXRcIiwgXCJFbnRpdHlPYmplY3RcIikpO1xuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vfSlcbiAgICAgICAgcHVibGljIGdldERhdGFGcm9tRG9tRXZlbnQoZXZlbnQ6TW91c2VFdmVudCl7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IDxFbnRpdHlPYmplY3Q+ZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wUHJvcGFnYXRpb24gPSBldmVudC5pc1N0b3BQcm9wYWdhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGVudW0gRU1vdXNlQnV0dG9ue1xuICAgICAgICBMRUZULFxuICAgICAgICBSSUdIVCxcbiAgICAgICAgQ0VOVEVSXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBFdmVudExpc3RlbmVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMob3B0aW9uKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKG9wdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZXZlbnRUeXBlOkVFdmVudFR5cGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcHJpb3JpdHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhhbmRsZXJEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEV2ZW50SGFuZGxlckRhdGE+KCk7XG5cbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9uOmFueSl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50VHlwZSA9IG9wdGlvbi5ldmVudFR5cGU7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5ID0gb3B0aW9uLnByaW9yaXR5IHx8IDE7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUob3B0aW9uOnthbnl9KXtcbiAgICAgICAgICAgIHRoaXMuX3NldEhhbmRsZXJEYXRhTGlzdChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0SGFuZGxlckRhdGFMaXN0KG9wdGlvbjp7YW55fSl7XG4gICAgICAgICAgICB2YXIgaSA9IG51bGwsXG4gICAgICAgICAgICAgICAgUkVHRVhfSEFOREVSID0gL29uXFx3Ky87XG5cbiAgICAgICAgICAgIGZvcihpIGluIG9wdGlvbil7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9uLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoUkVHRVhfSEFOREVSLnRlc3QoaSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyRGF0YUxpc3QuYWRkQ2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogdGhpcy5fcGFyc2VFdmVudE5hbWUoaSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogb3B0aW9uW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlRXZlbnROYW1lKGhhbmRsZXJOYW1lKXtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyTmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyRGF0YSA9IHtcbiAgICAgICAgZXZlbnROYW1lOkVFdmVudE5hbWU7XG4gICAgICAgIGhhbmRsZXI6RnVuY3Rpb247XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IG9uKC4uLmFyZ3MpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgb2ZmKC4uLmFyZ3MpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdHJpZ2dlciguLi5hcmdzKTtcblxuXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRG9tRXZlbnRIYW5kbGVyIGV4dGVuZHMgRXZlbnRIYW5kbGVye1xuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZXZlbnRSZWdpc3RlciA9IERvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgICAgICBldmVudE9mZkRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudE9mZkRhdGE+ID0gbnVsbDtcblxuICAgICAgICAgICAgZXZlbnRPZmZEYXRhTGlzdCA9IGV2ZW50UmVnaXN0ZXIucmVtb3ZlLmFwcGx5KGV2ZW50UmVnaXN0ZXIsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZihldmVudE9mZkRhdGFMaXN0KXtcbiAgICAgICAgICAgICAgICBldmVudE9mZkRhdGFMaXN0LmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPERvbUV2ZW50T2ZmRGF0YT4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKChldmVudE9mZkRhdGE6RG9tRXZlbnRPZmZEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl91bkJpbmQoZXZlbnRPZmZEYXRhLmRvbSwgZXZlbnRPZmZEYXRhLmV2ZW50TmFtZSwgZXZlbnRPZmZEYXRhLmRvbUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3RoaXMuY2xlYXJIYW5kbGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCk6dm9pZDtcbiAgICAgICAgcHVibGljIHRyaWdnZXIoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTp2b2lke1xuICAgICAgICAgICAgdmFyIGRvbSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBkb20gPSB0aGlzLmdldERlZmF1bHREb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50Lm5hbWU7XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QgPSBEb21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkuZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KGRvbSwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyRGF0YUxpc3QgPT09IG51bGwgfHwgcmVnaXN0ZXJEYXRhTGlzdC5nZXRDb3VudCgpPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QuZm9yRWFjaCgocmVnaXN0ZXJEYXRhOkRvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50Q29weSA9IGV2ZW50LmNvcHkoKTtcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSwgcmVnaXN0ZXJEYXRhLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCB0cmlnZ2VyRG9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYWRkRW5naW5lSGFuZGxlcihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXREZWZhdWx0RG9tKCk6SFRNTEVsZW1lbnQ7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVFdmVudERhdGEoKTp3ZENiLkhhc2g8YW55PjtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgY2xlYXJIYW5kbGVyKCl7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYnVpbGREb21IYW5kbGVyKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSByb290O1xuXG4gICAgICAgICAgICByZXR1cm4gd2RDYi5FdmVudFV0aWxzLmJpbmRFdmVudChjb250ZXh0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXJEb21FdmVudChkb20sIGV2ZW50LCBldmVudE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlcihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGRvbUhhbmRsZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyO1xuXG4gICAgICAgICAgICBoYW5kbGVyID0gdGhpcy5hZGRFbmdpbmVIYW5kbGVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGlmICghRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmlzQmluZGVkKGRvbSwgZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGRvbUhhbmRsZXIgPSB0aGlzLl9iaW5kKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tSGFuZGxlciA9IERvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKS5nZXREb21IYW5kbGVyKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLnJlZ2lzdGVyKFxuICAgICAgICAgICAgICAgIGRvbSxcbiAgICAgICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVFdmVudERhdGEoKSxcbiAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgZG9tSGFuZGxlcixcbiAgICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2JpbmQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSl7XG4gICAgICAgICAgICB2YXIgZG9tSGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIGRvbUhhbmRsZXIgPSB0aGlzLmJ1aWxkRG9tSGFuZGxlcihkb20sIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHdkQ2IuRXZlbnRVdGlscy5hZGRFdmVudChcbiAgICAgICAgICAgICAgICBkb20sXG4gICAgICAgICAgICAgICAgRXZlbnROYW1lSGFuZGxlci5oYW5kbGVFdmVudE5hbWUoZXZlbnROYW1lKSxcbiAgICAgICAgICAgICAgICBkb21IYW5kbGVyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gZG9tSGFuZGxlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VuQmluZChkb20sIGV2ZW50TmFtZSwgaGFuZGxlcil7XG4gICAgICAgICAgICB3ZENiLkV2ZW50VXRpbHMucmVtb3ZlRXZlbnQoZG9tLCBFdmVudE5hbWVIYW5kbGVyLmhhbmRsZUV2ZW50TmFtZShldmVudE5hbWUpLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTW91c2VFdmVudEhhbmRsZXIgZXh0ZW5kcyBEb21FdmVudEhhbmRsZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIC8vXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cdHJldHVybiBvYmo7XG4gICAgICAgIC8vfVxuXG5cbiAgICAgICAgLy9wdWJsaWMgbGFzdFg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgLy9wdWJsaWMgbGFzdFk6bnVtYmVyID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjooZXZlbnQ6TW91c2VFdmVudCkgPT4gdm9pZCwgcHJpb3JpdHk6bnVtYmVyKTtcbiAgICAgICAgcHVibGljIG9uKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQsIHByaW9yaXR5Om51bWJlcik7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gNCl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0RvbShkb20pLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJmaXJzdCBwYXJhbVwiLCBcIkhUTUxFbGVtZW50XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIG9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBkb206SFRNTEVsZW1lbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgZG9tID0gdGhpcy5nZXREZWZhdWx0RG9tKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZG9tID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyKGRvbSwgZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdERvbSgpOkhUTUxFbGVtZW50e1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdHJpZ2dlckRvbUV2ZW50KGRvbTpIVE1MRWxlbWVudCwgZXZlbnQ6RXZlbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciBldmVudE9iaiA9IHRoaXMuX2NyZWF0ZUV2ZW50T2JqZWN0KGRvbSwgZXZlbnQsIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKGRvbSwgZXZlbnRPYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEVuZ2luZUhhbmRsZXIoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdEhhbmRsZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnROYW1lLk1PVVNFTU9WRTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZU1vdmUoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEhhbmRsZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlRXZlbnREYXRhKCk6d2RDYi5IYXNoPGFueT57XG4gICAgICAgICAgICB2YXIgZXZlbnREYXRhID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGF0YS5hZGRDaGlsZChcImxhc3RYXCIsIG51bGwpO1xuICAgICAgICAgICAgZXZlbnREYXRhLmFkZENoaWxkKFwibGFzdFlcIiwgbnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudERhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVNb3ZlKGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gKGV2ZW50Ok1vdXNlRXZlbnQsIGV2ZW50RGF0YTp3ZENiLkhhc2g8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NvcHlFdmVudERhdGFUb0V2ZW50T2JqZWN0KGV2ZW50LCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLl9zYXZlTG9jYXRpb24oZXZlbnQsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlRXZlbnRPYmplY3QoZG9tOkhUTUxFbGVtZW50LCBldmVudDphbnksIGV2ZW50TmFtZTpFRXZlbnROYW1lKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gTW91c2VFdmVudC5jcmVhdGUoZXZlbnQgPyBldmVudCA6IHJvb3QuZXZlbnQsIGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIG9iai50YXJnZXQgPSBkb207XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb3B5RXZlbnREYXRhVG9FdmVudE9iamVjdChldmVudDpNb3VzZUV2ZW50LCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4pe1xuICAgICAgICAgICAgZXZlbnQubGFzdFggPSBldmVudERhdGEuZ2V0Q2hpbGQoXCJsYXN0WFwiKTtcbiAgICAgICAgICAgIGV2ZW50Lmxhc3RZID0gZXZlbnREYXRhLmdldENoaWxkKFwibGFzdFlcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zYXZlTG9jYXRpb24oZXZlbnQ6TW91c2VFdmVudCwgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+KXtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGV2ZW50LmxvY2F0aW9uO1xuXG4gICAgICAgICAgICBldmVudERhdGEuYWRkQ2hpbGQoXCJsYXN0WFwiLCBsb2NhdGlvbi54KTtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5hZGRDaGlsZChcImxhc3RZXCIsIGxvY2F0aW9uLnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIC8vdG9kbyBiaW5kIG9uIEVudGl0eU9iamVjdCB3aGljaCBoYXMgdGhlIGZvY3VzXG4gICAgZXhwb3J0IGNsYXNzIEtleWJvYXJkRXZlbnRIYW5kbGVyIGV4dGVuZHMgRG9tRXZlbnRIYW5kbGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL3B1YmxpYyBrZXlTdGF0ZTphbnkgPSB7fTtcblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6KGV2ZW50Ok1vdXNlRXZlbnQpID0+IHZvaWQsIHByaW9yaXR5Om51bWJlcik7XG4gICAgICAgIHB1YmxpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOihldmVudDpNb3VzZUV2ZW50KSA9PiB2b2lkLCBwcmlvcml0eTpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyBvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwcmlvcml0eSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oXCJrZXlib2FyZCBldmVudCBjYW4gb25seSBiaW5kIG9uIGRvY3VtZW50LmJvZHlcIik7XG5cbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyKHRoaXMuZ2V0RGVmYXVsdERvbSgpLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0cmlnZ2VyRG9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpe1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gdGhpcy5fY3JlYXRlRXZlbnRPYmplY3QoZG9tLCBldmVudCwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoZG9tLCBldmVudE9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdERvbSgpOkhUTUxFbGVtZW50e1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkRW5naW5lSGFuZGxlcihldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjooZXZlbnQ6S2V5Ym9hcmRFdmVudCkgPT4gdm9pZCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0SGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnROYW1lKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudE5hbWUuS0VZRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZUtleURvd24oaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUV2ZW50TmFtZS5LRVlVUDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SGFuZGxlciA9IHRoaXMuX2hhbmRsZUtleVVwKGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHRIYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRIYW5kbGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUV2ZW50RGF0YSgpOndkQ2IuSGFzaDxhbnk+e1xuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YSA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgICAgICBldmVudERhdGEuYWRkQ2hpbGQoXCJrZXlTdGF0ZVwiLCB7fSk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudERhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVLZXlEb3duKGhhbmRsZXI6KGV2ZW50OktleWJvYXJkRXZlbnQpID0+IHZvaWQpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gKGV2ZW50OktleWJvYXJkRXZlbnQsIGV2ZW50RGF0YTp3ZENiLkhhc2g8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBrZXlTdGF0ZTphbnkgPSBldmVudERhdGEuZ2V0Q2hpbGQoXCJrZXlTdGF0ZVwiKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3NldEtleVN0YXRlQWxsRmFsc2Uoa2V5U3RhdGUpO1xuICAgICAgICAgICAgICAgIGtleVN0YXRlW2V2ZW50LmtleV0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fY29weUV2ZW50RGF0YVRvRXZlbnRPYmplY3QoZXZlbnQsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYW5kbGVLZXlVcChoYW5kbGVyOihldmVudDpLZXlib2FyZEV2ZW50KSA9PiB2b2lkKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIChldmVudDpLZXlib2FyZEV2ZW50LCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zZXRLZXlTdGF0ZUFsbEZhbHNlKGV2ZW50RGF0YS5nZXRDaGlsZChcImtleVN0YXRlXCIpKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2NvcHlFdmVudERhdGFUb0V2ZW50T2JqZWN0KGV2ZW50LCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29weUV2ZW50RGF0YVRvRXZlbnRPYmplY3QoZXZlbnQ6S2V5Ym9hcmRFdmVudCwgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+KXtcbiAgICAgICAgICAgIGV2ZW50LmtleVN0YXRlID0gZXZlbnREYXRhLmdldENoaWxkKFwia2V5U3RhdGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRLZXlTdGF0ZUFsbEZhbHNlKGtleVN0YXRlOmFueSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBrZXlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlTdGF0ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlTdGF0ZVtpXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUV2ZW50T2JqZWN0KGRvbTpIVE1MRWxlbWVudCwgZXZlbnQ6YW55LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IEtleWJvYXJkRXZlbnQuY3JlYXRlKGV2ZW50ID8gZXZlbnQgOiByb290LmV2ZW50LCBldmVudE5hbWUpO1xuXG4gICAgICAgICAgICBvYmoudGFyZ2V0ID0gZG9tO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudEhhbmRsZXIgZXh0ZW5kcyBFdmVudEhhbmRsZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkucmVnaXN0ZXIoXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIDxhbnk+ZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5IYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIgPSBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbM107XG5cbiAgICAgICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkucmVnaXN0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgPGFueT5ldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOnN0cmluZyk6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZih1aWQ6bnVtYmVyLCBldmVudE5hbWU6c3RyaW5nKTp2b2lkO1xuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOnN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudFJlZ2lzdGVyID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBldmVudFJlZ2lzdGVyLnJlbW92ZS5hcHBseShldmVudFJlZ2lzdGVyLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50KTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgbm90U2V0VGFyZ2V0OmJvb2xlYW4pOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50LCB1c2VyRGF0YTphbnksIG5vdFNldFRhcmdldDpib29sZWFuKTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKC4uLmFyZ3MpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIGV2ZW50OkV2ZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCB1c2VyRGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnQsIHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgfHwgYXJncy5sZW5ndGggPT09IDQpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgbm90U2V0VGFyZ2V0ID0gYXJnc1syXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl07XG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaWdnZXJUYXJnZXRBbmRFdmVudEhhbmRsZXIodGFyZ2V0LCBldmVudCwgdXNlckRhdGEsIG5vdFNldFRhcmdldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyaWdnZXJFdmVudEhhbmRsZXIoZXZlbnQsIHVzZXJEYXRhKXtcbiAgICAgICAgICAgIHZhciByZWdpc3RlckRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4gPSBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZWdpc3RlckRhdGFMaXN0ID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdChldmVudC5uYW1lKTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyRGF0YUxpc3QgPT09IG51bGwgfHwgcmVnaXN0ZXJEYXRhTGlzdC5nZXRDb3VudCgpPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyRGF0YUxpc3QuZm9yRWFjaCgocmVnaXN0ZXJEYXRhOkN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgLy92YXIgZXZlbnRDb3B5ID0gZXZlbnQuY29weSgpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9ldmVudENvcHkuY3VycmVudFRhcmdldCA9IHJlZ2lzdGVyRGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy9ldmVudENvcHkudGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vc2VsZi5fc2V0VXNlckRhdGEoZXZlbnRDb3B5LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL3JlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSk7XG4gICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IHJlZ2lzdGVyRGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3NldFVzZXJEYXRhKGV2ZW50LCB1c2VyRGF0YSk7XG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRhdGEuaGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyVGFyZ2V0QW5kRXZlbnRIYW5kbGVyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpe1xuICAgICAgICAgICAgdmFyIHJlZ2lzdGVyRGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiA9IG51bGwsXG4gICAgICAgICAgICAgICAgaXNTdG9wUHJvcGFnYXRpb24gPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgaWYoIW5vdFNldFRhcmdldCl7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWdpc3RlckRhdGFMaXN0ID0gQ3VzdG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpLmdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdCh0YXJnZXQsIGV2ZW50Lm5hbWUpO1xuXG4gICAgICAgICAgICBpZiAocmVnaXN0ZXJEYXRhTGlzdCA9PT0gbnVsbCB8fCByZWdpc3RlckRhdGFMaXN0LmdldENvdW50KCk9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVnaXN0ZXJEYXRhTGlzdC5mb3JFYWNoKChyZWdpc3RlckRhdGE6Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvL3ZhciBldmVudENvcHkgPSBldmVudC5jb3B5KCk7XG5cbiAgICAgICAgICAgICAgICAvL2V2ZW50Q29weS5jdXJyZW50VGFyZ2V0ID0gcmVnaXN0ZXJEYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vc2VsZi5fc2V0VXNlckRhdGEoZXZlbnRDb3B5LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL3JlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50Q29weSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL2lmKGV2ZW50Q29weS5pc1N0b3BQcm9wYWdhdGlvbil7XG4gICAgICAgICAgICAgICAgLy8gICAgaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vfVxuXG5cblxuICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSByZWdpc3RlckRhdGEudGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fc2V0VXNlckRhdGEoZXZlbnQsIHVzZXJEYXRhKTtcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YS5oYW5kbGVyKGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmKGV2ZW50LmlzU3RvcFByb3BhZ2F0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgaXNTdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNTdG9wUHJvcGFnYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRVc2VyRGF0YShldmVudDpDdXN0b21FdmVudCwgdXNlckRhdGEpe1xuICAgICAgICAgICAgaWYodXNlckRhdGEpe1xuICAgICAgICAgICAgICAgIGV2ZW50LnVzZXJEYXRhID0gdXNlckRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdHJpZ2dlciguLi5hcmdzKTphbnk7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudERpc3BhdGNoZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50KTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKGV2ZW50OkV2ZW50LCB1c2VyRGF0YTphbnkpOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50KTpib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50LCBub3RTZXRUYXJnZXQ6Ym9vbGVhbik6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIHRyaWdnZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk6Ym9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55LCBub3RTZXRUYXJnZXQ6Ym9vbGVhbik6Ym9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTpib29sZWFuIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYobGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgLnRyaWdnZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihsZW5ndGggPT09IDIgJiYgRXZlbnRVdGlscy5pc0V2ZW50KGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoZXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgICAudHJpZ2dlcihldmVudCwgdXNlckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZigobGVuZ3RoID09PSAyICYmIEV2ZW50VXRpbHMuaXNFbnRpdHlPYmplY3QoYXJnc1swXSkpIHx8IChsZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0Jvb2xlYW4oYXJnc1syXSkpKXtcbiAgICAgICAgICAgIC8vZWxzZSBpZigobGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3QpIHx8IChsZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0Jvb2xlYW4oYXJnc1syXSkpKXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBub3RTZXRUYXJnZXQgPSBhcmdzWzJdID09PSB2b2lkIDAgPyBmYWxzZSA6IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoZXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgICAudHJpZ2dlcih0YXJnZXQsIGV2ZW50LCBub3RTZXRUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihsZW5ndGggPT09IDMgfHwgbGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM10gPT09IHZvaWQgMCA/IGZhbHNlIDogYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnQudHlwZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZmVyIGV2ZW50IHVwXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgICAgICogQHBhcmFtIGV2ZW50T2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE9iamVjdDpFdmVudCwgdXNlckRhdGE/OmFueSkge1xuICAgICAgICAgICAgdmFyIGlzU3RvcFByb3BhZ2F0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmKCF0YXJnZXQpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXZlbnRPYmplY3QucGhhc2UgPSBFRXZlbnRQaGFzZS5FTUlUO1xuICAgICAgICAgICAgZXZlbnRPYmplY3QudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICBkb3tcbiAgICAgICAgICAgICAgICBpc1N0b3BQcm9wYWdhdGlvbiA9IHRoaXMuX3RyaWdnZXJXaXRoVXNlckRhdGEodGFyZ2V0LCBldmVudE9iamVjdCwgdXNlckRhdGEsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYoaXNTdG9wUHJvcGFnYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmJ1YmJsZVBhcmVudDtcbiAgICAgICAgICAgIH13aGlsZSh0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZmVyIGV2ZW50IGRvd25cbiAgICAgICAgICogQHBhcmFtIHRhcmdldFxuICAgICAgICAgKiBAcGFyYW0gZXZlbnRPYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBicm9hZGNhc3QodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnRPYmplY3Q6RXZlbnQsIHVzZXJEYXRhPzphbnkpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IChvYmo6RW50aXR5T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+ID0gb2JqLmdldENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICBpZihjaGlsZHJlbi5nZXRDb3VudCgpID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl90cmlnZ2VyV2l0aFVzZXJEYXRhKGNoaWxkLCBldmVudE9iamVjdCwgdXNlckRhdGEsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIXRhcmdldCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudE9iamVjdC5waGFzZSA9IEVFdmVudFBoYXNlLkJST0FEQ0FTVDtcbiAgICAgICAgICAgIGV2ZW50T2JqZWN0LnRhcmdldCA9IHRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcldpdGhVc2VyRGF0YSh0YXJnZXQsIGV2ZW50T2JqZWN0LCB1c2VyRGF0YSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGl0ZXJhdG9yKHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmlnZ2VyV2l0aFVzZXJEYXRhKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpe1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhID8gdGhpcy50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhLCBub3RTZXRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRyaWdnZXIodGFyZ2V0LCBldmVudCwgbm90U2V0VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnREaXNwYXRjaGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJpZ2dlcihldmVudDpFdmVudCk6dm9pZDtcbiAgICAgICAgcHVibGljIHRyaWdnZXIoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgdHJpZ2dlciguLi5hcmdzKTphbnkge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKGRvbSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFdmVudFJlZ2lzdGVyIHtcbiAgICAgICAgcHJvdGVjdGVkIGxpc3RlbmVyTWFwOkV2ZW50TGlzdGVuZXJNYXAgPSBBQlNUUkFDVF9BVFRSSUJVVEU7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHJlZ2lzdGVyKC4uLmFyZ3MpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCByZW1vdmUoLi4uYXJncyk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnRSZWdpc3RlckRhdGFMaXN0KGV2ZW50TmFtZTpFRXZlbnROYW1lKTphbnk7XG5cbiAgICAgICAgcHVibGljIGdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdChjdXJyZW50VGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWUpOmFueTtcbiAgICAgICAgcHVibGljIGdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdChkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTphbnk7XG5cbiAgICAgICAgcHVibGljIGdldEV2ZW50UmVnaXN0ZXJEYXRhTGlzdCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0OndkQ2IuQ29sbGVjdGlvbjxFdmVudFJlZ2lzdGVyRGF0YT4gPSB0aGlzLmxpc3RlbmVyTWFwLmdldENoaWxkLmFwcGx5KHRoaXMubGlzdGVuZXJNYXAsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnNvcnQoZnVuY3Rpb24gKGRhdGFBLCBkYXRhQikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhQi5wcmlvcml0eSAtIGRhdGFBLnByaW9yaXR5O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmlsdGVyKGZ1bmM6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZpbHRlcihmdW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmb3JFYWNoKGZ1bmM6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmZvckVhY2goZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQoZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwdWJsaWMgZ2V0Q2hpbGQodGFyZ2V0OkVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcbiAgICAgICAgcHVibGljIGdldENoaWxkKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCguLi5hcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5nZXRDaGlsZC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RXZlbnROYW1lRnJvbUtleShrZXk6c3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lck1hcC5nZXRFdmVudE5hbWVGcm9tS2V5KGtleSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBFdmVudFJlZ2lzdGVyRGF0YSA9IHtcbiAgICAgICAgLy91c2VyJ3MgZXZlbnQgaGFuZGxlclxuICAgICAgICBvcmlnaW5IYW5kbGVyOiBGdW5jdGlvbixcbiAgICAgICAgLy93cmFwZWQgdXNlcidzIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgaGFuZGxlcjpGdW5jdGlvbixcbiAgICAgICAgLy9kb20gZXZlbnQgaGFuZGxlclxuICAgICAgICBkb21IYW5kbGVyOkZ1bmN0aW9uLFxuICAgICAgICBwcmlvcml0eTpudW1iZXJcbiAgICB9O1xufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tRXZlbnRSZWdpc3RlciBleHRlbmRzIEV2ZW50UmVnaXN0ZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIGxpc3RlbmVyTWFwOkN1c3RvbUV2ZW50TGlzdGVuZXJNYXAgPSBDdXN0b21FdmVudExpc3RlbmVyTWFwLmNyZWF0ZSgpO1xuXG5cbiAgICAgICAgcHVibGljIHJlZ2lzdGVyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uLCBvcmlnaW5IYW5kbGVyOkZ1bmN0aW9uLCBkb21IYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAuYXBwZW5kQ2hpbGQodGFyZ2V0LCBldmVudE5hbWUsIDxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT57XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICAgICAgICAgICAgICBvcmlnaW5IYW5kbGVyOiBvcmlnaW5IYW5kbGVyLFxuICAgICAgICAgICAgICAgIGRvbUhhbmRsZXI6IGRvbUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmUoZXZlbnROYW1lOkVFdmVudE5hbWUpO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlKHRhcmdldDpFbnRpdHlPYmplY3QpO1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmUoZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pO1xuICAgICAgICBwdWJsaWMgcmVtb3ZlKHVpZDpudW1iZXIsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcbiAgICAgICAgcHVibGljIHJlbW92ZSh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSk7XG5cbiAgICAgICAgcHVibGljIHJlbW92ZSh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik7XG5cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZChldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQodGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFmdGVyQWxsRXZlbnRIYW5kbGVyUmVtb3ZlZCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0Z1bmN0aW9uKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZChldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc051bWJlcihhcmdzWzBdKSkge1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5yZW1vdmVDaGlsZCh1aWQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCkgfHwgYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyTWFwLnJlbW92ZUNoaWxkLmFwcGx5KHRoaXMubGlzdGVuZXJNYXAsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQWxsRXZlbnRIYW5kbGVyUmVtb3ZlZCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFmdGVyQWxsRXZlbnRIYW5kbGVyUmVtb3ZlZCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRCdWJibGVQYXJlbnQodGFyZ2V0OkVudGl0eU9iamVjdCwgcGFyZW50OkVudGl0eU9iamVjdCkge1xuICAgICAgICAgICAgdGFyZ2V0LmJ1YmJsZVBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRVaWRGcm9tS2V5KGtleTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmdldFVpZEZyb21LZXkoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1RhcmdldChrZXk6c3RyaW5nLCB0YXJnZXQ6RW50aXR5T2JqZWN0LCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDdXN0b21FdmVudFJlZ2lzdGVyRGF0YT4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmlzVGFyZ2V0KGtleSwgdGFyZ2V0LCBsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQWxsRXZlbnRIYW5kbGVyUmVtb3ZlZCh0YXJnZXQ6RW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMubGlzdGVuZXJNYXAuaGFzQ2hpbGRXaXRoRnVuYygobGlzdDp3ZENiLkNvbGxlY3Rpb248Q3VzdG9tRXZlbnRSZWdpc3RlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKFN0cmluZyh0YXJnZXQudWlkKSkgPiAtMSAmJiAobGlzdCAmJiBsaXN0LmdldENvdW50KCkgPiAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFuZGxlQWZ0ZXJBbGxFdmVudEhhbmRsZXJSZW1vdmVkKHRhcmdldDpFbnRpdHlPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QnViYmxlUGFyZW50KHRhcmdldCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDdXN0b21FdmVudFJlZ2lzdGVyRGF0YSA9IHtcbiAgICAgICAgdGFyZ2V0OkVudGl0eU9iamVjdCxcbiAgICAgICAgLy91c2VyJ3MgZXZlbnQgaGFuZGxlclxuICAgICAgICBvcmlnaW5IYW5kbGVyOiBGdW5jdGlvbixcbiAgICAgICAgLy93cmFwZWQgdXNlcidzIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgaGFuZGxlcjpGdW5jdGlvbixcbiAgICAgICAgLy9kb20gZXZlbnQgaGFuZGxlclxuICAgICAgICBkb21IYW5kbGVyOkZ1bmN0aW9uLFxuICAgICAgICBwcmlvcml0eTpudW1iZXJcbiAgICB9O1xufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRSZWdpc3RlciBleHRlbmRzIEV2ZW50UmVnaXN0ZXIge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBsaXN0ZW5lck1hcDpEb21FdmVudExpc3RlbmVyTWFwID0gRG9tRXZlbnRMaXN0ZW5lck1hcC5jcmVhdGUoKTtcblxuXG4gICAgICAgIHB1YmxpYyByZWdpc3Rlcihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBldmVudERhdGE6d2RDYi5IYXNoPGFueT4sIGhhbmRsZXI6RnVuY3Rpb24sIG9yaWdpbkhhbmRsZXI6RnVuY3Rpb24sIGRvbUhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lck1hcC5hcHBlbmRDaGlsZChkb20sIGV2ZW50TmFtZSwgPERvbUV2ZW50UmVnaXN0ZXJEYXRhPntcbiAgICAgICAgICAgICAgICBkb206IGRvbSxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAvL2V2ZW50SGFuZGxlcjogZXZlbnRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YTogZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgb3JpZ2luSGFuZGxlcjogb3JpZ2luSGFuZGxlcixcbiAgICAgICAgICAgICAgICBkb21IYW5kbGVyOiBkb21IYW5kbGVyLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGV2ZW50TmFtZTpFRXZlbnROYW1lLCBoYW5kbGVyOkZ1bmN0aW9uKTtcbiAgICAgICAgcHVibGljIHJlbW92ZShkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pO1xuXG5cbiAgICAgICAgcHVibGljIHJlbW92ZSguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNGdW5jdGlvbihhcmdzWzFdKSkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKSB8fCBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubGlzdGVuZXJNYXAucmVtb3ZlQ2hpbGQuYXBwbHkodGhpcy5saXN0ZW5lck1hcCwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNCaW5kZWQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJNYXAuaGFzQ2hpbGQoZG9tLCBldmVudE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRG9tKGtleTpzdHJpbmcsIGRvbTpIVE1MRWxlbWVudCwgbGlzdDp3ZENiLkNvbGxlY3Rpb248RG9tRXZlbnRSZWdpc3RlckRhdGE+KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyTWFwLmlzRG9tKGtleSwgZG9tLCBsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXREb21IYW5kbGVyKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBsaXN0OndkQ2IuQ29sbGVjdGlvbjxEb21FdmVudFJlZ2lzdGVyRGF0YT4gPSB0aGlzLmdldENoaWxkKGRvbSwgZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5nZXRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0LmdldENoaWxkKDApLmRvbUhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBEb21FdmVudFJlZ2lzdGVyRGF0YSA9IHtcbiAgICAgICAgZG9tPzpIVE1MRWxlbWVudCxcbiAgICAgICAgdGFyZ2V0PzpFbnRpdHlPYmplY3QsXG4gICAgICAgIC8vZXZlbnRIYW5kbGVyOkV2ZW50SGFuZGxlcixcbiAgICAgICAgZXZlbnREYXRhOndkQ2IuSGFzaDxhbnk+LFxuICAgICAgICAvL3VzZXIncyBldmVudCBoYW5kbGVyXG4gICAgICAgIG9yaWdpbkhhbmRsZXI6RnVuY3Rpb24sXG4gICAgICAgIC8vd3JhcGVkIHVzZXIncyBldmVudCBoYW5kbGVyXG4gICAgICAgIGhhbmRsZXI6RnVuY3Rpb24sXG4gICAgICAgIC8vZG9tIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgZG9tSGFuZGxlcjpGdW5jdGlvbixcbiAgICAgICAgcHJpb3JpdHk6bnVtYmVyXG4gICAgfTtcbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50QmluZGVyIHtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IG9uKC4uLmFyZ3MpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBvZmYoLi4uYXJncyk6dm9pZDtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21FdmVudEJpbmRlciBleHRlbmRzIEV2ZW50QmluZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvbihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcbiAgICAgICAgcHVibGljIG9uKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24odGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrRXZlbnRTZXBhcmF0b3IoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgb24oLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9mZigpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvZmYodGFyZ2V0OkVudGl0eU9iamVjdCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9mZiguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRSZWdpc3RlciA9IEN1c3RvbUV2ZW50UmVnaXN0ZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50UmVnaXN0ZXIuZ2V0RXZlbnROYW1lRnJvbUtleShrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VWlkID0gZXZlbnRSZWdpc3Rlci5nZXRVaWRGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIXRhcmdldFVpZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSkub2ZmKHRhcmdldFVpZCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRFdmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZWdpc3RlcmVkRXZlbnROYW1lID09PSBldmVudE5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBldmVudFJlZ2lzdGVyLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEN1c3RvbUV2ZW50UmVnaXN0ZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnRSZWdpc3Rlci5nZXRFdmVudE5hbWVGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnRSZWdpc3Rlci5pc1RhcmdldChrZXksIHRhcmdldCwgbGlzdCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKHRhcmdldCwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9mZih0YXJnZXQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydChldmVudE5hbWUuaW5kZXhPZihDdXN0b21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yKSA9PT0gLTEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImV2ZW50TmFtZVwiLCBgY29udGFpbiAke0N1c3RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRG9tRXZlbnRCaW5kZXIgZXh0ZW5kcyBFdmVudEJpbmRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uKGxpc3RlbmVyOnt9fEV2ZW50TGlzdGVuZXIpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIG9uKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9uKGRvbTpIVE1MRWxlbWVudCwgbGlzdGVuZXI6e318RXZlbnRMaXN0ZW5lcik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24oZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nLCBoYW5kbGVyOkZ1bmN0aW9uLCBwcmlvcml0eTpudW1iZXIpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb24oZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrRXZlbnRTZXBhcmF0b3IoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0V2ZW50U2VwYXJhdG9yKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IGxpc3RlbmVyOkV2ZW50TGlzdGVuZXIgPSAhKGFyZ3NbMF0gaW5zdGFuY2VvZiBFdmVudExpc3RlbmVyKSA/ICBFdmVudExpc3RlbmVyLmNyZWF0ZShhcmdzWzBdKTogYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZXJEYXRhTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyRGF0YTpFdmVudEhhbmRsZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKGxpc3RlbmVyLmV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihoYW5kbGVyRGF0YS5ldmVudE5hbWUsIGhhbmRsZXJEYXRhLmhhbmRsZXIsIGxpc3RlbmVyLnByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcjpFdmVudExpc3RlbmVyID0gIShhcmdzWzBdIGluc3RhbmNlb2YgRXZlbnRMaXN0ZW5lcikgPyAgRXZlbnRMaXN0ZW5lci5jcmVhdGUoYXJnc1swXSk6IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5oYW5kbGVyRGF0YUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlckRhdGE6RXZlbnRIYW5kbGVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihsaXN0ZW5lci5ldmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oZG9tLCBoYW5kbGVyRGF0YS5ldmVudE5hbWUsIGhhbmRsZXJEYXRhLmhhbmRsZXIsIGxpc3RlbmVyLnByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vbihkb20sIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IGFyZ3NbM107XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub24oZG9tLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvZmYoKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZXZlbnROYW1lOkVFdmVudE5hbWV8c3RyaW5nKTp2b2lkO1xuICAgICAgICBwdWJsaWMgb2ZmKGRvbTpIVE1MRWxlbWVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIG9mZihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgb2ZmKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudFJlZ2lzdGVyID0gRG9tRXZlbnRSZWdpc3Rlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZXZlbnRSZWdpc3Rlci5mb3JFYWNoKChsaXN0OndkQ2IuQ29sbGVjdGlvbjxFdmVudEhhbmRsZXJEYXRhPiwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnRSZWdpc3Rlci5nZXRFdmVudE5hbWVGcm9tS2V5KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9mZihldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGV2ZW50UmVnaXN0ZXIuZm9yRWFjaCgobGlzdDp3ZENiLkNvbGxlY3Rpb248RXZlbnRIYW5kbGVyRGF0YT4sIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRFdmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihyZWdpc3RlcmVkRXZlbnROYW1lID09PSBldmVudE5hbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyRmFjdG9yeS5jcmVhdGVFdmVudEhhbmRsZXIoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBldmVudFJlZ2lzdGVyLmZvckVhY2goKGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEV2ZW50SGFuZGxlckRhdGE+LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudFJlZ2lzdGVyLmdldEV2ZW50TmFtZUZyb21LZXkoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZihldmVudFJlZ2lzdGVyLmlzRG9tKGtleSwgZG9tLCBsaXN0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vZmYoZG9tLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXJGYWN0b3J5LmNyZWF0ZUV2ZW50SGFuZGxlcihFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAub2ZmKGRvbSwgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXTtcblxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlckZhY3RvcnkuY3JlYXRlRXZlbnRIYW5kbGVyKEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5vZmYoZG9tLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hlY2tFdmVudFNlcGFyYXRvcihldmVudE5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIGFzc2VydChldmVudE5hbWUuaW5kZXhPZihEb21FdmVudExpc3RlbmVyTWFwLmV2ZW50U2VwYXJhdG9yKSA9PT0gLTEsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImV2ZW50TmFtZVwiLCBgY29udGFpbiAke0RvbUV2ZW50TGlzdGVuZXJNYXAuZXZlbnRTZXBhcmF0b3J9YCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXJGYWN0b3J5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUV2ZW50SGFuZGxlcihldmVudFR5cGU6RUV2ZW50VHlwZSl7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuTU9VU0U6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBNb3VzZUV2ZW50SGFuZGxlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuS0VZQk9BUkQ6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBLZXlib2FyZEV2ZW50SGFuZGxlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gQ3VzdG9tRXZlbnRIYW5kbGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vdG9kbyBtb3JlIHR5cGVcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcImV2ZW50VHlwZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRCaW5kZXJGYWN0b3J5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUV2ZW50QmluZGVyKGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIGxldCBiaW5kZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuTU9VU0U6XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnRUeXBlLktFWUJPQVJEOlxuICAgICAgICAgICAgICAgICAgICBiaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBiaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChgZXZlbnROYW1lOiR7ZXZlbnROYW1lfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiaW5kZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50RGlzcGF0Y2hlckZhY3Rvcnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRXZlbnREaXNwYXRjaGVyKGV2ZW50OkV2ZW50KXtcbiAgICAgICAgICAgIGxldCBkaXNwYXRjaGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC50eXBlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50VHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFRXZlbnRUeXBlLk1PVVNFOlxuICAgICAgICAgICAgICAgIGNhc2UgRUV2ZW50VHlwZS5LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlciA9IERvbUV2ZW50RGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVFdmVudFR5cGUuQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKGBldmVudDoke2V2ZW50fWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRVdGlscyB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNFdmVudChhcmc6YW55KXtcbiAgICAgICAgICAgIHJldHVybiBhcmcgJiYgYXJnLmN1cnJlbnRUYXJnZXQgIT09IHZvaWQgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNFbnRpdHlPYmplY3QoYXJnOmFueSl7XG4gICAgICAgICAgICByZXR1cm4gYXJnICYmIGFyZy5zY3JpcHRMaXN0ICE9PSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb24obGlzdGVuZXI6e318RXZlbnRMaXN0ZW5lcik6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvbihkb206SFRNTEVsZW1lbnQsIGxpc3RlbmVyOnt9fEV2ZW50TGlzdGVuZXIpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBvbihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb24oZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24sIHByaW9yaXR5Om51bWJlcik6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvbihkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZywgaGFuZGxlcjpGdW5jdGlvbiwgcHJpb3JpdHk6bnVtYmVyKTp2b2lkO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoRXZlbnRUYWJsZS5nZXRFdmVudFR5cGUoZXZlbnROYW1lKSA9PT0gRUV2ZW50VHlwZS5DVVNUT00sIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50XCIsIFwiY3VzdG9tIGV2ZW50XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoZXZlbnRUeXBlID09PSBFRXZlbnRUeXBlLk1PVVNFIHx8IGV2ZW50VHlwZSA9PT0gRUV2ZW50VHlwZS5LRVlCT0FSRCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRcIiwgXCJkb20gZXZlbnRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIG9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IERvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vbihsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSAxLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEV2ZW50QmluZGVyRmFjdG9yeS5jcmVhdGVFdmVudEJpbmRlcihldmVudE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9uKGRvbSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBFdmVudEJpbmRlckZhY3RvcnkuY3JlYXRlRXZlbnRCaW5kZXIoZXZlbnROYW1lKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9uKGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gMSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBDdXN0b21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDMgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IDEsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9uKGRvbSwgZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA0ICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBhcmdzWzNdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEN1c3RvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gNCAmJiBKdWRnZVV0aWxzLmlzRG9tKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZG9tID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub24oZG9tLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9mZihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKHRhcmdldDpFbnRpdHlPYmplY3QpOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKGRvbTpIVE1MRWxlbWVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9mZihldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50TmFtZTpFRXZlbnROYW1lfHN0cmluZyk6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBvZmYoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIG9mZih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZXxzdHJpbmcsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgb2ZmKGRvbTpIVE1MRWxlbWVudCwgZXZlbnROYW1lOkVFdmVudE5hbWUsIGhhbmRsZXI6RnVuY3Rpb24pOnZvaWQ7XG5cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID4gMiAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChFdmVudFRhYmxlLmdldEV2ZW50VHlwZShldmVudE5hbWUpID09PSBFRXZlbnRUeXBlLkNVU1RPTSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRcIiwgXCJjdXN0b20gZXZlbnRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA+IDIgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IEV2ZW50VGFibGUuZ2V0RXZlbnRUeXBlKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoZXZlbnRUeXBlID09PSBFRXZlbnRUeXBlLk1PVVNFIHx8IGV2ZW50VHlwZSA9PT0gRUV2ZW50VHlwZS5LRVlCT0FSRCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRcIiwgXCJkb20gZXZlbnRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIG9mZiguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbGV0IGN1c3RvbUV2ZW50QmluZGVyID0gQ3VzdG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgZG9tRXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgY3VzdG9tRXZlbnRCaW5kZXIub2ZmKCk7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnRCaW5kZXIub2ZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAxICYmIEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEV2ZW50QmluZGVyRmFjdG9yeS5jcmVhdGVFdmVudEJpbmRlcihldmVudE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IEN1c3RvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vZmYoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDEgJiYgSnVkZ2VVdGlscy5pc0RvbShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZihldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gRXZlbnRCaW5kZXJGYWN0b3J5LmNyZWF0ZUV2ZW50QmluZGVyKGV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gQ3VzdG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZih0YXJnZXQsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBldmVudEJpbmRlciA9IERvbUV2ZW50QmluZGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBldmVudEJpbmRlci5vZmYoZG9tLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyAmJiBhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlciA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyID0gQ3VzdG9tRXZlbnRCaW5kZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QmluZGVyLm9mZih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzICYmIEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIgPSBEb21FdmVudEJpbmRlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kZXIub2ZmKGRvbSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdHJpZ2dlcihldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIoZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk6dm9pZDtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0cmlnZ2VyKHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50KTp2b2lkO1xuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIoZG9tOkhUTUxFbGVtZW50LCBldmVudDpFdmVudCk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk6dm9pZDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSwgbm90U2V0VGFyZ2V0OmJvb2xlYW4pOnZvaWQ7XG5cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBFdmVudCl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGFzc2VydChldmVudCBpbnN0YW5jZW9mIEN1c3RvbUV2ZW50LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJldmVudCB0eXBlXCIsIFwiQ1VTVE9NXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXSBpbnN0YW5jZW9mIEVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBpZihhcmdzWzBdKXtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNEb20oYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInRoZSBmaXJzdCBwYXJhbVwiLCBcImRvbVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzWzBdIGluc3RhbmNlb2YgRW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGV2ZW50IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50IHR5cGVcIiwgXCJDVVNUT01cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIHRyaWdnZXIoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZihsZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlciA9IEV2ZW50RGlzcGF0Y2hlckZhY3RvcnkuY3JlYXRlRXZlbnREaXNwYXRjaGVyKGV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci50cmlnZ2VyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobGVuZ3RoID09PSAyICYmIEV2ZW50VXRpbHMuaXNFdmVudChhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIgPSBDdXN0b21FdmVudERpc3BhdGNoZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci50cmlnZ2VyKGV2ZW50LCB1c2VyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGxlbmd0aCA9PT0gMiAmJiBFdmVudFV0aWxzLmlzRW50aXR5T2JqZWN0KGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIgPSBDdXN0b21FdmVudERpc3BhdGNoZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICAgIGlmKCF0YXJnZXQpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyLnRyaWdnZXIodGFyZ2V0LCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyID0gRG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZighZG9tKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci50cmlnZ2VyKGRvbSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihsZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZighdGFyZ2V0KXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci50cmlnZ2VyKHRhcmdldCwgZXZlbnQsIHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IGFyZ3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIG5vdFNldFRhcmdldCA9IGFyZ3NbM10sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlciA9IEN1c3RvbUV2ZW50RGlzcGF0Y2hlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYoIXRhcmdldCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBldmVudERpc3BhdGNoZXIudHJpZ2dlcih0YXJnZXQsIGV2ZW50LCB1c2VyRGF0YSwgbm90U2V0VGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYnJvYWRjYXN0KHRhcmdldDpFbnRpdHlPYmplY3QsIGV2ZW50OkV2ZW50KTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBicm9hZGNhc3QodGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnQ6RXZlbnQsIHVzZXJEYXRhOmFueSk7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odGFyZ2V0OkVudGl0eU9iamVjdCwgZXZlbnRPYmplY3Q6RXZlbnQsIHVzZXJEYXRhPzphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KGV2ZW50T2JqZWN0IGluc3RhbmNlb2YgQ3VzdG9tRXZlbnQsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImV2ZW50T2JqZWN0XCIsIFwiQ3VzdG9tRXZlbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIGJyb2FkY2FzdCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci5icm9hZGNhc3QuYXBwbHkoZXZlbnREaXNwYXRjaGVyLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudDpFdmVudCwgdXNlckRhdGE6YW55KTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE9iamVjdDpFdmVudCwgdXNlckRhdGE/OmFueSl7XG4gICAgICAgICAgICBhc3NlcnQoZXZlbnRPYmplY3QgaW5zdGFuY2VvZiBDdXN0b21FdmVudCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiZXZlbnRPYmplY3RcIiwgXCJDdXN0b21FdmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZW1pdCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnREaXNwYXRjaGVyID0gQ3VzdG9tRXZlbnREaXNwYXRjaGVyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50RGlzcGF0Y2hlci5lbWl0LmFwcGx5KGV2ZW50RGlzcGF0Y2hlciwgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChldmVudE5hbWU6RUV2ZW50TmFtZSwgcHJpb3JpdHk6bnVtYmVyKTp3ZEZycC5Gcm9tRXZlbnRQYXR0ZXJuU3RyZWFtO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBmcm9tRXZlbnQoZG9tOkhUTUxFbGVtZW50LCBldmVudE5hbWU6RUV2ZW50TmFtZSk6d2RGcnAuRnJvbUV2ZW50UGF0dGVyblN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBldmVudE5hbWU6RUV2ZW50TmFtZSwgcHJpb3JpdHk6bnVtYmVyKTp3ZEZycC5Gcm9tRXZlbnRQYXR0ZXJuU3RyZWFtO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChkb206SFRNTEVsZW1lbnQsIGV2ZW50TmFtZTpFRXZlbnROYW1lLCBwcmlvcml0eTpudW1iZXIpOndkRnJwLkZyb21FdmVudFBhdHRlcm5TdHJlYW07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBmcm9tRXZlbnQoLi4uYXJncyk6YW55IHtcbiAgICAgICAgICAgIHZhciBhZGRIYW5kbGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIGFkZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIub24oZXZlbnROYW1lLCBoYW5kbGVyLCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbihhcmdzWzBdLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vZmYoYXJnc1swXSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBhcmdzWzJdO1xuXG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5vbihhcmdzWzBdLCBldmVudE5hbWUsIGhhbmRsZXIsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIub2ZmKGFyZ3NbMF0sIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21FdmVudFBhdHRlcm4oYWRkSGFuZGxlciwgcmVtb3ZlSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6RW50aXR5T2JqZWN0LCBwYXJlbnQ6YW55KXtcbiAgICAgICAgICAgIGFzc2VydCh0YXJnZXQgaW5zdGFuY2VvZiBFbnRpdHlPYmplY3QsIFwib25seSBFbnRpdHlPYmplY3QgY2FuIHNldEJ1YmxlUGFyZW50XCIpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldEJ1YmJsZVBhcmVudCh0YXJnZXQ6RW50aXR5T2JqZWN0LCBwYXJlbnQ6YW55KSB7XG4gICAgICAgICAgICBDdXN0b21FdmVudFJlZ2lzdGVyLmdldEluc3RhbmNlKCkuc2V0QnViYmxlUGFyZW50KHRhcmdldCwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFRW5naW5lRXZlbnR7XG4gICAgICAgIC8qISBnbG9iYWwgZXZlbnQgc2hvdWxkIGFkZCBcIndkX1wiIHByZWZpeCAqL1xuICAgICAgICBTVEFSVExPT1AgPSA8YW55Plwid2Rfc3RhcnRMb29wXCIsXG4gICAgICAgIEVORExPT1AgPSA8YW55Plwid2RfZW5kTG9vcFwiLFxuICAgICAgICBCRUZPUkVfR0FNRU9CSkVDVF9JTklUID0gPGFueT5cIndkX2JlZm9yZUdhbWVPYmplY3RJbml0XCIsXG4gICAgICAgIEFGVEVSX0dBTUVPQkpFQ1RfSU5JVCA9IDxhbnk+XCJ3ZF9hZnRlckdhbWVPYmplY3RJbml0XCIsXG4gICAgICAgIEFGVEVSX0dBTUVPQkpFQ1RfSU5JVF9SSUdJREJPRFlfQUREX0NPTlNUUkFJTlQgPSA8YW55Plwid2RfYWZ0ZXJHYW1lT2JqZWN0SW5pdF9yaWdpZEJvd2RfYWRkQ29uc3RyYWludFwiLFxuXG4gICAgICAgIE1PVVNFX0NMSUNLID0gPGFueT5cIndkX21vdXNlY2xpY2tcIixcbiAgICAgICAgTU9VU0VfRE9XTiA9IDxhbnk+XCJ3ZF9tb3VzZWRvd25cIixcbiAgICAgICAgTU9VU0VfVVAgPSA8YW55Plwid2RfbW91c2V1cFwiLFxuICAgICAgICBNT1VTRV9NT1ZFID0gPGFueT5cIndkX21vdXNlbW92ZVwiLFxuICAgICAgICBNT1VTRV9PVkVSID0gPGFueT5cIndkX21vdXNlb3ZlclwiLFxuICAgICAgICBNT1VTRV9PVVQgPSA8YW55Plwid2RfbW91c2VvdXRcIixcbiAgICAgICAgTU9VU0VfV0hFRUwgPSA8YW55Plwid2RfbW91c2V3aGVlbFwiLFxuICAgICAgICBNT1VTRV9EUkFHID0gPGFueT5cIndkX21vdXNlZHJhZ1wiLFxuXG4gICAgICAgIE1BVEVSSUFMX0NIQU5HRSA9IDxhbnk+XCJ3ZF9tYXRlcmlhbF9jaGFuZ2VcIixcbiAgICAgICAgTUFURVJJQUxfQ09MT1JfQ0hBTkdFID0gPGFueT5cIndkX21hdGVyaWFsX2NvbG9yX2NoYW5nZVwiLFxuXG4gICAgICAgIFVJX1dJRFRIX0NIQU5HRSA9IDxhbnk+XCJ3ZF91aV93aWR0aF9jaGFuZ2VcIixcbiAgICAgICAgVUlfSEVJR0hUX0NIQU5HRSA9IDxhbnk+XCJ3ZF91aV9oZWlnaHRfY2hhbmdlXCIsXG5cbiAgICAgICAgVFJBTlNGT1JNX1RSQU5TTEFURSA9IDxhbnk+XCJ3ZF90cmFuc2Zvcm1fdHJhbnNsYXRlXCIsXG4gICAgICAgIFRSQU5TRk9STV9ST1RBVEUgPSA8YW55Plwid2RfdHJhbnNmb3JtX3JvdGF0ZVwiLFxuICAgICAgICBUUkFOU0ZPUk1fU0NBTEUgPSA8YW55Plwid2RfdHJhbnNmb3JtX3NjYWxlXCIsXG5cbiAgICAgICAgU0hBRE9XTUFQX1NPRlRUWVBFX0NIQU5HRSA9IDxhbnk+XCJ3ZF9zaGFkb3dNYXBfc29mdFR5cGVfY2hhbmdlXCIsXG5cblxuICAgICAgICBDT01QT05FTlRfQ0hBTkdFID0gPGFueT5cIndkX2NvbXBvbmVudF9jaGFuZ2VcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTE9EQ29udHJvbGxlciBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgYWN0aXZlR2VvbWV0cnk6R2VvbWV0cnkgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2xldmVsTGlzdDp3ZENiLkNvbGxlY3Rpb248TGV2ZWxEYXRhPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8TGV2ZWxEYXRhPigpO1xuICAgICAgICBwcml2YXRlIF9vcmlnaW5HZW9tZXRyeTpHZW9tZXRyeSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBlbnRpdHlPYmplY3QgPSB0aGlzLmVudGl0eU9iamVjdDtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVHZW9tZXRyeSA9IGVudGl0eU9iamVjdC5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KTtcblxuICAgICAgICAgICAgdGhpcy5fb3JpZ2luR2VvbWV0cnkgPSB0aGlzLmFjdGl2ZUdlb21ldHJ5O1xuXG4gICAgICAgICAgICB0aGlzLl9sZXZlbExpc3RcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh7Z2VvbWV0cnksIGRpc3RhbmNlQmV0d2VlbkNhbWVyYUFuZE9iamVjdH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoe2dlb21ldHJ5LCBkaXN0YW5jZUJldHdlZW5DYW1lcmFBbmRPYmplY3R9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LmVudGl0eU9iamVjdCA9IGVudGl0eU9iamVjdDtcblxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5pbml0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuY3JlYXRlQnVmZmVyc0Zyb21HZW9tZXRyeURhdGEoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZEdlb21ldHJ5TGV2ZWwoZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0LCBsZXZlbEdlb21ldHJ5Okdlb21ldHJ5KXtcbiAgICAgICAgICAgIHRoaXMuX2xldmVsTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0OiBkaXN0YW5jZUJldHdlZW5DYW1lcmFBbmRPYmplY3QsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6bGV2ZWxHZW9tZXRyeVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xldmVsTGlzdC5zb3J0KChsZXZlbERhdGExOkxldmVsRGF0YSwgbGV2ZWxEYXRhMikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZXZlbERhdGEyLmRpc3RhbmNlQmV0d2VlbkNhbWVyYUFuZE9iamVjdCAtIGxldmVsRGF0YTEuZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0O1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6IG9ubHkgd2hlbiBjYW1lcmEgbW92ZSwgdGhlbiBjb21wdXRlIGxvZDsgcmVkdWNlIGNvbXB1dGUgcmF0ZVxuICAgICAgICAgICAgdmFyIGN1cnJlbnREaXN0YW5jZUJldHdlZW5DYW1lcmFBbmRPYmplY3Q6bnVtYmVyID0gVmVjdG9yMy5jcmVhdGUoKS5zdWIyKERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbikubGVuZ3RoKCksXG4gICAgICAgICAgICAgICAgdXNlT3JpZ2luR2VvbWV0cnk6Ym9vbGVhbiA9IHRydWUsXG4gICAgICAgICAgICAgICAgYWN0aXZlR2VvbWV0cnk6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fbGV2ZWxMaXN0LmZvckVhY2goKHtnZW9tZXRyeSwgZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0fSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnREaXN0YW5jZUJldHdlZW5DYW1lcmFBbmRPYmplY3QgPj0gZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgdXNlT3JpZ2luR2VvbWV0cnkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kQlJFQUs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKGFjdGl2ZUdlb21ldHJ5ID09PSBFTE9ER2VvbWV0cnlTdGF0ZS5JTlZJU0lCTEUpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmlzVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5pc1Zpc2libGUgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZihhY3RpdmVHZW9tZXRyeSAmJiAhSnVkZ2VVdGlscy5pc0VxdWFsKGFjdGl2ZUdlb21ldHJ5LCB0aGlzLmFjdGl2ZUdlb21ldHJ5KSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVHZW9tZXRyeSA9IGFjdGl2ZUdlb21ldHJ5O1xuXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5DT01QT05FTlRfQ0hBTkdFKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHVzZU9yaWdpbkdlb21ldHJ5KXtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUdlb21ldHJ5ID0gdGhpcy5fb3JpZ2luR2VvbWV0cnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0eXBlIExldmVsRGF0YSA9IHtcbiAgICAgICAgZGlzdGFuY2VCZXR3ZWVuQ2FtZXJhQW5kT2JqZWN0Om51bWJlcjtcbiAgICAgICAgZ2VvbWV0cnk6R2VvbWV0cnk7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVMT0RHZW9tZXRyeVN0YXRle1xuICAgICAgICBJTlZJU0lCTEVcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50VHJpZ2dlckRldGVjdG9yIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICAvL3B1YmxpYyB0cmlnZ2VyTW9kZTpFdmVudFRyaWdnZXJNb2RlID0gRXZlbnRUcmlnZ2VyTW9kZS5UT1A7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzVHJpZ2dlcihlOk1vdXNlRXZlbnQpOmJvb2xlYW47XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIC8vdG9kbyBzdXBwb3J0IGNoYW5nZSBldmVudCByZWN0IHJhbmdlKGJlY2F1c2UgaWYgcm90YXRlLCB0aGUgdGhlIGV2ZW50IHJlY3QgcmFuZ2UgbWF5IGJlIG11Y2ggZGlmZmVyZW50IGZyb20gdGhlIG9uZSBvZiBkcmF3ZWQgaW4gY2FudmFzKVxuICAgIGV4cG9ydCBjbGFzcyBVSUV2ZW50VHJpZ2dlckRldGVjdG9yIGV4dGVuZHMgRXZlbnRUcmlnZ2VyRGV0ZWN0b3Ige1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzVHJpZ2dlcihlOk1vdXNlRXZlbnQpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybTpSZWN0VHJhbnNmb3JtID0gPFJlY3RUcmFuc2Zvcm0+dGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gdHJhbnNmb3JtLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRyYW5zZm9ybS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgbG9jYXRpb25JblZpZXcgPSBlLmxvY2F0aW9uSW5WaWV3LFxuICAgICAgICAgICAgICAgIGxlZnRVcENvcm5lclBvc2l0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgbGVmdFVwQ29ybmVyUG9zaXRpb24gPSBWZWN0b3IyLmNyZWF0ZShwb3NpdGlvbi54IC0gd2lkdGggLyAyLCBwb3NpdGlvbi55IC0gaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIHJldHVybiBFdmVudFRyaWdnZXJEZXRlY3RvclV0aWxzLmlzSW5SZWN0KGxvY2F0aW9uSW5WaWV3LCBsZWZ0VXBDb3JuZXJQb3NpdGlvbiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFJheUNhc3RlckV2ZW50VHJpZ2dlckRldGVjdG9yIGV4dGVuZHMgRXZlbnRUcmlnZ2VyRGV0ZWN0b3Ige1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzVHJpZ2dlcihlOk1vdXNlRXZlbnQpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29udHJvbGxlcjpDYW1lcmFDb250cm9sbGVyID0gc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQ8Q2FtZXJhQ29udHJvbGxlcj4oQ2FtZXJhQ29udHJvbGxlciksXG4gICAgICAgICAgICAgICAgbG9jYXRpb25JblZpZXcgPSBlLmxvY2F0aW9uSW5WaWV3O1xuXG4gICAgICAgICAgICByZXR1cm4gY2FtZXJhQ29udHJvbGxlci5pc0ludGVyc2VjdFdpdGhSYXkoPEdhbWVPYmplY3Q+dGhpcy5lbnRpdHlPYmplY3QsIGxvY2F0aW9uSW5WaWV3LngsIGxvY2F0aW9uSW5WaWV3LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTY2VuZUV2ZW50VHJpZ2dlckRldGVjdG9yIGV4dGVuZHMgRXZlbnRUcmlnZ2VyRGV0ZWN0b3Ige1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzVHJpZ2dlcihlOk1vdXNlRXZlbnQpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIHZpZXc6SVZpZXcgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkudmlldyxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHZpZXcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdmlldy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgbG9jYXRpb25JblZpZXcgPSBlLmxvY2F0aW9uSW5WaWV3LFxuICAgICAgICAgICAgICAgIGxlZnRVcENvcm5lclBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUoMCwgMCk7XG5cbiAgICAgICAgICAgIHJldHVybiBFdmVudFRyaWdnZXJEZXRlY3RvclV0aWxzLmlzSW5SZWN0KGxvY2F0aW9uSW5WaWV3LCBsZWZ0VXBDb3JuZXJQb3NpdGlvbiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50VHJpZ2dlckRldGVjdG9yVXRpbHMge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGlzSW5SZWN0KGxvY2F0aW9uSW5WaWV3OlBvaW50LCBsZWZ0VXBDb3JuZXJQb3NpdGlvbjpWZWN0b3IyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbkluVmlldy54ID49IGxlZnRVcENvcm5lclBvc2l0aW9uLnggJiYgbG9jYXRpb25JblZpZXcueCA8PSBsZWZ0VXBDb3JuZXJQb3NpdGlvbi54ICsgd2lkdGggJiYgbG9jYXRpb25JblZpZXcueSA+PSBsZWZ0VXBDb3JuZXJQb3NpdGlvbi55ICYmIGxvY2F0aW9uSW5WaWV3LnkgPD0gbGVmdFVwQ29ybmVyUG9zaXRpb24ueSArIGhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZSA9IHdkQ2IuSGFzaC5jcmVhdGU8c3RyaW5nPigpLFxuICAgICAgICBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZSA9IHdkQ2IuSGFzaC5jcmVhdGU8c3RyaW5nPigpO1xuXG4gICAgLy90b2RvIG5vdCBkZWNsYXJlIFwiPGFueT5cIiFcbiAgICBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuQ0xJQ0ssIFwib25Nb3VzZUNsaWNrXCIpO1xuICAgIF9zY3JpcHRIYW5kbGVyTmFtZVRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRU9WRVIsIFwib25Nb3VzZU92ZXJcIik7XG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFT1VULCBcIm9uTW91c2VPdXRcIik7XG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFTU9WRSwgXCJvbk1vdXNlTW92ZVwiKTtcbiAgICBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VET1dOLCBcIm9uTW91c2VEb3duXCIpO1xuICAgIF9zY3JpcHRIYW5kbGVyTmFtZVRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRVVQLCBcIm9uTW91c2VVcFwiKTtcbiAgICBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VXSEVFTCwgXCJvbk1vdXNlV2hlZWxcIik7XG4gICAgX3NjcmlwdEhhbmRsZXJOYW1lVGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFRFJBRywgXCJvbk1vdXNlRHJhZ1wiKTtcblxuXG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLkNMSUNLLCBcIk1PVVNFX0NMSUNLXCIpO1xuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRURPV04sIFwiTU9VU0VfRE9XTlwiKTtcbiAgICBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VVUCwgXCJNT1VTRV9VUFwiKTtcbiAgICBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZS5hZGRDaGlsZCg8YW55PkVFdmVudE5hbWUuTU9VU0VNT1ZFLCBcIk1PVVNFX01PVkVcIik7XG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFT1ZFUiwgXCJNT1VTRV9PVkVSXCIpO1xuICAgIF9zY3JpcHRFbmdpbmVFdmVudFRhYmxlLmFkZENoaWxkKDxhbnk+RUV2ZW50TmFtZS5NT1VTRU9VVCwgXCJNT1VTRV9PVVRcIik7XG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFV0hFRUwsIFwiTU9VU0VfV0hFRUxcIik7XG4gICAgX3NjcmlwdEVuZ2luZUV2ZW50VGFibGUuYWRkQ2hpbGQoPGFueT5FRXZlbnROYW1lLk1PVVNFRFJBRywgXCJNT1VTRV9EUkFHXCIpO1xuXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50VHJpZ2dlclRhYmxle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldFNjcmlwdEhhbmRsZXJOYW1lKGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfc2NyaXB0SGFuZGxlck5hbWVUYWJsZS5nZXRDaGlsZCg8YW55PmV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldFNjcmlwdEVuZ2luZUV2ZW50KGV2ZW50TmFtZTpFRXZlbnROYW1lKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfc2NyaXB0RW5naW5lRXZlbnRUYWJsZS5nZXRDaGlsZCg8YW55PmV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTY3JpcHQgZXh0ZW5kcyBDb21wb25lbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2NyaXB0TGlzdDp3ZENiLlN0YWNrPFNjcmlwdEZpbGVEYXRhPiA9IHdkQ2IuU3RhY2suY3JlYXRlPFNjcmlwdEZpbGVEYXRhPigpO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6U2NyaXB0O1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh1cmw6c3RyaW5nKTpTY3JpcHQ7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoLi4uYXJncykge1xuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXModXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYWRkU2NyaXB0KHNjcmlwdE5hbWU6c3RyaW5nLCBfY2xhc3M6RnVuY3Rpb24pe1xuICAgICAgICAgICAgdGhpcy5zY3JpcHRMaXN0LnB1c2goPFNjcmlwdEZpbGVEYXRhPntcbiAgICAgICAgICAgICAgICBuYW1lOiBzY3JpcHROYW1lLFxuICAgICAgICAgICAgICAgIGNsYXNzOiBfY2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodXJsOnN0cmluZyA9IG51bGwpe1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXJsOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUxvYWRKc1N0cmVhbSgpe1xuICAgICAgICAgICAgTG9nLmVycm9yKCF0aGlzLnVybCwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcInVybFwiKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBMb2FkZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkubG9hZCh0aGlzLnVybClcbiAgICAgICAgICAgIC5tYXAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2NyaXB0LnNjcmlwdExpc3QucG9wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkVG9PYmplY3QoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHN1cGVyLmFkZFRvT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTG9hZEpzU3RyZWFtKClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChkYXRhOlNjcmlwdEZpbGVEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2hhbmRsZXJBZnRlckxvYWRlZFNjcmlwdChkYXRhLCBlbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFuZGxlckFmdGVyTG9hZGVkU2NyaXB0KGRhdGE6U2NyaXB0RmlsZURhdGEsIGVudGl0eU9iamVjdDpFbnRpdHlPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5fYWRkU2NyaXB0VG9FbnRpdHlPYmplY3QoZW50aXR5T2JqZWN0LCBkYXRhKTtcbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5leGVjU2NyaXB0KFwib25FbnRlclwiLCBudWxsLCB0cnVlKTtcblxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIoQ3VzdG9tRXZlbnQuY3JlYXRlKDxhbnk+RUVuZ2luZUV2ZW50LkJFRk9SRV9HQU1FT0JKRUNUX0lOSVQpKTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmV4ZWNTY3JpcHQoXCJpbml0XCIsIG51bGwsIHRydWUpO1xuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcihDdXN0b21FdmVudC5jcmVhdGUoPGFueT5FRW5naW5lRXZlbnQuQUZURVJfR0FNRU9CSkVDVF9JTklUKSk7XG5cbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5BRlRFUl9HQU1FT0JKRUNUX0lOSVRfUklHSURCT0RZX0FERF9DT05TVFJBSU5UKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRTY3JpcHRUb0VudGl0eU9iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0LCBkYXRhOlNjcmlwdEZpbGVEYXRhKXtcbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5zY3JpcHRMaXN0LmFkZENoaWxkKGRhdGEubmFtZSwgbmV3IGRhdGEuY2xhc3MoZW50aXR5T2JqZWN0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBTY3JpcHRGaWxlRGF0YSA9IHtcbiAgICAgICAgbmFtZTpzdHJpbmc7XG4gICAgICAgIGNsYXNzOmFueTtcbiAgICB9O1xufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUcmFuc2Zvcm0gZXh0ZW5kcyBDb21wb25lbnR7XG4gICAgICAgIHByb3RlY3RlZCBwX3BhcmVudDpUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBnZXQgcGFyZW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wX3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcGFyZW50KHBhcmVudDpUcmFuc2Zvcm0pe1xuICAgICAgICAgICAgdGhpcy5zZXRQYXJlbnQocGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc1RyYW5zZm9ybSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNUcmFuc2xhdGUgfHwgdGhpcy5pc1JvdGF0ZSB8fCB0aGlzLmlzU2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1RyYW5zbGF0ZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIGdldCBpc1RyYW5zbGF0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVHJhbnNsYXRlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBpc1RyYW5zbGF0ZShpc1RyYW5zbGF0ZTpib29sZWFuKXtcbiAgICAgICAgICAgIHRoaXMuX3NldEdsb2JhbFRyYW5zZm9ybVN0YXRlKEVUcmFuc2Zvcm1TdGF0ZS5JU1RSQU5TTEFURSwgaXNUcmFuc2xhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNSb3RhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNSb3RhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1JvdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaXNSb3RhdGUoaXNSb3RhdGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9zZXRHbG9iYWxUcmFuc2Zvcm1TdGF0ZShFVHJhbnNmb3JtU3RhdGUuSVNST1RBVEUsIGlzUm90YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzU2NhbGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBnZXQgaXNTY2FsZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGlzU2NhbGUoaXNTY2FsZTpib29sZWFuKXtcbiAgICAgICAgICAgIHRoaXMuX3NldEdsb2JhbFRyYW5zZm9ybVN0YXRlKEVUcmFuc2Zvcm1TdGF0ZS5JU1NDQUxFLCBpc1NjYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCBpc0xvY2FsVHJhbnNsYXRlKGlzVHJhbnNsYXRlOmJvb2xlYW4pe1xuICAgICAgICAgICAgdGhpcy5fc2V0TG9jYWxUcmFuc2Zvcm1TdGF0ZShFVHJhbnNmb3JtU3RhdGUuSVNMT0NBTFRSQU5TTEFURSwgaXNUcmFuc2xhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IGlzTG9jYWxSb3RhdGUoaXNSb3RhdGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9zZXRMb2NhbFRyYW5zZm9ybVN0YXRlKEVUcmFuc2Zvcm1TdGF0ZS5JU0xPQ0FMUk9UQVRFLCBpc1JvdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgaXNMb2NhbFNjYWxlKGlzU2NhbGU6Ym9vbGVhbil7XG4gICAgICAgICAgICB0aGlzLl9zZXRMb2NhbFRyYW5zZm9ybVN0YXRlKEVUcmFuc2Zvcm1TdGF0ZS5JU0xPQ0FMU0NBTEUsIGlzU2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpcnR5TG9jYWw6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNoaWxkcmVuOndkQ2IuQ29sbGVjdGlvbjxUcmFuc2Zvcm0+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxUcmFuc2Zvcm0+KCk7XG5cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGQoY2hpbGQ6VHJhbnNmb3JtKXtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGNoaWxkOlRyYW5zZm9ybSl7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRDaGlsZHJlblRyYW5zZm9ybVN0YXRlKHRyYW5zZm9ybVN0YXRlOkVUcmFuc2Zvcm1TdGF0ZSwgc3RhdGU6Ym9vbGVhbil7XG4gICAgICAgICAgICBpZihzdGF0ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpUcmFuc2Zvcm0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRbdHJhbnNmb3JtU3RhdGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjbGVhckNhY2hlKCk6dm9pZDtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlblNldFRyYW5zZm9ybVN0YXRlKHRyYW5zZm9ybVN0YXRlOkVUcmFuc2Zvcm1TdGF0ZSk6dm9pZHtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRQYXJlbnQocGFyZW50OlRyYW5zZm9ybSl7XG4gICAgICAgICAgICBpZih0aGlzLnBfcGFyZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLnBfcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighcGFyZW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLnBfcGFyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHRoaXMucF9wYXJlbnQuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBjYW4gaGFzIG11bHRpIHBhcmVudD9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRNYXRyaXgoc3luY01ldGhvZDpzdHJpbmcsIG1hdHJpeEF0dHJpTmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHN5bmNMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxUcmFuc2Zvcm0+KCksXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMucF9wYXJlbnQ7XG5cbiAgICAgICAgICAgIHN5bmNMaXN0LmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN5bmNMaXN0LmFkZENoaWxkKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3luY0xpc3QucmV2ZXJzZSgpLmZvckVhY2goKHRyYW5zZm9ybTpUcmFuc2Zvcm0pID0+IHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1bc3luY01ldGhvZF0oKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpc1ttYXRyaXhBdHRyaU5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0R2xvYmFsVHJhbnNmb3JtU3RhdGUodHJhbnNmb3JtU3RhdGU6RVRyYW5zZm9ybVN0YXRlLCBzdGF0ZTpib29sZWFuKXtcbiAgICAgICAgICAgIHRoaXNbYF8ke3RyYW5zZm9ybVN0YXRlfWBdID0gc3RhdGU7XG5cbiAgICAgICAgICAgIGlmKHN0YXRlKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlV2hlblNldFRyYW5zZm9ybVN0YXRlKHRyYW5zZm9ybVN0YXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoc3RhdGUpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5UcmFuc2Zvcm1TdGF0ZSh0cmFuc2Zvcm1TdGF0ZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TG9jYWxUcmFuc2Zvcm1TdGF0ZSh0cmFuc2Zvcm1TdGF0ZTpFVHJhbnNmb3JtU3RhdGUsIHN0YXRlOmJvb2xlYW4pe1xuICAgICAgICAgICAgaWYoc3RhdGUpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlMb2NhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHN0YXRlKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuVHJhbnNmb3JtU3RhdGUodHJhbnNmb3JtU3RhdGUsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVGhyZWVEVHJhbnNmb3JtIGV4dGVuZHMgVHJhbnNmb3Jte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxUb1dvcmxkTWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFRvV29ybGRNYXRyaXhDYWNoZSAhPT0gbnVsbDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFRvV29ybGRNYXRyaXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsVG9Xb3JsZE1hdHJpeENhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbG9jYWxUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXRyaXgoXCJzeW5jXCIsIFwiX2xvY2FsVG9Xb3JsZE1hdHJpeFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Bvc2l0aW9uOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgpO1xuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbkNhY2hlICE9PSBudWxsO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkNhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgcG9zaXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb24oKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCBwb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbiA9IHBvc2l0aW9uLmNvcHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSB0aGlzLnBfcGFyZW50LmxvY2FsVG9Xb3JsZE1hdHJpeC5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHlQb2ludChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcm90YXRpb246UXVhdGVybmlvbiA9IFF1YXRlcm5pb24uY3JlYXRlKDAsIDAsIDAsIDEpO1xuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbkNhY2hlICE9PSBudWxsO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbkNhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgcm90YXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLnNldEZyb21NYXRyaXgodGhpcy5sb2NhbFRvV29ybGRNYXRyaXgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJvdGF0aW9uKHJvdGF0aW9uOlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gcm90YXRpb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbiA9IHRoaXMucF9wYXJlbnQucm90YXRpb24uY29weSgpLmludmVydCgpLm11bHRpcGx5KHJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1JvdGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zY2FsZTpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMSwgMSwgMSk7XG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlQ2FjaGUgIT09IG51bGw7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGVDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX3NjYWxlQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBzY2FsZSgpe1xuICAgICAgICAgICAgdGhpcy5fc2NhbGUgPSB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRTY2FsZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNjYWxlKHNjYWxlOlZlY3RvcjMpe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFNjYWxlID0gc2NhbGUuY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHRoaXMucF9wYXJlbnQubG9jYWxUb1dvcmxkTWF0cml4LmNvcHkoKS5pbnZlcnQoKS5tdWx0aXBseVZlY3RvcjMoc2NhbGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzU2NhbGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZXVsZXJBbmdsZXM6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V1bGVyQW5nbGVzQ2FjaGUgIT09IG51bGw7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXVsZXJBbmdsZXNDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX2V1bGVyQW5nbGVzQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBldWxlckFuZ2xlcygpe1xuICAgICAgICAgICAgdGhpcy5fZXVsZXJBbmdsZXMgPSB0aGlzLmxvY2FsVG9Xb3JsZE1hdHJpeC5nZXRFdWxlckFuZ2xlcygpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V1bGVyQW5nbGVzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBldWxlckFuZ2xlcyhldWxlckFuZ2xlczpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24uc2V0RnJvbUV1bGVyQW5nbGVzKGV1bGVyQW5nbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gdGhpcy5wX3BhcmVudC5yb3RhdGlvbi5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHkodGhpcy5fbG9jYWxSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbjpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIGdldCBsb2NhbFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSBwb3NpdGlvbi5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNMb2NhbFRyYW5zbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9sb2NhbFJvdGF0aW9uOlF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgwLCAwLCAwLCAxKTtcbiAgICAgICAgZ2V0IGxvY2FsUm90YXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFJvdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb2NhbFJvdGF0aW9uKHJvdGF0aW9uOlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbiA9IHJvdGF0aW9uLmNvcHkoKTtcblxuICAgICAgICAgICAgdGhpcy5pc0xvY2FsUm90YXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvY2FsRXVsZXJBbmdsZXM6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsRXVsZXJBbmdsZXNDYWNoZSAhPT0gbnVsbDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbEV1bGVyQW5nbGVzQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEV1bGVyQW5nbGVzQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBsb2NhbEV1bGVyQW5nbGVzKCl7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEV1bGVyQW5nbGVzID0gdGhpcy5fbG9jYWxSb3RhdGlvbi5nZXRFdWxlckFuZ2xlcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxFdWxlckFuZ2xlcztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxFdWxlckFuZ2xlcyhsb2NhbEV1bGVyQW5nbGVzOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbi5zZXRGcm9tRXVsZXJBbmdsZXMobG9jYWxFdWxlckFuZ2xlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNMb2NhbFJvdGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9sb2NhbFNjYWxlOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgxLCAxLCAxKTtcbiAgICAgICAgZ2V0IGxvY2FsU2NhbGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb2NhbFNjYWxlKHNjYWxlOlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHNjYWxlLmNvcHkoKTtcblxuICAgICAgICAgICAgdGhpcy5pc0xvY2FsU2NhbGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHVwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0WSgpLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHJpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0WCgpLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGZvcndhcmQoKXtcbiAgICAgICAgICAgIC8vdG9kbyB3aHkgc2NhbGUoLTEpP1xuICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5sb2NhbFRvV29ybGRNYXRyaXguZ2V0WigpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxUb1dvcmxkTWF0cml4LmdldFooKS5ub3JtYWxpemUoKS5zY2FsZSgtMSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBkaXJ0eVdvcmxkOmJvb2xlYW4gPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3BhcmVudDpUaHJlZURUcmFuc2Zvcm07XG4gICAgICAgIHByb3RlY3RlZCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248VGhyZWVEVHJhbnNmb3JtPjtcblxuICAgICAgICBwcml2YXRlIF9sb2NhbFRvUGFyZW50TWF0cml4Ok1hdHJpeDQgPSBNYXRyaXg0LmNyZWF0ZSgpO1xuICAgICAgICBwcml2YXRlIF9lbmRMb29wU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxUb1dvcmxkTWF0cml4Q2FjaGU6TWF0cml4NCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3Bvc2l0aW9uQ2FjaGU6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3JvdGF0aW9uQ2FjaGU6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NjYWxlQ2FjaGU6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2V1bGVyQW5nbGVzQ2FjaGU6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xvY2FsRXVsZXJBbmdsZXNDYWNoZTpWZWN0b3IzID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2VuZExvb3BTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LkVORExPT1ApXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Jlc2V0VHJhbnNmb3JtRmxhZygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fZW5kTG9vcFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9lbmRMb29wU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzeW5jKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eUxvY2FsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeC5zZXRUUlModGhpcy5fbG9jYWxQb3NpdGlvbiwgdGhpcy5fbG9jYWxSb3RhdGlvbiwgdGhpcy5fbG9jYWxTY2FsZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5V29ybGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eVdvcmxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxUb1dvcmxkTWF0cml4ID0gdGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFRvV29ybGRNYXRyaXggPSB0aGlzLnBfcGFyZW50LmxvY2FsVG9Xb3JsZE1hdHJpeC5jb3B5KCkubXVsdGlwbHkodGhpcy5fbG9jYWxUb1BhcmVudE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVdvcmxkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOlRocmVlRFRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eVdvcmxkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGVMb2NhbCh0cmFuc2xhdGlvbjpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZUxvY2FsKHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG5cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZUxvY2FsKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSB0aGlzLl9sb2NhbFBvc2l0aW9uLmFkZCh0aGlzLl9sb2NhbFJvdGF0aW9uLm11bHRpcGx5VmVjdG9yMyh0cmFuc2xhdGlvbikpO1xuXG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHRyYW5zbGF0aW9uOlZlY3RvcjMpO1xuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlKHg6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGUoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gdHJhbnNsYXRpb24uYWRkKHRoaXMucG9zaXRpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByb3RhdGUoZXVsZXJBbmdsZXM6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyByb3RhdGUoeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcik7XG5cbiAgICAgICAgcHVibGljIHJvdGF0ZSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBldWxlckFuZ2xlcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbiA9IFF1YXRlcm5pb24uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBldWxlckFuZ2xlcyA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBldWxlckFuZ2xlcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHF1YXRlcm5pb24uc2V0RnJvbUV1bGVyQW5nbGVzKGV1bGVyQW5nbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uID0gcXVhdGVybmlvbi5tdWx0aXBseSh0aGlzLl9sb2NhbFJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vdG9kbyB3aHk/XG4gICAgICAgICAgICAgICAgcXVhdGVybmlvbiA9IHRoaXMucF9wYXJlbnQucm90YXRpb24uY29weSgpLmludmVydCgpLm11bHRpcGx5KHF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24gPSBxdWF0ZXJuaW9uLm11bHRpcGx5KHRoaXMucm90YXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzUm90YXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcm90YXRlTG9jYWwoZXVsZXJBbmdsZXM6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyByb3RhdGVMb2NhbCh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTtcblxuICAgICAgICBwdWJsaWMgcm90YXRlTG9jYWwoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgZXVsZXJBbmdsZXMgPSBudWxsLFxuICAgICAgICAgICAgICAgIHF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgZXVsZXJBbmdsZXMgPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZXVsZXJBbmdsZXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnNldEZyb21FdWxlckFuZ2xlcyhldWxlckFuZ2xlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24ubXVsdGlwbHkocXVhdGVybmlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoYW5nbGU6bnVtYmVyLCBjZW50ZXI6VmVjdG9yMywgYXhpczpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUFyb3VuZChhbmdsZTpudW1iZXIsIGNlbnRlclg6bnVtYmVyLCBjZW50ZXJZOm51bWJlciwgY2VudGVyWjpudW1iZXIsIGF4aXNYOm51bWJlciwgYXhpc1k6bnVtYmVyLCBheGlzWjpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNlbnRlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgYXhpcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgcm90OlF1YXRlcm5pb24gPSBudWxsLFxuICAgICAgICAgICAgICAgIGRpcjpWZWN0b3IzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDMpe1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIGF4aXMgPSBhcmdzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY2VudGVyID0gVmVjdG9yMy5jcmVhdGUoYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgICAgICAgYXhpcyA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb3QgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNldEZyb21BeGlzQW5nbGUoYW5nbGUsIGF4aXMpO1xuICAgICAgICAgICAgLy8gZmluZCBjdXJyZW50IGRpcmVjdGlvbiByZWxhdGl2ZSB0byBjZW50ZXJcbiAgICAgICAgICAgIGRpciA9IHRoaXMucG9zaXRpb24uY29weSgpLnN1YihjZW50ZXIpO1xuXG4gICAgICAgICAgICAvLyByb3RhdGUgdGhlIGRpcmVjdGlvblxuICAgICAgICAgICAgZGlyID0gcm90Lm11bHRpcGx5VmVjdG9yMyhkaXIpO1xuXG4gICAgICAgICAgICAvLyBkZWZpbmUgbmV3IHBvc2l0aW9uXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gY2VudGVyLmFkZChkaXIpO1xuICAgICAgICAgICAgLy90b2RvIHdoeSBcInRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uLm11bHRpcGx5KHJvdClcIiB3aWxsIGNhdXNlIGVudGl0eU9iamVjdCByb3RhdGUgZGlyZWN0aW9uIGFyb3VuZCBzZWxmP1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdC5tdWx0aXBseSh0aGlzLnJvdGF0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbG9va0F0KHRhcmdldDpWZWN0b3IzKTtcbiAgICAgICAgcHVibGljIGxvb2tBdCh0YXJnZXRYOm51bWJlciwgdGFyZ2V0WTpudW1iZXIsIHRhcmdldFo6bnVtYmVyKTtcbiAgICAgICAgcHVibGljIGxvb2tBdCh0YXJnZXQ6VmVjdG9yMywgdXA6VmVjdG9yMyk7XG4gICAgICAgIHB1YmxpYyBsb29rQXQodGFyZ2V0WDpudW1iZXIsIHRhcmdldFk6bnVtYmVyLCB0YXJnZXRaOm51bWJlciwgdXBYOm51bWJlciwgdXBZOm51bWJlciwgdXBaOm51bWJlcik7XG5cbiAgICAgICAgcHVibGljIGxvb2tBdCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHVwID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdXAgPSBWZWN0b3IzLnVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB1cCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBWZWN0b3IzLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgICAgICB1cCA9IFZlY3RvcjMudXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IFZlY3RvcjMuY3JlYXRlKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICAgIHVwID0gVmVjdG9yMy5jcmVhdGUoYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNldEZyb21NYXRyaXgoTWF0cml4NC5jcmVhdGUoKS5zZXRMb29rQXQodGhpcy5wb3NpdGlvbiwgdGFyZ2V0LCB1cCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjbGVhckNhY2hlKCl7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbFRvV29ybGRNYXRyaXhDYWNoZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkNhY2hlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uQ2FjaGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc2NhbGVDYWNoZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ldWxlckFuZ2xlc0NhY2hlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsRXVsZXJBbmdsZXNDYWNoZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlblNldFRyYW5zZm9ybVN0YXRlKHRyYW5zZm9ybVN0YXRlOkVUcmFuc2Zvcm1TdGF0ZSk6dm9pZHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWU6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0cmFuc2Zvcm1TdGF0ZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNmb3JtU3RhdGUuSVNUUkFOU0xBVEU6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9UUkFOU0xBVEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zZm9ybVN0YXRlLklTUk9UQVRFOlxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fUk9UQVRFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2Zvcm1TdGF0ZS5JU1NDQUxFOlxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fU0NBTEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VOS05PVyhgdHJhbnNmb3JtU3RhdGU6JHt0cmFuc2Zvcm1TdGF0ZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcih0aGlzLmVudGl0eU9iamVjdCwgQ3VzdG9tRXZlbnQuY3JlYXRlKGV2ZW50TmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVzZXRUcmFuc2Zvcm1GbGFnKCl7XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzU2NhbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBSZWN0VHJhbnNmb3JtIGV4dGVuZHMgVHJhbnNmb3Jte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcm90YXRpb25NYXRyaXg6TWF0cml4MyA9IG51bGw7XG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uTWF0cml4Q2FjaGUgIT09IG51bGw7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb25NYXRyaXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uTWF0cml4Q2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCByb3RhdGlvbk1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF0cml4KFwic3luY1JvdGF0aW9uXCIsIFwiX3JvdGF0aW9uTWF0cml4XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4Ok1hdHJpeDMgPSBNYXRyaXgzLmNyZWF0ZSgpO1xuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXhDYWNoZSAhPT0gbnVsbDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeENhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXRyaXgoXCJzeW5jUG9zaXRpb25BbmRTY2FsZVwiLCBcIl9sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXhcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gb3B0aW1pemU6cG9zaXRpb24sIHJvdGF0aW9uLCAuLi4gYWRkIGNhY2hlXG5cbiAgICAgICAgcHJpdmF0ZSBfcG9zaXRpb246VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKCk7XG4gICAgICAgIGdldCBwb3NpdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLmxvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeC5nZXRUcmFuc2xhdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBvc2l0aW9uKHBvc2l0aW9uOlZlY3RvcjIpe1xuICAgICAgICAgICAgaWYgKHRoaXMucF9wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFBvc2l0aW9uID0gcG9zaXRpb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbiA9IHRoaXMucF9wYXJlbnQubG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4LmNvcHkoKS5pbnZlcnQoKS5tdWx0aXBseVBvaW50KHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yb3RhdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICBnZXQgcm90YXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdGhpcy5yb3RhdGlvbk1hdHJpeC5nZXRSb3RhdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJvdGF0aW9uKGFuZ2xlOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRlKGFuZ2xlKTtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2NhbGU6VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKDEsIDEpO1xuICAgICAgICBnZXQgc2NhbGUoKXtcbiAgICAgICAgICAgIHRoaXMuX3NjYWxlID0gdGhpcy5sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXguZ2V0U2NhbGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBzY2FsZShzY2FsZTpWZWN0b3IyKXtcbiAgICAgICAgICAgIGlmICh0aGlzLnBfcGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHNjYWxlLmNvcHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsU2NhbGUgPSB0aGlzLnBfcGFyZW50LmxvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeC5jb3B5KCkuaW52ZXJ0KCkubXVsdGlwbHlWZWN0b3IyKHNjYWxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1NjYWxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBhZGQgc2tldyBhdHRyaVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbjpWZWN0b3IyID0gVmVjdG9yMi5jcmVhdGUoMCwgMCk7XG4gICAgICAgIGdldCBsb2NhbFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbG9jYWxQb3NpdGlvbihwb3NpdGlvbjpWZWN0b3IyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb24gPSBwb3NpdGlvbi5jb3B5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNMb2NhbFRyYW5zbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9sb2NhbFNjYWxlOlZlY3RvcjIgPSBWZWN0b3IyLmNyZWF0ZSgxLCAxKTtcbiAgICAgICAgZ2V0IGxvY2FsU2NhbGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHNldCBsb2NhbFNjYWxlKHNjYWxlOlZlY3RvcjIpe1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxTY2FsZSA9IHNjYWxlLmNvcHkoKTtcblxuICAgICAgICAgICAgdGhpcy5pc0xvY2FsU2NhbGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIGV4dHJhY3QgUm9vdFJlY3RUcmFuc2Zvcm0/XG5cbiAgICAgICAgcHJpdmF0ZSBfYW5jaG9yWDpWZWN0b3IyID0gVmVjdG9yMi5jcmVhdGUoMC41LCAwLjUpO1xuICAgICAgICBnZXQgYW5jaG9yWCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvclg7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oYW5jaG9yWDpWZWN0b3IyKXtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JYLnggPD0gYW5jaG9yWC55LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm1pblhcIiwgXCI8PSBtYXhZXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JYLnggPj0gMCAmJiBhbmNob3JYLnggPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtaW5YXCIsIFwiPj0gMCAmJiA8PSAxXCIpKTtcbiAgICAgICAgICAgIGFzc2VydChhbmNob3JYLnkgPj0gMCAmJiBhbmNob3JYLnkgPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtYXhYXCIsIFwiPj0gMCAmJiA8PSAxXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2V0IGFuY2hvclgoYW5jaG9yWDpWZWN0b3IyKXtcbiAgICAgICAgICAgIHZhciBwYXJlbnRXaWR0aCA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2FuY2hvclggPSBhbmNob3JYO1xuXG4gICAgICAgICAgICBpZihhbmNob3JYLnggPT09IGFuY2hvclgueSl7XG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoRnJvbUFuY2hvclRvUG9zaXRpb24gPSAoYW5jaG9yWC54IC0gMC41KSAqIHRoaXMuX2dldFBhcmVudFdpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUodGhpcy5fZ2V0UGFyZW50UG9zaXRpb24oKS54ICsgd2lkdGhGcm9tQW5jaG9yVG9Qb3NpdGlvbiwgdGhpcy5wb3NpdGlvbi55KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyZW50V2lkdGggPSB0aGlzLl9nZXRQYXJlbnRXaWR0aCgpO1xuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUodGhpcy5fZ2V0UGFyZW50UG9zaXRpb24oKS54ICsgKGFuY2hvclgueCArIGFuY2hvclgueSAtIDEpIC8gMiAqIHBhcmVudFdpZHRoLCB0aGlzLnBvc2l0aW9uLnkpO1xuXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gcGFyZW50V2lkdGggLyB0aGlzLl9nZXRQYXJlbnRTY2FsZSgpLnggKiAoYW5jaG9yWC55IC0gYW5jaG9yWC54KSAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FuY2hvclk6VmVjdG9yMiA9IFZlY3RvcjIuY3JlYXRlKDAuNSwgMC41KTtcbiAgICAgICAgZ2V0IGFuY2hvclkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3JZO1xuICAgICAgICB9XG4gICAgICAgIEByZXF1aXJlU2V0dGVyKGZ1bmN0aW9uKGFuY2hvclk6VmVjdG9yMil7XG4gICAgICAgICAgICBhc3NlcnQoYW5jaG9yWS54IDw9IGFuY2hvclkueSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtaW5ZXCIsIFwiPD0gbWF4WVwiKSk7XG4gICAgICAgICAgICBhc3NlcnQoYW5jaG9yWS54ID49IDAgJiYgYW5jaG9yWS54IDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibWluWVwiLCBcIj49IDAgJiYgPD0gMVwiKSk7XG4gICAgICAgICAgICBhc3NlcnQoYW5jaG9yWS55ID49IDAgJiYgYW5jaG9yWS55IDw9IDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibWF4WVwiLCBcIj49IDAgJiYgPD0gMVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHNldCBhbmNob3JZKGFuY2hvclk6VmVjdG9yMil7XG4gICAgICAgICAgICB2YXIgcGFyZW50SGVpZ2h0ID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fYW5jaG9yWSA9IGFuY2hvclk7XG5cbiAgICAgICAgICAgIGlmKGFuY2hvclkueCA9PT0gYW5jaG9yWS55KXtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0RnJvbUFuY2hvclRvUG9zaXRpb24gPSAoYW5jaG9yWS54IC0gMC41KSAqIHRoaXMuX2dldFBhcmVudEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFZlY3RvcjIuY3JlYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5fZ2V0UGFyZW50UG9zaXRpb24oKS55ICsgaGVpZ2h0RnJvbUFuY2hvclRvUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnRIZWlnaHQgPSB0aGlzLl9nZXRQYXJlbnRIZWlnaHQoKTtcblxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IFZlY3RvcjIuY3JlYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5fZ2V0UGFyZW50UG9zaXRpb24oKS55ICsgKGFuY2hvclkueCArIGFuY2hvclkueSAtIDEpIC8gMiAqIHBhcmVudEhlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gcGFyZW50SGVpZ2h0IC8gdGhpcy5fZ2V0UGFyZW50U2NhbGUoKS55ICogKGFuY2hvclkueSAtIGFuY2hvclkueCkgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF93aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgd2lkdGgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgd2lkdGgod2lkdGg6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHdpZHRoICE9PSB0aGlzLl93aWR0aCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5VSV9XSURUSF9DSEFOR0UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oZWlnaHQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IGhlaWdodCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodCAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaGVpZ2h0KGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgaWYoaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5VSV9IRUlHSFRfQ0hBTkdFKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgZGlydHlSb3RhdGlvbjpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGRpcnR5UG9zaXRpb25BbmRTY2FsZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBpdm90OlZlY3RvcjIgPSBWZWN0b3IyLmNyZWF0ZSgwLCAwKTtcbiAgICAgICAgcHVibGljIHpJbmRleDpudW1iZXIgPSAxO1xuXG4gICAgICAgIHByb3RlY3RlZCBwX3BhcmVudDpSZWN0VHJhbnNmb3JtO1xuICAgICAgICBwcm90ZWN0ZWQgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPFJlY3RUcmFuc2Zvcm0+O1xuXG4gICAgICAgIHByaXZhdGUgX2xvY2FsUm90YXRpb25NYXRyaXg6TWF0cml4MyA9IE1hdHJpeDMuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX2xvY2FsVG9QYXJlbnRNYXRyaXg6TWF0cml4MyA9IE1hdHJpeDMuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX3JvdGF0aW9uTWF0cml4Q2FjaGU6TWF0cml4MyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeENhY2hlOk1hdHJpeDMgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN5bmNSb3RhdGlvbigpe1xuICAgICAgICAgICAgaWYodGhpcy5kaXJ0eVJvdGF0aW9uKXtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wX3BhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbk1hdHJpeCA9IHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXguY29weSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb25NYXRyaXggPSB0aGlzLnBfcGFyZW50LnJvdGF0aW9uTWF0cml4LmNvcHkoKS5tdWx0aXBseSh0aGlzLl9sb2NhbFJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOlJlY3RUcmFuc2Zvcm0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuZGlydHlSb3RhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3luY1Bvc2l0aW9uQW5kU2NhbGUoKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcnR5TG9jYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFRvUGFyZW50TWF0cml4LnNldFRTKHRoaXMuX2xvY2FsUG9zaXRpb24sIHRoaXMuX2xvY2FsU2NhbGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUxvY2FsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVBvc2l0aW9uQW5kU2NhbGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eVBvc2l0aW9uQW5kU2NhbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wX3BhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbFBvc2l0aW9uQW5kU2NhbGVNYXRyaXggPSB0aGlzLl9sb2NhbFRvUGFyZW50TWF0cml4LmNvcHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsUG9zaXRpb25BbmRTY2FsZU1hdHJpeCA9IHRoaXMucF9wYXJlbnQubG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4LmNvcHkoKS5tdWx0aXBseSh0aGlzLl9sb2NhbFRvUGFyZW50TWF0cml4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5TG9jYWwgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6UmVjdFRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eVBvc2l0aW9uQW5kU2NhbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZSh0cmFuc2xhdGlvbjpWZWN0b3IyKTtcbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZSh4Om51bWJlciwgeTpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyB0cmFuc2xhdGUoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBWZWN0b3IyLmNyZWF0ZShhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gdHJhbnNsYXRpb24uYWRkKHRoaXMucG9zaXRpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIVxuICAgICAgICBpZiBwaXZvdCBpcyBub3QgdGhlIGNlbnRlciBwb2ludCwgdGhlIGFjdHVhbCBwb3NpdGlvbiB3aWxsIGNoYW5nZSwgYnV0IHRoZSBcInBvc2l0aW9uXCIgYXR0ciB3aWxsIG5vdCBjaGFuZ2Ugbm93IVxuXG4gICAgICAgIC8vdG9kbyBjaGFuZ2UgXCJwb3NpdGlvblwiIHdoZW4gcm90YXRlIHRvIGdldCB0aGUgYWN0dWFsIHBvc2l0aW9uXG4gICAgICAgICAqL1xuXG4gICAgICAgIHB1YmxpYyByb3RhdGUoYW5nbGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG5cbiAgICAgICAgICAgIHRoaXMucm90YXRlQXJvdW5kKGFuZ2xlLCBwb3NpdGlvbi54ICsgdGhpcy5waXZvdC54LCBwb3NpdGlvbi55IC0gdGhpcy5waXZvdC55KTtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoYW5nbGU6bnVtYmVyLCBjZW50ZXI6VmVjdG9yMik7XG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoYW5nbGU6bnVtYmVyLCBjZW50ZXJYOm51bWJlciwgY2VudGVyWTpudW1iZXIpO1xuXG4gICAgICAgIHB1YmxpYyByb3RhdGVBcm91bmQoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNlbnRlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBudWxsLFxuICAgICAgICAgICAgICAgIHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHkgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNlbnRlciA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjZW50ZXIgPSBWZWN0b3IyLmNyZWF0ZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeCA9IGNlbnRlci54O1xuICAgICAgICAgICAgeSA9IGNlbnRlci55O1xuXG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGVJblJvdGF0aW9uTWF0cml4KHgsIHkpO1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlQXJvdW5kQ2FudmFzT3JpZ2luUG9pbnQoYW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNsYXRlSW5Sb3RhdGlvbk1hdHJpeCgteCwgLXkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RyYW5zbGF0ZUluUm90YXRpb25NYXRyaXgoeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXgudHJhbnNsYXRlKHgsIHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldFBvc2l0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yMi5jcmVhdGUoMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzZXRTY2FsZSgpe1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IFZlY3RvcjIuY3JlYXRlKDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0Um90YXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXguc2V0SWRlbnRpdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIVxuICAgICAgICAgLy90b2RvIGFkZCBza2V3IHRvIGltcGxlbWVudCByb3RhdGUgYXJvdW5kIHgveS96IGF4aXMgZm9yIDNkIHJvdGF0ZT9cblxuICAgICAgICAgY2FuIHJlZmVyIHRvIGh0dHA6Ly93d3cuc2Vub2N1bGFyLmNvbS9mbGFzaC90dXRvcmlhbHMvdHJhbnNmb3JtbWF0cml4L1xuICAgICAgICAgKi9cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlblNldFRyYW5zZm9ybVN0YXRlKHRyYW5zZm9ybVN0YXRlOkVUcmFuc2Zvcm1TdGF0ZSk6dm9pZHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWU6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0cmFuc2Zvcm1TdGF0ZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNmb3JtU3RhdGUuSVNUUkFOU0xBVEU6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9UUkFOU0xBVEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zZm9ybVN0YXRlLklTUk9UQVRFOlxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fUk9UQVRFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2Zvcm1TdGF0ZS5JU1NDQUxFOlxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fU0NBTEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VOS05PVyhgdHJhbnNmb3JtU3RhdGU6JHt0cmFuc2Zvcm1TdGF0ZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIudHJpZ2dlcih0aGlzLmVudGl0eU9iamVjdCwgQ3VzdG9tRXZlbnQuY3JlYXRlKGV2ZW50TmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNsZWFyQ2FjaGUoKXtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uTWF0cml4Q2FjaGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxQb3NpdGlvbkFuZFNjYWxlTWF0cml4Q2FjaGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcm90YXRlQXJvdW5kQ2FudmFzT3JpZ2luUG9pbnQoYW5nbGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25NYXRyaXgucm90YXRlKGFuZ2xlKTtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eVJvdGF0aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRQYXJlbnRXaWR0aCgpe1xuICAgICAgICAgICAgaWYodGhpcy5wX3BhcmVudCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LndpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wX3BhcmVudC53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFBhcmVudEhlaWdodCgpe1xuICAgICAgICAgICAgaWYodGhpcy5wX3BhcmVudCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9wYXJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UGFyZW50UG9zaXRpb24oKXtcbiAgICAgICAgICAgIGlmKHRoaXMucF9wYXJlbnQgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIGxldCB2aWV3ID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXc7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodmlldy53aWR0aCAvIDIsIHZpZXcuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBfcGFyZW50LnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UGFyZW50U2NhbGUoKXtcbiAgICAgICAgICAgIGlmKHRoaXMucF9wYXJlbnQgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmNyZWF0ZSgxLCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9wYXJlbnQuc2NhbGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVHJhbnNmb3JtU3RhdGV7XG4gICAgICAgIElTVFJBTlNMQVRFID0gPGFueT5cImlzVHJhbnNsYXRlXCIsXG4gICAgICAgIElTUk9UQVRFID0gPGFueT5cImlzUm90YXRlXCIsXG4gICAgICAgIElTU0NBTEUgPSA8YW55PlwiaXNTY2FsZVwiLFxuXG4gICAgICAgIElTTE9DQUxUUkFOU0xBVEUgPSA8YW55PlwiaXNMb2NhbFRyYW5zbGF0ZVwiLFxuICAgICAgICBJU0xPQ0FMUk9UQVRFID0gPGFueT5cImlzTG9jYWxSb3RhdGVcIixcbiAgICAgICAgSVNMT0NBTFNDQUxFID0gPGFueT5cImlzTG9jYWxTY2FsZVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21wb25lbnRDb250YWluZXJ7XG4gICAgICAgIHByb3RlY3RlZCBsaXN0OndkQ2IuQ29sbGVjdGlvbjxDb21wb25lbnQ+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxDb21wb25lbnQ+KCk7XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkKGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgaWYodGhpcy5oYXNDaGlsZChjb21wb25lbnQpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGlzdC5hZGRDaGlsZChjb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUNoaWxkKGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgdGhpcy5saXN0LnJlbW92ZUNoaWxkKGNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzQ2hpbGQoY29tcG9uZW50OkNvbXBvbmVudCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0Lmhhc0NoaWxkKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQWN0aW9uTWFuYWdlciBleHRlbmRzIENvbXBvbmVudENvbnRhaW5lcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpBY3Rpb25NYW5hZ2VyIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxpc3Q6d2RDYi5Db2xsZWN0aW9uPEFjdGlvbj47XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHJlbW92ZVF1ZXVlID0gW107XG5cbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkOkFjdGlvbil7XG4gICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgIGZpeCBcImlmIHJlbW92ZSBvdGhlciBhY3Rpb24gb2YgY2hpbGRyZW4gd2hlbiBpbnZva2UgJ2NoaWxkLnVwZGF0ZScsIGl0IHdpbGwgZXJyb3IgaW4gaXRlcmF0aW9uIGFmdGVyXCI6XG4gICAgICAgICAgICAgICAgIGRlZmVyIHRvIHJlbW92ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5pc0ZpbmlzaCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVRdWV1ZS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5pc1N0b3AgfHwgY2hpbGQuaXNQYXVzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiByZW1vdmVRdWV1ZSl7XG4gICAgICAgICAgICAgICAgY2hpbGQuZW50aXR5T2JqZWN0LnJlbW92ZUNvbXBvbmVudChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVUlNYW5hZ2VyIGV4dGVuZHMgQ29tcG9uZW50Q29udGFpbmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh1aU9iamVjdDpVSU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHVpT2JqZWN0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHVpT2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VpT2JqZWN0ID0gdWlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91aU9iamVjdDpVSU9iamVjdCA9IG51bGw7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmxpc3QuZ2V0Q291bnQoKSA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm9ubHkgY29udGFpbiBvbmUgdWkgY29tcG9uZW50XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgaWYodGhpcy5saXN0LmdldENvdW50KCkgPT09IDApe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5faXNEaXJ0eSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LmZvckVhY2goKHVpOlVJKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVpLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0RpcnR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VpT2JqZWN0LmdldENvbXBvbmVudDxVSVJlbmRlcmVyPihVSVJlbmRlcmVyKS5zdGF0ZSA9PT0gRVVJUmVuZGVyZXJTdGF0ZS5ESVJUWTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTGlnaHRNYW5hZ2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBhbWJpZW50TGlnaHQoKTpHYW1lT2JqZWN0IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodHMuZ2V0Q2hpbGQoQW1iaWVudExpZ2h0LnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGRpcmVjdGlvbkxpZ2h0cygpOiB3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHRzLmdldENoaWxkKERpcmVjdGlvbkxpZ2h0LnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHBvaW50TGlnaHRzKCk6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodHMuZ2V0Q2hpbGQoUG9pbnRMaWdodC50eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xpZ2h0czp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgIHB1YmxpYyBhZGRDaGlsZChsaWdodDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIGlmKGxpZ2h0Lmhhc0NvbXBvbmVudChBbWJpZW50TGlnaHQpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodHMuYWRkQ2hpbGQoQW1iaWVudExpZ2h0LnR5cGUsIGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobGlnaHQuaGFzQ29tcG9uZW50KERpcmVjdGlvbkxpZ2h0KSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlnaHRzLmFwcGVuZENoaWxkKERpcmVjdGlvbkxpZ2h0LnR5cGUsIGxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobGlnaHQuaGFzQ29tcG9uZW50KFBvaW50TGlnaHQpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodHMuYXBwZW5kQ2hpbGQoUG9pbnRMaWdodC50eXBlLCBsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKFwibGlnaHRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKGxpZ2h0TGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBsaWdodExpc3QuZm9yRWFjaCgobGlnaHQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkQ2hpbGQobGlnaHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBbmltYXRpb24gZXh0ZW5kcyBDb21wb25lbnR7XG4gICAgICAgIGdldCBpc1N0YXJ0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gRUFuaW1hdGlvblN0YXRlLlJVTjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgaXNTdG9wKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gRUFuaW1hdGlvblN0YXRlLlNUT1A7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGlzUGF1c2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBFQW5pbWF0aW9uU3RhdGUuUEFVU0U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkdhbWVPYmplY3Q7XG4gICAgICAgIHB1YmxpYyBpc0ZyYW1lQ2hhbmdlOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgc3RhdGU6RUFuaW1hdGlvblN0YXRlID0gRUFuaW1hdGlvblN0YXRlLkRFRkFVTFQ7XG4gICAgICAgIHByb3RlY3RlZCBwYXVzZVRpbWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHJlc3VtZVRpbWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHBhdXNlRHVyYXRpb246bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGZyYW1lQ291bnQ6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9pc1Jlc3VtZTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHBsYXkoYW5pbU5hbWU6c3RyaW5nLCBmcHM6bnVtYmVyKTp2b2lkO1xuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpe1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEVBbmltYXRpb25TdGF0ZS5QQVVTRTtcblxuICAgICAgICAgICAgdGhpcy5wYXVzZVRpbWUgPSB0aGlzLmdldFBhdXNlVGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpe1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEVBbmltYXRpb25TdGF0ZS5SVU47XG5cbiAgICAgICAgICAgIHRoaXMuX2lzUmVzdW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVzdW1lVGltZSA9IHRoaXMuZ2V0UmVzdW1lVGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKXtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBFQW5pbWF0aW9uU3RhdGUuU1RPUDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUgPT09IEVBbmltYXRpb25TdGF0ZS5ERUZBVUxUIHx8IHRoaXMuaXNTdG9wKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuaXNQYXVzZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVXaGVuUGF1c2UoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5faXNSZXN1bWUpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzUmVzdW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZUZyb21QYXVzZVBvaW50KGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVCZWZvcmVKdWRnZVdoZXRoZXJDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZih0aGlzLmlzQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVXaGVuQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRnJhbWVDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVBZnRlckp1ZGdlV2hldGhlckN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIC8vdGhpcy5jb21wdXRlSW50ZXJwb2xhdGlvbihlbGFwc2VkVGltZSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy90aGlzLnVwZGF0ZVRhcmdldHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBoYW5kbGVXaGVuUGF1c2UoZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFuZGxlV2hlbkN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOnZvaWQ7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBoYW5kbGVCZWZvcmVKdWRnZVdoZXRoZXJDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFuZGxlQWZ0ZXJKdWRnZVdoZXRoZXJDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lkO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaXNDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTpib29sZWFuO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVzZXRBbmltKCk6dm9pZDtcblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UGF1c2VUaW1lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldFJlc3VtZVRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3VycmVudFRpbWUoKXtcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29udGludWVGcm9tUGF1c2VQb2ludChlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5wYXVzZUR1cmF0aW9uICs9IHRoaXMucmVzdW1lVGltZSAtIHRoaXMucGF1c2VUaW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUFuaW1hdGlvblN0YXRle1xuICAgICAgICBERUZBVUxULFxuICAgICAgICBSVU4sXG4gICAgICAgIFNUT1AsXG4gICAgICAgIFBBVVNFXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9ue1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgbmV4dEZyYW1lKCl7XG4gICAgICAgICAgICB2YXIgbmV4dEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWUgKyAxO1xuXG4gICAgICAgICAgICBpZihuZXh0RnJhbWUgPj0gdGhpcy5mcmFtZUNvdW50KXtcbiAgICAgICAgICAgICAgICBuZXh0RnJhbWUgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dEZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb246bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGN1cnJlbnRGcmFtZTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgZHVyYXRpb246bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZwczpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY3VycmVudEFuaW1OYW1lOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfcHJldkZyYW1lRW5kVGltZTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oYW5pbU5hbWU6c3RyaW5nLCBmcHM6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudChNb2RlbEdlb21ldHJ5KTtcblxuICAgICAgICAgICAgYXNzZXJ0KGdlb21ldHJ5LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRoaXMgZW50aXR5T2JqZWN0XCIsIFwiYWRkIE1vZGVsR2VvbWV0cnkgY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIGFzc2VydChnZW9tZXRyeS5tb3JwaFRhcmdldHMuZ2V0Q2hpbGQoYW5pbU5hbWUpICYmIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0cy5nZXRDaGlsZChhbmltTmFtZSkuZ2V0Q291bnQoKSA+IDAsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBcIiR7YW5pbU5hbWV9XCIgYW5pbWF0aW9uYCkpO1xuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5mcmFtZUNvdW50ID4gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJmcmFtZXMuY291bnRcIiwgXCI+IDFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgcGxheShhbmltTmFtZTpzdHJpbmcsIGZwczpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PE1vZGVsR2VvbWV0cnk+KE1vZGVsR2VvbWV0cnkpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltTmFtZSA9IGFuaW1OYW1lO1xuICAgICAgICAgICAgdGhpcy5mcHMgPSBmcHM7XG5cbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSAxLjAgLyBmcHMgKiAxMDAwO1xuXG4gICAgICAgICAgICB0aGlzLmZyYW1lQ291bnQgPSBnZW9tZXRyeS5tb3JwaFRhcmdldHMuZ2V0Q2hpbGQoYW5pbU5hbWUpLmdldENvdW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVzZXRBbmltKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBFQW5pbWF0aW9uU3RhdGUuUlVOO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZVdoZW5QYXVzZShlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlV2hlbkN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICB0aGlzLmlzRnJhbWVDaGFuZ2UgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmV2RnJhbWVFbmRUaW1lID0gTWF0aFV0aWxzLm1heEZsb29ySW50ZWdyYWxNdWx0aXBsZSgoZWxhcHNlZFRpbWUgLSB0aGlzLnBhdXNlRHVyYXRpb24pLCB0aGlzLmR1cmF0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUrKztcblxuICAgICAgICAgICAgaWYodGhpcy5faXNGaW5pc2hBbGxGcmFtZXMoKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZUJlZm9yZUp1ZGdlV2hldGhlckN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICBpZih0aGlzLl9wcmV2RnJhbWVFbmRUaW1lID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2RnJhbWVFbmRUaW1lID0gdGhpcy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydChlbGFwc2VkVGltZSAtIHRoaXMuX3ByZXZGcmFtZUVuZFRpbWUgLSB0aGlzLnBhdXNlRHVyYXRpb24gPj0gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYGVsYXBzZWRUaW1lIG9mIGN1cnJlbnQgZnJhbWU6JHtlbGFwc2VkVGltZSAtIHRoaXMuX3ByZXZGcmFtZUVuZFRpbWUgLSB0aGlzLnBhdXNlRHVyYXRpb259YCwgXCI+PSAwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGlzQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiBlbGFwc2VkVGltZSAtIHRoaXMuX3ByZXZGcmFtZUVuZFRpbWUgLSB0aGlzLnBhdXNlRHVyYXRpb24gPiB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZUFmdGVySnVkZ2VXaGV0aGVyQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXB1dGVJbnRlcnBvbGF0aW9uKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZXNldEFuaW0oKXtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZGcmFtZUVuZFRpbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5wYXVzZUR1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID0gdGhpcy5pbnRlcnBvbGF0aW9uO1xuXG4gICAgICAgICAgICBhc3NlcnQoaW50ZXJwb2xhdGlvbiA+PSAwICYmIGludGVycG9sYXRpb24gPD0gMSAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKGBpbnRlcnBvbGF0aW9uKCR7aW50ZXJwb2xhdGlvbn1gLCBcIj49IDAgJiYgPD0gMVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2NvbXB1dGVJbnRlcnBvbGF0aW9uKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbiA9IHRoaXMuZnBzICogKGVsYXBzZWRUaW1lIC0gdGhpcy5fcHJldkZyYW1lRW5kVGltZSAtIHRoaXMucGF1c2VEdXJhdGlvbikgLyAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNGaW5pc2hBbGxGcmFtZXMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRGcmFtZSA+PSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBNb3JwaFRhcmdldHNEYXRhID0gd2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQXJ0aWN1bGF0ZWRBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkRhdGEgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRGcmFtZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jdXJyZW50QW5pbU5hbWU6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYmVnaW5FbGFwc2VkVGltZU9mRmlyc3RGcmFtZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9wcmV2RnJhbWVUaW1lOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRBbmltRGF0YTp3ZENiLkNvbGxlY3Rpb248QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGE+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY3VycmVudEZyYW1lRGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3ByZXZGcmFtZURhdGE6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zdGFydEZyYW1lRGF0YU1hcDp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBsYXkoYW5pbU5hbWU6c3RyaW5nKTtcbiAgICAgICAgcHVibGljIHBsYXkoYW5pbUluZGV4Om51bWJlcik7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzTnVtYmVyKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbUluZGV4Om51bWJlciA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5kYXRhLmdldENvdW50KCkgPj0gYW5pbUluZGV4ICsgMSwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoYGFuaW1hdGlvbiBpbmRleDoke2FuaW1JbmRleH1gKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCBhbmltTmFtZTpzdHJpbmcgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZGF0YS5oYXNDaGlsZChhbmltTmFtZSksIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBhbmltYXRpb24gbmFtZToke2FuaW1OYW1lfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhdGhpcy5fY3VycmVudEFuaW1EYXRhLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChgYW5pbWF0aW9uIG5hbWU6JHt0aGlzLl9jdXJyZW50QW5pbU5hbWV9YCkpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QW5pbURhdGEuZm9yRWFjaCgoZGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydChkYXRhLnRpbWUgPj0gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0aW1lXCIsIFwiPj0gMFwiKSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoZGF0YS50YXJnZXRzLmdldENvdW50KCkgPiAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVEYXRhLT50YXJnZXRzLmdldENvdW50KClcIiwgXCI+IDBcIikpO1xuXG4gICAgICAgICAgICAgICAgZGF0YS50YXJnZXRzLmZvckVhY2goKHRhcmdldDpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lVGFyZ2V0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRhcmdldC5kYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGFyZ2V0LnRhcmdldCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5UUkFOU0xBVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZGF0YSBpbnN0YW5jZW9mIFZlY3RvcjMsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImlmIHRhcmdldDpFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQgPT09IFRSQU5TTEFUSU9OLCBpdHMgZGF0YVwiLCBcIlZlY3RvcjNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuUk9UQVRJT046XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEgaW5zdGFuY2VvZiBRdWF0ZXJuaW9uLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJpZiB0YXJnZXQ6RUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0ID09PVJPVEFUSU9OLCBpdHMgZGF0YVwiLCBcIlF1YXRlcm5pb25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuU0NBTEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEgaW5zdGFuY2VvZiBWZWN0b3IzLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJpZiB0YXJnZXQ6RUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0ID09PSBTQ0FMRSwgaXRzIGRhdGFcIiwgXCJWZWN0b3IzXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoYEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldDoke3RhcmdldC50YXJnZXR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBwbGF5KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc051bWJlcihhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGFuaW1JbmRleDpudW1iZXIgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZGF0YTp3ZENiLkNvbGxlY3Rpb248QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGE+LCBhbmltTmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5pbUluZGV4ID09PSBpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2N1cnJlbnRBbmltTmFtZSA9IGFuaW1OYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY3VycmVudEFuaW1EYXRhID0gZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihKdWRnZVV0aWxzLmlzU3RyaW5nKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbU5hbWU6c3RyaW5nID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBbmltTmFtZSA9IGFuaW1OYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBbmltRGF0YSA9IHRoaXMuZGF0YS5nZXRDaGlsZChhbmltTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzZXRBbmltKCk7XG4gICAgICAgICAgICB0aGlzLl9zYXZlU3RhcnRGcmFtZURhdGEodGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgdGhpcy5mcmFtZUNvdW50ID0gdGhpcy5fY3VycmVudEFuaW1EYXRhLmdldENvdW50KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gRUFuaW1hdGlvblN0YXRlLlJVTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBoYW5kbGVXaGVuUGF1c2UoZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lke1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZVdoZW5DdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lke1xuICAgICAgICAgICAgdGhpcy5pc0ZyYW1lQ2hhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnJhbWUoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fc2F2ZVN0YXJ0RnJhbWVEYXRhKHRoaXMuX3ByZXZGcmFtZURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGhhbmRsZUJlZm9yZUp1ZGdlV2hldGhlckN1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICBpZih0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID0gdGhpcy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydChlbGFwc2VkVGltZSAtIHRoaXMuX2JlZ2luRWxhcHNlZFRpbWVPZkZpcnN0RnJhbWUgLSB0aGlzLnBhdXNlRHVyYXRpb24gPj0gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYGVsYXBzZWRUaW1lIG9mIGN1cnJlbnQgZnJhbWU6JHtlbGFwc2VkVGltZSAtIHRoaXMuX2JlZ2luRWxhcHNlZFRpbWVPZkZpcnN0RnJhbWUgLSB0aGlzLnBhdXNlRHVyYXRpb259YCwgXCI+PSAwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGlzQ3VycmVudEZyYW1lRmluaXNoKGVsYXBzZWRUaW1lOm51bWJlcik6Ym9vbGVhbntcbiAgICAgICAgICAgIHJldHVybiBlbGFwc2VkVGltZSAtIHRoaXMuX2JlZ2luRWxhcHNlZFRpbWVPZkZpcnN0RnJhbWUgLSB0aGlzLnBhdXNlRHVyYXRpb24gPiB0aGlzLl9jdXJyZW50RnJhbWVEYXRhLnRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlQWZ0ZXJKdWRnZVdoZXRoZXJDdXJyZW50RnJhbWVGaW5pc2goZWxhcHNlZFRpbWU6bnVtYmVyKTp2b2lke1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGFyZ2V0cyhlbGFwc2VkVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVzZXRBbmltKCl7XG4gICAgICAgICAgICB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZGcmFtZVRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5wYXVzZUR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuX3ByZXZGcmFtZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudEZyYW1lRGF0YSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGFydEZyYW1lRGF0YU1hcC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdXBkYXRlVGFyZ2V0cyhlbGFwc2VkVGltZTpudW1iZXIpOnZvaWR7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWVEYXRhTWFwID0gdGhpcy5fc3RhcnRGcmFtZURhdGFNYXA7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZURhdGEudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQ6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZVRhcmdldERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kRnJhbWVEYXRhID0gdGFyZ2V0LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWVEYXRhID0gc3RhcnRGcmFtZURhdGFNYXAuZ2V0Q2hpbGQoPGFueT50YXJnZXQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHNlbGYuX2NvbXB1dGVJbnRlcnBvbGF0aW9uKGVsYXBzZWRUaW1lLCB0YXJnZXQuaW50ZXJwb2xhdGlvbk1ldGhvZCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldC50YXJnZXQpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5UUkFOU0xBVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gVmVjdG9yMy5jcmVhdGUoKS5sZXJwKHN0YXJ0RnJhbWVEYXRhLCBlbmRGcmFtZURhdGEsIGludGVycG9sYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlJPVEFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLmxvY2FsUm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZSgpLnNsZXJwKHN0YXJ0RnJhbWVEYXRhLCBlbmRGcmFtZURhdGEsIGludGVycG9sYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlNDQUxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBWZWN0b3IzLmNyZWF0ZSgpLmxlcnAoc3RhcnRGcmFtZURhdGEsIGVuZEZyYW1lRGF0YSwgaW50ZXJwb2xhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKGBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQ6JHt0YXJnZXQudGFyZ2V0fWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbihpbnRlcnBvbGF0aW9uOm51bWJlciwgZWxhcHNlZFRpbWU6bnVtYmVyLCBpbnRlcnBvbGF0aW9uTWV0aG9kOkVLZXlGcmFtZUludGVycG9sYXRpb24pe1xuICAgICAgICAgICAgYXNzZXJ0KGludGVycG9sYXRpb24gPj0gMCAmJiBpbnRlcnBvbGF0aW9uIDw9IDEgLCBMb2cuaW5mby5GVU5DX1NIT1VMRChgaW50ZXJwb2xhdGlvbjoke2ludGVycG9sYXRpb259YCwgXCI+PSAwICYmIDw9IDFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9jb21wdXRlSW50ZXJwb2xhdGlvbihlbGFwc2VkVGltZTpudW1iZXIsIGludGVycG9sYXRpb25NZXRob2Q6RUtleUZyYW1lSW50ZXJwb2xhdGlvbil7XG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbjpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGludGVycG9sYXRpb25NZXRob2Qpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUtleUZyYW1lSW50ZXJwb2xhdGlvbi5MSU5FQVI6XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX2N1cnJlbnRGcmFtZURhdGEudGltZSAtIHRoaXMuX3ByZXZGcmFtZVRpbWUgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24gPSAoZWxhcHNlZFRpbWUgLSB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lIC0gdGhpcy5wYXVzZUR1cmF0aW9uIC0gdGhpcy5fcHJldkZyYW1lVGltZSkgLyAodGhpcy5fY3VycmVudEZyYW1lRGF0YS50aW1lIC0gdGhpcy5fcHJldkZyYW1lVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoYGludGVycG9sYXRpb25NZXRob2Q6JHtpbnRlcnBvbGF0aW9uTWV0aG9kfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGludGVycG9sYXRpb247XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByaXZhdGUgX3NhdmVTdGFydEZyYW1lRGF0YShmcmFtZURhdGE6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZURhdGEpO1xuICAgICAgICBwcml2YXRlIF9zYXZlU3RhcnRGcmFtZURhdGEoc3RhcnRUcmFuc2Zvcm06VGhyZWVEVHJhbnNmb3JtKTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzRnJhbWVEYXRhKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWVEYXRhOkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVEYXRhID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLl9jdXJyZW50RnJhbWVEYXRhICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCBjdXJyZW50RnJhbWVEYXRhXCIpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZURhdGEudGFyZ2V0cy5mb3JFYWNoKChjdXJyZW50VGFyZ2V0OkFydGljdWxhdGVkQW5pbWF0aW9uRnJhbWVUYXJnZXREYXRhLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZyYW1lRGF0YS50YXJnZXRzLmdldENoaWxkKGluZGV4KS50YXJnZXQgPT09IGN1cnJlbnRUYXJnZXQudGFyZ2V0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRoZSBjdXJyZW50IGZyYW1lIGFuZCB0aGUgc3RhcnQgZnJhbWVcIiwgXCJtb2RpZnkgdGhlIHNhbWUgdGFyZ2V0c1wiKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3NhdmVTdGFydEZyYW1lRGF0YSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBzdGFydEZyYW1lRGF0YU1hcCA9IHRoaXMuX3N0YXJ0RnJhbWVEYXRhTWFwO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9pc0ZyYW1lRGF0YShhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IGZyYW1lRGF0YTpBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBmcmFtZURhdGEudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQ6QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZVRhcmdldERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRGcmFtZURhdGFNYXAuYWRkQ2hpbGQoPGFueT50YXJnZXQudGFyZ2V0LCB0YXJnZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm06VGhyZWVEVHJhbnNmb3JtID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWVEYXRhTWFwLmFkZENoaWxkKDxhbnk+RUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlRSQU5TTEFUSU9OLCB0cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZURhdGFNYXAuYWRkQ2hpbGQoPGFueT5FQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuUk9UQVRJT04sIHRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lRGF0YU1hcC5hZGRDaGlsZCg8YW55PkVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5TQ0FMRSwgdHJhbnNmb3JtLmxvY2FsU2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdXBkYXRlQ3VycmVudEZyYW1lRGF0YSgpe1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEZyYW1lRGF0YSA9IHRoaXMuX2N1cnJlbnRBbmltRGF0YS5nZXRDaGlsZCh0aGlzLl9jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdXBkYXRlRnJhbWUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRGcmFtZUluZGV4KGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNGaW5pc2hBbGxGcmFtZXMoKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWdpbkVsYXBzZWRUaW1lT2ZGaXJzdEZyYW1lID0gdGhpcy5fZ2V0QmVnaW5FbGFwc2VkVGltZU9mRmlyc3RGcmFtZVdoZW5GaW5pc2hBbGxGcmFtZXMoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZGcmFtZVRpbWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldkZyYW1lRGF0YSA9IHRoaXMuX2N1cnJlbnRBbmltRGF0YS5nZXRDaGlsZCh0aGlzLmZyYW1lQ291bnQgLSAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50RnJhbWVEYXRhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZGcmFtZVRpbWUgPSB0aGlzLl9jdXJyZW50QW5pbURhdGEuZ2V0Q2hpbGQodGhpcy5fY3VycmVudEZyYW1lIC0gMSkudGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgbGFzdEVuZEZyYW1lVGltZSA9IHRoaXMuX2N1cnJlbnRBbmltRGF0YS5nZXRDaGlsZCh0aGlzLmZyYW1lQ291bnQgLSAxKS50aW1lO1xuXG4gICAgICAgICAgICBhc3NlcnQoZWxhcHNlZFRpbWUgPj0gbGFzdEVuZEZyYW1lVGltZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYGVsYXBzZWRUaW1lOiR7ZWxhcHNlZFRpbWV9YCwgYD49IGxhc3RFbmRGcmFtZVRpbWU6JHtsYXN0RW5kRnJhbWVUaW1lfWApKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0QmVnaW5FbGFwc2VkVGltZU9mRmlyc3RGcmFtZVdoZW5GaW5pc2hBbGxGcmFtZXMoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHMubWF4Rmxvb3JJbnRlZ3JhbE11bHRpcGxlKGVsYXBzZWRUaW1lLCB0aGlzLl9jdXJyZW50QW5pbURhdGEuZ2V0Q2hpbGQodGhpcy5mcmFtZUNvdW50IC0gMSkudGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0ZpbmlzaEFsbEZyYW1lcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZSA+PSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91cGRhdGVDdXJyZW50RnJhbWVJbmRleChlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgZG97XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEZyYW1lKys7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2RnJhbWVEYXRhID0gdGhpcy5fY3VycmVudEZyYW1lRGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50RnJhbWVEYXRhKCk7XG4gICAgICAgICAgICB9d2hpbGUoIXRoaXMuX2lzRmluaXNoQWxsRnJhbWVzKCkgJiYgdGhpcy5pc0N1cnJlbnRGcmFtZUZpbmlzaChlbGFwc2VkVGltZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNGcmFtZURhdGEoZGF0YTphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudGltZSAhPT0gdm9pZCAwICYmIGRhdGEudGFyZ2V0cyAhPT0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQXJ0aWN1bGF0ZWRBbmltYXRpb25EYXRhID0gd2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YT4+XG5cbiAgICBleHBvcnQgdHlwZSBBcnRpY3VsYXRlZEFuaW1hdGlvbkZyYW1lRGF0YSA9IHtcbiAgICAgICAgdGltZTpudW1iZXIsXG5cbiAgICAgICAgdGFyZ2V0czp3ZENiLkNvbGxlY3Rpb248QXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZVRhcmdldERhdGE+XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQXJ0aWN1bGF0ZWRBbmltYXRpb25GcmFtZVRhcmdldERhdGEgPSB7XG4gICAgICAgIGludGVycG9sYXRpb25NZXRob2Q6RUtleUZyYW1lSW50ZXJwb2xhdGlvbixcbiAgICAgICAgdGFyZ2V0OkVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldCxcbiAgICAgICAgZGF0YTphbnlcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFS2V5RnJhbWVJbnRlcnBvbGF0aW9ue1xuICAgICAgICBMSU5FQVJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0e1xuICAgICAgICBUUkFOU0xBVElPTiA9IDxhbnk+XCJwb3NpdGlvblwiLFxuICAgICAgICBST1RBVElPTiA9IDxhbnk+XCJyb3RhdGlvblwiLFxuICAgICAgICBTQ0FMRSA9IDxhbnk+XCJzY2FsZVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHZW9tZXRyeSBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWw6TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBnZXQgbWF0ZXJpYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWF0ZXJpYWwobWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgaWYoIUp1ZGdlVXRpbHMuaXNFcXVhbChtYXRlcmlhbCwgdGhpcy5fbWF0ZXJpYWwpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmdlb21ldHJ5ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnRyaWdnZXIodGhpcy5lbnRpdHlPYmplY3QsIEN1c3RvbUV2ZW50LmNyZWF0ZSg8YW55PkVFbmdpbmVFdmVudC5NQVRFUklBTF9DSEFOR0UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgZ2VvbWV0cnlEYXRhKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcbiAgICAgICAgcHVibGljIGJ1ZmZlcnM6QnVmZmVyQ29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGRyYXdNb2RlOkVEcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRVM7XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGE7XG5cbiAgICAgICAgICAgIGFzc2VydChnZW9tZXRyeURhdGEudmVydGljZXMubGVuZ3RoID4gMCwgTG9nLmluZm8uRlVOQ19NVVNUKFwidmVydGljZXMuY291bnRcIiwgXCI+IDBcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KGdlb21ldHJ5RGF0YS5mYWNlcy5sZW5ndGggKiAzID09PSBnZW9tZXRyeURhdGEuaW5kaWNlcy5sZW5ndGgsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZmFjZXMuY291bnRcIiwgYGJlICR7Z2VvbWV0cnlEYXRhLmluZGljZXMubGVuZ3RoIC8gM30sIGJ1dCBhY3R1YWwgaXMgJHtnZW9tZXRyeURhdGEuZmFjZXMubGVuZ3RofWApKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMsXG4gICAgICAgICAgICAgICAgICAgIGZhY2VzLFxuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9ycyxcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzXG4gICAgICAgICAgICAgICAgICAgIH0gPSB0aGlzLmNvbXB1dGVEYXRhKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycyA9IHRoaXMuY3JlYXRlQnVmZmVyQ29udGFpbmVyKCk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuY3JlYXRlR2VvbWV0cnlEYXRhKHZlcnRpY2VzLCBmYWNlcywgdGV4Q29vcmRzLCBjb2xvcnMsIG1vcnBoVGFyZ2V0cyk7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEgPSBnZW9tZXRyeURhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wdXRlTm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlcnMgJiYgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YSwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImJ1ZmZlcnMtPmdlb21ldHJ5RGF0YVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBoYXNGYWNlTm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuaGFzRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5idWZmZXJzICYmIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJidWZmZXJzLT5nZW9tZXRyeURhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaGFzVmVydGV4Tm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuaGFzVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzU21vb3RoU2hhZGluZygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsLnNoYWRpbmcgPT09IEVTaGFkaW5nLlNNT09USDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuYnVmZmVycyAmJiB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwiYnVmZmVycy0+Z2VvbWV0cnlEYXRhXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNvbXB1dGVGYWNlTm9ybWFscygpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29tcHV0ZVZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLmJ1ZmZlcnMsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKFwiYnVmZmVyc1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBjcmVhdGVCdWZmZXJzRnJvbUdlb21ldHJ5RGF0YSgpe1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLmNyZWF0ZUJ1ZmZlcnNGcm9tR2VvbWV0cnlEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY29tcHV0ZURhdGEoKTogR2VvbWV0cnlEYXRhVHlwZTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZU5vcm1hbHMoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuaXNTbW9vdGhTaGFkaW5nKCkpe1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmhhc1ZlcnRleE5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmhhc0ZhY2VOb3JtYWxzKCkpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVCdWZmZXJDb250YWluZXIoKTpCdWZmZXJDb250YWluZXJ7XG4gICAgICAgICAgICByZXR1cm4gQ29tbW9uQnVmZmVyQ29udGFpbmVyLmNyZWF0ZSh0aGlzLmVudGl0eU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlR2VvbWV0cnlEYXRhKHZlcnRpY2VzOkFycmF5PG51bWJlcj4sIGZhY2VzOkFycmF5PEZhY2UzPiwgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4sIGNvbG9yczpBcnJheTxudW1iZXI+LCBtb3JwaFRhcmdldHM6d2RDYi5IYXNoPE1vcnBoVGFyZ2V0c0RhdGE+KTpHZW9tZXRyeURhdGF7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDb21tb25HZW9tZXRyeURhdGEodmVydGljZXMsIGZhY2VzLCB0ZXhDb29yZHMsIGNvbG9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ29tbW9uR2VvbWV0cnlEYXRhKHZlcnRpY2VzOkFycmF5PG51bWJlcj4sIGZhY2VzOkFycmF5PEZhY2UzPiwgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4sIGNvbG9yczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGEgPSBDb21tb25HZW9tZXRyeURhdGEuY3JlYXRlKHRoaXMpO1xuXG4gICAgICAgICAgICBnZW9tZXRyeURhdGEudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5mYWNlcyA9IGZhY2VzO1xuICAgICAgICAgICAgZ2VvbWV0cnlEYXRhLnRleENvb3JkcyA9IHRleENvb3JkcztcbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5jb2xvcnMgPSBjb2xvcnM7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeURhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBHZW9tZXRyeURhdGFUeXBlID0ge1xuICAgICAgICB2ZXJ0aWNlczpBcnJheTxudW1iZXI+O1xuICAgICAgICBmYWNlcz86QXJyYXk8RmFjZTM+O1xuICAgICAgICB0ZXhDb29yZHM/OkFycmF5PG51bWJlcj47XG4gICAgICAgIGNvbG9ycz86QXJyYXk8bnVtYmVyPjtcbiAgICAgICAgbW9ycGhUYXJnZXRzPzp3ZENiLkhhc2g8TW9ycGhUYXJnZXRzRGF0YT47XG4gICAgfTtcbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgR2VvbWV0cnlVdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9GYWNlcyhpbmRpY2VzOkFycmF5PG51bWJlcj4sIG5vcm1hbHM/OkFycmF5PG51bWJlcj4pOkFycmF5PEZhY2UzPntcbiAgICAgICAgdmFyIGhhc05vcm1hbHMgPSB0aGlzLmhhc0RhdGEobm9ybWFscyksXG4gICAgICAgICAgICBmYWNlcyA9IFtdO1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKz0zKXtcbiAgICAgICAgICAgIGxldCBhID0gaW5kaWNlc1tpXSxcbiAgICAgICAgICAgICAgICBiID0gaW5kaWNlc1tpICsgMV0sXG4gICAgICAgICAgICAgICAgYyA9IGluZGljZXNbaSArIDJdLFxuICAgICAgICAgICAgICAgIGZhY2UgPSBGYWNlMy5jcmVhdGUoYSwgYiwgYyk7XG5cbiAgICAgICAgICAgIGlmKGhhc05vcm1hbHMpe1xuICAgICAgICAgICAgICAgIGZhY2UudmVydGV4Tm9ybWFscy5hZGRDaGlsZHJlbihbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgYSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgYiksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgYylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBmYWNlLmZhY2VOb3JtYWwgPSBmYWNlLnZlcnRleE5vcm1hbHMuZ2V0Q2hpbGQoMCkuY29weSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmYWNlcy5wdXNoKGZhY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhY2VzO1xuICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKGRhdGEpe1xuICAgICAgICAgICAgICAgIGFzc2VydChkYXRhIGluc3RhbmNlb2Ygd2RDYi5Db2xsZWN0aW9uIHx8IGRhdGEgaW5zdGFuY2VvZiB3ZENiLkhhc2ggfHwgSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShkYXRhKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJkYXRhXCIsICBcImJlIEFycmF5IG9yIENvbGxlY3Rpb24gb3IgSGFzaFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaGFzRGF0YShkYXRhOmFueSl7XG4gICAgICAgICAgICByZXR1cm4gZGF0YSAmJiAoKGRhdGEubGVuZ3RoICYmIGRhdGEubGVuZ3RoID4gMCkgfHwgKGRhdGEuZ2V0Q291bnQgJiYgZGF0YS5nZXRDb3VudCgpID4gMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRUaHJlZUNvbXBvbmVudChzb3VyY2VEYXRhOkFycmF5PG51bWJlcj4sIGluZGV4Om51bWJlcikge1xuICAgICAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSAzICogaW5kZXg7XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXhdLFxuICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbc3RhcnRJbmRleCArIDFdLFxuICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbc3RhcnRJbmRleCArIDJdXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZGF0YUFycjpBcnJheTxudW1iZXI+LCBpdGVyYXRvcjoodjpWZWN0b3IzKSA9PiB2b2lkKXtcbiAgICAgICAgICAgIGFzc2VydChkYXRhQXJyLmxlbmd0aCAlIDMgPT09IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZGF0YUFyci5sZW5ndGhcIiwgXCJ0aW1lcyBvZiB0aHJlZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXRlcmF0ZVRocmVlQ29tcG9uZW50KGRhdGFBcnI6QXJyYXk8bnVtYmVyPiwgaXRlcmF0b3I6KHY6VmVjdG9yMykgPT4gdm9pZCl7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBkYXRhQXJyLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAzKXtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihWZWN0b3IzLmNyZWF0ZShkYXRhQXJyW2ldLCBkYXRhQXJyW2kgKyAxXSwgZGF0YUFycltpICsgMl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0VGhyZWVDb21wb25lbnQodGFyZ2V0RGF0YTpBcnJheTxudW1iZXI+LCBzb3VyY2VEYXRhOlZlY3RvcjMsIGluZGV4Om51bWJlcik7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0VGhyZWVDb21wb25lbnQodGFyZ2V0RGF0YTpBcnJheTxudW1iZXI+LCBzb3VyY2VEYXRhOkFycmF5PG51bWJlcj4sIGluZGV4Om51bWJlcik7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXRUaHJlZUNvbXBvbmVudCh0YXJnZXREYXRhOkFycmF5PG51bWJlcj4sIHNvdXJjZURhdGE6YW55LCBpbmRleDpudW1iZXIpIHtcbiAgICAgICAgICAgIGlmKHNvdXJjZURhdGEgaW5zdGFuY2VvZiBWZWN0b3IzKXtcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogM10gPSBzb3VyY2VEYXRhLng7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDMgKyAxXSA9IHNvdXJjZURhdGEueTtcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogMyArIDJdID0gc291cmNlRGF0YS56O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogM10gPSBzb3VyY2VEYXRhWzBdO1xuICAgICAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAzICsgMV0gPSBzb3VyY2VEYXRhWzFdO1xuICAgICAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAzICsgMl0gPSBzb3VyY2VEYXRhWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIHN1cHBvcnQgbW9ycGhUYXJnZXRzP1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21HZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3ZlcnRpY2VzOkFycmF5PG51bWJlcj4gPSBbXTtcbiAgICAgICAgZ2V0IHZlcnRpY2VzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVydGljZXM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHZlcnRpY2VzKHZlcnRpY2VzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2ZXJ0aWNlcztcblxuICAgICAgICAgICAgaWYodGhpcy5idWZmZXJzKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzLnJlbW92ZUNhY2hlKEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RleENvb3JkczpBcnJheTxudW1iZXI+ID0gW107XG4gICAgICAgIGdldCB0ZXhDb29yZHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXhDb29yZHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRleENvb3Jkcyh0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICB0aGlzLl90ZXhDb29yZHMgPSB0ZXhDb29yZHM7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuYnVmZmVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEudGV4Q29vcmRzID0gdGV4Q29vcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5yZW1vdmVDYWNoZShFQnVmZmVyRGF0YVR5cGUuVEVYQ09PUkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sb3JzOkFycmF5PG51bWJlcj4gPSBbXTtcbiAgICAgICAgZ2V0IGNvbG9ycygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9ycztcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29sb3JzKGNvbG9yczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9ycyA9IGNvbG9ycztcbiAgICAgICAgICAgIGlmKHRoaXMuYnVmZmVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuY29sb3JzID0gY29sb3JzO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5yZW1vdmVDYWNoZShFQnVmZmVyRGF0YVR5cGUuQ09MT1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5kaWNlczpBcnJheTxudW1iZXI+ID0gW107XG4gICAgICAgIGdldCBpbmRpY2VzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgICAgICAgfVxuICAgICAgICBzZXQgaW5kaWNlcyhpbmRpY2VzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgICAgICBpZih0aGlzLmJ1ZmZlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLmZhY2VzID0gR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyhpbmRpY2VzLCB0aGlzLm5vcm1hbHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5yZW1vdmVDYWNoZShFQnVmZmVyRGF0YVR5cGUuSU5ESUNFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX25vcm1hbHM6QXJyYXk8bnVtYmVyPiA9IFtdO1xuICAgICAgICBnZXQgbm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG5vcm1hbHMobm9ybWFsczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbHMgPSBub3JtYWxzO1xuICAgICAgICAgICAgaWYodGhpcy5idWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YS5mYWNlcyA9IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXModGhpcy5pbmRpY2VzLCBub3JtYWxzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucmVtb3ZlQ2FjaGUoRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZURhdGEoKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmVydGljZXM6IHRoaXMudmVydGljZXMsXG4gICAgICAgICAgICAgICAgZmFjZXM6IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXModGhpcy5pbmRpY2VzLCB0aGlzLm5vcm1hbHMpLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGhpcy50ZXhDb29yZHMsXG4gICAgICAgICAgICAgICAgY29sb3JzOiB0aGlzLmNvbG9yc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBNb2RlbEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgZ2VvbSA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHZlcnRpY2VzOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sb3JzOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgZmFjZXM6QXJyYXk8RmFjZTM+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1vcnBoVGFyZ2V0czp3ZENiLkhhc2g8TW9ycGhUYXJnZXRzRGF0YT4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgbW9ycGhGYWNlTm9ybWFsczp3ZENiLkhhc2g8d2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+PiA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPEFycmF5PG51bWJlcj4+PigpO1xuICAgICAgICBwdWJsaWMgbW9ycGhWZXJ0ZXhOb3JtYWxzOndkQ2IuSGFzaDx3ZENiLkNvbGxlY3Rpb248QXJyYXk8bnVtYmVyPj4+ID0gd2RDYi5IYXNoLmNyZWF0ZTx3ZENiLkNvbGxlY3Rpb248QXJyYXk8bnVtYmVyPj4+KCk7XG5cbiAgICAgICAgcHVibGljIGJ1ZmZlcnM6TW9ycGhCdWZmZXJDb250YWluZXI7XG5cbiAgICAgICAgcHVibGljIGhhc0FuaW1hdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vcnBoVGFyZ2V0cygpICYmICh0aGlzLmVudGl0eU9iamVjdCAmJiB0aGlzLmVudGl0eU9iamVjdC5oYXNDb21wb25lbnQoTW9ycGhBbmltYXRpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5idWZmZXJzICYmIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEsIExvZy5pbmZvLkZVTkNfTVVTVF9ERUZJTkUoXCJidWZmZXJzLT5nZW9tZXRyeURhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaGFzTW9ycGhGYWNlTm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVycy5nZW9tZXRyeURhdGEuaGFzTW9ycGhGYWNlTm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlcnMgJiYgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YSwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImJ1ZmZlcnMtPmdlb21ldHJ5RGF0YVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBoYXNNb3JwaFZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnMuZ2VvbWV0cnlEYXRhLmhhc01vcnBoVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlcnMgJiYgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YSwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImJ1ZmZlcnMtPmdlb21ldHJ5RGF0YVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBjb21wdXRlTW9ycGhOb3JtYWxzKCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLmdlb21ldHJ5RGF0YS5jb21wdXRlTW9ycGhOb3JtYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZU5vcm1hbHMoKXtcbiAgICAgICAgICAgIHN1cGVyLmNvbXB1dGVOb3JtYWxzKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2hhc01vcnBoVGFyZ2V0cygpKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzU21vb3RoU2hhZGluZygpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuaGFzTW9ycGhWZXJ0ZXhOb3JtYWxzKCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlTW9ycGhOb3JtYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuaGFzTW9ycGhGYWNlTm9ybWFscygpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1vcnBoTm9ybWFscygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICByZXR1cm4gPGFueT57XG4gICAgICAgICAgICAgICAgdmVydGljZXM6IHRoaXMudmVydGljZXMsXG4gICAgICAgICAgICAgICAgZmFjZXM6IHRoaXMuZmFjZXMsXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOiB0aGlzLnRleENvb3JkcyxcbiAgICAgICAgICAgICAgICBjb2xvcnM6IHRoaXMuY29sb3JzLFxuICAgICAgICAgICAgICAgIG1vcnBoVGFyZ2V0czogdGhpcy5tb3JwaFRhcmdldHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYodGhpcy5oYXNBbmltYXRpb24oKSkge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLmVudGl0eU9iamVjdC5nZXRDb21wb25lbnQoTW9ycGhBbmltYXRpb24pLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImVudGl0eU9iamVjdCB3aXRoIE1vZGVsR2VvbWV0cnlcIiwgXCJhZGQgTW9ycGhBbmltYXRpb24gY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUJ1ZmZlckNvbnRhaW5lcigpOkJ1ZmZlckNvbnRhaW5lcntcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQW5pbWF0aW9uKCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBNb3JwaEJ1ZmZlckNvbnRhaW5lci5jcmVhdGUodGhpcy5lbnRpdHlPYmplY3QsIHRoaXMuZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxNb3JwaEFuaW1hdGlvbj4oTW9ycGhBbmltYXRpb24pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIENvbW1vbkJ1ZmZlckNvbnRhaW5lci5jcmVhdGUodGhpcy5lbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUdlb21ldHJ5RGF0YSh2ZXJ0aWNlczpBcnJheTxudW1iZXI+LCBmYWNlczpBcnJheTxGYWNlMz4sIHRleENvb3JkczpBcnJheTxudW1iZXI+LCBjb2xvcnM6QXJyYXk8bnVtYmVyPiwgbW9ycGhUYXJnZXRzOndkQ2IuSGFzaDxNb3JwaFRhcmdldHNEYXRhPik6R2VvbWV0cnlEYXRhe1xuICAgICAgICAgICAgaWYodGhpcy5oYXNBbmltYXRpb24oKSl7XG4gICAgICAgICAgICAgICAgbGV0IGdlb21ldHJ5RGF0YSA9IE1vcnBoR2VvbWV0cnlEYXRhLmNyZWF0ZSh0aGlzKTtcblxuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5mYWNlcyA9IGZhY2VzO1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS50ZXhDb29yZHMgPSB0ZXhDb29yZHM7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlEYXRhLmNvbG9ycyA9IGNvbG9ycztcbiAgICAgICAgICAgICAgICBnZW9tZXRyeURhdGEubW9ycGhUYXJnZXRzID0gbW9ycGhUYXJnZXRzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5RGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ29tbW9uR2VvbWV0cnlEYXRhKHZlcnRpY2VzLCBmYWNlcywgdGV4Q29vcmRzLCBjb2xvcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFzTW9ycGhUYXJnZXRzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3JwaFRhcmdldHMgJiYgdGhpcy5tb3JwaFRhcmdldHMuZ2V0Q291bnQoKSA+IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQm94R2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZGVwdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHdpZHRoU2VnbWVudHM6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGhlaWdodFNlZ21lbnRzOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBkZXB0aFNlZ21lbnRzOm51bWJlciA9IDE7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoID0gdGhpcy5kZXB0aCxcbiAgICAgICAgICAgICAgICB3aWR0aFNlZ21lbnRzID0gdGhpcy53aWR0aFNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIGhlaWdodFNlZ21lbnRzID0gdGhpcy5oZWlnaHRTZWdtZW50cyxcbiAgICAgICAgICAgICAgICBkZXB0aFNlZ21lbnRzID0gdGhpcy5kZXB0aFNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIHNpZGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBGUk9OVCAgOiAwLFxuICAgICAgICAgICAgICAgICAgICBCQUNLICAgOiAxLFxuICAgICAgICAgICAgICAgICAgICBUT1AgICAgOiAyLFxuICAgICAgICAgICAgICAgICAgICBCT1RUT00gOiAzLFxuICAgICAgICAgICAgICAgICAgICBSSUdIVCAgOiA0LFxuICAgICAgICAgICAgICAgICAgICBMRUZUICAgOiA1XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmYWNlQXhlcyA9IFtcbiAgICAgICAgICAgICAgICBbIDAsIDEsIDMgXSwgLy8gRlJPTlRcbiAgICAgICAgICAgICAgICBbIDQsIDUsIDcgXSwgLy8gQkFDS1xuICAgICAgICAgICAgICAgIFsgMywgMiwgNiBdLCAvLyBUT1BcbiAgICAgICAgICAgICAgICBbIDEsIDAsIDQgXSwgLy8gQk9UVE9NXG4gICAgICAgICAgICAgICAgWyAxLCA0LCAyIF0sIC8vIFJJR0hUXG4gICAgICAgICAgICAgICAgWyA1LCAwLCA2IF0gIC8vIExFRlRcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHZhciBmYWNlTm9ybWFscyA9IFtcbiAgICAgICAgICAgICAgICBbICAwLCAgMCwgIDEgXSwgLy8gRlJPTlRcbiAgICAgICAgICAgICAgICBbICAwLCAgMCwgLTEgXSwgLy8gQkFDS1xuICAgICAgICAgICAgICAgIFsgIDAsICAxLCAgMCBdLCAvLyBUT1BcbiAgICAgICAgICAgICAgICBbICAwLCAtMSwgIDAgXSwgLy8gQk9UVE9NXG4gICAgICAgICAgICAgICAgWyAgMSwgIDAsICAwIF0sIC8vIFJJR0hUXG4gICAgICAgICAgICAgICAgWyAtMSwgIDAsICAwIF0gIC8vIExFRlRcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2YXIgY29ybmVycyA9IFtcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSgtd2lkdGgsIC1oZWlnaHQsIGRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSggd2lkdGgsIC1oZWlnaHQsIGRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSggd2lkdGgsICBoZWlnaHQsIGRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSgtd2lkdGgsICBoZWlnaHQsIGRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSggd2lkdGgsIC1oZWlnaHQsIC1kZXB0aCksXG4gICAgICAgICAgICAgICAgVmVjdG9yMy5jcmVhdGUoLXdpZHRoLCAtaGVpZ2h0LCAtZGVwdGgpLFxuICAgICAgICAgICAgICAgIFZlY3RvcjMuY3JlYXRlKC13aWR0aCwgIGhlaWdodCwgLWRlcHRoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmNyZWF0ZSggd2lkdGgsICBoZWlnaHQsIC1kZXB0aClcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIG5vcm1hbHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB0ZXhDb29yZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlRmFjZShzaWRlLCB1U2VnbWVudHMsIHZTZWdtZW50cykge1xuICAgICAgICAgICAgICAgIHZhciB4LCB5LCB6LCB1LCB2O1xuICAgICAgICAgICAgICAgIHZhciBpLCBqO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB2ZXJ0aWNlcy5sZW5ndGggLyAzO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSB1U2VnbWVudHM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDw9IHZTZWdtZW50czsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcDEgPSBWZWN0b3IzLmNyZWF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDIgPSBWZWN0b3IzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAzID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gVmVjdG9yMy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAxLmxlcnAoY29ybmVyc1tmYWNlQXhlc1tzaWRlXVswXV0sIGNvcm5lcnNbZmFjZUF4ZXNbc2lkZV1bMV1dLCBpIC8gdVNlZ21lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAyLmxlcnAoY29ybmVyc1tmYWNlQXhlc1tzaWRlXVswXV0sIGNvcm5lcnNbZmFjZUF4ZXNbc2lkZV1bMl1dLCBqIC8gdlNlZ21lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAzLnN1YjIodGVtcDIsIGNvcm5lcnNbZmFjZUF4ZXNbc2lkZV1bMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuYWRkMih0ZW1wMSwgdGVtcDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGkgLyB1U2VnbWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gaiAvIHZTZWdtZW50cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljZXMucHVzaChyLngsIHIueSwgci56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaChmYWNlTm9ybWFsc1tzaWRlXVswXSwgZmFjZU5vcm1hbHNbc2lkZV1bMV0sIGZhY2VOb3JtYWxzW3NpZGVdWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleENvb3Jkcy5wdXNoKHUsIHYpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPCB1U2VnbWVudHMpICYmIChqIDwgdlNlZ21lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChvZmZzZXQgKyBqICsgaSAqICh1U2VnbWVudHMgKyAxKSwgICAgICAgb2Zmc2V0ICsgaiArIChpICsgMSkgKiAodVNlZ21lbnRzICsgMSksICAgICBvZmZzZXQgKyBqICsgaSAqICh1U2VnbWVudHMgKyAxKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChvZmZzZXQgKyBqICsgKGkgKyAxKSAqICh1U2VnbWVudHMgKyAxKSwgb2Zmc2V0ICsgaiArIChpICsgMSkgKiAodVNlZ21lbnRzICsgMSkgKyAxLCBvZmZzZXQgKyBqICsgaSAqICh1U2VnbWVudHMgKyAxKSArIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdlbmVyYXRlRmFjZShzaWRlcy5GUk9OVCwgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpO1xuICAgICAgICAgICAgZ2VuZXJhdGVGYWNlKHNpZGVzLkJBQ0ssIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgICAgIGdlbmVyYXRlRmFjZShzaWRlcy5UT1AsIHdpZHRoU2VnbWVudHMsIGRlcHRoU2VnbWVudHMpO1xuICAgICAgICAgICAgZ2VuZXJhdGVGYWNlKHNpZGVzLkJPVFRPTSwgd2lkdGhTZWdtZW50cywgZGVwdGhTZWdtZW50cyk7XG4gICAgICAgICAgICBnZW5lcmF0ZUZhY2Uoc2lkZXMuUklHSFQsIGRlcHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgICAgIGdlbmVyYXRlRmFjZShzaWRlcy5MRUZULCBkZXB0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIC8vdG9kbyBkaXJlY3QgYWRkIHRvIGZhY2VzLCByZW1vdmUgaW5kaWNlcyxub3JtYWxzXG4gICAgICAgICAgICAgICAgZmFjZXM6IEdlb21ldHJ5VXRpbHMuY29udmVydFRvRmFjZXMoaW5kaWNlcywgbm9ybWFscyksXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOiB0ZXhDb29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUmVjdEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdpZHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZURhdGEoKXtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdCA9IC13aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgcmlnaHQgPSB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgdXAgPSBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgIGRvd24gPSAtaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHRleENvb3JkcyA9IFtdLFxuICAgICAgICAgICAgICAgIGluZGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgIHZlcnRpY2VzID0gW1xuICAgICAgICAgICAgICAgIHJpZ2h0LCB1cCwgMCxcbiAgICAgICAgICAgICAgICBsZWZ0LCB1cCwgMCxcbiAgICAgICAgICAgICAgICBsZWZ0LCBkb3duLCAwLFxuICAgICAgICAgICAgICAgIHJpZ2h0LCBkb3duLCAwXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpbmRpY2VzID0gW1xuICAgICAgICAgICAgICAgIDAsIDEsIDIsICAgMCwgMiwgM1xuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdGV4Q29vcmRzID0gW1xuICAgICAgICAgICAgICAgIDEuMCwgMS4wLFxuICAgICAgICAgICAgICAgIDAuMCwgMS4wLFxuICAgICAgICAgICAgICAgIDAuMCwgMC4wLFxuICAgICAgICAgICAgICAgIDEuMCwgMC4wXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBub3JtYWxzID0gW1xuICAgICAgICAgICAgICAgIDAsIDAsIDEsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIGZhY2VzOiBHZW9tZXRyeVV0aWxzLmNvbnZlcnRUb0ZhY2VzKGluZGljZXMsIG5vcm1hbHMpLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGV4Q29vcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFBsYW5lR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgd2lkdGhTZWdtZW50czpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0U2VnbWVudHM6bnVtYmVyID0gMTtcblxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZURhdGEoKXtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgd2lkdGhTZWdtZW50cyA9IHRoaXMud2lkdGhTZWdtZW50cyxcbiAgICAgICAgICAgICAgICBoZWlnaHRTZWdtZW50cyA9IHRoaXMuaGVpZ2h0U2VnbWVudHMsXG4gICAgICAgICAgICAgICAgeCA9IG51bGwsXG4gICAgICAgICAgICAgICAgeSA9IG51bGwsXG4gICAgICAgICAgICAgICAgeiA9IG51bGwsXG4gICAgICAgICAgICAgICAgdSA9IG51bGwsXG4gICAgICAgICAgICAgICAgdiA9IG51bGwsXG4gICAgICAgICAgICAgICAgaSA9IG51bGwsXG4gICAgICAgICAgICAgICAgaiA9IG51bGwsXG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMgPSBbXSxcbiAgICAgICAgICAgICAgICBub3JtYWxzID0gW10sXG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBwbGFuZSBhcyBmb2xsb3dzIChhc3NpZ25lZCBVVnMgZGVub3RlZCBhdCBjb3JuZXJzKTpcbiAgICAgICAgICAgIC8vICgwLDEpeC0tLS0tLS0tLXgoMSwxKVxuICAgICAgICAgICAgLy8gICAgICB8ICAgICAgICAgfFxuICAgICAgICAgICAgLy8gICAgICB8ICAgICAgICAgfFxuICAgICAgICAgICAgLy8gICAgICB8ICAgIE8tLVggfGxlbmd0aFxuICAgICAgICAgICAgLy8gICAgICB8ICAgIHwgICAgfFxuICAgICAgICAgICAgLy8gICAgICB8ICAgIFogICAgfFxuICAgICAgICAgICAgLy8gKDAsMCl4LS0tLS0tLS0teCgxLDApXG4gICAgICAgICAgICAvLyAgICAgICAgIHdpZHRoXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IHdpZHRoU2VnbWVudHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPD0gaGVpZ2h0U2VnbWVudHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gLXdpZHRoICsgMi4wICogd2lkdGggKiBpIC8gd2lkdGhTZWdtZW50cztcbiAgICAgICAgICAgICAgICAgICAgeSA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgeiA9IC0oLWhlaWdodCArIDIuMCAqIGhlaWdodCAqIGogLyBoZWlnaHRTZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHUgPSBpIC8gd2lkdGhTZWdtZW50cztcbiAgICAgICAgICAgICAgICAgICAgdiA9IGogLyBoZWlnaHRTZWdtZW50cztcblxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goMC4wLCAxLjAsIDAuMCk7XG4gICAgICAgICAgICAgICAgICAgIHRleENvb3Jkcy5wdXNoKHUsIHYpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaSA8IHdpZHRoU2VnbWVudHMpICYmIChqIDwgaGVpZ2h0U2VnbWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goaiArIGkgKiAod2lkdGhTZWdtZW50cyArIDEpLCAgICAgICBqICsgKGkgKyAxKSAqICh3aWR0aFNlZ21lbnRzICsgMSksICAgICBqICsgaSAqICh3aWR0aFNlZ21lbnRzICsgMSkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChqICsgKGkgKyAxKSAqICh3aWR0aFNlZ21lbnRzICsgMSksIGogKyAoaSArIDEpICogKHdpZHRoU2VnbWVudHMgKyAxKSArIDEsIGogKyBpICogKHdpZHRoU2VnbWVudHMgKyAxKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBmYWNlczogR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyhpbmRpY2VzLCBub3JtYWxzKSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRleENvb3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVTcGhlcmVEcmF3TW9kZXtcbiAgICAgICAgTEFUSVRVREVMT05HVElUVURFXG4gICAgICAgIC8vREVDT01QT1NJVElPTlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBTcGhlcmVHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByYWRpdXM6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIHNwaGVyZURyYXdNb2RlOkVTcGhlcmVEcmF3TW9kZSA9IEVTcGhlcmVEcmF3TW9kZS5MQVRJVFVERUxPTkdUSVRVREU7XG4gICAgICAgIHB1YmxpYyBzZWdtZW50czpudW1iZXIgPSAyMDtcblxuICAgICAgICBwcm90ZWN0ZWQgY29tcHV0ZURhdGEoKXtcbiAgICAgICAgICAgIHZhciByYWRpdXMgPSB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgICAgICBzcGhlcmVEcmF3TW9kZSA9IHRoaXMuc3BoZXJlRHJhd01vZGUsXG4gICAgICAgICAgICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIGRhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihzcGhlcmVEcmF3TW9kZSA9PT0gRVNwaGVyZURyYXdNb2RlLkxBVElUVURFTE9OR1RJVFVERSl7XG4gICAgICAgICAgICAgICAgdmFyIHsgdmVydGljZXMsIGluZGljZXMsIG5vcm1hbHMsIHRleENvb3JkcyB9ID0gR2V0RGF0YUJ5TGF0aXR1ZGVMb25ndGl0dWRlLmNyZWF0ZShyYWRpdXMsIHNlZ21lbnRzKS5nZXREYXRhKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdmVydGljZXMsXG4gICAgICAgICAgICAgICAgICAgIGZhY2VzOiBHZW9tZXRyeVV0aWxzLmNvbnZlcnRUb0ZhY2VzKGluZGljZXMsIG5vcm1hbHMpLFxuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRleENvb3Jkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vZWxzZSBpZihzcGhlcmVEcmF3TW9kZSA9PT0gRVNwaGVyZURyYXdNb2RlLkRFQ09NUE9TSVRJT04pe1xuICAgICAgICAgICAgLy8gICAgZGF0YSA9IEdldERhdGFCeURlY29tcG9zaXRpb24uY3JlYXRlKHJhZGl1cywgc2VnbWVudHMpLmdldERhdGEoKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzIEdldERhdGFCeUxhdGl0dWRlTG9uZ3RpdHVkZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocmFkaXVzOm51bWJlciwgYmFuZHM6bnVtYmVyKTpHZXREYXRhQnlMYXRpdHVkZUxvbmd0aXR1ZGUge1xuICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcyhyYWRpdXMsIGJhbmRzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdlb207XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yYWRpdXM6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbGF0aXR1ZGVCYW5kczpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9sb25naXR1ZGVCYW5kczpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHJhZGl1czpudW1iZXIsIGJhbmRzOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgICAgICB0aGlzLl9sYXRpdHVkZUJhbmRzID0gYmFuZHM7XG4gICAgICAgICAgICB0aGlzLl9sb25naXR1ZGVCYW5kcyA9IGJhbmRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldERhdGEoKXtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIG5vcm1hbHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB0ZXhDb29yZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cblxuICAgICAgICAgICAgZm9yICh2YXIgbGF0TnVtYmVyID0gMDsgbGF0TnVtYmVyIDw9IHRoaXMuX2xhdGl0dWRlQmFuZHM7IGxhdE51bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoZXRhID0gbGF0TnVtYmVyICogTWF0aC5QSSAvIHRoaXMuX2xhdGl0dWRlQmFuZHM7XG4gICAgICAgICAgICAgICAgdmFyIHNpblRoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICAgICAgICAgIHZhciBjb3NUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGxvbmdOdW1iZXIgPSAwOyBsb25nTnVtYmVyIDw9IHRoaXMuX2xvbmdpdHVkZUJhbmRzOyBsb25nTnVtYmVyKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBoaSA9IGxvbmdOdW1iZXIgKiAyICogTWF0aC5QSSAvIHRoaXMuX2xvbmdpdHVkZUJhbmRzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2luUGhpID0gTWF0aC5zaW4ocGhpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvc1BoaSA9IE1hdGguY29zKHBoaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0aGlzLl9yYWRpdXMgKiBjb3NQaGkgKiBzaW5UaGV0YTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB0aGlzLl9yYWRpdXMgKmNvc1RoZXRhO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeiA9IHRoaXMuX3JhZGl1cyAqc2luUGhpICogc2luVGhldGE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1ID0gMSAtIChsb25nTnVtYmVyIC8gdGhpcy5fbG9uZ2l0dWRlQmFuZHMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IDEgLSAobGF0TnVtYmVyIC8gdGhpcy5fbGF0aXR1ZGVCYW5kcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2goeSk7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaCh6KTtcbiAgICAgICAgICAgICAgICAgICAgdGV4Q29vcmRzLnB1c2godSk7XG4gICAgICAgICAgICAgICAgICAgIHRleENvb3Jkcy5wdXNoKHYpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmb3IgKHZhciBsYXROdW1iZXIgPSAwOyBsYXROdW1iZXIgPCB0aGlzLl9sYXRpdHVkZUJhbmRzOyBsYXROdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGxvbmdOdW1iZXIgPSAwOyBsb25nTnVtYmVyIDwgdGhpcy5fbG9uZ2l0dWRlQmFuZHM7IGxvbmdOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSBsYXROdW1iZXIgKiAodGhpcy5fbG9uZ2l0dWRlQmFuZHMgKyAxKSArIGxvbmdOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWNvbmQgPSBmaXJzdCArIHRoaXMuX2xvbmdpdHVkZUJhbmRzICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGZpcnN0ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChzZWNvbmQpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goZmlyc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChmaXJzdCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goc2Vjb25kICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChzZWNvbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlczogdmVydGljZXMsXG4gICAgICAgICAgICAgICAgaW5kaWNlczogaW5kaWNlcyxcbiAgICAgICAgICAgICAgICBub3JtYWxzOiBub3JtYWxzLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGV4Q29vcmRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vdG9kbyBhZGQgdGV4Q29vcmRzXG4gICAgLy9jbGFzcyBHZXREYXRhQnlEZWNvbXBvc2l0aW9ue1xuICAgIC8vICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJhZGl1czpudW1iZXIsIGNvdW50Om51bWJlcik6R2V0RGF0YUJ5RGVjb21wb3NpdGlvbiB7XG4gICAgLy8gICAgICAgIHZhciBnZW9tID0gbmV3IHRoaXMocmFkaXVzLCBjb3VudCk7XG4gICAgLy9cbiAgICAvLyAgICAgICAgcmV0dXJuIGdlb207XG4gICAgLy8gICAgfVxuICAgIC8vXG4gICAgLy8gICAgcHJpdmF0ZSBfdmVydGljZXM6bnVtYmVyW10gPSBbXTtcbiAgICAvLyAgICBnZXQgdmVydGljZXMoKXtcbiAgICAvLyAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnRpY2VzO1xuICAgIC8vICAgIH1cbiAgICAvLyAgICBzZXQgdmVydGljZXModmVydGljZXM6bnVtYmVyW10pe1xuICAgIC8vICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIHByaXZhdGUgX2luZGljZXM6bnVtYmVyW10gPSBbXTtcbiAgICAvLyAgICBnZXQgaW5kaWNlcygpe1xuICAgIC8vICAgICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgICAvLyAgICB9XG4gICAgLy8gICAgc2V0IGluZGljZXMoaW5kaWNlczpudW1iZXJbXSl7XG4gICAgLy8gICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIHByaXZhdGUgX3ZMZW46bnVtYmVyID0gbnVsbDtcbiAgICAvLyAgICBwcml2YXRlIHJhZGl1czpudW1iZXIgPSBudWxsO1xuICAgIC8vICAgIHByaXZhdGUgX2NvdW50Om51bWJlciA9IG51bGw7XG4gICAgLy9cbiAgICAvLyAgICBjb25zdHJ1Y3RvcihyYWRpdXMsIGNvdW50KXtcbiAgICAvLyAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgLy8gICAgICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gICAgLy8gICAgfVxuICAgIC8vXG4gICAgLy8gICAgcHVibGljIGdldERhdGEoKXtcbiAgICAvLyAgICAgICAgdmFyIG9yaWdpblZlcnRpY2VzID0gW1xuICAgIC8vICAgICAgICAgICAgW3RoaXMucmFkaXVzLCAwLCAwXSxcbiAgICAvLyAgICAgICAgICAgIFstdGhpcy5yYWRpdXMsIDAsIDBdLFxuICAgIC8vICAgICAgICAgICAgWzAsIHRoaXMucmFkaXVzLCAwXSxcbiAgICAvLyAgICAgICAgICAgIFswLCAtdGhpcy5yYWRpdXMsIDBdLFxuICAgIC8vICAgICAgICAgICAgWzAsIDAsIHRoaXMucmFkaXVzXSxcbiAgICAvLyAgICAgICAgICAgIFswLCAwLCAtdGhpcy5yYWRpdXNdXG4gICAgLy8gICAgICAgIF07XG4gICAgLy8gICAgICAgIHZhciBvcmlnaW5JbmRpY2VzID0gW1xuICAgIC8vICAgICAgICAgICAgLy9bMiw0LDBdLFsyLDAsNV0sWzIsNSwxXSxbMiwxLDRdLCAgIFszLDAsNF0sWzMsNSwwXSxbMywxLDVdLFszLDQsMV1cbiAgICAvLyAgICAgICAgICAgIC8vWzIsNCwwXVxuICAgIC8vICAgICAgICAgICAgWzIsNCwwXSxbMiwwLDVdLFsyLDUsMV0sWzIsMSw0XSxcbiAgICAvLyAgICAgICAgICAgIFszLDAsNF0sWzMsNSwwXSxbMywxLDVdLFszLDQsMV1cbiAgICAvLyAgICAgICAgXTtcbiAgICAvL1xuICAgIC8vICAgICAgICB0aGlzLl92TGVuID0gb3JpZ2luVmVydGljZXMubGVuZ3RoO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHZhciBqID0gMDtcbiAgICAvLyAgICAgICAgdmFyIGxlbiA9IG9yaWdpblZlcnRpY2VzLmxlbmd0aDtcbiAgICAvL1xuICAgIC8vICAgICAgICBmb3IoaiA9IDA7IGogPCBsZW47IGogKyspe1xuICAgIC8vICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcy5jb25jYXQob3JpZ2luVmVydGljZXNbal0pO1xuICAgIC8vICAgICAgICB9XG4gICAgLy9cbiAgICAvLyAgICAgICAgdmFyIGogPSAwLFxuICAgIC8vICAgICAgICAgICAgbGVuID0gb3JpZ2luSW5kaWNlcy5sZW5ndGg7ICAvLzjpnaLkvZNcbiAgICAvL1xuICAgIC8vICAgICAgICBmb3IgKGogPSAwOyBqIDwgbGVuOyBqICsrKXtcbiAgICAvLyAgICAgICAgICAgIC8vZm9yIChpID0gMDsgaSA8IHRoaXMuX2NvdW50OyBpKyspe1xuICAgIC8vICAgICAgICAgICAgLy90aGlzLl92ZXJ0aWNlcyA9IHRoaXMuX3ZlcnRpY2VzLmNvbmNhdChvcmlnaW5WZXJ0aWNlc1tvcmlnaW5JbmRpY2VzW2pdWzBdXSxcbiAgICAvLyAgICAgICAgICAgIC8vICAgIG9yaWdpblZlcnRpY2VzW29yaWdpbkluZGljZXNbal1bMV1dLFxuICAgIC8vICAgICAgICAgICAgLy8gICAgb3JpZ2luVmVydGljZXNbb3JpZ2luSW5kaWNlc1tqXVsyXV0pO1xuICAgIC8vXG4gICAgLy8gICAgICAgICAgICB0aGlzLl9zdWJEaXZpZGUob3JpZ2luVmVydGljZXNbb3JpZ2luSW5kaWNlc1tqXVswXV0sXG4gICAgLy8gICAgICAgICAgICAgICAgb3JpZ2luVmVydGljZXNbb3JpZ2luSW5kaWNlc1tqXVsxXV0sXG4gICAgLy8gICAgICAgICAgICAgICAgb3JpZ2luVmVydGljZXNbb3JpZ2luSW5kaWNlc1tqXVsyXV0sXG4gICAgLy8gICAgICAgICAgICAgICAgb3JpZ2luSW5kaWNlc1tqXSxcbiAgICAvLyAgICAgICAgICAgICAgICB0aGlzLl9jb3VudCxcbiAgICAvLyAgICAgICAgICAgICAgICB0aGlzLnJhZGl1cyk7XG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgIC8vfVxuICAgIC8vXG4gICAgLy8gICAgICAgIH1cbiAgICAvL1xuICAgIC8vICAgICAgICByZXR1cm4ge1xuICAgIC8vICAgICAgICAgICAgdmVydGljZXM6IEFycmF5QnVmZmVyLmNyZWF0ZShuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSxcbiAgICAvLyAgICAgICAgICAgICAgICAzLCBFQnVmZmVyVHlwZS5GTE9BVCksXG4gICAgLy8gICAgICAgICAgICBpbmRpY2VzOiBFbGVtZW50QnVmZmVyLmNyZWF0ZShuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksXG4gICAgLy8gICAgICAgICAgICAgICAgRUJ1ZmZlclR5cGUuVU5TSUdORURfU0hPUlQpXG4gICAgLy8gICAgICAgIH1cbiAgICAvLyAgICB9XG4gICAgLy9cbiAgICAvLyAgICBwcml2YXRlIF9zdWJEaXZpZGUodjE6bnVtYmVyW10sIHYyOm51bWJlcltdLCB2MzpudW1iZXJbXSwgaW5kOm51bWJlcltdLGNvdW50Om51bWJlciwgcmFkaXVzOm51bWJlcik6IHZvaWR7XG4gICAgLy8gICAgICAgIGlmKGNvdW50IDw9IDApe1xuICAgIC8vICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IHRoaXMuX2luZGljZXMuY29uY2F0KGluZCk7XG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgIHJldHVybjtcbiAgICAvLyAgICAgICAgfVxuICAgIC8vICAgICAgICAvL1xuICAgIC8vICAgICAgICB2YXIgaSA9IDA7XG4gICAgLy8gICAgICAgIHZhciB2MTIgPSBbXSxcbiAgICAvLyAgICAgICAgICAgIHYyMyA9IFtdLFxuICAgIC8vICAgICAgICAgICAgdjMxID0gW107XG4gICAgLy9cbiAgICAvLyAgICAgICAgLy/msYLlkJHph4/kuK3lv4PngrlcbiAgICAvLyAgICAgICAgZm9yKGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAvLyAgICAgICAgICAgIHYxMltpXSA9ICh2MVtpXSt2MltpXSkvMjsgIC8v5rGC5Y+W562J5YiG55qE5Lit54K55Z2Q5qCHXG4gICAgLy8gICAgICAgICAgICB2MjNbaV0gPSAodjJbaV0rdjNbaV0pLzI7XG4gICAgLy8gICAgICAgICAgICB2MzFbaV0gPSAodjNbaV0rdjFbaV0pLzI7XG4gICAgLy8gICAgICAgIH1cbiAgICAvL1xuICAgIC8vICAgICAgICAvL+aooemVv+aJqeWxlVxuICAgIC8vICAgICAgICB0aGlzLl9ub3JtYWxpemUodjEyLCByYWRpdXMpO1xuICAgIC8vICAgICAgICB0aGlzLl9ub3JtYWxpemUodjIzLCByYWRpdXMpO1xuICAgIC8vICAgICAgICB0aGlzLl9ub3JtYWxpemUodjMxLCByYWRpdXMpO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdGhpcy5fdmVydGljZXMuY29uY2F0KHYxMiwgdjIzLCB2MzEpO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHZhciBpVjEgPSBpbmRbMF0sXG4gICAgLy8gICAgICAgICAgICBpVjIgPSBpbmRbMV0sXG4gICAgLy8gICAgICAgICAgICBpVjMgPSBpbmRbMl0sXG4gICAgLy8gICAgICAgICAgICBpVjEyID10aGlzLl92TGVuLFxuICAgIC8vICAgICAgICAgICAgaVYyMyA9dGhpcy5fdkxlbiArIDEsXG4gICAgLy8gICAgICAgICAgICBpVjMxID10aGlzLl92TGVuICsgMjtcbiAgICAvL1xuICAgIC8vICAgICAgICB2YXIgaW4xID1bXG4gICAgLy8gICAgICAgICAgICBpVjEsIGlWMTIsIGlWMzFcbiAgICAvLyAgICAgICAgXTtcbiAgICAvLyAgICAgICAgdmFyIGluMiA9W1xuICAgIC8vICAgICAgICAgICAgaVYzMSwgaVYxMiwgaVYyM1xuICAgIC8vICAgICAgICBdO1xuICAgIC8vICAgICAgICB2YXIgaW4zID1bXG4gICAgLy8gICAgICAgICAgICBpVjEyLCBpVjIsIGlWMjNcbiAgICAvLyAgICAgICAgXTtcbiAgICAvLyAgICAgICAgdmFyIGluNCA9W1xuICAgIC8vICAgICAgICAgICAgaVYzMSwgaVYyMywgaVYzXG4gICAgLy8gICAgICAgIF07XG4gICAgLy9cbiAgICAvLyAgICAgICAgdGhpcy5fdkxlbiA9dGhpcy5fdkxlbiArIDM7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy8gICAgICAgIC8v57un57ut5YiH5YiG5LiJ6KeS5b2iXG4gICAgLy8gICAgICAgIHRoaXMuX3N1YkRpdmlkZSh2MSx2MTIsdjMxLGluMSwgY291bnQtMSwgcmFkaXVzKTsgLy/lr7nmiYDkuqfnlJ/nmoQ05Liq5paw55qE5LiJ6KeS6Z2i5YaN6L+b6KGM562J5YiGXG4gICAgLy8gICAgICAgIHRoaXMuX3N1YkRpdmlkZSh2MzEsdjEyLCB2MjMsIGluMiwgY291bnQtMSwgcmFkaXVzKTtcbiAgICAvLyAgICAgICAgdGhpcy5fc3ViRGl2aWRlKHYxMiwgdjIsIHYyMywgaW4zLCBjb3VudC0xLCByYWRpdXMpO1xuICAgIC8vICAgICAgICB0aGlzLl9zdWJEaXZpZGUodjMxLCB2MjMsIHYzLCBpbjQsIGNvdW50LTEsIHJhZGl1cyk7XG4gICAgLy8gICAgfVxuICAgIC8vXG4gICAgLy8gICAgcHJpdmF0ZSBfbm9ybWFsaXplKHY6bnVtYmVyW10sIHJhZGl1czpudW1iZXIpOiBudW1iZXJbXXtcbiAgICAvLyAgICAgICAgdmFyIGQgPSBNYXRoLnNxcnQoXG4gICAgLy8gICAgICAgICAgICB2WzBdICogdlswXSArIHZbMV0gKiB2WzFdICsgdlsyXSAqIHZbMl1cbiAgICAvLyAgICAgICAgKTtcbiAgICAvL1xuICAgIC8vICAgICAgICBpZihkID09PSAwKXtcbiAgICAvLyAgICAgICAgICAgIHJldHVybiBbMCwgMCwgMF07XG4gICAgLy8gICAgICAgIH1cbiAgICAvL1xuICAgIC8vICAgICAgICB2WzBdID0gcmFkaXVzICogdlswXSAvIGQ7XG4gICAgLy8gICAgICAgIHZbMV0gPSByYWRpdXMgKiB2WzFdIC8gZDtcbiAgICAvLyAgICAgICAgdlsyXSA9IHJhZGl1cyAqIHZbMl0gLyBkO1xuICAgIC8vXG4gICAgLy8gICAgICAgIHJldHVybiB2O1xuICAgIC8vICAgIH1cbiAgICAvL31cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVHJpYW5nbGVHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIGdlb20gPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCl7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQgPSAtd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHVwID0gaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICBkb3duID0gLWhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMgPSBbXSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzID0gW10sXG4gICAgICAgICAgICAgICAgbm9ybWFscyA9IFtdO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgICAgICAwLjAsIHVwLCAwLFxuICAgICAgICAgICAgICAgIGxlZnQsIGRvd24sIDAsXG4gICAgICAgICAgICAgICAgcmlnaHQsIGRvd24sIDBcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGluZGljZXMgPSBbXG4gICAgICAgICAgICAgICAgMCwgMSwgMlxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdGV4Q29vcmRzID0gW1xuICAgICAgICAgICAgICAgIDAuNSwgMS4wLFxuICAgICAgICAgICAgICAgIDAuMCwgMC4wLFxuICAgICAgICAgICAgICAgIDEuMCwgMC4wXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBub3JtYWxzID0gW1xuICAgICAgICAgICAgICAgIDAsIDAsIDEsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBmYWNlczogR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyhpbmRpY2VzLCBub3JtYWxzKSxcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHM6IHRleENvb3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBUZXJyYWluR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdWJkaXZpc2lvbnM6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIHJhbmdlOlJhbmdlID0ge1xuICAgICAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMFxuICAgICAgICB9O1xuICAgICAgICBwdWJsaWMgbWluSGVpZ2h0Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBtYXhIZWlnaHQ6bnVtYmVyID0gMTA7XG4gICAgICAgIHB1YmxpYyBoZWlnaHRNYXBBc3NldDpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVEYXRhKCk6IEdlb21ldHJ5RGF0YVR5cGV7XG4gICAgICAgICAgICB2YXIgaW1hZ2U6SFRNTEltYWdlRWxlbWVudCA9IHRoaXMuaGVpZ2h0TWFwQXNzZXQuc291cmNlLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcldpZHRoID0gaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgYnVmZmVySGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcCh0aGlzLl9yZWFkSGVpZ2h0TWFwRGF0YShpbWFnZSwgYnVmZmVyV2lkdGgsIGJ1ZmZlckhlaWdodCksIGJ1ZmZlcldpZHRoLCBidWZmZXJIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVhZEhlaWdodE1hcERhdGEoaW1hZ2U6SFRNTEltYWdlRWxlbWVudCwgYnVmZmVyV2lkdGg6bnVtYmVyLCBidWZmZXJIZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBidWZmZXJXaWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBidWZmZXJIZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcblxuICAgICAgICAgICAgcmV0dXJuIDxVaW50OEFycmF5Pig8YW55PmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGJ1ZmZlcldpZHRoLCBidWZmZXJIZWlnaHQpLmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcChidWZmZXI6IFVpbnQ4QXJyYXksIGJ1ZmZlcldpZHRoOiBudW1iZXIsIGJ1ZmZlckhlaWdodDogbnVtYmVyICl7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBub3JtYWxzID0gW10sXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzID0gW10sXG4gICAgICAgICAgICAgICAgc3ViZGl2aXNpb25zID0gdGhpcy5zdWJkaXZpc2lvbnMsXG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLnJhbmdlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucmFuZ2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPD0gc3ViZGl2aXNpb25zOyByb3crKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8PSBzdWJkaXZpc2lvbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB4ID0gKGNvbCAqIHdpZHRoKSAvIHN1YmRpdmlzaW9ucyAtICh3aWR0aCAvIDIuMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB6ID0gKChzdWJkaXZpc2lvbnMgLSByb3cpICogaGVpZ2h0KSAvIHN1YmRpdmlzaW9ucyAtIChoZWlnaHQgLyAyLjApO1xuXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goeCwgdGhpcy5fZ2V0SGVpZ2h0KHgsIHosIGJ1ZmZlciwgYnVmZmVyV2lkdGgsIGJ1ZmZlckhlaWdodCksIHopO1xuICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMucHVzaChjb2wgLyBzdWJkaXZpc2lvbnMsIDEuMCAtIHJvdyAvIHN1YmRpdmlzaW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBmYWNlczogR2VvbWV0cnlVdGlscy5jb252ZXJ0VG9GYWNlcyh0aGlzLl9nZXRJbmRpY2VzKCksIG5vcm1hbHMpLFxuICAgICAgICAgICAgICAgIHRleENvb3JkczogdGV4Q29vcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0SGVpZ2h0KHg6bnVtYmVyLCB6Om51bWJlciwgYnVmZmVyOiBVaW50OEFycmF5LCBidWZmZXJXaWR0aDogbnVtYmVyLCBidWZmZXJIZWlnaHQ6IG51bWJlcil7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnJhbmdlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucmFuZ2UuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGhlaWdodE1hcFggPSAoKCh4ICsgd2lkdGggLyAyKSAvIHdpZHRoKSAqIChidWZmZXJXaWR0aCAtIDEpKSB8IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0TWFwWSA9ICgoMS4wIC0gKHogKyBoZWlnaHQgLyAyKSAvIGhlaWdodCkgKiAoYnVmZmVySGVpZ2h0IC0gMSkpIHwgMCxcbiAgICAgICAgICAgICAgICBwb3MgPSAoaGVpZ2h0TWFwWCArIGhlaWdodE1hcFkgKiBidWZmZXJXaWR0aCkgKiA0LFxuICAgICAgICAgICAgICAgIHIgPSBidWZmZXJbcG9zXSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGcgPSBidWZmZXJbcG9zICsgMV0gLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBiID0gYnVmZmVyW3BvcyArIDJdIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQgPSByICogMC4zICsgZyAqIDAuNTkgKyBiICogMC4xMSxcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQgPSB0aGlzLm1pbkhlaWdodCxcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcblxuICAgICAgICAgICAgcmV0dXJuIG1pbkhlaWdodCArIChtYXhIZWlnaHQgLSBtaW5IZWlnaHQpICogZ3JhZGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRJbmRpY2VzKCl7XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHN1YmRpdmlzaW9ucyA9IHRoaXMuc3ViZGl2aXNpb25zO1xuXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBzdWJkaXZpc2lvbnM7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgc3ViZGl2aXNpb25zOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY29sICsgcm93ICogKHN1YmRpdmlzaW9ucyArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGNvbCArIDEgKyByb3cgKiAoc3ViZGl2aXNpb25zICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY29sICsgMSArIChyb3cgKyAxKSAqIChzdWJkaXZpc2lvbnMgKyAxKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGNvbCArIHJvdyAqIChzdWJkaXZpc2lvbnMgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChjb2wgKyAxICsgKHJvdyArIDEpICogKHN1YmRpdmlzaW9ucyArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGNvbCArIChyb3cgKyAxKSAqIChzdWJkaXZpc2lvbnMgKyAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5kaWNlcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFJhbmdlID0ge1xuICAgICAgICB3aWR0aDpudW1iZXI7XG4gICAgICAgIGhlaWdodDpudW1iZXI7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgR2VvbWV0cnlEYXRhIHtcbiAgICAgICAgY29uc3RydWN0b3IoZ2VvbWV0cnk6R2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3ZlcnRpY2VzOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBnZXQgdmVydGljZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVydGljZXM7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgdmVydGljZXModmVydGljZXM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgICAgIHRoaXMudGFuZ2VudERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlR2V0dGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9mYWNlcy5sZW5ndGggPiAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImZhY2VzLmNvdW50XCIsIFwiPiAwXCIpKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LmlzU21vb3RoU2hhZGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChmYWNlLnZlcnRleE5vcm1hbHMgJiYgZmFjZS52ZXJ0ZXhOb3JtYWxzLmdldENvdW50KCkgPT09IDMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZmFjZXMtPnZlcnRleE5vcm1hbHMuY291bnRcIiwgXCI9PT0gM1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgYXNzZXJ0KGZhY2UuaGFzRmFjZU5vcm1hbCgpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImZhY2VzLT5mYWNlTm9ybWFsXCIsIFwiaGFzIGRhdGFcIikpO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fbm9ybWFsRGlydHkgJiYgdGhpcy5fbm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxDYWNoZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBub3JtYWxzKCkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmlzU21vb3RoU2hhZGluZygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1ZlcnRleE5vcm1hbHMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsc0Zyb21WZXJ0ZXhOb3JtYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0ZhY2VOb3JtYWxzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxzRnJvbUZhY2VOb3JtYWw7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2ZhY2VzLmxlbmd0aCA+IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZ2VvbWV0cnlcIiwgXCJoYXMgZmFjZXNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlR2V0dGVyKGZ1bmN0aW9uIChub3JtYWxzOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBub3JtYWxzKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc051bWJlcihkYXRhKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJub3JtYWxzIGRhdGFcIiwgXCJiZSBudW1iZXJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fbm9ybWFsRGlydHkgJiYgdGhpcy5fbm9ybWFsRnJvbUZhY2VDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxGcm9tRmFjZUNhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgdGhpcy5fbm9ybWFsRnJvbUZhY2VDYWNoZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBub3JtYWxzRnJvbUZhY2VOb3JtYWwoKXtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRmFjZU5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2ZhY2VzLmZvckVhY2goKGZhY2U6RmFjZTMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbm9ybWFsID0gZmFjZS5mYWNlTm9ybWFsO1xuXG4gICAgICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5zZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBub3JtYWwsIGZhY2UuYUluZGV4KTtcbiAgICAgICAgICAgICAgICBHZW9tZXRyeVV0aWxzLnNldFRocmVlQ29tcG9uZW50KG5vcm1hbHMsIG5vcm1hbCwgZmFjZS5iSW5kZXgpO1xuICAgICAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuc2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgbm9ybWFsLCBmYWNlLmNJbmRleCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOm5vdCBmaWxsLCBrZWVwIE5hTj9cbiAgICAgICAgICAgIHRoaXMuX2ZpbGxFbXB0eURhdGEobm9ybWFscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBub3JtYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9mYWNlcy5sZW5ndGggPiAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImdlb21ldHJ5XCIsIFwiaGFzIGZhY2VzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgQGVuc3VyZUdldHRlcihmdW5jdGlvbiAobm9ybWFsczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICBmb3IobGV0IGRhdGEgb2Ygbm9ybWFscyl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNOdW1iZXIoZGF0YSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibm9ybWFscyBkYXRhXCIsIFwiYmUgbnVtYmVyXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGNhY2hlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX25vcm1hbERpcnR5ICYmIHRoaXMuX25vcm1hbEZyb21WZXJ0ZXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxGcm9tVmVydGV4Q2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxGcm9tVmVydGV4Q2FjaGUgPSByZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbm9ybWFsc0Zyb21WZXJ0ZXhOb3JtYWxzKCl7XG4gICAgICAgICAgICB2YXIgbm9ybWFscyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLmhhc1ZlcnRleE5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2ZhY2VzLmZvckVhY2goKGZhY2U6RmFjZTMpID0+IHtcbiAgICAgICAgICAgICAgICBHZW9tZXRyeVV0aWxzLnNldFRocmVlQ29tcG9uZW50KG5vcm1hbHMsIGZhY2UudmVydGV4Tm9ybWFscy5nZXRDaGlsZCgwKSwgZmFjZS5hSW5kZXgpO1xuICAgICAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuc2V0VGhyZWVDb21wb25lbnQobm9ybWFscywgZmFjZS52ZXJ0ZXhOb3JtYWxzLmdldENoaWxkKDEpLCBmYWNlLmJJbmRleCk7XG4gICAgICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5zZXRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBmYWNlLnZlcnRleE5vcm1hbHMuZ2V0Q2hpbGQoMiksIGZhY2UuY0luZGV4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6bm90IGZpbGwsIHJlbWFpbiBOYU4/XG4gICAgICAgICAgICB0aGlzLl9maWxsRW1wdHlEYXRhKG5vcm1hbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFscztcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9pbmRpY2VEaXJ0eSAmJiB0aGlzLl9pbmRpY2VDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmRpY2VDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX2luZGljZUNhY2hlID0gcmVzdWx0O1xuICAgICAgICAgICAgdGhpcy5faW5kaWNlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgZ2V0IGluZGljZXMoKTpBcnJheTxudW1iZXI+IHtcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGZhY2Ugb2YgdGhpcy5fZmFjZXMpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goZmFjZS5hSW5kZXgsIGZhY2UuYkluZGV4LCBmYWNlLmNJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRpY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFjZXM6QXJyYXk8RmFjZTM+ID0gbnVsbDtcbiAgICAgICAgZ2V0IGZhY2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IGZhY2VzKGZhY2VzOkFycmF5PEZhY2UzPikge1xuICAgICAgICAgICAgdGhpcy5fZmFjZXMgPSBmYWNlcztcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VGYWNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90ZXhDb29yZHM6QXJyYXk8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIGdldCB0ZXhDb29yZHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4Q29vcmRzO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHRleENvb3Jkcyh0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdGhpcy5fdGV4Q29vcmRzID0gdGV4Q29vcmRzO1xuICAgICAgICAgICAgdGhpcy50YW5nZW50RGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sb3JzOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBAZW5zdXJlR2V0dGVyKGZ1bmN0aW9uIChjb2xvcnM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgYXNzZXJ0KGNvbG9ycy5sZW5ndGggPT09IHRoaXMuX3ZlcnRpY2VzLmxlbmd0aCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYGNvbG9ycy5sZW5ndGg6JHtjb2xvcnMubGVuZ3RofWAsIGA9PT0gdmVydGljZXMubGVuZ3RoOiR7dGhpcy5fdmVydGljZXMubGVuZ3RofWApKTtcbiAgICAgICAgfSlcbiAgICAgICAgQGNhY2hlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuY29sb3JEaXJ0eSAmJiB0aGlzLl9jb2xvckNhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckNhY2hlID0gcmVzdWx0O1xuICAgICAgICAgICAgdGhpcy5jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBjb2xvcnMoKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9uZWVkR2V0Q29sb3JzRnJvbU1hdGVyaWFsKCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDb2xvcnNGcm9tTWF0ZXJpYWwodGhpcy5fdmVydGljZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sb3JzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb2xvcnMoY29sb3JzOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9ycyA9IGNvbG9ycztcbiAgICAgICAgICAgIHRoaXMuY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90YW5nZW50czpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHRhbmdlbnRzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFuZ2VudERpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YW5nZW50RGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmKEdlb21ldHJ5VXRpbHMuaGFzRGF0YSh0aGlzLm5vcm1hbHMpICYmIEdlb21ldHJ5VXRpbHMuaGFzRGF0YSh0aGlzLnRleENvb3JkcykgJiYgR2VvbWV0cnlVdGlscy5oYXNEYXRhKHRoaXMuaW5kaWNlcykpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YW5nZW50cyA9IHRoaXMuX2NhbGN1bGF0ZVRhbmdlbnRzKHRoaXMuX3ZlcnRpY2VzLCB0aGlzLm5vcm1hbHMsIHRoaXMudGV4Q29vcmRzLCB0aGlzLmluZGljZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhbmdlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRhbmdlbnREaXJ0eTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGNvbG9yRGlydHk6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGdlb21ldHJ5Okdlb21ldHJ5ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9ub3JtYWxDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRnJvbUZhY2VDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRnJvbVZlcnRleENhY2hlOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbmRpY2VDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY29sb3JDYWNoZTpBcnJheTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsRGlydHk6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgX2luZGljZURpcnR5OmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIF9tYXRlcmlhbENvbG9yQ2hhbmdlU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbENvbG9yQ2hhbmdlU3Vic2NyaXB0aW9uID1cbiAgICAgICAgICAgICAgICB3ZEZycC5mcm9tQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmdlb21ldHJ5LmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuTUFURVJJQUxfQ09MT1JfQ0hBTkdFKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5nZW9tZXRyeS5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50Lk1BVEVSSUFMX0NIQU5HRSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxmLl9uZWVkR2V0Q29sb3JzRnJvbU1hdGVyaWFsKCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsQ29sb3JDaGFuZ2VTdWJzY3JpcHRpb24gJiYgdGhpcy5fbWF0ZXJpYWxDb2xvckNoYW5nZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KEdlb21ldHJ5VXRpbHMuaGFzRGF0YSh0aGlzLnZlcnRpY2VzKSwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY29udGFpbiB2ZXJ0aWNlc1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZvcihsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGFzc2VydChmYWNlLmZhY2VOb3JtYWwgaW5zdGFuY2VvZiBWZWN0b3IzLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJmYWNlTm9ybWFsXCIsIFwiYmUgbnVsbFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBjb21wdXRlRmFjZU5vcm1hbHMoKSB7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSBvZiB0aGlzLl9mYWNlcykge1xuICAgICAgICAgICAgICAgIGZhY2UuZmFjZU5vcm1hbCA9IHRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzSGVscGVyKHZlcnRpY2VzLCBmYWNlLmFJbmRleCwgZmFjZS5iSW5kZXgsIGZhY2UuY0luZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb21wdXRlVmVydGV4Tm9ybWFscygpIHtcbiAgICAgICAgICAgIHZhciBub3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRmFjZU5vcm1hbHMoKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9ybWFscyA9IHRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHNIZWxwZXIodGhpcy5fdmVydGljZXMpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBmYWNlIG9mIHRoaXMuX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgZmFjZS52ZXJ0ZXhOb3JtYWxzID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxWZWN0b3IzPihbXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbHNbZmFjZS5hSW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxzW2ZhY2UuYkluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsc1tmYWNlLmNJbmRleF1cbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNGYWNlTm9ybWFscygpe1xuICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOm9ubHkganVkZ2UgdGhlIGZpcnN0IGZhY2U/XG4gICAgICAgICAgICBmb3IobGV0IGZhY2Ugb2YgdGhpcy5fZmFjZXMpe1xuICAgICAgICAgICAgICAgIGlmKCFmYWNlLmhhc0ZhY2VOb3JtYWwoKSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1ZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTpvbmx5IGp1ZGdlIHRoZSBmaXJzdCBmYWNlP1xuICAgICAgICAgICAgZm9yKGxldCBmYWNlIG9mIHRoaXMuX2ZhY2VzKXtcbiAgICAgICAgICAgICAgICBpZighZmFjZS5oYXNWZXJ0ZXhOb3JtYWwoKSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIG9uQ2hhbmdlRmFjZSgpe1xuICAgICAgICAgICAgdGhpcy50YW5nZW50RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbm9ybWFsRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faW5kaWNlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVGYWNlTm9ybWFsc0hlbHBlcih2ZXJ0aWNlczpBcnJheTxudW1iZXI+LCBhSW5kZXg6bnVtYmVyLCBiSW5kZXg6bnVtYmVyLCBjSW5kZXg6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgcDAgPSBHZW9tZXRyeVV0aWxzLmdldFRocmVlQ29tcG9uZW50KHZlcnRpY2VzLCBhSW5kZXgpLFxuICAgICAgICAgICAgICAgIHAxID0gR2VvbWV0cnlVdGlscy5nZXRUaHJlZUNvbXBvbmVudCh2ZXJ0aWNlcywgYkluZGV4KSxcbiAgICAgICAgICAgICAgICBwMiA9IEdlb21ldHJ5VXRpbHMuZ2V0VGhyZWVDb21wb25lbnQodmVydGljZXMsIGNJbmRleCksXG4gICAgICAgICAgICAgICAgdjAgPSBWZWN0b3IzLmNyZWF0ZSgpLnN1YjIocDIsIHAxKSxcbiAgICAgICAgICAgICAgICB2MSA9IFZlY3RvcjMuY3JlYXRlKCkuc3ViMihwMCwgcDEpO1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoKS5jcm9zcyh2MCwgdjEpLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbXB1dGVWZXJ0ZXhOb3JtYWxzSGVscGVyKHZlcnRpY2VzOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdmFyIHZsID0gdmVydGljZXMubGVuZ3RoIC8gMyxcbiAgICAgICAgICAgICAgICBub3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgbm9ybWFscyA9IG5ldyBBcnJheSh2bCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgdmw7IHYrKykge1xuICAgICAgICAgICAgICAgIG5vcm1hbHNbdl0gPSBWZWN0b3IzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBmYWNlIG9mIHRoaXMuX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VOb3JtYWwgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgZmFjZU5vcm1hbCA9IGZhY2UuZmFjZU5vcm1hbDtcblxuICAgICAgICAgICAgICAgIG5vcm1hbHNbZmFjZS5hSW5kZXhdLmFkZChmYWNlTm9ybWFsKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzW2ZhY2UuYkluZGV4XS5hZGQoZmFjZU5vcm1hbCk7XG4gICAgICAgICAgICAgICAgbm9ybWFsc1tmYWNlLmNJbmRleF0uYWRkKGZhY2VOb3JtYWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHZsOyB2KyspIHtcbiAgICAgICAgICAgICAgICBub3JtYWxzW3ZdLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbm9ybWFscztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldENvbG9yc0Zyb21NYXRlcmlhbCh2ZXJ0aWNlczpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW10sXG4gICAgICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLmdlb21ldHJ5Lm1hdGVyaWFsLmNvbG9yLFxuICAgICAgICAgICAgICAgIHIgPSBjb2xvci5yLFxuICAgICAgICAgICAgICAgIGcgPSBjb2xvci5nLFxuICAgICAgICAgICAgICAgIGIgPSBjb2xvci5iLFxuICAgICAgICAgICAgICAgIGxlbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGxlbiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKHIsIGcsIGIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmlsbEVtcHR5RGF0YShkYXRhOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMCxsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZihpc05hTihkYXRhW2ldKSl7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NhbGN1bGF0ZVRhbmdlbnRzKHZlcnRpY2VzOkFycmF5PG51bWJlcj4sIG5vcm1hbHM6QXJyYXk8bnVtYmVyPiwgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4sIGluZGljZXM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdmFyIHRyaWFuZ2xlQ291bnQgPSBpbmRpY2VzLmxlbmd0aCAvIDMsXG4gICAgICAgICAgICAgICAgdmVydGV4Q291bnQgPSB2ZXJ0aWNlcy5sZW5ndGggLyAzLFxuICAgICAgICAgICAgICAgIGkxLCBpMiwgaTMsXG4gICAgICAgICAgICAgICAgeDEsIHgyLCB5MSwgeTIsIHoxLCB6MiwgczEsIHMyLCB0MSwgdDIsIHIsXG4gICAgICAgICAgICAgICAgc2RpciA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdGRpciA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdjEgPSBWZWN0b3IzLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHYyID0gVmVjdG9yMy5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB2MyA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdzEgPSBWZWN0b3IyLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHcyID0gVmVjdG9yMi5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICB3MyA9IFZlY3RvcjIuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgaSwgLy8gTG9vcCBjb3VudGVcbiAgICAgICAgICAgICAgICB0YW4xID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIDMpLFxuICAgICAgICAgICAgICAgIHRhbjIgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRleENvdW50ICogMyksXG4gICAgICAgICAgICAgICAgbiA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdGVtcCA9IFZlY3RvcjMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdGFuZ2VudHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGkxID0gaW5kaWNlc1tpICogM107XG4gICAgICAgICAgICAgICAgaTIgPSBpbmRpY2VzW2kgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgaTMgPSBpbmRpY2VzW2kgKiAzICsgMl07XG5cbiAgICAgICAgICAgICAgICB2MS5zZXQodmVydGljZXNbaTEgKiAzXSwgdmVydGljZXNbaTEgKiAzICsgMV0sIHZlcnRpY2VzW2kxICogMyArIDJdKTtcbiAgICAgICAgICAgICAgICB2Mi5zZXQodmVydGljZXNbaTIgKiAzXSwgdmVydGljZXNbaTIgKiAzICsgMV0sIHZlcnRpY2VzW2kyICogMyArIDJdKTtcbiAgICAgICAgICAgICAgICB2My5zZXQodmVydGljZXNbaTMgKiAzXSwgdmVydGljZXNbaTMgKiAzICsgMV0sIHZlcnRpY2VzW2kzICogMyArIDJdKTtcblxuICAgICAgICAgICAgICAgIHcxLnNldCh0ZXhDb29yZHNbaTEgKiAyXSwgdGV4Q29vcmRzW2kxICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB3Mi5zZXQodGV4Q29vcmRzW2kyICogMl0sIHRleENvb3Jkc1tpMiAqIDIgKyAxXSk7XG4gICAgICAgICAgICAgICAgdzMuc2V0KHRleENvb3Jkc1tpMyAqIDJdLCB0ZXhDb29yZHNbaTMgKiAyICsgMV0pO1xuXG4gICAgICAgICAgICAgICAgeDEgPSB2Mi54IC0gdjEueDtcbiAgICAgICAgICAgICAgICB4MiA9IHYzLnggLSB2MS54O1xuICAgICAgICAgICAgICAgIHkxID0gdjIueSAtIHYxLnk7XG4gICAgICAgICAgICAgICAgeTIgPSB2My55IC0gdjEueTtcbiAgICAgICAgICAgICAgICB6MSA9IHYyLnogLSB2MS56O1xuICAgICAgICAgICAgICAgIHoyID0gdjMueiAtIHYxLno7XG5cbiAgICAgICAgICAgICAgICBzMSA9IHcyLnggLSB3MS54O1xuICAgICAgICAgICAgICAgIHMyID0gdzMueCAtIHcxLng7XG4gICAgICAgICAgICAgICAgdDEgPSB3Mi55IC0gdzEueTtcbiAgICAgICAgICAgICAgICB0MiA9IHczLnkgLSB3MS55O1xuXG4gICAgICAgICAgICAgICAgciA9IDEuMCAvIChzMSAqIHQyIC0gczIgKiB0MSk7XG4gICAgICAgICAgICAgICAgc2Rpci5zZXQoKHQyICogeDEgLSB0MSAqIHgyKSAqIHIsXG4gICAgICAgICAgICAgICAgICAgICh0MiAqIHkxIC0gdDEgKiB5MikgKiByLFxuICAgICAgICAgICAgICAgICAgICAodDIgKiB6MSAtIHQxICogejIpICogcik7XG4gICAgICAgICAgICAgICAgdGRpci5zZXQoKHMxICogeDIgLSBzMiAqIHgxKSAqIHIsXG4gICAgICAgICAgICAgICAgICAgIChzMSAqIHkyIC0gczIgKiB5MSkgKiByLFxuICAgICAgICAgICAgICAgICAgICAoczEgKiB6MiAtIHMyICogejEpICogcik7XG5cbiAgICAgICAgICAgICAgICB0YW4xW2kxICogMyArIDBdICs9IHNkaXIueDtcbiAgICAgICAgICAgICAgICB0YW4xW2kxICogMyArIDFdICs9IHNkaXIueTtcbiAgICAgICAgICAgICAgICB0YW4xW2kxICogMyArIDJdICs9IHNkaXIuejtcbiAgICAgICAgICAgICAgICB0YW4xW2kyICogMyArIDBdICs9IHNkaXIueDtcbiAgICAgICAgICAgICAgICB0YW4xW2kyICogMyArIDFdICs9IHNkaXIueTtcbiAgICAgICAgICAgICAgICB0YW4xW2kyICogMyArIDJdICs9IHNkaXIuejtcbiAgICAgICAgICAgICAgICB0YW4xW2kzICogMyArIDBdICs9IHNkaXIueDtcbiAgICAgICAgICAgICAgICB0YW4xW2kzICogMyArIDFdICs9IHNkaXIueTtcbiAgICAgICAgICAgICAgICB0YW4xW2kzICogMyArIDJdICs9IHNkaXIuejtcblxuICAgICAgICAgICAgICAgIHRhbjJbaTEgKiAzICsgMF0gKz0gdGRpci54O1xuICAgICAgICAgICAgICAgIHRhbjJbaTEgKiAzICsgMV0gKz0gdGRpci55O1xuICAgICAgICAgICAgICAgIHRhbjJbaTEgKiAzICsgMl0gKz0gdGRpci56O1xuICAgICAgICAgICAgICAgIHRhbjJbaTIgKiAzICsgMF0gKz0gdGRpci54O1xuICAgICAgICAgICAgICAgIHRhbjJbaTIgKiAzICsgMV0gKz0gdGRpci55O1xuICAgICAgICAgICAgICAgIHRhbjJbaTIgKiAzICsgMl0gKz0gdGRpci56O1xuICAgICAgICAgICAgICAgIHRhbjJbaTMgKiAzICsgMF0gKz0gdGRpci54O1xuICAgICAgICAgICAgICAgIHRhbjJbaTMgKiAzICsgMV0gKz0gdGRpci55O1xuICAgICAgICAgICAgICAgIHRhbjJbaTMgKiAzICsgMl0gKz0gdGRpci56O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0MSA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgICAgICB0MiA9IFZlY3RvcjMuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5kb3R0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIG4uc2V0KG5vcm1hbHNbaSAqIDNdLCBub3JtYWxzW2kgKiAzICsgMV0sIG5vcm1hbHNbaSAqIDMgKyAyXSk7XG4gICAgICAgICAgICAgICAgdDEuc2V0KHRhbjFbaSAqIDNdLCB0YW4xW2kgKiAzICsgMV0sIHRhbjFbaSAqIDMgKyAyXSk7XG4gICAgICAgICAgICAgICAgdDIuc2V0KHRhbjJbaSAqIDNdLCB0YW4yW2kgKiAzICsgMV0sIHRhbjJbaSAqIDMgKyAyXSk7XG5cbiAgICAgICAgICAgICAgICAvLyBHcmFtLVNjaG1pZHQgb3J0aG9nb25hbGl6ZVxuICAgICAgICAgICAgICAgIG5kb3R0ID0gbi5kb3QodDEpO1xuICAgICAgICAgICAgICAgIHRlbXAgPSBuLmNvcHkoKS5zY2FsZShuZG90dCk7XG4gICAgICAgICAgICAgICAgdGVtcC5zdWIyKHQxLCB0ZW1wKS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgICAgIHRhbmdlbnRzW2kgKiA0XSA9IHRlbXAueDtcbiAgICAgICAgICAgICAgICB0YW5nZW50c1tpICogNCArIDFdID0gdGVtcC55O1xuICAgICAgICAgICAgICAgIHRhbmdlbnRzW2kgKiA0ICsgMl0gPSB0ZW1wLno7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaGFuZGVkbmVzc1xuICAgICAgICAgICAgICAgIHRlbXAuY3Jvc3MobiwgdDEpO1xuICAgICAgICAgICAgICAgIHRhbmdlbnRzW2kgKiA0ICsgM10gPSAodGVtcC5kb3QodDIpIDwgMC4wKSA/IC0xLjAgOiAxLjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0YW5nZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX25lZWRHZXRDb2xvcnNGcm9tTWF0ZXJpYWwoKXtcbiAgICAgICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLl9jb2xvcnM7XG5cbiAgICAgICAgICAgIHJldHVybiAhY29sb3JzIHx8IGNvbG9ycy5sZW5ndGggPT09IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vbkdlb21ldHJ5RGF0YSBleHRlbmRzIEdlb21ldHJ5RGF0YXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZ2VvbWV0cnk6R2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhnZW9tZXRyeSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoR2VvbWV0cnlEYXRhIGV4dGVuZHMgR2VvbWV0cnlEYXRhe1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShnZW9tZXRyeTpHZW9tZXRyeSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGdlb21ldHJ5KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9tb3JwaE5vcm1hbERpcnR5ICYmIHRoaXMuX21vcnBoTm9ybWFsQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9ycGhOb3JtYWxDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX21vcnBoTm9ybWFsQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBtb3JwaE5vcm1hbHMoKTphbnkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5Ok1vZGVsR2VvbWV0cnkgPSA8YW55PnRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vcnBoTm9ybWFsRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmlzU21vb3RoU2hhZGluZygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc01vcnBoVmVydGV4Tm9ybWFscygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1vcnBoTm9ybWFscygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeS5tb3JwaFZlcnRleE5vcm1hbHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNNb3JwaEZhY2VOb3JtYWxzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVNb3JwaE5vcm1hbHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5Lm1vcnBoRmFjZU5vcm1hbHM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tb3JwaFRhcmdldHM6d2RDYi5IYXNoPE1vcnBoVGFyZ2V0c0RhdGE+ID0gbnVsbDtcbiAgICAgICAgZ2V0IG1vcnBoVGFyZ2V0cygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vcnBoVGFyZ2V0cztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbW9ycGhUYXJnZXRzKG1vcnBoVGFyZ2V0czp3ZENiLkhhc2g8TW9ycGhUYXJnZXRzRGF0YT4pe1xuICAgICAgICAgICAgdGhpcy5fbW9ycGhUYXJnZXRzID0gbW9ycGhUYXJnZXRzO1xuICAgICAgICAgICAgdGhpcy5fbW9ycGhOb3JtYWxEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2VvbWV0cnk6TW9kZWxHZW9tZXRyeTtcblxuICAgICAgICBwcml2YXRlIF9tb3JwaE5vcm1hbENhY2hlOkFycmF5PG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tb3JwaE5vcm1hbERpcnR5OmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgICAgIHB1YmxpYyBjb21wdXRlTW9ycGhOb3JtYWxzKCkge1xuICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX21vcnBoVGFyZ2V0cy5mb3JFYWNoKChmcmFtZXM6TW9ycGhUYXJnZXRzRGF0YSwgYW5pbU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgZmFjZU5vcm1hbExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEFycmF5PG51bWJlcj4+KCksXG4gICAgICAgICAgICAgICAgICAgIHZlcnRleE5vcm1hbExpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEFycmF5PG51bWJlcj4+KCk7XG5cbiAgICAgICAgICAgICAgICBmcmFtZXMuZm9yRWFjaCgodmVydGljZXM6QXJyYXk8bnVtYmVyPikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEdlb21ldHJ5RGF0YSA9IE1vcnBoR2VvbWV0cnlEYXRhLmNyZWF0ZShnZW9tZXRyeSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNlTm9ybWFsc09mRWFjaEZyYW1lID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleE5vcm1hbHNPZkVhY2hGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcEdlb21ldHJ5RGF0YS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wR2VvbWV0cnlEYXRhLmZhY2VzID0gc2VsZi5fY29weUZhY2VzKGdlb21ldHJ5LmZhY2VzKTtcblxuICAgICAgICAgICAgICAgICAgICB0ZW1wR2VvbWV0cnlEYXRhLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wR2VvbWV0cnlEYXRhLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgW2ZhY2VOb3JtYWxzT2ZFYWNoRnJhbWUsIHZlcnRleE5vcm1hbHNPZkVhY2hGcmFtZV0gPSBzZWxmLl9nZXRNb3JwaE5vcm1hbHModGVtcEdlb21ldHJ5RGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmFjZU5vcm1hbExpc3QuYWRkQ2hpbGQoZmFjZU5vcm1hbHNPZkVhY2hGcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleE5vcm1hbExpc3QuYWRkQ2hpbGQodmVydGV4Tm9ybWFsc09mRWFjaEZyYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdlb21ldHJ5Lm1vcnBoRmFjZU5vcm1hbHMuYWRkQ2hpbGQoYW5pbU5hbWUsIGZhY2VOb3JtYWxMaXN0KTtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5tb3JwaFZlcnRleE5vcm1hbHMuYWRkQ2hpbGQoYW5pbU5hbWUsIHZlcnRleE5vcm1hbExpc3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGFzTW9ycGhGYWNlTm9ybWFscygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkubW9ycGhGYWNlTm9ybWFscy5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXNNb3JwaFZlcnRleE5vcm1hbHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5Lm1vcnBoVmVydGV4Tm9ybWFscy5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBvbkNoYW5nZUZhY2UoKXtcbiAgICAgICAgICAgIHRoaXMuX21vcnBoTm9ybWFsRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29weUZhY2VzKGZhY2VzOkFycmF5PEZhY2UzPil7XG4gICAgICAgICAgICB2YXIgY29weUZhY2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGZhY2Ugb2YgZmFjZXMpe1xuICAgICAgICAgICAgICAgIGNvcHlGYWNlcy5wdXNoKGZhY2UuY29weSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvcHlGYWNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE1vcnBoTm9ybWFscyhnZW9tZXRyeURhdGE6TW9ycGhHZW9tZXRyeURhdGEpe1xuICAgICAgICAgICAgcmV0dXJuIFtnZW9tZXRyeURhdGEubm9ybWFsc0Zyb21GYWNlTm9ybWFsLCBnZW9tZXRyeURhdGEubm9ybWFsc0Zyb21WZXJ0ZXhOb3JtYWxzXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQnVmZmVyQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0ID0gZW50aXR5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdlb21ldHJ5RGF0YTpHZW9tZXRyeURhdGEgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBjb250YWluZXI6d2RDYi5IYXNoPEJ1ZmZlcj4gPSB3ZENiLkhhc2guY3JlYXRlPEJ1ZmZlcj4oKTtcblxuICAgICAgICBwcml2YXRlIF9jb2xvckJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3RleENvb3JkQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdGFuZ2VudEJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2luZGljZUJ1ZmZlcjpFbGVtZW50QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWxDaGFuZ2VTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsQ2hhbmdlU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuTUFURVJJQUxfQ0hBTkdFKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVDYWNoZShFQnVmZmVyRGF0YVR5cGUuQ09MT1IpO1xuICAgICAgICAgICAgICAgIHNlbGYuZ2VvbWV0cnlEYXRhLmNvbG9yRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlEYXRhLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDYWNoZSh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZCh0eXBlOkVCdWZmZXJEYXRhVHlwZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDphbnkgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldFZlcnRpY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZXROb3JtYWwodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2dldFRhbmdlbnQodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLkNPTE9SOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRDb2xvcih0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyRGF0YVR5cGUuSU5ESUNFOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRJbmRpY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlckRhdGFUeXBlLlRFWENPT1JEOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9nZXRUZXhDb29yZCh0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IodHJ1ZSwgd2RDYi5Mb2cuaW5mby5GVU5DX1VOS05PVyhgRUJ1ZmZlckRhdGFUeXBlOiAke3R5cGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGJ1ZmZlcjpCdWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICBidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlEYXRhLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxDaGFuZ2VTdWJzY3JpcHRpb24gJiYgdGhpcy5fbWF0ZXJpYWxDaGFuZ2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUJ1ZmZlcnNGcm9tR2VvbWV0cnlEYXRhKCl7XG4gICAgICAgICAgICB0aGlzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5WRVJUSUNFKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCk7XG4gICAgICAgICAgICB0aGlzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5UQU5HRU5UKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLkNPTE9SKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLklORElDRSk7XG4gICAgICAgICAgICB0aGlzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0VmVydGljZSh0eXBlKTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldE5vcm1hbCh0eXBlKTtcblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQnVmZmVyT25seU9uY2UoYnVmZmVyQXR0cmlOYW1lOnN0cmluZywgYnVmZmVyQ2xhc3M6YW55KXtcbiAgICAgICAgICAgIGlmKHRoaXNbYnVmZmVyQXR0cmlOYW1lXSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzW2J1ZmZlckF0dHJpTmFtZV0gPSBidWZmZXJDbGFzcy5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBoYXNEYXRhKGRhdGE6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpICYmICF0aGlzLl9uZWVkUmVDYWxjdXRlVGFuZ2VudCh0eXBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRUYW5nZW50KHR5cGUpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRGF0YShnZW9tZXRyeURhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl90YW5nZW50QnVmZmVyXCIsIEFycmF5QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5fdGFuZ2VudEJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeURhdGEpLCAzLCBFQnVmZmVyVHlwZS5GTE9BVCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YW5nZW50QnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCg8YW55PnR5cGUpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldENvbG9yKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICBnZW9tZXRyeURhdGEgPSB0aGlzLmdlb21ldHJ5RGF0YVtCdWZmZXJEYXRhVGFibGUuZ2V0R2VvbWV0cnlEYXRhTmFtZSh0eXBlKV07XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLmhhc0RhdGEoZ2VvbWV0cnlEYXRhKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfY29sb3JCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb2xvckJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeURhdGEpLCAzLCBFQnVmZmVyVHlwZS5GTE9BVCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvckJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaGFzQ2hpbGQoPGFueT50eXBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKVxuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQsIHR5cGUpe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoPGFueT50eXBlLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRJbmRpY2UodHlwZSl7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlEYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgZ2VvbWV0cnlEYXRhID0gdGhpcy5nZW9tZXRyeURhdGFbQnVmZmVyRGF0YVRhYmxlLmdldEdlb21ldHJ5RGF0YU5hbWUodHlwZSldO1xuXG4gICAgICAgICAgICBpZighdGhpcy5oYXNEYXRhKGdlb21ldHJ5RGF0YSkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlck9ubHlPbmNlKFwiX2luZGljZUJ1ZmZlclwiLCBFbGVtZW50QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5faW5kaWNlQnVmZmVyLnJlc2V0RGF0YShuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnlEYXRhKSwgRUJ1ZmZlclR5cGUuVU5TSUdORURfU0hPUlQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5kaWNlQnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCg8YW55PnR5cGUpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldFRleENvb3JkKHR5cGUpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5RGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5RGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRGF0YShnZW9tZXRyeURhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl90ZXhDb29yZEJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleENvb3JkQnVmZmVyLnJlc2V0RGF0YShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5RGF0YSksIDIsIEVCdWZmZXJUeXBlLkZMT0FUKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleENvb3JkQnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbmVlZFJlQ2FsY3V0ZVRhbmdlbnQodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlEYXRhLnRhbmdlbnREaXJ0eSAmJiB0eXBlID09PSBFQnVmZmVyRGF0YVR5cGUuVEFOR0VOVDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vbkJ1ZmZlckNvbnRhaW5lciBleHRlbmRzIEJ1ZmZlckNvbnRhaW5lcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2VvbWV0cnlEYXRhOkNvbW1vbkdlb21ldHJ5RGF0YTtcblxuICAgICAgICBwcml2YXRlIF92ZXJ0aWNlQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBAY2FjaGUoZnVuY3Rpb24odHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmhhc0NoaWxkKDxhbnk+dHlwZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldENoaWxkKDxhbnk+dHlwZSlcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0LCB0eXBlKXtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKDxhbnk+dHlwZSwgcmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGdldFZlcnRpY2UodHlwZTpFQnVmZmVyRGF0YVR5cGUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGE9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRGF0YShnZW9tZXRyeURhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl92ZXJ0aWNlQnVmZmVyXCIsIEFycmF5QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5fdmVydGljZUJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeURhdGEpLCAzLCBFQnVmZmVyVHlwZS5GTE9BVCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92ZXJ0aWNlQnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXNDaGlsZCg8YW55PnR5cGUpO1xuICAgICAgICB9LCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRDaGlsZCg8YW55PnR5cGUpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBnZXROb3JtYWwodHlwZTpFQnVmZmVyRGF0YVR5cGUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeURhdGE9IHRoaXMuZ2VvbWV0cnlEYXRhW0J1ZmZlckRhdGFUYWJsZS5nZXRHZW9tZXRyeURhdGFOYW1lKHR5cGUpXTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzRGF0YShnZW9tZXRyeURhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl9ub3JtYWxCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxCdWZmZXIucmVzZXREYXRhKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnlEYXRhKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsQnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTW9ycGhCdWZmZXJDb250YWluZXIgZXh0ZW5kcyBCdWZmZXJDb250YWluZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgYW5pbWF0aW9uOk1vcnBoQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoZW50aXR5T2JqZWN0LCBhbmltYXRpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGFuaW1hdGlvbjpNb3JwaEFuaW1hdGlvbikge1xuICAgICAgICAgICAgc3VwZXIoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdlb21ldHJ5RGF0YTpNb3JwaEdlb21ldHJ5RGF0YTtcblxuICAgICAgICBwcm90ZWN0ZWQgY29udGFpbmVyOndkQ2IuSGFzaDxCdWZmZXImQXJyYXk8QXJyYXlCdWZmZXI+PjtcblxuICAgICAgICBwcml2YXRlIF9hbmltYXRpb246TW9ycGhBbmltYXRpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pc0NhY2hlQ2hhbmdlRmxhZzphbnkgPSB7fTtcbiAgICAgICAgcHJpdmF0ZSBfaXNDYWNoZUNoYW5nZUluTGFzdExvb3AgPSB7fTtcbiAgICAgICAgcHJpdmF0ZSBfY3VycmVudFZlcnRpY2VCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9uZXh0VmVydGljZUJ1ZmZlcjpBcnJheUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnROb3JtYWxCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9uZXh0Tm9ybWFsQnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAodHlwZTpFQnVmZmVyRGF0YVR5cGUpIHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmdlb21ldHJ5RGF0YS5tb3JwaFRhcmdldHMgJiYgdGhpcy5nZW9tZXRyeURhdGEubW9ycGhUYXJnZXRzLmdldENvdW50KCkgPiAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCBtb3JwaFRhcmdldHNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VmVydGljZSh0eXBlOkVCdWZmZXJEYXRhVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1vcnBoRGF0YSh0eXBlLCB0aGlzLmdlb21ldHJ5RGF0YS5tb3JwaFRhcmdldHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZW9tZXRyeURhdGEubW9ycGhUYXJnZXRzICYmIHRoaXMuZ2VvbWV0cnlEYXRhLm1vcnBoVGFyZ2V0cy5nZXRDb3VudCgpID4gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJzZXQgbW9ycGhUYXJnZXRzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGdldE5vcm1hbCh0eXBlOkVCdWZmZXJEYXRhVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1vcnBoRGF0YSh0eXBlLCB0aGlzLmdlb21ldHJ5RGF0YS5tb3JwaE5vcm1hbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TW9ycGhEYXRhKHR5cGU6RUJ1ZmZlckRhdGFUeXBlLCBtb3JwaERhdGFUYXJnZXRzOndkQ2IuSGFzaDx3ZENiLkNvbGxlY3Rpb248QXJyYXk8bnVtYmVyPj4+KTpBcnJheTxBcnJheUJ1ZmZlcj4ge1xuICAgICAgICAgICAgdmFyIGNhY2hlRGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZnJhbWVzID0gbnVsbCxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9pc05vdFBsYXlBbmltYXRpb24oKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFN0YXRpY0RhdGEodHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKG1vcnBoRGF0YVRhcmdldHMuZ2V0Q291bnQoKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lcyA9IG1vcnBoRGF0YVRhcmdldHMuZ2V0Q2hpbGQodGhpcy5fYW5pbWF0aW9uLmN1cnJlbnRBbmltTmFtZSk7XG5cbiAgICAgICAgICAgIHdkQ2IuTG9nLmVycm9yKCFmcmFtZXMsIHdkQ2IuTG9nLmluZm8uRlVOQ19TSE9VTEQoYFwiJHt0aGlzLl9hbmltYXRpb24uY3VycmVudEFuaW1OYW1lfVwiIGFuaW1hdGlvbmAsIFwiY29udGFpbiBmcmFtZSBkYXRhXCIpKTtcblxuICAgICAgICAgICAgY2FjaGVEYXRhID0gdGhpcy5jb250YWluZXIuZ2V0Q2hpbGQoPGFueT50eXBlKTtcblxuICAgICAgICAgICAgaWYgKCFjYWNoZURhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEJ1ZmZlciA9IHRoaXMuX2dldEN1cnJlbnRCdWZmZXIodHlwZSksXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdWZmZXIgPSB0aGlzLl9nZXROZXh0QnVmZmVyKHR5cGUpO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudEJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShmcmFtZXMuZ2V0Q2hpbGQodGhpcy5fYW5pbWF0aW9uLmN1cnJlbnRGcmFtZSkpLCAzLCBFQnVmZmVyVHlwZS5GTE9BVCk7XG4gICAgICAgICAgICAgICAgbmV4dEJ1ZmZlci5yZXNldERhdGEobmV3IEZsb2F0MzJBcnJheShmcmFtZXMuZ2V0Q2hpbGQodGhpcy5fYW5pbWF0aW9uLm5leHRGcmFtZSkpLCAzLCBFQnVmZmVyVHlwZS5GTE9BVCk7XG5cblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtjdXJyZW50QnVmZmVyLCBuZXh0QnVmZmVyXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKDxhbnk+dHlwZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0NhY2hlQ2hhbmdlSW5MYXN0TG9vcFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbi5pc0ZyYW1lQ2hhbmdlICYmICh0aGlzLl9pc0NhY2hlQ2hhbmdlSW5MYXN0TG9vcFt0eXBlXSB8fCB0aGlzLl9pc0NhY2hlTm90Q2hhbmdlKHR5cGUpKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgW2N1cnJlbnRCdWZmZXIsIG5leHRCdWZmZXJdID0gY2FjaGVEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q3VycmVudEJ1ZmZlciA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOZXh0QnVmZmVyID0gbnVsbDtcblxuXG4gICAgICAgICAgICAgICAgICAgIC8vdG9kbyB1c2UgZG91YmxlLWJ1ZmZlciBjYWNoZT9cbiAgICAgICAgICAgICAgICAgICAgbmV3Q3VycmVudEJ1ZmZlciA9IG5leHRCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIG5ld05leHRCdWZmZXIgPSBjdXJyZW50QnVmZmVyLnJlc2V0RGF0YShuZXcgRmxvYXQzMkFycmF5KGZyYW1lcy5nZXRDaGlsZCh0aGlzLl9hbmltYXRpb24ubmV4dEZyYW1lKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtuZXdDdXJyZW50QnVmZmVyLCBuZXdOZXh0QnVmZmVyXTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCg8YW55PnR5cGUsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDYWNoZUNoYW5nZUZsYWdbdHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0NhY2hlQ2hhbmdlSW5MYXN0TG9vcFt0eXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0NhY2hlQ2hhbmdlRmxhZ1t0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0NhY2hlQ2hhbmdlSW5MYXN0TG9vcFt0eXBlXSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICBhc3NlcnQodHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0UgfHwgdHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0eXBlXCIsIFwiYmUgRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0Ugb3IgRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEN1cnJlbnRCdWZmZXIodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgaWYodHlwZSA9PT0gRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0Upe1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfY3VycmVudFZlcnRpY2VCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRWZXJ0aWNlQnVmZmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlck9ubHlPbmNlKFwiX2N1cnJlbnROb3JtYWxCdWZmZXJcIiwgQXJyYXlCdWZmZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudE5vcm1hbEJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlID09PSBFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSB8fCB0eXBlID09PSBFQnVmZmVyRGF0YVR5cGUuTk9STUFMLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInR5cGVcIiwgXCJiZSBFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSBvciBFQnVmZmVyRGF0YVR5cGUuTk9STUFMXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0TmV4dEJ1ZmZlcih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICBpZih0eXBlID09PSBFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSl7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWZmZXJPbmx5T25jZShcIl9uZXh0VmVydGljZUJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV4dFZlcnRpY2VCdWZmZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVmZmVyT25seU9uY2UoXCJfbmV4dE5vcm1hbEJ1ZmZlclwiLCBBcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXh0Tm9ybWFsQnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDYWNoZU5vdENoYW5nZSh0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX2lzQ2FjaGVDaGFuZ2VGbGFnW3R5cGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNOb3RQbGF5QW5pbWF0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWF0aW9uLmN1cnJlbnRBbmltTmFtZSA9PT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbih0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaGFzQ2hpbGQodGhpcy5fZ2V0U3RhdGljRGF0YUNhY2hlRGF0YSh0eXBlKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldENoaWxkKHRoaXMuX2dldFN0YXRpY0RhdGFDYWNoZURhdGEodHlwZSkpXG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdHlwZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9nZXRTdGF0aWNEYXRhQ2FjaGVEYXRhKHR5cGUpLCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRTdGF0aWNEYXRhKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIHZhciBkYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyRGF0YVR5cGUuVkVSVElDRTpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuZ2VvbWV0cnlEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJEYXRhVHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLmdlb21ldHJ5RGF0YS5ub3JtYWxzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0eXBlXCIsIFwiYmUgRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0Ugb3IgRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighdGhpcy5oYXNEYXRhKGRhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uLmludGVycG9sYXRpb24gPSAwO1xuXG4gICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q3VycmVudEJ1ZmZlcih0eXBlKS5yZXNldERhdGEoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIDMsIEVCdWZmZXJUeXBlLkZMT0FUXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXROZXh0QnVmZmVyKHR5cGUpLnJlc2V0RGF0YShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgMywgRUJ1ZmZlclR5cGUuRkxPQVRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFN0YXRpY0RhdGFDYWNoZURhdGEodHlwZTpFQnVmZmVyRGF0YVR5cGUpe1xuICAgICAgICAgICAgcmV0dXJuIGBzdGF0aWNfJHt0eXBlfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIGFkZCBiYWNrZ3JvdW5kQ29sb3JcbiAgICAvL3RvZG8gYWRkIEZydXN0dW0/XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbWVyYXtcbiAgICAgICAgQHJlcXVpcmVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmVudGl0eU9iamVjdCwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImVudGl0eU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBjYW1lcmFUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLmxvY2FsVG9Xb3JsZE1hdHJpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3dvcmxkVG9DYW1lcmFNYXRyaXggPSBudWxsO1xuICAgICAgICBnZXQgd29ybGRUb0NhbWVyYU1hdHJpeCgpe1xuICAgICAgICAgICAgaWYodGhpcy5fd29ybGRUb0NhbWVyYU1hdHJpeCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkVG9DYW1lcmFNYXRyaXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbWVyYVRvV29ybGRNYXRyaXguY29weSgpLmludmVydCgpO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3b3JsZFRvQ2FtZXJhTWF0cml4KG1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuX3dvcmxkVG9DYW1lcmFNYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9uZWFyOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBuZWFyKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVhcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbmVhcihuZWFyOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9uZWFyID0gbmVhcjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFyOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBmYXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZhcihmYXI6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2ZhciA9IGZhcjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgcE1hdHJpeDpNYXRyaXg0ID0gTWF0cml4NC5jcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgZGlydHk6Ym9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIGNvbnZlcnRTY3JlZW5Ub1dvcmxkXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0IGEgcG9pbnQgZnJvbSAyRCBjYW52YXMgcGl4ZWwgc3BhY2UgdG8gM0Qgd29ybGQgc3BhY2UuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY3JlZW5YIHggY29vcmRpbmF0ZSBvbiBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjcmVlblkgeSBjb29yZGluYXRlIG9uIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2VGcm9tQ2FtZXJhIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjYW1lcmEgaW4gd29ybGQgc3BhY2UgdG8gY3JlYXRlIHRoZSBuZXcgcG9pbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtWZWN0b3IzfSBUaGUgd29ybGQgc3BhY2UgY29vcmRpbmF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIsIGRpc3RhbmNlRnJvbUNhbWVyYTpudW1iZXIpOlZlY3RvcjM7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgaWYodGhpcy5kaXJ0eSl7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICAgIHByb3RlY3RlZCBnZXRJbnZWaWV3UHJvak1hdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucE1hdHJpeC5jb3B5KCkubXVsdGlwbHkodGhpcy53b3JsZFRvQ2FtZXJhTWF0cml4KS5pbnZlcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgT3J0aG9ncmFwaGljQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhe1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbGVmdDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgbGVmdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxlZnQobGVmdDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JpZ2h0Om51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCByaWdodCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldCByaWdodChyaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmlnaHQgPSByaWdodDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYm90dG9tOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBib3R0b20oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJvdHRvbShib3R0b206bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbSA9IGJvdHRvbTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdG9wOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCB0b3AoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3A7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRvcCh0b3A6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IHRvcDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgY29udmVydFNjcmVlblRvV29ybGQoc2NyZWVuWDpudW1iZXIsIHNjcmVlblk6bnVtYmVyLCBkaXN0YW5jZUZyb21DYW1lcmE6bnVtYmVyKTpWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIGRldmljZTpEZXZpY2VNYW5hZ2VyID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZGV2aWNlLnZpZXcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGV2aWNlLnZpZXcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlID0gVmVjdG9yMy5jcmVhdGUoMiAqIHNjcmVlblggLyB3aWR0aCAtIDEsIChoZWlnaHQgLSBzY3JlZW5ZKSAvIGhlaWdodCAqIDIgLSAxLCAoZGlzdGFuY2VGcm9tQ2FtZXJhIC0gdGhpcy5mYXIpIC8gKHRoaXMuZmFyIC0gdGhpcy5uZWFyKSAqIDIgKyAxKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW52Vmlld1Byb2pNYXQoKS5tdWx0aXBseVBvaW50KG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7XG4gICAgICAgICAgICB0aGlzLnBNYXRyaXguc2V0T3J0aG8odGhpcy5fbGVmdCwgdGhpcy5fcmlnaHQsIHRoaXMuX2JvdHRvbSwgdGhpcy5fdG9wLCB0aGlzLm5lYXIsIHRoaXMuZmFyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBQZXJzcGVjdGl2ZUNhbWVyYSBleHRlbmRzIENhbWVyYXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2Zvdnk6bnVtYmVyPSBudWxsO1xuICAgICAgICBnZXQgZm92eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvdnk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZvdnkoZm92eTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZm92eSA9IGZvdnk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FzcGVjdDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgYXNwZWN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXNwZWN0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBhc3BlY3QoYXNwZWN0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB6b29tSW4oc3BlZWQ6bnVtYmVyLCBtaW46bnVtYmVyID0gMSl7XG4gICAgICAgICAgICB0aGlzLmZvdnkgPSBNYXRoLm1heCh0aGlzLmZvdnkgLSBzcGVlZCwgbWluKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgem9vbU91dChzcGVlZDpudW1iZXIsIG1heDpudW1iZXIgPSAxNzkpe1xuICAgICAgICAgICAgdGhpcy5mb3Z5ID0gTWF0aC5taW4odGhpcy5mb3Z5ICsgc3BlZWQsIG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udmVydFNjcmVlblRvV29ybGQoc2NyZWVuWDpudW1iZXIsIHNjcmVlblk6bnVtYmVyLCBkaXN0YW5jZUZyb21DYW1lcmE6bnVtYmVyKTpWZWN0b3Ize1xuICAgICAgICAgICAgdmFyIGRldmljZTpEZXZpY2VNYW5hZ2VyID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZGV2aWNlLnZpZXcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGV2aWNlLnZpZXcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREZXZpY2VDb29yZGluYXRlID0gVmVjdG9yMy5jcmVhdGUoMiAqIHNjcmVlblggLyB3aWR0aCAtIDEsIDEgLSAyICogc2NyZWVuWSAvIGhlaWdodCwgMSksXG4gICAgICAgICAgICAgICAgaW52Vmlld1Byb2pNYXQgPSB0aGlzLmdldEludlZpZXdQcm9qTWF0KCksXG4gICAgICAgICAgICAgICAgcG9pbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHcgPSBudWxsO1xuXG4gICAgICAgICAgICBwb2ludCA9IGludlZpZXdQcm9qTWF0Lm11bHRpcGx5UG9pbnQobm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUpO1xuXG4gICAgICAgICAgICB3ID0gbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueCAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1szXSArXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueSAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1s3XSArXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZERldmljZUNvb3JkaW5hdGUueiAqIGludlZpZXdQcm9qTWF0LnZhbHVlc1sxMV0gK1xuICAgICAgICAgICAgICAgIGludlZpZXdQcm9qTWF0LnZhbHVlc1sxNV07XG5cbiAgICAgICAgICAgIHBvaW50LnNjYWxlKDEgLyB3KTtcblxuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKCkubGVycCh0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sIHBvaW50LCBkaXN0YW5jZUZyb21DYW1lcmEgLyB0aGlzLmZhcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpe1xuICAgICAgICAgICAgdGhpcy5wTWF0cml4LnNldFBlcnNwZWN0aXZlKHRoaXMuX2ZvdnksIHRoaXMuX2FzcGVjdCwgdGhpcy5uZWFyLCB0aGlzLmZhcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1lcmFDb250cm9sbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjYW1lcmFUb1dvcmxkTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmEuY2FtZXJhVG9Xb3JsZE1hdHJpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkVG9DYW1lcmFNYXRyaXhDYWNoZSAhPT0gbnVsbDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JsZFRvQ2FtZXJhTWF0cml4Q2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICB0aGlzLl93b3JsZFRvQ2FtZXJhTWF0cml4Q2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCB3b3JsZFRvQ2FtZXJhTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3b3JsZFRvQ2FtZXJhTWF0cml4KG1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLndvcmxkVG9DYW1lcmFNYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcE1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhLnBNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBNYXRyaXgocE1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBNYXRyaXggPSBwTWF0cml4O1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkdhbWVPYmplY3Q7XG4gICAgICAgIHB1YmxpYyBjYW1lcmE6Q2FtZXJhID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF93b3JsZFRvQ2FtZXJhTWF0cml4Q2FjaGU6TWF0cml4NCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2NsZWFyQ2FjaGVTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5lbnRpdHlPYmplY3QgPSA8R2FtZU9iamVjdD50aGlzLmVudGl0eU9iamVjdDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDYWNoZVN1YnNjcmlwdGlvbiA9IHdkRnJwLmZyb21BcnJheShbXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoPGFueT5FRW5naW5lRXZlbnQuRU5ETE9PUCksXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9UUkFOU0xBVEUpLFxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fUk9UQVRFKSxcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuVFJBTlNGT1JNX1NDQUxFKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLm1lcmdlQWxsKClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJDYWNoZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ2FjaGVTdWJzY3JpcHRpb24gJiYgdGhpcy5fY2xlYXJDYWNoZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoUmF5KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIpOmJvb2xlYW57XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZighZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChDb2xsaWRlcikpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hhcGUgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcikuc2hhcGU7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFwZS5pc0ludGVyc2VjdFdpdGhSYXkodGhpcy5jcmVhdGVSYXkoc2NyZWVuWCwgc2NyZWVuWSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZVJheShzY3JlZW5YOm51bWJlciwgc2NyZWVuWTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGZyb20gPSB0aGlzLmNvbnZlcnRTY3JlZW5Ub1dvcmxkKHNjcmVlblgsIHNjcmVlblksIHRoaXMuY2FtZXJhLm5lYXIpLFxuICAgICAgICAgICAgICAgIHRvID0gdGhpcy5jb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLmNhbWVyYS5mYXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gUmF5LmNyZWF0ZShmcm9tLCB0by5zdWIoZnJvbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvbnZlcnRTY3JlZW5Ub1dvcmxkKHNjcmVlblg6bnVtYmVyLCBzY3JlZW5ZOm51bWJlciwgZGlzdGFuY2VGcm9tQ2FtZXJhOm51bWJlcik6VmVjdG9yM3tcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS5jb252ZXJ0U2NyZWVuVG9Xb3JsZChzY3JlZW5YLCBzY3JlZW5ZLCBkaXN0YW5jZUZyb21DYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFBsYW5lcygpOkFycmF5PFBsYW5lPiB7XG4gICAgICAgICAgICB2YXIgZnJ1c3R1bVBsYW5lcyA9IFtdLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUb0NhbWVyYU1hdHJpeC5hcHBseU1hdHJpeCh0aGlzLnBNYXRyaXgsIHRydWUpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGZydXN0dW1QbGFuZXMucHVzaChQbGFuZS5jcmVhdGUoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGFuZXModHJhbnNmb3JtLCBmcnVzdHVtUGxhbmVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZydXN0dW1QbGFuZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRQbGFuZXModHJhbnNmb3JtOk1hdHJpeDQsIGZydXN0dW1QbGFuZXM6IEFycmF5PFBsYW5lPik6IHZvaWQge1xuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgcmVmZXIgdG8gaHR0cDovL2dhbWVkZXZzLm9yZy91cGxvYWRzL2Zhc3QtZXh0cmFjdGlvbi12aWV3aW5nLWZydXN0dW0tcGxhbmVzLWZyb20td29ybGQtdmlldy1wcm9qZWN0aW9uLW1hdHJpeC5wZGZcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAvLyBOZWFyXG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzBdLm5vcm1hbC54ID0gdHJhbnNmb3JtLnZhbHVlc1szXSArIHRyYW5zZm9ybS52YWx1ZXNbMl07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzBdLm5vcm1hbC55ID0gdHJhbnNmb3JtLnZhbHVlc1s3XSArIHRyYW5zZm9ybS52YWx1ZXNbNl07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzBdLm5vcm1hbC56ID0gdHJhbnNmb3JtLnZhbHVlc1sxMV0gKyB0cmFuc2Zvcm0udmFsdWVzWzEwXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMF0uZCA9IHRyYW5zZm9ybS52YWx1ZXNbMTVdICsgdHJhbnNmb3JtLnZhbHVlc1sxNF07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzBdLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAvLyBGYXJcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMV0ubm9ybWFsLnggPSB0cmFuc2Zvcm0udmFsdWVzWzNdIC0gdHJhbnNmb3JtLnZhbHVlc1syXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMV0ubm9ybWFsLnkgPSB0cmFuc2Zvcm0udmFsdWVzWzddIC0gdHJhbnNmb3JtLnZhbHVlc1s2XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMV0ubm9ybWFsLnogPSB0cmFuc2Zvcm0udmFsdWVzWzExXSAtIHRyYW5zZm9ybS52YWx1ZXNbMTBdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1sxXS5kID0gdHJhbnNmb3JtLnZhbHVlc1sxNV0gLSB0cmFuc2Zvcm0udmFsdWVzWzE0XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMV0ubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIC8vIExlZnRcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMl0ubm9ybWFsLnggPSB0cmFuc2Zvcm0udmFsdWVzWzNdICsgdHJhbnNmb3JtLnZhbHVlc1swXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMl0ubm9ybWFsLnkgPSB0cmFuc2Zvcm0udmFsdWVzWzddICsgdHJhbnNmb3JtLnZhbHVlc1s0XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbMl0ubm9ybWFsLnogPSB0cmFuc2Zvcm0udmFsdWVzWzExXSArIHRyYW5zZm9ybS52YWx1ZXNbOF07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzJdLmQgPSB0cmFuc2Zvcm0udmFsdWVzWzE1XSArIHRyYW5zZm9ybS52YWx1ZXNbMTJdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1syXS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgLy8gUmlnaHRcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbM10ubm9ybWFsLnggPSB0cmFuc2Zvcm0udmFsdWVzWzNdIC0gdHJhbnNmb3JtLnZhbHVlc1swXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbM10ubm9ybWFsLnkgPSB0cmFuc2Zvcm0udmFsdWVzWzddIC0gdHJhbnNmb3JtLnZhbHVlc1s0XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbM10ubm9ybWFsLnogPSB0cmFuc2Zvcm0udmFsdWVzWzExXSAtIHRyYW5zZm9ybS52YWx1ZXNbOF07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzNdLmQgPSB0cmFuc2Zvcm0udmFsdWVzWzE1XSAtIHRyYW5zZm9ybS52YWx1ZXNbMTJdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1szXS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgLy8gVG9wXG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzRdLm5vcm1hbC54ID0gdHJhbnNmb3JtLnZhbHVlc1szXSAtIHRyYW5zZm9ybS52YWx1ZXNbMV07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzRdLm5vcm1hbC55ID0gdHJhbnNmb3JtLnZhbHVlc1s3XSAtIHRyYW5zZm9ybS52YWx1ZXNbNV07XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzRdLm5vcm1hbC56ID0gdHJhbnNmb3JtLnZhbHVlc1sxMV0gLSB0cmFuc2Zvcm0udmFsdWVzWzldO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s0XS5kID0gdHJhbnNmb3JtLnZhbHVlc1sxNV0gLSB0cmFuc2Zvcm0udmFsdWVzWzEzXTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNF0ubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIC8vIEJvdHRvbVxuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s1XS5ub3JtYWwueCA9IHRyYW5zZm9ybS52YWx1ZXNbM10gKyB0cmFuc2Zvcm0udmFsdWVzWzFdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s1XS5ub3JtYWwueSA9IHRyYW5zZm9ybS52YWx1ZXNbN10gKyB0cmFuc2Zvcm0udmFsdWVzWzVdO1xuICAgICAgICAgICAgZnJ1c3R1bVBsYW5lc1s1XS5ub3JtYWwueiA9IHRyYW5zZm9ybS52YWx1ZXNbMTFdICsgdHJhbnNmb3JtLnZhbHVlc1s5XTtcbiAgICAgICAgICAgIGZydXN0dW1QbGFuZXNbNV0uZCA9IHRyYW5zZm9ybS52YWx1ZXNbMTVdICsgdHJhbnNmb3JtLnZhbHVlc1sxM107XG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzWzVdLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDYWNoZSgpe1xuICAgICAgICAgICAgdGhpcy5fd29ybGRUb0NhbWVyYU1hdHJpeENhY2hlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFdvcmxkVG9DYW1lcmFNYXRyaXgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS53b3JsZFRvQ2FtZXJhTWF0cml4O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNDYW1lcmFDb250cm9sbGVyIGV4dGVuZHMgQ2FtZXJhQ29udHJvbGxlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhjYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmx5Q2FtZXJhQ29udHJvbGxlciBleHRlbmRzIENhbWVyYUNvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjYW1lcmFDb21wb25lbnQ6Q2FtZXJhKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoY2FtZXJhQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpe1xuICAgICAgICAgICAgc3VwZXIoY2FtZXJhQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgaWYoY2FtZXJhQ29tcG9uZW50IGluc3RhbmNlb2YgUGVyc3BlY3RpdmVDYW1lcmEpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRyb2wgPSBGbHlQZXJzcGVjdGl2ZUNhbWVyYUNvbnRyb2wuY3JlYXRlKDxQZXJzcGVjdGl2ZUNhbWVyYT5jYW1lcmFDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9sID0gRmx5T3J0aG9ncmFwaGljQ2FtZXJhQ29udHJvbC5jcmVhdGUoPE9ydGhvZ3JhcGhpY0NhbWVyYT5jYW1lcmFDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udHJvbDpGbHlDYW1lcmFDb250cm9sID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY29udHJvbC5pbml0KHRoaXMuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2wudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb250cm9sLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgZG9jdW1lbnQ6YW55O1xuXG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZseUNhbWVyYUNvbnRyb2wge1xuICAgICAgICBjb25zdHJ1Y3RvcihjYW1lcmFDb21wb25lbnQ6Q2FtZXJhKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbXBvbmVudCA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gMS4yO1xuICAgICAgICBwdWJsaWMgcm90YXRlU3BlZWQ6bnVtYmVyID0gMTAwO1xuXG4gICAgICAgIHByb3RlY3RlZCBjYW1lcmFDb21wb25lbnQ6Q2FtZXJhID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9yb3RhdGVYOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgX3JvdGF0ZVk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfaXNSb3RhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9tb3VzZURyYWdTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9rZXlkb3duU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZ2FtZU9iamVjdDpHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIGV1bGVyQW5nbGVzID0gZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5ldWxlckFuZ2xlcztcblxuICAgICAgICAgICAgdGhpcy5fcm90YXRlWCA9IGV1bGVyQW5nbGVzLng7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGVZID0gZXVsZXJBbmdsZXMueTtcblxuICAgICAgICAgICAgdGhpcy5fZ2FtZU9iamVjdCA9IGVudGl0eU9iamVjdDtcblxuICAgICAgICAgICAgdGhpcy5fYmluZENhbnZhc0V2ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pc1JvdGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0LnRyYW5zZm9ybS5ldWxlckFuZ2xlcyA9IFZlY3RvcjMuY3JlYXRlKHRoaXMuX3JvdGF0ZVgsIHRoaXMuX3JvdGF0ZVksIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IHpvb20oZXZlbnQ6S2V5Ym9hcmRFdmVudCk7XG5cbiAgICAgICAgcHJpdmF0ZSBfbW92ZShldmVudDpLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc3BlZWQgPSB0aGlzLm1vdmVTcGVlZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QgPSB0aGlzLl9nYW1lT2JqZWN0LFxuICAgICAgICAgICAgICAgIGtleVN0YXRlID0gZXZlbnQua2V5U3RhdGU7XG5cbiAgICAgICAgICAgIGlmIChrZXlTdGF0ZVtcImFcIl0gfHwga2V5U3RhdGVbXCJsZWZ0XCJdKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGVMb2NhbChWZWN0b3IzLmNyZWF0ZSgtc3BlZWQsIDAsIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoa2V5U3RhdGVbXCJkXCJdIHx8IGtleVN0YXRlW1wicmlnaHRcIl0pIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnRyYW5zbGF0ZUxvY2FsKFZlY3RvcjMuY3JlYXRlKHNwZWVkLCAwLCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGtleVN0YXRlW1wid1wiXSB8fCBrZXlTdGF0ZVtcInVwXCJdKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGVMb2NhbChWZWN0b3IzLmNyZWF0ZSgwLCAwLCAtc3BlZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoa2V5U3RhdGVbXCJzXCJdIHx8IGtleVN0YXRlW1wiZG93blwiXSkge1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0udHJhbnNsYXRlTG9jYWwoVmVjdG9yMy5jcmVhdGUoMCwgMCwgc3BlZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2JpbmRDYW52YXNFdmVudCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMucm90YXRlU3BlZWQsXG4gICAgICAgICAgICAgICAgbW91c2VkcmFnID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudChEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9EUkFHKSxcbiAgICAgICAgICAgICAgICBrZXlkb3duID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudChFRXZlbnROYW1lLktFWURPV04pLFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkudmlldztcblxuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uID0gbW91c2VkcmFnXG4gICAgICAgICAgICAgICAgLm1hcCgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZW1lbnREZWx0YSA9IGUudXNlckRhdGEubW92ZW1lbnREZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY3RvciA9IHJvdGF0ZVNwZWVkIC8gY2FudmFzLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBkeCA9IGZhY3RvciAqIG1vdmVtZW50RGVsdGEueDtcbiAgICAgICAgICAgICAgICAgICAgZHkgPSBmYWN0b3IgKiBtb3ZlbWVudERlbHRhLnk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faXNSb3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkeDogZHgsXG4gICAgICAgICAgICAgICAgICAgICAgICBkeTogZHlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKHBvcykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9yb3RhdGVZIC09IHBvcy5keDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcm90YXRlWCAtPSBwb3MuZHk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2tleWRvd25TdWJzY3JpcHRpb24gPSBrZXlkb3duLnN1YnNjcmliZSgoZTpLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fbW92ZShlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnpvb20oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZUV2ZW50KCkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2tleWRvd25TdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmx5UGVyc3BlY3RpdmVDYW1lcmFDb250cm9sIGV4dGVuZHMgRmx5Q2FtZXJhQ29udHJvbCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNhbWVyYUNvbXBvbmVudDpDYW1lcmEpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhjYW1lcmFDb21wb25lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHpvb21TcGVlZDpudW1iZXIgPSAxMDtcblxuICAgICAgICBwcm90ZWN0ZWQgY2FtZXJhQ29tcG9uZW50OlBlcnNwZWN0aXZlQ2FtZXJhO1xuXG4gICAgICAgIHByb3RlY3RlZCB6b29tKGV2ZW50OktleWJvYXJkRXZlbnQpe1xuICAgICAgICAgICAgdmFyIHNwZWVkID0gdGhpcy56b29tU3BlZWQsXG4gICAgICAgICAgICAgICAga2V5U3RhdGUgPSBldmVudC5rZXlTdGF0ZTtcblxuICAgICAgICAgICAgaWYgKGtleVN0YXRlW1wiZ1wiXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29tcG9uZW50Lnpvb21JbihzcGVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXlTdGF0ZVtcImhcIl0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUNvbXBvbmVudC56b29tT3V0KHNwZWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEZseU9ydGhvZ3JhcGhpY0NhbWVyYUNvbnRyb2wgZXh0ZW5kcyBGbHlDYW1lcmFDb250cm9sIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY2FtZXJhQ29tcG9uZW50OkNhbWVyYSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGNhbWVyYUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgem9vbShldmVudDpLZXlib2FyZEV2ZW50KXtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnksXG4gICAgICAgIGRvY3VtZW50OmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBBcmNiYWxsQ2FtZXJhQ29udHJvbGxlciBleHRlbmRzIENhbWVyYUNvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjYW1lcmFDb21wb25lbnQ6Q2FtZXJhKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoY2FtZXJhQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWRYOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWRZOm51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyByb3RhdGVTcGVlZDpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgd2hlZWxTcGVlZDpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgZGlzdGFuY2U6bnVtYmVyID0gMTA7XG4gICAgICAgIHB1YmxpYyBwaGk6bnVtYmVyID0gTWF0aC5QSSAvIDI7XG4gICAgICAgIHB1YmxpYyB0aGV0YTpudW1iZXIgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgcHVibGljIHRhcmdldDpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyB0aGV0YU1hcmdpbiA9IDAuMDU7XG4gICAgICAgIHB1YmxpYyBtaW5EaXN0YW5jZTpudW1iZXIgPSAwLjA1O1xuXG4gICAgICAgIHByaXZhdGUgX2lzQ2hhbmdlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIF9tb3VzZURyYWdTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tb3VzZVdoZWVsU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfa2V5ZG93blN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2JpbmRDYW52YXNFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIFg9IHIqY29zKHBoaSkqc2luKHRoZXRhKTtcbiAgICAgICAgICAgICBaPSByKnNpbihwaGkpKnNpbih0aGV0YSk7XG4gICAgICAgICAgICAgWT0gcipjb3ModGhldGEpO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgeCA9IG51bGwsXG4gICAgICAgICAgICAgICAgeSA9IG51bGwsXG4gICAgICAgICAgICAgICAgeiA9IG51bGw7XG5cbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9pc0NoYW5nZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pc0NoYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB4ID0gKCh0aGlzLmRpc3RhbmNlKSAqIE1hdGguY29zKHRoaXMucGhpKSAqIE1hdGguc2luKHRoaXMudGhldGEpICsgdGhpcy50YXJnZXQueCk7XG4gICAgICAgICAgICB6ID0gKCh0aGlzLmRpc3RhbmNlKSAqIE1hdGguc2luKHRoaXMucGhpKSAqIE1hdGguc2luKHRoaXMudGhldGEpICsgdGhpcy50YXJnZXQueik7XG4gICAgICAgICAgICB5ID0gKCh0aGlzLmRpc3RhbmNlKSAqIE1hdGguY29zKHRoaXMudGhldGEpICsgdGhpcy50YXJnZXQueSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMuY3JlYXRlKHgsIHksIHopO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLmxvb2tBdCh0aGlzLnRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyB0cmVhdCBwaWNrZWQgaXRlbSBhcyB0aGUgdGFyZ2V0XG4gICAgICAgIHByaXZhdGUgX2JpbmRDYW52YXNFdmVudCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzY2VuZSA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsXG4gICAgICAgICAgICAgICAgbW91c2V3aGVlbCA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoc2NlbmUsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX1dIRUVMKSxcbiAgICAgICAgICAgICAgICBtb3VzZWRyYWcgPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHNjZW5lLCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9EUkFHKSxcbiAgICAgICAgICAgIGtleWRvd24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KEVFdmVudE5hbWUuS0VZRE9XTik7XG5cblxuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uID0gbW91c2VkcmFnLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NoYW5nZU9yYml0KGUudXNlckRhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdXNlV2hlZWxTdWJzY3JpcHRpb24gPSBtb3VzZXdoZWVsLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtb3VzZUV2ZW50Ok1vdXNlRXZlbnQgPSBlLnVzZXJEYXRhO1xuXG4gICAgICAgICAgICAgICAgbW91c2VFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2hhbmdlRGlzdGFuY2UobW91c2VFdmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbiA9IGtleWRvd24uc3Vic2NyaWJlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2hhbmdlVGFyZ2V0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGFuZ2VPcmJpdChlOk1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBtb3ZlbWVudERlbHRhID0gZS5tb3ZlbWVudERlbHRhO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0NoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMucGhpICs9IG1vdmVtZW50RGVsdGEueCAvICgxMDAgLyB0aGlzLnJvdGF0ZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudGhldGEgLT0gbW92ZW1lbnREZWx0YS55IC8gKDEwMCAvIHRoaXMucm90YXRlU3BlZWQpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb250cmFpblRoZXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGFuZ2VUYXJnZXQoZTpLZXlib2FyZEV2ZW50KXtcbiAgICAgICAgICAgIHZhciBtb3ZlU3BlZWRYID0gdGhpcy5tb3ZlU3BlZWRYLFxuICAgICAgICAgICAgICAgIG1vdmVTcGVlZFkgPSB0aGlzLm1vdmVTcGVlZFksXG4gICAgICAgICAgICAgICAgZHggPSBudWxsLFxuICAgICAgICAgICAgICAgIGR5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBrZXlTdGF0ZSA9IGUua2V5U3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0NoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChrZXlTdGF0ZVtcImFcIl0gfHwga2V5U3RhdGVbXCJsZWZ0XCJdKSB7XG4gICAgICAgICAgICAgICAgZHggPSAtbW92ZVNwZWVkWDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoa2V5U3RhdGVbXCJkXCJdIHx8IGtleVN0YXRlW1wicmlnaHRcIl0pIHtcbiAgICAgICAgICAgICAgICBkeCA9IG1vdmVTcGVlZFg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGtleVN0YXRlW1wid1wiXSB8fCBrZXlTdGF0ZVtcInVwXCJdKSB7XG4gICAgICAgICAgICAgICAgZHkgPSBtb3ZlU3BlZWRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihrZXlTdGF0ZVtcInNcIl0gfHwga2V5U3RhdGVbXCJkb3duXCJdKSB7XG4gICAgICAgICAgICAgICAgZHkgPSAtbW92ZVNwZWVkWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50YXJnZXQuYWRkKFZlY3RvcjMuY3JlYXRlKHRyYW5zZm9ybS5yaWdodC54ICogKGR4KSwgMCwgdHJhbnNmb3JtLnJpZ2h0LnogKiAoZHgpKSk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGQoVmVjdG9yMy5jcmVhdGUodHJhbnNmb3JtLnVwLnggKiBkeSwgdHJhbnNmb3JtLnVwLnkgKiBkeSwgMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2hhbmdlRGlzdGFuY2UoZTpNb3VzZUV2ZW50KXtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSAtPSB0aGlzLndoZWVsU3BlZWQgKiBlLndoZWVsO1xuICAgICAgICAgICAgdGhpcy5fY29udHJhaW5EaXN0YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udHJhaW5EaXN0YW5jZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBNYXRoVXRpbHMuYmlnVGhhbih0aGlzLmRpc3RhbmNlLCB0aGlzLm1pbkRpc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnRyYWluVGhldGEoKSB7XG4gICAgICAgICAgICB0aGlzLnRoZXRhID0gTWF0aFV0aWxzLmNsYW1wKHRoaXMudGhldGEsIHRoaXMudGhldGFNYXJnaW4sIE1hdGguUEkgLSB0aGlzLnRoZXRhTWFyZ2luKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZUV2ZW50KCkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEcmFnU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlV2hlZWxTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fa2V5ZG93blN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdGlvbiBleHRlbmRzIENvbXBvbmVudHtcbiAgICAgICAgZ2V0IGlzU3RhcnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuaXNTdG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzU3RvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uQUJTVFJBQ1RfQVRUUklCVVRFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBpc1BhdXNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5BQlNUUkFDVF9BVFRSSUJVVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHBfdGFyZ2V0OkVudGl0eU9iamVjdCA9IG51bGw7XG4gICAgICAgIGdldCB0YXJnZXQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBfdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHNldCB0YXJnZXQodGFyZ2V0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLnBfdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRmluaXNoOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgICAgICAgICB0aGlzLmlzRmluaXNoID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHN0YXJ0KCk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHN0b3AoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcGF1c2UoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmVzdW1lKCk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNvcHkoKTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgcmV2ZXJzZSgpO1xuXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyLmFkZFRvT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZW50aXR5T2JqZWN0O1xuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFjdGlvbk1hbmFnZXIuYWRkQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHN1cGVyLnJlbW92ZUZyb21PYmplY3QoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFjdGlvbk1hbmFnZXIucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGZpbmlzaCgpe1xuICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdGlvbkluc3RhbnQgZXh0ZW5kcyBBY3Rpb24ge1xuICAgICAgICBnZXQgaXNTdG9wKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzUGF1c2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKSB7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYWxsRnVuYyBleHRlbmRzIEFjdGlvbkluc3RhbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGZ1bmM6RnVuY3Rpb24sIGNvbnRleHQ6YW55LCAuLi5kYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGF0YUFyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gbmV3IHRoaXMoZnVuYywgY29udGV4dCwgZGF0YUFycik7XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihmdW5jOkZ1bmN0aW9uLCBjb250ZXh0OmFueSwgZGF0YUFycjpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0IHx8IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRnVuYyA9IGZ1bmM7XG4gICAgICAgICAgICB0aGlzLl9kYXRhQXJyID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KGRhdGFBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29udGV4dDphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9jYWxsRnVuYzpGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2RhdGFBcnI6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbGxGdW5jKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmMuY2FsbCh0aGlzLl9jb250ZXh0LCB0aGlzLnBfdGFyZ2V0LCB0aGlzLl9kYXRhQXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FsbEZ1bmModGhpcy5fY29udGV4dCwgdGhpcy5fY2FsbEZ1bmMsIHRoaXMuX2RhdGFBcnIuY29weSh0cnVlKS5nZXRDaGlsZHJlbigpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uSW50ZXJ2YWwgZXh0ZW5kcyBBY3Rpb257XG4gICAgICAgIHByb3RlY3RlZCBlbGFwc2VkOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBkdXJhdGlvbjpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2lzU3RvcDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBfaXNQYXVzZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX3RpbWVDb250cm9sbGVyOkNvbW1vblRpbWVDb250cm9sbGVyID0gQ29tbW9uVGltZUNvbnRyb2xsZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgZ2V0IGlzU3RvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1N0b3A7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaXNQYXVzZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1BhdXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSB0aGlzLl9jb252ZXJ0VG9SYXRpbyh0aGlzLl90aW1lQ29udHJvbGxlci5jb21wdXRlRWxhcHNlVGltZShlbGFwc2VkVGltZSkpO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJvZHkoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGFwc2VkID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdGltZUNvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICAgICAgdGhpcy5faXNTdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lzU3RvcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVDb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCl7XG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl90aW1lQ29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVCb2R5KHRpbWU6bnVtYmVyKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb1JhdGlvKGVsYXBzZWQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGVsYXBzZWQgLyB0aGlzLmR1cmF0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gcmF0aW8gPiAxID8gMSA6IHJhdGlvO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgQWN0aW9uSW50ZXJ2YWx7XG4gICAgICAgIHNldCB0YXJnZXQodGFyZ2V0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICB0aGlzLnBfdGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLmdldElubmVyQWN0aW9ucygpLmZvckVhY2goKGFjdGlvbjpBY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SW5uZXJBY3Rpb25zKCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcImluaXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmV2ZXJzZSgpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJldmVyc2VcIik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICAgICAgc3VwZXIucmVzZXQoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwicmVzZXRcIik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGl0ZXJhdGUobWV0aG9kOnN0cmluZywgYXJnQXJyPzpBcnJheTxhbnk+KSB7XG4gICAgICAgICAgICB0aGlzLmdldElubmVyQWN0aW9ucygpLmZvckVhY2goKGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGlvblttZXRob2RdLmFwcGx5KGFjdGlvbiwgYXJnQXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTZXF1ZW5jZSBleHRlbmRzIENvbnRyb2x7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZSA9IG51bGw7XG5cbiAgICAgICAgICAgIExvZy5hc3NlcnQoYXJncy5sZW5ndGggPj0gMiwgXCJTZXF1ZW5jZSBzaG91bGQgaGFzIHR3byBhY3Rpb25zIGF0IGxlYXN0XCIpO1xuXG4gICAgICAgICAgICBzZXF1ZW5jZSA9IG5ldyB0aGlzKGFyZ3MpO1xuXG4gICAgICAgICAgICBzZXF1ZW5jZS5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VxdWVuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb25BcnI6QXJyYXk8QWN0aW9uPil7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmFkZENoaWxkcmVuKGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hY3Rpb25zOndkQ2IuQ29sbGVjdGlvbjxBY3Rpb24+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBY3Rpb24+KCk7XG4gICAgICAgIHByaXZhdGUgX2N1cnJlbnRBY3Rpb246QWN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYWN0aW9uSW5kZXg6bnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uID0gdGhpcy5fYWN0aW9ucy5nZXRDaGlsZCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb25JbmRleCA9PT0gdGhpcy5fYWN0aW9ucy5nZXRDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBY3Rpb24gPSB0aGlzLl9hY3Rpb25zLmdldENoaWxkKHRoaXMuX2FjdGlvbkluZGV4KTtcblxuICAgICAgICAgICAgaWYodGhpcy5fY3VycmVudEFjdGlvbi5pc0ZpbmlzaCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnROZXh0QWN0aW9uQW5kSnVkZ2VGaW5pc2goKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGlvbi51cGRhdGUoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9jdXJyZW50QWN0aW9uLmlzRmluaXNoKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydE5leHRBY3Rpb25BbmRKdWRnZUZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbkFyciA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGlvbkFyci5wdXNoKGFjdGlvbi5jb3B5KCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTZXF1ZW5jZS5jcmVhdGUuYXBwbHkoU2VxdWVuY2UsIGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25JbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uID0gdGhpcy5fYWN0aW9ucy5nZXRDaGlsZCh0aGlzLl9hY3Rpb25JbmRleCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCkge1xuICAgICAgICAgICAgc3VwZXIuc3RhcnQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGlvbi5zdGFydCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICAgICAgc3VwZXIuc3RvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnN0b3AoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICBzdXBlci5wYXVzZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc3VtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QWN0aW9uLnJlc3VtZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucyA9IHRoaXMuX2FjdGlvbnMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBzdXBlci5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc3RhcnROZXh0QWN0aW9uQW5kSnVkZ2VGaW5pc2goKXtcbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbkluZGV4ICsrO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uSW5kZXggPT09IHRoaXMuX2FjdGlvbnMuZ2V0Q291bnQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmdldENoaWxkKHRoaXMuX2FjdGlvbkluZGV4KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTcGF3biBleHRlbmRzIENvbnRyb2x7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBzcGF3biA9IG51bGw7XG5cbiAgICAgICAgICAgIExvZy5hc3NlcnQoYXJncy5sZW5ndGggPj0gMiwgXCJTZXF1ZW5jZSBzaG91bGQgaGFzIHR3byBhY3Rpb25zIGF0IGxlYXN0XCIpO1xuXG4gICAgICAgICAgICBzcGF3biA9IG5ldyB0aGlzKGFyZ3MpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3Bhd247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb25BcnI6QXJyYXk8QWN0aW9uPil7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmFkZENoaWxkcmVuKGFjdGlvbkFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hY3Rpb25zOndkQ2IuQ29sbGVjdGlvbjxBY3Rpb24+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxBY3Rpb24+KCk7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRmluaXNoKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwidXBkYXRlXCIsIFtlbGFwc2VkVGltZV0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNGaW5pc2goKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZXJhdGUoXCJzdGFydFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0b3AoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKFwic3RvcFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgICAgICBzdXBlci5wYXVzZSgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZXJhdGUoXCJwYXVzZVwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCkge1xuICAgICAgICAgICAgc3VwZXIucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJlc3VtZVwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbi5jb3B5KCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gU3Bhd24uY3JlYXRlLmFwcGx5KFNwYXduLCBhY3Rpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShcInJlc2V0XCIpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXZlcnNlKCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucyA9IHRoaXMuX2FjdGlvbnMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBzdXBlci5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGl0ZXJhdGUobWV0aG9kOnN0cmluZywgYXJnQXJyPzpBcnJheTxhbnk+KSB7XG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zLmZvckVhY2goKGFjdGlvbjpBY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBhY3Rpb25bbWV0aG9kXS5hcHBseShhY3Rpb24sIGFyZ0Fycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzRmluaXNoKCkge1xuICAgICAgICAgICAgdmFyIGlzRmluaXNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5fYWN0aW9ucy5mb3JFYWNoKChhY3Rpb246QWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3Rpb24uaXNGaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNGaW5pc2g7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIERlbGF5VGltZSBleHRlbmRzIEFjdGlvbkludGVydmFsIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZGVsYXlUaW1lOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyB0aGlzKGRlbGF5VGltZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihkZWxheVRpbWU6bnVtYmVyKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gZGVsYXlUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJldmVyc2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIERlbGF5VGltZS5jcmVhdGUodGhpcy5kdXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUmVwZWF0IGV4dGVuZHMgQ29udHJvbCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFjdGlvbjpBY3Rpb24sIHRpbWVzOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIHJlcGVhdCA9IG5ldyB0aGlzKGFjdGlvbiwgdGltZXMpO1xuXG4gICAgICAgICAgICByZXBlYXQuaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlcGVhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGFjdGlvbjpBY3Rpb24sIHRpbWVzOm51bWJlcikge1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24gPSBhY3Rpb247XG4gICAgICAgICAgICB0aGlzLl90aW1lcyA9IHRpbWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaW5uZXJBY3Rpb246QWN0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb3JpZ2luVGltZXM6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdGltZXM6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5UaW1lcyA9IHRoaXMuX3RpbWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnVwZGF0ZShlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lckFjdGlvbi5pc0ZpbmlzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVzIC09IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGltZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24uc3RhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXBlYXQuY3JlYXRlKHRoaXMuX2lubmVyQWN0aW9uLmNvcHkoKSwgdGhpcy5fdGltZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICAgICAgc3VwZXIucmVzZXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fdGltZXMgPSB0aGlzLl9vcmlnaW5UaW1lcztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbi5zdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKSB7XG4gICAgICAgICAgICBzdXBlci5zdG9wKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgICAgIHN1cGVyLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdW1lKCkge1xuICAgICAgICAgICAgc3VwZXIucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldElubmVyQWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEFjdGlvbj4oW3RoaXMuX2lubmVyQWN0aW9uXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFJlcGVhdEZvcmV2ZXIgZXh0ZW5kcyBDb250cm9sIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYWN0aW9uOkFjdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlcGVhdCA9IG5ldyB0aGlzKGFjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihhY3Rpb246QWN0aW9uKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lubmVyQWN0aW9uOkFjdGlvbiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24udXBkYXRlKGVsYXBzZWRUaW1lKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lubmVyQWN0aW9uLmlzRmluaXNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbm5lckFjdGlvbi5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVwZWF0Rm9yZXZlci5jcmVhdGUodGhpcy5faW5uZXJBY3Rpb24uY29weSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lubmVyQWN0aW9uLnN0YXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0b3AoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24uc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBhdXNlKCkge1xuICAgICAgICAgICAgc3VwZXIucGF1c2UoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucGF1c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKSB7XG4gICAgICAgICAgICBzdXBlci5yZXN1bWUoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5uZXJBY3Rpb24ucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0SW5uZXJBY3Rpb25zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8QWN0aW9uPihbdGhpcy5faW5uZXJBY3Rpb25dKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIC8qISByZWZlcmVuY2VkIGZyb206XG4gICAgIGh0dHBzOi8vZ2l0aHViLmNvbS90d2VlbmpzL3R3ZWVuLmpzXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFR3ZWVuIGV4dGVuZHMgQWN0aW9uSW50ZXJ2YWwge1xuICAgICAgICBwdWJsaWMgc3RhdGljIEVhc2luZyA9IHtcbiAgICAgICAgICAgIExpbmVhcjoge1xuXG4gICAgICAgICAgICAgICAgTm9uZTogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVhZHJhdGljOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gayAqIGs7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICogKCAyIC0gayApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIDAuNSAqIGsgKiBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICggLS1rICogKCBrIC0gMiApIC0gMSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDdWJpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogaztcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0tayAqIGsgKiBrICsgMTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBJbk91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBrICogayAqIGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoICggayAtPSAyICkgKiBrICogayArIDIgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVhcnRpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogayAqIGs7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC0gKCAtLWsgKiBrICogayAqIGsgKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBJbk91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBrICogayAqIGsgKiBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICggKCBrIC09IDIgKSAqIGsgKiBrICogayAtIDIgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgUXVpbnRpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKiBrICogayAqIGsgKiBrO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIE91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLS1rICogayAqIGsgKiBrICogayArIDE7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgSW5PdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCggayAqPSAyICkgPCAxKSByZXR1cm4gMC41ICogayAqIGsgKiBrICogayAqIGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoICggayAtPSAyICkgKiBrICogayAqIGsgKiBrICsgMiApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBTaW51c29pZGFsOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMSAtIE1hdGguY29zKGsgKiBNYXRoLlBJIC8gMik7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNpbihrICogTWF0aC5QSSAvIDIpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIDEgLSBNYXRoLmNvcyhNYXRoLlBJICogaykgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgRXhwb25lbnRpYWw6IHtcblxuICAgICAgICAgICAgICAgIEluOiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrID09PSAwID8gMCA6IE1hdGgucG93KDEwMjQsIGsgLSAxKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIGspO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDEpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCBrICo9IDIgKSA8IDEpIHJldHVybiAwLjUgKiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIC1NYXRoLnBvdygyLCAtMTAgKiAoIGsgLSAxICkpICsgMiApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDaXJjdWxhcjoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIGsgKiBrKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgxIC0gKCAtLWsgKiBrICkpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIC0wLjUgKiAoIE1hdGguc3FydCgxIC0gayAqIGspIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoIE1hdGguc3FydCgxIC0gKCBrIC09IDIpICogaykgKyAxKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgRWxhc3RpYzoge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMsIGEgPSAwLjEsIHAgPSAwLjQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDEpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWEgfHwgYSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcyA9IHAgKiBNYXRoLmFzaW4oMSAvIGEpIC8gKCAyICogTWF0aC5QSSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLSggYSAqIE1hdGgucG93KDIsIDEwICogKCBrIC09IDEgKSkgKiBNYXRoLnNpbigoIGsgLSBzICkgKiAoIDIgKiBNYXRoLlBJICkgLyBwKSApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIE91dDogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcywgYSA9IDAuMSwgcCA9IDAuNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IDApIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMSkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYSB8fCBhIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gcCAvIDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBzID0gcCAqIE1hdGguYXNpbigxIC8gYSkgLyAoIDIgKiBNYXRoLlBJICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoIGEgKiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKCggayAtIHMgKSAqICggMiAqIE1hdGguUEkgKSAvIHApICsgMSApO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzLCBhID0gMC4xLCBwID0gMC40O1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSAxKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhIHx8IGEgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHMgPSBwICogTWF0aC5hc2luKDEgLyBhKSAvICggMiAqIE1hdGguUEkgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCggayAqPSAyICkgPCAxKSByZXR1cm4gLTAuNSAqICggYSAqIE1hdGgucG93KDIsIDEwICogKCBrIC09IDEgKSkgKiBNYXRoLnNpbigoIGsgLSBzICkgKiAoIDIgKiBNYXRoLlBJICkgLyBwKSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICggayAtPSAxICkpICogTWF0aC5zaW4oKCBrIC0gcyApICogKCAyICogTWF0aC5QSSApIC8gcCkgKiAwLjUgKyAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBCYWNrOiB7XG5cbiAgICAgICAgICAgICAgICBJbjogZnVuY3Rpb24gKGspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICogayAqICggKCBzICsgMSApICogayAtIHMgKTtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBPdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLS1rICogayAqICggKCBzICsgMSApICogayArIHMgKSArIDE7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgSW5PdXQ6IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4ICogMS41MjU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoIGsgKj0gMiApIDwgMSkgcmV0dXJuIDAuNSAqICggayAqIGsgKiAoICggcyArIDEgKSAqIGsgLSBzICkgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqICggKCBrIC09IDIgKSAqIGsgKiAoICggcyArIDEgKSAqIGsgKyBzICkgKyAyICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEJvdW5jZToge1xuXG4gICAgICAgICAgICAgICAgSW46IGZ1bmN0aW9uIChrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLSBUd2Vlbi5FYXNpbmcuQm91bmNlLk91dCgxIC0gayk7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrIDwgKCAxIC8gMi43NSApKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA3LjU2MjUgKiBrICogaztcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPCAoIDIgLyAyLjc1ICkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDEuNSAvIDIuNzUgKSApICogayArIDAuNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrIDwgKCAyLjUgLyAyLjc1ICkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDIuMjUgLyAyLjc1ICkgKSAqIGsgKyAwLjkzNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDIuNjI1IC8gMi43NSApICkgKiBrICsgMC45ODQzNzU7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEluT3V0OiBmdW5jdGlvbiAoaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChrIDwgMC41KSByZXR1cm4gVHdlZW4uRWFzaW5nLkJvdW5jZS5JbihrICogMikgKiAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUd2Vlbi5FYXNpbmcuQm91bmNlLk91dChrICogMiAtIDEpICogMC41ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIEludGVycG9sYXRpb24gPSB7XG4gICAgICAgICAgICBMaW5lYXI6IGZ1bmN0aW9uICh2LCBrKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbSA9IHYubGVuZ3RoIC0gMSwgZiA9IG0gKiBrLCBpID0gTWF0aC5mbG9vcihmKSwgZm4gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLlV0aWxzLkxpbmVhcjtcblxuICAgICAgICAgICAgICAgIGlmIChrIDwgMCkgcmV0dXJuIGZuKHZbMF0sIHZbMV0sIGYpO1xuICAgICAgICAgICAgICAgIGlmIChrID4gMSkgcmV0dXJuIGZuKHZbbV0sIHZbbSAtIDFdLCBtIC0gZik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odltpXSwgdltpICsgMSA+IG0gPyBtIDogaSArIDFdLCBmIC0gaSk7XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEJlemllcjogZnVuY3Rpb24gKHYsIGspIHtcblxuICAgICAgICAgICAgICAgIHZhciBiID0gMCwgbiA9IHYubGVuZ3RoIC0gMSwgcHcgPSBNYXRoLnBvdywgYm4gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLlV0aWxzLkJlcm5zdGVpbiwgaTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPD0gbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGIgKz0gcHcoMSAtIGssIG4gLSBpKSAqIHB3KGssIGkpICogdltpXSAqIGJuKG4sIGkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBDYXRtdWxsUm9tOiBmdW5jdGlvbiAodiwgaykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG0gPSB2Lmxlbmd0aCAtIDEsIGYgPSBtICogaywgaSA9IE1hdGguZmxvb3IoZiksIGZuID0gVHdlZW4uSW50ZXJwb2xhdGlvbi5VdGlscy5DYXRtdWxsUm9tO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZbMF0gPT09IHZbbV0pIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoayA8IDApIGkgPSBNYXRoLmZsb29yKGYgPSBtICogKCAxICsgayApKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4odlsoIGkgLSAxICsgbSApICUgbV0sIHZbaV0sIHZbKCBpICsgMSApICUgbV0sIHZbKCBpICsgMiApICUgbV0sIGYgLSBpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPCAwKSByZXR1cm4gdlswXSAtICggZm4odlswXSwgdlswXSwgdlsxXSwgdlsxXSwgLWYpIC0gdlswXSApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoayA+IDEpIHJldHVybiB2W21dIC0gKCBmbih2W21dLCB2W21dLCB2W20gLSAxXSwgdlttIC0gMV0sIGYgLSBtKSAtIHZbbV0gKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4odltpID8gaSAtIDEgOiAwXSwgdltpXSwgdlttIDwgaSArIDEgPyBtIDogaSArIDFdLCB2W20gPCBpICsgMiA/IG0gOiBpICsgMl0sIGYgLSBpKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgVXRpbHM6IHtcblxuICAgICAgICAgICAgICAgIExpbmVhcjogZnVuY3Rpb24gKHAwLCBwMSwgdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoIHAxIC0gcDAgKSAqIHQgKyBwMDtcblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBCZXJuc3RlaW46IGZ1bmN0aW9uIChuLCBpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZjID0gVHdlZW4uSW50ZXJwb2xhdGlvbi5VdGlscy5GYWN0b3JpYWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYyhuKSAvIGZjKGkpIC8gZmMobiAtIGkpO1xuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIEZhY3RvcmlhbDogKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IFsxXTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG4pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAxLCBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFbbl0pIHJldHVybiBhW25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gbjsgaSA+IDE7IGktLSkgcyAqPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbbl0gPSBzO1xuXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9KSgpLFxuXG4gICAgICAgICAgICAgICAgQ2F0bXVsbFJvbTogZnVuY3Rpb24gKHAwLCBwMSwgcDIsIHAzLCB0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHYwID0gKCBwMiAtIHAwICkgKiAwLjUsIHYxID0gKCBwMyAtIHAxICkgKiAwLjUsIHQyID0gdCAqIHQsIHQzID0gdCAqIHQyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCAyICogcDEgLSAyICogcDIgKyB2MCArIHYxICkgKiB0MyArICggLTMgKiBwMSArIDMgKiBwMiAtIDIgKiB2MCAtIHYxICkgKiB0MiArIHYwICogdCArIHAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb2JqZWN0OndkQ2IuSGFzaDxhbnk+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdmFsdWVzU3RhcnQ6d2RDYi5IYXNoPGFueT4gPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHJpdmF0ZSBfdmFsdWVzRW5kOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHByaXZhdGUgX2Vhc2luZ0Z1bmN0aW9uID0gVHdlZW4uRWFzaW5nLkxpbmVhci5Ob25lO1xuICAgICAgICBwcml2YXRlIF9pbnRlcnBvbGF0aW9uRnVuY3Rpb24gPSBUd2Vlbi5JbnRlcnBvbGF0aW9uLkxpbmVhcjtcbiAgICAgICAgcHJpdmF0ZSBfb25TdGFydENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfb25TdGFydENhbGxiYWNrRmlyZWQgPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfb25VcGRhdGVDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX29uRmluaXNoQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9vblN0b3BDYWxsYmFjayA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUJvZHkodGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBlYXNlVmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWQgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25TdGFydENhbGxiYWNrICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVhc2VWYWx1ZSA9IHRoaXMuX2Vhc2luZ0Z1bmN0aW9uKHRoaXMuZWxhcHNlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZC5mb3JFYWNoKCh2YWx1ZTphbnksIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBzZWxmLl92YWx1ZXNTdGFydC5nZXRDaGlsZChrZXkpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChlbmQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9vYmplY3Quc2V0VmFsdWUoa2V5LCBzZWxmLl9pbnRlcnBvbGF0aW9uRnVuY3Rpb24oZW5kLCBlYXNlVmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlcyByZWxhdGl2ZSBlbmQgdmFsdWVzIHdpdGggc3RhcnQgYXMgYmFzZSAoZS5nLjogKzEwLCAtMylcbiAgICAgICAgICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNTdHJpbmcoZW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gc3RhcnQgKyByb290LnBhcnNlRmxvYXQoZW5kLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBwcm90ZWN0IGFnYWluc3Qgbm9uIG51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNOdW1iZXIoZW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2JqZWN0LnNldFZhbHVlKGtleSwgc3RhcnQgKyAoIGVuZCAtIHN0YXJ0ICkgKiBlYXNlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgaWYgKCB0aGlzLl9vblVwZGF0ZUNhbGxiYWNrICE9PSBudWxsICkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLl9vYmplY3QuZ2V0Q2hpbGRyZW4oKSwgZWFzZVZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZnJvbShvYmplY3Q6YW55KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PihvYmplY3QpO1xuXG4gICAgICAgICAgICAvLyBTZXQgYWxsIHN0YXJ0aW5nIHZhbHVlcyBwcmVzZW50IG9uIHRoZSB0YXJnZXQgb2JqZWN0XG4gICAgICAgICAgICB0aGlzLl9vYmplY3QuZm9yRWFjaCgodmFsdWU6YW55LCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fdmFsdWVzU3RhcnQuYWRkQ2hpbGQoa2V5LCByb290LnBhcnNlRmxvYXQodmFsdWUsIDEwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG8ocHJvcGVydGllczphbnksIGR1cmF0aW9uOm51bWJlciA9IDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZCA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55Pihwcm9wZXJ0aWVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0VuZC5mb3JFYWNoKCh2YWx1ZTphbnksIGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhbiBBcnJheSB3YXMgcHJvdmlkZWQgYXMgcHJvcGVydHkgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGxvY2FsIGNvcHkgb2YgdGhlIEFycmF5IHdpdGggdGhlIHN0YXJ0IHZhbHVlIGF0IHRoZSBmcm9udFxuICAgICAgICAgICAgICAgICAgICBzZWxmLl92YWx1ZXNFbmQuc2V0VmFsdWUoa2V5LCBbc2VsZi5fb2JqZWN0LmdldENoaWxkKGtleSldLmNvbmNhdChzZWxmLl92YWx1ZXNFbmQuZ2V0Q2hpbGQoa2V5KSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuX3ZhbHVlc1N0YXJ0LnNldFZhbHVlKGtleSwgc2VsZi5fb2JqZWN0LmdldENoaWxkKGtleSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCggc2VsZi5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGQoa2V5KSBpbnN0YW5jZW9mIEFycmF5ICkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3ZhbHVlc1N0YXJ0LnNldFZhbHVlKGtleSwgc2VsZi5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGQoa2V5KSAqIDEuMCk7IC8vIEVuc3VyZXMgd2UncmUgdXNpbmcgbnVtYmVycywgbm90IHN0cmluZ3NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKSB7XG4gICAgICAgICAgICBzdXBlci5zdG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vblN0b3BDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uU3RvcENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFR3ZWVuLmNyZWF0ZSgpLmZyb20odGhpcy5fdmFsdWVzU3RhcnQuZ2V0Q2hpbGRyZW4oKSlcbiAgICAgICAgICAgIC50byh0aGlzLl92YWx1ZXNFbmQuZ2V0Q2hpbGRyZW4oKSwgdGhpcy5kdXJhdGlvbilcbiAgICAgICAgICAgICAgICAuZWFzaW5nKHRoaXMuX2Vhc2luZ0Z1bmN0aW9uKVxuICAgICAgICAgICAgICAgIC5pbnRlcnBvbGF0aW9uKHRoaXMuX2ludGVycG9sYXRpb25GdW5jdGlvbilcbiAgICAgICAgICAgICAgICAub25TdGFydCh0aGlzLl9vblN0YXJ0Q2FsbGJhY2spXG4gICAgICAgICAgICAgICAgLm9uU3RvcCh0aGlzLl9vblN0b3BDYWxsYmFjaylcbiAgICAgICAgICAgICAgICAub25GaW5pc2godGhpcy5fb25GaW5pc2hDYWxsYmFjaylcbiAgICAgICAgICAgICAgICAub25VcGRhdGUodGhpcy5fb25VcGRhdGVDYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmV2ZXJzZSgpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLl92YWx1ZXNTdGFydDtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWVzU3RhcnQgPSB0aGlzLl92YWx1ZXNFbmQ7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZXNFbmQgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZWFzaW5nKGVhc2luZykge1xuICAgICAgICAgICAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmc7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJwb2xhdGlvbkZ1bmN0aW9uID0gaW50ZXJwb2xhdGlvbjtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25VcGRhdGUoY2FsbGJhY2s6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25GaW5pc2goY2FsbGJhY2s6RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29uRmluaXNoQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25TdGFydChjYWxsYmFjazpGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RvcChjYWxsYmFjazpGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb25TdG9wQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZmluaXNoKCl7XG4gICAgICAgICAgICBzdXBlci5maW5pc2goKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRmluaXNoQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkZpbmlzaENhbGxiYWNrLmNhbGwodGhpcy5fb2JqZWN0LmdldENoaWxkcmVuKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCByZW5kZXIocmVuZGVyZXI6UmVuZGVyZXIsIGdlb21ldHJ5Okdlb21ldHJ5LCBjYW1lcmE6R2FtZU9iamVjdCk7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBNZXNoUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlckNvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgcmVuZGVyZXIuYWRkQ29tbWFuZCh0aGlzLmNyZWF0ZURyYXdDb21tYW5kKGdlb21ldHJ5LCBjYW1lcmEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGdlb21ldHJ5Okdlb21ldHJ5LCBjYW1lcmE6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGNhbWVyYS5nZXRDb21wb25lbnQ8Q2FtZXJhQ29udHJvbGxlcj4oQ2FtZXJhQ29udHJvbGxlcik7XG5cbiAgICAgICAgICAgIGFzc2VydCghIWNvbnRyb2xsZXIgJiYgISFjb250cm9sbGVyLmNhbWVyYSwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY2FtZXJhXCIgLCBcImFkZCBDYW1lcmEgQ29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgIGFzc2VydCghIWdlb21ldHJ5LCBMb2cuaW5mby5GVU5DX01VU1QoXCJNZXNoXCIsIFwiYWRkIGdlb21ldHJ5IGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVEcmF3Q29tbWFuZChnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgIHZhciBxdWFkQ21kOlF1YWRDb21tYW5kID0gUXVhZENvbW1hbmQuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50ID0gY2FtZXJhLmdldENvbXBvbmVudDxDYW1lcmFDb250cm9sbGVyPihDYW1lcmFDb250cm9sbGVyKSxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDpNYXRlcmlhbCA9IGdlb21ldHJ5Lm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICBwb3NpdGlvbjpWZWN0b3IzID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBxdWFkQ21kLmJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuXG4gICAgICAgICAgICBxdWFkQ21kLmFuaW1hdGlvbiA9IGdlb21ldHJ5LmVudGl0eU9iamVjdC5nZXRDb21wb25lbnQ8QW5pbWF0aW9uPihBbmltYXRpb24pO1xuXG4gICAgICAgICAgICBxdWFkQ21kLmRyYXdNb2RlID0gZ2VvbWV0cnkuZHJhd01vZGU7XG5cbiAgICAgICAgICAgIHF1YWRDbWQubU1hdHJpeCA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5sb2NhbFRvV29ybGRNYXRyaXg7XG5cbiAgICAgICAgICAgIHF1YWRDbWQudk1hdHJpeCA9IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4O1xuICAgICAgICAgICAgcXVhZENtZC5wTWF0cml4ID0gY2FtZXJhQ29tcG9uZW50LnBNYXRyaXg7XG5cbiAgICAgICAgICAgIHF1YWRDbWQubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICAgICAgcXVhZENtZC56ID0gcG9zaXRpb24uejtcblxuICAgICAgICAgICAgcXVhZENtZC5ibGVuZCA9IG1hdGVyaWFsLmJsZW5kO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBxdWFkQ21kO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU2t5Ym94UmVuZGVyZXIgZXh0ZW5kcyBNZXNoUmVuZGVyZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbmRlcihyZW5kZXJlcjpSZW5kZXJlciwgZ2VvbWV0cnk6R2VvbWV0cnksIGNhbWVyYTpHYW1lT2JqZWN0KTp2b2lkIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNreWJveENvbW1hbmQgPSB0aGlzLmNyZWF0ZURyYXdDb21tYW5kKGdlb21ldHJ5LCBjYW1lcmEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBVSVJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXJDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3pJbmRleDpudW1iZXIgPSAxO1xuICAgICAgICBnZXQgekluZGV4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fekluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHNldCB6SW5kZXgoekluZGV4Om51bWJlcil7XG4gICAgICAgICAgICBpZih6SW5kZXggIT09IHRoaXMuX3pJbmRleCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fekluZGV4ID0gekluZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYW52YXMpe1xuICAgICAgICAgICAgICAgICAgICB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZSh0aGlzLmNhbnZhcykuY3NzKFwiekluZGV4XCIsIHpJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpcnR5RHVyaW5nQ3VycmVudExvb3A6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9kaXJ0eTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgZ2V0IGRpcnR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlydHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGRpcnR5KGRpcnR5OmJvb2xlYW4pe1xuICAgICAgICAgICAgaWYoZGlydHkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlEdXJpbmdDdXJyZW50TG9vcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udGV4dDphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaXNDbGVhckNhbnZhczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzdGF0ZTpFVUlSZW5kZXJlclN0YXRlID0gRVVJUmVuZGVyZXJTdGF0ZS5OT1JNQUw7XG4gICAgICAgIHB1YmxpYyBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3JlZmVyZW5jZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPFVJT2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8VUlPYmplY3Q+KCk7XG5cbiAgICAgICAgcHVibGljIHJlc2V0RGlydHkoKXtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkVG9PYmplY3Qob2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUxpc3QuYWRkQ2hpbGQob2JqZWN0KTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgdWlSZW5kZXJlciBtYXkgYmUgc2hhcmVkIGJ5IG11bHRpIG9iamVjdHMsIHNvIHRoaXMub2JqZWN0IGlzIHRoZSBsYXN0IG9uZSB3aGljaCBzaGFyZSB0aGlzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUZyb21PYmplY3Qob2JqZWN0OlVJT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUxpc3QucmVtb3ZlQ2hpbGQob2JqZWN0KTtcblxuICAgICAgICAgICAgaWYodGhpcy5fcmVmZXJlbmNlTGlzdC5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdXBlci5yZW1vdmVGcm9tT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzSW5pdFwiKVxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVPdmVybGF5Q2FudmFzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgaWYodGhpcy5fcmVmZXJlbmNlTGlzdC5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZSh0aGlzLmNhbnZhcykucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBnZW9tZXRyeTpHZW9tZXRyeSwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyQ2FudmFzKCl7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLmlzQ2xlYXJDYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlT3ZlcmxheUNhbnZhcygpe1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IG51bGwsXG4gICAgICAgICAgICAgICAgdmlldyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuY2FudmFzKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHdkQ2IuRG9tUXVlcnkuY3JlYXRlKFwiPGNhbnZhcz48L2NhbnZhcz5cIikucHJlcGVuZFRvKFwiYm9keVwiKTtcbiAgICAgICAgICAgIHZpZXcgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkudmlldztcblxuICAgICAgICAgICAgY2FudmFzLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICAgICAgICBjYW52YXMuY3NzKFwibGVmdFwiLCBgJHt2aWV3Lnh9cHhgKTtcbiAgICAgICAgICAgIGNhbnZhcy5jc3MoXCJ0b3BcIiwgYCR7dmlldy55fXB4YCk7XG4gICAgICAgICAgICBjYW52YXMuY3NzKFwiekluZGV4XCIsIHRoaXMuekluZGV4KTtcblxuICAgICAgICAgICAgY2FudmFzLmF0dHIoXCJ3aWR0aFwiLCB2aWV3LndpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhcy5hdHRyKFwiaGVpZ2h0XCIsIHZpZXcuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXMuZ2V0KDApO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVVSVJlbmRlcmVyU3RhdGV7XG4gICAgICAgIE5PUk1BTCxcbiAgICAgICAgRElSVFksXG4gICAgICAgIE5PVF9ESVJUWVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNwYWNlUGFydGl0aW9uIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgYnVpbGQoKTp2b2lkO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0UmVuZGVyTGlzdEJ5RnJ1c3R1bUN1bGwoKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRJbnRlcnNlY3RMaXN0V2l0aFJheShlOk1vdXNlRXZlbnQpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGdldENvbGxpZGVPYmplY3RzKHNoYXBlOlNoYXBlKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRDaGlsZHJlbigpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PjtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBPY3RyZWUgZXh0ZW5kcyBTcGFjZVBhcnRpdGlvbiB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtYXhEZXB0aDpudW1iZXIgPSAyO1xuICAgICAgICBwdWJsaWMgbWF4Tm9kZUNhcGFjaXR5Om51bWJlciA9IDY0O1xuXG4gICAgICAgIHByaXZhdGUgX3Jvb3Q6T2N0cmVlTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NlbGVjdGlvbkxpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PigpO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIGFzc2VydChlbnRpdHlPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIk9jdHJlZSBjb21wb25lbnRcIiwgXCJhZGQgdG8gR2FtZU9iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICBzdXBlci5hZGRUb09iamVjdChlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xuICAgICAgICAgICAgdmFyIGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gdGhpcy5nZXRDaGlsZHJlbigpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREZXB0aCA9IDAsXG4gICAgICAgICAgICAgICAgbWF4Tm9kZUNhcGFjaXR5ID0gdGhpcy5tYXhOb2RlQ2FwYWNpdHksXG4gICAgICAgICAgICAgICAgbWF4RGVwdGggPSB0aGlzLm1heERlcHRoO1xuXG4gICAgICAgICAgICB2YXIgYnVpbGRUcmVlID0gKHdvcmxkTWluOlZlY3RvcjMsIHdvcmxkTWF4OlZlY3RvcjMsIGN1cnJlbnREZXB0aCwgZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIHBhcmVudE5vZGU6T2N0cmVlTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBoYWxmRXh0ZW5kcyA9IG5ldyBWZWN0b3IzKCh3b3JsZE1heC54IC0gd29ybGRNaW4ueCkgLyAyLCAod29ybGRNYXgueSAtIHdvcmxkTWluLnkpIC8gMiwgKHdvcmxkTWF4LnogLSB3b3JsZE1pbi56KSAvIDIpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCAyOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCAyOyB5KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgMjsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsTWluID0gd29ybGRNaW4uY29weSgpLmFkZChoYWxmRXh0ZW5kcy5jb3B5KCkuc2NhbGUoeCwgeSwgeikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbE1heCA9IHdvcmxkTWluLmNvcHkoKS5hZGQoaGFsZkV4dGVuZHMuY29weSgpLnNjYWxlKHggKyAxLCB5ICsgMSwgeiArIDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IE9jdHJlZU5vZGUuY3JlYXRlKGxvY2FsTWluLCBsb2NhbE1heCwgbWF4Tm9kZUNhcGFjaXR5LCBjdXJyZW50RGVwdGggKyAxLCBtYXhEZXB0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFkZEVudGl0eU9iamVjdHMoZW50aXR5T2JqZWN0TGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5lbnRpdHlPYmplY3RDb3VudCA+IG1heE5vZGVDYXBhY2l0eSAmJiBjdXJyZW50RGVwdGggPCBtYXhEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZFRyZWUobG9jYWxNaW4sIGxvY2FsTWF4LCBjdXJyZW50RGVwdGggKyAxLCBlbnRpdHlPYmplY3RMaXN0LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFkZE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbGxpZGVyRm9yRmlyc3RDaGVjayhlbnRpdHlPYmplY3RMaXN0KTtcblxuICAgICAgICAgICAgdmFyIHsgd29ybGRNaW4sIHdvcmxkTWF4IH0gPSB0aGlzLl9nZXRXb3JsZEV4dGVuZHMoZW50aXR5T2JqZWN0TGlzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBPY3RyZWVOb2RlLmNyZWF0ZSh3b3JsZE1pbiwgd29ybGRNYXgsIG1heE5vZGVDYXBhY2l0eSwgY3VycmVudERlcHRoICsgMSwgbWF4RGVwdGgpO1xuXG4gICAgICAgICAgICBidWlsZFRyZWUod29ybGRNaW4sIHdvcmxkTWF4LCBjdXJyZW50RGVwdGgsIGVudGl0eU9iamVjdExpc3QsIHRoaXMuX3Jvb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY29udGFpbiBDYW1lcmFDb250cm9sbGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBnZXRSZW5kZXJMaXN0QnlGcnVzdHVtQ3VsbCgpe1xuICAgICAgICAgICAgdmFyIGZydXN0dW1QbGFuZXMgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmN1cnJlbnRDYW1lcmEuZ2V0Q29tcG9uZW50KENhbWVyYUNvbnRyb2xsZXIpLmdldFBsYW5lcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlzaXRSb290KFwiZmluZEFuZEFkZFRvUmVuZGVyTGlzdFwiLCBbZnJ1c3R1bVBsYW5lcywgdGhpcy5fc2VsZWN0aW9uTGlzdF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlciksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY29udGFpbiBDYW1lcmFDb250cm9sbGVyIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBnZXRJbnRlcnNlY3RMaXN0V2l0aFJheShlOk1vdXNlRXZlbnQpe1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uSW5WaWV3ID0gZS5sb2NhdGlvbkluVmlldztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2l0Um9vdChcImZpbmRBbmRBZGRUb0ludGVyc2VjdExpc3RcIiwgW0RpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhQ29udHJvbGxlcikuY3JlYXRlUmF5KGxvY2F0aW9uSW5WaWV3LngsIGxvY2F0aW9uSW5WaWV3LnkpLCB0aGlzLl9zZWxlY3Rpb25MaXN0XSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlkZU9iamVjdHMoc2hhcGU6U2hhcGUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2l0Um9vdChcImZpbmRBbmRBZGRUb0NvbGxpZGVMaXN0XCIsIFtzaGFwZSwgdGhpcy5fc2VsZWN0aW9uTGlzdF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENoaWxkcmVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0LmdldENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92aXNpdFJvb3QobWV0aG9kOnN0cmluZywgYXJnczpBcnJheTxhbnk+KTphbnl7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25MaXN0LnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jvb3Qubm9kZUxpc3QuZm9yRWFjaCgodG9wTm9kZTpPY3RyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9wTm9kZVttZXRob2RdLmFwcGx5KHRvcE5vZGUsIGFyZ3MpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9uTGlzdCA9IHRoaXMuX3NlbGVjdGlvbkxpc3QucmVtb3ZlUmVwZWF0SXRlbXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGlvbkxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91cGRhdGVDb2xsaWRlckZvckZpcnN0Q2hlY2soZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pIHtcbiAgICAgICAgICAgIHZhciBjb2xsaWRlcjpCb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3RMaXN0LmZvckVhY2goKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KENvbGxpZGVyRm9yRmlyc3RDaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZXIgPSBzZWxmLl9jcmVhdGVDb2xsaWRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5hZGRDb21wb25lbnQoY29sbGlkZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyLmluaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZXIgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2xsaWRlci51cGRhdGUobnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFdvcmxkRXh0ZW5kcyhlbnRpdHlPYmplY3RMaXN0OndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pik6e3dvcmxkTWluOlZlY3RvcjMsIHdvcmxkTWF4OlZlY3RvcjN9IHtcbiAgICAgICAgICAgIHZhciB3b3JsZE1pbiA9IFZlY3RvcjMuY3JlYXRlKE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpLFxuICAgICAgICAgICAgd29ybGRNYXggPSBWZWN0b3IzLmNyZWF0ZSgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0TGlzdC5mb3JFYWNoKChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtaW4gPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXggPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlcjpCb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaGFwZTpBQUJCU2hhcGUgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29sbGlkZXIgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gPEFBQkJTaGFwZT5jb2xsaWRlci5zaGFwZTtcbiAgICAgICAgICAgICAgICBtaW4gPSBzaGFwZS5nZXRNaW4oKTtcbiAgICAgICAgICAgICAgICBtYXggPSBzaGFwZS5nZXRNYXgoKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2NoZWNrRXh0ZW5kcyhtaW4sIHdvcmxkTWluLCB3b3JsZE1heCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2hlY2tFeHRlbmRzKG1heCwgd29ybGRNaW4sIHdvcmxkTWF4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdvcmxkTWluOiB3b3JsZE1pbixcbiAgICAgICAgICAgICAgICB3b3JsZE1heDogd29ybGRNYXhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVDb2xsaWRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIEJveENvbGxpZGVyRm9yRmlyc3RDaGVjay5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NoZWNrRXh0ZW5kcyh2OiBWZWN0b3IzLCBtaW46IFZlY3RvcjMsIG1heDogVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHYueCA8IG1pbi54KXtcbiAgICAgICAgICAgICAgICBtaW4ueCA9IHYueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueSA8IG1pbi55KXtcbiAgICAgICAgICAgICAgICBtaW4ueSA9IHYueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueiA8IG1pbi56KXtcbiAgICAgICAgICAgICAgICBtaW4ueiA9IHYuejtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueCA+IG1heC54KXtcbiAgICAgICAgICAgICAgICBtYXgueCA9IHYueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueSA+IG1heC55KXtcbiAgICAgICAgICAgICAgICBtYXgueSA9IHYueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHYueiA+IG1heC56KXtcbiAgICAgICAgICAgICAgICBtYXgueiA9IHYuejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE9jdHJlZU5vZGV7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1pblBvaW50OiBWZWN0b3IzLCBtYXhQb2ludDogVmVjdG9yMywgY2FwYWNpdHk6IG51bWJlciwgZGVwdGg6IG51bWJlciwgbWF4RGVwdGg6IG51bWJlcikge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKG1pblBvaW50LCBtYXhQb2ludCwgY2FwYWNpdHksIGRlcHRoLCBtYXhEZXB0aCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGVudGl0eU9iamVjdENvdW50KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3RMaXN0LmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0TGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8RW50aXR5T2JqZWN0PigpO1xuICAgICAgICBwdWJsaWMgbm9kZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPE9jdHJlZU5vZGU+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxPY3RyZWVOb2RlPigpO1xuXG4gICAgICAgIHByaXZhdGUgX2RlcHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21heERlcHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2NhcGFjaXR5Om51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21pblBvaW50OlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tYXhQb2ludDpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYm91bmRpbmdWZWN0b3JzOkFycmF5PFZlY3RvcjM+ID0gbnVsbDtcblxuICAgICAgICBjb25zdHJ1Y3RvcihtaW5Qb2ludDogVmVjdG9yMywgbWF4UG9pbnQ6IFZlY3RvcjMsIGNhcGFjaXR5OiBudW1iZXIsIGRlcHRoOiBudW1iZXIsIG1heERlcHRoOiBudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgICAgICAgICB0aGlzLl9kZXB0aCA9IGRlcHRoO1xuICAgICAgICAgICAgdGhpcy5fbWF4RGVwdGggPSBtYXhEZXB0aDtcblxuICAgICAgICAgICAgdGhpcy5fbWluUG9pbnQgPSBtaW5Qb2ludDtcbiAgICAgICAgICAgIHRoaXMuX21heFBvaW50ID0gbWF4UG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKXtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kaW5nVmVjdG9ycyA9IEJvdW5kaW5nUmVnaW9uVXRpbHMuYnVpbGRCb3VuZGluZ1ZlY3RvcnModGhpcy5fbWluUG9pbnQsIHRoaXMuX21heFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIGVudGl0eU9iamVjdExpc3QuZm9yRWFjaCgoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZW50aXR5T2JqZWN0IGluc3RhbmNlb2YgR2FtZU9iamVjdCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhZGQgZ2FtZU9iamVjdHNcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRFbnRpdHlPYmplY3RzKGVudGl0eU9iamVjdExpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+KXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBsb2NhbE1pbiA9IHRoaXMuX21pblBvaW50LFxuICAgICAgICAgICAgICAgIGxvY2FsTWF4ID0gdGhpcy5fbWF4UG9pbnQ7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdExpc3QuZm9yRWFjaCgoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZihlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PEJveENvbGxpZGVyRm9yRmlyc3RDaGVjaz4oQm94Q29sbGlkZXJGb3JGaXJzdENoZWNrKS5zaGFwZS5pc0ludGVyc2VjdFdpdGhCb3gobG9jYWxNaW4sIGxvY2FsTWF4KSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW50aXR5T2JqZWN0TGlzdC5hZGRDaGlsZChlbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZE5vZGUobm9kZTpPY3RyZWVOb2RlKXtcbiAgICAgICAgICAgIHRoaXMubm9kZUxpc3QuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEFuZEFkZFRvUmVuZGVyTGlzdChmcnVzdHVtUGxhbmVzOkFycmF5PFBsYW5lPiwgc2VsZWN0aW9uTGlzdDp3ZENiLkNvbGxlY3Rpb248RW50aXR5T2JqZWN0Pik6dm9pZHtcbiAgICAgICAgICAgIGlmIChCb3VuZGluZ1JlZ2lvblV0aWxzLmlzQUFCQkludGVyc2VjdEZydXN0dW0odGhpcy5fYm91bmRpbmdWZWN0b3JzLCBmcnVzdHVtUGxhbmVzKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9oYXNOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlTGlzdC5mb3JFYWNoKChub2RlOk9jdHJlZU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZmluZEFuZEFkZFRvUmVuZGVyTGlzdChmcnVzdHVtUGxhbmVzLCBzZWxlY3Rpb25MaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkxpc3QuYWRkQ2hpbGRyZW4odGhpcy5lbnRpdHlPYmplY3RMaXN0LmZpbHRlcigoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0LmlzVmlzaWJsZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEFuZEFkZFRvSW50ZXJzZWN0TGlzdChyYXk6UmF5LCBzZWxlY3Rpb25MaXN0OndkQ2IuQ29sbGVjdGlvbjxFbnRpdHlPYmplY3Q+KXtcbiAgICAgICAgICAgIGlmIChyYXkuaXNJbnRlcnNlY3RXaXRoQUFCQih0aGlzLl9taW5Qb2ludCwgdGhpcy5fbWF4UG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hhc05vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVMaXN0LmZvckVhY2goKG5vZGU6T2N0cmVlTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maW5kQW5kQWRkVG9JbnRlcnNlY3RMaXN0KHJheSwgc2VsZWN0aW9uTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25MaXN0LmFkZENoaWxkcmVuKHRoaXMuZW50aXR5T2JqZWN0TGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEFuZEFkZFRvQ29sbGlkZUxpc3Qoc2hhcGU6U2hhcGUsIHNlbGVjdGlvbkxpc3Q6d2RDYi5Db2xsZWN0aW9uPEVudGl0eU9iamVjdD4pOnZvaWR7XG4gICAgICAgICAgICBpZihzaGFwZS5pc0ludGVyc2VjdFdpdGhCb3godGhpcy5fbWluUG9pbnQsIHRoaXMuX21heFBvaW50KSl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hhc05vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVMaXN0LmZvckVhY2goKG5vZGU6T2N0cmVlTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maW5kQW5kQWRkVG9Db2xsaWRlTGlzdChzaGFwZSwgc2VsZWN0aW9uTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25MaXN0LmFkZENoaWxkcmVuKHRoaXMuZW50aXR5T2JqZWN0TGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNOb2RlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlTGlzdC5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbGxpZGVyRm9yRmlyc3RDaGVjayBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaW5pdCgpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBCb3hDb2xsaWRlckZvckZpcnN0Q2hlY2sgZXh0ZW5kcyBDb2xsaWRlckZvckZpcnN0Q2hlY2sge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGdldCBzaGFwZSgpOlNoYXBle1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxpZGVyLnNoYXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sbGlkZXI6Qm94Q29sbGlkZXIgPSBCb3hDb2xsaWRlci5jcmVhdGUoKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5fY29sbGlkZXIuZW50aXR5T2JqZWN0ID0gdGhpcy5lbnRpdHlPYmplY3Q7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbGxpZGVyLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxpZGVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbGxpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgZ2V0IHNoYXBlKCk6U2hhcGV7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib3VuZGluZ1JlZ2lvbi5zaGFwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBBQlNUUkFDVF9BVFRSSUJVVEU7XG5cbiAgICAgICAgcHVibGljIGJvdW5kaW5nUmVnaW9uOkJvdW5kaW5nUmVnaW9uID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY3JlYXRlQm91bmRpbmdSZWdpb24oKTtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGJ1aWxkQm91bmRpbmdSZWdpb24oKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbiA9IHRoaXMuY3JlYXRlQm91bmRpbmdSZWdpb24oKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdSZWdpb24uaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLmJ1aWxkQm91bmRpbmdSZWdpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdSZWdpb24udXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlU2hhcGUoKXtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdSZWdpb24udXBkYXRlU2hhcGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGNvbGxpZGVyOkNvbGxpZGVyKXtcbiAgICAgICAgICAgIGFzc2VydChjb2xsaWRlciBpbnN0YW5jZW9mIENvbGxpZGVyLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInRhcmdldFwiLCBcImJlIGNvbGxpZGVyXCIpKVxuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoKGNvbGxpZGVyOkNvbGxpZGVyKXtcbiAgICAgICAgICAgIGlmKGNvbGxpZGVyIGluc3RhbmNlb2YgQm94Q29sbGlkZXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nUmVnaW9uLmlzSW50ZXJzZWN0V2l0aEJveChjb2xsaWRlci5ib3VuZGluZ1JlZ2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNvbGxpZGVyIGluc3RhbmNlb2YgU3BoZXJlQ29sbGlkZXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nUmVnaW9uLmlzSW50ZXJzZWN0V2l0aFNwaGVyZShjb2xsaWRlci5ib3VuZGluZ1JlZ2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIExvZy53YXJuKExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoYCR7dGhpcy50eXBlfSBjb2xsaWRlcmAsIGBpbnRlcnNlY3Qgd2l0aCAke2NvbGxpZGVyLnR5cGV9IGNvbGxpZGVyYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzQ29sbGlkZSh0YXJnZXRPYmplY3Q6R2FtZU9iamVjdCk6Ym9vbGVhbntcbiAgICAgICAgICAgIHZhciBjb2xsaWRlcjpDb2xsaWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2lzU2VsZih0YXJnZXRPYmplY3QpIHx8ICF0YXJnZXRPYmplY3QuaGFzQ29tcG9uZW50KENvbGxpZGVyKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb2xsaWRlciA9IHRhcmdldE9iamVjdC5nZXRDb21wb25lbnQ8Q29sbGlkZXI+KENvbGxpZGVyKTtcblxuICAgICAgICAgICAgaWYodGFyZ2V0T2JqZWN0Lmhhc0NvbXBvbmVudChSaWdpZEJvZHkpKXtcbiAgICAgICAgICAgICAgICBjb2xsaWRlci51cGRhdGVTaGFwZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0ludGVyc2VjdFdpdGgoY29sbGlkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNTZWxmKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzU2VsZih0aGlzLmVudGl0eU9iamVjdCwgZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQm94Q29sbGlkZXIgZXh0ZW5kcyBDb2xsaWRlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYm91bmRpbmdSZWdpb246Qm94Qm91bmRpbmdSZWdpb247XG5cbiAgICAgICAgcHVibGljIGNlbnRlcjpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBoYWxmRXh0ZW50czpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gPGFueT5FQ29sbGlkZXJUeXBlLkJPWDtcblxuICAgICAgICBwdWJsaWMgY3JlYXRlQm91bmRpbmdSZWdpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBCb3hCb3VuZGluZ1JlZ2lvbi5jcmVhdGUodGhpcy5lbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJ1aWxkQm91bmRpbmdSZWdpb24oKXtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdSZWdpb24uYnVpbGQodGhpcy5jZW50ZXIsIHRoaXMuaGFsZkV4dGVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBTcGhlcmVDb2xsaWRlciBleHRlbmRzIENvbGxpZGVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBib3VuZGluZ1JlZ2lvbjpTcGhlcmVCb3VuZGluZ1JlZ2lvbjtcblxuICAgICAgICBwdWJsaWMgY2VudGVyOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIHJhZGl1czpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSA8YW55PkVDb2xsaWRlclR5cGUuU1BIRVJFO1xuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVCb3VuZGluZ1JlZ2lvbigpe1xuICAgICAgICAgICAgcmV0dXJuIFNwaGVyZUJvdW5kaW5nUmVnaW9uLmNyZWF0ZSh0aGlzLmVudGl0eU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYnVpbGRCb3VuZGluZ1JlZ2lvbigpe1xuICAgICAgICAgICAgdGhpcy5ib3VuZGluZ1JlZ2lvbi5idWlsZCh0aGlzLmNlbnRlciwgdGhpcy5yYWRpdXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCb3VuZGluZ1JlZ2lvbntcbiAgICAgICAgY29uc3RydWN0b3IoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QgPSBlbnRpdHlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2hhcGU6U2hhcGUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBpc1VzZXJTcGVjaWZ5VGhlUmVnaW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJvdGVjdGVkIG9yaWdpblNoYXBlOlNoYXBlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGRlYnVnT2JqZWN0OkdhbWVPYmplY3QgPSBudWxsO1xuXG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZVNoYXBlKCk7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSB0aGlzLmNyZWF0ZVNoYXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKHJldHVyblZhbHVlLCBjZW50ZXIsIC4uLmFyZ3Mpe1xuICAgICAgICAgICAgaWYodGhpcy5pc0J1aWxkVXNlclNwZWNpZnlCb3VuZGluZ1JlZ2lvbi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuc2hhcGUuY2VudGVyLmlzRXF1YWwoY2VudGVyKSwgTG9nLmluZm8uRlVOQ19TSE9VTERfTk9UKFwidHJhbnNmb3JtIHNoYXBlIHdoZW4gYnVpbGRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9lbHNle1xuICAgICAgICAgICAgLy8gICAgYXNzZXJ0KHRoaXMuc2hhcGUuY2VudGVyLmlzWmVybygpLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJ0cmFuc2Zvcm0gc2hhcGUgd2hlbiBidWlsZFwiKSk7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGJ1aWxkKGNlbnRlcjpWZWN0b3IzLCAuLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgICAgICBpZih0aGlzLmlzQnVpbGRVc2VyU3BlY2lmeUJvdW5kaW5nUmVnaW9uLmFwcGx5KHRoaXMsIHBhcmFtcykpe1xuICAgICAgICAgICAgICAgIHRoaXMuaXNVc2VyU3BlY2lmeVRoZVJlZ2lvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFwZS5zZXRGcm9tU2hhcGVQYXJhbS5hcHBseSh0aGlzLnNoYXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLnNldEZyb21Qb2ludHMoQ29sbGlkZXJVdGlscy5nZXRWZXJ0aWNlcyh0aGlzLmVudGl0eU9iamVjdCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9yaWdpblNoYXBlID0gdGhpcy5zaGFwZS5jb3B5KCk7XG5cbiAgICAgICAgICAgIGlmKERlYnVnQ29uZmlnLmRlYnVnQ29sbGlzaW9uKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnT2JqZWN0ID0gdGhpcy5idWlsZERlYnVnT2JqZWN0RnJvbVNoYXBlKHRoaXMuc2hhcGUpO1xuICAgICAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuYWRkQ2hpbGQodGhpcy5kZWJ1Z09iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKCl7XG4gICAgICAgICAgICAvL3RvZG8gY29uc2lkZXIgbW9ycGhUYXJnZXRzKGlmIGhhcyBtb3JwaFRhcmdldHMgYW5kIG5vdCBjaGFuZ2UgdGFyZ2V0LCByZXR1cm4pP1xuICAgICAgICAgICAgaWYodGhpcy5pc05vdFRyYW5zZm9ybWVkKCkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoRGVidWdDb25maWcuZGVidWdDb2xsaXNpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2hhcGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlYnVnT2JqZWN0RnJvbVNoYXBlKHRoaXMuc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZighdGhpcy5lbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KFJpZ2lkQm9keSkpe1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2hhcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhTcGhlcmUoYm91bmRpbmdSZWdpb246U3BoZXJlQm91bmRpbmdSZWdpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGUuaXNJbnRlcnNlY3RXaXRoU3BoZXJlKGJvdW5kaW5nUmVnaW9uLnNoYXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3goYm91bmRpbmdSZWdpb246Qm94Qm91bmRpbmdSZWdpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGUuaXNJbnRlcnNlY3RXaXRoQm94KGJvdW5kaW5nUmVnaW9uLnNoYXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVTaGFwZSgpOlNoYXBlO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaXNCdWlsZFVzZXJTcGVjaWZ5Qm91bmRpbmdSZWdpb24oLi4uYXJncyk6Ym9vbGVhbjtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGlzTm90VHJhbnNmb3JtZWQoKTpib29sZWFuO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlRGVidWdPYmplY3RGcm9tU2hhcGUoc2hhcGU6U2hhcGUpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc2V0RGVidWdPYmplY3RHZW9tZXRyeShnZW9tZXRyeTpDdXN0b21HZW9tZXRyeSwgc2hhcGU6U2hhcGUpO1xuXG4gICAgICAgIHByb3RlY3RlZCBidWlsZERlYnVnT2JqZWN0RnJvbVNoYXBlKHNoYXBlOlNoYXBlKXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBudWxsLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlbnRpdHlPYmplY3QgPSBudWxsO1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IHdkLkJhc2ljTWF0ZXJpYWwuY3JlYXRlKCk7XG4gICAgICAgICAgICBtYXRlcmlhbC5jb2xvciA9IHdkLkNvbG9yLmNyZWF0ZShcInJnYigyNTUsMCwwKVwiKTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkgPSB3ZC5DdXN0b21HZW9tZXRyeS5jcmVhdGUoKTtcbiAgICAgICAgICAgIGdlb21ldHJ5Lm1hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgICAgICAgICBnZW9tZXRyeS5kcmF3TW9kZSA9IEVEcmF3TW9kZS5MSU5FUztcbiAgICAgICAgICAgIHRoaXMuc2V0RGVidWdPYmplY3RHZW9tZXRyeShnZW9tZXRyeSwgc2hhcGUpO1xuXG4gICAgICAgICAgICByZW5kZXJlciA9IHdkLk1lc2hSZW5kZXJlci5jcmVhdGUoKTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0ID0gd2QuR2FtZU9iamVjdC5jcmVhdGUoKTtcbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5hZGRDb21wb25lbnQoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZW50aXR5T2JqZWN0LmFkZENvbXBvbmVudChyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0udHJhbnNsYXRlKHNoYXBlLmNlbnRlcik7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC5uYW1lID0gYGRlYnVnQm91bmRpbmdSZWdpb24ke3RoaXMuZW50aXR5T2JqZWN0LnVpZH1gO1xuXG4gICAgICAgICAgICBlbnRpdHlPYmplY3QuaW5pdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gZW50aXR5T2JqZWN0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBCb3hCb3VuZGluZ1JlZ2lvbiBleHRlbmRzIEJvdW5kaW5nUmVnaW9ue1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2hhcGU6QUFCQlNoYXBlO1xuXG4gICAgICAgIHByb3RlY3RlZCBvcmlnaW5TaGFwZTpBQUJCU2hhcGU7XG5cblxuICAgICAgICBwdWJsaWMgdXBkYXRlU2hhcGUoKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGlmKHRoaXMuaXNVc2VyU3BlY2lmeVRoZVJlZ2lvbil7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFwZS5zZXRGcm9tVHJhbnNsYXRpb25BbmRTY2FsZSh0aGlzLm9yaWdpblNoYXBlLCB0cmFuc2Zvcm0ubG9jYWxUb1dvcmxkTWF0cml4KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBpZih0cmFuc2Zvcm0uaXNSb3RhdGUpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlLnNldEZyb21PYmplY3QodGhpcy5lbnRpdHlPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6c2V0IHdoZW4gaXNUcmFuc2xhdGUvaXNTY2FsZT9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFwZS5zZXRGcm9tVHJhbnNsYXRpb25BbmRTY2FsZSh0aGlzLm9yaWdpblNoYXBlLCB0cmFuc2Zvcm0ubG9jYWxUb1dvcmxkTWF0cml4KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFwZSgpe1xuICAgICAgICAgICAgLy90b2RvIGFkZCBPQkJTaGFwZVxuICAgICAgICAgICAgcmV0dXJuIEFBQkJTaGFwZS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNoYXBlOkFBQkJTaGFwZSl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5kZWJ1Z09iamVjdCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJidWlsZCBkZWJ1Z09iamVjdFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVEZWJ1Z09iamVjdEZyb21TaGFwZShzaGFwZTpBQUJCU2hhcGUpe1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5kZWJ1Z09iamVjdC5nZXRDb21wb25lbnQ8Q3VzdG9tR2VvbWV0cnk+KEN1c3RvbUdlb21ldHJ5KTtcblxuICAgICAgICAgICAgdGhpcy5zZXREZWJ1Z09iamVjdEdlb21ldHJ5KGdlb21ldHJ5LCBzaGFwZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZGVidWdPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uID0gc2hhcGUuY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZ2VvbWV0cnk6Q3VzdG9tR2VvbWV0cnksIHNoYXBlOkFBQkJTaGFwZSl7XG4gICAgICAgICAgICBhc3NlcnQoc2hhcGUuaGFsZkV4dGVudHMgJiYgIXNoYXBlLmhhbGZFeHRlbnRzLmlzWmVybygpLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJoYWxmRXh0ZW50c1wiLCBcImJlIHplcm9cIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgc2V0RGVidWdPYmplY3RHZW9tZXRyeShnZW9tZXRyeTpDdXN0b21HZW9tZXRyeSwgc2hhcGU6QUFCQlNoYXBlKXtcbiAgICAgICAgICAgIHZhciBoYWxmRXh0ZW50cyA9IHNoYXBlLmhhbGZFeHRlbnRzLFxuICAgICAgICAgICAgICAgIHggPSBoYWxmRXh0ZW50cy54LFxuICAgICAgICAgICAgICAgIHkgPSBoYWxmRXh0ZW50cy55LFxuICAgICAgICAgICAgICAgIHogPSBoYWxmRXh0ZW50cy56O1xuXG4gICAgICAgICAgICBnZW9tZXRyeS52ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgICAgICAteCwgLXksIC16LCAteCwgLXksIHosIHgsIC15LCB6LCB4LCAteSwgLXosXG4gICAgICAgICAgICAgICAgLXgsIHksIC16LCAteCwgeSwgeiwgeCwgeSwgeiwgeCwgeSwgLXpcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTogc2V0IEVsZW1lbnRCdWZmZXIgdG8gY3JlYXRlIFVpbnQ4QXJyYXksIEVCdWZmZXJUeXBlLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICAgICBnZW9tZXRyeSBhZGQgYnVmZmVyIHR5cGUgdGFibGU/XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGljZXMgPSBbXG4gICAgICAgICAgICAgICAgMCwxLDEsMiwyLDMsMywwLFxuICAgICAgICAgICAgICAgIDQsNSw1LDYsNiw3LDcsNCxcbiAgICAgICAgICAgICAgICAwLDQsMSw1LDIsNiwzLDdcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaXNCdWlsZFVzZXJTcGVjaWZ5Qm91bmRpbmdSZWdpb24oY2VudGVyOlZlY3RvcjMsIGhhbGZFeHRlbnRzOlZlY3RvcjMpe1xuICAgICAgICAgICAgcmV0dXJuICEhY2VudGVyICYmICEhaGFsZkV4dGVudHM7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaXNOb3RUcmFuc2Zvcm1lZCgpe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgcmV0dXJuICF0cmFuc2Zvcm0uaXNSb3RhdGUgJiYgIXRyYW5zZm9ybS5pc1RyYW5zbGF0ZSAmJiAhdHJhbnNmb3JtLmlzU2NhbGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFNwaGVyZUJvdW5kaW5nUmVnaW9uIGV4dGVuZHMgQm91bmRpbmdSZWdpb257XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaGFwZTpTcGhlcmVTaGFwZTtcblxuICAgICAgICBwcm90ZWN0ZWQgb3JpZ2luU2hhcGU6U3BoZXJlU2hhcGU7XG5cblxuICAgICAgICBwdWJsaWMgdXBkYXRlU2hhcGUoKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHRoaXMuc2hhcGUuc2V0RnJvbVRyYW5zbGF0aW9uQW5kU2NhbGUodGhpcy5vcmlnaW5TaGFwZSwgdHJhbnNmb3JtLmxvY2FsVG9Xb3JsZE1hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhcGUoKXtcbiAgICAgICAgICAgIHJldHVybiBTcGhlcmVTaGFwZS5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHNoYXBlOlNwaGVyZVNoYXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmRlYnVnT2JqZWN0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImJ1aWxkIGRlYnVnT2JqZWN0XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZURlYnVnT2JqZWN0RnJvbVNoYXBlKHNoYXBlOlNwaGVyZVNoYXBlKXtcbiAgICAgICAgICAgIHRoaXMuZGVidWdPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uID0gc2hhcGUuY2VudGVyO1xuXG4gICAgICAgICAgICB2YXIgc2NhbGVUaW1lcyA9IHNoYXBlLnJhZGl1cyAvIHRoaXMub3JpZ2luU2hhcGUucmFkaXVzO1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z09iamVjdC50cmFuc2Zvcm0uc2NhbGUgPSBWZWN0b3IzLmNyZWF0ZShzY2FsZVRpbWVzLCBzY2FsZVRpbWVzLCBzY2FsZVRpbWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc05vdFRyYW5zZm9ybWVkKCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICByZXR1cm4gIXRyYW5zZm9ybS5pc1RyYW5zbGF0ZSAmJiAhdHJhbnNmb3JtLmlzU2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaXNCdWlsZFVzZXJTcGVjaWZ5Qm91bmRpbmdSZWdpb24oY2VudGVyOlZlY3RvcjMsIHJhZGl1cyl7XG4gICAgICAgICAgICByZXR1cm4gISFjZW50ZXIgJiYgISFyYWRpdXM7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihnZW9tZXRyeTpDdXN0b21HZW9tZXRyeSwgc2hhcGU6U3BoZXJlU2hhcGUpe1xuICAgICAgICAgICAgYXNzZXJ0KHNoYXBlLnJhZGl1cyA+IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwicmFkaXVzXCIsIFwiPiAwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIHNldERlYnVnT2JqZWN0R2VvbWV0cnkoZ2VvbWV0cnk6Q3VzdG9tR2VvbWV0cnksIHNoYXBlOlNwaGVyZVNoYXBlKXtcbiAgICAgICAgICAgIGNvbnN0IFNFR01FTlRTID0gNDAsXG4gICAgICAgICAgICAgICAgUklOR0NPVU5UID0gMztcbiAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaGFwZS5yYWRpdXMsXG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB4ID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgcmluZyA9IDA7IHJpbmcgPCBSSU5HQ09VTlQ7IHJpbmcrKykge1xuICAgICAgICAgICAgICAgIGxldCB4byA9IDAsXG4gICAgICAgICAgICAgICAgICAgIHlvID0gMSxcbiAgICAgICAgICAgICAgICAgICAgem8gPSAyLFxuICAgICAgICAgICAgICAgICAgICB0aGV0YSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAocmluZyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB4byA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHlvID0gMDtcbiAgICAgICAgICAgICAgICAgICAgem8gPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyaW5nID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHhvID0gMDtcbiAgICAgICAgICAgICAgICAgICAgeW8gPSAyO1xuICAgICAgICAgICAgICAgICAgICB6byA9IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTRUdNRU5UUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoZXRhID0gMiAqIE1hdGguUEkgKiAoaSAvIFNFR01FTlRTKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbeCt4b10gPSByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW3greW9dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbeCt6b10gPSByYWRpdXMgKiBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gMztcblxuICAgICAgICAgICAgICAgICAgICB0aGV0YSA9IDIgKiBNYXRoLlBJICogKChpICsgMSkgLyBTRUdNRU5UUyk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW3greG9dID0gcmFkaXVzICogTWF0aC5jb3ModGhldGEpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1t4K3lvXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW3grem9dID0gcmFkaXVzICogTWF0aC5zaW4odGhldGEpO1xuICAgICAgICAgICAgICAgICAgICB4ICs9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZW9tZXRyeS52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJvdW5kaW5nUmVnaW9uVXRpbHN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNBQUJCSW5GcnVzdHVtKG1pblBvaW50OlZlY3RvcjMsIG1heFBvaW50OlZlY3RvcjMsIGZydXN0dW1QbGFuZXM6IEFycmF5PFBsYW5lPik6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNBQUJCSW5GcnVzdHVtKGJvdW5kaW5nVmVjdG9yczogVmVjdG9yM1tdLCBmcnVzdHVtUGxhbmVzOiBQbGFuZVtdKTogYm9vbGVhbjtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzQUFCQkluRnJ1c3R1bSguLi5hcmdzKTogYm9vbGVhbiB7XG4gICAgICAgICAgICB2YXIgYm91bmRpbmdWZWN0b3JzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgZnJ1c3R1bVBsYW5lcyA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgbWluUG9pbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBtYXhQb2ludCA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnMgPSB0aGlzLmJ1aWxkQm91bmRpbmdWZWN0b3JzKG1pblBvaW50LCBtYXhQb2ludCk7XG5cbiAgICAgICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCA2OyBwKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJ1c3R1bVBsYW5lc1twXS5kb3RDb29yZGluYXRlKGJvdW5kaW5nVmVjdG9yc1tpXSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0FBQkJJbnRlcnNlY3RGcnVzdHVtKG1pblBvaW50OlZlY3RvcjMsIG1heFBvaW50OlZlY3RvcjMsIGZydXN0dW1QbGFuZXM6IEFycmF5PFBsYW5lPik6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNBQUJCSW50ZXJzZWN0RnJ1c3R1bShib3VuZGluZ1ZlY3RvcnM6QXJyYXk8VmVjdG9yMz4sIGZydXN0dW1QbGFuZXM6IEFycmF5PFBsYW5lPik6IGJvb2xlYW47XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0FBQkJJbnRlcnNlY3RGcnVzdHVtKC4uLmFyZ3MpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nVmVjdG9ycyA9IG51bGwsXG4gICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgZnJ1c3R1bVBsYW5lcyA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgbWluUG9pbnQgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBtYXhQb2ludCA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnMgPSB0aGlzLmJ1aWxkQm91bmRpbmdWZWN0b3JzKG1pblBvaW50LCBtYXhQb2ludCk7XG5cbiAgICAgICAgICAgICAgICBmcnVzdHVtUGxhbmVzID0gYXJnc1syXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCA2OyBwKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5Db3VudCA9IDg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJ1c3R1bVBsYW5lc1twXS5kb3RDb29yZGluYXRlKGJvdW5kaW5nVmVjdG9yc1tpXSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5Db3VudCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBidWlsZEJvdW5kaW5nVmVjdG9ycyhtaW5Qb2ludDpWZWN0b3IzLCBtYXhQb2ludDpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciBib3VuZGluZ1ZlY3RvcnMgPSBbXTtcblxuICAgICAgICAgICAgYm91bmRpbmdWZWN0b3JzLnB1c2gobWluUG9pbnQuY29weSgpKTtcbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1heFBvaW50LmNvcHkoKSk7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1pblBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbMl0ueCA9IG1heFBvaW50Lng7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1pblBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbM10ueSA9IG1heFBvaW50Lnk7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1pblBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbNF0ueiA9IG1heFBvaW50Lno7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1heFBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbNV0ueiA9IG1pblBvaW50Lno7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1heFBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbNl0ueCA9IG1pblBvaW50Lng7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nVmVjdG9ycy5wdXNoKG1heFBvaW50LmNvcHkoKSk7XG4gICAgICAgICAgICBib3VuZGluZ1ZlY3RvcnNbN10ueSA9IG1pblBvaW50Lnk7XG5cbiAgICAgICAgICAgIHJldHVybiBib3VuZGluZ1ZlY3RvcnM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGFwZXtcbiAgICAgICAgcHVibGljIGNlbnRlcjpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHNldEZyb21TaGFwZVBhcmFtKC4uLmFyZ3MpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0RnJvbVBvaW50cyhwb2ludHM6QXJyYXk8bnVtYmVyPik7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjb3B5KCk6U2hhcGU7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzSW50ZXJzZWN0V2l0aEJveChzaGFwZTpBQUJCU2hhcGUpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgaXNJbnRlcnNlY3RXaXRoQm94KG1pbjpWZWN0b3IzLCBtYXg6VmVjdG9yMyk7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzSW50ZXJzZWN0V2l0aFNwaGVyZShzaGFwZTpTcGhlcmVTaGFwZSk7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBpc0ludGVyc2VjdFdpdGhSYXkocmF5OlJheSk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGlzQm94QW5kU3BoZXJlSW50ZXJzZWN0ZWQoYm94OkFBQkJTaGFwZSwgc3BoZXJlOlNwaGVyZVNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgc3BoZXJlQ2VudGVyID0gc3BoZXJlLmNlbnRlcixcbiAgICAgICAgICAgICAgICBzcGhlcmVSYWRpdXMgPSBzcGhlcmUucmFkaXVzO1xuXG4gICAgICAgICAgICByZXR1cm4gc3BoZXJlQ2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKGJveC5jbG9zZXN0UG9pbnRUbyhzcGhlcmVDZW50ZXIpKSA8IHNwaGVyZVJhZGl1cyoqMjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQUFCQlNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRDZW50ZXIobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSgpLmFkZDIobWF4LCBtaW4pLnNjYWxlKDAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEhhbGZFeHRlbnRzKG1pbjpWZWN0b3IzLCBtYXg6VmVjdG9yMyl7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoKS5zdWIyKG1heCwgbWluKS5zY2FsZSgwLjUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhbGZFeHRlbnRzOlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KTtcblxuICAgICAgICBwdWJsaWMgc2V0TWluTWF4KG1pbjpWZWN0b3IzLCBtYXg6VmVjdG9yMykge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBBQUJCU2hhcGUuZ2V0Q2VudGVyKG1pbiwgbWF4KTtcbiAgICAgICAgICAgIHRoaXMuaGFsZkV4dGVudHMgPSBBQUJCU2hhcGUuZ2V0SGFsZkV4dGVudHMobWluLCBtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE1pbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNlbnRlci5jb3B5KCkuc3ViKHRoaXMuaGFsZkV4dGVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE1heCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNlbnRlci5jb3B5KCkuYWRkKHRoaXMuaGFsZkV4dGVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEZyb21TaGFwZVBhcmFtKGNlbnRlcjpWZWN0b3IzLCBoYWxmRXh0ZW50czpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xuICAgICAgICAgICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEZyb21Qb2ludHMocG9pbnRzOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBtaW4gPSB0aGlzLl9nZXRFbXB0eU1pbigpLFxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuX2dldEVtcHR5TWF4KCk7XG5cbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbHMuaXRlcmF0ZVRocmVlQ29tcG9uZW50KHBvaW50cywgKHBvaW50OlZlY3RvcjMpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9leHBhbmRCeVBvaW50KHBvaW50LCBtaW4sIG1heCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zZXRNaW5NYXgobWluLCBtYXgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBhYWJiIGVuY2xvc2Ugc3BlY2lmeSBhYWJiXG4gICAgICAgICAqIEBwYXJhbSB7YWFiYn0gYWFiYiBpc24ndCB5ZXQgdHJhbnNmb3JtZWQgYnkgbWF0cml4XG4gICAgICAgICAqIEBwYXJhbSB7bWF0cml4fSBtYXRyaXggaXMgdG8gdHJhbnNmb3JtIHRoZSBhYWJiXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0RnJvbVRyYW5zZm9ybWVkQUFCQihhYWJiOkFBQkJTaGFwZSwgbWF0cml4Ok1hdHJpeDQpIHtcbiAgICAgICAgICAgIHZhciBiYyA9IHRoaXMuY2VudGVyLFxuICAgICAgICAgICAgICAgIGJyID0gdGhpcy5oYWxmRXh0ZW50cyxcbiAgICAgICAgICAgICAgICBhYyA9IGFhYmIuY2VudGVyLnZhbHVlcyxcbiAgICAgICAgICAgICAgICBhciA9IGFhYmIuaGFsZkV4dGVudHMudmFsdWVzLFxuICAgICAgICAgICAgICAgIG0gPSBtYXRyaXgudmFsdWVzLFxuICAgICAgICAgICAgICAgIG14MCA9IG1bMF0sXG4gICAgICAgICAgICAgICAgbXgxID0gbVs0XSxcbiAgICAgICAgICAgICAgICBteDIgPSBtWzhdLFxuICAgICAgICAgICAgICAgIG15MCA9IG1bMV0sXG4gICAgICAgICAgICAgICAgbXkxID0gbVs1XSxcbiAgICAgICAgICAgICAgICBteTIgPSBtWzldLFxuICAgICAgICAgICAgICAgIG16MCA9IG1bMl0sXG4gICAgICAgICAgICAgICAgbXoxID0gbVs2XSxcbiAgICAgICAgICAgICAgICBtejIgPSBtWzEwXSxcbiAgICAgICAgICAgICAgICBteDBhID0gTWF0aC5hYnMobXgwKSxcbiAgICAgICAgICAgICAgICBteDFhID0gTWF0aC5hYnMobXgxKSxcbiAgICAgICAgICAgICAgICBteDJhID0gTWF0aC5hYnMobXgyKSxcbiAgICAgICAgICAgICAgICBteTBhID0gTWF0aC5hYnMobXkwKSxcbiAgICAgICAgICAgICAgICBteTFhID0gTWF0aC5hYnMobXkxKSxcbiAgICAgICAgICAgICAgICBteTJhID0gTWF0aC5hYnMobXkyKSxcbiAgICAgICAgICAgICAgICBtejBhID0gTWF0aC5hYnMobXowKSxcbiAgICAgICAgICAgICAgICBtejFhID0gTWF0aC5hYnMobXoxKSxcbiAgICAgICAgICAgICAgICBtejJhID0gTWF0aC5hYnMobXoyKTtcblxuICAgICAgICAgICAgYmMuc2V0KFxuICAgICAgICAgICAgICAgIG1bMTJdICsgbXgwICogYWNbMF0gKyBteDEgKiBhY1sxXSArIG14MiAqIGFjWzJdLFxuICAgICAgICAgICAgICAgIG1bMTNdICsgbXkwICogYWNbMF0gKyBteTEgKiBhY1sxXSArIG15MiAqIGFjWzJdLFxuICAgICAgICAgICAgICAgIG1bMTRdICsgbXowICogYWNbMF0gKyBtejEgKiBhY1sxXSArIG16MiAqIGFjWzJdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBici5zZXQoXG4gICAgICAgICAgICAgICAgbXgwYSAqIGFyWzBdICsgbXgxYSAqIGFyWzFdICsgbXgyYSAqIGFyWzJdLFxuICAgICAgICAgICAgICAgIG15MGEgKiBhclswXSArIG15MWEgKiBhclsxXSArIG15MmEgKiBhclsyXSxcbiAgICAgICAgICAgICAgICBtejBhICogYXJbMF0gKyBtejFhICogYXJbMV0gKyBtejJhICogYXJbMl1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVRyYW5zbGF0aW9uQW5kU2NhbGUoYWFiYjpBQUJCU2hhcGUsIG1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IG1hdHJpeC5nZXRUcmFuc2xhdGlvbigpLFxuICAgICAgICAgICAgICAgIHNjYWxlID0gbWF0cml4LmdldFNjYWxlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gYWFiYi5jZW50ZXIuY29weSgpLmFkZCh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgIHRoZSBzY2FsZSBtYXkgaGFzIGZsb2F0IGRldmlhdGlvbiwgc28gbWF5IHRoZSBoYWxmRXh0ZW50cy5cbiAgICAgICAgICAgIHRvZG8gZml4IGhhbGZFeHRlbnRzIGZsb2F0IGRldmlhdGlvbj8odXNlIHRvRml4ZWQ/KVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmhhbGZFeHRlbnRzID0gYWFiYi5oYWxmRXh0ZW50cy5jb3B5KCkubXVsKHNjYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uIChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gQ29sbGlkZXJVdGlscy5nZXRWZXJ0aWNlcyhlbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICBhc3NlcnQodmVydGljZXMgJiYgdmVydGljZXMubGVuZ3RoID4gMCwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcInZlcnRpY2VzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHNldEZyb21PYmplY3QoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgICAgIHZhciBtb2RlbE1hdHJpeCA9IGVudGl0eU9iamVjdC50cmFuc2Zvcm0ubG9jYWxUb1dvcmxkTWF0cml4LFxuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gQ29sbGlkZXJVdGlscy5nZXRWZXJ0aWNlcyhlbnRpdHlPYmplY3QpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG1pbiA9IHRoaXMuX2dldEVtcHR5TWluKCksXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5fZ2V0RW1wdHlNYXgoKTtcblxuXG4gICAgICAgICAgICBHZW9tZXRyeVV0aWxzLml0ZXJhdGVUaHJlZUNvbXBvbmVudCh2ZXJ0aWNlcywgKHBvaW50OlZlY3RvcjMpID0+IHtcbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQobW9kZWxNYXRyaXgpO1xuICAgICAgICAgICAgICAgIHNlbGYuX2V4cGFuZEJ5UG9pbnQocG9pbnQsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldE1pbk1heChtaW4sIG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQm94KHNoYXBlOkFBQkJTaGFwZSk7XG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3gobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKTtcblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQm94KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBhTWF4ID0gdGhpcy5nZXRNYXgoKSxcbiAgICAgICAgICAgICAgICBhTWluID0gdGhpcy5nZXRNaW4oKSxcbiAgICAgICAgICAgICAgICBiTWF4ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBiTWluID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGxldCBzaGFwZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBiTWluID0gc2hhcGUuZ2V0TWluKCk7XG4gICAgICAgICAgICAgICAgYk1heCA9IHNoYXBlLmdldE1heCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgYk1pbiA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgYk1heCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoYU1pbi54IDw9IGJNYXgueCkgJiYgKGFNYXgueCA+PSBiTWluLngpICYmXG4gICAgICAgICAgICAgICAgKGFNaW4ueSA8PSBiTWF4LnkpICYmIChhTWF4LnkgPj0gYk1pbi55KSAmJlxuICAgICAgICAgICAgICAgIChhTWluLnogPD0gYk1heC56KSAmJiAoYU1heC56ID49IGJNaW4ueik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoU3BoZXJlKHNoYXBlOlNwaGVyZVNoYXBlKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQm94QW5kU3BoZXJlSW50ZXJzZWN0ZWQodGhpcywgc2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzSW50ZXJzZWN0V2l0aFJheShyYXk6UmF5KXtcbiAgICAgICAgICAgIHJldHVybiByYXkuaXNJbnRlcnNlY3RXaXRoQUFCQih0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjbG9zZXN0UG9pbnRUbyhwb2ludDpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciBtaW4gPSB0aGlzLmdldE1pbigpLFxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuZ2V0TWF4KCksXG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQgPSBWZWN0b3IzLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnQueCA8IG1pbi54KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueCA9IG1pbi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocG9pbnQueCA+IG1heC54KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueCA9IG1heC54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnQueCA9IHBvaW50Lng7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb2ludC55IDwgbWluLnkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC55ID0gbWluLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwb2ludC55ID4gbWF4LnkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC55ID0gbWF4Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRQb2ludC55ID0gcG9pbnQueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvaW50LnogPCBtaW4ueikge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnogPSBtaW4uejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBvaW50LnogPiBtYXgueikge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnogPSBtYXguejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBvaW50LnogPSBwb2ludC56O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0UG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udGFpblBvaW50KHBvaW50OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHZhciBtaW4gPSB0aGlzLmdldE1pbigpLFxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuZ2V0TWF4KCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LnZhbHVlc1tpXSA8IG1pbi52YWx1ZXNbaV0gfHwgcG9pbnQudmFsdWVzW2ldID4gbWF4LnZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gQUFCQlNoYXBlLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBzaGFwZS5jZW50ZXIgPSB0aGlzLmNlbnRlci5jb3B5KCk7XG4gICAgICAgICAgICBzaGFwZS5oYWxmRXh0ZW50cyA9IHRoaXMuaGFsZkV4dGVudHMuY29weSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRFbXB0eU1pbigpIHtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZShJbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEVtcHR5TWF4KCkge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKC1JbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZXhwYW5kQnlQb2ludChwb2ludDpWZWN0b3IzLCBtaW46VmVjdG9yMywgbWF4OlZlY3RvcjMpOnZvaWQge1xuICAgICAgICAgICAgbWluLm1pbihwb2ludCk7XG4gICAgICAgICAgICBtYXgubWF4KHBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU3BoZXJlU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmFkaXVzOm51bWJlciA9IDE7XG5cbiAgICAgICAgcHVibGljIHNldEZyb21TaGFwZVBhcmFtKGNlbnRlcjpWZWN0b3IzLCByYWRpdXM6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVBvaW50cyhwb2ludHM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdmFyIGFhYmIgPSBBQUJCU2hhcGUuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gYWFiYi5zZXRGcm9tUG9pbnRzKHBvaW50cykuY2VudGVyO1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLl9maW5kTWF4RGlzdGFuY2VPZlBvaW50c1RvQ2VudGVyKHBvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0RnJvbVRyYW5zbGF0aW9uQW5kU2NhbGUoc3BoZXJlOlNwaGVyZVNoYXBlLCBtYXRyaXg6TWF0cml4NCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBtYXRyaXguZ2V0VHJhbnNsYXRpb24oKSxcbiAgICAgICAgICAgICAgICBzY2FsZSA9IG1hdHJpeC5nZXRTY2FsZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHNwaGVyZS5jZW50ZXIuY29weSgpLmFkZCh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IHNwaGVyZS5yYWRpdXMgKiBNYXRoLm1heChzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhTcGhlcmUoc2hhcGU6U3BoZXJlU2hhcGUpIHtcbiAgICAgICAgICAgIHZhciByYWRpdXNTdW0gPSB0aGlzLnJhZGl1cyArIHNoYXBlLnJhZGl1cztcblxuICAgICAgICAgICAgcmV0dXJuIHNoYXBlLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcikgPD0gKCByYWRpdXNTdW0qKjIpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQm94KHNoYXBlOkFBQkJTaGFwZSk7XG4gICAgICAgIHB1YmxpYyBpc0ludGVyc2VjdFdpdGhCb3gobWluOlZlY3RvcjMsIG1heDpWZWN0b3IzKTtcblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoQm94KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZTpBQUJCU2hhcGUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgc2hhcGUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMil7XG4gICAgICAgICAgICAgICAgbGV0IG1pbjpWZWN0b3IzID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4OlZlY3RvcjMgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUgPSBBQUJCU2hhcGUuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgc2hhcGUuc2V0TWluTWF4KG1pbiwgbWF4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNCb3hBbmRTcGhlcmVJbnRlcnNlY3RlZChzaGFwZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNJbnRlcnNlY3RXaXRoUmF5KHJheTpSYXkpe1xuICAgICAgICAgICAgcmV0dXJuIHJheS5pc0ludGVyc2VjdFdpdGhTcGhlcmUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29udGFpblBvaW50KHBvaW50OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcikgPD0gKHRoaXMucmFkaXVzKioyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCkge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gU3BoZXJlU2hhcGUuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYXBlLmNlbnRlciA9IHRoaXMuY2VudGVyLmNvcHkoKTtcbiAgICAgICAgICAgIHNoYXBlLnJhZGl1cyA9IHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maW5kTWF4RGlzdGFuY2VPZlBvaW50c1RvQ2VudGVyKHBvaW50czpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBtYXhSYWRpdXNTcSA9IDAsXG4gICAgICAgICAgICAgICAgY2VudGVyID0gdGhpcy5jZW50ZXI7XG5cblxuICAgICAgICAgICAgR2VvbWV0cnlVdGlscy5pdGVyYXRlVGhyZWVDb21wb25lbnQocG9pbnRzLCAocG9pbnQ6VmVjdG9yMykgPT4ge1xuICAgICAgICAgICAgICAgIG1heFJhZGl1c1NxID0gTWF0aC5tYXgoIG1heFJhZGl1c1NxLCBjZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQocG9pbnQpICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydChtYXhSYWRpdXNTcSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFQ29sbGlkZXJUeXBle1xuICAgICAgICBCT1ggPSA8YW55PlwiYm94XCIsXG4gICAgICAgIFNQSEVSRSA9IDxhbnk+XCJzcGhlcmVcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29sbGlkZXJVdGlsc3tcbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBpZighZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSkpe1xuICAgICAgICAgICAgICAgIGlmKGVudGl0eU9iamVjdC5oYXNUYWcoPGFueT5FV0RUYWcuQ09OVEFJTkVSKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaXJzdENoaWxkVmVydGljZXMgPSBlbnRpdHlPYmplY3QuZ2V0Q2hpbGQoMCkuZ2V0Q29tcG9uZW50KEdlb21ldHJ5KS52ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZENoaWxkVmVydGljZXMgPSBlbnRpdHlPYmplY3QuZ2V0Q2hpbGQoMSkuZ2V0Q29tcG9uZW50KEdlb21ldHJ5KS52ZXJ0aWNlcztcblxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoISFmaXJzdENoaWxkVmVydGljZXMgJiYgZmlyc3RDaGlsZFZlcnRpY2VzLmxlbmd0aCA9PT0gc2Vjb25kQ2hpbGRWZXJ0aWNlcy5sZW5ndGgsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiaWYgZW50aXR5T2JqZWN0IGlzIEVXRFRhZy5DT05UQUlORVIsIHRoZW4gaXRzIGNoaWxkcmVuIHNob3VsZCBoYXMgaXRzIHZlcnRpY2VzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0VmVydGljZXMoZW50aXR5T2JqZWN0OkVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICBpZighZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSkpe1xuICAgICAgICAgICAgICAgIGlmKGVudGl0eU9iamVjdC5oYXNUYWcoPGFueT5FV0RUYWcuQ09OVEFJTkVSKSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHlPYmplY3QuZ2V0Q2hpbGQoMCkuZ2V0Q29tcG9uZW50KEdlb21ldHJ5KS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eU9iamVjdC5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5nZW9tZXRyeURhdGEudmVydGljZXM7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUmlnaWRCb2R5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBfZnJpY3Rpb246bnVtYmVyID0gMDtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIkZyaWN0aW9uXCIpXG4gICAgICAgIGdldCBmcmljdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyaWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHNldCBmcmljdGlvbihmcmljdGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc3RpdHV0aW9uOm51bWJlciA9IDA7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJSZXN0aXR1dGlvblwiKVxuICAgICAgICBnZXQgcmVzdGl0dXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXN0aXR1dGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcmVzdGl0dXRpb24ocmVzdGl0dXRpb246bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3RpdHV0aW9uID0gcmVzdGl0dXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KCk7XG4gICAgICAgIGdldCBjaGlsZHJlbigpe1xuICAgICAgICAgICAgcmV0dXJuICB0aGlzLl9jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY2hpbGRyZW4oY2hpbGRyZW46YW55KXtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoY2hpbGRyZW4pKXtcbiAgICAgICAgICAgICAgICBsZXQgYXJyID0gPEFycmF5PEdhbWVPYmplY3Q+PmNoaWxkcmVuO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KGFycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj5jaGlsZHJlbjtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuID0gbGlzdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLmFkZFRhZyhcImlzUmlnaWRib2R5Q2hpbGRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdDtcblxuICAgICAgICBwdWJsaWMgbG9ja0NvbnN0cmFpbnQ6TG9ja0NvbnN0cmFpbnQgPSBMb2NrQ29uc3RyYWludC5jcmVhdGUodGhpcyk7XG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZUNvbnN0cmFpbnQ6RGlzdGFuY2VDb25zdHJhaW50ID0gRGlzdGFuY2VDb25zdHJhaW50LmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgcHVibGljIGhpbmdlQ29uc3RyYWludDpIaW5nZUNvbnN0cmFpbnQgPSBIaW5nZUNvbnN0cmFpbnQuY3JlYXRlKHRoaXMpO1xuICAgICAgICBwdWJsaWMgcG9pbnRUb1BvaW50Q29uc3RyYWludExpc3Q6UG9pbnRUb1BvaW50Q29uc3RyYWludExpc3QgPSBQb2ludFRvUG9pbnRDb25zdHJhaW50TGlzdC5jcmVhdGUodGhpcyk7XG5cbiAgICAgICAgcHJpdmF0ZSBfYWZ0ZXJJbml0U3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgYWRkQm9keSBzaG91bGQgYWZ0ZXIgaXRzIGFuZCBpdHMgY2hpbGRyZW4ncyBjb2xsaWRlciBjb21wb25lbnQgaW5pdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9hZnRlckluaXRTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LkFGVEVSX0dBTUVPQkpFQ1RfSU5JVClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWZ0ZXJJbml0SGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgIGFkZCBjb25zdHJhaW50IHNob3VsZCBhZnRlciBhbGwgYm9keSBhZGRlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9hZnRlckluaXRSaWdpZGJvZHlBZGRDb25zdHJhaW50U3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudCg8YW55PkVFbmdpbmVFdmVudC5BRlRFUl9HQU1FT0JKRUNUX0lOSVRfUklHSURCT0RZX0FERF9DT05TVFJBSU5UKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZnRlckluaXRSaWdpZGJvZHlBZGRDb25zdHJhaW50SGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZENvbnN0cmFpbnQoKXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlciA9IHRoaXMuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKTtcblxuICAgICAgICAgICAgaWYodGhpcy5sb2NrQ29uc3RyYWludCAmJiB0aGlzLmxvY2tDb25zdHJhaW50LmNvbm5lY3RlZEJvZHkpe1xuICAgICAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIuYWRkTG9ja0NvbnN0cmFpbnQodGhpcy5lbnRpdHlPYmplY3QsIHRoaXMubG9ja0NvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmRpc3RhbmNlQ29uc3RyYWludCAmJiB0aGlzLmRpc3RhbmNlQ29uc3RyYWludC5jb25uZWN0ZWRCb2R5KXtcbiAgICAgICAgICAgICAgICBlbmdpbmVBZGFwdGVyLmFkZERpc3RhbmNlQ29uc3RyYWludCh0aGlzLmVudGl0eU9iamVjdCwgdGhpcy5kaXN0YW5jZUNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmhpbmdlQ29uc3RyYWludCAmJiB0aGlzLmhpbmdlQ29uc3RyYWludC5jb25uZWN0ZWRCb2R5KXtcbiAgICAgICAgICAgICAgICBlbmdpbmVBZGFwdGVyLmFkZEhpbmdlQ29uc3RyYWludCh0aGlzLmVudGl0eU9iamVjdCwgdGhpcy5oaW5nZUNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLnBvaW50VG9Qb2ludENvbnN0cmFpbnRMaXN0ICYmIHRoaXMucG9pbnRUb1BvaW50Q29uc3RyYWludExpc3QuZ2V0Q291bnQoKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRUb1BvaW50Q29uc3RyYWludExpc3QuZm9yRWFjaCgoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIuYWRkUG9pbnRUb1BvaW50Q29uc3RyYWludCh0aGlzLmVudGl0eU9iamVjdCwgY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgZW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSB0aGlzLmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGlmKGVuZ2luZUFkYXB0ZXIpe1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKS5yZW1vdmVHYW1lT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCkucmVtb3ZlQ29uc3RyYWludHMoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3VwZXIucmVtb3ZlRnJvbU9iamVjdChlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5yZW1vdmVUYWcoXCJpc1JpZ2lkYm9keUNoaWxkXCIpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FmdGVySW5pdFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9hZnRlckluaXRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9hZnRlckluaXRSaWdpZGJvZHlBZGRDb25zdHJhaW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLnBoeXNpY3NFbmdpbmVBZGFwdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzUGh5c2ljc0VuZ2luZUFkYXB0ZXJFeGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuICEhRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZSAmJiAhIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUucGh5c2ljc0VuZ2luZUFkYXB0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYWRkQm9keSgpO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzQ29udGFpbmVyKHRoaXMuZW50aXR5T2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCF0aGlzLmVudGl0eU9iamVjdC5nZXRDb21wb25lbnQoQ29sbGlkZXIpLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJjb250YWluZXJcIiwgXCJhZGQgY29sbGlkZXIgY29tcG9uZW50IGluIHRoZSBjYXNlIG9mIGNvbXBvdW5kXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhdGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50KENvbGxpZGVyKSwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImNvbGxpZGVyIGNvbXBvbmVudCB3aGVuIGFkZCByaWdpZCBib2R5IGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhdGhpcy5lbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50KENvbGxpZGVyKS5zaGFwZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJjcmVhdGUgY29sbGlkZXIuc2hhcGUgYmVmb3JlIGFkZGluZyByaWdpZCBib2R5IGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBhZGRCb2R5VG9QaHlzaWNzRW5naW5lKG1ldGhvZDpzdHJpbmcsIGRhdGE6YW55ID0ge30pIHtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlciA9IHRoaXMuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlclttZXRob2RdKFxuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LCB3ZENiLkV4dGVuZFV0aWxzLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLl9jaGlsZHJlbixcblxuICAgICAgICAgICAgICAgICAgICBsb2NrQ29uc3RyYWludDogdGhpcy5sb2NrQ29uc3RyYWludCxcblxuICAgICAgICAgICAgICAgICAgICBvbkNvbnRhY3Q6IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsIHRoaXMuX29uQ29udGFjdCksXG4gICAgICAgICAgICAgICAgICAgIG9uQ29sbGlzaW9uU3RhcnQ6IHdkQ2IuRnVuY3Rpb25VdGlscy5iaW5kKHRoaXMsIHRoaXMuX29uQ29sbGlzaW9uU3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICBvbkNvbGxpc2lvbkVuZDogd2RDYi5GdW5jdGlvblV0aWxzLmJpbmQodGhpcywgdGhpcy5fb25Db2xsaXNpb25FbmQpLFxuXG4gICAgICAgICAgICAgICAgICAgIGZyaWN0aW9uOiB0aGlzLmZyaWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICByZXN0aXR1dGlvbjogdGhpcy5yZXN0aXR1dGlvblxuICAgICAgICAgICAgICAgIH0sIGRhdGEpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb25Db250YWN0KGNvbGxpZGVPYmplY3Q6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QuZXhlY1NjcmlwdChcIm9uQ29udGFjdFwiLCB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlKFtjb2xsaWRlT2JqZWN0XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfb25Db2xsaXNpb25TdGFydChjb2xsaWRlT2JqZWN0OkdhbWVPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmV4ZWNTY3JpcHQoXCJvbkNvbGxpc2lvblN0YXJ0XCIsIHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoW2NvbGxpZGVPYmplY3RdKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9vbkNvbGxpc2lvbkVuZCgpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmV4ZWNTY3JpcHQoXCJvbkNvbGxpc2lvbkVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ29udGFpbmVyKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciByaWdpZEJvZHkgPSBlbnRpdHlPYmplY3QuZ2V0Q29tcG9uZW50PFJpZ2lkQm9keT4oUmlnaWRCb2R5KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJpZ2lkQm9keS5jaGlsZHJlbi5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEBleGVjT25seU9uY2UoXCJfaXNBZnRlckluaXRcIilcbiAgICAgICAgcHJpdmF0ZSBfYWZ0ZXJJbml0SGFuZGxlcigpe1xuICAgICAgICAgICAgdGhpcy5hZGRCb2R5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzQWZ0ZXJJbml0UmlnaWRib2R5QWRkQ29uc3RyYWludFwiKVxuICAgICAgICBwcml2YXRlIF9hZnRlckluaXRSaWdpZGJvZHlBZGRDb25zdHJhaW50SGFuZGxlcigpe1xuICAgICAgICAgICAgdGhpcy5hZGRDb25zdHJhaW50KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBEeW5hbWljUmlnaWRCb2R5IGV4dGVuZHMgUmlnaWRCb2R5e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9saW5lYXJEYW1waW5nOm51bWJlciA9IDA7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJMaW5lYXJEYW1waW5nXCIpXG4gICAgICAgIGdldCBsaW5lYXJEYW1waW5nKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZWFyRGFtcGluZztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbGluZWFyRGFtcGluZyhsaW5lYXJEYW1waW5nOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9saW5lYXJEYW1waW5nID0gbGluZWFyRGFtcGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FuZ3VsYXJEYW1waW5nOm51bWJlciA9IDA7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJBbmd1bGFyRGFtcGluZ1wiKVxuICAgICAgICBnZXQgYW5ndWxhckRhbXBpbmcoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmd1bGFyRGFtcGluZztcbiAgICAgICAgfVxuICAgICAgICBzZXQgYW5ndWxhckRhbXBpbmcoYW5ndWxhckRhbXBpbmc6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2FuZ3VsYXJEYW1waW5nID0gYW5ndWxhckRhbXBpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92ZWxvY2l0eTpWZWN0b3IzID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCk7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJWZWxvY2l0eVwiKVxuICAgICAgICBnZXQgdmVsb2NpdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92ZWxvY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdmVsb2NpdHkodmVsb2NpdHk6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgQG9wZXJhdGVCb2R5RGF0YUdldHRlckFuZFNldHRlcihcIkFuZ3VsYXJWZWxvY2l0eVwiKVxuICAgICAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5ndWxhclZlbG9jaXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBhbmd1bGFyVmVsb2NpdHkoYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fYW5ndWxhclZlbG9jaXR5ID0gYW5ndWxhclZlbG9jaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbWFzczpudW1iZXIgPSAxO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiTWFzc1wiKVxuICAgICAgICBnZXQgbWFzcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc3M7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1hc3MobWFzczpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fbWFzcyA9IG1hc3M7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW1wdWxzZTpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZvcmNlOlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGl0UG9pbnQ6VmVjdG9yMyA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEJvZHkoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEJvZHlUb1BoeXNpY3NFbmdpbmUoXCJhZGREeW5hbWljQm9keVwiLCB7XG4gICAgICAgICAgICAgICAgbWFzczogdGhpcy5tYXNzLFxuXG4gICAgICAgICAgICAgICAgbGluZWFyRGFtcGluZzogdGhpcy5saW5lYXJEYW1waW5nLFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJEYW1waW5nOiB0aGlzLmFuZ3VsYXJEYW1waW5nLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiB0aGlzLnZlbG9jaXR5LFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogdGhpcy5hbmd1bGFyVmVsb2NpdHksXG5cbiAgICAgICAgICAgICAgICBpbXB1bHNlOiB0aGlzLmltcHVsc2UsXG4gICAgICAgICAgICAgICAgZm9yY2U6IHRoaXMuZm9yY2UsXG4gICAgICAgICAgICAgICAgaGl0UG9pbnQ6IHRoaXMuaGl0UG9pbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBLaW5lbWF0aWNSaWdpZEJvZHkgZXh0ZW5kcyBSaWdpZEJvZHkge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdmVsb2NpdHk6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiVmVsb2NpdHlcIilcbiAgICAgICAgZ2V0IHZlbG9jaXR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZlbG9jaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHZlbG9jaXR5KHZlbG9jaXR5OlZlY3RvcjMpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hbmd1bGFyVmVsb2NpdHk6VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICBAb3BlcmF0ZUJvZHlEYXRhR2V0dGVyQW5kU2V0dGVyKFwiQW5ndWxhclZlbG9jaXR5XCIpXG4gICAgICAgIGdldCBhbmd1bGFyVmVsb2NpdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGFuZ3VsYXJWZWxvY2l0eShhbmd1bGFyVmVsb2NpdHk6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl9hbmd1bGFyVmVsb2NpdHkgPSBhbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tYXNzOm51bWJlciA9IDE7XG4gICAgICAgIEBvcGVyYXRlQm9keURhdGFHZXR0ZXJBbmRTZXR0ZXIoXCJNYXNzXCIpXG4gICAgICAgIGdldCBtYXNzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzcztcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWFzcyhtYXNzOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9tYXNzID0gbWFzcztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEJvZHkoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEJvZHlUb1BoeXNpY3NFbmdpbmUoXCJhZGRLaW5lbWF0aWNCb2R5XCIsIHtcbiAgICAgICAgICAgICAgICBtYXNzOiB0aGlzLm1hc3MsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHRoaXMudmVsb2NpdHksXG4gICAgICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiB0aGlzLmFuZ3VsYXJWZWxvY2l0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFN0YXRpY1JpZ2lkQm9keSBleHRlbmRzIFJpZ2lkQm9keSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkQm9keSgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQm9keVRvUGh5c2ljc0VuZ2luZShcImFkZFN0YXRpY0JvZHlcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUGh5c2ljc0NvbnN0cmFpbnR7XG4gICAgICAgIGNvbnN0cnVjdG9yKHJpZ2lkQm9keTpSaWdpZEJvZHkpe1xuICAgICAgICAgICAgdGhpcy5yaWdpZEJvZHkgPSByaWdpZEJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWF4Rm9yY2U6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgcmlnaWRCb2R5OlJpZ2lkQm9keSA9IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIExvY2tDb25zdHJhaW50IGV4dGVuZHMgUGh5c2ljc0NvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJpZ2lkQm9keTpSaWdpZEJvZHkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhyaWdpZEJvZHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29ubmVjdGVkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuICAgICAgICBnZXQgY29ubmVjdGVkQm9keSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3RlZEJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbm5lY3RlZEJvZHkoY29ubmVjdGVkQm9keTpSaWdpZEJvZHkpe1xuICAgICAgICAgICAgdmFyIGVuZ2luZUFkYXB0ZXI6SVBoeXNpY3NFbmdpbmVBZGFwdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkQm9keSA9IGNvbm5lY3RlZEJvZHk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLnJpZ2lkQm9keS5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyID0gdGhpcy5yaWdpZEJvZHkuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKTtcblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlci5yZW1vdmVMb2NrQ29uc3RyYWludCh0aGlzLnJpZ2lkQm9keS5lbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICB0aGlzLnJpZ2lkQm9keS5hZGRDb25zdHJhaW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgUGh5c2ljc0NvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJpZ2lkQm9keTpSaWdpZEJvZHkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhyaWdpZEJvZHkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29ubmVjdGVkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuICAgICAgICBnZXQgY29ubmVjdGVkQm9keSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3RlZEJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbm5lY3RlZEJvZHkoY29ubmVjdGVkQm9keTpSaWdpZEJvZHkpe1xuICAgICAgICAgICAgdmFyIGVuZ2luZUFkYXB0ZXI6SVBoeXNpY3NFbmdpbmVBZGFwdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkQm9keSA9IGNvbm5lY3RlZEJvZHk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLnJpZ2lkQm9keS5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyID0gdGhpcy5yaWdpZEJvZHkuZ2V0UGh5c2ljc0VuZ2luZUFkYXB0ZXIoKTtcblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlci5yZW1vdmVEaXN0YW5jZUNvbnN0cmFpbnQodGhpcy5yaWdpZEJvZHkuZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgdGhpcy5yaWdpZEJvZHkuYWRkQ29uc3RyYWludCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgY2hhbmdlIGRpc3RhbmNlXG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZTpudW1iZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBIaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBQaHlzaWNzQ29uc3RyYWludHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocmlnaWRCb2R5OlJpZ2lkQm9keSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHJpZ2lkQm9keSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb25uZWN0ZWRCb2R5OlJpZ2lkQm9keSA9IG51bGw7XG4gICAgICAgIGdldCBjb25uZWN0ZWRCb2R5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGVkQm9keTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgY29ubmVjdGVkQm9keShjb25uZWN0ZWRCb2R5OlJpZ2lkQm9keSl7XG4gICAgICAgICAgICB2YXIgZW5naW5lQWRhcHRlcjpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWRCb2R5ID0gY29ubmVjdGVkQm9keTtcblxuICAgICAgICAgICAgaWYoIXRoaXMucmlnaWRCb2R5LmlzUGh5c2ljc0VuZ2luZUFkYXB0ZXJFeGlzdCgpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIgPSB0aGlzLnJpZ2lkQm9keS5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpO1xuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyLnJlbW92ZUhpbmdlQ29uc3RyYWludCh0aGlzLnJpZ2lkQm9keS5lbnRpdHlPYmplY3QpO1xuXG4gICAgICAgICAgICB0aGlzLnJpZ2lkQm9keS5hZGRDb25zdHJhaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gc3VwcG9ydCBjaGFuZ2UgcGl2b3RcbiAgICAgICAgcHVibGljIHBpdm90QTpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QjpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgLy90b2RvIHN1cHBvcnQgY2hhbmdlIGF4aXNcbiAgICAgICAgcHVibGljIGF4aXNBOlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYXhpc0I6VmVjdG9yMyA9IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBQaHlzaWNzQ29uc3RyYWludHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocmlnaWRCb2R5OlJpZ2lkQm9keSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHJpZ2lkQm9keSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29ubmVjdGVkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuXG4gICAgICAgIC8vdG9kbyBzdXBwb3J0IGNoYW5nZSBwaXZvdFxuICAgICAgICBwdWJsaWMgcGl2b3RBOlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOlZlY3RvcjMgPSBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50TGlzdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocmlnaWRCb2R5OlJpZ2lkQm9keSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHJpZ2lkQm9keSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihyaWdpZEJvZHk6UmlnaWRCb2R5KXtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2lkQm9keSA9IHJpZ2lkQm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JpZ2lkQm9keTpSaWdpZEJvZHkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9saXN0OndkQ2IuQ29sbGVjdGlvbjxQb2ludFRvUG9pbnRDb25zdHJhaW50PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8UG9pbnRUb1BvaW50Q29uc3RyYWludD4oKTtcblxuICAgICAgICBwdWJsaWMgZm9yRWFjaChmdW5jOihQb2ludFRvUG9pbnRDb25zdHJhaW50KSA9PiB2b2lkLCBjb250ZXh0ID0gcm9vdCl7XG4gICAgICAgICAgICB0aGlzLl9saXN0LmZvckVhY2goZnVuYywgY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q291bnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0LmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGQoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyOklQaHlzaWNzRW5naW5lQWRhcHRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpc3QuYWRkQ2hpbGQoY29uc3RyYWludCk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9yaWdpZEJvZHkuaXNQaHlzaWNzRW5naW5lQWRhcHRlckV4aXN0KCkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW5naW5lQWRhcHRlciA9IHRoaXMuX3JpZ2lkQm9keS5nZXRQaHlzaWNzRW5naW5lQWRhcHRlcigpO1xuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyLmFkZFBvaW50VG9Qb2ludENvbnN0cmFpbnQodGhpcy5fcmlnaWRCb2R5LmVudGl0eU9iamVjdCwgY29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4oYXJnOkFycmF5PFBvaW50VG9Qb2ludENvbnN0cmFpbnQ+fHdkQ2IuTGlzdDxQb2ludFRvUG9pbnRDb25zdHJhaW50Pil7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KGFyZykpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgY29uc3RyYWludCBvZiA8QXJyYXk8UG9pbnRUb1BvaW50Q29uc3RyYWludD4+YXJnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBjb25zdHJhaW50TGlzdCA9IDx3ZENiLkxpc3Q8UG9pbnRUb1BvaW50Q29uc3RyYWludD4+YXJnO1xuXG4gICAgICAgICAgICAgICAgY29uc3RyYWludExpc3QuZm9yRWFjaCgoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQ2hpbGQoY29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBlbmdpbmVBZGFwdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fbGlzdC5yZW1vdmVDaGlsZChjb25zdHJhaW50KTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX3JpZ2lkQm9keS5pc1BoeXNpY3NFbmdpbmVBZGFwdGVyRXhpc3QoKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbmdpbmVBZGFwdGVyID0gdGhpcy5fcmlnaWRCb2R5LmdldFBoeXNpY3NFbmdpbmVBZGFwdGVyKCk7XG5cbiAgICAgICAgICAgIGVuZ2luZUFkYXB0ZXIucmVtb3ZlUG9pbnRUb1BvaW50Q29uc3RyYWludChjb25zdHJhaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBQaHlzaWNzRW5naW5lRmFjdG9yeXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodHlwZTpFUGh5c2ljc0VuZ2luZVR5cGUpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdDpJUGh5c2ljc0VuZ2luZUFkYXB0ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVBoeXNpY3NFbmdpbmVUeXBlLkNBTk5PTjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQ2Fubm9uQWRhcHRlci5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IodHJ1ZSwgd2RDYi5Mb2cuaW5mby5GVU5DX1VORVhQRUNUKFwicGh5c2ljcyBlbmdpbmUgdHlwZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVQaHlzaWNzRW5naW5lVHlwZXtcbiAgICAgICAgQ0FOTk9OXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uRGF0YUxpc3Qge1xuICAgICAgICBwdWJsaWMgZ2V0Q291bnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFMaXN0LmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBwcm90ZWN0ZWQgcmVtb3ZlQnlHYW1lT2JqZWN0KG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QucmVtb3ZlQ2hpbGQoKHtlbnRpdHlPYmplY3QsIGJvZHl9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uR2FtZU9iamVjdERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uRGF0YUxpc3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPENhbm5vbkdhbWVPYmplY3REYXRhPjtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQnlHYW1lT2JqZWN0KG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlQm9keVRyYW5zZm9ybURhdGEoKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCxib2R5fSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm0gPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgLy90b2RvIGNvbnNpZGVyIGlzU2NhbGU/XG4gICAgICAgICAgICAgICAgaWYodHJhbnNmb3JtLmlzVHJhbnNsYXRlIHx8IHRyYW5zZm9ybS5pc1JvdGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBib2R5LnF1YXRlcm5pb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25RdWF0ZXJuaW9uKGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlR2FtZU9iamVjdFRyYW5zZm9ybURhdGEoKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCxib2R5fSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGVudGl0eU9iamVjdC5oYXNUYWcoXCJpc1JpZ2lkYm9keUNoaWxkXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJWZWN0b3IzKGJvZHkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucm90YXRpb24gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJRdWF0ZXJuaW9uKGJvZHkucXVhdGVybmlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGQob2JqOkdhbWVPYmplY3QsIGJvZHk6Q0FOTk9OLkJvZHkpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0Om9iaixcbiAgICAgICAgICAgICAgICBib2R5OmJvZHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRHYW1lT2JqZWN0QnlCb2R5KGI6Q0FOTk9OLkJvZHkpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe2VudGl0eU9iamVjdCwgYm9keX0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keSA9PT0gYjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBudWxsID8gcmVzdWx0LmVudGl0eU9iamVjdCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmluZEJvZHlCeUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3QpOmFueXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRhdGFMaXN0LmZpbmRPbmUoKHtlbnRpdHlPYmplY3QsIGJvZHl9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdC5ib2R5IDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENhbm5vbkdhbWVPYmplY3REYXRhID0ge1xuICAgICAgICBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCxcbiAgICAgICAgYm9keTpDQU5OT04uQm9keVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vbk1hdGVyaWFsTGlzdCBleHRlbmRzIENhbm5vbkRhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDYW5ub25NYXRlcmlhbERhdGE+O1xuXG4gICAgICAgIHB1YmxpYyByZW1vdmUob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kTWF0ZXJpYWxCeUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe2VudGl0eU9iamVjdCwgbWF0ZXJpYWx9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChlbnRpdHlPYmplY3QsIG9iaik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCA/IHJlc3VsdC5tYXRlcmlhbCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKG9iajpHYW1lT2JqZWN0LCBtYXRlcmlhbDpDQU5OT04uTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0Om9iaixcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDptYXRlcmlhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQ29udGFjdE1hdGVyaWFsKHdvcmxkOkNBTk5PTi5Xb3JsZCwgY3VycmVudE1hdGVyaWFsOkNBTk5PTi5NYXRlcmlhbCwgZnJpY3Rpb246bnVtYmVyLCByZXN0aXR1dGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICB3b3JsZC5hZGRDb250YWN0TWF0ZXJpYWwobmV3IENBTk5PTi5Db250YWN0TWF0ZXJpYWwobWF0ZXJpYWwsIGN1cnJlbnRNYXRlcmlhbCwge1xuICAgICAgICAgICAgICAgICAgICBmcmljdGlvbjogZnJpY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiByZXN0aXR1dGlvblxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvbnRhY3RNYXRlcmlhbERhdGEod29ybGQ6Q0FOTk9OLldvcmxkLCBjdXJyZW50TWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsLCBkYXRhTmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoe2VudGl0eU9iamVjdCwgbWF0ZXJpYWx9KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChtYXRlcmlhbCwgY3VycmVudE1hdGVyaWFsKTtcblxuICAgICAgICAgICAgICAgIGlmKCFjb250YWN0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY29udGFjdE1hdGVyaWFsW2RhdGFOYW1lXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldENvbnRhY3RNYXRlcmlhbHMod29ybGQ6Q0FOTk9OLldvcmxkLCBjdXJyZW50TWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciByZXN1bHRBcnIgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKG1hdGVyaWFsLCBjdXJyZW50TWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAgICAgaWYoIWNvbnRhY3RNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHRBcnIucHVzaChjb250YWN0TWF0ZXJpYWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRBcnI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0Q29udGFjdE1hdGVyaWFsRGF0YSh3b3JsZDpDQU5OT04uV29ybGQsIGN1cnJlbnRNYXRlcmlhbDpDQU5OT04uTWF0ZXJpYWwsIGRhdGFOYW1lOnN0cmluZywgZGF0YTphbnkpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5mb3JFYWNoKCh7ZW50aXR5T2JqZWN0LCBtYXRlcmlhbH0pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKG1hdGVyaWFsLCBjdXJyZW50TWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAgICAgaWYoIWNvbnRhY3RNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250YWN0TWF0ZXJpYWxbZGF0YU5hbWVdID0gZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uTWF0ZXJpYWxEYXRhID0ge1xuICAgICAgICBlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCxcbiAgICAgICAgbWF0ZXJpYWw6Q0FOTk9OLk1hdGVyaWFsXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uRGF0YUxpc3R7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uU2luZ2xlQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uQ29uc3RyYWludERhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgYWRkKG9iajpHYW1lT2JqZWN0LCBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuYWRkQ2hpbGQoe1xuICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdDpvYmosXG4gICAgICAgICAgICAgICAgY29uc3RyYWludDpjb25zdHJhaW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmUob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBmaW5kQ29uc3RyYWludEJ5R2FtZU9iamVjdChvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kYXRhTGlzdC5maW5kT25lKCh7ZW50aXR5T2JqZWN0fSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBKdWRnZVV0aWxzLmlzRXF1YWwoZW50aXR5T2JqZWN0LCBvYmopO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgIT09IG51bGwgPyByZXN1bHQuY29uc3RyYWludCA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0IGV4dGVuZHMgQ2Fubm9uU2luZ2xlQ29uc3RyYWludERhdGFMaXN0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxDYW5ub25Mb2NrQ29uc3RyYWludERhdGE+O1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENhbm5vbkxvY2tDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3QgZXh0ZW5kcyBDYW5ub25Db25zdHJhaW50RGF0YUxpc3R7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhPjtcblxuICAgICAgICBwdWJsaWMgZmlsdGVyKGZ1bmM6KGRhdGE6Q2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludERhdGEpID0+IGJvb2xlYW4pe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUxpc3QuZmlsdGVyKGZ1bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZvckVhY2goZnVuYzooZGF0YTpDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YSkgPT4gdm9pZCl7XG4gICAgICAgICAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQsIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZW50aXR5T2JqZWN0OmVudGl0eU9iamVjdCxcbiAgICAgICAgICAgICAgICBwb2ludFRvUG9pbnRDb25zdHJhaW50OiBwb2ludFRvUG9pbnRDb25zdHJhaW50LFxuICAgICAgICAgICAgICAgIGNhbm5vbkNvbnN0cmFpbnQ6Y29uc3RyYWludFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlKGNvbnN0cmFpbnQ6IFBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5yZW1vdmVDaGlsZCgoe3BvaW50VG9Qb2ludENvbnN0cmFpbnR9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChwb2ludFRvUG9pbnRDb25zdHJhaW50LCBjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbmRDYW5ub25Db25zdHJhaW50QnlQb2ludFRvUG9pbnRDb25zdHJhaW50KGNvbnN0cmFpbnQ6IFBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YUxpc3QuZmluZE9uZSgoe3BvaW50VG9Qb2ludENvbnN0cmFpbnR9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNFcXVhbChwb2ludFRvUG9pbnRDb25zdHJhaW50LCBjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBudWxsID8gcmVzdWx0LmNhbm5vbkNvbnN0cmFpbnQgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uUG9pbnRUb1BvaW50Q29uc3RyYWludERhdGEgPSB7XG4gICAgICAgIGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LFxuICAgICAgICBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQsXG4gICAgICAgIGNhbm5vbkNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCBleHRlbmRzIENhbm5vblNpbmdsZUNvbnN0cmFpbnREYXRhTGlzdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YT47XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdCBleHRlbmRzIENhbm5vblNpbmdsZUNvbnN0cmFpbnREYXRhTGlzdHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YT47XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YSA9IHtcbiAgICAgICAgZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsXG4gICAgICAgIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25VdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9DYW5ub25WZWN0b3IzKHY6VmVjdG9yMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDQU5OT04uVmVjMyh2LngsIHYueSwgdi56KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydFRvQ2Fubm9uUXVhdGVybmlvbihyb3RhdGlvbjpRdWF0ZXJuaW9uKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLlF1YXRlcm5pb24ocm90YXRpb24ueCwgcm90YXRpb24ueSwgcm90YXRpb24ueiwgcm90YXRpb24udyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRUb1dvbmRlclZlY3RvcjModjpDQU5OT04uVmVjMykge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHYueCwgdi55LCB2LnopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9Xb25kZXJRdWF0ZXJuaW9uKHI6Q0FOTk9OLlF1YXRlcm5pb24pe1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uY3JlYXRlKHIueCwgci55LCByLnosIHIudyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vbkFkYXB0ZXIgaW1wbGVtZW50cyBJUGh5c2ljc0VuZ2luZUFkYXB0ZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCA9IENhbm5vbk1hdGVyaWFsTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCA9IENhbm5vbkdhbWVPYmplY3REYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfbG9ja0NvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0ID0gQ2Fubm9uTG9ja0NvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfZGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3QgPSBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfaGluZ2VDb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YUxpc3QgPSBDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfcG9pbnRUb1BvaW50Q29uc3RyYWludERhdGFMaXN0OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdCA9IENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdC5jcmVhdGUoKTtcblxuICAgICAgICBwcml2YXRlIF9keW5hbWljQm9keTpDYW5ub25EeW5hbWljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2tpbmVtYXRpY0JvZHk6Q2Fubm9uS2luZW1hdGljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3N0YXRpY0JvZHk6Q2Fubm9uU3RhdGljQm9keSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xvY2tDb25zdHJhaW50OkNhbm5vbkxvY2tDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZGlzdGFuY2VDb25zdHJhaW50OkNhbm5vbkRpc3RhbmNlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2hpbmdlQ29uc3RyYWludDpDYW5ub25IaW5nZUNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9wb2ludFRvUG9pbnRDb25zdHJhaW50OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBnZXRHcmF2aXR5KGdyYXZpdHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBDYW5ub25VdGlscy5jb252ZXJ0VG9Xb25kZXJWZWN0b3IzKHRoaXMud29ybGQuZ3Jhdml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0R3Jhdml0eSggZ3Jhdml0eTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZ3Jhdml0eSA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjMoZ3Jhdml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RnJpY3Rpb24ob2JqOkdhbWVPYmplY3QsIGZyaWN0aW9uOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWxEYXRhKG9iaiwgXCJmcmljdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRGcmljdGlvbihvYmo6R2FtZU9iamVjdCwgZnJpY3Rpb246bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3NldE1hdGVyaWFsRGF0YShvYmosIFwiZnJpY3Rpb25cIiwgZnJpY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFJlc3RpdHV0aW9uKG9iajpHYW1lT2JqZWN0LCByZXN0aXR1dGlvbjpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsRGF0YShvYmosIFwicmVzdGl0dXRpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0UmVzdGl0dXRpb24ob2JqOkdhbWVPYmplY3QsIHJlc3RpdHV0aW9uOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9zZXRNYXRlcmlhbERhdGEob2JqLCBcInJlc3RpdHV0aW9uXCIsIHJlc3RpdHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRMaW5lYXJEYW1waW5nKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXROdW1iZXJEYXRhKG9iaiwgXCJsaW5lYXJEYW1waW5nXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldExpbmVhckRhbXBpbmcob2JqOkdhbWVPYmplY3QsIGxpbmVhckRhbXBpbmc6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXROdW1iZXJEYXRhKG9iaiwgXCJsaW5lYXJEYW1waW5nXCIsIGxpbmVhckRhbXBpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldEFuZ3VsYXJEYW1waW5nKG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXROdW1iZXJEYXRhKG9iaiwgXCJhbmd1bGFyRGFtcGluZ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRBbmd1bGFyRGFtcGluZyhvYmo6R2FtZU9iamVjdCwgYW5ndWxhckRhbXBpbmc6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXROdW1iZXJEYXRhKG9iaiwgXCJhbmd1bGFyRGFtcGluZ1wiLCBhbmd1bGFyRGFtcGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TWFzcyhvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TnVtYmVyRGF0YShvYmosIFwibWFzc1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRNYXNzKG9iajpHYW1lT2JqZWN0LCBtYXNzOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0TnVtYmVyRGF0YShvYmosIFwibWFzc1wiLCBtYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRWZWxvY2l0eShvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VmVjM0RhdGEob2JqLCBcInZlbG9jaXR5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFZlbG9jaXR5KG9iajpHYW1lT2JqZWN0LCB2ZWxvY2l0eTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHRoaXMuX3NldFZlYzNEYXRhKG9iaiwgXCJ2ZWxvY2l0eVwiLCB2ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0QW5ndWxhclZlbG9jaXR5KG9iajpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRWZWMzRGF0YShvYmosIFwiYW5ndWxhclZlbG9jaXR5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEFuZ3VsYXJWZWxvY2l0eShvYmo6R2FtZU9iamVjdCwgYW5ndWxhclZlbG9jaXR5OlZlY3RvcjMpe1xuICAgICAgICAgICAgdGhpcy5fc2V0VmVjM0RhdGEob2JqLCBcImFuZ3VsYXJWZWxvY2l0eVwiLCBhbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgICAgIGdyYXZpdHksXG4gICAgICAgICAgICAgICAgaXRlcmF0aW9uc1xuICAgICAgICAgICAgICAgIH09IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUucGh5c2ljcztcblxuICAgICAgICAgICAgdGhpcy53b3JsZCA9IG5ldyBDQU5OT04uV29ybGQoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5icm9hZHBoYXNlID0gbmV3IENBTk5PTi5OYWl2ZUJyb2FkcGhhc2UoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB0aGlzLndvcmxkLmdyYXZpdHkuc2V0KGdyYXZpdHkueCwgZ3Jhdml0eS55LCBncmF2aXR5LnopO1xuXG4gICAgICAgICAgICB0aGlzLl9keW5hbWljQm9keSA9IENhbm5vbkR5bmFtaWNCb2R5LmNyZWF0ZSh0aGlzLndvcmxkLCB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QsIHRoaXMuX21hdGVyaWFsTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9raW5lbWF0aWNCb2R5ID0gQ2Fubm9uS2luZW1hdGljQm9keS5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9tYXRlcmlhbExpc3QpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGljQm9keSA9IENhbm5vblN0YXRpY0JvZHkuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5fbWF0ZXJpYWxMaXN0KTtcblxuICAgICAgICAgICAgdGhpcy5fbG9ja0NvbnN0cmFpbnQgPSBDYW5ub25Mb2NrQ29uc3RyYWludC5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9sb2NrQ29uc3RyYWludERhdGFMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludCA9IENhbm5vbkRpc3RhbmNlQ29uc3RyYWludC5jcmVhdGUodGhpcy53b3JsZCwgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LCB0aGlzLl9kaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9oaW5nZUNvbnN0cmFpbnQgPSBDYW5ub25IaW5nZUNvbnN0cmFpbnQuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5faGluZ2VDb25zdHJhaW50RGF0YUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludCA9IENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQuY3JlYXRlKHRoaXMud29ybGQsIHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdCwgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludERhdGFMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGREeW5hbWljQm9keShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGF0YTphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2R5bmFtaWNCb2R5LmFkZEJvZHkoZW50aXR5T2JqZWN0LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRLaW5lbWF0aWNCb2R5KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBkYXRhOmFueSkge1xuICAgICAgICAgICAgdGhpcy5fa2luZW1hdGljQm9keS5hZGRCb2R5KGVudGl0eU9iamVjdCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkU3RhdGljQm9keShlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGF0YTphbnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpY0JvZHkuYWRkQm9keShlbnRpdHlPYmplY3QsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vQHJlcXVpcmUoZnVuY3Rpb24oZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAvLyAgICBhc3NlcnQoISF0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QuZmluZEJvZHlCeUdhbWVPYmplY3QoZW50aXR5T2JqZWN0KSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhZGQgcGh5c2ljcyBib2R5XCIpKTtcbiAgICAgICAgLy99KVxuICAgICAgICAvL3B1YmxpYyB1cGRhdGVDb2xsaWRlclNoYXBlRnJvbUJvZHkoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAvLyAgICB2YXIgYm9keTpDQU5OT04uQm9keSA9IHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChlbnRpdHlPYmplY3QpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICBib2R5LlxuICAgICAgICAvL1xuICAgICAgICAvL31cblxuICAgICAgICBwdWJsaWMgYWRkTG9ja0NvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGxvY2tDb25zdHJhaW50OkxvY2tDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuX2xvY2tDb25zdHJhaW50LmFkZENvbnN0cmFpbnQoZW50aXR5T2JqZWN0LCBsb2NrQ29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlTG9ja0NvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5fbG9ja0NvbnN0cmFpbnQucmVtb3ZlQ29uc3RyYWludChlbnRpdHlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZERpc3RhbmNlQ29uc3RyYWludChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgZGlzdGFuY2VDb25zdHJhaW50OkRpc3RhbmNlQ29uc3RyYWludCl7XG4gICAgICAgICAgICB0aGlzLl9kaXN0YW5jZUNvbnN0cmFpbnQuYWRkQ29uc3RyYWludChlbnRpdHlPYmplY3QsIGRpc3RhbmNlQ29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlRGlzdGFuY2VDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KGVudGl0eU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkSGluZ2VDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBoaW5nZUNvbnN0cmFpbnQ6SGluZ2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuX2hpbmdlQ29uc3RyYWludC5hZGRDb25zdHJhaW50KGVudGl0eU9iamVjdCwgaGluZ2VDb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVIaW5nZUNvbnN0cmFpbnQoZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5faGluZ2VDb25zdHJhaW50LnJlbW92ZUNvbnN0cmFpbnQoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRQb2ludFRvUG9pbnRDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5hZGRDb25zdHJhaW50KGVudGl0eU9iamVjdCwgcG9pbnRUb1BvaW50Q29uc3RyYWludCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlUG9pbnRUb1BvaW50Q29uc3RyYWludChwb2ludFRvUG9pbnRDb25zdHJhaW50OlBvaW50VG9Qb2ludENvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUdhbWVPYmplY3Qob2JqOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5fZ2V0TWF0ZXJpYWwob2JqKSxcbiAgICAgICAgICAgICAgICBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKGJvZHkpe1xuICAgICAgICAgICAgICAgIHRoaXMud29ybGQucmVtb3ZlKGJvZHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QucmVtb3ZlKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsTGlzdC5yZW1vdmUob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50cyhvYmo6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvY2tDb25zdHJhaW50LnJlbW92ZUNvbnN0cmFpbnQob2JqKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlQ29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KG9iaik7XG4gICAgICAgICAgICB0aGlzLl9oaW5nZUNvbnN0cmFpbnQucmVtb3ZlQ29uc3RyYWludChvYmopO1xuXG4gICAgICAgICAgICB0aGlzLl9wb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3RcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh7ZW50aXR5T2JqZWN0fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSnVkZ2VVdGlscy5pc0VxdWFsKGVudGl0eU9iamVjdCwgb2JqKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKCh7cG9pbnRUb1BvaW50Q29uc3RyYWludH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcG9pbnRUb1BvaW50Q29uc3RyYWludC5yZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGVsYXBzZWRUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QudXBkYXRlQm9keVRyYW5zZm9ybURhdGEoKTtcblxuICAgICAgICAgICAgdGhpcy53b3JsZC5zdGVwKERpcmVjdG9yLmdldEluc3RhbmNlKCkuZ2V0RGVsdGFUaW1lKCkgLyAxMDAwKTtcblxuICAgICAgICAgICAgdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LnVwZGF0ZUdhbWVPYmplY3RUcmFuc2Zvcm1EYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXRlcmlhbChvYmo6R2FtZU9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsTGlzdC5maW5kTWF0ZXJpYWxCeUdhbWVPYmplY3Qob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE51bWJlckRhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuX2dhbWVPYmplY3REYXRhTGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChvYmopO1xuXG4gICAgICAgICAgICBpZighYm9keSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5W2RhdGFOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE51bWJlckRhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZywgZGF0YTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLl9nYW1lT2JqZWN0RGF0YUxpc3QuZmluZEJvZHlCeUdhbWVPYmplY3Qob2JqKTtcblxuICAgICAgICAgICAgaWYoIWJvZHkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib2R5W2RhdGFOYW1lXSA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRWZWMzRGF0YShvYmo6R2FtZU9iamVjdCwgZGF0YU5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKCFib2R5KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIENhbm5vblV0aWxzLmNvbnZlcnRUb1dvbmRlclZlY3RvcjMoYm9keVtkYXRhTmFtZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0VmVjM0RhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZywgZGF0YTpWZWN0b3IzKXtcbiAgICAgICAgICAgIHZhciBib2R5ID0gdGhpcy5fZ2FtZU9iamVjdERhdGFMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KG9iaik7XG5cbiAgICAgICAgICAgIGlmKCFib2R5KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm9keVtkYXRhTmFtZV0gPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24ob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0QXJyID0gW10sXG4gICAgICAgICAgICAgICAgZmlyc3REYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSB0aGlzLl9nZXRNYXRlcmlhbChvYmopO1xuXG4gICAgICAgICAgICBpZighY3VycmVudE1hdGVyaWFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0QXJyID0gdGhpcy5fbWF0ZXJpYWxMaXN0LmdldENvbnRhY3RNYXRlcmlhbHModGhpcy53b3JsZCwgY3VycmVudE1hdGVyaWFsKTtcblxuICAgICAgICAgICAgZmlyc3REYXRhID0gcmVzdWx0QXJyWzBdO1xuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIHJlc3VsdEFycil7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGRhdGEgPT09IGZpcnN0RGF0YSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0aGUgZGF0YSBvZiBjb250YWN0IG1hdGVyaWFsIHdoaWNoIGNvbnRhaW5zIHRoZSBzYW1lIG1hdGVyaWFsXCIsIFwiYmUgdGhlIHNhbWVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRNYXRlcmlhbERhdGEob2JqOkdhbWVPYmplY3QsIGRhdGFOYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSB0aGlzLl9nZXRNYXRlcmlhbChvYmopO1xuXG4gICAgICAgICAgICBpZighY3VycmVudE1hdGVyaWFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsTGlzdC5nZXRDb250YWN0TWF0ZXJpYWxEYXRhKHRoaXMud29ybGQsIGN1cnJlbnRNYXRlcmlhbCwgZGF0YU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWF0ZXJpYWxEYXRhKG9iajpHYW1lT2JqZWN0LCBkYXRhTmFtZTpzdHJpbmcsIGRhdGE6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB3b3JsZCA9IHRoaXMud29ybGQsXG4gICAgICAgICAgICAgICAgY3VycmVudE1hdGVyaWFsID0gdGhpcy5fZ2V0TWF0ZXJpYWwob2JqKTtcblxuICAgICAgICAgICAgaWYoIWN1cnJlbnRNYXRlcmlhbCl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oXCJubyBtYXRlcmlhbCBmaW5kLCBwbGVhc2UgYWRkIG1hdGVyaWFsIGZpcnN0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbExpc3Quc2V0Q29udGFjdE1hdGVyaWFsRGF0YSh0aGlzLndvcmxkLCBjdXJyZW50TWF0ZXJpYWwsIGRhdGFOYW1lLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uQm9keSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0TGlzdCA9IGdhbWVPYmplY3REYXRhTGlzdDtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxMaXN0ID0gbWF0ZXJpYWxMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtYXRlcmlhbExpc3Q6Q2Fubm9uTWF0ZXJpYWxMaXN0ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGdhbWVPYmplY3RMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFkZEJvZHkoZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIGRhdGE6YW55KSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuY3JlYXRlQm9keShkYXRhKTtcblxuICAgICAgICAgICAgaWYoZGF0YS5jaGlsZHJlbi5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29tcG91bmRzKGVudGl0eU9iamVjdCwgZGF0YS5jaGlsZHJlbiwgYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGJvZHkuYWRkU2hhcGUodGhpcy5fY3JlYXRlU2hhcGUoZW50aXR5T2JqZWN0LmdldENvbXBvbmVudDxDb2xsaWRlcj4oQ29sbGlkZXIpLnNoYXBlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBZGRTaGFwZShib2R5LCBkYXRhKTtcblxuICAgICAgICAgICAgYm9keS5tYXRlcmlhbCA9IHRoaXMuX2NyZWF0ZU1hdGVyaWFsKGVudGl0eU9iamVjdCwgZGF0YS5mcmljdGlvbiwgZGF0YS5yZXN0aXR1dGlvbik7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhkYXRhLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGJvZHkucXVhdGVybmlvbiA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblF1YXRlcm5pb24oZGF0YS5yb3RhdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQm9keShib2R5KTtcblxuXG5cbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdExpc3QuYWRkKGVudGl0eU9iamVjdCwgYm9keSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2JpbmRDb2xsaWRlRXZlbnQoYm9keSwgZGF0YS5vbkNvbGxpc2lvblN0YXJ0LCBkYXRhLm9uQ29udGFjdCwgZGF0YS5vbkNvbGxpc2lvbkVuZCk7XG5cbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUJvZHkoZGF0YTphbnkpOkNBTk5PTi5Cb2R5O1xuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckFkZFNoYXBlKGJvZHk6Q0FOTk9OLkJvZHksIGRhdGE6YW55KTp2b2lke1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlU2hhcGUoc2hhcGU6U2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBjYW5ub25TaGFwZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIEFBQkJTaGFwZSkge1xuICAgICAgICAgICAgICAgIGNhbm5vblNoYXBlID0gbmV3IENBTk5PTi5Cb3goQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhzaGFwZS5oYWxmRXh0ZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUgaW5zdGFuY2VvZiBTcGhlcmVTaGFwZSkge1xuICAgICAgICAgICAgICAgIGNhbm5vblNoYXBlID0gbmV3IENBTk5PTi5TcGhlcmUoc2hhcGUucmFkaXVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNhbm5vblNoYXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmluZENvbGxpZGVFdmVudCh0YXJnZXRCb2R5OkNBTk5PTi5Cb2R5LCBvbkNvbGxpc2lvblN0YXJ0Oihjb2xsaWRlT2JqZWN0OkdhbWVPYmplY3QpID0+IHZvaWQsIG9uQ29udGFjdDooY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB2b2lkLCBvbkNvbGxpc2lvbkVuZDooY29sbGlkZU9iamVjdDpHYW1lT2JqZWN0KSA9PiB2b2lkKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRhcmdldEJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNvbGxpZGVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZW50aXR5T2JqZWN0ID0gc2VsZi5nYW1lT2JqZWN0TGlzdC5maW5kR2FtZU9iamVjdEJ5Qm9keShlLmJvZHkpLFxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghZW50aXR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2xsaWRlT2JqZWN0ID0gZW50aXR5T2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgb25Db2xsaXNpb25TdGFydChjb2xsaWRlT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBvbkNvbnRhY3QoY29sbGlkZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgb25Db2xsaXNpb25FbmQoY29sbGlkZU9iamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZU1hdGVyaWFsKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBmcmljdGlvbjpudW1iZXIsIHJlc3RpdHV0aW9uOm51bWJlcikge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IHRoaXMuX2dldE1hdGVyaWFsKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudE1hdGVyaWFsID0gbmV3IENBTk5PTi5NYXRlcmlhbChcIm1hdGVyaWFsXCIpO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRNYXRlcmlhbChlbnRpdHlPYmplY3QsIGN1cnJlbnRNYXRlcmlhbCwgZnJpY3Rpb24sIHJlc3RpdHV0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRNYXRlcmlhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldE1hdGVyaWFsKG9iajpHYW1lT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbExpc3QuZmluZE1hdGVyaWFsQnlHYW1lT2JqZWN0KG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRNYXRlcmlhbChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgY3VycmVudE1hdGVyaWFsOkNBTk5PTi5NYXRlcmlhbCwgZnJpY3Rpb246bnVtYmVyLCByZXN0aXR1dGlvbjpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxMaXN0LmFkZChlbnRpdHlPYmplY3QsIGN1cnJlbnRNYXRlcmlhbCk7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsTGlzdC5hZGRDb250YWN0TWF0ZXJpYWwodGhpcy53b3JsZCwgY3VycmVudE1hdGVyaWFsLCBmcmljdGlvbiwgcmVzdGl0dXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0LCBjaGlsZHJlbjp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIGJvZHk6Q0FOTk9OLkJvZHkpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoISFjaGlsZC5nZXRDb21wb25lbnQoQ29sbGlkZXIpLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwiY29sbGlkZXIgY29tcG9uZW50XCIpKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoISFjaGlsZC5nZXRDb21wb25lbnQ8Q29sbGlkZXI+KENvbGxpZGVyKS5zaGFwZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJjcmVhdGUgY29sbGlkZXIuc2hhcGVcIikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2FkZENvbXBvdW5kcyhlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgY2hpbGRyZW46d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+LCBib2R5OkNBTk5PTi5Cb2R5KXtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSBlbnRpdHlPYmplY3QudHJhbnNmb3JtLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgYm9keS5hZGRTaGFwZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2hhcGUoY2hpbGQuZ2V0Q29tcG9uZW50PENvbGxpZGVyPihDb2xsaWRlcikuc2hhcGUpLFxuICAgICAgICAgICAgICAgICAgICBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGNoaWxkLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KCkuc3ViKHBvc2l0aW9uKSksXG4gICAgICAgICAgICAgICAgICAgIENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblF1YXRlcm5pb24oY2hpbGQudHJhbnNmb3JtLnJvdGF0aW9uLmNvcHkoKS5zdWIocm90YXRpb24pKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uRHluYW1pY0JvZHkgZXh0ZW5kcyBDYW5ub25Cb2R5IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUod29ybGQ6Q0FOTk9OLldvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3Q6Q2Fubm9uR2FtZU9iamVjdERhdGFMaXN0LCBtYXRlcmlhbExpc3Q6Q2Fubm9uTWF0ZXJpYWxMaXN0KSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUJvZHkoe1xuICAgICAgICAgICAgbWFzcyxcbiAgICAgICAgICAgIGxpbmVhckRhbXBpbmcsXG4gICAgICAgICAgICBhbmd1bGFyRGFtcGluZyxcbiAgICAgICAgICAgIHZlbG9jaXR5LFxuICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5XG4gICAgICAgICAgICB9KTpDQU5OT04uQm9keXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLkJvZHkoe1xuICAgICAgICAgICAgICAgIG1hc3M6IG1hc3MsXG4gICAgICAgICAgICAgICAgbGluZWFyRGFtcGluZzogbGluZWFyRGFtcGluZyxcbiAgICAgICAgICAgICAgICBhbmd1bGFyRGFtcGluZzogYW5ndWxhckRhbXBpbmcsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjModmVsb2NpdHkpLFxuICAgICAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhhbmd1bGFyVmVsb2NpdHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckFkZFNoYXBlKGJvZHk6Q0FOTk9OLkJvZHksIHtcbiAgICAgICAgICAgIGltcHVsc2UsXG4gICAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICAgIGhpdFBvaW50XG4gICAgICAgICAgICB9KTp2b2lke1xuICAgICAgICAgICAgaWYoaW1wdWxzZSAmJiBoaXRQb2ludCl7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBseUltcHVsc2UoQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhpbXB1bHNlKSwgQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaXRQb2ludCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZm9yY2UgJiYgaGl0UG9pbnQpe1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwbHlGb3JjZShDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGZvcmNlKSwgQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaXRQb2ludCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25LaW5lbWF0aWNCb2R5IGV4dGVuZHMgQ2Fubm9uQm9keSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQm9keSh7XG4gICAgICAgICAgICBtYXNzLFxuICAgICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHlcbiAgICAgICAgICAgIH0pOkNBTk5PTi5Cb2R5e1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDQU5OT04uQm9keSh7XG4gICAgICAgICAgICAgICAgdHlwZTogQ0FOTk9OLkJvZHkuS0lORU1BVElDLFxuXG4gICAgICAgICAgICAgICAgbWFzczogbWFzcyxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyh2ZWxvY2l0eSksXG4gICAgICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGFuZ3VsYXJWZWxvY2l0eSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25TdGF0aWNCb2R5IGV4dGVuZHMgQ2Fubm9uQm9keSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgbWF0ZXJpYWxMaXN0OkNhbm5vbk1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIG1hdGVyaWFsTGlzdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQm9keSh7XG4gICAgICAgICAgICB9KTpDQU5OT04uQm9keXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ0FOTk9OLkJvZHkoe1xuICAgICAgICAgICAgICAgIG1hc3M6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbm5vbkNvbnN0cmFpbnR7XG4gICAgICAgIGNvbnN0cnVjdG9yKHdvcmxkOkNBTk5PTi5Xb3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0OkNhbm5vbkdhbWVPYmplY3REYXRhTGlzdCwgY29uc3RyYWludERhdGFMaXN0OmFueSkge1xuICAgICAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0TGlzdCA9IGdhbWVPYmplY3REYXRhTGlzdDtcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0ID0gY29uc3RyYWludERhdGFMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHdvcmxkOkNBTk5PTi5Xb3JsZCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBnYW1lT2JqZWN0TGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgY29uc3RyYWludERhdGFMaXN0OmFueSA9IG51bGw7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZW50aXR5T2JqZWN0OkdhbWVPYmplY3QsIHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nYW1lT2JqZWN0TGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChlbnRpdHlPYmplY3QpICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImFkZCByaWdpZCBib2R5XCIpKTtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmZpbmRCb2R5KHBvaW50VG9Qb2ludENvbnN0cmFpbnQuY29ubmVjdGVkQm9keSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiYWRkIGNvbm5lY3RlZEJvZHlcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgYWRkQ29uc3RyYWludChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDphbnkpe1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGJvZHk6Q0FOTk9OLkJvZHkgPSB0aGlzLmdhbWVPYmplY3RMaXN0LmZpbmRCb2R5QnlHYW1lT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSB0aGlzLmNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keSwgd29uZGVyQ29uc3RyYWludCk7XG5cbiAgICAgICAgICAgIHRoaXMud29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3QsIHdvbmRlckNvbnN0cmFpbnQsIGNvbnN0cmFpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keTpDQU5OT04uQm9keSwgd29uZGVyQ29uc3RyYWludDpQaHlzaWNzQ29uc3RyYWludCk6Q0FOTk9OLkNvbnN0cmFpbnQ7XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpQaHlzaWNzQ29uc3RyYWludCwgY2Fubm9uQ29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCk6dm9pZDtcblxuICAgICAgICBwcm90ZWN0ZWQgZmluZEJvZHkocmlnaWRCb2R5OlJpZ2lkQm9keSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0TGlzdC5maW5kQm9keUJ5R2FtZU9iamVjdChyaWdpZEJvZHkuZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2Fubm9uU2luZ2xlQ29uc3RyYWludCBleHRlbmRzIENhbm5vbkNvbnN0cmFpbnR7XG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50KGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50RGF0YUxpc3QuZmluZENvbnN0cmFpbnRCeUdhbWVPYmplY3QoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgaWYoY29uc3RyYWludCl7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnREYXRhTGlzdC5yZW1vdmUoZW50aXR5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpMb2NrQ29uc3RyYWludCwgY2Fubm9uQ29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCl7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnREYXRhTGlzdC5hZGQoZW50aXR5T2JqZWN0LCBjYW5ub25Db25zdHJhaW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ2Fubm9uTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0KSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHdvcmxkLCBnYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Mb2NrQ29uc3RyYWludERhdGFMaXN0O1xuXG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUNhbm5vbkNvbnN0cmFpbnQoYm9keTpDQU5OT04uQm9keSwgbG9ja0NvbnN0cmFpbnQ6TG9ja0NvbnN0cmFpbnQpe1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQ6Q0FOTk9OLkNvbnN0cmFpbnQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RlZEJvZHk6Q0FOTk9OLkJvZHkgPSB0aGlzLmZpbmRCb2R5KGxvY2tDb25zdHJhaW50LmNvbm5lY3RlZEJvZHkpO1xuXG4gICAgICAgICAgICBpZihsb2NrQ29uc3RyYWludC5tYXhGb3JjZSl7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDQU5OT04uTG9ja0NvbnN0cmFpbnQoYm9keSwgY29ubmVjdGVkQm9keSwgbG9ja0NvbnN0cmFpbnQubWF4Rm9yY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENBTk5PTi5Mb2NrQ29uc3RyYWludChib2R5LCBjb25uZWN0ZWRCb2R5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25Db25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25Qb2ludFRvUG9pbnRDb25zdHJhaW50RGF0YUxpc3QpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMod29ybGQsIGdhbWVPYmplY3REYXRhTGlzdCwgY29uc3RyYWludERhdGFMaXN0KTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY29uc3RyYWludERhdGFMaXN0OkNhbm5vblBvaW50VG9Qb2ludENvbnN0cmFpbnREYXRhTGlzdDtcblxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludERhdGFMaXN0LmZpbmRDYW5ub25Db25zdHJhaW50QnlQb2ludFRvUG9pbnRDb25zdHJhaW50KHBvaW50VG9Qb2ludENvbnN0cmFpbnQpO1xuXG4gICAgICAgICAgICBpZihjb25zdHJhaW50KXtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0LnJlbW92ZShwb2ludFRvUG9pbnRDb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW5ub25Db25zdHJhaW50KGJvZHk6Q0FOTk9OLkJvZHksIHBvaW50VG9Qb2ludENvbnN0cmFpbnQ6UG9pbnRUb1BvaW50Q29uc3RyYWludCl7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWludDpDQU5OT04uQ29uc3RyYWludCA9IG51bGwsXG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQm9keTpDQU5OT04uQm9keSA9IHRoaXMuZmluZEJvZHkocG9pbnRUb1BvaW50Q29uc3RyYWludC5jb25uZWN0ZWRCb2R5KSxcbiAgICAgICAgICAgICAgICBwaXZvdEEgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKHBvaW50VG9Qb2ludENvbnN0cmFpbnQucGl2b3RBKSxcbiAgICAgICAgICAgICAgICBwaXZvdEIgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKHBvaW50VG9Qb2ludENvbnN0cmFpbnQucGl2b3RCKTtcblxuICAgICAgICAgICAgaWYocG9pbnRUb1BvaW50Q29uc3RyYWludC5tYXhGb3JjZSl7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDQU5OT04uUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5LCBwaXZvdEEsIGNvbm5lY3RlZEJvZHksIHBpdm90QiwgcG9pbnRUb1BvaW50Q29uc3RyYWludC5tYXhGb3JjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ0FOTk9OLlBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keSwgcGl2b3RBLCBjb25uZWN0ZWRCb2R5LCBwaXZvdEIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RyYWludDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRUb0NvbnN0cmFpbnREYXRhTGlzdChlbnRpdHlPYmplY3Q6R2FtZU9iamVjdCwgd29uZGVyQ29uc3RyYWludDpQb2ludFRvUG9pbnRDb25zdHJhaW50LCBjYW5ub25Db25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50KXtcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludERhdGFMaXN0LmFkZChlbnRpdHlPYmplY3QsIHdvbmRlckNvbnN0cmFpbnQsIGNhbm5vbkNvbnN0cmFpbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25EaXN0YW5jZUNvbnN0cmFpbnREYXRhTGlzdCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh3b3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0LCBjb25zdHJhaW50RGF0YUxpc3QpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uRGlzdGFuY2VDb25zdHJhaW50RGF0YUxpc3Q7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ2Fubm9uQ29uc3RyYWludChib2R5OkNBTk5PTi5Cb2R5LCBkaXN0YW5jZUNvbnN0cmFpbnQ6RGlzdGFuY2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRCb2R5OkNBTk5PTi5Cb2R5ID0gdGhpcy5maW5kQm9keShkaXN0YW5jZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSk7XG5cbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ0FOTk9OLkRpc3RhbmNlQ29uc3RyYWludChib2R5LCBjb25uZWN0ZWRCb2R5LCBkaXN0YW5jZUNvbnN0cmFpbnQuZGlzdGFuY2UgIT09IG51bGwgPyBkaXN0YW5jZUNvbnN0cmFpbnQuZGlzdGFuY2UgOiB2b2lkIDAsIGRpc3RhbmNlQ29uc3RyYWludC5tYXhGb3JjZSAhPT0gbnVsbCA/IGRpc3RhbmNlQ29uc3RyYWludC5tYXhGb3JjZSA6IHZvaWQgMCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDYW5ub25IaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBDYW5ub25TaW5nbGVDb25zdHJhaW50e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh3b3JsZDpDQU5OT04uV29ybGQsIGdhbWVPYmplY3REYXRhTGlzdDpDYW5ub25HYW1lT2JqZWN0RGF0YUxpc3QsIGNvbnN0cmFpbnREYXRhTGlzdDpDYW5ub25IaW5nZUNvbnN0cmFpbnREYXRhTGlzdCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcyh3b3JsZCwgZ2FtZU9iamVjdERhdGFMaXN0LCBjb25zdHJhaW50RGF0YUxpc3QpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjb25zdHJhaW50RGF0YUxpc3Q6Q2Fubm9uSGluZ2VDb25zdHJhaW50RGF0YUxpc3Q7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlQ2Fubm9uQ29uc3RyYWludChib2R5OkNBTk5PTi5Cb2R5LCBoaW5nZUNvbnN0cmFpbnQ6SGluZ2VDb25zdHJhaW50KXtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50OkNBTk5PTi5Db25zdHJhaW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRCb2R5OkNBTk5PTi5Cb2R5ID0gdGhpcy5maW5kQm9keShoaW5nZUNvbnN0cmFpbnQuY29ubmVjdGVkQm9keSksXG4gICAgICAgICAgICAgICAgcGl2b3RBID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaW5nZUNvbnN0cmFpbnQucGl2b3RBKSxcbiAgICAgICAgICAgICAgICBheGlzQSA9IENhbm5vblV0aWxzLmNvbnZlcnRUb0Nhbm5vblZlY3RvcjMoaGluZ2VDb25zdHJhaW50LmF4aXNBKSxcbiAgICAgICAgICAgICAgICBwaXZvdEIgPSBDYW5ub25VdGlscy5jb252ZXJ0VG9DYW5ub25WZWN0b3IzKGhpbmdlQ29uc3RyYWludC5waXZvdEIpLFxuICAgICAgICAgICAgICAgIGF4aXNCID0gQ2Fubm9uVXRpbHMuY29udmVydFRvQ2Fubm9uVmVjdG9yMyhoaW5nZUNvbnN0cmFpbnQuYXhpc0IpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6YW55ID0ge307XG5cbiAgICAgICAgICAgIGlmKGhpbmdlQ29uc3RyYWludC5waXZvdEEpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGl2b3RBID0gcGl2b3RBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGluZ2VDb25zdHJhaW50LmF4aXNBKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF4aXNBID0gYXhpc0E7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihoaW5nZUNvbnN0cmFpbnQucGl2b3RCKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBpdm90QiA9IHBpdm90QjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGhpbmdlQ29uc3RyYWludC5heGlzQil7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5heGlzQiA9IGF4aXNCO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGluZ2VDb25zdHJhaW50Lm1heEZvcmNlKXtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1heEZvcmNlID0gaGluZ2VDb25zdHJhaW50Lm1heEZvcmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENBTk5PTi5IaW5nZUNvbnN0cmFpbnQoYm9keSwgY29ubmVjdGVkQm9keSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgTGlnaHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgICBnZXQgcG9zaXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zaGFkb3dNYXBXaWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgc2hhZG93TWFwV2lkdGgoKXtcbiAgICAgICAgICAgIHZhciBtYXhDdWJlbWFwVGV4dHVyZVNpemUgPSBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heEN1YmVtYXBUZXh0dXJlU2l6ZTtcblxuICAgICAgICAgICAgaWYoIXRoaXMuX3NoYWRvd01hcFdpZHRoIHx8IHRoaXMuX3NoYWRvd01hcFdpZHRoID4gbWF4Q3ViZW1hcFRleHR1cmVTaXplKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF4Q3ViZW1hcFRleHR1cmVTaXplXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFkb3dNYXBXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2hhZG93TWFwV2lkdGgoc2hhZG93TWFwV2lkdGg6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFdpZHRoID0gc2hhZG93TWFwV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zaGFkb3dNYXBIZWlnaHQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IHNoYWRvd01hcEhlaWdodCgpe1xuICAgICAgICAgICAgdmFyIG1heEN1YmVtYXBUZXh0dXJlU2l6ZSA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4Q3ViZW1hcFRleHR1cmVTaXplO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fc2hhZG93TWFwSGVpZ2h0IHx8IHRoaXMuX3NoYWRvd01hcEhlaWdodCA+IG1heEN1YmVtYXBUZXh0dXJlU2l6ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1heEN1YmVtYXBUZXh0dXJlU2l6ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hhZG93TWFwSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBzaGFkb3dNYXBIZWlnaHQoc2hhZG93TWFwSGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBIZWlnaHQgPSBzaGFkb3dNYXBIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW50aXR5T2JqZWN0OkdhbWVPYmplY3Q7XG5cbiAgICAgICAgcHVibGljIGNvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwiI2ZmZmZmZlwiKTtcbiAgICAgICAgcHVibGljIGNhc3RTaGFkb3c6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgc2hhZG93Q2FtZXJhTmVhcjpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dDYW1lcmFGYXI6bnVtYmVyID0gNTAwMDtcbiAgICAgICAgcHVibGljIHNoYWRvd0JpYXM6bnVtYmVyID0gU2hhZGVyQ2h1bmsuTlVMTDtcbiAgICAgICAgcHVibGljIHNoYWRvd0RhcmtuZXNzOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dNYXA6SVNoYWRvd01hcFRleHR1cmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2hhZG93TWFwUmVuZGVyZXI6UmVuZGVyVGFyZ2V0UmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBBbWJpZW50TGlnaHQgZXh0ZW5kcyBMaWdodHtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0eXBlOnN0cmluZyA9IFwiYW1iaWVudExpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTb3VyY2VMaWdodCBleHRlbmRzIExpZ2h0e1xuICAgICAgICBwdWJsaWMgaW50ZW5zaXR5Om51bWJlciA9IDE7XG5cbiAgICAgICAgcHJpdmF0ZSBfYmVmb3JlSW5pdFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUluaXRTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KDxhbnk+RUVuZ2luZUV2ZW50LkJFRk9SRV9HQU1FT0JKRUNUX0lOSVQpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYmVmb3JlSW5pdEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd01hcCAmJiB0aGlzLnNoYWRvd01hcC5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUucmVtb3ZlUmVuZGVyVGFyZ2V0UmVuZGVyZXIodGhpcy5zaGFkb3dNYXBSZW5kZXJlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUluaXRTdWJzY3JpcHRpb24gJiYgdGhpcy5fYmVmb3JlSW5pdFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZXhlY09ubHlPbmNlKFwiX2lzQmVmb3JlSW5pdFwiKVxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlSW5pdEhhbmRsZXIoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuY2FzdFNoYWRvdyl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dNYXAgPSB0aGlzLmNyZWF0ZVNoYWRvd01hcCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dNYXBSZW5kZXJlciA9IHRoaXMuY3JlYXRlU2hhZG93TWFwUmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFJlbmRlclRhcmdldFJlbmRlcmVyKHRoaXMuc2hhZG93TWFwUmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZVNoYWRvd01hcCgpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlU2hhZG93TWFwUmVuZGVyZXIoKTtcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRGlyZWN0aW9uTGlnaHQgZXh0ZW5kcyBTb3VyY2VMaWdodHtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0eXBlOnN0cmluZyA9IFwiZGlyZWN0aW9uTGlnaHRcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBkZWZhdWx0UG9zaXRpb246VmVjdG9yMyA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDEpO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2hhZG93UmVuZGVyTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBudWxsO1xuICAgICAgICBnZXQgc2hhZG93UmVuZGVyTGlzdCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoYWRvd1JlbmRlckxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oc2hhZG93UmVuZGVyTGlzdDphbnkpe1xuICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoc2hhZG93UmVuZGVyTGlzdCksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInNoYWRvd1JlbmRlckxpc3RcIiwgXCJhcnJheVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHNldCBzaGFkb3dSZW5kZXJMaXN0KHNoYWRvd1JlbmRlckxpc3Q6YW55KSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dSZW5kZXJMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PihzaGFkb3dSZW5kZXJMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBleHRyYWN0IFNoYWRvdyBjbGFzcz9cbiAgICAgICAgcHVibGljIHNoYWRvd0NhbWVyYUxlZnQ6bnVtYmVyID0gLTEwMDA7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dDYW1lcmFSaWdodDpudW1iZXIgPSAxMDAwO1xuICAgICAgICBwdWJsaWMgc2hhZG93Q2FtZXJhVG9wOm51bWJlciA9IDEwMDA7XG4gICAgICAgIHB1YmxpYyBzaGFkb3dDYW1lcmFCb3R0b206bnVtYmVyID0gLTEwMDA7XG5cbiAgICAgICAgcHVibGljIHNoYWRvd01hcDpUd29EU2hhZG93TWFwVGV4dHVyZTtcbiAgICAgICAgcHVibGljIHNoYWRvd01hcFJlbmRlcmVyOlR3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlcjtcblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZG93TWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gVHdvRFNoYWRvd01hcFRleHR1cmUuY3JlYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZG93TWFwUmVuZGVyZXIoKXtcbiAgICAgICAgICAgIHJldHVybiBUd29EU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIuY3JlYXRlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFBvaW50TGlnaHQgZXh0ZW5kcyBTb3VyY2VMaWdodHtcbiAgICAgICAgcHVibGljIHN0YXRpYyB0eXBlOnN0cmluZyA9IFwicG9pbnRMaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmFuZ2VMZXZlbDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgcmFuZ2VMZXZlbCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlTGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJhbmdlTGV2ZWwocmFuZ2VMZXZlbDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VMZXZlbCA9IHJhbmdlTGV2ZWw7XG4gICAgICAgICAgICB0aGlzLl9hdHRlbnVhdGlvbi5yYW5nZUxldmVsID0gdGhpcy5fcmFuZ2VMZXZlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCByYW5nZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGVudWF0aW9uLnJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIHNldCByYW5nZShyYW5nZTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW51YXRpb24ucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjb25zdGFudCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGVudWF0aW9uLmNvbnN0YW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25zdGFudChjb25zdGFudDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW51YXRpb24uY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBsaW5lYXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdHRlbnVhdGlvbi5saW5lYXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxpbmVhcihsaW5lYXI6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2F0dGVudWF0aW9uLmxpbmVhciA9IGxpbmVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBxdWFkcmF0aWMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdHRlbnVhdGlvbi5xdWFkcmF0aWM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHF1YWRyYXRpYyhxdWFkcmF0aWM6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2F0dGVudWF0aW9uLnF1YWRyYXRpYyA9IHF1YWRyYXRpYztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NoYWRvd1JlbmRlckxpc3Q6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj4gPSB3ZENiLkhhc2guY3JlYXRlPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj4oKTtcbiAgICAgICAgZ2V0IHNoYWRvd1JlbmRlckxpc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGFkb3dSZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIEByZXF1aXJlU2V0dGVyKGZ1bmN0aW9uKHNoYWRvd1JlbmRlckxpc3Q6YW55KXtcbiAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzRGlyZWN0T2JqZWN0KHNoYWRvd1JlbmRlckxpc3QpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkb3dSZW5kZXJMaXN0XCIsIFwib2JqZWN0XCIpKTtcblxuICAgICAgICAgICAgZm9yKGxldCBkaXJlY3Rpb24gaW4gc2hhZG93UmVuZGVyTGlzdCl7XG4gICAgICAgICAgICAgICAgaWYoc2hhZG93UmVuZGVyTGlzdC5oYXNPd25Qcm9wZXJ0eShkaXJlY3Rpb24pKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBzaGFkb3dSZW5kZXJMaXN0W2RpcmVjdGlvbl07XG5cbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkobGlzdCkgfHwgc2hhZG93UmVuZGVyTGlzdCBpbnN0YW5jZW9mIHdkQ2IuSGFzaCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwicmVuZGVyTGlzdCBpbiBlYWNoIGRpcmVjdGlvbiBvZiBzaGFkb3dSZW5kZXJMaXN0XCIsIFwiYXJyYXlcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuICAgICAgICBzZXQgc2hhZG93UmVuZGVyTGlzdChzaGFkb3dSZW5kZXJMaXN0OmFueSkge1xuICAgICAgICAgICAgc2hhZG93UmVuZGVyTGlzdCA9IDx7XG4gICAgICAgICAgICAgICAgcHg6QXJyYXk8R2FtZU9iamVjdD4sXG4gICAgICAgICAgICAgICAgbng6QXJyYXk8R2FtZU9iamVjdD4sXG4gICAgICAgICAgICAgICAgcHk6QXJyYXk8R2FtZU9iamVjdD4sXG4gICAgICAgICAgICAgICAgbnk6QXJyYXk8R2FtZU9iamVjdD4sXG4gICAgICAgICAgICAgICAgcHo6QXJyYXk8R2FtZU9iamVjdD4sXG4gICAgICAgICAgICAgICAgbno6QXJyYXk8R2FtZU9iamVjdD5cbiAgICAgICAgICAgIH0+IHNoYWRvd1JlbmRlckxpc3Q7XG5cbiAgICAgICAgICAgIGZvcihsZXQgZGlyZWN0aW9uIGluIHNoYWRvd1JlbmRlckxpc3Qpe1xuICAgICAgICAgICAgICAgIGlmKHNoYWRvd1JlbmRlckxpc3QuaGFzT3duUHJvcGVydHkoZGlyZWN0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gc2hhZG93UmVuZGVyTGlzdFtkaXJlY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYWRvd1JlbmRlckxpc3QuYWRkQ2hpbGQoZGlyZWN0aW9uLCB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KGxpc3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2hhZG93TWFwOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlO1xuICAgICAgICBwdWJsaWMgc2hhZG93TWFwUmVuZGVyZXI6Q3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyO1xuXG4gICAgICAgIHByaXZhdGUgX2F0dGVudWF0aW9uOkF0dGVudWF0aW9uID0gQXR0ZW51YXRpb24uY3JlYXRlKCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRvd01hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlLmNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRvd01hcFJlbmRlcmVyKCl7XG4gICAgICAgICAgICByZXR1cm4gQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEF0dGVudWF0aW9uIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnN0YW50Om51bWJlciA9IDE7XG4gICAgICAgIGdldCBjb25zdGFudCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0YW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBjb25zdGFudChjb25zdGFudDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JhbmdlOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCByYW5nZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcmFuZ2UocmFuZ2U6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gcmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9saW5lYXI6bnVtYmVyID0gMDtcbiAgICAgICAgZ2V0IGxpbmVhcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lYXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGxpbmVhcihsaW5lYXI6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IGxpbmVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3F1YWRyYXRpYzpudW1iZXIgPSAwO1xuICAgICAgICBnZXQgcXVhZHJhdGljKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWRyYXRpYztcbiAgICAgICAgfVxuICAgICAgICBzZXQgcXVhZHJhdGljKHF1YWRyYXRpYzpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gcXVhZHJhdGljO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmFuZ2VMZXZlbDpudW1iZXIgPSAwO1xuICAgICAgICBnZXQgcmFuZ2VMZXZlbCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlTGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHJhbmdlTGV2ZWwocmFuZ2VMZXZlbDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VMZXZlbCA9IHJhbmdlTGV2ZWw7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0QnlSYW5nZUxldmVsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0QnlSYW5nZUxldmVsKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9yYW5nZUxldmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuNztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMS44O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMTM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuMzU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuNDQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2UgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4yMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4yMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDMyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjE0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWFkcmF0aWMgPSAwLjA3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gNTA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuMDk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDMyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gNjU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVhciA9IDAuMDc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDE3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjA0NTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4wMDc1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMTYwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjAyNztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4wMDI4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMjAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjAyMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4wMDE5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gMzI1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjAxNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVhZHJhdGljID0gMC4wMDA3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZSA9IDYwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZWFyID0gMC4wMDc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDAwMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2UgPSAzMjUwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lYXIgPSAwLjAwMTQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1YWRyYXRpYyA9IDAuMDAwMDA3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIFwib3ZlciBsaWdodCByYW5nZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUxpZ2h0TW9kZWx7XG4gICAgICAgIFBIT05HID0gPGFueT5cIlBIT05HXCIsXG4gICAgICAgIEJMSU5OID0gPGFueT5cIkJMSU5OXCIsXG4gICAgICAgIExBTUJFUlQgPSA8YW55PlwiTEFNQkVSVFwiLFxuICAgICAgICBDT05TVEFOVCA9IDxhbnk+XCJDT05TVEFOVFwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgVUkgZXh0ZW5kcyBDb21wb25lbnR7XG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIGdldCBkaXJ0eSgpe1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5nZXRVSVJlbmRlcmVyKCk7XG5cbiAgICAgICAgICAgIGlmKCFyZW5kZXJlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlci5kaXJ0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZGlydHkoZGlydHk6Ym9vbGVhbil7XG4gICAgICAgICAgICBpZihkaXJ0eSl7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5nZXRVSVJlbmRlcmVyKCk7XG5cbiAgICAgICAgICAgICAgICBpZighcmVuZGVyZXIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZGlydHkgPSBkaXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB3aWR0aCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0ID8gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLndpZHRoIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBoZWlnaHQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdCA/IHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5oZWlnaHQgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGVudGl0eU9iamVjdDpVSU9iamVjdDtcbiAgICAgICAgcHVibGljIGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmdldENvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRUb09iamVjdChlbnRpdHlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgc3VwZXIuYWRkVG9PYmplY3QoZW50aXR5T2JqZWN0KTtcblxuICAgICAgICAgICAgZW50aXR5T2JqZWN0LnVpTWFuYWdlci5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmVGcm9tT2JqZWN0KGVudGl0eU9iamVjdDpVSU9iamVjdCl7XG4gICAgICAgICAgICBzdXBlci5yZW1vdmVGcm9tT2JqZWN0KGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIGVudGl0eU9iamVjdC51aU1hbmFnZXIucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY29udGV4dCAhPT0gbnVsbCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJzZXQgY29udGV4dFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgICAgICBpZih0aGlzLnNob3VsZE5vdFVwZGF0ZSgpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRDYW52YXNUcmFuc2Zvcm1Gb3JSb3RhdGlvbigpO1xuXG4gICAgICAgICAgICB0aGlzLmRyYXcoZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHByb3RlY3RlZCBkcmF3KGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgc2hvdWxkTm90VXBkYXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVJUmVuZGVyZXIoKS5jb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldENhbnZhcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVJUmVuZGVyZXIoKS5jYW52YXM7XG4gICAgICAgIH1cblxuICAgICAgICAvL0ByZXF1aXJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgYXNzZXJ0KHRoaXMuZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChVSVJlbmRlcmVyKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIFVJUmVuZGVyZXJcIikpXG4gICAgICAgIC8vfSlcbiAgICAgICAgcHJvdGVjdGVkIGdldFVJUmVuZGVyZXIoKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLmVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC5nZXRDb21wb25lbnQ8VUlSZW5kZXJlcj4oVUlSZW5kZXJlcik7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3SW5DZW50ZXJQb2ludChjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc291cmNlOmFueSwgcG9zaXRpb246VmVjdG9yMiwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKTtcbiAgICAgICAgcHJvdGVjdGVkIGRyYXdJbkNlbnRlclBvaW50KGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBzb3VyY2U6YW55LCBzeDpudW1iZXIsIHN5Om51bWJlciwgc3c6bnVtYmVyLCBzaDpudW1iZXIsIHBvc2l0aW9uOlZlY3RvcjIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcik7XG5cbiAgICAgICAgcHJvdGVjdGVkIGRyYXdJbkNlbnRlclBvaW50KC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6YW55ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDUpe1xuICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbjpWZWN0b3IyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6bnVtYmVyID0gYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0Om51bWJlciA9IGFyZ3NbNF07XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54IC0gd2lkdGggLyAyLCBwb3NpdGlvbi55IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSA5KXtcbiAgICAgICAgICAgICAgICBsZXQgc3g6bnVtYmVyID0gYXJnc1syXSxcbiAgICAgICAgICAgICAgICAgICAgc3k6bnVtYmVyID0gYXJnc1szXSxcbiAgICAgICAgICAgICAgICAgICAgc3c6bnVtYmVyID0gYXJnc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgc2g6bnVtYmVyID0gYXJnc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246VmVjdG9yMiA9IGFyZ3NbNl0sXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOm51bWJlciA9IGFyZ3NbN10sXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDpudW1iZXIgPSBhcmdzWzhdO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSwgc3gsIHN5LCBzdywgc2gsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnggLSB3aWR0aCAvIDIsIHBvc2l0aW9uLnkgLSBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldENhbnZhc1RyYW5zZm9ybUZvclJvdGF0aW9uKCl7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnJvdGF0aW9uTWF0cml4O1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKG1hdHJpeC5hLCBtYXRyaXguYiwgbWF0cml4LmMsIG1hdHJpeC5kLCBtYXRyaXgudHgsIG1hdHJpeC50eSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFRm9udFhBbGlnbm1lbnR7XG4gICAgICAgIExFRlQsXG4gICAgICAgIENFTlRFUixcbiAgICAgICAgUklHSFRcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRUZvbnRZQWxpZ25tZW50e1xuICAgICAgICBUT1AsXG4gICAgICAgIE1JRERMRSxcbiAgICAgICAgQk9UVE9NXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVGb250RGltZW5zaW9ue1xuICAgICAgICBBVVRPID0gPGFueT5cImF1dG9cIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZvbnQgZXh0ZW5kcyBVSSB7XG4gICAgICAgIHByb3RlY3RlZCBuZWVkRm9ybWF0OmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIF9pc0ZpcnN0VXBkYXRlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIF9zaXplQ2hhbmdlRXZlbnRTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NpemVDaGFuZ2VFdmVudFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50LlVJX1dJRFRIX0NIQU5HRSlcbiAgICAgICAgICAgICAgICAubWVyZ2UoRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuVUlfSEVJR0hUX0NIQU5HRSkpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm5lZWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX3NpemVDaGFuZ2VFdmVudFN1YnNjcmlwdGlvbil7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZUNoYW5nZUV2ZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLl9pc0ZpcnN0VXBkYXRlKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLm5lZWRGb3JtYXQpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlRm9ybWF0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0ZpcnN0VXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBzdXBlci51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIHJlRm9ybWF0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TGVmdENvcm5lclBvc2l0aW9uKCl7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdHJhbnNmb3JtLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUocG9zaXRpb24ueCAtIHRyYW5zZm9ybS53aWR0aCAvIDIsIHBvc2l0aW9uLnkgLSB0cmFuc2Zvcm0uaGVpZ2h0IC8gMik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgY29uc3QgV09SRF9SRVggPSAvKFthLXpBLVowLTldK3xcXFMpLyxcbiAgICAgICAgRklSU1RfRU5HTElTSF9PUl9OVU0gPSAvXlthLXpBLVowLTldLyxcbiAgICAgICAgTEFTVF9FTkdMSVNIX09SX05VTSA9IC9bYS16QS1aMC05XSskLyxcbiAgICAgICAgTEFTVF9JTlZBTElEX0NIQVIgPSAvXFxzKyQvO1xuXG4gICAgLy90b2RvIG5vdyBvbmx5IHN1cHBvcnQgRW5nbGlzaCwgbmVlZCBzdXBwb3J0IG1vcmUgbGFuZ3VhZ2VzIGxpa2UgRnJlbmNoLEdlcm1hblxuICAgIGV4cG9ydCBjbGFzcyBQbGFpbkZvbnQgZXh0ZW5kcyBGb250IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3RleHQ6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgZ2V0IHRleHQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHNldCB0ZXh0KHRleHQ6c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKHRleHQgIT09IHRoaXMuX3RleHQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZvbnRTaXplOm51bWJlciA9IDEwO1xuICAgICAgICBnZXQgZm9udFNpemUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZm9udFNpemUoZm9udFNpemU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKGZvbnRTaXplICE9PSB0aGlzLl9mb250U2l6ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mb250RmFtaWx5OnN0cmluZyA9IFwic2Fucy1zZXJpZlwiO1xuICAgICAgICBnZXQgZm9udEZhbWlseSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZvbnRGYW1pbHkoZm9udEZhbWlseTpzdHJpbmcpe1xuICAgICAgICAgICAgaWYoZm9udEZhbWlseSAhPT0gdGhpcy5fZm9udEZhbWlseSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfeEFsaWdubWVudDpFRm9udFhBbGlnbm1lbnQgPSBFRm9udFhBbGlnbm1lbnQuTEVGVDtcbiAgICAgICAgZ2V0IHhBbGlnbm1lbnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94QWxpZ25tZW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCB4QWxpZ25tZW50KHhBbGlnbm1lbnQ6RUZvbnRYQWxpZ25tZW50KXtcbiAgICAgICAgICAgIGlmKHhBbGlnbm1lbnQgIT09IHRoaXMuX3hBbGlnbm1lbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3hBbGlnbm1lbnQgPSB4QWxpZ25tZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3lBbGlnbm1lbnQ6RUZvbnRZQWxpZ25tZW50ID0gRUZvbnRZQWxpZ25tZW50LlRPUDtcbiAgICAgICAgZ2V0IHlBbGlnbm1lbnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95QWxpZ25tZW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCB5QWxpZ25tZW50KHlBbGlnbm1lbnQ6RUZvbnRZQWxpZ25tZW50KXtcbiAgICAgICAgICAgIGlmKHlBbGlnbm1lbnQgIT09IHRoaXMuX3lBbGlnbm1lbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3lBbGlnbm1lbnQgPSB5QWxpZ25tZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpbGxFbmFibGVkOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIF9maWxsU3R5bGU6c3RyaW5nID0gXCJyZ2JhKDAsIDAsIDAsIDEpXCI7XG4gICAgICAgIHByaXZhdGUgX3N0cm9rZUVuYWJsZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9zdHJva2VTdHlsZTpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zdHJva2VTaXplOm51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2ZvbnRDbGllbnRIZWlnaHRDYWNoZTp3ZENiLkhhc2g8bnVtYmVyPiA9IHdkQ2IuSGFzaC5jcmVhdGU8bnVtYmVyPigpO1xuICAgICAgICBwcml2YXRlIF9saW5lSGVpZ2h0Om51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3N0ckFycjpBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdFRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSB0aGlzLl9nZXREZWZhdWx0TGluZUhlaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldEZpbGxTdHlsZShmaWxsU3R5bGU6c3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW5hYmxlU3Ryb2tlKHN0cm9rZVN0eWxlOnN0cmluZywgc3Ryb2tlU2l6ZTpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZmlsbEVuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZVNpemUgPSBzdHJva2VTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGVuYWJsZUZpbGwoZmlsbFN0eWxlOnN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0TGluZUhlaWdodChsaW5lSGVpZ2h0Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVGb3JtYXQoKXtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdFRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSB0aGlzLl9nZXREZWZhdWx0TGluZUhlaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRyYXcoKXtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLmZvbnRTaXplfXB4ICcke3RoaXMuZm9udEZhbWlseX0nYDtcblxuICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSBcInN0YXJ0XCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJBcnIubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdNdWx0aUxpbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdTaW5nbGVMaW5lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mb3JtYXRUZXh0KCkge1xuICAgICAgICAgICAgdmFyIG1heFdpZHRoID0gdGhpcy53aWR0aDtcblxuICAgICAgICAgICAgdGhpcy5fdHJpbVN0cigpO1xuXG4gICAgICAgICAgICBpZiAobWF4V2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJBcnIgPSB0aGlzLl90ZXh0LnNwbGl0KCdcXG4nKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc3RyQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5fc3RyQXJyW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsV2lkdGggPSB0aGlzLl9tZWFzdXJlKHRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxXaWR0aCA+IG1heFdpZHRoICYmIHRleHQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9ybWF0TXVsdGlMaW5lKGksIHRleHQsIGFsbFdpZHRoLCBtYXhXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmltU3RyKCkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZShMQVNUX0lOVkFMSURfQ0hBUiwgXCJcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mb3JtYXRNdWx0aUxpbmUoaTpudW1iZXIsIHRleHQ6c3RyaW5nLCBhbGxXaWR0aDpudW1iZXIsIG1heFdpZHRoOm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgTE9PUF9NQVhfTlVNID0gMTAwO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHByZVRleHQgPSBudWxsLFxuICAgICAgICAgICAgICAgIHRydW5jYXRpb25Qb2ludEluZGV4ID0gdGV4dC5sZW5ndGggKiAoIG1heFdpZHRoIC8gYWxsV2lkdGggKSB8IDAsXG4gICAgICAgICAgICAgICAgbmV4dFRleHQgPSB0ZXh0LnN1YnN0cih0cnVuY2F0aW9uUG9pbnRJbmRleCksXG4gICAgICAgICAgICAgICAgbG9vcEluZGV4ID0gMCxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGFsbFdpZHRoIC0gdGhpcy5fbWVhc3VyZShuZXh0VGV4dCksXG4gICAgICAgICAgICAgICAgcHVzaE51bSA9IDA7XG5cblxuICAgICAgICAgICAgdmFyIHRydW5jYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qISB0cnVuY2F0ZSBzdHJpbmcgYnkgdGhlIG1heFdpZHRoIC8gd2lkdGggcmF0aW9cbiAgICAgICAgICAgICAgICBpZiBzdHJpbmcgc3RpbGwgZXhjZWVkIG1heFdpZHRoLCB0cnVuY2F0ZSB3aXRoIHRoZSBzYW1lIHJhdGlvIHJlY3Vyc2l2ZVxuXG4gICAgICAgICAgICAgICAgYWZ0ZXIgbG9vcCwgdHJ1bmNhdGlvblBvaW50SW5kZXggd2lsbCA8PSB0aGUgdHJ1ZSBvbmVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB3aGlsZSAod2lkdGggPiBtYXhXaWR0aCAmJiBsb29wSW5kZXggPCBMT09QX01BWF9OVU0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggKj0gbWF4V2lkdGggLyB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggPSBNYXRoLmZsb29yKHRydW5jYXRpb25Qb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHQgPSB0ZXh0LnN1YnN0cih0cnVuY2F0aW9uUG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gYWxsV2lkdGggLSB0aGlzLl9tZWFzdXJlKG5leHRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgbG9vcEluZGV4ID0gbG9vcEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsb29wSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZmluZFRydW5jYXRpb25Qb2ludCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvKiEgZmluZCB0aGUgdHJ1bmNhdGlvbiBwb2ludCB0byBnZXQgdGhlIHRydWUgdHJ1bmNhdGlvblBvaW50SW5kZXhcbiAgICAgICAgICAgICAgICBzdGVwIGJ5IHdvcmQoaWYgaXQncyBjaGluZXNlLCB0aGUgc3RlcCB3aWxsIGJlIDEpXG4gICAgICAgICAgICAgICAgYWZ0ZXIgbG9vcCwgdHJ1bmNhdGlvblBvaW50SW5kZXggd2lsbCBiZSB0aGUgaW5kZXggb2YgbGFzdCBjaGFyIG9mIHRoZSB3b3JkIHdoaWNoIGV4Y2VlZCBtYXhXaWR0aFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHdpZHRoIDwgbWF4V2lkdGggJiYgbG9vcEluZGV4IDwgTE9PUF9NQVhfTlVNKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4ZWMgPSBXT1JEX1JFWC5leGVjKG5leHRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hOdW0gPSBleGVjID8gZXhlY1swXS5sZW5ndGggOiAxO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggPSB0cnVuY2F0aW9uUG9pbnRJbmRleCArIHB1c2hOdW07XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0ID0gdGV4dC5zdWJzdHIodHJ1bmNhdGlvblBvaW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGFsbFdpZHRoIC0gdGhpcy5fbWVhc3VyZShuZXh0VGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BJbmRleCA9IGxvb3BJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaGFuZGxlVHJ1bmNhdGlvblBvaW50SW5kZXggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgc2hvdWxkbid0IHRydW5jYXRlIHRoZSB3b3JkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKEZJUlNUX0VOR0xJU0hfT1JfTlVNLnRlc3QobmV4dFRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmVUZXh0ID0gdGV4dC5zdWJzdHIoMCwgdHJ1bmNhdGlvblBvaW50SW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcEV4ZWMgPSBMQVNUX0VOR0xJU0hfT1JfTlVNLmV4ZWMocHJlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBFeGVjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVuY2F0aW9uUG9pbnRJbmRleCA9IHRydW5jYXRpb25Qb2ludEluZGV4IC0gcEV4ZWNbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnVuY2F0aW9uUG9pbnRJbmRleCA9IHRydW5jYXRpb25Qb2ludEluZGV4IC0gcHVzaE51bTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1bmNhdGlvblBvaW50SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGlvblBvaW50SW5kZXggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNldFN0cmluZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXh0VGV4dCA9IHRleHQuc3Vic3RyKHRydW5jYXRpb25Qb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICBwcmVUZXh0ID0gdGV4dC5zdWJzdHIoMCwgdHJ1bmNhdGlvblBvaW50SW5kZXgpO1xuXG5cbiAgICAgICAgICAgICAgICBzZWxmLl9zdHJBcnJbaV0gPSBuZXh0VGV4dDtcbiAgICAgICAgICAgICAgICBzZWxmLl9zdHJBcnIuc3BsaWNlKGksIDAsIHByZVRleHQpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRydW5jYXRlKCk7XG4gICAgICAgICAgICBmaW5kVHJ1bmNhdGlvblBvaW50KCk7XG4gICAgICAgICAgICBoYW5kbGVUcnVuY2F0aW9uUG9pbnRJbmRleCgpO1xuICAgICAgICAgICAgc2V0U3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tZWFzdXJlKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLmZvbnRTaXplfXB4ICcke3RoaXMuZm9udEZhbWlseX0nYDtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXREZWZhdWx0TGluZUhlaWdodCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wdXRlTGluZUhlaWdodChcIm5vcm1hbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbXB1dGVMaW5lSGVpZ2h0KGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShcIjxkaXY+PC9kaXY+XCIpLFxuICAgICAgICAgICAgICAgIGRvbSA9IGRpdi5nZXQoMCksXG4gICAgICAgICAgICAgICAgcmVzdWx0TGluZUhlaWdodCA9IG51bGw7XG5cbiAgICAgICAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAke3RoaXMuZm9udEZhbWlseX07XG4gICAgICAgICAgICAgZm9udC1zaXplOiAke3RoaXMuZm9udFNpemV9cHg7XG4gICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgIGxlZnQ6IC0xMDBweDtcbiAgICAgICAgICAgICB0b3A6IC0xMDBweDtcbiAgICAgICAgICAgICBsaW5lLWhlaWdodDogJHtsaW5lSGVpZ2h0fTtcbiAgICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBkaXYucHJlcGVuZFRvKFwiYm9keVwiKTtcblxuICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9IFwiYWJjIVwiO1xuXG4gICAgICAgICAgICByZXN1bHRMaW5lSGVpZ2h0ID0gZG9tLmNsaWVudEhlaWdodDtcblxuICAgICAgICAgICAgZGl2LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0TGluZUhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEZvbnRDbGllbnRIZWlnaHQoKSB7XG4gICAgICAgICAgICB2YXIgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplLFxuICAgICAgICAgICAgICAgIGZvbnROYW1lID0gdGhpcy5mb250RmFtaWx5LFxuICAgICAgICAgICAgICAgIGtleSA9IGAke2ZvbnRTaXplfS4ke2ZvbnROYW1lfWAsXG4gICAgICAgICAgICAgICAgY2FjaGVIZWlnaHQgPSB0aGlzLl9mb250Q2xpZW50SGVpZ2h0Q2FjaGUuZ2V0Q2hpbGQoa2V5KSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoY2FjaGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVIZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2NvbXB1dGVMaW5lSGVpZ2h0KDEpO1xuICAgICAgICAgICAgdGhpcy5fZm9udENsaWVudEhlaWdodENhY2hlLmFkZENoaWxkKGtleSwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RyYXdNdWx0aUxpbmUoKXtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gPSB0aGlzLmdldENhbnZhc1Bvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldExlZnRDb3JuZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHggPSBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHkgPSBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB0aGlzLl9saW5lSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGZvbnRDbGllbnRIZWlnaHQgPSB0aGlzLl9nZXRGb250Q2xpZW50SGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgbGluZUNvdW50ID0gdGhpcy5fc3RyQXJyLmxlbmd0aCxcbiAgICAgICAgICAgIC8qISB0aGUgbGluZUhlaWdodCBvZiBsYXN0IGxpbmUgaXMgdGhlIGhlaWdodCBvZiBmb250ICovXG4gICAgICAgICAgICAgICAgbGluZVRvdGFsSGVpZ2h0ID0gKGxpbmVDb3VudCAtIDEpICogbGluZUhlaWdodCArIGZvbnRDbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLnlBbGlnbm1lbnQgPT09IEVGb250WUFsaWdubWVudC5CT1RUT00pIHtcbiAgICAgICAgICAgICAgICB5ID0geSArIHNlbGYuaGVpZ2h0IC0gbGluZVRvdGFsSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi55QWxpZ25tZW50ID09PSBFRm9udFlBbGlnbm1lbnQuTUlERExFKSB7XG4gICAgICAgICAgICAgICAgeSA9IHkgKyAoc2VsZi5oZWlnaHQgLSBsaW5lVG90YWxIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgc3RyIG9mIHRoaXMuX3N0ckFycikge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnhBbGlnbm1lbnQgPT09IEVGb250WEFsaWdubWVudC5SSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0geCArIHNlbGYud2lkdGggLSBzZWxmLl9tZWFzdXJlKHN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYueEFsaWdubWVudCA9PSBFRm9udFhBbGlnbm1lbnQuQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4ICsgKHNlbGYud2lkdGggLSBzZWxmLl9tZWFzdXJlKHN0cikpIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9maWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHNlbGYuX2ZpbGxTdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChzdHIsIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLl9zdHJva2VFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzZWxmLl9zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzZWxmLl9zdHJva2VTaXplO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQoc3RyLCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgICAgICB5ID0geSArIGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3U2luZ2xlTGluZSgpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRMZWZ0Q29ybmVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICB4ID0gcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB5ID0gcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBmb250Q2xpZW50SGVpZ2h0ID0gdGhpcy5fZ2V0Rm9udENsaWVudEhlaWdodCgpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGxpbmVDb3VudCA9IDEsXG4gICAgICAgICAgICAvKiEgdGhlIGxpbmVIZWlnaHQgaXMgdGhlIGhlaWdodCBvZiBmb250ICovXG4gICAgICAgICAgICAgICAgbGluZVRvdGFsSGVpZ2h0ID0gZm9udENsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLl9zdHJBcnJbMF07XG5cbiAgICAgICAgICAgIGlmIChzZWxmLnlBbGlnbm1lbnQgPT09IEVGb250WUFsaWdubWVudC5CT1RUT00pIHtcbiAgICAgICAgICAgICAgICB5ID0geSArIHNlbGYuaGVpZ2h0IC0gbGluZVRvdGFsSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi55QWxpZ25tZW50ID09PSBFRm9udFlBbGlnbm1lbnQuTUlERExFKSB7XG4gICAgICAgICAgICAgICAgeSA9IHkgKyAoc2VsZi5oZWlnaHQgLSBsaW5lVG90YWxIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYueEFsaWdubWVudCA9PT0gRUZvbnRYQWxpZ25tZW50LlJJR0hUKSB7XG4gICAgICAgICAgICAgICAgeCA9IHggKyBzZWxmLndpZHRoIC0gc2VsZi5fbWVhc3VyZShzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi54QWxpZ25tZW50ID09IEVGb250WEFsaWdubWVudC5DRU5URVIpIHtcbiAgICAgICAgICAgICAgICB4ID0geCArIChzZWxmLndpZHRoIC0gc2VsZi5fbWVhc3VyZShzdHIpKSAvIDI7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKHNlbGYuX2ZpbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzZWxmLl9maWxsU3R5bGU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChzdHIsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fc3Ryb2tlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzZWxmLl9zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHNlbGYuX3N0cm9rZVNpemU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHN0ciwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgLy90b2RvIHN1cHBvcnQgeUFsaWduXG4gICAgLy90b2RvIHN1cHBvcnQgcm90YXRlIEJpdG1hcEZvbnQuZW50aXR5T2JqZWN0KGl0IHNob3VsZCByb3RhdGUgYWxsIGl0cyBDaGFyRm9udCBVSU9iamVjdCBhcm91bmQgcGl2b3QpKHJlZmVyIHRvIEJ1dHRvbi0+dGV4dCwgc2hvdWxkIHNldENoaWxkcmVuVHJhbnNmb3JtIHdoZW4gaW5pdClcbiAgICBleHBvcnQgY2xhc3MgQml0bWFwRm9udCBleHRlbmRzIEZvbnR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90ZXh0OnN0cmluZyA9IFwiXCI7XG4gICAgICAgIGdldCB0ZXh0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdGV4dCh0ZXh0OnN0cmluZyl7XG4gICAgICAgICAgICBpZih0ZXh0ICE9PSB0aGlzLl90ZXh0KXtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF94QWxpZ25tZW50OkVGb250WEFsaWdubWVudCA9IEVGb250WEFsaWdubWVudC5MRUZUO1xuICAgICAgICBnZXQgeEFsaWdubWVudCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3hBbGlnbm1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHhBbGlnbm1lbnQoeEFsaWdubWVudDpFRm9udFhBbGlnbm1lbnQpe1xuICAgICAgICAgICAgaWYoeEFsaWdubWVudCAhPT0gdGhpcy5feEFsaWdubWVudCl7XG4gICAgICAgICAgICAgICAgdGhpcy5feEFsaWdubWVudCA9IHhBbGlnbm1lbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZudElkOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBiaXRtYXBJZDpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2NoYXJGb250TGlzdDp3ZENiLkNvbGxlY3Rpb248VUlPYmplY3Q+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxVSU9iamVjdD4oKTtcblxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgZm50T2JqID0gdGhpcy5fZ2V0Rm50T2JqKCksXG4gICAgICAgICAgICAgICAgaW1hZ2VBc3NldDpJbWFnZVRleHR1cmVBc3NldCA9IHRoaXMuX2dldEltYWdlQXNzZXQoKTtcblxuICAgICAgICAgICAgaWYgKCFmbnRPYmopIHtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwiaW1wb3NzaWJsZSB0byBjcmVhdGUgZm9udDogbm90IGZpbmQgZm50IGZpbGVcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCFpbWFnZUFzc2V0KXtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwiaW1wb3NzaWJsZSB0byBjcmVhdGUgZm9udDogbm90IGZpbmQgYml0bWFwIGZpbGVcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlQW5kQWRkRm9udENoYXJVSU9iamVjdHMoZm50T2JqLCBpbWFnZUFzc2V0LnNvdXJjZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdFRleHQoZm50T2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVBbGxDaGFyRm9udCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlRm9ybWF0KCl7XG4gICAgICAgICAgICB2YXIgZm50T2JqID0gdGhpcy5fZ2V0Rm50T2JqKCksXG4gICAgICAgICAgICAgICAgaW1hZ2VBc3NldDpJbWFnZVRleHR1cmVBc3NldCA9IHRoaXMuX2dldEltYWdlQXNzZXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWxsQ2hhckZvbnQoKTtcblxuICAgICAgICAgICAgaWYgKCFmbnRPYmopIHtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwiaW1wb3NzaWJsZSB0byBjcmVhdGUgZm9udDogbm90IGZpbmQgZm50IGZpbGVcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighaW1hZ2VBc3NldCl7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImltcG9zc2libGUgdG8gY3JlYXRlIGZvbnQ6IG5vdCBmaW5kIGJpdG1hcCBmaWxlXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVBbmRBZGRGb250Q2hhclVJT2JqZWN0cyhmbnRPYmosIGltYWdlQXNzZXQuc291cmNlKTtcblxuICAgICAgICAgICAgdGhpcy5fZm9ybWF0VGV4dChmbnRPYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Rm50T2JqKCl7XG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldCh0aGlzLmZudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEltYWdlQXNzZXQoKXtcbiAgICAgICAgICAgIHJldHVybiBMb2FkZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0KHRoaXMuYml0bWFwSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQW5kQWRkRm9udENoYXJVSU9iamVjdHMoZm50T2JqOmFueSwgaW1hZ2U6SFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGxvY1N0ciA9IHRoaXMudGV4dCxcbiAgICAgICAgICAgICAgICBsb2NGb250RGljdCA9IGZudE9iai5mb250RGVmRGljdGlvbmFyeSxcbiAgICAgICAgICAgICAgICBuZXh0Rm9udFBvc2l0aW9uWCA9IDAsXG4gICAgICAgICAgICAgICAgbmV4dEZvbnRQb3NpdGlvblkgPSAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRMZWZ0Q29ybmVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAvL3Bvc2l0aW9uID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHVpUmVuZGVyZXI6VUlSZW5kZXJlciA9IHRoaXMuZ2V0VUlSZW5kZXJlcigpLFxuICAgICAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIGNoYXJGb250OkNoYXJGb250ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHN0cmluZ0xlbiA9IGxvY1N0ci5sZW5ndGg7IGkgPCBzdHJpbmdMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBTdHJpbmcobG9jU3RyLmNoYXJDb2RlQXQoaSkpLFxuICAgICAgICAgICAgICAgICAgICBjaGFyID0gbG9jU3RyW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzTmV3TGluZShjaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhckZvbnREYXRhID0gdGhpcy5fY3JlYXRlQW5kQWRkRm9udENoYXJPYmplY3RPZk5ld0xpbmVDaGFyKGksIGNoYXIsIHVpUmVuZGVyZXIpO1xuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0ID0gY2hhckZvbnREYXRhLmNoYXJGb250VUlPYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJGb250ID0gY2hhckZvbnREYXRhLmNoYXJGb250O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldENoYXJGb250VUlPYmplY3RQb3NpdGlvbihjaGFyRm9udFVJT2JqZWN0LCBwb3NpdGlvbi54ICsgbmV4dEZvbnRQb3NpdGlvblgsIHBvc2l0aW9uLnkgKyBuZXh0Rm9udFBvc2l0aW9uWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hhckZvbnQuc3RhcnRQb3NYID0gbmV4dEZvbnRQb3NpdGlvblg7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJGb250LnhBZHZhbmNlID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBuZXh0Rm9udFBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG5leHRGb250UG9zaXRpb25ZID0gbmV4dEZvbnRQb3NpdGlvblkgKyBmbnRPYmouY29tbW9uSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgbGV0IGZvbnREZWYgPSB0aGlzLl9nZXRGb250RGVmKGxvY0ZvbnREaWN0LCBrZXkpLFxuICAgICAgICAgICAgICAgICAgICBjaGFyRm9udERhdGE6e2NoYXJGb250VUlPYmplY3Q6VUlPYmplY3QsY2hhckZvbnQ6Q2hhckZvbnR9ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghZm9udERlZikge1xuICAgICAgICAgICAgICAgICAgICBMb2cubG9nKGBjaGFyYWN0ZXIgbm90IGZvdW5kICR7Y2hhcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hhckZvbnREYXRhID0gdGhpcy5fY3JlYXRlQW5kQWRkRm9udENoYXJPYmplY3RPZkNvbW1vbkNoYXIoZm9udERlZiwgaW1hZ2UsIGksIGNoYXIsIHVpUmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdCA9IGNoYXJGb250RGF0YS5jaGFyRm9udFVJT2JqZWN0O1xuICAgICAgICAgICAgICAgIGNoYXJGb250ID0gY2hhckZvbnREYXRhLmNoYXJGb250O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2hhckZvbnRVSU9iamVjdFBvc2l0aW9uKGNoYXJGb250VUlPYmplY3QsIHBvc2l0aW9uLnggKyBuZXh0Rm9udFBvc2l0aW9uWCArIGZvbnREZWYueE9mZnNldCwgcG9zaXRpb24ueSArIG5leHRGb250UG9zaXRpb25ZICsgZm9udERlZi55T2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgIGNoYXJGb250LnN0YXJ0UG9zWCA9IG5leHRGb250UG9zaXRpb25YO1xuICAgICAgICAgICAgICAgIGNoYXJGb250LnhBZHZhbmNlID0gZm9udERlZi54QWR2YW5jZTtcblxuICAgICAgICAgICAgICAgIG5leHRGb250UG9zaXRpb25YID0gbmV4dEZvbnRQb3NpdGlvblggKyBmb250RGVmLnhBZHZhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQW5kQWRkRm9udENoYXJPYmplY3RPZk5ld0xpbmVDaGFyKGluZGV4Om51bWJlciwgY2hhcjpzdHJpbmcsIHVpUmVuZGVyZXI6VUlSZW5kZXJlcil7XG4gICAgICAgICAgICB2YXIgY2hhckZvbnRVSU9iamVjdDpVSU9iamVjdCA9IHRoaXMuX2ZpbmRDaGFyRm9udFVJT2JqZWN0KGluZGV4KSxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpDaGFyRm9udCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICghY2hhckZvbnRVSU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGFyRm9udERhdGEgPSB0aGlzLl9jcmVhdGVDaGFyRm9udChpbmRleCwgdWlSZW5kZXJlcik7XG5cbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0ID0gY2hhckZvbnREYXRhLmNoYXJGb250VUlPYmplY3Q7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBjaGFyRm9udERhdGEuY2hhckZvbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDaGFyRm9udFVJT2JqZWN0KGNoYXJGb250VUlPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjaGFyRm9udCA9IGNoYXJGb250VUlPYmplY3QuZ2V0Q29tcG9uZW50PENoYXJGb250PihDaGFyRm9udCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJGb250LmNoYXIgPSBjaGFyO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoYXJGb250VUlPYmplY3Q6Y2hhckZvbnRVSU9iamVjdCxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpjaGFyRm9udFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQW5kQWRkRm9udENoYXJPYmplY3RPZkNvbW1vbkNoYXIoZm9udERlZjphbnksIGltYWdlOkhUTUxJbWFnZUVsZW1lbnQsIGluZGV4Om51bWJlciwgY2hhcjpzdHJpbmcsIHVpUmVuZGVyZXI6VUlSZW5kZXJlcil7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IFJlY3RSZWdpb24uY3JlYXRlKGZvbnREZWYucmVjdC54LCBmb250RGVmLnJlY3QueSwgZm9udERlZi5yZWN0LndpZHRoLCBmb250RGVmLnJlY3QuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0OlVJT2JqZWN0ID0gdGhpcy5fZmluZENoYXJGb250VUlPYmplY3QoaW5kZXgpLFxuICAgICAgICAgICAgICAgIGNoYXJGb250OkNoYXJGb250ID0gbnVsbDtcblxuXG4gICAgICAgICAgICBpZiAoIWNoYXJGb250VUlPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hhckZvbnREYXRhID0gdGhpcy5fY3JlYXRlQ2hhckZvbnQoaW5kZXgsIHVpUmVuZGVyZXIpLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06UmVjdFRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0ID0gY2hhckZvbnREYXRhLmNoYXJGb250VUlPYmplY3Q7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gY2hhckZvbnRVSU9iamVjdC50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBjaGFyRm9udERhdGEuY2hhckZvbnQ7XG5cblxuICAgICAgICAgICAgICAgIGNoYXJGb250LmltYWdlID0gaW1hZ2U7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQucmVjdFJlZ2lvbiA9IHJlY3Q7XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ud2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5oZWlnaHQgPSByZWN0LmhlaWdodDtcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ2hhckZvbnRVSU9iamVjdChjaGFyRm9udFVJT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQgPSBjaGFyRm9udFVJT2JqZWN0LmdldENvbXBvbmVudDxDaGFyRm9udD4oQ2hhckZvbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFyRm9udC5jaGFyID0gY2hhcjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0OmNoYXJGb250VUlPYmplY3QsXG4gICAgICAgICAgICAgICAgY2hhckZvbnQ6Y2hhckZvbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGZudE9iajphbnkpe1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDEsIHN0cmluZ0xlbiA9IHRoaXMudGV4dC5sZW5ndGg7IGkgPCBzdHJpbmdMZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcmFjdGVyVUlPYmplY3QgPSB0aGlzLmVudGl0eU9iamVjdC5maW5kQ2hpbGRCeVRhZyhTdHJpbmcoaSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCghIWNoYXJhY3RlclVJT2JqZWN0LCBcImNoYXIgbm90IGhhcyBjb3JyZXNwb25kaW5nIGVudGl0eU9iamVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGNoYXJhY3RlclVJT2JqZWN0Lmhhc0NvbXBvbmVudChDaGFyRm9udCksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiY2hhciBlbnRpdHlPYmplY3RcIiwgXCJjb250YWluIENoYXJGb250IGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9mb3JtYXRUZXh0KGZudE9iajphbnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1hdE11bHRpTGluZShmbnRPYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXRBbGlnbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZm9ybWF0TXVsdGlMaW5lKGZudE9iajphbnkpe1xuICAgICAgICAgICAgdmFyIGVudGl0eU9iamVjdCA9IHRoaXMuZW50aXR5T2JqZWN0LFxuICAgICAgICAgICAgICAgIGNoYXJhY3RlclVJT2JqZWN0OlVJT2JqZWN0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjaGFyRm9udDpDaGFyRm9udCA9IG51bGwsXG4gICAgICAgICAgICAgICAgLy9wb3NpdGlvbiA9IGVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldExlZnRDb3JuZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBmbnRPYmouY29tbW9uSGVpZ2h0O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMSwgc3RyaW5nTGVuID0gdGhpcy50ZXh0Lmxlbmd0aDsgaSA8IHN0cmluZ0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyVUlPYmplY3QgPSB0aGlzLl9maW5kQ2hhckZvbnRVSU9iamVjdChpKTtcbiAgICAgICAgICAgICAgICBjaGFyRm9udCA9IGNoYXJhY3RlclVJT2JqZWN0LmdldENvbXBvbmVudDxDaGFyRm9udD4oQ2hhckZvbnQpO1xuXG4gICAgICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgICAgIHNob3VsZCBtYXJrIHRoZSBsYXN0IGNoYXIgb2YgdGhlIGxpbmUgaXNOZXdMaW5lL2lzRnVsbExpbmVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNOZXdMaW5lKGNoYXJGb250LmNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJGb250LmlzTmV3TGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJGb250LmlzRnVsbExpbmUgPSBmYWxzZTtcblxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZUNoYXJGb250VUlPYmplY3QoY2hhcmFjdGVyVUlPYmplY3QsIC14LCB5KTtcblxuICAgICAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0V4Y2VlZFdpZHRoKHBvc2l0aW9uLCBjaGFyRm9udCwgeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZDaGFyVUlPYmplY3Q6VUlPYmplY3QgPSB0aGlzLl9maW5kQ2hhckZvbnRVSU9iamVjdChpIC0gMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZDaGFyVUlPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmV2Q2hhckZvbnQgPSBwcmV2Q2hhclVJT2JqZWN0LmdldENvbXBvbmVudDxDaGFyRm9udD4oQ2hhckZvbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q2hhckZvbnQuaXNOZXdMaW5lID0gdHJ1ZTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0aGUgcHJldiBjaGFyIGlzIHNwYWNlIGNoYXIoaXQncyB0aGUgbGFzdCBjaGFyIG9mIHRoaXMgbGluZSksIHRoaXMgbGluZSBpcyBub3QgXCJmdWxsTGluZVwiKGJlY2F1c2UgdGhlIGxhc3Qgc3BhY2UgY2hhciBvZiB0aGUgbGluZSB3aWxsIGJlIHJlbW92ZWQgd2hlbiBhbGlnbikuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNTcGFjZVVuaWNvZGUocHJldkNoYXJGb250LmNoYXIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q2hhckZvbnQuaXNGdWxsTGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXMuX2dldExldHRlclBvc1hMZWZ0KGNoYXJGb250KTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHkgKyBsaW5lSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZUNoYXJGb250VUlPYmplY3QoY2hhcmFjdGVyVUlPYmplY3QsIC14LCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZUNoYXJGb250VUlPYmplY3QoY2hhcmFjdGVyVUlPYmplY3QsIC14LCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9mb3JtYXRBbGlnbigpe1xuICAgICAgICAgICAgLy92YXIgcG9zaXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmdldExlZnRDb3JuZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICBpdGVyYXRlIHRoZSBsaW5lc1xuXG4gICAgICAgICAgICAgaWYgdGhlIGxpbmUgaXMgXCJmdWxsTGluZVwiLCBub3QgYWxpZ247XG4gICAgICAgICAgICAgZWxzZSwgYWRqdXN0IHRoZSBjaGFycyBvZiB0aGUgbGluZSBhY2NvcmRpbmcgdG8geEFsaWdubWVudChub3QgbGluZSBmZWVkKS5cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBpZiAodGhpcy5feEFsaWdubWVudCAhPSBFRm9udFhBbGlnbm1lbnQuTEVGVCkge1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gW107XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFyRm9udExpc3QuZm9yRWFjaCgoY2hhckZvbnRVSU9iamVjdDpVSU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhckZvbnQgPSBjaGFyRm9udFVJT2JqZWN0LmdldENvbXBvbmVudDxDaGFyRm9udD4oQ2hhckZvbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hhckZvbnQuaXNOZXdMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLnB1c2goY2hhckZvbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJGb250LmlzTmV3TGluZSAmJiBjaGFyRm9udC5pc0Z1bGxMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FsaWduTGluZShwb3NpdGlvbiwgbGluZSwgbGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL2hhbmRsZSB0aGUgbGFzdCBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hbGlnbkxpbmUocG9zaXRpb24sIGxpbmUsIGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQ2hhckZvbnQoaW5kZXg6bnVtYmVyLCB1aVJlbmRlcmVyOlVJUmVuZGVyZXIpe1xuICAgICAgICAgICAgdmFyIGNoYXJGb250VUlPYmplY3QgPSBVSU9iamVjdC5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBjaGFyRm9udCA9IENoYXJGb250LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0LmFkZENvbXBvbmVudChjaGFyRm9udCk7XG4gICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0LmFkZENvbXBvbmVudCh1aVJlbmRlcmVyKTtcblxuXG4gICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0LmFkZFRhZyhTdHJpbmcoaW5kZXgpKTtcblxuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC5pbml0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdDpjaGFyRm9udFVJT2JqZWN0LFxuICAgICAgICAgICAgICAgIGNoYXJGb250OmNoYXJGb250XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRDaGFyRm9udFVJT2JqZWN0KGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3Qpe1xuICAgICAgICAgICAgdGhpcy5fY2hhckZvbnRMaXN0LmFkZENoaWxkKGNoYXJGb250VUlPYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlPYmplY3QuYWRkQ2hpbGQoY2hhckZvbnRVSU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9maW5kQ2hhckZvbnRVSU9iamVjdChpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5T2JqZWN0LmZpbmRDaGlsZEJ5VGFnKFN0cmluZyhpbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNTcGFjZVVuaWNvZGUoY2hhcjpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IGNoYXIuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNoYXJDb2RlID09IDMyIHx8IGNoYXJDb2RlID09IDEzMyB8fCBjaGFyQ29kZSA9PSAxNjAgfHwgY2hhckNvZGUgPT0gNTc2MCB8fCAoY2hhckNvZGUgPj0gODE5MiAmJiBjaGFyQ29kZSA8PSA4MjAyKSB8fCBjaGFyQ29kZSA9PSA4MjMyIHx8IGNoYXJDb2RlID09IDgyMzMgfHwgY2hhckNvZGUgPT0gODIzOSB8fCBjaGFyQ29kZSA9PSA4Mjg3IHx8IGNoYXJDb2RlID09IDEyMjg4O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNOZXdMaW5lKGNoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFyLmNoYXJDb2RlQXQoMCkgPT0gMTA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRMZXR0ZXJQb3NYTGVmdChzcDpDaGFyRm9udCkge1xuICAgICAgICAgICAgcmV0dXJuIHNwLnN0YXJ0UG9zWDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldExldHRlclBvc1hSaWdodChsZWZ0Q29ybmVyUG9zaXRpb246VmVjdG9yMiwgc3A6Q2hhckZvbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBDb29yZGluYXRlVXRpbHMuY29udmVydENlbnRlclBvc2l0aW9uWFRvTGVmdENvcm5lclBvc2l0aW9uWChzcC54LCBzcC53aWR0aCkgLSBsZWZ0Q29ybmVyUG9zaXRpb24ueCArIHNwLnhBZHZhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Rm9udERlZihmb250RGljdDphbnksIGtleTpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuIGZvbnREaWN0W2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0V4Y2VlZFdpZHRoKGxlZnRDb3JuZXJQb3NpdGlvbjpWZWN0b3IyLCBjaGFyRm9udDpDaGFyRm9udCwgeDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldExldHRlclBvc1hSaWdodChsZWZ0Q29ybmVyUG9zaXRpb24sIGNoYXJGb250KSAtIHggPiB0aGlzLndpZHRoXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hbGlnbkxpbmUobGVmdENvcm5lclBvc2l0aW9uOlZlY3RvcjIsIGxpbmU6QXJyYXk8Q2hhckZvbnQ+LCBsYXN0Q2hhckZvbnQ6Q2hhckZvbnQpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgbGluZSA9IHRoaXMuX3RyaW1Cb3R0b21TcGFjZUNoYXIobGluZSk7XG5cbiAgICAgICAgICAgIGxhc3RDaGFyRm9udCA9IGxpbmVbbGluZS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgbGluZS5mb3JFYWNoKGZ1bmN0aW9uIChjcDpDaGFyRm9udCkge1xuICAgICAgICAgICAgICAgIGxldCBzaGlmdCA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IHNlbGYuX2dldExldHRlclBvc1hSaWdodChsZWZ0Q29ybmVyUG9zaXRpb24sIGxhc3RDaGFyRm9udCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGYuX3hBbGlnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFRm9udFhBbGlnbm1lbnQuQ0VOVEVSOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAoc2VsZi53aWR0aCAtIGxpbmVXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRUZvbnRYQWxpZ25tZW50LlJJR0hUOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSBzZWxmLndpZHRoIC0gbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjcC54ID0gY3AueCArIHNoaWZ0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmltQm90dG9tU3BhY2VDaGFyKGxpbmU6QXJyYXk8Q2hhckZvbnQ+KSB7XG4gICAgICAgICAgICB2YXIgaSA9IGxpbmUubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgaWYodGhpcy5faXNOZXdMaW5lKGxpbmVbaV0uY2hhcikpe1xuICAgICAgICAgICAgICAgIGkgPSBpIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUoaSA+PSAwICYmIHRoaXMuX2lzU3BhY2VVbmljb2RlKGxpbmVbaV0uY2hhcikpe1xuICAgICAgICAgICAgICAgIGkgPSBpIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZSA9IGxpbmUuc3BsaWNlKDAsIGkgKyAxKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRDaGFyRm9udFVJT2JqZWN0UG9zaXRpb24oY2hhckZvbnRVSU9iamVjdDpVSU9iamVjdCwgeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSBjaGFyRm9udFVJT2JqZWN0LnRyYW5zZm9ybTtcblxuICAgICAgICAgICAgY2hhckZvbnRVSU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24gPSBDb29yZGluYXRlVXRpbHMuY29udmVydExlZnRDb3JuZXJQb3NpdGlvblRvQ2VudGVyUG9zaXRpb24oVmVjdG9yMi5jcmVhdGUoeCwgeSksIHRyYW5zZm9ybS53aWR0aCwgdHJhbnNmb3JtLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90cmFuc2xhdGVDaGFyRm9udFVJT2JqZWN0KGNoYXJGb250VUlPYmplY3Q6VUlPYmplY3QsIHg6bnVtYmVyLCB5Om51bWJlcil7XG4gICAgICAgICAgICAvL2NoYXJGb250VUlPYmplY3QudHJhbnNmb3JtLnRyYW5zbGF0ZSh4LCAteSk7XG4gICAgICAgICAgICBjaGFyRm9udFVJT2JqZWN0LnRyYW5zZm9ybS50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yZW1vdmVBbGxDaGFyRm9udCgpe1xuICAgICAgICAgICAgdGhpcy5fY2hhckZvbnRMaXN0LmZvckVhY2goKGNoYXJGb250OlVJT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hhckZvbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NoYXJGb250TGlzdC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDaGFyRm9udCBleHRlbmRzIEZvbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24ueDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeCh4Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjIuY3JlYXRlKHgsIHBvc2l0aW9uLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NoYXI6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgZ2V0IGNoYXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGFyO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjaGFyKGNoYXI6c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2NoYXIgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIExvZy5sb2coTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcImNoYW5nZSBjaGFyXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NoYXIgPSBjaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0UG9zWDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgeEFkdmFuY2U6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGltYWdlOkhUTUxJbWFnZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcmVjdFJlZ2lvbjpSZWN0UmVnaW9uID0gbnVsbDtcbiAgICAgICAgcHVibGljIGlzTmV3TGluZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBpc0Z1bGxMaW5lOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIF9zdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIEBleGVjT25seU9uY2UoXCJfaXNJbml0XCIpXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uID0gd2RGcnAuZnJvbUFycmF5KFtFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5UUkFOU0ZPUk1fVFJBTlNMQVRFKSwgRXZlbnRNYW5hZ2VyLmZyb21FdmVudCh0aGlzLmVudGl0eU9iamVjdCwgPGFueT5FRW5naW5lRXZlbnQuVFJBTlNGT1JNX1JPVEFURSksIEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50LlRSQU5TRk9STV9TQ0FMRSldKVxuICAgICAgICAgICAgLm1lcmdlQWxsKClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNob3VsZE5vdFVwZGF0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVjdFJlZ2lvbiA9PT0gbnVsbCB8fCAodGhpcy53aWR0aCA9PT0gMCAmJiB0aGlzLmhlaWdodCA9PT0gMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZHJhdyhlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybTpSZWN0VHJhbnNmb3JtID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjpWZWN0b3IyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBkdyA9IG51bGwsXG4gICAgICAgICAgICAgICAgZGggPSBudWxsO1xuXG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm07XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgZHcgPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgZGggPSB0aGlzLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5kcmF3SW5DZW50ZXJQb2ludCh0aGlzLmNvbnRleHQsIHRoaXMuaW1hZ2UsIHRoaXMucmVjdFJlZ2lvbi54LCB0aGlzLnJlY3RSZWdpb24ueSwgdGhpcy5yZWN0UmVnaW9uLndpZHRoLCB0aGlzLnJlY3RSZWdpb24uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLCBkdywgZGgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBQcm9ncmVzc0JhciBleHRlbmRzIFVJIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BlcmNlbnQ6bnVtYmVyID0gMDtcbiAgICAgICAgZ2V0IHBlcmNlbnQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wZXJjZW50O1xuICAgICAgICB9XG4gICAgICAgIHNldCBwZXJjZW50KHBlcmNlbnQ6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX3BlcmNlbnQgIT09IHBlcmNlbnQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlcmNlbnQgPSBwZXJjZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYm9yZGVyU3R5bGU6c3RyaW5nID0gXCJyZ2JhKDAsIDAsIDAsIDEpXCI7XG4gICAgICAgIHB1YmxpYyBmaWxsU3R5bGU6c3RyaW5nID0gXCJyZ2JhKDI1NSwgMCwgMCwgMSlcIjtcbiAgICAgICAgcHVibGljIHJhZGl1czpudW1iZXIgPSA1O1xuXG4gICAgICAgIHByaXZhdGUgX29mZlNjcmVlbkNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX29mZlNjcmVlbkNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVPZmZTY3JlZW5DYW52YXMoKTtcblxuICAgICAgICAgICAgdGhpcy5fZHJhd1Byb2dyZXNzQmFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2hvdWxkTm90VXBkYXRlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZXJjZW50IDw9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihlbGFwc2VkVGltZTpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMucGVyY2VudCA+PSAwICYmIHRoaXMucGVyY2VudCA8PSAxLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInBlcmNlbnRcIiwgXCIgPj0gMCBhbmQgPD0gMVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBkcmF3KGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdGcm9tTGVmdChwb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Qm9yZGVyKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RyYXdGcm9tTGVmdChwb3NpdGlvbil7XG4gICAgICAgICAgICB2YXIgb2Zmc2NyZWVuQ2FudmFzID0gdGhpcy5fb2ZmU2NyZWVuQ2FudmFzLFxuICAgICAgICAgICAgICAgIGxvYWRlZFdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMucGVyY2VudDtcblxuICAgICAgICAgICAgdGhpcy5kcmF3SW5DZW50ZXJQb2ludCh0aGlzLmNvbnRleHQsIG9mZnNjcmVlbkNhbnZhcywgMCwgMCwgbG9hZGVkV2lkdGgsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIFZlY3RvcjIuY3JlYXRlKHBvc2l0aW9uLnggLSB0aGlzLndpZHRoIC8gMiArIGxvYWRlZFdpZHRoIC8gMiwgcG9zaXRpb24ueSksIGxvYWRlZFdpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3Qm9yZGVyKHBvc2l0aW9uOlZlY3RvcjIpe1xuICAgICAgICAgICAgUm91bmRlZFJlY3RVdGlscy5kcmF3Um91bmRlZFJlY3QodGhpcy5jb250ZXh0LCB0aGlzLmJvcmRlclN0eWxlLCBudWxsLCBwb3NpdGlvbi54IC0gdGhpcy53aWR0aCAvIDIsIHBvc2l0aW9uLnkgLSB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVPZmZTY3JlZW5DYW52YXMoKXtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShcIjxjYW52YXM+PC9jYW52YXM+XCIpO1xuXG4gICAgICAgICAgICBjYW52YXMuYXR0cihcIndpZHRoXCIsIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgpO1xuICAgICAgICAgICAgY2FudmFzLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmZTY3JlZW5DYW52YXMgPSBjYW52YXMuZ2V0KDApO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmZTY3JlZW5Db250ZXh0ID0gdGhpcy5fb2ZmU2NyZWVuQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RyYXdQcm9ncmVzc0Jhcigpe1xuICAgICAgICAgICAgdGhpcy5fb2ZmU2NyZWVuQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fb2ZmU2NyZWVuQ2FudmFzLndpZHRoLCB0aGlzLl9vZmZTY3JlZW5DYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgUm91bmRlZFJlY3RVdGlscy5kcmF3Um91bmRlZFJlY3QodGhpcy5fb2ZmU2NyZWVuQ29udGV4dCwgdGhpcy5ib3JkZXJTdHlsZSwgdGhpcy5maWxsU3R5bGUsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZnVuY3Rpb24gX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKXtcbiAgICAgICAgdmFyIGNhbnZhcyA9IG51bGwsXG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcblxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLDAsMSwxKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLDAsMSwxKTtcblxuICAgICAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLDEsMSkuZGF0YVswXSA9PT0gMDtcbiAgICB9XG4gICAgLy90b2RvIHN1cHBvcnQgLmdpZiBhbmltYXRpb24obm93IGNhbiBvbmx5IHNob3cgc3RhdGljIHBpY3R1cmUpXG4gICAgLy90b2RvIHN1cHBvcnQgZHJhdyBhIHBhcnQgb2YgaW1hZ2UgYXNzZXRcbiAgICBleHBvcnQgY2xhc3MgSW1hZ2UgZXh0ZW5kcyBVSSB7XG4gICAgICAgIC8qIVxuICAgICAgICAgY2FuJ3QgY2hhbmdlIHByb3RvdHlwZSBkaXJlY3RseVxuICAgICAgICAgKGFzOlxuICAgICAgICAgSW1hZ2UucHJvdG90eXBlLl9ibGVuZENvbG9yV2l0aFNvdXJjZSA9IF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKCkgP1xuICAgICAgICAgSW1hZ2UucHJvdG90eXBlLl9ibGVuZEJ5TXVsdGlwbHkgOiBJbWFnZS5wcm90b3R5cGUuX2JsZW5kQnlQZXJQaXhlbDtcbiAgICAgICAgIClcbiAgICAgICAgIGJlY2F1c2UgaXQgcGFzcyBjb21waWxlIHRoYXQgc2F5cyBpdCBjYW4ndCBpbnZva2UgcHJpdmF0ZSBtZXRob2QoX2JsZW5keHh4IGlzIHByaXZhdGUgbWV0aG9kKVxuICAgICAgICAgc28gdXNlIGhhY2sgaGVyZS5cbiAgICAgICAgIHNlZSBtb3JlIGluZm86IGh0dHBzOi8vdHlwZXNjcmlwdC5jb2RlcGxleC5jb20vZGlzY3Vzc2lvbnMvNDQ0Nzc3XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnN0cnVjdG9yRm9yQmxlbmQgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIG9iai5fYmxlbmRDb2xvcldpdGhTb3VyY2UgPSBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpID9cbiAgICAgICAgICAgICAgICBvYmouX2JsZW5kQnlNdWx0aXBseSA6IG9iai5fYmxlbmRCeVBlclBpeGVsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb25zdHJ1Y3RvckluaXRGb3JCbGVuZCA9IEltYWdlLmNvbnN0cnVjdG9yRm9yQmxlbmQoSW1hZ2UucHJvdG90eXBlKTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc291cmNlOkltYWdlVGV4dHVyZUFzc2V0ID0gbnVsbDtcbiAgICAgICAgZ2V0IHNvdXJjZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc291cmNlKHNvdXJjZTpJbWFnZVRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBpZihzb3VyY2UgIT09IHRoaXMuX3NvdXJjZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fc291cmNlID0gc291cmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29sb3I6Q29sb3IgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdGFyZ2V0U291cmNlOkltYWdlVGV4dHVyZUFzc2V0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHRhcmdldENvbG9yOkNvbG9yID0gbnVsbDtcblxuICAgICAgICAvL2ltcGxlbWVudCBpdCBpbiBTVEFUSUNfQ09OU1RSVUNUT1JcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRDb2xvcldpdGhTb3VyY2U6RnVuY3Rpb247XG5cbiAgICAgICAgcHJvdGVjdGVkIHNob3VsZE5vdFVwZGF0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldERyYXdTb3VyY2UoKSA9PT0gbnVsbCAmJiB0aGlzLl9nZXREcmF3Q29sb3IoKSA9PT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3KGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgZHJhd0NvbG9yID0gdGhpcy5fZ2V0RHJhd0NvbG9yKCksXG4gICAgICAgICAgICAgICAgZHJhd1NvdXJjZSA9IHRoaXMuX2dldERyYXdTb3VyY2UoKTtcblxuICAgICAgICAgICAgaWYoZHJhd0NvbG9yICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRGaWxsU3R5bGUoZHJhd0NvbG9yLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYoZHJhd0NvbG9yLmEgPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0R2xvYmFsQWxwaGEodGhpcy5jb250ZXh0LCBkcmF3Q29sb3IuYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KHBvc2l0aW9uLnggLSB0aGlzLndpZHRoIC8gMiwgcG9zaXRpb24ueSAtIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgaWYoZHJhd1NvdXJjZSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kQ29sb3JXaXRoU291cmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdJbkNlbnRlclBvaW50KHRoaXMuY29udGV4dCwgZHJhd1NvdXJjZS5zb3VyY2UsIHRoaXMuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5wb3NpdGlvbiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0RmlsbFN0eWxlKHN0eWxlOnN0cmluZyl7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXREcmF3U291cmNlKCk6SW1hZ2VUZXh0dXJlQXNzZXR7XG4gICAgICAgICAgICBpZih0aGlzLnRhcmdldFNvdXJjZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0U291cmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXREcmF3Q29sb3IoKTpDb2xvcntcbiAgICAgICAgICAgIGlmKHRoaXMudGFyZ2V0Q29sb3Ipe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldENvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLl9nZXREcmF3U291cmNlKCksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic291cmNlXCIsIFwiZXhpc3RcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9ibGVuZEJ5TXVsdGlwbHkoKXtcbiAgICAgICAgICAgIHRoaXMuX3NldEdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbih0aGlzLmNvbnRleHQsIFwibXVsdGlwbHlcIik7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd0luQ2VudGVyUG9pbnQodGhpcy5jb250ZXh0LCB0aGlzLl9nZXREcmF3U291cmNlKCkuc291cmNlLCB0aGlzLmVudGl0eU9iamVjdC50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLl9nZXREcmF3U291cmNlKCksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwic291cmNlXCIsIFwiZXhpc3RcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9ibGVuZEJ5UGVyUGl4ZWwoKXtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCksXG4gICAgICAgICAgICAgICAgciA9IHRoaXMuY29sb3IucixcbiAgICAgICAgICAgICAgICBnID0gdGhpcy5jb2xvci5nLFxuICAgICAgICAgICAgICAgIGIgPSB0aGlzLmNvbG9yLmIsXG4gICAgICAgICAgICAgICAgcGl4ZWxEYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwaXhlbHMgPSBudWxsO1xuXG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiY29weVwiO1xuXG4gICAgICAgICAgICB0aGlzLmRyYXdJbkNlbnRlclBvaW50KHRoaXMuY29udGV4dCwgdGhpcy5fZ2V0RHJhd1NvdXJjZSgpLnNvdXJjZSwgdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHBpeGVsRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICBwaXhlbHMgPSBwaXhlbERhdGEuZGF0YTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBpeGVscy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICAgICAgICAgIHBpeGVsc1tpXSAqPSByO1xuICAgICAgICAgICAgICAgIHBpeGVsc1tpICsgMV0gKj0gZztcbiAgICAgICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQucHV0SW1hZ2VEYXRhKHBpeGVsRGF0YSwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRHbG9iYWxDb21wb3NpdGVPcGVyYXRpb24oY29udGV4dDphbnksIG1vZGU6c3RyaW5nKXtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gbW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldEdsb2JhbEFscGhhKGNvbnRleHQ6YW55LCBhbHBoYTpudW1iZXIpe1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEludGVyYWN0aW9uVUkgZXh0ZW5kcyBVSXtcbiAgICAgICAgcHJvdGVjdGVkIHBfdHJhbnNpdGlvbk1vZGU6RVRyYW5zaXRpb25Nb2RlID0gbnVsbDtcbiAgICAgICAgZ2V0IHRyYW5zaXRpb25Nb2RlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wX3RyYW5zaXRpb25Nb2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldCB0cmFuc2l0aW9uTW9kZSh0cmFuc2l0aW9uTW9kZTpFVHJhbnNpdGlvbk1vZGUpe1xuICAgICAgICAgICAgdGhpcy5wX3RyYW5zaXRpb25Nb2RlID0gdHJhbnNpdGlvbk1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHJhbnNpdGlvbk1hbmFnZXI6VHJhbnNpdGlvbk1hbmFnZXIgPSBUcmFuc2l0aW9uTWFuYWdlci5jcmVhdGUodGhpcyk7XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgSW50ZXJhY3Rpb25VSSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdGV4dDpzdHJpbmcgPSBudWxsO1xuICAgICAgICBnZXQgdGV4dCgpe1xuICAgICAgICAgICAgdmFyIGZvbnRPYmplY3QgPSBudWxsO1xuXG4gICAgICAgICAgICBpZih0aGlzLmVudGl0eU9iamVjdCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvbnRPYmplY3QgPSB0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5URVhUKTtcblxuICAgICAgICAgICAgaWYoZm9udE9iamVjdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbnRPYmplY3QuZ2V0Q29tcG9uZW50KFBsYWluRm9udCkudGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRleHQodGV4dDpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGZvbnRPYmplY3Q6VUlPYmplY3QgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAgICAgaWYodGhpcy5lbnRpdHlPYmplY3QgPT09IG51bGwgfHwgIXRoaXMuZ2V0VUlSZW5kZXJlcigpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvbnRPYmplY3QgPSB0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5URVhUKTtcblxuICAgICAgICAgICAgaWYoZm9udE9iamVjdCl7XG4gICAgICAgICAgICAgICAgZm9udE9iamVjdC5nZXRDb21wb25lbnQ8UGxhaW5Gb250PihQbGFpbkZvbnQpLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eU9iamVjdC5hZGRDaGlsZCh0aGlzLl9jcmVhdGVGb250T2JqZWN0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGlzRGlzYWJsZWQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZU1hY2hpbmUuY3VycmVudFN0YXRlID09PSBFVUlTdGF0ZS5ESVNBQkxFRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjdXJyZW50U3RhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZU1hY2hpbmUuY3VycmVudFN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbW91c2Vkb3duU3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbW91c2V1cFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21vdXNlb3ZlclN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX21vdXNlb3V0U3Vic2NyaXB0aW9uOndkRnJwLklEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc3RhdGVNYWNoaW5lOlVJU3RhdGVNYWNoaW5lID0gVUlTdGF0ZU1hY2hpbmUuY3JlYXRlKHRoaXMpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbk1vZGUgPSBFVHJhbnNpdGlvbk1vZGUuU1BSSVRFO1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gXCJidXR0b25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9oYXNGb250T2JqZWN0KCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmFkZENoaWxkKHRoaXMuX2NyZWF0ZUZvbnRPYmplY3QoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5T2JqZWN0LmFkZENoaWxkKHRoaXMuX2NyZWF0ZUJhY2tncm91bmRPYmplY3QoKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2JpbmRFdmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fbW91c2Vkb3duU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNldXBTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fbW91c2VvdmVyU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlb3V0U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRPYmplY3Qob2JqZWN0TmFtZTpFQnV0dG9uT2JqZWN0TmFtZSk6VUlPYmplY3R7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHlPYmplY3QuZmluZENoaWxkQnlOYW1lKDxhbnk+b2JqZWN0TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0T2JqZWN0VHJhbnNpdGlvbihvYmplY3ROYW1lOkVCdXR0b25PYmplY3ROYW1lKTpUcmFuc2l0aW9ue1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbk1hbmFnZXIuZ2V0T2JqZWN0VHJhbnNpdGlvbihvYmplY3ROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBlbmFibGUoKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZU1hY2hpbmUuY2hhbmdlU3RhdGUoRVVJU3RhdGUuTk9STUFMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNhYmxlKCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVNYWNoaW5lLmNoYW5nZVN0YXRlKEVVSVN0YXRlLkRJU0FCTEVEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGVsYXBzZWRUaW1lOm51bWJlcil7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5nZXRPYmplY3QoRUJ1dHRvbk9iamVjdE5hbWUuQkFDS0dST1VORCkuaGFzQ29tcG9uZW50KEltYWdlKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJCdXR0b24gVUlPYmplY3RcIiwgXCJjb250YWluIEltYWdlIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoZWxhcHNlZFRpbWU6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50cmFuc2l0aW9uTWFuYWdlci5nZXRPYmplY3RUYXJnZXQoRUJ1dHRvbk9iamVjdE5hbWUuQkFDS0dST1VORCk7XG5cbiAgICAgICAgICAgIGlmKCF0YXJnZXQpe1xuICAgICAgICAgICAgICAgIGxldCBpbWFnZSA9IHRoaXMuZ2V0T2JqZWN0KEVCdXR0b25PYmplY3ROYW1lLkJBQ0tHUk9VTkQpLmdldENvbXBvbmVudDxJbWFnZT4oSW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBfdHJhbnNpdGlvbk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuU1BSSVRFOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UudGFyZ2V0U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2l0aW9uTW9kZS5DT0xPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnRhcmdldENvbG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJ0cmFuc2l0aW9uTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wX3RyYW5zaXRpb25Nb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuU1BSSVRFOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5CQUNLR1JPVU5EKS5nZXRDb21wb25lbnQ8SW1hZ2U+KEltYWdlKS50YXJnZXRTb3VyY2UgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVRyYW5zaXRpb25Nb2RlLkNPTE9SOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5CQUNLR1JPVU5EKS5nZXRDb21wb25lbnQ8SW1hZ2U+KEltYWdlKS50YXJnZXRDb2xvciA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJ0cmFuc2l0aW9uTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQmFja2dyb3VuZE9iamVjdCgpe1xuICAgICAgICAgICAgdmFyIG9iamVjdCA9IFVJT2JqZWN0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGltYWdlID0gSW1hZ2UuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBvYmplY3QuYWRkQ29tcG9uZW50KGltYWdlKTtcblxuICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudCh0aGlzLmdldFVJUmVuZGVyZXIoKSk7XG5cbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm0ud2lkdGggPSB0cmFuc2Zvcm0ud2lkdGg7XG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtLmhlaWdodCA9IHRyYW5zZm9ybS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm0uekluZGV4ID0gMTtcblxuICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSA8YW55PkVCdXR0b25PYmplY3ROYW1lLkJBQ0tHUk9VTkQ7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVGb250T2JqZWN0KCl7XG4gICAgICAgICAgICB2YXIgZm9udE9iamVjdCA9IFVJT2JqZWN0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGZvbnQgPSBQbGFpbkZvbnQuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbnRpdHlPYmplY3QudHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBmb250LnRleHQgPSB0aGlzLl90ZXh0O1xuICAgICAgICAgICAgZm9udC5lbmFibGVGaWxsKFwiIzAwMDAwMFwiKTtcbiAgICAgICAgICAgIGZvbnQueEFsaWdubWVudCA9IEVGb250WEFsaWdubWVudC5DRU5URVI7XG4gICAgICAgICAgICBmb250LnlBbGlnbm1lbnQgPSBFRm9udFlBbGlnbm1lbnQuTUlERExFO1xuXG4gICAgICAgICAgICBmb250T2JqZWN0LmFkZENvbXBvbmVudChmb250KTtcblxuICAgICAgICAgICAgZm9udE9iamVjdC5hZGRDb21wb25lbnQodGhpcy5nZXRVSVJlbmRlcmVyKCkpO1xuXG4gICAgICAgICAgICBmb250T2JqZWN0LnRyYW5zZm9ybS53aWR0aCA9IHRyYW5zZm9ybS53aWR0aDtcbiAgICAgICAgICAgIGZvbnRPYmplY3QudHJhbnNmb3JtLmhlaWdodCA9IHRyYW5zZm9ybS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGZvbnRPYmplY3QudHJhbnNmb3JtLnpJbmRleCA9IDI7XG5cbiAgICAgICAgICAgIGZvbnRPYmplY3QubmFtZSA9IDxhbnk+RUJ1dHRvbk9iamVjdE5hbWUuVEVYVDtcblxuICAgICAgICAgICAgcmV0dXJuIGZvbnRPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNGb250T2JqZWN0KCl7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLmdldE9iamVjdChFQnV0dG9uT2JqZWN0TmFtZS5URVhUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2JpbmRFdmVudCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9tb3VzZWRvd25TdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9ET1dOKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGU6Q3VzdG9tRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzZWxmLmlzRGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXRlTWFjaGluZS5jaGFuZ2VTdGF0ZShFVUlTdGF0ZS5QUkVTU0VEKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbW91c2V1cFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX1VQKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGU6Q3VzdG9tRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzZWxmLmlzRGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXRlTWFjaGluZS5iYWNrU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB0aGlzLl9tb3VzZW92ZXJTdWJzY3JpcHRpb24gPSBFdmVudE1hbmFnZXIuZnJvbUV2ZW50KHRoaXMuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NT1VTRV9PVkVSKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGU6Q3VzdG9tRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzZWxmLmlzRGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXRlTWFjaGluZS5jaGFuZ2VTdGF0ZShFVUlTdGF0ZS5ISUdITElHSFQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9tb3VzZW91dFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQodGhpcy5lbnRpdHlPYmplY3QsIDxhbnk+RUVuZ2luZUV2ZW50Lk1PVVNFX09VVClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlOkN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhc2VsZi5pc0Rpc2FibGVkO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZTpDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdGF0ZU1hY2hpbmUuYmFja1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFQnV0dG9uT2JqZWN0TmFtZXtcbiAgICAgICAgQkFDS0dST1VORCA9IDxhbnk+XCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgIFRFWFQgPSA8YW55PlwidGV4dFwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVVSVN0YXRle1xuICAgICAgICBOT1JNQUwsXG4gICAgICAgIEhJR0hMSUdIVCxcbiAgICAgICAgUFJFU1NFRCxcbiAgICAgICAgRElTQUJMRURcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFVJU3RhdGVNYWNoaW5le1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh1aTpJbnRlcmFjdGlvblVJKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHVpKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih1aTpJbnRlcmFjdGlvblVJKXtcbiAgICAgICAgICAgIHRoaXMuX3VpID0gdWk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdHJhbnNpdGlvbk1hbmFnZXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aS50cmFuc2l0aW9uTWFuYWdlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBjdXJyZW50U3RhdGUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZUhpc3RvcnkudG9wIHx8IEVVSVN0YXRlLk5PUk1BTDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VpOkludGVyYWN0aW9uVUkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zdGF0ZUhpc3Rvcnk6d2RDYi5TdGFjazxFVUlTdGF0ZT4gPSB3ZENiLlN0YWNrLmNyZWF0ZTxFVUlTdGF0ZT4oKTtcblxuICAgICAgICBwdWJsaWMgY2hhbmdlU3RhdGUoc3RhdGU6RVVJU3RhdGUpe1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVIaXN0b3J5LnB1c2goc3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25NYW5hZ2VyLmNoYW5nZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuX3VpLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBiYWNrU3RhdGUoKXtcbiAgICAgICAgICAgIHZhciBsYXN0U3RhdGU6RVVJU3RhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZUhpc3RvcnkucG9wKCk7XG5cbiAgICAgICAgICAgIGxhc3RTdGF0ZSA9IHRoaXMuX3N0YXRlSGlzdG9yeS50b3A7XG5cbiAgICAgICAgICAgIGlmKCFsYXN0U3RhdGUpe1xuICAgICAgICAgICAgICAgIGxhc3RTdGF0ZSA9IEVVSVN0YXRlLk5PUk1BTDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uTWFuYWdlci5jaGFuZ2VTdGF0ZShsYXN0U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5fdWkuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUcmFuc2l0aW9ue1xuICAgICAgICBwcml2YXRlIF90YXJnZXQ6YW55ID0gbnVsbDtcbiAgICAgICAgZ2V0IHRhcmdldCgpe1xuICAgICAgICAgICAgaWYodGhpcy5fdGFyZ2V0ID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKEVVSVN0YXRlLk5PUk1BTCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRhcmdldCh0YXJnZXQ6YW55KXtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBjaGFuZ2VTdGF0ZShzdGF0ZTpFVUlTdGF0ZSk7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTcHJpdGVUcmFuc2l0aW9uIGV4dGVuZHMgVHJhbnNpdGlvbntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5vcm1hbFNwcml0ZTpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoaWdobGlnaHRTcHJpdGU6SW1hZ2VUZXh0dXJlQXNzZXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcHJlc3NlZFNwcml0ZTpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBkaXNhYmxlZFNwcml0ZTpJbWFnZVRleHR1cmVBc3NldCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGNoYW5nZVN0YXRlKHN0YXRlOkVVSVN0YXRlKXtcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVVJU3RhdGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMubm9ybWFsU3ByaXRlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVVSVN0YXRlLkhJR0hMSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmhpZ2hsaWdodFNwcml0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5QUkVTU0VEOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMucHJlc3NlZFNwcml0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5ESVNBQkxFRDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpc2FibGVkU3ByaXRlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChcInN0YXRlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29sb3JUcmFuc2l0aW9uIGV4dGVuZHMgVHJhbnNpdGlvbntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5vcm1hbENvbG9yOkNvbG9yID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhpZ2hsaWdodENvbG9yOkNvbG9yID0gbnVsbDtcbiAgICAgICAgcHVibGljIHByZXNzZWRDb2xvcjpDb2xvciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBkaXNhYmxlZENvbG9yOkNvbG9yID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgY2hhbmdlU3RhdGUoc3RhdGU6RVVJU3RhdGUpe1xuICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5ub3JtYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5ISUdITElHSFQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5oaWdobGlnaHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVUlTdGF0ZS5QUkVTU0VEOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMucHJlc3NlZENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVVSVN0YXRlLkRJU0FCTEVEOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGlzYWJsZWRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJzdGF0ZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVRyYW5zaXRpb25Nb2Rle1xuICAgICAgICBTUFJJVEUsXG4gICAgICAgIENPTE9SXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHJhbnNpdGlvbk1hbmFnZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh1aTpJbnRlcmFjdGlvblVJKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModWkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodWk6SW50ZXJhY3Rpb25VSSkge1xuICAgICAgICAgICAgdGhpcy5fdWkgPSB1aTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3VpOkludGVyYWN0aW9uVUkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zcHJpdGVUcmFuc2l0aW9uTWFwOndkQ2IuSGFzaDxUcmFuc2l0aW9uPiA9IHdkQ2IuSGFzaC5jcmVhdGU8VHJhbnNpdGlvbj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfY29sb3JUcmFuc2l0aW9uTWFwOndkQ2IuSGFzaDxUcmFuc2l0aW9uPiA9IHdkQ2IuSGFzaC5jcmVhdGU8VHJhbnNpdGlvbj4oKTtcblxuICAgICAgICBwdWJsaWMgZ2V0T2JqZWN0VHJhbnNpdGlvbihvYmplY3ROYW1lOkVCdXR0b25PYmplY3ROYW1lKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fZ2V0VHJhbnNpdGlvbk1hcCgpLmdldENoaWxkKDxhbnk+b2JqZWN0TmFtZSk7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fY3JlYXRlVHJhbnNpdGlvbkluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRUcmFuc2l0aW9uTWFwKCkuYWRkQ2hpbGQoPGFueT5vYmplY3ROYW1lLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE9iamVjdFRhcmdldChvYmplY3ROYW1lOkVCdXR0b25PYmplY3ROYW1lKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdFRyYW5zaXRpb24ob2JqZWN0TmFtZSkudGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNoYW5nZVN0YXRlKHN0YXRlOkVVSVN0YXRlKXtcbiAgICAgICAgICAgIHdkRnJwLmZyb21BcnJheShbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVRyYW5zaXRpb25NYXAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbG9yVHJhbnNpdGlvbk1hcFxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgobWFwOndkQ2IuSGFzaDxUcmFuc2l0aW9uPikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtYXAuZm9yRWFjaCgodHJhbnNpdGlvbjpUcmFuc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmNoYW5nZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRUcmFuc2l0aW9uTWFwKCkge1xuICAgICAgICAgICAgdmFyIG1hcDp3ZENiLkhhc2g8VHJhbnNpdGlvbj4gPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3VpLnRyYW5zaXRpb25Nb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBFVHJhbnNpdGlvbk1vZGUuU1BSSVRFOlxuICAgICAgICAgICAgICAgICAgICBtYXAgPSB0aGlzLl9zcHJpdGVUcmFuc2l0aW9uTWFwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2l0aW9uTW9kZS5DT0xPUjpcbiAgICAgICAgICAgICAgICAgICAgbWFwID0gdGhpcy5fY29sb3JUcmFuc2l0aW9uTWFwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChcInRyYW5zaXRpb25Nb2RlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVUcmFuc2l0aW9uSW5zdGFuY2UoKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uOlRyYW5zaXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3VpLnRyYW5zaXRpb25Nb2RlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2l0aW9uTW9kZS5TUFJJVEU6XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gPSBTcHJpdGVUcmFuc2l0aW9uLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUcmFuc2l0aW9uTW9kZS5DT0xPUjpcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IENvbG9yVHJhbnNpdGlvbi5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJ0cmFuc2l0aW9uTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFJvdW5kZWRSZWN0VXRpbHMge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGRyYXdSb3VuZGVkUmVjdChjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc3Ryb2tlU3R5bGU6c3RyaW5nLCBmaWxsU3R5bGU6c3RyaW5nLCBjb3JuZXJYOm51bWJlciwgY29ybmVyWTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgY29ybmVyUmFkaXVzOm51bWJlcikge1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjb3JuZXJYICsgY29ybmVyUmFkaXVzLCBjb3JuZXJZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGNvcm5lclggLSBjb3JuZXJSYWRpdXMsIGNvcm5lclkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmFyY1RvKGNvcm5lclggKyB3aWR0aCwgY29ybmVyWSwgY29ybmVyWCArIHdpZHRoLCBjb3JuZXJZICsgaGVpZ2h0LCBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgY29udGV4dC5hcmNUbyhjb3JuZXJYICsgd2lkdGgsIGNvcm5lclkgKyBoZWlnaHQsIGNvcm5lclgsIGNvcm5lclkgKyBoZWlnaHQsIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICBjb250ZXh0LmFyY1RvKGNvcm5lclgsIGNvcm5lclkgKyBoZWlnaHQsIGNvcm5lclgsIGNvcm5lclksIGNvcm5lclJhZGl1cyk7XG5cbiAgICAgICAgICAgIGlmICh3aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyY1RvKGNvcm5lclgsIGNvcm5lclksIGNvcm5lclggKyBjb3JuZXJSYWRpdXMsIGNvcm5lclksIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyY1RvKGNvcm5lclgsIGNvcm5lclksIGNvcm5lclggLSBjb3JuZXJSYWRpdXMsIGNvcm5lclksIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cblxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcblxuICAgICAgICAgICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpbGxTdHlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgSnVkZ2VVdGlscyBleHRlbmRzIHdkQ2IuSnVkZ2VVdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc1ZpZXcob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gISFvYmogJiYgb2JqLm9mZnNldCAmJiBvYmoud2lkdGggJiYgb2JqLmhlaWdodCAmJiB0aGlzLmlzRnVuY3Rpb24ob2JqLmdldENvbnRleHQpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzRXF1YWwodGFyZ2V0MTphbnksIHRhcmdldDI6YW55KXtcbiAgICAgICAgICAgIGlmKCghdGFyZ2V0MSAmJiB0YXJnZXQyKSB8fCAodGFyZ2V0MSAmJiAhdGFyZ2V0Mikpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGFyZ2V0MS51aWQgJiYgdGFyZ2V0Mi51aWQpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQxLnVpZCA9PT0gdGFyZ2V0Mi51aWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQxID09PSB0YXJnZXQyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc1Bvd2VyT2ZUd28odmFsdWU6bnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlICYgKHZhbHVlIC0gMSkpID09PSAwICYmIHZhbHVlICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0Zsb2F0QXJyYXkoZGF0YTphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIEVudGl0eU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKSA9PT0gXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIiB8fCBFbnRpdHlPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkgPT09IFwiW29iamVjdCBGbG9hdDE2QXJyYXldXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvKiFcbiAgICAgICAgY2FuJ3QgdXNlIFwidGFyZ2V0IGluc3RhbmNlb2YgaW50ZXJmYWNlXCIhXG5cbiAgICAgICAgcmVmZXIgdG86XG4gICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ0MjU1NjgvaW50ZXJmYWNlLXR5cGUtY2hlY2std2l0aC10eXBlc2NyaXB0XG4gICAgICAgICBodHRwczovL3R5cGVzY3JpcHQuY29kZXBsZXguY29tL2Rpc2N1c3Npb25zLzQwMTUwMVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0ludGVyZmFjZSh0YXJnZXQ6YW55LCBtZW1iZXJPZkludGVyZmFjZTpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuICEhdGFyZ2V0W21lbWJlck9mSW50ZXJmYWNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNTcGFjZVBhcnRpdGlvbk9iamVjdChlbnRpdHlPYmplY3Q6RW50aXR5T2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlPYmplY3QuaGFzQ29tcG9uZW50KFNwYWNlUGFydGl0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNTZWxmKHNlbGY6RW50aXR5LCBlbnRpdHlPYmplY3Q6RW50aXR5KXtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnVpZCA9PT0gZW50aXR5T2JqZWN0LnVpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNDb21wb25lbmV0KGNvbXBvbmVudDpDb21wb25lbnQpe1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5lbnRpdHlPYmplY3QgIT09IHZvaWQgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNEb20ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikubWF0Y2goL1xcW29iamVjdCBIVE1MXFx3Ky8pICE9PSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTWF0aFV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNsYW1wKG51bTpudW1iZXIsIGJlbG93Om51bWJlciwgdXA6bnVtYmVyKTpudW1iZXJ7XG4gICAgICAgICAgICBpZihudW0gPCBiZWxvdyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihudW0gPiB1cCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBiaWdUaGFuKG51bTpudW1iZXIsIGJlbG93Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gbnVtIDwgYmVsb3cgPyBiZWxvdyA6IG51bTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdlbmVyYXRlIG51bSBpbiAoMCwxKVxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZW5lcmF0ZVplcm9Ub09uZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdlbmVyYXRlIGludGVnZXIgaW4gW21pbixtYXhdXG4gICAgICAgICAqIEBwYXJhbSBtaW5cbiAgICAgICAgICogQHBhcmFtIG1heFxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24obWluOm51bWJlciwgbWF4Om51bWJlcil7XG4gICAgICAgICAgICBhc3NlcnQobWluIDwgbWF4LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm1pblwiLCBcIjwgbWF4XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZW5lcmF0ZUludGVnZXIobWluOm51bWJlciwgbWF4Om51bWJlcikge1xuICAgICAgICAgICAgdmFyIG1heCA9IG1heCArIDE7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XG4gICAgICAgIH1cblxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICBhc3NlcnQodmFsID49IDApO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc3RhdGljIG1vZChhOm51bWJlciwgYjpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBuID0gTWF0aC5mbG9vcihhIC8gYik7XG5cbiAgICAgICAgICAgIGEgLT0gbiAqIGI7XG5cbiAgICAgICAgICAgIGlmIChhIDwgMCkge1xuICAgICAgICAgICAgICAgIGEgKz0gYjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihhOm51bWJlciwgYjpudW1iZXIpe1xuICAgICAgICAgICAgYXNzZXJ0KGEgPj0gMCAmJiBiID49IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwicGFyYW1cIiwgXCI+PSAwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbih2YWwpe1xuICAgICAgICAgICAgYXNzZXJ0KHZhbCA+PSAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBtYXhGbG9vckludGVncmFsTXVsdGlwbGUoYTpudW1iZXIsIGI6bnVtYmVyKSB7XG4gICAgICAgICAgICBpZihiID09IDApe1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihhIDwgYil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGEgLyBiKSAqIGI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIENvb3JkaW5hdGVVdGlsc3tcbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCB2aWV3XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0V2ViR0xQb3NpdGlvblRvQ2FudmFzUG9zaXRpb24ocG9zaXRpb246VmVjdG9yMyl7XG4gICAgICAgICAgICB2YXIgdmlldyA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3O1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodmlldy53aWR0aCAvIDIgKyBwb3NpdGlvbi54LCB2aWV3LmhlaWdodCAvIDIgLSBwb3NpdGlvbi55KVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCghIURldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCB2aWV3XCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0Q2FudmFzUG9zaXRpb25Ub1dlYkdMUG9zaXRpb24ocG9zaXRpb246VmVjdG9yMil7XG4gICAgICAgICAgICB2YXIgdmlldyA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3O1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUocG9zaXRpb24ueCAtIHZpZXcud2lkdGggLyAyICwgdmlldy5oZWlnaHQgLyAyIC0gcG9zaXRpb24ueSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRMZWZ0Q29ybmVyUG9zaXRpb25Ub0NlbnRlclBvc2l0aW9uKHBvc2l0aW9uOlZlY3RvcjIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodGhpcy5jb252ZXJ0TGVmdENvcm5lclBvc2l0aW9uWFRvQ2VudGVyUG9zaXRpb25YKHBvc2l0aW9uLngsIHdpZHRoKSwgdGhpcy5jb252ZXJ0TGVmdENvcm5lclBvc2l0aW9uWVRvQ2VudGVyUG9zaXRpb25ZKHBvc2l0aW9uLnksIGhlaWdodCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0TGVmdENvcm5lclBvc2l0aW9uWFRvQ2VudGVyUG9zaXRpb25YKHBvc2l0aW9uWDpudW1iZXIsIHdpZHRoOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb25YICsgd2lkdGggLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0TGVmdENvcm5lclBvc2l0aW9uWVRvQ2VudGVyUG9zaXRpb25ZKHBvc2l0aW9uWTpudW1iZXIsIGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWSArIGhlaWdodCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRDZW50ZXJQb3NpdGlvblRvTGVmdENvcm5lclBvc2l0aW9uKHBvc2l0aW9uOlZlY3RvcjIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMi5jcmVhdGUodGhpcy5jb252ZXJ0Q2VudGVyUG9zaXRpb25YVG9MZWZ0Q29ybmVyUG9zaXRpb25YKHBvc2l0aW9uLngsIHdpZHRoKSwgdGhpcy5jb252ZXJ0Q2VudGVyUG9zaXRpb25ZVG9MZWZ0Q29ybmVyUG9zaXRpb25ZKHBvc2l0aW9uLnksIGhlaWdodCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0Q2VudGVyUG9zaXRpb25YVG9MZWZ0Q29ybmVyUG9zaXRpb25YKHBvc2l0aW9uWDpudW1iZXIsIHdpZHRoOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb25YIC0gd2lkdGggLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0Q2VudGVyUG9zaXRpb25ZVG9MZWZ0Q29ybmVyUG9zaXRpb25ZKHBvc2l0aW9uWTpudW1iZXIsIGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uWSAtIGhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBMb2cgZXh0ZW5kcyB3ZENiLkxvZ3tcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgVGltZUNvbnRyb2xsZXJ7XG4gICAgICAgIHB1YmxpYyBlbGFwc2VkOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwYXVzZUVsYXBzZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBhdXNlVGltZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhcnRUaW1lOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB0aGlzLmdldE5vdygpO1xuICAgICAgICAgICAgdGhpcy5wYXVzZUVsYXBzZWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0b3AoKXtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VUaW1lID0gdGhpcy5nZXROb3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXN1bWUoKXtcbiAgICAgICAgICAgIHRoaXMucGF1c2VFbGFwc2VkICs9IHRoaXMuZ2V0Tm93KCkgLSB0aGlzLnBhdXNlVGltZTtcbiAgICAgICAgICAgIHRoaXMucGF1c2VUaW1lID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmVsYXBzZWQgPj0gMCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYGVsYXBzZWQ6JHt0aGlzLmVsYXBzZWR9YCwgXCI+PSAwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNvbXB1dGVFbGFwc2VUaW1lKHRpbWU6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHRoaXMucGF1c2VFbGFwc2VkKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSB0aW1lIC0gdGhpcy5wYXVzZUVsYXBzZWQgLSB0aGlzLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGFwc2VkID0gdGltZSAtIHRoaXMuc3RhcnRUaW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmVsYXBzZWQgPCAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldE5vdygpO1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBTVEFSVElOR19GUFMgPSA2MCxcbiAgICAgICAgR0FNRVRJTUVfU0NBTEUgPSAxMDAwO1xuXG4gICAgZXhwb3J0IGNsYXNzIERpcmVjdG9yVGltZUNvbnRyb2xsZXIgZXh0ZW5kcyBUaW1lQ29udHJvbGxlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnYW1lVGltZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZnBzOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1RpbWVDaGFuZ2U6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZGVsdGFUaW1lOm51bWJlciA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGFzdFRpbWU6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgdGljayh0aW1lOm51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLl9sYXN0VGltZSAhPT0gbnVsbCA/IHRpbWUgLSB0aGlzLl9sYXN0VGltZSA6IHRpbWU7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGcHModGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5nYW1lVGltZSA9IHRpbWUgLyBHQU1FVElNRV9TQ0FMRTtcblxuICAgICAgICAgICAgdGhpcy5fbGFzdFRpbWUgPSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXJ0KCl7XG4gICAgICAgICAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzVGltZUNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVsYXBzZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlc3VtZSgpe1xuICAgICAgICAgICAgc3VwZXIucmVzdW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNUaW1lQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXROb3coKXtcbiAgICAgICAgICAgIHJldHVybiByb290LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdXBkYXRlRnBzKGRlbHRhVGltZTpudW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzID0gU1RBUlRJTkdfRlBTO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcHMgPSAxMDAwIC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ29tbW9uVGltZUNvbnRyb2xsZXIgZXh0ZW5kcyBUaW1lQ29udHJvbGxlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Tm93KCl7XG4gICAgICAgICAgICBpZihEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLmlzVGltZUNoYW5nZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpcmVjdG9yLmdldEluc3RhbmNlKCkuZWxhcHNlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJvb3QucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgY29uc3RydWN0b3IocmVuZGVyVGFyZ2V0VGV4dHVyZTpSZW5kZXJUYXJnZXRUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IHJlbmRlclRhcmdldFRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdGV4dHVyZTpSZW5kZXJUYXJnZXRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGZyYW1lQnVmZmVyT3BlcmF0b3I6RnJhbWVCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yID0gRnJhbWVCdWZmZXIuY3JlYXRlKHRoaXMudGV4dHVyZS53aWR0aCwgdGhpcy50ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmNyZWF0ZUVtcHR5VGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0RnJhbWVCdWZmZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW5kZXIocmVuZGVyZXI6UmVuZGVyZXIpO1xuICAgICAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOlJlbmRlcmVyLCBjYW1lcmE6R2FtZU9iamVjdCk7XG5cbiAgICAgICAgcHVibGljIHJlbmRlciguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciByZW5kZXJlcjpSZW5kZXJlciA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHRoaXMuYmVmb3JlUmVuZGVyKCk7XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBjYW1lcmE6R2FtZU9iamVjdCA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlciwgY2FtZXJhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZnRlclJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VGcmFtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGluaXRGcmFtZUJ1ZmZlcigpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVuZGVyRnJhbWVCdWZmZXJUZXh0dXJlKHJlbmRlcmVyOlJlbmRlcmVyLCBjYW1lcmE/OkdhbWVPYmplY3QpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZGlzcG9zZUZyYW1lQnVmZmVyKCk7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGJlZm9yZVJlbmRlcigpe1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyUmVuZGVyKCl7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RSZW5kZXJUYXJnZXRSZW5kZXJlciBleHRlbmRzIFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICAvL3Byb3RlY3RlZCBmcmFtZUJ1ZmZlcjpGcmFtZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vcHJvdGVjdGVkIGZyYW1lQnVmZmVyVGV4dHVyZTpXZWJHTFRleHR1cmUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgZnJhbWVCdWZmZXI6V2ViR0xGcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJCdWZmZXI6V2ViR0xSZW5kZXJidWZmZXI9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUNhbWVyYSguLi5hcmdzKTpHYW1lT2JqZWN0O1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYmVmb3JlUmVuZGVyRnJhbWVCdWZmZXJUZXh0dXJlKHJlbmRlckNhbWVyYTpHYW1lT2JqZWN0KTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFJlbmRlckxpc3QoKTp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD47XG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCByZW5kZXJSZW5kZXJlcihyZW5kZXJlcjpSZW5kZXJlcik7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGFzdENhbWVyYTpHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdEZyYW1lQnVmZmVyKCl7XG4gICAgICAgICAgICB2YXIgZnJhbWVCdWZmZXIgPSB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBmcmFtZUJ1ZmZlci5jcmVhdGVGcmFtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJCdWZmZXIgPSBmcmFtZUJ1ZmZlci5jcmVhdGVSZW5kZXJCdWZmZXIoKTtcblxuICAgICAgICAgICAgZnJhbWVCdWZmZXIuYmluZEZyYW1lQnVmZmVyKHRoaXMuZnJhbWVCdWZmZXIpO1xuICAgICAgICAgICAgZnJhbWVCdWZmZXIuYXR0YWNoVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUuZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLmF0dGFjaFJlbmRlckJ1ZmZlcihcIkRFUFRIX0FUVEFDSE1FTlRcIiwgdGhpcy5yZW5kZXJCdWZmZXIpO1xuICAgICAgICAgICAgZnJhbWVCdWZmZXIuY2hlY2soKTtcbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLnVuQmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlcjpSZW5kZXJlciwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHJlbmRlckNhbWVyYSA9IHRoaXMuY3JlYXRlQ2FtZXJhKGNhbWVyYSk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2xhc3RDYW1lcmEpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2FtZXJhID0gcmVuZGVyQ2FtZXJhO1xuXG4gICAgICAgICAgICB0aGlzLmJlZm9yZVJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJDYW1lcmEpO1xuXG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKHRoaXMuZnJhbWVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmRUb1VuaXQoMCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3Iuc2V0Vmlld3BvcnQoKTtcblxuXG4gICAgICAgICAgICAvL3RvZG8gaWYgcmVuZGVyTGlzdCBpcyBudWxsLCBkcmF3IGFsbFxuICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOmlmIHJlbmRlck9iamVjdCBpcyBiZWhpbmQgcGxhbmUsIG5vdCByZW5kZXIgaXQhXG4gICAgICAgICAgICB0aGlzLmdldFJlbmRlckxpc3QoKS5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVuZGVyKHJlbmRlcmVyLCByZW5kZXJDYW1lcmEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnVuQmluZCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnJlc3RvcmVWaWV3cG9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRpc3Bvc2VGcmFtZUJ1ZmZlcigpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLnJlbmRlckJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgTWlycm9yUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBUd29EUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1pcnJvclRleHR1cmU6TWlycm9yVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKG1pcnJvclRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOk1pcnJvclRleHR1cmU7XG5cblxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlUmVuZGVyRnJhbWVCdWZmZXJUZXh0dXJlKHJlbmRlckNhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZW5kZXJMaXN0KCk6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZS5yZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJSZW5kZXJlcihyZW5kZXJlcil7XG4gICAgICAgICAgICB0aGlzLl9zZXRTY2VuZVNpZGUoRVNpZGUuQkFDSyk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldFNjZW5lU2lkZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW1lcmEoY2FtZXJhOkdhbWVPYmplY3QpOkdhbWVPYmplY3R7XG4gICAgICAgICAgICB2YXIgbWlycm9yQ2FtZXJhQ29tcG9uZW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwbGFuZSA9IG51bGwsXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50OkNhbWVyYUNvbnRyb2xsZXIgPSBjYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpLFxuICAgICAgICAgICAgICAgIG1pcnJvckNhbWVyYVZpZXdNYXRyaXggPSBudWxsLFxuICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXggPSBudWxsO1xuXG4gICAgICAgICAgICBwbGFuZSA9IHRoaXMudGV4dHVyZS5nZXRQbGFuZSgpO1xuXG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFWaWV3TWF0cml4ID1cbiAgICAgICAgICAgICAgICBwbGFuZS5nZXRSZWZsZWN0aW9uTWF0cml4KCkuYXBwbHlNYXRyaXgoY2FtZXJhQ29tcG9uZW50LndvcmxkVG9DYW1lcmFNYXRyaXgpO1xuXG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemUoZGlydHkpXG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fc2V0Q2xpcFBsYW5lKG1pcnJvckNhbWVyYVZpZXdNYXRyaXgsIGNhbWVyYUNvbXBvbmVudC5wTWF0cml4LCBwbGFuZSk7XG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFDb21wb25lbnQgPSBQZXJzcGVjdGl2ZUNhbWVyYS5jcmVhdGUoKTtcbiAgICAgICAgICAgIG1pcnJvckNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4ID0gbWlycm9yQ2FtZXJhVmlld01hdHJpeC5jb3B5KCk7XG4gICAgICAgICAgICBtaXJyb3JDYW1lcmFDb21wb25lbnQucE1hdHJpeCA9IHByb2plY3Rpb25NYXRyaXg7XG5cbiAgICAgICAgICAgIHJldHVybiBHYW1lT2JqZWN0LmNyZWF0ZSgpLmFkZENvbXBvbmVudCh3ZC5CYXNpY0NhbWVyYUNvbnRyb2xsZXIuY3JlYXRlKG1pcnJvckNhbWVyYUNvbXBvbmVudCkpLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldFNjZW5lU2lkZShzaWRlOkVTaWRlKXtcbiAgICAgICAgICAgIHZhciBzY2VuZSA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmU7XG5cbiAgICAgICAgICAgIHNjZW5lLnNpZGUgPSBzaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q2xpcFBsYW5lKHZNYXRyaXg6TWF0cml4NCwgcE1hdHJpeDpNYXRyaXg0LCBwbGFuZTpQbGFuZSk6TWF0cml4NHtcbiAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uTWF0cml4ID0gcE1hdHJpeC5jb3B5KCksXG4gICAgICAgICAgICAgICAgcSA9IFZlY3RvcjQuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgY2xpcFBsYW5lID0gdGhpcy5fZ2V0Q2xpcFBsYW5lSW5DYW1lcmFTcGFjZSh2TWF0cml4LCBwbGFuZSksXG4gICAgICAgICAgICAgICAgYyA9IFZlY3RvcjQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHEueCA9ICggTWF0aC5zaWduKCBjbGlwUGxhbmUueCApICsgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDggXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDAgXTtcbiAgICAgICAgICAgIHEueSA9ICggTWF0aC5zaWduKCBjbGlwUGxhbmUueSApICsgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDkgXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDUgXTtcbiAgICAgICAgICAgIHEueiA9IC0gMS4wO1xuICAgICAgICAgICAgcS53ID0gKCAxLjAgKyBwcm9qZWN0aW9uTWF0cml4LnZhbHVlc1sgMTAgXSApIC8gcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDE0IF07XG5cbiAgICAgICAgICAgIGMgPSBjbGlwUGxhbmUubXVsdGlwbHlTY2FsYXIoIDIuMCAvIGNsaXBQbGFuZS5kb3QoIHEgKSApO1xuXG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4LnZhbHVlc1sgMiBdID0gYy54O1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDYgXSA9IGMueTtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXgudmFsdWVzWyAxMCBdID0gYy56ICsgMS4wO1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeC52YWx1ZXNbIDE0IF0gPSBjLnc7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q2xpcFBsYW5lSW5DYW1lcmFTcGFjZSh2TWF0cml4Ok1hdHJpeDQsIHBsYW5lOlBsYW5lKXtcbiAgICAgICAgICAgIHZhciBjbGlwUGxhbmUgPSBWZWN0b3I0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHAgPSB2TWF0cml4Lm11bHRpcGx5UG9pbnQodGhpcy50ZXh0dXJlLmdldFBvc2l0aW9uKCkpLFxuICAgICAgICAgICAgICAgIG4gPSB2TWF0cml4LmNvcHkoKS5pbnZlcnQoKS50cmFuc3Bvc2UoKS5tdWx0aXBseVBvaW50KHBsYW5lLm5vcm1hbCkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgICAgIGNsaXBQbGFuZS5zZXQobi54LCBuLnksIG4ueiwgLXAuZG90KG4pKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNsaXBQbGFuZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgVHdvRFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpEaXJlY3Rpb25MaWdodCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGxpZ2h0KTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihsaWdodDpEaXJlY3Rpb25MaWdodCl7XG4gICAgICAgICAgICBzdXBlcihsaWdodC5zaGFkb3dNYXApO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodCA9IGxpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6VHdvRFNoYWRvd01hcFRleHR1cmU7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGlnaHQ6RGlyZWN0aW9uTGlnaHQgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX3NoYWRvd01hcFJlbmRlcmVyVXRpbHM6VHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscyA9IFR3b0RTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxzLmNyZWF0ZSh0aGlzLl9saWdodCwgdGhpcy50ZXh0dXJlKTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU2hhZG93UmVuZGVyZXJMaXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmluZEVuZExvb3AoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vaGVyZSBub3QgbmVlZCByZW1vdmVSZXBlYXRJdGVtc1xuICAgICAgICAgICAgICAgIHNlbGYuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmNsZWFyVHdvRFNoYWRvd01hcERhdGEoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuY3JlYXRlU2hhZGVyV2l0aFNoYWRlckxpYihCdWlsZFR3b0RTaGFkb3dNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLnVuQmluZEVuZExvb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVSZW5kZXJGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyQ2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvL2hlcmUgbmVlZCByZW1vdmVSZXBlYXRJdGVtc1xuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5yZW1vdmVSZXBlYXRJdGVtcygpLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLnNldFNoYWRvd01hcERhdGEoY2hpbGQsIHJlbmRlckNhbWVyYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVuZGVyTGlzdCgpOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCByZW5kZXJSZW5kZXJlcihyZW5kZXJlcil7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVSZW5kZXIoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmVmb3JlUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJSZW5kZXIoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVDYW1lcmEoKTpHYW1lT2JqZWN0e1xuICAgICAgICAgICAgdmFyIG9ydGhvQ2FtZXJhQ29tcG9uZW50ID0gT3J0aG9ncmFwaGljQ2FtZXJhLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIGxpZ2h0OkRpcmVjdGlvbkxpZ2h0ID0gdGhpcy5fbGlnaHQsXG4gICAgICAgICAgICAgICAgY2FtZXJhID0gR2FtZU9iamVjdC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQubGVmdCA9IGxpZ2h0LnNoYWRvd0NhbWVyYUxlZnQ7XG4gICAgICAgICAgICBvcnRob0NhbWVyYUNvbXBvbmVudC5yaWdodCA9IGxpZ2h0LnNoYWRvd0NhbWVyYVJpZ2h0O1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQudG9wID0gbGlnaHQuc2hhZG93Q2FtZXJhVG9wO1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQuYm90dG9tID0gbGlnaHQuc2hhZG93Q2FtZXJhQm90dG9tO1xuICAgICAgICAgICAgb3J0aG9DYW1lcmFDb21wb25lbnQubmVhciA9IGxpZ2h0LnNoYWRvd0NhbWVyYU5lYXI7XG4gICAgICAgICAgICBvcnRob0NhbWVyYUNvbXBvbmVudC5mYXIgPSBsaWdodC5zaGFkb3dDYW1lcmFGYXI7XG5cbiAgICAgICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoQmFzaWNDYW1lcmFDb250cm9sbGVyLmNyZWF0ZShvcnRob0NhbWVyYUNvbXBvbmVudCkpO1xuXG4gICAgICAgICAgICAvL3RvZG8gb3B0aW1pemU6ZGlydHk/XG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShsaWdodC5wb3NpdGlvbik7XG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmb3JtLmxvb2tBdCgwLCAwLCAwKTtcblxuICAgICAgICAgICAgY2FtZXJhLmluaXQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhbmRsZVNoYWRvd1JlbmRlcmVyTGlzdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgocmVuZGVyVGFyZ2V0OkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdCh0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmFkZEFsbENoaWxkcmVuKHJlbmRlclRhcmdldCkpO1xuICAgICAgICAgICAgfSx0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdC5hZGRDaGlsZHJlbihjaGlsZHJlbik7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QucmVtb3ZlQ2hpbGQoKHJlbmRlclRhcmdldDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuaXNDb250YWluZXIocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6Q3ViZW1hcFJlbmRlclRhcmdldFRleHR1cmU7XG5cbiAgICAgICAgcHJpdmF0ZSBfZnJhbWVCdWZmZXJMaXN0OndkQ2IuQ29sbGVjdGlvbjxXZWJHTEZyYW1lYnVmZmVyPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8V2ViR0xGcmFtZWJ1ZmZlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfcmVuZGVyQnVmZmVyTGlzdDp3ZENiLkNvbGxlY3Rpb248V2ViR0xSZW5kZXJidWZmZXI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxXZWJHTFJlbmRlcmJ1ZmZlcj4oKTtcbiAgICAgICAgcHJpdmF0ZSBfbGFzdENhbWVyYUxpc3Q6IHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xhc3RQb3NpdGlvbjpWZWN0b3IzID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0UmVuZGVyTGlzdCgpOndkQ2IuSGFzaDxhbnk+O1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc2V0Q2FtZXJhKGN1YmVDYW1lcmFDb21wb25lbnQ6UGVyc3BlY3RpdmVDYW1lcmEpO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0UG9zaXRpb24oKTpWZWN0b3IzO1xuXG4gICAgICAgIC8vdG9kbyBjYW4gb25lIGZyYW1lQnVmZmVyIGJpbmQgc2l4IGZhY2VzIG9mIGN1YmVtYXA/XG4gICAgICAgIHByb3RlY3RlZCBpbml0RnJhbWVCdWZmZXIoKXtcbiAgICAgICAgICAgIHZhciBmcmFtZUJ1ZmZlck9wZXJhdG9yID0gdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNjsgaSsrKXtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWVCdWZmZXIgPSBmcmFtZUJ1ZmZlck9wZXJhdG9yLmNyZWF0ZUZyYW1lQnVmZmVyKCksXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckJ1ZmZlciA9IGZyYW1lQnVmZmVyT3BlcmF0b3IuY3JlYXRlUmVuZGVyQnVmZmVyKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZUJ1ZmZlckxpc3QuYWRkQ2hpbGQoZnJhbWVCdWZmZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckJ1ZmZlckxpc3QuYWRkQ2hpbGQocmVuZGVyQnVmZmVyKTtcblxuICAgICAgICAgICAgICAgIGZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBmcmFtZUJ1ZmZlck9wZXJhdG9yLmF0dGFjaFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSwgdGhpcy50ZXh0dXJlLmdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgZnJhbWVCdWZmZXJPcGVyYXRvci5hdHRhY2hSZW5kZXJCdWZmZXIoXCJERVBUSF9BVFRBQ0hNRU5UXCIsIHJlbmRlckJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgZnJhbWVCdWZmZXJPcGVyYXRvci5jaGVjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUJ1ZmZlck9wZXJhdG9yLnVuQmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlcjpSZW5kZXJlciwgY2FtZXJhOkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIHJlbmRlckNhbWVyYSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZmFjZVJlbmRlckxpc3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIG5ld0NhbWVyYUxpc3QgPSBudWxsLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIHJlbmRlckxpc3QgPSBudWxsO1xuXG4gICAgICAgICAgICByZW5kZXJMaXN0ID0gdGhpcy5nZXRSZW5kZXJMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZFRvVW5pdCgwKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fbmVlZENyZWF0ZUNhbWVyYShwb3NpdGlvbikpe1xuICAgICAgICAgICAgICAgIG5ld0NhbWVyYUxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCA2OyBpKyspe1xuICAgICAgICAgICAgICAgIGZhY2VSZW5kZXJMaXN0ID0gcmVuZGVyTGlzdC5nZXRDaGlsZCh0aGlzLl9jb252ZXJ0SW5kZXhUb0ZhY2VLZXkoaSkpO1xuICAgICAgICAgICAgICAgIC8vZmFjZVJlbmRlckxpc3QgY2FuIGJlIGFycmF5IG9yIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBpZih0aGlzLl9pc0VtcHR5KGZhY2VSZW5kZXJMaXN0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLl9uZWVkQ3JlYXRlQ2FtZXJhKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJDYW1lcmEgPSB0aGlzLmNyZWF0ZUNhbWVyYShpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FtZXJhTGlzdC5hZGRDaGlsZChyZW5kZXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJDYW1lcmEgPSB0aGlzLl9sYXN0Q2FtZXJhTGlzdC5nZXRDaGlsZChpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKHRoaXMuX2ZyYW1lQnVmZmVyTGlzdC5nZXRDaGlsZChpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlck9wZXJhdG9yLnNldFZpZXdwb3J0KCk7XG5cbiAgICAgICAgICAgICAgICBmYWNlUmVuZGVyTGlzdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbmRlcihyZW5kZXJlciwgcmVuZGVyQ2FtZXJhKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fbmVlZENyZWF0ZUNhbWVyYShwb3NpdGlvbikpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2xhc3RDYW1lcmFMaXN0KXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdENhbWVyYUxpc3QuZm9yRWFjaCgoY2FtZXJhOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdENhbWVyYUxpc3QgPSBuZXdDYW1lcmFMaXN0O1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IudW5CaW5kKCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IucmVzdG9yZVZpZXdwb3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGlzcG9zZUZyYW1lQnVmZmVyKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lQnVmZmVyTGlzdC5mb3JFYWNoKChidWZmZXI6V2ViR0xGcmFtZWJ1ZmZlcikgPT4gZ2wuZGVsZXRlRnJhbWVidWZmZXIoYnVmZmVyKSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCdWZmZXJMaXN0LmZvckVhY2goKGJ1ZmZlcjpXZWJHTFJlbmRlcmJ1ZmZlcikgPT4gZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGJ1ZmZlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUNhbWVyYShpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGN1YmVDYW1lcmFDb21wb25lbnQgPSBQZXJzcGVjdGl2ZUNhbWVyYS5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICBjYW1lcmEgPSBHYW1lT2JqZWN0LmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICAgICAgY3ViZUNhbWVyYUNvbXBvbmVudC5mb3Z5ID0gOTA7XG4gICAgICAgICAgICB0aGlzLnNldENhbWVyYShjdWJlQ2FtZXJhQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgY2FtZXJhLmFkZENvbXBvbmVudChCYXNpY0NhbWVyYUNvbnRyb2xsZXIuY3JlYXRlKGN1YmVDYW1lcmFDb21wb25lbnQpKTtcblxuICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUocG9zKTtcblxuICAgICAgICAgICAgdGhpcy5fbG9va0F0RmFjZShjYW1lcmEsIHBvcywgaW5kZXgpO1xuXG4gICAgICAgICAgICBjYW1lcmEuaW5pdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FtZXJhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNFbXB0eShmYWNlUmVuZGVyTGlzdCl7XG4gICAgICAgICAgICByZXR1cm4gIWZhY2VSZW5kZXJMaXN0IHx8IChmYWNlUmVuZGVyTGlzdC5sZW5ndGggJiYgZmFjZVJlbmRlckxpc3QubGVuZ3RoID09PSAwKSB8fCAoZmFjZVJlbmRlckxpc3QuZ2V0Q291bnQgJiYgZmFjZVJlbmRlckxpc3QuZ2V0Q291bnQoKSA9PT0gMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0SW5kZXhUb0ZhY2VLZXkoaW5kZXg6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBmYWNlID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChpbmRleCl7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBmYWNlID0gXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGZhY2UgPSBcIm54XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZmFjZSA9IFwicHlcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBmYWNlID0gXCJueVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGZhY2UgPSBcInB6XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgZmFjZSA9IFwibnpcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCA6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xvb2tBdEZhY2UoY2FtZXJhOkdhbWVPYmplY3QsIHBvc2l0aW9uOlZlY3RvcjMsIGluZGV4Om51bWJlcil7XG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4KXtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ubG9va0F0KHBvc2l0aW9uLnggKyAxLCBwb3NpdGlvbi55LCBwb3NpdGlvbi56LCAwLCAtMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueC0xLCBwb3NpdGlvbi55LCBwb3NpdGlvbi56LCAwLCAtMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDEsIHBvc2l0aW9uLnosIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ubG9va0F0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnktMSwgcG9zaXRpb24ueiwgMCwgMCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ubG9va0F0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnogKyAxLCAwLCAtMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24uei0xLCAwLCAtMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbmVlZENyZWF0ZUNhbWVyYShwb3NpdGlvbjpWZWN0b3IzKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2xhc3RQb3NpdGlvbiA9PT0gbnVsbCB8fCB0aGlzLl9sYXN0Q2FtZXJhTGlzdCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhcG9zaXRpb24uaXNFcXVhbCh0aGlzLl9sYXN0UG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBDdWJlbWFwU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGxpZ2h0OlBvaW50TGlnaHQpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhsaWdodCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IobGlnaHQ6UG9pbnRMaWdodCl7XG4gICAgICAgICAgICBzdXBlcihsaWdodC5zaGFkb3dNYXApO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodCA9IGxpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6Q3ViZW1hcFNoYWRvd01hcFRleHR1cmU7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGlnaHQ6UG9pbnRMaWdodCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NoYWRvd01hcFJlbmRlcmVyVXRpbHM6Q3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgPSBudWxsO1xuXG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzID0gQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMuY3JlYXRlKHRoaXMuX2xpZ2h0LCB0aGlzLnRleHR1cmUpO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlU2hhZG93UmVuZGVyZXJMaXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmluZEVuZExvb3AoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGRMaXN0OndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5jbGVhckN1YmVtYXBTaGFkb3dNYXBEYXRhKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fc2hhZG93TWFwUmVuZGVyZXJVdGlscy5jcmVhdGVTaGFkZXJXaXRoU2hhZGVyTGliKEJ1aWxkQ3ViZW1hcFNoYWRvd01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMudW5CaW5kRW5kTG9vcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkICBnZXRSZW5kZXJMaXN0KCk6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj57XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHQuc2hhZG93UmVuZGVyTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBiZWZvcmVSZW5kZXIoKXtcbiAgICAgICAgICAgIHZhciB1dGlsczpDdWJlbWFwU2hhZG93TWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJVdGlscyA9IHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHM7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbnZlcnRSZW5kZXJMaXN0VG9Db2xsZWN0aW9uKHRoaXMuZ2V0UmVuZGVyTGlzdCgpKS5yZW1vdmVSZXBlYXRJdGVtcygpLmZvckVhY2goKGNoaWxkOkdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB1dGlscy5zZXRTaGFkb3dNYXBEYXRhKGNoaWxkKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYmVmb3JlUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJSZW5kZXIoKXtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd01hcFJlbmRlcmVyVXRpbHMuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRDYW1lcmEoY2FtZXJhOlBlcnNwZWN0aXZlQ2FtZXJhKXtcbiAgICAgICAgICAgIHZhciBsaWdodDpQb2ludExpZ2h0ID0gdGhpcy5fbGlnaHQ7XG5cbiAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSBsaWdodC5zaGFkb3dNYXBXaWR0aCAvIGxpZ2h0LnNoYWRvd01hcEhlaWdodDtcbiAgICAgICAgICAgIGNhbWVyYS5uZWFyID0gbGlnaHQuc2hhZG93Q2FtZXJhTmVhcjtcbiAgICAgICAgICAgIGNhbWVyYS5mYXIgPSBsaWdodC5zaGFkb3dDYW1lcmFGYXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UG9zaXRpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodC5wb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRSZW5kZXJMaXN0VG9Db2xsZWN0aW9uKHJlbmRlckxpc3Q6d2RDYi5IYXNoPHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0Pj4pOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PntcbiAgICAgICAgICAgIHZhciByZXN1bHRMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PigpO1xuXG4gICAgICAgICAgICByZW5kZXJMaXN0LmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICAvL2lmKGxpc3QgaW5zdGFuY2VvZiB3ZENiLkNvbGxlY3Rpb24gfHwgSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShsaXN0KSl7XG4gICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5hZGRDaGlsZHJlbihsaXN0KTtcbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAvL2Vsc2V7XG4gICAgICAgICAgICAgICAgLy8gICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImFycmF5IG9yIGNvbGxlY3Rpb25cIikpO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaGFuZGxlU2hhZG93UmVuZGVyZXJMaXN0KCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5NYXAgPSB3ZENiLkhhc2guY3JlYXRlPEFycmF5PEdhbWVPYmplY3Q+PigpO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0LmZvckVhY2goKGNoaWxkTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4sIGRpcmVjdGlvbjpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5mb3JFYWNoKChyZW5kZXJUYXJnZXQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmFkZEFsbENoaWxkcmVuKHJlbmRlclRhcmdldCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICBjaGlsZHJlbk1hcC5hZGRDaGlsZChkaXJlY3Rpb24sIGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH0sdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGRMaXN0OndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiwgZGlyZWN0aW9uOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5hZGRDaGlsZHJlbihjaGlsZHJlbk1hcC5nZXRDaGlsZChkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9saWdodC5zaGFkb3dSZW5kZXJMaXN0LmZvckVhY2goKGNoaWxkTGlzdDp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4pID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZExpc3QucmVtb3ZlQ2hpbGQoKHJlbmRlclRhcmdldDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9zaGFkb3dNYXBSZW5kZXJlclV0aWxzLmlzQ29udGFpbmVyKHJlbmRlclRhcmdldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIER5bmFtaWNDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBDdWJlbWFwUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRleHR1cmU6RHluYW1pY0N1YmVtYXBUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGV4dHVyZSk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6RHluYW1pY0N1YmVtYXBUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCAgZ2V0UmVuZGVyTGlzdCgpOndkQ2IuSGFzaDxHYW1lT2JqZWN0PntcbiAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmUucmVuZGVyTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRDYW1lcmEoY2FtZXJhOlBlcnNwZWN0aXZlQ2FtZXJhKXtcbiAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSAxO1xuICAgICAgICAgICAgY2FtZXJhLm5lYXIgPSB0aGlzLnRleHR1cmUubmVhcjtcbiAgICAgICAgICAgIGNhbWVyYS5mYXIgPSB0aGlzLnRleHR1cmUuZmFyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHN7XG4gICAgICAgIGNvbnN0cnVjdG9yKGxpZ2h0OkxpZ2h0LCB0ZXh0dXJlOlRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5saWdodCA9IGxpZ2h0O1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0ZXh0dXJlOlRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBsaWdodDpMaWdodCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZW5kTG9vcFN1YnNjcmlwdGlvbjp3ZEZycC5JRGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NoYWRlcjpDb21tb25TaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLndpZHRoID0gdGhpcy5saWdodC5zaGFkb3dNYXBXaWR0aDtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5oZWlnaHQgPSB0aGlzLmxpZ2h0LnNoYWRvd01hcEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuaW5pdCgpO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZG93TWFwRGF0YSh0YXJnZXQ6R2FtZU9iamVjdCk7XG4gICAgICAgIHB1YmxpYyBzZXRTaGFkb3dNYXBEYXRhKHRhcmdldDpHYW1lT2JqZWN0LCBzaGFkb3dNYXBDYW1lcmE6R2FtZU9iamVjdCk7XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRvd01hcERhdGEoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0OkdhbWVPYmplY3QgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwgPSA8TGlnaHRNYXRlcmlhbD50YXJnZXQuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSkubWF0ZXJpYWwsXG4gICAgICAgICAgc2hhZG93TWFwQ2FtZXJhID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDIpe1xuICAgICAgICAgICAgICAgIHNoYWRvd01hcENhbWVyYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighKG1hdGVyaWFsIGluc3RhbmNlb2YgTGlnaHRNYXRlcmlhbCksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcIm1hdGVyaWFsXCIsIFwiTGlnaHRNYXRlcmlhbCB3aGVuIHNldCBzaGFkb3dNYXBcIikpO1xuXG4gICAgICAgICAgICB0aGlzLnNldE1hdGVyaWFsU2hhZG93TWFwRGF0YShtYXRlcmlhbCwgdGFyZ2V0LCBzaGFkb3dNYXBDYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJpbmRFbmRMb29wKGZ1bmM6RnVuY3Rpb24pe1xuICAgICAgICAgICAgdGhpcy5fZW5kTG9vcFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoPGFueT5FRW5naW5lRXZlbnQuRU5ETE9PUClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdW5CaW5kRW5kTG9vcCgpe1xuICAgICAgICAgICAgdGhpcy5fZW5kTG9vcFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9lbmRMb29wU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBiZWZvcmVSZW5kZXIoKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBzY2VuZS51c2VQcm9ncmFtKHRoaXMuX3NoYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWZ0ZXJSZW5kZXIoKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBzY2VuZS51blVzZVByb2dyYW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVTaGFkZXJXaXRoU2hhZGVyTGliKGxpYjpCdWlsZFNoYWRvd01hcFNoYWRlckxpYil7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBDb21tb25TaGFkZXIuY3JlYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuYWRkTGliKENvbW1vblNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuYWRkTGliKENvbW1vblZlcnRpY2VTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmFkZExpYihsaWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzQ29udGFpbmVyKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHJldHVybiAhZW50aXR5T2JqZWN0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkQWxsQ2hpbGRyZW4oZW50aXR5T2JqZWN0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW10sXG4gICAgICAgICAgICAgICAgYWRkID0gKGVudGl0eU9iamVjdDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYWRkKGVudGl0eU9iamVjdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXRNYXRlcmlhbFNoYWRvd01hcERhdGEobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgdGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcENhbWVyYTpHYW1lT2JqZWN0KTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGFkZFNoYWRvd01hcChtYXRlcmlhbDpMaWdodE1hdGVyaWFsLCBzaGFkb3dNYXA6SVNoYWRvd01hcFRleHR1cmUpO1xuXG4gICAgICAgIHByb3RlY3RlZCBzZXRTaGFkb3dNYXAodGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcDpJU2hhZG93TWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vY2hhbmdlXG4gICAgICAgICAgICBpZighdGFyZ2V0Lmhhc0NvbXBvbmVudChHZW9tZXRyeSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF0ZXJpYWwgPSA8TGlnaHRNYXRlcmlhbD50YXJnZXQuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSkubWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIGlmKG1hdGVyaWFsLmhhc1NoYWRvd01hcChzaGFkb3dNYXApKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighKG1hdGVyaWFsIGluc3RhbmNlb2YgTGlnaHRNYXRlcmlhbCksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcIm1hdGVyaWFsXCIsIFwiTGlnaHRNYXRlcmlhbCB3aGVuIHNldCBzaGFkb3dNYXBcIikpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNoYWRvd01hcChtYXRlcmlhbCwgc2hhZG93TWFwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgZXh0ZW5kcyBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpQb2ludExpZ2h0LCB0ZXh0dXJlOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMobGlnaHQsIHRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0ZXh0dXJlOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCBsaWdodDpQb2ludExpZ2h0O1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGRMaXN0OkFycmF5PEdhbWVPYmplY3Q+fHdkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PikgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5mb3JFYWNoKChjaGlsZDpHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0U2hhZG93TWFwKGNoaWxkLCBzZWxmLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHRhcmdldDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbDpMaWdodE1hdGVyaWFsID0gPExpZ2h0TWF0ZXJpYWw+dGFyZ2V0LmdldENvbXBvbmVudDxHZW9tZXRyeT4oR2VvbWV0cnkpLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICBhc3NlcnQobWF0ZXJpYWwgaW5zdGFuY2VvZiBMaWdodE1hdGVyaWFsLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJtYXRlcmlhbFwiLCBcIkxpZ2h0TWF0ZXJpYWwgd2hlbiBzZXQgc2hhZG93TWFwXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGNsZWFyQ3ViZW1hcFNoYWRvd01hcERhdGEodGFyZ2V0OkdhbWVPYmplY3Qpe1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwgPSA8TGlnaHRNYXRlcmlhbD50YXJnZXQuZ2V0Q29tcG9uZW50PEdlb21ldHJ5PihHZW9tZXRyeSkubWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLmNsZWFyQ3ViZW1hcFNoYWRvd01hcERhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRNYXRlcmlhbFNoYWRvd01hcERhdGEobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgdGFyZ2V0OkdhbWVPYmplY3QsIHNoYWRvd01hcENhbWVyYTpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIG1hdGVyaWFsLmFkZEN1YmVtYXBTaGFkb3dNYXBEYXRhKHtcbiAgICAgICAgICAgICAgICBzaGFkb3dCaWFzOnRoaXMubGlnaHQuc2hhZG93QmlhcyxcbiAgICAgICAgICAgICAgICBzaGFkb3dEYXJrbmVzczp0aGlzLmxpZ2h0LnNoYWRvd0RhcmtuZXNzLFxuICAgICAgICAgICAgICAgIGxpZ2h0UG9zOnRoaXMubGlnaHQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZmFyUGxhbmU6dGhpcy5saWdodC5zaGFkb3dDYW1lcmFGYXJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhID0ge1xuICAgICAgICAgICAgICAgIGxpZ2h0UG9zOiB0aGlzLmxpZ2h0LnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGZhclBsYW5lOiB0aGlzLmxpZ2h0LnNoYWRvd0NhbWVyYUZhclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZFNoYWRvd01hcChtYXRlcmlhbDpMaWdodE1hdGVyaWFsLCBzaGFkb3dNYXA6Q3ViZW1hcFNoYWRvd01hcFRleHR1cmUpe1xuICAgICAgICAgICAgbWF0ZXJpYWwuYWRkQ3ViZW1hcFNoYWRvd01hcChzaGFkb3dNYXApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFJlbmRlclRhcmdldFJlbmRlcmVyVXRpbHMgZXh0ZW5kcyBTaGFkb3dNYXBSZW5kZXJUYXJnZXRSZW5kZXJlclV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShsaWdodDpEaXJlY3Rpb25MaWdodCwgdGV4dHVyZTpUd29EU2hhZG93TWFwVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGxpZ2h0LCB0ZXh0dXJlKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdGV4dHVyZTpUd29EU2hhZG93TWFwVGV4dHVyZTtcblxuICAgICAgICBwcm90ZWN0ZWQgbGlnaHQ6RGlyZWN0aW9uTGlnaHQ7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyBpZiByZW5kZXJMaXN0IGlzIG51bGwsIGRyYXcgYWxsXG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd1JlbmRlckxpc3QuZm9yRWFjaCgoY2hpbGQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0U2hhZG93TWFwKGNoaWxkLCBzZWxmLnRleHR1cmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0YXJnZXQ6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCA9IDxMaWdodE1hdGVyaWFsPnRhcmdldC5nZXRDb21wb25lbnQ8R2VvbWV0cnk+KEdlb21ldHJ5KS5tYXRlcmlhbDtcblxuICAgICAgICAgICAgYXNzZXJ0KG1hdGVyaWFsIGluc3RhbmNlb2YgTGlnaHRNYXRlcmlhbCwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwibWF0ZXJpYWxcIiwgXCJMaWdodE1hdGVyaWFsIHdoZW4gc2V0IHNoYWRvd01hcFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBjbGVhclR3b0RTaGFkb3dNYXBEYXRhKHRhcmdldDpHYW1lT2JqZWN0KXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbDpMaWdodE1hdGVyaWFsID0gPExpZ2h0TWF0ZXJpYWw+dGFyZ2V0LmdldENvbXBvbmVudDxHZW9tZXRyeT4oR2VvbWV0cnkpLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5jbGVhclR3b0RTaGFkb3dNYXBEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0TWF0ZXJpYWxTaGFkb3dNYXBEYXRhKG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwsIHRhcmdldDpHYW1lT2JqZWN0LCBzaGFkb3dNYXBDYW1lcmE6R2FtZU9iamVjdCl7XG4gICAgICAgICAgICB2YXIgY2FtZXJhQ29tcG9uZW50OkNhbWVyYUNvbnRyb2xsZXIgPSBzaGFkb3dNYXBDYW1lcmEuZ2V0Q29tcG9uZW50PENhbWVyYUNvbnRyb2xsZXI+KENhbWVyYUNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5hZGRUd29EU2hhZG93TWFwRGF0YSh7XG4gICAgICAgICAgICAgICAgc2hhZG93QmlhczogdGhpcy5saWdodC5zaGFkb3dCaWFzLFxuICAgICAgICAgICAgICAgIHNoYWRvd0RhcmtuZXNzOiB0aGlzLmxpZ2h0LnNoYWRvd0RhcmtuZXNzLFxuICAgICAgICAgICAgICAgIHNoYWRvd1NpemU6IFt0aGlzLmxpZ2h0LnNoYWRvd01hcFdpZHRoLCB0aGlzLmxpZ2h0LnNoYWRvd01hcEhlaWdodF0sXG4gICAgICAgICAgICAgICAgbGlnaHRQb3M6IHRoaXMubGlnaHQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgLy90b2RvIG9wdGltaXplOiBjb21wdXRlIHZwTWF0cml4IG9uY2UgaGVyZSBvciB3aGVuIHJlbmRlciBzaGFkb3dSZW5kZXJMaXN0XG4gICAgICAgICAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4LmFwcGx5TWF0cml4KGNhbWVyYUNvbXBvbmVudC5wTWF0cml4LCB0cnVlKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLmJ1aWxkVHdvRFNoYWRvd01hcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6IGNhbWVyYUNvbXBvbmVudC53b3JsZFRvQ2FtZXJhTWF0cml4LmFwcGx5TWF0cml4KGNhbWVyYUNvbXBvbmVudC5wTWF0cml4LCB0cnVlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRTaGFkb3dNYXAobWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCwgc2hhZG93TWFwOlR3b0RTaGFkb3dNYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIG1hdGVyaWFsLmFkZFR3b0RTaGFkb3dNYXAoc2hhZG93TWFwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOlByb2NlZHVyYWxUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCBmcmFtZUJ1ZmZlcjpXZWJHTEZyYW1lYnVmZmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9pbmRleEJ1ZmZlcjpFbGVtZW50QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdmVydGV4QnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc2hhZGVyOlByb2NlZHVyYWxTaGFkZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pc1JlbmRlcmVkOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgbmVlZFJlbmRlcigpOmJvb2xlYW57XG4gICAgICAgICAgICBpZih0aGlzLl9pc1JlbmRlcmVkKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZlcnRleEJ1ZmZlciA9IEFycmF5QnVmZmVyLmNyZWF0ZShuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgICAgIC0xLCAxLFxuICAgICAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgICAgICAxLCAtMVxuICAgICAgICAgICAgXSksIDIsIEVCdWZmZXJUeXBlLkZMT0FUKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gRWxlbWVudEJ1ZmZlci5jcmVhdGUobmV3IFVpbnQxNkFycmF5KFtcbiAgICAgICAgICAgICAgICAwLCAxLCAyLFxuICAgICAgICAgICAgICAgIDAsIDIsIDNcbiAgICAgICAgICAgIF0pLCBFQnVmZmVyVHlwZS5VTlNJR05FRF9TSE9SVCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fdmVydGV4QnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlU2hhZGVyKCk6UHJvY2VkdXJhbFNoYWRlcjtcblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdEZyYW1lQnVmZmVyKCl7XG4gICAgICAgICAgICB2YXIgZnJhbWVCdWZmZXIgPSB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBmcmFtZUJ1ZmZlci5jcmVhdGVGcmFtZUJ1ZmZlcigpO1xuXG4gICAgICAgICAgICBmcmFtZUJ1ZmZlci5iaW5kRnJhbWVCdWZmZXIodGhpcy5mcmFtZUJ1ZmZlcik7XG4gICAgICAgICAgICBmcmFtZUJ1ZmZlci5hdHRhY2hUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZS5nbFRleHR1cmUpO1xuICAgICAgICAgICAgZnJhbWVCdWZmZXIuY2hlY2soKTtcbiAgICAgICAgICAgIGZyYW1lQnVmZmVyLnVuQmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlbmRlckZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJlcjpSZW5kZXJlcil7XG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3IuYmluZEZyYW1lQnVmZmVyKHRoaXMuZnJhbWVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmRUb1VuaXQoMCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lQnVmZmVyT3BlcmF0b3Iuc2V0Vmlld3BvcnQoKTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYWRkQ29tbWFuZCh0aGlzLl9jcmVhdGVSZW5kZXJDb21tYW5kKCkpO1xuXG4gICAgICAgICAgICByZW5kZXJlci5jbGVhcigpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvci51bkJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVCdWZmZXJPcGVyYXRvci5yZXN0b3JlVmlld3BvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkaXNwb3NlRnJhbWVCdWZmZXIoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZUJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVSZW5kZXJDb21tYW5kKCl7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IFByb2NlZHVyYWxDb21tYW5kLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBjb21tYW5kLnZlcnRleEJ1ZmZlciA9IHRoaXMuX3ZlcnRleEJ1ZmZlcjtcbiAgICAgICAgICAgIGNvbW1hbmQuaW5kZXhCdWZmZXIgPSB0aGlzLl9pbmRleEJ1ZmZlcjtcbiAgICAgICAgICAgIGNvbW1hbmQuc2hhZGVyID0gdGhpcy5fc2hhZGVyO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHNreWJveENvbW1hbmQ6UXVhZENvbW1hbmQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBhZGRDb21tYW5kKGNvbW1hbmQ6UmVuZGVyQ29tbWFuZCk7XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBoYXNDb21tYW5kKCk6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IHJlbmRlcigpO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY2xlYXIoKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFdlYkdMUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTpXZWJHTFJlbmRlcmVyIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29tbWFuZFF1ZXVlOndkQ2IuQ29sbGVjdGlvbjxSZW5kZXJDb21tYW5kPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8UmVuZGVyQ29tbWFuZD4oKTtcbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJPcHRpb25zOmFueSA9IHtcbiAgICAgICAgICAgIGNvbG9yOkNvbG9yLmNyZWF0ZShcIiMwMDAwMDBcIilcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgYWRkQ29tbWFuZChjb21tYW5kOlJlbmRlckNvbW1hbmQpe1xuICAgICAgICAgICAgaWYodGhpcy5fY29tbWFuZFF1ZXVlLmhhc0NoaWxkKGNvbW1hbmQpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbW1hbmRRdWV1ZS5hZGRDaGlsZChjb21tYW5kKTtcbiAgICAgICAgICAgIGNvbW1hbmQuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0NvbW1hbmQoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21tYW5kUXVldWUuZ2V0Q291bnQoKSA+IDAgfHwgISF0aGlzLnNreWJveENvbW1hbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2xlYXIoKXtcbiAgICAgICAgICAgIERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jbGVhcih0aGlzLl9jbGVhck9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbmRlcigpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCksXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRDb21tYW5kcyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kUXVldWUuZm9yRWFjaCgoY29tbWFuZDpSZW5kZXJDb21tYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoY29tbWFuZC5ibGVuZCl7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50Q29tbWFuZHMucHVzaChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKHRyYW5zcGFyZW50Q29tbWFuZHMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyU29ydGVkVHJhbnNwYXJlbnRDb21tYW5kcyh0cmFuc3BhcmVudENvbW1hbmRzKTtcbiAgICAgICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLmRlcHRoV3JpdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLnNreWJveENvbW1hbmQpe1xuICAgICAgICAgICAgICAgIGRldmljZU1hbmFnZXIuZGVwdGhGdW5jID0gRURlcHRoRnVuY3Rpb24uTEVRVUFMO1xuICAgICAgICAgICAgICAgIHRoaXMuc2t5Ym94Q29tbWFuZC5leGVjdXRlKCk7XG4gICAgICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5kZXB0aEZ1bmMgPSBFRGVwdGhGdW5jdGlvbi5MRVNTO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbW1hbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgZGV2aWNlTWFuYWdlciA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5kZXB0aFRlc3QgPSB0cnVlO1xuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zZXRDb2xvcldyaXRlKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zaWRlID0gRVNpZGUuRlJPTlQ7XG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLmRlcHRoV3JpdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldENsZWFyQ29sb3IoY29sb3I6Q29sb3Ipe1xuICAgICAgICAgICAgdGhpcy5fc2V0Q2xlYXJPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBjb2xvcjpjb2xvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih0cmFuc3BhcmVudENvbW1hbmRzOkFycmF5PFJlbmRlckNvbW1hbmQ+KXtcbiAgICAgICAgICAgIGFzc2VydCghIURpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYSwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoXCJjdXJyZW50IGNhbWVyYVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3JlbmRlclNvcnRlZFRyYW5zcGFyZW50Q29tbWFuZHModHJhbnNwYXJlbnRDb21tYW5kczpBcnJheTxSZW5kZXJDb21tYW5kPikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNhbWVyYVBvc2l0aW9uWiA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuY3VycmVudENhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24uejtcblxuICAgICAgICAgICAgdHJhbnNwYXJlbnRDb21tYW5kc1xuICAgICAgICAgICAgICAgIC5zb3J0KChhOlJlbmRlckNvbW1hbmQsIGI6UmVuZGVyQ29tbWFuZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0T2JqZWN0VG9DYW1lcmFaRGlzdGFuY2UoY2FtZXJhUG9zaXRpb25aLCBiKSAtIHNlbGYuX2dldE9iamVjdFRvQ2FtZXJhWkRpc3RhbmNlKGNhbWVyYVBvc2l0aW9uWiwgYSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoY29tbWFuZDpSZW5kZXJDb21tYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0T2JqZWN0VG9DYW1lcmFaRGlzdGFuY2UoY2FtZXJhUG9zaXRpb25aOm51bWJlciwgY21kOlJlbmRlckNvbW1hbmQpe1xuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYVBvc2l0aW9uWiAtIGNtZC56O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDb21tYW5kKCl7XG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kUXVldWUucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMuc2t5Ym94Q29tbWFuZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRDbGVhck9wdGlvbnMoY2xlYXJPcHRpb25zOmFueSl7XG4gICAgICAgICAgICB3ZENiLkV4dGVuZFV0aWxzLmV4dGVuZCh0aGlzLl9jbGVhck9wdGlvbnMsIGNsZWFyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRURyYXdNb2Rle1xuICAgICAgICBQT0lOVFMgPSA8YW55PlwiUE9JTlRTXCIsXG4gICAgICAgIExJTkVTID0gPGFueT5cIkxJTkVTXCIsXG4gICAgICAgIExJTkVfTE9PUCA9IDxhbnk+XCJMSU5FX0xPT1BcIixcbiAgICAgICAgTElORV9TVFJJUCA9IDxhbnk+XCJMSU5FX1NUUklQXCIsXG4gICAgICAgIFRSSUFOR0xFUyA9IDxhbnk+XCJUUklBTkdMRVNcIixcbiAgICAgICAgVFJJQU5HTEVfU1RSSVAgPSA8YW55PlwiVFJJQU5HTEVfU1RSSVBcIixcbiAgICAgICAgVFJBTkdMRV9GQU4gPSA8YW55PlwiVFJJQU5HTEVfRkFOXCJcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGVudW0gRUJ1ZmZlclR5cGV7XG4gICAgICAgIEJZVEUgPSA8YW55PlwiQllURVwiLFxuICAgICAgICBVTlNJR05FRF9CWVRFID0gPGFueT5cIlVOU0lHTkVEX0JZVEVcIixcbiAgICAgICAgU0hPUlQgPSA8YW55PlwiU0hPUlRcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlQgPSA8YW55PlwiVU5TSUdORURfU0hPUlRcIixcbiAgICAgICAgSU5UID0gPGFueT5cIklOVFwiLFxuICAgICAgICBVTlNJR05FRF9JTlQgPSA8YW55PlwiVU5TSUdORURfSU5UXCIsXG4gICAgICAgIEZMT0FUID0gPGFueT5cIkZMT0FUXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBlbnVtIEVCdWZmZXJEYXRhVHlwZXtcbiAgICAgICAgVkVSVElDRSA9IDxhbnk+XCJWRVJUSUNFXCIsXG4gICAgICAgIElORElDRSA9IDxhbnk+XCJJTkRJQ0VcIixcbiAgICAgICAgTk9STUFMID0gPGFueT5cIk5PUk1BTFwiLFxuICAgICAgICBURVhDT09SRCA9IDxhbnk+XCJURVhDT09SRFwiLFxuICAgICAgICBUQU5HRU5UID0gPGFueT5cIlRBTkdFTlRcIixcbiAgICAgICAgQ09MT1IgPSA8YW55PlwiQ09MT1JcIlxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgZW51bSBFQnVmZmVyVXNhZ2V7XG4gICAgICAgIFNUUkVBTV9EUkFXID0gPGFueT5cIlNUUkVBTV9EUkFXXCIsXG4gICAgICAgIFNUQVRJQ19EUkFXID0gPGFueT5cIlNUQVRJQ19EUkFXXCIsXG4gICAgICAgIERZTkFNSUNfRFJBVyA9IDxhbnk+XCJEWU5BTUlDX0RSQVdcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQnVmZmVye1xuICAgICAgICBwdWJsaWMgYnVmZmVyOmFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb3VudDpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBFbGVtZW50QnVmZmVyIGV4dGVuZHMgQnVmZmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOkVsZW1lbnRCdWZmZXI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGRhdGEsIHR5cGU6RUJ1ZmZlclR5cGUsIHVzYWdlPzpFQnVmZmVyVXNhZ2UpOkVsZW1lbnRCdWZmZXI7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoLi4uYXJncyk6RWxlbWVudEJ1ZmZlciB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlLmFwcGx5KG9iaiwgYXJncyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF90eXBlU2l6ZTpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgdHlwZVNpemUoKSB7IHJldHVybiB0aGlzLl90eXBlU2l6ZTsgfVxuXG4gICAgICAgIHB1YmxpYyBkYXRhOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHlwZTpFQnVmZmVyVHlwZSA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGRhdGE6YW55LCB0eXBlOkVCdWZmZXJUeXBlLCB1c2FnZT86RUJ1ZmZlclVzYWdlKTtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZygnRmFpbGVkIHRvIGNyZWF0ZSB0aGUgdGhpcy5idWZmZXIgb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBkYXRhOmFueSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6RUJ1ZmZlclR5cGUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTpFQnVmZmVyVXNhZ2UgPSBhcmdzWzJdIHx8IEVCdWZmZXJVc2FnZS5TVEFUSUNfRFJBVztcblxuICAgICAgICAgICAgICAgIGlmKCFkYXRhIHx8ICF0aGlzLl9jaGVja0RhdGFUeXBlKGRhdGEsIHR5cGUpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGRhdGEsIGdsW3VzYWdlXSk7XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGdsW3R5cGVdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGVTaXplID0gdGhpcy5fZ2V0SW5mbyh0eXBlKS5zaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZGF0YTphbnksIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlciwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY3JlYXRlIGdsIGJ1ZmZlclwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyByZXNldERhdGEoZGF0YTphbnksIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuRFlOQU1JQ19EUkFXKTtcblxuICAgICAgICAgICAgdGhpcy50eXBlID0gZ2xbdHlwZV07XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl90eXBlU2l6ZSA9IHRoaXMuX2dldEluZm8odHlwZSkuc2l6ZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jaGVja0RhdGFUeXBlKGRhdGEsIHR5cGU6RUJ1ZmZlclR5cGUpe1xuICAgICAgICAgICAgdmFyIGluZm8gPSB0aGlzLl9nZXRJbmZvKHR5cGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIGluZm8udHlwZUNsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0SW5mbyh0eXBlOkVCdWZmZXJUeXBlKTp7dHlwZUNsYXNzOmFueSxzaXplOm51bWJlcn17XG4gICAgICAgICAgICB2YXIgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5VTlNJR05FRF9CWVRFOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50OEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJUeXBlLlNIT1JUOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBJbnQxNkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCdWZmZXJUeXBlLlVOU0lHTkVEX1NIT1JUOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50MTZBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5JTlQ6XG4gICAgICAgICAgICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlQ2xhc3M6IEludDMyQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJ1ZmZlclR5cGUuVU5TSUdORURfSU5UOlxuICAgICAgICAgICAgICAgICAgICBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNsYXNzOiBVaW50MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQnVmZmVyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDbGFzczogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogNFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKFwiRUJ1ZmZlclR5cGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEFycmF5QnVmZmVyIGV4dGVuZHMgQnVmZmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOkFycmF5QnVmZmVyO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkYXRhOmFueSwgc2l6ZTpudW1iZXIsIHR5cGU6RUJ1ZmZlclR5cGUsIHVzYWdlPzpFQnVmZmVyVXNhZ2UpOkFycmF5QnVmZmVyO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpOkFycmF5QnVmZmVyIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUuYXBwbHkob2JqLCBhcmdzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzaXplOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBkYXRhOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHlwZTpFQnVmZmVyVHlwZSA9IG51bGw7XG5cblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoKTtcbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGRhdGE6YW55LCBzaXplOm51bWJlciwgdHlwZTpFQnVmZmVyVHlwZSwgdXNhZ2U/OkVCdWZmZXJVc2FnZSk7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIExvZy5sb2coJ0ZhaWxlZCB0byBjcmVhdGUgdGhlIHRoaXMuYnVmZmVyIG9iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTphbnkgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBzaXplOm51bWJlciA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6RUJ1ZmZlclR5cGUgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTpFQnVmZmVyVXNhZ2UgPSBhcmdzWzNdIHx8IEVCdWZmZXJVc2FnZS5TVEFUSUNfRFJBVztcblxuICAgICAgICAgICAgICAgIGlmKCFkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2xbdXNhZ2VdKTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gZ2xbdHlwZV07XG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IGRhdGEubGVuZ3RoIC8gc2l6ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihkYXRhOmFueSwgc2l6ZTpudW1iZXIgPSB0aGlzLnNpemUsIHR5cGU6RUJ1ZmZlclR5cGUgPSB0aGlzLl90eXBlKXtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmJ1ZmZlciwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY3JlYXRlIGdsIGJ1ZmZlclwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyByZXNldERhdGEoZGF0YTphbnksIHNpemU6bnVtYmVyID0gdGhpcy5zaXplLCB0eXBlOkVCdWZmZXJUeXBlID0gdGhpcy5fdHlwZSl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuRFlOQU1JQ19EUkFXKTtcblxuICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IGdsW3R5cGVdO1xuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5sZW5ndGggLyBzaXplO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBjb25zdCBfdGFibGUgPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKTtcblxuICAgIC8vdG9kbyByZW1vdmUgPGFueT5cbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuVkVSVElDRSwgXCJ2ZXJ0aWNlc1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuSU5ESUNFLCBcImluZGljZXNcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCwgXCJub3JtYWxzXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCwgXCJ0ZXhDb29yZHNcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKDxhbnk+RUJ1ZmZlckRhdGFUeXBlLkNPTE9SLCBcImNvbG9yc1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FQnVmZmVyRGF0YVR5cGUuVEFOR0VOVCwgXCJ0YW5nZW50c1wiKTtcblxuICAgIGV4cG9ydCBjbGFzcyBCdWZmZXJEYXRhVGFibGV7XG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24ocmVzdWx0LCB0eXBlOkVCdWZmZXJEYXRhVHlwZSl7XG4gICAgICAgICAgICBMb2cuZXJyb3IocmVzdWx0ID09PSB2b2lkIDAsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKHR5cGUsIFwiaW4gQnVmZmVyRGF0YVRhYmxlXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRHZW9tZXRyeURhdGFOYW1lKHR5cGU6RUJ1ZmZlckRhdGFUeXBlKXtcbiAgICAgICAgICAgIC8vdG9kbyByZW1vdmUgPGFueT5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGFibGUuZ2V0Q2hpbGQoPGFueT50eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBQcm9ncmFte1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOlByb2dyYW0ge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wcm9ncmFtOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NoYWRlcjpTaGFkZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9nZXRBdHRyaWJMb2NhdGlvbkNhY2hlOndkQ2IuSGFzaDxudW1iZXI+ID0gd2RDYi5IYXNoLmNyZWF0ZTxudW1iZXI+KCk7XG4gICAgICAgIHByaXZhdGUgX2dldFVuaWZvcm1Mb2NhdGlvbkNhY2hlOndkQ2IuSGFzaDxudW1iZXI+ID0gd2RDYi5IYXNoLmNyZWF0ZTxudW1iZXI+KCk7XG5cbiAgICAgICAgcHVibGljIHVzZSgpe1xuICAgICAgICAgICAgRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLnVzZVByb2dyYW0odGhpcy5fcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiFcbiAgICAgICAgIG5vdCB1c2UgQGNhY2hlLFxuICAgICAgICAgaGVyZSBqdWRnZSByZXR1cm4gcG9zIG9mIFwiZ2V0Q2hpbGRcIiwgc28gaXQgZG9uJ3QgbmVlZCB0byBpbnZva2UgXCJoYXNDaGlsZFwiXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0VW5pZm9ybUxvY2F0aW9uKG5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBwb3MgPSBudWxsO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fc2hhZGVyLmRpcnR5KXtcbiAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLl9nZXRVbmlmb3JtTG9jYXRpb25DYWNoZS5nZXRDaGlsZChuYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmKHBvcyAhPT0gdm9pZCAwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvcyA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fcHJvZ3JhbSwgbmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2dldFVuaWZvcm1Mb2NhdGlvbkNhY2hlLmFkZENoaWxkKG5hbWUsIHBvcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VuZFVuaWZvcm1EYXRhKG5hbWU6c3RyaW5nLCB0eXBlOkVWYXJpYWJsZVR5cGUsIGRhdGE6YW55KTtcbiAgICAgICAgcHVibGljIHNlbmRVbmlmb3JtRGF0YShwb3M6V2ViR0xVbmlmb3JtTG9jYXRpb24sIHR5cGU6RVZhcmlhYmxlVHlwZSwgZGF0YTphbnkpO1xuXG4gICAgICAgIC8vdG9kbyBlbnN1cmU6IG9ubHkgc2VuZCBkYXRhIG9mIHRoZSBzYW1lIG5hbWUgb25lIHRpbWUgaW4gb25lIGZyYW1lXG4gICAgICAgIHB1YmxpYyBzZW5kVW5pZm9ybURhdGEoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgcG9zID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGRhdGE6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgdHlwZSA9IGFyZ3NbMV07XG4gICAgICAgICAgICBkYXRhID0gYXJnc1syXTtcblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWU6c3RyaW5nID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHBvcyA9IHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBwb3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzVW5pZm9ybURhdGFOb3RFeGlzdEJ5TG9jYXRpb24ocG9zKSB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5GTE9BVF8xOlxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYocG9zLCBOdW1iZXIoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMjpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NvbnZlcnRUb0FycmF5MihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHBvcywgZGF0YVswXSwgZGF0YVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5GTE9BVF8zOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY29udmVydFRvQXJyYXkzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YocG9zLCBkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUXzQ6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jb252ZXJ0VG9BcnJheTQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zihwb3MsIGRhdGFbMF0sIGRhdGFbMV0sIGRhdGFbMl0sIGRhdGFbM10pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUMzpcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdihwb3MsZmFsc2UsIGRhdGEudmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUX01BVDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocG9zLGZhbHNlLCBkYXRhLnZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5OVU1CRVJfMTpcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFOlxuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJEOlxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkocG9zLCBOdW1iZXIoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuU0FNUExFUl9BUlJBWTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFNhbXBsZUFycmF5KGdsLCBwb3MsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcIkVWYXJpYWJsZVR5cGU6XCIsIHR5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL3RvZG8gZW5zdXJlOiBvbmx5IHNlbmQgZGF0YSBvZiB0aGUgc2FtZSBuYW1lIG9uZSB0aW1lIGluIG9uZSBmcmFtZVxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihuYW1lOnN0cmluZywgdHlwZTpFVmFyaWFibGVUeXBlLCBkYXRhOmFueSl7XG4gICAgICAgICAgICBpZihkYXRhKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJBcnJheUJ1ZmZlclwiKSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZSA9PT0gRVZhcmlhYmxlVHlwZS5CVUZGRVIsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidHlwZVwiLCBgYmUgRVZhcmlhYmxlVHlwZS5CVUZGRVIsIGJ1dCBhY3R1YWwgaXMgJHt0eXBlfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHNlbmRBdHRyaWJ1dGVEYXRhKG5hbWU6c3RyaW5nLCB0eXBlOkVWYXJpYWJsZVR5cGUsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICBwb3M6bnVtYmVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICBidWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBwb3MgPSB0aGlzLl9nZXRBdHRyaWJMb2NhdGlvbihnbCwgbmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChwb3MgPT09IC0xIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1ZmZlciA9IGRhdGE7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkJVRkZFUjpcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvcywgYnVmZmVyLnNpemUsIGJ1ZmZlci50eXBlLCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19JTlZBTElEKFwiRVZhcmlhYmxlVHlwZTpcIiwgdHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZW5kU3RydWN0dXJlRGF0YShuYW1lOnN0cmluZywgdHlwZTpFVmFyaWFibGVUeXBlLCBkYXRhOmFueSl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShuYW1lLCB0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0V2l0aFNoYWRlcihzaGFkZXI6U2hhZGVyKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICB2cyA9IG51bGwsXG4gICAgICAgICAgICAgICAgZnMgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9ncmFtID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgICAgICAgICAgdnMgPSBzaGFkZXIuY3JlYXRlVnNTaGFkZXIoKTtcbiAgICAgICAgICAgIGZzID0gc2hhZGVyLmNyZWF0ZUZzU2hhZGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3Byb2dyYW0sIHZzKTtcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLl9wcm9ncmFtLCBmcyk7XG5cblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgaWYgd2FybjpcIkF0dHJpYnV0ZSAwIGlzIGRpc2FibGVkLiBUaGlzIGhhcyBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBwZW5hbHR5XCIgd2hlbiBydW4sXG4gICAgICAgICAgICAgdGhlbiBkbyB0aGlzIGJlZm9yZSBsaW5rUHJvZ3JhbTpcbiAgICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24oIHRoaXMuX3Byb2dyYW0sIDAsIFwiYV9wb3NpdGlvblwiKTtcblxuXG5cbiAgICAgICAgICAgICBjYW4gcmVmZXJlbmNlIGhlcmU6XG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDMwNTIzMS93ZWJnbC13YXJuaW5nLWF0dHJpYnV0ZS0wLWlzLWRpc2FibGVkLXRoaXMtaGFzLXNpZ25pZmljYW50LXBlcmZvcm1hbmNlLXBlbmFsdD9hbnN3ZXJ0YWI9dm90ZXMjdGFiLXRvcFxuXG5cbiAgICAgICAgICAgICBPcGVuR0wgcmVxdWlyZXMgYXR0cmlidXRlIHplcm8gdG8gYmUgZW5hYmxlZCBvdGhlcndpc2UgaXQgd2lsbCBub3QgcmVuZGVyIGFueXRoaW5nLlxuICAgICAgICAgICAgIE9uIHRoZSBvdGhlciBoYW5kIE9wZW5HTCBFUyAyLjAgb24gd2hpY2ggV2ViR0wgaXMgYmFzZWQgZG9lcyBub3QuIFNvLCB0byBlbXVsYXRlIE9wZW5HTCBFUyAyLjAgb24gdG9wIG9mIE9wZW5HTCBpZiB5b3UgZG9uJ3QgZW5hYmxlIGF0dHJpYnV0ZSAwIHRoZSBicm93c2VyIGhhcyB0byBtYWtlIGEgYnVmZmVyIGZvciB5b3UgbGFyZ2UgZW5vdWdoIGZvciB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzIHlvdSd2ZSByZXF1ZXN0ZWQgdG8gYmUgZHJhd24sIGZpbGwgaXQgd2l0aCB0aGUgY29ycmVjdCB2YWx1ZSAoc2VlIGdsLnZlcnRleEF0dHJpYiksXG4gICAgICAgICAgICAgYXR0YWNoIGl0IHRvIGF0dHJpYnV0ZSB6ZXJvLCBhbmQgZW5hYmxlIGl0LlxuXG4gICAgICAgICAgICAgSXQgZG9lcyBhbGwgdGhpcyBiZWhpbmQgdGhlIHNjZW5lcyBidXQgaXQncyBpbXBvcnRhbnQgZm9yIHlvdSB0byBrbm93IHRoYXQgaXQgdGFrZXMgdGltZSB0byBjcmVhdGUgYW5kIGZpbGwgdGhhdCBidWZmZXIuIFRoZXJlIGFyZSBvcHRpbWl6YXRpb25zIHRoZSBicm93c2VyIGNhbiBtYWtlIGJ1dCBpbiB0aGUgZ2VuZXJhbCBjYXNlLFxuICAgICAgICAgICAgIGlmIHlvdSB3ZXJlIHRvIGFzc3VtZSB5b3Ugd2VyZSBydW5uaW5nIG9uIE9wZW5HTCBFUyAyLjAgYW5kIHVzZWQgYXR0cmlidXRlIHplcm8gYXMgYSBjb25zdGFudCBsaWtlIHlvdSBhcmUgc3VwcG9zZWQgdG8gYmUgYWJsZSB0byBkbywgd2l0aG91dCB0aGUgd2FybmluZyB5b3UnZCBoYXZlIG5vIGlkZWEgb2YgdGhlIHdvcmsgdGhlIGJyb3dzZXIgaXMgZG9pbmcgb24geW91ciBiZWhhbGYgdG8gZW11bGF0ZSB0aGF0IGZlYXR1cmUgb2YgT3BlbkdMIEVTIDIuMCB0aGF0IGlzIGRpZmZlcmVudCBmcm9tIE9wZW5HTC5cblxuICAgICAgICAgICAgIHJlcXVpcmUgeW91ciBwYXJ0aWN1bGFyIGNhc2UgdGhlIHdhcm5pbmcgZG9lc24ndCBoYXZlIG11Y2ggbWVhbmluZy4gSXQgbG9va3MgbGlrZSB5b3UgYXJlIG9ubHkgZHJhd2luZyBhIHNpbmdsZSBwb2ludC4gQnV0IGl0IHdvdWxkIG5vdCBiZSBlYXN5IGZvciB0aGUgYnJvd3NlciB0byBmaWd1cmUgdGhhdCBvdXQgc28gaXQganVzdCB3YXJucyB5b3UgYW55dGltZSB5b3UgZHJhdyBhbmQgYXR0cmlidXRlIDAgaXMgbm90IGVuYWJsZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIEFsd2F5cyBoYXZlIHZlcnRleCBhdHRyaWIgMCBhcnJheSBlbmFibGVkLiBJZiB5b3UgZHJhdyB3aXRoIHZlcnRleCBhdHRyaWIgMCBhcnJheSBkaXNhYmxlZCwgeW91IHdpbGwgZm9yY2UgdGhlIGJyb3dzZXIgdG8gZG8gY29tcGxpY2F0ZWQgZW11bGF0aW9uIHdoZW4gcnVubmluZyBvbiBkZXNrdG9wIE9wZW5HTCAoZS5nLiBvbiBNYWMgT1NYKS4gVGhpcyBpcyBiZWNhdXNlIGluIGRlc2t0b3AgT3BlbkdMLCBub3RoaW5nIGdldHMgZHJhd24gaWYgdmVydGV4IGF0dHJpYiAwIGlzIG5vdCBhcnJheS1lbmFibGVkLiBZb3UgY2FuIHVzZSBiaW5kQXR0cmliTG9jYXRpb24oKSB0byBmb3JjZSBhIHZlcnRleCBhdHRyaWJ1dGUgdG8gdXNlIGxvY2F0aW9uIDAsIGFuZCB1c2UgZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoKSB0byBtYWtlIGl0IGFycmF5LWVuYWJsZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbiggdGhpcy5fcHJvZ3JhbSwgMCwgXCJhX3Bvc2l0aW9uXCIpO1xuXG5cbiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9wcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykgPT09IGZhbHNlLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLl9wcm9ncmFtKSk7XG5cblxuXG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIHNob3VsZCBkZXRhY2ggYW5kIGRlbGV0ZSBzaGFkZXJzIGFmdGVyIGxpbmtpbmcgdGhlIHByb2dyYW1cblxuICAgICAgICAgICAgIGV4cGxhaW46XG4gICAgICAgICAgICAgVGhlIHNoYWRlciBvYmplY3QsIGR1ZSB0byBiZWluZyBhdHRhY2hlZCB0byB0aGUgcHJvZ3JhbSBvYmplY3QsIHdpbGwgY29udGludWUgdG8gZXhpc3QgZXZlbiBpZiB5b3UgZGVsZXRlIHRoZSBzaGFkZXIgb2JqZWN0LiBJdCB3aWxsIG9ubHkgYmUgZGVsZXRlZCBieSB0aGUgc3lzdGVtIHdoZW4gaXQgaXMgbm8gbG9uZ2VyIGF0dGFjaGVkIHRvIGFueSBwcm9ncmFtIG9iamVjdCAoYW5kIHdoZW4gdGhlIHVzZXIgaGFzIGFza2VkIHRvIGRlbGV0ZSBpdCwgb2YgY291cnNlKS5cblxuICAgICAgICAgICAgIFwiRGVsZXRpbmdcIiB0aGUgc2hhZGVyLCBhcyB3aXRoIGFsbCBPcGVuR0wgb2JqZWN0cywgbWVyZWx5IHNldHMgYSBmbGFnIHRoYXQgc2F5cyB5b3UgZG9uJ3QgbmVlZCBpdCBhbnkgbW9yZS4gT3BlbkdMIHdpbGwga2VlcCBpdCBhcm91bmQgZm9yIGFzIGxvbmcgYXMgaXQgbmVlZHMgaXQgaXRzZWxmLCBhbmQgd2lsbCBkbyB0aGUgYWN0dWFsIGRlbGV0ZSBhbnkgdGltZSBsYXRlciAobW9zdCBsaWtlbHksIGJ1dCBub3QgbmVjZXNzYXJpbHksIGFmdGVyIHRoZSBwcm9ncmFtIGlzIGRlbGV0ZWQpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIodnMpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3JhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1VuaWZvcm1EYXRhTm90RXhpc3RCeUxvY2F0aW9uKHBvczphbnkpe1xuICAgICAgICAgICAgcmV0dXJuIHBvcyA9PT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb0FycmF5MihkYXRhOkFycmF5PG51bWJlcj4pO1xuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9BcnJheTIoZGF0YTpWZWN0b3IyKTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbiAoZGF0YTphbnkpIHtcbiAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzQXJyYXkoZGF0YSkgfHwgZGF0YSBpbnN0YW5jZW9mIFZlY3RvcjIsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInNoYWRlci0+YXR0cmlidXRlcy0+dmFsdWVcIiwgXCJBcnJheTxBcnJheTxhbnk+PiBvciBBcnJheTxWZWN0b3IyPiBzdHVjdHVyZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRUb0FycmF5MihkYXRhOmFueSkge1xuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5KGRhdGEpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFtkYXRhLngsIGRhdGEueV07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9BcnJheTMoZGF0YTpBcnJheTxudW1iZXI+KTtcbiAgICAgICAgcHJpdmF0ZSBfY29udmVydFRvQXJyYXkzKGRhdGE6VmVjdG9yMyk7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGRhdGE6YW55KSB7XG4gICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0FycmF5KGRhdGEpIHx8IGRhdGEgaW5zdGFuY2VvZiBWZWN0b3IzLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkZXItPmF0dHJpYnV0ZXMtPnZhbHVlXCIsIFwiQXJyYXk8QXJyYXk8YW55Pj4gb3IgQXJyYXk8VmVjdG9yMz4gc3R1Y3R1cmVcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9BcnJheTMoZGF0YTphbnkpIHtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNBcnJheShkYXRhKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbZGF0YS54LCBkYXRhLnksIGRhdGEuel07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9BcnJheTQoZGF0YTpBcnJheTxudW1iZXI+KTtcbiAgICAgICAgcHJpdmF0ZSBfY29udmVydFRvQXJyYXk0KGRhdGE6VmVjdG9yNCk7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGRhdGE6YW55KSB7XG4gICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0FycmF5KGRhdGEpIHx8IGRhdGEgaW5zdGFuY2VvZiBWZWN0b3I0LCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkZXItPmF0dHJpYnV0ZXMtPnZhbHVlXCIsIFwiQXJyYXk8QXJyYXk8YW55Pj4gb3IgQXJyYXk8VmVjdG9yND4gc3R1Y3R1cmVcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9BcnJheTQoZGF0YTphbnkpIHtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNBcnJheShkYXRhKSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbZGF0YS54LCBkYXRhLnksIGRhdGEueiwgZGF0YS53XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIVxuICAgICAgICAgbm90IHVzZSBAY2FjaGUsXG4gICAgICAgICBoZXJlIGp1ZGdlIHJldHVybiBwb3Mgb2YgXCJnZXRDaGlsZFwiLCBzbyBpdCBkb24ndCBuZWVkIHRvIGludm9rZSBcImhhc0NoaWxkXCJcbiAgICAgICAgICovXG4gICAgICAgIHByaXZhdGUgX2dldEF0dHJpYkxvY2F0aW9uKGdsOmFueSwgbmFtZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHBvcyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLl9zaGFkZXIuZGlydHkpe1xuICAgICAgICAgICAgICAgIHBvcyA9IHRoaXMuX2dldEF0dHJpYkxvY2F0aW9uQ2FjaGUuZ2V0Q2hpbGQobmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZihwb3MgIT09IHZvaWQgMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb3MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLCBuYW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fZ2V0QXR0cmliTG9jYXRpb25DYWNoZS5hZGRDaGlsZChuYW1lLCBwb3MpO1xuXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oZ2w6YW55LCBwb3M6c3RyaW5nLCBkYXRhOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgYXNzZXJ0KEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoZGF0YSksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZGF0YVwiLCBgYmUgYXJyYXksIGJ1dCBhY3R1YWwgaXMgJHtkYXRhfWApKTtcblxuICAgICAgICAgICAgZm9yKGxldCB1bml0IG9mIGRhdGEpe1xuICAgICAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzTnVtYmVyKHVuaXQpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImRhdGFcIiwgYGJlIEFycmF5PG51bWJlcj4sIGJ1dCBhY3R1YWwgaXMgJHtkYXRhfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfc2VuZFNhbXBsZUFycmF5KGdsOmFueSwgcG9zOnN0cmluZywgZGF0YTpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaXYocG9zLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVuZGVyQ29tbWFuZCB7XG4gICAgICAgIHB1YmxpYyBkcmF3TW9kZTpFRHJhd01vZGUgPSBFRHJhd01vZGUuVFJJQU5HTEVTO1xuICAgICAgICBwdWJsaWMgYmxlbmQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgejpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBleGVjdXRlKCk6dm9pZDtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkcmF3RWxlbWVudHMoaW5kZXhCdWZmZXI6RWxlbWVudEJ1ZmZlcil7XG4gICAgICAgICAgICB2YXIgc3RhcnRPZmZzZXQ6bnVtYmVyID0gMCxcbiAgICAgICAgICAgICAgICBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgIEdsVXRpbHMuZHJhd0VsZW1lbnRzKGdsW3RoaXMuZHJhd01vZGVdLCBpbmRleEJ1ZmZlci5jb3VudCwgaW5kZXhCdWZmZXIudHlwZSwgaW5kZXhCdWZmZXIudHlwZVNpemUgKiBzdGFydE9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBRdWFkQ29tbWFuZCBleHRlbmRzIFJlbmRlckNvbW1hbmR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6UXVhZENvbW1hbmQge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgcHJvZ3JhbSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWwucHJvZ3JhbTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLm1NYXRyaXgsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKFwibU1hdHJpeFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIEBjYWNoZUdldHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbE1hdHJpeENhY2hlICE9PSBudWxsO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbE1hdHJpeENhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgdGhpcy5fbm9ybWFsTWF0cml4Q2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBub3JtYWxNYXRyaXgoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1NYXRyaXguaW52ZXJ0VG8zeDMoKS50cmFuc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlR2V0dGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLm1NYXRyaXggJiYgISF0aGlzLnZNYXRyaXggJiYgISF0aGlzLnBNYXRyaXgsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKFwibU1hdHJpeCBvciB2TWF0cml4IG9yIHBNYXRyaXhcIikpO1xuICAgICAgICB9KVxuICAgICAgICBAY2FjaGVHZXR0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tdnBNYXRyaXhDYWNoZSAhPT0gbnVsbDtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tdnBNYXRyaXhDYWNoZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIHRoaXMuX212cE1hdHJpeENhY2hlID0gcmVzdWx0O1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbXZwTWF0cml4KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tTWF0cml4LmFwcGx5TWF0cml4KHRoaXMudk1hdHJpeCwgdHJ1ZSkuYXBwbHlNYXRyaXgodGhpcy5wTWF0cml4LCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tTWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBnZXQgbU1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21NYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG1NYXRyaXgobU1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuX21NYXRyaXggPSBtTWF0cml4O1xuXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxNYXRyaXhDYWNoZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9tdnBNYXRyaXhDYWNoZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92TWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBnZXQgdk1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHZNYXRyaXgodk1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuX3ZNYXRyaXggPSB2TWF0cml4O1xuXG4gICAgICAgICAgICB0aGlzLl9tdnBNYXRyaXhDYWNoZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wTWF0cml4Ok1hdHJpeDQgPSBudWxsO1xuICAgICAgICBnZXQgcE1hdHJpeCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBNYXRyaXgocE1hdHJpeDpNYXRyaXg0KXtcbiAgICAgICAgICAgIHRoaXMuX3BNYXRyaXggPSBwTWF0cml4O1xuXG4gICAgICAgICAgICB0aGlzLl9tdnBNYXRyaXhDYWNoZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYnVmZmVyczpCdWZmZXJDb250YWluZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWF0ZXJpYWw6TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYW5pbWF0aW9uOkFuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfbm9ybWFsTWF0cml4Q2FjaGU6TWF0cml4NCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX212cE1hdHJpeENhY2hlOk1hdHJpeDQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBleGVjdXRlKCkge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcblxuICAgICAgICAgICAgbWF0ZXJpYWwuYmluZEFuZFVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgICAgIG1hdGVyaWFsLnVwZGF0ZVNoYWRlcih0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fZHJhdyhtYXRlcmlhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kcmF3KG1hdGVyaWFsOk1hdGVyaWFsKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRPZmZzZXQ6bnVtYmVyID0gMCxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhCdWZmZXI6QXJyYXlCdWZmZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyOkVsZW1lbnRCdWZmZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRFZmZlY3RzKG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgaW5kZXhCdWZmZXIgPSA8RWxlbWVudEJ1ZmZlcj50aGlzLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLklORElDRSk7XG5cbiAgICAgICAgICAgIGlmKGluZGV4QnVmZmVyKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdFbGVtZW50cyhpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlciA9IHRoaXMuYnVmZmVycy5nZXRDaGlsZChFQnVmZmVyRGF0YVR5cGUuVkVSVElDRSk7XG4gICAgICAgICAgICAgICAgR2xVdGlscy5kcmF3QXJyYXlzKGdsW3RoaXMuZHJhd01vZGVdLCBzdGFydE9mZnNldCwgdmVydGV4QnVmZmVyLmNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIGlmKG1hdGVyaWFsLmJsZW5kRnVuY1NlcGFyYXRlICYmIG1hdGVyaWFsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZSl7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHdkQ2IuTG9nLmVycm9yKCFtYXRlcmlhbC5ibGVuZFNyYyB8fCAhbWF0ZXJpYWwuYmxlbmREc3QgfHwgIW1hdGVyaWFsLmJsZW5kRXF1YXRpb24sIHdkQ2IuTG9nLmluZm8uRlVOQ19NVVNUKFwibWF0ZXJpYWwuYmxlbmRTcmMgfHwgbWF0ZXJpYWwuYmxlbmREc3QgfHwgbWF0ZXJpYWwuYmxlbmRFcXVhdGlvblwiLCBcImJlIHNldFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3NldEVmZmVjdHMobWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0Q29sb3JXcml0ZShtYXRlcmlhbC5yZWRXcml0ZSwgbWF0ZXJpYWwuZ3JlZW5Xcml0ZSwgbWF0ZXJpYWwuYmx1ZVdyaXRlLCBtYXRlcmlhbC5hbHBoYVdyaXRlKTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIucG9seWdvbk9mZnNldE1vZGUgPSBtYXRlcmlhbC5wb2x5Z29uT2Zmc2V0TW9kZTtcblxuICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zaWRlID0gdGhpcy5fZ2V0U2lkZSgpO1xuXG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLmJsZW5kID0gbWF0ZXJpYWwuYmxlbmQ7XG4gICAgICAgICAgICBpZihtYXRlcmlhbC5ibGVuZEZ1bmNTZXBhcmF0ZSAmJiBtYXRlcmlhbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUpe1xuICAgICAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0QmxlbmRGdW5jU2VwYXJhdGUobWF0ZXJpYWwuYmxlbmRGdW5jU2VwYXJhdGUpO1xuICAgICAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0QmxlbmRFcXVhdGlvblNlcGFyYXRlKG1hdGVyaWFsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0QmxlbmRGdW5jKG1hdGVyaWFsLmJsZW5kU3JjLCBtYXRlcmlhbC5ibGVuZERzdCk7XG4gICAgICAgICAgICAgICAgZGV2aWNlTWFuYWdlci5zZXRCbGVuZEVxdWF0aW9uKG1hdGVyaWFsLmJsZW5kRXF1YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0U2lkZSgpe1xuICAgICAgICAgICAgdmFyIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmU7XG5cbiAgICAgICAgICAgIHJldHVybiBzY2VuZS5zaWRlID8gc2NlbmUuc2lkZSA6IHRoaXMubWF0ZXJpYWwuc2lkZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFByb2NlZHVyYWxDb21tYW5kIGV4dGVuZHMgUmVuZGVyQ29tbWFuZHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNoYWRlcjpQcm9jZWR1cmFsU2hhZGVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGluZGV4QnVmZmVyOkVsZW1lbnRCdWZmZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdmVydGV4QnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRVM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZXhlY3V0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnVwZGF0ZSh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5kcmF3RWxlbWVudHModGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBHbFV0aWxzIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBkcmF3RWxlbWVudHMobW9kZTphbnksIGNvdW50Om51bWJlciwgdHlwZTphbnksIG9mZnNldDpudW1iZXIpe1xuICAgICAgICAgICAgRGVidWdTdGF0aXN0aWNzLmNvdW50LmRyYXdDYWxscysrO1xuXG4gICAgICAgICAgICB0aGlzLl9nZXRHbCgpLmRyYXdFbGVtZW50cyhtb2RlLCBjb3VudCwgdHlwZSwgb2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZHJhd0FycmF5cyhtb2RlOmFueSwgZmlyc3Q6bnVtYmVyLCBjb3VudDpudW1iZXIpIHtcbiAgICAgICAgICAgIERlYnVnU3RhdGlzdGljcy5jb3VudC5kcmF3Q2FsbHMrKztcblxuICAgICAgICAgICAgdGhpcy5fZ2V0R2woKS5kcmF3QXJyYXlzKG1vZGUsIGZpcnN0LCBjb3VudCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ2V0R2woKSB7XG4gICAgICAgICAgICByZXR1cm4gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBGcmFtZUJ1ZmZlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUod2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZ2V0IGdsKCl7XG4gICAgICAgICAgICByZXR1cm4gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdpZHRoOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9vcmlnaW5TY2lzc29yVGVzdDpib29sZWFuID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgY3JlYXRlRnJhbWVCdWZmZXIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYmluZEZyYW1lQnVmZmVyKGJ1ZmZlcjpXZWJHTEZyYW1lYnVmZmVyKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRWaWV3cG9ydCgpe1xuICAgICAgICAgICAgdmFyIGRldmljZU1hbmFnZXIgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5TY2lzc29yVGVzdCA9IGRldmljZU1hbmFnZXIuc2Npc3NvclRlc3Q7XG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNjaXNzb3JUZXN0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVzdG9yZVZpZXdwb3J0KCl7XG4gICAgICAgICAgICB2YXIgZGV2aWNlTWFuYWdlciA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgICAgICB2aWV3ID0gZGV2aWNlTWFuYWdlci52aWV3O1xuXG4gICAgICAgICAgICBkZXZpY2VNYW5hZ2VyLnNldFZpZXdwb3J0KDAsIDAsIHZpZXcud2lkdGgsIHZpZXcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGRldmljZU1hbmFnZXIuc2Npc3NvclRlc3QgPSB0aGlzLl9vcmlnaW5TY2lzc29yVGVzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLnVuQmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVuQmluZCgpe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVSZW5kZXJCdWZmZXIoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2wsXG4gICAgICAgICAgICAgICAgcmVuZGVyQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcighcmVuZGVyQnVmZmVyLCBcIkZhaWxlZCB0byBjcmVhdGUgcmVuZGVyYnVmZmVyIG9iamVjdFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlckJ1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhdHRhY2hUZXh0dXJlKGdsVGFyZ2V0OmFueSwgdGV4dHVyZTpXZWJHTFRleHR1cmUpe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbWlwbWFwP1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoXG4gICAgICAgICAgICAgICAgZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAsXG4gICAgICAgICAgICAgICAgZ2xUYXJnZXQsXG4gICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhdHRhY2hSZW5kZXJCdWZmZXIodHlwZTpzdHJpbmcsIHJlbmRlckJ1ZmZlcjpXZWJHTFJlbmRlcmJ1ZmZlcil7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJCdWZmZXIpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2xbdHlwZV0sIGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjaGVjaygpe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbCxcbiAgICAgICAgICAgICAgICBlID0gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7XG5cbiAgICAgICAgICAgIGlmIChlICE9PSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBgRnJhbWUgYnVmZmVyIG9iamVjdCBpcyBpbmNvbXBsZXRlOiR7ZS50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hhZGVye1xuICAgICAgICBwcml2YXRlIF9hdHRyaWJ1dGVzOndkQ2IuSGFzaDxTaGFkZXJEYXRhPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyRGF0YT4oKTtcbiAgICAgICAgZ2V0IGF0dHJpYnV0ZXMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBhdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+KXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2lzTm90RXF1YWwoYXR0cmlidXRlcywgdGhpcy5fYXR0cmlidXRlcykpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmluaXRpb25EYXRhRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF91bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyRGF0YT4gPSB3ZENiLkhhc2guY3JlYXRlPFNoYWRlckRhdGE+KCk7XG4gICAgICAgIGdldCB1bmlmb3Jtcygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VuaWZvcm1zO1xuICAgICAgICB9XG4gICAgICAgIHNldCB1bmlmb3Jtcyh1bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyRGF0YT4pe1xuICAgICAgICAgICAgaWYodGhpcy5faXNOb3RFcXVhbCh1bmlmb3JtcywgdGhpcy5fdW5pZm9ybXMpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZpbml0aW9uRGF0YURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3VuaWZvcm1zID0gdW5pZm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF92c1NvdXJjZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBnZXQgdnNTb3VyY2UoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92c1NvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdnNTb3VyY2UodnNTb3VyY2U6c3RyaW5nKXtcbiAgICAgICAgICAgIGlmKHZzU291cmNlICE9PSB0aGlzLl92c1NvdXJjZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmaW5pdGlvbkRhdGFEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92c1NvdXJjZSA9IHZzU291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZnNTb3VyY2U6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgZ2V0IGZzU291cmNlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnNTb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZzU291cmNlKGZzU291cmNlOnN0cmluZyl7XG4gICAgICAgICAgICBpZihmc1NvdXJjZSAhPT0gdGhpcy5fZnNTb3VyY2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmluaXRpb25EYXRhRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZnNTb3VyY2UgPSBmc1NvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBkaXJ0eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGliRGlydHkgfHwgdGhpcy5fZGVmaW5pdGlvbkRhdGFEaXJ0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwcm9ncmFtOlByb2dyYW0gPSBQcm9ncmFtLmNyZWF0ZSgpO1xuICAgICAgICBwdWJsaWMgbGliRGlydHk6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBsaWJzOndkQ2IuQ29sbGVjdGlvbjxTaGFkZXJMaWI+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxTaGFkZXJMaWI+KCk7XG4gICAgICAgIHByb3RlY3RlZCBzb3VyY2VCdWlsZGVyOlNoYWRlclNvdXJjZUJ1aWxkZXIgPSB0aGlzLmNyZWF0ZVNoYWRlclNvdXJjZUJ1aWxkZXIoKTtcblxuICAgICAgICBwcml2YXRlIF9kZWZpbml0aW9uRGF0YURpcnR5OmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGNtZDpSZW5kZXJDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCk7XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZVZzU2hhZGVyKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0U2hhZGVyKGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKSwgdGhpcy52c1NvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY3JlYXRlRnNTaGFkZXIoKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRTaGFkZXIoZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUiksIHRoaXMuZnNTb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGluaXQobWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5saWJzLmZvckVhY2goKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBsaWIuaW5pdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuanVkZ2VSZWZyZXNoU2hhZGVyKG1hdGVyaWFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJlbW92ZUFsbENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIHRoaXMubGlicy5mb3JFYWNoKChsaWI6U2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgbGliLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc0xpYihsaWI6U2hhZGVyTGliKTtcbiAgICAgICAgcHVibGljIGhhc0xpYihfY2xhc3M6RnVuY3Rpb24pO1xuXG4gICAgICAgIHB1YmxpYyBoYXNMaWIoLi4uYXJncyl7XG4gICAgICAgICAgICBpZihhcmdzWzBdIGluc3RhbmNlb2YgU2hhZGVyTGliKXtcbiAgICAgICAgICAgICAgICBsZXQgbGliOlNoYWRlckxpYiA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saWJzLmhhc0NoaWxkKGxpYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBfY2xhc3MgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlicy5oYXNDaGlsZFdpdGhGdW5jKChsaWI6U2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaWIgaW5zdGFuY2VvZiBfY2xhc3M7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5saWJzLmZvckVhY2goKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0VxdWFsKGxpYi5zaGFkZXIsIHNlbGYpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCBTaGFkZXJMaWIuc2hhZGVyIHRvIGJlIHRoaXNcIikpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmxpYkRpcnR5ID09PSB0cnVlLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImxpYkRpcnR5XCIsIFwiYmUgdHJ1ZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRMaWIobGliOlNoYWRlckxpYil7XG4gICAgICAgICAgICB0aGlzLmxpYnMuYWRkQ2hpbGQobGliKTtcblxuICAgICAgICAgICAgbGliLnNoYWRlciA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMubGliRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbih2YWwsIGxpYjpTaGFkZXJMaWIpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0VxdWFsKGxpYiwgdGhpcy5saWJzLmdldENoaWxkKDApKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhZGQgc2hhZGVyIGxpYiB0byB0aGUgdG9wXCIpKTtcblxuICAgICAgICAgICAgdGhpcy5saWJzLmZvckVhY2goKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0VxdWFsKGxpYi5zaGFkZXIsIHNlbGYpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcInNldCBTaGFkZXJMaWIuc2hhZGVyIHRvIGJlIHRoaXNcIikpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmxpYkRpcnR5ID09PSB0cnVlLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImxpYkRpcnR5XCIsIFwiYmUgdHJ1ZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBhZGRTaGFkZXJMaWJUb1RvcChsaWI6U2hhZGVyTGliKXtcbiAgICAgICAgICAgIHRoaXMubGlicy51blNoaWZ0Q2hpbGQobGliKTtcblxuICAgICAgICAgICAgbGliLnNoYWRlciA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMubGliRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldExpYihsaWJDbGFzczpGdW5jdGlvbil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saWJzLmZpbmRPbmUoKGxpYjpTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGliIGluc3RhbmNlb2YgbGliQ2xhc3M7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRMaWJzKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saWJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZUxpYihsaWI6U2hhZGVyTGliKTtcbiAgICAgICAgcHVibGljIHJlbW92ZUxpYihmdW5jOkZ1bmN0aW9uKTtcblxuICAgICAgICBwdWJsaWMgcmVtb3ZlTGliKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdGhpcy5saWJEaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpYnMucmVtb3ZlQ2hpbGQoYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQWxsTGlicygpe1xuICAgICAgICAgICAgdGhpcy5saWJEaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMubGlicy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNvcnRMaWIoZnVuYzooYTpTaGFkZXJMaWIsIGI6U2hhZGVyTGliKSA9PiBhbnkpe1xuICAgICAgICAgICAgdGhpcy5saWJEaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMubGlicy5zb3J0KGZ1bmMsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZVNoYWRlclNvdXJjZUJ1aWxkZXIoKTpTaGFkZXJTb3VyY2VCdWlsZGVyO1xuICAgICAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYnVpbGREZWZpbml0aW9uRGF0YShjbWQ6UmVuZGVyQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpOnZvaWQ7XG5cblxuICAgICAgICBwcm90ZWN0ZWQganVkZ2VSZWZyZXNoU2hhZGVyKG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIGlmKHRoaXMubGliRGlydHkpe1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGREZWZpbml0aW9uRGF0YShudWxsLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2RlZmluaXRpb25EYXRhRGlydHkpe1xuICAgICAgICAgICAgICAgIC8vdG9kbyBvcHRpbWl6ZTogYmF0Y2ggaW5pdCBwcm9ncmFtKGlmIGl0J3MgdGhlIHNhbWUgYXMgdGhlIGxhc3QgcHJvZ3JhbSwgbm90IGluaXRXaXRoU2hhZGVyKVxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3JhbS5pbml0V2l0aFNoYWRlcih0aGlzKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0aGlzLmxpYkRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9kZWZpbml0aW9uRGF0YURpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pbml0U2hhZGVyKHNoYWRlciwgc291cmNlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcbiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICAgICAgaWYoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBMb2cubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImF0dHJpYnV0ZXM6XFxuXCIsIHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcInVuaWZvcm1zOlxcblwiLCB0aGlzLnVuaWZvcm1zKTtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwic291cmNlOlxcblwiLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNOb3RFcXVhbChsaXN0MTp3ZENiLkhhc2g8U2hhZGVyRGF0YT4sIGxpc3QyOndkQ2IuSGFzaDxTaGFkZXJEYXRhPil7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxpc3QxLmZvckVhY2goKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0MkRhdGEgPSBsaXN0Mi5nZXRDaGlsZChrZXkpO1xuXG4gICAgICAgICAgICAgICAgaWYoIWxpc3QyRGF0YSB8fCBkYXRhLnR5cGUgIT09IGxpc3QyRGF0YS50eXBlIHx8IGRhdGEudmFsdWUgIT09IGxpc3QyRGF0YS52YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFNoYWRlckRhdGEgPSB7XG4gICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZTtcbiAgICAgICAgdmFsdWU/OmFueTtcbiAgICAgICAgdGV4dHVyZUlkPzpzdHJpbmc7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21TaGFkZXIgZXh0ZW5kcyBTaGFkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzb3VyY2VCdWlsZGVyOkN1c3RvbVNoYWRlclNvdXJjZUJ1aWxkZXI7XG4gICAgICAgIHByb3RlY3RlZCBsaWJzOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21TaGFkZXJMaWI+O1xuXG5cbiAgICAgICAgcHVibGljIHVwZGF0ZShxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpTaGFkZXJNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHRoaXMucHJvZ3JhbTtcblxuICAgICAgICAgICAgdGhpcy5qdWRnZVJlZnJlc2hTaGFkZXIobWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyYW0udXNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMubGlicy5mb3JFYWNoKChsaWI6Q3VzdG9tU2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgbGliLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLnNlbmRUZXh0dXJlKHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlYWQoZGVmaW5pdGlvbkRhdGE6U2hhZGVyRGVmaW5pdGlvbkRhdGEpe1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWlsZGVyLmNsZWFyU2hhZGVyRGVmaW5pdGlvbigpO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUJ1aWxkZXIucmVhZChkZWZpbml0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMubGliRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFNhbXBsZXIyRFVuaWZvcm1zQWZ0ZXJSZWFkKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VCdWlsZGVyLnVuaWZvcm1zLmZpbHRlcigodW5pZm9ybTpTaGFkZXJEYXRhLCBuYW1lOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmlmb3JtLnR5cGUgPT09IEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkRGVmaW5pdGlvbkRhdGEoY21kOlJlbmRlckNvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQnVpbGRlci5idWlsZCgpO1xuXG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB0aGlzLnNvdXJjZUJ1aWxkZXIuYXR0cmlidXRlcztcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMgPSB0aGlzLnNvdXJjZUJ1aWxkZXIudW5pZm9ybXM7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlID0gdGhpcy5zb3VyY2VCdWlsZGVyLnZzU291cmNlO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZSA9IHRoaXMuc291cmNlQnVpbGRlci5mc1NvdXJjZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlclNvdXJjZUJ1aWxkZXIoKTpTaGFkZXJTb3VyY2VCdWlsZGVye1xuICAgICAgICAgICAgcmV0dXJuIEN1c3RvbVNoYWRlclNvdXJjZUJ1aWxkZXIuY3JlYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBTaGFkZXJEZWZpbml0aW9uRGF0YSA9IHtcbiAgICAgICAgYXR0cmlidXRlczp3ZENiLkhhc2g8U2hhZGVyRGF0YT47XG4gICAgICAgIHVuaWZvcm1zOndkQ2IuSGFzaDxTaGFkZXJEYXRhPjtcblxuICAgICAgICB2c1NvdXJjZUlkOnN0cmluZztcbiAgICAgICAgZnNTb3VyY2VJZDpzdHJpbmc7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbmdpbmVTaGFkZXIgZXh0ZW5kcyBTaGFkZXJ7XG4gICAgICAgIHByb3RlY3RlZCBzb3VyY2VCdWlsZGVyOkVuZ2luZVNoYWRlclNvdXJjZUJ1aWxkZXI7XG4gICAgICAgIHByb3RlY3RlZCBsaWJzOndkQ2IuQ29sbGVjdGlvbjxFbmdpbmVTaGFkZXJMaWI+O1xuXG4gICAgICAgIHByb3RlY3RlZCBidWlsZERlZmluaXRpb25EYXRhKGNtZDpSZW5kZXJDb21tYW5kLCBtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLmxpYnMuZm9yRWFjaCgobGliOkVuZ2luZVNoYWRlckxpYikgPT4ge1xuICAgICAgICAgICAgICAgIGxpYi5zZXRTaGFkZXJEZWZpbml0aW9uKGNtZCwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlQnVpbGRlci5jbGVhclNoYWRlckRlZmluaXRpb24oKTtcblxuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWlsZGVyLmJ1aWxkKHRoaXMubGlicyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHRoaXMuc291cmNlQnVpbGRlci5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtcyA9IHRoaXMuc291cmNlQnVpbGRlci51bmlmb3JtcztcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2UgPSB0aGlzLnNvdXJjZUJ1aWxkZXIudnNTb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlID0gdGhpcy5zb3VyY2VCdWlsZGVyLmZzU291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlclNvdXJjZUJ1aWxkZXIoKTpTaGFkZXJTb3VyY2VCdWlsZGVye1xuICAgICAgICAgICAgcmV0dXJuIEVuZ2luZVNoYWRlclNvdXJjZUJ1aWxkZXIuY3JlYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vblNoYWRlciBleHRlbmRzIEVuZ2luZVNoYWRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gdGhpcy5wcm9ncmFtO1xuXG4gICAgICAgICAgICB0aGlzLmp1ZGdlUmVmcmVzaFNoYWRlcihtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcblxuICAgICAgICAgICAgdGhpcy5saWJzLmZvckVhY2goKGxpYjpFbmdpbmVTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICBsaWIuc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtLCBxdWFkQ21kLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWF0ZXJpYWwuc2VuZFRleHR1cmUocHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFByb2NlZHVyYWxTaGFkZXIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJ7XG4gICAgICAgIHByb3RlY3RlZCBsaWJzOndkQ2IuQ29sbGVjdGlvbjxQcm9jZWR1cmFsU2hhZGVyTGliPjtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdGhpcy5hZGRMaWIoQ29tbW9uUHJvY2VkdXJhbFNoYWRlckxpYi5jcmVhdGUoKSk7XG5cbiAgICAgICAgICAgIHN1cGVyLmluaXQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXBkYXRlKGNtZDpQcm9jZWR1cmFsQ29tbWFuZCl7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHRoaXMucHJvZ3JhbTtcblxuICAgICAgICAgICAgdGhpcy5qdWRnZVJlZnJlc2hTaGFkZXIobnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcblxuICAgICAgICAgICAgdGhpcy5saWJzLmZvckVhY2goKGxpYjpQcm9jZWR1cmFsU2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgbGliLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgY21kKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vblByb2NlZHVyYWxTaGFkZXIgZXh0ZW5kcyBQcm9jZWR1cmFsU2hhZGVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpe1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tUHJvY2VkdXJhbFNoYWRlciBleHRlbmRzIFByb2NlZHVyYWxTaGFkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRleHR1cmU6Q3VzdG9tUHJvY2VkdXJhbFRleHR1cmUpe1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHRleHR1cmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodGV4dHVyZTpDdXN0b21Qcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsaWJzOndkQ2IuQ29sbGVjdGlvbjxDdXN0b21Qcm9jZWR1cmFsU2hhZGVyTGliPjtcblxuICAgICAgICBwcml2YXRlIF90ZXh0dXJlOkN1c3RvbVByb2NlZHVyYWxUZXh0dXJlID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyB1cGRhdGUoY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShjbWQpO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm1hcE1hbmFnZXIuYmluZEFuZFVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5tYXBNYW5hZ2VyLnNlbmREYXRhKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hhZGVyU291cmNlQnVpbGRlcntcbiAgICAgICAgcHVibGljIGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPigpO1xuICAgICAgICBwdWJsaWMgdW5pZm9ybXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPigpO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2U6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZzU291cmNlOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGJ1aWxkKC4uLmFyZ3MpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNsZWFyU2hhZGVyRGVmaW5pdGlvbigpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTaGFkZXJEZWZpbml0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goKGRhdGE6U2hhZGVyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydCghSnVkZ2VVdGlscy5pc0Zsb2F0QXJyYXkoZGF0YS52YWx1ZSksIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImF0dHJpYnV0ZS0+dmFsdWVcIiwgXCJiZSBGbG9hdCBhcnJheVwiKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGNvbnZlcnRBdHRyaWJ1dGVzRGF0YSgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChkYXRhOlNoYWRlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEudmFsdWUgIT09IEVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORSAmJiBKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gc2VsZi5fY29udmVydEFycmF5VG9BcnJheUJ1ZmZlcihkYXRhLnR5cGUsIGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24odHlwZTpFVmFyaWFibGVUeXBlLCB2YWx1ZTpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIGFzc2VydChKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KHZhbHVlKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYHZhbHVlOiR7dmFsdWV9YCwgXCJiZSBhcnJheVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRBcnJheVRvQXJyYXlCdWZmZXIodHlwZTpFVmFyaWFibGVUeXBlLCB2YWx1ZTpBcnJheTxhbnk+KSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX2dldEJ1ZmZlclNpemUodHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBBcnJheUJ1ZmZlci5jcmVhdGUobmV3IEZsb2F0MzJBcnJheSh2YWx1ZSksIHNpemUsIEVCdWZmZXJUeXBlLkZMT0FUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEJ1ZmZlclNpemUodHlwZTpFVmFyaWFibGVUeXBlKXtcbiAgICAgICAgICAgIHZhciBzaXplID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMTpcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuTlVNQkVSXzE6XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMjpcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlVHlwZS5GTE9BVF8zOlxuICAgICAgICAgICAgICAgICAgICBzaXplID0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVUeXBlLkZMT0FUXzQ6XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChcIkVWYXJpYWJsZVR5cGVcIiwgdHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBTb3VyY2VEZWZpbmUgPSB7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICB2YWx1ZTphbnk7XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21TaGFkZXJTb3VyY2VCdWlsZGVyIGV4dGVuZHMgU2hhZGVyU291cmNlQnVpbGRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlYWQoZGVmaW5pdGlvbkRhdGE6U2hhZGVyRGVmaW5pdGlvbkRhdGEpe1xuICAgICAgICAgICAgaWYoZGVmaW5pdGlvbkRhdGEuYXR0cmlidXRlcyl7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJEYXRhPihkZWZpbml0aW9uRGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZGVmaW5pdGlvbkRhdGEudW5pZm9ybXMpe1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMgPSB3ZENiLkhhc2guY3JlYXRlPFNoYWRlckRhdGE+KGRlZmluaXRpb25EYXRhLnVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZSA9IExvYWRlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXQoZGVmaW5pdGlvbkRhdGEudnNTb3VyY2VJZCk7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlID0gTG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldChkZWZpbml0aW9uRGF0YS5mc1NvdXJjZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBidWlsZCgpe1xuICAgICAgICAgICAgdGhpcy5jb252ZXJ0QXR0cmlidXRlc0RhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjbGVhclNoYWRlckRlZmluaXRpb24oKXtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICAvL3RvZG8gYWRkIGN1c3RvbSBkZWZpbmVcbiAgICBleHBvcnQgY2xhc3MgRW5naW5lU2hhZGVyU291cmNlQnVpbGRlciBleHRlbmRzIFNoYWRlclNvdXJjZUJ1aWxkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZVRvcDpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VEZWZpbmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIHZzU291cmNlVmFyRGVjbGFyZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VGdW5jRGVjbGFyZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VGdW5jRGVmaW5lOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUJvZHk6c3RyaW5nID0gXCJcIjtcblxuICAgICAgICBwdWJsaWMgZnNTb3VyY2VUb3A6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRGVmaW5lOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZVZhckRlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VCb2R5OnN0cmluZyA9IFwiXCI7XG5cbiAgICAgICAgcHVibGljIHZzU291cmNlRGVmaW5lTGlzdDp3ZENiLkNvbGxlY3Rpb248U291cmNlRGVmaW5lPiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8U291cmNlRGVmaW5lPigpO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VEZWZpbmVMaXN0OndkQ2IuQ29sbGVjdGlvbjxTb3VyY2VEZWZpbmU+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxTb3VyY2VEZWZpbmU+KCk7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24obGliczp3ZENiLkNvbGxlY3Rpb248RW5naW5lU2hhZGVyTGliPil7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy52c1NvdXJjZSA9PT0gbnVsbCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ2c1NvdXJjZVwiLCBcImJlIG51bGxcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZnNTb3VyY2UgPT09IG51bGwsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZnNTb3VyY2VcIiwgXCJiZSBudWxsXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGJ1aWxkKGxpYnM6d2RDYi5Db2xsZWN0aW9uPEVuZ2luZVNoYWRlckxpYj4pe1xuICAgICAgICAgICAgdGhpcy5fcmVhZExpYlNvdXJjZShsaWJzKTtcblxuICAgICAgICAgICAgaWYodGhpcy52c1NvdXJjZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRWc1NvdXJjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5mc1NvdXJjZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRGc1NvdXJjZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRBdHRyaWJ1dGVzRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyU2hhZGVyRGVmaW5pdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lTGlzdC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZUxpc3QucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVRvcCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVRvcCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VWYXJEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VGdW5jRGVjbGFyZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlZmluZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlQm9keSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlYWRMaWJTb3VyY2UobGliczp3ZENiLkNvbGxlY3Rpb248RW5naW5lU2hhZGVyTGliPil7XG4gICAgICAgICAgICB2YXIgc2V0U291cmNlTGlicyA9IGxpYnMuZmlsdGVyKChsaWI6RW5naW5lU2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpYi52c1NvdXJjZSAhPT0gbnVsbCB8fCBsaWIuZnNTb3VyY2UgIT09IG51bGw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fanVkZ2VBbmRTZXRWc1NvdXJjZShzZXRTb3VyY2VMaWJzKTtcbiAgICAgICAgICAgIHRoaXMuX2p1ZGdlQW5kU2V0RnNTb3VyY2Uoc2V0U291cmNlTGlicyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2p1ZGdlQW5kU2V0UGFydFNvdXJjZShsaWJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2p1ZGdlQW5kU2V0VnNTb3VyY2Uoc2V0U291cmNlTGliczp3ZENiLkNvbGxlY3Rpb248RW5naW5lU2hhZGVyTGliPil7XG4gICAgICAgICAgICB2YXIgc2V0VnNTb3VyY2VMaWIgPSBzZXRTb3VyY2VMaWJzLmZpbmRPbmUoKGxpYjpFbmdpbmVTaGFkZXJMaWIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGliLnZzU291cmNlICE9PSBudWxsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKHNldFZzU291cmNlTGliKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZzU291cmNlID0gc2V0VnNTb3VyY2VMaWIudnNTb3VyY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9qdWRnZUFuZFNldEZzU291cmNlKHNldFNvdXJjZUxpYnM6d2RDYi5Db2xsZWN0aW9uPEVuZ2luZVNoYWRlckxpYj4pe1xuICAgICAgICAgICAgdmFyIHNldEZzU291cmNlTGliID0gc2V0U291cmNlTGlicy5maW5kT25lKChsaWI6RW5naW5lU2hhZGVyTGliKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpYi5mc1NvdXJjZSAhPT0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZihzZXRGc1NvdXJjZUxpYil7XG4gICAgICAgICAgICAgICAgdGhpcy5mc1NvdXJjZSA9IHNldEZzU291cmNlTGliLmZzU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfanVkZ2VBbmRTZXRQYXJ0U291cmNlKGxpYnM6d2RDYi5Db2xsZWN0aW9uPEVuZ2luZVNoYWRlckxpYj4pe1xuICAgICAgICAgICAgdmFyIHZzU291cmNlID0gdGhpcy52c1NvdXJjZSxcbiAgICAgICAgICAgICAgICBmc1NvdXJjZSA9IHRoaXMuZnNTb3VyY2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICB1bmlmb3JtcyA9IHRoaXMudW5pZm9ybXMsXG4gICAgICAgICAgICAgICAgdnNTb3VyY2VEZWZpbmVMaXN0ID0gdGhpcy52c1NvdXJjZURlZmluZUxpc3QsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VEZWZpbmVMaXN0ID0gdGhpcy5mc1NvdXJjZURlZmluZUxpc3QsXG4gICAgICAgICAgICAgICAgdnNTb3VyY2VUb3AgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRGVmaW5lID0gXCJcIixcbiAgICAgICAgICAgICAgICB2c1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRnVuY0RlY2xhcmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIHZzU291cmNlRnVuY0RlZmluZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgdnNTb3VyY2VCb2R5ID0gXCJcIixcbiAgICAgICAgICAgICAgICBmc1NvdXJjZVRvcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VEZWZpbmUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIGZzU291cmNlVmFyRGVjbGFyZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVjbGFyZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIixcbiAgICAgICAgICAgICAgICBmc1NvdXJjZUJvZHkgPSBcIlwiO1xuXG5cbiAgICAgICAgICAgIGxpYnMuZm9yRWFjaCgobGliOkVuZ2luZVNoYWRlckxpYikgPT4ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuYWRkQ2hpbGRyZW4obGliLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zLmFkZENoaWxkcmVuKGxpYi51bmlmb3Jtcyk7XG5cbiAgICAgICAgICAgICAgICBpZih2c1NvdXJjZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHZzU291cmNlVG9wICs9IGxpYi52c1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICAgICAgdnNTb3VyY2VEZWZpbmUgKz0gbGliLnZzU291cmNlRGVmaW5lO1xuICAgICAgICAgICAgICAgICAgICB2c1NvdXJjZVZhckRlY2xhcmUgKz0gbGliLnZzU291cmNlVmFyRGVjbGFyZTtcbiAgICAgICAgICAgICAgICAgICAgdnNTb3VyY2VGdW5jRGVjbGFyZSArPSBsaWIudnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICAgICAgdnNTb3VyY2VGdW5jRGVmaW5lICs9IGxpYi52c1NvdXJjZUZ1bmNEZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIHZzU291cmNlQm9keSArPSBsaWIudnNTb3VyY2VCb2R5O1xuXG4gICAgICAgICAgICAgICAgICAgIHZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZHJlbihsaWIudnNTb3VyY2VEZWZpbmVMaXN0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihmc1NvdXJjZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIGZzU291cmNlVG9wICs9IGxpYi5mc1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICAgICAgZnNTb3VyY2VEZWZpbmUgKz0gbGliLmZzU291cmNlRGVmaW5lO1xuICAgICAgICAgICAgICAgICAgICBmc1NvdXJjZVZhckRlY2xhcmUgKz0gbGliLmZzU291cmNlVmFyRGVjbGFyZTtcbiAgICAgICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVjbGFyZSArPSBsaWIuZnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICAgICAgZnNTb3VyY2VGdW5jRGVmaW5lICs9IGxpYi5mc1NvdXJjZUZ1bmNEZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIGZzU291cmNlQm9keSArPSBsaWIuZnNTb3VyY2VCb2R5O1xuXG4gICAgICAgICAgICAgICAgICAgIGZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZHJlbihsaWIuZnNTb3VyY2VEZWZpbmVMaXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYodnNTb3VyY2UgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHRoaXMudnNTb3VyY2VUb3AgPSB2c1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lID0gdnNTb3VyY2VEZWZpbmU7XG4gICAgICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmUgPSB2c1NvdXJjZVZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlID0gdnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZSA9IHZzU291cmNlRnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IHZzU291cmNlQm9keTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZnNTb3VyY2UgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VUb3AgPSBmc1NvdXJjZVRvcDtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lID0gZnNTb3VyY2VEZWZpbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmUgPSBmc1NvdXJjZVZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWNsYXJlID0gZnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlRnVuY0RlZmluZSA9IGZzU291cmNlRnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlQm9keSA9IGZzU291cmNlQm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2UoKXtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2UgPSB0aGlzLl9idWlsZFZzU291cmNlVG9wKCkgKyB0aGlzLl9idWlsZFZzU291cmNlRGVmaW5lKCkgKyB0aGlzLl9idWlsZFZzU291cmNlVmFyRGVjbGFyZSgpICsgdGhpcy5fYnVpbGRWc1NvdXJjZUZ1bmNEZWNsYXJlKCkgKyB0aGlzLl9idWlsZFZzU291cmNlRnVuY0RlZmluZSgpICsgdGhpcy5fYnVpbGRWc1NvdXJjZUJvZHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2UoKXtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2UgPSB0aGlzLl9idWlsZEZzU291cmNlVG9wKCkgKyB0aGlzLl9idWlsZEZzU291cmNlRGVmaW5lKCkgKyB0aGlzLl9idWlsZEZzU291cmNlVmFyRGVjbGFyZSgpICsgdGhpcy5fYnVpbGRGc1NvdXJjZUZ1bmNEZWNsYXJlKCkgKyB0aGlzLl9idWlsZEZzU291cmNlRnVuY0RlZmluZSgpICsgdGhpcy5fYnVpbGRGc1NvdXJjZUJvZHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2VUb3AoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcmVjaXNpb25Tb3VyY2UoKSArIHRoaXMudnNTb3VyY2VUb3A7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZFZzU291cmNlRGVmaW5lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRTb3VyY2VEZWZpbmUodGhpcy52c1NvdXJjZURlZmluZUxpc3QpICsgdGhpcy52c1NvdXJjZURlZmluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2VWYXJEZWNsYXJlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVBdHRyaWJ1dGVTb3VyY2UoKSArIHRoaXMuX2dlbmVyYXRlVW5pZm9ybVNvdXJjZSh0aGlzLnZzU291cmNlVmFyRGVjbGFyZSwgdGhpcy52c1NvdXJjZUZ1bmNEZWZpbmUsIHRoaXMudnNTb3VyY2VCb2R5KSArIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRWc1NvdXJjZUZ1bmNEZWNsYXJlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRWc1NvdXJjZUZ1bmNEZWZpbmUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZzU291cmNlRnVuY0RlZmluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkVnNTb3VyY2VCb2R5KCl7XG4gICAgICAgICAgICByZXR1cm4gU2hhZGVyU25pcHBldC5tYWluX2JlZ2luICsgdGhpcy52c1NvdXJjZUJvZHkgKyBTaGFkZXJTbmlwcGV0Lm1haW5fZW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRGc1NvdXJjZVRvcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByZWNpc2lvblNvdXJjZSgpICsgdGhpcy5mc1NvdXJjZVRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2VEZWZpbmUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWlsZFNvdXJjZURlZmluZSh0aGlzLmZzU291cmNlRGVmaW5lTGlzdCkgKyB0aGlzLmZzU291cmNlRGVmaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYnVpbGRGc1NvdXJjZVZhckRlY2xhcmUoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZVVuaWZvcm1Tb3VyY2UodGhpcy5mc1NvdXJjZVZhckRlY2xhcmUsIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lLCB0aGlzLmZzU291cmNlQm9keSkgKyB0aGlzLmZzU291cmNlVmFyRGVjbGFyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2VGdW5jRGVjbGFyZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnNTb3VyY2VGdW5jRGVjbGFyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRnNTb3VyY2VGdW5jRGVmaW5lKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZEZzU291cmNlQm9keSgpe1xuICAgICAgICAgICAgcmV0dXJuIFNoYWRlclNuaXBwZXQubWFpbl9iZWdpbiArIHRoaXMuZnNTb3VyY2VCb2R5ICsgU2hhZGVyU25pcHBldC5tYWluX2VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkU291cmNlRGVmaW5lKGRlZmluZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPFNvdXJjZURlZmluZT4pe1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGRlZmluZUxpc3QuZm9yRWFjaCgoZGVmaW5lOlNvdXJjZURlZmluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGRlZmluZS52YWx1ZSA9PT0gdm9pZCAwKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGAjZGVmaW5lICR7ZGVmaW5lLm5hbWV9XFxuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGAjZGVmaW5lICR7ZGVmaW5lLm5hbWV9ICR7ZGVmaW5lLnZhbHVlfVxcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRQcmVjaXNpb25Tb3VyY2UoKXtcbiAgICAgICAgICAgIHZhciBwcmVjaXNpb24gPSBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLnByZWNpc2lvbixcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHByZWNpc2lvbil7XG4gICAgICAgICAgICAgICAgY2FzZSBFR1BVUHJlY2lzaW9uLkhJR0hQOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBTaGFkZXJDaHVuay5oaWdocF9mcmFnbWVudC50b3A7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUdQVVByZWNpc2lvbi5NRURJVU1QOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBTaGFkZXJDaHVuay5tZWRpdW1wX2ZyYWdtZW50LnRvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFR1BVUHJlY2lzaW9uLkxPV1A6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFNoYWRlckNodW5rLmxvd3BfZnJhZ21lbnQudG9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dlbmVyYXRlQXR0cmlidXRlU291cmNlKCl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcigoZGF0YTpTaGFkZXJEYXRhLCBrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhZGF0YTtcbiAgICAgICAgICAgIH0pLmZvckVhY2goKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgYXR0cmlidXRlICR7VmFyaWFibGVUeXBlVGFibGUuZ2V0VmFyaWFibGVUeXBlKGRhdGEudHlwZSl9ICR7a2V5fTtcXG5gO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZW5lcmF0ZVVuaWZvcm1Tb3VyY2Uoc291cmNlVmFyRGVjbGFyZTpzdHJpbmcsIHNvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nLCBzb3VyY2VCb2R5OnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIixcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5maWx0ZXIoKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWRhdGEgJiYgZGF0YS50eXBlICE9PSBFVmFyaWFibGVUeXBlLlNUUlVDVFVSRSAmJiBkYXRhLnR5cGUgIT09IEVWYXJpYWJsZVR5cGUuU1RSVUNUVVJFUyAmJiAhc2VsZi5faXNFeGlzdEluU291cmNlKGtleSwgc291cmNlVmFyRGVjbGFyZSkgJiYgKHNlbGYuX2lzRXhpc3RJblNvdXJjZShrZXksIHNvdXJjZUZ1bmNEZWZpbmUpIHx8IHNlbGYuX2lzRXhpc3RJblNvdXJjZShrZXksIHNvdXJjZUJvZHkpKTtcbiAgICAgICAgICAgIH0pLmZvckVhY2goKGRhdGE6U2hhZGVyRGF0YSwga2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBgdW5pZm9ybSAke1ZhcmlhYmxlVHlwZVRhYmxlLmdldFZhcmlhYmxlVHlwZShkYXRhLnR5cGUpfSAke2tleX07XFxuYDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNFeGlzdEluU291cmNlKGtleTpzdHJpbmcsIHNvdXJjZTpzdHJpbmcpe1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVWYXJpYWJsZVR5cGV7XG4gICAgICAgIEZMT0FUXzEgPSA8YW55PlwiRkxPQVRfMVwiLFxuICAgICAgICBGTE9BVF8yID0gPGFueT5cIkZMT0FUXzJcIixcbiAgICAgICAgRkxPQVRfMyA9IDxhbnk+XCJGTE9BVF8zXCIsXG4gICAgICAgIEZMT0FUXzQgPSA8YW55PlwiRkxPQVRfNFwiLFxuICAgICAgICBGTE9BVF9NQVQzID0gPGFueT5cIkZMT0FUX01BVDNcIixcbiAgICAgICAgRkxPQVRfTUFUNCA9IDxhbnk+XCJGTE9BVF9NQVQ0XCIsXG4gICAgICAgIEJVRkZFUiA9IDxhbnk+XCJCVUZGRVJcIixcbiAgICAgICAgU0FNUExFUl9DVUJFID0gPGFueT5cIlNBTVBMRVJfQ1VCRVwiLFxuICAgICAgICBTQU1QTEVSXzJEID0gPGFueT5cIlNBTVBMRVJfMkRcIixcbiAgICAgICAgTlVNQkVSXzEgPSA8YW55PlwiTlVNQkVSXzFcIixcbiAgICAgICAgU1RSVUNUVVJFID0gPGFueT5cIlNUUlVDVFVSRVwiLFxuICAgICAgICBTVFJVQ1RVUkVTID0gPGFueT5cIlNUUlVDVFVSRVNcIixcblxuICAgICAgICBTQU1QTEVSX0FSUkFZID0gPGFueT5cIlNBTVBMRVJfQVJSQVlcIlxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVWYXJpYWJsZVNlbWFudGlje1xuICAgICAgICBQT1NJVElPTiA9IDxhbnk+XCJQT1NJVElPTlwiLFxuICAgICAgICBOT1JNQUwgPSA8YW55PlwiTk9STUFMXCIsXG4gICAgICAgIFRFWENPT1JEID0gPGFueT5cIlRFWENPT1JEXCIsXG4gICAgICAgIFRBTkdFTlQgPSA8YW55PlwiVEFOR0VOVFwiLFxuICAgICAgICBDT0xPUiA9IDxhbnk+XCJDT0xPUlwiLFxuXG4gICAgICAgIE1PREVMID0gPGFueT5cIk1PREVMXCIsXG4gICAgICAgIFZJRVcgPSA8YW55PlwiVklFV1wiLFxuICAgICAgICBQUk9KRUNUSU9OID0gPGFueT5cIlBST0pFQ1RJT05cIixcbiAgICAgICAgTU9ERUxfVklFVyA9IDxhbnk+XCJNT0RFTF9WSUVXXCIsXG4gICAgICAgIE1PREVMX1ZJRVdfUFJPSkVDVElPTiA9IDxhbnk+XCJNT0RFTF9WSUVXX1BST0pFQ1RJT05cIixcbiAgICAgICAgTU9ERUxfSU5WRVJTRSA9IDxhbnk+XCJNT0RFTF9JTlZFUlNFXCIsXG4gICAgICAgIFZJRVdfSU5WRVJTRSA9IDxhbnk+XCJWSUVXX0lOVkVSU0VcIixcbiAgICAgICAgUFJPSkVDVElPTl9JTlZFUlNFID0gPGFueT5cIlBST0pFQ1RJT05fSU5WRVJTRVwiLFxuICAgICAgICBNT0RFTF9WSUVXX0lOVkVSU0UgPSA8YW55PlwiTU9ERUxfVklFV19JTlZFUlNFXCIsXG4gICAgICAgIE1PREVMX1ZJRVdfUFJPSkVDVElPTl9JTlZFUlNFID0gPGFueT5cIk1PREVMX1ZJRVdfUFJPSkVDVElPTl9JTlZFUlNFXCIsXG4gICAgICAgIE1PREVMX0lOVkVSU0VfVFJBTlNQT1NFID0gPGFueT5cIk1PREVMX0lOVkVSU0VfVFJBTlNQT1NFXCIsXG4gICAgICAgIE1PREVMX1ZJRVdfSU5WRVJTRV9UUkFOU1BPU0UgPSA8YW55PlwiTU9ERUxfVklFV19JTlZFUlNFX1RSQU5TUE9TRVwiLFxuICAgICAgICBWSUVXUE9SVCA9IDxhbnk+XCJWSUVXUE9SVFwiXG5cbiAgICAgICAgLy9cIkxPQ0FMXCIgKEZMT0FUX01BVDQpLCBcIk1PREVMXCIgKEZMT0FUX01BVDQpLCBcIlZJRVdcIiAoRkxPQVRfTUFUNCksIFwiUFJPSkVDVElPTlwiIChGTE9BVF9NQVQ0KSwgXCJNT0RFTFZJRVdcIiAoRkxPQVRfTUFUNCksIFwiTU9ERUxWSUVXUFJPSkVDVElPTlwiIChGTE9BVF9NQVQ0KSwgXCJNT0RFTElOVkVSU0VcIiAoRkxPQVRfTUFUNCksIFwiVklFV0lOVkVSU0VcIiAoRkxPQVRfTUFUNCksIFwiUFJPSkVDVElPTklOVkVSU0VcIiAoRkxPQVRfTUFUNCksIFwiTU9ERUxWSUVXSU5WRVJTRVwiIChGTE9BVF9NQVQ0KSwgXCJNT0RFTFZJRVdQUk9KRUNUSU9OSU5WRVJTRVwiIChGTE9BVF9NQVQ0KSwgXCJNT0RFTElOVkVSU0VUUkFOU1BPU0VcIiAoRkxPQVRfTUFUMyksIFwiTU9ERUxWSUVXSU5WRVJTRVRSQU5TUE9TRVwiIChGTE9BVF9NQVQzKSwgXCJWSUVXUE9SVFwiIChGTE9BVF9WRUM0KS5cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVmFyaWFibGVDYXRlZ29yeXtcbiAgICAgICAgLyohIGF2b2lkIHRvIGVxdWFsIDBcbiAgICAgICAgZm9yIGV4YW1wbGUsIHdoZW4gY29tcGFyZSB0byB0ZXh0dXJlIGluZGV4LCBpdCBtYXkgZXF1YWwgdGV4dHVyZSAwXG4gICAgICAgICovXG4gICAgICAgIEVOR0lORSA9IDxhbnk+XCJFTkdJTkVcIixcbiAgICAgICAgQ1VTVE9NID0gPGFueT5cIkNVU1RPTVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBWYXJpYWJsZUxpYntcbiAgICAgICAgLy90b2RvIGdyb3VwPyhjb21tb24sY3ViZW1hcC4uLilcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfcG9zaXRpb246U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9wb3NpdGlvblZlYzI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMixcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV9jdXJyZW50RnJhbWVQb3NpdGlvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBhX25leHRGcmFtZVBvc2l0aW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfbm9ybWFsOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfY3VycmVudEZyYW1lTm9ybWFsOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfbmV4dEZyYW1lTm9ybWFsOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGFfY29sb3I6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYV90ZXhDb29yZDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8yLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBhX3RhbmdlbnQ6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9tTWF0cml4OlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUX01BVDQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfdk1hdHJpeDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF9NQVQ0LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3BNYXRyaXg6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9ub3JtYWxNYXRyaXg6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9zYW1wbGVyQ3ViZTA6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NhbXBsZXIyRDA6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9zYW1wbGVyMkQxOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfbGlnaHRNYXBTYW1wbGVyOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfZGlmZnVzZU1hcFNhbXBsZXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9zcGVjdWxhck1hcFNhbXBsZXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9lbWlzc2lvbk1hcFNhbXBsZXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9ub3JtYWxNYXBTYW1wbGVyOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfbWlycm9yU2FtcGxlcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJELFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2NhbWVyYVBvczpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3JlZnJhY3Rpb25SYXRpbzpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3JlZmxlY3Rpdml0eTpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X21hcDBTb3VyY2VSZWdpb246U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9tYXAxU291cmNlUmVnaW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfZGlmZnVzZVNvdXJjZVJlZ2lvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF80LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X21hcDBSZXBlYXRSZWdpb246U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9tYXAxUmVwZWF0UmVnaW9uOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfZGlmZnVzZVJlcGVhdFJlZ2lvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF80LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2NvbWJpbmVNb2RlOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLk5VTUJFUl8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X21peFJhdGlvOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfbGlnaHRNYXBJbnRlbnNpdHk6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMSxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9kaWZmdXNlOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfc3BlY3VsYXI6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9lbWlzc2lvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF80LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NoaW5pbmVzczpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2xpZ2h0TW9kZWw6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuTlVNQkVSXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfaXNCb3RoU2lkZTpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5OVU1CRVJfMSxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9vcGFjaXR5OlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfYW1iaWVudDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF80LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2RpcmVjdGlvbkxpZ2h0czpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkVTLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3BvaW50TGlnaHRzOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfdnBNYXRyaXhGcm9tTGlnaHQ6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfTUFUNCxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9saWdodFBvczpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2ZhclBsYW5lOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfaW50ZXJwb2xhdGlvbjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3RpbGVzSGVpZ2h0TnVtYmVyOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfdGlsZXNXaWR0aE51bWJlcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2FtcGxpdHVkZTpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2pvaW50Q29sb3I6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV90aW1lOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfc3BlZWQ6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMixcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9zaGlmdDpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2FscGhhVGhyZXNob2xkOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzEsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfZmlyZUNvbG9yOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNUUlVDVFVSRSxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9sYXllckhlaWdodERhdGFzOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfbGF5ZXJTYW1wbGVyMkRzOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLlNBTVBMRVJfQVJSQVksXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfaGVyYjFDb2xvcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2hlcmIyQ29sb3I6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9oZXJiM0NvbG9yOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzMsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfZ3JvdW5kQ29sb3I6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdV9hbXBTY2FsZTpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8xLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3dvb2RDb2xvcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3JvYWRDb2xvcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF8zLFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X3NreUNvbG9yOlNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICAgICAgdHlwZTpFVmFyaWFibGVUeXBlLkZMT0FUXzQsXG4gICAgICAgICAgICB2YWx1ZTpFVmFyaWFibGVDYXRlZ29yeS5FTkdJTkVcbiAgICAgICAgfTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHVfY2xvdWRDb2xvcjpTaGFkZXJWYXJpYWJsZSA9IHtcbiAgICAgICAgICAgIHR5cGU6RVZhcmlhYmxlVHlwZS5GTE9BVF80LFxuICAgICAgICAgICAgdmFsdWU6RVZhcmlhYmxlQ2F0ZWdvcnkuRU5HSU5FXG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyB1X2JyaWNrQ29sb3I6U2hhZGVyVmFyaWFibGUgPSB7XG4gICAgICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGUuRkxPQVRfMyxcbiAgICAgICAgICAgIHZhbHVlOkVWYXJpYWJsZUNhdGVnb3J5LkVOR0lORVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFNoYWRlclZhcmlhYmxlID0ge1xuICAgICAgICB0eXBlOkVWYXJpYWJsZVR5cGU7XG4gICAgICAgIHZhbHVlOmFueVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGNvbnN0IF90YWJsZSA9IHdkQ2IuSGFzaC5jcmVhdGU8c3RyaW5nPigpO1xuXG4gICAgLy90b2RvIHJlbW92ZSA8YW55PlxuICAgIF90YWJsZS5hZGRDaGlsZCg8YW55PkVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgXCJmbG9hdFwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLkZMT0FUXzIsIFwidmVjMlwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLkZMT0FUXzMsIFwidmVjM1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLkZMT0FUXzQsIFwidmVjNFwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLkZMT0FUX01BVDMsIFwibWF0M1wiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLkZMT0FUX01BVDQsIFwibWF0NFwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLk5VTUJFUl8xLCBcImludFwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLlNBTVBMRVJfQ1VCRSwgXCJzYW1wbGVyQ3ViZVwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoPGFueT5FVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQsIFwic2FtcGxlcjJEXCIpO1xuXG4gICAgZXhwb3J0IGNsYXNzIFZhcmlhYmxlVHlwZVRhYmxle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldFZhcmlhYmxlVHlwZSh0eXBlOkVWYXJpYWJsZVR5cGUpe1xuICAgICAgICAgICAgLy90b2RvIHJlbW92ZSA8YW55PlxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF90YWJsZS5nZXRDaGlsZCg8YW55PnR5cGUpO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IocmVzdWx0ID09PSB2b2lkIDAsIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKHR5cGUsIFwiaW4gVmFyaWFibGVUeXBlVGFibGVcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgY29uc3QgX3RhYmxlID0gd2RDYi5IYXNoLmNyZWF0ZTxzdHJpbmc+KCk7XG5cbiAgICBfdGFibGUuYWRkQ2hpbGQoXCJsaWdodE1hcFwiLCBcInVfbGlnaHRNYXBTYW1wbGVyXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZChcImRpZmZ1c2VNYXBcIiwgXCJ1X2RpZmZ1c2VNYXBTYW1wbGVyXCIpO1xuICAgIF90YWJsZS5hZGRDaGlsZChcInNwZWN1bGFyTWFwXCIsIFwidV9zcGVjdWxhck1hcFNhbXBsZXJcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKFwiZW1pc3Npb25NYXBcIiwgXCJ1X2VtaXNzaW9uTWFwU2FtcGxlclwiKTtcbiAgICBfdGFibGUuYWRkQ2hpbGQoXCJub3JtYWxNYXBcIiwgXCJ1X25vcm1hbE1hcFNhbXBsZXJcIik7XG4gICAgX3RhYmxlLmFkZENoaWxkKFwibWlycm9yUmVmbGVjdGlvbk1hcFwiLCBcInVfbWlycm9yU2FtcGxlclwiKTtcblxuICAgIGV4cG9ydCBjbGFzcyBWYXJpYWJsZU5hbWVUYWJsZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRWYXJpYWJsZU5hbWUobmFtZTogc3RyaW5nKXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGFibGUuZ2V0Q2hpbGQobmFtZSk7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcihyZXN1bHQgPT09IHZvaWQgMCwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QobmFtZSwgXCJpbiBWYXJpYWJsZU5hbWVUYWJsZVwiKSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2hhZGVyOlNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgY21kOlJlbmRlckNvbW1hbmQsIG1hdGVyaWFsOk1hdGVyaWFsKXtcbiAgICAgICAgfVxuXG4gICAgICAgIEB2aXJ0dWFsXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgIH1cblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21TaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2hhZGVyOkN1c3RvbVNoYWRlcjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBjbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOlNoYWRlck1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBzaGFkZXI6Q3VzdG9tU2hhZGVyID0gdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgICAgICAgICBzaGFkZXIuYXR0cmlidXRlcy5mb3JFYWNoKChhdHRyaWJ1dGU6U2hhZGVyRGF0YSwgbmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQ3VzdG9tU2hhZGVyTGliVXRpbHMuc2VuZEF0dHJpYnV0ZURhdGFXaXRoU2VtYW50aWMobmFtZSwgYXR0cmlidXRlLnR5cGUsIGF0dHJpYnV0ZS52YWx1ZSwgcHJvZ3JhbSwgY21kKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZvckVhY2goKHVuaWZvcm06U2hhZGVyRGF0YSwgbmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZih1bmlmb3JtLnR5cGUgIT09IEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCl7XG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbVNoYWRlckxpYlV0aWxzLnNlbmRVbmlmb3JtRGF0YVdpdGhTZW1hbnRpYyhuYW1lLCB1bmlmb3JtLnR5cGUsIHVuaWZvcm0udmFsdWUsIHByb2dyYW0sIGNtZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbmdpbmVTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzaGFkZXI6RW5naW5lU2hhZGVyO1xuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGF0dHJpYnV0ZXM6d2RDYi5IYXNoPFNoYWRlclZhcmlhYmxlPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyVmFyaWFibGU+KCk7XG4gICAgICAgIHB1YmxpYyB1bmlmb3Jtczp3ZENiLkhhc2g8U2hhZGVyVmFyaWFibGU+ID0gd2RDYi5IYXNoLmNyZWF0ZTxTaGFkZXJWYXJpYWJsZT4oKTtcbiAgICAgICAgcHVibGljIHZzU291cmNlVG9wOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZURlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VWYXJEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWNsYXJlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyB2c1NvdXJjZUZ1bmNEZWZpbmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIHZzU291cmNlQm9keTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2U6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgZnNTb3VyY2VUb3A6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRGVmaW5lOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZVZhckRlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlY2xhcmU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHVibGljIGZzU291cmNlRnVuY0RlZmluZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwdWJsaWMgZnNTb3VyY2VCb2R5OnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZTpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdnNTb3VyY2VEZWZpbmVMaXN0OndkQ2IuQ29sbGVjdGlvbjxhbnk+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBmc1NvdXJjZURlZmluZUxpc3Q6d2RDYi5Db2xsZWN0aW9uPGFueT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oKTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQ6UmVuZGVyQ29tbWFuZCwgbWF0ZXJpYWw6TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIHZzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmcyA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2hhZGVyRGVmaW5pdGlvbigpO1xuXG4gICAgICAgICAgICB2cyA9IHRoaXMuZ2V0VnNDaHVuaygpO1xuICAgICAgICAgICAgZnMgPSB0aGlzLmdldEZzQ2h1bmsoKTtcblxuICAgICAgICAgICAgdnMgJiYgdGhpcy5zZXRWc1NvdXJjZSh2cyk7XG4gICAgICAgICAgICBmcyAmJiB0aGlzLnNldEZzU291cmNlKGZzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZW5kQXR0cmlidXRlRGF0YShwcm9ncmFtOlByb2dyYW0sIG5hbWU6c3RyaW5nLCBkYXRhOmFueSl7XG4gICAgICAgICAgICBwcm9ncmFtLnNlbmRBdHRyaWJ1dGVEYXRhKG5hbWUsIEVWYXJpYWJsZVR5cGUuQlVGRkVSLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHByb2dyYW06UHJvZ3JhbSwgbmFtZTpzdHJpbmcsIGRhdGE6YW55KXtcbiAgICAgICAgICAgIGFzc2VydCghIVZhcmlhYmxlTGliW25hbWVdLCBgJHtuYW1lfSBzaG91bGQgZXhpc3QgaW4gVmFyaWFibGVMaWJgKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIHNlbmRVbmlmb3JtRGF0YShwcm9ncmFtOlByb2dyYW0sIG5hbWU6c3RyaW5nLCBkYXRhOmFueSl7XG4gICAgICAgICAgICBwcm9ncmFtLnNlbmRVbmlmb3JtRGF0YShuYW1lLCBWYXJpYWJsZUxpYltuYW1lXS50eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRWc0NodW5rKCk7XG4gICAgICAgIHByb3RlY3RlZCBnZXRWc0NodW5rKHR5cGU6c3RyaW5nKTtcblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VnNDaHVuayguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gYXJncy5sZW5ndGggPT09IDAgPyB0aGlzLnR5cGUgOiBhcmdzWzBdO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2h1bmsodHlwZSwgRVNoYWRlckxpYlR5cGUudnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldEZzQ2h1bmsoKTtcbiAgICAgICAgcHJvdGVjdGVkIGdldEZzQ2h1bmsodHlwZTpzdHJpbmcpO1xuXG4gICAgICAgIHByb3RlY3RlZCBnZXRGc0NodW5rKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmdzLmxlbmd0aCA9PT0gMCA/IHRoaXMudHlwZSA6IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDaHVuayh0eXBlLCBFU2hhZGVyTGliVHlwZS5mcyk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMudnNTb3VyY2UgPT09IG51bGwsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidnNTb3VyY2VcIiwgXCJiZSBudWxsXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIHNldFZzU291cmNlKHZzOkdMU0xDaHVua3xzdHJpbmcsIG9wZXJhdG9yOnN0cmluZz1cIj1cIil7XG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzU3RyaW5nKHZzKSl7XG4gICAgICAgICAgICAgICAgdGhpcy52c1NvdXJjZSA9IDxzdHJpbmc+dnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFNvdXJjZSh2cywgRVNoYWRlckxpYlR5cGUudnMsIG9wZXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5mc1NvdXJjZSA9PT0gbnVsbCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJmc1NvdXJjZVwiLCBcImJlIG51bGxcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwcm90ZWN0ZWQgc2V0RnNTb3VyY2UoZnM6R0xTTENodW5rfHN0cmluZywgb3BlcmF0b3I6c3RyaW5nPVwiPVwiKXtcbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTdHJpbmcoZnMpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlID0gPHN0cmluZz5mcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0U291cmNlKGZzLCBFU2hhZGVyTGliVHlwZS5mcywgb3BlcmF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEF0dHJpYnV0ZVZhcmlhYmxlKHZhcmlhYmxlQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdGhpcy5fYWRkVmFyaWFibGUodGhpcy5hdHRyaWJ1dGVzLCB2YXJpYWJsZUFycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkVW5pZm9ybVZhcmlhYmxlKHZhcmlhYmxlQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdGhpcy5fYWRkVmFyaWFibGUodGhpcy51bmlmb3JtcywgdmFyaWFibGVBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkVmFyaWFibGUodGFyZ2V0OndkQ2IuSGFzaDxTaGFkZXJWYXJpYWJsZT4sIHZhcmlhYmxlQXJyOkFycmF5PHN0cmluZz4pe1xuICAgICAgICAgICAgdmFyaWFibGVBcnIuZm9yRWFjaCgodmFyaWFibGU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgTG9nLmFzc2VydChWYXJpYWJsZUxpYlt2YXJpYWJsZV0sIExvZy5pbmZvLkZVTkNfU0hPVUxEKHZhcmlhYmxlLCBcImV4aXN0IGluIFZhcmlhYmxlTGliXCIpKTtcblxuICAgICAgICAgICAgICAgIHRhcmdldC5hZGRDaGlsZCh2YXJpYWJsZSwgVmFyaWFibGVMaWJbdmFyaWFibGVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJTaGFkZXJEZWZpbml0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmVMaXN0LnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lTGlzdC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVG9wID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2UgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLmZzU291cmNlVG9wID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWNsYXJlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VGdW5jRGVmaW5lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VCb2R5ID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q2h1bmsodHlwZTpzdHJpbmcsIHNvdXJjZVR5cGU6RVNoYWRlckxpYlR5cGUpe1xuICAgICAgICAgICAgdmFyIGtleSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0eXBlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodHlwZS5pbmRleE9mKFwiLmdsc2xcIikgPiAtMSl7XG4gICAgICAgICAgICAgICAga2V5ID0gIGAke3dkQ2IuUGF0aFV0aWxzLmJhc2VuYW1lKHR5cGUsIFwiLmdsc2xcIil9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgaWYoc291cmNlVHlwZSA9PT0gRVNoYWRlckxpYlR5cGUudnMpe1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBgJHt0eXBlfV92ZXJ0ZXhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBgJHt0eXBlfV9mcmFnbWVudGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gU2hhZGVyQ2h1bmtba2V5XSA/IFNoYWRlckNodW5rW2tleV0gOiBTaGFkZXJDaHVuay5lbXB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldFNvdXJjZShjaHVuazpHTFNMQ2h1bmssIHNvdXJjZVR5cGU6RVNoYWRlckxpYlR5cGUsIG9wZXJhdG9yOnN0cmluZykge1xuICAgICAgICAgICAgaWYoIWNodW5rKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAob3BlcmF0b3Ipe1xuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VUb3BgXSArPSBjaHVuay50b3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VEZWZpbmVgXSArPSBjaHVuay5kZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VWYXJEZWNsYXJlYF0gKz0gY2h1bmsudmFyRGVjbGFyZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtzb3VyY2VUeXBlfVNvdXJjZUZ1bmNEZWNsYXJlYF0gKz0gY2h1bmsuZnVuY0RlY2xhcmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VGdW5jRGVmaW5lYF0gKz0gY2h1bmsuZnVuY0RlZmluZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtzb3VyY2VUeXBlfVNvdXJjZUJvZHlgXSArPSBjaHVuay5ib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiPVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlVG9wYF0gPSBjaHVuay50b3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VEZWZpbmVgXSA9IGNodW5rLmRlZmluZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgJHtzb3VyY2VUeXBlfVNvdXJjZVZhckRlY2xhcmVgXSA9IGNodW5rLnZhckRlY2xhcmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VGdW5jRGVjbGFyZWBdID0gY2h1bmsuZnVuY0RlY2xhcmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYCR7c291cmNlVHlwZX1Tb3VyY2VGdW5jRGVmaW5lYF0gPSBjaHVuay5mdW5jRGVmaW5lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake3NvdXJjZVR5cGV9U291cmNlQm9keWBdID0gY2h1bmsuYm9keTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcIm9wZXJ0b3I6XCIsIG9wZXJhdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW51bSBFU2hhZGVyTGliVHlwZXtcbiAgICAgICAgdnM9PGFueT5cInZzXCIsXG4gICAgICAgIGZzPTxhbnk+XCJmc1wiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25TaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImNvbW1vblwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X21NYXRyaXhcIiwgcXVhZENtZC5tTWF0cml4KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV92TWF0cml4XCIsIHF1YWRDbWQudk1hdHJpeCk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcE1hdHJpeFwiLCBxdWFkQ21kLnBNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIC8vdG9kbyB1c2UgVmFyaWFibGVMaWIueHh4P1xuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9tTWF0cml4XCIsIFwidV92TWF0cml4XCIsIFwidV9wTWF0cml4XCJdKTtcblxuICAgICAgICAgICAgdGhpcy52c1NvdXJjZURlZmluZSA9IFNoYWRlckNodW5rLmNvbW1vbl9kZWZpbmUuZGVmaW5lICsgU2hhZGVyQ2h1bmsuY29tbW9uX3ZlcnRleC5kZWZpbmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZSA9IFNoYWRlckNodW5rLmNvbW1vbl9mdW5jdGlvbi5mdW5jRGVmaW5lICsgU2hhZGVyQ2h1bmsuY29tbW9uX3ZlcnRleC5mdW5jRGVmaW5lO1xuXG4gICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lID0gU2hhZGVyQ2h1bmsuY29tbW9uX2RlZmluZS5kZWZpbmUgKyBTaGFkZXJDaHVuay5jb21tb25fZnJhZ21lbnQuZGVmaW5lO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmUgPSBTaGFkZXJDaHVuay5jb21tb25fZnVuY3Rpb24uZnVuY0RlZmluZSArIFNoYWRlckNodW5rLmNvbW1vbl9mcmFnbWVudC5mdW5jRGVmaW5lO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbW1vblZlcnRpY2VTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImNvbW1vblZlcnRpY2VcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRBdHRyaWJ1dGVWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX3Bvc2l0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NlbmRBdHRyaWJ1dGVWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICB2YXIgdmVydGljZUJ1ZmZlciA9IDxBcnJheUJ1ZmZlcj5xdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0UpO1xuXG4gICAgICAgICAgICBpZighdmVydGljZUJ1ZmZlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9wb3NpdGlvblwiLCB2ZXJ0aWNlQnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25Ob3JtYWxTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImNvbW1vbk5vcm1hbFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5fc2VuZEF0dHJpYnV0ZVZhcmlhYmxlcyhwcm9ncmFtLCBxdWFkQ21kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZVZhcmlhYmxlKFtcImFfbm9ybWFsXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NlbmRBdHRyaWJ1dGVWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICB2YXIgbm9ybWFsQnVmZmVyOkFycmF5QnVmZmVyID0gcXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5OT1JNQUwpO1xuXG4gICAgICAgICAgICBpZighbm9ybWFsQnVmZmVyKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgXCJhX25vcm1hbFwiLCBub3JtYWxCdWZmZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJiYXNpY1wiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkJhc2ljTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIGNvbG9yQnVmZmVyOkFycmF5QnVmZmVyID0gcXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5DT0xPUik7XG5cbiAgICAgICAgICAgIGlmKCFjb2xvckJ1ZmZlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICB0aGlzIGNhdXNlIHdhcm46XCJQRVJGT1JNQU5DRSBXQVJOSU5HOiBBdHRyaWJ1dGUgMCBpcyBkaXNhYmxlZC4gVGhpcyBoYXMgc2lnbmZpY2FudCBwZXJmb3JtYW5jZSBwZW5hbHR5XCIgaGVyZT9cbiAgICAgICAgICAgICBiZWNhdXNlIGFfY29sb3IncG9zIGlzIDAsIGFuZCBpdCBzaG91bGQgYmUgYXJyYXkgZGF0YShsaWtlIEZsb2F0MzJBcnJheSlcbiAgICAgICAgICAgICByZWZlciB0bzogaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvd2ViZ2wvd2lraS9XZWJHTF9hbmRfT3BlbkdMX0RpZmZlcmVuY2VzI1ZlcnRleF9BdHRyaWJ1dGVfMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9jb2xvclwiLCBjb2xvckJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfb3BhY2l0eVwiLCBtYXRlcmlhbC5vcGFjaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkJhc2ljTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV9jb2xvclwiXSk7XG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X29wYWNpdHlcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IFNoYWRlclNuaXBwZXQuc2V0UG9zX212cCArIFNoYWRlckNodW5rLmJhc2ljX3ZlcnRleC5ib2R5O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljRW5kU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJiYXNpY0VuZFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBNb3JwaENvbW1vblNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibW9ycGhDb21tb25cIjtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIGFzc2VydCghIXF1YWRDbWQuYW5pbWF0aW9uLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImVudGl0eU9iamVjdFwiLCBcImFkZCBNb3JwaEFuaW1hdGlvbiBjb21wb25lbnRcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBhbmltID0gPE1vcnBoQW5pbWF0aW9uPihxdWFkQ21kLmFuaW1hdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9pbnRlcnBvbGF0aW9uXCIsIGFuaW0uaW50ZXJwb2xhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9pbnRlcnBvbGF0aW9uXCJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBNb3JwaFZlcnRpY2VTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcIm1vcnBoVmVydGljZVwiO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgYXNzZXJ0KCEhcXVhZENtZC5hbmltYXRpb24sIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZW50aXR5T2JqZWN0XCIsIFwiYWRkIE1vcnBoQW5pbWF0aW9uIGNvbXBvbmVudFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIG1vcnBoVmVydGljZURhdGEgPSBxdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0UpO1xuXG4gICAgICAgICAgICBpZighbW9ycGhWZXJ0aWNlRGF0YSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9jdXJyZW50RnJhbWVQb3NpdGlvblwiLCBtb3JwaFZlcnRpY2VEYXRhWzBdKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgXCJhX25leHRGcmFtZVBvc2l0aW9uXCIsIG1vcnBoVmVydGljZURhdGFbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV9jdXJyZW50RnJhbWVQb3NpdGlvblwiLCBcImFfbmV4dEZyYW1lUG9zaXRpb25cIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1vcnBoTm9ybWFsU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJtb3JwaE5vcm1hbFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIG1vcnBoTm9ybWFsRGF0YSA9IHF1YWRDbWQuYnVmZmVycy5nZXRDaGlsZChFQnVmZmVyRGF0YVR5cGUuTk9STUFMKTtcblxuICAgICAgICAgICAgaWYoIW1vcnBoTm9ybWFsRGF0YSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV9jdXJyZW50RnJhbWVOb3JtYWxcIiwgbW9ycGhOb3JtYWxEYXRhWzBdKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgXCJhX25leHRGcmFtZU5vcm1hbFwiLCBtb3JwaE5vcm1hbERhdGFbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV9jdXJyZW50RnJhbWVOb3JtYWxcIiwgXCJhX25leHRGcmFtZU5vcm1hbFwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU2t5Ym94U2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJza3lib3hcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X3NhbXBsZXJDdWJlMFwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRW52TWFwRm9yQmFzaWNTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9ub3JtYWxNYXRyaXhcIiwgcXVhZENtZC5ub3JtYWxNYXRyaXgpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2NhbWVyYVBvc1wiLCBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmN1cnJlbnRDYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXCJ1X3NhbXBsZXJDdWJlMFwiLCBcInVfY2FtZXJhUG9zXCIsIFwidV9ub3JtYWxNYXRyaXhcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IFNoYWRlclNuaXBwZXQuc2V0UG9zX212cCArIHRoaXMuZ2V0VnNDaHVuaygpLmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0RW52TWFwU291cmNlKCl7XG4gICAgICAgICAgICB2YXIgdnMgPSB0aGlzLmdldFZzQ2h1bmsoXCJlbnZNYXBfZm9yQmFzaWNcIiksXG4gICAgICAgICAgICAgICAgZnMgPSB0aGlzLmdldEZzQ2h1bmsoXCJlbnZNYXBfZm9yQmFzaWNcIik7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VUb3A9IHZzLnRvcDtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmU9IHZzLmRlZmluZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlPSB2cy52YXJEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlPSB2cy5mdW5jRGVjbGFyZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lPSB2cy5mdW5jRGVmaW5lO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUJvZHkgKz0gdnMuYm9keTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZShmcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNFbnZNYXBGb3JCYXNpY1NoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckJhc2ljU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJiYXNpY19lbnZNYXBfZm9yQmFzaWNcIjtcbiAgICB9XG59XG5cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uRm9yQmFzaWNTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JCYXNpY1NoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwicmVmbGVjdGlvbl9mb3JCYXNpY1wiO1xuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUmVmcmFjdGlvbkZvckJhc2ljU2hhZGVyTGliIGV4dGVuZHMgRW52TWFwRm9yQmFzaWNTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcInJlZnJhY3Rpb25fZm9yQmFzaWNcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JlZnJhY3Rpb25SYXRpb1wiLCBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfcmVmcmFjdGlvblJhdGlvXCJdKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRFbnZNYXBTb3VyY2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGhpcy5nZXRGc0NodW5rKCksIFwiK1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBGcmVzbmVsRm9yQmFzaWNTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JCYXNpY1NoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiZnJlc25lbF9mb3JCYXNpY1wiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmcmFjdGlvblJhdGlvXCIsIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyk7XG5cblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JlZmxlY3Rpdml0eVwiLCBtYXRlcmlhbC5yZWZsZWN0aXZpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfcmVmcmFjdGlvblJhdGlvXCIsIFwidV9yZWZsZWN0aXZpdHlcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudk1hcEZvckxpZ2h0U2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKSB7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9zYW1wbGVyQ3ViZTBcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlQm9keSA9IFNoYWRlclNuaXBwZXQuc2V0UG9zX212cCArIHRoaXMuZ2V0VnNDaHVuaygpLmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0RW52TWFwU291cmNlKCl7XG4gICAgICAgICAgICB2YXIgdnMgPSB0aGlzLmdldFZzQ2h1bmsoXCJlbnZNYXBfZm9yTGlnaHRcIiksXG4gICAgICAgICAgICAgICAgZnMgPSB0aGlzLmdldEZzQ2h1bmsoXCJlbnZNYXBfZm9yTGlnaHRcIik7XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VUb3A9IHZzLnRvcDtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmU9IHZzLmRlZmluZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VWYXJEZWNsYXJlPSB2cy52YXJEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUZ1bmNEZWNsYXJlPSB2cy5mdW5jRGVjbGFyZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVmaW5lPSB2cy5mdW5jRGVmaW5lO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUJvZHkgKz0gdnMuYm9keTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZShmcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNFbnZNYXBGb3JMaWdodFNoYWRlckxpYiBleHRlbmRzIEVudk1hcEZvckxpZ2h0U2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJiYXNpY19mb3JMaWdodF9lbnZNYXBcIjtcbiAgICB9XG59XG5cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uRm9yTGlnaHRTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JMaWdodFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwicmVmbGVjdGlvbl9mb3JMaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgUmVmcmFjdGlvbkZvckxpZ2h0U2hhZGVyTGliIGV4dGVuZHMgRW52TWFwRm9yTGlnaHRTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcInJlZnJhY3Rpb25fZm9yTGlnaHRcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JlZnJhY3Rpb25SYXRpb1wiLCBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfcmVmcmFjdGlvblJhdGlvXCJdKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRFbnZNYXBTb3VyY2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGhpcy5nZXRGc0NodW5rKCksIFwiK1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBGcmVzbmVsRm9yTGlnaHRTaGFkZXJMaWIgZXh0ZW5kcyBFbnZNYXBGb3JMaWdodFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiZnJlc25lbF9mb3JMaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbSwgcXVhZENtZCwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgaWYobWF0ZXJpYWwucmVmbGVjdGl2aXR5ICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfcmVmbGVjdGl2aXR5XCIsIG1hdGVyaWFsLnJlZmxlY3Rpdml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9yZWZsZWN0aXZpdHlcIiwgU2hhZGVyQ2h1bmsuTlVMTCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JlZnJhY3Rpb25SYXRpb1wiLCBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfcmVmcmFjdGlvblJhdGlvXCIsIFwidV9yZWZsZWN0aXZpdHlcIl0pO1xuXG4gICAgICAgICAgICB0aGlzLnNldEVudk1hcFNvdXJjZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoKSwgXCIrXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpCYXNpY01hdGVyaWFsKSB7XG4gICAgICAgICAgICB2YXIgdGV4Q29vcmRCdWZmZXI6QXJyYXlCdWZmZXIgPSBxdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlRFWENPT1JEKSxcbiAgICAgICAgICAgICAgICBtYXBMaXN0OndkQ2IuQ29sbGVjdGlvbjxCYXNpY1RleHR1cmV8UHJvY2VkdXJhbFRleHR1cmU+ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBtYXAwOkJhc2ljVGV4dHVyZXxQcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCF0ZXhDb29yZEJ1ZmZlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV90ZXhDb29yZFwiLCB0ZXhDb29yZEJ1ZmZlcik7XG5cblxuICAgICAgICAgICAgbWFwTGlzdCA9IG1hdGVyaWFsLm1hcExpc3Q7XG4gICAgICAgICAgICBtYXAwID0gbWFwTGlzdC5nZXRDaGlsZCgwKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X21hcDBTb3VyY2VSZWdpb25cIiwgbWFwMC5zb3VyY2VSZWdpb25Gb3JHTFNMKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9tYXAwUmVwZWF0UmVnaW9uXCIsIG1hcDAucmVwZWF0UmVnaW9uKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kTWFwU2hhZGVyVmFyaWFibGVzKHByb2dyYW0sIHF1YWRDbWQsIG1hdGVyaWFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkJhc2ljTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV90ZXhDb29yZFwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfc2FtcGxlcjJEMFwiLCBcInVfbWFwMFNvdXJjZVJlZ2lvblwiLCBcInVfbWFwMFJlcGVhdFJlZ2lvblwiXSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldE1hcFNvdXJjZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIHNlbmRNYXBTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpCYXNpY01hdGVyaWFsKXtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldE1hcFNvdXJjZSgpe1xuICAgICAgICAgICAgdmFyIHZzID0gdGhpcy5nZXRWc0NodW5rKFwibWFwX2ZvckJhc2ljXCIpLFxuICAgICAgICAgICAgICAgIGZzID0gdGhpcy5nZXRGc0NodW5rKFwibWFwX2ZvckJhc2ljXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVG9wPSB2cy50b3A7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRGVmaW5lPSB2cy5kZWZpbmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVmFyRGVjbGFyZT0gdnMudmFyRGVjbGFyZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VGdW5jRGVjbGFyZT0gdnMuZnVuY0RlY2xhcmU7XG4gICAgICAgICAgICB0aGlzLnZzU291cmNlRnVuY0RlZmluZT0gdnMuZnVuY0RlZmluZTtcbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VCb2R5ID0gdnMuYm9keTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZShmcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQmFzaWNNYXBTaGFkZXJMaWIgZXh0ZW5kcyBNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibWFwX2ZvckJhc2ljXCI7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgLy90b2RvIHN1cHBvcnQgbW9yZSB0aGFuIDIgbWFwc1xuICAgIGV4cG9ydCBjbGFzcyBNdWx0aU1hcFNoYWRlckxpYiBleHRlbmRzIE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJtdWx0aV9tYXBfZm9yQmFzaWNcIjtcblxuXG4gICAgICAgIHByb3RlY3RlZCBzZW5kTWFwU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6QmFzaWNNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgbWFwTGlzdDp3ZENiLkNvbGxlY3Rpb248QmFzaWNUZXh0dXJlfFByb2NlZHVyYWxUZXh0dXJlPiA9IG1hdGVyaWFsLm1hcExpc3QsXG4gICAgICAgICAgICAgICAgbWFwMSA9IG1hcExpc3QuZ2V0Q2hpbGQoMSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9jb21iaW5lTW9kZVwiLCBtYXRlcmlhbC5tYXBDb21iaW5lTW9kZSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfbWl4UmF0aW9cIiwgbWF0ZXJpYWwubWFwTWl4UmF0aW8pO1xuXG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfbWFwMVNvdXJjZVJlZ2lvblwiLCBtYXAxLnNvdXJjZVJlZ2lvbkZvckdMU0wpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X21hcDFSZXBlYXRSZWdpb25cIiwgbWFwMS5yZXBlYXRSZWdpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6QmFzaWNNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFwidV9zYW1wbGVyMkQxXCIsIFwidV9jb21iaW5lTW9kZVwiLCBcInVfbWl4UmF0aW9cIixcbiAgICAgICAgICAgICAgICBcInVfbWFwMVNvdXJjZVJlZ2lvblwiLCBcInVfbWFwMVJlcGVhdFJlZ2lvblwiXG4gICAgICAgICAgICBdKTtcblxuXG4gICAgICAgICAgICB0aGlzLnZzU291cmNlVmFyRGVjbGFyZSArPSB0aGlzLmdldFZzQ2h1bmsoKS52YXJEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy52c1NvdXJjZUJvZHkgKz0gdGhpcy5nZXRWc0NodW5rKCkuYm9keTtcblxuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZVZhckRlY2xhcmUgPSB0aGlzLmdldEZzQ2h1bmsoKS52YXJEZWNsYXJlO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUZ1bmNEZWZpbmUgPSB0aGlzLmdldEZzQ2h1bmsoKS5mdW5jRGVmaW5lO1xuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZUJvZHkgPSB0aGlzLmdldEZzQ2h1bmsoKS5ib2R5O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE1pcnJvckZvckJhc2ljU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcIm1pcnJvcl9mb3JCYXNpY1wiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJtaXJyb3JSZWZsZWN0aW9uTWFwXCIpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQcm9jZWR1cmFsU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2hhZGVyOlByb2NlZHVyYWxTaGFkZXI7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgY21kOlByb2NlZHVyYWxDb21tYW5kKTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExpZ2h0Q29tbW9uU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImxpZ2h0Q29tbW9uXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLnNldFZzU291cmNlKHRoaXMuZ2V0VnNDaHVuayhcImxpZ2h0X2NvbW1vbi5nbHNsXCIpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VnNTb3VyY2UodGhpcy5nZXRWc0NodW5rKCksIFwiK1wiKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoXCJsaWdodF9jb21tb24uZ2xzbFwiKSk7XG4gICAgICAgICAgICB0aGlzLnNldEZzU291cmNlKHRoaXMuZ2V0RnNDaHVuaygpLCBcIitcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTGlnaHRTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImxpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfbm9ybWFsTWF0cml4XCIsIHF1YWRDbWQubm9ybWFsTWF0cml4KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9jYW1lcmFQb3NcIiwgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5jdXJyZW50Q2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbik7XG5cblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3NoaW5pbmVzc1wiLCBtYXRlcmlhbC5zaGluaW5lc3MpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X29wYWNpdHlcIiwgbWF0ZXJpYWwub3BhY2l0eSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9saWdodE1vZGVsXCIsIHRoaXMuX2NvbnZlcnRMaWdodE1vZGVsVG9HTFNMVmFyaWFibGUobWF0ZXJpYWwubGlnaHRNb2RlbCkpO1xuXG4gICAgICAgICAgICB0aGlzLl9zZW5kTGlnaHRWYXJpYWJsZXMocHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9ub3JtYWxNYXRyaXhcIiwgXCJ1X2NhbWVyYVBvc1wiLCBcInVfc2hpbmluZXNzXCIsIFwidV9hbWJpZW50XCIsIFwidV9vcGFjaXR5XCIsIFwidV9pc0JvdGhTaWRlXCIsIFwidV9saWdodE1vZGVsXCJdKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0TGlnaHREZWZpbml0aW9uKG1hdGVyaWFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NlbmRMaWdodFZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0pe1xuICAgICAgICAgICAgdmFyIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IHdkLkRpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uTGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHNjZW5lLmRpcmVjdGlvbkxpZ2h0cyxcbiAgICAgICAgICAgICAgICBhbWJpZW50TGlnaHQ6R2FtZU9iamVjdCA9c2NlbmUuYW1iaWVudExpZ2h0LFxuICAgICAgICAgICAgICAgIHBvaW50TGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHNjZW5lLnBvaW50TGlnaHRzO1xuXG4gICAgICAgICAgICBpZihhbWJpZW50TGlnaHQpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9hbWJpZW50XCIsIGFtYmllbnRMaWdodC5nZXRDb21wb25lbnQ8QW1iaWVudExpZ2h0PihBbWJpZW50TGlnaHQpLmNvbG9yLnRvVmVjdG9yNCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYocG9pbnRMaWdodHMpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRQb2ludExpZ2h0VmFyaWFibGVzKHByb2dyYW0sIHBvaW50TGlnaHRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZGlyZWN0aW9uTGlnaHRzKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZW5kRGlyZWN0aW9uTGlnaHRWYXJpYWJsZXMocHJvZ3JhbSwgZGlyZWN0aW9uTGlnaHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NlbmRQb2ludExpZ2h0VmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHBvaW50TGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiApe1xuICAgICAgICAgICAgcG9pbnRMaWdodHMuZm9yRWFjaCgocG9pbnRMaWdodDpHYW1lT2JqZWN0LCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbGlnaHRDb21wb25lbnQ6UG9pbnRMaWdodCA9IHBvaW50TGlnaHQuZ2V0Q29tcG9uZW50PFBvaW50TGlnaHQ+KFBvaW50TGlnaHQpO1xuXG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0ucG9zaXRpb25gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzMsIGxpZ2h0Q29tcG9uZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X3BvaW50TGlnaHRzWyR7aW5kZXh9XS5jb2xvcmAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfNCwgbGlnaHRDb21wb25lbnQuY29sb3IudG9WZWN0b3I0KCkpO1xuXG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0uaW50ZW5zaXR5YCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBsaWdodENvbXBvbmVudC5pbnRlbnNpdHkpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfcG9pbnRMaWdodHNbJHtpbmRleH1dLmNvbnN0YW50YCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBsaWdodENvbXBvbmVudC5jb25zdGFudCk7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0ubGluZWFyYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBsaWdodENvbXBvbmVudC5saW5lYXIpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfcG9pbnRMaWdodHNbJHtpbmRleH1dLnF1YWRyYXRpY2AsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgbGlnaHRDb21wb25lbnQucXVhZHJhdGljKTtcblxuICAgICAgICAgICAgICAgIGlmKGxpZ2h0Q29tcG9uZW50LnJhbmdlICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0ucmFuZ2VgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGxpZ2h0Q29tcG9uZW50LnJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9wb2ludExpZ2h0c1ske2luZGV4fV0ucmFuZ2VgLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIFNoYWRlckNodW5rLk5VTEwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2VuZERpcmVjdGlvbkxpZ2h0VmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIGRpcmVjdGlvbkxpZ2h0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgZGlyZWN0aW9uTGlnaHRzLmZvckVhY2goKGRpcmVjdGlvbkxpZ2h0OkdhbWVPYmplY3QsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBsaWdodENvbXBvbmVudDpEaXJlY3Rpb25MaWdodCA9IGRpcmVjdGlvbkxpZ2h0LmdldENvbXBvbmVudDxEaXJlY3Rpb25MaWdodD4oRGlyZWN0aW9uTGlnaHQpO1xuXG4gICAgICAgICAgICAgICAgaWYoc2VsZi5faXNaZXJvKGxpZ2h0Q29tcG9uZW50LnBvc2l0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfZGlyZWN0aW9uTGlnaHRzWyR7aW5kZXh9XS5wb3NpdGlvbmAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgRGlyZWN0aW9uTGlnaHQuZGVmYXVsdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9kaXJlY3Rpb25MaWdodHNbJHtpbmRleH1dLnBvc2l0aW9uYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8zLCBsaWdodENvbXBvbmVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9kaXJlY3Rpb25MaWdodHNbJHtpbmRleH1dLmNvbG9yYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF80LCBsaWdodENvbXBvbmVudC5jb2xvci50b1ZlY3RvcjQoKSk7XG5cbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2RpcmVjdGlvbkxpZ2h0c1ske2luZGV4fV0uaW50ZW5zaXR5YCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBsaWdodENvbXBvbmVudC5pbnRlbnNpdHkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1plcm8ocG9zaXRpb246VmVjdG9yMyl7XG4gICAgICAgICAgICB2YXIgdmFsID0gcG9zaXRpb24udmFsdWVzO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsWzBdID09PSAwICYmIHZhbFsxXSA9PT0gMCAmJiB2YWxbMl0gPT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRMaWdodERlZmluaXRpb24obWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIHNjZW5lOlNjZW5lRGlzcGF0Y2hlciA9IHdkLkRpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uTGlnaHRzOndkQ2IuQ29sbGVjdGlvbjxHYW1lT2JqZWN0PiA9IHNjZW5lLmRpcmVjdGlvbkxpZ2h0cyxcbiAgICAgICAgICAgICAgICBwb2ludExpZ2h0czp3ZENiLkNvbGxlY3Rpb248R2FtZU9iamVjdD4gPSBzY2VuZS5wb2ludExpZ2h0cyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25fbGlnaHRzX2NvdW50ID0gMCxcbiAgICAgICAgICAgICAgICBwb2ludF9saWdodHNfY291bnQgPSAwO1xuXG4gICAgICAgICAgICBpZihkaXJlY3Rpb25MaWdodHMpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfZGlyZWN0aW9uTGlnaHRzXCJdKTtcblxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbl9saWdodHNfY291bnQgPSBkaXJlY3Rpb25MaWdodHMuZ2V0Q291bnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYocG9pbnRMaWdodHMpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfcG9pbnRMaWdodHNcIl0pO1xuXG4gICAgICAgICAgICAgICAgcG9pbnRfbGlnaHRzX2NvdW50ID0gcG9pbnRMaWdodHMuZ2V0Q291bnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYWRkRGVmaW5lKHRoaXMudnNTb3VyY2VEZWZpbmVMaXN0LCBkaXJlY3Rpb25fbGlnaHRzX2NvdW50LCBwb2ludF9saWdodHNfY291bnQpO1xuICAgICAgICAgICAgdGhpcy5fYWRkRGVmaW5lKHRoaXMuZnNTb3VyY2VEZWZpbmVMaXN0LCBkaXJlY3Rpb25fbGlnaHRzX2NvdW50LCBwb2ludF9saWdodHNfY291bnQpO1xuXG4gICAgICAgICAgICAvL3RvZG8gaWYgXCJib3RoIHNpZGVcIiBsb2dpYyBiZWNvbWUgY29tcGxleCBvciBiZSB1c2VkIGluIG1hbnkgcGxhY2VzLCB0aGVuIGl0IHNob3VsZCBleHRyYWN0IEJvdGhTaWRlU2hhZGVyTGliIGFuZCBOb0JvdGhTaWRlU2hhZGVyTGliXG4gICAgICAgICAgICBpZihtYXRlcmlhbC5zaWRlID09PSBFU2lkZS5CT1RIKXtcbiAgICAgICAgICAgICAgICB0aGlzLmZzU291cmNlRGVmaW5lTGlzdC5hZGRDaGlsZHJlbihbe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkJPVEhfU0lERVwiXG4gICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkRGVmaW5lKGxpc3QsIGRpcmVjdGlvbl9saWdodHNfY291bnQsIHBvaW50X2xpZ2h0c19jb3VudCl7XG4gICAgICAgICAgICBsaXN0LmFkZENoaWxkcmVuKFt7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJESVJFQ1RJT05fTElHSFRTX0NPVU5UXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRpcmVjdGlvbl9saWdodHNfY291bnRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlBPSU5UX0xJR0hUU19DT1VOVFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwb2ludF9saWdodHNfY291bnRcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGxpZ2h0TW9kZWw6RUxpZ2h0TW9kZWwpe1xuICAgICAgICAgICAgYXNzZXJ0KGxpZ2h0TW9kZWwgIT09IEVMaWdodE1vZGVsLkxBTUJFUlQsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcImxpZ2h0TW9kZWxcIiwgXCI9PT0gRUxpZ2h0TW9kZWwuTEFNQkVSVFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRMaWdodE1vZGVsVG9HTFNMVmFyaWFibGUobGlnaHRNb2RlbDpFTGlnaHRNb2RlbCl7XG4gICAgICAgICAgICBzd2l0Y2ggKGxpZ2h0TW9kZWwpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUxpZ2h0TW9kZWwuQkxJTk46XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGNhc2UgRUxpZ2h0TW9kZWwuUEhPTkc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgIGNhc2UgRUxpZ2h0TW9kZWwuQ09OU1RBTlQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGBsaWdodE1vZGVsOiR7bGlnaHRNb2RlbH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExpZ2h0RW5kU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJsaWdodEVuZFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VMaWdodE1hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgQ29tbW9uTGlnaHRNYXBTaGFkZXJMaWIgZXh0ZW5kcyBFbmdpbmVTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIHRleENvb3JkQnVmZmVyOkFycmF5QnVmZmVyID0gcXVhZENtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5URVhDT09SRCk7XG5cbiAgICAgICAgICAgIGlmKCF0ZXhDb29yZEJ1ZmZlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV90ZXhDb29yZFwiLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX3RleENvb3JkXCJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBMaWdodE1hcFNoYWRlckxpYiBleHRlbmRzIEJhc2VMaWdodE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibGlnaHRNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9saWdodE1hcEludGVuc2l0eVwiLCBtYXRlcmlhbC5saWdodE1hcEludGVuc2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcImxpZ2h0TWFwXCIpLCBcInVfbGlnaHRNYXBJbnRlbnNpdHlcIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRGlmZnVzZU1hcFNoYWRlckxpYiBleHRlbmRzIEJhc2VMaWdodE1hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiZGlmZnVzZU1hcFwiO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdmFyIGRpZmZ1c2VNYXA6YW55ID0gbWF0ZXJpYWwuZGlmZnVzZU1hcDtcblxuICAgICAgICAgICAgYXNzZXJ0KCEhZGlmZnVzZU1hcCwgTG9nLmluZm8uRlVOQ19NVVNUX0RFRklORShcImRpZmZ1c2VNYXBcIikpO1xuXG4gICAgICAgICAgICBhc3NlcnQoISFkaWZmdXNlTWFwLnNvdXJjZVJlZ2lvbkZvckdMU0wgJiYgISFkaWZmdXNlTWFwLnJlcGVhdFJlZ2lvbiwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtYXRlcmlhbC5kaWZmdXNlTWFwXCIsIFwiaGFzIHNvdXJjZVJlZ2lvbkZvckdMU0wscmVwZWF0UmVnaW9uIGRhdGFcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBkaWZmdXNlTWFwOkltYWdlVGV4dHVyZXxQcm9jZWR1cmFsVGV4dHVyZSA9IDxJbWFnZVRleHR1cmV8UHJvY2VkdXJhbFRleHR1cmU+bWF0ZXJpYWwuZGlmZnVzZU1hcDtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2RpZmZ1c2VTb3VyY2VSZWdpb25cIiwgZGlmZnVzZU1hcC5zb3VyY2VSZWdpb25Gb3JHTFNMKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9kaWZmdXNlUmVwZWF0UmVnaW9uXCIsIGRpZmZ1c2VNYXAucmVwZWF0UmVnaW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcImRpZmZ1c2VNYXBcIiksXG4gICAgICAgICAgICAgICAgXCJ1X2RpZmZ1c2VTb3VyY2VSZWdpb25cIiwgXCJ1X2RpZmZ1c2VSZXBlYXRSZWdpb25cIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgU3BlY3VsYXJNYXBTaGFkZXJMaWIgZXh0ZW5kcyBCYXNlTGlnaHRNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcInNwZWN1bGFyTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJzcGVjdWxhck1hcFwiKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRW1pc3Npb25NYXBTaGFkZXJMaWIgZXh0ZW5kcyBCYXNlTGlnaHRNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcImVtaXNzaW9uTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJlbWlzc2lvbk1hcFwiKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTm9ybWFsTWFwU2hhZGVyTGliIGV4dGVuZHMgQmFzZUxpZ2h0TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub3JtYWxNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciB0YW5nZW50QnVmZmVyOkFycmF5QnVmZmVyID0gbnVsbDtcblxuICAgICAgICAgICAgc3VwZXIuc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtLCBxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRhbmdlbnRCdWZmZXIgPSBxdWFkQ21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlRBTkdFTlQpO1xuXG4gICAgICAgICAgICBpZighdGFuZ2VudEJ1ZmZlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIFwiYV90YW5nZW50XCIsIHRhbmdlbnRCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlVmFyaWFibGUoW1wiYV90YW5nZW50XCJdKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcIm5vcm1hbE1hcFwiKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTm9MaWdodE1hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9MaWdodE1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE5vRGlmZnVzZU1hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9EaWZmdXNlTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfZGlmZnVzZVwiLCBtYXRlcmlhbC5jb2xvci50b1ZlY3RvcjQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9kaWZmdXNlXCJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBOb1NwZWN1bGFyTWFwU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub1NwZWN1bGFyTWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfc3BlY3VsYXJcIiwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvci50b1ZlY3RvcjQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1widV9zcGVjdWxhclwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTm9FbWlzc2lvbk1hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwibm9FbWlzc2lvbk1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2VtaXNzaW9uXCIsIG1hdGVyaWFsLmVtaXNzaW9uQ29sb3IudG9WZWN0b3I0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6RW5naW5lTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfZW1pc3Npb25cIl0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIE5vTm9ybWFsTWFwU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub05vcm1hbE1hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJ1aWxkU2hhZG93TWFwU2hhZGVyTGliIGV4dGVuZHMgRW5naW5lU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRGc1NvdXJjZSh0aGlzLmdldEZzQ2h1bmsoXCJjb21tb25CdWlsZFNoYWRvd01hcF9mcmFnbWVudC5nbHNsXCIpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGhpcy5nZXRGc0NodW5rKCksIFwiK1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCdWlsZFR3b0RTaGFkb3dNYXBTaGFkZXJMaWIgZXh0ZW5kcyBCdWlsZFNoYWRvd01hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJidWlsZFR3b0RTaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV92cE1hdHJpeEZyb21MaWdodFwiLCBtYXRlcmlhbC5idWlsZFR3b0RTaGFkb3dNYXBEYXRhLnZwTWF0cml4RnJvbUxpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X3ZwTWF0cml4RnJvbUxpZ2h0XCJcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkQ3ViZW1hcFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIEJ1aWxkU2hhZG93TWFwU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJidWlsZEN1YmVtYXBTaGFkb3dNYXBcIjtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOiBQcm9ncmFtLCBxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpMaWdodE1hdGVyaWFsKXtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9saWdodFBvc1wiLCBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhLmxpZ2h0UG9zKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9mYXJQbGFuZVwiLCBtYXRlcmlhbC5idWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhLmZhclBsYW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkVuZ2luZU1hdGVyaWFsKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24ocXVhZENtZCwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X2xpZ2h0UG9zXCIsIFwidV9mYXJQbGFuZVwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBUb3RhbFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJ0b3RhbFNoYWRvd01hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHJpdmF0ZSBfc29mdFR5cGVDaGFuZ2VTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX3NvZnRUeXBlQ2hhbmdlU3Vic2NyaXB0aW9uID0gRXZlbnRNYW5hZ2VyLmZyb21FdmVudChEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmdhbWVPYmplY3RTY2VuZSwgPGFueT5FRW5naW5lRXZlbnQuU0hBRE9XTUFQX1NPRlRUWVBFX0NIQU5HRSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLmxpYkRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB0aGlzLl9zb2Z0VHlwZUNoYW5nZVN1YnNjcmlwdGlvbiAmJiB0aGlzLl9zb2Z0VHlwZUNoYW5nZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpFbmdpbmVNYXRlcmlhbCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKHF1YWRDbWQsIG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0U2hhZG93TWFwU291cmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRTaGFkb3dNYXBTb3VyY2UoKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLFxuICAgICAgICAgICAgICAgIHR3b0RTaGFkb3dNYXBDb3VudCA9IHNjZW5lLmRpcmVjdGlvbkxpZ2h0cz8gc2NlbmUuZGlyZWN0aW9uTGlnaHRzLmZpbHRlcigobGlnaHQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlnaHQuZ2V0Q29tcG9uZW50PERpcmVjdGlvbkxpZ2h0PihEaXJlY3Rpb25MaWdodCkuY2FzdFNoYWRvdztcbiAgICAgICAgICAgICAgICB9KS5nZXRDb3VudCgpIDogMCxcbiAgICAgICAgICAgICAgICBjdWJlbWFwU2hhZG93TWFwQ291bnQgPSBzY2VuZS5wb2ludExpZ2h0cyA/IHNjZW5lLnBvaW50TGlnaHRzLmZpbHRlcigobGlnaHQ6R2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlnaHQuZ2V0Q29tcG9uZW50PFBvaW50TGlnaHQ+KFBvaW50TGlnaHQpLmNhc3RTaGFkb3c7XG4gICAgICAgICAgICAgICAgfSkuZ2V0Q291bnQoKSA6IDA7XG5cblxuXG4gICAgICAgICAgICBpZihzY2VuZS5zaGFkb3dNYXAuc29mdFR5cGUgPT09IEVTaGFkb3dNYXBTb2Z0VHlwZS5QQ0Ype1xuICAgICAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkcmVuKFt7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU0hBRE9XTUFQX1RZUEVfUENGXCJcbiAgICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJUV09EX1NIQURPV01BUF9DT1VOVFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHdvRFNoYWRvd01hcENvdW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2VEZWZpbmVMaXN0LmFkZENoaWxkcmVuKFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVFdPRF9TSEFET1dNQVBfQ09VTlRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHR3b0RTaGFkb3dNYXBDb3VudFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkNVQkVNQVBfU0hBRE9XTUFQX0NPVU5UXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdWJlbWFwU2hhZG93TWFwQ291bnRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIFNoYWRvd01hcFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJ0d29EU2hhZG93TWFwXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgcXVhZENtZDpRdWFkQ29tbWFuZCwgbWF0ZXJpYWw6TGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICBtYXRlcmlhbC50d29EU2hhZG93TWFwRGF0YXMuZm9yRWFjaCgoZGF0YTpUd29EU2hhZG93TWFwRGF0YSwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV92cE1hdHJpeEZyb21MaWdodFske2luZGV4fV1gLCBFVmFyaWFibGVUeXBlLkZMT0FUX01BVDQsIGRhdGEudnBNYXRyaXhGcm9tTGlnaHQpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfdHdvRFNoYWRvd1NpemVbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8yLCBkYXRhLnNoYWRvd1NpemUpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfdHdvRFNoYWRvd0JpYXNbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBkYXRhLnNoYWRvd0JpYXMpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfdHdvRFNoYWRvd0RhcmtuZXNzWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgZGF0YS5zaGFkb3dEYXJrbmVzcyk7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV90d29ETGlnaHRQb3NbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8zLCBkYXRhLmxpZ2h0UG9zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1YmVtYXBTaGFkb3dNYXBTaGFkZXJMaWIgZXh0ZW5kcyBTaGFkb3dNYXBTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiY3ViZW1hcFNoYWRvd01hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICAgICAgbWF0ZXJpYWwuY3ViZW1hcFNoYWRvd01hcERhdGFzLmZvckVhY2goKGRhdGE6Q3ViZW1hcFNoYWRvd01hcERhdGEsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfY3ViZW1hcExpZ2h0UG9zWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgZGF0YS5saWdodFBvcyk7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9mYXJQbGFuZVske2luZGV4fV1gLCBFVmFyaWFibGVUeXBlLkZMT0FUXzEsIGRhdGEuZmFyUGxhbmUpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfY3ViZW1hcFNoYWRvd0JpYXNbJHtpbmRleH1dYCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBkYXRhLnNoYWRvd0JpYXMpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfY3ViZW1hcFNoYWRvd0RhcmtuZXNzWyR7aW5kZXh9XWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgZGF0YS5zaGFkb3dEYXJrbmVzcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBOb1NoYWRvd01hcFNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJub1NoYWRvd01hcFwiO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06IFByb2dyYW0sIHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOkxpZ2h0TWF0ZXJpYWwpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbVNoYWRlckxpYlV0aWxze1xuICAgICAgICAvL3RvZG8gc3VwcG9ydCBTVFJVQ1RVUkVTXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKG5hbWU6c3RyaW5nLCB0eXBlOkVWYXJpYWJsZVR5cGUsIHZhbHVlOmFueSwgcHJvZ3JhbTpQcm9ncmFtKXtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlICE9PSBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQgJiYgdHlwZSAhPT0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkUsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInR5cGVcIiwgYGJlIFNBTVBMRVJfMkQgb3IgU0FNUExFUl9DVUJFLCBidXQgYWN0dWFsIGlzICR7dHlwZX1gKSk7XG5cbiAgICAgICAgICAgIGFzc2VydCh0eXBlICE9PSBFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJ0eXBlID09PSBTVFJVQ1RVUkVTXCIpKTtcblxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gd2QuRVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0RpcmVjdE9iamVjdCh2YWx1ZSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInZhbHVlXCIsIFwib2JqZWN0IHdoZW4gdHlwZSA9PT0gU1RSVUNUVVJFXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBzZW5kVW5pZm9ybURhdGEobmFtZTpzdHJpbmcsIHR5cGU6RVZhcmlhYmxlVHlwZSwgdmFsdWU6YW55LCBwcm9ncmFtOlByb2dyYW0pe1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHdkLkVWYXJpYWJsZVR5cGUuU1RSVUNUVVJFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZFN0cnVjdHVyZURhdGEobmFtZSwgdmFsdWUsIHByb2dyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kVW5pZm9ybURhdGEobmFtZSwgdHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgU1RSVUNUVVJFU1xuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihuYW1lOnN0cmluZywgdHlwZTpFVmFyaWFibGVUeXBlLCB2YWx1ZTphbnksIHByb2dyYW06UHJvZ3JhbSwgY21kOlF1YWRDb21tYW5kKXtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlICE9PSBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQgJiYgdHlwZSAhPT0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkUsIExvZy5pbmZvLkZVTkNfU0hPVUxEX05PVChcInR5cGVcIiwgYGJlIFNBTVBMRVJfMkQgb3IgU0FNUExFUl9DVUJFLCBidXQgYWN0dWFsIGlzICR7dHlwZX1gKSk7XG5cbiAgICAgICAgICAgIGFzc2VydCh0eXBlICE9PSBFVmFyaWFibGVUeXBlLlNUUlVDVFVSRVMsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJ0eXBlID09PSBTVFJVQ1RVUkVTXCIpKTtcblxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gd2QuRVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoSnVkZ2VVdGlscy5pc0RpcmVjdE9iamVjdCh2YWx1ZSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInZhbHVlXCIsIFwib2JqZWN0IHdoZW4gdHlwZSA9PT0gU1RSVUNUVVJFXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIHN0YXRpYyBzZW5kVW5pZm9ybURhdGFXaXRoU2VtYW50aWMobmFtZTpzdHJpbmcsIHR5cGU6RVZhcmlhYmxlVHlwZSwgdmFsdWU6YW55LCBwcm9ncmFtOlByb2dyYW0sIGNtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gd2QuRVZhcmlhYmxlVHlwZS5TVFJVQ1RVUkUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZW5kU3RydWN0dXJlRGF0YVdpdGhTZW1hbnRpYyhuYW1lLCB2YWx1ZSwgcHJvZ3JhbSwgY21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKG5hbWUsIHR5cGUsIHRoaXMuX2dldFVuaWZvcm1EYXRhKHZhbHVlLCBjbWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2VuZEF0dHJpYnV0ZURhdGFXaXRoU2VtYW50aWMobmFtZTpzdHJpbmcsIHR5cGU6RVZhcmlhYmxlVHlwZSwgdmFsdWU6YW55LCBwcm9ncmFtOlByb2dyYW0sIGNtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICBwcm9ncmFtLnNlbmRBdHRyaWJ1dGVEYXRhKG5hbWUsIHRoaXMuX2dldEF0dHJpYnV0ZVR5cGUodHlwZSksIHRoaXMuX2dldEF0dHJpYnV0ZURhdGEodmFsdWUsIHR5cGUsIGNtZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3NlbmRTdHJ1Y3R1cmVEYXRhKG5hbWU6c3RyaW5nLCBkYXRhOk9iamVjdCwgcHJvZ3JhbTpQcm9ncmFtKXtcbiAgICAgICAgICAgIGZvciAobGV0IGZpZWxkTmFtZSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eShmaWVsZE5hbWUpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkVmFsdWU6U2hhZGVyRGF0YSA9IGRhdGFbZmllbGROYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGAke25hbWV9LiR7ZmllbGROYW1lfWAsIGZpZWxkVmFsdWUudHlwZSwgZmllbGRWYWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3NlbmRTdHJ1Y3R1cmVEYXRhV2l0aFNlbWFudGljKG5hbWU6c3RyaW5nLCBkYXRhOk9iamVjdCwgcHJvZ3JhbTpQcm9ncmFtLCBjbWQ6UXVhZENvbW1hbmQpe1xuICAgICAgICAgICAgZm9yIChsZXQgZmllbGROYW1lIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmhhc093blByb3BlcnR5KGZpZWxkTmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGRWYWx1ZTpTaGFkZXJEYXRhID0gZGF0YVtmaWVsZE5hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYCR7bmFtZX0uJHtmaWVsZE5hbWV9YCwgZmllbGRWYWx1ZS50eXBlLCB0aGlzLl9nZXRVbmlmb3JtRGF0YShmaWVsZFZhbHVlLnZhbHVlLCBjbWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihkYXRhOmFueSwgdHlwZTpFVmFyaWFibGVUeXBlLCBjbWQ6UXVhZENvbW1hbmQpe1xuICAgICAgICAgICAgYXNzZXJ0KGRhdGEgIT09IFwiSU5ESUNFXCIsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJzZW1hbnRpYzpJTkRJQ0VcIikpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUE9TSVRJT05cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ09MT1JcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiTk9STUFMXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlRBTkdFTlRcIjpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGUgPT09IEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJ0eXBlXCIsIFwiYmUgRVZhcmlhYmxlVHlwZS5GTE9BVF8zXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlRFWENPT1JEXCI6XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlID09PSBFVmFyaWFibGVUeXBlLkZMT0FUXzIsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidHlwZVwiLCBcImJlIEVWYXJpYWJsZVR5cGUuRkxPQVRfMlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKGRhdGE6QnVmZmVyKXtcbiAgICAgICAgICAgIGFzc2VydChkYXRhICYmIGRhdGEgaW5zdGFuY2VvZiBCdWZmZXIsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiYXR0cmlidXRlRGF0YVwiLCBgYmUgQnVmZmVyLCBidXQgYWN0dWFsIGlzICR7ZGF0YX1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nZXRBdHRyaWJ1dGVEYXRhKGRhdGE6YW55LCB0eXBlOkVWYXJpYWJsZVR5cGUsIGNtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuUE9TSVRJT046XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8QXJyYXlCdWZmZXI+Y21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlZFUlRJQ0UpO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuVEVYQ09PUkQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8QXJyYXlCdWZmZXI+Y21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLlRFWENPT1JEKTtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLkNPTE9SOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPEFycmF5QnVmZmVyPmNtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5DT0xPUik7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVTZW1hbnRpYy5OT1JNQUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8QXJyYXlCdWZmZXI+Y21kLmJ1ZmZlcnMuZ2V0Q2hpbGQoRUJ1ZmZlckRhdGFUeXBlLk5PUk1BTCk7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVTZW1hbnRpYy5UQU5HRU5UOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPEFycmF5QnVmZmVyPmNtZC5idWZmZXJzLmdldENoaWxkKEVCdWZmZXJEYXRhVHlwZS5UQU5HRU5UKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nZXRBdHRyaWJ1dGVUeXBlKHR5cGU6RVZhcmlhYmxlVHlwZSl7XG4gICAgICAgICAgICByZXR1cm4gRVZhcmlhYmxlVHlwZS5CVUZGRVI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ2V0VW5pZm9ybURhdGEoZGF0YTphbnksIGNtZDpRdWFkQ29tbWFuZCl7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEpe1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuTU9ERUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbWQubU1hdHJpeDtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLlZJRVc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbWQudk1hdHJpeDtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLlBST0pFQ1RJT046XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbWQucE1hdHJpeDtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLk1PREVMX1ZJRVdfUFJPSkVDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNtZC5tdnBNYXRyaXg7XG4gICAgICAgICAgICAgICAgY2FzZSBFVmFyaWFibGVTZW1hbnRpYy5NT0RFTF9JTlZFUlNFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21kLm1NYXRyaXguY29weSgpLmludmVydCgpO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuVklFV19JTlZFUlNFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21kLnZNYXRyaXguY29weSgpLmludmVydCgpO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuUFJPSkVDVElPTl9JTlZFUlNFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21kLnBNYXRyaXguY29weSgpLmludmVydCgpO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuTU9ERUxfVklFV19JTlZFUlNFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21kLm1NYXRyaXguYXBwbHlNYXRyaXgoY21kLnZNYXRyaXgsIHRydWUpLmludmVydCgpO1xuICAgICAgICAgICAgICAgIGNhc2UgRVZhcmlhYmxlU2VtYW50aWMuTU9ERUxfVklFV19QUk9KRUNUSU9OX0lOVkVSU0U6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbWQubU1hdHJpeC5hcHBseU1hdHJpeChjbWQudk1hdHJpeCwgdHJ1ZSkuYXBwbHlNYXRyaXgoY21kLnBNYXRyaXgsIGZhbHNlKS5pbnZlcnQoKTtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLk1PREVMX0lOVkVSU0VfVFJBTlNQT1NFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21kLm5vcm1hbE1hdHJpeDtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLk1PREVMX1ZJRVdfSU5WRVJTRV9UUkFOU1BPU0U6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbWQubU1hdHJpeC5hcHBseU1hdHJpeChjbWQudk1hdHJpeCwgdHJ1ZSkuaW52ZXJ0VG8zeDMoKS50cmFuc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBjYXNlIEVWYXJpYWJsZVNlbWFudGljLlZJRVdQT1JUOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnZpZXdwb3J0O1xuXG4gICAgICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbG9jYWxcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU2hhZGVyU25pcHBldCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbWFpbl9iZWdpbjpzdHJpbmcgPSBcInZvaWQgbWFpbih2b2lkKXtcXG5cIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBtYWluX2VuZDpzdHJpbmcgPSBcIn1cXG5cIjtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFBvc19tdnA6c3RyaW5nID0gXCJnbF9Qb3NpdGlvbiA9IHVfcE1hdHJpeCAqIHVfdk1hdHJpeCAqIHVfbU1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICAgICAgZ2V0IHByb2dyYW0oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRUeXBlOkVCbGVuZFR5cGUgPSBudWxsO1xuICAgICAgICBnZXQgYmxlbmRUeXBlKCl7XG4gICAgICAgICAgICBpZih0aGlzLl9ibGVuZFR5cGUpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZFR5cGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLlpFUk8pXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLk5PTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodGhpcy5ibGVuZFNyYyA9PT0gRUJsZW5kRnVuYy5TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmREc3QgPT09IEVCbGVuZEZ1bmMuT05FX01JTlVTX1NSQ19BTFBIQSlcbiAgICAgICAgICAgICAgICAmJiAodGhpcy5ibGVuZEVxdWF0aW9uID09PSBFQmxlbmRFcXVhdGlvbi5BREQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVCbGVuZFR5cGUuTk9STUFMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLk9ORSlcbiAgICAgICAgICAgICAgICAmJiAodGhpcy5ibGVuZEVxdWF0aW9uID09PSBFQmxlbmRFcXVhdGlvbi5BREQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVCbGVuZFR5cGUuQURESVRJVkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodGhpcy5ibGVuZFNyYyA9PT0gRUJsZW5kRnVuYy5TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmREc3QgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRXF1YXRpb24gPT09IEVCbGVuZEVxdWF0aW9uLkFERCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRUJsZW5kVHlwZS5BRERJVElWRUFMUEhBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuRFNUX0NPTE9SKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLlpFUk8pXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLk1VTFRJUExJQ0FUSVZFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHRoaXMuYmxlbmRTcmMgPT09IEVCbGVuZEZ1bmMuT05FKVxuICAgICAgICAgICAgICAgICYmICh0aGlzLmJsZW5kRHN0ID09PSBFQmxlbmRGdW5jLk9ORV9NSU5VU19TUkNfQUxQSEEpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuYmxlbmRFcXVhdGlvbiA9PT0gRUJsZW5kRXF1YXRpb24uQUREKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFQmxlbmRUeXBlLlBSRU1VTFRJUExJRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRUJsZW5kVHlwZS5OT1JNQUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kVHlwZShibGVuZFR5cGU6RUJsZW5kVHlwZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKGJsZW5kVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5OT05FOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRTcmMgPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZERzdCA9IEVCbGVuZEZ1bmMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZEVxdWF0aW9uID0gRUJsZW5kRXF1YXRpb24uQUREO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVCbGVuZFR5cGUuTk9STUFMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5QUkVNVUxUSVBMSUVEOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuT05FO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5BRERJVElWRTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRTcmMgPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZERzdCA9IEVCbGVuZEZ1bmMuT05FO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUJsZW5kVHlwZS5BRERJVElWRUFMUEhBOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuU1JDX0FMUEhBO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5PTkU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxlbmRFcXVhdGlvbiA9IEVCbGVuZEVxdWF0aW9uLkFERDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFQmxlbmRUeXBlLk1VTFRJUExJQ0FUSVZFOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGVuZFNyYyA9IEVCbGVuZEZ1bmMuRFNUX0NPTE9SO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRHN0ID0gRUJsZW5kRnVuYy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsZW5kRXF1YXRpb24gPSBFQmxlbmRFcXVhdGlvbi5BREQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJibGVuZFR5cGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYmxlbmRUeXBlID0gYmxlbmRUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IGVudk1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5nZXRFbnZNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZW52TWFwKGVudk1hcDpDdWJlbWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuc2V0RW52TWFwKGVudk1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ibGVuZFNyYzpFQmxlbmRGdW5jPSBFQmxlbmRGdW5jLk9ORTtcbiAgICAgICAgZ2V0IGJsZW5kU3JjKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRTcmM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kU3JjKGJsZW5kU3JjOkVCbGVuZEZ1bmMpe1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRTcmMgPSBibGVuZFNyYztcbiAgICAgICAgICAgIHRoaXMuYmxlbmRGdW5jU2VwYXJhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYmxlbmREc3Q6RUJsZW5kRnVuYz0gRUJsZW5kRnVuYy5aRVJPO1xuICAgICAgICBnZXQgYmxlbmREc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZERzdDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYmxlbmREc3QoYmxlbmREc3Q6RUJsZW5kRnVuYyl7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZERzdCA9IGJsZW5kRHN0O1xuICAgICAgICAgICAgdGhpcy5ibGVuZEZ1bmNTZXBhcmF0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ibGVuZEVxdWF0aW9uOkVCbGVuZEVxdWF0aW9uID0gRUJsZW5kRXF1YXRpb24uQUREO1xuICAgICAgICBnZXQgYmxlbmRFcXVhdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kRXF1YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGJsZW5kRXF1YXRpb24oYmxlbmRFcXVhdGlvbjpFQmxlbmRFcXVhdGlvbil7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxdWF0aW9uID0gYmxlbmRFcXVhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRFcXVhdGlvblNlcGFyYXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwiI2ZmZmZmZlwiKTtcbiAgICAgICAgZ2V0IGNvbG9yKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGNvbG9yKGNvbG9yOkNvbG9yKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLl9pc0NvbG9yRXF1YWwoY29sb3IsIHRoaXMuX2NvbG9yKSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5nZW9tZXRyeSAmJiB0aGlzLmdlb21ldHJ5LmVudGl0eU9iamVjdCl7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci50cmlnZ2VyKHRoaXMuZ2VvbWV0cnkuZW50aXR5T2JqZWN0LCA8YW55PkVFbmdpbmVFdmVudC5NQVRFUklBTF9DT0xPUl9DSEFOR0UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2hhZGVyOlNoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKCk7XG4gICAgICAgIHB1YmxpYyByZWRXcml0ZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGdyZWVuV3JpdGU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBibHVlV3JpdGU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBhbHBoYVdyaXRlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcG9seWdvbk9mZnNldE1vZGU6RVBvbHlnb25PZmZzZXRNb2RlID0gRVBvbHlnb25PZmZzZXRNb2RlLk5PTkU7XG4gICAgICAgIHB1YmxpYyBzaWRlOkVTaWRlID0gRVNpZGUuRlJPTlQ7XG4gICAgICAgIHB1YmxpYyBibGVuZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBibGVuZEZ1bmNTZXBhcmF0ZTpBcnJheTxFQmxlbmRGdW5jPiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBibGVuZEVxdWF0aW9uU2VwYXJhdGU6QXJyYXk8RUJsZW5kRXF1YXRpb24+ID0gW0VCbGVuZEVxdWF0aW9uLkFERCwgRUJsZW5kRXF1YXRpb24uQUREXTtcbiAgICAgICAgcHVibGljIHNoYWRpbmcgPSBFU2hhZGluZy5GTEFUO1xuICAgICAgICBwdWJsaWMgbWFwTWFuYWdlcjpNYXBNYW5hZ2VyID0gTWFwTWFuYWdlci5jcmVhdGUodGhpcyk7XG4gICAgICAgIHB1YmxpYyBnZW9tZXRyeTpHZW9tZXRyeSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmluaXQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGJpbmRBbmRVcGRhdGVUZXh0dXJlKCl7XG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuYmluZEFuZFVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNlbmRUZXh0dXJlKHByb2dyYW0pe1xuICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLnNlbmREYXRhKHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZVNoYWRlcihxdWFkQ21kOlF1YWRDb21tYW5kKXtcbiAgICAgICAgICAgIHZhciBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBpZihzY2VuZS5pc1VzZVByb2dyYW0pe1xuICAgICAgICAgICAgICAgIHNjZW5lLnNoYWRlci51cGRhdGUocXVhZENtZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLnVwZGF0ZShxdWFkQ21kLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVTaGFkZXIoKTpTaGFkZXI7XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNDb2xvckVxdWFsKGNvbG9yMTpDb2xvciwgY29sb3IyOkNvbG9yKXtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjEuciA9PT0gY29sb3IyLnIgJiYgY29sb3IxLmcgPT09IGNvbG9yMi5nICYmIGNvbG9yMS5iID09PSBjb2xvcjIuYiAmJiBjb2xvcjEuYSA9PT0gY29sb3IyLmE7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbmdpbmVNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse1xuICAgICAgICBwdWJsaWMgcmVmcmFjdGlvblJhdGlvOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyByZWZsZWN0aXZpdHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1hcENvbWJpbmVNb2RlOkVUZXh0dXJlQ29tYmluZU1vZGUgPSBFVGV4dHVyZUNvbWJpbmVNb2RlLk1JWDtcbiAgICAgICAgcHVibGljIG1hcE1peFJhdGlvOm51bWJlciA9IDAuNTtcblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KCEodGhpcy5taXJyb3JNYXAgJiYgdGhpcy5lbnZNYXApLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJtaXJyb3JNYXAgYW5kIGVudk1hcFwiLCBcImJlIHNldCBib3RoXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvcFNoYWRlckxpYigpO1xuICAgICAgICAgICAgdGhpcy5hZGRTaGFkZXJMaWIoKTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGFkZFNoYWRlckxpYigpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZE5vcm1hbFNoYWRlckxpYigpe1xuICAgICAgICAgICAgaWYodGhpcy5faGFzQW5pbWF0aW9uKCkgJiYgIXRoaXMuc2hhZGVyLmhhc0xpYihNb3JwaE5vcm1hbFNoYWRlckxpYikpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFNoYWRlckxpYlRvVG9wKE1vcnBoTm9ybWFsU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoIXRoaXMuc2hhZGVyLmhhc0xpYihDb21tb25Ob3JtYWxTaGFkZXJMaWIpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRTaGFkZXJMaWJUb1RvcChDb21tb25Ob3JtYWxTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldEJsZW5kQnlPcGFjaXR5KG9wYWNpdHk6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKG9wYWNpdHkgPCAxLjAgJiYgb3BhY2l0eSA+PSAwLjApe1xuICAgICAgICAgICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZGVyKCk6U2hhZGVye1xuICAgICAgICAgICAgcmV0dXJuIENvbW1vblNoYWRlci5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFRvcFNoYWRlckxpYigpe1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKENvbW1vblNoYWRlckxpYi5jcmVhdGUoKSk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2hhc0FuaW1hdGlvbigpKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTW9ycGhDb21tb25TaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihNb3JwaFZlcnRpY2VTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoQ29tbW9uVmVydGljZVNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRTaGFkZXJMaWJUb1RvcChsaWI6U2hhZGVyTGliKXtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZFNoYWRlckxpYlRvVG9wKGxpYik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNBbmltYXRpb24oKXtcbiAgICAgICAgICAgIGlmKHRoaXMuZ2VvbWV0cnkgaW5zdGFuY2VvZiBNb2RlbEdlb21ldHJ5KXtcbiAgICAgICAgICAgICAgICBsZXQgZ2VvID0gPGFueT4odGhpcy5nZW9tZXRyeSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvLmhhc0FuaW1hdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljTWF0ZXJpYWwgZXh0ZW5kcyBFbmdpbmVNYXRlcmlhbHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmVHZXR0ZXIoZnVuY3Rpb24obWFwTGlzdDp3ZENiLkNvbGxlY3Rpb248VGV4dHVyZT4pe1xuICAgICAgICAgICAgYXNzZXJ0KG1hcExpc3QuZ2V0Q291bnQoKSA8PSAyLCB3ZENiLkxvZy5pbmZvLkZVTkNfU1VQUE9SVChcIm9ubHlcIiwgXCJtYXAuY291bnQgPD0gMlwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIGdldCBtYXBMaXN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBNYW5hZ2VyLmdldE1hcExpc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlU2V0dGVyKGZ1bmN0aW9uKG1hcDphbnkpe1xuICAgICAgICAgICAgaWYobWFwIGluc3RhbmNlb2YgVGV4dHVyZSB8fCBtYXAgaW5zdGFuY2VvZiBUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgbWFwQXJyOkFycmF5PGFueT4gPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgICAgICB3ZENiLkxvZy5lcnJvcihtYXBBcnIubGVuZ3RoID4gMiwgd2RDYi5Mb2cuaW5mby5GVU5DX1NVUFBPUlQoXCJvbmx5XCIsIFwibWFwLmNvdW50IDw9IDJcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBzZXQgbWFwKG1hcDphbnkpe1xuICAgICAgICAgICAgaWYobWFwIGluc3RhbmNlb2YgVGV4dHVyZSB8fCBtYXAgaW5zdGFuY2VvZiBUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAobWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IG1hcEFycjpBcnJheTxhbnk+ID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgZm9yKGxldCBtIG9mIG1hcEFycil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAobSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IG1pcnJvck1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5nZXRNaXJyb3JNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWlycm9yTWFwKG1pcnJvck1hcDpNaXJyb3JUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5zZXRNaXJyb3JNYXAobWlycm9yTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX29wYWNpdHk6bnVtYmVyID0gMS4wO1xuICAgICAgICBnZXQgb3BhY2l0eSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wYWNpdHk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IG9wYWNpdHkob3BhY2l0eTpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5zZXRCbGVuZEJ5T3BhY2l0eShvcGFjaXR5KTtcblxuICAgICAgICAgICAgdGhpcy5fb3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWRkU2hhZGVyTGliKCl7XG4gICAgICAgICAgICB2YXIgZW52TWFwID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEJhc2ljU2hhZGVyTGliLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0TWFwU2hhZGVyTGliKCk7XG5cbiAgICAgICAgICAgIGVudk1hcCA9IHRoaXMuZW52TWFwO1xuICAgICAgICAgICAgaWYoZW52TWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0TWlycm9yTWFwU2hhZGVyTGliKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY0VuZFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRNYXBTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIHZhciBtYXBNYW5hZ2VyID0gdGhpcy5tYXBNYW5hZ2VyLFxuICAgICAgICAgICAgICAgIG1hcENvdW50ID0gbWFwTWFuYWdlci5nZXRNYXBDb3VudCgpO1xuXG4gICAgICAgICAgICBpZihtYXBDb3VudCA+IDApe1xuICAgICAgICAgICAgICAgIGlmKG1hcENvdW50ID4gMSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihNdWx0aU1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0RW52TWFwU2hhZGVyTGliKGVudk1hcDpDdWJlbWFwVGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLmFkZE5vcm1hbFNoYWRlckxpYigpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGVudk1hcC5tb2RlKXtcbiAgICAgICAgICAgICAgICBjYXNlIEVFbnZNYXBNb2RlLkJBU0lDOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoQmFzaWNFbnZNYXBGb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuUkVGTEVDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKFJlZmxlY3Rpb25Gb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuUkVGUkFDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKFJlZnJhY3Rpb25Gb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuRlJFU05FTDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEZyZXNuZWxGb3JCYXNpY1NoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX0lOVkFMSUQoXCJFRW52TWFwTW9kZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWlycm9yTWFwU2hhZGVyTGliKCl7XG4gICAgICAgICAgICBpZih0aGlzLm1pcnJvck1hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKHdkLk1pcnJvckZvckJhc2ljU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTa3lib3hNYXRlcmlhbCBleHRlbmRzIEVuZ2luZU1hdGVyaWFse1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5zaWRlID0gRVNpZGUuQkFDSztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZGRTaGFkZXJMaWIoKXtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihTa3lib3hTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExpZ2h0TWF0ZXJpYWwgZXh0ZW5kcyBFbmdpbmVNYXRlcmlhbHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2xpZ2h0TWFwOlRleHR1cmUgPSBudWxsO1xuICAgICAgICBnZXQgbGlnaHRNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saWdodE1hcDtcbiAgICAgICAgfVxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihsaWdodE1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIGFzc2VydChsaWdodE1hcCBpbnN0YW5jZW9mIEltYWdlVGV4dHVyZSB8fCBsaWdodE1hcCBpbnN0YW5jZW9mIFByb2NlZHVyYWxUZXh0dXJlLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImxpZ2h0TWFwXCIsIFwiYmUgSW1hZ2VUZXh0dXJlIG9yIFByb2NlZHVyYWxUZXh0dXJlXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2V0IGxpZ2h0TWFwKGxpZ2h0TWFwOlRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLmFkZE1hcChsaWdodE1hcCwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU6IFZhcmlhYmxlTmFtZVRhYmxlLmdldFZhcmlhYmxlTmFtZShcImxpZ2h0TWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbGlnaHRNYXAgPSBsaWdodE1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RpZmZ1c2VNYXA6VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGdldCBkaWZmdXNlTWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZU1hcDtcbiAgICAgICAgfVxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihkaWZmdXNlTWFwOkltYWdlVGV4dHVyZSl7XG4gICAgICAgICAgICBhc3NlcnQoZGlmZnVzZU1hcCBpbnN0YW5jZW9mIEltYWdlVGV4dHVyZSB8fCBkaWZmdXNlTWFwIGluc3RhbmNlb2YgUHJvY2VkdXJhbFRleHR1cmUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiZGlmZnVzZU1hcFwiLCBcImJlIEltYWdlVGV4dHVyZSBvciBQcm9jZWR1cmFsVGV4dHVyZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHNldCBkaWZmdXNlTWFwKGRpZmZ1c2VNYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuYWRkTWFwKGRpZmZ1c2VNYXAsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVyVmFyaWFibGVOYW1lOiBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJkaWZmdXNlTWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fZGlmZnVzZU1hcCA9IGRpZmZ1c2VNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zcGVjdWxhck1hcDpUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgZ2V0IHNwZWN1bGFyTWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXJNYXA7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oc3BlY3VsYXJNYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICBhc3NlcnQoc3BlY3VsYXJNYXAgaW5zdGFuY2VvZiBJbWFnZVRleHR1cmUgfHwgc3BlY3VsYXJNYXAgaW5zdGFuY2VvZiBQcm9jZWR1cmFsVGV4dHVyZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJzcGVjdWxhck1hcFwiLCBcImJlIEltYWdlVGV4dHVyZSBvciBQcm9jZWR1cmFsVGV4dHVyZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHNldCBzcGVjdWxhck1hcChzcGVjdWxhck1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAoc3BlY3VsYXJNYXAsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVyVmFyaWFibGVOYW1lOiBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJzcGVjdWxhck1hcFwiKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyTWFwID0gc3BlY3VsYXJNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9lbWlzc2lvbk1hcDpUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgZ2V0IGVtaXNzaW9uTWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW1pc3Npb25NYXA7XG4gICAgICAgIH1cbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oZW1pc3Npb25NYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICBhc3NlcnQoZW1pc3Npb25NYXAgaW5zdGFuY2VvZiBJbWFnZVRleHR1cmUgfHwgZW1pc3Npb25NYXAgaW5zdGFuY2VvZiBQcm9jZWR1cmFsVGV4dHVyZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJlbWlzc2lvbk1hcFwiLCBcImJlIEltYWdlVGV4dHVyZSBvciBQcm9jZWR1cmFsVGV4dHVyZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHNldCBlbWlzc2lvbk1hcChlbWlzc2lvbk1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAoZW1pc3Npb25NYXAsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVyVmFyaWFibGVOYW1lOiBWYXJpYWJsZU5hbWVUYWJsZS5nZXRWYXJpYWJsZU5hbWUoXCJlbWlzc2lvbk1hcFwiKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2VtaXNzaW9uTWFwID0gZW1pc3Npb25NYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9ub3JtYWxNYXA6SW1hZ2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgZ2V0IG5vcm1hbE1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbE1hcDtcbiAgICAgICAgfVxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihub3JtYWxNYXA6SW1hZ2VUZXh0dXJlKXtcbiAgICAgICAgICAgIGFzc2VydChub3JtYWxNYXAgaW5zdGFuY2VvZiBJbWFnZVRleHR1cmUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibm9ybWFsTWFwXCIsIFwiYmUgSW1hZ2VUZXh0dXJlXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgc2V0IG5vcm1hbE1hcChub3JtYWxNYXA6SW1hZ2VUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAobm9ybWFsTWFwLCB7XG4gICAgICAgICAgICAgICAgc2FtcGxlclZhcmlhYmxlTmFtZTogVmFyaWFibGVOYW1lVGFibGUuZ2V0VmFyaWFibGVOYW1lKFwibm9ybWFsTWFwXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsTWFwID0gbm9ybWFsTWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2hpbmluZXNzOm51bWJlciA9IDMyO1xuICAgICAgICBnZXQgc2hpbmluZXNzKCl7XG4gICAgICAgICAgICBpZihOdW1iZXIodGhpcy5fc2hpbmluZXNzKSA8PSAwKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xuICAgICAgICB9XG4gICAgICAgIHNldCBzaGluaW5lc3Moc2hpbmluZXNzOm51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSBzaGluaW5lc3M7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9vcGFjaXR5Om51bWJlciA9IDEuMDtcbiAgICAgICAgZ2V0IG9wYWNpdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldCBvcGFjaXR5KG9wYWNpdHk6bnVtYmVyKXtcbiAgICAgICAgICAgIHRoaXMuc2V0QmxlbmRCeU9wYWNpdHkob3BhY2l0eSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGxpZ2h0TW9kZWw6RUxpZ2h0TW9kZWwgPSBFTGlnaHRNb2RlbC5QSE9ORztcblxuICAgICAgICBwdWJsaWMgdHdvRFNoYWRvd01hcERhdGFzOndkQ2IuQ29sbGVjdGlvbjxUd29EU2hhZG93TWFwRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFR3b0RTaGFkb3dNYXBEYXRhPigpO1xuICAgICAgICBwdWJsaWMgY3ViZW1hcFNoYWRvd01hcERhdGFzOndkQ2IuQ29sbGVjdGlvbjxDdWJlbWFwU2hhZG93TWFwRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEN1YmVtYXBTaGFkb3dNYXBEYXRhPigpO1xuXG4gICAgICAgIHB1YmxpYyBidWlsZFR3b0RTaGFkb3dNYXBEYXRhOkJ1aWxkVHdvRFNoYWRvd01hcERhdGEgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYnVpbGRDdWJlbWFwU2hhZG93TWFwRGF0YTpCdWlsZEN1YmVtYXBTaGFkb3dNYXBEYXRhID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3BlY3VsYXJDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcIiNmZmZmZmZcIik7XG4gICAgICAgIHB1YmxpYyBlbWlzc2lvbkNvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwicmdiYSgwLDAsMCwwKVwiKTtcbiAgICAgICAgcHVibGljIGxpZ2h0TWFwSW50ZW5zaXR5Om51bWJlciA9IDE7XG5cbiAgICAgICAgcHJpdmF0ZSBfdHdvRFNoYWRvd01hcFNhbXBsZXJJbmRleDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIF9jdWJlbWFwU2hhZG93TWFwU2FtcGxlckluZGV4Om51bWJlciA9IDA7XG5cbiAgICAgICAgcHVibGljIGFkZFR3b0RTaGFkb3dNYXAoc2hhZG93TWFwOlR3b0RTaGFkb3dNYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAoc2hhZG93TWFwLCB7XG4gICAgICAgICAgICAgICAgc2FtcGxlckRhdGE6IHRoaXMuX3R3b0RTaGFkb3dNYXBTYW1wbGVySW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fdHdvRFNoYWRvd01hcFNhbXBsZXJJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZEN1YmVtYXBTaGFkb3dNYXAoc2hhZG93TWFwOkN1YmVtYXBTaGFkb3dNYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMubWFwTWFuYWdlci5hZGRNYXAoc2hhZG93TWFwLCB7XG4gICAgICAgICAgICAgICAgc2FtcGxlckRhdGE6IHRoaXMuX2N1YmVtYXBTaGFkb3dNYXBTYW1wbGVySW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1NoYWRvd01hcChtYXA6SVNoYWRvd01hcFRleHR1cmUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTWFuYWdlci5oYXNNYXAoPFRleHR1cmU+bWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRUd29EU2hhZG93TWFwRGF0YShzaGFkb3dNYXBEYXRhOlR3b0RTaGFkb3dNYXBEYXRhKXtcbiAgICAgICAgICAgIHRoaXMudHdvRFNoYWRvd01hcERhdGFzLmFkZENoaWxkKHNoYWRvd01hcERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZEN1YmVtYXBTaGFkb3dNYXBEYXRhKHNoYWRvd01hcERhdGE6Q3ViZW1hcFNoYWRvd01hcERhdGEpe1xuICAgICAgICAgICAgdGhpcy5jdWJlbWFwU2hhZG93TWFwRGF0YXMuYWRkQ2hpbGQoc2hhZG93TWFwRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY2xlYXJUd29EU2hhZG93TWFwRGF0YSgpe1xuICAgICAgICAgICAgdGhpcy50d29EU2hhZG93TWFwRGF0YXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjbGVhckN1YmVtYXBTaGFkb3dNYXBEYXRhKCl7XG4gICAgICAgICAgICB0aGlzLmN1YmVtYXBTaGFkb3dNYXBEYXRhcy5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGFkZEV4dGVuZFNoYWRlckxpYigpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZFNoYWRlckxpYigpe1xuICAgICAgICAgICAgdmFyIGVudk1hcCA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkTm9ybWFsU2hhZGVyTGliKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTGlnaHRDb21tb25TaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc2V0TGlnaHRNYXBTaGFkZXJMaWIoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihMaWdodFNoYWRlckxpYi5jcmVhdGUoKSk7XG5cbiAgICAgICAgICAgIGVudk1hcCA9IHRoaXMuZW52TWFwO1xuICAgICAgICAgICAgaWYoZW52TWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZGRFeHRlbmRTaGFkZXJMaWIoKTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKExpZ2h0RW5kU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NldExpZ2h0TWFwU2hhZGVyTGliKCl7XG4gICAgICAgICAgICB2YXIgc2NlbmU6U2NlbmVEaXNwYXRjaGVyID0gRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKENvbW1vbkxpZ2h0TWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fbGlnaHRNYXApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihMaWdodE1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb0xpZ2h0TWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fZGlmZnVzZU1hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKERpZmZ1c2VNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTm9EaWZmdXNlTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fc3BlY3VsYXJNYXApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihTcGVjdWxhck1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb1NwZWN1bGFyTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fZW1pc3Npb25NYXApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihFbWlzc2lvbk1hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb0VtaXNzaW9uTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5fbm9ybWFsTWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoTm9ybWFsTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKE5vTm9ybWFsTWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoc2NlbmUuc2hhZG93TWFwLmVuYWJsZSAmJiAodGhpcy5faGFzVHdvRFNoYWRvd01hcCgpIHx8IHRoaXMuX2hhc0N1YmVtYXBTaGFkb3dNYXAoKSkpe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2hhc1R3b0RTaGFkb3dNYXAoKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihUd29EU2hhZG93TWFwU2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5faGFzQ3ViZW1hcFNoYWRvd01hcCgpKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKEN1YmVtYXBTaGFkb3dNYXBTaGFkZXJMaWIuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihUb3RhbFNoYWRvd01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihOb1NoYWRvd01hcFNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRFbnZNYXBTaGFkZXJMaWIoZW52TWFwOkN1YmVtYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIHN3aXRjaCAoZW52TWFwLm1vZGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUVudk1hcE1vZGUuQkFTSUM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyLmFkZExpYihCYXNpY0Vudk1hcEZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5SRUZMRUNUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoUmVmbGVjdGlvbkZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5SRUZSQUNUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoUmVmcmFjdGlvbkZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFRW52TWFwTW9kZS5GUkVTTkVMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoRnJlc25lbEZvckxpZ2h0U2hhZGVyTGliLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfSU5WQUxJRChcIkVFbnZNYXBNb2RlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNUd29EU2hhZG93TWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBNYW5hZ2VyLmhhc01hcCgobWFwOlRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwIGluc3RhbmNlb2YgVHdvRFNoYWRvd01hcFRleHR1cmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc0N1YmVtYXBTaGFkb3dNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcE1hbmFnZXIuaGFzTWFwKChtYXA6VGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXAgaW5zdGFuY2VvZiBDdWJlbWFwU2hhZG93TWFwVGV4dHVyZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQnVpbGRUd29EU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgdnBNYXRyaXhGcm9tTGlnaHQ6TWF0cml4NFxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFR3b0RTaGFkb3dNYXBEYXRhID0ge1xuICAgICAgICBzaGFkb3dCaWFzOm51bWJlcixcbiAgICAgICAgc2hhZG93RGFya25lc3M6bnVtYmVyLFxuICAgICAgICBzaGFkb3dTaXplOkFycmF5PG51bWJlcj4sXG4gICAgICAgIGxpZ2h0UG9zOlZlY3RvcjMsXG4gICAgICAgIHZwTWF0cml4RnJvbUxpZ2h0Ok1hdHJpeDRcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDdWJlbWFwU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgc2hhZG93QmlhczpudW1iZXIsXG4gICAgICAgIHNoYWRvd0RhcmtuZXNzOm51bWJlcixcbiAgICAgICAgbGlnaHRQb3M6VmVjdG9yMyxcbiAgICAgICAgZmFyUGxhbmU6bnVtYmVyXG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQnVpbGRDdWJlbWFwU2hhZG93TWFwRGF0YSA9IHtcbiAgICAgICAgbGlnaHRQb3M6VmVjdG9yMyxcbiAgICAgICAgZmFyUGxhbmU6IG51bWJlclxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBTaGFkZXJNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNoYWRlcjpDdXN0b21TaGFkZXI7XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuc2hhZGVyLmdldExpYnMoKS5nZXRDb3VudCgpID09PSAxICYmIHRoaXMuc2hhZGVyLmhhc0xpYihDdXN0b21TaGFkZXJMaWIpLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm9ubHkgaGFzIEN1c3RvbVNoYWRlckxpYiwgbm90IGhhcyBvdGhlciBzaGFkZXIgbGlic1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5hZGRMaWIoQ3VzdG9tU2hhZGVyTGliLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlYWQoZGVmaW5pdGlvbkRhdGFJZDpzdHJpbmcpe1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIucmVhZChMb2FkZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0KGRlZmluaXRpb25EYXRhSWQpKTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZ2V0U2FtcGxlcjJEVW5pZm9ybXNBZnRlclJlYWQoKS5mb3JFYWNoKCh1bmlmb3JtOlNoYWRlckRhdGEsIG5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLmFkZE1hcCg8VHdvRFRleHR1cmU+TG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldCh1bmlmb3JtLnRleHR1cmVJZCksIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlclZhcmlhYmxlTmFtZTogbmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZGVyKCl7XG4gICAgICAgICAgICByZXR1cm4gQ3VzdG9tU2hhZGVyLmNyZWF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVNoYWRpbmd7XG4gICAgICAgIEZMQVQsXG4gICAgICAgIFNNT09USFxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTWFwTWFuYWdlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUobWF0ZXJpYWw6TWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3RvcihtYXRlcmlhbDpNYXRlcmlhbCl7XG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfbWF0ZXJpYWw6TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tYXBUYWJsZTp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpO1xuICAgICAgICBwcml2YXRlIF9hcnJheU1hcExpc3Q6d2RDYi5Db2xsZWN0aW9uPEFycmF5TWFwRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEFycmF5TWFwRGF0YT4oKTtcbiAgICAgICAgcHJpdmF0ZSBfbWlycm9yTWFwOk1pcnJvclRleHR1cmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF90ZXh0dXJlRGlydHk6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9hbGxNYXBzQ2FjaGU6QXJyYXk8VGV4dHVyZT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9hbGxTaW5nbGVNYXBzQ2FjaGU6QXJyYXk8VGV4dHVyZT4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB2YXIgbWFwQXJyID0gdGhpcy5fZ2V0QWxsTWFwcygpO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBtYXBBcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbWFwQXJyW2ldO1xuXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkTWFwKGFzc2V0OlRleHR1cmVBc3NldCk7XG4gICAgICAgIHB1YmxpYyBhZGRNYXAoYXNzZXQ6VGV4dHVyZUFzc2V0LCBvcHRpb246TWFwVmFyaWFibGVEYXRhKTtcbiAgICAgICAgcHVibGljIGFkZE1hcChtYXA6VGV4dHVyZSk7XG4gICAgICAgIHB1YmxpYyBhZGRNYXAobWFwOlRleHR1cmUsIG9wdGlvbjpNYXBWYXJpYWJsZURhdGEpO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgYXNzZXJ0KGFyZ3NbMF0gaW5zdGFuY2VvZiBUZXh0dXJlQXNzZXQgfHwgYXJnc1swXSBpbnN0YW5jZW9mIFRleHR1cmUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiYXJndW1lbnRzWzBdXCIsIFwiYmUgVGV4dHVyZUFzc2V0IHx8IFRleHR1cmVcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgYWRkTWFwKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIG1hcDpUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJnc1swXSBpbnN0YW5jZW9mIFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICAgICAgbGV0IGFzc2V0OlRleHR1cmVBc3NldCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBtYXAgPSBhc3NldC50b1RleHR1cmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYXJnc1swXSBpbnN0YW5jZW9mIFRleHR1cmUpe1xuICAgICAgICAgICAgICAgIG1hcCA9IGFyZ3NbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAyKXtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NldE1hcE9wdGlvbihtYXAsIG9wdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcC5tYXRlcmlhbCA9IHRoaXMuX21hdGVyaWFsO1xuICAgICAgICAgICAgdGhpcy5fbWFwVGFibGUuYXBwZW5kQ2hpbGQoXCJtYXBcIiwgbWFwKTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGRBcnJheU1hcChzYW1wbGVyTmFtZTpzdHJpbmcsIG1hcEFycmF5OkFycmF5PFRleHR1cmU+KXtcbiAgICAgICAgICAgIHRoaXMuX2FycmF5TWFwTGlzdC5hZGRDaGlsZCh7XG4gICAgICAgICAgICAgICAgc2FtcGxlck5hbWU6c2FtcGxlck5hbWUsXG4gICAgICAgICAgICAgICAgbWFwQXJyYXk6bWFwQXJyYXlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbihtYXBMaXN0OndkQ2IuQ29sbGVjdGlvbjxCYXNpY1RleHR1cmV8UHJvY2VkdXJhbFRleHR1cmU+KXtcbiAgICAgICAgICAgIG1hcExpc3QuZm9yRWFjaCgobWFwOkJhc2ljVGV4dHVyZXxQcm9jZWR1cmFsVGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydChtYXAgaW5zdGFuY2VvZiBCYXNpY1RleHR1cmUgfHwgbWFwIGluc3RhbmNlb2YgUHJvY2VkdXJhbFRleHR1cmUsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibWFwTGlzdFwiLCBcIm9ubHkgY29udGFpbiBCYXNpY1RleHR1cmUgb3IgUHJvY2VkdXJhbFRleHR1cmVcIikpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgcHVibGljIGdldE1hcExpc3QoKTp3ZENiLkNvbGxlY3Rpb248QmFzaWNUZXh0dXJlfFByb2NlZHVyYWxUZXh0dXJlPntcbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXBUYWJsZS5nZXRDaGlsZChcIm1hcFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcCA/IHRoaXMuX21hcFRhYmxlLmdldENoaWxkKFwibWFwXCIpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigobWFwOlRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcCBpbnN0YW5jZW9mIEJhc2ljVGV4dHVyZSB8fCBtYXAgaW5zdGFuY2VvZiBQcm9jZWR1cmFsVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9KSA6IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8QmFzaWNUZXh0dXJlfFByb2NlZHVyYWxUZXh0dXJlPigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc01hcChmdW5jOiguLi5hcmdzKSA9PiBib29sZWFuKTtcbiAgICAgICAgcHVibGljIGhhc01hcChtYXA6VGV4dHVyZSk7XG5cbiAgICAgICAgcHVibGljIGhhc01hcCguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciBtYXBMaXN0OndkQ2IuQ29sbGVjdGlvbjxUZXh0dXJlPiA9IG51bGw7XG5cbiAgICAgICAgICAgIG1hcExpc3QgPSB0aGlzLl9tYXBUYWJsZS5nZXRDaGlsZChcIm1hcFwiKTtcblxuICAgICAgICAgICAgaWYoIW1hcExpc3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0Z1bmN0aW9uKGFyZ3NbMF0pKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwTGlzdC5oYXNDaGlsZFdpdGhGdW5jKGFyZ3NbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwTGlzdC5oYXNDaGlsZChhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRNYXBDb3VudCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFwTGlzdCgpLmdldENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0RW52TWFwKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWFwQnlUeXBlPEN1YmVtYXBUZXh0dXJlPihcImVudk1hcFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRFbnZNYXAoZW52TWFwOkN1YmVtYXBUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMuX3NldE1hcChcImVudk1hcFwiLCBlbnZNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldE1pcnJvck1hcCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21pcnJvck1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRNaXJyb3JNYXAobWlycm9yTWFwOk1pcnJvclRleHR1cmUpe1xuICAgICAgICAgICAgdGhpcy5hZGRNYXAobWlycm9yTWFwLCB7XG4gICAgICAgICAgICAgICAgc2FtcGxlclZhcmlhYmxlTmFtZTogVmFyaWFibGVOYW1lVGFibGUuZ2V0VmFyaWFibGVOYW1lKFwibWlycm9yUmVmbGVjdGlvbk1hcFwiKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21pcnJvck1hcCA9IG1pcnJvck1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc01pcnJvck1hcChtYXA6VGV4dHVyZSl7XG4gICAgICAgICAgICByZXR1cm4gbWFwID09PSB0aGlzLl9taXJyb3JNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVtb3ZlQWxsQ2hpbGRyZW4oKXtcbiAgICAgICAgICAgIHRoaXMuX21hcFRhYmxlLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICB0aGlzLl9hcnJheU1hcExpc3QucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB2YXIgbWFwQXJyID0gdGhpcy5fZ2V0QWxsTWFwcygpO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBtYXBBcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbWFwQXJyW2ldO1xuXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBiaW5kQW5kVXBkYXRlKCl7XG4gICAgICAgICAgICB2YXIgbWFwQXJyID0gdGhpcy5fZ2V0QWxsTWFwcygpO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBtYXBBcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbWFwQXJyW2ldO1xuXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5iaW5kVG9Vbml0KGkpO1xuXG4gICAgICAgICAgICAgICAgaWYodGV4dHVyZS5uZWVkVXBkYXRlKXtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS51cGRhdGUoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNlbmREYXRhKHByb2dyYW06UHJvZ3JhbSl7XG4gICAgICAgICAgICB0aGlzLl9zZW5kU2luZ2xlTWFwRGF0YShwcm9ncmFtKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRBcnJheU1hcERhdGEocHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZW5kU2luZ2xlTWFwRGF0YShwcm9ncmFtOlByb2dyYW0pe1xuICAgICAgICAgICAgdmFyIG1hcEFyciA9IHRoaXMuX2dldEFsbFNpbmdsZU1hcHMoKSxcbiAgICAgICAgICAgICAgICBsZW4gPSBtYXBBcnIubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbWFwQXJyW2ldO1xuXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5zZW5kRGF0YShwcm9ncmFtLCB0ZXh0dXJlLmdldFNhbXBsZXJOYW1lKGkpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3NlbmRBcnJheU1hcERhdGEocHJvZ3JhbTpQcm9ncmFtKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBtYXhVbml0T2ZCaW5kZWRTaW5nbGVNYXAgPSB0aGlzLl9nZXRNYXhVbml0T2ZCaW5kZWRTaW5nbGVNYXAoKTtcblxuICAgICAgICAgICAgdGhpcy5fYXJyYXlNYXBMaXN0LmZvckVhY2goKG1hcERhdGE6QXJyYXlNYXBEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGFycmF5TWFwQ291bnQgPSBtYXBEYXRhLm1hcEFycmF5Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFVuaWZvcm1EYXRhKGAke21hcERhdGEuc2FtcGxlck5hbWV9WzBdYCwgRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0FSUkFZLCBzZWxmLl9nZW5lcmF0ZUFycmF5TWFwVW5pdEFycmF5KG1heFVuaXRPZkJpbmRlZFNpbmdsZU1hcCwgbWF4VW5pdE9mQmluZGVkU2luZ2xlTWFwICsgYXJyYXlNYXBDb3VudCkpO1xuXG4gICAgICAgICAgICAgICAgbWF4VW5pdE9mQmluZGVkU2luZ2xlTWFwICs9IGFycmF5TWFwQ291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24oYXJyOkFycmF5PG51bWJlcj4sIHN0YXJ0VW5pdDpudW1iZXIsIGVuZFVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIGFzc2VydChhcnIubGVuZ3RoID09PSBlbmRVbml0IC0gc3RhcnRVbml0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImxlbmd0aFwiLCBgYmUgJHtlbmRVbml0IC0gc3RhcnRVbml0fSwgYnV0IGFjdHVhbCBpcyAke2Fyci5sZW5ndGh9YCkpO1xuICAgICAgICAgICAgYXNzZXJ0KGFyclswXSA9PT0gc3RhcnRVbml0LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImZpcnN0IGVsZW1lbnRcIiwgYGJlICR7c3RhcnRVbml0fSwgYnV0IGFjdHVhbCBpcyAke2FyclswXX1gKSk7XG4gICAgICAgICAgICBhc3NlcnQoYXJyW2Fyci5sZW5ndGggLSAxXSA9PT0gZW5kVW5pdCAtIDEsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwibGFzdCBlbGVtZW50XCIsIGBiZSAke2VuZFVuaXQgLSAxfSwgYnV0IGFjdHVhbCBpcyAke2FyclthcnIubGVuZ3RoIC0gMV19YCkpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZW5lcmF0ZUFycmF5TWFwVW5pdEFycmF5KHN0YXJ0VW5pdDpudW1iZXIsIGVuZFVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcblxuICAgICAgICAgICAgd2hpbGUoZW5kVW5pdCA+IHN0YXJ0VW5pdCl7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goc3RhcnRVbml0KTtcblxuICAgICAgICAgICAgICAgIHN0YXJ0VW5pdCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbihtYXBBcnI6QXJyYXk8VGV4dHVyZT4pe1xuICAgICAgICAgICAgZm9yKGxldCBtYXAgb2YgbWFwQXJyKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQobWFwIGluc3RhbmNlb2YgVGV4dHVyZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJlYWNoIGVsZW1lbnRcIiwgXCJiZSBUZXh0dXJlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX3RleHR1cmVEaXJ0eSAmJiB0aGlzLl9hbGxNYXBzQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsTWFwc0NhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihtYXBMaXN0OndkQ2IuQ29sbGVjdGlvbjxUZXh0dXJlPil7XG4gICAgICAgICAgICB0aGlzLl9hbGxNYXBzQ2FjaGUgPSBtYXBMaXN0O1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEFsbE1hcHMoKXtcbiAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5fZ2V0QWxsU2luZ2xlTWFwcygpLCB0aGlzLl9nZXRBbGxBcnJheU1hcHMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXhVbml0T2ZCaW5kZWRTaW5nbGVNYXAoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRBbGxTaW5nbGVNYXBzKCkubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgQGNhY2hlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX3RleHR1cmVEaXJ0eSAmJiB0aGlzLl9hbGxTaW5nbGVNYXBzQ2FjaGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsU2luZ2xlTWFwc0NhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihtYXBMaXN0OndkQ2IuQ29sbGVjdGlvbjxUZXh0dXJlPil7XG4gICAgICAgICAgICB0aGlzLl9hbGxTaW5nbGVNYXBzQ2FjaGUgPSBtYXBMaXN0O1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldEFsbFNpbmdsZU1hcHMoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXBUYWJsZS50b0FycmF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBAZW5zdXJlKGZ1bmN0aW9uKG1hcEFycjpBcnJheTxUZXh0dXJlPil7XG4gICAgICAgICAgICBmb3IobGV0IG1hcCBvZiBtYXBBcnIpe1xuICAgICAgICAgICAgICAgIGFzc2VydChtYXAgaW5zdGFuY2VvZiBUZXh0dXJlLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImVhY2ggZWxlbWVudFwiLCBcImJlIFRleHR1cmVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRBbGxBcnJheU1hcHMoKXtcbiAgICAgICAgICAgIHZhciBhcnJheU1hcCA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9hcnJheU1hcExpc3QuZm9yRWFjaCgobWFwRGF0YTpBcnJheU1hcERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBhcnJheU1hcCA9IGFycmF5TWFwLmNvbmNhdChtYXBEYXRhLm1hcEFycmF5KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXBCeVR5cGU8VD4oa2V5OnN0cmluZyk6VHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXBUYWJsZS5nZXRDaGlsZChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWFwKGtleTpzdHJpbmcsIG1hcDpUZXh0dXJlKTtcbiAgICAgICAgcHJpdmF0ZSBfc2V0TWFwKGtleTpzdHJpbmcsIG1hcDpUZXh0dXJlLCBvcHRpb246TWFwVmFyaWFibGVEYXRhKTtcblxuICAgICAgICBwcml2YXRlIF9zZXRNYXAoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIga2V5OnN0cmluZyA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgbWFwOlRleHR1cmUgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICBpZighbWFwKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVNYXAoa2V5LCBtYXApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAzKXtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uOk1hcFZhcmlhYmxlRGF0YSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRNYXBPcHRpb24obWFwLCBvcHRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXAubWF0ZXJpYWwgPSB0aGlzLl9tYXRlcmlhbDtcblxuICAgICAgICAgICAgdGhpcy5fbWFwVGFibGUuYWRkQ2hpbGQoa2V5LCBtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlTWFwKGtleTpzdHJpbmcsIG1hcDpUZXh0dXJlKXtcbiAgICAgICAgICAgIHRoaXMuX21hcFRhYmxlLnJlbW92ZUNoaWxkKGtleSk7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TWFwT3B0aW9uKG1hcDpUZXh0dXJlLCBvcHRpb246TWFwVmFyaWFibGVEYXRhKXtcbiAgICAgICAgICAgIG1hcC52YXJpYWJsZURhdGEgPSBvcHRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBNYXBWYXJpYWJsZURhdGEgPSB7XG4gICAgICAgIHNhbXBsZXJWYXJpYWJsZU5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHNhbXBsZXJEYXRhPzphbnlcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBBcnJheU1hcERhdGEgPSB7XG4gICAgICAgIHNhbXBsZXJOYW1lOnN0cmluZztcbiAgICAgICAgbWFwQXJyYXk6QXJyYXk8VGV4dHVyZT47XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVBc3NldFR5cGV7XG4gICAgICAgIFVOS05PVyxcbiAgICAgICAgRk9OVFxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgTG9hZGVye1xuICAgICAgICBwcml2YXRlIF9jb250YWluZXI6d2RDYi5IYXNoPHN0cmluZz4gPSB3ZENiLkhhc2guY3JlYXRlPHN0cmluZz4oKTtcblxuICAgICAgICBwdWJsaWMgbG9hZCh1cmw6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpBcnJheTxzdHJpbmc+KTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwdWJsaWMgbG9hZCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cblxuICAgICAgICBwdWJsaWMgbG9hZCguLi5hcmdzKTp3ZEZycC5TdHJlYW17XG4gICAgICAgICAgICB2YXIgdXJsID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICBpZCA9IG51bGwsXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgc3RyZWFtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkodXJsKSl7XG4gICAgICAgICAgICAgICAgICAgIGlkID0gdXJsLmpvaW4oXCItXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBpZCA9IHVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlkID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NvbnRhaW5lci5nZXRDaGlsZChpZCk7XG5cbiAgICAgICAgICAgIGlmKGRhdGEpe1xuICAgICAgICAgICAgICAgIHN0cmVhbSA9IHdkRnJwLmp1c3QoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHN0cmVhbSA9IHRoaXMubG9hZEFzc2V0KHVybCwgaWQpXG4gICAgICAgICAgICAgICAgICAgIC5kbygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29udGFpbmVyLmFkZENoaWxkKGlkLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZXJyb3JIYW5kbGUodXJsLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9LCBudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXQoaWQ6c3RyaW5nKTphbnl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyLmdldENoaWxkKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoYXMoaWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXIuaGFzQ2hpbGQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgcHJpdmF0ZSBfZXJyb3JIYW5kbGUocGF0aDpzdHJpbmcsIGVycjpzdHJpbmcpO1xuICAgICAgICBwcml2YXRlIF9lcnJvckhhbmRsZShwYXRoOkFycmF5PHN0cmluZz4sIGVycjpzdHJpbmcpO1xuXG5cbiAgICAgICAgcHJpdmF0ZSBfZXJyb3JIYW5kbGUoLi4uYXJncykge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBudWxsLFxuICAgICAgICAgICAgICAgIGVyciA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIHBhdGggPSBhcmdzWzBdLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBwYXRoID0gYXJnc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVyciA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgIExvZy5sb2coYGxvYWQgJHtwYXRofSBhc3NldCBmYWlsOiR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMU0xMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJ0ZXh0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIGV4cG9ydCBjbGFzcyBKc0xvYWRlciBleHRlbmRzIExvYWRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGFzc2VydCghSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShhcmdzWzBdKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidXJsXCIsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tUHJvbWlzZShuZXcgUlNWUC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0OmFueSA9IHNlbGYuX2NyZWF0ZVNjcmlwdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlIGFzeW5jPWZhbHNlIHRvIGZvcmNlIHNjcmlwdHMgdG8gZXhlY3V0ZSBpbiBvcmRlclxuICAgICAgICAgICAgICAgIHNjcmlwdC5hc3luYyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RvZG8gZ2V0IGVycm9yIG1lc3NhZ2UgZnJvbSBlKEV2ZW50KT9cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGBsb2FkIGpzIGZpbGUgZXJyb3IuIHVybDoke3VybH1gKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vSUVcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkZWRcIiB8fCBzY3JpcHQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiEgc2V0IHRoZSBzcmMgYXR0cmlidXRlIGFmdGVyIHRoZSBvbmxvYWQgY2FsbGJhY2sgaXMgc2V0LCB0byBhdm9pZCBhbiBpbnN0YW50IGxvYWRpbmcgZmFpbGluZyB0byBmaXJlIHRoZSBjYWxsYmFjayAqL1xuICAgICAgICAgICAgICAgIHNjcmlwdC5zcmMgPSB1cmw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBlbmRTY3JpcHQoc2NyaXB0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZVNjcmlwdCgpIHtcbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXG4gICAgICAgICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG5cbiAgICAgICAgICAgIHJldHVybiBzY3JpcHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hcHBlbmRTY3JpcHQoc2NyaXB0KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgSlNPTkxvYWRlciBleHRlbmRzIExvYWRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGFzc2VydCghSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShhcmdzWzBdKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidXJsXCIsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIHJldHVybiBBamF4TG9hZGVyLmxvYWQodXJsLCBcImpzb25cIik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFZpZGVvTG9hZGVyIGV4dGVuZHMgTG9hZGVye1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpzdHJpbmcsIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEFzc2V0KC4uLmFyZ3MpOndkRnJwLlN0cmVhbSB7XG4gICAgICAgICAgICB2YXIgdXJsQXJyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc1N0cmluZyhhcmdzWzBdKSl7XG4gICAgICAgICAgICAgICAgdXJsQXJyID0gW2FyZ3NbMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB1cmxBcnIgPSBhcmdzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbVByb21pc2UobmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgVmlkZW8uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsQXJyOnVybEFycixcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkOiAodmlkZW86VmlkZW8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoVmlkZW9UZXh0dXJlQXNzZXQuY3JlYXRlKHZpZGVvKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IChlcnI6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFRleHR1cmVMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciBleHRuYW1lID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSBudWxsLFxuICAgICAgICAgICAgICAgIHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgIGV4dG5hbWUgPSB3ZENiLlBhdGhVdGlscy5leHRuYW1lKHVybCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgc3dpdGNoIChleHRuYW1lKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmpwZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIuanBlZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIuZ2lmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIuYm1wXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vdG9kbyBpcyBSR0I/XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9ICBJbWFnZUxvYWRlci5sb2FkKHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGltYWdlOkhUTUxJbWFnZUVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBJbWFnZVRleHR1cmVBc3NldC5jcmVhdGUoaW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQuZm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIucG5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9ICBJbWFnZUxvYWRlci5sb2FkKHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGltYWdlOkhUTUxJbWFnZUVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW1hZ2VUZXh0dXJlQXNzZXQuY3JlYXRlKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmRkc1wiOlxuICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci5sb2FkKHVybCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKGV4dG5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgSW1hZ2VMb2FkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbG9hZCh1cmw6c3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gd2RGcnAuZnJvbVByb21pc2UobmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpbWcgPSBuZXcgcm9vdC5JbWFnZSgpO1xuICAgICAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgICAgICDnu4/ov4flr7nlpJrkuKrmtY/op4jlmajniYjmnKznmoTmtYvor5XvvIzlj5HnjrBpZeOAgW9wZXJh5LiL77yM5b2T5Zu+54mH5Yqg6L296L+H5LiA5qyh5Lul5ZCO77yM5aaC5p6c5YaN5pyJ5a+56K+l5Zu+54mH55qE6K+35rGC5pe277yM55Sx5LqO5rWP6KeI5Zmo5bey57uP57yT5a2Y5L2P6L+Z5byg5Zu+XG5cbiAgICAgICAgICAgICAgICAg54mH5LqG77yM5LiN5Lya5YaN5Y+R6LW35LiA5qyh5paw55qE6K+35rGC77yM6ICM5piv55u05o6l5LuO57yT5a2Y5Lit5Yqg6L296L+H5p2l44CC5a+55LqOIGZpcmVmb3jlkoxzYWZhcmnvvIzlroPku6zor5Xlm77kvb/ov5nkuKTnp43liqDovb3mlrnlvI/lr7nnlKjmiLfpgI/mmI7vvIzlkIzmoLdcblxuICAgICAgICAgICAgICAgICDkvJrlvJXotbflm77niYfnmoRvbmxvYWTkuovku7bvvIzogIxpZeWSjG9wZXJh5YiZ5b+955Wl5LqG6L+Z56eN5ZCM5LiA5oCn77yM5LiN5Lya5byV6LW35Zu+54mH55qEb25sb2Fk5LqL5Lu277yM5Zug5q2k5LiK6L6555qE5Luj56CB5Zyo5a6D5Lus6YeM6L655LiN6IO95b6X5Lul5a6e546w5pWI5p6c44CCXG5cbiAgICAgICAgICAgICAgICAg56Gu5a6e77yM5ZyoaWXvvIxvcGVyYeS4i++8jOWvueS6jue8k+WtmOWbvueJh+eahOWIneWni+eKtuaAge+8jOS4jmZpcmVmb3jlkoxzYWZhcmnvvIxjaHJvbWXkuIvmmK/kuI3kuIDmoLfnmoTvvIjmnInlhbTotqPnmoTor53vvIzlj6/ku6XlnKjkuI3lkIzmtY/op4jlmajkuIvvvIzmtYvor5XkuIDkuIvlnKjnu5lpbWfnmoRzcmPotYvlgLznvJPlrZjlm77niYfnmoR1cmzkuYvliY3vvIxpbWfnmoTnirbmgIHvvInvvIxcbiAgICAgICAgICAgICAgICAg5L2G5piv5a+5b25sb2Fk5LqL5Lu255qE6Kem5Y+R77yM5Y205piv5LiA6Ie055qE77yM5LiN566h5piv5LuA5LmI5rWP6KeI5Zmo44CCXG5cbiAgICAgICAgICAgICAgICAg5Lqn55Sf6L+Z5Liq6Zeu6aKY55qE5qC55pys5Y6f5Zug5Zyo5LqO77yMaW1n55qEc3Jj6LWL5YC85LiOIG9ubG9hZOS6i+S7tueahOe7keWumu+8jOmhuuW6j+S4jeWvue+8iOWcqGll5ZKMb3BlcmHkuIvvvIzlhYjotYvlgLxzcmPvvIzlho3otYvlgLxvbmxvYWTvvIzlm6DkuLrmmK/nvJPlrZjlm77niYfvvIzlsLHplJnov4fkuoZvbmxvYWTkuovku7bnmoTop6blj5HvvInjgIJcbiAgICAgICAgICAgICAgICAg5bqU6K+l5YWI57uR5a6ab25sb2Fk5LqL5Lu277yM54S25ZCO5YaN57uZc3Jj6LWL5YC844CCXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmxvYWQgPSBudWxsOyAgICAgLy/op6PlhrNpZeWGheWtmOazhOmcslxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEFqYXhMb2FkZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbG9hZCh1cmw6c3RyaW5nLCBkYXRhVHlwZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tUHJvbWlzZShuZXcgUlNWUC5Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB3ZENiLkFqYXhVdGlscy5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgLy9hc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IGRhdGFUeXBlLFxuICAgICAgICAgICAgICAgICAgICAvL2NhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAoWE1MSHR0cFJlcXVlc3QsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoYHVybDoke3VybH1cXG5yZWFkeVN0YXRlOiR7WE1MSHR0cFJlcXVlc3QucmVhZHlTdGF0ZX1cXG5zdGF0dXM6JHtYTUxIdHRwUmVxdWVzdC5zdGF0dXN9XFxubWVzc2FnZToke2Vycm9yVGhyb3duLm1lc3NhZ2V9XFxucmVzcG9uc2VUZXh0OiR7WE1MSHR0cFJlcXVlc3QucmVzcG9uc2VUZXh0fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgTW9kZWxMb2FkZXJVdGlsc3tcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRQYXRoKGZpbGVQYXRoOnN0cmluZywgbWFwVXJsOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGAke3dkQ2IuUGF0aFV0aWxzLmRpcm5hbWUoZmlsZVBhdGgpfS8ke21hcFVybH1gO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbXByZXNzZWRUZXh0dXJlTG9hZGVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGxvYWQodXJsOnN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIEFqYXhMb2FkZXIubG9hZCh1cmwsIFwiYXJyYXlidWZmZXJcIilcbiAgICAgICAgICAgICAgICAubWFwKChkYXRhOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4RGF0YXM6RERTRGF0YSA9IEREU1BhcnNlci5wYXJzZShkYXRhLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0ID0gQ29tcHJlc3NlZFRleHR1cmVBc3NldC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBhc3NldC53aWR0aCA9IHRleERhdGFzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBhc3NldC5oZWlnaHQgPSB0ZXhEYXRhcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0Lm1pcG1hcHMgPSB0ZXhEYXRhcy5taXBtYXBzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXhEYXRhcy5taXBtYXBDb3VudCA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0Lm1pbkZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhc3NldC5mb3JtYXQgPSB0aGlzLl9nZXRDb21wcmVzc2VkRm9ybWF0KHRleERhdGFzLmZvcm1hdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vdG9kbyBzdXBwb3J0IHB2clxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ2V0Q29tcHJlc3NlZEZvcm1hdChmb3JtYXQ6RVRleHR1cmVGb3JtYXQpe1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkuZXh0ZW5zaW9uQ29tcHJlc3NlZFRleHR1cmVTM1RDO1xuXG4gICAgICAgICAgICBpZihmb3JtYXQgPT09IEVUZXh0dXJlRm9ybWF0LlJHQkEpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCFleHRlbnNpb24pe1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdCl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVGV4dHVyZUZvcm1hdC5SR0JfUzNUQ19EWFQxOlxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBFVGV4dHVyZUZvcm1hdC5SR0JBX1MzVENfRFhUMTpcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUZXh0dXJlRm9ybWF0LlJHQkFfUzNUQ19EWFQzOlxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRVRleHR1cmVGb3JtYXQuUkdCQV9TM1RDX0RYVDU6XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGNvbnN0IEREU19NQUdJQyA9IDB4MjA1MzQ0NDQsXG5cbiAgICAgICAgRERTRF9DQVBTID0gMHgxLFxuICAgICAgICBERFNEX0hFSUdIVCA9IDB4MixcbiAgICAgICAgRERTRF9XSURUSCA9IDB4NCxcbiAgICAgICAgRERTRF9QSVRDSCA9IDB4OCxcbiAgICAgICAgRERTRF9QSVhFTEZPUk1BVCA9IDB4MTAwMCxcbiAgICAgICAgRERTRF9NSVBNQVBDT1VOVCA9IDB4MjAwMDAsXG4gICAgICAgIEREU0RfTElORUFSU0laRSA9IDB4ODAwMDAsXG4gICAgICAgIEREU0RfREVQVEggPSAweDgwMDAwMCxcblxuICAgICAgICBERFNDQVBTX0NPTVBMRVggPSAweDgsXG4gICAgICAgIEREU0NBUFNfTUlQTUFQID0gMHg0MDAwMDAsXG4gICAgICAgIEREU0NBUFNfVEVYVFVSRSA9IDB4MTAwMCxcblxuICAgICAgICBERFNDQVBTMl9DVUJFTUFQID0gMHgyMDAsXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVBfUE9TSVRJVkVYID0gMHg0MDAsXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVBfTkVHQVRJVkVYID0gMHg4MDAsXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVBfUE9TSVRJVkVZID0gMHgxMDAwLFxuICAgICAgICBERFNDQVBTMl9DVUJFTUFQX05FR0FUSVZFWSA9IDB4MjAwMCxcbiAgICAgICAgRERTQ0FQUzJfQ1VCRU1BUF9QT1NJVElWRVogPSAweDQwMDAsXG4gICAgICAgIEREU0NBUFMyX0NVQkVNQVBfTkVHQVRJVkVaID0gMHg4MDAwLFxuICAgICAgICBERFNDQVBTMl9WT0xVTUUgPSAweDIwMDAwMCxcblxuICAgICAgICBERFBGX0FMUEhBUElYRUxTID0gMHgxLFxuICAgICAgICBERFBGX0FMUEhBID0gMHgyLFxuICAgICAgICBERFBGX0ZPVVJDQyA9IDB4NCxcbiAgICAgICAgRERQRl9SR0IgPSAweDQwLFxuICAgICAgICBERFBGX1lVViA9IDB4MjAwLFxuICAgICAgICBERFBGX0xVTUlOQU5DRSA9IDB4MjAwMDA7XG5cbiAgICBleHBvcnQgY2xhc3MgRERTUGFyc2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIHBhcnNlKGJ1ZmZlcjphbnksIGxvYWRNaXBtYXBzOmJvb2xlYW49dHJ1ZSl7XG4gICAgICAgICAgICB2YXIgZGRzID0gbmV3IEREU0RhdGEoKSxcbiAgICAgICAgICAgICAgICBGT1VSQ0NfRFhUMSA9IHRoaXMuX2ZvdXJDQ1RvSW50MzIoXCJEWFQxXCIpLFxuICAgICAgICAgICAgICAgIEZPVVJDQ19EWFQzID0gdGhpcy5fZm91ckNDVG9JbnQzMihcIkRYVDNcIiksXG4gICAgICAgICAgICAgICAgRk9VUkNDX0RYVDUgPSB0aGlzLl9mb3VyQ0NUb0ludDMyKFwiRFhUNVwiKSxcblxuICAgICAgICAgICAgICAgIGhlYWRlckxlbmd0aEludCA9IDMxLCAvLyBUaGUgaGVhZGVyIGxlbmd0aCBpbiAzMiBiaXQgaW50LFxuXG4gICAgICAgICAgICAvLyBPZmZzZXRzIGludG8gdGhlIGhlYWRlciBhcnJheVxuXG4gICAgICAgICAgICAgICAgb2ZmX21hZ2ljID0gMCxcblxuICAgICAgICAgICAgICAgIG9mZl9zaXplID0gMSxcbiAgICAgICAgICAgICAgICBvZmZfZmxhZ3MgPSAyLFxuICAgICAgICAgICAgICAgIG9mZl9oZWlnaHQgPSAzLFxuICAgICAgICAgICAgICAgIG9mZl93aWR0aCA9IDQsXG5cbiAgICAgICAgICAgICAgICBvZmZfbWlwbWFwQ291bnQgPSA3LFxuXG4gICAgICAgICAgICAgICAgb2ZmX3BmRmxhZ3MgPSAyMCxcbiAgICAgICAgICAgICAgICBvZmZfcGZGb3VyQ0MgPSAyMSxcbiAgICAgICAgICAgICAgICBvZmZfUkdCQml0Q291bnQgPSAyMixcbiAgICAgICAgICAgICAgICBvZmZfUkJpdE1hc2sgPSAyMyxcbiAgICAgICAgICAgICAgICBvZmZfR0JpdE1hc2sgPSAyNCxcbiAgICAgICAgICAgICAgICBvZmZfQkJpdE1hc2sgPSAyNSxcbiAgICAgICAgICAgICAgICBvZmZfQUJpdE1hc2sgPSAyNixcblxuICAgICAgICAgICAgICAgIG9mZl9jYXBzID0gMjcsXG4gICAgICAgICAgICAgICAgb2ZmX2NhcHMyID0gMjgsXG4gICAgICAgICAgICAgICAgb2ZmX2NhcHMzID0gMjksXG4gICAgICAgICAgICAgICAgb2ZmX2NhcHM0ID0gMzAsXG4gICAgICAgICAgICAvLyBQYXJzZSBoZWFkZXJcbiAgICAgICAgICAgICAgICBoZWFkZXI6SW50MzJBcnJheSA9IG5ldyBJbnQzMkFycmF5KCBidWZmZXIsIDAsIGhlYWRlckxlbmd0aEludCApLFxuICAgICAgICAgICAgICAgIGJsb2NrQnl0ZXMgPSBudWxsLFxuICAgICAgICAgICAgICAgIGZvdXJDQyA9IG51bGwsXG4gICAgICAgICAgICAgICAgaXNSR0JBVW5jb21wcmVzc2VkID0gbnVsbCxcbiAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG51bGwsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNlcyA9IG51bGw7XG5cblxuICAgICAgICAgICAgaWYgKCBoZWFkZXJbIG9mZl9tYWdpYyBdICE9PSBERFNfTUFHSUMgKSB7XG4gICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIFwiSW52YWxpZCBtYWdpYyBudW1iZXIgaW4gRERTIGhlYWRlci5cIiApO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggPGFueT4oIWhlYWRlclsgb2ZmX3BmRmxhZ3MgXSkgJiBERFBGX0ZPVVJDQyApIHtcbiAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgXCJVbnN1cHBvcnRlZCBmb3JtYXQsIG11c3QgY29udGFpbiBhIEZvdXJDQyBjb2RlLlwiICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRkcztcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmb3VyQ0MgPSBoZWFkZXJbIG9mZl9wZkZvdXJDQyBdO1xuXG4gICAgICAgICAgICBpc1JHQkFVbmNvbXByZXNzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgc3dpdGNoICggZm91ckNDICkge1xuICAgICAgICAgICAgICAgIGNhc2UgRk9VUkNDX0RYVDE6XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrQnl0ZXMgPSA4O1xuICAgICAgICAgICAgICAgICAgICBkZHMuZm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCX1MzVENfRFhUMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBGT1VSQ0NfRFhUMzpcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tCeXRlcyA9IDE2O1xuICAgICAgICAgICAgICAgICAgICBkZHMuZm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCQV9TM1RDX0RYVDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRk9VUkNDX0RYVDU6XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrQnl0ZXMgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgZGRzLmZvcm1hdCA9IEVUZXh0dXJlRm9ybWF0LlJHQkFfUzNUQ19EWFQ1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIGhlYWRlcltvZmZfUkdCQml0Q291bnRdID09IDMyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBoZWFkZXJbb2ZmX1JCaXRNYXNrXSYweGZmMDAwMFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgaGVhZGVyW29mZl9HQml0TWFza10mMHhmZjAwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBoZWFkZXJbb2ZmX0JCaXRNYXNrXSYweGZmXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBoZWFkZXJbb2ZmX0FCaXRNYXNrXSYweGZmMDAwMDAwICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUkdCQVVuY29tcHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja0J5dGVzID0gNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZHMuZm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBcIlVuc3VwcG9ydGVkIEZvdXJDQyBjb2RlIFwiICsgdGhpcy5faW50MzJUb0ZvdXJDQyggZm91ckNDICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGRzLm1pcG1hcENvdW50ID0gMTtcblxuICAgICAgICAgICAgaWYgKCBoZWFkZXJbIG9mZl9mbGFncyBdICYgRERTRF9NSVBNQVBDT1VOVCAmJiBsb2FkTWlwbWFwcyAhPT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgZGRzLm1pcG1hcENvdW50ID0gTWF0aC5tYXgoIDEsIGhlYWRlclsgb2ZmX21pcG1hcENvdW50IF0gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9UT0RPOiBWZXJpZnkgdGhhdCBhbGwgZmFjZXMgb2YgdGhlIGN1YmVtYXAgYXJlIHByZXNlbnQgd2l0aCBERFNDQVBTMl9DVUJFTUFQX1BPU0lUSVZFWCwgZXRjLlxuXG4gICAgICAgICAgICBkZHMuaXNDdWJlbWFwID0gaGVhZGVyWyBvZmZfY2FwczIgXSAmIEREU0NBUFMyX0NVQkVNQVAgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgICAgIGRkcy53aWR0aCA9IGhlYWRlclsgb2ZmX3dpZHRoIF07XG4gICAgICAgICAgICBkZHMuaGVpZ2h0ID0gaGVhZGVyWyBvZmZfaGVpZ2h0IF07XG5cbiAgICAgICAgICAgIGRhdGFPZmZzZXQgPSBoZWFkZXJbIG9mZl9zaXplIF0gKyA0O1xuXG4gICAgICAgICAgICAvLyBFeHRyYWN0IG1pcG1hcHMgYnVmZmVyc1xuXG4gICAgICAgICAgICB3aWR0aCA9IGRkcy53aWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGRkcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGZhY2VzID0gZGRzLmlzQ3ViZW1hcCA/IDYgOiAxO1xuXG4gICAgICAgICAgICBmb3IgKCBsZXQgZmFjZSA9IDA7IGZhY2UgPCBmYWNlczsgZmFjZSArKyApIHtcblxuICAgICAgICAgICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGRkcy5taXBtYXBDb3VudDsgaSArKyApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1pcG1hcCA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUxlbmd0aCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpc1JHQkFVbmNvbXByZXNzZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkgPSB0aGlzLl9sb2FkQVJHQk1pcCggYnVmZmVyLCBkYXRhT2Zmc2V0LCB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhTGVuZ3RoID0gYnl0ZUFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFMZW5ndGggPSBNYXRoLm1heCggNCwgd2lkdGggKSAvIDQgKiBNYXRoLm1heCggNCwgaGVpZ2h0ICkgLyA0ICogYmxvY2tCeXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KCBidWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFMZW5ndGggKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1pcG1hcCA9IDxDb21wcmVzc2VkVGV4dHVyZU1pcG1hcD57IFwiZGF0YVwiOiBieXRlQXJyYXksIFwid2lkdGhcIjogd2lkdGgsIFwiaGVpZ2h0XCI6IGhlaWdodCB9O1xuICAgICAgICAgICAgICAgICAgICBkZHMubWlwbWFwcy5hZGRDaGlsZCggbWlwbWFwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSBkYXRhTGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgoIHdpZHRoICogMC41LCAxICk7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KCBoZWlnaHQgKiAwLjUsIDEgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aWR0aCA9IGRkcy53aWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBkZHMuaGVpZ2h0O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZHM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZm91ckNDVG9JbnQzMiggdmFsdWUgKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKSArXG4gICAgICAgICAgICAgICAgKHZhbHVlLmNoYXJDb2RlQXQoMSkgPDwgOCkgK1xuICAgICAgICAgICAgICAgICh2YWx1ZS5jaGFyQ29kZUF0KDIpIDw8IDE2KSArXG4gICAgICAgICAgICAgICAgKHZhbHVlLmNoYXJDb2RlQXQoMykgPDwgMjQpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2ludDMyVG9Gb3VyQ0MoIHZhbHVlICkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICAgICAgICAgdmFsdWUgJiAweGZmLFxuICAgICAgICAgICAgICAgICh2YWx1ZSA+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgKHZhbHVlID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgKHZhbHVlID4+IDI0KSAmIDB4ZmZcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2xvYWRBUkdCTWlwKCBidWZmZXIsIGRhdGFPZmZzZXQsIHdpZHRoLCBoZWlnaHQgKSB7XG4gICAgICAgICAgICB2YXIgZGF0YUxlbmd0aCA9IHdpZHRoICogaGVpZ2h0ICogNCxcbiAgICAgICAgICAgICAgICBzcmNCdWZmZXIgPSBuZXcgVWludDhBcnJheSggYnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhTGVuZ3RoICksXG4gICAgICAgICAgICAgICAgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoIGRhdGFMZW5ndGggKSxcbiAgICAgICAgICAgICAgICBkc3QgPSAwLFxuICAgICAgICAgICAgICAgIHNyYyA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoIGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSArKyApIHtcbiAgICAgICAgICAgICAgICBmb3IgKCBsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCArKyApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGIgPSBzcmNCdWZmZXJbc3JjXTtcbiAgICAgICAgICAgICAgICAgICAgc3JjICsrO1xuICAgICAgICAgICAgICAgICAgICBnID0gc3JjQnVmZmVyW3NyY107XG4gICAgICAgICAgICAgICAgICAgIHNyYyArKztcbiAgICAgICAgICAgICAgICAgICAgciA9IHNyY0J1ZmZlcltzcmNdO1xuICAgICAgICAgICAgICAgICAgICBzcmMgKys7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBzcmNCdWZmZXJbc3JjXTtcbiAgICAgICAgICAgICAgICAgICAgc3JjICsrO1xuXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtkc3RdID0gcjsgZHN0ICsrO1x0Ly9yXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtkc3RdID0gZzsgZHN0ICsrO1x0Ly9nXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtkc3RdID0gYjsgZHN0ICsrO1x0Ly9iXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtkc3RdID0gYTsgZHN0ICsrO1x0Ly9hXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIEREU0RhdGF7XG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxDb21wcmVzc2VkVGV4dHVyZU1pcG1hcD4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPENvbXByZXNzZWRUZXh0dXJlTWlwbWFwPigpO1xuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgZm9ybWF0OkVUZXh0dXJlRm9ybWF0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1pcG1hcENvdW50Om51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBpc0N1YmVtYXA6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgVGV4dHVyZUFzc2V0IGltcGxlbWVudHMgSVRleHR1cmVBc3NldHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBkZWZhdWx0VGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IHdpZHRoKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGggPT09IG51bGw/ICh0aGlzLnNvdXJjZT8gdGhpcy5zb3VyY2Uud2lkdGggOiBudWxsKSA6IHRoaXMuX3dpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hlaWdodDpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0ID09PSBudWxsPyAodGhpcy5zb3VyY2U/IHRoaXMuc291cmNlLmhlaWdodCA6IG51bGwpIDogdGhpcy5faGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldCBoZWlnaHQoaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2VuZXJhdGVNaXBtYXBzOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uTWV0aG9kOkVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kID0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuQ0hBTkdFX1RFWENPT1JEU19JTl9HTFNMO1xuICAgICAgICBwdWJsaWMgZm9ybWF0OkVUZXh0dXJlRm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCQTtcbiAgICAgICAgcHVibGljIHNvdXJjZTphbnkgPSBUZXh0dXJlQXNzZXQuZGVmYXVsdFRleHR1cmU7XG4gICAgICAgIHB1YmxpYyByZXBlYXRSZWdpb246UmVjdFJlZ2lvbiA9IFJlY3RSZWdpb24uY3JlYXRlKDAsIDAsIDEsIDEpO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzb3VyY2VSZWdpb25NYXBwaW5nOkVUZXh0dXJlU291cmNlUmVnaW9uTWFwcGluZyA9IEVUZXh0dXJlU291cmNlUmVnaW9uTWFwcGluZy5DQU5WQVM7XG5cbiAgICAgICAgcHVibGljIGZsaXBZOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcHJlbXVsdGlwbHlBbHBoYTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyB1bnBhY2tBbGlnbm1lbnQ6bnVtYmVyID0gNDtcblxuICAgICAgICAvL3RvZG8gZXh0cmFjdCBUZXh0dXJlRGVmYXVsdCBjbGFzcyB0byBzYXZlIGRlZmF1bHQgc2V0dGluZz9cblxuICAgICAgICBwdWJsaWMgd3JhcFM6RVRleHR1cmVXcmFwTW9kZSA9IEVUZXh0dXJlV3JhcE1vZGUuQ0xBTVBfVE9fRURHRTtcbiAgICAgICAgcHVibGljIHdyYXBUOkVUZXh0dXJlV3JhcE1vZGUgPSBFVGV4dHVyZVdyYXBNb2RlLkNMQU1QX1RPX0VER0U7XG4gICAgICAgIHB1YmxpYyBtYWdGaWx0ZXI6RVRleHR1cmVGaWx0ZXJNb2RlID0gRVRleHR1cmVGaWx0ZXJNb2RlLkxJTkVBUjtcbiAgICAgICAgcHVibGljIG1pbkZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSX01JUE1BUF9MSU5FQVI7XG4gICAgICAgIHB1YmxpYyB0eXBlOkVUZXh0dXJlVHlwZSA9IEVUZXh0dXJlVHlwZS5VTlNJR05FRF9CWVRFO1xuICAgICAgICBwdWJsaWMgbWlwbWFwczp3ZENiLkNvbGxlY3Rpb248YW55PiA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgYW5pc290cm9weTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbmVlZFVwZGF0ZTpib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCB0b1RleHR1cmUoKTpUZXh0dXJlO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCB0b0N1YmVtYXBGYWNlVGV4dHVyZSgpOkN1YmVtYXBGYWNlVGV4dHVyZTtcblxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY29weVRvQ3ViZW1hcEZhY2VUZXh0dXJlKGN1YmVtYXBGYWNlVGV4dHVyZTphbnkpO1xuXG4gICAgICAgIHB1YmxpYyBjb3B5VG9DdWJlbWFwVGV4dHVyZShjdWJlbWFwRmFjZVRleHR1cmU6SUN1YmVtYXBUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLmdlbmVyYXRlTWlwbWFwcyA9IHRoaXMuZ2VuZXJhdGVNaXBtYXBzO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLm1pbkZpbHRlciA9IHRoaXMubWluRmlsdGVyO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLm1hZ0ZpbHRlciA9IHRoaXMubWFnRmlsdGVyO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS53cmFwUyA9IHRoaXMud3JhcFM7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUud3JhcFQgPSB0aGlzLndyYXBUO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLmFuaXNvdHJvcHkgPSB0aGlzLmFuaXNvdHJvcHk7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHRoaXMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS51bnBhY2tBbGlnbm1lbnQgPSB0aGlzLnVucGFja0FsaWdubWVudDtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5uZWVkVXBkYXRlID0gdGhpcy5uZWVkVXBkYXRlO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLm1vZGUgPSBFRW52TWFwTW9kZS5CQVNJQztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5VG8odGV4dHVyZTpCYXNpY1RleHR1cmUpe1xuICAgICAgICAgICAgTG9nLmVycm9yKCF0ZXh0dXJlLCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwidGV4dHVyZVwiKSk7XG5cbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgICAgIHRleHR1cmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcblxuICAgICAgICAgICAgdGV4dHVyZS5taXBtYXBzID0gdGhpcy5taXBtYXBzLmNvcHkoKTtcblxuICAgICAgICAgICAgdGV4dHVyZS53cmFwUyA9IHRoaXMud3JhcFM7XG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBUID0gdGhpcy53cmFwVDtcblxuICAgICAgICAgICAgdGV4dHVyZS5tYWdGaWx0ZXIgPSB0aGlzLm1hZ0ZpbHRlcjtcbiAgICAgICAgICAgIHRleHR1cmUubWluRmlsdGVyID0gdGhpcy5taW5GaWx0ZXI7XG5cbiAgICAgICAgICAgIHRleHR1cmUuYW5pc290cm9weSA9IHRoaXMuYW5pc290cm9weTtcblxuICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIHRleHR1cmUudHlwZSA9IHRoaXMudHlwZTtcblxuICAgICAgICAgICAgdGV4dHVyZS5yZXBlYXRSZWdpb24gPSB0aGlzLnJlcGVhdFJlZ2lvbi5jb3B5KCk7XG4gICAgICAgICAgICB0ZXh0dXJlLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uICYmIHRoaXMuc291cmNlUmVnaW9uLmNvcHkoKTtcbiAgICAgICAgICAgIHRleHR1cmUuc291cmNlUmVnaW9uTWFwcGluZyA9IHRoaXMuc291cmNlUmVnaW9uTWFwcGluZztcblxuICAgICAgICAgICAgdGV4dHVyZS5zb3VyY2VSZWdpb25NZXRob2QgPSB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZDtcblxuICAgICAgICAgICAgdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMgPSB0aGlzLmdlbmVyYXRlTWlwbWFwcztcbiAgICAgICAgICAgIHRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHRoaXMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIHRleHR1cmUuZmxpcFkgPSB0aGlzLmZsaXBZO1xuICAgICAgICAgICAgdGV4dHVyZS51bnBhY2tBbGlnbm1lbnQgPSB0aGlzLnVucGFja0FsaWdubWVudDtcblxuICAgICAgICAgICAgdGV4dHVyZS5uZWVkVXBkYXRlID0gdGhpcy5uZWVkVXBkYXRlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBJbWFnZVRleHR1cmVBc3NldCBleHRlbmRzIFRleHR1cmVBc3NldHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoc291cmNlOkhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoc291cmNlKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudCl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnQ+O1xuXG4gICAgICAgIHB1YmxpYyB0b1RleHR1cmUoKTpJbWFnZVRleHR1cmV7XG4gICAgICAgICAgICByZXR1cm4gSW1hZ2VUZXh0dXJlLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0b0N1YmVtYXBGYWNlVGV4dHVyZSgpOkN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJle1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJlLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5VG9DdWJlbWFwRmFjZVRleHR1cmUoY3ViZW1hcEZhY2VUZXh0dXJlOklDdWJlbWFwRmFjZVR3b0RUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgY3ViZW1hcEZhY2VUZXh0dXJlLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkRSQVdfSU5fQ0FOVkFTO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBWaWRlb1RleHR1cmVBc3NldCBleHRlbmRzIFRleHR1cmVBc3NldHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodmlkZW86VmlkZW8pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh2aWRlbyk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodmlkZW86VmlkZW8pe1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLnZpZGVvLnNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2aWRlbzpWaWRlbyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVNaXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1pbkZpbHRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1hZ0ZpbHRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVJlZ2lvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9UZXh0dXJlKCk6VGV4dHVyZXtcbiAgICAgICAgICAgIHJldHVybiBWaWRlb1RleHR1cmUuY3JlYXRlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgY3ViZW1hcD9cbiAgICAgICAgcHVibGljIHRvQ3ViZW1hcEZhY2VUZXh0dXJlKCk6Q3ViZW1hcEZhY2VJbWFnZVRleHR1cmV7XG4gICAgICAgICAgICByZXR1cm4gTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJ2aWRlbyB0ZXh0dXJlXCIsIFwiY3ViZW1hcFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weVRvQ3ViZW1hcEZhY2VUZXh0dXJlKGN1YmVtYXBGYWNlVGV4dHVyZTpJQ3ViZW1hcEZhY2VUd29EVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwidmlkZW8gdGV4dHVyZVwiLCBcImN1YmVtYXBcIikpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbXByZXNzZWRUZXh0dXJlQXNzZXQgZXh0ZW5kcyBUZXh0dXJlQXNzZXR7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCl7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWlwbWFwczp3ZENiLkNvbGxlY3Rpb248Q29tcHJlc3NlZFRleHR1cmVNaXBtYXA+O1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgIGZsaXBwaW5nIGRvZXNuJ3Qgd29yayBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmZsaXBZID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9UZXh0dXJlKCk6VGV4dHVyZXtcbiAgICAgICAgICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZS5jcmVhdGUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdG9DdWJlbWFwRmFjZVRleHR1cmUoKTpDdWJlbWFwRmFjZUNvbXByZXNzZWRUZXh0dXJle1xuICAgICAgICAgICAgcmV0dXJuIEN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUuY3JlYXRlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNvcHlUb0N1YmVtYXBGYWNlVGV4dHVyZShjdWJlbWFwRmFjZVRleHR1cmU6SUN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBjdWJlbWFwRmFjZVRleHR1cmUubWlwbWFwcyA9IHRoaXMubWlwbWFwcztcbiAgICAgICAgICAgIGN1YmVtYXBGYWNlVGV4dHVyZS5taW5GaWx0ZXIgPSB0aGlzLm1pbkZpbHRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlRmlsdGVyTW9kZXtcbiAgICAgICAgTkVBUkVTVCA9IDxhbnk+XCJORUFSRVNUXCIsXG4gICAgICAgIE5FQVJFU1RfTUlQTUFQX01FQVJFU1QgPSA8YW55PlwiTkVBUkVTVF9NSVBNQVBfTUVBUkVTVFwiLFxuICAgICAgICBORUFSRVNUX01JUE1BUF9MSU5FQVIgPSA8YW55PlwiTkVBUkVTVF9NSVBNQVBfTElORUFSXCIsXG4gICAgICAgIExJTkVBUiA9IDxhbnk+XCJMSU5FQVJcIixcbiAgICAgICAgTElORUFSX01JUE1BUF9ORUFSRVNUID0gPGFueT5cIkxJTkVBUl9NSVBNQVBfTkVBUkVTVFwiLFxuICAgICAgICBMSU5FQVJfTUlQTUFQX0xJTkVBUiA9IDxhbnk+XCJMSU5FQVJfTUlQTUFQX0xJTkVBUlwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlV3JhcE1vZGV7XG4gICAgICAgIFJFUEVBVCA9IDxhbnk+XCJSRVBFQVRcIixcbiAgICAgICAgTUlSUk9SRURfUkVQRUFUID0gPGFueT5cIk1JUlJPUkVEX1JFUEVBVFwiLFxuICAgICAgICBDTEFNUF9UT19FREdFID0gPGFueT5cIkNMQU1QX1RPX0VER0VcIlxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZUZvcm1hdHtcbiAgICAgICAgUkdCID0gPGFueT5cIlJHQlwiLFxuICAgICAgICBSR0JBID0gPGFueT5cIlJHQkFcIixcbiAgICAgICAgQUxQSEEgPSA8YW55PlwiQUxQSEFcIixcbiAgICAgICAgTFVNSU5BTkNFID0gPGFueT5cIkxVTUlOQU5DRVwiLFxuICAgICAgICBMVU1JTkFOQ0VfQUxQSEEgPSA8YW55PlwiTFVNSU5BTkNFX0FMUEhBXCIsXG5cbiAgICAgICAgUkdCX1MzVENfRFhUMSA9IDxhbnk+XCJSR0JfUzNUQ19EWFQxXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQxID0gPGFueT5cIlJHQkFfUzNUQ19EWFQxXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQzID0gPGFueT5cIlJHQkFfUzNUQ19EWFQzXCIsXG4gICAgICAgIFJHQkFfUzNUQ19EWFQ1ID0gPGFueT5cIlJHQkFfUzNUQ19EWFQ1XCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVRleHR1cmVUeXBle1xuICAgICAgICBVTlNJR05FRF9CWVRFID0gPGFueT5cIlVOU0lHTkVEX0JZVEVcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlRfNV82XzUgPSA8YW55PlwiVU5TSUdORURfU0hPUlRfNV82XzVcIixcbiAgICAgICAgVU5TSUdORURfU0hPUlRfNF80XzRfNCA9IDxhbnk+XCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCIsXG4gICAgICAgIFVOU0lHTkVEX1NIT1JUXzVfNV81XzEgPSA8YW55PlwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVFbnZNYXBNb2Rle1xuICAgICAgICBCQVNJQyxcbiAgICAgICAgUkVGTEVDVElPTixcbiAgICAgICAgUkVGUkFDVElPTixcbiAgICAgICAgRlJFU05FTFxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZUNvbWJpbmVNb2Rle1xuICAgICAgICBNSVgsXG4gICAgICAgIE1VTFRJUExZLFxuICAgICAgICBBRERcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgZW51bSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1hcHBpbmd7XG4gICAgICAgIC8qISBjYW52YXMgbWFwcGluZ1xuICAgICAgICBvcmlnaW4gcG9pbnQgaXMgaW4gbGVmdC11cCBjb3JuZXJcbiAgICAgICAgeSBheGlzIGlzIGRvd25jYXN0XG4gICAgICAgICAqL1xuICAgICAgICBDQU5WQVMsXG4gICAgICAgIFVWXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9ke1xuICAgICAgICBDSEFOR0VfVEVYQ09PUkRTX0lOX0dMU0wsXG4gICAgICAgIERSQVdfSU5fQ0FOVkFTXG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBlbnVtIEVUZXh0dXJlVGFyZ2V0e1xuICAgICAgICBURVhUVVJFXzJEID0gPGFueT5cIlRFWFRVUkVfMkRcIixcbiAgICAgICAgVEVYVFVSRV9DVUJFX01BUCA9IDxhbnk+XCJURVhUVVJFX0NVQkVfTUFQXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExvYWRlck1hbmFnZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhc3NldENvdW50Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBjdXJyZW50TG9hZGVkQ291bnQ6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIF9hc3NldFRhYmxlOndkQ2IuSGFzaDxhbnk+ID0gd2RDYi5IYXNoLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBsb2FkKHVybDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQoYXNzZXRBcnI6QXJyYXk8QXNzZXREYXRhPikgOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHVibGljIGxvYWQoYXNzZXRBcnI6QXJyYXk8QXNzZXREYXRhPikgOndkRnJwLlN0cmVhbTtcblxuICAgICAgICBwdWJsaWMgbG9hZCguLi5hcmdzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKEp1ZGdlVXRpbHMuaXNTdHJpbmcoYXJnc1swXSkpe1xuICAgICAgICAgICAgICAgIGxldCB1cmw6c3RyaW5nID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6c3RyaW5nID0gdXJsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUxvYWRTaW5nbGVBc3NldFN0cmVhbSh1cmwsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IGFzc2V0QXJyID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tQXJyYXkoYXNzZXRBcnIpLmZsYXRNYXAoKGFzc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVMb2FkTXVsdGlBc3NldFN0cmVhbShhc3NldC50eXBlIHx8IEVBc3NldFR5cGUuVU5LTk9XLCBhc3NldC51cmwsIGFzc2V0LmlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXRDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2FkZWRDb3VudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZGlzcG9zZSgpe1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgICAgICBMb2FkZXJGYWN0b3J5LmNyZWF0ZUFsbExvYWRlcigpLmZvckVhY2goKGxvYWRlcjpMb2FkZXIpID0+IHtcbiAgICAgICAgICAgICAgICBsb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0KGlkOnN0cmluZyk6YW55e1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuX2Fzc2V0VGFibGUuZ2V0Q2hpbGQoaWQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyID8gbG9hZGVyLmdldChpZCkgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZE11bHRpQXNzZXRTdHJlYW0odHlwZTpFQXNzZXRUeXBlLCB1cmw6c3RyaW5nLCBpZDpzdHJpbmcpO1xuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkTXVsdGlBc3NldFN0cmVhbSh0eXBlOkVBc3NldFR5cGUsIHVybDpBcnJheTxzdHJpbmc+LCBpZDpzdHJpbmcpO1xuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRNdWx0aUFzc2V0U3RyZWFtKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHVybCA9IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgaWQgPSBhcmdzWzJdLFxuICAgICAgICAgICAgICAgIGxvYWRlciA9IHRoaXMuX2dldExvYWRlcih0eXBlLCB1cmwpLFxuICAgICAgICAgICAgICAgIHN0cmVhbSA9IG51bGwsXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKCFsb2FkZXIuaGFzKGlkKSl7XG4gICAgICAgICAgICAgICAgc2VsZi5hc3NldENvdW50ICsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9Bc3NldFRhYmxlKGxvYWRlci5sb2FkKHVybCwgaWQpXG4gICAgICAgICAgICAgICAgLm1hcCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMb2FkZWRDb3VudCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TG9hZGVkQ291bnQ6IHNlbGYuY3VycmVudExvYWRlZENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb3VudDpzZWxmLmFzc2V0Q291bnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLCBpZCwgbG9hZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRTaW5nbGVBc3NldFN0cmVhbSh1cmwsIGlkKXtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLl9nZXRMb2FkZXIoRUFzc2V0VHlwZS5VTktOT1csIHVybCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRUb0Fzc2V0VGFibGUobG9hZGVyLmxvYWQodXJsLCBpZCksIGlkLCBsb2FkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TG9hZGVyKHR5cGU6RUFzc2V0VHlwZSwgdXJsOnN0cmluZyk7XG4gICAgICAgIHByaXZhdGUgX2dldExvYWRlcih0eXBlOkVBc3NldFR5cGUsIHVybDpBcnJheTxzdHJpbmc+KTtcblxuICAgICAgICBwcml2YXRlIF9nZXRMb2FkZXIoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgZXh0bmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KGFyZ3NbMV0pKXtcbiAgICAgICAgICAgICAgICBleHRuYW1lID0gd2RDYi5QYXRoVXRpbHMuZXh0bmFtZShhcmdzWzFdWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZXh0bmFtZSA9IHdkQ2IuUGF0aFV0aWxzLmV4dG5hbWUoYXJnc1sxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBMb2FkZXJGYWN0b3J5LmNyZWF0ZSh0eXBlLCBleHRuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkVG9Bc3NldFRhYmxlKGxvYWRTdHJlYW06d2RGcnAuU3RyZWFtLCBpZDpzdHJpbmcsIGxvYWRlcjpMb2FkZXIpOndkRnJwLlN0cmVhbXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIGxvYWRTdHJlYW0uZG8obnVsbCwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2Fzc2V0VGFibGUuYWRkQ2hpbGQoaWQsIGxvYWRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEFzc2V0RGF0YSA9IHtcbiAgICAgICAgdHlwZT86RUFzc2V0VHlwZSxcbiAgICAgICAgdXJsOkFycmF5PHN0cmluZz4sXG4gICAgICAgIGlkOnN0cmluZ1xuICAgIH07XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIExvYWRlckZhY3Rvcnl7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHR5cGU6RUFzc2V0VHlwZSwgZXh0bmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgRUFzc2V0VHlwZS5GT05UOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBGb250TG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUFzc2V0VHlwZS5VTktOT1c6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IHRoaXMuX2dldExvYWRlckJ5RXh0bmFtZShleHRuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd2RDYi5Mb2cuZXJyb3IodHJ1ZSwgd2RDYi5Mb2cuaW5mby5GVU5DX1VOS05PVyhgYXNzZXQgdHlwZToke3R5cGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlQWxsTG9hZGVyKCk6d2RDYi5Db2xsZWN0aW9uPExvYWRlcj57XG4gICAgICAgICAgICByZXR1cm4gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxMb2FkZXI+KFtKc0xvYWRlci5nZXRJbnN0YW5jZSgpLCBHTFNMTG9hZGVyLmdldEluc3RhbmNlKCksIFRleHR1cmVMb2FkZXIuZ2V0SW5zdGFuY2UoKSwgVmlkZW9Mb2FkZXIuZ2V0SW5zdGFuY2UoKSwgRm9udExvYWRlci5nZXRJbnN0YW5jZSgpLCBGbnRMb2FkZXIuZ2V0SW5zdGFuY2UoKV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2dldExvYWRlckJ5RXh0bmFtZShleHRuYW1lOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgbG9hZGVyID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChleHRuYW1lKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmpzb25cIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gSlNPTkxvYWRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmpzXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IEpzTG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuZ2xzbFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBHTFNMTG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuanBnXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5qcGVnXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5wbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLmRkc1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIuZ2lmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5ibXBcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gVGV4dHVyZUxvYWRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLm1wNFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIub2d2XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi53ZWJtXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IFZpZGVvTG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuZ2x0ZlwiOlxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIgPSBHTFRGTG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIud2RcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gV0RMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5lb3RcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLnR0ZlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIud29mZlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIuc3ZnXCI6XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IEZvbnRMb2FkZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5mbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyID0gRm50TG9hZGVyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VOS05PVyhgZXh0bmFtZToke2V4dG5hbWV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBBcnJheUJ1ZmZlcjphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgR0xURkxvYWRlciBleHRlbmRzIExvYWRlcntcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2x0ZkFzc2VtYmxlcjpHTFRGQXNzZW1ibGVyID0gR0xURkFzc2VtYmxlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfZ2x0ZlBhcnNlcjpHTFRGUGFyc2VyID0gR0xURlBhcnNlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4gPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcbiAgICAgICAgcHJpdmF0ZSBfaW1hZ2VNYXA6d2RDYi5IYXNoPEhUTUxJbWFnZUVsZW1lbnQ+ID0gd2RDYi5IYXNoLmNyZWF0ZTxIVE1MSW1hZ2VFbGVtZW50PigpO1xuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGpzb25EYXRhOklHTFRGSnNvbkRhdGEgPSBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJqc29uXCIpXG4gICAgICAgICAgICAgICAgLmZsYXRNYXAoKGpzb246SUdMVEZKc29uRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBqc29uRGF0YSA9IGpzb247XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZUxvYWRBbGxBc3NldHNTdHJlYW0odXJsLCBqc29uKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIHdkRnJwLmNhbGxGdW5jKCgpPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2dsdGZBc3NlbWJsZXIuYnVpbGQoc2VsZi5fZ2x0ZlBhcnNlci5wYXJzZShqc29uRGF0YSwgc2VsZi5fYXJyYXlCdWZmZXJNYXAsIHNlbGYuX2ltYWdlTWFwKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTG9hZEFsbEFzc2V0c1N0cmVhbSh1cmw6c3RyaW5nLCBqc29uOklHTFRGSnNvbkRhdGEpOndkRnJwLlN0cmVhbXtcbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVMb2FkQnVmZmVyc1N0cmVhbSh1cmwsIGpzb24pLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVMb2FkSW1hZ2VBc3NldFN0cmVhbSh1cmwsIGpzb24pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAubWVyZ2VBbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxvYWRCdWZmZXJzU3RyZWFtKGZpbGVQYXRoOnN0cmluZywganNvbjpJR0xURkpzb25EYXRhKTp3ZEZycC5TdHJlYW17XG4gICAgICAgICAgICB2YXIgYXJyYXlCdWZmZXJNYXAgPSB0aGlzLl9hcnJheUJ1ZmZlck1hcDtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUxvYWRBc3NldFN0cmVhbShmaWxlUGF0aCwganNvbiwganNvbi5idWZmZXJzLCBhcnJheUJ1ZmZlck1hcCwgKGlkLCB1cmwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFqYXhMb2FkZXIubG9hZCh1cmwsIFwiYXJyYXlidWZmZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kbygoYnVmZmVyOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcighKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoYEJ1ZmZlcjoke2lkfWAsIFwiYmUgYW4gYXJyYXkgYnVmZmVyXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IoYnVmZmVyLmJ5dGVMZW5ndGggIT09IGJ1ZmZlci5ieXRlTGVuZ3RoLCBMb2cuaW5mby5GVU5DX1NIT1VMRChgQnVmZmVyOiR7aWR9J3MgbGVuZ3RoIGlzICR7YnVmZmVyLmJ5dGVMZW5ndGh9LCBidXQgaXRgLCBgYmUgJHtidWZmZXIuYnl0ZUxlbmd0aH1gKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlck1hcC5hZGRDaGlsZChpZCwgYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkSW1hZ2VBc3NldFN0cmVhbShmaWxlUGF0aDpzdHJpbmcsIGpzb246SUdMVEZKc29uRGF0YSk6d2RGcnAuU3RyZWFte1xuICAgICAgICAgICAgdmFyIGltYWdlTWFwID0gdGhpcy5faW1hZ2VNYXA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVMb2FkQXNzZXRTdHJlYW0oZmlsZVBhdGgsIGpzb24sIGpzb24uaW1hZ2VzLCBpbWFnZU1hcCwgKGlkLCB1cmwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlTG9hZGVyLmxvYWQodXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRvKChpbWFnZTpIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VNYXAuYWRkQ2hpbGQoaWQsIGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkQXNzZXRTdHJlYW0oZmlsZVBhdGg6c3RyaW5nLCBqc29uOklHTFRGSnNvbkRhdGEsIGRhdGFzOmFueSwgZGF0YU1hcDp3ZENiLkhhc2g8YW55PiwgbG9hZFN0cmVhbUZ1bmM6KGlkOnN0cmluZywgdXJsOnN0cmluZykgPT4gd2RGcnAuU3RyZWFtKTp3ZEZycC5TdHJlYW17XG4gICAgICAgICAgICB2YXIgc3RyZWFtQXJyID0gW107XG5cbiAgICAgICAgICAgIGlmKGRhdGFzKXtcbiAgICAgICAgICAgICAgICBsZXQgaWQ6c3RyaW5nID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGZvcihpZCBpbiBkYXRhcyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGFzLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGRhdGFzW2lkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoR0xURlV0aWxzLmlzQmFzZTY0KGRhdGEudXJpKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU1hcC5hZGRDaGlsZChpZCwgR0xURlV0aWxzLmRlY29kZUFycmF5QnVmZmVyKGRhdGEudXJpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBNb2RlbExvYWRlclV0aWxzLmdldFBhdGgoZmlsZVBhdGgsIGRhdGEudXJpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUFyci5wdXNoKGxvYWRTdHJlYW1GdW5jKGlkLCB1cmwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21BcnJheShzdHJlYW1BcnIpLm1lcmdlQWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMVEZBc3NlbWJsZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc3VsdDp3ZENiLkhhc2g8SUdMVEZSZXN1bHQ+ID0gd2RDYi5IYXNoLmNyZWF0ZTxJR0xURlJlc3VsdD4oKTtcblxuICAgICAgICBwdWJsaWMgYnVpbGQocGFyc2VEYXRhOklHTFRGUGFyc2VEYXRhKXtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkTWV0YWRhdGEocGFyc2VEYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkTW9kZWxzKHBhcnNlRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9idWlsZE1ldGFkYXRhKHBhcnNlRGF0YTpJR0xURlBhcnNlRGF0YSl7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcblxuICAgICAgICAgICAgZm9yKGxldCBpIGluIHBhcnNlRGF0YS5tZXRhZGF0YSl7XG4gICAgICAgICAgICAgICAgaWYocGFyc2VEYXRhLm1ldGFkYXRhLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEuYWRkQ2hpbGQoaSwgcGFyc2VEYXRhLm1ldGFkYXRhW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5hZGRDaGlsZChcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkTW9kZWxzKHBhcnNlRGF0YTpJR0xURlBhcnNlRGF0YSl7XG4gICAgICAgICAgICB2YXIgbW9kZWxzID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxHYW1lT2JqZWN0PigpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGJ1aWxkID0gKG9iamVjdDpJR0xURk9iamVjdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBHYW1lT2JqZWN0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0Lm5hbWUpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5uYW1lID0gb2JqZWN0Lm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoc2VsZi5faXNNb2RlbENvbnRhaW5lcihvYmplY3QpKXtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuYWRkVGFnKDxhbnk+RVdEVGFnLkNPTlRBSU5FUik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRkQ29tcG9uZW50c0Zyb21HTFRGKG1vZGVsLCBvYmplY3QuY29tcG9uZW50cyk7XG5cbiAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoTWVzaFJlbmRlcmVyLmNyZWF0ZSgpKTtcblxuICAgICAgICAgICAgICAgIGlmKG9iamVjdC5jaGlsZHJlbil7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpJR0xURk9iamVjdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZENoaWxkKGJ1aWxkKGNoaWxkKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmKCFwYXJzZURhdGEub2JqZWN0cyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZURhdGEub2JqZWN0cy5mb3JFYWNoKChvYmplY3Q6SUdMVEZPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgbW9kZWxzLmFkZENoaWxkKGJ1aWxkKG9iamVjdCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5hZGRDaGlsZChcIm1vZGVsc1wiLCBtb2RlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNNb2RlbENvbnRhaW5lcihvYmplY3Q6SUdMVEZPYmplY3REYXRhKXtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QuaXNDb250YWluZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRDb21wb25lbnRzRnJvbUdMVEYobW9kZWw6R2FtZU9iamVjdCwgY29tcG9uZW50czp3ZENiLkNvbGxlY3Rpb248SUdMVEZDb21wb25lbnQ+KXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQ6SUdMVEZDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZihzZWxmLl9pc1RyYW5zZm9ybShjb21wb25lbnQpKXtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudHJhbnNmb3JtID0gc2VsZi5fY3JlYXRlVHJhbnNmb3JtKDxJR0xURlRyYW5zZm9ybT5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbGYuX2lzQ2FtZXJhKGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoc2VsZi5fY3JlYXRlQ2FtZXJhKDxJR0xURkNhbWVyYT5jb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzZWxmLl9pc0xpZ2h0KGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoc2VsZi5fY3JlYXRlTGlnaHQoPGFueT5jb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzZWxmLl9pc0dlb21ldHJ5KGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoc2VsZi5fY3JlYXRlR2VvbWV0cnkoPGFueT5jb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzZWxmLl9pc0FydGljdWxhdGVkQW5pbWF0aW9uKGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRDb21wb25lbnQoc2VsZi5fY3JlYXRlQXJ0aWN1bGF0ZWRBbmltYXRpb24oPGFueT5jb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVHJhbnNmb3JtKGNvbXBvbmVudDphbnkpe1xuICAgICAgICAgICAgcmV0dXJuICEhY29tcG9uZW50Lm1hdHJpeCB8fCAhIWNvbXBvbmVudC5wb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzQ2FtZXJhKGNvbXBvbmVudDphbnkpe1xuICAgICAgICAgICAgcmV0dXJuICEhY29tcG9uZW50LmNhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTGlnaHQoY29tcG9uZW50OmFueSl7XG4gICAgICAgICAgICByZXR1cm4gISFjb21wb25lbnQubGlnaHRDb2xvciAmJiAhIWNvbXBvbmVudC50eXBlXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0dlb21ldHJ5KGNvbXBvbmVudDphbnkpe1xuICAgICAgICAgICAgcmV0dXJuICEhY29tcG9uZW50Lm1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNBcnRpY3VsYXRlZEFuaW1hdGlvbihjb21wb25lbnQ6YW55KXtcbiAgICAgICAgICAgIHJldHVybiBHTFRGVXRpbHMuaXNJR0xURkFydGljdWxhdGVkQW5pbWF0aW9uKGNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVUcmFuc2Zvcm0oY29tcG9uZW50OklHTFRGVHJhbnNmb3JtKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm06VGhyZWVEVHJhbnNmb3JtID0gVGhyZWVEVHJhbnNmb3JtLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZihjb21wb25lbnQubWF0cml4KXtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IGNvbXBvbmVudC5tYXRyaXguZ2V0VHJhbnNsYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbiA9IGNvbXBvbmVudC5tYXRyaXguZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IGNvbXBvbmVudC5tYXRyaXguZ2V0U2NhbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBjb21wb25lbnQucG9zaXRpb247XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLmxvY2FsUm90YXRpb24gPSBjb21wb25lbnQucm90YXRpb247XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBjb21wb25lbnQuc2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVDYW1lcmEoY29tcG9uZW50OklHTFRGQ2FtZXJhKXtcbiAgICAgICAgICAgIHJldHVybiBCYXNpY0NhbWVyYUNvbnRyb2xsZXIuY3JlYXRlKGNvbXBvbmVudC5jYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlTGlnaHQoY29tcG9uZW50OklHTFRGTGlnaHQmSUdMVEZQb2ludExpZ2h0JklHTFRGQW1iaWVudExpZ2h0JklHTFRGRGlyZWN0aW9uTGlnaHQpe1xuICAgICAgICAgICAgdmFyIGxpZ2h0ID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChjb21wb25lbnQudHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFtYmllbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQgPSBBbWJpZW50TGlnaHQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGlnaHQuY29sb3IgPSBjb21wb25lbnQubGlnaHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpcmVjdGlvbmFsXCI6XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0ID0gRGlyZWN0aW9uTGlnaHQuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGlnaHQuY29sb3IgPSBjb21wb25lbnQubGlnaHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0ID0gUG9pbnRMaWdodC5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaWdodC5jb2xvciA9IGNvbXBvbmVudC5saWdodENvbG9yO1xuXG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcInJhbmdlXCIsIGNvbXBvbmVudC5kaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcImNvbnN0YW50XCIsIGNvbXBvbmVudC5jb25zdGFudEF0dGVudWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobGlnaHQsIFwibGluZWFyXCIsIGNvbXBvbmVudC5saW5lYXJBdHRlbnVhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcInF1YWRyYXRpY1wiLCBjb21wb25lbnQucXVhZHJhdGljQXR0ZW51YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvL3RvZG8gc3VwcG9ydCBzcG90XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVHZW9tZXRyeShjb21wb25lbnQ6SUdMVEZHZW9tZXRyeSl7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBNb2RlbEdlb21ldHJ5LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS52ZXJ0aWNlcyA9IGNvbXBvbmVudC52ZXJ0aWNlcztcbiAgICAgICAgICAgIGdlb21ldHJ5LmZhY2VzID0gY29tcG9uZW50LmZhY2VzO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEoZ2VvbWV0cnksIFwiY29sb3JzXCIsIGNvbXBvbmVudC5jb2xvcnMpO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEoZ2VvbWV0cnksIFwidGV4Q29vcmRzXCIsIGNvbXBvbmVudC50ZXhDb29yZHMpO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5kcmF3TW9kZSA9IGNvbXBvbmVudC5kcmF3TW9kZTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkubWF0ZXJpYWwgPSB0aGlzLl9jcmVhdGVNYXRlcmlhbChjb21wb25lbnQubWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAvL3RvZG8gc3VwcG9ydCBtb3JwaCB0YXJnZXRzXG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZU1hdGVyaWFsKG1hdGVyaWFsRGF0YTpJR0xURk1hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbDpNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAobWF0ZXJpYWxEYXRhLnR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCJCYXNpY01hdGVyaWFsXCI6XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gdGhpcy5fY3JlYXRlQmFzaWNNYXRlcmlhbCg8SUdMVEZCYXNpY01hdGVyaWFsPm1hdGVyaWFsRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMaWdodE1hdGVyaWFsXCI6XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gdGhpcy5fY3JlYXRlTGlnaHRNYXRlcmlhbCg8SUdMVEZMaWdodE1hdGVyaWFsPm1hdGVyaWFsRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGBtYXRlcmlhbCB0eXBlOiR7bWF0ZXJpYWxEYXRhLnR5cGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQmFzaWNNYXRlcmlhbChtYXRlcmlhbERhdGE6SUdMVEZCYXNpY01hdGVyaWFsKXtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IEJhc2ljTWF0ZXJpYWwuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldEJhc2ljRGF0YU9mTWF0ZXJpYWwobWF0ZXJpYWwsIG1hdGVyaWFsRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZUxpZ2h0TWF0ZXJpYWwobWF0ZXJpYWxEYXRhOklHTFRGTGlnaHRNYXRlcmlhbCl7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBMaWdodE1hdGVyaWFsLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRCYXNpY0RhdGFPZk1hdGVyaWFsKG1hdGVyaWFsLCBtYXRlcmlhbERhdGEpO1xuXG4gICAgICAgICAgICBpZihtYXRlcmlhbERhdGEudHJhbnNwYXJlbnQgPT09IHRydWUgJiYgbWF0ZXJpYWxEYXRhLm9wYWNpdHkgIT09IHZvaWQgMCl7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IG1hdGVyaWFsRGF0YS5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmJsZW5kVHlwZSA9IEVCbGVuZFR5cGUuTk9STUFMO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihtYXRlcmlhbERhdGEubGlnaHRNb2RlbCA9PT0gRUxpZ2h0TW9kZWwuTEFNQkVSVCl7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwiTEFNQkVSVCBsaWdodCBtb2RlbCwgdXNlIFBIT05HIGxpZ2h0IG1vZGVsIGluc3RlYWRcIikpO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmxpZ2h0TW9kZWwgPSBFTGlnaHRNb2RlbC5QSE9ORztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwubGlnaHRNb2RlbCA9IG1hdGVyaWFsRGF0YS5saWdodE1vZGVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShtYXRlcmlhbCwgXCJjb2xvclwiLCBtYXRlcmlhbERhdGEuZGlmZnVzZUNvbG9yKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInNwZWN1bGFyQ29sb3JcIiwgbWF0ZXJpYWxEYXRhLnNwZWN1bGFyQ29sb3IpO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobWF0ZXJpYWwsIFwiZW1pc3Npb25Db2xvclwiLCBtYXRlcmlhbERhdGEuZW1pc3Npb25Db2xvcik7XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImRpZmZ1c2VNYXBcIiwgbWF0ZXJpYWxEYXRhLmRpZmZ1c2VNYXApO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEobWF0ZXJpYWwsIFwic3BlY3VsYXJNYXBcIiwgbWF0ZXJpYWxEYXRhLnNwZWN1bGFyTWFwKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImVtaXNzaW9uTWFwXCIsIG1hdGVyaWFsRGF0YS5lbWlzc2lvbk1hcCk7XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInNoaW5pbmVzc1wiLCBtYXRlcmlhbERhdGEuc2hpbmluZXNzKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0QmFzaWNEYXRhT2ZNYXRlcmlhbChtYXRlcmlhbDpNYXRlcmlhbCwgbWF0ZXJpYWxEYXRhOklHTFRGTWF0ZXJpYWwpe1xuICAgICAgICAgICAgaWYoISFtYXRlcmlhbERhdGEuZG91YmxlU2lkZWQgJiYgbWF0ZXJpYWxEYXRhLmRvdWJsZVNpZGVkID09PSB0cnVlKXtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5zaWRlID0gRVNpZGUuQk9USDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IEVTaWRlLkZST05UO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQXJ0aWN1bGF0ZWRBbmltYXRpb24oY29tcG9uZW50OklHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb24pe1xuICAgICAgICAgICAgIHZhciBhbmltID0gQXJ0aWN1bGF0ZWRBbmltYXRpb24uY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGFuaW0uZGF0YSA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5Db2xsZWN0aW9uPElHTFRGS2V5RnJhbWVEYXRhPj4oY29tcG9uZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFuaW07XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgQXJyYXlCdWZmZXI6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEdMVEZQYXJzZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kYXRhOklHTFRGUGFyc2VEYXRhID0gPGFueT57fTtcbiAgICAgICAgcHJpdmF0ZSBfYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbWFnZU1hcDp3ZENiLkhhc2g8SFRNTEltYWdlRWxlbWVudD4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9qc29uOklHTFRGSnNvbkRhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9nZW9tZXRyeVBhcnNlciA9IEdMVEZHZW9tZXRyeVBhcnNlci5jcmVhdGUoKTtcbiAgICAgICAgcHJpdmF0ZSBfYXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIgPSBHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246SUdMVEZKc29uRGF0YSwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4sIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6SUdMVEZQYXJzZURhdGF7XG4gICAgICAgICAgICB0aGlzLl9qc29uID0ganNvbjtcblxuICAgICAgICAgICAgdGhpcy5fYXJyYXlCdWZmZXJNYXAgPSBhcnJheUJ1ZmZlck1hcDtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlTWFwID0gaW1hZ2VNYXA7XG5cbiAgICAgICAgICAgIGlmKGpzb24uYXNzZXQpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlTWV0YWRhdGEoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcGFyc2VPYmplY3RzKCk7XG5cbiAgICAgICAgICAgIGlmKGpzb24uYW5pbWF0aW9ucyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJ0aWN1bGF0ZWRBbmltYXRpb25QYXJzZXIucGFyc2UoanNvbiwgdGhpcy5fZGF0YS5vYmplY3RzLCB0aGlzLl9hcnJheUJ1ZmZlck1hcClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZU1ldGFkYXRhKCl7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSA8YW55Pnt9LFxuICAgICAgICAgICAgICAgIGpzb24gPSB0aGlzLl9qc29uO1xuXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4ganNvbi5hc3NldCl7XG4gICAgICAgICAgICAgICAgaWYoanNvbi5hc3NldC5oYXNPd25Qcm9wZXJ0eShpKSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhW2ldID0ganNvbi5hc3NldFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlT2JqZWN0cygpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGpzb24gPSB0aGlzLl9qc29uLFxuICAgICAgICAgICAgICAgIG9iamVjdHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPElHTFRGT2JqZWN0RGF0YT4oKTtcbiAgICAgICAgICAgIHZhciBwYXJzZSA9IChub2RlSWQ6c3RyaW5nLCBub2RlOklHTFRGTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3Q6SUdMVEZPYmplY3REYXRhID0gR0xURlV0aWxzLmNyZWF0ZU9iamVjdERhdGEoKTtcblxuICAgICAgICAgICAgICAgIG9iamVjdC5pZCA9IG5vZGVJZDtcblxuICAgICAgICAgICAgICAgIGlmKG5vZGUubmFtZSl7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUubWVzaGVzICYmIG5vZGUubWVzaGVzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzaDpJR0xURk1lc2ggPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUubWVzaGVzLmxlbmd0aCA+IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcIm11bHRpIG1lc2goZ2VvbWV0cnkpLCBqdXN0IHVzZSB0aGUgZmlyc3QgbWVzaChnZW9tZXRyeSlcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWVzaCA9IGpzb24ubWVzaGVzW25vZGUubWVzaGVzWzBdXTtcblxuICAgICAgICAgICAgICAgICAgICBpZighbm9kZS5uYW1lICYmIG1lc2gubmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IG1lc2gubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dlb21ldHJ5UGFyc2VyLnBhcnNlKGpzb24sIG9iamVjdCwgbWVzaCwgc2VsZi5fYXJyYXlCdWZmZXJNYXAsIHNlbGYuX2ltYWdlTWFwKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUuZXh0ZW5zaW9ucyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuZXh0ZW5zaW9uc1tcIktIUl9tYXRlcmlhbHNfY29tbW9uXCJdICYmIG5vZGUuZXh0ZW5zaW9uc1tcIktIUl9tYXRlcmlhbHNfY29tbW9uXCJdLmxpZ2h0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHNlbGYuX3BhcnNlTGlnaHQobm9kZS5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGUuY2FtZXJhKXtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNvbXBvbmVudHMuYWRkQ2hpbGQoc2VsZi5fcGFyc2VDYW1lcmEobm9kZS5jYW1lcmEpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihub2RlLm1hdHJpeCl7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHNlbGYuX3BhcnNlVHJhbnNmb3JtKG5vZGUubWF0cml4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYobm9kZS5yb3RhdGlvbiAmJiBub2RlLnNjYWxlICYmIG5vZGUudHJhbnNsYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY29tcG9uZW50cy5hZGRDaGlsZChzZWxmLl9wYXJzZVRyYW5zZm9ybShub2RlLnRyYW5zbGF0aW9uLCBub2RlLnJvdGF0aW9uLCBub2RlLnNjYWxlKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYobm9kZS5jaGlsZHJlbil7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgY2hpbGRJZCBvZiBub2RlLmNoaWxkcmVuKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5hZGRDaGlsZChwYXJzZShjaGlsZElkLCBqc29uLm5vZGVzW2NoaWxkSWRdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighanNvbi5zY2VuZXNbanNvbi5zY2VuZV0pe1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEub2JqZWN0cyA9IG9iamVjdHM7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgbm9kZUlkIG9mIGpzb24uc2NlbmVzW2pzb24uc2NlbmVdLm5vZGVzKXtcbiAgICAgICAgICAgICAgICBvYmplY3RzLmFkZENoaWxkKHBhcnNlKG5vZGVJZCwganNvbi5ub2Rlc1tub2RlSWRdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEub2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbihsaWdodElkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgbGlnaHRzID0gdGhpcy5fanNvbi5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHRzO1xuICAgICAgICAgICAgYXNzZXJ0KGxpZ2h0cyAmJiBsaWdodHNbbGlnaHRJZF0sIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBsaWdodElkOiR7bGlnaHRJZH1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3BhcnNlTGlnaHQobGlnaHRJZDpzdHJpbmcpOklHTFRGTGlnaHR7XG4gICAgICAgICAgICB2YXIgbGlnaHREYXRhID0gdGhpcy5fanNvbi5leHRlbnNpb25zW1wiS0hSX21hdGVyaWFsc19jb21tb25cIl0ubGlnaHRzW2xpZ2h0SWRdLFxuICAgICAgICAgICAgICAgIGxpZ2h0OklHTFRGTGlnaHQgPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICAvL3RvZG8gaW50ZW5zaXR5IGRhdGE/XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcInR5cGVcIiwgbGlnaHREYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUxpZ2h0RGF0YUJ5VHlwZShsaWdodCwgbGlnaHREYXRhLCBsaWdodC50eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VMaWdodERhdGFCeVR5cGUobGlnaHQ6SUdMVEZMaWdodCwgbGlnaHREYXRhOmFueSwgdHlwZTpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBsaWdodERhdGFbdHlwZV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFtYmllbnRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlyZWN0aW9uYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQubGlnaHRDb2xvciA9IEdMVEZVdGlscy5nZXRDb2xvcihkYXRhLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0LmxpZ2h0Q29sb3IgPSBHTFRGVXRpbHMuZ2V0Q29sb3IoZGF0YS5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcImRpc3RhbmNlXCIsIGRhdGEuZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShsaWdodCwgXCJjb25zdGFudEF0dGVudWF0aW9uXCIsIGRhdGEuY29uc3RhbnRBdHRlbnVhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGxpZ2h0LCBcImxpbmVhckF0dGVudWF0aW9uXCIsIGRhdGEubGluZWFyQXR0ZW51YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShsaWdodCwgXCJxdWFkcmF0aWNBdHRlbnVhdGlvblwiLCBkYXRhLnF1YWRyYXRpY0F0dGVudWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgc3BvdFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGNhbWVyYUlkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgY2FtZXJhcyA9IHRoaXMuX2pzb24uY2FtZXJhcztcbiAgICAgICAgICAgIGFzc2VydChjYW1lcmFzICYmIGNhbWVyYXNbY2FtZXJhSWRdLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChgY2FtZXJhSWQ6JHtjYW1lcmFJZH1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX3BhcnNlQ2FtZXJhKGNhbWVyYUlkOnN0cmluZyk6SUdMVEZDYW1lcmF7XG4gICAgICAgICAgICB2YXIgY2FtZXJhRGF0YSA9IHRoaXMuX2pzb24uY2FtZXJhc1tjYW1lcmFJZF0sXG4gICAgICAgICAgICAgICAgY2FtZXJhOklHTFRGQ2FtZXJhID0gPGFueT57fTtcblxuICAgICAgICAgICAgLy90b2RvIGludGVuc2l0eSBkYXRhP1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNhbWVyYURhdGFCeVR5cGUoY2FtZXJhLCBjYW1lcmFEYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlQ2FtZXJhRGF0YUJ5VHlwZShjYW1lcmE6SUdMVEZDYW1lcmEsIGNhbWVyYURhdGE6YW55KXtcbiAgICAgICAgICAgIHZhciBjYW1lcmFDb21wb25lbnQ6YW55ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0eXBlID0gY2FtZXJhRGF0YS50eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6YW55ID0gY2FtZXJhRGF0YVt0eXBlXTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwicGVyc3BlY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGNhbWVyYURhdGFbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudCA9IFBlcnNwZWN0aXZlQ2FtZXJhLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5uZWFyID0gZGF0YS56bmVhcjtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmZhciA9IGRhdGEuemZhcjtcblxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmFzcGVjdFJhdGlvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5hc3BlY3QgPSBkYXRhLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmlldyA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS52aWV3O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQuYXNwZWN0ID0gdmlldy53aWR0aCAvIHZpZXcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmZvdnkgPSBkYXRhLnlmb3Y7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9ydGhvZ3JhcGhpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQgPSBPcnRob2dyYXBoaWNDYW1lcmEuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50Lm5lYXIgPSBkYXRhLnpuZWFyO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQuZmFyID0gZGF0YS56ZmFyO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb21wb25lbnQubGVmdCA9IC1kYXRhLnhtYWc7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbXBvbmVudC5yaWdodCA9IGRhdGEueG1hZztcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LnRvcCA9IGRhdGEueW1hZztcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29tcG9uZW50LmJvdHRvbSA9IC1kYXRhLnltYWc7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNhbWVyYSA9IGNhbWVyYUNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYGNhbWVyYSB0eXBlOiR7dHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VUcmFuc2Zvcm0obWF0cml4OkFycmF5PG51bWJlcj4pO1xuICAgICAgICBwcml2YXRlIF9wYXJzZVRyYW5zZm9ybSh0cmFuc2xhdGlvbjpBcnJheTxudW1iZXI+LCByb3RhdGlvbjpBcnJheTxudW1iZXI+LCBzY2FsZTpBcnJheTxudW1iZXI+KTtcblxuICAgICAgICBwcml2YXRlIF9wYXJzZVRyYW5zZm9ybSguLi5hcmdzKXtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm06SUdMVEZUcmFuc2Zvcm0gPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IG1hdHJpeDpBcnJheTxudW1iZXI+ID0gYXJnc1swXTtcblxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5tYXRyaXggPSBNYXRyaXg0LmNyZWF0ZShuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gMyl7XG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0aW9uOkFycmF5PG51bWJlcj4gPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjpBcnJheTxudW1iZXI+ID0gYXJnc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6QXJyYXk8bnVtYmVyPiA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZSh0cmFuc2xhdGlvblswXSwgdHJhbnNsYXRpb25bMV0sIHRyYW5zbGF0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmNyZWF0ZShyb3RhdGlvblswXSwgcm90YXRpb25bMV0sIHJvdGF0aW9uWzJdLCByb3RhdGlvblszXSk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgR0xURkdlb21ldHJ5UGFyc2Vye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pbWFnZU1hcDp3ZENiLkhhc2g8SFRNTEltYWdlRWxlbWVudD4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9qc29uOklHTFRGSnNvbkRhdGEgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9tYXRlcmlhbFBhcnNlciA9IEdMVEZNYXRlcmlhbFBhcnNlci5jcmVhdGUoKTtcblxuICAgICAgICBwdWJsaWMgcGFyc2UoanNvbjpJR0xURkpzb25EYXRhLCBvYmplY3Q6SUdMVEZPYmplY3REYXRhLCBtZXNoOklHTFRGTWVzaCwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4sIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6dm9pZHtcbiAgICAgICAgICAgIHRoaXMuX2pzb24gPSBqc29uO1xuICAgICAgICAgICAgdGhpcy5fYXJyYXlCdWZmZXJNYXAgPSBhcnJheUJ1ZmZlck1hcDtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlTWFwID0gaW1hZ2VNYXA7XG5cbiAgICAgICAgICAgIC8qIVxuICAgICAgICAgICAgaWYgbWVzaC0+cHJpbWl0aXZlcyBoYXMgbXVsdGkgb25lcywgdGhleSBzaG91bGQgYXMgdGhlIGNoaWxkcmVuIG9mIHRoZSBub2RlKG9uZSBwcmltaXRpdmUgYXMgb25lIGNoaWxkKVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmKG1lc2gucHJpbWl0aXZlcy5sZW5ndGggPiAxKXtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRPYmplY3Q6SUdMVEZPYmplY3REYXRhID0gR0xURlV0aWxzLmNyZWF0ZU9iamVjdERhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDaGlsZE9iamVjdE5hbWVXaXRoTXVsdGlQcmltaXRpdmVzKGNoaWxkT2JqZWN0LCBwcmltaXRpdmUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkT2JqZWN0LmNvbXBvbmVudHMuYWRkQ2hpbGQodGhpcy5fcGFyc2VHZW9tZXRyeShwcmltaXRpdmUpKTtcblxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4uYWRkQ2hpbGQoY2hpbGRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG1lc2gucHJpbWl0aXZlcy5sZW5ndGggPT09IDEpe1xuICAgICAgICAgICAgICAgIG9iamVjdC5jb21wb25lbnRzLmFkZENoaWxkKHRoaXMuX3BhcnNlR2VvbWV0cnkobWVzaC5wcmltaXRpdmVzWzBdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Q2hpbGRPYmplY3ROYW1lV2l0aE11bHRpUHJpbWl0aXZlcyhvYmplY3Q6SUdMVEZPYmplY3REYXRhLCBwcmltaXRpdmU6SUdMVEZNZXNoUHJpbWl0aXZlKXtcbiAgICAgICAgICAgIG9iamVjdC5uYW1lID0gcHJpbWl0aXZlLm1hdGVyaWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VHZW9tZXRyeSggcHJpbWl0aXZlOklHTFRGTWVzaFByaW1pdGl2ZSk6SUdMVEZHZW9tZXRyeXtcbiAgICAgICAgICAgIHZhciBqc29uOklHTFRGSnNvbkRhdGEgPSB0aGlzLl9qc29uLFxuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyTWFwID0gdGhpcy5fYXJyYXlCdWZmZXJNYXAsXG4gICAgICAgICAgICAgICAgYWNjZXNzb3I6SUdMVEZBY2Nlc3NvciA9IG51bGwsXG4gICAgICAgICAgICAgICAgYnVmZmVyQXJyOmFueSA9IG51bGwsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6SUdMVEZHZW9tZXRyeSA9IDxhbnk+e30sXG4gICAgICAgICAgICAgICAgdmVydGljZXM6QXJyYXk8bnVtYmVyPiA9IG51bGwsXG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzOkFycmF5PG51bWJlcj4gPSBudWxsLFxuICAgICAgICAgICAgICAgIGNvbG9yczpBcnJheTxudW1iZXI+ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBub3JtYWxzOkFycmF5PG51bWJlcj4gPSBudWxsLFxuICAgICAgICAgICAgICAgIGZhY2VzOkFycmF5PEZhY2UzPiA9IG51bGw7XG5cblxuICAgICAgICAgICAgLy90b2RvIHJlYWQgYWNjZXNzb3ItPmJ5dGVTdHJpZGUgZm9yIGJhdGNoIGRyYXcgY2FsbHNcblxuICAgICAgICAgICAgZm9yKGxldCBzZW1hbnRpYyBpbiBwcmltaXRpdmUuYXR0cmlidXRlcyl7XG4gICAgICAgICAgICAgICAgaWYocHJpbWl0aXZlLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoc2VtYW50aWMpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IHByaW1pdGl2ZS5hdHRyaWJ1dGVzW3NlbWFudGljXTtcblxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvciA9IGpzb24uYWNjZXNzb3JzW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckFyciA9IEdMVEZVdGlscy5nZXRCdWZmZXJBcnJGcm9tQWNjZXNzb3IoanNvbiwgYWNjZXNzb3IsIGFycmF5QnVmZmVyTWFwKTtcblxuICAgICAgICAgICAgICAgICAgICBpZihzZW1hbnRpYyA9PT0gXCJQT1NJVElPTlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdlb21ldHJ5RGF0YSh2ZXJ0aWNlcywgYnVmZmVyQXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbWFudGljLmluZGV4T2YoXCJURVhDT09SRF9cIikgPiAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXhDb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkR2VvbWV0cnlEYXRhKHRleENvb3JkcywgYnVmZmVyQXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9ybWFsaXplVGV4Q29vcmRzKHRleENvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzZW1hbnRpYyA9PT0gXCJOT1JNQUxcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBidWZmZXJBcnIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHNlbWFudGljID09PSBcIkNPTE9SXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdlb21ldHJ5RGF0YShjb2xvcnMsIGJ1ZmZlckFycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgSk9JTlQsIFdFSUdIVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmYWNlcyA9IHRoaXMuX2dldEZhY2VzKGpzb24sIHByaW1pdGl2ZS5pbmRpY2VzLCBub3JtYWxzKTtcblxuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJ2ZXJ0aWNlc1wiLCB2ZXJ0aWNlcyk7XG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJjb2xvcnNcIiwgY29sb3JzKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKGdlb21ldHJ5LCBcInRleENvb3Jkc1wiLCB0ZXhDb29yZHMpO1xuICAgICAgICAgICAgR0xURlV0aWxzLmFkZERhdGEoZ2VvbWV0cnksIFwiZmFjZXNcIiwgZmFjZXMpO1xuXG4gICAgICAgICAgICBHTFRGVXRpbHMuYWRkRGF0YShnZW9tZXRyeSwgXCJkcmF3TW9kZVwiLCB0aGlzLl9wYXJzZURyYXdNb2RlKHByaW1pdGl2ZS5tb2RlKSk7XG5cbiAgICAgICAgICAgIGdlb21ldHJ5Lm1hdGVyaWFsID0gdGhpcy5fbWF0ZXJpYWxQYXJzZXIucGFyc2UoanNvbiwgcHJpbWl0aXZlLm1hdGVyaWFsLCB0aGlzLl9pbWFnZU1hcCk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZEdlb21ldHJ5RGF0YShnZW9tZXRyeURhdGE6QXJyYXk8bnVtYmVyPiwgc291cmNlRGF0YTpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IHNvdXJjZURhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5RGF0YS5wdXNoKHNvdXJjZURhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oanNvbjpJR0xURkpzb25EYXRhLCBpbmRpY2VzOnN0cmluZywgbm9ybWFsczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvcjpJR0xURkFjY2Vzc29yID0gbnVsbCxcbiAgICAgICAgICAgICAgICBidWZmZXJBcnI6YW55ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoIWluZGljZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWNjZXNzb3IgPSBqc29uLmFjY2Vzc29yc1tpbmRpY2VzXTtcblxuICAgICAgICAgICAgYnVmZmVyQXJyID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uLCBhY2Nlc3NvciwgdGhpcy5fYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICBhc3NlcnQoYnVmZmVyQXJyLmxlbmd0aCAlIDMgPT09IDAsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwiaW5kaWNlcycgY291bnRcIiwgXCIzIHRpbWVzXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfZ2V0RmFjZXMoanNvbjpJR0xURkpzb25EYXRhLCBpbmRpY2VzOnN0cmluZywgbm9ybWFsczpBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvcjpJR0xURkFjY2Vzc29yID0gbnVsbCxcbiAgICAgICAgICAgICAgICBidWZmZXJBcnI6YW55ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNlOkZhY2UzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNlczpBcnJheTxGYWNlMz4gPSBbXTtcblxuICAgICAgICAgICAgaWYoIWluZGljZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWNjZXNzb3IgPSBqc29uLmFjY2Vzc29yc1tpbmRpY2VzXTtcblxuICAgICAgICAgICAgYnVmZmVyQXJyID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uLCBhY2Nlc3NvciwgdGhpcy5fYXJyYXlCdWZmZXJNYXApO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYnVmZmVyQXJyLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFJbmRleCA9IGJ1ZmZlckFycltpXSxcbiAgICAgICAgICAgICAgICAgICAgYkluZGV4ID0gYnVmZmVyQXJyW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgY0luZGV4ID0gYnVmZmVyQXJyW2kgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZUluZGljZUFyciA9IFthSW5kZXgsIGJJbmRleCwgY0luZGV4XTtcblxuICAgICAgICAgICAgICAgIGZhY2UgPSBGYWNlMy5jcmVhdGUoYUluZGV4LCBiSW5kZXgsIGNJbmRleCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG5vcm1hbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5vcm1hbERhdGEoZmFjZS52ZXJ0ZXhOb3JtYWxzLCBub3JtYWxzLCB2ZXJ0aWNlSW5kaWNlQXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmYWNlcy5wdXNoKGZhY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFjZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGROb3JtYWxEYXRhKHRhcmdldE5vcm1hbHM6d2RDYi5Db2xsZWN0aW9uPFZlY3RvcjM+LCBzb3VyY2VOb3JtYWxzOkFycmF5PG51bWJlcj4sIG5vcm1hbEluZGljZUFycjpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICBsZXQgW2FJbmRleCwgYkluZGV4LCBjSW5kZXhdID0gbm9ybWFsSW5kaWNlQXJyO1xuXG4gICAgICAgICAgICB0YXJnZXROb3JtYWxzLmFkZENoaWxkcmVuKFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGFJbmRleCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBiSW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgY0luZGV4KVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlRGF0YTpBcnJheTxudW1iZXI+LCBpbmRleDpudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gMyAqIGluZGV4O1xuXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc291cmNlRGF0YVtzdGFydEluZGV4XSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAxXSxcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXggKyAyXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlRHJhd01vZGUobW9kZTpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGRyYXdNb2RlOkVEcmF3TW9kZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKCFtb2RlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoKG1vZGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgZHJhd01vZGUgPSBFRHJhd01vZGUuUE9JTlRTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLkxJTkVTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLkxJTkVfTE9PUDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5MSU5FX1NUUklQO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gRURyYXdNb2RlLlRSSUFOR0xFUztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5UUklBTkdMRV9TVFJJUDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IEVEcmF3TW9kZS5UUkFOR0xFX0ZBTjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYG1vZGU6JHttb2RlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkcmF3TW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX25vcm1hbGl6ZVRleENvb3Jkcyh0ZXhDb29yZHM6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgICAgICBpZiAoIXRleENvb3Jkcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRleENvb3Jkcy5sZW5ndGggLyAyOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHNbaSAqIDIgKyAxXSA9IDEuMCAtIHRleENvb3Jkc1tpICogMiArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMVEZNYXRlcmlhbFBhcnNlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2pzb246SUdMVEZKc29uRGF0YSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246SUdMVEZKc29uRGF0YSwgbWF0ZXJpYWxJZDpzdHJpbmcsIGltYWdlTWFwOndkQ2IuSGFzaDxIVE1MSW1hZ2VFbGVtZW50Pik6SUdMVEZNYXRlcmlhbHtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbERhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fanNvbiA9IGpzb247XG4gICAgICAgICAgICB0aGlzLl9pbWFnZU1hcCA9IGltYWdlTWFwO1xuXG4gICAgICAgICAgICBpZighdGhpcy5faXNVc2VLSFJNYXRlcmlhbEV4dGVuc2lvbigpKXtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwibm8gS0hSX21hdGVyaWFsc19jb21tb24gZXh0ZW5zaW9uIGZvdW5kLCB3aWxsIHVzZSBkZWZhdWx0IG1hdGVyaWFsIGluc3RlYWRcIik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWF0ZXJpYWw6SUdMVEZCYXNpY01hdGVyaWFsID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiQmFzaWNNYXRlcmlhbFwiLFxuXG4gICAgICAgICAgICAgICAgICAgIGRvdWJsZVNpZGVkOmZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG1hdGVyaWFsOklHTFRGTGlnaHRNYXRlcmlhbCA9IDxhbnk+e307XG5cbiAgICAgICAgICAgIG1hdGVyaWFsRGF0YSA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSWRdO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoIW1hdGVyaWFsRGF0YS5leHRlbnNpb25zIHx8ICFtYXRlcmlhbERhdGEuZXh0ZW5zaW9ucy5LSFJfbWF0ZXJpYWxzX2NvbW1vbiwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtYXRlcmlhbHNcIiwgXCJkZWZpbmUgS0hSX21hdGVyaWFsc19jb21tb24gZXh0ZW5zaW9uc1wiKSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsRXh0ZW5zaW9uID0gbWF0ZXJpYWxEYXRhLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc19jb21tb247XG5cbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcImRvdWJsZVNpZGVkXCIsIG1hdGVyaWFsRXh0ZW5zaW9uLmRvdWJsZVNpZGVkKTtcbiAgICAgICAgICAgIEdMVEZVdGlscy5hZGREYXRhKG1hdGVyaWFsLCBcInRyYW5zcGFyZW50XCIsIEJvb2xlYW4obWF0ZXJpYWxFeHRlbnNpb24udHJhbnNwYXJlbnQpKTtcbiAgICAgICAgICAgIC8vR0xURlV0aWxzLmFkZERhdGEobWF0ZXJpYWwsIFwib3BhY2l0eVwiLCBtYXRlcmlhbEV4dGVuc2lvbi50cmFuc3BhcmVuY3kpO1xuXG4gICAgICAgICAgICAvL3RvZG8gcGFyc2Ugam9pbnRDb3VudFxuXG4gICAgICAgICAgICBtYXRlcmlhbC50eXBlID0gdGhpcy5fZ2V0TWF0ZXJpYWxUeXBlKG1hdGVyaWFsRXh0ZW5zaW9uLnRlY2huaXF1ZSk7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsLmxpZ2h0TW9kZWwgPSB0aGlzLl9nZXRMaWdodE1vZGVsKG1hdGVyaWFsRXh0ZW5zaW9uLnRlY2huaXF1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZE1hdGVyaWFsRXh0ZW5zaW9uVmFsdWVzKG1hdGVyaWFsLCBtYXRlcmlhbEV4dGVuc2lvbi52YWx1ZXMpO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzVXNlS0hSTWF0ZXJpYWxFeHRlbnNpb24oKXtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb25zVXNlZCA9IHRoaXMuX2pzb24uZXh0ZW5zaW9uc1VzZWQ7XG5cbiAgICAgICAgICAgIGlmKCFleHRlbnNpb25zVXNlZCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9uc1VzZWQuaW5kZXhPZihcIktIUl9tYXRlcmlhbHNfY29tbW9uXCIpID4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXRlcmlhbFR5cGUodGVjaG5pcXVlOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgdHlwZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRlY2huaXF1ZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBIT05HXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJMSU5OXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkNPTlNUQU5UXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxBTUJFUlRcIjpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiTGlnaHRNYXRlcmlhbFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChgdGVjaG5pcXVlOiR7dGVjaG5pcXVlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0TGlnaHRNb2RlbCh0ZWNobmlxdWU6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBtb2RlbDpFTGlnaHRNb2RlbCA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGVjaG5pcXVlKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUEhPTkdcIjpcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBFTGlnaHRNb2RlbC5QSE9ORztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJMSU5OXCI6XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gRUxpZ2h0TW9kZWwuQkxJTk47XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJDT05TVEFOVFwiOlxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IEVMaWdodE1vZGVsLkNPTlNUQU5UO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiTEFNQkVSVFwiOlxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IEVMaWdodE1vZGVsLkxBTUJFUlQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGB0ZWNobmlxdWU6JHt0ZWNobmlxdWV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkTWF0ZXJpYWxFeHRlbnNpb25WYWx1ZXMobWF0ZXJpYWw6SUdMVEZMaWdodE1hdGVyaWFsLCB2YWx1ZXM6YW55KXtcbiAgICAgICAgICAgIGlmKCF2YWx1ZXMpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodmFsdWVzLmFtYmllbnQpe1xuICAgICAgICAgICAgICAgIExvZy53YXJuKExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJhbWJpZW50IG9mIG1hdGVyaWFsXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYWRkTWF0ZXJpYWxMaWdodENvbG9yKG1hdGVyaWFsLCBcImRpZmZ1c2VcIiwgdmFsdWVzLmRpZmZ1c2UpO1xuICAgICAgICAgICAgdGhpcy5fYWRkTWF0ZXJpYWxMaWdodENvbG9yKG1hdGVyaWFsLCBcInNwZWN1bGFyXCIsIHZhbHVlcy5zcGVjdWxhcik7XG4gICAgICAgICAgICB0aGlzLl9hZGRNYXRlcmlhbExpZ2h0Q29sb3IobWF0ZXJpYWwsIFwiZW1pc3Npb25cIiwgdmFsdWVzLmVtaXNzaW9uKTtcblxuICAgICAgICAgICAgaWYodmFsdWVzLnNoaW5pbmVzcyl7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc2hpbmluZXNzID0gdmFsdWVzLnNoaW5pbmVzcy52YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodmFsdWVzLnRyYW5zcGFyZW5jeSl7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IHZhbHVlcy50cmFuc3BhcmVuY3kudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRNYXRlcmlhbExpZ2h0Q29sb3IobWF0ZXJpYWw6SUdMVEZNYXRlcmlhbCwgY29sb3JOYW1lOnN0cmluZywgY29sb3JEYXRhOnt0eXBlO3ZhbHVlfSZBcnJheTxudW1iZXI+KXtcbiAgICAgICAgICAgIGlmKCFjb2xvckRhdGEpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShjb2xvckRhdGEpKXtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFtgJHtjb2xvck5hbWV9Q29sb3JgXSA9IEdMVEZVdGlscy5nZXRDb2xvcihjb2xvckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9pc0NvbG9yKGNvbG9yRGF0YS50eXBlKSl7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsW2Ake2NvbG9yTmFtZX1Db2xvcmBdID0gR0xURlV0aWxzLmdldENvbG9yKGNvbG9yRGF0YS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsW2Ake2NvbG9yTmFtZX1NYXBgXSA9IHRoaXMuX2dldFRleHR1cmUoY29sb3JEYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc0NvbG9yKHR5cGU6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodHlwZSkgPT09IDM1NjY2O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9AcmVxdWlyZShmdW5jdGlvbih0ZXh0dXJlSWQ6c3RyaW5nKXtcbiAgICAgICAgLy9hc3NlcnQoISF0aGlzLl9qc29uLnRleHR1cmVzW3RleHR1cmVJZF0sIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGB0ZXh0dXJlSWQ6JHt0ZXh0dXJlSWR9YCkpO1xuICAgICAgICAvL30pXG4gICAgICAgIHByaXZhdGUgX2dldFRleHR1cmUodGV4dHVyZUlkOnN0cmluZyk6VGV4dHVyZXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbnVsbCxcbiAgICAgICAgICAgICAgICBhc3NldDpUZXh0dXJlQXNzZXQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fanNvbi50ZXh0dXJlcyB8fCAhdGhpcy5fanNvbi50ZXh0dXJlc1t0ZXh0dXJlSWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdGV4dHVyZSA9IHRoaXMuX2pzb24udGV4dHVyZXNbdGV4dHVyZUlkXTtcblxuICAgICAgICAgICAgYXNzZXQgPSB0aGlzLl9jcmVhdGVUZXh0dXJlQXNzZXQodGV4dHVyZS50YXJnZXQsIHRleHR1cmUuc291cmNlKTtcblxuXG4gICAgICAgICAgICBpZih0ZXh0dXJlLmludGVybmFsRm9ybWF0ICE9PSB0ZXh0dXJlLmZvcm1hdCl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oYHRleHR1cmUuaW50ZXJuYWxGb3JtYXQoJHt0ZXh0dXJlLmludGVybmFsRm9ybWF0fSkgIT09IHRleHR1cmUuZm9ybWF0KCR7dGV4dHVyZS5mb3JtYXR9KSwgaGVyZSB0YWtlIHRleHR1cmUuZm9ybWF0IHZhbHVlIGFzIHRoZWlyIHZhbHVlYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRleHR1cmUuZm9ybWF0KXtcbiAgICAgICAgICAgICAgICBhc3NldC5mb3JtYXQgPSB0aGlzLl9nZXRUZXh0dXJlRm9ybWF0KHRleHR1cmUuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGV4dHVyZS50eXBlKXtcbiAgICAgICAgICAgICAgICBhc3NldC50eXBlID0gdGhpcy5fZ2V0VGV4dHVyZVR5cGUodGV4dHVyZS50eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYWRkVGV4dHVyZVNhbXBsZXIoYXNzZXQsIHRleHR1cmUuc2FtcGxlcik7XG5cbiAgICAgICAgICAgIHJldHVybiBhc3NldC50b1RleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NyZWF0ZVRleHR1cmVBc3NldCh0YXJnZXQ6bnVtYmVyLCBpbWFnZUlkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgYXNzZXQ6VGV4dHVyZUFzc2V0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSB0aGlzLl9pbWFnZU1hcC5nZXRDaGlsZChpbWFnZUlkKTtcblxuICAgICAgICAgICAgaWYoIXNvdXJjZSl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oYG5vIGltYWdlIGZvdW5kIGluIGxvYWRlcihpZDoke2ltYWdlSWR9KWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCl7XG4gICAgICAgICAgICAgICAgY2FzZSAzNTUzOlxuICAgICAgICAgICAgICAgICAgICBhc3NldCA9IEltYWdlVGV4dHVyZUFzc2V0LmNyZWF0ZShzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcInRhcmdldCBleGNlcHQgVEVYVFVSRV8yRFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXNzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRUZXh0dXJlVHlwZSh0eXBlOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVR5cGU6RVRleHR1cmVUeXBlID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgNTEyMTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVR5cGUgPSBFVGV4dHVyZVR5cGUuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMzYzNTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVR5cGUgPSBFVGV4dHVyZVR5cGUuVU5TSUdORURfU0hPUlRfNV82XzU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI4MTk6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVUeXBlID0gRVRleHR1cmVUeXBlLlVOU0lHTkVEX1NIT1JUXzRfNF80XzQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI4MjA6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVUeXBlID0gRVRleHR1cmVUeXBlLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGB0ZXh0dXJlLT50eXBlOiR7dHlwZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZVR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRUZXh0dXJlRm9ybWF0KGZvcm1hdDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGb3JtYXQ6RVRleHR1cmVGb3JtYXQgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2goZm9ybWF0KXtcbiAgICAgICAgICAgICAgICBjYXNlIDY0MDY6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2NDA3OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRm9ybWF0ID0gRVRleHR1cmVGb3JtYXQuUkdCO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY0MDg6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY0MDk6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGb3JtYXQgPSBFVGV4dHVyZUZvcm1hdC5MVU1JTkFOQ0U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjQxMDpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZvcm1hdCA9IEVUZXh0dXJlRm9ybWF0LkxVTUlOQU5DRV9BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYHRleHR1cmUtPmZvcm1hdDoke2Zvcm1hdH1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGFzc2V0OlRleHR1cmVBc3NldCwgc2FtcGxlcklkOnN0cmluZyl7XG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLl9qc29uLnNhbXBsZXJzW3NhbXBsZXJJZF0sIExvZy5pbmZvLkZVTkNfTk9UX0VYSVNUKGBzYW1wbGVySWQ6JHtzYW1wbGVySWR9YCkpO1xuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9hZGRUZXh0dXJlU2FtcGxlcihhc3NldDpUZXh0dXJlQXNzZXQsIHNhbXBsZXJJZDpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIHNhbXBsZXIgPSB0aGlzLl9qc29uLnNhbXBsZXJzW3NhbXBsZXJJZF07XG5cbiAgICAgICAgICAgIGFzc2V0LndyYXBUID0gdGhpcy5fZ2V0VGV4dHVyZVdyYXAoc2FtcGxlci53cmFwVCk7XG4gICAgICAgICAgICBhc3NldC53cmFwUyA9IHRoaXMuX2dldFRleHR1cmVXcmFwKHNhbXBsZXIud3JhcFMpO1xuICAgICAgICAgICAgYXNzZXQubWluRmlsdGVyID0gdGhpcy5fZ2V0VGV4dHVyZUZpbHRlcihzYW1wbGVyLm1pbkZpbHRlcik7XG4gICAgICAgICAgICBhc3NldC5tYWdGaWx0ZXIgPSB0aGlzLl9nZXRUZXh0dXJlRmlsdGVyKHNhbXBsZXIubWFnRmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFRleHR1cmVGaWx0ZXIoZmlsdGVyOm51bWJlcil7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGZpbHRlcil7XG4gICAgICAgICAgICAgICAgY2FzZSA5NzI4OlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRmlsdGVyID0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1Q7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTcyOTpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5MSU5FQVI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTk4NDpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZpbHRlciA9IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUX01JUE1BUF9NRUFSRVNUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk5ODU6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSX01JUE1BUF9ORUFSRVNUO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk5ODY6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTkVBUkVTVF9NSVBNQVBfTElORUFSO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk5ODc6XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSX01JUE1BUF9MSU5FQVI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGB0ZXh0dXJlIGZpbHRlcjoke2ZpbHRlcn1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZpbHRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFRleHR1cmVXcmFwKHdyYXA6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlV3JhcDpFVGV4dHVyZVdyYXBNb2RlID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh3cmFwKXtcbiAgICAgICAgICAgICAgICBjYXNlIDMzMDcxOlxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlV3JhcCA9IEVUZXh0dXJlV3JhcE1vZGUuQ0xBTVBfVE9fRURHRTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMzY0ODpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVdyYXAgPSBFVGV4dHVyZVdyYXBNb2RlLk1JUlJPUkVEX1JFUEVBVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDQ5NzpcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVdyYXAgPSBFVGV4dHVyZVdyYXBNb2RlLlJFUEVBVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoYHRleHR1cmUgd3JhcDoke3dyYXB9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVXcmFwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEdMVEZBcnRpY3VsYXRlZEFuaW1hdGlvblBhcnNlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FycmF5QnVmZmVyTWFwOndkQ2IuSGFzaDxhbnk+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfanNvbjpJR0xURkpzb25EYXRhID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfdHJhbnNsYXRpb25BcnJheU9mZnNldDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9yb3RhdGlvbkFycmF5T2Zmc2V0Om51bWJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NjYWxlQXJyYXlPZmZzZXQ6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgcGFyc2UoanNvbjpJR0xURkpzb25EYXRhLCBvYmplY3RzOndkQ2IuQ29sbGVjdGlvbjxJR0xURk9iamVjdERhdGE+LCBhcnJheUJ1ZmZlck1hcDp3ZENiLkhhc2g8YW55Pik6dm9pZHtcbiAgICAgICAgICAgIHZhciBub2RlV2l0aEFuaW1hdGlvbk1hcDp3ZENiLkhhc2g8YW55PiA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55PigpLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9qc29uID0ganNvbjtcbiAgICAgICAgICAgIHRoaXMuX2FycmF5QnVmZmVyTWFwID0gYXJyYXlCdWZmZXJNYXA7XG5cbiAgICAgICAgICAgIGZvcihsZXQgYW5pbUlkIGluIGpzb24uYW5pbWF0aW9ucyl7XG4gICAgICAgICAgICAgICAgaWYoanNvbi5hbmltYXRpb25zLmhhc093blByb3BlcnR5KGFuaW1JZCkpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgYW5pbWF0aW9uOklHTFRGQW5pbWF0aW9uID0ganNvbi5hbmltYXRpb25zW2FuaW1JZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlV2l0aENoYW5uZWxNYXAgPSB3ZENiLkhhc2guY3JlYXRlPElHTFRGQW5pbWF0aW9uQ2hhbm5lbD4oKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGFuaW1hdGlvbi5jaGFubmVscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWw6SUdMVEZBbmltYXRpb25DaGFubmVsID0gYW5pbWF0aW9uLmNoYW5uZWxzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElkOnN0cmluZyA9IGNoYW5uZWwudGFyZ2V0LmlkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlV2l0aENoYW5uZWxNYXAuYXBwZW5kQ2hpbGQodGFyZ2V0SWQsIGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbm9kZVdpdGhDaGFubmVsTWFwLmZvckVhY2goKGNoYW5uZWxMaXN0OndkQ2IuQ29sbGVjdGlvbjxJR0xURkFuaW1hdGlvbkNoYW5uZWw+LCB0YXJnZXRJZDpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlGcmFtZURhdGFMaXN0ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxJR0xURktleUZyYW1lRGF0YT4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROb2RlID0gc2VsZi5fZmluZE5vZGUob2JqZWN0cywgdGFyZ2V0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RGF0YSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVySW5wdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZy53YXJuKGBjYW4ndCBmaW5kIG5vZGUgd2hvc2UgaWQgaXMgJHt0YXJnZXRJZH0gdG8gYXR0YWNoIHRvIGFuaW1hdGlvbiBuYW1lZCAke2FuaW1JZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkZEFuaW1hdGlvblRvTm9kZShub2RlV2l0aEFuaW1hdGlvbk1hcCwgdGFyZ2V0SWQsIHRhcmdldE5vZGUsIHNlbGYuX2dldEFuaW1OYW1lKGFuaW1hdGlvbiwgYW5pbUlkKSwga2V5RnJhbWVEYXRhTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RGF0YSA9IHNlbGYuX2dldElucHV0RGF0YShhbmltYXRpb24sIGNoYW5uZWxMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcklucHV0ID0gR0xURlV0aWxzLmdldEJ1ZmZlckFyckZyb21BY2Nlc3Nvcihqc29uLCBqc29uLmFjY2Vzc29yc1tpbnB1dERhdGFdLCBhcnJheUJ1ZmZlck1hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0aW9uQXJyYXlPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb25BcnJheU9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2FsZUFycmF5T2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBidWZmZXJJbnB1dC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrZXlGcmFtZURhdGE6SUdMVEZLZXlGcmFtZURhdGEgPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5RnJhbWVEYXRhLnRpbWUgPSB0aGlzLl9jb252ZXJ0U2Vjb25kVG9NaWxsaXNlY29uZChidWZmZXJJbnB1dFtqXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlGcmFtZURhdGEudGFyZ2V0cyA9IHRoaXMuX2dldEtleUZyYW1lRGF0YVRhcmdldHMoYW5pbWF0aW9uLCBjaGFubmVsTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlGcmFtZURhdGFMaXN0LmFkZENoaWxkKGtleUZyYW1lRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYWRkQW5pbWF0aW9uQ29tcG9uZW50KG5vZGVXaXRoQW5pbWF0aW9uTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldEFuaW1OYW1lKGFuaW1hdGlvbjpJR0xURkFuaW1hdGlvbiwgYW5pbUlkOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uLm5hbWUgPyBhbmltYXRpb24ubmFtZSA6IGFuaW1JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKGFuaW1hdGlvbjpJR0xURkFuaW1hdGlvbiwgY2hhbm5lbExpc3Q6d2RDYi5Db2xsZWN0aW9uPElHTFRGQW5pbWF0aW9uQ2hhbm5lbD4pe1xuICAgICAgICAgICAgdmFyIGlucHV0U2FtcGxlckxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPHN0cmluZz4oKTtcblxuICAgICAgICAgICAgZm9yKGxldCBzYW1wbGVySWQgaW4gYW5pbWF0aW9uLnNhbXBsZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zYW1wbGVycy5oYXNPd25Qcm9wZXJ0eShzYW1wbGVySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzYW1wZWxyID0gYW5pbWF0aW9uLnNhbXBsZXJzW3NhbXBsZXJJZF07XG5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVyTGlzdC5hZGRDaGlsZChzYW1wZWxyLmlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzc2VydChpbnB1dFNhbXBsZXJMaXN0LnJlbW92ZVJlcGVhdEl0ZW1zKCkuZ2V0Q291bnQoKSA9PT0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJhbGwgc2FtcGxlci0+aW5wdXRcIiwgXCJiZSB0aGUgc2FtZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldElucHV0RGF0YShhbmltYXRpb246SUdMVEZBbmltYXRpb24sIGNoYW5uZWxMaXN0OndkQ2IuQ29sbGVjdGlvbjxJR0xURkFuaW1hdGlvbkNoYW5uZWw+KXtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBjaGFubmVsTGlzdC5mb3JFYWNoKChjaGFubmVsOklHTFRGQW5pbWF0aW9uQ2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVyOklHTFRGQW5pbWF0aW9uU2FtcGxlciA9IGFuaW1hdGlvbi5zYW1wbGVyc1tjaGFubmVsLnNhbXBsZXJdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYW5pbWF0aW9uLnBhcmFtZXRlcnNbc2FtcGxlci5pbnB1dF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZEFuaW1hdGlvblRvTm9kZShub2RlV2l0aEFuaW1hdGlvbk1hcDp3ZENiLkhhc2g8YW55PiwgdGFyZ2V0SWQ6c3RyaW5nLCB0YXJnZXROb2RlOklHTFRGT2JqZWN0RGF0YSwgYW5pbU5hbWU6c3RyaW5nLCBrZXlGcmFtZURhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxJR0xURktleUZyYW1lRGF0YT4pe1xuICAgICAgICAgICAgaWYoIW5vZGVXaXRoQW5pbWF0aW9uTWFwLmhhc0NoaWxkKHRhcmdldElkKSl7XG4gICAgICAgICAgICAgICAgbm9kZVdpdGhBbmltYXRpb25NYXAuYWRkQ2hpbGQodGFyZ2V0SWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTp0YXJnZXROb2RlLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EYXRhOnt9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGVXaXRoQW5pbWF0aW9uTWFwLmdldENoaWxkKHRhcmdldElkKS5hbmltYXRpb25EYXRhW2FuaW1OYW1lXSA9IGtleUZyYW1lRGF0YUxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRLZXlGcmFtZURhdGFUYXJnZXRzKGFuaW1hdGlvbjpJR0xURkFuaW1hdGlvbiwgY2hhbm5lbExpc3Q6d2RDYi5Db2xsZWN0aW9uPElHTFRGQW5pbWF0aW9uQ2hhbm5lbD4pe1xuICAgICAgICAgICAgdmFyIHRhcmdldHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPElHTFRGS2V5RnJhbWVUYXJnZXREYXRhPigpO1xuXG5cbiAgICAgICAgICAgIGNoYW5uZWxMaXN0LmZvckVhY2goKGNoYW5uZWw6SUdMVEZBbmltYXRpb25DaGFubmVsKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZXI6SUdMVEZBbmltYXRpb25TYW1wbGVyID0gYW5pbWF0aW9uLnNhbXBsZXJzW2NoYW5uZWwuc2FtcGxlcl0sXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dERhdGE6YW55ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyT3V0cHV0OmFueSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFBhdGg6c3RyaW5nID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YTpJR0xURktleUZyYW1lVGFyZ2V0RGF0YSA9IDxhbnk+e307XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNhbXBsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhcmdldFBhdGggPSBjaGFubmVsLnRhcmdldC5wYXRoO1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0RGF0YSA9IGFuaW1hdGlvbi5wYXJhbWV0ZXJzW3NhbXBsZXIub3V0cHV0XTtcbiAgICAgICAgICAgICAgICBidWZmZXJPdXRwdXQgPSBHTFRGVXRpbHMuZ2V0QnVmZmVyQXJyRnJvbUFjY2Vzc29yKHRoaXMuX2pzb24sIHRoaXMuX2pzb24uYWNjZXNzb3JzW291dHB1dERhdGFdLCB0aGlzLl9hcnJheUJ1ZmZlck1hcCk7XG5cblxuICAgICAgICAgICAgICAgIHRhcmdldERhdGEuaW50ZXJwb2xhdGlvbk1ldGhvZCA9IHRoaXMuX2NvbnZlcnRUb2ludGVycG9sYXRpb25NZXRob2Qoc2FtcGxlci5pbnRlcnBvbGF0aW9uKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGFyZ2V0UGF0aCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2xhdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YS50YXJnZXQgPSBFQXJ0aWN1bGF0ZWRBbmltYXRpb25UYXJnZXQuVFJBTlNMQVRJT047XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhLmRhdGEgPSBWZWN0b3IzLmNyZWF0ZShidWZmZXJPdXRwdXRbdGhpcy5fdHJhbnNsYXRpb25BcnJheU9mZnNldF0sIGJ1ZmZlck91dHB1dFt0aGlzLl90cmFuc2xhdGlvbkFycmF5T2Zmc2V0ICsgMV0sIGJ1ZmZlck91dHB1dFt0aGlzLl90cmFuc2xhdGlvbkFycmF5T2Zmc2V0ICsgMl0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbkFycmF5T2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJvdGF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhLnRhcmdldCA9IEVBcnRpY3VsYXRlZEFuaW1hdGlvblRhcmdldC5ST1RBVElPTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGEuZGF0YSA9IFF1YXRlcm5pb24uY3JlYXRlKGJ1ZmZlck91dHB1dFt0aGlzLl9yb3RhdGlvbkFycmF5T2Zmc2V0XSwgYnVmZmVyT3V0cHV0W3RoaXMuX3JvdGF0aW9uQXJyYXlPZmZzZXQgKyAxXSwgYnVmZmVyT3V0cHV0W3RoaXMuX3JvdGF0aW9uQXJyYXlPZmZzZXQgKyAyXSwgYnVmZmVyT3V0cHV0W3RoaXMuX3JvdGF0aW9uQXJyYXlPZmZzZXQgKyAzXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uQXJyYXlPZmZzZXQgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGEudGFyZ2V0ID0gRUFydGljdWxhdGVkQW5pbWF0aW9uVGFyZ2V0LlNDQUxFO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YS5kYXRhID0gVmVjdG9yMy5jcmVhdGUoYnVmZmVyT3V0cHV0W3RoaXMuX3NjYWxlQXJyYXlPZmZzZXRdLCBidWZmZXJPdXRwdXRbdGhpcy5fc2NhbGVBcnJheU9mZnNldCArIDFdLCBidWZmZXJPdXRwdXRbdGhpcy5fc2NhbGVBcnJheU9mZnNldCArIDJdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NhbGVBcnJheU9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChgcGF0aDoke3RhcmdldFBhdGh9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB0YXJnZXRzLmFkZENoaWxkKHRhcmdldERhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZE5vZGUob2JqZWN0czp3ZENiLkNvbGxlY3Rpb248SUdMVEZPYmplY3REYXRhPiwgdGFyZ2V0SWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBmaW5kID0gKG9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPElHTFRGT2JqZWN0RGF0YT4pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0cy5maW5kT25lKChvYmplY3Q6SUdMVEZPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QuaWQgPT09IHRhcmdldElkO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvYmplY3RzLmZvckVhY2goKG9iamVjdDpJR0xURk9iamVjdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmluZChvYmplY3QuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kQlJFQUs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmaW5kKG9iamVjdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbihyZXR1cm5WYWwsIG5vZGVXaXRoQW5pbWF0aW9uTWFwOndkQ2IuSGFzaDxhbnk+KXtcbiAgICAgICAgICAgIG5vZGVXaXRoQW5pbWF0aW9uTWFwLmZvckVhY2goKHtub2RlLCBhbmltYXRpb25EYXRhfSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydChub2RlLmNvbXBvbmVudHMuZmlsdGVyKChjb21wb25lbnQ6SUdMVEZDb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBHTFRGVXRpbHMuaXNJR0xURkFydGljdWxhdGVkQW5pbWF0aW9uKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmdldENvdW50KCkgPD0gMSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJub2RlXCIsIFwib25seSBoYXMgMSBJR0xURkFydGljdWxhdGVkQW5pbWF0aW9uIGNvbXBvbmVudFwiKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9hZGRBbmltYXRpb25Db21wb25lbnQobm9kZVdpdGhBbmltYXRpb25NYXA6d2RDYi5IYXNoPGFueT4pe1xuICAgICAgICAgICAgbm9kZVdpdGhBbmltYXRpb25NYXAuZm9yRWFjaCgoe25vZGUsIGFuaW1hdGlvbkRhdGF9KSA9PiB7XG4gICAgICAgICAgICAgICAgbm9kZS5jb21wb25lbnRzLmFkZENoaWxkKGFuaW1hdGlvbkRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0U2Vjb25kVG9NaWxsaXNlY29uZCh0aW1lOm51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAqIHRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jb252ZXJ0VG9pbnRlcnBvbGF0aW9uTWV0aG9kKGpzb25JbnRlcnBvbGF0aW9uOnN0cmluZyl7XG4gICAgICAgICAgICBzd2l0Y2goanNvbkludGVycG9sYXRpb24pe1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMSU5FQVJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVLZXlGcmFtZUludGVycG9sYXRpb24uTElORUFSO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKGBpbnRlcnBvbGF0aW9uOiR7anNvbkludGVycG9sYXRpb259YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBBcnJheUJ1ZmZlcjphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgR0xURlV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGFkZERhdGEodGFyZ2V0Ok9iamVjdCwgc291cmNlTmFtZTpzdHJpbmcsIHNvdXJjZURhdGE6YW55KXtcbiAgICAgICAgICAgIGlmKHNvdXJjZURhdGEgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2VEYXRhICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlTmFtZV0gPSBzb3VyY2VEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0Jhc2U2NCh1cmk6IHN0cmluZyk6IGJvb2xlYW57XG4gICAgICAgICAgICByZXR1cm4gdXJpLmxlbmd0aCA8IDUgPyBmYWxzZSA6IHVyaS5zdWJzdHIoMCwgNSkgPT09IFwiZGF0YTpcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZGVjb2RlQXJyYXlCdWZmZXIoYmFzZTY0U3RyOiBzdHJpbmcpOmFueXtcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBiYXNlNjRTdHIuc3BsaXQoJywnKVsxXSxcbiAgICAgICAgICAgICAgICBkZWNvZGVkU3RyaW5nID0gYXRvYihiYXNlNjQpLFxuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbmd0aCA9IGRlY29kZWRTdHJpbmcubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGFycmF5YnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCkpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlidWZmZXJbaV0gPSBkZWNvZGVkU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcnJheWJ1ZmZlci5idWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU9iamVjdERhdGEoKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6bnVsbCxcbiAgICAgICAgICAgICAgICBpc0NvbnRhaW5lcjogZmFsc2UsXG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOndkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8SUdMVEZDb21wb25lbnQ+KCksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8SUdMVEZPYmplY3REYXRhPigpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldENvbG9yKHZhbHVlOkFycmF5PG51bWJlcj4pe1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gQ29sb3IuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGNvbG9yLnIgPSBOdW1iZXIodmFsdWVbMF0pO1xuICAgICAgICAgICAgY29sb3IuZyA9IE51bWJlcih2YWx1ZVsxXSk7XG4gICAgICAgICAgICBjb2xvci5iID0gTnVtYmVyKHZhbHVlWzJdKTtcblxuICAgICAgICAgICAgaWYodmFsdWUubGVuZ3RoID09PSA0KXtcbiAgICAgICAgICAgICAgICBjb2xvci5hID0gTnVtYmVyKHZhbHVlWzNdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRCdWZmZXJBcnJGcm9tQWNjZXNzb3IoanNvbjpJR0xURkpzb25EYXRhLCBhY2Nlc3NvcjogSUdMVEZBY2Nlc3NvciwgYXJyYXlCdWZmZXJNYXA6d2RDYi5IYXNoPGFueT4pOiBhbnl7XG4gICAgICAgICAgICB2YXIgYnVmZmVyVmlldzogSUdMVEZCdWZmZXJWaWV3ID0ganNvbi5idWZmZXJWaWV3c1thY2Nlc3Nvci5idWZmZXJWaWV3XSxcbiAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlcjogYW55ID0gYXJyYXlCdWZmZXJNYXAuZ2V0Q2hpbGQoYnVmZmVyVmlldy5idWZmZXIpLFxuICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXQgPSBhY2Nlc3Nvci5ieXRlT2Zmc2V0ICsgYnVmZmVyVmlldy5ieXRlT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGNvdW50ID0gYWNjZXNzb3IuY291bnQgKiB0aGlzLmdldEFjY2Vzc29yVHlwZVNpemUoYWNjZXNzb3IpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGFjY2Vzc29yLmNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDUxMjA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50OEFycmF5KGFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBjb3VudCk7XG4gICAgICAgICAgICAgICAgY2FzZSA1MTIxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGNvdW50KTtcbiAgICAgICAgICAgICAgICBjYXNlIDUxMjI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50MTZBcnJheShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgY291bnQpO1xuICAgICAgICAgICAgICAgIGNhc2UgNTEyMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheShhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgY291bnQpO1xuICAgICAgICAgICAgICAgIGNhc2UgNTEyNjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGNvdW50KTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBMb2cuZXJyb3IodHJ1ZSwgTG9nLmluZm8uRlVOQ19VTkVYUEVDVChgY29tcG9uZW50VHlwZToke2FjY2Vzc29yLmNvbXBvbmVudFR5cGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0QWNjZXNzb3JUeXBlU2l6ZShhY2Nlc3NvcjogSUdMVEZBY2Nlc3Nvcik6IG51bWJlcntcbiAgICAgICAgICAgIHZhciB0eXBlID0gYWNjZXNzb3IudHlwZTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZFQzJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZFQzNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZFQzRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk1BVDJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk1BVDNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk1BVDRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE2O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0lHTFRGQXJ0aWN1bGF0ZWRBbmltYXRpb24oY29tcG9uZW50OklHTFRGQ29tcG9uZW50KXtcbiAgICAgICAgICAgIGlmKCFKdWRnZVV0aWxzLmlzRGlyZWN0T2JqZWN0KGNvbXBvbmVudCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKGxldCBhbmltTmFtZSBpbiBjb21wb25lbnQpe1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRbYW5pbU5hbWVdIGluc3RhbmNlb2Ygd2RDYi5Db2xsZWN0aW9uICYmIGNvbXBvbmVudFthbmltTmFtZV0uZ2V0Q291bnQoKSA+IDAgJiYgY29tcG9uZW50W2FuaW1OYW1lXS5nZXRDaGlsZCgwKS50aW1lICE9PSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVdEVGFne1xuICAgICAgICBDT05UQUlORVIgPSA8YW55PlwiQ09OVEFJTkVSXCJcbiAgICB9XG59XG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBXRExvYWRlciBleHRlbmRzIExvYWRlciB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3dkUGFyc2VyOldEUGFyc2VyID0gV0RQYXJzZXIuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX3dkQnVpbGRlcjpXREJ1aWxkZXIgPSBXREJ1aWxkZXIuY3JlYXRlKCk7XG4gICAgICAgIHByaXZhdGUgX3BhcnNlRGF0YTpXREZpbGVQYXJzZURhdGEgPSBudWxsO1xuXG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGFzc2VydCghSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShhcmdzWzBdKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwidXJsXCIsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIHVybCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiBBamF4TG9hZGVyLmxvYWQodXJsLCBcImpzb25cIilcbiAgICAgICAgICAgICAgICAuZmxhdE1hcCgoanNvbjpXREZpbGVKc29uRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9wYXJzZURhdGEgPSBzZWxmLl93ZFBhcnNlci5wYXJzZShqc29uKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlTG9hZE1hcFN0cmVhbSh1cmwpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICAgIHdkRnJwLmNhbGxGdW5jKCgpPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fd2RCdWlsZGVyLmJ1aWxkKHNlbGYuX3BhcnNlRGF0YSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jcmVhdGVMb2FkTWFwU3RyZWFtKGZpbGVQYXRoOnN0cmluZyk6d2RGcnAuU3RyZWFte1xuICAgICAgICAgICAgdmFyIHN0cmVhbUFyciA9IFtdLFxuICAgICAgICAgICAgICAgIHBhcnNlRGF0YSA9IHRoaXMuX3BhcnNlRGF0YSxcbiAgICAgICAgICAgICAgICBpID0gbnVsbDtcblxuICAgICAgICAgICAgcGFyc2VEYXRhLm1hdGVyaWFscy5mb3JFYWNoKChtYXRlcmlhbDpXREZpbGVQYXJzZU1hdGVyaWFsRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtYXBVcmxBcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5kaWZmdXNlTWFwVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcFVybEFyci5wdXNoKFtcImRpZmZ1c2VNYXBcIiwgbWF0ZXJpYWwuZGlmZnVzZU1hcFVybF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwuc3BlY3VsYXJNYXBVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwVXJsQXJyLnB1c2goW1wic3BlY3VsYXJNYXBcIiwgbWF0ZXJpYWwuc3BlY3VsYXJNYXBVcmxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsLm5vcm1hbE1hcFVybCkge1xuICAgICAgICAgICAgICAgICAgICBtYXBVcmxBcnIucHVzaChbXCJub3JtYWxNYXBcIiwgbWF0ZXJpYWwubm9ybWFsTWFwVXJsXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RyZWFtQXJyLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHdkRnJwLmZyb21BcnJheShtYXBVcmxBcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmxhdE1hcCgoW3R5cGUsIG1hcFVybF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZUxvYWRlci5nZXRJbnN0YW5jZSgpLmxvYWQoTW9kZWxMb2FkZXJVdGlscy5nZXRQYXRoKGZpbGVQYXRoLCBtYXBVcmwpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG8oKGFzc2V0OlRleHR1cmVBc3NldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxbdHlwZV0gPSBhc3NldC50b1RleHR1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiB3ZEZycC5mcm9tQXJyYXkoc3RyZWFtQXJyKS5tZXJnZUFsbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy90b2RvIG9wdGltaXplOnNldCB2ZXJ0aWNlLG5vcm1hbCBwcmVzaW9uPyh1c2UgdG9GaXhlZClcbm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFdEUGFyc2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RhdGE6V0RGaWxlUGFyc2VEYXRhID0gPGFueT57fTtcbiAgICAgICAgcHJpdmF0ZSBfb2JqZWN0UGFyc2VyID0gV0RPYmplY3RQYXJzZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgcHVibGljIHBhcnNlKGpzb246V0RGaWxlSnNvbkRhdGEpOldERmlsZVBhcnNlRGF0YSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZU1ldGFkYXRhKGpzb24pO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VTY2VuZShqc29uKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlTWF0ZXJpYWwoanNvbik7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZU9iamVjdChqc29uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZU1ldGFkYXRhKGpzb246V0RGaWxlSnNvbkRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEubWV0YWRhdGEgPSA8YW55Pmpzb24ubWV0YWRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZU9iamVjdChqc29uOldERmlsZUpzb25EYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RQYXJzZXIucGFyc2UodGhpcy5fZGF0YSwganNvbik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZVNjZW5lKGpzb246V0RGaWxlSnNvbkRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEuc2NlbmUgPSA8YW55Pmpzb24uc2NlbmU7XG5cbiAgICAgICAgICAgIGlmIChqc29uLnNjZW5lLmFtYmllbnRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEuc2NlbmUuYW1iaWVudENvbG9yID0gdGhpcy5fY3JlYXRlQ29sb3IoanNvbi5zY2VuZS5hbWJpZW50Q29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VNYXRlcmlhbChqc29uOldERmlsZUpzb25EYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLm1hdGVyaWFscyA9IHdkQ2IuSGFzaC5jcmVhdGU8YW55Pihqc29uLm1hdGVyaWFscyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEubWF0ZXJpYWxzLmZvckVhY2goKG1hdGVyaWFsOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5kaWZmdXNlQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gdGhpcy5fY3JlYXRlQ29sb3IobWF0ZXJpYWwuZGlmZnVzZUNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHRoaXMuX2NyZWF0ZUNvbG9yKG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlQ29sb3IoY29sb3JBcnI6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgcmV0dXJuIENvbG9yLmNyZWF0ZShgcmdiKCR7Y29sb3JBcnIuam9pbihcIixcIikucmVwbGFjZSgvXihcXGQrKSwvZywgXCIkMS4wLFwiKS5yZXBsYWNlKC8sKFxcZCspLC9nLCBcIiwkMS4wLFwiKS5yZXBsYWNlKC8sKFxcZCspJC9nLCBcIiwkMS4wXCIpfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiLy90b2RvIG9wdGltaXplOnNldCB2ZXJ0aWNlLG5vcm1hbCBwcmVzaW9uPyh1c2UgdG9GaXhlZClcbm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFdET2JqZWN0UGFyc2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXJzZShkYXRhOldERmlsZVBhcnNlRGF0YSwganNvbjpXREZpbGVKc29uRGF0YSk6dm9pZCB7XG4gICAgICAgICAgICB2YXIgcGFyc2UgPSBudWxsLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBkYXRhLm9iamVjdHMgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4oanNvbi5vYmplY3RzKTtcblxuICAgICAgICAgICAgcGFyc2UgPSAob2JqZWN0OmFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9pc09iamVjdENvbnRhaW5lcihvYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNDb250YWluZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9wYXJzZUZyb21JbmRpY2VzKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPGFueT4ob2JqZWN0LmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gb2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICBkYXRhLm9iamVjdHMuZm9yRWFjaCgob2JqZWN0OmFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vdG9wJ3MgcGFyZW50IGlzIG51bGxcbiAgICAgICAgICAgICAgICBvYmplY3QucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHBhcnNlKG9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLl9yZW1vdmVPYmplY3RDb250YWluZXJEYXRhKG9iamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzT2JqZWN0Q29udGFpbmVyKG9iamVjdDpXREZpbGVKc29uT2JqZWN0RGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICFHZW9tZXRyeVV0aWxzLmhhc0RhdGEob2JqZWN0LnZlcnRpY2VJbmRpY2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlRnJvbUluZGljZXMob2JqZWN0OmFueSkge1xuICAgICAgICAgICAgdGhpcy5fZHVwbGljYXRlVmVydGV4V2l0aERpZmZlcmVudFV2cyhvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VPYmplY3RGcm9tSW5kaWNlcyhvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlUmVidW5kYW50SW5kaWNlRGF0YShvYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIGhhbmRsZSBcInNhbWUgdmVydGV4IGRpZmZlcmVudCBub3JtYWxzXCIgc2l0dWF0aW9uP1xuICAgICAgICBwcml2YXRlIF9kdXBsaWNhdGVWZXJ0ZXhXaXRoRGlmZmVyZW50VXZzKG9iamVjdDphbnkpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXSxcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB3ZENiLkhhc2guY3JlYXRlPHdkQ2IuQ29sbGVjdGlvbjxBcnJheTxudW1iZXI+Pj4oKSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlSW5kaWNlcyA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlcyxcbiAgICAgICAgICAgICAgICB1dkluZGljZXMgPSBvYmplY3QudXZJbmRpY2VzO1xuXG4gICAgICAgICAgICBpZiAoIUdlb21ldHJ5VXRpbHMuaGFzRGF0YSh1dkluZGljZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmVydGljZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGljZUluZGV4ID0gdmVydGljZUluZGljZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTYW1lVmVydGV4V2l0aERpZmZlcmVudFV2c0J5Q29tcGFyZVRvRmlyc3RPbmUoYXJyLCB1dkluZGljZXNbaV0sIHZlcnRpY2VJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVXZJbmRpY2VFcXVhbFRoZU9uZU9mQWRkZWRWZXJ0ZXgoY29udGFpbmVyLCB2ZXJ0aWNlSW5kZXgsIHV2SW5kaWNlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VJbmRpY2VzW2ldID0gdGhpcy5fZ2V0VmVydGljZUluZGV4T2ZBZGRlZFZlcnRleEJ5RmluZENvbnRhaW5lcihjb250YWluZXIsIHZlcnRpY2VJbmRleCwgdXZJbmRpY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFZlcnRleERhdGEob2JqZWN0LCBjb250YWluZXIsIHZlcnRpY2VJbmRleCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlSW5kZXggPSB2ZXJ0aWNlSW5kaWNlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGFyclt2ZXJ0aWNlSW5kZXhdID0gdXZJbmRpY2VzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaXNTYW1lVmVydGV4V2l0aERpZmZlcmVudFV2c0J5Q29tcGFyZVRvRmlyc3RPbmUoYXJyLCB1dkluZGV4LCB2ZXJ0aWNlSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJbdmVydGljZUluZGV4XSAhPT0gdm9pZCAwICYmIGFyclt2ZXJ0aWNlSW5kZXhdICE9PSB1dkluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkVmVydGV4RGF0YShvYmplY3QsIGNvbnRhaW5lciwgdmVydGljZUluZGV4LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VJbmRpY2VzID0gb2JqZWN0LnZlcnRpY2VJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2SW5kaWNlcyA9IG9iamVjdC51dkluZGljZXMsXG4gICAgICAgICAgICAgICAgbm9ybWFsSW5kaWNlcyA9IG9iamVjdC5ub3JtYWxJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcInZlcnRpY2VzXCIpLFxuICAgICAgICAgICAgICAgIG5vcm1hbHMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwibm9ybWFsc1wiKSxcbiAgICAgICAgICAgICAgICBtb3JwaFRhcmdldHMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwibW9ycGhUYXJnZXRzXCIpLFxuICAgICAgICAgICAgICAgIHZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXggPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRUaHJlZUNvbXBvbmVudCh2ZXJ0aWNlcywgdmVydGljZUluZGV4KTtcblxuICAgICAgICAgICAgdmVydGljZUluZGV4T2ZBZGRlZFZlcnRleCA9IHRoaXMuX2dldFZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXgodmVydGljZXMpO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlSW5kaWNlc1tpbmRleF0gPSB2ZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4O1xuXG5cbiAgICAgICAgICAgIGlmIChHZW9tZXRyeVV0aWxzLmhhc0RhdGEobW9ycGhUYXJnZXRzKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGZyYW1lIG9mIG1vcnBoVGFyZ2V0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRUaHJlZUNvbXBvbmVudChmcmFtZS52ZXJ0aWNlcywgdmVydGljZUluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKGZyYW1lLm5vcm1hbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGREdXBsaWNhdGVOb3JtYWxPZkFkZGVkVmVydGV4KGZyYW1lLm5vcm1hbHMsIG5vcm1hbEluZGljZXMsIGluZGV4LCB2ZXJ0aWNlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoR2VvbWV0cnlVdGlscy5oYXNEYXRhKG5vcm1hbHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkRHVwbGljYXRlTm9ybWFsT2ZBZGRlZFZlcnRleChub3JtYWxzLCBub3JtYWxJbmRpY2VzLCBpbmRleCwgdmVydGljZUluZGV4KTtcblxuICAgICAgICAgICAgICAgIGlmIChHZW9tZXRyeVV0aWxzLmhhc0RhdGEobm9ybWFsSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsSW5kaWNlc1tpbmRleF0gPSB2ZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoU3RyaW5nKHZlcnRpY2VJbmRleCksIFt1dkluZGljZXNbaW5kZXhdLCB2ZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4XSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGREdXBsaWNhdGVOb3JtYWxPZkFkZGVkVmVydGV4KG5vcm1hbHMsIG5vcm1hbEluZGljZXMsIGluZGV4LCBvbGRWZXJ0aWNlSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghR2VvbWV0cnlVdGlscy5oYXNEYXRhKG5vcm1hbEluZGljZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkVGhyZWVDb21wb25lbnQobm9ybWFscywgbm9ybWFscywgb2xkVmVydGljZUluZGV4KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0aGlzLl9hZGRUaHJlZUNvbXBvbmVudChub3JtYWxzLCBub3JtYWxzLCBub3JtYWxJbmRpY2VzW2luZGV4XSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc1V2SW5kaWNlRXF1YWxUaGVPbmVPZkFkZGVkVmVydGV4KGNvbnRhaW5lciwgdGFyZ2V0VmVydGljZUluZGV4LCB0YXJnZXRVdkluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGNvbnRhaW5lci5nZXRDaGlsZChTdHJpbmcodGFyZ2V0VmVydGljZUluZGV4KSk7XG5cbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGFzQ2hpbGRXaXRoRnVuYygoW3V2SW5kZXgsIHZlcnRpY2VJbmRleF0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXZJbmRleCA9PT0gdGFyZ2V0VXZJbmRleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24gKGNvbnRhaW5lciwgdGFyZ2V0VmVydGljZUluZGV4LCB0YXJnZXRVdkluZGV4KSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5faXNVdkluZGljZUVxdWFsVGhlT25lT2ZBZGRlZFZlcnRleChjb250YWluZXIsIHRhcmdldFZlcnRpY2VJbmRleCwgdGFyZ2V0VXZJbmRleCksIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwidXZJbmRleFwiLCBcImVxdWFsIHRoZSBvbmUgb2YgYWRkZWQgdmVydGV4XCIpKVxuICAgICAgICB9KVxuICAgICAgICBwcml2YXRlIF9nZXRWZXJ0aWNlSW5kZXhPZkFkZGVkVmVydGV4QnlGaW5kQ29udGFpbmVyKGNvbnRhaW5lciwgdGFyZ2V0VmVydGljZUluZGV4LCB0YXJnZXRVdkluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGNvbnRhaW5lci5nZXRDaGlsZChTdHJpbmcodGFyZ2V0VmVydGljZUluZGV4KSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbmRPbmUoKFt1dkluZGV4LCB2ZXJ0aWNlSW5kZXhdKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV2SW5kZXggPT09IHRhcmdldFV2SW5kZXg7XG4gICAgICAgICAgICB9KVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFZlcnRpY2VJbmRleE9mQWRkZWRWZXJ0ZXgodmVydGljZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0aWNlcy5sZW5ndGggLyAzIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2FkZFRocmVlQ29tcG9uZW50KGRhdGE6QXJyYXk8bnVtYmVyPiwgaW5kZXg6bnVtYmVyKTtcbiAgICAgICAgcHJpdmF0ZSBfYWRkVGhyZWVDb21wb25lbnQodGFyZ2V0RGF0YTpBcnJheTxudW1iZXI+LCBzb3VyY2VEYXRhOkFycmF5PG51bWJlcj4sIGluZGV4Om51bWJlcik7XG5cbiAgICAgICAgcHJpdmF0ZSBfYWRkVGhyZWVDb21wb25lbnQoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaW5kZXggKiAzXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtpbmRleCAqIDMgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtpbmRleCAqIDMgKyAyXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RGF0YSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZURhdGEgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGFyZ3NbMl07XG5cbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbaW5kZXggKiAzXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRGF0YVtpbmRleCAqIDMgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRGF0YVtpbmRleCAqIDMgKyAyXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZU9iamVjdEZyb21JbmRpY2VzKG9iamVjdDphbnkpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHV2cyA9IFtdLFxuICAgICAgICAgICAgICAgIGZhY2VzID0gW10sXG4gICAgICAgICAgICAgICAgZmFjZTpGYWNlMyA9IG51bGwsXG4gICAgICAgICAgICAgICAgY29sb3JzID0gW10sXG4gICAgICAgICAgICAgICAgb2JqZWN0VmVydGljZXMgPSB0aGlzLl9maW5kRGF0YShvYmplY3QsIFwidmVydGljZXNcIiksXG4gICAgICAgICAgICAgICAgb2JqZWN0VVZzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcInV2c1wiKSxcbiAgICAgICAgICAgICAgICBvYmplY3ROb3JtYWxzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcIm5vcm1hbHNcIiksXG4gICAgICAgICAgICAgICAgb2JqZWN0Q29sb3JzID0gdGhpcy5fZmluZERhdGEob2JqZWN0LCBcImNvbG9yc1wiKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGxldCBhSW5kZXggPSBvYmplY3QudmVydGljZUluZGljZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGJJbmRleCA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlc1tpICsgMV0sXG4gICAgICAgICAgICAgICAgICAgIGNJbmRleCA9IG9iamVjdC52ZXJ0aWNlSW5kaWNlc1tpICsgMl0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4QXJyID0gW2ksIGkgKyAxLCBpICsgMl0sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VJbmRpY2VBcnIgPSBbYUluZGV4LCBiSW5kZXgsIGNJbmRleF07XG5cbiAgICAgICAgICAgICAgICBmYWNlID0gRmFjZTMuY3JlYXRlKGFJbmRleCwgYkluZGV4LCBjSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShvYmplY3QudXZJbmRpY2VzKSAmJiBHZW9tZXRyeVV0aWxzLmhhc0RhdGEob2JqZWN0VVZzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRVVih1dnMsIG9iamVjdFVWcywgb2JqZWN0LnV2SW5kaWNlcywgaW5kZXhBcnIsIHZlcnRpY2VJbmRpY2VBcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChHZW9tZXRyeVV0aWxzLmhhc0RhdGEob2JqZWN0Tm9ybWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Tm9ybWFsKGZhY2UudmVydGV4Tm9ybWFscywgb2JqZWN0Tm9ybWFscywgb2JqZWN0Lm5vcm1hbEluZGljZXMsIGluZGV4QXJyLCB2ZXJ0aWNlSW5kaWNlQXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmYWNlcy5wdXNoKGZhY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3QudmVydGljZXMgPSBvYmplY3RWZXJ0aWNlcztcblxuICAgICAgICAgICAgaWYgKCFHZW9tZXRyeVV0aWxzLmhhc0RhdGEob2JqZWN0LnV2SW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICBvYmplY3QudXZzID0gb2JqZWN0VVZzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0LnV2cyA9IHV2cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0LmNvbG9ycyA9IG9iamVjdENvbG9ycztcbiAgICAgICAgICAgIG9iamVjdC5mYWNlcyA9IGZhY2VzO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRNb3JwaFRhcmdldHMob2JqZWN0LCBvYmplY3QudmVydGljZUluZGljZXMsIG9iamVjdC5ub3JtYWxJbmRpY2VzKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0QW5pbU5hbWUoZnJhbWVOYW1lOnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgUEFUVEVSTiA9IC8oW2Etel0rKV8/KFxcZCspLyxcbiAgICAgICAgICAgICAgICBERUZBVUxUX0FOSU1fTkFNRSA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gZnJhbWVOYW1lLm1hdGNoKFBBVFRFUk4pO1xuXG4gICAgICAgICAgICByZXR1cm4gcGFydHMgJiYgcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzWzFdIDogREVGQVVMVF9BTklNX05BTUU7XG4gICAgICAgIH1cblxuXG4gICAgICAgIEBlbnN1cmUoZnVuY3Rpb24gKHJldHVyblZhbHVlLCBvYmplY3QpIHtcbiAgICAgICAgICAgIGFzc2VydCghb2JqZWN0LnZlcnRpY2VJbmRpY2VzLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm9iamVjdC52ZXJ0aWNlSW5kaWNlc1wiLCBcImJlIHJlbW92ZWRcIikpO1xuICAgICAgICAgICAgYXNzZXJ0KCFvYmplY3QudXZJbmRpY2VzLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIm9iamVjdC51dkluZGljZXNcIiwgXCJiZSByZW1vdmVkXCIpKTtcbiAgICAgICAgICAgIGFzc2VydCghb2JqZWN0Lm5vcm1hbEluZGljZXMsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwib2JqZWN0Lm5vcm1hbEluZGljZXNcIiwgXCJiZSByZW1vdmVkXCIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJpdmF0ZSBfcmVtb3ZlUmVidW5kYW50SW5kaWNlRGF0YShvYmplY3Q6V0RGaWxlSnNvbk9iamVjdERhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QudmVydGljZUluZGljZXM7XG4gICAgICAgICAgICBkZWxldGUgb2JqZWN0LnV2SW5kaWNlcztcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3Qubm9ybWFsSW5kaWNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3JlbW92ZU9iamVjdENvbnRhaW5lckRhdGEob2JqZWN0OldERmlsZVBhcnNlT2JqZWN0RGF0YSkge1xuICAgICAgICAgICAgdmFyIHJlbW92ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIHJlbW92ZSA9IChvYmplY3Q6V0RGaWxlUGFyc2VPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pc0NvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0LnV2cztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdC5jb2xvcnM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlbW92ZShvYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmluZERhdGEob2JqZWN0OldERmlsZVBhcnNlT2JqZWN0RGF0YSwgZGF0YU5hbWU6c3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gb2JqZWN0W2RhdGFOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghZGF0YSAmJiAob2JqZWN0ID0gb2JqZWN0LnBhcmVudCkgIT09IG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0VVYodGFyZ2V0VVZzOkFycmF5PG51bWJlcj4sIHNvdXJjZVVWczpBcnJheTxudW1iZXI+LCB1dkluZGljZXM6QXJyYXk8bnVtYmVyPiwgaW5kZXhBcnI6QXJyYXk8bnVtYmVyPiwgdmVydGljZUluZGljZUFycjpBcnJheTxudW1iZXI+KSB7XG4gICAgICAgICAgICB2YXIgdXZJbmRpY2UxID0gbnVsbCxcbiAgICAgICAgICAgICAgICB1dkluZGljZTIgPSBudWxsLFxuICAgICAgICAgICAgICAgIHV2SW5kaWNlMyA9IG51bGwsXG4gICAgICAgICAgICAgICAgW2luZGV4MSwgaW5kZXgyLCBpbmRleDNdID0gaW5kZXhBcnIsXG4gICAgICAgICAgICAgICAgW2FJbmRleCwgYkluZGV4LCBjSW5kZXhdID0gdmVydGljZUluZGljZUFycjtcblxuICAgICAgICAgICAgdXZJbmRpY2UxID0gdXZJbmRpY2VzW2luZGV4MV07XG4gICAgICAgICAgICB1dkluZGljZTIgPSB1dkluZGljZXNbaW5kZXgyXTtcbiAgICAgICAgICAgIHV2SW5kaWNlMyA9IHV2SW5kaWNlc1tpbmRleDNdO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRUd29Db21wb25lbnREYXRhKHRhcmdldFVWcywgc291cmNlVVZzLCBhSW5kZXgsIHV2SW5kaWNlMSk7XG4gICAgICAgICAgICB0aGlzLl9zZXRUd29Db21wb25lbnREYXRhKHRhcmdldFVWcywgc291cmNlVVZzLCBiSW5kZXgsIHV2SW5kaWNlMik7XG4gICAgICAgICAgICB0aGlzLl9zZXRUd29Db21wb25lbnREYXRhKHRhcmdldFVWcywgc291cmNlVVZzLCBjSW5kZXgsIHV2SW5kaWNlMyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRUd29Db21wb25lbnREYXRhKHRhcmdldERhdGEsIHNvdXJjZURhdGEsIGluZGV4LCBpbmRpY2UpIHtcbiAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAyXSA9IHNvdXJjZURhdGFbaW5kaWNlICogMl07XG4gICAgICAgICAgICB0YXJnZXREYXRhW2luZGV4ICogMiArIDFdID0gc291cmNlRGF0YVtpbmRpY2UgKiAyICsgMV07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRUaHJlZUNvbXBvbmVudERhdGEodGFyZ2V0RGF0YSwgc291cmNlRGF0YSwgaW5kZXgsIGluZGljZSkge1xuICAgICAgICAgICAgdGFyZ2V0RGF0YVtpbmRleCAqIDNdID0gc291cmNlRGF0YVtpbmRpY2UgKiAzXTtcbiAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAzICsgMV0gPSBzb3VyY2VEYXRhW2luZGljZSAqIDMgKyAxXTtcbiAgICAgICAgICAgIHRhcmdldERhdGFbaW5kZXggKiAzICsgMl0gPSBzb3VyY2VEYXRhW2luZGljZSAqIDMgKyAyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VEYXRhOkFycmF5PG51bWJlcj4sIGluZGV4Om51bWJlcikge1xuICAgICAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSAzICogaW5kZXg7XG5cbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3N0YXJ0SW5kZXhdLFxuICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbc3RhcnRJbmRleCArIDFdLFxuICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbc3RhcnRJbmRleCArIDJdXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0Tm9ybWFsKHRhcmdldE5vcm1hbHM6d2RDYi5Db2xsZWN0aW9uPFZlY3RvcjM+fEFycmF5PG51bWJlcj4sIHNvdXJjZU5vcm1hbHM6QXJyYXk8bnVtYmVyPiwgbm9ybWFsSW5kaWNlczpBcnJheTxudW1iZXI+LCBpbmRleEFycjpBcnJheTxudW1iZXI+LCB2ZXJ0aWNlSW5kaWNlQXJyOkFycmF5PG51bWJlcj4pIHtcbiAgICAgICAgICAgIHZhciBbaW5kZXgxLCBpbmRleDIsIGluZGV4M10gPSBpbmRleEFycjtcblxuICAgICAgICAgICAgaWYgKCFHZW9tZXRyeVV0aWxzLmhhc0RhdGEobm9ybWFsSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGROb3JtYWxEYXRhKHRhcmdldE5vcm1hbHMsIHNvdXJjZU5vcm1hbHMsIHZlcnRpY2VJbmRpY2VBcnIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hZGROb3JtYWxEYXRhKHRhcmdldE5vcm1hbHMsIHNvdXJjZU5vcm1hbHMsIFtub3JtYWxJbmRpY2VzW2luZGV4MV0sIG5vcm1hbEluZGljZXNbaW5kZXgyXSwgbm9ybWFsSW5kaWNlc1tpbmRleDNdXSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByaXZhdGUgX2FkZE5vcm1hbERhdGEodGFyZ2V0Tm9ybWFsczp3ZENiLkNvbGxlY3Rpb248VmVjdG9yMz58QXJyYXk8bnVtYmVyPiwgc291cmNlTm9ybWFsczpBcnJheTxudW1iZXI+LCBub3JtYWxJbmRpY2VBcnI6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgbGV0IFthSW5kZXgsIGJJbmRleCwgY0luZGV4XSA9IG5vcm1hbEluZGljZUFycjtcblxuICAgICAgICAgICAgaWYgKHRhcmdldE5vcm1hbHMgaW5zdGFuY2VvZiB3ZENiLkNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0YXJnZXROb3JtYWxzLmFkZENoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgYUluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBiSW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGNJbmRleClcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9ybWFscyA9IDxBcnJheTxudW1iZXI+PnRhcmdldE5vcm1hbHM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2IG9mIFt0aGlzLl9nZXRUaHJlZUNvbXBvbmVudERhdGEoc291cmNlTm9ybWFscywgYUluZGV4KSwgdGhpcy5fZ2V0VGhyZWVDb21wb25lbnREYXRhKHNvdXJjZU5vcm1hbHMsIGJJbmRleCksIHRoaXMuX2dldFRocmVlQ29tcG9uZW50RGF0YShzb3VyY2VOb3JtYWxzLCBjSW5kZXgpXSkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxzLnB1c2godi54LCB2LnksIHYueik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0TW9ycGhUYXJnZXRzKG9iamVjdDpXREZpbGVQYXJzZU9iamVjdERhdGEsIHZlcnRpY2VJbmRpY2VzOkFycmF5PG51bWJlcj4sIG5vcm1hbEluZGljZXM6QXJyYXk8bnVtYmVyPikge1xuICAgICAgICAgICAgdmFyIG9iamVjdE1vcnBoVGFyZ2V0cyA9IHRoaXMuX2ZpbmREYXRhKG9iamVjdCwgXCJtb3JwaFRhcmdldHNcIiksXG4gICAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBtb3JwaE5vcm1hbHMgPSBudWxsO1xuXG5cbiAgICAgICAgICAgIGlmIChHZW9tZXRyeVV0aWxzLmhhc0RhdGEob2JqZWN0TW9ycGhUYXJnZXRzKSkge1xuICAgICAgICAgICAgICAgIG1vcnBoVGFyZ2V0cyA9IHdkQ2IuSGFzaC5jcmVhdGU8d2RDYi5IYXNoPFdERmlsZVBhcnNlTW9ycGhUYXJnZXRzRGF0YT4+KCk7XG4gICAgICAgICAgICAgICAgbW9ycGhOb3JtYWxzID0gd2RDYi5IYXNoLmNyZWF0ZTx3ZENiLkNvbGxlY3Rpb248QXJyYXk8bnVtYmVyPj4+KCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBmcmFtZURhdGEgb2Ygb2JqZWN0TW9ycGhUYXJnZXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmltTmFtZSA9IHRoaXMuX2dldEFuaW1OYW1lKGZyYW1lRGF0YS5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICBtb3JwaFRhcmdldHMuYXBwZW5kQ2hpbGQoYW5pbU5hbWUsIGZyYW1lRGF0YS52ZXJ0aWNlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEdlb21ldHJ5VXRpbHMuaGFzRGF0YShmcmFtZURhdGEubm9ybWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChHZW9tZXRyeVV0aWxzLmhhc0RhdGEobm9ybWFsSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9ybWFscyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZlcnRpY2VJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFRocmVlQ29tcG9uZW50RGF0YShub3JtYWxzLCBmcmFtZURhdGEubm9ybWFscywgdmVydGljZUluZGljZXNbaV0sIG5vcm1hbEluZGljZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoTm9ybWFscy5hcHBlbmRDaGlsZChhbmltTmFtZSwgbm9ybWFscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaE5vcm1hbHMuYXBwZW5kQ2hpbGQoYW5pbU5hbWUsIGZyYW1lRGF0YS5ub3JtYWxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0Lm1vcnBoVGFyZ2V0cyA9IG1vcnBoVGFyZ2V0cztcbiAgICAgICAgICAgIG9iamVjdC5tb3JwaE5vcm1hbHMgPSBtb3JwaE5vcm1hbHM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFdEQnVpbGRlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3Jlc3VsdDp3ZENiLkhhc2g8V0RGaWxlUmVzdWx0PiA9IHdkQ2IuSGFzaC5jcmVhdGU8V0RGaWxlUmVzdWx0PigpO1xuXG4gICAgICAgIHB1YmxpYyBidWlsZChwYXJzZURhdGE6V0RGaWxlUGFyc2VEYXRhKTp3ZENiLkhhc2g8V0RGaWxlUmVzdWx0PntcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkTWV0YWRhdGEocGFyc2VEYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkU2NlbmUocGFyc2VEYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkTW9kZWxzKHBhcnNlRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHQ7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkTWV0YWRhdGEocGFyc2VEYXRhOldERmlsZVBhcnNlRGF0YSl7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcblxuICAgICAgICAgICAgZm9yKGxldCBpIGluIHBhcnNlRGF0YS5tZXRhZGF0YSl7XG4gICAgICAgICAgICAgICAgaWYocGFyc2VEYXRhLm1ldGFkYXRhLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEuYWRkQ2hpbGQoaSwgcGFyc2VEYXRhLm1ldGFkYXRhW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5hZGRDaGlsZChcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkU2NlbmUocGFyc2VEYXRhOldERmlsZVBhcnNlRGF0YSl7XG4gICAgICAgICAgICB2YXIgc2NlbmUgPSB3ZENiLkhhc2guY3JlYXRlPGFueT4oKTtcblxuICAgICAgICAgICAgaWYocGFyc2VEYXRhLnNjZW5lLmFtYmllbnRDb2xvcil7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkQ2hpbGQoXCJhbWJpZW50Q29sb3JcIiwgcGFyc2VEYXRhLnNjZW5lLmFtYmllbnRDb2xvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5hZGRDaGlsZChcInNjZW5lXCIsIHNjZW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkTW9kZWxzKHBhcnNlRGF0YTpXREZpbGVQYXJzZURhdGEpe1xuICAgICAgICAgICAgdmFyIG1vZGVscyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8R2FtZU9iamVjdD4oKSxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBidWlsZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGJ1aWxkID0gKG9iamVjdHM6d2RDYi5Db2xsZWN0aW9uPFdERmlsZVBhcnNlT2JqZWN0RGF0YT4sIG1vZGVsczp7YWRkQ2hpbGQ6RnVuY3Rpb259KSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChvYmplY3Q6V0RGaWxlUGFyc2VPYmplY3REYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBHYW1lT2JqZWN0LmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHNlbGYuX2lzTW9kZWxDb250YWluZXIob2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RvZG8gcmVmYWN0b3I/XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hZGRUYWcoRVdEVGFnLkNPTlRBSU5FUik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5ID0gTW9kZWxHZW9tZXRyeS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzID0gb2JqZWN0LnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuZmFjZXMgPSBvYmplY3QuZmFjZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS50ZXhDb29yZHMgPSBvYmplY3QudXZzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuY29sb3JzID0gb2JqZWN0LmNvbG9ycztcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvYmplY3QubWF0ZXJpYWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5Lm1hdGVyaWFsID0gc2VsZi5fYnVpbGRNYXRlcmlhbChvYmplY3QubWF0ZXJpYWwsIHBhcnNlRGF0YS5tYXRlcmlhbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5tb3JwaFRhcmdldHMgPSBvYmplY3QubW9ycGhUYXJnZXRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkubW9ycGhGYWNlTm9ybWFscyA9IG9iamVjdC5tb3JwaE5vcm1hbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5tb3JwaFZlcnRleE5vcm1hbHMgPSBvYmplY3QubW9ycGhOb3JtYWxzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihHZW9tZXRyeVV0aWxzLmhhc0RhdGEoZ2VvbWV0cnkubW9ycGhUYXJnZXRzKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYWRkQ29tcG9uZW50KE1vcnBoQW5pbWF0aW9uLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYWRkQ29tcG9uZW50KGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLm5hbWUgPSBvYmplY3QubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuYWRkQ29tcG9uZW50KE1lc2hSZW5kZXJlci5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVscy5hZGRDaGlsZChtb2RlbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYob2JqZWN0LmNoaWxkcmVuKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkKG9iamVjdC5jaGlsZHJlbiwgbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBidWlsZChwYXJzZURhdGEub2JqZWN0cywgbW9kZWxzKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LmFkZENoaWxkKFwibW9kZWxzXCIsIG1vZGVscyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pc01vZGVsQ29udGFpbmVyKG9iamVjdDpXREZpbGVQYXJzZU9iamVjdERhdGEpe1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5pc0NvbnRhaW5lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkTWF0ZXJpYWwobWF0ZXJpYWxOYW1lOnN0cmluZywgbWF0ZXJpYWxzOiB3ZENiLkhhc2g8V0RGaWxlUGFyc2VNYXRlcmlhbERhdGE+KXtcbiAgICAgICAgICAgIGNvbnN0IERFRkFVTFRZUEUgPSBcIkxpZ2h0TWF0ZXJpYWxcIjtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbERhdGEgPSBudWxsLFxuICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgICAgICAgWyxtYXRlcmlhbERhdGFdID0gbWF0ZXJpYWxzLmZpbmRPbmUoKG1hdGVyaWFsOldERmlsZVBhcnNlTWF0ZXJpYWxEYXRhLCBuYW1lOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lID09PSBtYXRlcmlhbE5hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHlwZSA9IG1hdGVyaWFsRGF0YS50eXBlIHx8IERFRkFVTFRZUEU7XG5cbiAgICAgICAgICAgIHdkQ2IuTG9nLmVycm9yKCF3ZFt0eXBlXSwgd2RDYi5Mb2cuaW5mby5GVU5DX05PVF9FWElTVChgbWF0ZXJpYWxDbGFzczoke3R5cGV9YCkpO1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IHdkW3R5cGVdLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5uYW1lID0gbWF0ZXJpYWxOYW1lO1xuXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLmRpZmZ1c2VDb2xvcikge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmNvbG9yID0gbWF0ZXJpYWxEYXRhLmRpZmZ1c2VDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbERhdGEuc3BlY3VsYXJDb2xvcikge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBtYXRlcmlhbERhdGEuc3BlY3VsYXJDb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGF0YS5kaWZmdXNlTWFwKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGlmZnVzZU1hcCA9IG1hdGVyaWFsRGF0YS5kaWZmdXNlTWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGF0YS5zcGVjdWxhck1hcCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyTWFwID0gbWF0ZXJpYWxEYXRhLnNwZWN1bGFyTWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGF0YS5ub3JtYWxNYXApIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXAgPSBtYXRlcmlhbERhdGEubm9ybWFsTWFwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLnNoaW5pbmVzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNoaW5pbmVzcyA9IG1hdGVyaWFsRGF0YS5zaGluaW5lc3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbERhdGEub3BhY2l0eSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLm9wYWNpdHkgPSBtYXRlcmlhbERhdGEub3BhY2l0eTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgY29uc3QgVFlQRSA9IHtcbiAgICAgICAgXCIuZW90XCI6IFwiZW1iZWRkZWQtb3BlbnR5cGVcIixcbiAgICAgICAgXCIudHRmXCI6IFwidHJ1ZXR5cGVcIixcbiAgICAgICAgXCIud29mZlwiOiBcIndvZmZcIixcbiAgICAgICAgXCIuc3ZnXCI6IFwic3ZnXCJcbiAgICB9O1xuXG4gICAgZGVjbGFyZSB2YXIgZG9jdW1lbnQ6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEZvbnRMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZhbWlseU5hbWU6c3RyaW5nID0gbnVsbDtcblxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIHdkQ2IuRG9tUXVlcnkuY3JlYXRlKGAjJHt0aGlzLl9mYW1pbHlOYW1lfWApLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6c3RyaW5nLCBpZDpzdHJpbmcpOndkRnJwLlN0cmVhbTtcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCh1cmw6QXJyYXk8c3RyaW5nPiwgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRBc3NldCguLi5hcmdzKTp3ZEZycC5TdHJlYW0ge1xuICAgICAgICAgICAgdmFyIGZhbWlseU5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9mYW1pbHlOYW1lID0gZmFtaWx5TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHdkRnJwLmZyb21Qcm9taXNlKG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuX2FkZFN0eWxlRWxlbWVudChhcmdzLCBmYW1pbHlOYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmZvbnRzKXtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZChgMWVtICR7ZmFtaWx5TmFtZX1gKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oXCJ5b3VyIGJyb3dzZXIgbm90IHN1cHBvcnQgZG9jdW1lbnQuZm9udHMgYXBpLCBzbyBpdCBjYW4ndCBlbnN1cmUgdGhhdCB0aGUgZm9udCBpcyBsb2FkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZShmdW5jdGlvbih1cmw6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBleHRuYW1lID0gd2RDYi5QYXRoVXRpbHMuZXh0bmFtZSh1cmwpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGFzc2VydCghIVRZUEVbZXh0bmFtZV0sIExvZy5pbmZvLkZVTkNfVU5LTk9XKGB0eXBlOiR7ZXh0bmFtZX1gKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByaXZhdGUgX2dldFR5cGUodXJsOnN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gVFlQRVt3ZENiLlBhdGhVdGlscy5leHRuYW1lKHVybCkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hZGRTdHlsZUVsZW1lbnQoYXJnczphbnksIGZhbWlseU5hbWU6c3RyaW5nKXtcbiAgICAgICAgICAgIGxldCBmb250U3R5bGVFbGU6d2RDYi5Eb21RdWVyeSA9IHdkQ2IuRG9tUXVlcnkuY3JlYXRlKGA8c3R5bGUgaWQ9XCIke2ZhbWlseU5hbWV9XCI+PC9zdHlsZT5gKSxcbiAgICAgICAgICAgICAgICBmb250U3RyID0gbnVsbDtcblxuICAgICAgICAgICAgZm9udFN0eWxlRWxlLnByZXBlbmRUbyhcImJvZHlcIik7XG5cbiAgICAgICAgICAgIGZvbnRTdHIgPSBgQGZvbnQtZmFjZSB7IGZvbnQtZmFtaWx5OiR7ZmFtaWx5TmFtZX07IHNyYzpgO1xuXG4gICAgICAgICAgICAvL3RvZG8gdmVyaWZ5IHdoZXRoZXIgY2FuIHVybCBiZSBhcnJcbiAgICAgICAgICAgIGlmIChKdWRnZVV0aWxzLmlzQXJyYXlFeGFjdGx5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybEFyciA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBmb3IobGV0IHVybCBvZiB1cmxBcnIpe1xuICAgICAgICAgICAgICAgICAgICBmb250U3RyICs9IGB1cmwoJyR7dXJsfScpIGZvcm1hdCgnJHt0aGlzLl9nZXRUeXBlKHVybCl9JyksYDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb250U3RyID0gZm9udFN0ci5yZXBsYWNlKC8sJC8sIFwiO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IGFyZ3NbMF07XG5cbiAgICAgICAgICAgICAgICBmb250U3RyICs9IGB1cmwoJyR7dXJsfScpIGZvcm1hdCgnJHt0aGlzLl9nZXRUeXBlKHVybCl9Jyk7YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9udFN0eWxlRWxlLmdldCgwKS50ZXh0Q29udGVudCArPSBgJHtmb250U3RyfX07YDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICAvL2NvbnN0IElORk9fRVhQID0gL2luZm8gW15cXG5dKihcXG58JCkvZ2ksXG4gICAgY29uc3QgQ09NTU9OX0VYUCA9IC9jb21tb24gW15cXG5dKihcXG58JCkvZ2ksXG4gICAgICAgIFBBR0VfRVhQID0gL3BhZ2UgW15cXG5dKihcXG58JCkvZ2ksXG4gICAgICAgIENIQVJfRVhQID0gL2NoYXIgW15cXG5dKihcXG58JCkvZ2ksXG4gICAgLy9LRVJOSU5HX0VYUCA9IC9rZXJuaW5nIFteXFxuXSooXFxufCQpL2dpLFxuICAgICAgICBJVEVNX0VYUCA9IC9cXHcrPVteIFxcclxcbl0rL2dpLFxuICAgICAgICBJTlRfRVhQID0gL15bXFwtXT9cXGQrJC87ICAgICAgIC8vXCItXCI/XG5cbiAgICBleHBvcnQgY2xhc3MgRm50UGFyc2VyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwYXJzZUZudChmbnRTdHI6c3RyaW5nLCB1cmw6c3RyaW5nKSB7XG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICB4QWR2YW5jZTp0aGUgbnVtYmVyIG9mIHBpeGVscyB0aGUgY3Vyc29yIG1vdmUgZm9yd2FyZCB0byBkcmF3IHRoZSBuZXh0IGNoYXIgYWZ0ZXIgZHJhdyBjdXJyZW50IGNoYXJcbiAgICAgICAgICAgICB4T2Zmc2V0OnBpeGVsIHggb2Zmc2V0IG9mIGN1cnJlbnQgZm9udCB3aGVuIGRyYXdpbmdcbiAgICAgICAgICAgICB5T2Zmc2V0OnBpeGVsIHkgb2Zmc2V0IG9mIGN1cnJlbnQgZm9udCB3aGVuIGRyYXdpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIGZudCA9IDxGbnREYXRhPnt9LFxuICAgICAgICAgICAgICAgIGNvbW1vbk9iaiA9IG51bGwsXG4gICAgICAgICAgICAgICAgcGFnZU9iaiA9IG51bGw7XG5cbiAgICAgICAgICAgIGNvbW1vbk9iaiA9IHRoaXMuX3BhcnNlU3RyVG9PYmooZm50U3RyLm1hdGNoKENPTU1PTl9FWFApWzBdKTtcblxuICAgICAgICAgICAgZm50LmNvbW1vbkhlaWdodCA9IGNvbW1vbk9ialtcImxpbmVIZWlnaHRcIl07XG5cbiAgICAgICAgICAgIC8vdG9kbyBzdXBwb3J0IHBhZ2VzXG4gICAgICAgICAgICBpZiAoY29tbW9uT2JqW1wicGFnZXNcIl0gIT09IDEpIHtcbiAgICAgICAgICAgICAgICBMb2cubG9nKFwib25seSBzdXBwb3J0cyAxIHBhZ2VcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhZ2VPYmogPSB0aGlzLl9wYXJzZVN0clRvT2JqKGZudFN0ci5tYXRjaChQQUdFX0VYUClbMF0pO1xuXG4gICAgICAgICAgICBpZiAocGFnZU9ialtcImlkXCJdICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgTG9nLmxvZyhcImZpbGUgY291bGQgbm90IGJlIGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmbnQuYXRsYXNOYW1lID0gd2RDYi5QYXRoVXRpbHMuY2hhbmdlQmFzZW5hbWUodXJsLCA8c3RyaW5nPnBhZ2VPYmpbXCJmaWxlXCJdKTtcblxuICAgICAgICAgICAgdGhpcy5fcGFyc2VDaGFyKGZudFN0ciwgZm50KTtcblxuICAgICAgICAgICAgLyohXG4gICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQga2VybmluZ1xuICAgICAgICAgICAgIGh0dHA6Ly93d3cuYmx1ZWlkZWEuY29tL2Rlc2lnbi9kb2MvMjAwNy81MTYwLmFzcFxuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgLy90b2RvIHVzZSBwYWRkaW5nP1xuICAgICAgICAgICAgLy9wYWRkaW5nID0gdGhpcy5fcGFyc2VQYWRkaW5nKGZudFN0cilcblxuICAgICAgICAgICAgcmV0dXJuIGZudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX3BhcnNlU3RyVG9PYmooc3RyKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gc3RyLm1hdGNoKElURU1fRVhQKSxcbiAgICAgICAgICAgICAgICBvYmogPSA8YW55Pnt9O1xuXG4gICAgICAgICAgICBpZiAoYXJyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdGVtcFN0ciBvZiBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGVtcFN0ci5pbmRleE9mKFwiPVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHRlbXBTdHIuc3Vic3RyaW5nKDAsIGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOmFueSA9IHRlbXBTdHIuc3Vic3RyaW5nKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5tYXRjaChJTlRfRVhQKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVbMF0gPT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSwgdmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcGFyc2VDaGFyKGZudFN0cjpzdHJpbmcsIGZudDphbnkpIHtcbiAgICAgICAgICAgIHZhciBjaGFyTGluZXMgPSBmbnRTdHIubWF0Y2goQ0hBUl9FWFApLFxuICAgICAgICAgICAgICAgIGZvbnREZWZEaWN0aW9uYXJ5ID0ge307XG5cblxuICAgICAgICAgICAgZm9yIChsZXQgY2hhciBvZiBjaGFyTGluZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hhck9iaiA9IHRoaXMuX3BhcnNlU3RyVG9PYmooY2hhciksXG4gICAgICAgICAgICAgICAgICAgIGNoYXJJZCA9IGNoYXJPYmpbXCJpZFwiXTtcblxuICAgICAgICAgICAgICAgIGZvbnREZWZEaWN0aW9uYXJ5W2NoYXJJZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IHt4OiBjaGFyT2JqW1wieFwiXSwgeTogY2hhck9ialtcInlcIl0sIHdpZHRoOiBjaGFyT2JqW1wid2lkdGhcIl0sIGhlaWdodDogY2hhck9ialtcImhlaWdodFwiXX0sXG4gICAgICAgICAgICAgICAgICAgIHhPZmZzZXQ6IGNoYXJPYmpbXCJ4b2Zmc2V0XCJdLFxuICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0OiBjaGFyT2JqW1wieW9mZnNldFwiXSxcblxuICAgICAgICAgICAgICAgICAgICAvL3hBZHZhbmNlIGVxdWFsIHdpZHRoIG9mIGNoYXIgdGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICB4QWR2YW5jZTogY2hhck9ialtcInhhZHZhbmNlXCJdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm50LmZvbnREZWZEaWN0aW9uYXJ5ID0gZm9udERlZkRpY3Rpb25hcnk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3ByaXZhdGUgX3BhcnNlUGFkZGluZyhmbnRTdHI6c3RyaW5nKXtcbiAgICAgICAgLy8gICAgdmFyIGluZm9PYmogPSB0aGlzLl9wYXJzZVN0clRvT2JqKGZudFN0ci5tYXRjaChJTkZPX0VYUClbMF0pLFxuICAgICAgICAvLyAgICAgICAgcGFkZGluZ0FyciA9IGluZm9PYmpbXCJwYWRkaW5nXCJdLnNwbGl0KCcsJyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIHJldHVybiB7XG4gICAgICAgIC8vICAgICAgICBsZWZ0OiBwYXJzZUludChwYWRkaW5nQXJyWzBdKSxcbiAgICAgICAgLy8gICAgICAgIHRvcDogcGFyc2VJbnQocGFkZGluZ0FyclsxXSksXG4gICAgICAgIC8vICAgICAgICByaWdodDogcGFyc2VJbnQocGFkZGluZ0FyclsyXSksXG4gICAgICAgIC8vICAgICAgICBib3R0b206IHBhcnNlSW50KHBhZGRpbmdBcnJbM10pXG4gICAgICAgIC8vICAgIH1cbiAgICAgICAgLy99XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBGbnRMb2FkZXIgZXh0ZW5kcyBMb2FkZXIge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyB0aGlzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wYXJzZXI6Rm50UGFyc2VyID0gRm50UGFyc2VyLmNyZWF0ZSgpO1xuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOnN0cmluZywgaWQ6c3RyaW5nKTp3ZEZycC5TdHJlYW07XG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQodXJsOkFycmF5PHN0cmluZz4sIGlkOnN0cmluZyk6d2RGcnAuU3RyZWFtO1xuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBhc3NlcnQoIUp1ZGdlVXRpbHMuaXNBcnJheUV4YWN0bHkoYXJnc1swXSksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInVybFwiLCBcInN0cmluZ1wiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQXNzZXQoLi4uYXJncyk6d2RGcnAuU3RyZWFtIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gQWpheExvYWRlci5sb2FkKHVybCwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLm1hcCgoZm50U3RyOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fcGFyc2VyLnBhcnNlRm50KGZudFN0ciwgdXJsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIEZudERhdGEgPSB7XG4gICAgICAgIGNvbW1vbkhlaWdodDpudW1iZXIsXG4gICAgICAgIGF0bGFzTmFtZTpzdHJpbmcsXG4gICAgICAgIGZvbnREZWZEaWN0aW9uYXJ5OiB7XG4gICAgICAgICAgICBbY2hhcklkOnN0cmluZ106e1xuICAgICAgICAgICAgICAgIHJlY3Q6IHt4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9LFxuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBudW1iZXIsXG5cbiAgICAgICAgICAgICAgICAvL3hhZHZhbmNl562J5LqO5a2X56ym57q555CG5a695bqmXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IG51bWJlclxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8qIVxuRGV2aWNlTWFuYWdlciBpcyByZXNwb25zaWJsZSBmb3IgZ2xvYmFsIHNldHRpbmcgb2YgZ2xcbiAqL1xubW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRGV2aWNlTWFuYWdlciB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB2aWV3OklWaWV3ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGdsOldlYkdMUmVuZGVyaW5nQ29udGV4dCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB2aWV3cG9ydDpSZWN0UmVnaW9uID0gUmVjdFJlZ2lvbi5jcmVhdGUoKTtcblxuICAgICAgICAvKiFcbiAgICAgICAgdGVzdCBvcmRlcjpcbiAgICAgICAgc2Npc3NvciB0ZXN0IC0+IGRlcHRoIHRlc3QgLT4gc3RlbmNpbCB0ZXN0IC0+IHNwZWN1bGFyIGFkZCAtPiBmb2cgLT4gYWxwaGEgYmxlbmQgLT4gd3JpdGUgbWFza1xuICAgICAgICAgKi9cblxuICAgICAgICAvKiFcbiAgICAgICAgIFRoZSBzY2lzc29yIHRlc3QgY3VsbHMgcGl4ZWxzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIHNjaXNzb3IgcmVjdGFuZ2xlLCBhIHVzZXItZGVmaW5lZCByZWN0YW5ndWxhciBzdWItc2VjdGlvbiBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgICAgIFRoZSBzY2lzc29yIHJlY3RhbmdsZSBjb3VsZCBiZSB1c2VkIHRvIGluZGljYXRlIHRoZSBhcmVhIG9mIHRoZSByZW5kZXIgdGFyZ2V0IHdoZXJlIHRoZSBnYW1lIHdvcmxkIGlzIGRyYXduLiBUaGUgYXJlYSBvdXRzaWRlIHRoZSByZWN0YW5nbGUgaXMgY3VsbGVkIGFuZCBjb3VsZCBiZSBkZXZvdGVkIHRvIGEgZ2FtZSdzIEdVSS4gVGhlIHNjaXNzb3IgdGVzdCBjYW5ub3QgY3VsbCBub24tcmVjdGFuZ3VsYXIgYXJlYXMuXG4gICAgICAgICBTY2lzc29yIHJlY3RhbmdsZXMgY2Fubm90IGJlIHNldCBsYXJnZXIgdGhhbiB0aGUgcmVuZGVyIHRhcmdldCwgYnV0IHRoZXkgY2FuIGJlIHNldCBsYXJnZXIgdGhhbiB0aGUgdmlld3BvcnQuXG4gICAgICAgICBUaGUgc2Npc3NvciByZWN0YW5nbGUgaXMgbWFuYWdlZCBieSBhIGRldmljZSByZW5kZXIgc3RhdGUuIEEgc2Npc3NvciB0ZXN0IGlzIGVuYWJsZWQgb3IgZGlzYWJsZWQgYnkgc2V0dGluZyB0aGUgcmVuZGVyc3RhdGUgdG8gVFJVRSBvciBGQUxTRS4gVGhpcyB0ZXN0IGlzIHBlcmZvcm1lZCBhZnRlciB0aGUgZnJhZ21lbnQgY29sb3IgaXMgY29tcHV0ZWQgYnV0IGJlZm9yZSBhbHBoYSB0ZXN0aW5nLiBJRGlyZWN0M0REZXZpY2U5XG4gICAgICAgICAqL1xuICAgICAgICBwcml2YXRlIF9zY2lzc29yVGVzdDpib29sZWFuID0gbnVsbDtcbiAgICAgICAgZ2V0IHNjaXNzb3JUZXN0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Npc3NvclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNjaXNzb3JUZXN0KHNjaXNzb3JUZXN0OmJvb2xlYW4pe1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgaWYgKHNjaXNzb3JUZXN0KSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JUZXN0ID0gc2Npc3NvclRlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldFNjaXNzb3JcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldCB0aGUgYWN0aXZlIHNjaXNzb3IgcmVjdGFuZ2xlIG9uIHRoZSBzcGVjaWZpZWQgZGV2aWNlLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgcGl4ZWwgc3BhY2UgeC1jb29yZGluYXRlIG9mIHRoZSBib3R0b20gbGVmdCBjb3JuZXIgb2YgdGhlIHNjaXNzb3IgcmVjdGFuZ2xlLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgcGl4ZWwgc3BhY2UgeS1jb29yZGluYXRlIG9mIHRoZSBib3R0b20gbGVmdCBjb3JuZXIgb2YgdGhlIHNjaXNzb3IgcmVjdGFuZ2xlLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gdyBUaGUgd2lkdGggb2YgdGhlIHNjaXNzb3IgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGggVGhlIGhlaWdodCBvZiB0aGUgc2Npc3NvciByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldFNjaXNzb3IoeDpudW1iZXIsIHk6bnVtYmVyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNjaXNzb3JUZXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2lzc29yVGVzdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiEgRGlmZmVyZW5jZSBiZXR3ZWVuIHZpZXdwb3J0cyBhbmQgc2Npc3NvciByZWN0YW5nbGVzXG5cbiAgICAgICAgIFZpZXdwb3J0cyBhcmUgYmFzaWNhbGx5IHNjYWxlZCB2aWV3cywgdGhlIGxlZnQgc2lkZSBpcyAwIGFuZCB0aGUgcmlnaHQgc2lkZSBpcyAxLiBUaGUgZW50aXJlIHZpZXcgd2lsbCBiZSBzY2FsZWQgZG93biBpbnRvIHRoYXQgdmlld3BvcnQgYWZ0ZXIgZXZlcnl0aGluZyBpcyBwcm9qZWN0ZWQuXG5cbiAgICAgICAgIFNjaXNzb3IgdGVzdHMgY2xpcCB0byBhIHJlY3RhbmdsZSBpbnNpZGUgdGhhdCB2aWV3cG9ydC4gSW5zdGVhZCBvZiByZW5kZXJpbmcgZnJvbSAwIHRvIDEsIHlvdSByZW5kZXIgZnJvbSAuMiB0byAuOCwgd2l0aCBibGFjayBiYXJzIG9uIHRoZSBvdXRzaWRlLiBUaGlzIGFjdHVhbGx5IGN1dHMgb2ZmIGEgcG9ydGlvbiBvZiB3aGF0IHdvdWxkIG5vcm1hbGx5IGJlIHZpc2libGUgKGlmIHlvdSB1c2VkIGEgdmlld3BvcnQgb2YgdGhlIHNhbWUgc2l6ZSwgeW91J2Qgc2VlIHRoZSBzYW1lIGFtb3VudCBidXQgc2hydW5rIHNsaWdodGx5KS5cblxuICAgICAgICAgVmlld3BvcnRzIGFyZSB1c2VkIGZvciBmdWxsIHZpZXdzIChjb25zaWRlciAzRCBTdHVkaW8gTWF4LCBlYWNoIHZpZXdwb3J0IGlzIHRoZSBmdWxsIHZpZXcgZnJvbSB0aGF0IGFuZ2xlLCBidXQgZml0IGludG8gYSBzaW5nbGUgc3F1YXJlKS4gU2Npc3NvciB0ZXN0cyBhcmUgdXNlZCB0byBjdXQgb3V0IGV4dHJhIHBpeGVscyB0aGF0IHlvdSBkb24ndCB3YW50L25lZWQgdG8gYmUgYWZmZWN0ZWQgKGxpZ2h0cyBpbiBkZWZlcnJlZCByZW5kZXJpbmcsIGZvciBpbnN0YW5jZSwgZXZlcnl0aGluZyBvdXRzaWRlIHRoZSByYW5nZSBpcyBub3QgYWZmZWN0ZWQsIHNvIHdoeSBib3RoZXIgY2FsY3VsYXRpbmcgdGhhdCBpZiB5b3UgYWxyZWFkeSBrbm93IGl0J3Mgbm90IGxpdCwganVzdCBzY2lzc29yIGFyb3VuZCB0aGUgcHJvamVjdGVkIHNwaGVyZSBhbmQgZm9yZ2V0IGFib3V0IGV2ZXJ5dGhpbmcgYmV5b25kIHRoYXQpLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldFZpZXdwb3J0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXQgdGhlIGFjdGl2ZSByZWN0YW5nbGUgZm9yIHJlbmRlcmluZyBvbiB0aGUgc3BlY2lmaWVkIGRldmljZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHBpeGVsIHNwYWNlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIGxlZnQgY29ybmVyIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHBpeGVsIHNwYWNlIHktY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIGxlZnQgY29ybmVyIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHcgVGhlIHdpZHRoIG9mIHRoZSB2aWV3cG9ydCBpbiBwaXhlbHMuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoIFRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0IGluIHBpeGVscy5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRWaWV3cG9ydCh4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5zZXQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvL3RvZG8gc2V0IGRlcHRoIGZ1bmM/XG4gICAgICAgIC8qISDpu5jorqTmg4XlhrXmmK/lsIbpnIDopoHnu5jliLbnmoTmlrDlg4/ntKDnmoR65YC85LiO5rex5bqm57yT5Yay5Yy65Lit5a+55bqU5L2N572u55qEeuWAvOi/m+ihjOavlOi+g++8jOWmguaenOavlOa3seW6pue8k+WtmOS4reeahOWAvOWwj++8jOmCo+S5iOeUqOaWsOWDj+e0oOeahOminOiJsuWAvOabtOaWsOW4p+e8k+WtmOS4reWvueW6lOWDj+e0oOeahOminOiJsuWAvOOAglxuICAgICAgICAg5L2G5piv5Y+v5Lul5L2/55SoZ2xEZXB0aEZ1bmMoZnVuYynmnaXlr7nov5nnp43pu5jorqTmtYvor5XmlrnlvI/ov5vooYzkv67mlLnjgIJcbiAgICAgICAgIOWFtuS4reWPguaVsGZ1bmPnmoTlgLzlj6/ku6XkuLpHTF9ORVZFUu+8iOayoeacieWkhOeQhu+8ieOAgUdMX0FMV0FZU++8iOWkhOeQhuaJgOacie+8ieOAgUdMX0xFU1PvvIjlsI/kuo7vvInjgIFHTF9MRVFVQUzvvIjlsI/kuo7nrYnkuo7vvInjgIFHTF9FUVVBTO+8iOetieS6ju+8ieOAgUdMX0dFUVVBTO+8iOWkp+S6juetieS6ju+8ieOAgUdMX0dSRUFURVLvvIjlpKfkuo7vvInmiJZHTF9OT1RFUVVBTO+8iOS4jeetieS6ju+8ie+8jOWFtuS4rem7mOiupOWAvOaYr0dMX0xFU1PjgIJcblxuICAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XG4gICAgICAgICAqL1xuXG4gICAgICAgIHByaXZhdGUgX2RlcHRoVGVzdDpib29sZWFuID0gbnVsbDtcbiAgICAgICAgZ2V0IGRlcHRoVGVzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXB0aFRlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgZGVwdGhUZXN0KGRlcHRoVGVzdDpib29sZWFuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVwdGhUZXN0ICE9PSBkZXB0aFRlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVwdGhUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVwdGhUZXN0ID0gZGVwdGhUZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZGVwdGhGdW5jOkVEZXB0aEZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgZ2V0IGRlcHRoRnVuYygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlcHRoRnVuYztcbiAgICAgICAgfVxuICAgICAgICBzZXQgZGVwdGhGdW5jKGRlcHRoRnVuYzpFRGVwdGhGdW5jdGlvbil7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVwdGhGdW5jICE9PSBkZXB0aEZ1bmMpIHtcbiAgICAgICAgICAgICAgICBnbC5kZXB0aEZ1bmMoZ2xbZGVwdGhGdW5jXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aEZ1bmMgPSBkZXB0aEZ1bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHByaXZhdGUgX3NpZGU6RVNpZGUgPSBudWxsO1xuICAgICAgICBnZXQgc2lkZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHNpZGUoc2lkZTpFU2lkZSkge1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NpZGUgIT09IHNpZGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFU2lkZS5OT05FOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5jdWxsRmFjZShnbC5GUk9OVF9BTkRfQkFDSyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFU2lkZS5CT1RIOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVNpZGUuRlJPTlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmN1bGxGYWNlKGdsLkJBQ0spO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVNpZGUuQkFDSzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuY3VsbEZhY2UoZ2wuRlJPTlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoXCJzaWRlXCIsIHNpZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3NpZGUgPSBzaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyohXG4gICAgICAgICDlgY/np7vlgLzmmK/lnKh65YC86K6h566X5ZCO44CB5rex5bqm5qOA5rWL5LmL5YmN5Yqg5LiK55qE77yM5q2k5pe25Z2Q5qCH5bey57uP6KKr5pig5bCE5YiwTm9ybWFsaXplZCBEZXZpY2UgQ29vcmRpbmF0ZXPkuK3kuobvvIxcbiAgICAgICAgIOiAjOatpOaXtueahHrovbTmmK/lkJHlhoXnmoTvvIhvcGVuZ2znmoR66L205piv5ZCR5aSW55qE77yJ77yM5Zug5q2k5aSa6L655b2i5YGP56e76YeP5Li65q2j5YC855qE6K+d77yM5oSP5ZGz552A5b6A6L+c5aSE56e75Yqo77yM5ZCm5YiZ5b6A6L+R5aSE56e75Yqo44CCXG4gICAgICAgICDlj6/lj4LogIPkuIvpnaLnmoTor7TmmI7vvJpcbiAgICAgICAgIFRoZSByZXN1bHRzIGFyZSBzdW1tZWQgdG8gcHJvZHVjZSB0aGUgZGVwdGggb2Zmc2V0LiBUaGlzIG9mZnNldCBpcyBhcHBsaWVkIGluIHNjcmVlbiBzcGFjZSwgdHlwaWNhbGx5IHdpdGggcG9zaXRpdmUgWiBwb2ludGluZyBpbnRvIHRoZSBzY3JlZW4uXG4gICAgICAgICB0aGUgb2Zmc2V0IGlzIGNhbGN1bGF0ZWQgYWZ0ZXIgdGhlIG5vcm1hbCBaIGNhbGN1bGF0aW9ucywgYnV0IGFwcGxpZWQgYmVmb3JlIHRoZSBkZXB0aCB0ZXN0IGFuZCBiZWZvcmUgYmVpbmcgd3JpdHRlbiB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHBvbHlnb25PZmZzZXQ6VmVjdG9yMiA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfcG9seWdvbk9mZnNldE1vZGU6RVBvbHlnb25PZmZzZXRNb2RlID0gbnVsbDtcbiAgICAgICAgZ2V0IHBvbHlnb25PZmZzZXRNb2RlKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldE1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHBvbHlnb25PZmZzZXRNb2RlKHBvbHlnb25PZmZzZXRNb2RlOkVQb2x5Z29uT2Zmc2V0TW9kZSl7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9seWdvbk9mZnNldE1vZGUgIT09IHBvbHlnb25PZmZzZXRNb2RlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwb2x5Z29uT2Zmc2V0TW9kZSl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVBvbHlnb25PZmZzZXRNb2RlLk5PTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5wb2x5Z29uT2Zmc2V0KDAuMCwgMC4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFUG9seWdvbk9mZnNldE1vZGUuSU46XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5wb2x5Z29uT2Zmc2V0KDEuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEVQb2x5Z29uT2Zmc2V0TW9kZS5PVVQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5wb2x5Z29uT2Zmc2V0KC0xLjAsIC0xLjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRVBvbHlnb25PZmZzZXRNb2RlLkNVU1RPTTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcighdGhpcy5wb2x5Z29uT2Zmc2V0LCBMb2cuaW5mby5GVU5DX01VU1RfREVGSU5FKFwicG9seWdvbk9mZnNldFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5wb2x5Z29uT2Zmc2V0KHRoaXMucG9seWdvbk9mZnNldC54LCB0aGlzLnBvbHlnb25PZmZzZXQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXRNb2RlID0gcG9seWdvbk9mZnNldE1vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXB0aFdyaXRlOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBnZXQgZGVwdGhXcml0ZSgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlcHRoV3JpdGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGRlcHRoV3JpdGUoZGVwdGhXcml0ZTpib29sZWFuKXtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXB0aFdyaXRlICE9PSBkZXB0aFdyaXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nbC5kZXB0aE1hc2soZGVwdGhXcml0ZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFdyaXRlID0gZGVwdGhXcml0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qISBibGVuZCByZWNvcmRcbiAgICAgICAg5omA6LCT5rqQ6aKc6Imy5ZKM55uu5qCH6aKc6Imy77yM5piv6Lef57uY5Yi255qE6aG65bqP5pyJ5YWz55qE44CC5YGH5aaC5YWI57uY5Yi25LqG5LiA5Liq57qi6Imy55qE54mp5L2T77yM5YaN5Zyo5YW25LiK57uY5Yi257u/6Imy55qE54mp5L2T44CC5YiZ57u/6Imy5piv5rqQ6aKc6Imy77yM57qi6Imy5piv55uu5qCH6aKc6Imy44CC5aaC5p6c6aG65bqP5Y+N6L+H5p2l77yM5YiZIOe6ouiJsuWwseaYr+a6kOminOiJsu+8jOe7v+iJsuaJjeaYr+ebruagh+minOiJsuOAguWcqOe7mOWItuaXtu+8jOW6lOivpeazqOaEj+mhuuW6j++8jOS9v+W+l+e7mOWItueahOa6kOminOiJsuS4juiuvue9rueahOa6kOWboOWtkOWvueW6lO+8jOebruagh+minOiJsuS4juiuvue9rueahOebruagh+WboOWtkOWvueW6lOOAguS4jeimgeiiq+a3t+S5seeahOmhuuW6j+aQnuaZlSDkuobjgIJcblxuXG4gICAgICAgICDkuZ/orrjkvaDov6vkuI3lj4rlvoXnmoTmg7PopoHnu5jliLbkuIDkuKrkuInnu7TnmoTluKbmnInljYrpgI/mmI7niankvZPnmoTlnLrmma/kuobjgILkvYbmmK/njrDlnKjmgZDmgJXov5jkuI3ooYzvvIzov5jmnInkuIDngrnmmK/lnKjov5vooYzkuInnu7TlnLrmma/nmoTmt7flkIjml7blv4Xpobvms6jmhI/nmoTvvIzpgqPlsLHmmK/mt7HluqbnvJPlhrLjgIJcbiAgICAgICAgIOaAu+e7k+i1t+adpe+8jOe7mOWItumhuuW6j+WwseaYr++8mummluWFiOe7mOWItuaJgOacieS4jemAj+aYjueahOeJqeS9k+OAguWmguaenOS4pOS4queJqeS9k+mDveaYr+S4jemAj+aYjueahO+8jOWImeiwgeWFiOiwgeWQjiDpg73msqHmnInlhbPns7vjgILnhLblkI7vvIzlsIbmt7HluqbnvJPlhrLljLrorr7nva7kuLrlj6ror7vjgILmjqXkuIvmnaXvvIznu5jliLbmiYDmnInljYrpgI/mmI7nmoTniankvZPjgILlpoLmnpzkuKTkuKrniankvZPpg73mmK/ljYrpgI/mmI7nmoTvvIzliJnosIHlhYjosIHlkI7lj6rpnIDopoHmoLnmja7oh6rlt7HnmoTmhI/mhL/vvIjms6jmhI/kuobvvIzlhYjnu5jliLYg55qE5bCG5oiQ5Li64oCc55uu5qCH6aKc6Imy4oCd77yM5ZCO57uY5Yi255qE5bCG5oiQ5Li64oCc5rqQ6aKc6Imy4oCd77yM5omA5Lul57uY5Yi255qE6aG65bqP5bCG5Lya5a+557uT5p6c6YCg5oiQ5LiA5Lqb5b2x5ZON77yJ44CC5pyA5ZCO77yM5bCG5rex5bqm57yT5Yay5Yy66K6+572u5Li65Y+v6K+75Y+v5YaZ5b2i5byP44CCXG5cbiAgICAgICAgIOWcqOi/m+ihjOa3t+WQiOaXtu+8jOe7mOWItueahOmhuuW6j+WNgeWIhumHjeimgeOAguWboOS4uuWcqOe7mOWItuaXtu+8jOato+imgee7mOWItuS4iuWOu+eahOaYr+a6kOminOiJsu+8jOWOn+adpeWtmOWcqOeahOaYr+ebruagh+minOiJsu+8jOWboOatpOWFiOe7mOWItueahOeJqeS9k+WwseaIkOS4uuebruagh+minOiJsu+8jOWQjuadpee7mOWItueahOWImeaIkOS4uua6kOminOiJsuOAgue7mOWItueahOmhuuW6j+imgeiAg+iZkea4healmu+8jOWwhuebruagh+minOiJsuWSjOiuvue9rueahOebruagh+WboOWtkOebuOWvueW6lO+8jOa6kOminOiJsuWSjOiuvue9rueahOa6kOWboOWtkOebuOWvueW6lOOAglxuICAgICAgICAg5Zyo6L+b6KGM5LiJ57u05re35ZCI5pe277yM5LiN5LuF6KaB6ICD6JmR5rqQ5Zug5a2Q5ZKM55uu5qCH5Zug5a2Q77yM6L+Y5bqU6K+l6ICD6JmR5rex5bqm57yT5Yay5Yy644CC5b+F6aG75YWI57uY5Yi25omA5pyJ5LiN6YCP5piO55qE54mp5L2T77yM5YaN57uY5Yi25Y2K6YCP5piO55qE54mp5L2T44CC5Zyo57uY5Yi25Y2K6YCP5piO54mp5L2T5pe25YmN77yM6L+Y6ZyA6KaB5bCG5rex5bqm57yT5Yay5Yy66K6+572u5Li65Y+q6K+75b2i5byP77yM5ZCm5YiZ5Y+v6IO95Ye6546w55S76Z2i6ZSZ6K+v44CCXG4gICAgICAgICovXG5cbiAgICAgICAgcHJpdmF0ZSBfYmxlbmQ6Ym9vbGVhbiA9IG51bGw7XG4gICAgICAgIGdldCBibGVuZCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kO1xuICAgICAgICB9XG4gICAgICAgIHNldCBibGVuZChibGVuZDpib29sZWFuKXtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9ibGVuZCAhPT0gYmxlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kID0gYmxlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0QmxlbmRGdW5jdGlvblxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29uZmlndXJlcyBibGVuZGluZyBvcGVyYXRpb25zLlxuICAgICAgICAgKiBAcGFyYW0ge3BjLkJMRU5ETU9ERX0gYmxlbmRTcmMgVGhlIHNvdXJjZSBibGVuZCBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtwYy5CTEVORE1PREV9IGJsZW5kRHN0IFRoZSBkZXN0aW5hdGlvbiBibGVuZCBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRCbGVuZEZ1bmMoYmxlbmRTcmM6RUJsZW5kRnVuYywgYmxlbmREc3Q6RUJsZW5kRnVuYykge1xuICAgICAgICAgICAgaWYgKCh0aGlzLl9ibGVuZFNyYyAhPT0gYmxlbmRTcmMpIHx8ICh0aGlzLl9ibGVuZERzdCAhPT0gYmxlbmREc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmQgJiYgdGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbFtibGVuZFNyY10sIHRoaXMuZ2xbYmxlbmREc3RdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZFNyYyA9IGJsZW5kU3JjO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kRHN0ID0gYmxlbmREc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyohXG4gICAgICAgICBPcGVuR0wgZ2l2ZXMgdXMgZXZlbiBtb3JlIGZsZXhpYmlsaXR5IGJ5IGFsbG93aW5nIHVzIHRvIGNoYW5nZSB0aGUgb3BlcmF0b3IgYmV0d2VlbiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBwYXJ0IG9mIHRoZSBlcXVhdGlvbi4gUmlnaHQgbm93LCB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBjb21wb25lbnRzIGFyZSBhZGRlZCB0b2dldGhlciwgYnV0IHdlIGNvdWxkIGFsc28gc3VidHJhY3QgdGhlbSBpZiB3ZSB3YW50LiBnbEJsZW5kRXF1YXRpb24oR0xlbnVtIG1vZGUpIGFsbG93cyB1cyB0byBzZXQgdGhpcyBvcGVyYXRpb24gYW5kIGhhcyAzIHBvc3NpYmxlIG9wdGlvbnM6XG5cbiAgICAgICAgIEdMX0ZVTkNfQUREOiB0aGUgZGVmYXVsdCwgYWRkcyBib3RoIGNvbXBvbmVudHMgdG8gZWFjaCBvdGhlcjogQ8KvcmVzdWx0PVNyYytEc3QuXG4gICAgICAgICBHTF9GVU5DX1NVQlRSQUNUOiBzdWJ0cmFjdHMgYm90aCBjb21wb25lbnRzIGZyb20gZWFjaCBvdGhlcjogQ8KvcmVzdWx0PVNyY+KIkkRzdC5cbiAgICAgICAgIEdMX0ZVTkNfUkVWRVJTRV9TVUJUUkFUaGUgZGVmYXVsdCBibGVuZCBlcXVhdGlvbiBpc1xuXG4gICAgICAgICBkZWZhdWx0IGlzIEZVTkNfQUREXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgc2V0QmxlbmRFcXVhdGlvblxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29uZmlndXJlcyB0aGUgYmxlbmRpbmcgZXF1YXRpb24uIC5cbiAgICAgICAgICogQHBhcmFtIGJsZW5kRXF1YXRpb24gVGhlIGJsZW5kIGVxdWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldEJsZW5kRXF1YXRpb24oYmxlbmRFcXVhdGlvbjpFQmxlbmRFcXVhdGlvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JsZW5kRXF1YXRpb24gIT09IGJsZW5kRXF1YXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZCAmJiB0aGlzLmdsLmJsZW5kRXF1YXRpb24odGhpcy5nbFtibGVuZEVxdWF0aW9uXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRFcXVhdGlvbiA9IGJsZW5kRXF1YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0QmxlbmRGdW5jU2VwYXJhdGUoYmxlbmRGdW5jU2VwYXJhdGU6QXJyYXk8RUJsZW5kRnVuYz4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGUgfHwgdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGVbMF0gIT09IGJsZW5kRnVuY1NlcGFyYXRlWzBdIHx8IHRoaXMuX2JsZW5kRnVuY1NlcGFyYXRlWzFdICE9PSBibGVuZEZ1bmNTZXBhcmF0ZVsxXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kICYmIGdsLmJsZW5kRnVuY1NlcGFyYXRlKGdsW2JsZW5kRnVuY1NlcGFyYXRlWzBdXSwgZ2xbYmxlbmRGdW5jU2VwYXJhdGVbMV1dLCBnbFtibGVuZEZ1bmNTZXBhcmF0ZVsyXV0sIGdsW2JsZW5kRnVuY1NlcGFyYXRlWzNdXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRGdW5jU2VwYXJhdGUgPSBibGVuZEZ1bmNTZXBhcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRCbGVuZEVxdWF0aW9uU2VwYXJhdGUoYmxlbmRFcXVhdGlvblNlcGFyYXRlOkFycmF5PEVCbGVuZEVxdWF0aW9uPikge1xuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9ibGVuZEVxdWF0aW9uU2VwYXJhdGUgfHwgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlWzBdICE9PSBibGVuZEVxdWF0aW9uU2VwYXJhdGVbMF0gfHwgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlWzFdICE9PSBibGVuZEVxdWF0aW9uU2VwYXJhdGVbMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZCAmJiBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2xbYmxlbmRFcXVhdGlvblNlcGFyYXRlWzBdXSwgZ2xbYmxlbmRFcXVhdGlvblNlcGFyYXRlWzFdXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRFcXVhdGlvblNlcGFyYXRlID0gYmxlbmRFcXVhdGlvblNlcGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIHNldENvbG9yV3JpdGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGVzIHRvIHRoZSBjb2xvciBidWZmZXIuIE9uY2UgdGhpcyBzdGF0ZVxuICAgICAgICAgKiBpcyBzZXQsIGl0IHBlcnNpc3RzIHVudGlsIGl0IGlzIGNoYW5nZWQuIEJ5IGRlZmF1bHQsIGNvbG9yIHdyaXRlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgKiBmb3IgYWxsIGNvbG9yIGNoYW5uZWxzLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlUmVkIHRydWUgdG8gZW5hYmxlIHdyaXRpbmcgIG9mIHRoZSByZWQgY2hhbm5lbCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlR3JlZW4gdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGdyZWVuIGNoYW5uZWwgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSB3cml0ZUJsdWUgdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGJsdWUgY2hhbm5lbCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdyaXRlQWxwaGEgdHJ1ZSB0byBlbmFibGUgd3JpdGluZyAgb2YgdGhlIGFscGhhIGNoYW5uZWwgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gSnVzdCB3cml0ZSBhbHBoYSBpbnRvIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgICAgICogZGV2aWNlLnNldENvbG9yV3JpdGUoZmFsc2UsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sb3JXcml0ZSh3cml0ZVJlZCwgd3JpdGVHcmVlbiwgd3JpdGVCbHVlLCB3cml0ZUFscGhhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd3JpdGVSZWQgIT09IHdyaXRlUmVkXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fd3JpdGVHcmVlbiAhPT0gd3JpdGVHcmVlblxuICAgICAgICAgICAgICAgIHx8IHRoaXMuX3dyaXRlQmx1ZSAhPT0gd3JpdGVCbHVlXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fd3JpdGVBbHBoYSAhPT0gd3JpdGVBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2wuY29sb3JNYXNrKHdyaXRlUmVkLCB3cml0ZUdyZWVuLCB3cml0ZUJsdWUsIHdyaXRlQWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVSZWQgPSB3cml0ZVJlZDtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUdyZWVuID0gd3JpdGVHcmVlbjtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUJsdWUgPSB3cml0ZUJsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVBbHBoYSA9IHdyaXRlQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF93cml0ZVJlZDpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfd3JpdGVHcmVlbjpib29sZWFuID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfd3JpdGVCbHVlOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF93cml0ZUFscGhhOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9ibGVuZFNyYzpFQmxlbmRGdW5jID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmREc3Q6RUJsZW5kRnVuYyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2JsZW5kRXF1YXRpb246IEVCbGVuZEVxdWF0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRGdW5jU2VwYXJhdGU6QXJyYXk8RUJsZW5kRnVuYz4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9ibGVuZEVxdWF0aW9uU2VwYXJhdGU6QXJyYXk8RUJsZW5kRXF1YXRpb24+ID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgY2xlYXIob3B0aW9uczphbnkpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2wsXG4gICAgICAgICAgICAgICAgY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuXG4gICAgICAgICAgICBnbC5jbGVhckNvbG9yKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIGNvbG9yLmEpO1xuXG4gICAgICAgICAgICB0aGlzLnNldENvbG9yV3JpdGUodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUIHwgZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVHTChjYW52YXNJZDpzdHJpbmcpe1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKGNhbnZhc0lkKXtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShjYW52YXNJZCkuZ2V0KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB3ZENiLkRvbVF1ZXJ5LmNyZWF0ZShcIjxjYW52YXM+PC9jYW52YXM+XCIpLnByZXBlbmRUbyhcImJvZHlcIikuZ2V0KDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSBWaWV3V2ViR0wuY3JlYXRlKGNhbnZhcyk7XG4gICAgICAgICAgICB0aGlzLmdsID0gdGhpcy52aWV3LmdldENvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhc3NlcnQoTWFpbi5zY3JlZW5TaXplICE9PSBudWxsLCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChcIk1haW4uc2NyZWVuU2l6ZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBzZXRTY3JlZW4oKXtcbiAgICAgICAgICAgIHZhciBzY3JlZW5TaXplID0gTWFpbi5zY3JlZW5TaXplLFxuICAgICAgICAgICAgICAgIHggPSBudWxsLFxuICAgICAgICAgICAgICAgIHkgPSBudWxsLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gbnVsbCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZihzY3JlZW5TaXplID09PSBFU2NyZWVuU2l6ZS5GVUxMKXtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHJvb3QuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSByb290LmlubmVySGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgd2RDYi5Eb21RdWVyeS5jcmVhdGUoXCJib2R5XCIpLmNzcyhcIm1hcmdpblwiLCBcIjBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHggPSBzY3JlZW5TaXplLnggfHwgMDtcbiAgICAgICAgICAgICAgICB5ID0gc2NyZWVuU2l6ZS55IHx8IDA7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBzY3JlZW5TaXplLndpZHRoIHx8IHJvb3QuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBzY3JlZW5TaXplLmhlaWdodCB8fCByb290LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXcueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnZpZXcueSA9IHk7XG4gICAgICAgICAgICB0aGlzLnZpZXcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBFRGVwdGhGdW5jdGlvbntcbiAgICAgICAgTkVWRVIgPSA8YW55PlwiTkVWRVJcIixcbiAgICAgICAgQUxXQVlTID0gPGFueT5cIkFMV0FZU1wiLFxuICAgICAgICBMRVNTID0gPGFueT5cIkxFU1NcIixcbiAgICAgICAgTEVRVUFMID0gPGFueT5cIkxFUVVBTFwiLFxuICAgICAgICBFUVVBTCA9IDxhbnk+XCJFUVVBTFwiLFxuICAgICAgICBHRVFVQUwgPSA8YW55PlwiR0VRVUFMXCIsXG4gICAgICAgIEdSRUFURVIgPSA8YW55PlwiR1JFQVRFUlwiLFxuICAgICAgICBOT1RFUVVBTCA9IDxhbnk+XCJOT1RFUVVBTFwiXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRVNpZGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIEJPVEgsXG4gICAgICAgIC8vQ0NXXG4gICAgICAgIEJBQ0ssXG4gICAgICAgIC8vQ1dcbiAgICAgICAgRlJPTlRcbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBFUG9seWdvbk9mZnNldE1vZGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIElOLFxuICAgICAgICBPVVQsXG4gICAgICAgIENVU1RPTVxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVCbGVuZEZ1bmN7XG4gICAgICAgIFpFUk8gPSA8YW55PlwiWkVPUlwiLFxuICAgICAgICBPTkUgPSA8YW55PlwiT05FXCIsXG4gICAgICAgIFNSQ19DT0xPUiA9IDxhbnk+XCJTUkNfQ09MT1JcIixcbiAgICAgICAgT05FX01JTlVTX1NSQ19DT0xPUiA9IDxhbnk+XCJPTkVfTUlOVVNfU1JDX0NPTE9SXCIsXG4gICAgICAgIERTVF9DT0xPUiA9IDxhbnk+XCJEU1RfQ09MT1JcIixcbiAgICAgICAgT05FX01JTlVTX0RTVF9DT0xPUiA9IDxhbnk+XCJPTkVfTUlOVVNfRFNUX0NPTE9SXCIsXG4gICAgICAgIFNSQ19BTFBIQSA9IDxhbnk+XCJTUkNfQUxQSEFcIixcbiAgICAgICAgU1JDX0FMUEhBX1NBVFVSQVRFID0gPGFueT5cIlNSQ19BTFBIQV9TQVRVUkFURVwiLFxuICAgICAgICBPTkVfTUlOVVNfU1JDX0FMUEhBID0gPGFueT5cIk9ORV9NSU5VU19TUkNfQUxQSEFcIixcbiAgICAgICAgRFNUX0FMUEhBID0gPGFueT5cIkRTVF9BTFBIQVwiLFxuICAgICAgICBPTkVfTUlOVVNfRFNUX0FMUEggPSA8YW55PlwiT05FX01JTlVTX0RTVF9BTFBIQVwiXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUJsZW5kRXF1YXRpb257XG4gICAgICAgIEFERCA9IDxhbnk+XCJGVU5DX0FERFwiLFxuICAgICAgICBTVUJUUkFDVCA9IDxhbnk+XCJGVU5DX1NVQlRSQUNUXCIsXG4gICAgICAgIFJFVkVSU0VfU1VCVFJBQyA9IDxhbnk+XCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1RcIlxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEVCbGVuZFR5cGV7XG4gICAgICAgIE5PTkUsXG4gICAgICAgIE5PUk1BTCxcbiAgICAgICAgQURESVRJVkUsXG4gICAgICAgIEFERElUSVZFQUxQSEEsXG4gICAgICAgIE1VTFRJUExJQ0FUSVZFLFxuICAgICAgICBQUkVNVUxUSVBMSUVEXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUNhbnZhc1R5cGV7XG4gICAgICAgIFVJID0gPGFueT5cIlVJXCJcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDYW52YXNNYXBEYXRhID0ge1xuICAgICAgICBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICAgIGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gICAgfVxufVxuIiwibW9kdWxlIHdkIHtcbiAgICAvL3RvZG8gY2hlY2sgZXh0ZW5zaW9uL2NhcGFiaWxpdHkgc3VwcG9ydFxuICAgIGV4cG9ydCBjbGFzcyBHUFVEZXRlY3RvciB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBnbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWF4VGV4dHVyZVVuaXQ6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1heFRleHR1cmVTaXplOm51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYXhDdWJlbWFwVGV4dHVyZVNpemU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1heEFuaXNvdHJvcHk6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGV4dGVuc2lvbkNvbXByZXNzZWRUZXh0dXJlUzNUQzphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZXh0ZW5zaW9uVGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOmFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb246bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9pc0RldGVjdGVkOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgZGV0ZWN0KCkge1xuICAgICAgICAgICAgdGhpcy5faXNEZXRlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX2RldGVjdEV4dGVuc2lvbigpO1xuICAgICAgICAgICAgdGhpcy5fZGV0ZWN0Q2FwYWJpbHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXRlY3RFeHRlbnNpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbkNvbXByZXNzZWRUZXh0dXJlUzNUQyA9IHRoaXMuX2dldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpO1xuXG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvblRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyA9IHRoaXMuX2dldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RldGVjdENhcGFiaWx0eSgpIHtcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgICAgIHRoaXMubWF4VGV4dHVyZVVuaXQgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICAgICAgdGhpcy5tYXhUZXh0dXJlU2l6ZSA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9TSVpFKTtcbiAgICAgICAgICAgIHRoaXMubWF4Q3ViZW1hcFRleHR1cmVTaXplID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpO1xuICAgICAgICAgICAgdGhpcy5tYXhBbmlzb3Ryb3B5ID0gdGhpcy5fZ2V0TWF4QW5pc290cm9weSgpO1xuICAgICAgICAgICAgdGhpcy5fZGV0ZWN0UHJlY2lzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRFeHRlbnNpb24obmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb24sXG4gICAgICAgICAgICAgICAgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpIHx8IGdsLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiOlxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJNT1pfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIikgfHwgZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24obmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBleHRlbnNpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRNYXhBbmlzb3Ryb3B5KCkge1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHRoaXMuZXh0ZW5zaW9uVGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLFxuICAgICAgICAgICAgICAgIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiAhPT0gbnVsbCA/IGdsLmdldFBhcmFtZXRlcihleHRlbnNpb24uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZXRlY3RQcmVjaXNpb24oKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIHZlcnRleFNoYWRlclByZWNpc2lvbkhpZ2hwRmxvYXQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuVkVSVEVYX1NIQURFUiwgZ2wuSElHSF9GTE9BVCksXG4gICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLlZFUlRFWF9TSEFERVIsIGdsLk1FRElVTV9GTE9BVCksXG4gICAgICAgICAgICAgICAgLy92ZXJ0ZXhTaGFkZXJQcmVjaXNpb25Mb3dwRmxvYXQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuVkVSVEVYX1NIQURFUiwgZ2wuTE9XX0ZMT0FUKSxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuTUVESVVNX0ZMT0FUKSxcbiAgICAgICAgICAgICAgICAvL2ZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTG93cEZsb2F0ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuTE9XX0ZMT0FUKSxcbiAgICAgICAgICAgIGhpZ2hwQXZhaWxhYmxlID0gdmVydGV4U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdC5wcmVjaXNpb24gPiAwICYmIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uSGlnaHBGbG9hdC5wcmVjaXNpb24gPiAwLFxuICAgICAgICAgICAgbWVkaXVtcEF2YWlsYWJsZSA9IHZlcnRleFNoYWRlclByZWNpc2lvbk1lZGl1bXBGbG9hdC5wcmVjaXNpb24gPiAwICYmIGZyYWdtZW50U2hhZGVyUHJlY2lzaW9uTWVkaXVtcEZsb2F0LnByZWNpc2lvbiA+IDA7XG5cbiAgICAgICAgICAgIGlmICghaGlnaHBBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVkaXVtcEF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWNpc2lvbiA9IEVHUFVQcmVjaXNpb24uTUVESVVNUDtcbiAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVChcImdwdVwiLCBcImhpZ2hwLCB1c2luZyBtZWRpdW1wXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlY2lzaW9uID0gRUdQVVByZWNpc2lvbi5MT1dQO1xuICAgICAgICAgICAgICAgICAgICBMb2cud2FybihMb2cuaW5mby5GVU5DX05PVF9TVVBQT1JUKFwiZ3B1XCIsIFwiaGlnaHAgYW5kIG1lZGl1bXAsIHVzaW5nIGxvd3BcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBFR1BVUHJlY2lzaW9uLkhJR0hQO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gRUdQVVByZWNpc2lvbntcbiAgICAgICAgSElHSFAsXG4gICAgICAgIE1FRElVTVAsXG4gICAgICAgIExPV1BcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGVudW0gRVNjcmVlblNpemV7XG4gICAgICAgIEZVTExcbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUG9pbnQge1xuICAgICAgICBwdWJsaWMgeDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgeTpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHg6bnVtYmVyID0gbnVsbCwgeTpudW1iZXIgPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHg6bnVtYmVyID0gbnVsbCwgeTpudW1iZXIgPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoeCwgeSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmFjZTN7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFJbmRleDpudW1iZXIsIGJJbmRleDpudW1iZXIsIGNJbmRleDpudW1iZXIsIGZhY2VOb3JtYWw6VmVjdG9yMyA9IG51bGwsIHZlcnRleE5vcm1hbHM6d2RDYi5Db2xsZWN0aW9uPFZlY3RvcjM+ID0gd2RDYi5Db2xsZWN0aW9uLmNyZWF0ZTxWZWN0b3IzPigpKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKGFJbmRleCwgYkluZGV4LCBjSW5kZXgsIGZhY2VOb3JtYWwsIHZlcnRleE5vcm1hbHMpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGFJbmRleDpudW1iZXIsIGJJbmRleDpudW1iZXIsIGNJbmRleDpudW1iZXIsIGZhY2VOb3JtYWw6VmVjdG9yMywgdmVydGV4Tm9ybWFsczp3ZENiLkNvbGxlY3Rpb248VmVjdG9yMz4pe1xuICAgICAgICAgICAgdGhpcy5hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgICAgICB0aGlzLmJJbmRleCA9IGJJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY0luZGV4ID0gY0luZGV4O1xuICAgICAgICAgICAgdGhpcy5fZmFjZU5vcm1hbCA9IGZhY2VOb3JtYWw7XG4gICAgICAgICAgICB0aGlzLnZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhOb3JtYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZmFjZU5vcm1hbDpWZWN0b3IzID0gbnVsbDtcbiAgICAgICAgZ2V0IGZhY2VOb3JtYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWNlTm9ybWFsICE9PSBudWxsID8gdGhpcy5fZmFjZU5vcm1hbCA6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHNldCBmYWNlTm9ybWFsKGZhY2VOb3JtYWw6VmVjdG9yMyl7XG4gICAgICAgICAgICB0aGlzLl9mYWNlTm9ybWFsID0gZmFjZU5vcm1hbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhSW5kZXg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJJbmRleDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY0luZGV4Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB2ZXJ0ZXhOb3JtYWxzOndkQ2IuQ29sbGVjdGlvbjxWZWN0b3IzPiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGhhc0ZhY2VOb3JtYWwoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWNlTm9ybWFsICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGhhc1ZlcnRleE5vcm1hbCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmVydGV4Tm9ybWFscy5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb3B5KCl7XG4gICAgICAgICAgICB2YXIgY29weUZhY2VOb3JtYWwgPSB0aGlzLl9mYWNlTm9ybWFsID8gdGhpcy5fZmFjZU5vcm1hbC5jb3B5KCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvcHlWZXJ0ZXhOb3JtYWxzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYodGhpcy52ZXJ0ZXhOb3JtYWxzKXtcbiAgICAgICAgICAgICAgICBjb3B5VmVydGV4Tm9ybWFscyA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4Tm9ybWFscy5mb3JFYWNoKCh2ZXJ0ZXhOb3JtYWw6VmVjdG9yMykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb3B5VmVydGV4Tm9ybWFscy5hZGRDaGlsZCh2ZXJ0ZXhOb3JtYWwuY29weSgpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEZhY2UzLmNyZWF0ZSh0aGlzLmFJbmRleCwgdGhpcy5iSW5kZXgsIHRoaXMuY0luZGV4LCBjb3B5RmFjZU5vcm1hbCwgY29weVZlcnRleE5vcm1hbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBSZWN0UmVnaW9uIGV4dGVuZHMgVmVjdG9yNHtcbiAgICAgICAgZ2V0IHdpZHRoKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56O1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy56ID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53O1xuICAgICAgICB9XG4gICAgICAgIHNldCBoZWlnaHQoaGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLncgPSBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29weSgpOlJlY3RSZWdpb257XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3B5SGVscGVyKFJlY3RSZWdpb24uY3JlYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzTm90RW1wdHkoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggIT09IDBcbiAgICAgICAgICAgIHx8IHRoaXMueSAhPT0gMFxuICAgICAgICAgICAgfHwgdGhpcy53aWR0aCAhPT0gMFxuICAgICAgICAgICAgfHwgdGhpcy5oZWlnaHQgIT09IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFZpZXdXZWJHTCBpbXBsZW1lbnRzIElWaWV3IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodmlldzphbnkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh2aWV3KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKGRvbTphbnkpe1xuICAgICAgICAgICAgdGhpcy5fZG9tID0gZG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gdGhpcy5fZG9tLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHt4OiB2aWV3Lm9mZnNldExlZnQsIHk6IHZpZXcub2Zmc2V0VG9wfTtcblxuICAgICAgICAgICAgd2hpbGUgKHZpZXcgPSB2aWV3Lm9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgICAgIG9mZnNldC54ICs9IHZpZXcub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICBvZmZzZXQueSArPSB2aWV3Lm9mZnNldFRvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RvbTphbnkgPSBudWxsO1xuICAgICAgICBnZXQgZG9tKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0IHdpZHRoKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHNldCB3aWR0aCh3aWR0aDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLndpZHRoID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgaGVpZ2h0KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaGVpZ2h0KGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB4KCl7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuX2RvbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHgoeDpudW1iZXIpe1xuICAgICAgICAgICAgdGhpcy5fZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgdGhpcy5fZG9tLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCB5KCl7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuX2RvbS5zdHlsZS50b3Auc2xpY2UoMCwgLTIpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgeSh5Om51bWJlcil7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICB0aGlzLl9kb20uc3R5bGUudG9wID0gYCR7eX1weGA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0Q29udGV4dCgpOldlYkdMUmVuZGVyaW5nQ29udGV4dHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb20uZ2V0Q29udGV4dChcIndlYmdsXCIpIHx8IHRoaXMuX2RvbS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJVmlldyB7XG4gICAgICAgIG9mZnNldDp7eDpudW1iZXIsIHk6bnVtYmVyfTtcbiAgICAgICAgeDpudW1iZXI7XG4gICAgICAgIHk6bnVtYmVyO1xuICAgICAgICB3aWR0aDpudW1iZXI7XG4gICAgICAgIGhlaWdodDpudW1iZXI7XG4gICAgICAgIGRvbTphbnk7XG4gICAgICAgIGdldENvbnRleHQoKTpXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgfVxuXG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZGVjbGFyZSB2YXIgTWF0aDphbnk7XG5cbiAgICBleHBvcnQgY2xhc3MgQ29sb3Ige1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb2xvclZhbD86c3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGNvbG9yVmFsKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCBkaXJ0eShkaXJ0eTpib29sZWFuKXtcbiAgICAgICAgICAgIGlmKGRpcnR5KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNhY2hlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9yOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCByKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgcihyOm51bWJlcil7XG4gICAgICAgICAgICBpZih0aGlzLl9yICE9PSByKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3IgPSByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZzpudW1iZXIgPSBudWxsO1xuICAgICAgICBnZXQgZygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2c7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGcoZzpudW1iZXIpe1xuICAgICAgICAgICAgaWYodGhpcy5fZyAhPT0gZyl7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nID0gZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2I6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgZ2V0IGIoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iO1xuICAgICAgICB9XG4gICAgICAgIHNldCBiKGI6bnVtYmVyKXtcbiAgICAgICAgICAgIGlmKHRoaXMuX2IgIT09IGIpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYiA9IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hOm51bWJlciA9IG51bGw7XG4gICAgICAgIGdldCBhKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgYShhOm51bWJlcil7XG4gICAgICAgICAgICBpZih0aGlzLl9hICE9PSBhKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2EgPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY29sb3JTdHJpbmc6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfY29sb3JWZWMzQ2FjaGU6VmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2NvbG9yVmVjNENhY2hlOlZlY3RvcjQgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShjb2xvclZhbD86c3RyaW5nKSB7XG4gICAgICAgICAgICBpZighY29sb3JWYWwpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY29sb3JTdHJpbmcgPSBjb2xvclZhbDtcbiAgICAgICAgICAgIHRoaXMuX3NldENvbG9yKGNvbG9yVmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yVmVjM0NhY2hlICE9PSBudWxsO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yVmVjM0NhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgdGhpcy5fY29sb3JWZWMzQ2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyB0b1ZlY3RvcjMoKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBjYWNoZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yVmVjNENhY2hlICE9PSBudWxsO1xuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yVmVjNENhY2hlO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgdGhpcy5fY29sb3JWZWM0Q2FjaGUgPSByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyB0b1ZlY3RvcjQoKXtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3I0LmNyZWF0ZSh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRvU3RyaW5nKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sb3JTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRDb2xvcihjb2xvclZhbDpzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBSRUdFWF9SR0JBID0gL15yZ2JhXFwoKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrKSxcXHMqKFteXFwpXSspXFwpJC9pLFxuICAgICAgICAgICAgICAgIFJFR0VYX1JHQiA9IC9ecmdiXFwoKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrKVxcKSQvaSxcbiAgICAgICAgICAgICAgICBSRUdFWF9SR0JfMiA9IC9ecmdiXFwoKFxcZCtcXC5cXGQrKSxcXHMqKFxcZCtcXC5cXGQrKSxcXHMqKFxcZCtcXC5cXGQrKVxcKSQvaSxcbiAgICAgICAgICAgICAgICBSRUdFWF9OVU0gPSAvXlxcIyhbMC05YS1mXXs2fSkkL2k7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyByZ2JhKDI1NSwwLDAsMClcblxuICAgICAgICAgICAgaWYgKCBSRUdFWF9SR0JBLnRlc3QoIGNvbG9yVmFsICkgKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBSRUdFWF9SR0JBLmV4ZWMoIGNvbG9yVmFsICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnIgPSB0aGlzLl9nZXRDb2xvclZhbHVlKGNvbG9yLCAxKSA7XG4gICAgICAgICAgICAgICAgdGhpcy5nID0gdGhpcy5fZ2V0Q29sb3JWYWx1ZShjb2xvciwgMikgO1xuICAgICAgICAgICAgICAgIHRoaXMuYiA9IHRoaXMuX2dldENvbG9yVmFsdWUoY29sb3IsIDMpIDtcbiAgICAgICAgICAgICAgICB0aGlzLmEgPSBOdW1iZXIoY29sb3JbNF0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmdiKDI1NSwwLDApXG5cbiAgICAgICAgICAgIGlmICggUkVHRVhfUkdCLnRlc3QoIGNvbG9yVmFsICkgKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBSRUdFWF9SR0IuZXhlYyggY29sb3JWYWwgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuciA9IHRoaXMuX2dldENvbG9yVmFsdWUoY29sb3IsIDEpIDtcbiAgICAgICAgICAgICAgICB0aGlzLmcgPSB0aGlzLl9nZXRDb2xvclZhbHVlKGNvbG9yLCAyKSA7XG4gICAgICAgICAgICAgICAgdGhpcy5iID0gdGhpcy5fZ2V0Q29sb3JWYWx1ZShjb2xvciwgMykgO1xuICAgICAgICAgICAgICAgIHRoaXMuYSA9IDE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiFcbiAgICAgICAgICAgICBpdCB3aWxsIGNhdXNlIGFtYmlndWl0eTogcmdiKHgseCx4KVxuICAgICAgICAgICAgIHNvIHRoZSBmb3JtYXQgc2hvdWxkIGJlOlxuICAgICAgICAgICAgIHJnYih4LngseC54LHgueClcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCBSRUdFWF9SR0JfMi50ZXN0KCBjb2xvclZhbCApICkge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gUkVHRVhfUkdCXzIuZXhlYyggY29sb3JWYWwgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuciA9IHBhcnNlRmxvYXQoY29sb3JbMV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZyA9IHBhcnNlRmxvYXQoY29sb3JbMl0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYiA9IHBhcnNlRmxvYXQoY29sb3JbM10pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hID0gMTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gI2ZmZmZmZlxuXG4gICAgICAgICAgICBpZiAoUkVHRVhfTlVNLnRlc3QoY29sb3JWYWwpKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBSRUdFWF9OVU0uZXhlYyhjb2xvclZhbCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRIZXgocGFyc2VJbnQoY29sb3JbMV0sIDE2KSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0Q29sb3JWYWx1ZShjb2xvciwgaW5kZXgsIG51bT0yNTUpe1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKCBudW0sIHBhcnNlSW50KCBjb2xvclsgaW5kZXggXSwgMTAgKSApIC8gbnVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0SGV4KGhleCkge1xuICAgICAgICAgICAgaGV4ID0gTWF0aC5mbG9vcihoZXgpO1xuXG4gICAgICAgICAgICB0aGlzLnIgPSAoIGhleCA+PiAxNiAmIDI1NSApIC8gMjU1O1xuICAgICAgICAgICAgdGhpcy5nID0gKCBoZXggPj4gOCAmIDI1NSApIC8gMjU1O1xuICAgICAgICAgICAgdGhpcy5iID0gKCBoZXggJiAyNTUgKSAvIDI1NTtcbiAgICAgICAgICAgIHRoaXMuYSA9IDE7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY2xlYXJDYWNoZSgpe1xuICAgICAgICAgICAgdGhpcy5fY29sb3JWZWMzQ2FjaGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JWZWM0Q2FjaGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgVGV4dHVyZXtcbiAgICAgICAgZ2V0IGdlb21ldHJ5KCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbC5nZW9tZXRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtYXRlcmlhbDpNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB3aWR0aDpudW1iZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgaGVpZ2h0Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB2YXJpYWJsZURhdGE6TWFwVmFyaWFibGVEYXRhID0gbnVsbDtcbiAgICAgICAgcHVibGljIHdyYXBTOkVUZXh0dXJlV3JhcE1vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgd3JhcFQ6RVRleHR1cmVXcmFwTW9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYWdGaWx0ZXI6RVRleHR1cmVGaWx0ZXJNb2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1pbkZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZ2xUZXh0dXJlOldlYkdMVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBuZWVkVXBkYXRlOmJvb2xlYW4gPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCB0YXJnZXQ6RVRleHR1cmVUYXJnZXQgPSBFVGV4dHVyZVRhcmdldC5URVhUVVJFXzJEO1xuXG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGluaXQoKTp2b2lkO1xuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0U2FtcGxlck5hbWUodW5pdDpudW1iZXIpOnN0cmluZztcbiAgICAgICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZSgpOnZvaWQ7XG5cbiAgICAgICAgcHVibGljIGJpbmRUb1VuaXQgKHVuaXQ6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgbWF4VW5pdCA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4VGV4dHVyZVVuaXQ7XG5cbiAgICAgICAgICAgIGlmKHVuaXQgPj0gbWF4VW5pdCl7XG4gICAgICAgICAgICAgICAgTG9nLndhcm4oYHRyeWluZyB0byB1c2UgJHt1bml0fSB0ZXh0dXJlIHVuaXRzLCBidXQgR1BVIG9ubHkgc3VwcG9ydHMgJHttYXhVbml0fSB1bml0c2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsW1wiVEVYVFVSRVwiICsgU3RyaW5nKHVuaXQpXSk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbFt0aGlzLnRhcmdldF0sIHRoaXMuZ2xUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VuZERhdGEocHJvZ3JhbTpQcm9ncmFtLCBuYW1lOnN0cmluZywgdW5pdDpudW1iZXIpe1xuICAgICAgICAgICAgcHJvZ3JhbS5zZW5kVW5pZm9ybURhdGEobmFtZSwgdGhpcy5nZXRTYW1wbGVyVHlwZSgpLCB1bml0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNwb3NlKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGhpcy5nbFRleHR1cmUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZ2xUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGZpbHRlckZhbGxiYWNrKGZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIgPT09IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUfHwgZmlsdGVyID09PSBFVGV4dHVyZUZpbHRlck1vZGUuTkVBUkVTVF9NSVBNQVBfTUVBUkVTVHx8IGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRVRleHR1cmVGaWx0ZXJNb2RlLk5FQVJFU1Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldFNhbXBsZXJOYW1lQnlWYXJpYWJsZURhdGEodW5pdDpudW1iZXIsIHR5cGU/OkVWYXJpYWJsZVR5cGUpe1xuICAgICAgICAgICAgdmFyIHNhbXBsZXJOYW1lOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmKHRoaXMudmFyaWFibGVEYXRhKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyVmFyaWFibGVOYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlck5hbWUgPSB0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyVmFyaWFibGVOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgc2FtcGxlck5hbWUgPSB0eXBlID09PSBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQgPyBgdV9zYW1wbGVyMkQke3VuaXR9YCA6IGB1X3NhbXBsZXJDdWJlJHt1bml0fWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzYW1wbGVyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYW1wbGVyVHlwZSgpOkVWYXJpYWJsZVR5cGV7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG51bGw7XG5cbiAgICAgICAgICAgIHN3aXRjaCh0aGlzLnRhcmdldCl7XG4gICAgICAgICAgICAgICAgY2FzZSBFVGV4dHVyZVRhcmdldC5URVhUVVJFXzJEOlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSXzJEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVUZXh0dXJlVGFyZ2V0LlRFWFRVUkVfQ1VCRV9NQVA6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBFVmFyaWFibGVUeXBlLlNBTVBMRVJfQ1VCRTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgQHZpcnR1YWxcbiAgICAgICAgcHJvdGVjdGVkIGlzU291cmNlUG93ZXJPZlR3bygpe1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmVVdGlscy5pc1Bvd2VyT2ZUd28odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUsIGlzU291cmNlUG93ZXJPZlR3byl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGlmIChpc1NvdXJjZVBvd2VyT2ZUd28pe1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFt0aGlzLndyYXBTXSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsW3RoaXMud3JhcFRdKTtcblxuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2xbdGhpcy5tYWdGaWx0ZXJdKTtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsW3RoaXMubWluRmlsdGVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbFt0aGlzLmZpbHRlckZhbGxiYWNrKHRoaXMubWFnRmlsdGVyKV0pO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2xbdGhpcy5maWx0ZXJGYWxsYmFjayh0aGlzLm1pbkZpbHRlcildKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVGV4dHVyZVV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGlzUG93ZXJPZlR3byh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIEp1ZGdlVXRpbHMuaXNQb3dlck9mVHdvKHdpZHRoKSAmJiBKdWRnZVV0aWxzLmlzUG93ZXJPZlR3byhoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGRlY2xhcmUgdmFyIE1hdGg6YW55O1xuXG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljVGV4dHVyZVV0aWxzIGV4dGVuZHMgVGV4dHVyZVV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIGlzRHJhd1BhcnRPZlRleHR1cmUoc291cmNlUmVnaW9uOlJlY3RSZWdpb24sIHNvdXJjZVJlZ2lvbk1ldGhvZDpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZCl7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlUmVnaW9uICYmIHNvdXJjZVJlZ2lvbi5pc05vdEVtcHR5KCkgJiYgc291cmNlUmVnaW9uTWV0aG9kID09PSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5EUkFXX0lOX0NBTlZBUztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZHJhd1BhcnRPZlRleHR1cmVCeUNhbnZhcyhzb3VyY2U6SFRNTEltYWdlRWxlbWVudCwgY2FudmFzV2lkdGg6bnVtYmVyLCBjYW52YXNIZWlnaHQ6bnVtYmVyLCBzeDpudW1iZXIsIHN5Om51bWJlciwgc1dpZHRoOm51bWJlciwgc0hlaWdodDpudW1iZXIsIGR4Om51bWJlciwgd2Q6bnVtYmVyLCBkV2lkdGg6bnVtYmVyLCBkSGVpZ2h0Om51bWJlcil7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gd2RDYi5Eb21RdWVyeS5jcmVhdGUoXCI8Y2FudmFzPjwvY2FudmFzPlwiKS5nZXQoMCksXG4gICAgICAgICAgICAgICAgY3R4ID0gbnVsbDtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuXG4gICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiICk7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKCBzb3VyY2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgd2QsIGRXaWR0aCwgZEhlaWdodCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW52YXNcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNTb3VyY2VQb3dlck9mVHdvKHNvdXJjZVJlZ2lvbiwgc291cmNlUmVnaW9uTWV0aG9kLCB3aWR0aCwgaGVpZ2h0KXtcbiAgICAgICAgICAgIGlmKHRoaXMuaXNEcmF3UGFydE9mVGV4dHVyZShzb3VyY2VSZWdpb24sIHNvdXJjZVJlZ2lvbk1ldGhvZCkpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG93ZXJPZlR3byhzb3VyY2VSZWdpb24ud2lkdGgsIHNvdXJjZVJlZ2lvbi5oZWlnaHQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG93ZXJPZlR3byh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgbmVlZENsYW1wTWF4U2l6ZShtYXhTaXplOm51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB3aWR0aCA+IG1heFNpemUgfHwgaGVpZ2h0ID4gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY2xhbXBUb01heFNpemUgKHNvdXJjZTphbnksIG1heFNpemU6bnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgbWF4RGltZW5zaW9uID0gbnVsbCxcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IG51bGwsXG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuXG4gICAgICAgICAgICBtYXhEaW1lbnNpb24gPSBNYXRoLm1heCggc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0ICk7XG4gICAgICAgICAgICBuZXdXaWR0aCA9IE1hdGguZmxvb3IoIHNvdXJjZS53aWR0aCAqIG1heFNpemUgLyBtYXhEaW1lbnNpb24gKTtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IE1hdGguZmxvb3IoIHNvdXJjZS5oZWlnaHQgKiBtYXhTaXplIC8gbWF4RGltZW5zaW9uICk7XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRoaXMuZHJhd1BhcnRPZlRleHR1cmVCeUNhbnZhcyhzb3VyY2UsIG5ld1dpZHRoLCBuZXdIZWlnaHQsIDAsIDAsIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwgMCwgMCwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XG5cbiAgICAgICAgICAgIExvZy5sb2coYHNvdXJjZSBpcyB0b28gYmlnICh3aWR0aDoke3NvdXJjZS53aWR0aH0sIGhlaWdodDoke3NvdXJjZS5oZWlnaHR9KSwgcmVzaXplIGl0IHRvIGJlIHdpZHRoOiR7Y2FudmFzLndpZHRofSwgaGVpZ2h0OiR7Y2FudmFzLmhlaWdodH0uYCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbmRlclRhcmdldFRleHR1cmUgZXh0ZW5kcyBUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZUVtcHR5VGV4dHVyZSgpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZSgpe1xuICAgICAgICAgICAgdGhpcy5uZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbWlwbWFwP1xuICAgICAgICAgICAgLy90aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5taW5GaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICAgICAgdGhpcy5tYWdGaWx0ZXIgPSBFVGV4dHVyZUZpbHRlck1vZGUuTElORUFSO1xuICAgICAgICAgICAgdGhpcy53cmFwUyA9IEVUZXh0dXJlV3JhcE1vZGUuQ0xBTVBfVE9fRURHRTtcbiAgICAgICAgICAgIHRoaXMud3JhcFQgPSBFVGV4dHVyZVdyYXBNb2RlLkNMQU1QX1RPX0VER0U7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZSgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFBvc2l0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5lbnRpdHlPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldEVtcHR5VGV4dHVyZSh0ZXh0dXJlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgTG9nLmVycm9yKCF0ZXh0dXJlLCBcIkZhaWxlZCB0byBjcmVhdGUgdGV4dHVyZSBvYmplY3RcIik7XG5cbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsW3RoaXMudGFyZ2V0XSwgdGV4dHVyZSk7XG5cblxuICAgICAgICAgICAgdGhpcy5zZXRUZXh0dXJlUGFyYW1ldGVycyhnbFt0aGlzLnRhcmdldF0sIHRoaXMuaXNTb3VyY2VQb3dlck9mVHdvKCkpO1xuICAgICAgICAgICAgLy90b2RvIHN1cHBvcnQgbWlwbWFwP1xuICAgICAgICAgICAgLy9pZiAodGhpcy5nZW5lcmF0ZU1pcG1hcHMgJiYgaXNTb3VyY2VQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAvLyAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbFt0aGlzLnRhcmdldF0pO1xuICAgICAgICAgICAgLy99XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RSZW5kZXJUYXJnZXRUZXh0dXJlIGV4dGVuZHMgUmVuZGVyVGFyZ2V0VGV4dHVyZSB7XG4gICAgICAgIHByaXZhdGUgX3JlbmRlckxpc3Q6d2RDYi5Db2xsZWN0aW9uPEdhbWVPYmplY3Q+ID0gbnVsbDtcbiAgICAgICAgZ2V0IHJlbmRlckxpc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHNldCByZW5kZXJMaXN0KHJlbmRlckxpc3Q6YW55KSB7XG4gICAgICAgICAgICBpZiAoSnVkZ2VVdGlscy5pc0FycmF5RXhhY3RseShyZW5kZXJMaXN0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QgPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEdhbWVPYmplY3Q+KHJlbmRlckxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVuZGVyTGlzdCBpbnN0YW5jZW9mIHdkQ2IuQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QgPSByZW5kZXJMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInJlbmRlckxpc3RcIiwgXCJhcnJheSBvciB3ZENiLkNvbGxlY3Rpb25cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHdpZHRoOm51bWJlciA9IDI1NjtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSAyNTY7XG5cblxuICAgICAgICBwdWJsaWMgY3JlYXRlRW1wdHlUZXh0dXJlKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRFbXB0eVRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2xbdGhpcy50YXJnZXRdLCAwLCBnbC5SR0JBLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2xUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgU2hhZG93TWFwVGV4dHVyZVV0aWxze1xuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlKXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbCxcbiAgICAgICAgICAgICAgICBzY2VuZTpTY2VuZURpc3BhdGNoZXIgPSBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lO1xuXG4gICAgICAgICAgICBpZihzY2VuZS5zaGFkb3dNYXAuc29mdFR5cGUgPT09IEVTaGFkb3dNYXBTb2Z0VHlwZS5QQ0YpIHtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIE1pcnJvclRleHR1cmUgZXh0ZW5kcyBUd29EUmVuZGVyVGFyZ2V0VGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9wbGFuZTpQbGFuZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5hZGRSZW5kZXJUYXJnZXRSZW5kZXJlcihNaXJyb3JSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQsIEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0UGxhbmUoKXtcbiAgICAgICAgICAgIHZhciBub3JtYWxEYXRhID0gbnVsbCxcbiAgICAgICAgICAgICAgICBub3JtYWwgPSBudWxsLFxuICAgICAgICAgICAgICAgIHAgPSBudWxsO1xuXG4gICAgICAgICAgICBpZih0aGlzLl9wbGFuZSAmJiAhdGhpcy5nZW9tZXRyeS5lbnRpdHlPYmplY3QudHJhbnNmb3JtLmRpcnR5TG9jYWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGFuZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTG9nLmVycm9yKCEodGhpcy5nZW9tZXRyeSBpbnN0YW5jZW9mIFBsYW5lR2VvbWV0cnkpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJnZW9tZXRyeVwiLCBcIlBsYW5lR2VvbWV0cnlcIikpO1xuXG4gICAgICAgICAgICBub3JtYWxEYXRhID0gdGhpcy5nZW9tZXRyeS5nZW9tZXRyeURhdGEubm9ybWFscztcbiAgICAgICAgICAgIG5vcm1hbCA9IHRoaXMuZ2VvbWV0cnkuZW50aXR5T2JqZWN0LnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLm11bHRpcGx5VmVjdG9yMyhWZWN0b3IzLmNyZWF0ZShub3JtYWxEYXRhWzBdLCBub3JtYWxEYXRhWzFdLCBub3JtYWxEYXRhWzJdKSkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICBwID0gdGhpcy5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wbGFuZSA9IFBsYW5lLmNyZWF0ZShub3JtYWwueCwgbm9ybWFsLnksIG5vcm1hbC56LCAtcC5kb3Qobm9ybWFsKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGFuZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgVHdvRFNoYWRvd01hcFRleHR1cmUgZXh0ZW5kcyBUd29EUmVuZGVyVGFyZ2V0VGV4dHVyZSBpbXBsZW1lbnRzIElTaGFkb3dNYXBUZXh0dXJle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICBMb2cuZXJyb3IoIUp1ZGdlVXRpbHMuaXNOdW1iZXIodGhpcy52YXJpYWJsZURhdGEuc2FtcGxlckRhdGEpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkb3dNYXBUZXh0dXJlLT52YXJpYWJsZURhdGEuc2FtcGxlckRhdGFcIiwgXCJzYW1wbGVySW5kZXhcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gYHVfdHdvRFNoYWRvd01hcFNhbXBsZXJbJHt0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyRGF0YX1dYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSwgaXNTb3VyY2VQb3dlck9mVHdvKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLCBpc1NvdXJjZVBvd2VyT2ZUd28pO1xuXG4gICAgICAgICAgICBTaGFkb3dNYXBUZXh0dXJlVXRpbHMuc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDdWJlbWFwUmVuZGVyVGFyZ2V0VGV4dHVyZSBleHRlbmRzIFJlbmRlclRhcmdldFRleHR1cmUge1xuICAgICAgICBwcm90ZWN0ZWQgdGFyZ2V0OkVUZXh0dXJlVGFyZ2V0ID0gRVRleHR1cmVUYXJnZXQuVEVYVFVSRV9DVUJFX01BUDtcblxuICAgICAgICBwdWJsaWMgY3JlYXRlRW1wdHlUZXh0dXJlKCkge1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCksXG4gICAgICAgICAgICAgICAgaSA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RW1wdHlUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ2xUZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3ViZW1hcFNoYWRvd01hcFRleHR1cmUgZXh0ZW5kcyBDdWJlbWFwUmVuZGVyVGFyZ2V0VGV4dHVyZSBpbXBsZW1lbnRzIElTaGFkb3dNYXBUZXh0dXJle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICBMb2cuZXJyb3IoIUp1ZGdlVXRpbHMuaXNOdW1iZXIodGhpcy52YXJpYWJsZURhdGEuc2FtcGxlckRhdGEpLCBMb2cuaW5mby5GVU5DX01VU1RfQkUoXCJzaGFkb3dNYXBUZXh0dXJlLT52YXJpYWJsZURhdGEuc2FtcGxlckRhdGFcIiwgXCJzYW1wbGVySW5kZXhcIikpO1xuXG4gICAgICAgICAgICByZXR1cm4gYHVfY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJbJHt0aGlzLnZhcmlhYmxlRGF0YS5zYW1wbGVyRGF0YX1dYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIVxuICAgICAgICBBbmQgYWdhaW4sIGFzIGZvciB0d28tZGltZW5zaW9uYWwgc2hhZG93IG1hcHMsIGl0J3MgcG9zc2libGUgdG8gY29uZmlndXJlIGN1YmUgdGV4dHVyZSBpbiBzdWNoIGEgd2F5IHRoYXQgc2luZ2xlIHNhbXBsaW5nIGZyb20gc2hhZG93IGN1YmUgbWFwIHdpbGwgcmV0dXJuIGEgcmVzdWx0IG9mIGEgY29tcGFyaXNvbiBmb3IgZm91ciB0ZXhlbHMuIFRoYXQgaXMsIHNhbXBsaW5nIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZvbGxvd2luZyBzaGFkb3cgZmFjdG9yIHZhbHVlczogMC4wLCAwLjI1LCAwLjUsIDAuNzUsIDEuMC4gU2V0IG1pbmlmeWluZyBhbmQgbWFnbmlmeWluZyBmaWx0ZXJzIG9mIHRoZSB0ZXh0dXJlIHRvIEdMX0xJTkVBUiB0byBlbmFibGUgc3VjaCBzYW1wbGluZy5cblxuICAgICAgICAgLy9cbiAgICAgICAgIC8vcHJvdGVjdGVkIHNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLCBpc1NvdXJjZVBvd2VyT2ZUd28pe1xuICAgICAgICAgLy8gICAgc3VwZXIuc2V0VGV4dHVyZVBhcmFtZXRlcnModGV4dHVyZVR5cGUsIGlzU291cmNlUG93ZXJPZlR3byk7XG4gICAgICAgICAvL1xuICAgICAgICAgLy8gICAgU2hhZG93TWFwVGV4dHVyZVV0aWxzLnNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlKTtcbiAgICAgICAgIC8vfVxuICAgICAgICAqL1xuXG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBEeW5hbWljQ3ViZW1hcFRleHR1cmUgZXh0ZW5kcyBDdWJlbWFwUmVuZGVyVGFyZ2V0VGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcmVuZGVyTGlzdDp3ZENiLkhhc2g8W3N0cmluZywgQXJyYXk8R2FtZU9iamVjdD5dPiA9IG51bGw7XG4gICAgICAgIGdldCByZW5kZXJMaXN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlckxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQgcmVuZGVyTGlzdChyZW5kZXJMaXN0OmFueSkge1xuICAgICAgICAgICAgaWYgKEp1ZGdlVXRpbHMuaXNEaXJlY3RPYmplY3QocmVuZGVyTGlzdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJMaXN0ID0gd2RDYi5IYXNoLmNyZWF0ZTxbc3RyaW5nLCBBcnJheTxHYW1lT2JqZWN0Pl0+KHJlbmRlckxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVuZGVyTGlzdCBpbnN0YW5jZW9mIHdkQ2IuSGFzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QgPSByZW5kZXJMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcInJlbmRlckxpc3RcIiwgXCJhcnJheSBvciB3ZENiLkNvbGxlY3Rpb25cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNpemU6bnVtYmVyID0gMjU2O1xuICAgICAgICBwdWJsaWMgbmVhcjpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBmYXI6bnVtYmVyID0gMTAwO1xuICAgICAgICBwdWJsaWMgbW9kZTpFRW52TWFwTW9kZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnNpemU7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc2l6ZTtcblxuICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5hZGRSZW5kZXJUYXJnZXRSZW5kZXJlcihEeW5hbWljQ3ViZW1hcFJlbmRlclRhcmdldFJlbmRlcmVyLmNyZWF0ZSh0aGlzKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFNhbXBsZXJOYW1lKHVuaXQ6bnVtYmVyKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNhbXBsZXJOYW1lQnlWYXJpYWJsZURhdGEodW5pdCwgRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQcm9jZWR1cmFsVGV4dHVyZSBleHRlbmRzIFR3b0RSZW5kZXJUYXJnZXRUZXh0dXJlIHtcbiAgICAgICAgZ2V0IHNvdXJjZVJlZ2lvbkZvckdMU0woKXtcbiAgICAgICAgICAgIHJldHVybiBSZWN0UmVnaW9uLmNyZWF0ZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZXBlYXRSZWdpb246UmVjdFJlZ2lvbiA9IFJlY3RSZWdpb24uY3JlYXRlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIC8vcHVibGljIG5lZWRVcGRhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQsIEVWYXJpYWJsZVR5cGUuU0FNUExFUl8yRCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBkZWNsYXJlIHZhciBNYXRoOmFueTtcblxuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNpY1RleHR1cmUgZXh0ZW5kcyBUZXh0dXJlIGltcGxlbWVudHMgSVRleHR1cmVBc3NldHtcbiAgICAgICAgcHJvdGVjdGVkIHBfc291cmNlUmVnaW9uTWV0aG9kOkVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kID0gbnVsbDtcbiAgICAgICAgZ2V0IHNvdXJjZVJlZ2lvbk1ldGhvZCgpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucF9zb3VyY2VSZWdpb25NZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNvdXJjZVJlZ2lvbk1ldGhvZChzb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2Qpe1xuICAgICAgICAgICAgdGhpcy5wX3NvdXJjZVJlZ2lvbk1ldGhvZCA9IHNvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBzb3VyY2VSZWdpb25Gb3JHTFNMKCl7XG4gICAgICAgICAgICBpZih0aGlzLnNvdXJjZVJlZ2lvbiAmJiB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZCA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuQ0hBTkdFX1RFWENPT1JEU19JTl9HTFNMKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydFNvdXJjZVJlZ2lvblRvVVYodGhpcy5zb3VyY2VSZWdpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUmVjdFJlZ2lvbi5jcmVhdGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2VuZXJhdGVNaXBtYXBzOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgZm9ybWF0OkVUZXh0dXJlRm9ybWF0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZTphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcmVwZWF0UmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uTWFwcGluZzpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1hcHBpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZmxpcFk6Ym9vbGVhbiA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwcmVtdWx0aXBseUFscGhhOmJvb2xlYW4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgdW5wYWNrQWxpZ25tZW50Om51bWJlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0eXBlOkVUZXh0dXJlVHlwZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxhbnk+ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGFuaXNvdHJvcHk6bnVtYmVyID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoLi4uYXJncyl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG4gICAgICAgICAgICAvL3RleHR1cmUuYWRkRXZlbnRMaXN0ZW5lciggXCJkaXNwb3NlXCIsIG9uVGV4dHVyZURpc3Bvc2UgKTtcblxuICAgICAgICAgICAgdGhpcy5nbFRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIC8vX3RoaXMuaW5mby5tZW1vcnkudGV4dHVyZXMgKys7XG5cbiAgICAgICAgICAgIHRoaXMubmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZSgpe1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIGlzU291cmNlUG93ZXJPZlR3byA9IHRoaXMuaXNTb3VyY2VQb3dlck9mVHdvKCk7XG5cbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIHRoaXMuZmxpcFkpO1xuXG5cbiAgICAgICAgICAgIC8vdG9kbyBub3Qgc2V0IFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxVTlBBQ0tfQUxJR05NRU5UIHdoZW4gY3ViZW1hcD9cbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIHRoaXMudW5wYWNrQWxpZ25tZW50KTtcblxuICAgICAgICAgICAgaWYodGhpcy5uZWVkQ2xhbXBNYXhTaXplKCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhbXBUb01heFNpemUoKTtcblxuICAgICAgICAgICAgICAgIGlzU291cmNlUG93ZXJPZlR3byA9IHRoaXMuaXNTb3VyY2VQb3dlck9mVHdvKCk7XG5cbiAgICAgICAgICAgICAgICBpZighaXNTb3VyY2VQb3dlck9mVHdvKXtcbiAgICAgICAgICAgICAgICAgICAgTG9nLndhcm4oXCJ0ZXh0dXJlIHNpemUgaXMgbm90IHBvd2VyIG9mIHR3byBhZnRlciBjbGFtcFRvTWF4U2l6ZSgpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRUZXh0dXJlUGFyYW1ldGVycyggZ2xbdGhpcy50YXJnZXRdLCBpc1NvdXJjZVBvd2VyT2ZUd28pO1xuXG4gICAgICAgICAgICB0aGlzLmFsbG9jYXRlU291cmNlVG9UZXh0dXJlKGlzU291cmNlUG93ZXJPZlR3byk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdlbmVyYXRlTWlwbWFwcyAmJiBpc1NvdXJjZVBvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbFt0aGlzLnRhcmdldF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm5lZWRVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0U2FtcGxlck5hbWUodW5pdDpudW1iZXIpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2FtcGxlck5hbWVCeVZhcmlhYmxlRGF0YSh1bml0LCBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFic3RyYWN0IGFsbG9jYXRlU291cmNlVG9UZXh0dXJlKGlzU291cmNlUG93ZXJPZlR3bzpib29sZWFuKTtcblxuICAgICAgICBAdmlydHVhbFxuICAgICAgICBwcm90ZWN0ZWQgbmVlZENsYW1wTWF4U2l6ZSgpe1xuICAgICAgICAgICAgaWYoIXRoaXMuc291cmNlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBCYXNpY1RleHR1cmVVdGlscy5uZWVkQ2xhbXBNYXhTaXplKEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4VGV4dHVyZVNpemUsIHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNsYW1wVG9NYXhTaXplKCl7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IEJhc2ljVGV4dHVyZVV0aWxzLmNsYW1wVG9NYXhTaXplKHRoaXMuc291cmNlLCBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heFRleHR1cmVTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSwgaXNTb3VyY2VQb3dlck9mVHdvKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLCBpc1NvdXJjZVBvd2VyT2ZUd28pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRBbmlzb3Ryb3B5KHRleHR1cmVUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc1NvdXJjZVBvd2VyT2ZUd28oKXtcbiAgICAgICAgICAgIHJldHVybiBCYXNpY1RleHR1cmVVdGlscy5pc1NvdXJjZVBvd2VyT2ZUd28odGhpcy5zb3VyY2VSZWdpb24sIHRoaXMuc291cmNlUmVnaW9uTWV0aG9kLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9zZXRBbmlzb3Ryb3B5KHRleHR1cmVUeXBlKXtcbiAgICAgICAgICAgIHZhciBncHUgPSBHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBpZighZ3B1LmV4dGVuc2lvblRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5hbmlzb3Ryb3B5ID4gMSkge1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYodGV4dHVyZVR5cGUsIGdwdS5leHRlbnNpb25UZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIE1hdGgubWluKHRoaXMuYW5pc290cm9weSwgZ3B1Lm1heEFuaXNvdHJvcHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRTb3VyY2VSZWdpb25DYW52YXNNYXBUb1VWKHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uKXtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgcmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuXG4gICAgICAgICAgICByZWdpb24gPSBSZWN0UmVnaW9uLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBzb3VyY2VSZWdpb24ueCAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIHNvdXJjZVJlZ2lvbi55IC8gaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNvdXJjZVJlZ2lvbi53aWR0aCAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIHNvdXJjZVJlZ2lvbi5oZWlnaHQgLyBoZWlnaHRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlZ2lvbi55ID0gMSAtIHJlZ2lvbi55IC0gcmVnaW9uLmhlaWdodDtcblxuICAgICAgICAgICAgcmV0dXJuIHJlZ2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBvcHRpbWl6ZTogYWRkIGRpcnR5IGNhY2hlXG4gICAgICAgIHByaXZhdGUgX2NvbnZlcnRTb3VyY2VSZWdpb25Ub1VWKHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uKXtcbiAgICAgICAgICAgIGlmKHRoaXMuc291cmNlUmVnaW9uTWFwcGluZyA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nLkNBTlZBUyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRTb3VyY2VSZWdpb25DYW52YXNNYXBUb1VWKHNvdXJjZVJlZ2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuc291cmNlUmVnaW9uTWFwcGluZyA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NYXBwaW5nLlVWKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0RUZXh0dXJlIGV4dGVuZHMgQmFzaWNUZXh0dXJle1xuICAgICAgICBwdWJsaWMgaW5pdFdoZW5DcmVhdGUoYXNzZXQ6VGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGFzc2V0LmNvcHlUbyh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21tb25UZXh0dXJlIGV4dGVuZHMgVHdvRFRleHR1cmV7XG4gICAgICAgIHByb3RlY3RlZCBhbGxvY2F0ZVNvdXJjZVRvVGV4dHVyZShpc1NvdXJjZVBvd2VyT2ZUd286Ym9vbGVhbikge1xuICAgICAgICAgICAgdmFyIG1pcG1hcENtZDpEcmF3TWlwbWFwVHdvRFRleHR1cmVDb21tYW5kID0gbnVsbCxcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZDpEcmF3Tm9NaXBtYXBUd29EVGV4dHVyZUNvbW1hbmQgPSBudWxsLFxuICAgICAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBpZihpc1NvdXJjZVBvd2VyT2ZUd28gJiYgdGhpcy5taXBtYXBzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kID0gRHJhd01pcG1hcFR3b0RUZXh0dXJlQ29tbWFuZC5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBtaXBtYXBDbWQubWlwbWFwcyA9IHRoaXMubWlwbWFwcztcbiAgICAgICAgICAgICAgICBtaXBtYXBDbWQuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgICAgIG1pcG1hcENtZC5zb3VyY2VSZWdpb25NZXRob2QgPSB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZDtcbiAgICAgICAgICAgICAgICBtaXBtYXBDbWQuZ2xUYXJnZXQgPSBnbC5URVhUVVJFXzJEO1xuXG4gICAgICAgICAgICAgICAgbWlwbWFwQ21kLmV4ZWN1dGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVNaXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZCA9IERyYXdOb01pcG1hcFR3b0RUZXh0dXJlQ29tbWFuZC5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5zb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC5mb3JtYXQgPSB0aGlzLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBub01pcG1hcENtZC50eXBlID0gdGhpcy50eXBlO1xuICAgICAgICAgICAgICAgIG5vTWlwbWFwQ21kLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgICAgIG5vTWlwbWFwQ21kLnNvdXJjZVJlZ2lvbk1ldGhvZCA9IHRoaXMuc291cmNlUmVnaW9uTWV0aG9kO1xuICAgICAgICAgICAgICAgIG5vTWlwbWFwQ21kLmdsVGFyZ2V0ID0gZ2wuVEVYVFVSRV8yRDtcblxuICAgICAgICAgICAgICAgIG5vTWlwbWFwQ21kLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBJbWFnZVRleHR1cmUgZXh0ZW5kcyBDb21tb25UZXh0dXJle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3NldDpJbWFnZVRleHR1cmVBc3NldCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCk7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXJnKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFyZyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShhc3NldDpJbWFnZVRleHR1cmVBc3NldCk7XG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShhcmcpe1xuICAgICAgICAgICAgaWYoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgSW1hZ2VUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgICAgIGxldCBhc3NldDpJbWFnZVRleHR1cmVBc3NldCA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKGFzc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKEltYWdlVGV4dHVyZUFzc2V0LmNyZWF0ZShjYW52YXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVmlkZW9UZXh0dXJlIGV4dGVuZHMgQ29tbW9uVGV4dHVyZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXNzZXQ6VmlkZW9UZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoYXNzZXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfdmlkZW86VmlkZW8gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9zdGFydExvb3BTdWJzY3JpcHRpb246d2RGcnAuSURpc3Bvc2FibGUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShhc3NldDpWaWRlb1RleHR1cmVBc3NldCl7XG4gICAgICAgICAgICBzdXBlci5pbml0V2hlbkNyZWF0ZShhc3NldCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvID0gYXNzZXQudmlkZW87XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TG9vcFN1YnNjcmlwdGlvbiA9IEV2ZW50TWFuYWdlci5mcm9tRXZlbnQoPGFueT5FRW5naW5lRXZlbnQuU1RBUlRMT09QKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoc2VsZi5fdmlkZW8uaXNTdG9wKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5uZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKXtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TG9vcFN1YnNjcmlwdGlvbiAmJiB0aGlzLl9zdGFydExvb3BTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG5lZWRDbGFtcE1heFNpemUoKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdWJlbWFwVGV4dHVyZSBleHRlbmRzIEJhc2ljVGV4dHVyZXtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoYXNzZXRzKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFzc2V0cyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXNzZXRzID0gYXNzZXRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgdGV4dHVyZXM6d2RDYi5Db2xsZWN0aW9uPEN1YmVtYXBGYWNlVGV4dHVyZT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPEN1YmVtYXBGYWNlVGV4dHVyZT4oKTtcbiAgICAgICAgcHVibGljIG1vZGU6RUVudk1hcE1vZGUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCB0YXJnZXQ6RVRleHR1cmVUYXJnZXQgPSBFVGV4dHVyZVRhcmdldC5URVhUVVJFX0NVQkVfTUFQO1xuXG4gICAgICAgIHByaXZhdGUgX2FyZUFsbENvbXByZXNzZWRBc3NldDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICBhc3NlcnQoYXNzZXRzLmxlbmd0aCA9PT0gNiwgTG9nLmluZm8uRlVOQ19NVVNUKFwiY3ViZW1hcFwiLCBcImhhcyA2IGFzc2V0c1wiKSk7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fYXJlQXNzZXRzQWxsSW1hZ2VBc3NldHMoYXNzZXRzKSB8fCB0aGlzLl9hcmVBc3NldHNBbGxDb21wcmVzc2VkQXNzZXQoYXNzZXRzKSwgTG9nLmluZm8uRlVOQ19NVVNUX0JFKFwiY3ViZW1hcCBzaXggZmFjZSdzIGFzc2V0c1wiLCBcImFsbCBJbWFnZVRleHR1cmVBc3NldCBvciBhbGwgQ29tcHJlc3NlZFRleHR1cmVBc3NldFwiKSk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2FyZUFzc2V0c0FsbENvbXByZXNzZWRBc3NldChhc3NldHMpKXtcbiAgICAgICAgICAgICAgICBhc3NlcnQoIXRoaXMuX2hhc1NvdXJjZVJlZ2lvbihhc3NldHMpLCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJjb21wcmVzc2VkIGZhY2VcIiwgXCJjb250YWluIHNvdXJjZVJlZ2lvbiBkYXRhXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2FyZVRleHR1cmVTaXpPZkFsbEZhY2VzZUVxdWFsKGFzc2V0cyksIExvZy5pbmZvLkZVTkNfTVVTVF9CRShcImFsbCBjdWJlbWFwIGZhY2VzJyB0ZXh0dXJlIHNpemVcIiwgXCJlcXVhbFwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyBpbml0V2hlbkNyZWF0ZShhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHN1cGVyLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX2FyZUFzc2V0c0FsbENvbXByZXNzZWRBc3NldChhc3NldHMpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcmVBbGxDb21wcmVzc2VkQXNzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcmVBbGxDb21wcmVzc2VkQXNzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVGV4dHVyZXMoYXNzZXRzKTtcblxuICAgICAgICAgICAgdGhpcy5fZ2V0UmVwcmVzZW50QXNzZXQoYXNzZXRzKS5jb3B5VG9DdWJlbWFwVGV4dHVyZSh0aGlzKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fYXJlQWxsQ29tcHJlc3NlZEFzc2V0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTWlwbWFwcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5faGFzTm9NaXBtYXBDb21wcmVzc2VkQXNzZXQoKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluRmlsdGVyID0gdGhpcy5maWx0ZXJGYWxsYmFjayh0aGlzLm1pbkZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTWlwbWFwcyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRTYW1wbGVyTmFtZSh1bml0Om51bWJlcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVyTmFtZUJ5VmFyaWFibGVEYXRhKHVuaXQsIEVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhbGxvY2F0ZVNvdXJjZVRvVGV4dHVyZShpc1NvdXJjZVBvd2VyT2ZUd286Ym9vbGVhbikge1xuICAgICAgICAgICAgaWYodGhpcy5fYXJlQWxsQ29tcHJlc3NlZEFzc2V0KXtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmU6Q3ViZW1hcEZhY2VDb21wcmVzc2VkVGV4dHVyZSwgaTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5kcmF3KGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmU6Q3ViZW1hcEZhY2VJbWFnZVRleHR1cmUsIGk6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZHJhdyhpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBuZWVkQ2xhbXBNYXhTaXplKCl7XG4gICAgICAgICAgICB2YXIgbmVlZEFsbENsYW1wTWF4U2l6ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmU6Q3ViZW1hcEZhY2VUZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYodGV4dHVyZS5uZWVkQ2xhbXBNYXhTaXplKCkpe1xuICAgICAgICAgICAgICAgICAgICBuZWVkQWxsQ2xhbXBNYXhTaXplID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdkQ2IuJEJSRUFLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbmVlZEFsbENsYW1wTWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpc1NvdXJjZVBvd2VyT2ZUd28oKXtcbiAgICAgICAgICAgIHZhciBhcmVBbGxTb3VyY2VQb3dlck9mVHdvID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlOkN1YmVtYXBGYWNlVGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCF0ZXh0dXJlLmlzU291cmNlUG93ZXJPZlR3bygpKXtcbiAgICAgICAgICAgICAgICAgICAgYXJlQWxsU291cmNlUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi4kQlJFQUs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcmVBbGxTb3VyY2VQb3dlck9mVHdvO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNsYW1wVG9NYXhTaXplKCl7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmU6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5jbGFtcFRvTWF4U2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9oYXNOb01pcG1hcENvbXByZXNzZWRBc3NldCgpe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZighdGhpcy5fYXJlQWxsQ29tcHJlc3NlZEFzc2V0KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVzLmZpbHRlcigodGV4dHVyZTpDdWJlbWFwRmFjZUNvbXByZXNzZWRUZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzZWxmLl9pc01pcG1hcEZpbHRlcih0ZXh0dXJlLm1pbkZpbHRlcik7XG4gICAgICAgICAgICB9KS5nZXRDb3VudCgpID4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lzTWlwbWFwRmlsdGVyKGZpbHRlcjpFVGV4dHVyZUZpbHRlck1vZGUpe1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLkxJTkVBUl9NSVBNQVBfTElORUFSIHx8IGZpbHRlciA9PT0gRVRleHR1cmVGaWx0ZXJNb2RlLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCB8fCBmaWx0ZXIgPT09IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUX01JUE1BUF9MSU5FQVIgfHxmaWx0ZXIgPT09IEVUZXh0dXJlRmlsdGVyTW9kZS5ORUFSRVNUX01JUE1BUF9NRUFSRVNUO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZ2V0UmVwcmVzZW50QXNzZXQoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICByZXR1cm4gYXNzZXRzWzBdLmFzc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSAgX2FyZUFzc2V0c0FsbEltYWdlQXNzZXRzKGFzc2V0czpBcnJheTxDdWJlbWFwRGF0YT4pe1xuICAgICAgICAgICAgdmFyIGFyZUltYWdlQXNzZXRzID0gW107XG5cbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBhc3NldHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5hc3NldCBpbnN0YW5jZW9mIEltYWdlVGV4dHVyZUFzc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZUltYWdlQXNzZXRzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJlSW1hZ2VBc3NldHMubGVuZ3RoID09PSA2O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSAgX2FyZUFzc2V0c0FsbENvbXByZXNzZWRBc3NldChhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHZhciBhcmVDb21wcmVzc2VkQXNzZXRzID0gW107XG5cbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBhc3NldHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5hc3NldCBpbnN0YW5jZW9mIENvbXByZXNzZWRUZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJlQ29tcHJlc3NlZEFzc2V0cy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFyZUNvbXByZXNzZWRBc3NldHMubGVuZ3RoID09PSA2O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfY3JlYXRlVGV4dHVyZXMoYXNzZXRzOkFycmF5PEN1YmVtYXBEYXRhPil7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBhc3NldHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZSA9IGRhdGEuYXNzZXQudG9DdWJlbWFwRmFjZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNvdXJjZVJlZ2lvbiAmJiBmYWNlIGluc3RhbmNlb2YgQ3ViZW1hcEZhY2VJbWFnZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR3b0RGYWNlOkN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJlID0gZmFjZTtcbiAgICAgICAgICAgICAgICAgICAgdHdvREZhY2Uuc291cmNlUmVnaW9uID0gZGF0YS5zb3VyY2VSZWdpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjZS50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYudGV4dHVyZXMuYWRkQ2hpbGQoZmFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hcmVUZXh0dXJlU2l6T2ZBbGxGYWNlc2VFcXVhbChhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlV2lkdGhTaXplQXJyID0gW10sXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhlaWdodFNpemVBcnIgPSBbXTtcblxuICAgICAgICAgICAgZm9yKGxldCBkYXRhIG9mIGFzc2V0cykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNvdXJjZVJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlV2lkdGhTaXplQXJyLnB1c2goZGF0YS5zb3VyY2VSZWdpb24ud2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSGVpZ2h0U2l6ZUFyci5wdXNoKGRhdGEuc291cmNlUmVnaW9uLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVXaWR0aFNpemVBcnIucHVzaChkYXRhLmFzc2V0LndpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUhlaWdodFNpemVBcnIucHVzaChkYXRhLmFzc2V0LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXJlQWxsRWxlbWVudHNFcXVhbCh0ZXh0dXJlV2lkdGhTaXplQXJyKSAmJiB0aGlzLl9hcmVBbGxFbGVtZW50c0VxdWFsKHRleHR1cmVIZWlnaHRTaXplQXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2hhc1NvdXJjZVJlZ2lvbihhc3NldHM6QXJyYXk8Q3ViZW1hcERhdGE+KXtcbiAgICAgICAgICAgIGZvcihsZXQgZGF0YSBvZiBhc3NldHMpe1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuc291cmNlUmVnaW9uKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9hcmVBbGxFbGVtZW50c0VxdWFsKGFycjpBcnJheTxhbnk+KXtcbiAgICAgICAgICAgIHZhciBsYXN0RWxlID0gYXJyWzBdO1xuXG4gICAgICAgICAgICBmb3IobGV0IGVsZSBvZiBhcnIpe1xuICAgICAgICAgICAgICAgIGlmKGVsZSAhPT0gbGFzdEVsZSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ3ViZW1hcERhdGEgPSB7XG4gICAgICAgIGFzc2V0OlRleHR1cmVBc3NldDtcbiAgICAgICAgc291cmNlUmVnaW9uPzpSZWN0UmVnaW9uO1xuICAgICAgICB0eXBlPzpFVGV4dHVyZVR5cGU7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEN1YmVtYXBGYWNlVGV4dHVyZXtcbiAgICAgICAgcHVibGljIHR5cGU6RVRleHR1cmVUeXBlID0gRVRleHR1cmVUeXBlLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIHB1YmxpYyBmb3JtYXQ6RVRleHR1cmVGb3JtYXQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgd2lkdGg6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHVibGljIGhlaWdodDpudW1iZXIgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBkcmF3KGluZGV4Om51bWJlcik6dm9pZDtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGlzU291cmNlUG93ZXJPZlR3bygpOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBuZWVkQ2xhbXBNYXhTaXplKCk6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIGFic3RyYWN0IGNsYW1wVG9NYXhTaXplKCk6dm9pZDtcbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1YmVtYXBGYWNlSW1hZ2VUZXh0dXJlIGV4dGVuZHMgQ3ViZW1hcEZhY2VUZXh0dXJlIGltcGxlbWVudHMgSUN1YmVtYXBGYWNlVHdvRFRleHR1cmVBc3NldHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXNzZXQ6SW1hZ2VUZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFzc2V0KTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBAcmVxdWlyZVNldHRlcihmdW5jdGlvbihzb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2Qpe1xuICAgICAgICAgICAgYXNzZXJ0KHNvdXJjZVJlZ2lvbk1ldGhvZCA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuRFJBV19JTl9DQU5WQVMsIExvZy5pbmZvLkZVTkNfU1VQUE9SVChcImN1YmVtYXAgdHdvRCBmYWNlIHRleHR1cmUtPnNvdXJjZVJlZ2lvbk1ldGhvZCBvbmx5XCIsIFwiRFJBV19JTl9DQU5WQVNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgc291cmNlUmVnaW9uTWV0aG9kKCl7XG4gICAgICAgICAgICByZXR1cm4gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuRFJBV19JTl9DQU5WQVM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNvdXJjZVJlZ2lvbk1ldGhvZChzb3VyY2VSZWdpb25NZXRob2Q6RVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2Qpe1xuICAgICAgICAgICAgdmFyIGEgPSBzb3VyY2VSZWdpb25NZXRob2Q7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc291cmNlUmVnaW9uOlJlY3RSZWdpb24gPSBudWxsO1xuICAgICAgICBwdWJsaWMgc291cmNlOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGFzc2V0OkltYWdlVGV4dHVyZUFzc2V0KXtcbiAgICAgICAgICAgIGFzc2V0LmNvcHlUb0N1YmVtYXBGYWNlVGV4dHVyZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1NvdXJjZVBvd2VyT2ZUd28oKTpib29sZWFue1xuICAgICAgICAgICAgcmV0dXJuIEJhc2ljVGV4dHVyZVV0aWxzLmlzU291cmNlUG93ZXJPZlR3byh0aGlzLnNvdXJjZVJlZ2lvbiwgdGhpcy5zb3VyY2VSZWdpb25NZXRob2QsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBuZWVkQ2xhbXBNYXhTaXplKCl7XG4gICAgICAgICAgICBpZighdGhpcy5zb3VyY2Upe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEJhc2ljVGV4dHVyZVV0aWxzLm5lZWRDbGFtcE1heFNpemUoR1BVRGV0ZWN0b3IuZ2V0SW5zdGFuY2UoKS5tYXhDdWJlbWFwVGV4dHVyZVNpemUsIHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsYW1wVG9NYXhTaXplKCl7XG4gICAgICAgICAgICB2YXIgbWF4U2l6ZSA9IEdQVURldGVjdG9yLmdldEluc3RhbmNlKCkubWF4Q3ViZW1hcFRleHR1cmVTaXplO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IEJhc2ljVGV4dHVyZVV0aWxzLmNsYW1wVG9NYXhTaXplKHRoaXMuc291cmNlLCBtYXhTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdG9kbyBzdXBwb3J0IG1hbnVhbCBtaXBtYXBcbiAgICAgICAgcHVibGljIGRyYXcoaW5kZXg6bnVtYmVyKXtcbiAgICAgICAgICAgIHZhciBub01pcG1hcENtZCA9IERyYXdOb01pcG1hcFR3b0RUZXh0dXJlQ29tbWFuZC5jcmVhdGUoKSxcbiAgICAgICAgICAgIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsO1xuXG4gICAgICAgICAgICBub01pcG1hcENtZC5zb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIG5vTWlwbWFwQ21kLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgbm9NaXBtYXBDbWQuc291cmNlUmVnaW9uTWV0aG9kID0gdGhpcy5zb3VyY2VSZWdpb25NZXRob2Q7XG4gICAgICAgICAgICBub01pcG1hcENtZC5nbFRhcmdldCA9IGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGluZGV4O1xuICAgICAgICAgICAgbm9NaXBtYXBDbWQuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICBub01pcG1hcENtZC50eXBlID0gdGhpcy50eXBlO1xuXG4gICAgICAgICAgICBub01pcG1hcENtZC5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIEN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUgZXh0ZW5kcyBDdWJlbWFwRmFjZVRleHR1cmUgaW1wbGVtZW50cyBJQ3ViZW1hcEZhY2VDb21wcmVzc2VkVGV4dHVyZUFzc2V0e1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3NldDpDb21wcmVzc2VkVGV4dHVyZUFzc2V0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFzc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxDb21wcmVzc2VkVGV4dHVyZU1pcG1hcD4gPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWluRmlsdGVyOkVUZXh0dXJlRmlsdGVyTW9kZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKGFzc2V0OkNvbXByZXNzZWRUZXh0dXJlQXNzZXQpe1xuICAgICAgICAgICAgYXNzZXQuY29weVRvQ3ViZW1hcEZhY2VUZXh0dXJlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzU291cmNlUG93ZXJPZlR3bygpOmJvb2xlYW57XG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMuaXNTb3VyY2VQb3dlck9mVHdvKG51bGwsIG51bGwsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBuZWVkQ2xhbXBNYXhTaXplKCl7XG4gICAgICAgICAgICByZXR1cm4gQmFzaWNUZXh0dXJlVXRpbHMubmVlZENsYW1wTWF4U2l6ZShHUFVEZXRlY3Rvci5nZXRJbnN0YW5jZSgpLm1heEN1YmVtYXBUZXh0dXJlU2l6ZSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsYW1wVG9NYXhTaXplKCl7XG4gICAgICAgICAgICBMb2cud2FybihcIkN1YmVtYXBGYWNlQ29tcHJlc3NlZFRleHR1cmUncyB0ZXh0dXJlIHNpemUgaXMgb3ZlciBtYXhDdWJlbWFwVGV4dHVyZVNpemVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZHJhdyhpbmRleDpudW1iZXIpe1xuICAgICAgICAgICAgdmFyIGNvbXByZXNzZWRDbWQgPSBEcmF3Q29tcHJlc3NlZFRleHR1cmVDb21tYW5kLmNyZWF0ZSgpLFxuICAgICAgICAgICAgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2w7XG5cbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuZ2xUYXJnZXQgPSBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLm1pcG1hcHMgPSB0aGlzLm1pcG1hcHM7XG5cbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuZXhlY3V0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIENvbXByZXNzZWRUZXh0dXJlIGV4dGVuZHMgVHdvRFRleHR1cmUge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3NldDpDb21wcmVzc2VkVGV4dHVyZUFzc2V0KSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKGFzc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldCBzb3VyY2VSZWdpb25NZXRob2QoKXtcbiAgICAgICAgICAgIExvZy5hc3NlcnQodGhpcy5wX3NvdXJjZVJlZ2lvbk1ldGhvZCA9PT0gRVRleHR1cmVTb3VyY2VSZWdpb25NZXRob2QuRFJBV19JTl9DQU5WQVMsIFwiY29tcHJlc3NlZCB0ZXh0dXJlIG5vdCBzdXBwb3J0IEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkRSQVdfSU5fQ0FOVkFTLCB3aWxsIHVzZSBFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZC5DSEFOR0VfVEVYQ09PUkRTX0lOX0dMU0wgaW5zdGVhZFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkNIQU5HRV9URVhDT09SRFNfSU5fR0xTTDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhbGxvY2F0ZVNvdXJjZVRvVGV4dHVyZShpc1NvdXJjZVBvd2VyT2ZUd286Ym9vbGVhbikge1xuICAgICAgICAgICAgdmFyIGdsID0gRGV2aWNlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdsLFxuICAgICAgICAgICAgICAgIGNvbXByZXNzZWRDbWQgPSBEcmF3Q29tcHJlc3NlZFRleHR1cmVDb21tYW5kLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLmdsVGFyZ2V0ID0gZ2wuVEVYVFVSRV8yRDtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQudHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIGNvbXByZXNzZWRDbWQuZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLm1pcG1hcHMgPSB0aGlzLm1pcG1hcHM7XG4gICAgICAgICAgICBjb21wcmVzc2VkQ21kLnNvdXJjZVJlZ2lvbiA9IHRoaXMuc291cmNlUmVnaW9uO1xuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5zb3VyY2VSZWdpb25NZXRob2QgPSB0aGlzLnNvdXJjZVJlZ2lvbk1ldGhvZDtcblxuICAgICAgICAgICAgY29tcHJlc3NlZENtZC5leGVjdXRlKCk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMubWlwbWFwcy5nZXRDb3VudCgpID4gMSl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBuZWVkQ2xhbXBNYXhTaXplKCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBDb21wcmVzc2VkVGV4dHVyZU1pcG1hcCA9IHtcbiAgICAgICAgZGF0YTphbnk7XG4gICAgICAgIHdpZHRoOm51bWJlcjtcbiAgICAgICAgaGVpZ2h0Om51bWJlcjtcbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgRHJhd1RleHR1cmVDb21tYW5ke1xuICAgICAgICBwdWJsaWMgZm9ybWF0OkVUZXh0dXJlRm9ybWF0ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHR5cGU6RVRleHR1cmVUeXBlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZVJlZ2lvbjpSZWN0UmVnaW9uID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNvdXJjZVJlZ2lvbk1ldGhvZDpFVGV4dHVyZVNvdXJjZVJlZ2lvbk1ldGhvZCA9IEVUZXh0dXJlU291cmNlUmVnaW9uTWV0aG9kLkNIQU5HRV9URVhDT09SRFNfSU5fR0xTTDtcbiAgICAgICAgcHVibGljIGdsVGFyZ2V0OmFueSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGFic3RyYWN0IGV4ZWN1dGUoKTtcblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RHJhd1RhcmdldChzb3VyY2U6YW55LCBzb3VyY2VSZWdpb246UmVjdFJlZ2lvbj10aGlzLnNvdXJjZVJlZ2lvbil7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYoQmFzaWNUZXh0dXJlVXRpbHMuaXNEcmF3UGFydE9mVGV4dHVyZShzb3VyY2VSZWdpb24sIHRoaXMuc291cmNlUmVnaW9uTWV0aG9kKSl7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQmFzaWNUZXh0dXJlVXRpbHMuZHJhd1BhcnRPZlRleHR1cmVCeUNhbnZhcyhzb3VyY2UsIHNvdXJjZVJlZ2lvbi53aWR0aCwgc291cmNlUmVnaW9uLmhlaWdodCwgc291cmNlUmVnaW9uLngsIHNvdXJjZVJlZ2lvbi55LCBzb3VyY2VSZWdpb24ud2lkdGgsIHNvdXJjZVJlZ2lvbi5oZWlnaHQsIDAsIDAsIHNvdXJjZVJlZ2lvbi53aWR0aCwgc291cmNlUmVnaW9uLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNvdXJjZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRHJhd0NvbXByZXNzZWRUZXh0dXJlQ29tbWFuZCBleHRlbmRzIERyYXdUZXh0dXJlQ29tbWFuZHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBtaXBtYXBzOndkQ2IuQ29sbGVjdGlvbjxDb21wcmVzc2VkVGV4dHVyZU1pcG1hcD4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBleGVjdXRlKCl7XG4gICAgICAgICAgICB2YXIgZ2wgPSBEZXZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2wsXG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIExvZy5lcnJvcih0aGlzLmZvcm1hdCA9PT0gbnVsbCwgTG9nLmluZm8uRlVOQ19OT1RfU1VQUE9SVCh0aGlzLmZvcm1hdCkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5mb3JtYXQgIT09IEVUZXh0dXJlRm9ybWF0LlJHQkEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pcG1hcHMuZm9yRWFjaCgobWlwbWFwOkNvbXByZXNzZWRUZXh0dXJlTWlwbWFwLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoc2VsZi5nbFRhcmdldCwgaW5kZXgsIHNlbGYuZm9ybWF0LCBtaXBtYXAud2lkdGgsIG1pcG1hcC5oZWlnaHQsIDAsIHNlbGYuZ2V0RHJhd1RhcmdldChtaXBtYXAuZGF0YSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLm1pcG1hcHMuZm9yRWFjaCgobWlwbWFwOkNvbXByZXNzZWRUZXh0dXJlTWlwbWFwLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChzZWxmLmdsVGFyZ2V0LCBpbmRleCwgZ2xbc2VsZi5mb3JtYXRdLCBtaXBtYXAud2lkdGgsIG1pcG1hcC5oZWlnaHQsIDAsIGdsW3NlbGYuZm9ybWF0XSwgZ2xbc2VsZi50eXBlXSwgc2VsZi5nZXREcmF3VGFyZ2V0KG1pcG1hcC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIERyYXdUd29EVGV4dHVyZUNvbW1hbmQgZXh0ZW5kcyBEcmF3VGV4dHVyZUNvbW1hbmR7XG4gICAgICAgIHB1YmxpYyBzb3VyY2U6YW55ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgZHJhd1RleHR1cmUoaW5kZXg6bnVtYmVyLCBzb3VyY2U6YW55KXtcbiAgICAgICAgICAgIHZhciBnbCA9IERldmljZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nbDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0aGlzLmdsVGFyZ2V0LCBpbmRleCwgZ2xbdGhpcy5mb3JtYXRdLCBnbFt0aGlzLmZvcm1hdF0sIGdsW3RoaXMudHlwZV0sIHRoaXMuZ2V0RHJhd1RhcmdldChzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBEcmF3TWlwbWFwVHdvRFRleHR1cmVDb21tYW5kIGV4dGVuZHMgRHJhd1R3b0RUZXh0dXJlQ29tbWFuZHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG1pcG1hcHM6d2RDYi5Db2xsZWN0aW9uPEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudD4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBleGVjdXRlKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMubWlwbWFwcy5mb3JFYWNoKChtaXBtYXA6SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50LCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmRyYXdUZXh0dXJlKGluZGV4LCBtaXBtYXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRHJhd05vTWlwbWFwVHdvRFRleHR1cmVDb21tYW5kIGV4dGVuZHMgRHJhd1R3b0RUZXh0dXJlQ29tbWFuZHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBleGVjdXRlKCl7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0dXJlKDAsIHRoaXMuc291cmNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGRlY2xhcmUgdmFyIGRvY3VtZW50OmFueTtcblxuICAgIC8vdG9kbyByZWZlciB0byB2aWRlby5qcywgbWVkaWFlbGVtZW50LmpzIHRvIGVuaGFuY2VcbiAgICAvL3RvZG8gdW5pZnkgd2l0aCBBdWRpb1xuICAgIC8vdG9kbyBjYW4gZmFsbGJhY2sgdG8gZmxhc2hcbiAgICAvL3RvZG8gc3VwcG9ydCBsb29wXG4gICAgZXhwb3J0IGNsYXNzIFZpZGVve1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkYXRhOmFueSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKGRhdGEpO1xuXG4gICAgICAgIFx0b2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgdXJsQXJyLFxuICAgICAgICAgICAgb25Mb2FkPSAodmlkZW86VmlkZW8pID0+IHt9LFxuICAgICAgICAgICAgb25FcnJvcj0gKGVycjphbnkpID0+IHt9XG4gICAgICAgICAgICB9KXtcbiAgICAgICAgICAgIHRoaXMuX3VybEFyciA9IHdkQ2IuQ29sbGVjdGlvbi5jcmVhdGU8c3RyaW5nPih1cmxBcnIpO1xuICAgICAgICAgICAgdGhpcy5fb25Mb2FkID0gb25Mb2FkO1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdXJsOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzb3VyY2U6SFRNTFZpZGVvRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc1N0b3A6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgX3VybEFycjp3ZENiLkNvbGxlY3Rpb248c3RyaW5nPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX29uTG9hZDpGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX29uRXJyb3I6RnVuY3Rpb24gPSBudWxsO1xuXG5cbiAgICAgICAgcHVibGljIGluaXRXaGVuQ3JlYXRlKCl7XG4gICAgICAgICAgICB0aGlzLnVybCA9IHRoaXMuX2dldENhblBsYXlVcmwoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gdGhpcy51cmw7XG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwbGF5KCl7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9nZXRDYW5QbGF5VXJsKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGNhblBsYXlVcmwgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV4dG5hbWVBcnIgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5fdXJsQXJyLmZvckVhY2goKHVybCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBleHRuYW1lID0gIHdkQ2IuUGF0aFV0aWxzLmV4dG5hbWUodXJsKTtcblxuICAgICAgICAgICAgICAgIGV4dG5hbWVBcnIucHVzaChleHRuYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9jYW5wbGF5KGV4dG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhblBsYXlVcmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLiRCUkVBSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgTG9nLmVycm9yKGNhblBsYXlVcmwgPT09IG51bGwsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJicm93c2VyXCIsIGV4dG5hbWVBcnIuam9pbihcIixcIikpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhblBsYXlVcmw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9jYW5wbGF5KGV4dG5hbWUpIHtcbiAgICAgICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxcbiAgICAgICAgICAgICAgICBtaW1lU3RyID0gbnVsbDtcblxuICAgICAgICAgICAgc3dpdGNoIChleHRuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnLm1wNCc6XG4gICAgICAgICAgICAgICAgICAgIG1pbWVTdHIgPSAndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyZTAxZSwgbXA0YS40MC4yXCInO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiLm9ndlwiOlxuICAgICAgICAgICAgICAgICAgICBtaW1lU3RyID0gJ3ZpZGVvL29nZzsgY29kZWNzPVwidGhlb3JhLCB2b3JiaXNcIic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIud2VibVwiOlxuICAgICAgICAgICAgICAgICAgICBtaW1lU3RyID0gJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOCwgdm9yYmlzXCInO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgTG9nLmVycm9yKHRydWUsIExvZy5pbmZvLkZVTkNfVU5FWFBFQ1QoZXh0bmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEhdmlkZW8uY2FuUGxheVR5cGUgJiYgdmlkZW8uY2FuUGxheVR5cGUobWltZVN0cikgIT09IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9iaW5kRXZlbnQoKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9vbkxvYWQoc2VsZik7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX29uRXJyb3IoXCJlcnJvckNvZGUgXCIgKyBzZWxmLnNvdXJjZS5lcnJvci5jb2RlKTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc1N0b3AgPSB0cnVlO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBWaWRlb01hbmFnZXJ7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBwbGF5KGlkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgYXNzZXQgPSBWaWRlb0xvYWRlci5nZXRJbnN0YW5jZSgpLmdldChpZCksXG4gICAgICAgICAgICAgICAgdmlkZW86VmlkZW8gPSBudWxsO1xuXG4gICAgICAgICAgICBMb2cuZXJyb3IoIWFzc2V0LCBMb2cuaW5mby5GVU5DX05PVF9FWElTVChcInZpZGVvIGFzc2V0IHdoaWNoIGlkIGlzIFwiICsgaWQpKTtcblxuICAgICAgICAgICAgdmlkZW8gPSBhc3NldC52aWRlbztcblxuICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJkZWNsYXJlIHZhciBnbG9iYWw6YW55LHdpbmRvdzpXaW5kb3c7XG5cbm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgdmFyIHJvb3Q6YW55O1xuXG4gICAgaWYoSnVkZ2VVdGlscy5pc05vZGVKcygpKXtcbiAgICAgICAgcm9vdCA9IGdsb2JhbDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgcm9vdCA9IHdpbmRvdztcbiAgICB9XG59XG5cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDb21tb25Qcm9jZWR1cmFsU2hhZGVyTGliIGV4dGVuZHMgUHJvY2VkdXJhbFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiY29tbW9uX3Byb2NlZHVyYWxUZXh0dXJlXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgdGhpcy5zZW5kQXR0cmlidXRlRGF0YShwcm9ncmFtLCBcImFfcG9zaXRpb25WZWMyXCIsIGNtZC52ZXJ0ZXhCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24oY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24oY21kKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVWYXJpYWJsZShbXCJhX3Bvc2l0aW9uVmVjMlwiXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgRmlyZVByb2NlZHVyYWxTaGFkZXJMaWIgZXh0ZW5kcyBQcm9jZWR1cmFsU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwcm9jZWR1cmFsVGV4dHVyZTpGaXJlUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhwcm9jZWR1cmFsVGV4dHVyZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcm9jZWR1cmFsVGV4dHVyZTpGaXJlUHJvY2VkdXJhbFRleHR1cmUpe1xuICAgICAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2VkdXJhbFRleHR1cmUgPSBwcm9jZWR1cmFsVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwiZmlyZV9wcm9jZWR1cmFsVGV4dHVyZVwiO1xuXG4gICAgICAgIHByaXZhdGUgX3Byb2NlZHVyYWxUZXh0dXJlOkZpcmVQcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgdmFyIHRleHR1cmU6RmlyZVByb2NlZHVyYWxUZXh0dXJlID0gdGhpcy5fcHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgICAgIHRleHR1cmUuY29tcHV0ZVRpbWUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3RpbWVcIiwgdGV4dHVyZS50aW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9zcGVlZFwiLCB0ZXh0dXJlLnNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9zaGlmdFwiLCB0ZXh0dXJlLnNoaWZ0KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9hbHBoYVRocmVzaG9sZFwiLCB0ZXh0dXJlLmFscGhhVGhyZXNob2xkKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5maXJlQ29sb3JNYXAuZm9yRWFjaCgoY29sb3I6Q29sb3IsIG5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbS5zZW5kU3RydWN0dXJlRGF0YShgdV9maXJlQ29sb3IuJHtuYW1lfWAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMywgY29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X3RpbWVcIiwgXCJ1X3NwZWVkXCIsIFwidV9zaGlmdFwiLCBcInVfYWxwaGFUaHJlc2hvbGRcIiwgXCJ1X2ZpcmVDb2xvclwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgRmlyZVByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlciBleHRlbmRzIFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodGV4dHVyZTpGaXJlUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdGV4dHVyZTpGaXJlUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHVibGljIG5lZWRSZW5kZXIoKTpib29sZWFue1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZGVyKCl7XG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gQ29tbW9uUHJvY2VkdXJhbFNoYWRlci5jcmVhdGUoKTtcblxuICAgICAgICAgICAgc2hhZGVyLmFkZExpYihGaXJlUHJvY2VkdXJhbFNoYWRlckxpYi5jcmVhdGUodGhpcy50ZXh0dXJlKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEZpcmVQcm9jZWR1cmFsVGV4dHVyZSBleHRlbmRzIFByb2NlZHVyYWxUZXh0dXJle1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2ZpcmVDb2xvck1hcDp3ZENiLkhhc2g8Q29sb3I+ID0gbnVsbDtcbiAgICAgICAgQHJlcXVpcmVTZXR0ZXIoZnVuY3Rpb24oZmlyZUNvbG9yTWFwOndkQ2IuSGFzaDxDb2xvcj4pe1xuICAgICAgICAgICAgYXNzZXJ0KGZpcmVDb2xvck1hcC5nZXRDb3VudCgpID09PSA2LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImNvbnRhaW4gNiBjb2xvcnNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBAZW5zdXJlR2V0dGVyKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIGFzc2VydCh2YWx1ZS5nZXRDb3VudCgpID09PSA2LCBMb2cuaW5mby5GVU5DX1NIT1VMRChcImNvbnRhaW4gNiBjb2xvcnNcIikpO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgZmlyZUNvbG9yTWFwKCl7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZmlyZUNvbG9yVHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBFRmlyZVByb2NlZHVyYWxUZXh0dXJlQ29sb3JUeXBlLkNVU1RPTTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcmVDb2xvck1hcDtcbiAgICAgICAgICAgICAgICBjYXNlIEVGaXJlUHJvY2VkdXJhbFRleHR1cmVDb2xvclR5cGUuUkVEOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi5IYXNoLmNyZWF0ZTxDb2xvcj4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjMVwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC41LCAwLjAsIDAuMSlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImMyXCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjksIDAuMCwgMC4wKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzNcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuMiwgMC4wLCAwLjApXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjNFwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMS4wLCAwLjksIDAuMClcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImM1XCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjEsIDAuMSwgMC4xKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzZcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuOSwgMC45LCAwLjkpXCIpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgRUZpcmVQcm9jZWR1cmFsVGV4dHVyZUNvbG9yVHlwZS5CTFVFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi5IYXNoLmNyZWF0ZTxDb2xvcj4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjMVwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC4xLCAwLjAsIDAuNSlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImMyXCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjAsIDAuMCwgMC41KVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzNcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuMSwgMC4wLCAwLjIpXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjNFwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC4wLCAwLjAsIDEuMClcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImM1XCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjEsIDAuMiwgMC4zKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzZcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuMCwgMC4yLCAwLjkpXCIpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgRUZpcmVQcm9jZWR1cmFsVGV4dHVyZUNvbG9yVHlwZS5QVVJQTEU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZENiLkhhc2guY3JlYXRlPENvbG9yPih7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImMxXCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjUsIDAuMCwgMS4wKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzJcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuOSwgMC4wLCAxLjApXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjM1wiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC4yLCAwLjAsIDEuMClcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImM0XCI6IENvbG9yLmNyZWF0ZShcInJnYigxLjAsIDAuOSwgMS4wKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzVcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuMSwgMC4xLCAxLjApXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjNlwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC45LCAwLjksIDEuMClcIilcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2FzZSBFRmlyZVByb2NlZHVyYWxUZXh0dXJlQ29sb3JUeXBlLkdSRUVOOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2RDYi5IYXNoLmNyZWF0ZTxDb2xvcj4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjMVwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC41LCAxLjAsIDAuMClcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImMyXCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjUsIDEuMCwgMC4wKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzNcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuMywgMC40LCAwLjApXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjNFwiOiBDb2xvci5jcmVhdGUoXCJyZ2IoMC41LCAxLjAsIDAuMClcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImM1XCI6IENvbG9yLmNyZWF0ZShcInJnYigwLjIsIDAuMCwgMC4wKVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYzZcIjogQ29sb3IuY3JlYXRlKFwicmdiKDAuNSwgMS4wLCAwLjApXCIpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIExvZy5lcnJvcih0cnVlLCBMb2cuaW5mby5GVU5DX1VORVhQRUNUKGBmaXJlQ29sb3JUeXBlOiR7dGhpcy5maXJlQ29sb3JUeXBlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGZpcmVDb2xvck1hcChmaXJlQ29sb3JNYXA6d2RDYi5IYXNoPENvbG9yPil7XG4gICAgICAgICAgICB0aGlzLl9maXJlQ29sb3JNYXAgPSBmaXJlQ29sb3JNYXA7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZmlyZUNvbG9yVHlwZTpFRmlyZVByb2NlZHVyYWxUZXh0dXJlQ29sb3JUeXBlID0gRUZpcmVQcm9jZWR1cmFsVGV4dHVyZUNvbG9yVHlwZS5SRUQ7XG5cbiAgICAgICAgcHVibGljIHNwZWVkOlZlY3RvcjIgPSBWZWN0b3IyLmNyZWF0ZSgwLjUsIDAuMyk7XG4gICAgICAgIHB1YmxpYyBhbHBoYVRocmVzaG9sZDpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBzaGlmdDpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgdGltZTpudW1iZXIgPSAwO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuYWRkUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyKEZpcmVQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIuY3JlYXRlKHRoaXMpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY29tcHV0ZVRpbWUoKXtcbiAgICAgICAgICAgIHRoaXMudGltZSArPSAwLjE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBFRmlyZVByb2NlZHVyYWxUZXh0dXJlQ29sb3JUeXBle1xuICAgICAgICBDVVNUT00sXG4gICAgICAgIFJFRCxcbiAgICAgICAgUFVSUExFLFxuICAgICAgICBHUkVFTixcbiAgICAgICAgQkxVRVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgTWFyYmxlUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXh0dXJlOk1hcmJsZVByb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGV4dHVyZSk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6TWFyYmxlUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlcigpe1xuICAgICAgICAgICAgdmFyIHNoYWRlciA9IENvbW1vblByb2NlZHVyYWxTaGFkZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYWRlci5hZGRMaWIoTWFyYmxlUHJvY2VkdXJhbFNoYWRlckxpYi5jcmVhdGUodGhpcy50ZXh0dXJlKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgLy90b2RvIHN1cHBvcnQgc3BlY2lmeSBtYXJibGUgY29sb3IobW9yZSB0aGFuIG9uZSBjb2xvciBwYXJhbSkgYnkgdXNlclxuICAgIGV4cG9ydCBjbGFzcyBNYXJibGVQcm9jZWR1cmFsVGV4dHVyZSBleHRlbmRzIFByb2NlZHVyYWxUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0aWxlc0hlaWdodE51bWJlcjpudW1iZXIgPSAzO1xuICAgICAgICBwdWJsaWMgdGlsZXNXaWR0aE51bWJlcjpudW1iZXIgPSAzO1xuICAgICAgICBwdWJsaWMgYW1wbGl0dWRlOm51bWJlciA9IDk7XG4gICAgICAgIHB1YmxpYyBqb2ludENvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwicmdiKDAuNzIsIDAuNzIsIDAuNzIpXCIpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgICAgIERpcmVjdG9yLmdldEluc3RhbmNlKCkuc2NlbmUuYWRkUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyKE1hcmJsZVByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBNYXJibGVQcm9jZWR1cmFsU2hhZGVyTGliIGV4dGVuZHMgUHJvY2VkdXJhbFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocHJvY2VkdXJhbFRleHR1cmU6TWFyYmxlUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhwcm9jZWR1cmFsVGV4dHVyZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcm9jZWR1cmFsVGV4dHVyZTpNYXJibGVQcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJtYXJibGVfcHJvY2VkdXJhbFRleHR1cmVcIjtcblxuICAgICAgICBwcml2YXRlIF9wcm9jZWR1cmFsVGV4dHVyZTpNYXJibGVQcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgdmFyIHRleHR1cmU6TWFyYmxlUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3RpbGVzSGVpZ2h0TnVtYmVyXCIsIHRleHR1cmUudGlsZXNIZWlnaHROdW1iZXIpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3RpbGVzV2lkdGhOdW1iZXJcIiwgdGV4dHVyZS50aWxlc1dpZHRoTnVtYmVyKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9hbXBsaXR1ZGVcIiwgdGV4dHVyZS5hbXBsaXR1ZGUpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2pvaW50Q29sb3JcIiwgdGV4dHVyZS5qb2ludENvbG9yLnRvVmVjdG9yMygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKGNtZDpQcm9jZWR1cmFsQ29tbWFuZCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKGNtZCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBcInVfdGlsZXNIZWlnaHROdW1iZXJcIiwgXCJ1X3RpbGVzV2lkdGhOdW1iZXJcIiwgXCJ1X2FtcGxpdHVkZVwiLCBcInVfam9pbnRDb2xvclwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgR3Jhc3NQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRleHR1cmU6R3Jhc3NQcm9jZWR1cmFsVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOkdyYXNzUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlcigpe1xuICAgICAgICAgICAgdmFyIHNoYWRlciA9IENvbW1vblByb2NlZHVyYWxTaGFkZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYWRlci5hZGRMaWIoR3Jhc3NQcm9jZWR1cmFsU2hhZGVyTGliLmNyZWF0ZSh0aGlzLnRleHR1cmUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgR3Jhc3NQcm9jZWR1cmFsVGV4dHVyZSBleHRlbmRzIFByb2NlZHVyYWxUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBoZXJiMUNvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwicmdiKDAuMjksIDAuMzgsIDAuMDIpXCIpO1xuICAgICAgICBwdWJsaWMgaGVyYjJDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcInJnYigwLjM2LCAwLjQ5LCAwLjA5KVwiKTtcbiAgICAgICAgcHVibGljIGhlcmIzQ29sb3I6Q29sb3IgPSBDb2xvci5jcmVhdGUoXCJyZ2IoMC41MSwgMC42LCAwLjI4KVwiKTtcbiAgICAgICAgcHVibGljIGdyb3VuZENvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwicmdiKDEuMCwxLjAsMS4wKVwiKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcihHcmFzc1Byb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBHcmFzc1Byb2NlZHVyYWxTaGFkZXJMaWIgZXh0ZW5kcyBQcm9jZWR1cmFsU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwcm9jZWR1cmFsVGV4dHVyZTpHcmFzc1Byb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocHJvY2VkdXJhbFRleHR1cmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJvY2VkdXJhbFRleHR1cmU6R3Jhc3NQcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJncmFzc19wcm9jZWR1cmFsVGV4dHVyZVwiO1xuXG4gICAgICAgIHByaXZhdGUgX3Byb2NlZHVyYWxUZXh0dXJlOkdyYXNzUHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlOkdyYXNzUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2hlcmIxQ29sb3JcIiwgdGV4dHVyZS5oZXJiMUNvbG9yLnRvVmVjdG9yMygpKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9oZXJiMkNvbG9yXCIsIHRleHR1cmUuaGVyYjJDb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfaGVyYjNDb2xvclwiLCB0ZXh0dXJlLmhlcmIzQ29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2dyb3VuZENvbG9yXCIsIHRleHR1cmUuZ3JvdW5kQ29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24oY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24oY21kKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFwidV9oZXJiMUNvbG9yXCIsIFwidV9oZXJiMkNvbG9yXCIsIFwidV9oZXJiM0NvbG9yXCIsIFwidV9ncm91bmRDb2xvclwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgV29vZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlciBleHRlbmRzIFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUodGV4dHVyZTpXb29kUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdGV4dHVyZTpXb29kUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlcigpe1xuICAgICAgICAgICAgdmFyIHNoYWRlciA9IENvbW1vblByb2NlZHVyYWxTaGFkZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYWRlci5hZGRMaWIoV29vZFByb2NlZHVyYWxTaGFkZXJMaWIuY3JlYXRlKHRoaXMudGV4dHVyZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2Qge1xuICAgIGV4cG9ydCBjbGFzcyBXb29kUHJvY2VkdXJhbFRleHR1cmUgZXh0ZW5kcyBQcm9jZWR1cmFsVGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYW1wU2NhbGU6bnVtYmVyID0gMTAwLjA7XG4gICAgICAgIHB1YmxpYyB3b29kQ29sb3I6Q29sb3IgPSBDb2xvci5jcmVhdGUoXCJyZ2IoMC4zMiwgMC4xNywgMC4wOSlcIik7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5hZGRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIoV29vZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBXb29kUHJvY2VkdXJhbFNoYWRlckxpYiBleHRlbmRzIFByb2NlZHVyYWxTaGFkZXJMaWJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHByb2NlZHVyYWxUZXh0dXJlOldvb2RQcm9jZWR1cmFsVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHByb2NlZHVyYWxUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByb2NlZHVyYWxUZXh0dXJlOldvb2RQcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJ3b29kX3Byb2NlZHVyYWxUZXh0dXJlXCI7XG5cbiAgICAgICAgcHJpdmF0ZSBfcHJvY2VkdXJhbFRleHR1cmU6V29vZFByb2NlZHVyYWxUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgc2VuZFNoYWRlclZhcmlhYmxlcyhwcm9ncmFtOlByb2dyYW0sIGNtZDpQcm9jZWR1cmFsQ29tbWFuZCl7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZTpXb29kUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2FtcFNjYWxlXCIsIHRleHR1cmUuYW1wU2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3dvb2RDb2xvclwiLCB0ZXh0dXJlLndvb2RDb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X2FtcFNjYWxlXCIsIFwidV93b29kQ29sb3JcIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIFJvYWRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRleHR1cmU6Um9hZFByb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGV4dHVyZSk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6Um9hZFByb2NlZHVyYWxUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkZXIoKXtcbiAgICAgICAgICAgIHZhciBzaGFkZXIgPSBDb21tb25Qcm9jZWR1cmFsU2hhZGVyLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBzaGFkZXIuYWRkTGliKFJvYWRQcm9jZWR1cmFsU2hhZGVyTGliLmNyZWF0ZSh0aGlzLnRleHR1cmUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgUm9hZFByb2NlZHVyYWxUZXh0dXJlIGV4dGVuZHMgUHJvY2VkdXJhbFRleHR1cmUge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgXHR2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgXHRyZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJvYWRDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcInJnYigwLjUzLCAwLjUzLCAwLjUzKVwiKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcihSb2FkUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLmNyZWF0ZSh0aGlzKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFJvYWRQcm9jZWR1cmFsU2hhZGVyTGliIGV4dGVuZHMgUHJvY2VkdXJhbFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocHJvY2VkdXJhbFRleHR1cmU6Um9hZFByb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocHJvY2VkdXJhbFRleHR1cmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJvY2VkdXJhbFRleHR1cmU6Um9hZFByb2NlZHVyYWxUZXh0dXJlKXtcbiAgICAgICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2NlZHVyYWxUZXh0dXJlID0gcHJvY2VkdXJhbFRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdHlwZTpzdHJpbmcgPSBcInJvYWRfcHJvY2VkdXJhbFRleHR1cmVcIjtcblxuICAgICAgICBwcml2YXRlIF9wcm9jZWR1cmFsVGV4dHVyZTpSb2FkUHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgY21kOlByb2NlZHVyYWxDb21tYW5kKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZTpSb2FkUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3JvYWRDb2xvclwiLCB0ZXh0dXJlLnJvYWRDb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihjbWQpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm1WYXJpYWJsZShbXG4gICAgICAgICAgICAgICAgXCJ1X3JvYWRDb2xvclwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2xvdWRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIgZXh0ZW5kcyBQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHRleHR1cmU6Q2xvdWRQcm9jZWR1cmFsVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB0ZXh0dXJlOkNsb3VkUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNoYWRlcigpe1xuICAgICAgICAgICAgdmFyIHNoYWRlciA9IENvbW1vblByb2NlZHVyYWxTaGFkZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHNoYWRlci5hZGRMaWIoQ2xvdWRQcm9jZWR1cmFsU2hhZGVyTGliLmNyZWF0ZSh0aGlzLnRleHR1cmUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ2xvdWRQcm9jZWR1cmFsVGV4dHVyZSBleHRlbmRzIFByb2NlZHVyYWxUZXh0dXJlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgIFx0dmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgIFx0cmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBza3lDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcInJnYigwLjE1LCAwLjY4LCAxLjApXCIpO1xuICAgICAgICBwdWJsaWMgY2xvdWRDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcInJnYigxLjAsIDEuMCwgMS4wKVwiKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcihDbG91ZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDbG91ZFByb2NlZHVyYWxTaGFkZXJMaWIgZXh0ZW5kcyBQcm9jZWR1cmFsU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwcm9jZWR1cmFsVGV4dHVyZTpDbG91ZFByb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocHJvY2VkdXJhbFRleHR1cmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJvY2VkdXJhbFRleHR1cmU6Q2xvdWRQcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJjbG91ZF9wcm9jZWR1cmFsVGV4dHVyZVwiO1xuXG4gICAgICAgIHByaXZhdGUgX3Byb2NlZHVyYWxUZXh0dXJlOkNsb3VkUHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlOkNsb3VkUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3NreUNvbG9yXCIsIHRleHR1cmUuc2t5Q29sb3IudG9WZWN0b3I0KCkpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X2Nsb3VkQ29sb3JcIiwgdGV4dHVyZS5jbG91ZENvbG9yLnRvVmVjdG9yNCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKGNtZDpQcm9jZWR1cmFsQ29tbWFuZCl7XG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKGNtZCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcbiAgICAgICAgICAgICAgICBcInVfc2t5Q29sb3JcIiwgXCJ1X2Nsb3VkQ29sb3JcIlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEJyaWNrUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXh0dXJlOkJyaWNrUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgb2JqLmluaXRXaGVuQ3JlYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdGV4dHVyZTpCcmlja1Byb2NlZHVyYWxUZXh0dXJlO1xuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTaGFkZXIoKXtcbiAgICAgICAgICAgIHZhciBzaGFkZXIgPSBDb21tb25Qcm9jZWR1cmFsU2hhZGVyLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBzaGFkZXIuYWRkTGliKEJyaWNrUHJvY2VkdXJhbFNoYWRlckxpYi5jcmVhdGUodGhpcy50ZXh0dXJlKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZCB7XG4gICAgZXhwb3J0IGNsYXNzIEJyaWNrUHJvY2VkdXJhbFRleHR1cmUgZXh0ZW5kcyBQcm9jZWR1cmFsVGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgdGlsZXNIZWlnaHROdW1iZXI6bnVtYmVyID0gMTU7XG4gICAgICAgIHB1YmxpYyB0aWxlc1dpZHRoTnVtYmVyOm51bWJlciA9IDU7XG4gICAgICAgIHB1YmxpYyBicmlja0NvbG9yOkNvbG9yID0gQ29sb3IuY3JlYXRlKFwicmdiKDAuNzcsIDAuNDcsIDAuNDApXCIpO1xuICAgICAgICBwdWJsaWMgam9pbnRDb2xvcjpDb2xvciA9IENvbG9yLmNyZWF0ZShcInJnYigwLjcyLCAwLjcyLCAwLjcyKVwiKTtcblxuICAgICAgICBwdWJsaWMgaW5pdCgpe1xuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuXG4gICAgICAgICAgICBEaXJlY3Rvci5nZXRJbnN0YW5jZSgpLnNjZW5lLmFkZFByb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlcihCcmlja1Byb2NlZHVyYWxSZW5kZXJUYXJnZXRSZW5kZXJlci5jcmVhdGUodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBCcmlja1Byb2NlZHVyYWxTaGFkZXJMaWIgZXh0ZW5kcyBQcm9jZWR1cmFsU2hhZGVyTGlie1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwcm9jZWR1cmFsVGV4dHVyZTpCcmlja1Byb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMocHJvY2VkdXJhbFRleHR1cmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJvY2VkdXJhbFRleHR1cmU6QnJpY2tQcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJicmlja19wcm9jZWR1cmFsVGV4dHVyZVwiO1xuXG4gICAgICAgIHByaXZhdGUgX3Byb2NlZHVyYWxUZXh0dXJlOkJyaWNrUHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBzZW5kU2hhZGVyVmFyaWFibGVzKHByb2dyYW06UHJvZ3JhbSwgY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlOkJyaWNrUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kVW5pZm9ybURhdGEocHJvZ3JhbSwgXCJ1X3RpbGVzV2lkdGhOdW1iZXJcIiwgdGV4dHVyZS50aWxlc1dpZHRoTnVtYmVyKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV90aWxlc0hlaWdodE51bWJlclwiLCB0ZXh0dXJlLnRpbGVzSGVpZ2h0TnVtYmVyKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKHByb2dyYW0sIFwidV9icmlja0NvbG9yXCIsIHRleHR1cmUuYnJpY2tDb2xvci50b1ZlY3RvcjMoKSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRVbmlmb3JtRGF0YShwcm9ncmFtLCBcInVfam9pbnRDb2xvclwiLCB0ZXh0dXJlLmpvaW50Q29sb3IudG9WZWN0b3IzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFNoYWRlckRlZmluaXRpb24oY21kOlByb2NlZHVyYWxDb21tYW5kKXtcbiAgICAgICAgICAgIHN1cGVyLnNldFNoYWRlckRlZmluaXRpb24oY21kKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtVmFyaWFibGUoW1xuICAgICAgICAgICAgICAgIFwidV90aWxlc0hlaWdodE51bWJlclwiLCBcInVfdGlsZXNXaWR0aE51bWJlclwiLCBcInVfYnJpY2tDb2xvclwiLCBcInVfam9pbnRDb2xvclwiXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyIGV4dGVuZHMgUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVye1xuICAgICAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXh0dXJlOkN1c3RvbVByb2NlZHVyYWxUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXModGV4dHVyZSk7XG5cbiAgICAgICAgICAgIG9iai5pbml0V2hlbkNyZWF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHRleHR1cmU6Q3VzdG9tUHJvY2VkdXJhbFRleHR1cmU7XG5cbiAgICAgICAgcHVibGljIG5lZWRSZW5kZXIoKTpib29sZWFue1xuICAgICAgICAgICAgaWYodGhpcy50ZXh0dXJlLmlzQW5pbWF0ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdXBlci5uZWVkUmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2hhZGVyKCl7XG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gQ3VzdG9tUHJvY2VkdXJhbFNoYWRlci5jcmVhdGUodGhpcy50ZXh0dXJlKTtcblxuICAgICAgICAgICAgc2hhZGVyLmFkZExpYihDdXN0b21Qcm9jZWR1cmFsU2hhZGVyTGliLmNyZWF0ZSh0aGlzLnRleHR1cmUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwibW9kdWxlIHdkIHtcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tUHJvY2VkdXJhbFRleHR1cmUgZXh0ZW5kcyBQcm9jZWR1cmFsVGV4dHVyZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICBcdHZhciBvYmogPSBuZXcgdGhpcygpO1xuXG4gICAgICAgICAgICBvYmouaW5pdFdoZW5DcmVhdGUoKTtcblxuICAgICAgICBcdHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbWFwTWFuYWdlcjpNYXBNYW5hZ2VyID0gTWFwTWFuYWdlci5jcmVhdGUobnVsbCk7XG4gICAgICAgIHB1YmxpYyB1bmlmb3JtTWFwOndkQ2IuSGFzaDxTaGFkZXJEYXRhPiA9IHdkQ2IuSGFzaC5jcmVhdGU8U2hhZGVyRGF0YT4oKTtcbiAgICAgICAgcHVibGljIGZzU291cmNlOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGlzQW5pbWF0ZTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGluaXQoKXtcbiAgICAgICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICAgICAgRGlyZWN0b3IuZ2V0SW5zdGFuY2UoKS5zY2VuZS5hZGRQcm9jZWR1cmFsUmVuZGVyVGFyZ2V0UmVuZGVyZXIoQ3VzdG9tUHJvY2VkdXJhbFJlbmRlclRhcmdldFJlbmRlcmVyLmNyZWF0ZSh0aGlzKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgU0FNUExFUl9DVUJFIHR5cGVcbiAgICAgICAgQHJlcXVpcmUoZnVuY3Rpb24oc2hhZGVyQ29uZmlnSWQ6c3RyaW5nKXtcbiAgICAgICAgICAgIHZhciBzaGFkZXJDb25maWc6Q3VzdG9tUHJvY2VkdXJhbFRleHR1cmVTaGFkZXJEZWZpbml0aW9uRGF0YSA9IExvYWRlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXQoc2hhZGVyQ29uZmlnSWQpLFxuICAgICAgICAgICAgICAgIHVuaWZvcm1zOk9iamVjdCA9IHNoYWRlckNvbmZpZy51bmlmb3JtcztcblxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB1bmlmb3Jtcykge1xuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdW5pZm9ybTpTaGFkZXJEYXRhID0gdW5pZm9ybXNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHVuaWZvcm0udHlwZSAhPT0gRVZhcmlhYmxlVHlwZS5TQU1QTEVSX0NVQkUsIExvZy5pbmZvLkZVTkNfTk9UX1NVUFBPUlQoXCJ1bmlmb3Jtc1wiLCBcIkVWYXJpYWJsZVR5cGUuU0FNUExFUl9DVUJFIHR5cGVcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgQGVuc3VyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuZnNTb3VyY2UgIT09IG51bGwsIExvZy5pbmZvLkZVTkNfU0hPVUxEKFwicmVhZCBmcmFnbWVudCBnbHNsIHNvdXJjZVwiKSk7XG4gICAgICAgIH0pXG4gICAgICAgIHB1YmxpYyByZWFkKHNoYWRlckNvbmZpZ0lkOnN0cmluZyl7XG4gICAgICAgICAgICB2YXIgc2hhZGVyQ29uZmlnOkN1c3RvbVByb2NlZHVyYWxUZXh0dXJlU2hhZGVyRGVmaW5pdGlvbkRhdGEgPSBMb2FkZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0KHNoYWRlckNvbmZpZ0lkKSxcbiAgICAgICAgICAgICAgICB1bmlmb3JtczpPYmplY3QgPSBzaGFkZXJDb25maWcudW5pZm9ybXM7XG5cbiAgICAgICAgICAgIHRoaXMuZnNTb3VyY2UgPSAgTG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldChzaGFkZXJDb25maWcuZnNTb3VyY2VJZCk7XG5cblxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB1bmlmb3Jtcyl7XG4gICAgICAgICAgICAgICAgaWYodW5pZm9ybXMuaGFzT3duUHJvcGVydHkobmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdW5pZm9ybTpTaGFkZXJEYXRhID0gdW5pZm9ybXNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYodW5pZm9ybS50eXBlID09PSBFVmFyaWFibGVUeXBlLlNBTVBMRVJfMkQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBNYW5hZ2VyLmFkZE1hcCg8VHdvRFRleHR1cmU+TG9hZGVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldCh1bmlmb3JtLnRleHR1cmVJZCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVyVmFyaWFibGVOYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtTWFwLmFkZENoaWxkKG5hbWUsIHVuaWZvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ3VzdG9tUHJvY2VkdXJhbFRleHR1cmVTaGFkZXJEZWZpbml0aW9uRGF0YSA9IHtcbiAgICAgICAgdW5pZm9ybXM6d2RDYi5IYXNoPFNoYWRlckRhdGE+O1xuICAgICAgICBmc1NvdXJjZUlkOnN0cmluZ1xuICAgIH1cbn1cblxuIiwibW9kdWxlIHdke1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21Qcm9jZWR1cmFsU2hhZGVyTGliIGV4dGVuZHMgUHJvY2VkdXJhbFNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUocHJvY2VkdXJhbFRleHR1cmU6Q3VzdG9tUHJvY2VkdXJhbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgdGhpcyhwcm9jZWR1cmFsVGV4dHVyZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcm9jZWR1cmFsVGV4dHVyZTpDdXN0b21Qcm9jZWR1cmFsVGV4dHVyZSl7XG4gICAgICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSA9IHByb2NlZHVyYWxUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHR5cGU6c3RyaW5nID0gXCJjdXN0b21fcHJvY2VkdXJhbFRleHR1cmVcIjtcblxuICAgICAgICBwcml2YXRlIF9wcm9jZWR1cmFsVGV4dHVyZTpDdXN0b21Qcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTpQcm9ncmFtLCBjbWQ6UHJvY2VkdXJhbENvbW1hbmQpe1xuICAgICAgICAgICAgdmFyIHRleHR1cmU6Q3VzdG9tUHJvY2VkdXJhbFRleHR1cmUgPSB0aGlzLl9wcm9jZWR1cmFsVGV4dHVyZSxcbiAgICAgICAgICAgICAgICB1bmlmb3JtTWFwOndkQ2IuSGFzaDxTaGFkZXJEYXRhPiA9IHRleHR1cmUudW5pZm9ybU1hcDtcblxuICAgICAgICAgICAgdW5pZm9ybU1hcC5mb3JFYWNoKCh1bmlmb3JtOlNoYWRlckRhdGEsIG5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgQ3VzdG9tU2hhZGVyTGliVXRpbHMuc2VuZFVuaWZvcm1EYXRhKG5hbWUsIHVuaWZvcm0udHlwZSwgdW5pZm9ybS52YWx1ZSwgcHJvZ3JhbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRTaGFkZXJEZWZpbml0aW9uKGNtZDpQcm9jZWR1cmFsQ29tbWFuZCl7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZTpDdXN0b21Qcm9jZWR1cmFsVGV4dHVyZSA9IHRoaXMuX3Byb2NlZHVyYWxUZXh0dXJlO1xuXG4gICAgICAgICAgICBzdXBlci5zZXRTaGFkZXJEZWZpbml0aW9uKGNtZCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RnNTb3VyY2UodGV4dHVyZS5mc1NvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIm1vZHVsZSB3ZHtcbiAgICBleHBvcnQgY2xhc3MgVGVycmFpbk1hdGVyaWFsIGV4dGVuZHMgTGlnaHRNYXRlcmlhbHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBsYXllcjpMYXllciA9IExheWVyLmNyZWF0ZSgpO1xuXG4gICAgICAgIHB1YmxpYyBpbml0KCl7XG4gICAgICAgICAgICB0aGlzLm1hcE1hbmFnZXIuYWRkQXJyYXlNYXAoXCJ1X2xheWVyU2FtcGxlcjJEc1wiLCB0aGlzLmxheWVyLm1hcEFycmF5KTtcblxuICAgICAgICAgICAgc3VwZXIuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFkZEV4dGVuZFNoYWRlckxpYigpe1xuICAgICAgICAgICAgaWYodGhpcy5sYXllci5tYXBEYXRhTGlzdC5nZXRDb3VudCgpID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXIuYWRkTGliKFRlcnJhaW5MYXllclNoYWRlckxpYi5jcmVhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgTGF5ZXJ7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyB0aGlzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9tYXBEYXRhTGlzdDp3ZENiLkNvbGxlY3Rpb248VGVycmFpbkxheWVyTWFwRGF0YT4gPSB3ZENiLkNvbGxlY3Rpb24uY3JlYXRlPFRlcnJhaW5MYXllck1hcERhdGE+KCk7XG4gICAgICAgIEByZXF1aXJlU2V0dGVyKGZ1bmN0aW9uKG1hcERhdGFMaXN0OndkQ2IuQ29sbGVjdGlvbjxUZXJyYWluTGF5ZXJNYXBEYXRhPil7XG4gICAgICAgICAgICBtYXBEYXRhTGlzdC5mb3JFYWNoKChtYXBEYXRhOlRlcnJhaW5MYXllck1hcERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQobWFwRGF0YS5taW5IZWlnaHQgPCBtYXBEYXRhLm1heEhlaWdodCwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJtaW5IZWlnaHRcIiwgXCI8IG1heEhlaWdodFwiKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWFwRGF0YUxpc3QuZm9yRWFjaCgobWFwRGF0YTpUZXJyYWluTGF5ZXJNYXBEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFwRGF0YUxpc3RcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZGF0YTpUZXJyYWluTGF5ZXJNYXBEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5taW5IZWlnaHQgIT09IG1hcERhdGEubWluSGVpZ2h0IHx8IGRhdGEubWF4SGVpZ2h0ICE9PSBtYXBEYXRhLm1heEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGRhdGE6VGVycmFpbkxheWVyTWFwRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KG1hcERhdGEubWluSGVpZ2h0ID49IGRhdGEubWF4SGVpZ2h0IHx8IG1hcERhdGEubWF4SGVpZ2h0IDw9IGRhdGEubWluSGVpZ2h0LCBMb2cuaW5mby5GVU5DX1NIT1VMRF9OT1QoXCJoZWlnaHQgcmFuZ2VcIiwgXCJvdmVybGFwXCIpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICBnZXQgbWFwRGF0YUxpc3QoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXBEYXRhTGlzdDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgbWFwRGF0YUxpc3QobWFwRGF0YUxpc3Q6d2RDYi5Db2xsZWN0aW9uPFRlcnJhaW5MYXllck1hcERhdGE+KXtcbiAgICAgICAgICAgIHRoaXMuX21hcERhdGFMaXN0ID0gbWFwRGF0YUxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBAZW5zdXJlR2V0dGVyKGZ1bmN0aW9uKG1hcEFycmF5OkFycmF5PFRleHR1cmU+KXtcbiAgICAgICAgICAgIGZvcihsZXQgbWFwIG9mIG1hcEFycmF5KXtcbiAgICAgICAgICAgICAgICBhc3NlcnQobWFwIGluc3RhbmNlb2YgVGV4dHVyZSwgTG9nLmluZm8uRlVOQ19TSE9VTEQoXCJyZXR1cm4gQXJyYXk8VGV4dHVyZT5cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBnZXQgbWFwQXJyYXkoKXtcbiAgICAgICAgICAgIHZhciBhcnI6QXJyYXk8VGV4dHVyZT4gPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5fbWFwRGF0YUxpc3QuZm9yRWFjaCgoZGF0YTpUZXJyYWluTGF5ZXJNYXBEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goZGF0YS5kaWZmdXNlTWFwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvIHN1cHBvcnQgYmxlbmRcbiAgICAgICAgLy9wdWJsaWMgYmxlbmRNZXRob2Q6RVRlcnJhaW5MYXllckJsZW5kTWV0aG9kID0gRVRlcnJhaW5MYXllckJsZW5kTWV0aG9kLkNVVDtcbiAgICB9XG5cbiAgICBleHBvcnQgdHlwZSBUZXJyYWluTGF5ZXJNYXBEYXRhID0ge1xuICAgICAgICBtaW5IZWlnaHQ6bnVtYmVyO1xuICAgICAgICBtYXhIZWlnaHQ6bnVtYmVyO1xuICAgICAgICBkaWZmdXNlTWFwOlRleHR1cmU7XG4gICAgfVxufVxuXG4iLCJtb2R1bGUgd2R7XG4gICAgZXhwb3J0IGNsYXNzIFRlcnJhaW5MYXllclNoYWRlckxpYiBleHRlbmRzIEVuZ2luZVNoYWRlckxpYntcbiAgICAgICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IHRoaXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyB0eXBlOnN0cmluZyA9IFwidGVycmFpbkxheWVyXCI7XG5cbiAgICAgICAgcHVibGljIHNlbmRTaGFkZXJWYXJpYWJsZXMocHJvZ3JhbTogUHJvZ3JhbSwgY21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpUZXJyYWluTWF0ZXJpYWwpe1xuICAgICAgICAgICAgbWF0ZXJpYWwubGF5ZXIubWFwRGF0YUxpc3QuZm9yRWFjaCgobWFwRGF0YTpUZXJyYWluTGF5ZXJNYXBEYXRhLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnNlbmRTdHJ1Y3R1cmVEYXRhKGB1X2xheWVySGVpZ2h0RGF0YXNbJHtpbmRleH1dLm1pbkhlaWdodGAsIEVWYXJpYWJsZVR5cGUuRkxPQVRfMSwgbWFwRGF0YS5taW5IZWlnaHQpO1xuICAgICAgICAgICAgICAgIHByb2dyYW0uc2VuZFN0cnVjdHVyZURhdGEoYHVfbGF5ZXJIZWlnaHREYXRhc1ske2luZGV4fV0ubWF4SGVpZ2h0YCwgRVZhcmlhYmxlVHlwZS5GTE9BVF8xLCBtYXBEYXRhLm1heEhlaWdodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEByZXF1aXJlKGZ1bmN0aW9uKHF1YWRDbWQ6UXVhZENvbW1hbmQsIG1hdGVyaWFsOlRlcnJhaW5NYXRlcmlhbCl7XG4gICAgICAgICAgICBhc3NlcnQoISFtYXRlcmlhbCwgTG9nLmluZm8uRlVOQ19OT1RfRVhJU1QoXCJwYXJhbTptYXRlcmlhbFwiKSk7XG4gICAgICAgICAgICBhc3NlcnQobWF0ZXJpYWwubGF5ZXIubWFwRGF0YUxpc3QuZ2V0Q291bnQoKSA+PSAwLCBMb2cuaW5mby5GVU5DX1NIT1VMRChcIlRlcnJhaW5NYXRlcmlhbC0+bGF5ZXItPm1hcERhdGFMaXN0LT5jb3VudFwiLCBcIj49IDBcIikpO1xuICAgICAgICB9KVxuICAgICAgICBwdWJsaWMgc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kOlF1YWRDb21tYW5kLCBtYXRlcmlhbDpUZXJyYWluTWF0ZXJpYWwpe1xuICAgICAgICAgICAgc3VwZXIuc2V0U2hhZGVyRGVmaW5pdGlvbihxdWFkQ21kLCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybVZhcmlhYmxlKFtcInVfbGF5ZXJIZWlnaHREYXRhc1wiLCBcInVfbGF5ZXJTYW1wbGVyMkRzXCJdKTtcblxuICAgICAgICAgICAgdGhpcy5mc1NvdXJjZURlZmluZUxpc3QuYWRkQ2hpbGRyZW4oW3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkxBWUVSX0NPVU5UXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1hdGVyaWFsLmxheWVyLm1hcERhdGFMaXN0LmdldENvdW50KClcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL2ZpbGVQYXRoLmQudHNcIi8+XG5tb2R1bGUgd2R7XG5leHBvcnQgY2xhc3MgU2hhZGVyQ2h1bmt7cHVibGljIHN0YXRpYyBlbXB0eTpHTFNMQ2h1bmsgPSB7dG9wOlwiXCIsIGRlZmluZTpcIlwiLCB2YXJEZWNsYXJlOlwiXCIsIGZ1bmNEZWNsYXJlOlwiXCIsIGZ1bmNEZWZpbmU6XCJcIiwgYm9keTpcIlwifVxucHVibGljIHN0YXRpYyBOVUxMOm51bWJlciA9IC0xLjA7XG5wdWJsaWMgc3RhdGljIG1vcnBoTm9ybWFsX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMzIGFfbm9ybWFsID0gYV9jdXJyZW50RnJhbWVOb3JtYWwgKyAoYV9uZXh0RnJhbWVOb3JtYWwgLSBhX2N1cnJlbnRGcmFtZU5vcm1hbCkgKiB1X2ludGVycG9sYXRpb247XFxuXCIsfVxucHVibGljIHN0YXRpYyBtb3JwaFZlcnRpY2VfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZlYzMgYV9wb3NpdGlvbiA9IGFfY3VycmVudEZyYW1lUG9zaXRpb24gKyAoYV9uZXh0RnJhbWVQb3NpdGlvbiAtIGFfY3VycmVudEZyYW1lUG9zaXRpb24pICogdV9pbnRlcnBvbGF0aW9uO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgYmFzaWNFbmRfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiZ2xfRnJhZ0NvbG9yID0gdmVjNCh0b3RhbENvbG9yLnJnYiwgdG90YWxDb2xvci5hICogdV9vcGFjaXR5KTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfY29sb3I7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZlYzQgdG90YWxDb2xvciA9IHZlYzQodl9jb2xvciwgMS4wKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X2NvbG9yO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2X2NvbG9yID0gYV9jb2xvcjtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbl9kZWZpbmU6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiI2RlZmluZSBOVUxMIC0xLjBcXG5cIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbl9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbl9mdW5jdGlvbjpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwibWF0MiB0cmFuc3Bvc2UobWF0MiBtKSB7XFxuICByZXR1cm4gbWF0MiggIG1bMF1bMF0sIG1bMV1bMF0sICAgLy8gbmV3IGNvbCAwXFxuICAgICAgICAgICAgICAgIG1bMF1bMV0sIG1bMV1bMV0gICAgLy8gbmV3IGNvbCAxXFxuICAgICAgICAgICAgICk7XFxuICB9XFxubWF0MyB0cmFuc3Bvc2UobWF0MyBtKSB7XFxuICByZXR1cm4gbWF0MyggIG1bMF1bMF0sIG1bMV1bMF0sIG1bMl1bMF0sICAvLyBuZXcgY29sIDBcXG4gICAgICAgICAgICAgICAgbVswXVsxXSwgbVsxXVsxXSwgbVsyXVsxXSwgIC8vIG5ldyBjb2wgMVxcbiAgICAgICAgICAgICAgICBtWzBdWzJdLCBtWzFdWzJdLCBtWzJdWzJdICAgLy8gbmV3IGNvbCAxXFxuICAgICAgICAgICAgICk7XFxuICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbl92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBoaWdocF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGxvd3BfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5wcmVjaXNpb24gbG93cCBpbnQ7XFxuXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgbWVkaXVtcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbnByZWNpc2lvbiBtZWRpdW1wIGludDtcXG5cIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBsaWdodENvbW1vbl9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X3dvcmxkUG9zaXRpb247XFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG5zdHJ1Y3QgUG9pbnRMaWdodCB7XFxuICAgIHZlYzMgcG9zaXRpb247XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIGZsb2F0IGludGVuc2l0eTtcXG5cXG4gICAgZmxvYXQgcmFuZ2U7XFxuICAgIGZsb2F0IGNvbnN0YW50O1xcbiAgICBmbG9hdCBsaW5lYXI7XFxuICAgIGZsb2F0IHF1YWRyYXRpYztcXG59O1xcbnVuaWZvcm0gUG9pbnRMaWdodCB1X3BvaW50TGlnaHRzW1BPSU5UX0xJR0hUU19DT1VOVF07XFxuXFxuI2VuZGlmXFxuXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxuc3RydWN0IERpcmVjdGlvbkxpZ2h0IHtcXG4gICAgdmVjMyBwb3NpdGlvbjtcXG5cXG4gICAgZmxvYXQgaW50ZW5zaXR5O1xcblxcbiAgICB2ZWM0IGNvbG9yO1xcbn07XFxudW5pZm9ybSBEaXJlY3Rpb25MaWdodCB1X2RpcmVjdGlvbkxpZ2h0c1tESVJFQ1RJT05fTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBsaWdodENvbW1vbl92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl93b3JsZFBvc2l0aW9uO1xcbiNpZiBQT0lOVF9MSUdIVFNfQ09VTlQgPiAwXFxuc3RydWN0IFBvaW50TGlnaHQge1xcbiAgICB2ZWMzIHBvc2l0aW9uO1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICBmbG9hdCBpbnRlbnNpdHk7XFxuXFxuICAgIGZsb2F0IHJhbmdlO1xcbiAgICBmbG9hdCBjb25zdGFudDtcXG4gICAgZmxvYXQgbGluZWFyO1xcbiAgICBmbG9hdCBxdWFkcmF0aWM7XFxufTtcXG51bmlmb3JtIFBvaW50TGlnaHQgdV9wb2ludExpZ2h0c1tQT0lOVF9MSUdIVFNfQ09VTlRdO1xcblxcbiNlbmRpZlxcblxcblxcbiNpZiBESVJFQ1RJT05fTElHSFRTX0NPVU5UID4gMFxcbnN0cnVjdCBEaXJlY3Rpb25MaWdodCB7XFxuICAgIHZlYzMgcG9zaXRpb247XFxuXFxuICAgIGZsb2F0IGludGVuc2l0eTtcXG5cXG4gICAgdmVjNCBjb2xvcjtcXG59O1xcbnVuaWZvcm0gRGlyZWN0aW9uTGlnaHQgdV9kaXJlY3Rpb25MaWdodHNbRElSRUNUSU9OX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfd29ybGRQb3NpdGlvbiA9IHZlYzModV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0RW5kX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX0ZyYWdDb2xvciA9IHZlYzQodG90YWxDb2xvci5yZ2IsIHRvdGFsQ29sb3IuYSAqIHVfb3BhY2l0eSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBsaWdodF9jb21tb246R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJ2ZWMzIGdldERpcmVjdGlvbkxpZ2h0RGlyQnlMaWdodFBvcyh2ZWMzIGxpZ2h0UG9zKTtcXG52ZWMzIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3MpO1xcbnZlYzMgZ2V0UG9pbnRMaWdodERpckJ5TGlnaHRQb3ModmVjMyBsaWdodFBvcywgdmVjMyB3b3JsZFBvc2l0aW9uKTtcXG5cIixmdW5jRGVmaW5lOiBcInZlYzMgZ2V0RGlyZWN0aW9uTGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3Mpe1xcbiAgICByZXR1cm4gbGlnaHRQb3MgLSB2ZWMzKDAuMCk7XFxuICAgIC8vcmV0dXJuIHZlYzMoMC4wKSAtIGxpZ2h0UG9zO1xcbn1cXG52ZWMzIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHZlYzMgbGlnaHRQb3Mpe1xcbiAgICByZXR1cm4gbGlnaHRQb3MgLSB2X3dvcmxkUG9zaXRpb247XFxufVxcbnZlYzMgZ2V0UG9pbnRMaWdodERpckJ5TGlnaHRQb3ModmVjMyBsaWdodFBvcywgdmVjMyB3b3JsZFBvc2l0aW9uKXtcXG4gICAgcmV0dXJuIGxpZ2h0UG9zIC0gd29ybGRQb3NpdGlvbjtcXG59XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJmbG9hdCBnZXRCbGlublNoaW5pbmVzcyhmbG9hdCBzaGluaW5lc3MsIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyLCB2ZWMzIHZpZXdEaXIsIGZsb2F0IGRvdFJlc3VsdEJldHdlZW5Ob3JtQW5kTGlnaHQpe1xcbiAgICAgICAgdmVjMyBoYWxmQW5nbGUgPSBub3JtYWxpemUobGlnaHREaXIgKyB2aWV3RGlyKTtcXG4gICAgICAgIGZsb2F0IGJsaW5uVGVybSA9IGRvdChub3JtYWwsIGhhbGZBbmdsZSk7XFxuXFxuICAgICAgICBibGlublRlcm0gPSBjbGFtcChibGlublRlcm0sIDAuMCwgMS4wKTtcXG4gICAgICAgIGJsaW5uVGVybSA9IGRvdFJlc3VsdEJldHdlZW5Ob3JtQW5kTGlnaHQgIT0gMC4wID8gYmxpbm5UZXJtIDogMC4wO1xcbiAgICAgICAgYmxpbm5UZXJtID0gcG93KGJsaW5uVGVybSwgc2hpbmluZXNzKTtcXG5cXG4gICAgICAgIHJldHVybiBibGlublRlcm07XFxufVxcblxcbmZsb2F0IGdldFBob25nU2hpbmluZXNzKGZsb2F0IHNoaW5pbmVzcywgdmVjMyBub3JtYWwsIHZlYzMgbGlnaHREaXIsIHZlYzMgdmlld0RpciwgZmxvYXQgZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCl7XFxuICAgICAgICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KC1saWdodERpciwgbm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IHBob25nVGVybSA9IGRvdCh2aWV3RGlyLCByZWZsZWN0RGlyKTtcXG5cXG4gICAgICAgIHBob25nVGVybSA9IGNsYW1wKHBob25nVGVybSwgMC4wLCAxLjApO1xcbiAgICAgICAgcGhvbmdUZXJtID0gZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCAhPSAwLjAgPyBwaG9uZ1Rlcm0gOiAwLjA7XFxuICAgICAgICBwaG9uZ1Rlcm0gPSBwb3cocGhvbmdUZXJtLCBzaGluaW5lc3MpO1xcblxcbiAgICAgICAgcmV0dXJuIHBob25nVGVybTtcXG59XFxuXFxudmVjNCBjYWxjTGlnaHQodmVjMyBsaWdodERpciwgdmVjNCBjb2xvciwgZmxvYXQgaW50ZW5zaXR5LCBmbG9hdCBhdHRlbnVhdGlvbiwgdmVjMyBub3JtYWwsIHZlYzMgdmlld0RpcilcXG57XFxuICAgICAgICB2ZWM0IG1hdGVyaWFsTGlnaHQgPSBnZXRNYXRlcmlhbExpZ2h0KCk7XFxuICAgICAgICB2ZWM0IG1hdGVyaWFsRGlmZnVzZSA9IGdldE1hdGVyaWFsRGlmZnVzZSgpO1xcbiAgICAgICAgdmVjNCBtYXRlcmlhbFNwZWN1bGFyID0gZ2V0TWF0ZXJpYWxTcGVjdWxhcigpO1xcbiAgICAgICAgdmVjNCBtYXRlcmlhbEVtaXNzaW9uID0gZ2V0TWF0ZXJpYWxFbWlzc2lvbigpO1xcblxcbiAgICAgICAgZmxvYXQgZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCA9IGRvdChub3JtYWwsIGxpZ2h0RGlyKTtcXG4gICAgICAgIGZsb2F0IGRpZmYgPSBtYXgoZG90UmVzdWx0QmV0d2Vlbk5vcm1BbmRMaWdodCwgMC4wKTtcXG5cXG4gICAgICAgIHZlYzQgZW1pc3Npb25Db2xvciA9IG1hdGVyaWFsRW1pc3Npb247XFxuXFxuICAgICAgICB2ZWM0IGFtYmllbnRDb2xvciA9ICh1X2FtYmllbnQgKyBtYXRlcmlhbExpZ2h0KSAqIG1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG4gICAgICAgIGlmKHVfbGlnaHRNb2RlbCA9PSAzKXtcXG4gICAgICAgICAgICByZXR1cm4gZW1pc3Npb25Db2xvciArIGFtYmllbnRDb2xvcjtcXG4gICAgICAgIH1cXG5cXG5cXG4gICAgICAgIHZlYzQgZGlmZnVzZUNvbG9yID0gY29sb3IgKiBtYXRlcmlhbERpZmZ1c2UgKiBpbnRlbnNpdHk7XFxuXFxuICAgICAgICBkaWZmdXNlQ29sb3IgPSB2ZWM0KGRpZmYgKiB2ZWMzKGRpZmZ1c2VDb2xvciksIGRpZmZ1c2VDb2xvci5hKTtcXG5cXG5cXG4gICAgICAgIGZsb2F0IHNwZWMgPSAwLjA7XFxuXFxuICAgICAgICBpZih1X2xpZ2h0TW9kZWwgPT0gMil7XFxuICAgICAgICAgICAgICAgIHNwZWMgPSBnZXRQaG9uZ1NoaW5pbmVzcyh1X3NoaW5pbmVzcywgbm9ybWFsLCBsaWdodERpciwgdmlld0RpciwgZGlmZik7XFxuICAgICAgICB9XFxuICAgICAgICBlbHNlIGlmKHVfbGlnaHRNb2RlbCA9PSAxKXtcXG4gICAgICAgICAgICAgICAgc3BlYyA9IGdldEJsaW5uU2hpbmluZXNzKHVfc2hpbmluZXNzLCBub3JtYWwsIGxpZ2h0RGlyLCB2aWV3RGlyLCBkaWZmKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZlYzQgc3BlY3VsYXJDb2xvciA9IHNwZWMgKiBtYXRlcmlhbFNwZWN1bGFyICogaW50ZW5zaXR5O1xcblxcblxcbiAgICAgICAgcmV0dXJuIGVtaXNzaW9uQ29sb3IgKyBhbWJpZW50Q29sb3IgKyBhdHRlbnVhdGlvbiAqIChkaWZmdXNlQ29sb3IgKyBzcGVjdWxhckNvbG9yKTtcXG59XFxuXFxuXFxuXFxuXFxuXFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgIHZlYzQgY2FsY1BvaW50TGlnaHQodmVjMyBsaWdodERpciwgUG9pbnRMaWdodCBsaWdodCwgdmVjMyBub3JtYWwsIHZlYzMgdmlld0RpcilcXG57XFxuICAgICAgICAvL2xpZ2h0RGlyIGlzIG5vdCBub3JtYWxpemUgY29tcHV0aW5nIGRpc3RhbmNlXFxuICAgICAgICBmbG9hdCBkaXN0YW5jZSA9IGxlbmd0aChsaWdodERpcik7XFxuXFxuICAgICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IDAuMDtcXG5cXG4gICAgICAgIGlmKGxpZ2h0LnJhbmdlID09IE5VTEwgfHwgZGlzdGFuY2UgPCBsaWdodC5yYW5nZSlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBhdHRlbnVhdGlvbiA9IDEuMCAvIChsaWdodC5jb25zdGFudCArIGxpZ2h0LmxpbmVhciAqIGRpc3RhbmNlICsgbGlnaHQucXVhZHJhdGljICogKGRpc3RhbmNlICogZGlzdGFuY2UpKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGxpZ2h0RGlyID0gbm9ybWFsaXplKGxpZ2h0RGlyKTtcXG5cXG4gICAgICAgIHJldHVybiBjYWxjTGlnaHQobGlnaHREaXIsIGxpZ2h0LmNvbG9yLCBsaWdodC5pbnRlbnNpdHksIGF0dGVudWF0aW9uLCBub3JtYWwsIHZpZXdEaXIpO1xcbn1cXG4jZW5kaWZcXG5cXG5cXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgIHZlYzQgY2FsY0RpcmVjdGlvbkxpZ2h0KHZlYzMgbGlnaHREaXIsIERpcmVjdGlvbkxpZ2h0IGxpZ2h0LCB2ZWMzIG5vcm1hbCwgdmVjMyB2aWV3RGlyKVxcbntcXG4gICAgICAgIGZsb2F0IGF0dGVudWF0aW9uID0gMS4wO1xcblxcbiAgICAgICAgbGlnaHREaXIgPSBub3JtYWxpemUobGlnaHREaXIpO1xcblxcbiAgICAgICAgcmV0dXJuIGNhbGNMaWdodChsaWdodERpciwgbGlnaHQuY29sb3IsIGxpZ2h0LmludGVuc2l0eSwgYXR0ZW51YXRpb24sIG5vcm1hbCwgdmlld0Rpcik7XFxufVxcbiNlbmRpZlxcblxcblxcblxcbnZlYzQgY2FsY1RvdGFsTGlnaHQodmVjMyBub3JtLCB2ZWMzIHZpZXdEaXIpe1xcbiAgICB2ZWM0IHRvdGFsTGlnaHQgPSB2ZWM0KDAuMCk7XFxuXFxuICAgICNpZiBQT0lOVF9MSUdIVFNfQ09VTlQgPiAwXFxuICAgICAgICAgICAgICAgIGZvcihpbnQgaSA9IDA7IGkgPCBQT0lOVF9MSUdIVFNfQ09VTlQ7IGkrKyl7XFxuICAgICAgICAgICAgICAgIHRvdGFsTGlnaHQgKz0gY2FsY1BvaW50TGlnaHQoZ2V0UG9pbnRMaWdodERpcihpKSwgdV9wb2ludExpZ2h0c1tpXSwgbm9ybSwgdmlld0Rpcik7XFxuICAgICAgICB9XFxuICAgICNlbmRpZlxcblxcbiAgICAjaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgICAgICAgICAgZm9yKGludCBpID0gMDsgaSA8IERJUkVDVElPTl9MSUdIVFNfQ09VTlQ7IGkrKyl7XFxuICAgICAgICAgICAgICAgIHRvdGFsTGlnaHQgKz0gY2FsY0RpcmVjdGlvbkxpZ2h0KGdldERpcmVjdGlvbkxpZ2h0RGlyKGkpLCB1X2RpcmVjdGlvbkxpZ2h0c1tpXSwgbm9ybSwgdmlld0Rpcik7XFxuICAgICAgICB9XFxuICAgICNlbmRpZlxcblxcbiAgICAgICAgcmV0dXJuIHRvdGFsTGlnaHQ7XFxufVxcblwiLGJvZHk6IFwidmVjMyBub3JtYWwgPSBub3JtYWxpemUoZ2V0Tm9ybWFsKCkpO1xcblxcbiNpZmRlZiBCT1RIX1NJREVcXG5ub3JtYWwgPSBub3JtYWwgKiAoLTEuMCArIDIuMCAqIGZsb2F0KGdsX0Zyb250RmFjaW5nKSk7XFxuI2VuZGlmXFxuXFxudmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKGdldFZpZXdEaXIoKSk7XFxuXFxudmVjNCB0b3RhbENvbG9yID0gY2FsY1RvdGFsTGlnaHQobm9ybWFsLCB2aWV3RGlyKTtcXG5cXG50b3RhbENvbG9yICo9IHZlYzQoZ2V0U2hhZG93VmlzaWJpbGl0eSgpLCAxLjApO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgbGlnaHRfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImdsX1Bvc2l0aW9uID0gdV9wTWF0cml4ICogdV92TWF0cml4ICogdmVjNCh2X3dvcmxkUG9zaXRpb24sIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBtYXBfZm9yQmFzaWNfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl9tYXBDb29yZDA7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdmVjNCh0ZXh0dXJlMkQodV9zYW1wbGVyMkQwLCB2X21hcENvb3JkMCkueHl6LCAxLjApO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgbWFwX2ZvckJhc2ljX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X21hcENvb3JkMDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidmVjMiBzb3VyY2VUZXhDb29yZDAgPSBhX3RleENvb3JkICogdV9tYXAwU291cmNlUmVnaW9uLnp3ICsgdV9tYXAwU291cmNlUmVnaW9uLnh5O1xcblxcbiAgICB2X21hcENvb3JkMCA9IHNvdXJjZVRleENvb3JkMCAqIHVfbWFwMFJlcGVhdFJlZ2lvbi56dyArIHVfbWFwMFJlcGVhdFJlZ2lvbi54eTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG11bHRpX21hcF9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X21hcENvb3JkMDtcXG52YXJ5aW5nIHZlYzIgdl9tYXBDb29yZDE7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldE1hcENvbG9yKCl7XFxuICAgICAgICAgICAgdmVjNCBjb2xvcjAgPSB2ZWM0KHRleHR1cmUyRCh1X3NhbXBsZXIyRDAsIHZfbWFwQ29vcmQwKS54eXosIDEuMCk7XFxuICAgICAgICAgICAgdmVjNCBjb2xvcjEgPSB2ZWM0KHRleHR1cmUyRCh1X3NhbXBsZXIyRDEsIHZfbWFwQ29vcmQxKS54eXosIDEuMCk7XFxuXFxuICAgICAgICAgICAgaWYodV9jb21iaW5lTW9kZSA9PSAwKXtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1peChjb2xvcjAsIGNvbG9yMSwgdV9taXhSYXRpbyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2UgaWYodV9jb21iaW5lTW9kZSA9PSAxKXtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yMCAqIGNvbG9yMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSBpZih1X2NvbWJpbmVNb2RlID09IDIpe1xcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IwICsgY29sb3IxO1xcbiAgICAgICAgICAgIH1cXG5cdFx0fVxcblwiLGJvZHk6IFwidG90YWxDb2xvciAqPSBnZXRNYXBDb2xvcigpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgbXVsdGlfbWFwX2ZvckJhc2ljX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X21hcENvb3JkMTtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidmVjMiBzb3VyY2VUZXhDb29yZDEgPSBhX3RleENvb3JkICogdV9tYXAxU291cmNlUmVnaW9uLnp3ICsgdV9tYXAxU291cmNlUmVnaW9uLnh5O1xcblxcbiAgICB2X21hcENvb3JkMSA9IHNvdXJjZVRleENvb3JkMSAqIHVfbWFwMVJlcGVhdFJlZ2lvbi56dyArIHVfbWFwMVJlcGVhdFJlZ2lvbi54eTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG1pcnJvcl9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjNCB2X21pcnJvckNvb3JkO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiLy90b2RvIGFkZCBtb3JlIGJsZW5kIHdheSB0byBtaXggbWlycm9yIGNvbG9yIGFuZCB0ZXh0dXJlQ29sb3JcXG5cdFx0ZmxvYXQgYmxlbmRPdmVybGF5KGZsb2F0IGJhc2UsIGZsb2F0IGJsZW5kKSB7XFxuXHRcdFx0cmV0dXJuKCBiYXNlIDwgMC41ID8gKCAyLjAgKiBiYXNlICogYmxlbmQgKSA6ICgxLjAgLSAyLjAgKiAoIDEuMCAtIGJhc2UgKSAqICggMS4wIC0gYmxlbmQgKSApICk7XFxuXHRcdH1cXG5cdFx0dmVjNCBnZXRNaXJyb3JDb2xvcihpbiB2ZWM0IG1hdGVyaWFsQ29sb3Ipe1xcblx0XHRcdHZlYzQgY29sb3IgPSB0ZXh0dXJlMkRQcm9qKHVfbWlycm9yU2FtcGxlciwgdl9taXJyb3JDb29yZCk7XFxuXFxuXHRcdFx0Y29sb3IgPSB2ZWM0KGJsZW5kT3ZlcmxheShtYXRlcmlhbENvbG9yLnIsIGNvbG9yLnIpLCBibGVuZE92ZXJsYXkobWF0ZXJpYWxDb2xvci5nLCBjb2xvci5nKSwgYmxlbmRPdmVybGF5KG1hdGVyaWFsQ29sb3IuYiwgY29sb3IuYiksIDEuMCk7XFxuXFxuXHRcdFx0cmV0dXJuIGNvbG9yO1xcblx0XHR9XFxuXCIsYm9keTogXCJ0b3RhbENvbG9yID0gZ2V0TWlycm9yQ29sb3IodG90YWxDb2xvcik7XFxuXCIsfVxucHVibGljIHN0YXRpYyBtaXJyb3JfZm9yQmFzaWNfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWM0IHZfbWlycm9yQ29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIm1hdDQgdGV4dHVyZU1hdHJpeCA9IG1hdDQoXFxuICAgICAgICAgICAgICAgICAgICAgICAgMC41LCAwLjAsIDAuMCwgMC4wLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMC41LCAwLjAsIDAuMCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAwLjAsIDAuMCwgMC41LCAwLjAsXFxuICAgICAgICAgICAgICAgICAgICAgICAgMC41LCAwLjUsIDAuNSwgMS4wXFxuKTtcXG5cXG52X21pcnJvckNvb3JkID0gdGV4dHVyZU1hdHJpeCAqIGdsX1Bvc2l0aW9uO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgc2t5Ym94X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfZGlyO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgdl9kaXIpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgc2t5Ym94X3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X2RpcjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidmVjNCBwb3MgPSB1X3BNYXRyaXggKiBtYXQ0KG1hdDModV92TWF0cml4KSkgKiB1X21NYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gcG9zLnh5d3c7XFxuXFxuICAgIHZfZGlyID0gYV9wb3NpdGlvbjtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGRpZmZ1c2VNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl9kaWZmdXNlTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldE1hdGVyaWFsRGlmZnVzZSgpIHtcXG4gICAgICAgIHJldHVybiB0ZXh0dXJlMkQodV9kaWZmdXNlTWFwU2FtcGxlciwgdl9kaWZmdXNlTWFwVGV4Q29vcmQpO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGRpZmZ1c2VNYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZGlmZnVzZU1hcFRleENvb3JkO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMyIHNvdXJjZVRleENvb3JkID0gYV90ZXhDb29yZCAqIHVfZGlmZnVzZVNvdXJjZVJlZ2lvbi56dyArIHVfZGlmZnVzZVNvdXJjZVJlZ2lvbi54eTtcXG4gICAgdl9kaWZmdXNlTWFwVGV4Q29vcmQgPSBzb3VyY2VUZXhDb29yZCAqIHVfZGlmZnVzZVJlcGVhdFJlZ2lvbi56dyArIHVfZGlmZnVzZVJlcGVhdFJlZ2lvbi54eTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVtaXNzaW9uTWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZW1pc3Npb25NYXBUZXhDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzQgZ2V0TWF0ZXJpYWxFbWlzc2lvbigpIHtcXG4gICAgICAgIHJldHVybiB0ZXh0dXJlMkQodV9lbWlzc2lvbk1hcFNhbXBsZXIsIHZfZW1pc3Npb25NYXBUZXhDb29yZCk7XFxuICAgIH1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgZW1pc3Npb25NYXBfdmVydGV4OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfZW1pc3Npb25NYXBUZXhDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl9lbWlzc2lvbk1hcFRleENvb3JkID0gYV90ZXhDb29yZDtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfbGlnaHRNYXBUZXhDb29yZDtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzQgZ2V0TWF0ZXJpYWxMaWdodCgpIHtcXG4gICAgICAgIHJldHVybiB0ZXh0dXJlMkQodV9saWdodE1hcFNhbXBsZXIsIHZfbGlnaHRNYXBUZXhDb29yZCkgKiB1X2xpZ2h0TWFwSW50ZW5zaXR5O1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGxpZ2h0TWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X2xpZ2h0TWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfbGlnaHRNYXBUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXCIsfVxucHVibGljIHN0YXRpYyBub0RpZmZ1c2VNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzQgZ2V0TWF0ZXJpYWxEaWZmdXNlKCkge1xcbiAgICAgICAgcmV0dXJuIHVfZGlmZnVzZTtcXG4gICAgfVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBub0VtaXNzaW9uTWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldE1hdGVyaWFsRW1pc3Npb24oKSB7XFxuICAgICAgICByZXR1cm4gdV9lbWlzc2lvbjtcXG4gICAgfVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBub0xpZ2h0TWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldE1hdGVyaWFsTGlnaHQoKSB7XFxuICAgICAgICByZXR1cm4gdmVjNCgwLjApO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG5vTm9ybWFsTWFwX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMzIHZfbm9ybWFsO1xcblwiLGZ1bmNEZWNsYXJlOiBcInZlYzMgZ2V0Tm9ybWFsKCk7XFxuXFxuXCIsZnVuY0RlZmluZTogXCIjaWYgUE9JTlRfTElHSFRTX0NPVU5UID4gMFxcbnZlYzMgZ2V0UG9pbnRMaWdodERpcihpbnQgaW5kZXgpe1xcbiAgICAvL3dvcmthcm91bmQgJ1tdIDogSW5kZXggZXhwcmVzc2lvbiBtdXN0IGJlIGNvbnN0YW50JyBlcnJvclxcbiAgICBmb3IgKGludCB4ID0gMDsgeCA8PSBQT0lOVF9MSUdIVFNfQ09VTlQ7IHgrKykge1xcbiAgICAgICAgaWYoeCA9PSBpbmRleCl7XFxuICAgICAgICAgICAgcmV0dXJuIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHVfcG9pbnRMaWdodHNbeF0ucG9zaXRpb24pO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIC8qIVxcbiAgICBzb2x2ZSBlcnJvciBpbiB3aW5kb3c3IGNocm9tZS9maXJlZm94OlxcbiAgICBub3QgYWxsIGNvbnRyb2wgcGF0aHMgcmV0dXJuIGEgdmFsdWUuXFxuICAgIGZhaWxlZCB0byBjcmVhdGUgZDNkIHNoYWRlcnNcXG4gICAgKi9cXG4gICAgcmV0dXJuIHZlYzMoMC4wKTtcXG59XFxuI2VuZGlmXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxudmVjMyBnZXREaXJlY3Rpb25MaWdodERpcihpbnQgaW5kZXgpe1xcbiAgICAvL3dvcmthcm91bmQgJ1tdIDogSW5kZXggZXhwcmVzc2lvbiBtdXN0IGJlIGNvbnN0YW50JyBlcnJvclxcbiAgICBmb3IgKGludCB4ID0gMDsgeCA8PSBESVJFQ1RJT05fTElHSFRTX0NPVU5UOyB4KyspIHtcXG4gICAgICAgIGlmKHggPT0gaW5kZXgpe1xcbiAgICAgICAgICAgIHJldHVybiBnZXREaXJlY3Rpb25MaWdodERpckJ5TGlnaHRQb3ModV9kaXJlY3Rpb25MaWdodHNbeF0ucG9zaXRpb24pO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qIVxcbiAgICBzb2x2ZSBlcnJvciBpbiB3aW5kb3c3IGNocm9tZS9maXJlZm94OlxcbiAgICBub3QgYWxsIGNvbnRyb2wgcGF0aHMgcmV0dXJuIGEgdmFsdWUuXFxuICAgIGZhaWxlZCB0byBjcmVhdGUgZDNkIHNoYWRlcnNcXG4gICAgKi9cXG4gICAgcmV0dXJuIHZlYzMoMC4wKTtcXG59XFxuI2VuZGlmXFxuXFxuXFxudmVjMyBnZXRWaWV3RGlyKCl7XFxuICAgIHJldHVybiBub3JtYWxpemUodV9jYW1lcmFQb3MgLSB2X3dvcmxkUG9zaXRpb24pO1xcbn1cXG52ZWMzIGdldE5vcm1hbCgpe1xcbiAgICByZXR1cm4gdl9ub3JtYWw7XFxufVxcblxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBub05vcm1hbE1hcF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9ub3JtYWw7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIi8vdl9ub3JtYWwgPSBub3JtYWxpemUoIHZlYzModV9ub3JtYWxNYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKSk7XFxuICAgIHZfbm9ybWFsID0gbm9ybWFsaXplKCB1X25vcm1hbE1hdHJpeCAqIGFfbm9ybWFsKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIG5vU3BlY3VsYXJNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcInZlYzQgZ2V0TWF0ZXJpYWxTcGVjdWxhcigpIHtcXG4gICAgICAgIHJldHVybiB1X3NwZWN1bGFyO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIG5vcm1hbE1hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X25vcm1hbE1hcFRleENvb3JkO1xcbnZhcnlpbmcgdmVjMyB2X3ZpZXdEaXI7XFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG52YXJ5aW5nIHZlYzMgdl9wb2ludExpZ2h0RGlyW1BPSU5UX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXFxuI2lmIERJUkVDVElPTl9MSUdIVFNfQ09VTlQgPiAwXFxudmFyeWluZyB2ZWMzIHZfZGlyZWN0aW9uTGlnaHREaXJbRElSRUNUSU9OX0xJR0hUU19DT1VOVF07XFxuI2VuZGlmXFxuXFxuXCIsZnVuY0RlY2xhcmU6IFwidmVjMyBnZXROb3JtYWwoKTtcXG5cXG52ZWMzIGdldExpZ2h0RGlyKHZlYzMgbGlnaHRQb3MpO1xcblxcblwiLGZ1bmNEZWZpbmU6IFwiI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG52ZWMzIGdldFBvaW50TGlnaHREaXIoaW50IGluZGV4KXtcXG4gICAgLy93b3JrYXJvdW5kICdbXSA6IEluZGV4IGV4cHJlc3Npb24gbXVzdCBiZSBjb25zdGFudCcgZXJyb3JcXG4gICAgZm9yIChpbnQgeCA9IDA7IHggPD0gUE9JTlRfTElHSFRTX0NPVU5UOyB4KyspIHtcXG4gICAgICAgIGlmKHggPT0gaW5kZXgpe1xcbiAgICAgICAgICAgIHJldHVybiB2X3BvaW50TGlnaHREaXJbeF07XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgLyohXFxuICAgIHNvbHZlIGVycm9yIGluIHdpbmRvdzcgY2hyb21lL2ZpcmVmb3g6XFxuICAgIG5vdCBhbGwgY29udHJvbCBwYXRocyByZXR1cm4gYSB2YWx1ZS5cXG4gICAgZmFpbGVkIHRvIGNyZWF0ZSBkM2Qgc2hhZGVyc1xcbiAgICAqL1xcbiAgICByZXR1cm4gdmVjMygwLjApO1xcbn1cXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG5cXG52ZWMzIGdldERpcmVjdGlvbkxpZ2h0RGlyKGludCBpbmRleCl7XFxuICAgIC8vd29ya2Fyb3VuZCAnW10gOiBJbmRleCBleHByZXNzaW9uIG11c3QgYmUgY29uc3RhbnQnIGVycm9yXFxuICAgIGZvciAoaW50IHggPSAwOyB4IDw9IERJUkVDVElPTl9MSUdIVFNfQ09VTlQ7IHgrKykge1xcbiAgICAgICAgaWYoeCA9PSBpbmRleCl7XFxuICAgICAgICAgICAgcmV0dXJuIHZfZGlyZWN0aW9uTGlnaHREaXJbeF07XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyohXFxuICAgIHNvbHZlIGVycm9yIGluIHdpbmRvdzcgY2hyb21lL2ZpcmVmb3g6XFxuICAgIG5vdCBhbGwgY29udHJvbCBwYXRocyByZXR1cm4gYSB2YWx1ZS5cXG4gICAgZmFpbGVkIHRvIGNyZWF0ZSBkM2Qgc2hhZGVyc1xcbiAgICAqL1xcbiAgICByZXR1cm4gdmVjMygwLjApO1xcbn1cXG4jZW5kaWZcXG5cXG5cXG52ZWMzIGdldFZpZXdEaXIoKXtcXG4gICAgcmV0dXJuIHZfdmlld0RpcjtcXG59XFxudmVjMyBnZXROb3JtYWwoKXtcXG4gICAgICAgIC8vIE9idGFpbiBub3JtYWwgZnJvbSBub3JtYWwgbWFwIGluIHJhbmdlIFswLDFdXFxuICAgICAgICB2ZWMzIG5vcm1hbCA9IHRleHR1cmUyRCh1X25vcm1hbE1hcFNhbXBsZXIsIHZfbm9ybWFsTWFwVGV4Q29vcmQpLnJnYjtcXG5cXG4gICAgICAgIC8vIFRyYW5zZm9ybSBub3JtYWwgdmVjdG9yIHRvIHJhbmdlIFstMSwxXVxcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShub3JtYWwgKiAyLjAgLSAxLjApOyAgLy8gdGhpcyBub3JtYWwgaXMgaW4gdGFuZ2VudCBzcGFjZVxcbn1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgbm9ybWFsTWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X25vcm1hbE1hcFRleENvb3JkO1xcblx0dmFyeWluZyB2ZWMzIHZfdmlld0RpcjtcXG5cXG5cXG4jaWYgUE9JTlRfTElHSFRTX0NPVU5UID4gMFxcbnZhcnlpbmcgdmVjMyB2X3BvaW50TGlnaHREaXJbUE9JTlRfTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG52YXJ5aW5nIHZlYzMgdl9kaXJlY3Rpb25MaWdodERpcltESVJFQ1RJT05fTElHSFRTX0NPVU5UXTtcXG4jZW5kaWZcXG5cXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIm1hdDMgY29tcHV0ZVRCTigpe1xcbiAgICAgICAgICAgIC8vdmVjMyBUID0gbm9ybWFsaXplKG5vcm1hbE1hdHJpeCAqIHRhbmdlbnQpO1xcbiAgICAgICAgICAgIC8vdmVjMyBCID0gbm9ybWFsaXplKG5vcm1hbE1hdHJpeCAqIGJpdGFuZ2VudCk7XFxuICAgICAgICAgICAgLy92ZWMzIE4gPSBub3JtYWxpemUobm9ybWFsTWF0cml4ICogbm9ybWFsKTtcXG5cXG4gICAgICAgICAgICB2ZWMzIFQgPSBub3JtYWxpemUodV9ub3JtYWxNYXRyaXggKiBhX3RhbmdlbnQpO1xcbiAgICAgICAgICAgIHZlYzMgTiA9IG5vcm1hbGl6ZSh1X25vcm1hbE1hdHJpeCAqIGFfbm9ybWFsKTtcXG4gICAgICAgICAgICAvLyByZS1vcnRob2dvbmFsaXplIFQgd2l0aCByZXNwZWN0IHRvIE5cXG4gICAgICAgICAgICBUID0gbm9ybWFsaXplKFQgLSBkb3QoVCwgTikgKiBOKTtcXG4gICAgICAgICAgICAvLyB0aGVuIHJldHJpZXZlIHBlcnBlbmRpY3VsYXIgdmVjdG9yIEIgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiBUIGFuZCBOXFxuICAgICAgICAgICAgdmVjMyBCID0gY3Jvc3MoVCwgTik7XFxuXFxuXFxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9zZShtYXQzKFQsIEIsIE4pKTtcXG4gICAgICAgIH1cXG5cIixib2R5OiBcIm1hdDMgVEJOID0gY29tcHV0ZVRCTigpO1xcblxcbiAgICAvL3ZfdGFuZ2VudExpZ2h0UG9zID0gVEJOICogbGlnaHQucG9zaXRpb247XFxuICAgIC8vdl90YW5nZW50Q2FtZXJhUG9zICA9IFRCTiAqIHVfY2FtZXJhUG9zO1xcbiAgICAvL3ZfdGFuZ2VudFBvcyAgPSBUQk4gKiB2X3Bvc2l0aW9uO1xcblxcblxcbiAgICB2ZWMzIHRhbmdlbnRQb3NpdGlvbiA9IFRCTiAqIHZlYzModV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApKTtcXG5cXG4gICAgdl9ub3JtYWxNYXBUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXFxuICAgIHZfdmlld0RpciA9IG5vcm1hbGl6ZShUQk4gKiB1X2NhbWVyYVBvcyAtIHRhbmdlbnRQb3NpdGlvbik7XFxuXFxuXFxuI2lmIFBPSU5UX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgZm9yKGludCBpID0gMDsgaSA8IFBPSU5UX0xJR0hUU19DT1VOVDsgaSsrKXtcXG4gICAgICAgICAgICAvL25vdCBub3JtYWxpemUgZm9yIGNvbXB1dGluZyBkaXN0YW5jZVxcbiAgICAgICAgICAgIHZfcG9pbnRMaWdodERpcltpXSA9IFRCTiAqIGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHVfcG9pbnRMaWdodHNbaV0ucG9zaXRpb24sIHRhbmdlbnRQb3NpdGlvbik7XFxuICAgICAgIH1cXG4jZW5kaWZcXG5cXG4jaWYgRElSRUNUSU9OX0xJR0hUU19DT1VOVCA+IDBcXG4gICAgICAgZm9yKGludCBpID0gMDsgaSA8IERJUkVDVElPTl9MSUdIVFNfQ09VTlQ7IGkrKyl7XFxuICAgICAgICAgICAgdl9kaXJlY3Rpb25MaWdodERpcltpXSA9IG5vcm1hbGl6ZSgtIFRCTiAqIGdldERpcmVjdGlvbkxpZ2h0RGlyQnlMaWdodFBvcyh1X2RpcmVjdGlvbkxpZ2h0c1tpXS5wb3NpdGlvbikpO1xcbiAgICAgICB9XFxuI2VuZGlmXFxuXFxuXCIsfVxucHVibGljIHN0YXRpYyBzcGVjdWxhck1hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3NwZWN1bGFyTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldE1hdGVyaWFsU3BlY3VsYXIoKSB7XFxuICAgICAgICByZXR1cm4gdGV4dHVyZTJEKHVfc3BlY3VsYXJNYXBTYW1wbGVyLCB2X3NwZWN1bGFyTWFwVGV4Q29vcmQpO1xcbiAgICB9XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIHNwZWN1bGFyTWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3NwZWN1bGFyTWFwVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfc3BlY3VsYXJNYXBUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXCIsfVxucHVibGljIHN0YXRpYyBiYXNpY19lbnZNYXBfZm9yQmFzaWNfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9kaXI7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHZfZGlyKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljX2Vudk1hcF9mb3JCYXNpY192ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl9kaXI7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfZGlyID0gYV9wb3NpdGlvbjtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGVudk1hcF9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X25vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidmVjMyBpbkRpciA9IG5vcm1hbGl6ZSh2X3Bvc2l0aW9uIC0gdV9jYW1lcmFQb3MpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgZW52TWFwX2ZvckJhc2ljX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X25vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl9ub3JtYWwgPSBub3JtYWxpemUoIHVfbm9ybWFsTWF0cml4ICogYV9ub3JtYWwpO1xcbiAgICB2X3Bvc2l0aW9uID0gdmVjMyh1X21NYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCkpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgZnJlc25lbF9mb3JCYXNpY19mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiZmxvYXQgY29tcHV0ZUZyZXNuZWxSYXRpbyh2ZWMzIGluRGlyLCB2ZWMzIG5vcm1hbCwgZmxvYXQgcmVmcmFjdGlvblJhdGlvKXtcXG4gICAgZmxvYXQgZiA9IHBvdygxLjAgLSByZWZyYWN0aW9uUmF0aW8sIDIuMCkgLyBwb3coMS4wICsgcmVmcmFjdGlvblJhdGlvLCAyLjApO1xcbiAgICBmbG9hdCBmcmVzbmVsUG93ZXIgPSA1LjA7XFxuICAgIGZsb2F0IHJhdGlvID0gZiArICgxLjAgLSBmKSAqIHBvdygoMS4wIC0gZG90KGluRGlyLCBub3JtYWwpKSwgZnJlc25lbFBvd2VyKTtcXG5cXG4gICAgcmV0dXJuIHJhdGlvIC8gMTAwLjA7XFxufVxcbnZlYzQgZ2V0RW52TWFwVG90YWxDb2xvcih2ZWMzIGluRGlyLCB2ZWMzIG5vcm1hbCl7XFxuICAgIHZlYzMgcmVmbGVjdERpciA9IHJlZmxlY3QoaW5EaXIsIG5vcm1hbCk7XFxuICAgIHZlYzMgcmVmcmFjdERpciA9IHJlZnJhY3QoaW5EaXIsIG5vcm1hbCwgdV9yZWZyYWN0aW9uUmF0aW8pO1xcblxcbiAgICB2ZWM0IHJlZmxlY3RDb2xvciA9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCByZWZsZWN0RGlyKTtcXG4gICAgdmVjNCByZWZyYWN0Q29sb3IgPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgcmVmcmFjdERpcik7XFxuXFxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTtcXG5cXG5cdGlmKHVfcmVmbGVjdGl2aXR5ICE9IE5VTEwpe1xcbiAgICAgICAgdG90YWxDb2xvciA9IG1peChyZWZsZWN0Q29sb3IsIHJlZnJhY3RDb2xvciwgdV9yZWZsZWN0aXZpdHkpO1xcblx0fVxcblx0ZWxzZXtcXG4gICAgICAgIHRvdGFsQ29sb3IgPSBtaXgocmVmbGVjdENvbG9yLCByZWZyYWN0Q29sb3IsIGNvbXB1dGVGcmVzbmVsUmF0aW8oaW5EaXIsIG5vcm1hbCwgdV9yZWZyYWN0aW9uUmF0aW8pKTtcXG5cdH1cXG5cXG5cdHJldHVybiB0b3RhbENvbG9yO1xcbn1cXG5cIixib2R5OiBcInRvdGFsQ29sb3IgKj0gZ2V0RW52TWFwVG90YWxDb2xvcihpbkRpciwgbm9ybWFsaXplKHZfbm9ybWFsKSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyByZWZsZWN0aW9uX2ZvckJhc2ljX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZmxlY3QoaW5EaXIsIG5vcm1hbGl6ZSh2X25vcm1hbCkpKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIHJlZnJhY3Rpb25fZm9yQmFzaWNfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidG90YWxDb2xvciAqPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgcmVmcmFjdChpbkRpciwgbm9ybWFsaXplKHZfbm9ybWFsKSwgdV9yZWZyYWN0aW9uUmF0aW8pKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJ1aWxkQ3ViZW1hcFNoYWRvd01hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X3dvcmxkUG9zaXRpb247XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcIlxcbi8vIGdldCBkaXN0YW5jZSBiZXR3ZWVuIGZyYWdtZW50IGFuZCBsaWdodCBzb3VyY2VcXG4gICAgZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCh2X3dvcmxkUG9zaXRpb24gLSB1X2xpZ2h0UG9zKTtcXG5cXG4gICAgLy8gbWFwIHRvIFswLDFdIHJhbmdlIGJ5IGRpdmlkaW5nIGJ5IGZhclBsYW5lXFxuICAgIGxpZ2h0RGlzdGFuY2UgPSBsaWdodERpc3RhbmNlIC8gdV9mYXJQbGFuZTtcXG5cXG5cXG5nbF9GcmFnRGF0YVswXSA9IHBhY2tEZXB0aChsaWdodERpc3RhbmNlKTtcXG5cXG5cXG4vL2dsX0ZyYWdDb2xvciA9IHZlYzQoMC41LCAwLjAsIDEuMCwgMS4wKTtcXG4vL2dsX0ZyYWdEYXRhWzBdID0gdmVjNChsaWdodERpc3RhbmNlLCAxLjAsIDEuMCwgMS4wKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJ1aWxkQ3ViZW1hcFNoYWRvd01hcF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzMgdl93b3JsZFBvc2l0aW9uO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2X3dvcmxkUG9zaXRpb24gPSB2ZWMzKHVfbU1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKSk7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9wTWF0cml4ICogdV92TWF0cml4ICogdmVjNCh2X3dvcmxkUG9zaXRpb24sIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBidWlsZFR3b0RTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiZ2xfRnJhZ0RhdGFbMF0gPSBwYWNrRGVwdGgoZ2xfRnJhZ0Nvb3JkLnopO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgYnVpbGRUd29EU2hhZG93TWFwX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJnbF9Qb3NpdGlvbiA9IHVfdnBNYXRyaXhGcm9tTGlnaHQgKiB1X21NYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuLy9nbF9Qb3NpdGlvbiA9IHVfcE1hdHJpeCogdV92TWF0cml4ICogdV9tTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgY29tbW9uQnVpbGRTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIi8vIFBhY2tpbmcgYSBmbG9hdCBpbiBHTFNMIHdpdGggbXVsdGlwbGljYXRpb24gYW5kIG1vZFxcbnZlYzQgcGFja0RlcHRoKGluIGZsb2F0IGRlcHRoKSB7XFxuICAgIGNvbnN0IHZlYzQgYml0X3NoaWZ0ID0gdmVjNCgyNTYuMCAqIDI1Ni4wICogMjU2LjAsIDI1Ni4wICogMjU2LjAsIDI1Ni4wLCAxLjApO1xcbiAgICBjb25zdCB2ZWM0IGJpdF9tYXNrID0gdmVjNCgwLjAsIDEuMCAvIDI1Ni4wLCAxLjAgLyAyNTYuMCwgMS4wIC8gMjU2LjApO1xcbiAgICAvLyBjb21iaW5hdGlvbiBvZiBtb2QgYW5kIG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpc2lvbiB3b3JrcyBiZXR0ZXJcXG4gICAgdmVjNCByZXMgPSBtb2QoZGVwdGggKiBiaXRfc2hpZnQgKiB2ZWM0KDI1NSksIHZlYzQoMjU2KSApIC8gdmVjNCgyNTUpO1xcbiAgICByZXMgLT0gcmVzLnh4eXogKiBiaXRfbWFzaztcXG5cXG4gICAgcmV0dXJuIHJlcztcXG59XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGN1YmVtYXBTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ1bmlmb3JtIHNhbXBsZXJDdWJlIHVfY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJbIENVQkVNQVBfU0hBRE9XTUFQX0NPVU5UIF07XFxuXHR1bmlmb3JtIGZsb2F0IHVfY3ViZW1hcFNoYWRvd0RhcmtuZXNzWyBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSBmbG9hdCB1X2N1YmVtYXBTaGFkb3dCaWFzWyBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSBmbG9hdCB1X2ZhclBsYW5lWyBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSB2ZWMzIHVfY3ViZW1hcExpZ2h0UG9zWyBDVUJFTUFQX1NIQURPV01BUF9DT1VOVCBdO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiLy8gUENGXFxuZmxvYXQgZ2V0Q3ViZW1hcFNoYWRvd1Zpc2liaWxpdHlCeVBDRihmbG9hdCBjdXJyZW50RGVwdGgsIHZlYzMgZnJhZ1RvTGlnaHQsIHNhbXBsZXJDdWJlIGN1YmVtYXBTaGFkb3dNYXBTYW1wbGVyLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBmYXJQbGFuZSwgZmxvYXQgc2hhZG93RGFya25lc3Mpe1xcbiAgICAvL29ubHkgc3VwcG9ydCBpbiBvcGVuZ2wgZXMgMy4wK1xcbiAgICAvL3ZlYzMgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1syMF0gPSB2ZWMzW11cXG4gICAgLy8oXFxuICAgICAgIC8vdmVjMyggMSwgIDEsICAxKSwgdmVjMyggMSwgLTEsICAxKSwgdmVjMygtMSwgLTEsICAxKSwgdmVjMygtMSwgIDEsICAxKSxcXG4gICAgICAgLy92ZWMzKCAxLCAgMSwgLTEpLCB2ZWMzKCAxLCAtMSwgLTEpLCB2ZWMzKC0xLCAtMSwgLTEpLCB2ZWMzKC0xLCAgMSwgLTEpLFxcbiAgICAgICAvL3ZlYzMoIDEsICAxLCAgMCksIHZlYzMoIDEsIC0xLCAgMCksIHZlYzMoLTEsIC0xLCAgMCksIHZlYzMoLTEsICAxLCAgMCksXFxuICAgICAgIC8vdmVjMyggMSwgIDAsICAxKSwgdmVjMygtMSwgIDAsICAxKSwgdmVjMyggMSwgIDAsIC0xKSwgdmVjMygtMSwgIDAsIC0xKSxcXG4gICAgICAgLy92ZWMzKCAwLCAgMSwgIDEpLCB2ZWMzKCAwLCAtMSwgIDEpLCB2ZWMzKCAwLCAtMSwgLTEpLCB2ZWMzKCAwLCAgMSwgLTEpXFxuICAgIC8vKTtcXG5cXG4gICAgdmVjMyBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzIwXTtcXG5cXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1swXSA9IHZlYzMoIDEsICAxLCAgMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbMV0gPSB2ZWMzKCAxLCAgLTEsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1syXSA9IHZlYzMoIC0xLCAgLTEsICAxKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1szXSA9IHZlYzMoIC0xLCAgMSwgIDEpO1xcblxcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzRdID0gdmVjMyggMSwgIDEsICAtMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbNV0gPSB2ZWMzKCAxLCAgLTEsICAtMSk7XFxuICAgIHNhbXBsZU9mZnNldERpcmVjdGlvbnNbNl0gPSB2ZWMzKCAtMSwgIC0xLCAgLTEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzddID0gdmVjMyggLTEsICAxLCAgLTEpO1xcblxcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzhdID0gdmVjMyggMSwgIDEsICAwKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1s5XSA9IHZlYzMoIDEsICAtMSwgIDApO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzEwXSA9IHZlYzMoIC0xLCAgLTEsICAwKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxMV0gPSB2ZWMzKCAtMSwgIDEsICAwKTtcXG5cXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxMl0gPSB2ZWMzKCAxLCAgMCwgIDEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzEzXSA9IHZlYzMoIC0xLCAgMCwgIDEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzE0XSA9IHZlYzMoIDEsICAwLCAgLTEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzE1XSA9IHZlYzMoIC0xLCAgMCwgIC0xKTtcXG5cXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxNl0gPSB2ZWMzKCAwLCAgMSwgIDEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzE3XSA9IHZlYzMoIDAsICAtMSwgIDEpO1xcbiAgICBzYW1wbGVPZmZzZXREaXJlY3Rpb25zWzE4XSA9IHZlYzMoIDAsICAtMSwgIC0xKTtcXG4gICAgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1sxOV0gPSB2ZWMzKCAwLCAgMSwgIC0xKTtcXG5cXG4gICAgZmxvYXQgc2hhZG93ID0gMC4wO1xcbiAgICBpbnQgc2FtcGxlcyA9IDIwO1xcblxcbiAgICAvL2Zsb2F0IGRpc2tSYWRpdXMgPSAwLjAwMDAwO1xcbiAgICAvL0Fub3RoZXIgaW50ZXJlc3RpbmcgdHJpY2sgd2UgY2FuIGFwcGx5IGhlcmUgaXMgdGhhdCB3ZSBjYW4gY2hhbmdlIHRoZSBkaXNrUmFkaXVzIGJhc2VkIG9uIGhvdyBmYXIgdGhlIHZpZXdlciBpcyBhd2F5IGZyb20gYSBmcmFnbWVudDsgdGhpcyB3YXkgd2UgY2FuIGluY3JlYXNlIHRoZSBvZmZzZXQgcmFkaXVzIGJ5IHRoZSBkaXN0YW5jZSB0byB0aGUgdmlld2VyLCBtYWtpbmcgdGhlIHNoYWRvd3Mgc29mdGVyIHdoZW4gZmFyIGF3YXkgYW5kIHNoYXJwZXIgd2hlbiBjbG9zZSBieS5cXG4gICAgZmxvYXQgdmlld0Rpc3RhbmNlID0gbGVuZ3RoKHVfY2FtZXJhUG9zIC0gdl93b3JsZFBvc2l0aW9uKTtcXG4gICAgZmxvYXQgZGlza1JhZGl1cyA9ICgxLjAgKyAodmlld0Rpc3RhbmNlIC8gZmFyUGxhbmUpKSAvIDI1LjA7XFxuXFxuICAgIC8vZm9yKGludCBpID0gMDsgaSA8IHNhbXBsZXM7ICsraSlcXG4gICAgZm9yKGludCBpID0gMDsgaSA8IDIwOyArK2kpXFxuICAgIHtcXG4gICAgICAgIGZsb2F0IHBjZkRlcHRoID0gdW5wYWNrRGVwdGgodGV4dHVyZUN1YmUoY3ViZW1hcFNoYWRvd01hcFNhbXBsZXIsIGZyYWdUb0xpZ2h0ICsgc2FtcGxlT2Zmc2V0RGlyZWN0aW9uc1tpXSAqIGRpc2tSYWRpdXMpKTtcXG4gICAgICAgIHBjZkRlcHRoICo9IGZhclBsYW5lOyAgIC8vIFVuZG8gbWFwcGluZyBbMDsxXVxcbiAgICAgICAgc2hhZG93ICs9IGN1cnJlbnREZXB0aCAtIHNoYWRvd0JpYXMgPiBwY2ZEZXB0aCAgPyBzaGFkb3dEYXJrbmVzcyA6IDEuMDtcXG4gICAgfVxcbiAgICBzaGFkb3cgLz0gZmxvYXQoc2FtcGxlcyk7XFxuXFxuICAgIHJldHVybiBzaGFkb3c7XFxufVxcblxcblxcbmZsb2F0IGdldEN1YmVtYXBTaGFkb3dWaXNpYmlsaXR5KHZlYzMgbGlnaHREaXIsIHNhbXBsZXJDdWJlIGN1YmVtYXBTaGFkb3dNYXBTYW1wbGVyLCB2ZWMzIGxpZ2h0UG9zLCBmbG9hdCBmYXJQbGFuZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgIHNoYWRvd0RhcmtuZXNzKSB7XFxuLy8gR2V0IHZlY3RvciBiZXR3ZWVuIGZyYWdtZW50IHBvc2l0aW9uIGFuZCBsaWdodCBwb3NpdGlvblxcbiAgICB2ZWMzIGZyYWdUb0xpZ2h0PSB2X3dvcmxkUG9zaXRpb24gLSBsaWdodFBvcztcXG4gICAgLy8gVXNlIHRoZSBsaWdodCB0byBmcmFnbWVudCB2ZWN0b3IgdG8gc2FtcGxlIGZyb20gdGhlIGRlcHRoIG1hcFxcbiAgICAvLyBOb3cgZ2V0IGN1cnJlbnQgbGluZWFyIGRlcHRoIGFzIHRoZSBsZW5ndGggYmV0d2VlbiB0aGUgZnJhZ21lbnQgYW5kIGxpZ2h0IHBvc2l0aW9uXFxuICAgIGZsb2F0IGN1cnJlbnREZXB0aCA9IGxlbmd0aChmcmFnVG9MaWdodCk7XFxuXFxuICAgICNpZiBkZWZpbmVkKFNIQURPV01BUF9UWVBFX1BDRilcXG4gICAgcmV0dXJuIGdldEN1YmVtYXBTaGFkb3dWaXNpYmlsaXR5QnlQQ0YoY3VycmVudERlcHRoLCBmcmFnVG9MaWdodCwgY3ViZW1hcFNoYWRvd01hcFNhbXBsZXIsIGdldFNoYWRvd0JpYXMobGlnaHREaXIsIHNoYWRvd0JpYXMpLCBmYXJQbGFuZSwgc2hhZG93RGFya25lc3MpO1xcbiAgICAjZW5kaWZcXG5cXG4gICAgZmxvYXQgY2xvc2VzdERlcHRoID0gdW5wYWNrRGVwdGgodGV4dHVyZUN1YmUoY3ViZW1hcFNoYWRvd01hcFNhbXBsZXIsIGZyYWdUb0xpZ2h0KSk7XFxuXFxuICAgIC8vIEl0IGlzIGN1cnJlbnRseSBpbiBsaW5lYXIgcmFuZ2UgYmV0d2VlbiBbMCwxXS4gUmUtdHJhbnNmb3JtIGJhY2sgdG8gb3JpZ2luYWwgdmFsdWVcXG4gICAgY2xvc2VzdERlcHRoICo9IGZhclBsYW5lO1xcblxcblxcbiAgICByZXR1cm4gZmxvYXQoY3VycmVudERlcHRoID4gY2xvc2VzdERlcHRoICsgZ2V0U2hhZG93QmlhcyhsaWdodERpciwgc2hhZG93QmlhcykgPyBzaGFkb3dEYXJrbmVzcyA6IDEuMCk7XFxufVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyBub1NoYWRvd01hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwidmVjMyBnZXRTaGFkb3dWaXNpYmlsaXR5KCkge1xcbiAgICAgICAgcmV0dXJuIHZlYzMoMS4wKTtcXG4gICAgfVxcblwiLGJvZHk6IFwiXCIsfVxucHVibGljIHN0YXRpYyB0b3RhbFNoYWRvd01hcF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcImZsb2F0IGdldFNoYWRvd0JpYXModmVjMyBsaWdodERpciwgZmxvYXQgc2hhZG93Qmlhcyk7XFxuZmxvYXQgdW5wYWNrRGVwdGgodmVjNCByZ2JhRGVwdGgpO1xcblwiLGZ1bmNEZWZpbmU6IFwiZmxvYXQgZ2V0U2hhZG93Qmlhcyh2ZWMzIGxpZ2h0RGlyLCBmbG9hdCBzaGFkb3dCaWFzKXtcXG4gICAgZmxvYXQgYmlhcyA9IHNoYWRvd0JpYXM7XFxuXFxuICAgIGlmKHNoYWRvd0JpYXMgPT0gTlVMTCl7XFxuICAgICAgICBiaWFzID0gMC4wMDU7XFxuICAgIH1cXG5cXG5cXG4gICAgIC8qIVxcbiAgICAgQSBzaGFkb3cgYmlhcyBvZiAwLjAwNSBzb2x2ZXMgdGhlIGlzc3VlcyBvZiBvdXIgc2NlbmUgYnkgYSBsYXJnZSBleHRlbnQsIGJ1dCBzb21lIHN1cmZhY2VzIHRoYXQgaGF2ZSBhIHN0ZWVwIGFuZ2xlIHRvIHRoZSBsaWdodCBzb3VyY2UgbWlnaHQgc3RpbGwgcHJvZHVjZSBzaGFkb3cgYWNuZS4gQSBtb3JlIHNvbGlkIGFwcHJvYWNoIHdvdWxkIGJlIHRvIGNoYW5nZSB0aGUgYW1vdW50IG9mIGJpYXMgYmFzZWQgb24gdGhlIHN1cmZhY2UgYW5nbGUgdG93YXJkcyB0aGUgbGlnaHQ6IHNvbWV0aGluZyB3ZSBjYW4gc29sdmUgd2l0aCB0aGUgZG90IHByb2R1Y3Q6XFxuICAgICAqL1xcblxcbiAgICAgcmV0dXJuIG1heChiaWFzICogKDEuMCAtIGRvdChub3JtYWxpemUoZ2V0Tm9ybWFsKCkpLCBsaWdodERpcikpLCBiaWFzKTtcXG5cXG4gICAgLy9yZXR1cm4gYmlhcztcXG59XFxuXFxuZmxvYXQgdW5wYWNrRGVwdGgodmVjNCByZ2JhRGVwdGgpIHtcXG4gICAgY29uc3QgdmVjNCBiaXRTaGlmdCA9IHZlYzQoMS4wIC8gKDI1Ni4wICogMjU2LjAgKiAyNTYuMCksIDEuMCAvICgyNTYuMCAqIDI1Ni4wKSwgMS4wIC8gMjU2LjAsIDEuMCk7XFxuICAgIHJldHVybiBkb3QocmdiYURlcHRoLCBiaXRTaGlmdCk7XFxufVxcblxcbnZlYzMgZ2V0U2hhZG93VmlzaWJpbGl0eSgpIHtcXG4gICAgdmVjMyBzaGFkb3dDb2xvciA9IHZlYzMoMS4wKTtcXG4gICAgdmVjMyB0d29ETGlnaHREaXIgPSB2ZWMzKDAuMCk7XFxuICAgIHZlYzMgY3ViZW1hcExpZ2h0RGlyID0gdmVjMygwLjApO1xcblxcblxcbiAgICAvL3RvIG5vcm1hbE1hcCwgdGhlIGxpZ2h0RGlyIHVzZSB0aGUgb3JpZ2luIG9uZSBpbnN0ZWFkIG9mIG5vcm1hbE1hcCdzIGxpZ2h0RGlyIGhlcmUodGhlIGxpZ2h0RGlyIGlzIHVzZWQgZm9yIGNvbXB1dGluZyBzaGFkb3dCaWFzLCB0aGUgb3JpZ2luIG9uZSBpcyBlbm91Z2ggZm9yIGl0KVxcblxcbiAgICAjaWYgVFdPRF9TSEFET1dNQVBfQ09VTlQgPiAwXFxuXHRmb3IoIGludCBpID0gMDsgaSA8IFRXT0RfU0hBRE9XTUFQX0NPVU5UOyBpICsrICkge1xcbiAgICAgICAgdHdvRExpZ2h0RGlyID0gZ2V0RGlyZWN0aW9uTGlnaHREaXJCeUxpZ2h0UG9zKHVfdHdvRExpZ2h0UG9zW2ldKTtcXG5cXG5cdC8vLy9pZiBpcyBvcHBvc2l0ZSB0byBkaXJlY3Rpb24gb2YgbGlnaHQgcmF5cywgbm8gc2hhZG93XFxuXFxuICAgICAgICBzaGFkb3dDb2xvciAqPSBnZXRUd29EU2hhZG93VmlzaWJpbGl0eSh0d29ETGlnaHREaXIsIHVfdHdvRFNoYWRvd01hcFNhbXBsZXJbaV0sIHZfcG9zaXRpb25Gcm9tTGlnaHRbaV0sIHVfdHdvRFNoYWRvd0JpYXNbaV0sIHVfdHdvRFNoYWRvd0RhcmtuZXNzW2ldLCB1X3R3b0RTaGFkb3dTaXplW2ldKTtcXG5cdH1cXG5cdCNlbmRpZlxcblxcblxcblx0I2lmIENVQkVNQVBfU0hBRE9XTUFQX0NPVU5UID4gMFxcblx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBDVUJFTUFQX1NIQURPV01BUF9DT1VOVDsgaSArKyApIHtcXG4gICAgICAgIGN1YmVtYXBMaWdodERpciA9IGdldFBvaW50TGlnaHREaXJCeUxpZ2h0UG9zKHVfY3ViZW1hcExpZ2h0UG9zW2ldKTtcXG5cXG5cdC8vLy9pZiBpcyBvcHBvc2l0ZSB0byBkaXJlY3Rpb24gb2YgbGlnaHQgcmF5cywgbm8gc2hhZG93XFxuXFxuICAgICAgICBzaGFkb3dDb2xvciAqPSBnZXRDdWJlbWFwU2hhZG93VmlzaWJpbGl0eShjdWJlbWFwTGlnaHREaXIsIHVfY3ViZW1hcFNoYWRvd01hcFNhbXBsZXJbaV0sIHVfY3ViZW1hcExpZ2h0UG9zW2ldLCB1X2ZhclBsYW5lW2ldLCB1X2N1YmVtYXBTaGFkb3dCaWFzW2ldLCB1X2N1YmVtYXBTaGFkb3dEYXJrbmVzc1tpXSk7XFxuXHR9XFxuXHQjZW5kaWZcXG5cXG5cdHJldHVybiBzaGFkb3dDb2xvcjtcXG59XFxuXFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIHR3b0RTaGFkb3dNYXBfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzQgdl9wb3NpdGlvbkZyb21MaWdodFsgVFdPRF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cdHVuaWZvcm0gc2FtcGxlcjJEIHVfdHdvRFNoYWRvd01hcFNhbXBsZXJbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxuXHR1bmlmb3JtIGZsb2F0IHVfdHdvRFNoYWRvd0RhcmtuZXNzWyBUV09EX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSBmbG9hdCB1X3R3b0RTaGFkb3dCaWFzWyBUV09EX1NIQURPV01BUF9DT1VOVCBdO1xcblx0dW5pZm9ybSB2ZWMyIHVfdHdvRFNoYWRvd1NpemVbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxuXHR1bmlmb3JtIHZlYzMgdV90d29ETGlnaHRQb3NbIFRXT0RfU0hBRE9XTUFQX0NPVU5UIF07XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCIvLyBQQ0ZcXG5mbG9hdCBnZXRUd29EU2hhZG93VmlzaWJpbGl0eUJ5UENGKGZsb2F0IGN1cnJlbnREZXB0aCwgdmVjMiBzaGFkb3dDb29yZCwgc2FtcGxlcjJEIHR3b0RTaGFkb3dNYXBTYW1wbGVyLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dEYXJrbmVzcywgdmVjMiBzaGFkb3dNYXBTaXplKXtcXG5cXG4gICAgZmxvYXQgc2hhZG93ID0gMC4wO1xcbiAgICB2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoMS4wIC8gc2hhZG93TWFwU2l6ZVswXSwgMS4wIC8gc2hhZG93TWFwU2l6ZVsxXSk7XFxuXFxuICAgIGZvcihpbnQgeCA9IC0xOyB4IDw9IDE7ICsreClcXG4gICAge1xcbiAgICAgICAgZm9yKGludCB5ID0gLTE7IHkgPD0gMTsgKyt5KVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIGZsb2F0IHBjZkRlcHRoID0gdW5wYWNrRGVwdGgodGV4dHVyZTJEKHR3b0RTaGFkb3dNYXBTYW1wbGVyLCBzaGFkb3dDb29yZCArIHZlYzIoeCwgeSkgKiB0ZXhlbFNpemUpKTtcXG4gICAgICAgICAgICBzaGFkb3cgKz0gY3VycmVudERlcHRoIC0gc2hhZG93QmlhcyA+IHBjZkRlcHRoICA/IHNoYWRvd0RhcmtuZXNzIDogMS4wO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIHNoYWRvdyAvPSA5LjA7XFxuXFxuICAgIHJldHVybiBzaGFkb3c7XFxufVxcblxcblxcblxcbmZsb2F0IGdldFR3b0RTaGFkb3dWaXNpYmlsaXR5KHZlYzMgbGlnaHREaXIsIHNhbXBsZXIyRCB0d29EU2hhZG93TWFwU2FtcGxlciwgdmVjNCB2X3Bvc2l0aW9uRnJvbUxpZ2h0LCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dEYXJrbmVzcywgdmVjMiBzaGFkb3dTaXplKSB7XFxuICAgIC8vcHJvamVjdCB0ZXh0dXJlXFxuICAgIHZlYzMgc2hhZG93Q29vcmQgPSAodl9wb3NpdGlvbkZyb21MaWdodC54eXogLyB2X3Bvc2l0aW9uRnJvbUxpZ2h0LncpIC8gMi4wICsgMC41O1xcbiAgICAvL3ZlYzMgc2hhZG93Q29vcmQgPSB2ZWMzKDAuNSwgMC41LCAwLjUpO1xcblxcbiAgICAjaWZkZWYgU0hBRE9XTUFQX1RZUEVfUENGXFxuICAgIC8vIFBlcmNlbnRhZ2UtY2xvc2UgZmlsdGVyaW5nXFxuICAgIC8vICg5IHBpeGVsIGtlcm5lbClcXG4gICAgcmV0dXJuIGdldFR3b0RTaGFkb3dWaXNpYmlsaXR5QnlQQ0Yoc2hhZG93Q29vcmQueiwgc2hhZG93Q29vcmQueHksIHR3b0RTaGFkb3dNYXBTYW1wbGVyLCBnZXRTaGFkb3dCaWFzKGxpZ2h0RGlyLCBzaGFkb3dCaWFzKSwgc2hhZG93RGFya25lc3MsIHNoYWRvd1NpemUpO1xcblxcbiAgICAjZWxzZVxcbiAgICByZXR1cm4gc2hhZG93Q29vcmQueiA+IHVucGFja0RlcHRoKHRleHR1cmUyRCh0d29EU2hhZG93TWFwU2FtcGxlciwgc2hhZG93Q29vcmQueHkpKSArIGdldFNoYWRvd0JpYXMobGlnaHREaXIsIHNoYWRvd0JpYXMpID8gc2hhZG93RGFya25lc3MgOiAxLjA7XFxuICAgICNlbmRpZlxcbn1cXG5cIixib2R5OiBcIlwiLH1cbnB1YmxpYyBzdGF0aWMgdHdvRFNoYWRvd01hcF92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzQgdl9wb3NpdGlvbkZyb21MaWdodFsgVFdPRF9TSEFET1dNQVBfQ09VTlQgXTtcXG51bmlmb3JtIG1hdDQgdV92cE1hdHJpeEZyb21MaWdodFsgVFdPRF9TSEFET1dNQVBfQ09VTlQgXTtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwiZm9yKCBpbnQgaSA9IDA7IGkgPCBUV09EX1NIQURPV01BUF9DT1VOVDsgaSArKyApIHtcXG4gICAgdl9wb3NpdGlvbkZyb21MaWdodFtpXSA9IHVfdnBNYXRyaXhGcm9tTGlnaHRbaV0gKiB2ZWM0KHZfd29ybGRQb3NpdGlvbiwgMS4wKTtcXG5cdH1cXG5cIix9XG5wdWJsaWMgc3RhdGljIGJhc2ljX2Vudk1hcF9mb3JMaWdodF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X2Jhc2ljRW52TWFwX2RpcjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidG90YWxDb2xvciAqPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgdl9iYXNpY0Vudk1hcF9kaXIpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgYmFzaWNfZW52TWFwX2ZvckxpZ2h0X3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMyB2X2Jhc2ljRW52TWFwX2RpcjtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl9iYXNpY0Vudk1hcF9kaXIgPSBhX3Bvc2l0aW9uO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgZW52TWFwX2ZvckxpZ2h0X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZlYzMgaW5EaXIgPSBub3JtYWxpemUodl93b3JsZFBvc2l0aW9uIC0gdV9jYW1lcmFQb3MpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgZW52TWFwX2ZvckxpZ2h0X3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGZyZXNuZWxfZm9yTGlnaHRfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcImZsb2F0IGNvbXB1dGVGcmVzbmVsUmF0aW8odmVjMyBpbkRpciwgdmVjMyBub3JtYWwsIGZsb2F0IHJlZnJhY3Rpb25SYXRpbyl7XFxuICAgIGZsb2F0IGYgPSBwb3coMS4wIC0gcmVmcmFjdGlvblJhdGlvLCAyLjApIC8gcG93KDEuMCArIHJlZnJhY3Rpb25SYXRpbywgMi4wKTtcXG4gICAgZmxvYXQgZnJlc25lbFBvd2VyID0gNS4wO1xcbiAgICBmbG9hdCByYXRpbyA9IGYgKyAoMS4wIC0gZikgKiBwb3coKDEuMCAtIGRvdChpbkRpciwgbm9ybWFsKSksIGZyZXNuZWxQb3dlcik7XFxuXFxuICAgIHJldHVybiByYXRpbyAvIDEwMC4wO1xcbn1cXG5cXG52ZWM0IGdldEVudk1hcFRvdGFsQ29sb3IodmVjMyBpbkRpciwgdmVjMyBub3JtYWwpe1xcbiAgICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KGluRGlyLCBub3JtYWwpO1xcbiAgICB2ZWMzIHJlZnJhY3REaXIgPSByZWZyYWN0KGluRGlyLCBub3JtYWwsIHVfcmVmcmFjdGlvblJhdGlvKTtcXG5cXG4gICAgdmVjNCByZWZsZWN0Q29sb3IgPSB0ZXh0dXJlQ3ViZSh1X3NhbXBsZXJDdWJlMCwgcmVmbGVjdERpcik7XFxuICAgIHZlYzQgcmVmcmFjdENvbG9yID0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZnJhY3REaXIpO1xcblxcbiAgICB2ZWM0IHRvdGFsQ29sb3IgPSB2ZWM0KDAuMCk7XFxuXFxuXHRpZih1X3JlZmxlY3Rpdml0eSAhPSBOVUxMKXtcXG4gICAgICAgIHRvdGFsQ29sb3IgPSBtaXgocmVmbGVjdENvbG9yLCByZWZyYWN0Q29sb3IsIHVfcmVmbGVjdGl2aXR5KTtcXG5cdH1cXG5cdGVsc2V7XFxuICAgICAgICB0b3RhbENvbG9yID0gbWl4KHJlZmxlY3RDb2xvciwgcmVmcmFjdENvbG9yLCBjb21wdXRlRnJlc25lbFJhdGlvKGluRGlyLCBub3JtYWwsIHVfcmVmcmFjdGlvblJhdGlvKSk7XFxuXHR9XFxuXFxuXHRyZXR1cm4gdG90YWxDb2xvcjtcXG59XFxuXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IGdldEVudk1hcFRvdGFsQ29sb3IoaW5EaXIsIG5vcm1hbGl6ZShnZXROb3JtYWwoKSkpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgcmVmbGVjdGlvbl9mb3JMaWdodF9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcIlwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ0b3RhbENvbG9yICo9IHRleHR1cmVDdWJlKHVfc2FtcGxlckN1YmUwLCByZWZsZWN0KGluRGlyLCBub3JtYWxpemUoZ2V0Tm9ybWFsKCkpKSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyByZWZyYWN0aW9uX2ZvckxpZ2h0X2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwiXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInRvdGFsQ29sb3IgKj0gdGV4dHVyZUN1YmUodV9zYW1wbGVyQ3ViZTAsIHJlZnJhY3QoaW5EaXIsIGdldE5vcm1hbCgpLCB1X3JlZnJhY3Rpb25SYXRpbykpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgdGVycmFpbkxheWVyX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwic3RydWN0IExheWVySGVpZ2h0RGF0YSB7XFxuICAgIGZsb2F0IG1pbkhlaWdodDtcXG4gICAgZmxvYXQgbWF4SGVpZ2h0O1xcbn07XFxudW5pZm9ybSBMYXllckhlaWdodERhdGEgdV9sYXllckhlaWdodERhdGFzW0xBWUVSX0NPVU5UXTtcXG4vL3NhbXBsZXIyRCBjYW4ndCBiZSBjb250YWluZWQgaW4gc3RydWN0XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9sYXllclNhbXBsZXIyRHNbTEFZRVJfQ09VTlRdO1xcblxcblxcbnZhcnlpbmcgdmVjMiB2X2xheWVyVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJ2ZWM0IGdldExheWVyVGV4dHVyZUNvbG9yKGluIHNhbXBsZXIyRCBsYXllclNhbXBsZXIyRHNbTEFZRVJfQ09VTlRdLCBpbiBMYXllckhlaWdodERhdGEgbGF5ZXJIZWlnaHREYXRhc1tMQVlFUl9DT1VOVF0pe1xcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLjApO1xcbiAgICBib29sIGlzSW5MYXllciA9IGZhbHNlO1xcblxcbiAgICBmbG9hdCBoZWlnaHQgPSB2X3dvcmxkUG9zaXRpb24ueTtcXG5cXG4gICAgZm9yKGludCBpID0gMDsgaSA8IExBWUVSX0NPVU5UOyBpKyspe1xcbiAgICAgICAgaWYoaGVpZ2h0ID49IGxheWVySGVpZ2h0RGF0YXNbaV0ubWluSGVpZ2h0ICYmIGhlaWdodCA8PSBsYXllckhlaWdodERhdGFzW2ldLm1heEhlaWdodCl7XFxuICAgICAgICAgICAgLy90b2RvIGJsZW5kIGNvbG9yXFxuICAgICAgICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKGxheWVyU2FtcGxlcjJEc1tpXSwgdl9sYXllclRleENvb3JkKTtcXG5cXG4gICAgICAgICAgICBpc0luTGF5ZXIgPSB0cnVlO1xcblxcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHJldHVybiBpc0luTGF5ZXIgPyBjb2xvciA6IHZlYzQoMS4wKTtcXG59XFxuXCIsYm9keTogXCJcXG50b3RhbENvbG9yICo9IGdldExheWVyVGV4dHVyZUNvbG9yKHVfbGF5ZXJTYW1wbGVyMkRzLCB1X2xheWVySGVpZ2h0RGF0YXMpO1xcblwiLH1cbnB1YmxpYyBzdGF0aWMgdGVycmFpbkxheWVyX3ZlcnRleDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X2xheWVyVGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcInZfbGF5ZXJUZXhDb29yZCA9IGFfdGV4Q29vcmQ7XFxuXCIsfVxucHVibGljIHN0YXRpYyBjbG91ZF9wcm9jZWR1cmFsVGV4dHVyZV9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJnbF9GcmFnQ29sb3IgPSBtaXgodV9za3lDb2xvciwgdV9jbG91ZENvbG9yLCBmYm0odl90ZXhDb29yZCAqIDEyLjApKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGJyaWNrX3Byb2NlZHVyYWxUZXh0dXJlX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImZsb2F0IGJyaWNrVyA9IDEuMCAvIHVfdGlsZXNXaWR0aE51bWJlcjtcXG5cdGZsb2F0IGJyaWNrSCA9IDEuMCAvIHVfdGlsZXNXaWR0aE51bWJlcjtcXG5cdGZsb2F0IGpvaW50V1BlcmNlbnRhZ2UgPSAwLjAxO1xcblx0ZmxvYXQgam9pbnRIUGVyY2VudGFnZSA9IDAuMDU7XFxuXHR2ZWMzIGNvbG9yID0gdV9icmlja0NvbG9yO1xcblx0ZmxvYXQgeWkgPSB2X3RleENvb3JkLnkgLyBicmlja0g7XFxuXHRmbG9hdCBueWkgPSByb3VuZCh5aSk7XFxuXHRmbG9hdCB4aSA9IHZfdGV4Q29vcmQueCAvIGJyaWNrVztcXG5cXG5cdGlmIChtb2QoZmxvb3IoeWkpLCAyLjApID09IDAuMCl7XFxuXHRcdHhpID0geGkgLSAwLjU7XFxuXHR9XFxuXFxuXHRmbG9hdCBueGkgPSByb3VuZCh4aSk7XFxuXHR2ZWMyIGJyaWNrdl90ZXhDb29yZCA9IHZlYzIoKHhpIC0gZmxvb3IoeGkpKSAvIGJyaWNrSCwgKHlpIC0gZmxvb3IoeWkpKSAvICBicmlja1cpO1xcblxcblx0aWYgKHlpIDwgbnlpICsgam9pbnRIUGVyY2VudGFnZSAmJiB5aSA+IG55aSAtIGpvaW50SFBlcmNlbnRhZ2Upe1xcblx0XHRjb2xvciA9IG1peCh1X2pvaW50Q29sb3IsIHZlYzMoMC4zNywgMC4yNSwgMC4yNSksICh5aSAtIG55aSkgLyBqb2ludEhQZXJjZW50YWdlICsgMC4yKTtcXG5cdH1cXG5cdGVsc2UgaWYgKHhpIDwgbnhpICsgam9pbnRXUGVyY2VudGFnZSAmJiB4aSA+IG54aSAtIGpvaW50V1BlcmNlbnRhZ2Upe1xcblx0XHRjb2xvciA9IG1peCh1X2pvaW50Q29sb3IsIHZlYzMoMC40NCwgMC40NCwgMC40NCksICh4aSAtIG54aSkgLyBqb2ludFdQZXJjZW50YWdlICsgMC4yKTtcXG5cdH1cXG5cdGVsc2Uge1xcblx0XHRmbG9hdCB1X2JyaWNrQ29sb3JTd2l0Y2ggPSBtb2QoZmxvb3IoeWkpICsgZmxvb3IoeGkpLCAzLjApO1xcblxcblx0XHRpZiAodV9icmlja0NvbG9yU3dpdGNoID09IDAuMClcXG5cdFx0XHRjb2xvciA9IG1peChjb2xvciwgdmVjMygwLjMzLCAwLjMzLCAwLjMzKSwgMC4zKTtcXG5cdFx0ZWxzZSBpZiAodV9icmlja0NvbG9yU3dpdGNoID09IDIuMClcXG5cdFx0XHRjb2xvciA9IG1peChjb2xvciwgdmVjMygwLjExLCAwLjExLCAwLjExKSwgMC4zKTtcXG5cdH1cXG5cXG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBjb21tb25fcHJvY2VkdXJhbFRleHR1cmVfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJcIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcImZsb2F0IHJhbmQodmVjMiBuKSB7XFxuXHRyZXR1cm4gZnJhY3QoY29zKGRvdChuLCB2ZWMyKDEyLjk4OTgsIDQuMTQxNCkpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5mbG9hdCBub2lzZSh2ZWMyIG4pIHtcXG5cdGNvbnN0IHZlYzIgZCA9IHZlYzIoMC4wLCAxLjApO1xcblx0dmVjMiBiID0gZmxvb3IobiksIGYgPSBzbW9vdGhzdGVwKHZlYzIoMC4wKSwgdmVjMigxLjApLCBmcmFjdChuKSk7XFxuXHRyZXR1cm4gbWl4KG1peChyYW5kKGIpLCByYW5kKGIgKyBkLnl4KSwgZi54KSwgbWl4KHJhbmQoYiArIGQueHkpLCByYW5kKGIgKyBkLnl5KSwgZi54KSwgZi55KTtcXG59XFxuXFxuZmxvYXQgdHVyYnVsZW5jZSh2ZWMyIFApXFxue1xcblx0ZmxvYXQgdmFsID0gMC4wO1xcblx0ZmxvYXQgZnJlcSA9IDEuMDtcXG5cdGZvciAoaW50IGkgPSAwOyBpIDwgNDsgaSsrKVxcblx0e1xcblx0XHR2YWwgKz0gYWJzKG5vaXNlKFAqZnJlcSkgLyBmcmVxKTtcXG5cdFx0ZnJlcSAqPSAyLjA3O1xcblx0fVxcblx0cmV0dXJuIHZhbDtcXG59XFxuXFxuZmxvYXQgZmJtKHZlYzIgbikge1xcblx0ZmxvYXQgdG90YWwgPSAwLjAsIGFtcGxpdHVkZSA9IDEuMDtcXG5cdGZvciAoaW50IGkgPSAwOyBpIDwgNDsgaSsrKSB7XFxuXHRcdHRvdGFsICs9IG5vaXNlKG4pICogYW1wbGl0dWRlO1xcblx0XHRuICs9IG47XFxuXHRcdGFtcGxpdHVkZSAqPSAwLjU7XFxuXHR9XFxuXHRyZXR1cm4gdG90YWw7XFxufVxcblxcbmZsb2F0IHJvdW5kKGZsb2F0IG51bWJlcil7XFxuXHRyZXR1cm4gc2lnbihudW1iZXIpKmZsb29yKGFicyhudW1iZXIpICsgMC41KTtcXG59XFxuXCIsYm9keTogXCJcIix9XG5wdWJsaWMgc3RhdGljIGNvbW1vbl9wcm9jZWR1cmFsVGV4dHVyZV92ZXJ0ZXg6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcXG5jb25zdCB2ZWMyIE1BREQ9dmVjMigwLjUsMC41KTtcXG5cIixmdW5jRGVjbGFyZTogXCJcIixmdW5jRGVmaW5lOiBcIlwiLGJvZHk6IFwidl90ZXhDb29yZD1hX3Bvc2l0aW9uVmVjMipNQUREK01BREQ7XFxuXFxuICAgIGdsX1Bvc2l0aW9uPXZlYzQoYV9wb3NpdGlvblZlYzIsIDAuMCAsMS4wKTtcXG5cIix9XG5wdWJsaWMgc3RhdGljIGZpcmVfcHJvY2VkdXJhbFRleHR1cmVfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcXG5zdHJ1Y3QgRmlyZUNvbG9yIHtcXG4gICAgdmVjMyBjMTtcXG4gICAgdmVjMyBjMjtcXG4gICAgdmVjMyBjMztcXG4gICAgdmVjMyBjNDtcXG4gICAgdmVjMyBjNTtcXG4gICAgdmVjMyBjNjtcXG59O1xcbnVuaWZvcm0gRmlyZUNvbG9yIHVfZmlyZUNvbG9yO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMyIHAgPSB2X3RleENvb3JkICogOC4wO1xcblx0ZmxvYXQgcSA9IGZibShwIC0gdV90aW1lICogMC4xKTtcXG5cdHZlYzIgciA9IHZlYzIoZmJtKHAgKyBxICsgdV90aW1lICogdV9zcGVlZC54IC0gcC54IC0gcC55KSwgZmJtKHAgKyBxIC0gdV90aW1lICogdV9zcGVlZC55KSk7XFxuXHR2ZWMzIGMgPSBtaXgodV9maXJlQ29sb3IuYzEsIHVfZmlyZUNvbG9yLmMyLCBmYm0ocCArIHIpKSArIG1peCh1X2ZpcmVDb2xvci5jMywgdV9maXJlQ29sb3IuYzQsIHIueCkgLSBtaXgodV9maXJlQ29sb3IuYzUsIHVfZmlyZUNvbG9yLmM2LCByLnkpO1xcblx0dmVjMyBjb2xvciA9IGMgKiBjb3ModV9zaGlmdCAqIHZfdGV4Q29vcmQueSk7XFxuXHRmbG9hdCBsdW1pbmFuY2UgPSBkb3QoY29sb3IucmdiLCB2ZWMzKDAuMywgMC41OSwgMC4xMSkpO1xcblxcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgbHVtaW5hbmNlICogdV9hbHBoYVRocmVzaG9sZCArICgxLjAgLSB1X2FscGhhVGhyZXNob2xkKSk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBncmFzc19wcm9jZWR1cmFsVGV4dHVyZV9mcmFnbWVudDpHTFNMQ2h1bmsgPSB7dG9wOiBcIlwiLGRlZmluZTogXCJcIix2YXJEZWNsYXJlOiBcInZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwiXCIsYm9keTogXCJ2ZWMzIGNvbG9yID0gbWl4KHVfZ3JvdW5kQ29sb3IsIHVfaGVyYjFDb2xvciwgcmFuZChnbF9GcmFnQ29vcmQueHkgKiA0LjApKTtcXG5cdGNvbG9yID0gbWl4KGNvbG9yLCB1X2hlcmIyQ29sb3IsIHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogOC4wKSk7XFxuXHRjb2xvciA9IG1peChjb2xvciwgdV9oZXJiM0NvbG9yLCByYW5kKGdsX0ZyYWdDb29yZC54eSkpO1xcblx0Y29sb3IgPSBtaXgoY29sb3IsIHVfaGVyYjFDb2xvciwgZmJtKGdsX0ZyYWdDb29yZC54eSAqIDE2LjApKTtcXG5cXG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyBtYXJibGVfcHJvY2VkdXJhbFRleHR1cmVfZnJhZ21lbnQ6R0xTTENodW5rID0ge3RvcDogXCJcIixkZWZpbmU6IFwiXCIsdmFyRGVjbGFyZTogXCJ2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcXG5jb25zdCB2ZWMzIFRJTEVfU0laRSA9IHZlYzMoMS4xLCAxLjAsIDEuMSk7XFxuLy9jb25zdCB2ZWMzIFRJTEVfUENUID0gdmVjMygwLjk4LCAxLjAsIDAuOTgpO1xcblwiLGZ1bmNEZWNsYXJlOiBcIlwiLGZ1bmNEZWZpbmU6IFwidmVjMyBtYXJibGVfY29sb3IoZmxvYXQgeClcXG57XFxuXHR2ZWMzIGNvbDtcXG5cdHggPSAwLjUqKHggKyAxLik7XFxuXHR4ID0gc3FydCh4KTtcXG5cdHggPSBzcXJ0KHgpO1xcblx0eCA9IHNxcnQoeCk7XFxuXHRjb2wgPSB2ZWMzKC4yICsgLjc1KngpO1xcblx0Y29sLmIgKj0gMC45NTtcXG5cdHJldHVybiBjb2w7XFxufVxcblwiLGJvZHk6IFwidmVjMyBjb2xvcjtcXG5cdGZsb2F0IGJyaWNrVyA9IDEuMCAvIHVfdGlsZXNIZWlnaHROdW1iZXI7XFxuXHRmbG9hdCBicmlja0ggPSAxLjAgLyB1X3RpbGVzV2lkdGhOdW1iZXI7XFxuXHRmbG9hdCBqb2ludFdQZXJjZW50YWdlID0gMC4wMTtcXG5cdGZsb2F0IGpvaW50SFBlcmNlbnRhZ2UgPSAwLjAxO1xcblx0ZmxvYXQgeWkgPSB2X3RleENvb3JkLnkgLyBicmlja0g7XFxuXHRmbG9hdCBueWkgPSByb3VuZCh5aSk7XFxuXHRmbG9hdCB4aSA9IHZfdGV4Q29vcmQueCAvIGJyaWNrVztcXG5cXG5cdGlmIChtb2QoZmxvb3IoeWkpLCAyLjApID09IDAuMCl7XFxuXHRcdHhpID0geGkgLSAwLjU7XFxuXHR9XFxuXFxuXHRmbG9hdCBueGkgPSByb3VuZCh4aSk7XFxuXHR2ZWMyIGJyaWNrdl90ZXhDb29yZCA9IHZlYzIoKHhpIC0gZmxvb3IoeGkpKSAvIGJyaWNrSCwgKHlpIC0gZmxvb3IoeWkpKSAvIGJyaWNrVyk7XFxuXFxuXHRpZiAoeWkgPCBueWkgKyBqb2ludEhQZXJjZW50YWdlICYmIHlpID4gbnlpIC0gam9pbnRIUGVyY2VudGFnZSl7XFxuXHRcdGNvbG9yID0gbWl4KHVfam9pbnRDb2xvciwgdmVjMygwLjM3LCAwLjI1LCAwLjI1KSwgKHlpIC0gbnlpKSAvIGpvaW50SFBlcmNlbnRhZ2UgKyAwLjIpO1xcblx0fVxcblx0ZWxzZSBpZiAoeGkgPCBueGkgKyBqb2ludFdQZXJjZW50YWdlICYmIHhpID4gbnhpIC0gam9pbnRXUGVyY2VudGFnZSl7XFxuXHRcdGNvbG9yID0gbWl4KHVfam9pbnRDb2xvciwgdmVjMygwLjQ0LCAwLjQ0LCAwLjQ0KSwgKHhpIC0gbnhpKSAvIGpvaW50V1BlcmNlbnRhZ2UgKyAwLjIpO1xcblx0fVxcblx0ZWxzZSB7XFxuXHRcdGZsb2F0IHQgPSA2LjI4ICogYnJpY2t2X3RleENvb3JkLnggLyAoVElMRV9TSVpFLnggKyBub2lzZSh2ZWMyKHZfdGV4Q29vcmQpKjYuMCkpO1xcblx0XHR0ICs9IHVfYW1wbGl0dWRlICogdHVyYnVsZW5jZShicmlja3ZfdGV4Q29vcmQueHkpO1xcblx0XHR0ID0gc2luKHQpO1xcblx0XHRjb2xvciA9IG1hcmJsZV9jb2xvcih0KTtcXG5cdH1cXG5cXG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyByb2FkX3Byb2NlZHVyYWxUZXh0dXJlX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImZsb2F0IHJhdGlveSA9IG1vZChnbF9GcmFnQ29vcmQueSAqIDEwMC4wICwgZmJtKHZfdGV4Q29vcmQgKiAyLjApKTtcXG5cdHZlYzMgY29sb3IgPSB1X3JvYWRDb2xvciAqIHJhdGlveTtcXG5cXG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxuXCIsfVxucHVibGljIHN0YXRpYyB3b29kX3Byb2NlZHVyYWxUZXh0dXJlX2ZyYWdtZW50OkdMU0xDaHVuayA9IHt0b3A6IFwiXCIsZGVmaW5lOiBcIlwiLHZhckRlY2xhcmU6IFwidmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XFxuXCIsZnVuY0RlY2xhcmU6IFwiXCIsZnVuY0RlZmluZTogXCJcIixib2R5OiBcImZsb2F0IHJhdGlveSA9IG1vZCh2X3RleENvb3JkLnggKiB1X2FtcFNjYWxlLCAyLjAgKyBmYm0odl90ZXhDb29yZCAqIDAuOCkpO1xcblx0dmVjMyB3b29kID0gdV93b29kQ29sb3IgKiByYXRpb3k7XFxuXFxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHdvb2QsIDEuMCk7XFxuXCIsfVxufVxuZXhwb3J0IHR5cGUgR0xTTENodW5rID0ge3RvcD86c3RyaW5nO2RlZmluZT86c3RyaW5nO3ZhckRlY2xhcmU/OnN0cmluZztmdW5jRGVjbGFyZT86c3RyaW5nO2Z1bmNEZWZpbmU/OnN0cmluZztib2R5PzpzdHJpbmc7fVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

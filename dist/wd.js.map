{"version":3,"file":"wd.js","sources":["../node_modules/wonder-commonlib/dist/es2015/utils/JudgeUtils.ts","../node_modules/wonder-commonlib/dist/es2015/global/Variable.ts","../node_modules/wonder-commonlib/dist/es2015/Log.ts","../src/utils/Log.ts","../src/config/CompileConfig.ts","../src/core/MainData.ts","../src/definition/typescript/decorator/contract.ts","../node_modules/wonder-expect.js/dist/wdet.js","../node_modules/wonder-commonlib/dist/es2015/global/Const.ts","../node_modules/wonder-commonlib/dist/es2015/List.ts","../node_modules/wonder-commonlib/dist/es2015/utils/ExtendUtils.ts","../node_modules/wonder-commonlib/dist/es2015/Collection.ts","../src/utils/JudgeUtils.ts","../src/utils/objectUtils.ts","../src/component/ComponentData.ts","../src/utils/ClassUtils.ts","../src/component/ComponentTypeIDManager.ts","../src/utils/arrayUtils.ts","../src/component/ComponentSystem.ts","../src/component/utils/contractUtils.ts","../src/definition/typescript/decorator/registerClass.ts","../src/component/Component.ts","../src/component/camera/CameraControllerData.ts","../src/component/camera/CameraController.ts","../src/utils/cacheUtils.ts","../src/component/camera/PerspectiveCameraData.ts","../src/component/camera/CameraData.ts","../src/component/camera/CameraControllerSystem.ts","../src/math/Vector2.ts","../src/math/Global.ts","../src/math/Matrix3.ts","../src/math/Vector4.ts","../src/math/Vector3.ts","../src/math/Quaternion.ts","../src/math/Matrix4.ts","../src/component/camera/PerspectiveCameraSystem.ts","../src/core/entityObject/gameObject/GameObjectData.ts","../src/config/DataBufferConfig.ts","../src/component/transform/ThreeDTransformData.ts","../src/definition/GlobalTempData.ts","../src/component/transform/ThreeDTransform.ts","../node_modules/.0.1.2@wonder-lodash/identity.js","../node_modules/.0.1.2@wonder-lodash/_freeGlobal.js","../node_modules/.0.1.2@wonder-lodash/_root.js","../node_modules/.0.1.2@wonder-lodash/_Symbol.js","../node_modules/.0.1.2@wonder-lodash/_getRawTag.js","../node_modules/.0.1.2@wonder-lodash/_objectToString.js","../node_modules/.0.1.2@wonder-lodash/_baseGetTag.js","../node_modules/.0.1.2@wonder-lodash/isObject.js","../node_modules/.0.1.2@wonder-lodash/isFunction.js","../node_modules/.0.1.2@wonder-lodash/_coreJsData.js","../node_modules/.0.1.2@wonder-lodash/_isMasked.js","../node_modules/.0.1.2@wonder-lodash/_toSource.js","../node_modules/.0.1.2@wonder-lodash/_baseIsNative.js","../node_modules/.0.1.2@wonder-lodash/_getValue.js","../node_modules/.0.1.2@wonder-lodash/_getNative.js","../node_modules/.0.1.2@wonder-lodash/_WeakMap.js","../node_modules/.0.1.2@wonder-lodash/_metaMap.js","../node_modules/.0.1.2@wonder-lodash/_baseSetData.js","../node_modules/.0.1.2@wonder-lodash/_baseCreate.js","../node_modules/.0.1.2@wonder-lodash/_createCtor.js","../node_modules/.0.1.2@wonder-lodash/_createBind.js","../node_modules/.0.1.2@wonder-lodash/_apply.js","../node_modules/.0.1.2@wonder-lodash/_composeArgs.js","../node_modules/.0.1.2@wonder-lodash/_composeArgsRight.js","../node_modules/.0.1.2@wonder-lodash/_countHolders.js","../node_modules/.0.1.2@wonder-lodash/_baseLodash.js","../node_modules/.0.1.2@wonder-lodash/_LazyWrapper.js","../node_modules/.0.1.2@wonder-lodash/noop.js","../node_modules/.0.1.2@wonder-lodash/_getData.js","../node_modules/.0.1.2@wonder-lodash/_realNames.js","../node_modules/.0.1.2@wonder-lodash/_getFuncName.js","../node_modules/.0.1.2@wonder-lodash/_LodashWrapper.js","../node_modules/.0.1.2@wonder-lodash/isArray.js","../node_modules/.0.1.2@wonder-lodash/isObjectLike.js","../node_modules/.0.1.2@wonder-lodash/_copyArray.js","../node_modules/.0.1.2@wonder-lodash/_wrapperClone.js","../node_modules/.0.1.2@wonder-lodash/wrapperLodash.js","../node_modules/.0.1.2@wonder-lodash/_isLaziable.js","../node_modules/.0.1.2@wonder-lodash/_shortOut.js","../node_modules/.0.1.2@wonder-lodash/_setData.js","../node_modules/.0.1.2@wonder-lodash/_getWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/_insertWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/constant.js","../node_modules/.0.1.2@wonder-lodash/_defineProperty.js","../node_modules/.0.1.2@wonder-lodash/_baseSetToString.js","../node_modules/.0.1.2@wonder-lodash/_setToString.js","../node_modules/.0.1.2@wonder-lodash/_arrayEach.js","../node_modules/.0.1.2@wonder-lodash/_baseFindIndex.js","../node_modules/.0.1.2@wonder-lodash/_baseIsNaN.js","../node_modules/.0.1.2@wonder-lodash/_strictIndexOf.js","../node_modules/.0.1.2@wonder-lodash/_baseIndexOf.js","../node_modules/.0.1.2@wonder-lodash/_arrayIncludes.js","../node_modules/.0.1.2@wonder-lodash/_updateWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/_setWrapToString.js","../node_modules/.0.1.2@wonder-lodash/_createRecurry.js","../node_modules/.0.1.2@wonder-lodash/_getHolder.js","../node_modules/.0.1.2@wonder-lodash/_isIndex.js","../node_modules/.0.1.2@wonder-lodash/_reorder.js","../node_modules/.0.1.2@wonder-lodash/_replaceHolders.js","../node_modules/.0.1.2@wonder-lodash/_createHybrid.js","../node_modules/.0.1.2@wonder-lodash/_createCurry.js","../node_modules/.0.1.2@wonder-lodash/_createPartial.js","../node_modules/.0.1.2@wonder-lodash/_mergeData.js","../node_modules/.0.1.2@wonder-lodash/isSymbol.js","../node_modules/.0.1.2@wonder-lodash/toNumber.js","../node_modules/.0.1.2@wonder-lodash/toFinite.js","../node_modules/.0.1.2@wonder-lodash/toInteger.js","../node_modules/.0.1.2@wonder-lodash/_createWrap.js","../node_modules/.0.1.2@wonder-lodash/curry.js","../node_modules/.0.1.2@wonder-lodash/_arrayPush.js","../node_modules/.0.1.2@wonder-lodash/_baseIsArguments.js","../node_modules/.0.1.2@wonder-lodash/isArguments.js","../node_modules/.0.1.2@wonder-lodash/_isFlattenable.js","../node_modules/.0.1.2@wonder-lodash/_baseFlatten.js","../node_modules/.0.1.2@wonder-lodash/flatten.js","../node_modules/.0.1.2@wonder-lodash/_overRest.js","../node_modules/.0.1.2@wonder-lodash/_flatRest.js","../node_modules/.0.1.2@wonder-lodash/_createFlow.js","../node_modules/.0.1.2@wonder-lodash/flowRight.js","../src/utils/functionalUtils.ts","../src/component/transform/utils.ts","../src/utils/entityUtils.ts","../src/component/transform/hierarchySystem.ts","../src/utils/typeArrayUtils.ts","../src/component/transform/operateDataSystem.ts","../src/component/transform/LinkList.ts","../src/component/transform/dirtySystem.ts","../src/component/transform/isTransformSystem.ts","../src/component/transform/cacheSystem.ts","../src/component/transform/updateSystem.ts","../src/component/transform/contractUtils.ts","../src/component/transform/batchSystem.ts","../src/component/tag/TagData.ts","../src/component/tag/Tag.ts","../src/component/tag/TagSystem.ts","../src/config/MemoryConfig.ts","../src/utils/memoryUtils.ts","../src/component/transform/ThreeDTransformSystem.ts","../src/utils/contractUtils.ts","../node_modules/.0.1.2@wonder-lodash/_arrayMap.js","../node_modules/.0.1.2@wonder-lodash/_baseToString.js","../node_modules/.0.1.2@wonder-lodash/toString.js","../node_modules/wonder-fantasy-land/dist/es2015/types/IO.ts","../node_modules/wonder-commonlib/dist/es2015/utils/DomQuery.ts","../src/device/WorkerDetectData.ts","../src/definition/Variable.ts","../src/config/RenderWorkerConfig.ts","../src/device/WorkerDetectSystem.ts","../src/component/renderer/MeshRendererData.ts","../src/component/renderer/MeshRenderer.ts","../src/component/renderer/MeshRendererSystem.ts","../src/core/entityObject/scene/SceneSystem.ts","../src/definition/typescript/decorator/cache.ts","../src/structure/Color.ts","../src/component/material/MaterialData.ts","../src/renderer/utils/material/materialUtils.ts","../src/renderer/shader/Shader.ts","../node_modules/immutable/dist/immutable.js","../src/utils/stateUtils.ts","../src/renderer/utils/renderConfigUtils.ts","../src/renderer/utils/shader/location/locationUtils.ts","../src/renderer/enum/EVariableType.ts","../src/renderer/enum/EBufferType.ts","../src/renderer/utils/buffer/bufferUtils.ts","../src/renderer/utils/buffer/arrayBufferUtils.ts","../src/renderer/utils/shader/program/programUtils.ts","../src/renderer/utils/shader/glslSender/glslSenderUtils.ts","../src/renderer/utils/buffer/indexBufferUtils.ts","../src/renderer/utils/shader/shaderUtils.ts","../src/definition/typescript/decorator/singleton.ts","../src/renderer/device/GPUDetector.ts","../src/component/geometry/GeometryData.ts","../src/renderer/enum/EDrawMode.ts","../src/renderer/utils/geometry/geometryUtils.ts","../src/utils/arrayBufferUtils.ts","../src/renderer/buffer/ArrayBufferData.ts","../src/renderer/buffer/IndexBufferData.ts","../src/renderer/worker/both_file/buffer/BufferSystem.ts","../src/structure/ViewSystem.ts","../src/renderer/device/EScreenSize.ts","../src/structure/RectRegion.ts","../src/utils/rootUtils.ts","../src/renderer/utils/device/deviceManagerUtils.ts","../src/renderer/device/DeviceManagerSystem.ts","../src/renderer/device/DeviceManagerData.ts","../src/renderer/buffer/ArrayBufferSystem.ts","../src/renderer/buffer/IndexBufferSystem.ts","../src/component/geometry/GeometrySystem.ts","../src/renderer/shader/location/LocationSystem.ts","../src/renderer/shader/glslSender/GLSLSenderSystem.ts","../src/renderer/shader/snippet/ShaderSnippet.ts","../src/renderer/shader/chunk/ShaderChunk.ts","../src/renderer/utils/shader/shaderSourceBuildUtils.ts","../src/renderer/shader/shaderSourceBuildSystem.ts","../src/renderer/shader/ShaderSystem.ts","../src/renderer/data/material_config.ts","../src/renderer/data/shaderLib_generator.ts","../src/renderer/shader/program/ProgramData.ts","../src/renderer/shader/location/LocationData.ts","../src/renderer/shader/glslSender/GLSLSenderData.ts","../src/component/material/MaterialSystem.ts","../src/renderer/command_buffer/RenderCommandBufferSystem.ts","../src/renderer/worker/both_file/EWorkerOperateType.ts","../src/renderer/enum/EGeometryWorkerDataOperateType.ts","../src/renderer/enum/EDisposeDataOperateType.ts","../src/renderer/worker/logic_file/worker_instance/WorkerInstanceSystem.ts","../src/renderer/worker/logic_file/draw/SendDrawRenderCommandBufferDataSystem.ts","../src/renderer/data/render_config.ts","../src/core/entityObject/scene/SceneData.ts","../src/renderer/command_buffer/RenderCommandBufferData.ts","../src/renderer/worker/both_file/ERenderWorkerState.ts","../src/renderer/worker/logic_file/draw/SendDrawRenderCommandBufferData.ts","../src/utils/BufferUtilsForUnitTest.ts","../src/renderer/utils/draw/drawRenderCommandBufferUtils.ts","../src/renderer/draw/DrawRenderCommandBufferSystem.ts","../src/renderer/draw/DrawRenderCommandBufferData.ts","../src/renderer/worker/logic_file/worker_instance/WorkerInstanceData.ts","../src/renderer/render/WebGLRenderSystem.ts","../src/core/DirectorSystem.ts","../src/core/DirectorData.ts","../src/core/entityObject/gameObject/GameObject.ts","../src/component/geometry/Geometry.ts","../src/component/material/Material.ts","../src/core/entityObject/gameObject/GameObjectSystem.ts","../src/component/camera/CameraSystem.ts","../src/component/camera/Camera.ts","../src/component/camera/PerspectiveCamera.ts","../src/component/geometry/BoxGeometrySystem.ts","../src/component/geometry/BoxGeometry.ts","../src/component/geometry/CustomGeometrySystem.ts","../src/component/geometry/CustomGeometry.ts","../src/component/material/BasicMaterialSystem.ts","../src/renderer/shader/ShaderData.ts","../src/component/material/BasicMaterial.ts","../src/config/DebugConfig.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/JudgeUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/global/Variable.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/Log.ts","../node_modules/wonder-frp/dist/es2015/core/Entity.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/global/Const.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/List.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/ExtendUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/Collection.ts","../node_modules/wonder-frp/dist/es2015/JudgeUtils.ts","../node_modules/wonder-frp/dist/es2015/observer/SubjectObserver.ts","../node_modules/wonder-frp/dist/es2015/core/Observer.ts","../node_modules/wonder-frp/dist/es2015/core/Main.ts","../node_modules/wonder-frp/dist/es2015/definition/typescript/decorator/contract.ts","../node_modules/wonder-frp/dist/es2015/observer/AutoDetachObserver.ts","../node_modules/wonder-frp/dist/es2015/Disposable/InnerSubscription.ts","../node_modules/wonder-frp/dist/es2015/subject/Subject.ts","../node_modules/wonder-frp/dist/es2015/Disposable/SingleDisposable.ts","../node_modules/wonder-frp/dist/es2015/utils/ClassMapUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/FunctionUtils.ts","../node_modules/wonder-frp/dist/es2015/core/Stream.ts","../node_modules/wonder-frp/dist/es2015/stream/BaseStream.ts","../node_modules/wonder-frp/dist/es2015/global/Variable.ts","../node_modules/wonder-frp/dist/es2015/core/Scheduler.ts","../node_modules/wonder-frp/dist/es2015/stream/AnonymousStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromArrayStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromPromiseStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromEventPatternStream.ts","../node_modules/wonder-frp/dist/es2015/stream/IntervalStream.ts","../node_modules/wonder-frp/dist/es2015/stream/IntervalRequestStream.ts","../node_modules/wonder-frp/dist/es2015/stream/TimeoutStream.ts","../node_modules/wonder-frp/dist/es2015/Disposable/GroupDisposable.ts","../node_modules/wonder-frp/dist/es2015/stream/DeferStream.ts","../node_modules/wonder-frp/dist/es2015/definition/typescript/decorator/registerClass.ts","../node_modules/wonder-frp/dist/es2015/global/Operator.ts","../node_modules/wonder-frp/dist/es2015/observer/ConcatObserver.ts","../node_modules/wonder-frp/dist/es2015/stream/ConcatStream.ts","../node_modules/wonder-frp/dist/es2015/observer/IgnoreElementsObserver.ts","../node_modules/wonder-frp/dist/es2015/stream/IgnoreElementsStream.ts","../node_modules/wonder-frp/dist/es2015/extend/root.ts","../src/utils/time/TimeController.ts","../src/utils/time/DirectorTimeController.ts","../src/structure/View.ts","../src/renderer/device/DeviceManager.ts","../node_modules/wonder-commonlib/dist/es2015/Hash.ts","../src/utils/time/CommonTimeController.ts","../src/core/Scheduler.ts","../src/core/Director.ts","../src/core/entityObject/scene/Scene.ts","../src/renderer/shader/program/ProgramSystem.ts","../src/renderer/device/GPUDetectorSystem.ts","../src/renderer/worker/both_file/device/DeviceManagerWorkerSystem.ts","../src/renderer/device/initDeviceSystem.ts","../src/core/MainSystem.ts","../src/core/Main.ts","../src/definition/typescript/decorator/control.ts","../src/definition/typescript/decorator/virtual.ts","../src/renderer/worker/both_file/device/DeviceManagerWorkerData.ts","../src/renderer/worker/render_file/buffer/ArrayBufferWorkerData.ts","../src/renderer/worker/render_file/buffer/IndexBufferWorkerData.ts","../src/renderer/worker/render_file/draw/DrawRenderCommandBufferWorkerData.ts","../src/renderer/worker/render_file/geometry/GeometryWorkerData.ts","../src/renderer/worker/render_file/initGL.ts","../src/renderer/worker/render_file/material/MaterialWorkerData.ts","../src/renderer/worker/render_file/shader/glslSender/GLSLSenderWorkerData.ts","../src/renderer/worker/render_file/shader/location/LocationWorkerData.ts","../src/renderer/worker/render_file/shader/program/ProgramWorkerData.ts","../src/renderer/worker/render_file/state/StateData.ts","../src/renderer/worker/render_file/state/StateSytem.ts","../src/renderer/worker/render_file/shader/program/ProgramWorkerSystem.ts","../src/test/forRenderWorkerUnitTest.ts","../src/test/forUnitTest.ts"],"sourcesContent":["declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport {Log} from \"../Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","// import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Log as Log$ } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\n// @registerClass(\"Log\")\r\nexport class Log extends Log$ {\r\n}\r\n","export const CompileConfig = {\r\n    isCompileTest: true,\r\n    closeContractTest: false\r\n};","export class MainData {\r\n    public static isTest: boolean = false;\r\n}\r\n","import { Log } from \"../../../utils/Log\";\r\nimport { CompileConfig } from \"../../../config/CompileConfig\";\r\nimport { MainData } from \"../../../core/MainData\";\r\n\r\nvar _describeContext = null;\r\n\r\nvar getIsTest = () => {\r\n    return MainData.isTest;\r\n}\r\n\r\nexport function assert(cond: boolean, message: string = \"contract error\") {\r\n    Log.error(!cond, message);\r\n}\r\n\r\nexport function describe(message: string, func: Function, preCondition: Function = () => true, context: any = this) {\r\n    if (preCondition.call(context, null)) {\r\n        _describeContext = context;\r\n\r\n        try {\r\n            func.call(context, null);\r\n        }\r\n        catch (e) {\r\n            assert(false, `${message}->${e.message}`);\r\n        }\r\n        finally {\r\n            _describeContext = null;\r\n        }\r\n    }\r\n}\r\n\r\nexport function it(message: string, func: Function, context?: any) {\r\n    try {\r\n        if (arguments.length === 3) {\r\n            func.call(context, null);\r\n        }\r\n        else {\r\n            if (_describeContext) {\r\n                func.call(_describeContext, null);\r\n            }\r\n            else {\r\n                func();\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        assert(false, `${message}->${e.message}`);\r\n    }\r\n}\r\n\r\nexport function requireCheck(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let value = descriptor.value;\r\n\r\n            descriptor.value = function(args) {\r\n                if (getIsTest()) {\r\n                    inFunc.apply(this, arguments);\r\n                }\r\n\r\n                return value.apply(this, arguments);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireCheckFunc(checkFunc: Function, bodyFunc: Function) {\r\n    if (!CompileConfig.isCompileTest) {\r\n        return bodyFunc;\r\n    }\r\n\r\n    return (...paramArr) => {\r\n        if (!getIsTest()) {\r\n            return bodyFunc.apply(null, paramArr);\r\n        }\r\n\r\n        checkFunc.apply(null, paramArr);\r\n\r\n        return bodyFunc.apply(null, paramArr);\r\n    }\r\n}\r\n\r\nexport function ensure(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let value = descriptor.value;\r\n\r\n            descriptor.value = function(args) {\r\n                var result = value.apply(this, arguments);\r\n\r\n                if (getIsTest()) {\r\n\r\n                    var params = [result];\r\n\r\n                    for (let i = 0, len = arguments.length; i < len; i++) {\r\n                        params[i + 1] = arguments[i];\r\n                    }\r\n\r\n                    outFunc.apply(this, params);\r\n                }\r\n\r\n                return result;\r\n            }\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureFunc(checkFunc: Function, bodyFunc: Function) {\r\n    if (!CompileConfig.isCompileTest) {\r\n        return bodyFunc;\r\n    }\r\n\r\n    return (...paramArr) => {\r\n        if (!getIsTest()) {\r\n            return bodyFunc.apply(null, paramArr);\r\n        }\r\n\r\n        let result = bodyFunc.apply(null, paramArr);\r\n\r\n        checkFunc.apply(null, [result].concat(paramArr));\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\nexport function requireGetterAndSetter(inGetterFunc, inSetterFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get,\r\n                setter = descriptor.set;\r\n\r\n            descriptor.get = function() {\r\n                if (getIsTest()) {\r\n                    inGetterFunc.call(this);\r\n                }\r\n\r\n                return getter.call(this);\r\n            };\r\n\r\n            descriptor.set = function(val) {\r\n                if (getIsTest()) {\r\n                    inSetterFunc.call(this, val);\r\n                }\r\n\r\n                setter.call(this, val);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireGetter(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get;\r\n\r\n            descriptor.get = function() {\r\n                if (getIsTest()) {\r\n                    inFunc.call(this);\r\n                }\r\n\r\n                return getter.call(this);\r\n            };\r\n\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireSetter(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let setter = descriptor.set;\r\n\r\n            descriptor.set = function(val) {\r\n                if (getIsTest()) {\r\n                    inFunc.call(this, val);\r\n                }\r\n\r\n                setter.call(this, val);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetterAndSetter(outGetterFunc, outSetterFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get,\r\n                setter = descriptor.set;\r\n\r\n            descriptor.get = function() {\r\n                var result = getter.call(this);\r\n\r\n                if (getIsTest()) {\r\n                    outGetterFunc.call(this, result);\r\n                }\r\n\r\n                return result;\r\n            };\r\n\r\n            descriptor.set = function(val) {\r\n                var result = setter.call(this, val);\r\n\r\n                if (getIsTest()) {\r\n                    let params = [result, val];\r\n                    outSetterFunc.apply(this, params);\r\n                }\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetter(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get;\r\n\r\n            descriptor.get = function() {\r\n                var result = getter.call(this);\r\n\r\n                if (getIsTest()) {\r\n                    outFunc.call(this, result);\r\n                }\r\n\r\n                return result;\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureSetter(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let setter = descriptor.set;\r\n\r\n            descriptor.set = function(val) {\r\n                var result = setter.call(this, val);\r\n\r\n                if (getIsTest()) {\r\n                    let params = [result, val];\r\n                    outFunc.apply(this, params);\r\n                }\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function invariant(func) {\r\n    return function(target) {\r\n        if (CompileConfig.isCompileTest) {\r\n            if (getIsTest()) {\r\n                func(target);\r\n            }\r\n        }\r\n    }\r\n}","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.wdet = global.wdet || {})));\n}(this, (function (exports) { 'use strict';\n\n\tfunction __extends(d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t}\n\n\tvar ExpectData = (function () {\n\t    function ExpectData() {\n\t    }\n\t    return ExpectData;\n\t}());\n\tExpectData.assertion = null;\n\tExpectData.source = null;\n\tExpectData.isNot = null;\n\n\tvar JudgeUtils = (function () {\n\t    function JudgeUtils() {\n\t    }\n\t    JudgeUtils.isArray = function (arr) {\n\t        var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\t        var length = arr && arr.length;\n\t        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n\t    };\n\t    JudgeUtils.isArrayExactly = function (arr) {\n\t        return Object.prototype.toString.call(arr) === \"[object Array]\";\n\t    };\n\t    JudgeUtils.isNumber = function (num) {\n\t        return typeof num == \"number\";\n\t    };\n\t    JudgeUtils.isNumberExactly = function (num) {\n\t        return Object.prototype.toString.call(num) === \"[object Number]\";\n\t    };\n\t    JudgeUtils.isString = function (str) {\n\t        return typeof str == \"string\";\n\t    };\n\t    JudgeUtils.isStringExactly = function (str) {\n\t        return Object.prototype.toString.call(str) === \"[object String]\";\n\t    };\n\t    JudgeUtils.isBoolean = function (bool) {\n\t        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\n\t    };\n\t    JudgeUtils.isDom = function (obj) {\n\t        return !!(obj && obj.nodeType === 1);\n\t    };\n\t    JudgeUtils.isObject = function (obj) {\n\t        var type = typeof obj;\n\t        return type === 'function' || type === 'object' && !!obj;\n\t    };\n\t    JudgeUtils.isDirectObject = function (obj) {\n\t        return Object.prototype.toString.call(obj) === \"[object Object]\";\n\t    };\n\t    JudgeUtils.isHostMethod = function (object, property) {\n\t        var type = typeof object[property];\n\t        return type === \"function\" ||\n\t            (type === \"object\" && !!object[property]);\n\t    };\n\t    JudgeUtils.isNodeJs = function () {\n\t        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\n\t    };\n\t    JudgeUtils.isFunction = function (func) {\n\t        return true;\n\t    };\n\t    return JudgeUtils;\n\t}());\n\tif (typeof /./ != 'function' && typeof Int8Array != 'object') {\n\t    JudgeUtils.isFunction = function (func) {\n\t        return typeof func == 'function';\n\t    };\n\t}\n\telse {\n\t    JudgeUtils.isFunction = function (func) {\n\t        return Object.prototype.toString.call(func) === \"[object Function]\";\n\t    };\n\t}\n\n\tvar $BREAK = {\n\t    break: true\n\t};\n\tvar $REMOVE = void 0;\n\n\tvar List = (function () {\n\t    function List() {\n\t        this.children = null;\n\t    }\n\t    List.prototype.getCount = function () {\n\t        return this.children.length;\n\t    };\n\t    List.prototype.hasChild = function (child) {\n\t        var c = null, children = this.children;\n\t        for (var i = 0, len = children.length; i < len; i++) {\n\t            c = children[i];\n\t            if (child.uid && c.uid && child.uid == c.uid) {\n\t                return true;\n\t            }\n\t            else if (child === c) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    };\n\t    List.prototype.hasChildWithFunc = function (func) {\n\t        for (var i = 0, len = this.children.length; i < len; i++) {\n\t            if (func(this.children[i], i)) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    };\n\t    List.prototype.getChildren = function () {\n\t        return this.children;\n\t    };\n\t    List.prototype.getChild = function (index) {\n\t        return this.children[index];\n\t    };\n\t    List.prototype.addChild = function (child) {\n\t        this.children.push(child);\n\t        return this;\n\t    };\n\t    List.prototype.addChildren = function (arg) {\n\t        if (JudgeUtils.isArray(arg)) {\n\t            var children = arg;\n\t            this.children = this.children.concat(children);\n\t        }\n\t        else if (arg instanceof List) {\n\t            var children = arg;\n\t            this.children = this.children.concat(children.getChildren());\n\t        }\n\t        else {\n\t            var child = arg;\n\t            this.addChild(child);\n\t        }\n\t        return this;\n\t    };\n\t    List.prototype.setChildren = function (children) {\n\t        this.children = children;\n\t        return this;\n\t    };\n\t    List.prototype.unShiftChild = function (child) {\n\t        this.children.unshift(child);\n\t    };\n\t    List.prototype.removeAllChildren = function () {\n\t        this.children = [];\n\t        return this;\n\t    };\n\t    List.prototype.forEach = function (func, context) {\n\t        this._forEach(this.children, func, context);\n\t        return this;\n\t    };\n\t    List.prototype.toArray = function () {\n\t        return this.children;\n\t    };\n\t    List.prototype.copyChildren = function () {\n\t        return this.children.slice(0);\n\t    };\n\t    List.prototype.removeChildHelper = function (arg) {\n\t        var result = null;\n\t        if (JudgeUtils.isFunction(arg)) {\n\t            var func = arg;\n\t            result = this._removeChild(this.children, func);\n\t        }\n\t        else if (arg.uid) {\n\t            result = this._removeChild(this.children, function (e) {\n\t                if (!e.uid) {\n\t                    return false;\n\t                }\n\t                return e.uid === arg.uid;\n\t            });\n\t        }\n\t        else {\n\t            result = this._removeChild(this.children, function (e) {\n\t                return e === arg;\n\t            });\n\t        }\n\t        return result;\n\t    };\n\t    List.prototype._forEach = function (arr, func, context) {\n\t        var scope = context, i = 0, len = arr.length;\n\t        for (i = 0; i < len; i++) {\n\t            if (func.call(scope, arr[i], i) === $BREAK) {\n\t                break;\n\t            }\n\t        }\n\t    };\n\t    List.prototype._removeChild = function (arr, func) {\n\t        var self = this, removedElementArr = [], remainElementArr = [];\n\t        this._forEach(arr, function (e, index) {\n\t            if (!!func.call(self, e)) {\n\t                removedElementArr.push(e);\n\t            }\n\t            else {\n\t                remainElementArr.push(e);\n\t            }\n\t        });\n\t        this.children = remainElementArr;\n\t        return removedElementArr;\n\t    };\n\t    return List;\n\t}());\n\n\tvar ExtendUtils = (function () {\n\t    function ExtendUtils() {\n\t    }\n\t    ExtendUtils.extendDeep = function (parent, child, filter) {\n\t        if (filter === void 0) { filter = function (val, i) { return true; }; }\n\t        var i = null, len = 0, toStr = Object.prototype.toString, sArr = \"[object Array]\", sOb = \"[object Object]\", type = \"\", _child = null;\n\t        if (toStr.call(parent) === sArr) {\n\t            _child = child || [];\n\t            for (i = 0, len = parent.length; i < len; i++) {\n\t                var member = parent[i];\n\t                if (!filter(member, i)) {\n\t                    continue;\n\t                }\n\t                if (member.clone) {\n\t                    _child[i] = member.clone();\n\t                    continue;\n\t                }\n\t                type = toStr.call(member);\n\t                if (type === sArr || type === sOb) {\n\t                    _child[i] = type === sArr ? [] : {};\n\t                    ExtendUtils.extendDeep(member, _child[i]);\n\t                }\n\t                else {\n\t                    _child[i] = member;\n\t                }\n\t            }\n\t        }\n\t        else if (toStr.call(parent) === sOb) {\n\t            _child = child || {};\n\t            for (i in parent) {\n\t                var member = parent[i];\n\t                if (!filter(member, i)) {\n\t                    continue;\n\t                }\n\t                if (member.clone) {\n\t                    _child[i] = member.clone();\n\t                    continue;\n\t                }\n\t                type = toStr.call(member);\n\t                if (type === sArr || type === sOb) {\n\t                    _child[i] = type === sArr ? [] : {};\n\t                    ExtendUtils.extendDeep(member, _child[i]);\n\t                }\n\t                else {\n\t                    _child[i] = member;\n\t                }\n\t            }\n\t        }\n\t        else {\n\t            _child = parent;\n\t        }\n\t        return _child;\n\t    };\n\t    ExtendUtils.extend = function (destination, source) {\n\t        var property = \"\";\n\t        for (property in source) {\n\t            destination[property] = source[property];\n\t        }\n\t        return destination;\n\t    };\n\t    ExtendUtils.copyPublicAttri = function (source) {\n\t        var property = null, destination = {};\n\t        this.extendDeep(source, destination, function (item, property) {\n\t            return property.slice(0, 1) !== \"_\"\n\t                && !JudgeUtils.isFunction(item);\n\t        });\n\t        return destination;\n\t    };\n\t    return ExtendUtils;\n\t}());\n\n\tvar Collection = (function (_super) {\n\t    __extends(Collection, _super);\n\t    function Collection(children) {\n\t        if (children === void 0) { children = []; }\n\t        var _this = _super.call(this) || this;\n\t        _this.children = children;\n\t        return _this;\n\t    }\n\t    Collection.create = function (children) {\n\t        if (children === void 0) { children = []; }\n\t        var obj = new this(children);\n\t        return obj;\n\t    };\n\t    Collection.prototype.clone = function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        var target = null, isDeep = null;\n\t        if (args.length === 0) {\n\t            isDeep = false;\n\t            target = Collection.create();\n\t        }\n\t        else if (args.length === 1) {\n\t            if (JudgeUtils.isBoolean(args[0])) {\n\t                target = Collection.create();\n\t                isDeep = args[0];\n\t            }\n\t            else {\n\t                target = args[0];\n\t                isDeep = false;\n\t            }\n\t        }\n\t        else {\n\t            target = args[0];\n\t            isDeep = args[1];\n\t        }\n\t        if (isDeep === true) {\n\t            target.setChildren(ExtendUtils.extendDeep(this.children));\n\t        }\n\t        else {\n\t            target.setChildren(ExtendUtils.extend([], this.children));\n\t        }\n\t        return target;\n\t    };\n\t    Collection.prototype.filter = function (func) {\n\t        var children = this.children, result = [], value = null;\n\t        for (var i = 0, len = children.length; i < len; i++) {\n\t            value = children[i];\n\t            if (func.call(children, value, i)) {\n\t                result.push(value);\n\t            }\n\t        }\n\t        return Collection.create(result);\n\t    };\n\t    Collection.prototype.findOne = function (func) {\n\t        var scope = this.children, result = null;\n\t        this.forEach(function (value, index) {\n\t            if (!func.call(scope, value, index)) {\n\t                return;\n\t            }\n\t            result = value;\n\t            return $BREAK;\n\t        });\n\t        return result;\n\t    };\n\t    Collection.prototype.reverse = function () {\n\t        return Collection.create(this.copyChildren().reverse());\n\t    };\n\t    Collection.prototype.removeChild = function (arg) {\n\t        return Collection.create(this.removeChildHelper(arg));\n\t    };\n\t    Collection.prototype.sort = function (func, isSortSelf) {\n\t        if (isSortSelf === void 0) { isSortSelf = false; }\n\t        if (isSortSelf) {\n\t            this.children.sort(func);\n\t            return this;\n\t        }\n\t        return Collection.create(this.copyChildren().sort(func));\n\t    };\n\t    Collection.prototype.map = function (func) {\n\t        var resultArr = [];\n\t        this.forEach(function (e, index) {\n\t            var result = func(e, index);\n\t            if (result !== $REMOVE) {\n\t                resultArr.push(result);\n\t            }\n\t        });\n\t        return Collection.create(resultArr);\n\t    };\n\t    Collection.prototype.removeRepeatItems = function () {\n\t        var noRepeatList = Collection.create();\n\t        this.forEach(function (item) {\n\t            if (noRepeatList.hasChild(item)) {\n\t                return;\n\t            }\n\t            noRepeatList.addChild(item);\n\t        });\n\t        return noRepeatList;\n\t    };\n\t    Collection.prototype.hasRepeatItems = function () {\n\t        var noRepeatList = Collection.create(), hasRepeat = false;\n\t        this.forEach(function (item) {\n\t            if (noRepeatList.hasChild(item)) {\n\t                hasRepeat = true;\n\t                return $BREAK;\n\t            }\n\t            noRepeatList.addChild(item);\n\t        });\n\t        return hasRepeat;\n\t    };\n\t    return Collection;\n\t}(List));\n\n\tvar Log = (function () {\n\t    function Log() {\n\t    }\n\t    Log.log = function () {\n\t        var messages = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            messages[_i] = arguments[_i];\n\t        }\n\t        if (!this._exec(\"log\", messages)) {\n\t            root.alert(messages.join(\",\"));\n\t        }\n\t        this._exec(\"trace\", messages);\n\t    };\n\t    Log.assert = function (cond) {\n\t        var messages = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            messages[_i - 1] = arguments[_i];\n\t        }\n\t        if (cond) {\n\t            if (!this._exec(\"assert\", arguments, 1)) {\n\t                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\n\t            }\n\t        }\n\t    };\n\t    Log.error = function (cond) {\n\t        var message = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            message[_i - 1] = arguments[_i];\n\t        }\n\t        if (cond) {\n\t            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\n\t        }\n\t    };\n\t    Log.warn = function () {\n\t        var message = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            message[_i] = arguments[_i];\n\t        }\n\t        var result = this._exec(\"warn\", arguments);\n\t        if (!result) {\n\t            this.log.apply(this, arguments);\n\t        }\n\t        else {\n\t            this._exec(\"trace\", [\"warn trace\"]);\n\t        }\n\t    };\n\t    Log._exec = function (consoleMethod, args, sliceBegin) {\n\t        if (sliceBegin === void 0) { sliceBegin = 0; }\n\t        if (root.console && root.console[consoleMethod]) {\n\t            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\n\t            return true;\n\t        }\n\t        return false;\n\t    };\n\t    return Log;\n\t}());\n\tLog.info = {\n\t    INVALID_PARAM: \"invalid parameter\",\n\t    helperFunc: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        var result = \"\";\n\t        args.forEach(function (val) {\n\t            result += String(val) + \" \";\n\t        });\n\t        return result.slice(0, -1);\n\t    },\n\t    assertion: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        if (args.length === 2) {\n\t            return this.helperFunc(args[0], args[1]);\n\t        }\n\t        else if (args.length === 3) {\n\t            return this.helperFunc(args[1], args[0], args[2]);\n\t        }\n\t        else {\n\t            throw new Error(\"args.length must <= 3\");\n\t        }\n\t    },\n\t    FUNC_INVALID: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"invalid\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_MUST: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"must\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_MUST_BE: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"must be\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_MUST_NOT_BE: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"must not be\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_SHOULD: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"should\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_SHOULD_NOT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"should not\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_SUPPORT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"support\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_NOT_SUPPORT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"not support\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_MUST_DEFINE: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"must define\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_MUST_NOT_DEFINE: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"must not define\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_UNKNOW: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"unknow\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_EXPECT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"expect\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_UNEXPECT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"unexpect\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_EXIST: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"exist\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_NOT_EXIST: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"not exist\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_ONLY: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"only\");\n\t        return this.assertion.apply(this, args);\n\t    },\n\t    FUNC_CAN_NOT: function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        args.unshift(\"can't\");\n\t        return this.assertion.apply(this, args);\n\t    }\n\t};\n\n\tvar root;\n\tif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\n\t    root = global;\n\t}\n\telse if (typeof window != \"undefined\") {\n\t    root = window;\n\t}\n\telse if (typeof self != \"undefined\") {\n\t    root = self;\n\t}\n\telse {\n\t    Log.error(\"no avaliable root!\");\n\t}\n\n\tvar Queue = (function (_super) {\n\t    __extends(Queue, _super);\n\t    function Queue(children) {\n\t        if (children === void 0) { children = []; }\n\t        var _this = _super.call(this) || this;\n\t        _this.children = children;\n\t        return _this;\n\t    }\n\t    Queue.create = function (children) {\n\t        if (children === void 0) { children = []; }\n\t        var obj = new this(children);\n\t        return obj;\n\t    };\n\t    Object.defineProperty(Queue.prototype, \"front\", {\n\t        get: function () {\n\t            return this.children[this.children.length - 1];\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Queue.prototype, \"rear\", {\n\t        get: function () {\n\t            return this.children[0];\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Queue.prototype.push = function (element) {\n\t        this.children.unshift(element);\n\t    };\n\t    Queue.prototype.pop = function () {\n\t        return this.children.pop();\n\t    };\n\t    Queue.prototype.clear = function () {\n\t        this.removeAllChildren();\n\t    };\n\t    return Queue;\n\t}(List));\n\n\tvar Stack = (function (_super) {\n\t    __extends(Stack, _super);\n\t    function Stack(children) {\n\t        if (children === void 0) { children = []; }\n\t        var _this = _super.call(this) || this;\n\t        _this.children = children;\n\t        return _this;\n\t    }\n\t    Stack.create = function (children) {\n\t        if (children === void 0) { children = []; }\n\t        var obj = new this(children);\n\t        return obj;\n\t    };\n\t    Object.defineProperty(Stack.prototype, \"top\", {\n\t        get: function () {\n\t            return this.children[this.children.length - 1];\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Stack.prototype.push = function (element) {\n\t        this.children.push(element);\n\t    };\n\t    Stack.prototype.pop = function () {\n\t        return this.children.pop();\n\t    };\n\t    Stack.prototype.clear = function () {\n\t        this.removeAllChildren();\n\t    };\n\t    Stack.prototype.clone = function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        var target = null, isDeep = null;\n\t        if (args.length === 0) {\n\t            isDeep = false;\n\t            target = Stack.create();\n\t        }\n\t        else if (args.length === 1) {\n\t            if (JudgeUtils.isBoolean(args[0])) {\n\t                target = Stack.create();\n\t                isDeep = args[0];\n\t            }\n\t            else {\n\t                target = args[0];\n\t                isDeep = false;\n\t            }\n\t        }\n\t        else {\n\t            target = args[0];\n\t            isDeep = args[1];\n\t        }\n\t        if (isDeep === true) {\n\t            target.setChildren(ExtendUtils.extendDeep(this.children));\n\t        }\n\t        else {\n\t            target.setChildren(ExtendUtils.extend([], this.children));\n\t        }\n\t        return target;\n\t    };\n\t    Stack.prototype.filter = function (func) {\n\t        var children = this.children, result = [], value = null;\n\t        for (var i = 0, len = children.length; i < len; i++) {\n\t            value = children[i];\n\t            if (func.call(children, value, i)) {\n\t                result.push(value);\n\t            }\n\t        }\n\t        return Collection.create(result);\n\t    };\n\t    Stack.prototype.findOne = function (func) {\n\t        var scope = this.children, result = null;\n\t        this.forEach(function (value, index) {\n\t            if (!func.call(scope, value, index)) {\n\t                return;\n\t            }\n\t            result = value;\n\t            return $BREAK;\n\t        });\n\t        return result;\n\t    };\n\t    Stack.prototype.reverse = function () {\n\t        return Collection.create(this.copyChildren().reverse());\n\t    };\n\t    Stack.prototype.removeChild = function (arg) {\n\t        return Collection.create(this.removeChildHelper(arg));\n\t    };\n\t    Stack.prototype.sort = function (func, isSortSelf) {\n\t        if (isSortSelf === void 0) { isSortSelf = false; }\n\t        if (isSortSelf) {\n\t            this.children.sort(func);\n\t            return this;\n\t        }\n\t        return Collection.create(this.copyChildren().sort(func));\n\t    };\n\t    Stack.prototype.map = function (func) {\n\t        var resultArr = [];\n\t        this.forEach(function (e, index) {\n\t            var result = func(e, index);\n\t            if (result !== $REMOVE) {\n\t                resultArr.push(result);\n\t            }\n\t        });\n\t        return Collection.create(resultArr);\n\t    };\n\t    Stack.prototype.removeRepeatItems = function () {\n\t        var noRepeatList = Collection.create();\n\t        this.forEach(function (item) {\n\t            if (noRepeatList.hasChild(item)) {\n\t                return;\n\t            }\n\t            noRepeatList.addChild(item);\n\t        });\n\t        return noRepeatList;\n\t    };\n\t    Stack.prototype.hasRepeatItems = function () {\n\t        var noRepeatList = Collection.create(), hasRepeat = false;\n\t        this.forEach(function (item) {\n\t            if (noRepeatList.hasChild(item)) {\n\t                hasRepeat = true;\n\t                return $BREAK;\n\t            }\n\t            noRepeatList.addChild(item);\n\t        });\n\t        return hasRepeat;\n\t    };\n\t    return Stack;\n\t}(List));\n\n\tvar Assertion = (function () {\n\t    function Assertion() {\n\t    }\n\t    Assertion.create = function () {\n\t        var obj = new this();\n\t        return obj;\n\t    };\n\t    Object.defineProperty(Assertion.prototype, \"not\", {\n\t        get: function () {\n\t            ExpectData.isNot = true;\n\t            return this;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Assertion.prototype, \"be\", {\n\t        get: function () {\n\t            return this;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Assertion.prototype, \"true\", {\n\t        get: function () {\n\t            var source = ExpectData.source;\n\t            this._assert(!!source === true, \"true\");\n\t            return this;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Assertion.prototype, \"false\", {\n\t        get: function () {\n\t            var source = ExpectData.source;\n\t            this._assert(!!source === false, \"false\");\n\t            return this;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Assertion.prototype, \"exist\", {\n\t        get: function () {\n\t            var source = ExpectData.source;\n\t            this._assert(source !== null && source !== void 0, \"exist\");\n\t            return this;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Assertion.prototype.equal = function (n) {\n\t        var source = ExpectData.source;\n\t        this._assert(source === n, \"equal\", n);\n\t        return this;\n\t    };\n\t    Assertion.prototype.gt = function (n) {\n\t        var source = ExpectData.source;\n\t        this._assert(source > n, \">\", n);\n\t        return this;\n\t    };\n\t    Assertion.prototype.gte = function (n) {\n\t        var source = ExpectData.source;\n\t        this._assert(source >= n, \">=\", n);\n\t        return this;\n\t    };\n\t    Assertion.prototype.lt = function (n) {\n\t        var source = ExpectData.source;\n\t        this._assert(source < n, \"<\", n);\n\t        return this;\n\t    };\n\t    Assertion.prototype.lte = function (n) {\n\t        var source = ExpectData.source;\n\t        this._assert(source <= n, \"<=\", n);\n\t        return this;\n\t    };\n\t    Assertion.prototype.a = function (type) {\n\t        var source = ExpectData.source;\n\t        switch (type) {\n\t            case \"number\":\n\t                this._assert(JudgeUtils.isNumber(source), \"number\");\n\t                break;\n\t            case \"array\":\n\t                this._assert(JudgeUtils.isArrayExactly(source), \"array\");\n\t                break;\n\t            case \"boolean\":\n\t                this._assert(JudgeUtils.isBoolean(source), \"boolean\");\n\t                break;\n\t            case \"string\":\n\t                this._assert(JudgeUtils.isStringExactly(source), \"string\");\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t    };\n\t    Assertion.prototype._buildFailMsg = function (operationStr, target) {\n\t        if (!!target) {\n\t            return \"expected \" + this._format(ExpectData.source) + \" to be \" + operationStr + \" \" + target;\n\t        }\n\t        return \"expected \" + this._format(ExpectData.source) + \" to be \" + operationStr;\n\t    };\n\t    Assertion.prototype._assert = function (passCondition, failMsg, target) {\n\t        var pass = null, failMessage = null;\n\t        if (ExpectData.isNot) {\n\t            pass = !passCondition;\n\t        }\n\t        else {\n\t            pass = passCondition;\n\t        }\n\t        if (pass) {\n\t            ExpectData.isNot = false;\n\t            return;\n\t        }\n\t        failMessage = this._buildFailMsg(failMsg, target);\n\t        if (ExpectData.isNot) {\n\t            ExpectData.isNot = false;\n\t            failMessage = failMessage.replace(\"to be\", \"not to be\");\n\t        }\n\t        throw new Error(failMessage);\n\t    };\n\t    Assertion.prototype._format = function (source) {\n\t        return source;\n\t    };\n\t    return Assertion;\n\t}());\n\n\tvar expect = function (source) {\n\t    var assertion = ExpectData.assertion;\n\t    ExpectData.source = source;\n\t    return assertion;\n\t};\n\tvar _initData = function () {\n\t    ExpectData.assertion = Assertion.create();\n\t    ExpectData.isNot = false;\n\t};\n\t_initData();\n\n\texports.Assertion = Assertion;\n\texports.expect = expect;\n\texports.ExpectData = ExpectData;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=wdet.js.map\n","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { JudgeUtils as JudgeUtils$ } from \"wonder-commonlib/dist/es2015/utils/JudgeUtils\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\n// @registerClass(\"JudgeUtils\")\r\nexport class JudgeUtils extends JudgeUtils$ {\r\n    public static isCollection(list: Collection<any>) {\r\n        return list instanceof Collection;\r\n    }\r\n}\r\n\r\nexport var isUndefined = (v: any) => v === void 0;\r\n\r\nexport var isNotUndefined = (v: any) => v !== void 0;\r\n","import { isNotUndefined, isUndefined } from \"./JudgeUtils\";\r\n\r\nexport var deleteVal = (key: string | number, obj: object) => obj[key] = void 0;\r\n\r\nexport var deleteBySwap = (sourceIndex: number, targetIndex: number, obj: object) => {\r\n    obj[sourceIndex] = obj[targetIndex];\r\n    deleteVal(targetIndex, obj);\r\n}\r\n\r\n// export var swap = (sourceIndex:number, targetIndex:number, obj:object) => {\r\n//     var temp = obj[sourceIndex];\r\n//\r\n//     obj[sourceIndex] = obj[targetIndex];\r\n//     obj[targetIndex] = temp;\r\n// }\r\n\r\nexport var isValidMapValue = (val: any) => {\r\n    return isNotUndefined(val);\r\n}\r\n\r\nexport var isNotValidMapValue = (val: any) => {\r\n    return isUndefined(val);\r\n}\r\n\r\nexport var createMap = () => Object.create(null);\r\n","import { Component } from \"./Component\";\r\nimport { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\n\r\nexport class ComponentData {\r\n    public static addComponentHandleMap: AddComponentHandleMap = {};\r\n    public static disposeHandleMap: DisposeHandleMap = {};\r\n    public static initHandleMap: InitHandleMap = {};\r\n}\r\n\r\nexport type AddComponentHandleMap = {\r\n    [typeID: string]: (component: Component, gameObject: GameObject) => void;\r\n}\r\n\r\nexport type DisposeHandleMap = {\r\n    [typeID: string]: (component: Component) => void;\r\n}\r\n\r\nexport type InitHandleMap = {\r\n    [typeID: string]: (index: number, state: MapImmutable<any, any>) => void;\r\n}\r\n\r\nexport type ComponentGameObjectMap = {\r\n    [index: number]: GameObject;\r\n}\r\n","import { ensure, it } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport class ClassUtils {\r\n    private static _classMap: ClassMapData = {};\r\n\r\n    @ensure(function(className: string) {\r\n        it(\"should exist class name\", () => {\r\n            expect(className).exist;\r\n            expect(className !== \"\").true\r\n        });\r\n    })\r\n    public static getClassNameByInstance(obj: any) {\r\n        return obj.constructor[\"className\"];\r\n    }\r\n\r\n    @ensure(function(className: string) {\r\n        it(\"should exist class name\", () => {\r\n            expect(className).exist;\r\n            expect(className !== \"\").true\r\n        });\r\n    })\r\n    public static getClassNameByClass(_class: any) {\r\n        return _class[\"className\"];\r\n    }\r\n\r\n    public static addClass(className: string, _class: any) {\r\n        this._classMap[className] = _class;\r\n    }\r\n\r\n    public static addClassNameAttributeToClass(className: string, _class: any) {\r\n        _class[\"className\"] = className;\r\n    }\r\n\r\n    public static getClass(className: string) {\r\n        return this._classMap[className];\r\n    }\r\n}\r\n\r\ntype ClassMapData = {\r\n    [className: string]: any;\r\n}\r\n","import { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { Component } from \"./Component\";\r\n\r\nvar _generateTypeID = () => {\r\n    var result = _typeID;\r\n\r\n    _typeID += 1;\r\n\r\n    return String(result);\r\n}\r\n\r\nexport var getTypeIDFromClass = (_class: any) => {\r\n    return _table[ClassUtils.getClassNameByClass(_class)];\r\n}\r\n\r\nexport var getTypeIDFromComponent = (component: Component) => {\r\n    return _table[ClassUtils.getClassNameByInstance(component)];\r\n}\r\n\r\nvar _addTypeID = (componentClassNameArr: Array<string>, table: object) => {\r\n    var id = _generateTypeID();\r\n\r\n    for (let className of componentClassNameArr) {\r\n        table[className] = id;\r\n    }\r\n}\r\n\r\nvar _typeID = 1;\r\nconst _table = {};\r\n\r\n_addTypeID([\"ThreeDTransform\"], _table);\r\n_addTypeID([\"Geometry\", \"BoxGeometry\", \"CustomGeometry\"], _table);\r\n_addTypeID([\"Material\", \"BasicMaterial\"], _table);\r\n_addTypeID([\"MeshRenderer\"], _table);\r\n_addTypeID([\"Tag\"], _table);\r\n_addTypeID([\"CameraController\"], _table);\r\n","import { isNotUndefined, isUndefined } from \"./JudgeUtils\";\r\n\r\nexport var deleteVal = (key: number, arr: Array<any>) => arr[key] = void 0;\r\n\r\nexport var isNotValidVal = (val: any) => isUndefined(val);\r\n\r\nexport var isValidVal = (val: any) => isNotUndefined(val);\r\n\r\nexport var deleteBySwap = (index: number, lastIndex: number, array: Array<any>) => {\r\n    var temp = null;\r\n\r\n    if (lastIndex === -1) {\r\n        return null;\r\n    }\r\n\r\n    temp = array[lastIndex];\r\n\r\n    array[index] = temp;\r\n\r\n    array.pop();\r\n}\r\n\r\nexport var hasDuplicateItems = (arr: Array<any>) => {\r\n    var noRepeatArr = [],\r\n        hasRepeat: boolean = false;\r\n\r\n    for (let item of arr) {\r\n        if (!item) {\r\n            continue;\r\n        }\r\n\r\n        if (_contain(noRepeatArr, item)) {\r\n            hasRepeat = true;\r\n\r\n            break;\r\n        }\r\n\r\n        noRepeatArr.push(item);\r\n    }\r\n\r\n    return hasRepeat;\r\n}\r\n\r\nvar _contain = (arr: Array<any>, item: any): boolean => {\r\n    var c: any = null;\r\n\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        c = arr[i];\r\n\r\n        // if (item.uid && c.uid && item.uid == c.uid) {\r\n        //     return true;\r\n        // }\r\n        // else if (item === c) {\r\n        if (item === c) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport var removeDuplicateItems = (arr: Array<any>) => {\r\n    var resultArr = [];\r\n\r\n    for (let ele of arr) {\r\n        // if (_contain(resultArr, function(val) {\r\n        //         return isEqual(val, ele);\r\n        //     })) {\r\n        if (_contain(resultArr, ele)) {\r\n            continue;\r\n        }\r\n\r\n        resultArr.push(ele);\r\n    };\r\n\r\n    return resultArr;\r\n}\r\n\r\nexport var removeItem = (arr: Array<any>, item: any) => {\r\n    return filter(arr, (ele) => {\r\n        return ele !== item;\r\n    });\r\n}\r\n\r\nexport var filter = (arr: Array<any>, func: (item: any) => boolean) => {\r\n    let result = [];\r\n\r\n    for (let ele of arr) {\r\n        if (func(ele)) {\r\n            result.push(ele);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport var forEach = (arr: Array<any>, func: (item: any, index: number) => void) => {\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        func(arr[i], i);\r\n    }\r\n}\r\n","import { ComponentData, ComponentGameObjectMap } from \"./ComponentData\";\r\nimport { Component } from \"./Component\";\r\nimport { getTypeIDFromClass, getTypeIDFromComponent } from \"./ComponentTypeIDManager\";\r\nimport { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { deleteBySwap, deleteVal, isNotValidMapValue } from \"../utils/objectUtils\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { deleteBySwap as deleteBySwapArray } from \"../utils/arrayUtils\";\r\n\r\nvar _addHandle = (_class: any, handleMap: object, handle: Function) => {\r\n    var typeID = getTypeIDFromClass(_class);\r\n\r\n    handleMap[typeID] = handle;\r\n}\r\n\r\nexport var addAddComponentHandle = (_class: any, handle: Function) => {\r\n    _addHandle(_class, ComponentData.addComponentHandleMap, handle);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any, handle: Function) => {\r\n    _addHandle(_class, ComponentData.disposeHandleMap, handle);\r\n}\r\n\r\nexport var addInitHandle = (_class: any, handle: (index: number, state: MapImmutable<any, any>) => void) => {\r\n    _addHandle(_class, ComponentData.initHandleMap, handle);\r\n}\r\n\r\nexport var execHandle = (component: Component, handleMapName: string, args?: Array<any>) => {\r\n    var handle = ComponentData[handleMapName][getTypeIDFromComponent(component)];\r\n\r\n    if (_isHandleNotExist(handle)) {\r\n        return;\r\n    }\r\n\r\n    if (!!args) {\r\n        handle.apply(null, args);\r\n    }\r\n    else {\r\n        handle(component);\r\n    }\r\n}\r\n\r\nexport var execInitHandle = (typeID: string, index: number, state: MapImmutable<any, any>) => {\r\n    var handle = ComponentData.initHandleMap[typeID];\r\n\r\n    if (_isHandleNotExist(handle)) {\r\n        return;\r\n    }\r\n\r\n    handle(index, state);\r\n}\r\n\r\nvar _isHandleNotExist = (handle: Function) => isNotValidMapValue(handle);\r\n\r\nexport var checkComponentShouldAlive = (component: Component, data: any, isAlive: (component: Component, data: any) => boolean) => {\r\n    it(\"component should alive\", () => {\r\n        expect(isAlive(component, data)).true;\r\n    });\r\n}\r\n\r\nexport var addComponentToGameObjectMap = requireCheckFunc((gameObjectMap: ComponentGameObjectMap | Array<GameObject>, index: number, gameObject: GameObject) => {\r\n    it(\"component should not exist in gameObject\", () => {\r\n        expect(gameObjectMap[index]).not.exist;\r\n    });\r\n}, (gameObjectMap: ComponentGameObjectMap | Array<GameObject>, index: number, gameObject: GameObject) => {\r\n    gameObjectMap[index] = gameObject;\r\n})\r\n\r\nexport var getComponentGameObject = (gameObjectMap: ComponentGameObjectMap | Array<GameObject>, index: number) => {\r\n    return gameObjectMap[index];\r\n}\r\n\r\nexport var generateComponentIndex = (ComponentData: any) => {\r\n    return ComponentData.index++;\r\n}\r\n\r\nexport var deleteComponent = requireCheckFunc((index: number, componentMap: ComponentMap) => {\r\n    it(\"index should >= 0\", () => {\r\n        expect(index).gte(0);\r\n    });\r\n}, (index: number, componentMap: ComponentMap) => {\r\n    markComponentIndexRemoved(componentMap[index]);\r\n\r\n    deleteVal(index, componentMap);\r\n})\r\n//\r\n// export var deleteComponentBySwap = requireCheckFunc((sourceIndex: number, targetIndex: number | null, componentMap: ComponentMap) => {\r\n//     it(\"targetIndex should >= 0\", () => {\r\n//         expect(targetIndex).gte(0);\r\n//     });\r\n// }, (sourceIndex: number, targetIndex: number, componentMap: ComponentMap) => {\r\n//     componentMap[targetIndex].index = sourceIndex;\r\n//     markComponentIndexRemoved(componentMap[sourceIndex]);\r\n//\r\n//     deleteBySwap(sourceIndex, targetIndex, componentMap);\r\n// })\r\n\r\nexport var deleteComponentBySwapArray = requireCheckFunc((sourceIndex: number, targetIndex: number | null, componentMap: Array<Component>) => {\r\n    it(\"targetIndex should >= 0\", () => {\r\n        expect(targetIndex).gte(0);\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, componentMap: Array<Component>) => {\r\n    componentMap[targetIndex].index = sourceIndex;\r\n    markComponentIndexRemoved(componentMap[sourceIndex]);\r\n\r\n    deleteBySwapArray(sourceIndex, targetIndex, componentMap);\r\n})\r\n\r\nexport var markComponentIndexRemoved = (component: Component) => {\r\n    component.index = -1;\r\n}\r\n\r\nexport var isComponentIndexNotRemoved = (component: Component) => {\r\n    return component.index !== -1;\r\n}\r\n\r\nexport type ComponentMap = {\r\n    [index: number]: Component;\r\n}\r\n","import { expect } from \"wonder-expect.js\";\r\nimport { it } from \"../../definition/typescript/decorator/contract\";\r\n\r\nexport var checkIndexShouldEqualCount = (ComponentData: any) => {\r\n    it(\"ComponentData.index should === ComponentData.count\", () => {\r\n        expect(ComponentData.index).equal(ComponentData.count);\r\n    });\r\n    it(\"ComponentData.index should >= 0\", () => {\r\n        expect(ComponentData.index).gte(0);\r\n    });\r\n    it(\"ComponentData.count should >= 0\", () => {\r\n        expect(ComponentData.count).gte(0);\r\n    });\r\n}\r\n","import { ClassUtils } from \"../../../utils/ClassUtils\";\r\n\r\nexport function registerClass(className: string) {\r\n    return function(_class) {\r\n        ClassUtils.addClassNameAttributeToClass(className, _class);\r\n        ClassUtils.addClass(className, _class);\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Component\")\r\nexport class Component {\r\n    public index: number = null;\r\n}\r\n","import { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\n\r\nexport class CameraControllerData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static dirtyIndexArray: Array<number> = null;\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static worldToCameraMatrixCacheMap: WorldToCameraMatrixCacheMap = null;\r\n}\r\n\r\nexport type WorldToCameraMatrixCacheMap = {\r\n    [index: number]: Matrix4\r\n}\r\n\r\n","import { Component } from \"../Component\";\r\nimport { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { create, getGameObject } from \"./CameraControllerSystem\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\n\r\n@registerClass(\"CameraController\")\r\nexport class CameraController extends Component {\r\n}\r\n\r\nexport var createCameraController = () => {\r\n    return create(CameraControllerData);\r\n}\r\n\r\nexport var getCameraControllerGameObject = (component: CameraController) => {\r\n    return getGameObject(component.index, CameraControllerData);\r\n}\r\n","export var cacheFunc = <T>(hasCacheFunc: (...args) => boolean, getCacheFunc: (...args) => T, setCacheFunc: (...args) => void, bodyFunc: (...args) => T) => {\r\n    return (...args) => {\r\n        if (hasCacheFunc.apply(null, args)) {\r\n            return getCacheFunc.apply(null, args);\r\n        }\r\n\r\n        let result = bodyFunc.apply(null, args);\r\n\r\n        args.push(result);\r\n\r\n        setCacheFunc.apply(null, args);\r\n\r\n        return result;\r\n    }\r\n}\r\n","export class PerspectiveCameraData {\r\n    public static fovyMap: FovyMap = null;\r\n    public static aspectMap: AspectMap = null;\r\n}\r\n\r\nexport type FovyMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type AspectMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n","import { Matrix4 } from \"../../math/Matrix4\";\r\n\r\nexport class CameraData {\r\n    public static nearMap: NearMap = null;\r\n    public static farMap: FarMap = null;\r\n    public static worldToCameraMatrixMap: WorldToCameraMatrixMap = null;\r\n    public static pMatrixMap: PMatrixMap = null;\r\n}\r\n\r\nexport type NearMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type FarMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type WorldToCameraMatrixMap = {\r\n    [cameraControllerIndex: number]: Matrix4\r\n}\r\n\r\nexport type PMatrixMap = {\r\n    [cameraControllerIndex: number]: Matrix4\r\n}\r\n","import {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { ensureFunc, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport {\r\n    dispose, getPMatrix as getPMatrixCamera,\r\n    getWorldToCameraMatrix as getWorldToCameraMatrixCamera, init as initCamera, initData as initDataCamera,\r\n    updateProjectionMatrix\r\n} from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Map } from \"immutable\";\r\nimport { removeDuplicateItems, removeItem } from \"../../utils/arrayUtils\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { cacheFunc } from \"../../utils/cacheUtils\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { PerspectiveCameraData } from \"./PerspectiveCameraData\";\r\nimport { CameraData } from \"./CameraData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = requireCheckFunc((CameraControllerData: any) => {\r\n    checkIndexShouldEqualCount(CameraControllerData);\r\n}, (CameraControllerData: any) => {\r\n    var controller = new CameraController(),\r\n        index = generateComponentIndex(CameraControllerData);\r\n\r\n    controller.index = index;\r\n\r\n    CameraControllerData.count += 1;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n\r\n    return controller;\r\n})\r\n\r\nexport var addToDirtyList = ensureFunc((index: number, CameraControllerData: any) => {\r\n    // it(\"dirty index should not be duplicated\", () => {\r\n    //     expect(hasDuplicateItems(CameraControllerData.dirtyIndexArray)).false;\r\n    // });\r\n}, (index: number, CameraControllerData: any) => {\r\n    CameraControllerData.dirtyIndexArray.push(index);\r\n})\r\n\r\nexport var init = (PerspectiveCameraData: any, CameraData: any, CameraControllerData: any, state: Map<any, any>) => {\r\n    _forEachDirtyList(CameraControllerData.dirtyIndexArray, (dirtyIndex: number) => {\r\n        initCameraController(state, dirtyIndex, PerspectiveCameraData, CameraData);\r\n    });\r\n\r\n    _clearDirtyList(CameraControllerData);\r\n\r\n    return state;\r\n}\r\n\r\nexport var initCameraController = (state: Map<any, any>, index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    initCamera(state, index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nvar _forEachDirtyList = (dirtyIndexArray: Array<number>, func: (dirtyIndex: number) => void) => {\r\n    var arr = removeDuplicateItems(dirtyIndexArray);\r\n\r\n    for (let dirtyIndex of arr) {\r\n        func(dirtyIndex);\r\n    }\r\n}\r\n\r\nvar _clearDirtyList = (CameraControllerData: any) => {\r\n    CameraControllerData.dirtyIndexArray = [];\r\n}\r\n\r\nexport var update = (PerspectiveCameraData: any, CameraData: any, CameraControllerData: any) => {\r\n    _forEachDirtyList(CameraControllerData.dirtyIndexArray, (dirtyIndex: number) => {\r\n        updateProjectionMatrix(dirtyIndex, PerspectiveCameraData, CameraData);\r\n    });\r\n\r\n    _clearDirtyList(CameraControllerData);\r\n    _clearCache(CameraControllerData);\r\n}\r\n\r\nexport var addComponent = (component: CameraController, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(CameraControllerData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = (component: CameraController) => {\r\n    var index = component.index;\r\n\r\n    deleteVal(index, CameraControllerData.gameObjectMap);\r\n    deleteVal(index, CameraControllerData.worldToCameraMatrixCacheMap);\r\n\r\n    CameraControllerData.count -= 1;\r\n\r\n    CameraControllerData.dirtyIndexArray = removeItem(CameraControllerData.dirtyIndexArray, index);\r\n\r\n    dispose(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var getGameObject = (index: number, CameraControllerData: any) => {\r\n    return getComponentGameObject(CameraControllerData.gameObjectMap, index);\r\n}\r\n\r\nexport var getWorldToCameraMatrix = cacheFunc((index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return isValidMapValue(CameraControllerData.worldToCameraMatrixCacheMap[index]);\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return CameraControllerData.worldToCameraMatrixCacheMap[index];\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any, worldToCamraMatrix: Matrix4, ) => {\r\n    CameraControllerData.worldToCameraMatrixCacheMap[index] = worldToCamraMatrix;\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return getWorldToCameraMatrixCamera(index, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData);\r\n})\r\n\r\nexport var getPMatrix = (index: number, CameraData: any) => {\r\n    return getPMatrixCamera(index, CameraData);\r\n}\r\n\r\nvar _clearCache = (CameraControllerData: any) => {\r\n    CameraControllerData.worldToCameraMatrixCacheMap = {};\r\n}\r\n\r\nexport var initData = (CameraControllerData: any, PerspectiveCameraData: any, CameraData: any) => {\r\n    CameraControllerData.index = 0;\r\n    CameraControllerData.count = 0;\r\n    CameraControllerData.gameObjectMap = createMap();\r\n    CameraControllerData.dirtyIndexArray = [];\r\n    CameraControllerData.worldToCameraMatrixCacheMap = createMap();\r\n\r\n    initDataCamera(PerspectiveCameraData, CameraData);\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n@registerClass(\"Vector2\")\r\nexport class Vector2 {\r\n    public static create(x, y): Vector2;\r\n    public static create(): Vector2;\r\n\r\n    public static create(...args): Vector2 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x, y);\r\n    constructor();\r\n    constructor(...args) {\r\n        this.values = new Float32Array(2);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    public values: Float32Array;\r\n\r\n    public set(x: number, y: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public add(v: Vector2) {\r\n        this.values[0] = this.values[0] + v.values[0];\r\n        this.values[1] = this.values[1] + v.values[1];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul(v: Vector2) {\r\n        this.values[0] = this.values[0] * v.values[0];\r\n        this.values[1] = this.values[1] * v.values[1];\r\n\r\n        return this;\r\n    }\r\n\r\n    public isEqual(v: Vector2) {\r\n        return this.x === v.x && this.y === v.y;\r\n    }\r\n\r\n    public clone() {\r\n        return Vector2.create(this.x, this.y);\r\n    }\r\n}","declare var Math: any;\r\n\r\n/**\r\n * @name DEG_TO_RAD\r\n * @description Conversion factor between degrees and radians\r\n * @type Number\r\n * @example\r\n * // Convert 180 degrees to pi radians\r\n * var rad = 180 * DEG_TO_RAD;\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @name RAD_TO_DEG\r\n * @description Conversion factor between degrees and radians\r\n * @type Number\r\n * @example\r\n * // Convert pi radians to 180 degrees\r\n * var deg = Math.PI * RAD_TO_DEG;\r\n */\r\nexport const RAD_TO_DEG = 180 / Math.PI;","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector2 } from \"./Vector2\";\r\nimport { DEG_TO_RAD } from \"./Global\";\r\n\r\n@registerClass(\"Matrix3\")\r\nexport class Matrix3 {\r\n    public static create(mat: Float32Array): Matrix3;\r\n    public static create(): Matrix3;\r\n\r\n    public static create(...args): Matrix3 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(mat: Float32Array);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        if (args.length === 1) {\r\n            this.values = args[0];\r\n        }\r\n        else {\r\n            this.values = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\r\n        }\r\n    }\r\n\r\n    get a(): number {\r\n        return this.values[0];\r\n    }\r\n    set a(a: number) {\r\n        this.values[0] = a;\r\n    }\r\n\r\n    get c(): number {\r\n        return this.values[1];\r\n    }\r\n    set c(c: number) {\r\n        this.values[1] = c;\r\n    }\r\n\r\n    get b(): number {\r\n        return this.values[3];\r\n    }\r\n    set b(b: number) {\r\n        this.values[3] = b;\r\n    }\r\n\r\n    get d(): number {\r\n        return this.values[4];\r\n    }\r\n    set d(d: number) {\r\n        this.values[4] = d;\r\n    }\r\n\r\n    get tx(): number {\r\n        return this.values[6];\r\n    }\r\n    set tx(tx: number) {\r\n        this.values[6] = tx;\r\n    }\r\n\r\n    get ty(): number {\r\n        return this.values[7];\r\n    }\r\n    set ty(ty: number) {\r\n        this.values[7] = ty;\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public setIdentity(): Matrix3 {\r\n        var e = this.values;\r\n\r\n        e[0] = 1;\r\n        e[3] = 0;\r\n        e[6] = 0;\r\n        e[1] = 0;\r\n        e[4] = 1;\r\n        e[7] = 0;\r\n        e[2] = 0;\r\n        e[5] = 0;\r\n        e[8] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    public invert(): Matrix3 {\r\n        var a1 = this.values[0];\r\n        var b1 = this.values[1];\r\n        var c1 = this.values[3];\r\n        var d1 = this.values[4];\r\n        var tx1 = this.values[6];\r\n        var ty1 = this.values[7];\r\n        var n = a1 * d1 - b1 * c1;\r\n\r\n        this.values[0] = d1 / n;\r\n        this.values[1] = -b1 / n;\r\n        this.values[3] = -c1 / n;\r\n        this.values[4] = a1 / n;\r\n        this.values[6] = (c1 * ty1 - d1 * tx1) / n;\r\n        this.values[7] = -(a1 * ty1 - b1 * tx1) / n;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyScalar(s: number) {\r\n        var te = this.values;\r\n\r\n        te[0] *= s;\r\n        te[3] *= s;\r\n        te[6] *= s;\r\n        te[1] *= s;\r\n        te[4] *= s;\r\n        te[7] *= s;\r\n        te[2] *= s;\r\n        te[5] *= s;\r\n        te[8] *= s;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyVector2(vector: Vector2) {\r\n        var x = vector.x,\r\n            y = vector.y,\r\n            result = Vector2.create(),\r\n            e = this.values;\r\n\r\n        result.x = e[0] * x + e[3] * y;\r\n        result.y = e[1] * x + e[4] * y;\r\n\r\n        return result;\r\n    }\r\n\r\n    public multiplyPoint(vector: Vector2) {\r\n        var x = vector.x,\r\n            y = vector.y,\r\n            result = Vector2.create(),\r\n            e = this.values;\r\n\r\n        result.x = e[0] * x + e[3] * y + this.tx;\r\n        result.y = e[1] * x + e[4] * y + this.ty;\r\n\r\n        return result;\r\n    }\r\n\r\n    public multiply(matrix: Matrix3) {\r\n        var m11 = this.a * matrix.a + this.c * matrix.b;\r\n        var m12 = this.b * matrix.a + this.d * matrix.b;\r\n\r\n        var m21 = this.a * matrix.c + this.c * matrix.d;\r\n        var m22 = this.b * matrix.c + this.d * matrix.d;\r\n\r\n        var dx = this.a * matrix.tx + this.c * matrix.ty + this.tx;\r\n        var dy = this.b * matrix.tx + this.d * matrix.ty + this.ty;\r\n\r\n        this.a = m11;\r\n        this.b = m12;\r\n        this.c = m21;\r\n        this.d = m22;\r\n        this.tx = dx;\r\n        this.ty = dy;\r\n\r\n        return this;\r\n    }\r\n\r\n    public transpose(): Matrix3 {\r\n        var tmp, m = this.values;\r\n\r\n        tmp = m[1];\r\n        m[1] = m[3];\r\n        m[3] = tmp;\r\n        tmp = m[2];\r\n        m[2] = m[6];\r\n        m[6] = tmp;\r\n        tmp = m[5];\r\n        m[5] = m[7];\r\n        m[7] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    public clone() {\r\n        return Matrix3.create().set(this);\r\n    }\r\n\r\n    public cloneToArray(array: Float32Array, offset: number = 0): Matrix3 {\r\n        var values = this.values;\r\n\r\n        for (let index = 0; index < 9; index++) {\r\n            array[offset + index] = values[index];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public set(matrix: Matrix3) {\r\n        var te = this.values,\r\n            values = matrix.values;\r\n\r\n        te[0] = values[0]; te[3] = values[3]; te[6] = values[6];\r\n        te[1] = values[1]; te[4] = values[4]; te[7] = values[7];\r\n        te[2] = values[2]; te[5] = values[5]; te[8] = values[8];\r\n\r\n        return this;\r\n    }\r\n\r\n    public setTS(t: Vector2, s: Vector2) {\r\n        this.setPosition(t.x, t.y);\r\n        this.setScale(s.x, s.y);\r\n    }\r\n\r\n    public rotate(angle: number) {\r\n        var rad = angle * DEG_TO_RAD;\r\n        var c = Math.cos(rad);\r\n        var s = Math.sin(rad);\r\n        var m11 = this.a * c + this.c * s;\r\n        var m12 = this.b * c + this.d * s;\r\n        var m21 = this.a * -s + this.c * c;\r\n        var m22 = this.b * -s + this.d * c;\r\n        this.a = m11;\r\n        this.b = m12;\r\n        this.c = m21;\r\n        this.d = m22;\r\n\r\n        //var rad = angle * DEG_TO_RAD;\r\n        //\r\n        //var cos_a = Math.cos(rad);\r\n        //var sin_a = Math.sin(rad);\r\n        //\r\n        //var values = this.values;\r\n        //\r\n        //\r\n        //var m00 = values[0];\r\n        //var m10 = values[1];\r\n        //var m20 = values[2];\r\n        //\r\n        //var m01 = values[3];\r\n        //var m11 = values[4];\r\n        //var m21 = values[5];\r\n        //\r\n        //var m02 = values[6];\r\n        //var m12 = values[7];\r\n        //var m22 = values[8];\r\n        //\r\n        //values[0] = cos_a * m00 - sin_a * m10;\r\n        //values[1] = sin_a * m00 + cos_a * m10;\r\n        //\r\n        //values[3] = cos_a * m01 - sin_a * m11;\r\n        //values[4] = sin_a * m01 + cos_a * m11;\r\n        //\r\n        //values[6] = cos_a * m02 - sin_a * m12;\r\n        //values[7] = sin_a * m02 + cos_a * m12;\r\n\r\n        return this;\r\n    }\r\n\r\n    public setRotation(angle: number) {\r\n        var rad = angle * DEG_TO_RAD;\r\n\r\n        var cos_a = Math.cos(rad);\r\n        var sin_a = Math.sin(rad);\r\n        var values = this.values;\r\n\r\n        //values[0] = cos_a;\r\n        //values[1] = sin_a;\r\n        //\r\n        //values[3] = -sin_a;\r\n        //values[4] = cos_a;\r\n        values[0] = cos_a;\r\n        values[1] = -sin_a;\r\n\r\n        values[3] = sin_a;\r\n        values[4] = cos_a;\r\n\r\n        return this;\r\n    }\r\n\r\n    public translate(x: number, y: number) {\r\n        this.tx += this.a * x + this.c * y;\r\n        this.ty += this.b * x + this.d * y;\r\n    }\r\n\r\n    public setPosition(x: number, y: number) {\r\n        this.tx = x;\r\n        this.ty = y;\r\n    }\r\n\r\n    public scale(x: number, y: number) {\r\n        this.a *= x;\r\n        this.b *= x;\r\n        this.c *= y;\r\n        this.d *= y;\r\n\r\n        //var values = this.values;\r\n        //\r\n        //values[0] *= x;\r\n        //values[1] *= x;\r\n        //values[2] *= x;\r\n        //\r\n        //values[3] *= y;\r\n        //values[4] *= y;\r\n        //values[5] *= y;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public setScale(x: number, y: number) {\r\n        var values = this.values;\r\n\r\n        values[0] = x;\r\n        values[4] = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    public getTranslation() {\r\n        return Vector2.create(this.tx, this.ty);\r\n    }\r\n\r\n    public getScale() {\r\n        return Vector2.create(\r\n            Math.sqrt(this.a * this.a + this.b * this.b),\r\n            Math.sqrt(this.c * this.c + this.d * this.d)\r\n        );\r\n    }\r\n\r\n    public getRotation() {\r\n        return this._getSkewX();\r\n    }\r\n\r\n    public getSkew() {\r\n        return Vector2.create(\r\n            this._getSkewX(),\r\n            this._getSkewY()\r\n        );\r\n    }\r\n\r\n    private _getDeltaTransformPoint(matrix: Matrix3, point: { x: number, y: number }) {\r\n        return {\r\n            x: point.x * matrix.a + point.y * matrix.c + 0,\r\n            y: point.x * matrix.b + point.y * matrix.d + 0\r\n        };\r\n    }\r\n\r\n    private _getSkewX() {\r\n        var px = this._getDeltaTransformPoint(this, { x: 0, y: 1 });\r\n\r\n        return ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);\r\n    }\r\n\r\n    private _getSkewY() {\r\n        var py = this._getDeltaTransformPoint(this, { x: 1, y: 0 });\r\n\r\n        return ((180 / Math.PI) * Math.atan2(py.y, py.x));\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"./Vector3\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Vector4\")\r\nexport class Vector4 {\r\n    public static create(x, y, z, w);\r\n    public static create();\r\n\r\n    public static create(...args) {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1], args[2], args[3]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x, y, z, w);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        this.values = new Float32Array(4);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n            this.values[2] = args[2];\r\n            this.values[3] = args[3];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    set z(z: number) {\r\n        this.values[2] = z;\r\n    }\r\n\r\n    get w() {\r\n        return this.values[3];\r\n    }\r\n    set w(w: number) {\r\n        this.values[3] = w;\r\n    }\r\n\r\n    public values: Float32Array;\r\n\r\n    public normalize(): Vector4 {\r\n        var v = this.values;\r\n        var d = Math.sqrt(\r\n            v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]\r\n        );\r\n\r\n        if (d === 0) {\r\n            return Vector4.create(0, 0, 0, 0);\r\n        }\r\n\r\n        v[0] = v[0] / d;\r\n        v[1] = v[1] / d;\r\n        v[2] = v[2] / d;\r\n        v[3] = v[3] / d;\r\n\r\n        return this;\r\n    }\r\n\r\n    public isEqual(v: Vector4) {\r\n        return this.x === v.x && this.y === v.y && this.z === v.z && this.w === v.w;\r\n    }\r\n\r\n    public clone(): Vector4 {\r\n        return this.copyHelper(Vector4.create());\r\n    }\r\n\r\n    public toVector3(): Vector3 {\r\n        return Vector3.create(this.values[0], this.values[1], this.values[2]);\r\n    }\r\n\r\n    public lengthManhattan() {\r\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\r\n    }\r\n\r\n    public multiplyScalar(scalar: number) {\r\n        this.x *= scalar;\r\n        this.y *= scalar;\r\n        this.z *= scalar;\r\n        this.w *= scalar;\r\n\r\n        return this;\r\n    }\r\n\r\n    public dot(v: Vector4) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n    }\r\n\r\n    public set(x: number, y: number, z: number, w: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n\r\n\r\n    protected copyHelper(vector4: Vector4): any {\r\n        var result = vector4,\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector4 } from \"./Vector4\";\r\nimport { Matrix3 } from \"./Matrix3\";\r\nimport { Matrix4 } from \"./Matrix4\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Vector3\")\r\nexport class Vector3 {\r\n    public static up = null;\r\n    public static forward = null;\r\n    public static right = null;\r\n\r\n    public static create(x: number, y: number, z: number): Vector3;\r\n    public static create(): Vector3;\r\n\r\n    public static create(...args): Vector3 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1], args[2]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x: number, y: number, z: number);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        this.values = new Float32Array(3);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n            this.values[2] = args[2];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    set z(z: number) {\r\n        this.values[2] = z;\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public normalize(): Vector3 {\r\n        var v = this.values;\r\n        var d = Math.sqrt(\r\n            v[0] * v[0] + v[1] * v[1] + v[2] * v[2]\r\n        );\r\n\r\n        if (d === 0) {\r\n            v[0] = 0;\r\n            v[1] = 0;\r\n            v[2] = 0;\r\n            return this;\r\n        }\r\n\r\n        v[0] = v[0] / d;\r\n        v[1] = v[1] / d;\r\n        v[2] = v[2] / d;\r\n\r\n        // for jasmine test:\r\n        // -0.isEqual(0);//not pass, so here change -0 to 0\r\n        if (v[0] === -0) {\r\n            v[0] = 0;\r\n        }\r\n        if (v[1] === -0) {\r\n            v[1] = 0;\r\n        }\r\n        if (v[2] === -0) {\r\n            v[2] = 0;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public isZero() {\r\n        var v = this.values;\r\n\r\n        return v[0] === 0 && v[1] === 0 && v[2] === 0;\r\n    }\r\n\r\n    public scale(scalar: number);\r\n    public scale(x: number, y: number, z: number);\r\n\r\n    public scale(...args) {\r\n        var v = this.values;\r\n\r\n        if (args.length === 1) {\r\n            let scalar = args[0];\r\n\r\n            v[0] *= scalar;\r\n            v[1] *= scalar;\r\n            v[2] *= scalar;\r\n        }\r\n        else if (args.length === 3) {\r\n            let x = args[0],\r\n                y = args[1],\r\n                z = args[2];\r\n\r\n            v[0] *= x;\r\n            v[1] *= y;\r\n            v[2] *= z;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public set(v: Vector3);\r\n    public set(x: number, y: number, z: number);\r\n\r\n    public set(...args) {\r\n        if (args.length === 3) {\r\n            this.x = args[0];\r\n            this.y = args[1];\r\n            this.z = args[2];\r\n        }\r\n        else {\r\n            let v: Vector3 = args[0];\r\n\r\n            this.x = v.x;\r\n            this.y = v.y;\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub(v: Vector3): Vector3 {\r\n        this.values[0] = this.values[0] - v.values[0];\r\n        this.values[1] = this.values[1] - v.values[1];\r\n        this.values[2] = this.values[2] - v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] - v2.values[0];\r\n        this.values[1] = v1.values[1] - v2.values[1];\r\n        this.values[2] = v1.values[2] - v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public add(v: Vector3) {\r\n        this.values[0] = this.values[0] + v.values[0];\r\n        this.values[1] = this.values[1] + v.values[1];\r\n        this.values[2] = this.values[2] + v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public add2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] + v2.values[0];\r\n        this.values[1] = v1.values[1] + v2.values[1];\r\n        this.values[2] = v1.values[2] + v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul(v: Vector3) {\r\n        this.values[0] = this.values[0] * v.values[0];\r\n        this.values[1] = this.values[1] * v.values[1];\r\n        this.values[2] = this.values[2] * v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] * v2.values[0];\r\n        this.values[1] = v1.values[1] * v2.values[1];\r\n        this.values[2] = v1.values[2] * v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public reverse(): Vector3 {\r\n        this.values[0] = -this.values[0];\r\n        this.values[1] = -this.values[1];\r\n        this.values[2] = -this.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public clone(): Vector3 {\r\n        var result = Vector3.create(),\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public toVector4(): Vector4 {\r\n        return Vector4.create(this.values[0], this.values[1], this.values[2], 1.0);\r\n    }\r\n\r\n    public length() {\r\n        var v = this.values;\r\n\r\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name cross\r\n     * @description Returns the result of a cross product operation performed on the two specified 3-dimensional vectors.\r\n     * @param {Vec3} lhs The first 3-dimensional vector operand of the cross product.\r\n     * @param {Vec3} rhs The second 3-dimensional vector operand of the cross product.\r\n     * @returns {Vec3} Self for chaining.\r\n     * @example\r\n     * var back = new Vec3().cross(Vec3.RIGHT, Vec3.UP);\r\n     *\r\n     * // Should print the Z axis (i.e. [0, 0, 1])\r\n     * console.log(\"The result of the cross product is: \" + back.toString());\r\n     */\r\n    public cross(lhs: Vector3, rhs: Vector3) {\r\n        var a, b, r, ax, ay, az, bx, by, bz;\r\n\r\n        a = lhs.values;\r\n        b = rhs.values;\r\n        r = this.values;\r\n\r\n        ax = a[0];\r\n        ay = a[1];\r\n        az = a[2];\r\n        bx = b[0];\r\n        by = b[1];\r\n        bz = b[2];\r\n\r\n        r[0] = ay * bz - by * az;\r\n        r[1] = az * bx - bz * ax;\r\n        r[2] = ax * by - bx * ay;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name lerp\r\n     * @description Returns the result of a linear interpolation between two specified 3-dimensional vectors.\r\n     * @param {Vec3} lhs The 3-dimensional to interpolate from.\r\n     * @param {Vec3} rhs The 3-dimensional to interpolate to.\r\n     * @param {Number} alpha The value controlling the point of interpolation. Between 0 and 1, the linear interpolant\r\n     * will occur on a straight line between lhs and rhs. Outside of this range, the linear interpolant will occur on\r\n     * a ray extrapolated from this line.\r\n     * @returns {Vec3} Self for chaining.\r\n     * @example\r\n     * var a = new Vec3(0, 0, 0);\r\n     * var b = new Vec3(10, 10, 10);\r\n     * var r = new Vec3();\r\n     *\r\n     * r.lerp(a, b, 0);   // r is equal to a\r\n     * r.lerp(a, b, 0.5); // r is 5, 5, 5\r\n     * r.lerp(a, b, 1);   // r is equal to b\r\n     */\r\n    public lerp(lhs: Vector3, rhs: Vector3, alpha: number) {\r\n        var a = lhs.values,\r\n            b = rhs.values,\r\n            r = this.values;\r\n\r\n        r[0] = a[0] + alpha * (b[0] - a[0]);\r\n        r[1] = a[1] + alpha * (b[1] - a[1]);\r\n        r[2] = a[2] + alpha * (b[2] - a[2]);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name dot\r\n     * @description Returns the result of a dot product operation performed on the two specified 3-dimensional vectors.\r\n     * @param {Vec3} rhs The second 3-dimensional vector operand of the dot product.\r\n     * @returns {Number} The result of the dot product operation.\r\n     * @example\r\n     * var v1 = new Vec3(5, 10, 20);\r\n     * var v2 = new Vec3(10, 20, 40);\r\n     * var v1dotv2 = v1.dot(v2);\r\n     * console.log(\"The result of the dot product is: \" + v1dotv2);\r\n     */\r\n    public dot(rhs) {\r\n        var a = this.values,\r\n            b = rhs.values;\r\n\r\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n    }\r\n\r\n    public calAngleCos(v1: Vector3) {\r\n        var l = this.length() * v1.length();\r\n\r\n        if (l === 0) {\r\n            return NaN;\r\n        }\r\n\r\n        return this.dot(v1) / l;\r\n    }\r\n\r\n    public min(v: Vector3) {\r\n        if (this.x > v.x) {\r\n            this.x = v.x;\r\n        }\r\n        if (this.y > v.y) {\r\n            this.y = v.y;\r\n        }\r\n        if (this.z > v.z) {\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public max(v: Vector3) {\r\n        if (this.x < v.x) {\r\n            this.x = v.x;\r\n        }\r\n        if (this.y < v.y) {\r\n            this.y = v.y;\r\n        }\r\n        if (this.z < v.z) {\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public isEqual(v: Vector3) {\r\n        return this.x === v.x && this.y === v.y && this.z === v.z;\r\n    }\r\n\r\n    public toArray() {\r\n        return [this.x, this.y, this.z];\r\n    }\r\n\r\n    public applyMatrix3(m: Matrix3) {\r\n        var x = this.x,\r\n            y = this.y,\r\n            z = this.z,\r\n            e = m.values;\r\n\r\n        this.x = e[0] * x + e[3] * y + e[6] * z;\r\n        this.y = e[1] * x + e[4] * y + e[7] * z;\r\n        this.z = e[2] * x + e[5] * y + e[8] * z;\r\n\r\n        return this;\r\n    }\r\n\r\n    public applyMatrix4(m: Matrix4) {\r\n        var x = this.x,\r\n            y = this.y,\r\n            z = this.z,\r\n            e = m.values;\r\n\r\n        this.x = e[0] * x + e[4] * y + e[8] * z + e[12];\r\n        this.y = e[1] * x + e[5] * y + e[9] * z + e[13];\r\n        this.z = e[2] * x + e[6] * y + e[10] * z + e[14];\r\n\r\n        return this;\r\n    }\r\n\r\n    public distanceTo(v: Vector3) {\r\n        return Math.sqrt(this.distanceToSquared(v));\r\n    }\r\n\r\n    public distanceToSquared(v: Vector3) {\r\n        var dx = this.x - v.x,\r\n            dy = this.y - v.y,\r\n            dz = this.z - v.z;\r\n\r\n        return dx ** 2 + dy ** 2 + dz ** 2;\r\n    }\r\n}\r\n\r\n\r\nVector3.up = Vector3.create(0, 1, 0);\r\nVector3.forward = Vector3.create(0, 0, 1);\r\nVector3.right = Vector3.create(1, 0, 0);","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"./Vector3\";\r\nimport { DEG_TO_RAD, RAD_TO_DEG } from \"./Global\";\r\nimport { Matrix4 } from \"./Matrix4\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Quaternion\")\r\nexport class Quaternion {\r\n    public static create(x?: number, y?: number, z?: number, w?: number) {\r\n        var obj = new this(x, y, z, w);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 1) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n    public x: number = null;\r\n    public y: number = null;\r\n    public z: number = null;\r\n    public w: number = null;\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromEulerAngles\r\n     * @description Sets a quaternion from Euler angles specified in XYZ order.\r\n     * @param {Number} ex Angle to rotate around X axis in degrees.\r\n     * @param {Number} ey Angle to rotate around Y axis in degrees.\r\n     * @param {Number} ez Angle to rotate around Z axis in degrees.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * var q = new Quat();\r\n     * q.setFromEulerAngles(45, 90, 180);\r\n     */\r\n    public setFromEulerAngles(eulerAngles: Vector3) {\r\n        var sx, cx, sy, cy, sz, cz, halfToRad,\r\n            ex = eulerAngles.x,\r\n            ey = eulerAngles.y,\r\n            ez = eulerAngles.z;\r\n\r\n        halfToRad = 0.5 * DEG_TO_RAD;\r\n        ex *= halfToRad;\r\n        ey *= halfToRad;\r\n        ez *= halfToRad;\r\n\r\n        sx = Math.sin(ex);\r\n        cx = Math.cos(ex);\r\n        sy = Math.sin(ey);\r\n        cy = Math.cos(ey);\r\n        sz = Math.sin(ez);\r\n        cz = Math.cos(ez);\r\n\r\n        this.x = sx * cy * cz - cx * sy * sz;\r\n        this.y = cx * sy * cz + sx * cy * sz;\r\n        this.z = cx * cy * sz - sx * sy * cz;\r\n        this.w = cx * cy * cz + sx * sy * sz;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiply(rhs: Quaternion);\r\n    public multiply(rhs1: Quaternion, rhs2: Quaternion);\r\n\r\n    public multiply(...args) {\r\n        var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w,\r\n            rhs1, rhs2,\r\n            result = this;\r\n\r\n        if (args.length === 1) {\r\n            rhs1 = this;\r\n            rhs2 = args[0];\r\n        }\r\n        else if (args.length === 2) {\r\n            rhs1 = args[0];\r\n            rhs2 = args[1];\r\n        }\r\n\r\n        q1x = rhs1.x;\r\n        q1y = rhs1.y;\r\n        q1z = rhs1.z;\r\n        q1w = rhs1.w;\r\n\r\n        q2x = rhs2.x;\r\n        q2y = rhs2.y;\r\n        q2z = rhs2.z;\r\n        q2w = rhs2.w;\r\n\r\n        result.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\r\n        result.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\r\n        result.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\r\n        result.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromMat4\r\n     * @description Converts the specified 4x4 matrix to a quaternion. Note that since\r\n     * a quaternion is purely a representation for orientation, only the translational part\r\n     * of the matrix is lost.\r\n     * @param {Mat4} m The 4x4 matrix to convert.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * // Create a 4x4 rotation matrix of 180 degrees around the y-axis\r\n     * var rot = new Mat4().setFromAxisAngle(Vec3.UP, 180);\r\n     *\r\n     * // Convert to a quaternion\r\n     * var q = new Quat().setFromMat4(rot);\r\n     */\r\n    public setFromMatrix(matrix: Matrix4) {\r\n        var m00, m01, m02, m10, m11, m12, m20, m21, m22,\r\n            tr, s, rs, lx, ly, lz, m;\r\n\r\n        m = matrix.values;\r\n\r\n        // Cache matrix values for super-speed\r\n        m00 = m[0];\r\n        m01 = m[1];\r\n        m02 = m[2];\r\n        m10 = m[4];\r\n        m11 = m[5];\r\n        m12 = m[6];\r\n        m20 = m[8];\r\n        m21 = m[9];\r\n        m22 = m[10];\r\n\r\n        // Remove the scale from the matrix\r\n        lx = 1 / Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02);\r\n        ly = 1 / Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12);\r\n        lz = 1 / Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22);\r\n\r\n        m00 *= lx;\r\n        m01 *= lx;\r\n        m02 *= lx;\r\n        m10 *= ly;\r\n        m11 *= ly;\r\n        m12 *= ly;\r\n        m20 *= lz;\r\n        m21 *= lz;\r\n        m22 *= lz;\r\n\r\n        // http://www.cs.ucr.edu/~vbz/resources/quatut.pdf\r\n\r\n        tr = m00 + m11 + m22;\r\n        if (tr >= 0) {\r\n            s = Math.sqrt(tr + 1);\r\n            this.w = s * 0.5;\r\n            s = 0.5 / s;\r\n            this.x = (m12 - m21) * s;\r\n            this.y = (m20 - m02) * s;\r\n            this.z = (m01 - m10) * s;\r\n        } else {\r\n            if (m00 > m11) {\r\n                if (m00 > m22) {\r\n                    // XDiagDomMatrix\r\n                    rs = (m00 - (m11 + m22)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.x = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m12 - m21) * rs;\r\n                    this.y = (m01 + m10) * rs;\r\n                    this.z = (m02 + m20) * rs;\r\n                } else {\r\n                    // ZDiagDomMatrix\r\n                    rs = (m22 - (m00 + m11)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.z = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m01 - m10) * rs;\r\n                    this.x = (m20 + m02) * rs;\r\n                    this.y = (m21 + m12) * rs;\r\n                }\r\n            } else if (m11 > m22) {\r\n                // YDiagDomMatrix\r\n                rs = (m11 - (m22 + m00)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.y = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m20 - m02) * rs;\r\n                this.z = (m12 + m21) * rs;\r\n                this.x = (m10 + m01) * rs;\r\n            } else {\r\n                // ZDiagDomMatrix\r\n                rs = (m22 - (m00 + m11)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.z = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m01 - m10) * rs;\r\n                this.x = (m20 + m02) * rs;\r\n                this.y = (m21 + m12) * rs;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromAxisAngle\r\n     * @description Sets a quaternion from an angular rotation around an axis.\r\n     * @param {Vec3} axis World space axis around which to rotate.\r\n     * @param {Number} angle Angle to rotate around the given axis in degrees.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * var q = new Quat();\r\n     * q.setFromAxisAngle(Vec3.UP, 90);\r\n     */\r\n    public setFromAxisAngle(angle: number, axis: Vector3) {\r\n        var sa, ca;\r\n\r\n        axis = axis.normalize();\r\n\r\n        angle *= 0.5 * DEG_TO_RAD;\r\n\r\n        sa = Math.sin(angle);\r\n        ca = Math.cos(angle);\r\n\r\n        this.x = sa * axis.x;\r\n        this.y = sa * axis.y;\r\n        this.z = sa * axis.z;\r\n        this.w = ca;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name invert\r\n     * @description Generates the inverse of the specified quaternion.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * // Create a quaternion rotated 180 degrees around the y-axis\r\n     * var rot = new Quat().setFromEulerAngles(0, 180, 0);\r\n     *\r\n     * // Invert in place\r\n     * rot.invert();\r\n     */\r\n    public invert() {\r\n        return this.conjugate().normalize();\r\n    }\r\n\r\n    public conjugate() {\r\n        this.x *= -1;\r\n        this.y *= -1;\r\n        this.z *= -1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name clone\r\n     * @description Returns an identical clone of the specified quaternion.\r\n     * @returns {Quat} A quaternion containing the result of the cloning.\r\n     * @example\r\n     * var q = new Quat(-0.11, -0.15, -0.46, 0.87);\r\n     * var qclone = q.clone();\r\n     *\r\n     * console.log(\"The result of the cloning is: \" + q.toString());\r\n     */\r\n    public clone() {\r\n        return Quaternion.create(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name normalize\r\n     * @description Returns the specified quaternion converted in place to a unit quaternion.\r\n     * @returns {Quat} The result of the normalization.\r\n     * @example\r\n     * var v = new Quat(0, 0, 0, 5);\r\n     *\r\n     * v.normalize();\r\n     *\r\n     * // Should output 0, 0, 0, 1\r\n     * console.log(\"The result of the vector normalization is: \" + v.toString());\r\n     */\r\n    public normalize() {\r\n        var len = this.length();\r\n        if (len === 0) {\r\n            this.x = this.y = this.z = 0;\r\n            this.w = 1;\r\n        } else {\r\n            len = 1 / len;\r\n            this.x *= len;\r\n            this.y *= len;\r\n            this.z *= len;\r\n            this.w *= len;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name length\r\n     * @description Returns the magnitude of the specified quaternion.\r\n     * @returns {Number} The magnitude of the specified quaternion.\r\n     * @example\r\n     * var q = new Quat(0, 0, 0, 5);\r\n     * var len = q.length();\r\n     * // Should output 5\r\n     * console.log(\"The length of the quaternion is: \" + len);\r\n     */\r\n    public length() {\r\n        var x, y, z, w;\r\n\r\n        x = this.x;\r\n        y = this.y;\r\n        z = this.z;\r\n        w = this.w;\r\n\r\n        return Math.sqrt(x * x + y * y + z * z + w * w);\r\n    }\r\n\r\n\r\n    public multiplyVector3(vector: Vector3) {\r\n        var q = this;\r\n        var x = vector.x;\r\n        var y = vector.y;\r\n        var z = vector.z;\r\n\r\n        var qx = q.x;\r\n        var qy = q.y;\r\n        var qz = q.z;\r\n        var qw = q.w;\r\n\r\n        // calculate quat * vector\r\n\r\n        var ix = qw * x + qy * z - qz * y;\r\n        var iy = qw * y + qz * x - qx * z;\r\n        var iz = qw * z + qx * y - qy * x;\r\n        var iw = - qx * x - qy * y - qz * z;\r\n\r\n        // calculate result * inverse quat\r\n\r\n        return Vector3.create(\r\n            ix * qw + iw * - qx + iy * - qz - iz * - qy,\r\n            iy * qw + iw * - qy + iz * - qx - ix * - qz,\r\n            iz * qw + iw * - qz + ix * - qy - iy * - qx\r\n        );\r\n    }\r\n\r\n    public set(x: number, y: number, z: number, w: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub(quat: Quaternion) {\r\n        var result = quat.clone().invert().multiply(this);\r\n\r\n        this.set(result.x, result.y, result.z, result.w);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name getEulerAngles\r\n     * @description Converts the supplied quaternion to Euler angles.\r\n     * @param {Vec3} [eulers] The 3-dimensional vector to receive the Euler angles.\r\n     * @returns {Vec3} The 3-dimensional vector holding the Euler angles that\r\n     * correspond to the supplied quaternion.\r\n     */\r\n    public getEulerAngles() {\r\n        var x, y, z, qx, qy, qz, qw, a2;\r\n\r\n        qx = this.x;\r\n        qy = this.y;\r\n        qz = this.z;\r\n        qw = this.w;\r\n\r\n        a2 = 2 * (qw * qy - qx * qz);\r\n        if (a2 <= -0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = -Math.PI / 2;\r\n            z = 0;\r\n        } else if (a2 >= 0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = Math.PI / 2;\r\n            z = 0;\r\n        } else {\r\n            x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));\r\n            y = Math.asin(a2);\r\n            z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));\r\n        }\r\n\r\n        return Vector3.create(x, y, z).scale(RAD_TO_DEG);\r\n    }\r\n\r\n    public slerp(left: Quaternion, right: Quaternion, amount: number): Quaternion {\r\n        if (amount === 0) {\r\n            this.set(left.x, left.y, left.z, left.w);\r\n\r\n            return this;\r\n        }\r\n        else if (amount === 1) {\r\n            this.set(right.x, right.y, right.z, right.w);\r\n\r\n            return this;\r\n        }\r\n\r\n        var num2;\r\n        var num3;\r\n        var num = amount;\r\n        var num4 = (((left.x * right.x) + (left.y * right.y)) + (left.z * right.z)) + (left.w * right.w);\r\n        var flag = false;\r\n\r\n        if (num4 < 0) {\r\n            flag = true;\r\n            num4 = -num4;\r\n        }\r\n\r\n        if (num4 > 0.999999) {\r\n            num3 = 1 - num;\r\n            num2 = flag ? -num : num;\r\n        }\r\n        else {\r\n            var num5 = Math.acos(num4);\r\n            var num6 = (1.0 / Math.sin(num5));\r\n            num3 = (Math.sin((1.0 - num) * num5)) * num6;\r\n            num2 = flag ? ((-Math.sin(num * num5)) * num6) : ((Math.sin(num * num5)) * num6);\r\n        }\r\n\r\n        this.set((num3 * left.x) + (num2 * right.x), (num3 * left.y) + (num2 * right.y), (num3 * left.z) + (num2 * right.z), (num3 * left.w) + (num2 * right.w));\r\n\r\n        return this;\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Matrix3 } from \"./Matrix3\";\r\nimport { Log } from \"../utils/Log\";\r\nimport { requireCheck, it, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Vector3 } from \"./Vector3\";\r\nimport { Vector4 } from \"./Vector4\";\r\nimport { Quaternion } from \"./Quaternion\";\r\nimport { RAD_TO_DEG } from \"./Global\";\r\n\r\ndeclare var Math: any;\r\n\r\n/*!\r\n 注意：矩阵元素是按列主序存储在数组中的。\r\n */\r\n@registerClass(\"Matrix4\")\r\nexport class Matrix4 {\r\n    public static create(mat: Float32Array): Matrix4;\r\n    public static create(): Matrix4;\r\n\r\n    public static create(...args): Matrix4 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(mat: Float32Array);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        if (args.length === 1) {\r\n            this.values = args[0];\r\n        }\r\n        else {\r\n            this.values = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n        }\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public set(initialM11: number, initialM12: number, initialM13: number, initialM14: number,\r\n        initialM21: number, initialM22: number, initialM23: number, initialM24: number,\r\n        initialM31: number, initialM32: number, initialM33: number, initialM34: number,\r\n        initialM41: number, initialM42: number, initialM43: number, initialM44: number) {\r\n        var te = this.values;\r\n\r\n        te[0] = initialM11;\r\n        te[1] = initialM12;\r\n        te[2] = initialM13;\r\n        te[3] = initialM14;\r\n        te[4] = initialM21;\r\n        te[5] = initialM22;\r\n        te[6] = initialM23;\r\n        te[7] = initialM24;\r\n        te[8] = initialM31;\r\n        te[9] = initialM32;\r\n        te[10] = initialM33;\r\n        te[11] = initialM34;\r\n        te[12] = initialM41;\r\n        te[13] = initialM42;\r\n        te[14] = initialM43;\r\n        te[15] = initialM44;\r\n\r\n        return this;\r\n    }\r\n\r\n    public setIdentity(): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = 1; e[4] = 0; e[8] = 0; e[12] = 0;\r\n        e[1] = 0; e[5] = 1; e[9] = 0; e[13] = 0;\r\n        e[2] = 0; e[6] = 0; e[10] = 1; e[14] = 0;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Calculate the inverse matrix of specified matrix, and set to this.\r\n     * @param other The source matrix\r\n     * @return this\r\n     */\r\n    public invert(): Matrix4 {\r\n        var a00, a01, a02, a03,\r\n            a10, a11, a12, a13,\r\n            a20, a21, a22, a23,\r\n            a30, a31, a32, a33,\r\n            b00, b01, b02, b03,\r\n            b04, b05, b06, b07,\r\n            b08, b09, b10, b11,\r\n            invDet, m;\r\n\r\n        m = this.values;\r\n        a00 = m[0];\r\n        a01 = m[1];\r\n        a02 = m[2];\r\n        a03 = m[3];\r\n        a10 = m[4];\r\n        a11 = m[5];\r\n        a12 = m[6];\r\n        a13 = m[7];\r\n        a20 = m[8];\r\n        a21 = m[9];\r\n        a22 = m[10];\r\n        a23 = m[11];\r\n        a30 = m[12];\r\n        a31 = m[13];\r\n        a32 = m[14];\r\n        a33 = m[15];\r\n\r\n        b00 = a00 * a11 - a01 * a10;\r\n        b01 = a00 * a12 - a02 * a10;\r\n        b02 = a00 * a13 - a03 * a10;\r\n        b03 = a01 * a12 - a02 * a11;\r\n        b04 = a01 * a13 - a03 * a11;\r\n        b05 = a02 * a13 - a03 * a12;\r\n        b06 = a20 * a31 - a21 * a30;\r\n        b07 = a20 * a32 - a22 * a30;\r\n        b08 = a20 * a33 - a23 * a30;\r\n        b09 = a21 * a32 - a22 * a31;\r\n        b10 = a21 * a33 - a23 * a31;\r\n        b11 = a22 * a33 - a23 * a32;\r\n\r\n        invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\r\n\r\n        m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;\r\n        m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;\r\n        m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;\r\n        m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;\r\n        m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;\r\n        m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;\r\n        m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;\r\n        m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;\r\n        m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;\r\n        m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;\r\n        m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;\r\n        m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;\r\n        m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;\r\n        m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;\r\n        m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;\r\n        m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;\r\n\r\n        return this;\r\n    }\r\n\r\n    public invertTo3x3(): Matrix3 {\r\n        var a11, a21, a31, a12, a22, a32, a13, a23, a33,\r\n            m, r, det, idet;\r\n        var mat3 = Matrix3.create();\r\n\r\n        m = this.values;\r\n\r\n        r = mat3.values;\r\n\r\n        a11 = m[10] * m[5] - m[6] * m[9];\r\n        a21 = -m[10] * m[1] + m[2] * m[9];\r\n        a31 = m[6] * m[1] - m[2] * m[5];\r\n        a12 = -m[10] * m[4] + m[6] * m[8];\r\n        a22 = m[10] * m[0] - m[2] * m[8];\r\n        a32 = -m[6] * m[0] + m[2] * m[4];\r\n        a13 = m[9] * m[4] - m[5] * m[8];\r\n        a23 = -m[9] * m[0] + m[1] * m[8];\r\n        a33 = m[5] * m[0] - m[1] * m[4];\r\n\r\n        det = m[0] * a11 + m[1] * a12 + m[2] * a13;\r\n        if (det === 0) { // no inverse\r\n            Log.warn(\"can't invert matrix, determinant is 0\");\r\n\r\n            return mat3;\r\n        }\r\n\r\n        idet = 1 / det;\r\n\r\n        r[0] = idet * a11;\r\n        r[1] = idet * a21;\r\n        r[2] = idet * a31;\r\n        r[3] = idet * a12;\r\n        r[4] = idet * a22;\r\n        r[5] = idet * a32;\r\n        r[6] = idet * a13;\r\n        r[7] = idet * a23;\r\n        r[8] = idet * a33;\r\n\r\n        return mat3;\r\n    }\r\n\r\n    /**\r\n     * Transpose the matrix.\r\n     * @return this\r\n     */\r\n    public transpose(): Matrix4 {\r\n        var te = this.values;\r\n        var tmp;\r\n\r\n        tmp = te[1]; te[1] = te[4]; te[4] = tmp;\r\n        tmp = te[2]; te[2] = te[8]; te[8] = tmp;\r\n        tmp = te[6]; te[6] = te[9]; te[9] = tmp;\r\n\r\n        tmp = te[3]; te[3] = te[12]; te[12] = tmp;\r\n        tmp = te[7]; te[7] = te[13]; te[13] = tmp;\r\n        tmp = te[11]; te[11] = te[14]; te[14] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for translation.\r\n     * @param x The X value of a translation.\r\n     * @param y The Y value of a translation.\r\n     * @param z The Z value of a translation.\r\n     * @return this\r\n     */\r\n    public setTranslate(x, y, z): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = 1; e[4] = 0; e[8] = 0; e[12] = x;\r\n        e[1] = 0; e[5] = 1; e[9] = 0; e[13] = y;\r\n        e[2] = 0; e[6] = 0; e[10] = 1; e[14] = z;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for translation from the right.\r\n     * @param x The X value of a translation.\r\n     * @param y The Y value of a translation.\r\n     * @param z The Z value of a translation.\r\n     * @return this\r\n     */\r\n    public translate(x, y, z): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setTranslate(x, y, z));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for rotation.\r\n     * The vector of rotation axis may not be normalized.\r\n     * @param angle The angle of rotation (degrees)\r\n     * @param x The X coordinate of vector of rotation axis.\r\n     * @param y The Y coordinate of vector of rotation axis.\r\n     * @param z The Z coordinate of vector of rotation axis.\r\n     * @return this\r\n     */\r\n    @requireCheck(function(angle: number, x: number, y: number, z: number) {\r\n        it(\"axis's component shouldn't all be zero\", () => {\r\n            expect(x === 0 && y === 0 && z === 0).false;\r\n        });\r\n    })\r\n    public setRotate(angle: number, x: number, y: number, z: number): Matrix4 {\r\n        var e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;\r\n\r\n        var angle = Math.PI * angle / 180;\r\n        e = this.values;\r\n\r\n        s = Math.sin(angle);\r\n        c = Math.cos(angle);\r\n\r\n        if (0 !== x && 0 === y && 0 === z) {\r\n            // Rotation around X axis\r\n            if (x < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = 1; e[4] = 0; e[8] = 0; e[12] = 0;\r\n            e[1] = 0; e[5] = c; e[9] = -s; e[13] = 0;\r\n            e[2] = 0; e[6] = s; e[10] = c; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else if (0 === x && 0 !== y && 0 === z) {\r\n            // Rotation around Y axis\r\n            if (y < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = c; e[4] = 0; e[8] = s; e[12] = 0;\r\n            e[1] = 0; e[5] = 1; e[9] = 0; e[13] = 0;\r\n            e[2] = -s; e[6] = 0; e[10] = c; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else if (0 === x && 0 === y && 0 !== z) {\r\n            // Rotation around Z axis\r\n            if (z < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = c; e[4] = -s; e[8] = 0; e[12] = 0;\r\n            e[1] = s; e[5] = c; e[9] = 0; e[13] = 0;\r\n            e[2] = 0; e[6] = 0; e[10] = 1; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else {\r\n            // Rotation around another axis\r\n            len = Math.sqrt(x * x + y * y + z * z);\r\n            if (len !== 1) {\r\n                //转换为单位向量\r\n                rlen = 1 / len;\r\n                x *= rlen;\r\n                y *= rlen;\r\n                z *= rlen;\r\n            }\r\n\r\n            nc = 1 - c;\r\n            xy = x * y;\r\n            yz = y * z;\r\n            zx = z * x;\r\n            xs = x * s;\r\n            ys = y * s;\r\n            zs = z * s;\r\n\r\n            e[0] = x * x * nc + c;\r\n            e[1] = xy * nc + zs;\r\n            e[2] = zx * nc - ys;\r\n            e[3] = 0;\r\n\r\n            e[4] = xy * nc - zs;\r\n            e[5] = y * y * nc + c;\r\n            e[6] = yz * nc + xs;\r\n            e[7] = 0;\r\n\r\n            e[8] = zx * nc + ys;\r\n            e[9] = yz * nc - xs;\r\n            e[10] = z * z * nc + c;\r\n            e[11] = 0;\r\n\r\n            e[12] = 0;\r\n            e[13] = 0;\r\n            e[14] = 0;\r\n            e[15] = 1;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for rotation from the right.\r\n     * The vector of rotation axis may not be normalized.\r\n     * @param angle The angle of rotation (degrees)\r\n     * @param x The X coordinate of vector of rotation axis.\r\n     * @param y The Y coordinate of vector of rotation axis.\r\n     * @param z The Z coordinate of vector of rotation axis.\r\n     * @return this\r\n     */\r\n    public rotate(angle, vector3: Vector3): Matrix4;\r\n    public rotate(angle, x, y, z): Matrix4;\r\n\r\n    public rotate(...args): Matrix4 {\r\n        var angle = args[0];\r\n\r\n        if (args.length === 2) {\r\n            let vector3 = args[1];\r\n\r\n            this.applyMatrix(Matrix4.create().setRotate(angle, vector3.values[0], vector3.values[1], vector3.values[2]));\r\n        }\r\n        else if (args.length === 4) {\r\n            let x = args[1],\r\n                y = args[2],\r\n                z = args[3];\r\n\r\n            this.applyMatrix(Matrix4.create().setRotate(angle, x, y, z));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for scaling.\r\n     * @param x The scale factor along the X axis\r\n     * @param y The scale factor along the Y axis\r\n     * @param z The scale factor along the Z axis\r\n     * @return this\r\n     */\r\n    public setScale(x, y, z): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = x; e[4] = 0; e[8] = 0; e[12] = 0;\r\n        e[1] = 0; e[5] = y; e[9] = 0; e[13] = 0;\r\n        e[2] = 0; e[6] = 0; e[10] = z; e[14] = 0;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for scaling from the right.\r\n     * @param x The scale factor along the X axis\r\n     * @param y The scale factor along the Y axis\r\n     * @param z The scale factor along the Z axis\r\n     * @return this\r\n     */\r\n    public scale(x, y, z): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setScale(x, y, z));\r\n\r\n        return this;\r\n    }\r\n\r\n    public setLookAt(eye: Vector3, center: Vector3, up: Vector3): Matrix4;\r\n    public setLookAt(eyeX: number, eyeY: number, eyeZ: number, centerX: number, centerY: number, centerZ: number, upX: number, upY: number, upZ: number): Matrix4;\r\n\r\n    /**\r\n     * @function\r\n     * @name setLookAt\r\n     * @description Sets the specified matrix to a viewing matrix derived from an eye point, a target point\r\n     * and an up vector. The matrix maps the target point to the negative z-axis and the eye point to the\r\n     * origin, so that when you use a typical projection matrix, the center of the scene maps to the center\r\n     * of the viewport. Similarly, the direction described by the up vector projected onto the viewing plane\r\n     * is mapped to the positive y-axis so that it points upward in the viewport. The up vector must not be\r\n     * parallel to the line of sight from the eye to the reference point.\r\n     * @param {Vec3} position 3-d vector holding view position.\r\n     * @param {Vec3} target 3-d vector holding reference point.\r\n     * @param {Vec3} up 3-d vector holding the up direction.\r\n     * @returns {Mat4} Self for chaining.\r\n     */\r\n    public setLookAt(...args) {\r\n        var x, y, z,\r\n            eye, center, up;\r\n\r\n        if (args.length === 3) {\r\n            eye = args[0];\r\n            center = args[1];\r\n            up = args[2]\r\n        }\r\n        else if (args.length === 9) {\r\n            eye = Vector3.create(args[0], args[1], args[2]);\r\n            center = Vector3.create(args[3], args[4], args[5]);\r\n            up = Vector3.create(args[6], args[7], args[8]);\r\n        }\r\n        x = Vector3.create();\r\n\r\n        z = eye.clone().sub(center).normalize();\r\n\r\n        y = up.clone().normalize();\r\n        x.cross(y, z).normalize();\r\n        y.cross(z, x);\r\n\r\n        var r = this.values;\r\n\r\n        r[0] = x.x;\r\n        r[1] = x.y;\r\n        r[2] = x.z;\r\n        r[3] = 0;\r\n        r[4] = y.x;\r\n        r[5] = y.y;\r\n        r[6] = y.z;\r\n        r[7] = 0;\r\n        r[8] = z.x;\r\n        r[9] = z.y;\r\n        r[10] = z.z;\r\n        r[11] = 0;\r\n        r[12] = eye.x;\r\n        r[13] = eye.y;\r\n        r[14] = eye.z;\r\n        r[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the viewing matrix from the right.\r\n     * @param eyeX, eyeY, eyeZ The position of the eye point.\r\n     * @param centerX, centerY, centerZ The position of the reference point.\r\n     * @param upX, upY, upZ The direction of the up vector.\r\n     * @return this\r\n     */\r\n    public lookAt(eye: Vector3, center: Vector3, up: Vector3): Matrix4;\r\n    public lookAt(eyeX: number, eyeY: number, eyeZ: number, centerX: number, centerY: number, centerZ: number, upX: number, upY: number, upZ: number): Matrix4;\r\n\r\n    public lookAt(...args): Matrix4 {\r\n        var matrix = Matrix4.create();\r\n\r\n        this.applyMatrix(matrix.setLookAt.apply(matrix, args));\r\n\r\n        return this;\r\n    }\r\n\r\n    @requireCheck(function(left: number, right: number, bottom: number, top: number, near: number, far: number) {\r\n        assert(left !== right && bottom !== top && near !== far, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n    })\r\n    public setOrtho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\r\n        var e = this.values,\r\n            rw,\r\n            rh,\r\n            rd;\r\n\r\n        rw = 1 / (right - left);\r\n        rh = 1 / (top - bottom);\r\n        rd = 1 / (far - near);\r\n\r\n        e[0] = 2 * rw;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n        e[3] = 0;\r\n\r\n        e[4] = 0;\r\n        e[5] = 2 * rh;\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n\r\n        e[8] = 0;\r\n        e[9] = 0;\r\n        e[10] = -2 * rd;\r\n        e[11] = 0;\r\n\r\n        e[12] = -(right + left) * rw;\r\n        e[13] = -(top + bottom) * rh;\r\n        e[14] = -(far + near) * rd;\r\n        e[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    public ortho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setOrtho(left, right, bottom, top, near, far));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the perspective projection matrix by fovy and aspect.\r\n     * @param fovy The angle between the upper and lower sides of the frustum.\r\n     * @param aspect The aspect ratio of the frustum. (width/height)\r\n     * @param near The distances to the nearer depth clipping plane. This value must be plus value.\r\n     * @param far The distances to the farther depth clipping plane. This value must be plus value.\r\n     * @return this\r\n     */\r\n    @requireCheck(function(fovy: number, aspect: number, near: number, far: number) {\r\n        assert(near !== far && aspect !== 0, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n        assert(near > 0, Log.info.FUNC_MUST(\"near\", \"> 0\"));\r\n        assert(far > 0, Log.info.FUNC_MUST(\"far\", \"> 0\"));\r\n\r\n    })\r\n    public setPerspective(fovy: number, aspect: number, near: number, far: number): Matrix4 {\r\n        var e = null,\r\n            rd = null,\r\n            s = null,\r\n            ct = null,\r\n            fovy = Math.PI * fovy / 180 / 2;\r\n\r\n        s = Math.sin(fovy);\r\n        Log.error(s === 0, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n\r\n        rd = 1 / (far - near);\r\n        ct = Math.cos(fovy) / s;\r\n\r\n        e = this.values;\r\n\r\n        e[0] = ct / aspect;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n        e[3] = 0;\r\n\r\n        e[4] = 0;\r\n        e[5] = ct;\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n\r\n        e[8] = 0;\r\n        e[9] = 0;\r\n        e[10] = -(far + near) * rd;\r\n        e[11] = -1;\r\n\r\n        e[12] = 0;\r\n        e[13] = 0;\r\n        e[14] = -2 * near * far * rd;\r\n        e[15] = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    public perspective(fovy: number, aspect: number, near: number, far: number): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setPerspective(fovy, aspect, near, far));\r\n\r\n        return this;\r\n    }\r\n\r\n    public applyMatrix(other: Matrix4, notChangeSelf: boolean = false): Matrix4 {\r\n        var a = this,\r\n            //todo optimize:use temp matrix4\r\n            b = other.clone();\r\n\r\n        /*!\r\n         b*a，而不是a*b\r\n         这是因为在webgl中，向量是右乘的，\r\n         此处希望坐标向量先进行this.values的变换，然后进行other.values的变换，因此要b*a，从而在右乘向量时为b*a*vec\r\n         */\r\n\r\n        if (notChangeSelf) {\r\n            return b.multiply(a);\r\n        }\r\n\r\n        this.values = b.multiply(a).values;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiply(matrix: Matrix4): Matrix4;\r\n    public multiply(matrix1: Matrix4, matrix2: Matrix4): Matrix4;\r\n\r\n    public multiply(...args): Matrix4 {\r\n        var mat1 = null,\r\n            mat2 = null,\r\n            result = null;\r\n\r\n        result = this.values;\r\n\r\n        if (args.length === 1) {\r\n            mat1 = this.values;\r\n            mat2 = args[0].values;\r\n        }\r\n        else if (args.length === 2) {\r\n            mat1 = args[0].values;\r\n            mat2 = args[1].values;\r\n\r\n        }\r\n\r\n        var a = mat1[0], b = mat1[1], c = mat1[2], d = mat1[3],\r\n            e = mat1[4], f = mat1[5], g = mat1[6], h = mat1[7],\r\n            i = mat1[8], j = mat1[9], k = mat1[10], l = mat1[11],\r\n            m = mat1[12], n = mat1[13], o = mat1[14], p = mat1[15],\r\n            A = mat2[0], B = mat2[1], C = mat2[2], D = mat2[3],\r\n            E = mat2[4], F = mat2[5], G = mat2[6], H = mat2[7],\r\n            I = mat2[8], J = mat2[9], K = mat2[10], L = mat2[11],\r\n            M = mat2[12], N = mat2[13], O = mat2[14], P = mat2[15];\r\n\r\n        result[0] = A * a + B * e + C * i + D * m;\r\n        result[1] = A * b + B * f + C * j + D * n;\r\n        result[2] = A * c + B * g + C * k + D * o;\r\n        result[3] = A * d + B * h + C * l + D * p;\r\n        result[4] = E * a + F * e + G * i + H * m;\r\n        result[5] = E * b + F * f + G * j + H * n;\r\n        result[6] = E * c + F * g + G * k + H * o;\r\n        result[7] = E * d + F * h + G * l + H * p;\r\n        result[8] = I * a + J * e + K * i + L * m;\r\n        result[9] = I * b + J * f + K * j + L * n;\r\n        result[10] = I * c + J * g + K * k + L * o;\r\n        result[11] = I * d + J * h + K * l + L * p;\r\n        result[12] = M * a + N * e + O * i + P * m;\r\n        result[13] = M * b + N * f + O * j + P * n;\r\n        result[14] = M * c + N * g + O * k + P * o;\r\n        result[15] = M * d + N * h + O * l + P * p;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyVector4(vector: Vector4): Vector4 {\r\n        var mat1 = this.values,\r\n            vec4 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec4[0] * mat1[0] + vec4[1] * mat1[4] + vec4[2] * mat1[8] + vec4[3] * mat1[12];\r\n        result[1] = vec4[0] * mat1[1] + vec4[1] * mat1[5] + vec4[2] * mat1[9] + vec4[3] * mat1[13];\r\n        result[2] = vec4[0] * mat1[2] + vec4[1] * mat1[6] + vec4[2] * mat1[10] + vec4[3] * mat1[14];\r\n        result[3] = vec4[0] * mat1[3] + vec4[1] * mat1[7] + vec4[2] * mat1[11] + vec4[3] * mat1[15];\r\n\r\n        return Vector4.create(result[0], result[1], result[2], result[3]);\r\n    }\r\n\r\n    public multiplyVector3(vector: Vector3): Vector3 {\r\n        var mat1 = this.values,\r\n            vec3 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8];\r\n        result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9];\r\n        result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10];\r\n\r\n        return Vector3.create(result[0], result[1], result[2]);\r\n    }\r\n\r\n    public multiplyPoint(vector: Vector3): Vector3 {\r\n        var mat1 = this.values,\r\n            vec3 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8] + mat1[12];\r\n        result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9] + mat1[13];\r\n        result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10] + mat1[14];\r\n\r\n        return Vector3.create(result[0], result[1], result[2]);\r\n    }\r\n\r\n    public clone(): Matrix4 {\r\n        var result = Matrix4.create(),\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n\r\n        return result;\r\n    }\r\n\r\n    public cloneToArray(array: Float32Array, offset: number = 0): Matrix4 {\r\n        var values = this.values;\r\n\r\n        for (let index = 0; index < 16; index++) {\r\n            array[offset + index] = values[index];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public getX() {\r\n        return Vector3.create(this.values[0], this.values[1], this.values[2]);\r\n    }\r\n\r\n    public getY() {\r\n        return Vector3.create(this.values[4], this.values[5], this.values[6]);\r\n    }\r\n\r\n    public getZ() {\r\n        return Vector3.create(this.values[8], this.values[9], this.values[10]);\r\n    }\r\n\r\n    public getTranslation() {\r\n        return Vector3.create(this.values[12], this.values[13], this.values[14]);\r\n    }\r\n\r\n    public getScale() {\r\n        return Vector3.create(this.getX().length(), this.getY().length(), this.getZ().length());\r\n    }\r\n\r\n    public getRotation() {\r\n        //return Quaternion.create().setFromEulerAngles(this.getEulerAngles());\r\n        return Quaternion.create().setFromMatrix(this);\r\n    }\r\n\r\n    public getEulerAngles() {\r\n        var x, y, z, sx, sy, sz, m, halfPi;\r\n        var scale = this.getScale();\r\n\r\n        sx = scale.x;\r\n        sy = scale.y;\r\n        sz = scale.z;\r\n\r\n        m = this.values;\r\n\r\n        y = Math.asin(-m[2] / sx);\r\n        halfPi = Math.PI * 0.5;\r\n\r\n        if (y < halfPi) {\r\n            if (y > -halfPi) {\r\n                x = Math.atan2(m[6] / sy, m[10] / sz);\r\n                z = Math.atan2(m[1] / sx, m[0] / sx);\r\n            } else {\r\n                // Not a unique solution\r\n                z = 0;\r\n                x = -Math.atan2(m[4] / sy, m[5] / sy);\r\n            }\r\n        } else {\r\n            // Not a unique solution\r\n            z = 0;\r\n            x = Math.atan2(m[4] / sy, m[5] / sy);\r\n        }\r\n\r\n        return Vector3.create(x, y, z).scale(RAD_TO_DEG);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setTRS\r\n     * @description Sets the specified matrix to the concatenation of a translation, a\r\n     * quaternion rotation and a scale.\r\n     * @param {Vec3} t A 3-d vector translation.\r\n     * @param {Quat} r A quaternion rotation.\r\n     * @param {Vec3} s A 3-d vector scale.\r\n     * @returns {Mat4} Self for chaining.\r\n     * @example\r\n     * var t = new Vec3(10, 20, 30);\r\n     * var r = new Quat();\r\n     * var s = new Vec3(2, 2, 2);\r\n     *\r\n     * var m = new Mat4();\r\n     * m.setTRS(t, r, s);\r\n     */\r\n    public setTRS(t: Vector3, r: Quaternion, s: Vector3) {\r\n        var tx, ty, tz, qx, qy, qz, qw, sx, sy, sz,\r\n            x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;\r\n\r\n        tx = t.x;\r\n        ty = t.y;\r\n        tz = t.z;\r\n\r\n        qx = r.x;\r\n        qy = r.y;\r\n        qz = r.z;\r\n        qw = r.w;\r\n\r\n        sx = s.x;\r\n        sy = s.y;\r\n        sz = s.z;\r\n\r\n        x2 = qx + qx;\r\n        y2 = qy + qy;\r\n        z2 = qz + qz;\r\n        xx = qx * x2;\r\n        xy = qx * y2;\r\n        xz = qx * z2;\r\n        yy = qy * y2;\r\n        yz = qy * z2;\r\n        zz = qz * z2;\r\n        wx = qw * x2;\r\n        wy = qw * y2;\r\n        wz = qw * z2;\r\n\r\n        m = this.values;\r\n\r\n        m[0] = (1 - (yy + zz)) * sx;\r\n        m[1] = (xy + wz) * sx;\r\n        m[2] = (xz - wy) * sx;\r\n        m[3] = 0;\r\n\r\n        m[4] = (xy - wz) * sy;\r\n        m[5] = (1 - (xx + zz)) * sy;\r\n        m[6] = (yz + wx) * sy;\r\n        m[7] = 0;\r\n\r\n        m[8] = (xz + wy) * sz;\r\n        m[9] = (yz - wx) * sz;\r\n        m[10] = (1 - (xx + yy)) * sz;\r\n        m[11] = 0;\r\n\r\n        m[12] = tx;\r\n        m[13] = ty;\r\n        m[14] = tz;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n}","import { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { addToDirtyList } from \"./CameraControllerSystem\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { setPMatrix } from \"./CameraSystem\";\r\n\r\nexport var updateProjectionMatrix = requireCheckFunc((index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    it(\"fovy should exist\", () => {\r\n        expect(isValidMapValue(PerspectiveCameraData.fovyMap[index])).true;\r\n    });\r\n    it(\"aspect should exist\", () => {\r\n        expect(isValidMapValue(PerspectiveCameraData.aspectMap[index])).true;\r\n    });\r\n    it(\"near should exist\", () => {\r\n        expect(isValidMapValue(CameraData.nearMap[index])).true;\r\n    });\r\n    it(\"far should exist\", () => {\r\n        expect(isValidMapValue(CameraData.farMap[index])).true;\r\n    });\r\n}, (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    setPMatrix(index, _getOrCreatePMatrix(index, CameraData).setPerspective(PerspectiveCameraData.fovyMap[index], PerspectiveCameraData.aspectMap[index], CameraData.nearMap[index], CameraData.farMap[index]), CameraData);\r\n})\r\n\r\nvar _getOrCreatePMatrix = (index: number, CameraData: any) => {\r\n    var mat = CameraData.pMatrixMap[index];\r\n\r\n    if (isValidMapValue(mat)) {\r\n        return mat;\r\n    }\r\n\r\n    return Matrix4.create();\r\n}\r\n\r\nexport var getFovy = (index: number, PerspectiveCameraData: any) => {\r\n    return PerspectiveCameraData.fovyMap[index];\r\n}\r\n\r\nexport var setFovy = (index: number, fovy: number, PerspectiveCameraData: any, CameraControllerData: any) => {\r\n    PerspectiveCameraData.fovyMap[index] = fovy;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var getAspect = (index: number, PerspectiveCameraData: any) => {\r\n    return PerspectiveCameraData.aspectMap[index];\r\n}\r\n\r\nexport var setAspect = (index: number, aspect: number, PerspectiveCameraData: any, CameraControllerData: any) => {\r\n    PerspectiveCameraData.aspectMap[index] = aspect;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var dispose = (index: number, PerspectiveCameraData: any) => {\r\n    deleteVal(index, PerspectiveCameraData.fovyMap);\r\n    deleteVal(index, PerspectiveCameraData.aspectMap);\r\n}\r\n\r\nexport var initData = (PerspectiveCameraData: any) => {\r\n    PerspectiveCameraData.fovyMap = createMap();\r\n    PerspectiveCameraData.aspectMap = createMap();\r\n}\r\n","import { GameObject } from \"./GameObject\";\r\nimport { Component } from \"../../../component/Component\";\r\n\r\nexport class GameObjectData {\r\n    public static uid: number = null;\r\n    public static disposeCount: number = null;\r\n\r\n    // public static isAliveMap:GameObjectIsAliveMap = null;\r\n\r\n    public static componentMap: GameObjectComponentMap = null;\r\n    public static parentMap: GameObjectParentMap = null;\r\n    public static childrenMap: GameObjectChildrenMap = null;\r\n\r\n    public static aliveUIDArray: Array<number> = null;\r\n\r\n    //todo add name map\r\n}\r\n\r\n// export type GameObjectIsAliveMap = Map<number, boolean>;\r\n\r\nexport type GameObjectComponentMap = {\r\n    [uid: number]: GameObjectComponentData\r\n}\r\n\r\nexport type GameObjectComponentData = {\r\n    [typeId: number]: Component;\r\n}\r\n\r\nexport type GameObjectParentMap = {\r\n    [uid: number]: GameObject\r\n}\r\n\r\nexport type GameObjectChildrenMap = {\r\n    [uid: number]: Array<GameObject>\r\n}\r\n\r\nexport type GameObjectUIDMap = {\r\n    [uid: number]: boolean;\r\n}\r\n","export const DataBufferConfig = {\r\n    //20k\r\n    transformDataBufferCount: 20 * 1000,\r\n    //1000k vertices\r\n    geometryDataBufferCount: 1000 * 1000,\r\n\r\n    //20k\r\n    materialDataBufferCount: 20 * 1000,\r\n\r\n    renderCommandBufferCount: 10 * 1024,\r\n\r\n\r\n    //16 or 32\r\n    geometryIndicesBufferBits: 16\r\n};\r\n\r\n","import { DataBufferConfig } from \"../../config/DataBufferConfig\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { LinkList } from \"./LinkList\";\r\nimport { Quaternion } from \"../../math/Quaternion\";\r\n\r\nexport class ThreeDTransformData {\r\n    static get maxCount() {\r\n        return DataBufferConfig.transformDataBufferCount;\r\n    }\r\n\r\n    public static localToWorldMatrices: Float32Array = null;\r\n    public static localPositions: Float32Array = null;\r\n    public static localRotations: Float32Array = null;\r\n    public static localScales: Float32Array = null;\r\n\r\n    public static defaultPosition: Vector3 = null;\r\n    public static defaultRotation: Quaternion = null;\r\n    public static defaultScale: Vector3 = null;\r\n    public static defaultLocalToWorldMatrice: Matrix4 = null;\r\n\r\n    public static firstDirtyIndex: number = null;\r\n    public static indexInArrayBuffer: number = null;\r\n    public static notUsedIndexLinkList: LinkList<number> = null;\r\n\r\n    public static isTranslateMap = null;\r\n\r\n    public static parentMap: ThreeDTransformParentMap = null;\r\n    public static childrenMap: ThreeDTransformChildrenMap = null;\r\n\r\n    public static cacheMap: ThreeDTransformCacheMap = null;\r\n\r\n    public static tempMap: ThreeDTransformTempMap = null;\r\n\r\n    public static transformMap: TransformMap = null;\r\n\r\n    public static count: number = null;\r\n\r\n    public static uid: number = null;\r\n    public static disposeCount: number = null;\r\n    public static isClearCacheMap: boolean = null;\r\n\r\n    public static gameObjectMap: ThreeDTransformGameObjectMap = null;\r\n\r\n    public static aliveUIDArray: Array<number> = null;\r\n\r\n    public static buffer: ArrayBuffer = null;\r\n}\r\n\r\nexport class ThreeDTransformRelationData {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    public indexInArrayBuffer: number = null;\r\n    public parent: ThreeDTransformRelationData = null;\r\n    public children: Array<ThreeDTransformRelationData> = null;\r\n}\r\n\r\nexport type ThreeDTransformParentMap = {\r\n    [uid: number]: ThreeDTransform\r\n}\r\n\r\nexport type ThreeDTransformChildrenMap = {\r\n    [uid: number]: Array<ThreeDTransform>\r\n}\r\n\r\nexport type ThreeDTransformGameObjectMap = Map<number, GameObject>\r\n\r\nexport type TransformMap = {\r\n    [index: number]: ThreeDTransform\r\n}\r\n\r\nexport type ThreeDTransformCacheMap = {\r\n    [uid: number]: ThreeDTransformCacheData\r\n}\r\n\r\nexport type ThreeDTransformCacheData = {\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n    localToWorldMatrix: Matrix4;\r\n}\r\n\r\nexport type ThreeDTransformTempMap = {\r\n    [uid: number]: ThreeDTransformTempData\r\n}\r\n\r\nexport type ThreeDTransformTempData = {\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n    localToWorldMatrix: Matrix4;\r\n}\r\n\r\nexport type ThreeDTransformPositionMap = {\r\n    [uid: number]: Vector3\r\n}\r\n\r\nexport type ThreeDTransformLocalPositionMap = {\r\n    [uid: number]: Vector3\r\n}\r\n\r\nexport type ThreeDTransformLocalToWorldMatrixMap = {\r\n    [uid: number]: Matrix4\r\n}\r\n","import { Matrix4 } from \"../math/Matrix4\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\n\r\nexport class GlobalTempData {\r\n    public static matrix4_1 = Matrix4.create();\r\n    public static matrix4_2 = Matrix4.create();\r\n    public static matrix4_3 = Matrix4.create();\r\n    public static vector3_1 = Vector3.create();\r\n    public static vector3_2 = Vector3.create();\r\n    public static vector3_3 = Vector3.create();\r\n    public static vector3_4 = Vector3.create();\r\n    public static quaternion_1 = Quaternion.create();\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { ThreeDTransformData } from \"./ThreeDTransformData\";\r\nimport {\r\n    checkShouldAlive,\r\n    create, getGameObject,\r\n    getLocalPosition, getLocalToWorldMatrix, getPosition, getTempLocalToWorldMatrix, setBatchDatas,\r\n    setLocalPosition,\r\n    setParent,\r\n    setPosition\r\n} from \"./ThreeDTransformSystem\";\r\nimport { getParent } from \"./ThreeDTransformSystem\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\nimport { Component } from \"../Component\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\n@registerClass(\"ThreeDTransform\")\r\nexport class ThreeDTransform extends Component implements IThreeDTransform {\r\n    public uid: number = null;\r\n}\r\n\r\nexport interface IThreeDTransform {\r\n    index: number;\r\n    uid: number;\r\n}\r\n\r\nexport interface BatchTransformData {\r\n    // uid:number;\r\n    // index:number;\r\n    transform: ThreeDTransform,\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n}\r\n\r\n\r\nexport var createThreeDTransform = () => {\r\n    return create(ThreeDTransformData);\r\n}\r\n\r\nexport var getThreeDTransformPosition = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getPosition(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformPosition = requireCheckFunc((component: ThreeDTransform, position: Vector3) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, position: Vector3) => {\r\n    setPosition(component, position, GlobalTempData, ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformLocalToWorldMatrix = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getLocalToWorldMatrix(component, getTempLocalToWorldMatrix(component, ThreeDTransformData), ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformLocalPosition = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getLocalPosition(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformLocalPosition = requireCheckFunc((component: ThreeDTransform, localPosition: Vector3) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, localPosition: Vector3) => {\r\n    setLocalPosition(component, localPosition, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformBatchTransformDatas = (batchData: Array<BatchTransformData>) => {\r\n    setBatchDatas(batchData, GlobalTempData, ThreeDTransformData);\r\n}\r\n\r\nexport var getThreeDTransformParent = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getParent(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformParent = requireCheckFunc((component: ThreeDTransform, parent: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, parent: ThreeDTransform) => {\r\n    setParent(component, parent, ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformGameObject = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getGameObject(component.uid, ThreeDTransformData);\r\n})\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(value) {\n    return value;\n}\nexports.default = identity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nexports.default = freeGlobal;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _freeGlobal_js_1 = require(\"./_freeGlobal.js\");\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\nvar root = _freeGlobal_js_1.default || freeSelf || Function('return this')();\nexports.default = root;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _root_js_1 = require(\"./_root.js\");\nvar Symbol = _root_js_1.default.Symbol;\nexports.default = Symbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar nativeObjectToString = objectProto.toString;\nvar symToStringTag = _Symbol_js_1.default ? _Symbol_js_1.default.toStringTag : undefined;\nfunction getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n    try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n    }\n    catch (e) { }\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n            value[symToStringTag] = tag;\n        }\n        else {\n            delete value[symToStringTag];\n        }\n    }\n    return result;\n}\nexports.default = getRawTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar objectProto = Object.prototype;\nvar nativeObjectToString = objectProto.toString;\nfunction objectToString(value) {\n    return nativeObjectToString.call(value);\n}\nexports.default = objectToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar _getRawTag_js_1 = require(\"./_getRawTag.js\");\nvar _objectToString_js_1 = require(\"./_objectToString.js\");\nvar nullTag = '[object Null]', undefinedTag = '[object Undefined]';\nvar symToStringTag = _Symbol_js_1.default ? _Symbol_js_1.default.toStringTag : undefined;\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return (symToStringTag && symToStringTag in Object(value))\n        ? _getRawTag_js_1.default(value)\n        : _objectToString_js_1.default(value);\n}\nexports.default = baseGetTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n}\nexports.default = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nvar asyncTag = '[object AsyncFunction]', funcTag = '[object Function]', genTag = '[object GeneratorFunction]', proxyTag = '[object Proxy]';\nfunction isFunction(value) {\n    if (!isObject_js_1.default(value)) {\n        return false;\n    }\n    var tag = _baseGetTag_js_1.default(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nexports.default = isFunction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _root_js_1 = require(\"./_root.js\");\nvar coreJsData = _root_js_1.default['__core-js_shared__'];\nexports.default = coreJsData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _coreJsData_js_1 = require(\"./_coreJsData.js\");\nvar maskSrcKey = (function () {\n    var uid = /[^.]+$/.exec(_coreJsData_js_1.default && _coreJsData_js_1.default.keys && _coreJsData_js_1.default.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\nfunction isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n}\nexports.default = isMasked;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar funcProto = Function.prototype;\nvar funcToString = funcProto.toString;\nfunction toSource(func) {\n    if (func != null) {\n        try {\n            return funcToString.call(func);\n        }\n        catch (e) { }\n        try {\n            return (func + '');\n        }\n        catch (e) { }\n    }\n    return '';\n}\nexports.default = toSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_js_1 = require(\"./isFunction.js\");\nvar _isMasked_js_1 = require(\"./_isMasked.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nvar _toSource_js_1 = require(\"./_toSource.js\");\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto = Function.prototype, objectProto = Object.prototype;\nvar funcToString = funcProto.toString;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n        .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\nfunction baseIsNative(value) {\n    if (!isObject_js_1.default(value) || _isMasked_js_1.default(value)) {\n        return false;\n    }\n    var pattern = isFunction_js_1.default(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(_toSource_js_1.default(value));\n}\nexports.default = baseIsNative;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getValue(object, key) {\n    return object == null ? undefined : object[key];\n}\nexports.default = getValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIsNative_js_1 = require(\"./_baseIsNative.js\");\nvar _getValue_js_1 = require(\"./_getValue.js\");\nfunction getNative(object, key) {\n    var value = _getValue_js_1.default(object, key);\n    return _baseIsNative_js_1.default(value) ? value : undefined;\n}\nexports.default = getNative;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getNative_js_1 = require(\"./_getNative.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WeakMap = _getNative_js_1.default(_root_js_1.default, 'WeakMap');\nexports.default = WeakMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _WeakMap_js_1 = require(\"./_WeakMap.js\");\nvar metaMap = _WeakMap_js_1.default && new _WeakMap_js_1.default;\nexports.default = metaMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_js_1 = require(\"./identity.js\");\nvar _metaMap_js_1 = require(\"./_metaMap.js\");\nvar baseSetData = !_metaMap_js_1.default ? identity_js_1.default : function (func, data) {\n    _metaMap_js_1.default.set(func, data);\n    return func;\n};\nexports.default = baseSetData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObject_js_1 = require(\"./isObject.js\");\nvar objectCreate = Object.create;\nvar baseCreate = (function () {\n    function object() { }\n    return function (proto) {\n        if (!isObject_js_1.default(proto)) {\n            return {};\n        }\n        if (objectCreate) {\n            return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n    };\n}());\nexports.default = baseCreate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nfunction createCtor(Ctor) {\n    return function () {\n        var args = arguments;\n        switch (args.length) {\n            case 0: return new Ctor;\n            case 1: return new Ctor(args[0]);\n            case 2: return new Ctor(args[0], args[1]);\n            case 3: return new Ctor(args[0], args[1], args[2]);\n            case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n            case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n            case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n            case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = _baseCreate_js_1.default(Ctor.prototype), result = Ctor.apply(thisBinding, args);\n        return isObject_js_1.default(result) ? result : thisBinding;\n    };\n}\nexports.default = createCtor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1;\nfunction createBind(func, bitmask, thisArg) {\n    var isBind = bitmask & WRAP_BIND_FLAG, Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n    }\n    return wrapper;\n}\nexports.default = createBind;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction apply(func, thisArg, args) {\n    switch (args.length) {\n        case 0: return func.call(thisArg);\n        case 1: return func.call(thisArg, args[0]);\n        case 2: return func.call(thisArg, args[0], args[1]);\n        case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n}\nexports.default = apply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nativeMax = Math.max;\nfunction composeArgs(args, partials, holders, isCurried) {\n    var argsIndex = -1, argsLength = args.length, holdersLength = holders.length, leftIndex = -1, leftLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array(leftLength + rangeLength), isUncurried = !isCurried;\n    while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n    }\n    while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n            result[holders[argsIndex]] = args[argsIndex];\n        }\n    }\n    while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n    }\n    return result;\n}\nexports.default = composeArgs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nativeMax = Math.max;\nfunction composeArgsRight(args, partials, holders, isCurried) {\n    var argsIndex = -1, argsLength = args.length, holdersIndex = -1, holdersLength = holders.length, rightIndex = -1, rightLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array(rangeLength + rightLength), isUncurried = !isCurried;\n    while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n    }\n    var offset = argsIndex;\n    while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n    }\n    while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n            result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n    }\n    return result;\n}\nexports.default = composeArgsRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction countHolders(array, placeholder) {\n    var length = array.length, result = 0;\n    while (length--) {\n        if (array[length] === placeholder) {\n            ++result;\n        }\n    }\n    return result;\n}\nexports.default = countHolders;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseLodash() {\n}\nexports.default = baseLodash;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nvar MAX_ARRAY_LENGTH = 4294967295;\nfunction LazyWrapper(value) {\n    this.__wrapped__ = value;\n    this.__actions__ = [];\n    this.__dir__ = 1;\n    this.__filtered__ = false;\n    this.__iteratees__ = [];\n    this.__takeCount__ = MAX_ARRAY_LENGTH;\n    this.__views__ = [];\n}\nLazyWrapper.prototype = _baseCreate_js_1.default(_baseLodash_js_1.default.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\nexports.default = LazyWrapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction noop() {\n}\nexports.default = noop;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _metaMap_js_1 = require(\"./_metaMap.js\");\nvar noop_js_1 = require(\"./noop.js\");\nvar getData = !_metaMap_js_1.default ? noop_js_1.default : function (func) {\n    return _metaMap_js_1.default.get(func);\n};\nexports.default = getData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar realNames = {};\nexports.default = realNames;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _realNames_js_1 = require(\"./_realNames.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nfunction getFuncName(func) {\n    var result = (func.name + ''), array = _realNames_js_1.default[result], length = hasOwnProperty.call(_realNames_js_1.default, result) ? array.length : 0;\n    while (length--) {\n        var data = array[length], otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n            return data.name;\n        }\n    }\n    return result;\n}\nexports.default = getFuncName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nfunction LodashWrapper(value, chainAll) {\n    this.__wrapped__ = value;\n    this.__actions__ = [];\n    this.__chain__ = !!chainAll;\n    this.__index__ = 0;\n    this.__values__ = undefined;\n}\nLodashWrapper.prototype = _baseCreate_js_1.default(_baseLodash_js_1.default.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\nexports.default = LodashWrapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray = Array.isArray;\nexports.default = isArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObjectLike(value) {\n    return value != null && typeof value == 'object';\n}\nexports.default = isObjectLike;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction copyArray(source, array) {\n    var index = -1, length = source.length;\n    array || (array = Array(length));\n    while (++index < length) {\n        array[index] = source[index];\n    }\n    return array;\n}\nexports.default = copyArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _copyArray_js_1 = require(\"./_copyArray.js\");\nfunction wrapperClone(wrapper) {\n    if (wrapper instanceof _LazyWrapper_js_1.default) {\n        return wrapper.clone();\n    }\n    var result = new _LodashWrapper_js_1.default(wrapper.__wrapped__, wrapper.__chain__);\n    result.__actions__ = _copyArray_js_1.default(wrapper.__actions__);\n    result.__index__ = wrapper.__index__;\n    result.__values__ = wrapper.__values__;\n    return result;\n}\nexports.default = wrapperClone;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar _wrapperClone_js_1 = require(\"./_wrapperClone.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nfunction lodash(value) {\n    if (isObjectLike_js_1.default(value) && !isArray_js_1.default(value) && !(value instanceof _LazyWrapper_js_1.default)) {\n        if (value instanceof _LodashWrapper_js_1.default) {\n            return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n            return _wrapperClone_js_1.default(value);\n        }\n    }\n    return new _LodashWrapper_js_1.default(value);\n}\nlodash.prototype = _baseLodash_js_1.default.prototype;\nlodash.prototype.constructor = lodash;\nexports.default = lodash;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _getFuncName_js_1 = require(\"./_getFuncName.js\");\nvar wrapperLodash_js_1 = require(\"./wrapperLodash.js\");\nfunction isLaziable(func) {\n    var funcName = _getFuncName_js_1.default(func), other = wrapperLodash_js_1.default[funcName];\n    if (typeof other != 'function' || !(funcName in _LazyWrapper_js_1.default.prototype)) {\n        return false;\n    }\n    if (func === other) {\n        return true;\n    }\n    var data = _getData_js_1.default(other);\n    return !!data && func === data[0];\n}\nexports.default = isLaziable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HOT_COUNT = 800, HOT_SPAN = 16;\nvar nativeNow = Date.now;\nfunction shortOut(func) {\n    var count = 0, lastCalled = 0;\n    return function () {\n        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n        if (remaining > 0) {\n            if (++count >= HOT_COUNT) {\n                return arguments[0];\n            }\n        }\n        else {\n            count = 0;\n        }\n        return func.apply(undefined, arguments);\n    };\n}\nexports.default = shortOut;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetData_js_1 = require(\"./_baseSetData.js\");\nvar _shortOut_js_1 = require(\"./_shortOut.js\");\nvar setData = _shortOut_js_1.default(_baseSetData_js_1.default);\nexports.default = setData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/, reSplitDetails = /,? & /;\nfunction getWrapDetails(source) {\n    var match = source.match(reWrapDetails);\n    return match ? match[1].split(reSplitDetails) : [];\n}\nexports.default = getWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\nfunction insertWrapDetails(source, details) {\n    var length = details.length;\n    if (!length) {\n        return source;\n    }\n    var lastIndex = length - 1;\n    details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n    details = details.join(length > 2 ? ', ' : ' ');\n    return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\nexports.default = insertWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction constant(value) {\n    return function () {\n        return value;\n    };\n}\nexports.default = constant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getNative_js_1 = require(\"./_getNative.js\");\nvar defineProperty = (function () {\n    try {\n        var func = _getNative_js_1.default(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n    }\n    catch (e) { }\n}());\nexports.default = defineProperty;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constant_js_1 = require(\"./constant.js\");\nvar _defineProperty_js_1 = require(\"./_defineProperty.js\");\nvar identity_js_1 = require(\"./identity.js\");\nvar baseSetToString = !_defineProperty_js_1.default ? identity_js_1.default : function (func, string) {\n    return _defineProperty_js_1.default(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant_js_1.default(string),\n        'writable': true\n    });\n};\nexports.default = baseSetToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetToString_js_1 = require(\"./_baseSetToString.js\");\nvar _shortOut_js_1 = require(\"./_shortOut.js\");\nvar setToString = _shortOut_js_1.default(_baseSetToString_js_1.default);\nexports.default = setToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayEach(array, iteratee) {\n    var index = -1, length = array == null ? 0 : array.length;\n    while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n            break;\n        }\n    }\n    return array;\n}\nexports.default = arrayEach;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length, index = fromIndex + (fromRight ? 1 : -1);\n    while ((fromRight ? index-- : ++index < length)) {\n        if (predicate(array[index], index, array)) {\n            return index;\n        }\n    }\n    return -1;\n}\nexports.default = baseFindIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseIsNaN(value) {\n    return value !== value;\n}\nexports.default = baseIsNaN;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1, length = array.length;\n    while (++index < length) {\n        if (array[index] === value) {\n            return index;\n        }\n    }\n    return -1;\n}\nexports.default = strictIndexOf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseFindIndex_js_1 = require(\"./_baseFindIndex.js\");\nvar _baseIsNaN_js_1 = require(\"./_baseIsNaN.js\");\nvar _strictIndexOf_js_1 = require(\"./_strictIndexOf.js\");\nfunction baseIndexOf(array, value, fromIndex) {\n    return value === value\n        ? _strictIndexOf_js_1.default(array, value, fromIndex)\n        : _baseFindIndex_js_1.default(array, _baseIsNaN_js_1.default, fromIndex);\n}\nexports.default = baseIndexOf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIndexOf_js_1 = require(\"./_baseIndexOf.js\");\nfunction arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && _baseIndexOf_js_1.default(array, value, 0) > -1;\n}\nexports.default = arrayIncludes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _arrayEach_js_1 = require(\"./_arrayEach.js\");\nvar _arrayIncludes_js_1 = require(\"./_arrayIncludes.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256, WRAP_FLIP_FLAG = 512;\nvar wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n];\nfunction updateWrapDetails(details, bitmask) {\n    _arrayEach_js_1.default(wrapFlags, function (pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !_arrayIncludes_js_1.default(details, value)) {\n            details.push(value);\n        }\n    });\n    return details.sort();\n}\nexports.default = updateWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getWrapDetails_js_1 = require(\"./_getWrapDetails.js\");\nvar _insertWrapDetails_js_1 = require(\"./_insertWrapDetails.js\");\nvar _setToString_js_1 = require(\"./_setToString.js\");\nvar _updateWrapDetails_js_1 = require(\"./_updateWrapDetails.js\");\nfunction setWrapToString(wrapper, reference, bitmask) {\n    var source = (reference + '');\n    return _setToString_js_1.default(wrapper, _insertWrapDetails_js_1.default(source, _updateWrapDetails_js_1.default(_getWrapDetails_js_1.default(source), bitmask)));\n}\nexports.default = setWrapToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _isLaziable_js_1 = require(\"./_isLaziable.js\");\nvar _setData_js_1 = require(\"./_setData.js\");\nvar _setWrapToString_js_1 = require(\"./_setWrapToString.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64;\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n    var isCurry = bitmask & WRAP_CURRY_FLAG, newHolders = isCurry ? holders : undefined, newHoldersRight = isCurry ? undefined : holders, newPartials = isCurry ? partials : undefined, newPartialsRight = isCurry ? undefined : partials;\n    bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n    bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n    if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n    }\n    var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n    ];\n    var result = wrapFunc.apply(undefined, newData);\n    if (_isLaziable_js_1.default(func)) {\n        _setData_js_1.default(result, newData);\n    }\n    result.placeholder = placeholder;\n    return _setWrapToString_js_1.default(result, func, bitmask);\n}\nexports.default = createRecurry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getHolder(func) {\n    var object = func;\n    return object.placeholder;\n}\nexports.default = getHolder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MAX_SAFE_INTEGER = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n        (typeof value == 'number' || reIsUint.test(value)) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\nexports.default = isIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _copyArray_js_1 = require(\"./_copyArray.js\");\nvar _isIndex_js_1 = require(\"./_isIndex.js\");\nvar nativeMin = Math.min;\nfunction reorder(array, indexes) {\n    var arrLength = array.length, length = nativeMin(indexes.length, arrLength), oldArray = _copyArray_js_1.default(array);\n    while (length--) {\n        var index = indexes[length];\n        array[length] = _isIndex_js_1.default(index, arrLength) ? oldArray[index] : undefined;\n    }\n    return array;\n}\nexports.default = reorder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PLACEHOLDER = '__lodash_placeholder__';\nfunction replaceHolders(array, placeholder) {\n    var index = -1, length = array.length, resIndex = 0, result = [];\n    while (++index < length) {\n        var value = array[index];\n        if (value === placeholder || value === PLACEHOLDER) {\n            array[index] = PLACEHOLDER;\n            result[resIndex++] = index;\n        }\n    }\n    return result;\n}\nexports.default = replaceHolders;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _composeArgs_js_1 = require(\"./_composeArgs.js\");\nvar _composeArgsRight_js_1 = require(\"./_composeArgsRight.js\");\nvar _countHolders_js_1 = require(\"./_countHolders.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _createRecurry_js_1 = require(\"./_createRecurry.js\");\nvar _getHolder_js_1 = require(\"./_getHolder.js\");\nvar _reorder_js_1 = require(\"./_reorder.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_ARY_FLAG = 128, WRAP_FLIP_FLAG = 512;\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n    var isAry = bitmask & WRAP_ARY_FLAG, isBind = bitmask & WRAP_BIND_FLAG, isBindKey = bitmask & WRAP_BIND_KEY_FLAG, isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG), isFlip = bitmask & WRAP_FLIP_FLAG, Ctor = isBindKey ? undefined : _createCtor_js_1.default(func);\n    function wrapper() {\n        var length = arguments.length, args = Array(length), index = length;\n        while (index--) {\n            args[index] = arguments[index];\n        }\n        if (isCurried) {\n            var placeholder = _getHolder_js_1.default(wrapper), holdersCount = _countHolders_js_1.default(args, placeholder);\n        }\n        if (partials) {\n            args = _composeArgs_js_1.default(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n            args = _composeArgsRight_js_1.default(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n            var newHolders = _replaceHolders_js_1.default(args, placeholder);\n            return _createRecurry_js_1.default(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length);\n        }\n        var thisBinding = isBind ? thisArg : this, fn = isBindKey ? thisBinding[func] : func;\n        length = args.length;\n        if (argPos) {\n            args = _reorder_js_1.default(args, argPos);\n        }\n        else if (isFlip && length > 1) {\n            args.reverse();\n        }\n        if (isAry && ary < length) {\n            args.length = ary;\n        }\n        if (this && this !== _root_js_1.default && this instanceof wrapper) {\n            fn = Ctor || _createCtor_js_1.default(fn);\n        }\n        return fn.apply(thisBinding, args);\n    }\n    return wrapper;\n}\nexports.default = createHybrid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _createHybrid_js_1 = require(\"./_createHybrid.js\");\nvar _createRecurry_js_1 = require(\"./_createRecurry.js\");\nvar _getHolder_js_1 = require(\"./_getHolder.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar _root_js_1 = require(\"./_root.js\");\nfunction createCurry(func, bitmask, arity) {\n    var Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var length = arguments.length, args = Array(length), index = length, placeholder = _getHolder_js_1.default(wrapper);\n        while (index--) {\n            args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n            ? []\n            : _replaceHolders_js_1.default(args, placeholder);\n        length -= holders.length;\n        if (length < arity) {\n            return _createRecurry_js_1.default(func, bitmask, _createHybrid_js_1.default, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        return _apply_js_1.default(fn, this, args);\n    }\n    return wrapper;\n}\nexports.default = createCurry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1;\nfunction createPartial(func, bitmask, thisArg, partials) {\n    var isBind = bitmask & WRAP_BIND_FLAG, Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var argsIndex = -1, argsLength = arguments.length, leftIndex = -1, leftLength = partials.length, args = Array(leftLength + argsLength), fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        while (++leftIndex < leftLength) {\n            args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n            args[leftIndex++] = arguments[++argsIndex];\n        }\n        return _apply_js_1.default(fn, isBind ? thisArg : this, args);\n    }\n    return wrapper;\n}\nexports.default = createPartial;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _composeArgs_js_1 = require(\"./_composeArgs.js\");\nvar _composeArgsRight_js_1 = require(\"./_composeArgsRight.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar PLACEHOLDER = '__lodash_placeholder__';\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256;\nvar nativeMin = Math.min;\nfunction mergeData(data, source) {\n    var bitmask = data[1], srcBitmask = source[1], newBitmask = bitmask | srcBitmask, isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n    var isCombo = ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n    if (!(isCommon || isCombo)) {\n        return data;\n    }\n    if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n    }\n    var value = source[3];\n    if (value) {\n        var partials = data[3];\n        data[3] = partials ? _composeArgs_js_1.default(partials, value, source[4]) : value;\n        data[4] = partials ? _replaceHolders_js_1.default(data[3], PLACEHOLDER) : source[4];\n    }\n    value = source[5];\n    if (value) {\n        partials = data[5];\n        data[5] = partials ? _composeArgsRight_js_1.default(partials, value, source[6]) : value;\n        data[6] = partials ? _replaceHolders_js_1.default(data[5], PLACEHOLDER) : source[6];\n    }\n    value = source[7];\n    if (value) {\n        data[7] = value;\n    }\n    if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n    }\n    if (data[9] == null) {\n        data[9] = source[9];\n    }\n    data[0] = source[0];\n    data[1] = newBitmask;\n    return data;\n}\nexports.default = mergeData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar symbolTag = '[object Symbol]';\nfunction isSymbol(value) {\n    return typeof value == 'symbol' ||\n        (isObjectLike_js_1.default(value) && _baseGetTag_js_1.default(value) == symbolTag);\n}\nexports.default = isSymbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObject_js_1 = require(\"./isObject.js\");\nvar isSymbol_js_1 = require(\"./isSymbol.js\");\nvar NAN = 0 / 0;\nvar reTrim = /^\\s+|\\s+$/g;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nfunction toNumber(value) {\n    if (typeof value == 'number') {\n        return value;\n    }\n    if (isSymbol_js_1.default(value)) {\n        return NAN;\n    }\n    if (isObject_js_1.default(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject_js_1.default(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n    }\n    value = value.replace(reTrim, '');\n    var isBinary = reIsBinary.test(value);\n    return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n}\nexports.default = toNumber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toNumber_js_1 = require(\"./toNumber.js\");\nvar INFINITY = 1 / 0, MAX_INTEGER = 1.7976931348623157e+308;\nfunction toFinite(value) {\n    if (!value) {\n        return value === 0 ? value : 0;\n    }\n    value = toNumber_js_1.default(value);\n    if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n    }\n    return value === value ? value : 0;\n}\nexports.default = toFinite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toFinite_js_1 = require(\"./toFinite.js\");\nfunction toInteger(value) {\n    var result = toFinite_js_1.default(value), remainder = result % 1;\n    return result === result ? (remainder ? result - remainder : result) : 0;\n}\nexports.default = toInteger;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetData_js_1 = require(\"./_baseSetData.js\");\nvar _createBind_js_1 = require(\"./_createBind.js\");\nvar _createCurry_js_1 = require(\"./_createCurry.js\");\nvar _createHybrid_js_1 = require(\"./_createHybrid.js\");\nvar _createPartial_js_1 = require(\"./_createPartial.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _mergeData_js_1 = require(\"./_mergeData.js\");\nvar _setData_js_1 = require(\"./_setData.js\");\nvar _setWrapToString_js_1 = require(\"./_setWrapToString.js\");\nvar toInteger_js_1 = require(\"./toInteger.js\");\nvar FUNC_ERROR_TEXT = 'Expected a function';\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64;\nvar nativeMax = Math.max;\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n    var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n    if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    var length = partials ? partials.length : 0;\n    if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n    }\n    ary = ary === undefined ? ary : nativeMax(toInteger_js_1.default(ary), 0);\n    arity = arity === undefined ? arity : toInteger_js_1.default(arity);\n    length -= holders ? holders.length : 0;\n    if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials, holdersRight = holders;\n        partials = holders = undefined;\n    }\n    var data = isBindKey ? undefined : _getData_js_1.default(func);\n    var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n    ];\n    if (data) {\n        _mergeData_js_1.default(newData, data);\n    }\n    func = newData[0];\n    bitmask = newData[1];\n    thisArg = newData[2];\n    partials = newData[3];\n    holders = newData[4];\n    arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n    if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n    }\n    if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = _createBind_js_1.default(func, bitmask, thisArg);\n    }\n    else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = _createCurry_js_1.default(func, bitmask, arity);\n    }\n    else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = _createPartial_js_1.default(func, bitmask, thisArg, partials);\n    }\n    else {\n        result = _createHybrid_js_1.default.apply(undefined, newData);\n    }\n    var setter = data ? _baseSetData_js_1.default : _setData_js_1.default;\n    return _setWrapToString_js_1.default(setter(result, newData), func, bitmask);\n}\nexports.default = createWrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createWrap_js_1 = require(\"./_createWrap.js\");\nvar WRAP_CURRY_FLAG = 8;\nfunction curry(func, arity, guard) {\n    arity = guard ? undefined : arity;\n    var result = _createWrap_js_1.default(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n    result.placeholder = curry.placeholder;\n    return result;\n}\ncurry.placeholder = {};\nexports.default = curry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayPush(array, values) {\n    var index = -1, length = values.length, offset = array.length;\n    while (++index < length) {\n        array[offset + index] = values[index];\n    }\n    return array;\n}\nexports.default = arrayPush;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar argsTag = '[object Arguments]';\nfunction baseIsArguments(value) {\n    return isObjectLike_js_1.default(value) && _baseGetTag_js_1.default(value) == argsTag;\n}\nexports.default = baseIsArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIsArguments_js_1 = require(\"./_baseIsArguments.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\nvar isArguments = _baseIsArguments_js_1.default(function () { return arguments; }()) ? _baseIsArguments_js_1.default : function (value) {\n    return isObjectLike_js_1.default(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n};\nexports.default = isArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar isArguments_js_1 = require(\"./isArguments.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar spreadableSymbol = _Symbol_js_1.default ? _Symbol_js_1.default.isConcatSpreadable : undefined;\nfunction isFlattenable(value) {\n    return isArray_js_1.default(value) || isArguments_js_1.default(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\nexports.default = isFlattenable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _arrayPush_js_1 = require(\"./_arrayPush.js\");\nvar _isFlattenable_js_1 = require(\"./_isFlattenable.js\");\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n    var index = -1, length = array.length;\n    predicate || (predicate = _isFlattenable_js_1.default);\n    result || (result = []);\n    while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n            if (depth > 1) {\n                baseFlatten(value, depth - 1, predicate, isStrict, result);\n            }\n            else {\n                _arrayPush_js_1.default(result, value);\n            }\n        }\n        else if (!isStrict) {\n            result[result.length] = value;\n        }\n    }\n    return result;\n}\nexports.default = baseFlatten;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseFlatten_js_1 = require(\"./_baseFlatten.js\");\nfunction flatten(array) {\n    var length = array == null ? 0 : array.length;\n    return length ? _baseFlatten_js_1.default(array, 1) : [];\n}\nexports.default = flatten;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar nativeMax = Math.max;\nfunction overRest(func, start, transform) {\n    start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n    return function () {\n        var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array(length);\n        while (++index < length) {\n            array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n            otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return _apply_js_1.default(func, this, otherArgs);\n    };\n}\nexports.default = overRest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten_js_1 = require(\"./flatten.js\");\nvar _overRest_js_1 = require(\"./_overRest.js\");\nvar _setToString_js_1 = require(\"./_setToString.js\");\nfunction flatRest(func) {\n    return _setToString_js_1.default(_overRest_js_1.default(func, undefined, flatten_js_1.default), func + '');\n}\nexports.default = flatRest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _flatRest_js_1 = require(\"./_flatRest.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _getFuncName_js_1 = require(\"./_getFuncName.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar _isLaziable_js_1 = require(\"./_isLaziable.js\");\nvar FUNC_ERROR_TEXT = 'Expected a function';\nvar WRAP_CURRY_FLAG = 8, WRAP_PARTIAL_FLAG = 32, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256;\nfunction createFlow(fromRight) {\n    return _flatRest_js_1.default(function (funcs) {\n        var length = funcs.length, index = length, prereq = _LodashWrapper_js_1.default.prototype.thru;\n        if (fromRight) {\n            funcs.reverse();\n        }\n        while (index--) {\n            var func = funcs[index];\n            if (typeof func != 'function') {\n                throw new TypeError(FUNC_ERROR_TEXT);\n            }\n            if (prereq && !wrapper && _getFuncName_js_1.default(func) == 'wrapper') {\n                var wrapper = new _LodashWrapper_js_1.default([], true);\n            }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n            func = funcs[index];\n            var funcName = _getFuncName_js_1.default(func), data = funcName == 'wrapper' ? _getData_js_1.default(func) : undefined;\n            if (data && _isLaziable_js_1.default(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1) {\n                wrapper = wrapper[_getFuncName_js_1.default(data[0])].apply(wrapper, data[3]);\n            }\n            else {\n                wrapper = (func.length == 1 && _isLaziable_js_1.default(func))\n                    ? wrapper[funcName]()\n                    : wrapper.thru(func);\n            }\n        }\n        return function () {\n            var args = arguments, value = args[0];\n            if (wrapper && args.length == 1 && isArray_js_1.default(value)) {\n                return wrapper.plant(value).value();\n            }\n            var index = 0, result = length ? funcs[index].apply(this, args) : value;\n            while (++index < length) {\n                result = funcs[index].call(this, result);\n            }\n            return result;\n        };\n    });\n}\nexports.default = createFlow;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createFlow_js_1 = require(\"./_createFlow.js\");\nvar flowRight = _createFlow_js_1.default(true);\nexports.default = flowRight;\n","import curry from \"wonder-lodash/curry\";\r\nimport flowRight from \"wonder-lodash/flowRight\";\r\nimport { filter, forEach } from \"./arrayUtils\";\r\n\r\nexport var compose = flowRight;\r\n\r\nexport var chain = curry((f: Function, m: any) => {\r\n    return m.chain(f);\r\n})\r\n\r\nexport var map = curry((f: Function, m: any) => {\r\n    return m.map(f);\r\n})\r\n\r\nexport var filterArray = curry((f: (item: any) => boolean, arr: Array<any>) => {\r\n    return filter(arr, f);\r\n})\r\n\r\nexport var forEachArray = curry((f: (item: any, index: number) => void, arr: Array<any>) => {\r\n    return forEach(arr, f);\r\n})\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var getUID = requireCheckFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    it(\"indexInArrayBuffer should exist\", () => {\r\n        expect(indexInArrayBuffer).exist;\r\n    });\r\n    it(\"transform should exist\", () => {\r\n        expect(ThreeDTransformData.transformMap[indexInArrayBuffer]).exist;\r\n    });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.transformMap[indexInArrayBuffer].uid;\r\n})\r\n\r\nexport var isIndexUsed = ensureFunc((isExist: boolean, indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    // it(\"if(or not) exist data, the transform and its indexInArrayBuffer should be(or not) setted to data container;relation item should(or not) exist\", () => {\r\n    //     if (isExist) {\r\n    // expect(_isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer])).true;\r\n    // expect(_getTransformIndexInArrayBufferTable(ThreeDTransformData.transforms[indexInArrayBuffer], ThreeDTransformData)).equal(indexInArrayBuffer);\r\n    //\r\n    //         expect(_isRelationItemExist(ThreeDTransformData.relationMap[indexInArrayBuffer])).true;\r\n    //     }\r\n    //     else {\r\n    //         // expect(_isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer])).false;\r\n    //\r\n    //         expect(_isRelationItemExist(ThreeDTransformData.relationMap[indexInArrayBuffer])).false;\r\n    //     }\r\n    // });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    return isValidMapValue(ThreeDTransformData.transformMap[indexInArrayBuffer]);\r\n    // return _isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer]);\r\n})\r\n\r\n/*!\r\n regard 0 as the default index, so that _isValidIndex can judge whether the index is not the default index or not!\r\n */\r\nexport var getStartIndexInArrayBuffer = () => 1;\r\n","import { IUIDEntity } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { GameObjectUIDMap } from \"../core/entityObject/gameObject/GameObjectData\";\r\n\r\nexport var removeChildEntity = (children: Array<IUIDEntity>, targetUID: number) => {\r\n    for (let i = 0, len = children.length; i < len; ++i) {\r\n        if (children[i].uid === targetUID) {\r\n            children.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n}\r\n","import { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { deleteVal, isNotValidMapValue, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { isNotUndefined } from \"../../utils/JudgeUtils\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { addItAndItsChildrenToDirtyList } from \"./dirtySystem\";\r\nimport { removeChildEntity } from \"../../utils/entityUtils\";\r\n\r\nexport var getParent = requireCheckFunc((uid: string, ThreeDTransformData: any) => {\r\n    it(\"uid should exist\", () => {\r\n        expect(uid).exist;\r\n    });\r\n}, (uid: string, ThreeDTransformData: any) => {\r\n    // return ThreeDTransformData.parentMap.get(uid);\r\n    return ThreeDTransformData.parentMap[uid];\r\n})\r\n\r\nexport var setParent = requireCheckFunc((transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"parent should not be self\", () => {\r\n        if (parent !== null) {\r\n            expect(_isTransformEqual(transform, parent)).false;\r\n        }\r\n    });\r\n}, (transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        parentIndexInArrayBuffer: number = null,\r\n        currentParent: ThreeDTransform = getParent(uid, ThreeDTransformData),\r\n        isCurrentParentExisit = isParentExist(currentParent);\r\n\r\n    if (parent === null) {\r\n        if (isCurrentParentExisit) {\r\n            _removeHierarchyFromParent(currentParent, uid, ThreeDTransformData);\r\n\r\n            addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    parentIndexInArrayBuffer = parent.index;\r\n\r\n    if (isCurrentParentExisit) {\r\n        if (isNotChangeParent(currentParent.index, parentIndexInArrayBuffer)) {\r\n            return;\r\n        }\r\n\r\n        _removeHierarchyFromParent(currentParent, uid, ThreeDTransformData);\r\n    }\r\n\r\n    _addToParent(uid, transform, parent, ThreeDTransformData);\r\n\r\n    addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n})\r\n\r\nvar _isTransformEqual = (tra1: ThreeDTransform, tra2: ThreeDTransform) => tra1.uid === tra2.uid;\r\n\r\nexport var getChildren = (uid: number, ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.childrenMap[uid];\r\n}\r\n\r\nexport var isParentExist = (parent: ThreeDTransform) => isNotUndefined(parent);\r\n\r\nexport var isChildrenExist = (children: Array<ThreeDTransform>) => isNotUndefined(children);\r\n\r\nexport var isNotChangeParent = (currentParentIndexInArrayBuffer: number, newParentIndexInArrayBuffer: number) => {\r\n    return currentParentIndexInArrayBuffer === newParentIndexInArrayBuffer;\r\n}\r\n\r\nexport var removeHierarchyData = (uid: number, ThreeDTransformData: any) => {\r\n    deleteVal(uid, ThreeDTransformData.childrenMap);\r\n}\r\n\r\nvar _removeHierarchyFromParent = (parent: ThreeDTransform, targetUID: number, ThreeDTransformData: any) => {\r\n    var parentUID = parent.uid,\r\n        children = getChildren(parentUID, ThreeDTransformData);\r\n\r\n    deleteVal(targetUID, ThreeDTransformData.parentMap);\r\n\r\n    if (isNotValidMapValue(children)) {\r\n        return;\r\n    }\r\n\r\n    _removeChild(parentUID, targetUID, children, ThreeDTransformData);\r\n}\r\n\r\nvar _removeChild = (parentUID: number, targetUID: number, children: Array<ThreeDTransform>, ThreeDTransformData: any) => {\r\n    removeChildEntity(children, targetUID);\r\n};\r\n\r\nvar _addChild = requireCheckFunc((uid: number, child: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"children should be empty array if has no child\", () => {\r\n        expect(getChildren(uid, ThreeDTransformData)).be.a(\"array\");\r\n    });\r\n}, (uid: number, child: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var children = getChildren(uid, ThreeDTransformData);\r\n\r\n    children.push(child);\r\n})\r\n\r\nexport var setChildren = (uid: number, children: Array<ThreeDTransform>, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.childrenMap[uid] = children;\r\n}\r\n\r\nvar _setParent = (uid: number, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.parentMap[uid] = parent;\r\n}\r\n\r\nvar _addToParent = requireCheckFunc((targetUID: number, target: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"the child one should not has parent\", () => {\r\n        expect(isValidMapValue(getParent(targetUID, ThreeDTransformData))).false;\r\n    });\r\n    it(\"parent should not already has the child\", () => {\r\n        var parentUID = parent.uid,\r\n            children = getChildren(parentUID, ThreeDTransformData);\r\n\r\n        if (isValidMapValue(children)) {\r\n            expect(children.indexOf(target)).equal(-1);\r\n        }\r\n    });\r\n}, (targetUID: number, target: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var parentUID = parent.uid;\r\n\r\n    _setParent(targetUID, parent, ThreeDTransformData);\r\n\r\n    _addChild(parentUID, target, ThreeDTransformData);\r\n})\r\n","import { Matrix4 } from \"../math/Matrix4\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var getMatrix4DataSize = () => 16;\r\n\r\nexport var getVector3DataSize = () => 3;\r\n\r\nexport var getQuaternionDataSize = () => 4;\r\n\r\nexport var getSlice = (typeArr: Float32Array | Uint32Array | Uint16Array, startIndex: number, endIndex: number) => {\r\n    return typeArr.slice(startIndex, endIndex);\r\n}\r\n\r\nexport var getSubarray = (typeArr: Float32Array | Uint32Array | Uint16Array, startIndex: number, endIndex: number) => {\r\n    return typeArr.subarray(startIndex, endIndex);\r\n}\r\n\r\nexport var deleteBySwapAndNotReset = (sourceIndex: number, targetIndex: number, typeArr: Float32Array | Uint32Array | Uint16Array) => {\r\n    typeArr[sourceIndex] = typeArr[targetIndex];\r\n}\r\n\r\nexport var deleteBySwapAndReset = (sourceIndex: number, targetIndex: number, typeArr: Float32Array | Uint32Array | Uint16Array, length: number, defaultValueArr: Array<number>) => {\r\n    for (let i = 0; i < length; i++) {\r\n        typeArr[sourceIndex + i] = typeArr[targetIndex + i];\r\n        typeArr[targetIndex + i] = defaultValueArr[i];\r\n    }\r\n}\r\n\r\nexport var deleteOneItemBySwapAndReset = (sourceIndex: number, targetIndex: number, typeArr: Float32Array | Uint32Array | Uint16Array, defaultValue: number) => {\r\n    typeArr[sourceIndex] = typeArr[targetIndex];\r\n    typeArr[targetIndex] = defaultValue;\r\n}\r\n\r\nexport var set = (typeArr: Float32Array | Uint32Array | Uint16Array, valArr: Array<number>, offset = 0) => {\r\n    typeArr.set(valArr, offset);\r\n}\r\n\r\nexport var setMatrices = (typeArr: Float32Array, mat: Matrix4, index: number) => {\r\n    var values = mat.values;\r\n\r\n    typeArr[index] = values[0];\r\n    typeArr[index + 1] = values[1];\r\n    typeArr[index + 2] = values[2];\r\n    typeArr[index + 3] = values[3];\r\n    typeArr[index + 4] = values[4];\r\n    typeArr[index + 5] = values[5];\r\n    typeArr[index + 6] = values[6];\r\n    typeArr[index + 7] = values[7];\r\n    typeArr[index + 8] = values[8];\r\n    typeArr[index + 9] = values[9];\r\n    typeArr[index + 10] = values[10];\r\n    typeArr[index + 11] = values[11];\r\n    typeArr[index + 12] = values[12];\r\n    typeArr[index + 13] = values[13];\r\n    typeArr[index + 14] = values[14];\r\n    typeArr[index + 15] = values[15];\r\n}\r\n\r\nexport var setMatrix4ByIndex = requireCheckFunc((mat: Matrix4, typeArr: Float32Array, index: number) => {\r\n    it(\"should not exceed type arr's length\", () => {\r\n        expect(index + 15).lte(typeArr.length - 1);\r\n    });\r\n}, (mat: Matrix4, typeArr: Float32Array, index: number) => {\r\n    mat.set(\r\n        typeArr[index],\r\n        typeArr[index + 1],\r\n        typeArr[index + 2],\r\n        typeArr[index + 3],\r\n        typeArr[index + 4],\r\n        typeArr[index + 5],\r\n        typeArr[index + 6],\r\n        typeArr[index + 7],\r\n        typeArr[index + 8],\r\n        typeArr[index + 9],\r\n        typeArr[index + 10],\r\n        typeArr[index + 11],\r\n        typeArr[index + 12],\r\n        typeArr[index + 13],\r\n        typeArr[index + 14],\r\n        typeArr[index + 15]\r\n    );\r\n\r\n    return mat;\r\n})\r\n\r\nexport var setVectors = (typeArr: Float32Array, vec: Vector3, index: number) => {\r\n    var values = vec.values;\r\n\r\n    typeArr[index] = values[0];\r\n    typeArr[index + 1] = values[1];\r\n    typeArr[index + 2] = values[2];\r\n}\r\n\r\nexport var setVector3ByIndex = requireCheckFunc((vec: Vector3, typeArr: Float32Array, index: number) => {\r\n    it(\"should not exceed type arr's length\", () => {\r\n        expect(index + 2).lte(typeArr.length - 1);\r\n    });\r\n}, (vec: Vector3, typeArr: Float32Array, index: number) => {\r\n    var values = vec.values;\r\n\r\n    values[0] = typeArr[index];\r\n    values[1] = typeArr[index + 1];\r\n    values[2] = typeArr[index + 2];\r\n\r\n    return vec;\r\n})\r\n\r\nexport var setQuaternions = (typeArr: Float32Array, qua: Quaternion, index: number) => {\r\n    typeArr[index] = qua.x;\r\n    typeArr[index + 1] = qua.y;\r\n    typeArr[index + 2] = qua.z;\r\n    typeArr[index + 3] = qua.z;\r\n}\r\n\r\nexport var setQuaternionByIndex = requireCheckFunc((qua: Quaternion, typeArr: Float32Array, index: number) => {\r\n    it(\"should not exceed type arr's length\", () => {\r\n        expect(index + 3).lte(typeArr.length - 1);\r\n    });\r\n}, (qua: Quaternion, typeArr: Float32Array, index: number) => {\r\n    qua.set(\r\n        typeArr[index],\r\n        typeArr[index + 1],\r\n        typeArr[index + 2],\r\n        typeArr[index + 3]\r\n    );\r\n\r\n    return qua;\r\n})\r\n\r\nexport var swap = (typeArr: any, index1: number, index2: number, length: number) => {\r\n    for (let i = 0; i < length; i++) {\r\n        let newIndex1 = index1 + i,\r\n            newIndex2 = index2 + i,\r\n            temp = typeArr[newIndex2];\r\n\r\n        typeArr[newIndex2] = typeArr[newIndex1];\r\n\r\n        typeArr[newIndex1] = temp;\r\n    }\r\n}\r\n\r\nexport var createMatrix4ByIndex = (mat: Matrix4, typeArr: Float32Array, index: number) => {\r\n    return setMatrix4ByIndex(mat, typeArr, index);\r\n}\r\n\r\nexport var createVector3ByIndex = (vec: Vector3, typeArr: Float32Array, index: number) => {\r\n    return setVector3ByIndex(vec, typeArr, index);\r\n}\r\n\r\n// var _setValue = requireCheckFunc((typeArr: Float32Array, increment: number, startIndex: number, target: any) => {\r\n//     it(\"should not exceed type arr's length\", () => {\r\n//         expect(startIndex + increment).lte(typeArr.length - 1);\r\n//     });\r\n// }, (typeArr: Float32Array, increment: number, startIndex: number, target: any) => {\r\n//     typeArr[startIndex + increment] = target;\r\n// })\r\n","import { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Quaternion } from \"../../math/Quaternion\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { getUID, isIndexUsed } from \"./utils\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { TransformMap } from \"./ThreeDTransformData\";\r\nimport { deleteVal } from \"../../utils/objectUtils\";\r\nimport { addNotUsedIndex } from \"./dirtySystem\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { isParentExist } from \"./hierarchySystem\";\r\nimport { getLocalToWorldMatrix } from \"./ThreeDTransformSystem\";\r\nimport {\r\n    getMatrix4DataSize, getQuaternionDataSize, getVector3DataSize, setMatrices, setQuaternions,\r\n    setVectors\r\n} from \"../../utils/typeArrayUtils\";\r\n\r\nexport var swap = requireCheckFunc((index1: number, index2: number, ThreeDTransformData: any) => {\r\n    it(\"source index and target index should be used\", () => {\r\n        expect(isIndexUsed(index1, ThreeDTransformData)).true;\r\n        expect(isIndexUsed(index2, ThreeDTransformData)).true;\r\n    });\r\n}, (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    swapTypeArrData(index1, index2, ThreeDTransformData);\r\n    swapTransformMapData(index1, index2, ThreeDTransformData);\r\n\r\n    return ThreeDTransformData;\r\n})\r\n\r\nexport var swapTransformMapData = requireCheckFunc((index1: number, index2: number, ThreeDTransformData: any) => {\r\n    it(\"source index and target index should be used\", () => {\r\n        expect(isIndexUsed(index1, ThreeDTransformData)).true;\r\n        expect(isIndexUsed(index2, ThreeDTransformData)).true;\r\n    });\r\n}, (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    return _changeMapData(index1, index2, _swapTransformMap, ThreeDTransformData);\r\n})\r\n\r\nexport var swapTypeArrData = (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    return _changeTypeArrData(index1, index2, _swapTypeArr, ThreeDTransformData);\r\n}\r\n\r\nvar _swapTypeArr = (dataArr: any, index1: number, index2: number, length: number) => {\r\n    for (let i = 0; i < length; i++) {\r\n        let newIndex1 = index1 + i,\r\n            newIndex2 = index2 + i,\r\n            temp = dataArr[newIndex2];\r\n\r\n        dataArr[newIndex2] = dataArr[newIndex1];\r\n\r\n        dataArr[newIndex1] = temp;\r\n    }\r\n}\r\n\r\nvar _swapTransformMap = (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => {\r\n    var sourceTransform = transformMap[sourceIndex],\r\n        targetTransform = transformMap[targetIndex];\r\n\r\n    sourceTransform.index = targetIndex;\r\n    targetTransform.index = sourceIndex;\r\n\r\n    transformMap[targetIndex] = sourceTransform;\r\n    transformMap[sourceIndex] = targetTransform;\r\n}\r\n\r\nvar _changeTypeArrData = (sourceIndex: number, targetIndex: number, changeFunc: (arr: Float32Array, sourceIndex: number, targetIndex: number, length: number) => void, ThreeDTransformData: any) => {\r\n    if (sourceIndex === targetIndex) {\r\n        return ThreeDTransformData;\r\n    }\r\n\r\n    let mat4SourceIndex = getMatrix4DataIndexInArrayBuffer(sourceIndex),\r\n        mat4TargetIndex = getMatrix4DataIndexInArrayBuffer(targetIndex),\r\n        mat4Size = getMatrix4DataSize(),\r\n        vec3SourceIndex = getVector3DataIndexInArrayBuffer(sourceIndex),\r\n        vec3TargetIndex = getVector3DataIndexInArrayBuffer(targetIndex),\r\n        vec3Size = getVector3DataSize(),\r\n        quaSourceIndex = getQuaternionDataIndexInArrayBuffer(sourceIndex),\r\n        quaTargetIndex = getQuaternionDataIndexInArrayBuffer(targetIndex),\r\n        quaSize = getQuaternionDataSize();\r\n\r\n    changeFunc(ThreeDTransformData.localToWorldMatrices, mat4SourceIndex, mat4TargetIndex, mat4Size);\r\n    changeFunc(ThreeDTransformData.localPositions, vec3SourceIndex, vec3TargetIndex, vec3Size);\r\n    changeFunc(ThreeDTransformData.localRotations, quaSourceIndex, quaTargetIndex, quaSize);\r\n    _changeLocalScaleData(vec3SourceIndex, vec3TargetIndex, vec3Size, ThreeDTransformData, changeFunc);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _changeLocalScaleData = requireCheckFunc((vec3SourceIndex: number, vec3TargetIndex: number, vec3Size: number, ThreeDTransformData: any, changeFunc: Function) => {\r\n    it(\"source localScale data shouldn't be [0,0,0]\", () => {\r\n        if (ThreeDTransformData.localScales[vec3SourceIndex] === 0\r\n            && ThreeDTransformData.localScales[vec3SourceIndex + 1] === 0\r\n            && ThreeDTransformData.localScales[vec3SourceIndex + 2] === 0\r\n        ) {\r\n            expect(false).true;\r\n        }\r\n    });\r\n}, (vec3SourceIndex: number, vec3TargetIndex: number, vec3Size: number, ThreeDTransformData: any, changeFunc: Function) => {\r\n    changeFunc(ThreeDTransformData.localScales, vec3SourceIndex, vec3TargetIndex, vec3Size);\r\n})\r\n\r\nvar _changeMapData = (sourceIndex: number, targetIndex: number, changeFunc: (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => void, ThreeDTransformData: any) => {\r\n    if (sourceIndex === targetIndex) {\r\n        return ThreeDTransformData;\r\n    }\r\n\r\n    changeFunc(ThreeDTransformData.transformMap, sourceIndex, targetIndex);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\n// var _resetValInArr = (dataArr: Array<any>, index: number) => {\r\n//     dataArr[index] = void 0;\r\n// }\r\n\r\nvar _moveToTypeArr = (dataArr: Float32Array, sourceIndex: number, targetIndex: number, length: number\r\n) => {\r\n    for (let i = 0; i < length; i++) {\r\n        let newIndex1 = sourceIndex + i,\r\n            newIndex2 = targetIndex + i;\r\n\r\n        dataArr[newIndex2] = dataArr[newIndex1];\r\n    }\r\n};\r\n\r\nvar _moveToTransformMap = (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => {\r\n    var sourceTransform = transformMap[sourceIndex];\r\n\r\n    sourceTransform.index = targetIndex;\r\n    transformMap[targetIndex] = sourceTransform;\r\n\r\n    deleteVal(sourceIndex, transformMap);\r\n}\r\n\r\n\r\nexport var moveToIndex = ensureFunc((returnVal, sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should not be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).false;\r\n    });\r\n}, requireCheckFunc((sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).true;\r\n    });\r\n    it(\"target index should not be used\", () => {\r\n        expect(isIndexUsed(targetIndex, ThreeDTransformData)).false;\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    moveTypeArrDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n    moveMapDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n\r\n    addNotUsedIndex(sourceIndex, ThreeDTransformData.notUsedIndexLinkList);\r\n\r\n    return ThreeDTransformData;\r\n}))\r\n\r\nexport var moveMapDataToIndex = ensureFunc((returnVal, sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should not be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).false;\r\n    });\r\n}, requireCheckFunc((sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).true;\r\n    });\r\n    it(\"target index should not be used\", () => {\r\n        expect(isIndexUsed(targetIndex, ThreeDTransformData)).false;\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    return _changeMapData(sourceIndex, targetIndex, _moveToTransformMap, ThreeDTransformData);\r\n}))\r\n\r\n\r\nexport var moveTypeArrDataToIndex = (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    return _changeTypeArrData(sourceIndex, targetIndex, _moveToTypeArr, ThreeDTransformData);\r\n}\r\n\r\n\r\nexport var setTransformDataInTypeArr = (indexInArrayBuffer: number, mat: Matrix4, qua: Quaternion, positionVec: Vector3, scaleVec: Vector3, ThreeDTransformData: any) => {\r\n    // export var setTransformDataInTypeArr = (indexInArrayBuffer: number, qua: Quaternion, positionVec: Vector3, scaleVec: Vector3, ThreeDTransformData: any) => {\r\n    setLocalRotationData(qua, getQuaternionDataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n    setLocalPositionData(positionVec, getVector3DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n    setLocalScaleData(scaleVec, getVector3DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n\r\n    setLocalToWorldMatricesData(mat, getMatrix4DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n}\r\n\r\nexport var setLocalToWorldMatricesData = (mat: Matrix4, mat4IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    setMatrices(ThreeDTransformData.localToWorldMatrices, mat, mat4IndexInArrayBuffer);\r\n}\r\n\r\nexport var setLocalPositionData = (position: Vector3, vec3IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    setVectors(ThreeDTransformData.localPositions, position, vec3IndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setLocalRotationData = (qua: Quaternion, quaIndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    setQuaternions(ThreeDTransformData.localRotations, qua, quaIndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setLocalScaleData = (scale: Vector3, vec3IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    setVectors(ThreeDTransformData.localScales, scale, vec3IndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setPositionData = (indexInArrayBuffer: number, parent: ThreeDTransform, vec3IndexInArrayBuffer: number, position: Vector3, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    if (isParentExist(parent)) {\r\n        let indexInArrayBuffer = parent.index;\r\n\r\n        setVectors(ThreeDTransformData.localPositions, getLocalToWorldMatrix({\r\n            uid: getUID(indexInArrayBuffer, ThreeDTransformData),\r\n            index: indexInArrayBuffer\r\n        }, GlobalTempData.matrix4_3, ThreeDTransformData).invert().multiplyPoint(position), vec3IndexInArrayBuffer);\r\n    }\r\n    else {\r\n        setVectors(ThreeDTransformData.localPositions, position, vec3IndexInArrayBuffer);\r\n    }\r\n}\r\n\r\nexport var getMatrix4DataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getMatrix4DataSize();\r\n\r\nexport var getVector3DataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getVector3DataSize();\r\n\r\nexport var getQuaternionDataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getQuaternionDataSize();\r\n","export class LinkList<T>{\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _first: LinkNode<T> = null;\r\n    private _last: LinkNode<T> = null;\r\n\r\n    public shift() {\r\n        var node = this._first;\r\n\r\n        if (node === null) {\r\n            return null;\r\n        }\r\n\r\n        this._first = node.next;\r\n\r\n        return node;\r\n    }\r\n\r\n    public push(node: LinkNode<T>) {\r\n        if (this._last === null) {\r\n            this._first = node;\r\n            this._last = node;\r\n\r\n            return;\r\n        }\r\n\r\n        this._last.next = node;\r\n\r\n        this._last = node;\r\n    }\r\n}\r\n\r\nexport class LinkNode<T>{\r\n    public static create(val: any) {\r\n        var obj = new this(val);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(val: T) {\r\n        this.val = val;\r\n    }\r\n\r\n    public val: T = null;\r\n    public next: LinkNode<T> = null;\r\n}\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { getStartIndexInArrayBuffer, isIndexUsed } from \"./utils\";\r\nimport { isNotUndefined } from \"../../utils/JudgeUtils\";\r\nimport { getChildren, isChildrenExist } from \"./hierarchySystem\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { moveToIndex, swap } from \"./operateDataSystem\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\nimport { LinkList, LinkNode } from \"./LinkList\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { isNotAlive } from \"./ThreeDTransformSystem\";\r\n\r\nexport var addFirstDirtyIndex = ensureFunc((firstDirtyIndex: number, ThreeDTransformData: any) => {\r\n    it(\"firstDirtyIndex should <= maxCount\", () => {\r\n        expect(firstDirtyIndex).lte(ThreeDTransformData.maxCount);\r\n    });\r\n}, (ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.firstDirtyIndex + 1;\r\n})\r\n\r\nexport var minusFirstDirtyIndex = ensureFunc((firstDirtyIndex: number) => {\r\n    it(`firstDirtyIndex should >= start index:${getStartIndexInArrayBuffer()}`, () => {\r\n        expect(firstDirtyIndex).gte(getStartIndexInArrayBuffer());\r\n    });\r\n}, (firstDirtyIndex: number) => {\r\n    return firstDirtyIndex - 1;\r\n})\r\n\r\nexport var generateNotUsedIndexInArrayBuffer = ensureFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    _checkGeneratedNotUsedIndex(ThreeDTransformData, indexInArrayBuffer);\r\n}, (ThreeDTransformData: any) => {\r\n    var result = ThreeDTransformData.indexInArrayBuffer;\r\n\r\n    if (result >= ThreeDTransformData.firstDirtyIndex) {\r\n        return _getNotUsedIndexFromArr(ThreeDTransformData);\r\n    }\r\n\r\n    ThreeDTransformData.indexInArrayBuffer += 1;\r\n\r\n    return result;\r\n})\r\n\r\nvar _isValidArrayValue = (val: any) => {\r\n    return isNotUndefined(val);\r\n}\r\n\r\nvar _isValidLinkNode = (node: LinkNode<number>) => {\r\n    return node !== null;\r\n}\r\n\r\nexport var generateNotUsedIndexInNormalList = ensureFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    _checkGeneratedNotUsedIndex(ThreeDTransformData, indexInArrayBuffer);\r\n}, (ThreeDTransformData: any) => {\r\n    var index = _getNotUsedIndexFromArr(ThreeDTransformData);\r\n\r\n    if (_isValidArrayValue(index)) {\r\n        return index;\r\n    }\r\n\r\n    index = ThreeDTransformData.indexInArrayBuffer;\r\n\r\n    ThreeDTransformData.indexInArrayBuffer += 1;\r\n\r\n    return index;\r\n})\r\n\r\nexport var addToDirtyList = requireCheckFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    it(\"firstDirtyIndex should <= maxCount\", () => {\r\n        expect(ThreeDTransformData.firstDirtyIndex).lte(ThreeDTransformData.maxCount);\r\n    });\r\n    // it(\"target index should not be used\", () => {\r\n    //     var targetDirtyIndex = minusFirstDirtyIndex(ThreeDTransformData.firstDirtyIndex);\r\n    //\r\n    //     expect(isIndexUsed(targetDirtyIndex, ThreeDTransformData)).false;\r\n    // });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    let targetDirtyIndex = minusFirstDirtyIndex(ThreeDTransformData.firstDirtyIndex);\r\n\r\n    ThreeDTransformData.firstDirtyIndex = targetDirtyIndex;\r\n\r\n    if (isIndexUsed(targetDirtyIndex, ThreeDTransformData)) {\r\n        swap(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n    }\r\n    else {\r\n        moveToIndex(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n    }\r\n\r\n    return targetDirtyIndex;\r\n})\r\n\r\nvar _getNotUsedIndexFromArr = (ThreeDTransformData: any) => {\r\n    var notUsedIndexLinkList = ThreeDTransformData.notUsedIndexLinkList,\r\n        isValidLinkNode = true,\r\n        node: LinkNode<number> = null;\r\n\r\n    do {\r\n        node = _getNotUsedIndexNode(notUsedIndexLinkList);\r\n        isValidLinkNode = _isValidLinkNode(node);\r\n    }\r\n    while (isValidLinkNode && isIndexUsed(node.val, ThreeDTransformData))\r\n\r\n    if (!isValidLinkNode) {\r\n        return void 0;\r\n    }\r\n\r\n    return node.val;\r\n}\r\n\r\nvar _getNotUsedIndexNode = (notUsedIndexLinkList: LinkList<number>) => {\r\n    /*!\r\n    not shift! because it's too slow in firefox!\r\n     //optimize: return the first one to ensure that the result index be as much remote from firDirtyIndex as possible(so that it can reduce swap when add to dirty list)\r\n     */\r\n    // return notUsedIndexLinkList.shift();\r\n    return notUsedIndexLinkList.shift();\r\n};\r\n\r\nexport var addNotUsedIndex = (index: number, notUsedIndexLinkList: LinkList<number>) => {\r\n    notUsedIndexLinkList.push(LinkNode.create(index));\r\n};\r\n\r\nexport var isNotDirty = (indexInArrayBuffer: number, firstDirtyIndex: number) => {\r\n    return indexInArrayBuffer < firstDirtyIndex;\r\n}\r\n\r\nexport var addItAndItsChildrenToDirtyList = (rootIndexInArrayBuffer: number, uid: number, ThreeDTransformData: any) => {\r\n    var indexInArraybuffer: number = rootIndexInArrayBuffer,\r\n        children = getChildren(uid, ThreeDTransformData);\r\n\r\n    if (isNotDirty(indexInArraybuffer, ThreeDTransformData.firstDirtyIndex)) {\r\n        addToDirtyList(indexInArraybuffer, ThreeDTransformData);\r\n    }\r\n\r\n    if (isChildrenExist(children)) {\r\n        forEach(children, (child: ThreeDTransform) => {\r\n            if (isNotAlive(child, ThreeDTransformData)) {\r\n                return;\r\n            }\r\n\r\n            addItAndItsChildrenToDirtyList(child.index, child.uid, ThreeDTransformData);\r\n        });\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _checkGeneratedNotUsedIndex = (ThreeDTransformData: any, indexInArrayBuffer: number) => {\r\n    // it(\"notUsedIndexLinkList shouldn't contain the index\", () => {\r\n    //     expect(ThreeDTransformData.notUsedIndexLinkList.indexOf(indexInArrayBuffer)).equal(-1);\r\n    // });\r\n    it(\"indexInArrayBuffer should < firstDirtyIndex\", () => {\r\n        expect(indexInArrayBuffer).exist;\r\n        expect(indexInArrayBuffer).lt(ThreeDTransformData.firstDirtyIndex);\r\n    });\r\n    it(\"index should not be used\", () => {\r\n        expect(isIndexUsed(indexInArrayBuffer, ThreeDTransformData)).false;\r\n    });\r\n}\r\n","import { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { BatchTransformData } from \"./ThreeDTransform\";\r\n\r\nexport var getIsTranslate = (uid: number, ThreeDTransformData: any) => {\r\n    // return ThreeDTransformData.isTranslateMap.get(uid);\r\n    return ThreeDTransformData.isTranslateMap[uid];\r\n}\r\n\r\nexport var setIsTranslate = requireCheckFunc((uid: number, isTranslate: boolean, ThreeDTransformData: any) => {\r\n    // it(\"indexInArrayBuffer should be used\", () => {\r\n    //     expect(_isIndexUsed(indexInArrayBuffer)).true;\r\n    // });\r\n}, (uid: number, isTranslate: boolean, ThreeDTransformData: any) => {\r\n    // ThreeDTransformData.isTranslateMap.set(uid, isTranslate);\r\n    ThreeDTransformData.isTranslateMap[uid] = isTranslate;\r\n})\r\n\r\nexport var isTranslate = (data: BatchTransformData) => {\r\n    return !!data.position || !!data.localPosition;\r\n}\r\n\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport { deleteVal, isNotValidMapValue } from \"../../utils/objectUtils\";\r\nimport { getIsTranslate, setIsTranslate } from \"./isTransformSystem\";\r\nimport { getUID } from \"./utils\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { ThreeDTransformCacheMap } from \"./ThreeDTransformData\";\r\n\r\nexport var clearCache = curry((ThreeDTransformData: any, state: Map<any, any>) => {\r\n    var count: number = null,\r\n        cacheMap: ThreeDTransformCacheMap = null;\r\n\r\n    if (ThreeDTransformData.isClearCacheMap) {\r\n        ThreeDTransformData.isClearCacheMap = false;\r\n\r\n        return;\r\n    }\r\n\r\n    count = ThreeDTransformData.maxCount;\r\n    cacheMap = ThreeDTransformData.cacheMap;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        let uid = getUID(i, ThreeDTransformData),\r\n            isTranslate = getIsTranslate(uid, ThreeDTransformData);\r\n\r\n        if (isTranslate) {\r\n            deleteVal(uid, cacheMap);\r\n\r\n            setIsTranslate(uid, false, ThreeDTransformData);\r\n        }\r\n\r\n        //todo clean more cache!\r\n    }\r\n})\r\n\r\nexport var clearCacheMap = (ThreeDTransformData: any) => {\r\n    ThreeDTransformData.cacheMap = {};\r\n\r\n    ThreeDTransformData.isClearCacheMap = true;\r\n}\r\n\r\nexport var getLocalToWorldMatrixCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).localToWorldMatrix;\r\n}\r\n\r\nexport var setLocalToWorldMatrixCache = (uid: number, mat: Matrix4, ThreeTransformData: any) => {\r\n    _getCache(uid, ThreeTransformData).localToWorldMatrix = mat;\r\n}\r\n\r\nexport var getPositionCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).position;\r\n}\r\n\r\nexport var setPositionCache = (uid: number, pos: Vector3, ThreeTransformData: any) => {\r\n    _getCache(uid, ThreeTransformData).position = pos;\r\n}\r\n\r\nexport var getLocalPositionCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).localPosition;\r\n}\r\n\r\nexport var setLocalPositionCache = (uid: number, pos: Vector3, ThreeTransformData: any) => {\r\n    ThreeTransformData.cacheMap[uid].localPosition = pos;\r\n}\r\n\r\nvar _getCache = (uid: number, ThreeTransformData: any) => {\r\n    var cache = ThreeTransformData.cacheMap[uid];\r\n\r\n    if (isNotValidMapValue(cache)) {\r\n        cache = {};\r\n        ThreeTransformData.cacheMap[uid] = cache;\r\n    }\r\n\r\n    return cache;\r\n}\r\n","import { compose } from \"../../utils/functionalUtils\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { addFirstDirtyIndex, generateNotUsedIndexInNormalList } from \"./dirtySystem\";\r\nimport { getUID } from \"./utils\";\r\nimport { getParent as getThreeDTransformDataParent, isParentExist } from \"./hierarchySystem\";\r\nimport {\r\n    getMatrix4DataIndexInArrayBuffer, getQuaternionDataIndexInArrayBuffer, getVector3DataIndexInArrayBuffer,\r\n    moveToIndex,\r\n    setLocalToWorldMatricesData,\r\n    swap\r\n} from \"./operateDataSystem\";\r\nimport { Map } from \"immutable\";\r\nimport { clearCache } from \"./cacheSystem\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { setMatrix4ByIndex, setQuaternionByIndex, setVector3ByIndex } from \"../../utils/typeArrayUtils\";\r\n\r\nexport var update = (elapsed: number, GlobalTempData: any, ThreeDTransformData: any, state: Map<any, any>) => {\r\n    return compose(\r\n        _cleanDirtyList(ThreeDTransformData),\r\n        _updateDirtyList(GlobalTempData, ThreeDTransformData),\r\n        clearCache(ThreeDTransformData)\r\n    )(state);\r\n}\r\n\r\nvar _updateDirtyList = requireCheckFunc(curry((GlobalTempData: any, ThreeDTransformData: any, state: Map<any, any>) => {\r\n    it(\"firstDirtyIndex should <= maxCount\", () => {\r\n        expect(ThreeDTransformData.firstDirtyIndex).lte(ThreeDTransformData.maxCount)\r\n    })\r\n}), curry((GlobalTempData: any, ThreeDTransformData: any, state: Map<any, any>) => {\r\n    _sortParentBeforeChildInDirtyList(ThreeDTransformData);\r\n\r\n    let count = ThreeDTransformData.maxCount;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        _transform(i, GlobalTempData, ThreeDTransformData);\r\n    }\r\n\r\n    return state;\r\n}))\r\n\r\n//todo optimize: if transform not transformed in 5 frames, not move off\r\nvar _cleanDirtyList = requireCheckFunc(curry((ThreeDTransformData: any, state: Map<any, any>) => {\r\n    it(\"firstDirtyIndex should <= maxCount\", () => {\r\n        expect(ThreeDTransformData.firstDirtyIndex).lte(ThreeDTransformData.maxCount)\r\n    })\r\n}), curry((ThreeDTransformData: any, state: Map<any, any>) => {\r\n    var count = ThreeDTransformData.maxCount;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        if (_needMoveOffDirtyList(i)) {\r\n            _moveFromDirtyListToNormalList(i, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return state;\r\n}))\r\n\r\nvar _needMoveOffDirtyList = (index: number) => {\r\n    return true;\r\n}\r\n\r\nvar _moveFromDirtyListToNormalList = (index: number, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.firstDirtyIndex = addFirstDirtyIndex(ThreeDTransformData);\r\n\r\n    moveToIndex(index, generateNotUsedIndexInNormalList(ThreeDTransformData), ThreeDTransformData);\r\n}\r\n\r\nvar _transform = (index: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var vec3Index = getVector3DataIndexInArrayBuffer(index),\r\n        quaIndex = getQuaternionDataIndexInArrayBuffer(index),\r\n        mat4Index = getMatrix4DataIndexInArrayBuffer(index),\r\n        mat = GlobalTempData.matrix4_2.setTRS(\r\n            setVector3ByIndex(GlobalTempData.vector3_1, ThreeDTransformData.localPositions, vec3Index),\r\n            setQuaternionByIndex(GlobalTempData.quaternion_1, ThreeDTransformData.localRotations, quaIndex),\r\n            setVector3ByIndex(GlobalTempData.vector3_2, ThreeDTransformData.localScales, vec3Index)\r\n        ),\r\n        parent = getThreeDTransformDataParent(getUID(index, ThreeDTransformData), ThreeDTransformData);\r\n\r\n    if (isParentExist(parent)) {\r\n        let parentIndex = parent.index;\r\n\r\n        return setLocalToWorldMatricesData(setMatrix4ByIndex(GlobalTempData.matrix4_1, ThreeDTransformData.localToWorldMatrices, getMatrix4DataIndexInArrayBuffer(parentIndex))\r\n            .multiply(mat),\r\n            mat4Index,\r\n            ThreeDTransformData\r\n        );\r\n    }\r\n\r\n    return setLocalToWorldMatricesData(\r\n        mat,\r\n        mat4Index,\r\n        ThreeDTransformData\r\n    );\r\n}\r\n\r\nvar _sortParentBeforeChildInDirtyList = (ThreeDTransformData: any) => {\r\n    var count = ThreeDTransformData.maxCount;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        let parent = getThreeDTransformDataParent(getUID(i, ThreeDTransformData), ThreeDTransformData);\r\n\r\n        if (isParentExist(parent)) {\r\n            let parentIndex = parent.index;\r\n\r\n            if (parentIndex > i) {\r\n                swap(parentIndex, i, ThreeDTransformData);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","import { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { checkComponentShouldAlive } from \"../ComponentSystem\";\r\nimport { isAlive } from \"./ThreeDTransformSystem\";\r\n\r\nexport var checkTransformShouldAlive = (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    checkComponentShouldAlive(transform, ThreeDTransformData, (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n        return isAlive(transform, ThreeDTransformData);\r\n    });\r\n}\r\n\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { getChildren, getParent, isChildrenExist } from \"./hierarchySystem\";\r\nimport { BatchTransformData, ThreeDTransform } from \"./ThreeDTransform\";\r\nimport {\r\n    getVector3DataIndexInArrayBuffer, moveMapDataToIndex, moveTypeArrDataToIndex, setLocalPositionData, setPositionData,\r\n    swapTransformMapData,\r\n    swapTypeArrData\r\n} from \"./operateDataSystem\";\r\nimport { isTranslate, setIsTranslate } from \"./isTransformSystem\";\r\nimport { addNotUsedIndex, isNotDirty, minusFirstDirtyIndex } from \"./dirtySystem\";\r\nimport { isIndexUsed } from \"./utils\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { compose } from \"../../utils/functionalUtils\";\r\nimport { checkTransformShouldAlive } from \"./contractUtils\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\nimport { isNotAlive } from \"./ThreeDTransformSystem\";\r\n\r\nexport var setBatchDatas = requireCheckFunc((batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeTransformData: any) => {\r\n    for (let data of batchData) {\r\n        checkTransformShouldAlive(data.transform, ThreeTransformData);\r\n    }\r\n}, (batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    compose(\r\n        _addBatchToDirtyListByChangeMapData(ThreeDTransformData, ThreeDTransformData.firstDirtyIndex),\r\n        _addBatchToDirtyListByChangeTypeArrData(ThreeDTransformData, ThreeDTransformData.firstDirtyIndex),\r\n        ([noDirtyIndex, targetDirtyIndex]) => {\r\n            ThreeDTransformData.firstDirtyIndex = targetDirtyIndex;\r\n\r\n            return noDirtyIndex;\r\n        },\r\n        _getAllTransfomrsNotDirtyIndexArrAndMarkTransform(batchData),\r\n        _setBatchTransformData(batchData, GlobalTempData)\r\n    )(ThreeDTransformData);\r\n})\r\n\r\nvar _setBatchTransformData = curry((batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    for (let data of batchData) {\r\n        let transform = data.transform,\r\n            indexInArrayBuffer = transform.index,\r\n            uid = transform.uid,\r\n            parent = getParent(uid, ThreeDTransformData),\r\n            vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer),\r\n            { position, localPosition } = data;\r\n\r\n        if (localPosition) {\r\n            setLocalPositionData(localPosition, vec3IndexInArrayBuffer, ThreeDTransformData);\r\n        }\r\n\r\n        if (position) {\r\n            setPositionData(indexInArrayBuffer, parent, vec3IndexInArrayBuffer, position, GlobalTempData, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n})\r\n\r\nvar _getAllTransfomrsNotDirtyIndexArrAndMarkTransform = curry((batchData: Array<BatchTransformData>, ThreeDTransformData: any) => {\r\n    var notDirtyIndexArr = [],\r\n        firstDirtyIndex = ThreeDTransformData.firstDirtyIndex;\r\n    var _getNotDirtyIndex = (indexInArrayBuffer, uid, notDirtyIndexArr, isTranslate: boolean, ThreeDTransformData) => {\r\n        var children = getChildren(uid, ThreeDTransformData);\r\n\r\n        if (isTranslate) {\r\n            setIsTranslate(uid, true, ThreeDTransformData);\r\n        }\r\n\r\n        if (isNotDirty(indexInArrayBuffer, firstDirtyIndex)) {\r\n            notDirtyIndexArr.push(indexInArrayBuffer);\r\n\r\n            firstDirtyIndex = minusFirstDirtyIndex(firstDirtyIndex);\r\n        }\r\n\r\n        if (isChildrenExist(children)) {\r\n            forEach(children, (child: ThreeDTransform) => {\r\n                if (isNotAlive(child, ThreeDTransformData)) {\r\n                    return;\r\n                }\r\n\r\n                _getNotDirtyIndex(child.index, child.uid, notDirtyIndexArr, isTranslate, ThreeDTransformData)\r\n            })\r\n        }\r\n    }\r\n\r\n    for (let data of batchData) {\r\n        let transform = data.transform,\r\n            indexInArrayBuffer = transform.index;\r\n\r\n        _getNotDirtyIndex(indexInArrayBuffer, transform.uid, notDirtyIndexArr, isTranslate(data), ThreeDTransformData);\r\n    }\r\n\r\n    return [notDirtyIndexArr, firstDirtyIndex];\r\n});\r\n\r\n\r\nvar _addBatchToDirtyList = (ThreeDTransformData: any, targetDirtyIndex: number, swapFunc: Function, moveToIndexFunc: Function, notDirtyIndexArr: Array<number>) => {\r\n    for (let indexInArrayBuffer of notDirtyIndexArr) {\r\n        targetDirtyIndex = minusFirstDirtyIndex(targetDirtyIndex);\r\n\r\n        if (isIndexUsed(targetDirtyIndex, ThreeDTransformData)) {\r\n            swapFunc(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n        }\r\n        else {\r\n            moveToIndexFunc(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return targetDirtyIndex;\r\n}\r\n\r\nvar _addBatchToDirtyListByChangeTypeArrData = curry((ThreeDTransformData: any, targetDirtyIndex: number, notDirtyIndexArr: Array<number>) => {\r\n    _addBatchToDirtyList(ThreeDTransformData, targetDirtyIndex, swapTypeArrData, moveTypeArrDataToIndex, notDirtyIndexArr);\r\n\r\n    return notDirtyIndexArr;\r\n})\r\n\r\n\r\nvar _addBatchToDirtyListByChangeMapData = curry((ThreeDTransformData: any, targetDirtyIndex: number, notDirtyIndexArr: Array<number>) => {\r\n    return _addBatchToDirtyList(ThreeDTransformData, targetDirtyIndex, swapTransformMapData, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n        moveMapDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n        addNotUsedIndex(sourceIndex, ThreeDTransformData.notUsedIndexLinkList);\r\n    }, notDirtyIndexArr);\r\n})\r\n\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { Tag } from \"./Tag\";\r\n\r\nexport class TagData {\r\n    public static tagArray: Array<string> = null;\r\n\r\n    public static slotCountMap: Array<number> = null;\r\n    public static usedSlotCountMap: Array<number> = null;\r\n\r\n    public static indexMap: Array<number> = null;\r\n    public static indexInTagArrayMap: Array<number> = null;\r\n\r\n    public static lastIndexInTagArray: number = null;\r\n\r\n    public static tagMap: TagMap = null;\r\n\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n    public static disposeCount: number = null;\r\n}\r\n\r\nexport type TagMap = {\r\n    [index: number]: Tag\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Component } from \"../Component\";\r\nimport {\r\n    addTag as addTagSystemTag, removeTag as removeTagSystemTag, create,\r\n    findGameObjectsByTag as findTagSystemTagGameObjectsByTag, getGameObject\r\n} from \"./TagSystem\";\r\nimport { TagData } from \"./TagData\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { checkComponentShouldAlive } from \"../ComponentSystem\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\n\r\n@registerClass(\"Tag\")\r\nexport class Tag extends Component {\r\n}\r\n\r\nexport var createTag = (slotCount: number = 4) => {\r\n    return create(slotCount, TagData);\r\n}\r\n\r\nexport var addTag = requireCheckFunc((component: Tag, tag: string) => {\r\n    _checkShouldAlive(component, TagData);\r\n}, (component: Tag, tag: string) => {\r\n    addTagSystemTag(component, tag, TagData);\r\n})\r\n\r\nexport var removeTag = requireCheckFunc((component: Tag, tag: string) => {\r\n    _checkShouldAlive(component, TagData);\r\n}, (component: Tag, tag: string) => {\r\n    removeTagSystemTag(component, tag, TagData);\r\n})\r\n\r\nexport var findGameObjectsByTag = (tag: string) => {\r\n    return findTagSystemTagGameObjectsByTag(tag, TagData);\r\n}\r\n\r\nexport var getTagGameObject = requireCheckFunc((component: Tag) => {\r\n    _checkShouldAlive(component, TagData);\r\n}, (component: Tag) => {\r\n    return getGameObject(component.index, TagData);\r\n})\r\n\r\nvar _checkShouldAlive = (tag: Tag, TagData: any) => {\r\n    checkComponentShouldAlive(tag, TagData, (tag: Tag, TagData: any) => {\r\n        return isValidMapValue(TagData.indexMap[TagData.indexInTagArrayMap[tag.index]]);\r\n    })\r\n}\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Tag } from \"./Tag\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap,\r\n    generateComponentIndex, getComponentGameObject, markComponentIndexRemoved\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteVal } from \"../../utils/objectUtils\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\nimport { TagData } from \"./TagData\";\r\nimport { isDisposeTooManyComponents, reAllocateTag } from \"../../utils/memoryUtils\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = ensureFunc((tag: Tag, slotCount: number, TagData: any) => {\r\n    it(\"slot array should has no hole\", () => {\r\n        for (let count of TagData.slotCountMap) {\r\n            expect(count).exist;\r\n        }\r\n    });\r\n    // it(\"used slot array should has no hole\", () => {\r\n    //     for(let count of TagData.usedSlotCountMap){\r\n    //         expect(count).exist;\r\n    //     }\r\n    // });\r\n}, (slotCount: number, TagData: any) => {\r\n    var tag = new Tag(),\r\n        index = generateComponentIndex(TagData);\r\n\r\n    tag.index = index;\r\n\r\n    TagData.count += 1;\r\n\r\n    _setSlotCount(index, slotCount, TagData.slotCountMap);\r\n    _setUsedSlotCount(index, 0, TagData.usedSlotCountMap);\r\n\r\n    setNextIndexInTagArrayMap(index, slotCount, TagData.indexInTagArrayMap);\r\n\r\n    _initIndexMap(index, slotCount, TagData);\r\n\r\n    TagData.lastIndexInTagArray += slotCount;\r\n\r\n    TagData.tagMap[index] = tag;\r\n\r\n    return tag;\r\n})\r\n\r\nexport var setNextIndexInTagArrayMap = requireCheckFunc((index: number, slotCount: number, indexInTagArrayMap: Array<number>) => {\r\n    it(\"index should >= 0\", () => {\r\n        expect(index).gte(0);\r\n    });\r\n}, (index: number, slotCount: number, indexInTagArrayMap: Array<number>) => {\r\n    indexInTagArrayMap[index + 1] = indexInTagArrayMap[index] + slotCount;\r\n})\r\n\r\nvar _initIndexMap = (index: number, slotCount: number, TagData: any) => {\r\n    var indexMap = TagData.indexMap,\r\n        lastIndexInTagArray = TagData.lastIndexInTagArray;\r\n\r\n    for (let i = lastIndexInTagArray, count = lastIndexInTagArray + slotCount; i < count; i++) {\r\n        indexMap[i] = index;\r\n    }\r\n}\r\n\r\nexport var addTag = requireCheckFunc((tagComponent: Tag, tag: string, TagData: any) => {\r\n    it(\"tag should not already be added\", () => {\r\n        var index = tagComponent.index,\r\n            indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n            tagArray = TagData.tagArray,\r\n            slotCountMap = TagData.slotCountMap,\r\n            currentSlotCount = getSlotCount(index, slotCountMap);\r\n\r\n        expect(tagArray.slice(indexInArray, indexInArray + currentSlotCount).indexOf(tag) > -1).false;\r\n    });\r\n}, (tagComponent: Tag, tag: string, TagData: any) => {\r\n    var index = tagComponent.index,\r\n        indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        slotCountMap = TagData.slotCountMap,\r\n        tagArray = TagData.tagArray,\r\n        usedSlotCountMap = TagData.usedSlotCountMap,\r\n        currentSlotCount = getSlotCount(index, slotCountMap),\r\n        currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap);\r\n\r\n    if (_isSlotAllUsed(currentUsedSlotCount, currentSlotCount)) {\r\n        let increasedSlotCount = _allocateDoubleSlotCountAndAddTag(indexInArray, index, tag, currentSlotCount, currentUsedSlotCount, TagData),\r\n            slotCount = currentSlotCount + increasedSlotCount;\r\n\r\n        _setSlotCount(index, slotCount, slotCountMap);\r\n\r\n        _updateIndexInTagArrayMap(index, increasedSlotCount, TagData);\r\n\r\n        TagData.lastIndexInTagArray = _updateIndexMap(indexInArray, index, increasedSlotCount, TagData);\r\n    }\r\n    else {\r\n        tagArray[indexInArray + currentUsedSlotCount] = tag;\r\n    }\r\n\r\n    _setUsedSlotCount(index, currentUsedSlotCount + 1, usedSlotCountMap);\r\n})\r\n\r\nvar _updateIndexInTagArrayMap = (startIndex: number, increasedSlotCount: number, TagData: any) => {\r\n    var count = TagData.count,\r\n        indexInTagArrayMap = TagData.indexInTagArrayMap;\r\n\r\n    for (let i = startIndex + 1; i <= count; i++) {\r\n        indexInTagArrayMap[i] += increasedSlotCount;\r\n    }\r\n}\r\n\r\nvar _updateIndexMap = (indexInArray: number, index: number, increasedSlotCount: number, TagData: any) => {\r\n    var indexMap = TagData.indexMap,\r\n        lastIndexInTagArray = TagData.lastIndexInTagArray + increasedSlotCount,\r\n        spliceParamArr = [indexInArray + increasedSlotCount, 0];\r\n\r\n    for (let i = 0; i < increasedSlotCount; i++) {\r\n        spliceParamArr.push(index);\r\n    }\r\n\r\n    Array.prototype.splice.apply(indexMap, spliceParamArr);\r\n\r\n    return lastIndexInTagArray;\r\n}\r\n\r\n//todo optimize: collect redundant allocated slot count\r\nexport var removeTag = requireCheckFunc((tagComponent: Tag, tag: string, TagData: any) => {\r\n    it(\"current used slot count should >= 0\", () => {\r\n        var index = tagComponent.index,\r\n            usedSlotCountMap = TagData.usedSlotCountMap;\r\n\r\n        expect(getUsedSlotCount(index, usedSlotCountMap)).gte(0);\r\n    });\r\n}, (tagComponent: Tag, tag: string, TagData: any) => {\r\n    var index = tagComponent.index,\r\n        indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        usedSlotCountMap = TagData.usedSlotCountMap,\r\n        tagArray = TagData.tagArray,\r\n        currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap),\r\n        newUsedSlotCount = currentUsedSlotCount;\r\n\r\n    for (let i = indexInArray, count = indexInArray + currentUsedSlotCount; i < count; i++) {\r\n        if (tagArray[i] === tag) {\r\n            tagArray[i] = void 0;\r\n            newUsedSlotCount = currentUsedSlotCount - 1;\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (newUsedSlotCount <= 0) {\r\n        newUsedSlotCount = 0;\r\n    }\r\n\r\n    _setUsedSlotCount(index, newUsedSlotCount, usedSlotCountMap);\r\n})\r\n\r\nexport var addComponent = (component: Tag, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(TagData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var getSlotCount = (index: number, slotCountMap: Array<number>) => {\r\n    return slotCountMap[index];\r\n}\r\n\r\nvar _setSlotCount = (index: number, slotCount: number, slotCountMap: Array<number>) => {\r\n    slotCountMap[index] = slotCount;\r\n}\r\n\r\nexport var getUsedSlotCount = (index: number, usedSlotCountMap: Array<number>) => {\r\n    return usedSlotCountMap[index];\r\n}\r\n\r\nvar _setUsedSlotCount = (index: number, slotCount: number, usedSlotCountMap: Array<number>) => {\r\n    usedSlotCountMap[index] = slotCount;\r\n}\r\n\r\nvar _isSlotAllUsed = requireCheckFunc((currentUsedSlotCount: number, currentSlotCount: number) => {\r\n    it(\"usedSlotCount should <= slotCount\", () => {\r\n        expect(currentUsedSlotCount).lte(currentSlotCount);\r\n    });\r\n}, (currentUsedSlotCount: number, currentSlotCount: number) => {\r\n    return currentUsedSlotCount === currentSlotCount;\r\n})\r\n\r\nvar _allocateDoubleSlotCountAndAddTag = (indexInArray: number, index: number, tag: string, currentSlotCount: number, currentUsedSlotCount: number, TagData: any) => {\r\n    var spliceArr = [indexInArray + currentUsedSlotCount, 0, tag],\r\n        tagArray = TagData.tagArray;\r\n\r\n    for (let i = 0, len = currentSlotCount - 1; i < len; i++) {\r\n        spliceArr.push(null);\r\n    }\r\n\r\n    Array.prototype.splice.apply(tagArray, spliceArr);\r\n\r\n    return currentSlotCount;\r\n}\r\n\r\nvar _convertTagIndexToIndexInArray = (tagIndex: number, TagData: any) => {\r\n    return TagData.indexInTagArrayMap[tagIndex];\r\n}\r\n\r\nvar _convertIndexInArrayToTagIndex = (indexInTagArray: number, TagData: any) => {\r\n    return TagData.indexMap[indexInTagArray];\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, tag: Tag) => {\r\n    it(\"count should >= 0\", () => {\r\n        expect(TagData.count).gte(0);\r\n    });\r\n}, (tag: Tag) => {\r\n    var index = tag.index,\r\n        indexInTagArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        currentUsedSlotCount = getUsedSlotCount(index, TagData.usedSlotCountMap),\r\n        tagArray = TagData.tagArray;\r\n\r\n    for (let i = indexInTagArray, count = indexInTagArray + currentUsedSlotCount; i < count; i++) {\r\n        tagArray[i] = void 0;\r\n    }\r\n\r\n    /*!\r\n    delete for isAlive check\r\n     */\r\n    deleteVal(indexInTagArray, TagData.indexMap);\r\n\r\n    TagData.count -= 1;\r\n\r\n    markComponentIndexRemoved(TagData.tagMap[index]);\r\n\r\n    TagData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(TagData.disposeCount)) {\r\n        reAllocateTag(TagData);\r\n\r\n        TagData.disposeCount = 0;\r\n    }\r\n})\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var findGameObjectsByTag = (targetTag: string, TagData: any) => {\r\n    var gameObjectArr: Array<GameObject> = [],\r\n        gameObjectMap = TagData.gameObjectMap;\r\n\r\n    forEach(TagData.tagArray, (tag: string, indexInTagArray: number) => {\r\n        if (tag === targetTag) {\r\n            gameObjectArr.push(gameObjectMap[_convertIndexInArrayToTagIndex(indexInTagArray, TagData)]);\r\n        }\r\n    });\r\n\r\n    return gameObjectArr;\r\n}\r\n\r\nexport var initData = (TagData: any) => {\r\n    TagData.tagArray = [];\r\n    TagData.slotCountMap = [];\r\n    TagData.usedSlotCountMap = [];\r\n    TagData.indexMap = [];\r\n    TagData.indexInTagArrayMap = [0];\r\n    TagData.gameObjectMap = createMap();\r\n    TagData.tagMap = createMap();\r\n\r\n    TagData.lastIndexInTagArray = 0;\r\n    TagData.index = 0;\r\n    TagData.count = 0;\r\n    TagData.disposeCount = 0;\r\n}\r\n","export const MemoryConfig = {\r\n    maxComponentDisposeCount: 1000\r\n};\r\n\r\n","import { createMap, deleteVal, isNotValidMapValue, isValidMapValue } from \"./objectUtils\";\r\nimport { clearCacheMap } from \"../component/transform/cacheSystem\";\r\nimport { getSlotCount, getUsedSlotCount, setNextIndexInTagArrayMap } from \"../component/tag/TagSystem\";\r\nimport { isNotValidVal } from \"./arrayUtils\";\r\nimport { MemoryConfig } from \"../config/MemoryConfig\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Component } from \"../component/Component\";\r\nimport { checkIndexShouldEqualCount } from \"../component/utils/contractUtils\";\r\nimport { GeometryInfo, GeometryInfoList } from \"../definition/type/geometryType\";\r\nimport { set } from \"./typeArrayUtils\";\r\nimport {\r\n    getChildren as getGameObjectChildren, isAlive as isGameObjectAlive,\r\n    setChildren as setGameObjectChildren\r\n} from \"../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { isNotUndefined } from \"./JudgeUtils\";\r\nimport { isAlive as isThreeDTransformAlive } from \"../component/transform/ThreeDTransformSystem\";\r\nimport {\r\n    getChildren as getThreeDTransformChildren,\r\n    setChildren as setThreeDTransformChildren\r\n} from \"../component/transform/hierarchySystem\";\r\n\r\nexport var isDisposeTooManyComponents = (disposeCount: number, maxComponentDisposeCount: number = MemoryConfig.maxComponentDisposeCount) => {\r\n    return disposeCount >= maxComponentDisposeCount;\r\n}\r\n\r\nvar _setMapVal = (map: object, key: number, val: any) => {\r\n    map[key] = val;\r\n}\r\n\r\nvar _setArrayVal = (arr: Array<any>, index: number, val: any) => {\r\n    arr[index] = val;\r\n}\r\n\r\nexport var reAllocateThreeDTransform = (ThreeDTransformData: any) => {\r\n    var val: any = null,\r\n        newParentMap = createMap(),\r\n        newChildrenMap = createMap(),\r\n        newIsTranslateMap = createMap(),\r\n        newGameObjectMap = createMap(),\r\n        newTempMap = createMap(),\r\n        newAliveUIDArray: Array<number> = [],\r\n        aliveUIDArray = ThreeDTransformData.aliveUIDArray,\r\n        parentMap = ThreeDTransformData.parentMap,\r\n        childrenMap = ThreeDTransformData.childrenMap,\r\n        isTranslateMap = ThreeDTransformData.isTranslateMap,\r\n        gameObjectMap = ThreeDTransformData.gameObjectMap,\r\n        tempMap = ThreeDTransformData.tempMap;\r\n\r\n    clearCacheMap(ThreeDTransformData);\r\n\r\n\r\n    let disposedUIDArr = [],\r\n        actualAliveUIDArr = [];\r\n\r\n    for (let uid of aliveUIDArray) {\r\n        val = childrenMap[uid];\r\n\r\n        if (isNotValidMapValue(val)) {\r\n            disposedUIDArr.push(uid);\r\n        }\r\n        else {\r\n            actualAliveUIDArr.push(uid);\r\n        }\r\n    }\r\n\r\n    _cleanChildrenMap(disposedUIDArr, parentMap, isThreeDTransformAlive, getThreeDTransformChildren, setThreeDTransformChildren, ThreeDTransformData);\r\n\r\n    for (let uid of actualAliveUIDArr) {\r\n        val = childrenMap[uid];\r\n\r\n        newAliveUIDArray.push(uid);\r\n\r\n        _setMapVal(newChildrenMap, uid, val);\r\n\r\n        val = tempMap[uid];\r\n        _setMapVal(newTempMap, uid, val);\r\n\r\n        val = parentMap[uid];\r\n        _setMapVal(newParentMap, uid, val);\r\n\r\n        val = isTranslateMap[uid];\r\n        _setMapVal(newIsTranslateMap, uid, val);\r\n\r\n        val = gameObjectMap[uid];\r\n        _setMapVal(newGameObjectMap, uid, val);\r\n    }\r\n\r\n    ThreeDTransformData.parentMap = newParentMap;\r\n    ThreeDTransformData.childrenMap = newChildrenMap;\r\n    ThreeDTransformData.isTranslateMap = newIsTranslateMap;\r\n    ThreeDTransformData.tempMap = newTempMap;\r\n    ThreeDTransformData.gameObjectMap = newGameObjectMap;\r\n\r\n    ThreeDTransformData.aliveUIDArray = newAliveUIDArray;\r\n}\r\n\r\nexport var reAllocateGameObject = (GameObjectData: any) => {\r\n    let val: any = null,\r\n        newParentMap = createMap(),\r\n        newChildrenMap = createMap(),\r\n        newComponentMap = createMap(),\r\n        newAliveUIDArray: Array<number> = [],\r\n        aliveUIDArray = GameObjectData.aliveUIDArray,\r\n        parentMap = GameObjectData.parentMap,\r\n        childrenMap = GameObjectData.childrenMap,\r\n        componentMap = GameObjectData.componentMap,\r\n        disposedUIDArr = [],\r\n        actualAliveUIDArr = [];\r\n\r\n    for (let uid of aliveUIDArray) {\r\n        val = componentMap[uid];\r\n\r\n        if (isNotValidMapValue(val)) {\r\n            disposedUIDArr.push(uid);\r\n        }\r\n        else {\r\n            actualAliveUIDArr.push(uid);\r\n        }\r\n    }\r\n\r\n    _cleanChildrenMap(disposedUIDArr, parentMap, isGameObjectAlive, getGameObjectChildren, setGameObjectChildren, GameObjectData);\r\n\r\n    for (let uid of actualAliveUIDArr) {\r\n        val = componentMap[uid];\r\n\r\n        newAliveUIDArray.push(uid);\r\n\r\n        _setMapVal(newComponentMap, uid, val);\r\n\r\n        val = parentMap[uid];\r\n        _setMapVal(newParentMap, uid, val);\r\n\r\n        val = childrenMap[uid];\r\n        _setMapVal(newChildrenMap, uid, val);\r\n    }\r\n\r\n    GameObjectData.parentMap = newParentMap;\r\n    GameObjectData.childrenMap = newChildrenMap;\r\n    GameObjectData.componentMap = newComponentMap;\r\n    GameObjectData.aliveUIDArray = newAliveUIDArray;\r\n};\r\n\r\nvar _cleanChildrenMap = (disposedUIDArr: Array<number>, parentMap: object, isAlive: Function, getChildren: Function, setChildren: Function, Data: any) => {\r\n    var isCleanedParentMap = createMap();\r\n\r\n    for (let uid of disposedUIDArr) {\r\n        let parent = parentMap[uid];\r\n\r\n        if (_isParentExist(parent)) {\r\n            let parentUID = parent.uid;\r\n\r\n            if (isValidMapValue(isCleanedParentMap[parentUID])) {\r\n                continue;\r\n            }\r\n\r\n            _cleanChildren(parentUID, isAlive, getChildren, setChildren, Data);\r\n\r\n            deleteVal(uid, parentMap);\r\n        }\r\n    }\r\n}\r\n\r\nvar _cleanChildren = (parentUID: number, isAlive: Function, getChildren: Function, setChildren: Function, Data: any) => {\r\n    var children = getChildren(parentUID, Data);\r\n\r\n    if (!_isChildrenExist(children)) {\r\n        return;\r\n    }\r\n\r\n    let newChildren: Array<Component> = [];\r\n\r\n    for (let i = 0, len = children.length; i < len; ++i) {\r\n        let child = children[i];\r\n\r\n        if (isAlive(child, Data)) {\r\n            newChildren.push(child);\r\n        }\r\n    }\r\n\r\n    setChildren(parentUID, newChildren, Data);\r\n};\r\n\r\nvar _isParentExist = (parent: Component) => isNotUndefined(parent);\r\n\r\nvar _isChildrenExist = (children: Array<Component>) => isNotUndefined(children);\r\n\r\nexport var reAllocateTag = (TagData: any) => {\r\n    var usedSlotCountMap = TagData.usedSlotCountMap,\r\n        slotCountMap = TagData.slotCountMap,\r\n        indexMap = TagData.indexMap,\r\n        tagArray = TagData.tagArray,\r\n        gameObjectMap = TagData.gameObjectMap,\r\n        indexInTagArrayMap = TagData.indexInTagArrayMap,\r\n        tagMap = TagData.tagMap,\r\n        newIndexInTagArrayMap: Array<number> = [0],\r\n        newTagArray = [],\r\n        newGameObjectMap = createMap(),\r\n        newUsedSlotCountMap = [],\r\n        newSlotCountMap = [],\r\n        newIndexMap = [],\r\n        newTagMap = createMap(),\r\n        newIndexInTagArray = 0,\r\n        newIndexInTagArrayInMap = null,\r\n        newIndex = 0,\r\n        newLastIndexInTagArray = 0,\r\n        hasNewData = false,\r\n        tagIndex: number = null;\r\n\r\n    for (let indexInTagArray of indexInTagArrayMap) {\r\n        let index = indexMap[indexInTagArray];\r\n\r\n        if (isNotValidVal(index)) {\r\n            continue;\r\n        }\r\n\r\n        hasNewData = true;\r\n\r\n        let currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap),\r\n            tag = tagMap[index];\r\n\r\n        newGameObjectMap[newIndex] = gameObjectMap[index];\r\n        newSlotCountMap[newIndex] = getSlotCount(index, slotCountMap);\r\n        newUsedSlotCountMap[newIndex] = currentUsedSlotCount;\r\n\r\n        newIndexInTagArrayInMap = newIndexInTagArray;\r\n        newIndexInTagArrayMap[newIndex] = newIndexInTagArrayInMap;\r\n\r\n        tag.index = newIndex;\r\n        newTagMap[newIndex] = tag;\r\n\r\n        for (let i = indexInTagArray, count = indexInTagArray + currentUsedSlotCount; i < count; i++) {\r\n            newTagArray[newIndexInTagArray] = tagArray[i];\r\n\r\n            newIndexMap[newIndexInTagArray] = newIndex;\r\n\r\n            newIndexInTagArray += 1;\r\n        }\r\n\r\n        newIndex += 1;\r\n    }\r\n\r\n    if (hasNewData) {\r\n        newIndex -= 1;\r\n\r\n        newLastIndexInTagArray = newIndexInTagArrayInMap + getSlotCount(newIndex, newSlotCountMap);\r\n\r\n        tagIndex = newIndex + 1;\r\n    }\r\n    else {\r\n        tagIndex = 0;\r\n    }\r\n\r\n    setNextIndexInTagArrayMap(newIndex, newSlotCountMap[newIndex], newIndexInTagArrayMap);\r\n\r\n    TagData.slotCountMap = newSlotCountMap;\r\n    TagData.usedSlotCountMap = newUsedSlotCountMap;\r\n    TagData.gameObjectMap = newGameObjectMap;\r\n    TagData.tagMap = newTagMap;\r\n\r\n    TagData.indexMap = newIndexMap;\r\n\r\n    TagData.indexInTagArrayMap = newIndexInTagArrayMap;\r\n\r\n    TagData.lastIndexInTagArray = newLastIndexInTagArray;\r\n    TagData.tagArray = newTagArray;\r\n\r\n    TagData.index = tagIndex;\r\n};\r\n\r\nexport var reAllocateGeometry = ensureFunc((returnVal: any, GeometryData: any) => {\r\n    checkIndexShouldEqualCount(GeometryData);\r\n}, (GeometryData: any) => {\r\n    let val: any = null,\r\n        // hasNewData = false,\r\n        index = GeometryData.index,\r\n        vertices = GeometryData.vertices,\r\n        indices = GeometryData.indices,\r\n        verticesInfoList = GeometryData.verticesInfoList,\r\n        indicesInfoList = GeometryData.indicesInfoList,\r\n        gameObjectMap = GeometryData.gameObjectMap,\r\n        geometryMap = GeometryData.geometryMap,\r\n        computeDataFuncMap = GeometryData.computeDataFuncMap,\r\n        configDataMap = GeometryData.configDataMap,\r\n        verticesCacheMap = GeometryData.verticesCacheMap,\r\n        indicesCacheMap = GeometryData.indicesCacheMap,\r\n        newIndexInArrayBuffer = 0,\r\n        newVerticesOffset = 0,\r\n        newIndicesOffset = 0,\r\n        newVertivesInfoList = [],\r\n        newIndicesInfoList = [],\r\n        newGameObjectMap = createMap(),\r\n        newGeometryMap = createMap(),\r\n        newComputeDatafuncMap = createMap(),\r\n        newConfigDataMap: Array<number> = [],\r\n        newVerticesCacheMap: Array<number> = [],\r\n        newIndicesCacheMap: Array<number> = [],\r\n        newVertices: Array<number> = [],\r\n        newIndices: Array<number> = [],\r\n        disposedIndexArray: Array<number> = [];\r\n\r\n    for (let i = 0; i < index; i++) {\r\n        let verticesInfo = verticesInfoList[i],\r\n            indicesInfo = indicesInfoList[i];\r\n\r\n        val = geometryMap[i];\r\n        // val = gameObjectMap[i];\r\n\r\n        if (isNotValidMapValue(val)) {\r\n            disposedIndexArray.push(i);\r\n            continue;\r\n        }\r\n\r\n        // hasNewData = true;\r\n\r\n        _updateInfoList(newVertivesInfoList, newIndexInArrayBuffer, verticesInfo, newVerticesOffset);\r\n        _updateInfoList(newIndicesInfoList, newIndexInArrayBuffer, indicesInfo, newIndicesOffset);\r\n\r\n        newVerticesOffset = _fillTypeArr(newVertices, newVerticesOffset, vertices, verticesInfo.startIndex, verticesInfo.endIndex);\r\n        newIndicesOffset = _fillTypeArr(newIndices, newIndicesOffset, indices, indicesInfo.startIndex, indicesInfo.endIndex);\r\n\r\n        _updateComponentIndex(geometryMap, newGeometryMap, i, newIndexInArrayBuffer);\r\n\r\n        val = computeDataFuncMap[i];\r\n        _setMapVal(newComputeDatafuncMap, newIndexInArrayBuffer, val);\r\n\r\n        val = configDataMap[i];\r\n        _setMapVal(newConfigDataMap, newIndexInArrayBuffer, val);\r\n\r\n        val = verticesCacheMap[i];\r\n        _setMapVal(newVerticesCacheMap, newIndexInArrayBuffer, val);\r\n\r\n        val = indicesCacheMap[i];\r\n        _setMapVal(newIndicesCacheMap, newIndexInArrayBuffer, val);\r\n\r\n        val = geometryMap[i];\r\n        _setMapVal(newGeometryMap, newIndexInArrayBuffer, val);\r\n\r\n        val = gameObjectMap[i];\r\n        _setMapVal(newGameObjectMap, newIndexInArrayBuffer, val);\r\n\r\n        newIndexInArrayBuffer += 1;\r\n    }\r\n\r\n    set(GeometryData.vertices, newVertices);\r\n    set(GeometryData.indices, newIndices);\r\n\r\n    GeometryData.gameObjectMap = newGameObjectMap;\r\n    GeometryData.verticesInfoList = newVertivesInfoList;\r\n    GeometryData.indicesInfoList = newIndicesInfoList;\r\n    GeometryData.geometryMap = newGeometryMap;\r\n    GeometryData.computeDataFuncMap = newComputeDatafuncMap;\r\n    GeometryData.configDataMap = newConfigDataMap;\r\n    GeometryData.verticesCacheMap = newVerticesCacheMap;\r\n    GeometryData.indicesCacheMap = newIndicesCacheMap;\r\n\r\n    GeometryData.verticesOffset = newVerticesOffset;\r\n    GeometryData.indicesOffset = newIndicesOffset;\r\n\r\n    GeometryData.index = newIndexInArrayBuffer;\r\n\r\n    return disposedIndexArray;\r\n})\r\n\r\nvar _updateComponentIndex = (componentMap: object, newComponentMap: object, oldIndex: number, newIndex: number) => {\r\n    let component: Component = componentMap[oldIndex];\r\n\r\n    component.index = newIndex;\r\n    newComponentMap[newIndex] = component;\r\n}\r\n\r\nvar _fillTypeArr = requireCheckFunc((targetTypeArr: Float32Array | Uint32Array | Uint16Array, targetStartIndex: number, sourceTypeArr: Float32Array | Uint32Array | Uint16Array, startIndex: number, endIndex: number) => {\r\n    // it(\"targetStartIndex should <= sourceStartIndex\", () => {\r\n    //     expect(targetStartIndex).lte(startIndex);\r\n    // })\r\n}, (targetTypeArr: Float32Array | Uint32Array | Uint16Array, targetStartIndex: number, sourceTypeArr: Float32Array | Uint32Array | Uint16Array, startIndex: number, endIndex: number) => {\r\n    var typeArrIndex = targetStartIndex;\r\n\r\n    for (let i = startIndex; i < endIndex; i++) {\r\n        targetTypeArr[typeArrIndex] = sourceTypeArr[i];\r\n        typeArrIndex += 1;\r\n    }\r\n\r\n    return typeArrIndex;\r\n})\r\n\r\nvar _updateInfoList = ensureFunc((returnVal: any, newInfoList, newIndexInArrayBuffer, info: GeometryInfo, offset: number) => {\r\n    it(\"info.startIndex should >= 0\", () => {\r\n        expect(newInfoList[newIndexInArrayBuffer].startIndex).gte(0);\r\n    });\r\n}, (newInfoList: GeometryInfoList, newIndexInArrayBuffer: number, info: GeometryInfo, offset: number) => {\r\n    var increment = info.endIndex - info.startIndex;\r\n\r\n    _setArrayVal(newInfoList, newIndexInArrayBuffer, {\r\n        startIndex: offset,\r\n        endIndex: offset + increment\r\n    });\r\n})\r\n","import { ThreeDTransformData } from \"./ThreeDTransformData\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { BatchTransformData, IThreeDTransform, ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { cacheFunc } from \"../../utils/cacheUtils\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, checkComponentShouldAlive, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteVal, isNotValidMapValue, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { update as updateSystem } from \"./updateSystem\";\r\nimport {\r\n    addFirstDirtyIndex, addItAndItsChildrenToDirtyList, addNotUsedIndex,\r\n    generateNotUsedIndexInArrayBuffer, isNotDirty\r\n} from \"./dirtySystem\";\r\nimport {\r\n    getChildren,\r\n    getParent as getThreeDTransformDataParent, isChildrenExist, removeHierarchyData, setChildren,\r\n    setParent as setParentHierarchy\r\n} from \"./hierarchySystem\";\r\nimport {\r\n    getMatrix4DataIndexInArrayBuffer, getVector3DataIndexInArrayBuffer,\r\n    setLocalPositionData, setPositionData, setTransformDataInTypeArr,\r\n    swap\r\n} from \"./operateDataSystem\";\r\nimport { setIsTranslate } from \"./isTransformSystem\";\r\nimport { getStartIndexInArrayBuffer } from \"./utils\";\r\nimport { checkTransformShouldAlive } from \"./contractUtils\";\r\nimport { setBatchDatas as setBatchDatasSystem } from \"./batchSystem\";\r\nimport {\r\n    getLocalPositionCache, getLocalToWorldMatrixCache, getPositionCache, setLocalPositionCache,\r\n    setLocalToWorldMatrixCache, setPositionCache\r\n} from \"./cacheSystem\";\r\nimport { isDisposeTooManyComponents, reAllocateThreeDTransform } from \"../../utils/memoryUtils\";\r\nimport { LinkList } from \"./LinkList\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\nimport { Quaternion } from \"../../math/Quaternion\";\r\nimport {\r\n    createMatrix4ByIndex, createVector3ByIndex, getMatrix4DataSize, getQuaternionDataSize,\r\n    getVector3DataSize\r\n} from \"../../utils/typeArrayUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = ensureFunc((transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"componentMap should has data\", () => {\r\n        expect(getChildren(transform.uid, ThreeDTransformData)).exist;\r\n    });\r\n    it(\"count should <= ThreeDTransformData.maxCount\", () => {\r\n        expect(ThreeDTransformData.count).lte(ThreeDTransformData.maxCount);\r\n    });\r\n}, (ThreeDTransformData: any) => {\r\n    var transform = new ThreeDTransform(),\r\n        index = _generateIndexInArrayBuffer(ThreeDTransformData),\r\n        uid = _buildUID(ThreeDTransformData);\r\n\r\n    transform.index = index;\r\n    transform.uid = uid;\r\n\r\n    ThreeDTransformData.count += 1;\r\n\r\n    _createTempData(uid, ThreeDTransformData);\r\n    _setTransformMap(index, transform, ThreeDTransformData);\r\n    setChildren(uid, [], ThreeDTransformData);\r\n\r\n    _setDefaultTypeArrData(index, ThreeDTransformData);\r\n\r\n    ThreeDTransformData.aliveUIDArray.push(uid);\r\n\r\n    return transform;\r\n})\r\n\r\nvar _buildUID = (ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.uid++;\r\n}\r\n\r\nvar _generateIndexInArrayBuffer = (ThreeDTransformData: any) => {\r\n    return generateNotUsedIndexInArrayBuffer(ThreeDTransformData);\r\n}\r\n\r\nvar _createTempData = (uid: number, ThreeDTransformData: any, ) => {\r\n    ThreeDTransformData.tempMap[uid] = {\r\n        position: Vector3.create(),\r\n        localPosition: Vector3.create(),\r\n        localToWorldMatrix: Matrix4.create()\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var checkShouldAlive = (component: ThreeDTransform, ThreeDTransformData: any) => {\r\n    checkComponentShouldAlive(component, ThreeDTransformData, (component: ThreeDTransform, ThreeDTransformData: any) => {\r\n        return isChildrenExist(getChildren(component.uid, ThreeDTransformData));\r\n    })\r\n}\r\n\r\nexport var init = (GlobalTempData: any, ThreeDTransformData: any, state: MapImmutable<any, any>) => {\r\n    return update(null, GlobalTempData, ThreeDTransformData, state);\r\n}\r\n\r\nexport var addComponent = (transform: ThreeDTransform, gameObject: GameObject) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid;\r\n\r\n    addComponentToGameObjectMap(ThreeDTransformData.gameObjectMap, uid, gameObject);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n}\r\n\r\nexport var isAlive = (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    return isValidMapValue(ThreeDTransformData.transformMap[transform.index]);\r\n}\r\n\r\nexport var isNotAlive = (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    return !isAlive(transform, ThreeDTransformData);\r\n}\r\n\r\nexport var disposeComponent = (transform: ThreeDTransform) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid;\r\n\r\n    if (isNotDirty(indexInArrayBuffer, ThreeDTransformData.firstDirtyIndex)) {\r\n        _disposeFromNormalList(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n    }\r\n    else {\r\n        _disposeFromDirtyList(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n    }\r\n\r\n    ThreeDTransformData.count -= 1;\r\n    ThreeDTransformData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(ThreeDTransformData.disposeCount)) {\r\n        reAllocateThreeDTransform(ThreeDTransformData);\r\n\r\n        ThreeDTransformData.disposeCount = 0;\r\n    }\r\n}\r\n\r\nexport var getGameObject = (uid: number, ThreeDTransformData: any) => getComponentGameObject(ThreeDTransformData.gameObjectMap, uid);\r\n\r\nexport var getParent = (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var parent = getThreeDTransformDataParent(transform.uid, ThreeDTransformData);\r\n\r\n    if (isValidMapValue(parent)) {\r\n        return parent;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport var setParent = (transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => setParentHierarchy(transform, parent, ThreeDTransformData);\r\n\r\nexport var getLocalToWorldMatrix = requireCheckFunc((transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return isValidMapValue(getLocalToWorldMatrixCache(transform.uid, ThreeTransformData));\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return getLocalToWorldMatrixCache(transform.uid, ThreeTransformData);\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any, returnedMat: Matrix4) => {\r\n    setLocalToWorldMatrixCache(transform.uid, returnedMat, ThreeTransformData);\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return createMatrix4ByIndex(mat, ThreeDTransformData.localToWorldMatrices, getMatrix4DataIndexInArrayBuffer(transform.index));\r\n}))\r\n\r\nexport var getPosition = requireCheckFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return isValidMapValue(getPositionCache(transform.uid, ThreeTransformData));\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return getPositionCache(transform.uid, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any, position: Vector3) => {\r\n    setPositionCache(transform.uid, position, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = getMatrix4DataIndexInArrayBuffer(transform.index),\r\n        localToWorldMatrices = ThreeTransformData.localToWorldMatrices;\r\n\r\n    return _getTempData(transform.uid, ThreeDTransformData).position.set(localToWorldMatrices[indexInArrayBuffer + 12], localToWorldMatrices[indexInArrayBuffer + 13], localToWorldMatrices[indexInArrayBuffer + 14]);\r\n}))\r\n\r\nvar _setTransformMap = (indexInArrayBuffer: number, transform: ThreeDTransform, ThreeDTransformData: any) => ThreeDTransformData.transformMap[indexInArrayBuffer] = transform;\r\n\r\nexport var setPosition = requireCheckFunc((transform: ThreeDTransform, position: Vector3, GlobalTempData: any, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, (transform: ThreeDTransform, position: Vector3, GlobalTempData: any, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        parent = getThreeDTransformDataParent(uid, ThreeDTransformData),\r\n        vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer);\r\n\r\n    setPositionData(indexInArrayBuffer, parent, vec3IndexInArrayBuffer, position, GlobalTempData, ThreeTransformData);\r\n\r\n    setIsTranslate(uid, true, ThreeTransformData);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeTransformData);\r\n})\r\n\r\nexport var setBatchDatas = (batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeTransformData: any) => setBatchDatasSystem(batchData, GlobalTempData, ThreeDTransformData);\r\n\r\nexport var getLocalPosition = requireCheckFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return isValidMapValue(getLocalPositionCache(transform.uid, ThreeTransformData));\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return getLocalPositionCache(transform.uid, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any, position: Vector3) => {\r\n    setLocalPositionCache(transform.uid, position, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return createVector3ByIndex(_getTempData(transform.uid, ThreeDTransformData).localPosition, ThreeDTransformData.localPositions, getVector3DataIndexInArrayBuffer(transform.index));\r\n}))\r\n\r\nexport var setLocalPosition = requireCheckFunc((transform: ThreeDTransform, position: Vector3, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, (transform: ThreeDTransform, position: Vector3, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer);\r\n\r\n    setLocalPositionData(position, vec3IndexInArrayBuffer, ThreeTransformData);\r\n\r\n    setIsTranslate(uid, true, ThreeTransformData);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeTransformData);\r\n})\r\n\r\nexport var update = (elapsed: number, GlobalTempData: any, ThreeDTransformData: any, state: MapImmutable<any, any>) => {\r\n    return updateSystem(elapsed, GlobalTempData, ThreeDTransformData, state);\r\n}\r\n\r\nvar _disposeItemInDataContainer = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    removeHierarchyData(uid, ThreeDTransformData);\r\n    _disposeMapDatas(indexInArrayBuffer, uid, ThreeDTransformData);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _disposeMapDatas = (indexInArrayBuffer: number, uid: number, ThreeDTransformData: any) => {\r\n    deleteVal(indexInArrayBuffer, ThreeDTransformData.transformMap);\r\n}\r\n\r\nvar _disposeFromNormalList = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    addNotUsedIndex(indexInArrayBuffer, ThreeDTransformData.notUsedIndexLinkList);\r\n\r\n    return _disposeItemInDataContainer(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n}\r\n\r\n\r\nvar _disposeFromDirtyList = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var firstDirtyIndex = ThreeDTransformData.firstDirtyIndex;\r\n\r\n    swap(indexInArrayBuffer, firstDirtyIndex, ThreeDTransformData);\r\n\r\n\r\n    _disposeItemInDataContainer(firstDirtyIndex, uid, GlobalTempData, ThreeDTransformData);\r\n\r\n    ThreeDTransformData.firstDirtyIndex = addFirstDirtyIndex(ThreeDTransformData);\r\n}\r\n\r\n\r\nvar _setDefaultTypeArrData = (index: number, ThreeDTransformData: any) => {\r\n    setTransformDataInTypeArr(index, ThreeDTransformData.defaultLocalToWorldMatrice, ThreeDTransformData.defaultRotation, ThreeDTransformData.defaultPosition, ThreeDTransformData.defaultScale, ThreeDTransformData);\r\n}\r\n\r\nexport var getTempLocalToWorldMatrix = (transform: ThreeDTransform, ThreeDTransformData: any) => _getTempData(transform.uid, ThreeDTransformData).localToWorldMatrix;\r\n\r\nvar _getTempData = (uid: number, ThreeDTransformData: any) => {\r\n    var tempData = ThreeDTransformData.tempMap[uid];\r\n\r\n    if (isNotValidMapValue(tempData)) {\r\n        tempData = {};\r\n        ThreeDTransformData.tempMap[uid] = tempData;\r\n    }\r\n\r\n    return tempData;\r\n}\r\n\r\nexport var initData = (GlobalTempData: any, ThreeDTransformData: any) => {\r\n    _initBufferData(ThreeDTransformData);\r\n\r\n    ThreeDTransformData.defaultPosition = Vector3.create(0, 0, 0);\r\n    ThreeDTransformData.defaultRotation = Quaternion.create(0, 0, 0, 1);\r\n    ThreeDTransformData.defaultScale = Vector3.create(1, 1, 1);\r\n    ThreeDTransformData.defaultLocalToWorldMatrice = Matrix4.create().setIdentity();\r\n\r\n\r\n    ThreeDTransformData.notUsedIndexLinkList = LinkList.create();\r\n\r\n    ThreeDTransformData.parentMap = createMap();\r\n    ThreeDTransformData.childrenMap = createMap();\r\n\r\n    ThreeDTransformData.isTranslateMap = createMap();\r\n\r\n    ThreeDTransformData.cacheMap = createMap();\r\n    ThreeDTransformData.tempMap = createMap();\r\n\r\n    ThreeDTransformData.transformMap = createMap();\r\n\r\n    ThreeDTransformData.gameObjectMap = createMap();\r\n\r\n    ThreeDTransformData.firstDirtyIndex = ThreeDTransformData.maxCount;\r\n    ThreeDTransformData.indexInArrayBuffer = getStartIndexInArrayBuffer();\r\n\r\n    ThreeDTransformData.uid = 0;\r\n    ThreeDTransformData.disposeCount = 0;\r\n    ThreeDTransformData.isClearCacheMap = false;\r\n\r\n    ThreeDTransformData.count = 0;\r\n\r\n    ThreeDTransformData.aliveUIDArray = [];\r\n}\r\n\r\nvar _initBufferData = (ThreeDTransformData: any) => {\r\n    var buffer: ArrayBuffer = null,\r\n        count = ThreeDTransformData.maxCount,\r\n        size = Float32Array.BYTES_PER_ELEMENT * (getMatrix4DataSize() + getVector3DataSize() + getQuaternionDataSize() + getVector3DataSize());\r\n\r\n    buffer = new ArrayBuffer(count * size);\r\n\r\n    ThreeDTransformData.localToWorldMatrices = new Float32Array(buffer, 0, count * getMatrix4DataSize());\r\n    ThreeDTransformData.localPositions = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * getMatrix4DataSize(), count * getVector3DataSize());\r\n    ThreeDTransformData.localRotations = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * (getMatrix4DataSize() + getVector3DataSize()), count * getQuaternionDataSize());\r\n    ThreeDTransformData.localScales = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * (getMatrix4DataSize() + getVector3DataSize() + getQuaternionDataSize()), count * getVector3DataSize());\r\n\r\n    ThreeDTransformData.buffer = buffer;\r\n}\r\n","import { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { it } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { isAlive } from \"../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { GameObjectData } from \"../core/entityObject/gameObject/GameObjectData\";\r\n\r\nexport var checkGameObjectShouldAlive = (gameObject: GameObject, GameObjectData: any) => {\r\n    it(\"gameObject is diposed, should release it\", () => {\r\n        expect(isAlive(gameObject, GameObjectData)).true;\r\n    });\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayMap(array, iteratee) {\n    var index = -1, length = array == null ? 0 : array.length, result = Array(length);\n    while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n}\nexports.default = arrayMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar _arrayMap_js_1 = require(\"./_arrayMap.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar isSymbol_js_1 = require(\"./isSymbol.js\");\nvar INFINITY = 1 / 0;\nvar symbolProto = _Symbol_js_1.default ? _Symbol_js_1.default.prototype : undefined, symbolToString = symbolProto ? symbolProto.toString : undefined;\nfunction baseToString(value) {\n    if (typeof value == 'string') {\n        return value;\n    }\n    if (isArray_js_1.default(value)) {\n        return _arrayMap_js_1.default(value, baseToString) + '';\n    }\n    if (isSymbol_js_1.default(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n    }\n    var result = (value + '');\n    return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\nexports.default = baseToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseToString_js_1 = require(\"./_baseToString.js\");\nfunction toString(value) {\n    return value == null ? '' : _baseToString_js_1.default(value);\n}\nexports.default = toString;\n","import flowRight from \"wonder-lodash/flowRight\";\r\nimport toString from \"wonder-lodash/toString\";\r\n\r\nexport class IO {\r\n    public static of(func: Function) {\r\n        var obj = new this(func);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public func: Function = null;\r\n\r\n    constructor(func: Function) {\r\n        this.func = func;\r\n    }\r\n\r\n    public chain(f: (...args) => IO) {\r\n        var io = this;\r\n\r\n        return IO.of(function() {\r\n            var next = f(io.func.apply(io, arguments));\r\n\r\n            return next.func.apply(next, arguments);\r\n        });\r\n    }\r\n\r\n    public map(f: Function) {\r\n        return IO.of(flowRight(f, this.func));\r\n    };\r\n\r\n    public ap(thatIO: IO) {\r\n        return this.chain(function(f) {\r\n            return thatIO.map(f);\r\n        });\r\n    };\r\n\r\n    public run(...args) {\r\n        return this.func.apply(this, arguments);\r\n    };\r\n\r\n    public toString() {\r\n        // return `IO(${toString(this.run())})`;\r\n        return `(${toString(this.run())})`;\r\n    }\r\n}\r\n","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\ndeclare var document: any;\r\n\r\nexport class DomQuery {\r\n    public static create(eleStr: string);\r\n    public static create(dom: HTMLElement);\r\n\r\n    public static create(...args) {\r\n        var obj = new this(args[0]);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _doms: Array<HTMLElement> = null;\r\n\r\n    constructor(eleStr: string);\r\n    constructor(dom: HTMLElement);\r\n\r\n    constructor(...args) {\r\n        if (JudgeUtils.isDom(args[0])) {\r\n            this._doms = [args[0]];\r\n        }\r\n        else if (this._isDomEleStr(args[0])) {\r\n            this._doms = [this._buildDom(args[0])];\r\n        }\r\n        else {\r\n            this._doms = document.querySelectorAll(args[0]);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public get(index) {\r\n        return this._doms[index];\r\n    }\r\n\r\n\r\n    public prepend(eleStr: string);\r\n    public prepend(dom: HTMLElement);\r\n\r\n    public prepend(...args) {\r\n        var targetDom: HTMLElement = null;\r\n\r\n        targetDom = this._buildDom(args[0]);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                dom.insertBefore(targetDom, dom.firstChild);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public prependTo(eleStr: string) {\r\n        var targetDom: DomQuery = null;\r\n\r\n        targetDom = DomQuery.create(eleStr);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                targetDom.prepend(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove() {\r\n        for (let dom of this._doms) {\r\n            if (dom && dom.parentNode && dom.tagName != 'BODY') {\r\n                dom.parentNode.removeChild(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public css(property: string, value: string) {\r\n        for (let dom of this._doms) {\r\n            dom.style[property] = value;\r\n        }\r\n    }\r\n\r\n    public attr(name: string);\r\n    public attr(name: string, value: string);\r\n\r\n    public attr(...args) {\r\n        if (args.length === 1) {\r\n            let name = args[0];\r\n\r\n            return this.get(0).getAttribute(name);\r\n        }\r\n        else {\r\n            let name = args[0],\r\n                value = args[1];\r\n\r\n            for (let dom of this._doms) {\r\n                dom.setAttribute(name, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    public text(str?: string) {\r\n        var dom = this.get(0);\r\n\r\n        if (str !== void 0) {\r\n            if (dom.textContent !== void 0) {\r\n                dom.textContent = str;\r\n            }\r\n            else {\r\n                dom.innerText = str;\r\n            }\r\n        }\r\n        else {\r\n            return dom.textContent !== void 0 ? dom.textContent : dom.innerText;\r\n        }\r\n    }\r\n\r\n    private _isDomEleStr(eleStr: string) {\r\n        return eleStr.match(/<(\\w+)[^>]*><\\/\\1>/) !== null;\r\n    }\r\n\r\n    private _buildDom(eleStr: string): HTMLElement;\r\n    private _buildDom(dom: HTMLHtmlElement): HTMLElement;\r\n\r\n    private _buildDom(...args): HTMLElement {\r\n        if (JudgeUtils.isString(args[0])) {\r\n            let div = this._createElement(\"div\"),\r\n                eleStr: string = args[0];\r\n\r\n            div.innerHTML = eleStr;\r\n\r\n            return div.firstChild;\r\n        }\r\n\r\n        return args[0];\r\n    }\r\n\r\n    private _createElement(eleStr) {\r\n        return document.createElement(eleStr);\r\n    }\r\n}","export class WorkerDetectData {\r\n    public static isSupportRenderWorkerAndSharedArrayBuffer: boolean = null;\r\n    public static isSupportSharedArrayBuffer: boolean = null;\r\n    public static renderWorkerFileDir: string = null;\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport { Log } from \"../utils/Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if (typeof window != \"undefined\") {\r\n    root = window;\r\n}\r\nelse if (typeof self != \"undefined\") {\r\n    /*!\r\n    in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse {\r\n    Log.error(\"no avaliable root!\");\r\n}","export const RenderWorkerConfig = {\r\n    useRenderWorker: true\r\n}\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { WorkerDetectData } from \"./WorkerDetectData\";\r\nimport { root } from \"../definition/Variable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { WorkerConfigData } from \"../definition/type/mainType\";\r\nimport { RenderWorkerConfig } from \"../config/RenderWorkerConfig\";\r\n\r\nexport var detect = curry((WorkerDetectData: any) => {\r\n    /*!\r\n    for unit test\r\n     */\r\n    if (typeof root.isSupportSharedArrayBuffer_wonder !== \"undefined\" && typeof root.isSupportRenderWorkerAndSharedArrayBuffer_wonder !== \"undefined\") {\r\n        WorkerDetectData.isSupportSharedArrayBuffer = root.isSupportSharedArrayBuffer_wonder;\r\n        WorkerDetectData.isSupportRenderWorkerAndSharedArrayBuffer = root.isSupportRenderWorkerAndSharedArrayBuffer_wonder;\r\n\r\n        return;\r\n    }\r\n\r\n    let canvas = DomQuery.create(\"<canvas></canvas>\").get(0);\r\n\r\n    if (typeof SharedArrayBuffer !== \"undefined\") {\r\n        WorkerDetectData.isSupportSharedArrayBuffer = true;\r\n    }\r\n    else {\r\n        WorkerDetectData.isSupportSharedArrayBuffer = false;\r\n    }\r\n\r\n    if ((\"transferControlToOffscreen\" in canvas) && WorkerDetectData.isSupportSharedArrayBuffer) {\r\n        WorkerDetectData.isSupportRenderWorkerAndSharedArrayBuffer = true;\r\n    }\r\n    else {\r\n        WorkerDetectData.isSupportRenderWorkerAndSharedArrayBuffer = false;\r\n    }\r\n})\r\n\r\nexport var isSupportSharedArrayBuffer = () => {\r\n    return WorkerDetectData.isSupportSharedArrayBuffer;\r\n}\r\n\r\nexport var isSupportRenderWorkerAndSharedArrayBuffer = () => {\r\n    return RenderWorkerConfig.useRenderWorker && WorkerDetectData.isSupportRenderWorkerAndSharedArrayBuffer;\r\n}\r\n\r\nexport var setWorkerConfig = (config: WorkerConfigData, WorkerDetectData: any) => {\r\n    return IO.of(() => {\r\n        WorkerDetectData.renderWorkerFileDir = config.renderWorkerFileDir;\r\n    })\r\n}\r\n\r\nexport var getRenderWorkerFilePath = () => {\r\n    return `${_getValidFileDir(WorkerDetectData.renderWorkerFileDir)}wd.renderWorker.js`\r\n}\r\n\r\nvar _getValidFileDir = (dir: string) => {\r\n    if (dir.slice(-1) !== '/') {\r\n        return `${dir}/`;\r\n    }\r\n\r\n    return dir;\r\n}\r\n\r\ndetect(WorkerDetectData);\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { MeshRenderer } from \"./MeshRenderer\";\r\n\r\nexport class MeshRendererData {\r\n    public static renderGameObjectArray: Array<GameObject> = null;\r\n    public static gameObjectMap: Array<GameObject> = null;\r\n    public static meshRendererMap: Array<MeshRenderer> = null;\r\n\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { create, getGameObject, getRenderList } from \"./MeshRendererSystem\";\r\nimport { MeshRendererData } from \"./MeshRendererData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Component } from \"../Component\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { checkComponentShouldAlive, isComponentIndexNotRemoved } from \"../ComponentSystem\";\r\n\r\n@registerClass(\"MeshRenderer\")\r\nexport class MeshRenderer extends Component {\r\n}\r\n\r\nexport var createMeshRenderer = () => {\r\n    return create(MeshRendererData);\r\n}\r\n\r\nexport var getMeshRendererGameObject = requireCheckFunc((component: MeshRenderer) => {\r\n    _checkShouldAlive(component, MeshRendererData);\r\n}, (component: MeshRenderer) => {\r\n    return getGameObject(component.index, MeshRendererData);\r\n})\r\n\r\nexport var getMeshRendererRenderList = () => {\r\n    return getRenderList(null, MeshRendererData);\r\n}\r\n\r\nvar _checkShouldAlive = (component: MeshRenderer, MeshRendererData: any) => {\r\n    checkComponentShouldAlive(component, MeshRendererData, (component: MeshRenderer, MeshRendererData: any) => {\r\n        return isComponentIndexNotRemoved(component);\r\n    })\r\n}\r\n","import { MeshRenderer } from \"./MeshRenderer\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { deleteBySwap } from \"../../utils/arrayUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, deleteComponentBySwapArray,\r\n    generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteBySwap as deleteObjectBySwap, deleteVal } from \"../../utils/objectUtils\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { MeshRendererData } from \"./MeshRendererData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = requireCheckFunc((MeshRendererData: any) => {\r\n    checkIndexShouldEqualCount(MeshRendererData);\r\n}, (MeshRendererData: any) => {\r\n    var renderer = new MeshRenderer(),\r\n        index = generateComponentIndex(MeshRendererData);\r\n\r\n    renderer.index = index;\r\n\r\n    MeshRendererData.count += 1;\r\n\r\n    MeshRendererData.meshRendererMap[index] = renderer;\r\n\r\n    return renderer;\r\n})\r\n\r\nvar _setRenderGameObjectArray = requireCheckFunc((index: number, gameObject: GameObject, renderGameObjectArray: Array<GameObject>) => {\r\n    it(\"should not exist gameObject\", function() {\r\n        expect(renderGameObjectArray[index]).not.exist;\r\n    })\r\n}, (index: number, gameObject: GameObject, renderGameObjectArray: Array<GameObject>) => {\r\n    renderGameObjectArray[index] = gameObject;\r\n})\r\n\r\nexport var addComponent = (component: MeshRenderer, gameObject: GameObject) => {\r\n    _setRenderGameObjectArray(component.index, gameObject, MeshRendererData.renderGameObjectArray);\r\n\r\n    addComponentToGameObjectMap(MeshRendererData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, component: MeshRenderer) => {\r\n    checkIndexShouldEqualCount(MeshRendererData);\r\n}, (component: MeshRenderer) => {\r\n    var sourceIndex = component.index,\r\n        lastComponentIndex = null;\r\n\r\n    MeshRendererData.count -= 1;\r\n    MeshRendererData.index -= 1;\r\n\r\n    lastComponentIndex = MeshRendererData.count;\r\n\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MeshRendererData.renderGameObjectArray);\r\n\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MeshRendererData.gameObjectMap);\r\n\r\n    deleteComponentBySwapArray(sourceIndex, lastComponentIndex, MeshRendererData.meshRendererMap);\r\n})\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var getRenderList = curry((state: Map<any, any>, MeshRendererData: any) => {\r\n    return MeshRendererData.renderGameObjectArray;\r\n})\r\n\r\nexport var initData = (MeshRendererData: any) => {\r\n    MeshRendererData.renderGameObjectArray = [];\r\n    MeshRendererData.gameObjectMap = [];\r\n    MeshRendererData.meshRendererMap = [];\r\n    MeshRendererData.index = 0;\r\n    MeshRendererData.count = 0;\r\n}\r\n","import {\r\n    create as createGameObject, addChild as addGameObject, removeChild as removeGameObject,\r\n    hasComponent\r\n} from \"../gameObject/GameObjectSystem\";\r\nimport { GameObject } from \"../gameObject/GameObject\";\r\nimport { getTypeIDFromClass } from \"../../../component/ComponentTypeIDManager\";\r\nimport { CameraController } from \"../../../component/camera/CameraController\";\r\nimport { Scene } from \"./Scene\";\r\nimport { ensureFunc, it } from \"../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var create = (GameObjectData: any) => {\r\n    return createGameObject(null, GameObjectData);\r\n}\r\n\r\nexport var addChild = (scene: Scene, child: GameObject, ThreeDTransformData: any, GameObjectData: any, SceneData: any) => {\r\n    if (_isCamera(child, GameObjectData)) {\r\n        SceneData.cameraArray.push(child);\r\n    }\r\n\r\n    addGameObject(scene, child, ThreeDTransformData, GameObjectData);\r\n}\r\n\r\nexport var removeChild = (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    removeGameObject(gameObject, child, ThreeDTransformData, GameObjectData);\r\n}\r\n\r\nvar _isCamera = (gameObject: GameObject, GameObjectData: any) => {\r\n    return hasComponent(gameObject, getTypeIDFromClass(CameraController), GameObjectData);\r\n}\r\n\r\nexport var getCurrentCamera = ensureFunc((camera: GameObject, SceneData: any) => {\r\n    it(\"current camera should exist\", () => {\r\n        expect(camera).exist;\r\n    });\r\n}, (SceneData: any) => {\r\n    return SceneData.cameraArray[0];\r\n})\r\n\r\nexport var initData = (SceneData: any) => {\r\n    SceneData.cameraArray = [];\r\n}\r\n","export function cache(judgeFunc: any, returnCacheValueFunc: any, setCacheFunc: any) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(args) {\r\n            var result = null,\r\n                setArgs = null;\r\n\r\n            if (judgeFunc.apply(this, arguments)) {\r\n                return returnCacheValueFunc.apply(this, arguments);\r\n            }\r\n\r\n            result = value.apply(this, arguments);\r\n\r\n            setArgs = [result];\r\n\r\n            for (let i = 0, len = arguments.length; i < len; i++) {\r\n                setArgs[i + 1] = arguments[i];\r\n            }\r\n\r\n            setCacheFunc.apply(this, setArgs);\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { ensureGetter, assert, requireCheck, it } from \"../definition/typescript/decorator/contract\";\r\nimport { Log } from \"../utils/Log\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Vector4 } from \"../math/Vector4\";\r\nimport { cache } from \"../definition/typescript/decorator/cache\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\ndeclare var Math: any;\r\n\r\nconst REGEX_RGBA = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([^\\)]+)\\)$/i,\r\n    REGEX_RGBA_2 = /^rgba\\((\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*([^\\)]+)\\)$/i,\r\n    REGEX_RGB = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/i,\r\n    REGEX_RGB_2 = /^rgb\\((\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*(\\d+\\.\\d+)\\)$/i,\r\n    REGEX_NUM = /^\\#([0-9a-f]{6})$/i;\r\n\r\n@registerClass(\"Color\")\r\nexport class Color {\r\n    public static create(colorVal?: string) {\r\n        var obj = new this();\r\n\r\n        obj.initWhenCreate(colorVal);\r\n\r\n        return obj;\r\n    }\r\n\r\n    set dirty(dirty: boolean) {\r\n        if (dirty) {\r\n            this._clearCache();\r\n        }\r\n    }\r\n\r\n    private _r: number = null;\r\n    @ensureGetter(function(r: number) {\r\n        assert(r >= 0, Log.info.FUNC_SHOULD(\"r\", `>= 0, but actual is ${r}`));\r\n    })\r\n    get r() {\r\n        return this._r;\r\n    }\r\n    set r(r: number) {\r\n        if (this._r !== r) {\r\n            this.dirty = true;\r\n\r\n            this._r = r;\r\n        }\r\n    }\r\n\r\n    private _g: number = null;\r\n    @ensureGetter(function(g: number) {\r\n        assert(g >= 0, Log.info.FUNC_SHOULD(\"g\", `>= 0, but actual is ${g}`));\r\n    })\r\n    get g() {\r\n        return this._g;\r\n    }\r\n    set g(g: number) {\r\n        if (this._g !== g) {\r\n            this.dirty = true;\r\n\r\n            this._g = g;\r\n        }\r\n    }\r\n\r\n    private _b: number = null;\r\n    @ensureGetter(function(b: number) {\r\n        assert(b >= 0, Log.info.FUNC_SHOULD(\"b\", `>= 0, but actual is ${b}`));\r\n    })\r\n    get b() {\r\n        return this._b;\r\n    }\r\n    set b(b: number) {\r\n        if (this._b !== b) {\r\n            this.dirty = true;\r\n\r\n            this._b = b;\r\n        }\r\n    }\r\n\r\n    private _a: number = null;\r\n    @ensureGetter(function(a: number) {\r\n        assert(a >= 0, Log.info.FUNC_SHOULD(\"a\", `>= 0, but actual is ${a}`));\r\n    })\r\n    get a() {\r\n        return this._a;\r\n    }\r\n    set a(a: number) {\r\n        if (this._a !== a) {\r\n            this.dirty = true;\r\n\r\n            this._a = a;\r\n        }\r\n    }\r\n\r\n    private _colorString: string = null;\r\n    private _colorVec3Cache: Vector3 = null;\r\n    private _colorVec4Cache: Vector4 = null;\r\n\r\n    public initWhenCreate(colorVal?: string) {\r\n        if (!colorVal) {\r\n            return;\r\n        }\r\n\r\n        this._colorString = colorVal;\r\n        this._setColor(colorVal);\r\n    }\r\n\r\n    @cache(function() {\r\n        return this._colorVec3Cache !== null;\r\n    }, function() {\r\n        return this._colorVec3Cache;\r\n    }, function(result) {\r\n        this._colorVec3Cache = result;\r\n    })\r\n    public toVector3() {\r\n        return Vector3.create(this.r, this.g, this.b);\r\n    }\r\n\r\n    @cache(function() {\r\n        return this._colorVec4Cache !== null;\r\n    }, function() {\r\n        return this._colorVec4Cache;\r\n    }, function(result) {\r\n        this._colorVec4Cache = result;\r\n    })\r\n    public toVector4() {\r\n        return Vector4.create(this.r, this.g, this.b, this.a);\r\n    }\r\n\r\n    public toString() {\r\n        return this._colorString;\r\n    }\r\n\r\n    public clone() {\r\n        return Color.create(this._colorString);\r\n    }\r\n\r\n    public isEqual(color: Color) {\r\n        return this.r === color.r && this.g === color.g && this.b === color.b && this.a === color.a;\r\n    }\r\n\r\n    @requireCheck((colorVal: string) => {\r\n        it(\"color should be #xxxxxx\", () => {\r\n            expect(REGEX_NUM.test(colorVal)).true;\r\n        })\r\n    })\r\n    public setColorByNum(colorVal: string) {\r\n        var color = null;\r\n\r\n        this._colorString = colorVal;\r\n\r\n        color = REGEX_NUM.exec(colorVal);\r\n\r\n        this._setHex(parseInt(color[1], 16));\r\n\r\n        return this;\r\n    }\r\n\r\n    private _setColor(colorVal: string) {\r\n        var color = null;\r\n\r\n        // rgba(255,0,0,0)\r\n\r\n        if (REGEX_RGBA.test(colorVal)) {\r\n            color = REGEX_RGBA.exec(colorVal);\r\n\r\n            this.r = this._getColorValue(color, 1);\r\n            this.g = this._getColorValue(color, 2);\r\n            this.b = this._getColorValue(color, 3);\r\n            this.a = Number(color[4]);\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // rgba(0.1,0.0,0.3,0.2)\r\n\r\n        if (REGEX_RGBA_2.test(colorVal)) {\r\n            color = REGEX_RGBA_2.exec(colorVal);\r\n\r\n            this.r = parseFloat(color[1]);\r\n            this.g = parseFloat(color[2]);\r\n            this.b = parseFloat(color[3]);\r\n            this.a = Number(color[4]);\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // rgb(255,0,0)\r\n\r\n        if (REGEX_RGB.test(colorVal)) {\r\n            color = REGEX_RGB.exec(colorVal);\r\n\r\n            this.r = this._getColorValue(color, 1);\r\n            this.g = this._getColorValue(color, 2);\r\n            this.b = this._getColorValue(color, 3);\r\n            this.a = 1;\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        /*!\r\n         it will cause ambiguity: rgb(x,x,x)\r\n         so the format should be:\r\n         rgb(x.x,x.x,x.x)\r\n         */\r\n        if (REGEX_RGB_2.test(colorVal)) {\r\n            color = REGEX_RGB_2.exec(colorVal);\r\n\r\n            this.r = parseFloat(color[1]);\r\n            this.g = parseFloat(color[2]);\r\n            this.b = parseFloat(color[3]);\r\n            this.a = 1;\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // #ffffff\r\n\r\n        if (REGEX_NUM.test(colorVal)) {\r\n            return this.setColorByNum(colorVal);\r\n        }\r\n    }\r\n\r\n    private _getColorValue(color, index, num = 255) {\r\n        return Math.min(num, parseInt(color[index], 10)) / num;\r\n    }\r\n\r\n    private _setHex(hex) {\r\n        hex = Math.floor(hex);\r\n\r\n        this.r = (hex >> 16 & 255) / 255;\r\n        this.g = (hex >> 8 & 255) / 255;\r\n        this.b = (hex & 255) / 255;\r\n        this.a = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    private _clearCache() {\r\n        this._colorVec3Cache = null;\r\n        this._colorVec4Cache = null;\r\n    }\r\n}","import { MaterialClassNameTable, ShaderIndexTable } from \"../../definition/type/materialType\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Material } from \"./Material\";\r\n\r\nexport class MaterialData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static buffer: SharedArrayBuffer = null;\r\n\r\n    public static shaderIndices: Uint32Array = null;\r\n    public static colors: Float32Array = null;\r\n    public static opacities: Float32Array = null;\r\n    public static alphaTests: Float32Array = null;\r\n\r\n    public static defaultColorArr: Array<number> = null;\r\n    public static defaultOpacity: number = null;\r\n    public static defaultAlphaTest: number = null;\r\n\r\n    public static workerInitList: Array<number> = null;\r\n\r\n    public static materialClassNameTable: MaterialClassNameTable = null;\r\n    public static shaderIndexTable: ShaderIndexTable = null;\r\n\r\n    public static gameObjectMap: Array<GameObject> = null;\r\n\r\n    public static materialMap: Array<Material> = null;\r\n}\r\n","import { ensureFunc, it } from \"../../../definition/typescript/decorator/contract\";\r\nimport { MaterialClassNameTable, ShaderIndexTable } from \"../../../definition/type/materialType\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var getMaterialClassNameFromTable = (shaderIndex: number, materialClassNameTable: MaterialClassNameTable) => {\r\n    return materialClassNameTable[shaderIndex]\r\n}\r\n\r\nexport var getShaderIndexFromTable = ensureFunc((index: number) => {\r\n    it(\"shader index should be defined in materialClassNameTable\", () => {\r\n        expect(index).gte(0);\r\n    })\r\n}, (materialClassName: string, shaderIndexTable: ShaderIndexTable) => {\r\n    return shaderIndexTable[materialClassName];\r\n})\r\n\r\nexport var getOpacity = (materialIndex: number, MaterialDataFromSystem: any) => {\r\n    var size = getOpacityDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    return MaterialDataFromSystem.opacities[index];\r\n}\r\n\r\nexport var getAlphaTest = (materialIndex: number, MaterialDataFromSystem: any) => {\r\n    var size = getAlphaTestDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    return MaterialDataFromSystem.alphaTests[index];\r\n}\r\n\r\nexport var getColorArr3 = (materialIndex: number, MaterialMaterialDataFromSystem: any) => {\r\n    var colors = MaterialMaterialDataFromSystem.colors,\r\n        size = getColorDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    return [colors[index], colors[index + 1], colors[index + 2]];\r\n}\r\n\r\nexport var isTestAlpha = (alphaTest: number) => {\r\n    return alphaTest >= 0;\r\n}\r\n\r\nexport var getColorDataSize = () => 3;\r\n\r\nexport var getOpacityDataSize = () => 1;\r\n\r\nexport var getAlphaTestDataSize = () => 1;\r\n\r\nexport var createTypeArrays = (buffer: any, count: number, MaterialDataFromSystem: any) => {\r\n    MaterialDataFromSystem.shaderIndices = new Uint32Array(buffer, 0, count);\r\n    MaterialDataFromSystem.colors = new Float32Array(buffer, count * Uint32Array.BYTES_PER_ELEMENT, count * getColorDataSize());\r\n    MaterialDataFromSystem.opacities = new Float32Array(buffer, count * (Uint32Array.BYTES_PER_ELEMENT + Float32Array.BYTES_PER_ELEMENT * getColorDataSize()), count * getOpacityDataSize());\r\n    MaterialDataFromSystem.alphaTests = new Float32Array(buffer, count * (Uint32Array.BYTES_PER_ELEMENT + Float32Array.BYTES_PER_ELEMENT * (getColorDataSize() + getOpacityDataSize())), count * getAlphaTestDataSize());\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Shader\")\r\nexport class Shader {\r\n    public index: number = null;\r\n}\r\n","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","import { Map } from \"immutable\";\r\n\r\nexport var createState = () => {\r\n    return Map();\r\n}\r\n\r\nexport var isValueExist = (val: any) => {\r\n    return val !== void 0;\r\n}\r\n\r\n\r\n","import { isValueExist } from \"../../utils/stateUtils\";\r\n\r\nexport var isConfigDataExist = (configData: any) => {\r\n    return isValueExist(configData);\r\n}\r\n\r\n","import { isConfigDataExist } from \"../../renderConfigUtils\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../../../definition/typescript/decorator/contract\";\r\nimport { MaterialShaderLibConfig } from \"../../../data/material_config\";\r\nimport {\r\n    ISendAttributeConfig, ISendUniformConfig, IShaderLibContentGenerator,\r\n    IShaderLibSendConfig\r\n} from \"../../../data/shaderLib_generator\";\r\nimport { createMap, isValidMapValue } from \"../../../../utils/objectUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { forEach } from \"../../../../utils/arrayUtils\";\r\nimport { AttributeLocationMap, UniformLocationMap } from \"../../../type/dataType\";\r\n\r\nexport var setLocationMap = ensureFunc((returnVal, gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, LocationDataFromSystem: any) => {\r\n    it(\"attribute should contain position at least\", () => {\r\n        expect(LocationDataFromSystem.attributeLocationMap[shaderIndex][\"a_position\"]).be.a(\"number\");\r\n    });\r\n}, requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, LocationDataFromSystem: any) => {\r\n    it(\"not setted location before\", () => {\r\n        expect(isValidMapValue(LocationDataFromSystem.attributeLocationMap[shaderIndex])).false;\r\n        expect(isValidMapValue(LocationDataFromSystem.uniformLocationMap[shaderIndex])).false;\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, LocationDataFromSystem: any) => {\r\n    var attributeLocationMap = {},\r\n        uniformLocationMap = {},\r\n        sendData: IShaderLibSendConfig = null,\r\n        attributeName: string = null,\r\n        uniformName: string = null;\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var attribute: Array<ISendAttributeConfig> = null,\r\n            uniform: Array<ISendUniformConfig> = null;\r\n\r\n        sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (!isConfigDataExist(sendData)) {\r\n            return;\r\n        }\r\n\r\n        attribute = sendData.attribute;\r\n        uniform = sendData.uniform;\r\n\r\n        if (isConfigDataExist(attribute)) {\r\n            forEach(attribute, (data: ISendAttributeConfig) => {\r\n                attributeName = data.name;\r\n\r\n                attributeLocationMap[attributeName] = gl.getAttribLocation(program, attributeName);\r\n            })\r\n        }\r\n\r\n        if (isConfigDataExist(uniform)) {\r\n            forEach(uniform, (data: ISendUniformConfig) => {\r\n                uniformName = data.name;\r\n\r\n                uniformLocationMap[uniformName] = gl.getUniformLocation(program, uniformName);\r\n            })\r\n        }\r\n    })\r\n\r\n    LocationDataFromSystem.attributeLocationMap[shaderIndex] = attributeLocationMap;\r\n    LocationDataFromSystem.uniformLocationMap[shaderIndex] = uniformLocationMap;\r\n}))\r\n\r\nexport var getAttribLocation = ensureFunc((pos: number, name: string, attributeLocationMap: AttributeLocationMap) => {\r\n    it(`${name}'s attrib location should be number`, () => {\r\n        expect(pos).be.a(\"number\");\r\n    });\r\n}, (name: string, attributeLocationMap: AttributeLocationMap) => {\r\n    return attributeLocationMap[name];\r\n})\r\n\r\nexport var getUniformLocation = ensureFunc((pos: number, name: string, uniformLocationMap: UniformLocationMap) => {\r\n    it(`${name}'s uniform location should exist in map`, () => {\r\n        expect(isValidMapValue(pos)).true;\r\n    });\r\n}, (name: string, uniformLocationMap: UniformLocationMap) => {\r\n    return uniformLocationMap[name];\r\n})\r\n\r\nexport var isUniformLocationNotExist = (pos: WebGLUniformLocation) => {\r\n    return pos === null;\r\n}\r\n\r\nexport var isAttributeLocationNotExist = (pos: number) => {\r\n    return pos === -1;\r\n}\r\n\r\nexport var initData = (LocationDataFromSystem: any) => {\r\n    LocationDataFromSystem.attributeLocationMap = createMap();\r\n    LocationDataFromSystem.uniformLocationMap = createMap();\r\n}\r\n","export enum EVariableType {\r\n    FLOAT = <any>\"float\",\r\n    VEC3 = <any>\"vec3\",\r\n    ARR3 = <any>\"arr3\",\r\n    MAT4 = <any>\"mat4\"\r\n}\r\n\r\n","export enum EBufferType {\r\n    BYTE = <any>\"BYTE\",\r\n    UNSIGNED_BYTE = <any>\"UNSIGNED_BYTE\",\r\n    SHORT = <any>\"SHORT\",\r\n    UNSIGNED_SHORT = <any>\"UNSIGNED_SHORT\",\r\n    INT = <any>\"INT\",\r\n    UNSIGNED_INT = <any>\"UNSIGNED_INT\",\r\n    FLOAT = <any>\"FLOAT\"\r\n}\r\n\r\n","import { isValidMapValue } from \"../../../utils/objectUtils\";\r\nimport { deleteVal } from \"../../../utils/arrayUtils\";\r\nimport { disposeBuffer as disposeArrayBuffer } from \"../../worker/render_file/buffer/ArrayBufferWorkerSystem\";\r\nimport { disposeBuffer as disposeIndexBuffer } from \"../../worker/render_file/buffer/IndexBufferWorkerSystem\";\r\n\r\nexport var isBufferExist = (buffer: WebGLBuffer) => isValidMapValue(buffer);\r\n\r\nexport var disposeBuffer = (geometryIndex: number, buffers: Array<WebGLBuffer>, getGL: Function, DeviceManagerDataFromSystem: any) => {\r\n    var gl = getGL(DeviceManagerDataFromSystem, null),\r\n        buffer = buffers[geometryIndex];\r\n\r\n    if (isBufferExist(buffer)) {\r\n        gl.deleteBuffer(buffers[geometryIndex]);\r\n\r\n        /*!\r\n         no need to consider the memory problem caused by not-used val in buffers, because geometry index will be repeat(geometry memory will be reallocated)\r\n         */\r\n        deleteVal(geometryIndex, buffers);\r\n    }\r\n}\r\n","import { EBufferType } from \"../../enum/EBufferType\";\r\nimport { isBufferExist } from \"./bufferUtils\";\r\nimport { createMap } from \"../../../utils/objectUtils\";\r\n\r\nexport var getOrCreateBuffer = (gl: WebGLRenderingContext, geometryIndex: number, bufferType: string, getVertices: Function, GeometryWorkerData: any, ArrayBufferDataFromSystem: any) => {\r\n    var buffers = ArrayBufferDataFromSystem.buffers,\r\n        buffer = buffers[geometryIndex];\r\n\r\n    if (isBufferExist(buffer)) {\r\n        return buffer;\r\n    }\r\n\r\n    buffer = gl.createBuffer();\r\n\r\n    buffers[geometryIndex] = buffer;\r\n\r\n    _initBuffer(gl, getVertices(geometryIndex, GeometryWorkerData), buffer);\r\n\r\n    ArrayBufferDataFromSystem.bufferDataMap[geometryIndex] = {\r\n        size: 3,\r\n        type: EBufferType.FLOAT\r\n    };\r\n\r\n    return buffer;\r\n}\r\n\r\nvar _initBuffer = (gl: WebGLRenderingContext, data: Float32Array, buffer: WebGLBuffer) => {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n\r\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n\r\n    _resetBindedBuffer(gl);\r\n}\r\n\r\nvar _resetBindedBuffer = (gl: WebGLRenderingContext) => {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n}\r\n\r\nexport var initData = (ArrayBufferDataFromSystemFromSystem: any) => {\r\n    ArrayBufferDataFromSystemFromSystem.buffers = [];\r\n    ArrayBufferDataFromSystemFromSystem.bufferDataMap = createMap();\r\n}\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { IMaterialConfig } from \"../../../data/material_config\";\r\nimport { EVariableType } from \"../../../enum/EVariableType\";\r\nimport { getOrCreateBuffer as getOrCreateArrayBuffer } from \"../../buffer/arrayBufferUtils\";\r\nimport { createMap, isValidMapValue } from \"../../../../utils/objectUtils\";\r\nimport { forEach } from \"../../../../utils/arrayUtils\";\r\nimport { RenderCommandUniformData } from \"../../../type/dataType\";\r\nimport { Log } from \"../../../../utils/Log\";\r\n\r\nexport var use = requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any) => {\r\n    it(\"program should exist\", () => {\r\n        expect(getProgram(shaderIndex, ProgramDataFromSystem)).exist;\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any) => {\r\n    var program = getProgram(shaderIndex, ProgramDataFromSystem);\r\n\r\n    if (ProgramDataFromSystem.lastUsedProgram === program) {\r\n        return;\r\n    }\r\n\r\n    ProgramDataFromSystem.lastUsedProgram = program;\r\n\r\n    gl.useProgram(program);\r\n\r\n    disableVertexAttribArray(gl, GLSLSenderDataFromSystem);\r\n\r\n    ProgramDataFromSystem.lastBindedArrayBuffer = null;\r\n    ProgramDataFromSystem.lastBindedIndexBuffer = null;\r\n})\r\n\r\nexport var disableVertexAttribArray = requireCheckFunc((gl: WebGLRenderingContext, GLSLSenderDataFromSystem: any) => {\r\n    it(\"vertexAttribHistory should has not hole\", () => {\r\n        forEach(GLSLSenderDataFromSystem.vertexAttribHistory, (isEnable: boolean) => {\r\n            expect(isEnable).exist;\r\n            expect(isEnable).be.a(\"boolean\");\r\n        })\r\n    });\r\n}, (gl: WebGLRenderingContext, GLSLSenderDataFromSystem: any) => {\r\n    var vertexAttribHistory = GLSLSenderDataFromSystem.vertexAttribHistory;\r\n\r\n    for (let i = 0, len = vertexAttribHistory.length; i < len; i++) {\r\n        let isEnable = vertexAttribHistory[i];\r\n\r\n        if (isEnable === false || i > gl.VERTEX_ATTRIB_ARRAY_ENABLED) {\r\n            continue;\r\n        }\r\n\r\n        // vertexAttribHistory[i] = false;\r\n        gl.disableVertexAttribArray(i);\r\n    }\r\n\r\n    GLSLSenderDataFromSystem.vertexAttribHistory = [];\r\n})\r\n\r\nexport var getMaterialShaderLibConfig = requireCheckFunc((materialClassName: string, material_config: IMaterialConfig) => {\r\n    var materialData = material_config[materialClassName];\r\n\r\n    it(\"materialClassName should be defined\", () => {\r\n        expect(materialData).exist;\r\n    })\r\n    it(\"shaderLib should be array\", () => {\r\n        expect(materialData.shader.shaderLib).be.a(\"array\");\r\n    });\r\n}, (materialClassName: string, material_config: IMaterialConfig) => {\r\n    return material_config[materialClassName].shader.shaderLib;\r\n})\r\n\r\nexport var registerProgram = (shaderIndex: number, ProgramDataFromSystem: any, program: WebGLProgram) => {\r\n    ProgramDataFromSystem.programMap[shaderIndex] = program;\r\n}\r\n\r\nexport var getProgram = ensureFunc((program: WebGLProgram) => {\r\n}, (shaderIndex: number, ProgramDataFromSystem: any) => {\r\n    return ProgramDataFromSystem.programMap[shaderIndex];\r\n})\r\n\r\nexport var isProgramExist = (program: WebGLProgram) => isValidMapValue(program);\r\n\r\nexport var initShader = (program: WebGLProgram, vsSource: string, fsSource: string, gl: WebGLRenderingContext) => {\r\n    var vs = _compileShader(gl, vsSource, gl.createShader(gl.VERTEX_SHADER)),\r\n        fs = _compileShader(gl, fsSource, gl.createShader(gl.FRAGMENT_SHADER));\r\n\r\n    //dispose?\r\n    // if (this.glProgram) {\r\n    //     this.dispose();\r\n    // }\r\n\r\n\r\n    gl.attachShader(program, vs);\r\n    gl.attachShader(program, fs);\r\n\r\n\r\n    /*!\r\n     if warn:\"Attribute 0 is disabled. This has significant performance penalty\" when run,\r\n     then do this before linkProgram:\r\n     gl.bindAttribLocation( this.glProgram, 0, \"a_position\");\r\n\r\n\r\n\r\n     can reference here:\r\n     http://stackoverflow.com/questions/20305231/webgl-warning-attribute-0-is-disabled-this-has-significant-performance-penalt?answertab=votes#tab-top\r\n\r\n\r\n     OpenGL requires attribute zero to be enabled otherwise it will not render anything.\r\n     On the other hand OpenGL ES 2.0 on which WebGL is based does not. So, to emulate OpenGL ES 2.0 on top of OpenGL if you don't enable attribute 0 the browser has to make a buffer for you large enough for the number of vertices you've requested to be drawn, fill it with the correct value (see gl.vertexAttrib),\r\n     attach it to attribute zero, and enable it.\r\n\r\n     It does all this behind the scenes but it's important for you to know that it takes time to create and fill that buffer. There are optimizations the browser can make but in the general case,\r\n     if you were to assume you were running on OpenGL ES 2.0 and used attribute zero as a constant like you are supposed to be able to do, without the warning you'd have no idea of the work the browser is doing on your behalf to emulate that feature of OpenGL ES 2.0 that is different from OpenGL.\r\n\r\n     require your particular case the warning doesn't have much meaning. It looks like you are only drawing a single point. But it would not be easy for the browser to figure that out so it just warns you anytime you draw and attribute 0 is not enabled.\r\n     */\r\n    /*!\r\n     Always have vertex attrib 0 array enabled. If you draw with vertex attrib 0 array disabled, you will force the browser to do complicated emulation when running on desktop OpenGL (e.g. on Mac OSX). This is because in desktop OpenGL, nothing gets drawn if vertex attrib 0 is not array-enabled. You can use bindAttribLocation() to force a vertex attribute to use location 0, and use enableVertexAttribArray() to make it array-enabled.\r\n     */\r\n    gl.bindAttribLocation(program, 0, \"a_position\");\r\n\r\n\r\n    _linkProgram(gl, program);\r\n\r\n    /*!\r\n     should detach and delete shaders after linking the program\r\n\r\n     explain:\r\n     The shader object, due to being attached to the program object, will continue to exist even if you delete the shader object. It will only be deleted by the system when it is no longer attached to any program object (and when the user has asked to delete it, of course).\r\n\r\n     \"Deleting\" the shader, as with all OpenGL objects, merely sets a flag that says you don't need it any more. OpenGL will keep it around for as long as it needs it itself, and will do the actual delete any time later (most likely, but not necessarily, after the program is deleted).\r\n     */\r\n    gl.deleteShader(vs);\r\n    gl.deleteShader(fs);\r\n}\r\n\r\nvar _linkProgram = ensureFunc((returnVal, gl: WebGLRenderingContext, program: WebGLProgram) => {\r\n    it(`link program error:${gl.getProgramInfoLog(program)}`, () => {\r\n        expect(gl.getProgramParameter(program, gl.LINK_STATUS)).true;\r\n    })\r\n}, (gl: WebGLRenderingContext, program: WebGLProgram) => {\r\n    gl.linkProgram(program);\r\n})\r\n\r\nvar _compileShader = (gl: WebGLRenderingContext, glslSource: string, shader: WebGLShader) => {\r\n    gl.shaderSource(shader, glslSource);\r\n    gl.compileShader(shader);\r\n\r\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        return shader;\r\n    }\r\n    else {\r\n        Log.log(gl.getShaderInfoLog(shader));\r\n        // Log.log(\"attributes:\\n\", this.attributes);\r\n        // Log.log(\"uniforms:\\n\", this.uniforms);\r\n        Log.log(\"source:\\n\", glslSource);\r\n    }\r\n}\r\n\r\nexport var sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, getVertices: Function, getAttribLocation: Function, isAttributeLocationNotExist: Function, sendBuffer: Function, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, GeometryWorkerData: any, ArrayBufferData: any) => {\r\n    var sendDataArr = GLSLSenderDataFromSystem.sendAttributeConfigMap[shaderIndex],\r\n        attributeLocationMap = LocationDataFromSystem.attributeLocationMap[shaderIndex],\r\n        lastBindedArrayBuffer = ProgramDataFromSystem.lastBindedArrayBuffer;\r\n\r\n    for (let sendData of sendDataArr) {\r\n        let buffer = getOrCreateArrayBuffer(gl, geometryIndex, sendData.buffer, getVertices, GeometryWorkerData, ArrayBufferData),\r\n            pos = getAttribLocation(sendData.name, attributeLocationMap);\r\n\r\n        if (isAttributeLocationNotExist(pos)) {\r\n            return;\r\n        }\r\n\r\n        if (lastBindedArrayBuffer === buffer) {\r\n            return;\r\n        }\r\n\r\n        lastBindedArrayBuffer = buffer;\r\n\r\n        sendBuffer(gl, pos, buffer, geometryIndex, GLSLSenderDataFromSystem, ArrayBufferData);\r\n    }\r\n\r\n    ProgramDataFromSystem.lastBindedArrayBuffer = lastBindedArrayBuffer;\r\n}\r\n\r\nexport var sendUniformData = (gl: WebGLRenderingContext, shaderIndex: number, {\r\n    getUniformData,\r\n    sendMatrix4,\r\n    sendVector3,\r\n    sendFloat1\r\n}, MaterialWorkerData: any, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, renderCommandUniformData: RenderCommandUniformData) => {\r\n    var sendDataArr = GLSLSenderDataFromSystem.sendUniformConfigMap[shaderIndex],\r\n        uniformLocationMap = LocationDataFromSystem.uniformLocationMap[shaderIndex],\r\n        uniformCacheMap = GLSLSenderDataFromSystem.uniformCacheMap;\r\n\r\n    for (let i = 0, len = sendDataArr.length; i < len; i++) {\r\n        let sendData = sendDataArr[i],\r\n            name = sendData.name,\r\n            field = sendData.field,\r\n            type = sendData.type as any,\r\n            from = sendData.from || \"cmd\",\r\n            data = getUniformData(field, from, renderCommandUniformData, MaterialWorkerData);\r\n\r\n        switch (type) {\r\n            case EVariableType.MAT4:\r\n                sendMatrix4(gl, name, data, uniformLocationMap);\r\n                break;\r\n            case EVariableType.VEC3:\r\n                sendVector3(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap);\r\n                break;\r\n            case EVariableType.FLOAT:\r\n                sendFloat1(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap);\r\n                break;\r\n            default:\r\n                Log.error(true, Log.info.FUNC_INVALID(\"EVariableType:\", type));\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport var initData = (ProgramDataFromSystem: any) => {\r\n    ProgramDataFromSystem.programMap = createMap();\r\n}\r\n","import { forEach, hasDuplicateItems } from \"../../../../utils/arrayUtils\";\r\nimport { isConfigDataExist } from \"../../renderConfigUtils\";\r\nimport {\r\n    ISendAttributeConfig, ISendUniformConfig,\r\n    IShaderLibContentGenerator\r\n} from \"../../../data/shaderLib_generator\";\r\nimport { MaterialShaderLibConfig } from \"../../../data/material_config\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { createMap, isNotValidMapValue } from \"../../../../utils/objectUtils\";\r\nimport { RenderCommandUniformData, UniformShaderLocationMap, SendAttributeConfigMap, SendUniformConfigMap, UniformCacheMap } from \"../../../type/dataType\";\r\nimport { Log } from \"../../../../utils/Log\";\r\n\r\nexport var getUniformData = (field: string, from: string, getColorArr3: Function, getOpacity: Function, renderCommandUniformData: RenderCommandUniformData, MaterialDataFromSystem: any) => {\r\n    var data: any = null;\r\n\r\n    switch (from) {\r\n        case \"cmd\":\r\n            data = renderCommandUniformData[field];\r\n            break;\r\n        case \"material\":\r\n            data = _getUnifromDataFromMaterial(field, renderCommandUniformData.materialIndex, getColorArr3, getOpacity, MaterialDataFromSystem);\r\n            break;\r\n        default:\r\n            Log.error(true, Log.info.FUNC_UNKNOW(`from:${from}`));\r\n            break;\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nvar _getUnifromDataFromMaterial = (field: string, materialIndex: number, getColorArr3: Function, getOpacity: Function, MaterialDataFromSystem: any) => {\r\n    var data: any = null;\r\n\r\n    switch (field) {\r\n        case \"color\":\r\n            data = getColorArr3(materialIndex, MaterialDataFromSystem);\r\n            break;\r\n        case \"opacity\":\r\n            data = getOpacity(materialIndex, MaterialDataFromSystem);\r\n            break;\r\n        default:\r\n            Log.error(true, Log.info.FUNC_UNKNOW(`field:${field}`));\r\n            break;\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nexport var sendBuffer = (gl: WebGLRenderingContext, pos: number, buffer: WebGLBuffer, geometryIndex: number, GLSLSenderDataFromSystem: any, ArrayBufferData: any) => {\r\n    var {\r\n            size,\r\n        type\r\n        } = ArrayBufferData.bufferDataMap[geometryIndex],\r\n        vertexAttribHistory = GLSLSenderDataFromSystem.vertexAttribHistory;\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n    gl.vertexAttribPointer(pos, size, gl[type], false, 0, 0);\r\n\r\n    if (vertexAttribHistory[pos] !== true) {\r\n        gl.enableVertexAttribArray(pos);\r\n\r\n        vertexAttribHistory[pos] = true;\r\n    }\r\n}\r\n\r\nexport var sendMatrix4 = (gl: WebGLRenderingContext, name: string, data: Float32Array, uniformLocationMap: UniformShaderLocationMap, getUniformLocation: Function, isUniformLocationNotExist: Function) => {\r\n    _sendUniformData<Float32Array>(gl, name, data, uniformLocationMap, getUniformLocation, isUniformLocationNotExist, (pos, data) => {\r\n        gl.uniformMatrix4fv(pos, false, data);\r\n    })\r\n}\r\n\r\nexport var sendVector3 = (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: Array<number>, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap, getUniformLocation: Function, isUniformLocationNotExist: Function) => {\r\n    var recordedData: any = _getUniformCache(shaderIndex, name, uniformCacheMap),\r\n        x = data[0],\r\n        y = data[1],\r\n        z = data[2];\r\n\r\n    if (recordedData && recordedData[0] == x && recordedData[1] == y && recordedData[2] == z) {\r\n        return;\r\n    }\r\n\r\n    _setUniformCache(shaderIndex, name, data, uniformCacheMap);\r\n\r\n    _sendUniformData<Array<number>>(gl, name, data, uniformLocationMap, getUniformLocation, isUniformLocationNotExist, (pos, data) => {\r\n        gl.uniform3f(pos, x, y, z);\r\n    })\r\n}\r\n\r\nexport var sendFloat1 = requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, name: string, data: number, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap, getUniformLocation: Function, isUniformLocationNotExist: Function) => {\r\n    it(\"data should be number\", () => {\r\n        expect(data).be.a(\"number\");\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: number, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap, getUniformLocation: Function, isUniformLocationNotExist: Function) => {\r\n    var recordedData: any = _getUniformCache(shaderIndex, name, uniformCacheMap);\r\n\r\n    if (recordedData === data) {\r\n        return;\r\n    }\r\n\r\n    _setUniformCache(shaderIndex, name, data, uniformCacheMap);\r\n\r\n    _sendUniformData<number>(gl, name, data, uniformLocationMap, getUniformLocation, isUniformLocationNotExist, (pos, data) => {\r\n        gl.uniform1f(pos, data);\r\n    })\r\n})\r\n\r\nvar _getUniformCache = (shaderIndex: number, name: string, uniformCacheMap: UniformCacheMap) => {\r\n    var cache = uniformCacheMap[shaderIndex];\r\n\r\n    if (_isCacheNotExist(cache)) {\r\n        cache = {};\r\n        uniformCacheMap[shaderIndex] = cache;\r\n\r\n        return null;\r\n    }\r\n\r\n    return cache[name];\r\n}\r\n\r\nvar _isCacheNotExist = (cache: any) => isNotValidMapValue(cache);\r\n\r\nvar _setUniformCache = (shaderIndex: number, name: string, data: any, uniformCacheMap: UniformCacheMap) => {\r\n    uniformCacheMap[shaderIndex][name] = data;\r\n}\r\n\r\nvar _sendUniformData = <T>(gl: WebGLRenderingContext, name: string, data: T, uniformLocationMap: UniformShaderLocationMap, getUniformLocation: Function, isUniformLocationNotExist: Function, send: (pos: WebGLUniformLocation, data: T) => void) => {\r\n    var pos = getUniformLocation(name, uniformLocationMap);\r\n\r\n    if (isUniformLocationNotExist(pos)) {\r\n        return;\r\n    }\r\n\r\n    send(pos, data);\r\n}\r\n\r\nexport var addSendAttributeConfig = ensureFunc((returnVal, shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    it(\"sendAttributeConfigMap should not has duplicate attribute name\", () => {\r\n        expect(hasDuplicateItems(sendAttributeConfigMap[shaderIndex])).false;\r\n    });\r\n}, requireCheckFunc((shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    it(\"sendAttributeConfigMap[shaderIndex] should not be defined\", () => {\r\n        expect(sendAttributeConfigMap[shaderIndex]).not.exist;\r\n    });\r\n}, (shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    var sendDataArr: Array<ISendAttributeConfig> = [];\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (isConfigDataExist(sendData) && isConfigDataExist(sendData.attribute)) {\r\n            sendDataArr = sendDataArr.concat(sendData.attribute);\r\n        }\r\n    })\r\n\r\n    sendAttributeConfigMap[shaderIndex] = sendDataArr;\r\n}))\r\n\r\nexport var addSendUniformConfig = ensureFunc((returnVal, shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    it(\"sendUniformConfigMap should not has duplicate attribute name\", () => {\r\n        expect(hasDuplicateItems(sendUniformConfigMap[shaderIndex])).false;\r\n    });\r\n}, requireCheckFunc((shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    it(\"sendUniformConfigMap[shaderIndex] should not be defined\", () => {\r\n        expect(sendUniformConfigMap[shaderIndex]).not.exist;\r\n    });\r\n}, (shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    var sendDataArr: Array<ISendUniformConfig> = [];\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (isConfigDataExist(sendData) && isConfigDataExist(sendData.uniform)) {\r\n            sendDataArr = sendDataArr.concat(sendData.uniform);\r\n        }\r\n    })\r\n\r\n    sendUniformConfigMap[shaderIndex] = sendDataArr;\r\n}))\r\n\r\nexport var initData = (GLSLSenderDataFromSystem: any) => {\r\n    GLSLSenderDataFromSystem.sendAttributeConfigMap = createMap();\r\n    GLSLSenderDataFromSystem.sendUniformConfigMap = createMap();\r\n    GLSLSenderDataFromSystem.vertexAttribHistory = [];\r\n    GLSLSenderDataFromSystem.uniformCacheMap = createMap();\r\n}\r\n","import { isBufferExist } from \"./bufferUtils\";\r\n\r\nexport var getOrCreateBuffer = (gl: WebGLRenderingContext, geometryIndex: number, getIndices: Function, GeometryWorkerData: any, IndexBufferDataFromSystem: any) => {\r\n    var buffers = IndexBufferDataFromSystem.buffers,\r\n        buffer = buffers[geometryIndex];\r\n\r\n    if (isBufferExist(buffer)) {\r\n        return buffer;\r\n    }\r\n\r\n    buffer = gl.createBuffer();\r\n\r\n    buffers[geometryIndex] = buffer;\r\n\r\n    _initBuffer(gl, getIndices(geometryIndex, GeometryWorkerData), buffer, IndexBufferDataFromSystem);\r\n\r\n    return buffer;\r\n}\r\n\r\nvar _initBuffer = (gl: WebGLRenderingContext, data: Uint16Array | Uint32Array, buffer: WebGLBuffer, IndexBufferDataFromSystem: any) => {\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n\r\n    _resetBindedBuffer(gl, IndexBufferDataFromSystem);\r\n}\r\n\r\nvar _resetBindedBuffer = (gl: WebGLRenderingContext, IndexBufferDataFromSystem: any) => {\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n}\r\n\r\nexport var initData = (IndexBufferDataFromSystem: any) => {\r\n    IndexBufferDataFromSystem.buffers = [];\r\n}\r\n","import { IMaterialConfig } from \"../../data/material_config\";\r\nimport {\r\n    IShaderLibGenerator\r\n} from \"../../data/shaderLib_generator\";\r\nimport { Map } from \"immutable\";\r\nimport { setLocationMap } from \"./location/locationUtils\";\r\nimport {\r\n    getMaterialShaderLibConfig, getProgram, initShader, isProgramExist,\r\n    registerProgram, sendUniformData as sendUniformDataProgram, sendAttributeData as sendAttributeDataProgram, use as useProgram\r\n} from \"./program/programUtils\";\r\nimport { addSendAttributeConfig, addSendUniformConfig } from \"./glslSender/glslSenderUtils\";\r\nimport { RenderCommandUniformData } from \"../../type/dataType\";\r\nimport { getOrCreateBuffer } from \"../buffer/indexBufferUtils\";\r\nimport { SendUniformDataFuncDataMap } from \"../../type/utilsType\";\r\n\r\nexport var init = (state: Map<any, any>, materialIndex: number, shaderIndex: number, materialClassName: string, material_config: IMaterialConfig, shaderLib_generator: IShaderLibGenerator, buildGLSLSource: Function, getGL: Function, DeviceManagerDataFromSystem: any, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, MaterialDataFromSystem: any) => {\r\n    var program = getProgram(shaderIndex, ProgramDataFromSystem);\r\n\r\n    if (isProgramExist(program)) {\r\n        return;\r\n    }\r\n\r\n    let materialShaderLibConfig = getMaterialShaderLibConfig(materialClassName, material_config),\r\n        shaderLibDataFromSystem = shaderLib_generator.shaderLibs,\r\n        {\r\n            vsSource,\r\n            fsSource\r\n        } = buildGLSLSource(materialIndex, materialShaderLibConfig, shaderLibDataFromSystem, MaterialDataFromSystem),\r\n        gl = getGL(DeviceManagerDataFromSystem, state);\r\n\r\n    program = gl.createProgram();\r\n\r\n    registerProgram(shaderIndex, ProgramDataFromSystem, program);\r\n    initShader(program, vsSource, fsSource, gl);\r\n\r\n    setLocationMap(gl, shaderIndex, program, materialShaderLibConfig, shaderLibDataFromSystem, LocationDataFromSystem);\r\n\r\n    addSendAttributeConfig(shaderIndex, materialShaderLibConfig, shaderLibDataFromSystem, GLSLSenderDataFromSystem.sendAttributeConfigMap);\r\n    addSendUniformConfig(shaderIndex, materialShaderLibConfig, shaderLibDataFromSystem, GLSLSenderDataFromSystem.sendUniformConfigMap);\r\n}\r\n\r\nexport var sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, getVertivesFunc: Function, getAttribLocation: Function, isAttributeLocationNotExist: Function, sendBuffer: Function, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, GeometryWorkerDataFromSystem: any, ArrayBufferDataFromSystem: any) => {\r\n    sendAttributeDataProgram(gl, shaderIndex, geometryIndex, getVertivesFunc, getAttribLocation, isAttributeLocationNotExist, sendBuffer, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem, GeometryWorkerDataFromSystem, ArrayBufferDataFromSystem);\r\n}\r\n\r\nexport var sendUniformData = (gl: WebGLRenderingContext, shaderIndex: number, funcDataMap: SendUniformDataFuncDataMap, MaterialDataFromSystem: any, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, renderCommandUniformData: RenderCommandUniformData) => {\r\n    sendUniformDataProgram(gl, shaderIndex, funcDataMap, MaterialDataFromSystem, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem, renderCommandUniformData);\r\n}\r\n\r\nexport var bindIndexBuffer = (gl: WebGLRenderingContext, geometryIndex: number, getIndicesFunc: Function, ProgramDataFromSystem: any, GeometryWorkerDataFromSystem: any, IndexBufferDataFromSystem: any) => {\r\n    var buffer = getOrCreateBuffer(gl, geometryIndex, getIndicesFunc, GeometryWorkerDataFromSystem, IndexBufferDataFromSystem);\r\n\r\n    if (ProgramDataFromSystem.lastBindedIndexBuffer === buffer) {\r\n        return;\r\n    }\r\n\r\n    ProgramDataFromSystem.lastBindedIndexBuffer = buffer;\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n}\r\n\r\nexport var use = (gl: WebGLRenderingContext, shaderIndex: number, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any) => {\r\n    useProgram(gl, shaderIndex, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem);\r\n}\r\n\r\n","export function singleton(isInitWhenCreate: boolean = false) {\r\n    return (target: any) => {\r\n        target._instance = null;\r\n\r\n        if (isInitWhenCreate) {\r\n            target.getInstance = () => {\r\n                if (target._instance === null) {\r\n                    let instance = new target();\r\n\r\n                    target._instance = instance;\r\n\r\n                    instance.initWhenCreate();\r\n                }\r\n\r\n                return target._instance;\r\n            };\r\n        }\r\n        else {\r\n            target.getInstance = () => {\r\n                if (target._instance === null) {\r\n                    target._instance = new target();\r\n                }\r\n\r\n                return target._instance;\r\n            };\r\n        }\r\n    }\r\n}","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../../definition/typescript/decorator/singleton\";\r\nimport { Log } from \"../../utils/Log\";\r\nimport { Map } from \"immutable\";\r\n\r\n@singleton()\r\n@registerClass(\"GPUDetector\")\r\nexport class GPUDetector {\r\n    public static getInstance(): any { }\r\n\r\n    private constructor() { }\r\n\r\n    public maxTextureUnit: number = null;\r\n    public maxTextureSize: number = null;\r\n    public maxCubemapTextureSize: number = null;\r\n    public maxAnisotropy: number = null;\r\n    public maxBoneCount: number = null;\r\n    public extensionCompressedTextureS3TC: any = null;\r\n    public extensionTextureFilterAnisotropic: any = null;\r\n    public extensionInstancedArrays: any = null;\r\n    public extensionUintIndices: boolean = null;\r\n    public extensionDepthTexture: boolean = null;\r\n    public extensionVAO: any = null;\r\n    public extensionStandardDerivatives: boolean = null;\r\n    public precision: number = null;\r\n\r\n    private _isDetected: boolean = false;\r\n\r\n    //todo test\r\n    public detect(state: Map<any, any>, getGL: Function, DeviceManagerDataFromSystem: any) {\r\n        var gl = getGL(DeviceManagerDataFromSystem, state);\r\n\r\n        this._isDetected = true;\r\n\r\n        this._detectExtension(state, gl);\r\n        this._detectCapabilty(state, gl);\r\n\r\n        return state;\r\n    }\r\n\r\n    private _detectExtension(state: Map<any, any>, gl) {\r\n        this.extensionCompressedTextureS3TC = this._getExtension(\"WEBGL_compressed_texture_s3tc\", state, gl);\r\n        this.extensionTextureFilterAnisotropic = this._getExtension(\"EXT_texture_filter_anisotropic\", state, gl);\r\n        this.extensionInstancedArrays = this._getExtension(\"ANGLE_instanced_arrays\", state, gl);\r\n        this.extensionUintIndices = this._getExtension(\"element_index_uint\", state, gl);\r\n        this.extensionDepthTexture = this._getExtension(\"depth_texture\", state, gl);\r\n        this.extensionVAO = this._getExtension(\"vao\", state, gl);\r\n        this.extensionStandardDerivatives = this._getExtension(\"standard_derivatives\", state, gl);\r\n    }\r\n\r\n    private _detectCapabilty(state: Map<any, any>, gl: WebGLRenderingContext) {\r\n        this.maxTextureUnit = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\r\n        this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\r\n        this.maxCubemapTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\r\n        this.maxAnisotropy = this._getMaxAnisotropy(state, gl);\r\n\r\n        this.maxBoneCount = this._getMaxBoneCount(state, gl);\r\n\r\n        //todo use map instead\r\n        // alert(\"maxBoneCount:\" + this.maxBoneCount);\r\n\r\n        this._detectPrecision(state, gl);\r\n    }\r\n\r\n    private _getExtension(name: string, state: Map<any, any>, gl: WebGLRenderingContext) {\r\n        var extension: any = null;\r\n\r\n        switch (name) {\r\n            case \"EXT_texture_filter_anisotropic\":\r\n                extension = gl.getExtension(\"EXT_texture_filter_anisotropic\") || gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") || gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\r\n                break;\r\n            case \"WEBGL_compressed_texture_s3tc\":\r\n                extension = gl.getExtension(\"WEBGL_compressed_texture_s3tc\") || gl.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");\r\n                break;\r\n            case \"WEBGL_compressed_texture_pvrtc\":\r\n                extension = gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");\r\n                break;\r\n            case \"ANGLE_instanced_arrays\":\r\n                extension = gl.getExtension(\"ANGLE_instanced_arrays\");\r\n                break;\r\n            case \"element_index_uint\":\r\n                extension = gl.getExtension(\"OES_element_index_uint\") !== null;\r\n                break;\r\n            case \"depth_texture\":\r\n                extension = gl.getExtension(\"WEBKIT_WEBGL_depth_texture\") !== null || gl.getExtension(\"WEBGL_depth_texture\") !== null;\r\n                break;\r\n            case \"vao\":\r\n                extension = gl.getExtension(\"OES_vertex_array_object\");\r\n                break;\r\n            case \"standard_derivatives\":\r\n                extension = gl.getExtension(\"OES_standard_derivatives\");\r\n                break;\r\n            default:\r\n                extension = gl.getExtension(name);\r\n                break;\r\n        }\r\n\r\n        return extension;\r\n    }\r\n\r\n    private _getMaxBoneCount(state: Map<any, any>, gl: WebGLRenderingContext) {\r\n        var numUniforms: number = null,\r\n            maxBoneCount: number = null;\r\n\r\n        // Calculate a estimate of the maximum number of bones that can be uploaded to the GPU\r\n        // based on the number of available uniforms and the number of uniforms required for non-\r\n        // bone data.  This is based off of the Standard shader.  A user defined shader may have\r\n        // even less space available for bones so this calculated value can be overridden via\r\n        numUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\r\n        numUniforms -= 4 * 4; // Model, view, projection and shadow matrices\r\n        // numUniforms -= 8;     // 8 lights max, each specifying a position vector\r\n        numUniforms -= 1;     // Eye position\r\n        numUniforms -= 4 * 4; // Up to 4 texture transforms\r\n\r\n        maxBoneCount = Math.floor(numUniforms / 4);\r\n\r\n        // Put a limit on the number of supported bones before skin partitioning must be performed\r\n        // Some GPUs have demonstrated performance issues if the number of vectors allocated to the\r\n        // skin matrix palette is left unbounded\r\n        return Math.min(maxBoneCount, 128);\r\n    }\r\n\r\n    private _getMaxAnisotropy(state: Map<any, any>, gl: WebGLRenderingContext) {\r\n        var extension = this.extensionTextureFilterAnisotropic;\r\n\r\n        return extension !== null ? gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;\r\n    }\r\n\r\n    private _detectPrecision(state: Map<any, any>, gl: WebGLRenderingContext) {\r\n        if (!gl.getShaderPrecisionFormat) {\r\n            this.precision = EGPUPrecision.HIGHP;\r\n\r\n            return;\r\n        }\r\n\r\n        let vertexShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT),\r\n            vertexShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT),\r\n            //vertexShaderPrecisionLowpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT),\r\n            fragmentShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\r\n            fragmentShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\r\n            //fragmentShaderPrecisionLowpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\r\n            highpAvailable = vertexShaderPrecisionHighpFloat.precision > 0 && fragmentShaderPrecisionHighpFloat.precision > 0,\r\n            mediumpAvailable = vertexShaderPrecisionMediumpFloat.precision > 0 && fragmentShaderPrecisionMediumpFloat.precision > 0;\r\n\r\n        if (!highpAvailable) {\r\n            if (mediumpAvailable) {\r\n                this.precision = EGPUPrecision.MEDIUMP;\r\n                Log.warn(Log.info.FUNC_NOT_SUPPORT(\"gpu\", \"highp, using mediump\"));\r\n            }\r\n            else {\r\n                this.precision = EGPUPrecision.LOWP;\r\n                Log.warn(Log.info.FUNC_NOT_SUPPORT(\"gpu\", \"highp and mediump, using lowp\"));\r\n            }\r\n        }\r\n        else {\r\n            this.precision = EGPUPrecision.HIGHP;\r\n        }\r\n    }\r\n}\r\n\r\nexport enum EGPUPrecision {\r\n    HIGHP,\r\n    MEDIUMP,\r\n    LOWP\r\n}","import { EDrawMode } from \"../../renderer/enum/EDrawMode\";\r\nimport { EBufferType } from \"../../renderer/enum/EBufferType\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { ComponentMap } from \"../ComponentSystem\";\r\nimport {\r\n    GeometryIndicesCacheMap, GeometryInfoList, GeometryVerticesCacheMap,\r\n    GeometryWorkerInfoList\r\n} from \"../../definition/type/geometryType\";\r\n\r\nexport class GeometryData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static disposeCount: number = null;\r\n\r\n    public static maxDisposeIndex: number = null;\r\n    public static isReallocate: boolean = null;\r\n\r\n    public static buffer: SharedArrayBuffer = null;\r\n\r\n    public static verticesOffset: number = null;\r\n    public static indicesOffset: number = null;\r\n\r\n    public static verticesInfoList: GeometryInfoList = null;\r\n    public static indicesInfoList: GeometryInfoList = null;\r\n\r\n    public static isInit: boolean = null;\r\n\r\n    public static verticesWorkerInfoList: GeometryWorkerInfoList = null;\r\n    public static indicesWorkerInfoList: GeometryWorkerInfoList = null;\r\n\r\n    public static disposedGeometryIndexArray: Array<number> = null;\r\n\r\n    public static vertices: Float32Array = null;\r\n    public static indices: Uint16Array | Uint32Array = null;\r\n\r\n    public static verticesCacheMap: GeometryVerticesCacheMap = null;\r\n    public static indicesCacheMap: GeometryIndicesCacheMap = null;\r\n\r\n    public static indexType: EBufferType = null;\r\n    public static indexTypeSize: number = null;\r\n\r\n    public static configDataMap: object = null;\r\n\r\n    public static computeDataFuncMap: GeometryComputeDataFuncMap = null;\r\n\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static geometryMap: ComponentMap = null;\r\n}\r\n\r\nexport type GeometryComputeDataFuncMap = {\r\n    [index: number]: (index: number, GeometryData: any) => GeometryComputeData\r\n}\r\n\r\nexport type GeometryComputeData = {\r\n    vertices: Float32Array;\r\n    indices: Uint16Array | Uint32Array;\r\n}\r\n","export enum EDrawMode {\r\n    POINTS = <any>\"POINTS\",\r\n    LINES = <any>\"LINES\",\r\n    LINE_LOOP = <any>\"LINE_LOOP\",\r\n    LINE_STRIP = <any>\"LINE_STRIP\",\r\n    TRIANGLES = <any>\"TRIANGLES\",\r\n    TRIANGLE_STRIP = <any>\"TRIANGLE_STRIP\",\r\n    TRANGLE_FAN = <any>\"TRIANGLE_FAN\"\r\n}\r\n\r\n","import {\r\n    isNotValidMapValue\r\n} from \"../../../utils/objectUtils\";\r\nimport { EDrawMode } from \"../../enum/EDrawMode\";\r\nimport { EBufferType } from \"../../enum/EBufferType\";\r\nimport { Log } from \"../../../utils/Log\";\r\n\r\nexport var getVertexDataSize = () => 3;\r\n\r\nexport var getIndexDataSize = () => 1;\r\n\r\nexport var getUIntArrayClass = (indexType: EBufferType) => {\r\n    switch (indexType) {\r\n        case EBufferType.UNSIGNED_SHORT:\r\n            return Uint16Array;\r\n        case EBufferType.INT:\r\n            return Uint32Array;\r\n        default:\r\n            Log.error(true, Log.info.FUNC_INVALID(`indexType:${indexType}`));\r\n            break;\r\n    }\r\n}\r\n\r\nexport var getIndexType = (GeometryDataFromSystem: any) => {\r\n    return GeometryDataFromSystem.indexType;\r\n}\r\n\r\nexport var getIndexTypeSize = (GeometryDataFromSystem: any) => {\r\n    return GeometryDataFromSystem.indexTypeSize;\r\n}\r\n\r\nexport var hasIndices = (index: number, getIndices: Function, GeometryDataFromSystem: any) => {\r\n    var indices = getIndices(index, GeometryDataFromSystem);\r\n\r\n    if (isNotValidMapValue(indices)) {\r\n        return false;\r\n    }\r\n\r\n    return indices.length > 0;\r\n}\r\n\r\nexport var getDrawMode = (index: number, GeometryDataFromSystem: any) => {\r\n    return EDrawMode.TRIANGLES;\r\n}\r\n\r\nexport var getVerticesCount = (index: number, getVertices: Function, GeometryDataFromSystem: any) => {\r\n    return getVertices(index, GeometryDataFromSystem).length;\r\n}\r\n\r\nexport var getIndicesCount = (index: number, getIndices: Function, GeometryDataFromSystem: any) => {\r\n    return getIndices(index, GeometryDataFromSystem).length;\r\n}\r\n\r\nexport var createBufferViews = (buffer: any, count: number, UintArray: any, GeometryDataFromSystem: any) => {\r\n    GeometryDataFromSystem.vertices = new Float32Array(buffer, 0, count * getVertexDataSize());\r\n    GeometryDataFromSystem.indices = new UintArray(buffer, count * Float32Array.BYTES_PER_ELEMENT * getVertexDataSize(), count * getIndexDataSize());\r\n}\r\n","import { isSupportSharedArrayBuffer } from \"../device/WorkerDetectSystem\";\r\n\r\nexport var createSharedArrayBufferOrArrayBuffer = (length: number) => {\r\n    var Buffer: any = null;\r\n\r\n    if (isSupportSharedArrayBuffer()) {\r\n        Buffer = SharedArrayBuffer;\r\n    }\r\n    else {\r\n        Buffer = ArrayBuffer;\r\n    }\r\n\r\n    return new Buffer(length);\r\n}\r\n\r\n","import { EBufferType } from \"../enum/EBufferType\";\r\n\r\nexport class ArrayBufferData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n\r\n    public static bufferDataMap: ArrayBufferDataMap = null;\r\n}\r\n\r\nexport type ArrayBufferDataMap = {\r\n    [geometryIndex: number]: {\r\n        size: number;\r\n        type: EBufferType;\r\n    }\r\n}\r\n\r\n","export class IndexBufferData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n}\r\n\r\n","export var disposeGeometryBuffers = (disposedIndexArray: Array<number>, ArrayBufferDataFromSystem: any, IndexBufferDataFromSystem: any, disposeArrayBuffer: Function, disposeIndexBuffer: Function) => {\r\n    for (let index of disposedIndexArray) {\r\n        disposeArrayBuffer(index, ArrayBufferDataFromSystem);\r\n        disposeIndexBuffer(index, IndexBufferDataFromSystem);\r\n    }\r\n}\r\n\r\n","import { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport { ContextConfigOptionsData } from \"../renderer/type/dataType\";\r\n\r\nexport var getCanvas = (state: Map<any, any>): HTMLCanvasElement => {\r\n    return state.getIn([\"View\", \"dom\"]);\r\n}\r\n\r\nexport var setCanvas = curry((dom: HTMLCanvasElement, state: Map<any, any>) => {\r\n    return state.setIn([\"View\", \"dom\"], dom);\r\n});\r\n\r\nexport var getX = curry((dom: HTMLCanvasElement) => {\r\n    return Number(dom.style.left.slice(0, -2));\r\n})\r\n\r\nexport var setX = curry((x: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.left = `${x}px`;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getY = curry((dom: HTMLCanvasElement) => {\r\n    return Number(dom.style.top.slice(0, -2));\r\n})\r\n\r\nexport var setY = curry((y: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.top = `${y}px`;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getWidth = curry((dom: HTMLCanvasElement) => {\r\n    return dom.clientWidth;\r\n})\r\n\r\nexport var setWidth = curry((width: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.width = width;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getHeight = curry((dom: HTMLCanvasElement) => {\r\n    return dom.clientHeight;\r\n})\r\n\r\nexport var setHeight = curry((height: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.height = height;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getStyleWidth = curry((dom: HTMLCanvasElement) => {\r\n    return dom.style.width;\r\n})\r\n\r\nexport var setStyleWidth = curry((width: string, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.width = width;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getStyleHeight = curry((dom: HTMLCanvasElement) => {\r\n    return dom.style.height;\r\n})\r\n\r\nexport var setStyleHeight = curry((height: string, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.height = height;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var initCanvas = (dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.cssText = \"position:absolute;left:0;top:0;\";\r\n\r\n        return dom;\r\n    });\r\n}\r\n\r\nexport var getContext = (contextConfig: Map<string, any>, dom: HTMLCanvasElement): WebGLRenderingContext => {\r\n    var options: ContextConfigOptionsData = contextConfig.get(\"options\").toObject();\r\n\r\n    return (dom.getContext(\"webgl\", options) || dom.getContext(\"experimental-webgl\", options)) as WebGLRenderingContext;\r\n}\r\n","export enum EScreenSize {\r\n    FULL\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector4 } from \"../math/Vector4\";\r\n\r\n@registerClass(\"RectRegion\")\r\nexport class RectRegion extends Vector4 {\r\n    get width() {\r\n        return this.z;\r\n    }\r\n    set width(width: number) {\r\n        this.z = width;\r\n    }\r\n\r\n    get height() {\r\n        return this.w;\r\n    }\r\n    set height(height: number) {\r\n        this.w = height;\r\n    }\r\n\r\n    public clone(): RectRegion {\r\n        return this.copyHelper(RectRegion.create());\r\n    }\r\n\r\n    public isNotEmpty() {\r\n        return this.x !== 0\r\n            || this.y !== 0\r\n            || this.width !== 0\r\n            || this.height !== 0;\r\n    }\r\n}","import { root } from \"../definition/Variable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\n\r\nexport var getRootProperty = (propertyName: string) => {\r\n    return IO.of(() => {\r\n        return root[propertyName];\r\n    });\r\n}\r\n","import { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport {\r\n    getContext, initCanvas, setX, setY, setStyleWidth, setStyleHeight,\r\n    setWidth, setHeight, setCanvas, getCanvas\r\n} from \"../../../structure/ViewSystem\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { EScreenSize } from \"../../device/EScreenSize\";\r\nimport { RectRegion } from \"../../../structure/RectRegion\";\r\nimport { chain, compose } from \"../../../utils/functionalUtils\";\r\nimport { DirectorData } from \"../../../core/DirectorData\";\r\nimport { getRootProperty } from \"../../../utils/rootUtils\";\r\nimport { Map } from \"immutable\";\r\nimport { trace } from \"../../../utils/debugUtils\";\r\nimport { isValueExist } from \"../../../utils/stateUtils\";\r\nimport { Color } from \"../../../structure/Color\";\r\n\r\nexport var getGL = (DeviceManagerDataFromSystem: any, state: Map<any, any>): WebGLRenderingContext => {\r\n    // return state.getIn([\"DeviceManager\", \"gl\"]);\r\n    return DeviceManagerDataFromSystem.gl;\r\n}\r\n\r\nexport var setGL = curry((gl: WebGLRenderingContext, DeviceManagerDataFromSystem: any, state: Map<any, any>) => {\r\n    // return state.setIn([\"DeviceManager\", \"gl\"], gl);\r\n    DeviceManagerDataFromSystem.gl = gl;\r\n\r\n    return state;\r\n})\r\n\r\nexport var setContextConfig = curry((contextConfig: Map<string, any>, state: Map<any, any>) => {\r\n    return state.setIn([\"DeviceManager\", \"contextConfig\"], contextConfig);\r\n})\r\n\r\nexport var setPixelRatio = curry((pixelRatio: number | null, state: Map<any, any>) => {\r\n    if (pixelRatio === null) {\r\n        return state;\r\n    }\r\n\r\n    return state.setIn([\"DeviceManager\", \"pixelRatio\"], pixelRatio);\r\n})\r\n\r\nexport var getViewport = (state: Map<any, any>) => {\r\n    return state.getIn([\"DeviceManager\", \"viewport\"]);\r\n}\r\n\r\nexport var setViewport = (x: number, y: number, width: number, height: number, state: Map<any, any>) => {\r\n    return state.setIn([\"DeviceManager\", \"viewport\"], RectRegion.create(x, y, width, height));\r\n}\r\n\r\nexport var setCanvasPixelRatio = curry((useDevicePixelRatio: boolean, canvas: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        var pixelRatio: number = getRootProperty(\"devicePixelRatio\").run();\r\n\r\n        canvas.width = Math.round(canvas.width * pixelRatio);\r\n        canvas.height = Math.round(canvas.height * pixelRatio);\r\n\r\n        return pixelRatio;\r\n    });\r\n})\r\n\r\nexport var setViewportOfGL = curry((DeviceManagerDataFromSystem: any, state: Map<any, any>, {\r\n    x,\r\n    y,\r\n    width,\r\n    height\r\n}) => {\r\n    return IO.of(() => {\r\n        var gl = getGL(DeviceManagerDataFromSystem, state),\r\n            viewport = getViewport(state);\r\n\r\n        if (isValueExist(viewport) && viewport.x === x && viewport.y === y && viewport.width === width && viewport.height === height) {\r\n            return state;\r\n        }\r\n\r\n        gl.viewport(x, y, width, height);\r\n\r\n        return setViewport(x, y, width, height, state);\r\n    });\r\n})\r\n\r\nvar _setBodyByScreenSize = (screenSize: EScreenSize) => {\r\n    return IO.of(() => {\r\n        if (screenSize === EScreenSize.FULL) {\r\n            DomQuery.create(\"body\").css(\"margin\", \"0\");\r\n        }\r\n\r\n        return screenSize;\r\n    });\r\n}\r\n\r\nvar _getScreenData = (screenSize: EScreenSize | RectRegion) => {\r\n    return IO.of(() => {\r\n        var x = null,\r\n            y = null,\r\n            width = null,\r\n            height = null,\r\n            styleWidth = null,\r\n            styleHeight = null;\r\n\r\n        if (screenSize === EScreenSize.FULL) {\r\n            x = 0;\r\n            y = 0;\r\n            width = getRootProperty(\"innerWidth\").run();\r\n            height = getRootProperty(\"innerHeight\").run();\r\n            styleWidth = \"100%\";\r\n            styleHeight = \"100%\";\r\n        }\r\n        else {\r\n            x = (screenSize as RectRegion).x || 0;\r\n            y = (screenSize as RectRegion).y || 0;\r\n            width = (screenSize as RectRegion).width || getRootProperty(\"innerWidth\").run();\r\n            height = (screenSize as RectRegion).height || getRootProperty(\"innerHeight\").run();\r\n            styleWidth = `${width}px`;\r\n            styleHeight = `${height}px`;\r\n        }\r\n\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height,\r\n            styleWidth: styleWidth,\r\n            styleHeight: styleHeight\r\n        };\r\n    });\r\n}\r\n\r\nexport var getScreenSize = (state: Map<any, any>) => {\r\n    return state.getIn([\"Main\", \"screenSize\"]);\r\n}\r\n\r\nexport var setScreen = (canvas: HTMLCanvasElement, setScreenData: Function, DeviceManagerDataFromSystem: any, state: Map<any, any>) => {\r\n    return IO.of(requireCheckFunc(() => {\r\n        it(\"should exist MainData.screenSize\", () => {\r\n            expect(getScreenSize(state)).exist;\r\n        });\r\n    }, () => {\r\n        initCanvas(canvas).run();\r\n\r\n        return compose(\r\n            chain(setScreenData(DeviceManagerDataFromSystem, canvas, state)),\r\n            chain(_getScreenData),\r\n            _setBodyByScreenSize\r\n        )(getScreenSize(state)).run();\r\n    }));\r\n};\r\n\r\nexport var clear = (gl: WebGLRenderingContext, color: Color, DeviceManagerDataFromSystem: any) => {\r\n    _setClearColor(gl, color, DeviceManagerDataFromSystem);\r\n\r\n    setColorWrite(gl, true, true, true, true, DeviceManagerDataFromSystem);\r\n\r\n    /*! optimize in ANGLE:\r\n     (need more verify:set color mask all false before clear?\r\n     so here not do the recommendation)\r\n\r\n\r\n     Recommendation: Do Not Perform Clears with Scissors or Masks Enabled\r\n     (<<WebGL Insights>> -> chapter 1)\r\n\r\n     One of the subtle differences between the Direct3D APIs and the GL APIs is that in the former, clear calls ignore scissors and masks, while the latter applies both to clears [Koch 12]. This means that if a clear is performed with the scissors test enabled, or with a color or stencil mask in use, ANGLE must draw a quad with the requested clear values, rather than using clear. This introduces some state management overhead, as ANGLE must switch out all the cached state such as shaders, sampler and texture bindings, and vertex data related to the draw call stream. It then must set up all the appropriate state for the clear, perform the clear itself, and then reset all of the affected state back to its prior settings once the clear is complete. If multiple draw buffers are currently in use, using WEBGL_draw_ buffers, then the performance implications of this emulated clear are com- pounded, as the draw must be performed once for each target. Clearing buffers without scissors or masks enabled avoids this overhead.\r\n     */\r\n\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n}\r\n\r\n\r\nvar _setClearColor = (gl: WebGLRenderingContext, color: Color, DeviceManagerDataFromSystem: any) => {\r\n    var clearColor = DeviceManagerDataFromSystem.clearColor;\r\n\r\n    if (clearColor && clearColor.isEqual(color)) {\r\n        return;\r\n    }\r\n\r\n    gl.clearColor(color.r, color.g, color.b, color.a);\r\n\r\n    DeviceManagerDataFromSystem.clearColor = color;\r\n}\r\n\r\nexport var setColorWrite = (gl: WebGLRenderingContext, writeRed: boolean, writeGreen: boolean, writeBlue: boolean, writeAlpha: boolean, DeviceManagerDataFromSystem: any) => {\r\n    if (DeviceManagerDataFromSystem.writeRed !== writeRed\r\n        || DeviceManagerDataFromSystem.writeGreen !== writeGreen\r\n        || DeviceManagerDataFromSystem.writeBlue !== writeBlue\r\n        || DeviceManagerDataFromSystem.writeAlpha !== writeAlpha) {\r\n        gl.colorMask(writeRed, writeGreen, writeBlue, writeAlpha);\r\n\r\n        DeviceManagerDataFromSystem.writeRed = writeRed;\r\n        DeviceManagerDataFromSystem.writeGreen = writeGreen;\r\n        DeviceManagerDataFromSystem.writeBlue = writeBlue;\r\n        DeviceManagerDataFromSystem.writeAlpha = writeAlpha;\r\n    }\r\n}\r\n\r\nexport var initData = (DeviceManagerDataFromSystem: any) => {\r\n    DeviceManagerDataFromSystem.gl = null;\r\n    DeviceManagerDataFromSystem.clearColor = null;\r\n\r\n    DeviceManagerDataFromSystem.writeRed = null;\r\n    DeviceManagerDataFromSystem.writeGreen = null;\r\n    DeviceManagerDataFromSystem.writeBlue = null;\r\n    DeviceManagerDataFromSystem.writeAlpha = null;\r\n}\r\n","import { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport {\r\n    getContext, setCanvas, setHeight, setStyleHeight, setStyleWidth, setWidth, setY, setX\r\n} from \"../../structure/ViewSystem\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { chain, compose } from \"../../utils/functionalUtils\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n    clear as clearUtils,\r\n    getGL as getGLUtils, getScreenSize as getScreenSizeUtils, getViewport as getViewportUtils,\r\n    initData as initDataUtils, setCanvasPixelRatio as setCanvasPixelRatioUtils, setColorWrite as setColorWriteUtils,\r\n    setContextConfig as setContextConfigUtils, setGL as setGLUtils, setPixelRatio as setPixelRatioUtils,\r\n    setScreen as setScreenUtils,\r\n    setViewport as setViewportUtils, setViewportOfGL as setViewportOfGLUtils\r\n} from \"../utils/device/deviceManagerUtils\";\r\nimport { Color } from \"../../structure/Color\";\r\n\r\nexport var createGL = curry((canvas: HTMLCanvasElement, contextConfig: Map<string, any>, DeviceManagerData: any, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        var gl = getContext(contextConfig, canvas);\r\n\r\n        if (!gl) {\r\n            DomQuery.create(\"<p class='not-support-webgl'></p>\").prependTo(\"body\").text(\"Your device doesn't support WebGL\");\r\n        }\r\n        return compose(setCanvas(canvas), setContextConfig(contextConfig), setGL(gl, DeviceManagerData))(state);\r\n    });\r\n})\r\n\r\nexport var getGL = getGLUtils;\r\n\r\nexport var setGL = setGLUtils;\r\n\r\nexport var setContextConfig = setContextConfigUtils;\r\n\r\nexport var setPixelRatio = setPixelRatioUtils;\r\n\r\nexport var getViewport = getViewportUtils;\r\n\r\nexport var setViewport = setViewportUtils;\r\n\r\nexport var setCanvasPixelRatio = curry((useDevicePixelRatio: boolean, canvas: HTMLCanvasElement, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        if (!useDevicePixelRatio) {\r\n            return state;\r\n        }\r\n\r\n        let pixelRatio = setCanvasPixelRatioUtils(useDevicePixelRatio, canvas).run();\r\n\r\n        return setPixelRatio(pixelRatio, state);\r\n    });\r\n});\r\n\r\nexport var setViewportOfGL = setViewportOfGLUtils;\r\n\r\nexport var getScreenSize = getScreenSizeUtils;\r\n\r\nexport var setScreen = curry((canvas: HTMLCanvasElement, DeviceManagerData: any, state: Map<any, any>) => {\r\n    return setScreenUtils(canvas, _setScreenData, DeviceManagerData, state);\r\n});\r\n\r\nvar _setScreenData = curry((DeviceManagerData: any, canvas: HTMLCanvasElement, state: Map<any, any>, data: any) => {\r\n    var {\r\n        x,\r\n        y,\r\n        width,\r\n        height,\r\n        styleWidth,\r\n        styleHeight\r\n    } = data;\r\n\r\n    return IO.of(() => {\r\n        compose(chain(setStyleWidth(styleWidth)), chain(setStyleHeight(styleHeight)), chain(setHeight(height)), chain(setWidth(width)), chain(setY(y)), setX(x))(canvas).run();\r\n\r\n        return setViewportOfGL(DeviceManagerData, state, data).run();\r\n    });\r\n})\r\n\r\nexport var clear = clearUtils;\r\n\r\nexport var setColorWrite = setColorWriteUtils;\r\n\r\nexport var initData = initDataUtils;\r\n","import { Color } from \"../../structure/Color\";\r\n\r\nexport class DeviceManagerData {\r\n    public static gl: WebGLRenderingContext = null;\r\n\r\n    public static clearColor: Color = null;\r\n\r\n    public static writeRed: boolean = null;\r\n    public static writeGreen: boolean = null;\r\n    public static writeBlue: boolean = null;\r\n    public static writeAlpha: boolean = null;\r\n}\r\n","import { getOrCreateBuffer as getOrCreateBufferUtils, initData as initDataUtils } from \"../utils/buffer/arrayBufferUtils\";\r\nimport { getGL } from \"../device/DeviceManagerSystem\";\r\nimport { DeviceManagerData } from \"../device/DeviceManagerData\";\r\nimport { disposeBuffer as disposeBufferUtils } from \"../utils/buffer/bufferUtils\";\r\n\r\nexport var getOrCreateBuffer = getOrCreateBufferUtils;\r\n\r\nexport var initData = initDataUtils;\r\n\r\nexport var disposeBuffer = (geometryIndex: number, ArrayBufferData: any) => {\r\n    disposeBufferUtils(geometryIndex, ArrayBufferData.buffers, getGL, DeviceManagerData);\r\n}\r\n","import { getOrCreateBuffer as getOrCreateBufferUtils, initData as initDataUtils } from \"../utils/buffer/indexBufferUtils\";\r\nimport { getIndices } from \"../../component/geometry/GeometrySystem\";\r\nimport { getGL } from \"../device/DeviceManagerSystem\";\r\nimport { DeviceManagerData } from \"../device/DeviceManagerData\";\r\nimport { disposeBuffer as disposeBufferUtils } from \"../utils/buffer/bufferUtils\";\r\n\r\nexport var getOrCreateBuffer = (gl: WebGLRenderingContext, geometryIndex: number, GeometryData: any, IndexBufferData: any) => {\r\n    return getOrCreateBufferUtils(gl, geometryIndex, getIndices, GeometryData, IndexBufferData);\r\n}\r\n\r\nexport var initData = initDataUtils;\r\n\r\nexport var disposeBuffer = (geometryIndex: number, IndexBufferData: any) => {\r\n    disposeBufferUtils(geometryIndex, IndexBufferData.buffers, getGL, DeviceManagerData);\r\n}\r\n","import { GPUDetector } from \"../../renderer/device/GPUDetector\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { Map } from \"immutable\";\r\nimport { EBufferType } from \"../../renderer/enum/EBufferType\";\r\nimport {\r\n    createMap, deleteBySwap as deleteObjectBySwap, deleteVal, isNotValidMapValue,\r\n    isValidMapValue\r\n} from \"../../utils/objectUtils\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, addInitHandle as addInitHandleToMap, deleteComponent,\r\n    generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { GeometryData } from \"./GeometryData\";\r\nimport {\r\n    getIndexDataSize,\r\n    getUIntArrayClass,\r\n    getVertexDataSize,\r\n    getIndexTypeSize as getIndexTypeSizeUtils,\r\n    getDrawMode as getDrawModeUtils,\r\n    getIndexType as getIndexTypeUtils,\r\n    getIndicesCount as getIndicesCountUtils,\r\n    getVerticesCount as getVerticesCountUtils,\r\n    hasIndices as hasIndicesUtils, createBufferViews\r\n} from \"../../renderer/utils/geometry/geometryUtils\";\r\nimport { GeometryInfoList, GeometryWorkerInfoList } from \"../../definition/type/geometryType\";\r\nimport { isDisposeTooManyComponents, reAllocateGeometry } from \"../../utils/memoryUtils\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer } from \"../../device/WorkerDetectSystem\";\r\nimport {\r\n\r\n} from \"../../renderer/utils/geometry/geometryUtils\";\r\nimport { createSharedArrayBufferOrArrayBuffer } from \"../../utils/arrayBufferUtils\";\r\nimport { getSubarray } from \"../../utils/typeArrayUtils\";\r\nimport { isNotValidVal } from \"../../utils/arrayUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { ArrayBufferData } from \"../../renderer/buffer/ArrayBufferData\";\r\nimport { IndexBufferData } from \"../../renderer/buffer/IndexBufferData\";\r\nimport { disposeGeometryBuffers } from \"../../renderer/worker/both_file/buffer/BufferSystem\";\r\nimport { disposeBuffer as disposeArrayBuffer } from \"../../renderer/buffer/ArrayBufferSystem\";\r\nimport { disposeBuffer as disposeIndexBuffer } from \"../../renderer/buffer/IndexBufferSystem\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var addInitHandle = (_class: any) => {\r\n    addInitHandleToMap(_class, initGeometry);\r\n}\r\n\r\nexport var create = requireCheckFunc((geometry: Geometry, GeometryData: any) => {\r\n    // checkIndexShouldEqualCount(GeometryData);\r\n}, (geometry: Geometry, GeometryData: any) => {\r\n    var index = generateComponentIndex(GeometryData);\r\n\r\n    geometry.index = index;\r\n\r\n    GeometryData.count += 1;\r\n\r\n    GeometryData.geometryMap[index] = geometry;\r\n\r\n    return geometry;\r\n})\r\n\r\nexport var init = (GeometryData: any, state: Map<any, any>) => {\r\n    for (let i = 0, count = GeometryData.count; i < count; i++) {\r\n        initGeometry(i, state);\r\n    }\r\n\r\n    _markIsInit(GeometryData);\r\n\r\n    return state;\r\n}\r\n\r\nexport var initGeometry = (index: number, state: Map<any, any>) => {\r\n    var computeDataFunc = GeometryData.computeDataFuncMap[index];\r\n\r\n    if (_isComputeDataFuncNotExist(computeDataFunc)) {\r\n        return;\r\n    }\r\n\r\n    let {\r\n        vertices,\r\n        indices\r\n    } = computeDataFunc(index, GeometryData);\r\n\r\n    setVertices(index, vertices, GeometryData);\r\n\r\n    setIndices(index, indices, GeometryData);\r\n}\r\n\r\nvar _isComputeDataFuncNotExist = (func: Function) => isNotValidMapValue(func);\r\n\r\nexport var getVertices = (index: number, GeometryData: any) => {\r\n    return _getPointData(index, GeometryData.vertices, GeometryData.verticesCacheMap, GeometryData.verticesInfoList);\r\n}\r\n\r\nexport var setVertices = requireCheckFunc((index: number, vertices: Array<number>, GeometryData: any) => {\r\n    // it(\"vertices should not already exist\", () => {\r\n    //     expect(GeometryData.verticesCacheMap[index]).not.exist;\r\n    // });\r\n}, (index: number, vertices: Array<number>, GeometryData: any) => {\r\n    GeometryData.verticesOffset = _setPointData(index, vertices, getVertexDataSize(), GeometryData.vertices, GeometryData.verticesCacheMap, GeometryData.verticesInfoList, GeometryData.verticesWorkerInfoList, GeometryData.verticesOffset, GeometryData);\r\n})\r\n\r\nexport var getIndices = (index: number, GeometryData: any) => {\r\n    return _getPointData(index, GeometryData.indices, GeometryData.indicesCacheMap, GeometryData.indicesInfoList);\r\n}\r\n\r\nexport var setIndices = requireCheckFunc((index: number, indices: Array<number>, GeometryData: any) => {\r\n    // it(\"indices should not already exist\", () => {\r\n    //     expect(GeometryData.indicesCacheMap[index]).not.exist;\r\n    // });\r\n}, (index: number, indices: Array<number>, GeometryData: any) => {\r\n    GeometryData.indicesOffset = _setPointData(index, indices, getIndexDataSize(), GeometryData.indices, GeometryData.indicesCacheMap, GeometryData.indicesInfoList, GeometryData.indicesWorkerInfoList, GeometryData.indicesOffset, GeometryData);\r\n})\r\n\r\nvar _getPointData = requireCheckFunc((index: number, points: Float32Array | Uint16Array | Uint32Array, cacheMap: object, infoList: object) => {\r\n    it(\"infoList[index] should exist\", () => {\r\n        expect(infoList[index]).exist;\r\n    });\r\n}, (index: number, points: Float32Array | Uint16Array | Uint32Array, cacheMap: object, infoList: object) => {\r\n    var dataArr = cacheMap[index];\r\n\r\n    if (isValidMapValue(dataArr)) {\r\n        return dataArr;\r\n    }\r\n\r\n    let info = infoList[index];\r\n\r\n    dataArr = getSubarray(points, info.startIndex, info.endIndex);\r\n\r\n    cacheMap[index] = dataArr;\r\n\r\n    return dataArr;\r\n})\r\n\r\nvar _setPointData = (index: number, dataArr: Array<number>, dataSize: number, points: Float32Array | Uint16Array | Uint32Array, cacheMap: object, infoList: GeometryInfoList, workerInfoList: GeometryWorkerInfoList, offset: number, GeometryData: any) => {\r\n    var count = dataArr.length,\r\n        startIndex = offset;\r\n\r\n    offset += count;\r\n\r\n    infoList[index] = _buildInfo(startIndex, offset);\r\n\r\n    _fillTypeArr(points, dataArr, startIndex, count);\r\n\r\n    _removeCache(index, cacheMap);\r\n\r\n    if (_isInit(GeometryData)) {\r\n        _addWorkerInfo(workerInfoList, index, startIndex, offset);\r\n    }\r\n\r\n    return offset;\r\n}\r\n\r\nvar _fillTypeArr = requireCheckFunc((typeArr: Float32Array | Uint32Array | Uint16Array, dataArr: Array<number>, startIndex: number, count: number) => {\r\n    it(\"should not exceed type arr's length\", () => {\r\n        expect(count + startIndex).lte(typeArr.length);\r\n    });\r\n}, (typeArr: Float32Array | Uint32Array | Uint16Array, dataArr: Array<number>, startIndex: number, count: number) => {\r\n    for (let i = 0; i < count; i++) {\r\n        typeArr[i + startIndex] = dataArr[i];\r\n    }\r\n    // typeArr.set(dataArr, startIndex);\r\n})\r\n\r\nvar _removeCache = (index: number, cacheMap: object) => {\r\n    deleteVal(index, cacheMap);\r\n}\r\n\r\nvar _buildInfo = (startIndex: number, endIndex: number) => {\r\n    return {\r\n        startIndex: startIndex,\r\n        endIndex: endIndex\r\n    }\r\n}\r\n\r\nexport var addComponent = (component: Geometry, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(GeometryData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = (component: Geometry) => {\r\n    var sourceIndex = component.index;\r\n\r\n    deleteComponent(sourceIndex, GeometryData.geometryMap);\r\n\r\n    GeometryData.count -= 1;\r\n    GeometryData.disposeCount += 1;\r\n    GeometryData.isReallocate = false;\r\n\r\n    if (isDisposeTooManyComponents(GeometryData.disposeCount) || _isBufferNearlyFull(GeometryData)) {\r\n        let disposedIndexArray = reAllocateGeometry(GeometryData);\r\n\r\n        _disposeBuffers(disposedIndexArray);\r\n\r\n        clearWorkerInfoList(GeometryData);\r\n        GeometryData.isReallocate = true;\r\n\r\n        GeometryData.disposeCount = 0;\r\n    }\r\n}\r\n\r\nvar _disposeBuffers = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    _disposeBuffers = requireCheckFunc((disposedIndexArray: Array<number>) => {\r\n        it(\"should not add data twice in one frame\", () => {\r\n            expect(GeometryData.disposedGeometryIndexArray.length).equal(0);\r\n        });\r\n    }, (disposedIndexArray: Array<number>) => {\r\n        GeometryData.disposedGeometryIndexArray = disposedIndexArray;\r\n    })\r\n}\r\nelse {\r\n    _disposeBuffers = (disposedIndexArray: Array<number>) => {\r\n        disposeGeometryBuffers(disposedIndexArray, ArrayBufferData, IndexBufferData, disposeArrayBuffer, disposeIndexBuffer);\r\n    }\r\n}\r\n\r\nexport var isReallocate = (GeometryData: any) => {\r\n    return GeometryData.isReallocate;\r\n}\r\n\r\nvar _isBufferNearlyFull = (GeometryData: any) => {\r\n    var infoList = GeometryData.indicesInfoList,\r\n        lastInfo = infoList[infoList.length - 1];\r\n\r\n    if (isNotValidVal(lastInfo)) {\r\n        return false;\r\n    }\r\n\r\n    return lastInfo.endIndex >= GeometryData.maxDisposeIndex;\r\n}\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var getConfigData = (index: number, GeometryData: any) => {\r\n    return GeometryData.configDataMap[index];\r\n}\r\n\r\n// var _createVerticesTypeArray = () => {\r\n//     var count = DataBufferConfig.geometryDataBufferCount,\r\n//         size = Float32Array.BYTES_PER_ELEMENT * 3 + indicesArrayBytes * 1;\r\n//\r\n//     GeometryData.vertices = new Float32Array(buffer, 0, count * getVertexDataSize());\r\n// }\r\n\r\nvar _checkIsIndicesBufferNeed32BitsByConfig = (DataBufferConfig: any) => {\r\n    if (DataBufferConfig.geometryIndicesBufferBits === 16) {\r\n        return false;\r\n    }\r\n\r\n    //todo refactor: use function\r\n    return GPUDetector.getInstance().extensionUintIndices === true;\r\n}\r\n\r\nexport var isIndicesBufferNeed32BitsByData = (GeometryData: any) => {\r\n    return GeometryData.indexType === EBufferType.UNSIGNED_INT;\r\n}\r\n\r\n\r\nvar _markIsInit = (GeometryData: any) => {\r\n    GeometryData.isInit = true;\r\n}\r\n\r\nvar _isInit = (GeometryData: any) => {\r\n    return GeometryData.isInit;\r\n}\r\n\r\nexport var clearWorkerInfoList = (GeometryData: any) => {\r\n    GeometryData.verticesWorkerInfoList = [];\r\n    GeometryData.indicesWorkerInfoList = [];\r\n};\r\n\r\nexport var hasNewPointData = (GeometryData: any) => {\r\n    return GeometryData.verticesWorkerInfoList.length > 0;\r\n}\r\n\r\nexport var hasDisposedGeometryIndexArrayData = (GeometryData: any) => {\r\n    return GeometryData.disposedGeometryIndexArray.length > 0;\r\n}\r\n\r\nexport var clearDisposedGeometryIndexArray = (GeometryData: any) => {\r\n    GeometryData.disposedGeometryIndexArray = [];\r\n}\r\n\r\nvar _addWorkerInfo = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    _addWorkerInfo = (infoList: GeometryWorkerInfoList, index: number, startIndex: number, endIndex: number) => {\r\n        infoList.push(_buildWorkerInfo(index, startIndex, endIndex));\r\n    }\r\n}\r\nelse {\r\n    _addWorkerInfo = (infoList: GeometryWorkerInfoList, index: number, startIndex: number, endIndex: number) => {\r\n    };\r\n}\r\n\r\nvar _buildWorkerInfo = (index: number, startIndex: number, endIndex: number) => {\r\n    return {\r\n        index: index,\r\n        startIndex: startIndex,\r\n        endIndex: endIndex\r\n    }\r\n}\r\n\r\nexport var initData = (DataBufferConfig: any, GeometryData: any) => {\r\n    var isIndicesBufferNeed32Bits = _checkIsIndicesBufferNeed32BitsByConfig(DataBufferConfig),\r\n        indicesArrayBytes: number = null;\r\n\r\n    if (isIndicesBufferNeed32Bits) {\r\n        indicesArrayBytes = Uint32Array.BYTES_PER_ELEMENT;\r\n\r\n        GeometryData.indexType = EBufferType.UNSIGNED_INT;\r\n    }\r\n    else {\r\n        indicesArrayBytes = Uint16Array.BYTES_PER_ELEMENT;\r\n\r\n        GeometryData.indexType = EBufferType.UNSIGNED_SHORT;\r\n    }\r\n\r\n    GeometryData.indexTypeSize = indicesArrayBytes;\r\n\r\n    GeometryData.configDataMap = createMap();\r\n\r\n    GeometryData.verticesCacheMap = createMap();\r\n    GeometryData.indicesCacheMap = createMap();\r\n\r\n    GeometryData.computeDataFuncMap = createMap();\r\n\r\n    GeometryData.gameObjectMap = createMap();\r\n\r\n    GeometryData.geometryMap = createMap();\r\n\r\n    GeometryData.index = 0;\r\n    GeometryData.count = 0;\r\n\r\n    _initBufferData(indicesArrayBytes, getUIntArrayClass(GeometryData.indexType), DataBufferConfig, GeometryData);\r\n\r\n    GeometryData.verticesInfoList = [];\r\n    GeometryData.indicesInfoList = [];\r\n\r\n    GeometryData.verticesWorkerInfoList = [];\r\n    GeometryData.indicesWorkerInfoList = [];\r\n\r\n    GeometryData.disposedGeometryIndexArray = [];\r\n\r\n    GeometryData.verticesOffset = 0;\r\n    GeometryData.indicesOffset = 0;\r\n\r\n    GeometryData.disposeCount = 0;\r\n\r\n    GeometryData.isReallocate = false;\r\n}\r\n\r\nvar _initBufferData = (indicesArrayBytes: number, UintArray: any, DataBufferConfig: any, GeometryData: any) => {\r\n    var buffer: any = null,\r\n        count = DataBufferConfig.geometryDataBufferCount,\r\n        size = Float32Array.BYTES_PER_ELEMENT * getVertexDataSize() + indicesArrayBytes * getIndexDataSize();\r\n\r\n    buffer = createSharedArrayBufferOrArrayBuffer(count * size);\r\n\r\n    createBufferViews(buffer, count, UintArray, GeometryData);\r\n\r\n    GeometryData.buffer = buffer;\r\n\r\n    GeometryData.maxDisposeIndex = GeometryData.indices.length * 0.9;\r\n}\r\n\r\nexport var getIndexType = null;\r\n\r\nexport var getIndexTypeSize = null;\r\n\r\nexport var hasIndices = null;\r\n\r\nexport var getDrawMode = null;\r\n\r\nexport var getVerticesCount = null;\r\n\r\nexport var getIndicesCount = null;\r\n\r\nif (!isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    getIndexType = getIndexTypeUtils;\r\n\r\n    getIndexTypeSize = getIndexTypeSizeUtils;\r\n\r\n    hasIndices = (index: number, GeometryData: any) => hasIndicesUtils(index, getIndices, GeometryData);\r\n\r\n    getDrawMode = getDrawModeUtils;\r\n\r\n    getVerticesCount = (index: number, GeometryData: any) => getVerticesCountUtils(index, getVertices, GeometryData);\r\n\r\n    getIndicesCount = (index: number, GeometryData: any) => getIndicesCountUtils(index, getIndices, GeometryData);\r\n}\r\n","import {\r\n    getAttribLocation as getAttribLocationUtils, getUniformLocation as getUniformLocationUtils, initData as initDataUtils, isAttributeLocationNotExist as isAttributeLocationNotExistUtils, isUniformLocationNotExist as isUniformLocationNotExistUtils,\r\n    setLocationMap as setLocationMapUtils\r\n} from \"../../utils/shader/location/locationUtils\";\r\n\r\nexport var setLocationMap = setLocationMapUtils;\r\n\r\nexport var getAttribLocation = getAttribLocationUtils;\r\n\r\nexport var getUniformLocation = getUniformLocationUtils;\r\n\r\nexport var isUniformLocationNotExist = isUniformLocationNotExistUtils;\r\n\r\nexport var isAttributeLocationNotExist = isAttributeLocationNotExistUtils;\r\n\r\nexport var initData = initDataUtils;\r\n","import {\r\n    addSendAttributeConfig as addSendAttributeConfigUtils, addSendUniformConfig as addSendUniformConfigUtils,\r\n    getUniformData as getUniformDataUtils, initData as initDataUtils, sendBuffer as sendBufferUtils, sendFloat1 as sendFloat1Utils, sendMatrix4 as sendMatrix4Utils,\r\n    sendVector3 as sendVector3Utils\r\n} from \"../../utils/shader/glslSender/glslSenderUtils\";\r\nimport { RenderCommandUniformData, UniformCacheMap, UniformShaderLocationMap } from \"../../type/dataType\";\r\nimport { getColorArr3, getOpacity } from \"../../../component/material/MaterialSystem\";\r\nimport { getUniformLocation, isUniformLocationNotExist } from \"../location/LocationSystem\";\r\n\r\nexport var getUniformData = (field: string, from: string, renderCommandUniformData: RenderCommandUniformData, MaterialData: any) => {\r\n    return getUniformDataUtils(field, from, getColorArr3, getOpacity, renderCommandUniformData, MaterialData);\r\n};\r\n\r\nexport var sendBuffer = sendBufferUtils;\r\n\r\nexport var sendMatrix4 = (gl: WebGLRenderingContext, name: string, data: Float32Array, uniformLocationMap: UniformShaderLocationMap) => {\r\n    sendMatrix4Utils(gl, name, data, uniformLocationMap, getUniformLocation, isUniformLocationNotExist);\r\n};\r\n\r\nexport var sendVector3 = (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: Array<number>, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap) => {\r\n    sendVector3Utils(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap, getUniformLocation, isUniformLocationNotExist);\r\n};\r\n\r\nexport var sendFloat1 = (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: number, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap) => {\r\n    sendFloat1Utils(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap, getUniformLocation, isUniformLocationNotExist);\r\n};\r\n\r\nexport var addSendAttributeConfig = addSendAttributeConfigUtils;\r\n\r\nexport var addSendUniformConfig = addSendUniformConfigUtils;\r\n\r\nexport var initData = initDataUtils;\r\n","export const main_begin: string = \"void main(void){\\n\";\r\nexport const main_end: string = \"}\\n\";\r\n\r\nexport const setPos_mvp: string = \"gl_Position = u_pMatrix * u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\\n\"\r\n","export const empty:GLSLChunk = {top:\"\", define:\"\", varDeclare:\"\", funcDeclare:\"\", funcDefine:\"\", body:\"\"};\nexport const NULL:number = -1.0;\nexport const basic_materialColor_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"vec4 totalColor = vec4(u_color, 1.0);\\n\"};\nexport const end_basic_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\\n\"};\nexport const common_define:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const common_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const common_function:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"mat2 transpose(mat2 m) {\\n  return mat2(  m[0][0], m[1][0],   // new col 0\\n                m[0][1], m[1][1]    // new col 1\\n             );\\n  }\\nmat3 transpose(mat3 m) {\\n  return mat3(  m[0][0], m[1][0], m[2][0],  // new col 0\\n                m[0][1], m[1][1], m[2][1],  // new col 1\\n                m[0][2], m[1][2], m[2][2]   // new col 1\\n             );\\n  }\\n\\n//bool isRenderListEmpty(int isRenderListEmpty){\\n//  return isRenderListEmpty == 1;\\n//}\\n\",body: \"\"};\nexport const common_vertex:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const highp_fragment:GLSLChunk = {top: \"precision highp float;\\nprecision highp int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const lowp_fragment:GLSLChunk = {top: \"precision lowp float;\\nprecision lowp int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const mediump_fragment:GLSLChunk = {top: \"precision mediump float;\\nprecision mediump int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport type GLSLChunk = {top:string;define:string;varDeclare:string;funcDeclare:string;funcDefine:string;body:string;}\n","import { isConfigDataExist } from \"../renderConfigUtils\";\r\nimport {\r\n    IGLSLConfig, IGLSLFuncConfig, ISendAttributeConfig,\r\n    IShaderLibContentGenerator\r\n} from \"../../data/shaderLib_generator\";\r\nimport { main_begin, main_end } from \"../../shader/snippet/ShaderSnippet\";\r\nimport { GLSLChunk, highp_fragment, lowp_fragment, mediump_fragment } from \"../../shader/chunk/ShaderChunk\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { EGPUPrecision, GPUDetector } from \"../../device/GPUDetector\";\r\nimport { it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { MaterialShaderLibConfig } from \"../../data/material_config\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { compose, filterArray, forEachArray } from \"../../../utils/functionalUtils\";\r\nimport { forEach } from \"../../../utils/arrayUtils\";\r\nimport { BuildGLSLSourceFuncFuncDataMap } from \"../../type/dataType\";\r\n\r\nexport var buildGLSLSource = requireCheckFunc((materialIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, funcDataMap: BuildGLSLSourceFuncFuncDataMap, MaterialDataFromSystem: any) => {\r\n    it(\"shaderLib should be defined\", () => {\r\n        forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n            expect(shaderLibData[shaderLibName]).exist;\r\n        })\r\n    });\r\n}, (materialIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, funcDataMap: BuildGLSLSourceFuncFuncDataMap, MaterialDataFromSystem: any) => {\r\n    var vsTop: string = \"\",\r\n        vsDefine: string = \"\",\r\n        vsVarDeclare: string = \"\",\r\n        vsFuncDeclare: string = \"\",\r\n        vsFuncDefine: string = \"\",\r\n        vsBody: string = \"\",\r\n        fsTop: string = \"\",\r\n        fsDefine: string = \"\",\r\n        fsVarDeclare: string = \"\",\r\n        fsFuncDeclare: string = \"\",\r\n        fsFuncDefine: string = \"\",\r\n        fsBody: string = \"\";\r\n\r\n    vsBody += main_begin;\r\n    fsBody += main_begin;\r\n\r\n    fsTop += _getPrecisionSource(lowp_fragment, mediump_fragment, highp_fragment);\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var glslData = shaderLibData[shaderLibName].glsl,\r\n            vs = null,\r\n            fs = null,\r\n            func: (materialIndex: number, funcDataMap: BuildGLSLSourceFuncFuncDataMap, MaterialDataFromSystem: any) => any = null;\r\n\r\n        if (!isConfigDataExist(glslData)) {\r\n            return;\r\n        }\r\n\r\n        vs = glslData.vs;\r\n        fs = glslData.fs;\r\n        func = glslData.func;\r\n\r\n        if (isConfigDataExist(vs)) {\r\n            vsTop += _getGLSLPartData(vs, \"top\");\r\n            vsDefine += _getGLSLPartData(vs, \"define\");\r\n            vsVarDeclare += _getGLSLPartData(vs, \"varDeclare\");\r\n            vsFuncDeclare += _getGLSLPartData(vs, \"funcDeclare\");\r\n            vsFuncDefine += _getGLSLPartData(vs, \"funcDefine\");\r\n            vsBody += _getGLSLPartData(vs, \"body\");\r\n        }\r\n\r\n        if (isConfigDataExist(fs)) {\r\n            fsTop += _getGLSLPartData(fs, \"top\");\r\n            fsDefine += _getGLSLPartData(fs, \"define\");\r\n            fsVarDeclare += _getGLSLPartData(fs, \"varDeclare\");\r\n            fsFuncDeclare += _getGLSLPartData(fs, \"funcDeclare\");\r\n            fsFuncDefine += _getGLSLPartData(fs, \"funcDefine\");\r\n            fsBody += _getGLSLPartData(fs, \"body\");\r\n        }\r\n\r\n        if (isConfigDataExist(func)) {\r\n            let funcConfig: IGLSLFuncConfig = func(materialIndex, funcDataMap, MaterialDataFromSystem);\r\n\r\n            if (isConfigDataExist(funcConfig)) {\r\n                let vs = funcConfig.vs,\r\n                    fs = funcConfig.fs;\r\n\r\n                if (isConfigDataExist(vs)) {\r\n                    vs = ExtendUtils.extend(_getEmptyFuncGLSLConfig(), vs);\r\n\r\n                    vsTop += _getFuncGLSLPartData(vs, \"top\");\r\n                    vsDefine += _getFuncGLSLPartData(vs, \"define\");\r\n                    vsVarDeclare += _getFuncGLSLPartData(vs, \"varDeclare\");\r\n                    vsFuncDeclare += _getFuncGLSLPartData(vs, \"funcDeclare\");\r\n                    vsFuncDefine += _getFuncGLSLPartData(vs, \"funcDefine\");\r\n                    vsBody += _getFuncGLSLPartData(vs, \"body\");\r\n                }\r\n\r\n                if (isConfigDataExist(fs)) {\r\n                    fs = ExtendUtils.extend(_getEmptyFuncGLSLConfig(), fs);\r\n\r\n                    fsTop += _getFuncGLSLPartData(fs, \"top\");\r\n                    fsDefine += _getFuncGLSLPartData(fs, \"define\");\r\n                    fsVarDeclare += _getFuncGLSLPartData(fs, \"varDeclare\");\r\n                    fsFuncDeclare += _getFuncGLSLPartData(fs, \"funcDeclare\");\r\n                    fsFuncDefine += _getFuncGLSLPartData(fs, \"funcDefine\");\r\n                    fsBody += _getFuncGLSLPartData(fs, \"body\");\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    vsBody += main_end;\r\n    fsBody += main_end;\r\n\r\n    vsTop += _generateAttributeSource(materialShaderLibConfig, shaderLibData);\r\n    vsTop += _generateUniformSource(materialShaderLibConfig, shaderLibData, vsVarDeclare, vsFuncDefine, vsBody);\r\n    fsTop += _generateUniformSource(materialShaderLibConfig, shaderLibData, fsVarDeclare, fsFuncDefine, fsBody);\r\n\r\n    return {\r\n        vsSource: vsTop + vsDefine + vsVarDeclare + vsFuncDeclare + vsFuncDefine + vsBody,\r\n        fsSource: fsTop + fsDefine + fsVarDeclare + fsFuncDeclare + fsFuncDefine + fsBody\r\n    }\r\n})\r\n\r\nvar _getEmptyFuncGLSLConfig = () => {\r\n    return {\r\n        \"top\": \"\",\r\n        \"varDeclare\": \"\",\r\n        \"funcDeclare\": \"\",\r\n        \"funcDefine\": \"\",\r\n        \"body\": \"\"\r\n    }\r\n}\r\n\r\nvar _getPrecisionSource = (lowp_fragment: GLSLChunk, mediump_fragment: GLSLChunk, highp_fragment: GLSLChunk) => {\r\n    var precision = GPUDetector.getInstance().precision,\r\n        result = null;\r\n\r\n    switch (precision) {\r\n        case EGPUPrecision.HIGHP:\r\n            result = highp_fragment.top;\r\n            break;\r\n        case EGPUPrecision.MEDIUMP:\r\n            result = mediump_fragment.top;\r\n            break;\r\n        case EGPUPrecision.LOWP:\r\n            result = lowp_fragment.top;\r\n            break;\r\n        default:\r\n            result = \"\";\r\n            break;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nvar _getGLSLPartData = (glslConfig: IGLSLConfig, partName: string) => {\r\n    var partConfig = glslConfig[partName];\r\n\r\n    if (isConfigDataExist(partConfig)) {\r\n        return partConfig;\r\n    }\r\n    else if (isConfigDataExist(glslConfig.source)) {\r\n        return glslConfig.source[partName];\r\n    }\r\n\r\n    return \"\";\r\n}\r\n\r\nvar _getFuncGLSLPartData = (glslConfig: IGLSLConfig, partName: string) => {\r\n    return glslConfig[partName];\r\n}\r\n\r\nvar _isInSource = (key: string, source: string) => {\r\n    return source.indexOf(key) > -1;\r\n}\r\n\r\nvar _generateAttributeSource = (materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator) => {\r\n    var result = \"\";\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send,\r\n            attributeData = null;\r\n\r\n        if (!isConfigDataExist(sendData) || !isConfigDataExist(sendData.attribute)) {\r\n            return;\r\n        }\r\n\r\n        attributeData = sendData.attribute;\r\n\r\n        forEach(attributeData, (data: ISendAttributeConfig) => {\r\n            result += `attribute ${data.type} ${data.name};\\n`;\r\n        });\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nvar _generateUniformSource = (materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sourceVarDeclare: string, sourceFuncDefine: string, sourceBody: string) => {\r\n    var result = \"\",\r\n        generateFunc = compose(\r\n            forEachArray((data: ISendAttributeConfig) => {\r\n                result += `uniform ${data.type} ${data.name};\\n`;\r\n            }),\r\n            filterArray((data: ISendAttributeConfig) => {\r\n                var name = data.name;\r\n\r\n                return _isInSource(name, sourceVarDeclare) || _isInSource(name, sourceFuncDefine) || _isInSource(name, sourceBody);\r\n            })\r\n        );\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send,\r\n            uniformData = null;\r\n\r\n        if (!isConfigDataExist(sendData) || !isConfigDataExist(sendData.uniform)) {\r\n            return;\r\n        }\r\n\r\n        uniformData = sendData.uniform;\r\n\r\n        generateFunc(uniformData);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\n","import {\r\n    IShaderLibContentGenerator\r\n} from \"../data/shaderLib_generator\";\r\nimport { MaterialShaderLibConfig } from \"../data/material_config\";\r\nimport { buildGLSLSource as buildGLSLSourceUtils } from \"../utils/shader/shaderSourceBuildUtils\";\r\nimport { getAlphaTest, isTestAlpha } from \"../../component/material/MaterialSystem\";\r\n\r\nexport var buildGLSLSource = (materialIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, MaterialData: any) => {\r\n    return buildGLSLSourceUtils(materialIndex, materialShaderLibConfig, shaderLibData, {\r\n        getAlphaTest: getAlphaTest,\r\n        isTestAlpha: isTestAlpha\r\n    }, MaterialData);\r\n}\r\n","import { Shader } from \"./Shader\";\r\nimport { createMap, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { getShaderIndexFromTable } from \"../../component/material/MaterialSystem\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer } from \"../../device/WorkerDetectSystem\";\r\nimport {\r\n    bindIndexBuffer as bindIndexBufferUtils, init as initUtils, sendAttributeData as sendAttributeDataUtils, sendUniformData as sendUniformDataUtils,\r\n    use as useUtils\r\n} from \"../utils/shader/shaderUtils\";\r\nimport { getIndices, getVertices } from \"../../component/geometry/GeometrySystem\";\r\nimport { getAttribLocation, isAttributeLocationNotExist } from \"./location/LocationSystem\";\r\nimport { getUniformData, sendBuffer, sendFloat1, sendMatrix4, sendVector3 } from \"./glslSender/GLSLSenderSystem\";\r\nimport { RenderCommandUniformData } from \"../type/dataType\";\r\nimport { buildGLSLSource } from \"./shaderSourceBuildSystem\";\r\nimport { getGL } from \"../device/DeviceManagerSystem\";\r\nimport { IMaterialConfig } from \"../data/material_config\";\r\nimport { IShaderLibGenerator } from \"../data/shaderLib_generator\";\r\nimport { Map } from \"immutable\";\r\n\r\nexport var create = (materialClassName: string, MaterialData: any, ShaderData: any) => {\r\n    var index = getShaderIndexFromTable(materialClassName, MaterialData.shaderIndexTable),\r\n        shader = ShaderData.shaderMap[index];\r\n\r\n    if (_isShaderExist(shader)) {\r\n        return shader;\r\n    }\r\n\r\n    shader = new Shader();\r\n\r\n    shader.index = index;\r\n\r\n    ShaderData.count += 1;\r\n\r\n    return shader;\r\n}\r\n\r\nvar _isShaderExist = (shader: Shader) => isValidMapValue(shader);\r\n\r\nexport var init = null;\r\n\r\nexport var sendAttributeData = null;\r\n\r\nexport var sendUniformData = null;\r\n\r\nexport var bindIndexBuffer = null;\r\n\r\nexport var use = null;\r\n\r\nif (!isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    init = (state: Map<any, any>, materialIndex: number, shaderIndex: number, materialClassName: string, material_config: IMaterialConfig, shaderLib_generator: IShaderLibGenerator, DeviceManagerData: any, ProgramData: any, LocationData: any, GLSLSenderData: any, MaterialData: any) => {\r\n        initUtils(state, materialIndex, shaderIndex, materialClassName, material_config, shaderLib_generator, buildGLSLSource, getGL, DeviceManagerData, ProgramData, LocationData, GLSLSenderData, MaterialData);\r\n    };\r\n\r\n    sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, ProgramData: any, LocationData: any, GLSLSenderData: any, GeometryData: any, ArrayBufferData: any) => sendAttributeDataUtils(gl, shaderIndex, geometryIndex, getVertices, getAttribLocation, isAttributeLocationNotExist, sendBuffer, ProgramData, LocationData, GLSLSenderData, GeometryData, ArrayBufferData);\r\n\r\n    sendUniformData = (gl: WebGLRenderingContext, shaderIndex: number, MaterialData: any, ProgramData: any, LocationData: any, GLSLSenderData: any, renderCommandUniformData: RenderCommandUniformData) => {\r\n        sendUniformDataUtils(gl, shaderIndex, {\r\n            getUniformData: getUniformData,\r\n            sendMatrix4: sendMatrix4,\r\n            sendVector3: sendVector3,\r\n            sendFloat1: sendFloat1\r\n        }, MaterialData, ProgramData, LocationData, GLSLSenderData, renderCommandUniformData);\r\n    };\r\n\r\n    bindIndexBuffer = (gl: WebGLRenderingContext, geometryIndex: number, ProgramData: any, GeometryData: any, IndexBufferData: any) => {\r\n        bindIndexBufferUtils(gl, geometryIndex, getIndices, ProgramData, GeometryData, IndexBufferData);\r\n    }\r\n\r\n    use = useUtils;\r\n}\r\n\r\n// export var dispose = (gl: WebGLRenderingContext, shaderIndex: number, ShaderData: any) => {\r\n//     //todo finish\r\n//\r\n//     // _disposeProgram(gl, ShaderData.programMap[shaderIndex]);\r\n//     // deleteVal(shaderIndex, ShaderData.programMap);\r\n//\r\n//\r\n//     // deleteVal(shaderIndex, LocationData.attributeLocationMap);\r\n//     // deleteVal(shaderIndex, LocationData.uniformLocationMap);\r\n//     // deleteVal(shaderIndex, ShaderData.sendAttributeConfigMap);\r\n//     // deleteVal(shaderIndex, ShaderData.sendUniformConfigMap);\r\n//     // deleteVal(shaderIndex, ShaderData.vertexAttribHistory);\r\n//     // deleteVal(shaderIndex, ShaderData.shaderMap);\r\n// }\r\n\r\n// var _disposeProgram = (gl:WebGLRenderingContext, program:WebGLProgram) => {\r\n//     gl.deleteProgram(this.glProgram);\r\n// }\r\n\r\nexport var initData = (ShaderData: any) => {\r\n    ShaderData.index = 0;\r\n    ShaderData.count = 0;\r\n\r\n    ShaderData.shaderMap = createMap();\r\n}\r\n","export const material_config = {\r\n    \"BasicMaterial\": {\r\n        \"shader\": {\r\n            \"shaderLib\": [\r\n                \"CommonShaderLib\",\r\n                \"VerticeCommonShaderLib\",\r\n                \"BasicMaterialColorShaderLib\",\r\n                \"BasicShaderLib\",\r\n                \"EndBasicShaderLib\",\r\n                \"EndShaderLib\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport interface IMaterialConfig {\r\n    [materialClassName: string]: IMaterialContentConfig\r\n}\r\n\r\nexport interface IMaterialContentConfig {\r\n    shader: IShaderConfig\r\n}\r\n\r\nexport interface IShaderConfig {\r\n    shaderLib: MaterialShaderLibConfig\r\n}\r\n\r\nexport type MaterialShaderLibConfig = Array<string>\r\n","import {\r\n    basic_materialColor_fragment, end_basic_fragment, common_define, common_fragment, common_function, common_vertex,\r\n    GLSLChunk\r\n} from \"../shader/chunk/ShaderChunk\";\r\nimport { setPos_mvp } from \"../shader/snippet/ShaderSnippet\";\r\n\r\nexport const shaderLib_generator = {\r\n    \"shaderLibs\": {\r\n        \"CommonShaderLib\": {\r\n            \"glsl\": {\r\n                \"vs\": {\r\n                    \"source\": common_vertex,\r\n                    \"define\": common_define.define + common_vertex.define,\r\n                    \"funcDefine\": common_function.funcDefine + common_vertex.funcDefine\r\n                },\r\n                \"fs\": {\r\n                    \"source\": common_fragment,\r\n                    \"define\": common_define.define + common_fragment.define,\r\n                    \"funcDefine\": common_function.funcDefine + common_fragment.funcDefine\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_mMatrix\",\r\n                        \"field\": \"mMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    },\r\n                    {\r\n                        \"name\": \"u_vMatrix\",\r\n                        \"field\": \"vMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    },\r\n                    {\r\n                        \"name\": \"u_pMatrix\",\r\n                        \"field\": \"pMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"VerticeCommonShaderLib\": {\r\n            \"send\": {\r\n                \"attribute\": [\r\n                    {\r\n                        \"name\": \"a_position\",\r\n                        \"buffer\": \"vertice\",\r\n                        \"type\": \"vec3\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"BasicMaterialColorShaderLib\": {\r\n            \"glsl\": {\r\n                \"fs\": {\r\n                    \"source\": basic_materialColor_fragment\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_color\",\r\n                        \"from\": \"material\",\r\n                        \"field\": \"color\",\r\n                        \"type\": \"vec3\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"BasicShaderLib\": {\r\n            \"glsl\": {\r\n                \"vs\": {\r\n                    \"body\": setPos_mvp\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_opacity\",\r\n                        \"from\": \"material\",\r\n                        \"field\": \"opacity\",\r\n                        \"type\": \"float\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"EndBasicShaderLib\": {\r\n            \"glsl\": {\r\n                \"func\": (materialIndex: number, {\r\n                    getAlphaTest,\r\n                    isTestAlpha\r\n                }, MaterialDataFromSystem: any) => {\r\n                    var alphaTest = getAlphaTest(materialIndex, MaterialDataFromSystem);\r\n\r\n                    if (isTestAlpha(alphaTest)) {\r\n                        return {\r\n                            \"fs\": {\r\n                                \"body\": `if (gl_FragColor.a < ${alphaTest}){\r\n    discard;\r\n}\\n`\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return void 0;\r\n                }\r\n            }\r\n        },\r\n        \"EndShaderLib\": {\r\n            \"glsl\": {\r\n                \"fs\": {\r\n                    \"source\": end_basic_fragment\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport interface IShaderLibGenerator {\r\n    shaderLibs: IShaderLibContentGenerator\r\n}\r\n\r\nexport interface IShaderLibContentGenerator {\r\n    [shaderLibName: string]: IShaderLibConfig\r\n}\r\n\r\n\r\nexport interface IShaderLibConfig {\r\n    glsl?: {\r\n        vs?: IGLSLConfig,\r\n        fs?: IGLSLConfig,\r\n        func?: (materialIndex: number) => IGLSLFuncConfig | null\r\n    },\r\n    send?: IShaderLibSendConfig\r\n}\r\n\r\nexport interface IGLSLConfig {\r\n    source?: GLSLChunk;\r\n    top?: string;\r\n    varDeclare?: string;\r\n    funcDeclare?: string;\r\n    funcDefine?: string;\r\n    body?: string;\r\n    define?: string;\r\n\r\n    //todo support extension\r\n    // define?: {\r\n    //     name:string;\r\n    //     value:any;\r\n    // },\r\n    // extension?:string,\r\n}\r\n\r\nexport interface IGLSLFuncConfig {\r\n    vs?: IGLSLFuncGLSLConfig,\r\n    fs?: IGLSLFuncGLSLConfig\r\n}\r\n\r\nexport interface IGLSLFuncGLSLConfig {\r\n    top?: string;\r\n    varDeclare?: string;\r\n    funcDeclare?: string;\r\n    funcDefine?: string;\r\n    body?: string;\r\n    define?: string;\r\n}\r\n\r\nexport interface IShaderLibSendConfig {\r\n    attribute?: Array<ISendAttributeConfig>;\r\n    uniform?: Array<ISendUniformConfig>;\r\n}\r\n\r\nexport interface ISendAttributeConfig {\r\n    name: string;\r\n    buffer: string;\r\n    type: \"vec3\";\r\n}\r\n\r\nexport interface ISendUniformConfig {\r\n    name: string;\r\n    field: string;\r\n    type: \"float\" | \"vec3\" | \"mat4\";\r\n    from?: \"cmd\" | \"material\";\r\n}\r\n","import { ProgramMap } from \"../../type/dataType\";\r\n\r\nexport class ProgramData {\r\n    public static programMap: ProgramMap = null;\r\n\r\n    public static lastUsedProgram: WebGLProgram = null;\r\n\r\n    public static lastBindedArrayBuffer: WebGLBuffer = null;\r\n    public static lastBindedIndexBuffer: WebGLBuffer = null;\r\n}\r\n","import { AttributeLocationMap, UniformLocationMap } from \"../../type/dataType\";\r\n\r\nexport class LocationData {\r\n    public static attributeLocationMap: AttributeLocationMap = null;\r\n    public static uniformLocationMap: UniformLocationMap = null;\r\n\r\n}\r\n","import { SendAttributeConfigMap, SendUniformConfigMap, UniformCacheMap } from \"../../type/dataType\";\r\n\r\nexport class GLSLSenderData {\r\n    public static uniformCacheMap: UniformCacheMap = null;\r\n\r\n    public static sendAttributeConfigMap: SendAttributeConfigMap = null;\r\n    public static sendUniformConfigMap: SendUniformConfigMap = null;\r\n\r\n    public static vertexAttribHistory: Array<boolean> = null;\r\n\r\n}\r\n","import { Map as MapImmutable } from \"immutable\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { Color } from \"../../structure/Color\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Material } from \"./Material\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, addInitHandle as addInitHandleToMap, deleteComponentBySwapArray,\r\n    generateComponentIndex,\r\n    getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { Shader } from \"../../renderer/shader/Shader\";\r\nimport { MaterialData } from \"./MaterialData\";\r\nimport { DataBufferConfig } from \"../../config/DataBufferConfig\";\r\nimport {\r\n    deleteBySwapAndNotReset, deleteBySwapAndReset,\r\n    deleteOneItemBySwapAndReset\r\n} from \"../../utils/typeArrayUtils\";\r\nimport {\r\n    createTypeArrays,\r\n    getShaderIndexFromTable as getShaderIndexFromTableUtils, getOpacity as getOpacityUtils,\r\n    getAlphaTest as getAlphaTestUtils, getMaterialClassNameFromTable, getColorDataSize, getOpacityDataSize,\r\n    getAlphaTestDataSize, getColorArr3 as getColorArr3Utils, isTestAlpha as isTestAlphaUtils\r\n} from \"../../renderer/utils/material/materialUtils\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer } from \"../../device/WorkerDetectSystem\";\r\nimport { init as initShader } from \"../../renderer/shader/ShaderSystem\";\r\nimport { material_config } from \"../../renderer/data/material_config\";\r\nimport { shaderLib_generator } from \"../../renderer/data/shaderLib_generator\";\r\nimport { DeviceManagerData } from \"../../renderer/device/DeviceManagerData\";\r\nimport { ProgramData } from \"../../renderer/shader/program/ProgramData\";\r\nimport { LocationData } from \"../../renderer/shader/location/LocationData\";\r\nimport { GLSLSenderData } from \"../../renderer/shader/glslSender/GLSLSenderData\";\r\nimport { createSharedArrayBufferOrArrayBuffer } from \"../../utils/arrayBufferUtils\";\r\nimport { deleteBySwap } from \"../../utils/arrayUtils\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var addInitHandle = (_class: any) => {\r\n    addInitHandleToMap(_class, initMaterial);\r\n}\r\n\r\nexport var create = requireCheckFunc((material: Material, className: string, MaterialData: any) => {\r\n    checkIndexShouldEqualCount(MaterialData);\r\n}, (material: Material, className: string, MaterialData: any) => {\r\n    var index = generateComponentIndex(MaterialData);\r\n\r\n    material.index = index;\r\n\r\n    MaterialData.count += 1;\r\n\r\n    // _setMaterialClassName(index, className, MaterialData);\r\n\r\n    // setColor(index, _createDefaultColor(), MaterialData);\r\n    // setOpacity(index, 1, MaterialData);\r\n\r\n    MaterialData.materialMap[index] = material;\r\n\r\n    return material;\r\n})\r\n\r\nvar _createDefaultColor = () => {\r\n    var color = Color.create();\r\n\r\n    return color.setColorByNum(\"#ffffff\");\r\n}\r\n\r\nexport var init = requireCheckFunc((state: MapImmutable<any, any>, MaterialData: any) => {\r\n    checkIndexShouldEqualCount(MaterialData);\r\n}, (state: MapImmutable<any, any>, MaterialData: any) => {\r\n    for (let i = 0, count = MaterialData.count; i < count; i++) {\r\n        initMaterial(i, state);\r\n    }\r\n})\r\n\r\nexport var initMaterial = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    initMaterial = (index: number, state: MapImmutable<any, any>) => {\r\n        MaterialData.workerInitList.push(index);\r\n    }\r\n}\r\nelse {\r\n    initMaterial = (index: number, state: MapImmutable<any, any>) => {\r\n        var shaderIndex = getShaderIndex(index, MaterialData);\r\n\r\n        initShader(state, index, shaderIndex, getMaterialClassNameFromTable(shaderIndex, MaterialData.materialClassNameTable), material_config, shaderLib_generator as any, DeviceManagerData, ProgramData, LocationData, GLSLSenderData, MaterialData);\r\n    }\r\n}\r\n\r\nexport var clearWorkerInitList = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    clearWorkerInitList = (MaterialData: any) => {\r\n        MaterialData.workerInitList = [];\r\n    };\r\n}\r\nelse {\r\n    clearWorkerInitList = (MaterialData: any) => {\r\n    };\r\n}\r\n\r\nexport var hasNewInitedMaterial = (MaterialData: any) => {\r\n    return MaterialData.workerInitList.length > 0;\r\n}\r\n\r\n// var _getMaterialClassName = (materialIndex: number, MaterialData: any) => {\r\n//     return MaterialData.materialClassNameMap[materialIndex];\r\n// }\r\n\r\n// var _setMaterialClassName = (materialIndex: number, className: string, MaterialData: any) => {\r\n//     MaterialData.materialClassNameMap[materialIndex] = className;\r\n// }\r\n\r\nexport var getShaderIndex = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.shaderIndices[materialIndex];\r\n}\r\n\r\nexport var getShaderIndexFromTable = getShaderIndexFromTableUtils;\r\n\r\nexport var setShaderIndex = (materialIndex: number, shader: Shader, MaterialData: any) => {\r\n    _setTypeArrayValue(MaterialData.shaderIndices, materialIndex, shader.index);\r\n}\r\n\r\nexport var getColor = (materialIndex: number, MaterialData: any) => {\r\n    var color = Color.create(),\r\n        colors = MaterialData.colors,\r\n        size = getColorDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    color.r = colors[index];\r\n    color.g = colors[index + 1];\r\n    color.b = colors[index + 2];\r\n\r\n    return color;\r\n}\r\n\r\nexport var getColorArr3 = getColorArr3Utils;\r\n\r\nexport var setColor = (materialIndex: number, color: Color, MaterialData: any) => {\r\n    var r = color.r,\r\n        g = color.g,\r\n        b = color.b,\r\n        colors = MaterialData.colors,\r\n        size = getColorDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    _setTypeArrayValue(colors, index, r);\r\n    _setTypeArrayValue(colors, index + 1, g);\r\n    _setTypeArrayValue(colors, index + 2, b);\r\n}\r\n\r\nexport var getOpacity = getOpacityUtils;\r\n\r\nexport var setOpacity = requireCheckFunc((materialIndex: number, opacity: number, MaterialData: any) => {\r\n    it(\"opacity should be number\", () => {\r\n        expect(opacity).be.a(\"number\");\r\n    });\r\n    it(\"opacity should <= 1 && >= 0\", () => {\r\n        expect(opacity).lte(1);\r\n        expect(opacity).gte(0);\r\n    });\r\n}, (materialIndex: number, opacity: number, MaterialData: any) => {\r\n    var size = getOpacityDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    _setTypeArrayValue(MaterialData.opacities, index, opacity);\r\n})\r\n\r\nexport var getAlphaTest = getAlphaTestUtils;\r\n\r\nexport var setAlphaTest = requireCheckFunc((materialIndex: number, alphaTest: number, MaterialData: any) => {\r\n    it(\"alphaTest should be number\", () => {\r\n        expect(alphaTest).be.a(\"number\");\r\n    });\r\n    // it(\"alphaTest should <= 1 && >= 0\", () => {\r\n    //     expect(alphaTest).lte(1);\r\n    //     expect(alphaTest).gte(0);\r\n    // });\r\n}, (materialIndex: number, alphaTest: number, MaterialData: any) => {\r\n    var size = getAlphaTestDataSize(),\r\n        index = materialIndex * size;\r\n\r\n    _setTypeArrayValue(MaterialData.alphaTests, index, alphaTest);\r\n})\r\n\r\nexport var addComponent = (component: Material, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(MaterialData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, component: Material) => {\r\n    checkIndexShouldEqualCount(MaterialData);\r\n}, requireCheckFunc((component: Material) => {\r\n    _checkDisposeComponentWorker(component);\r\n}, (component: Material) => {\r\n    var sourceIndex = component.index,\r\n        lastComponentIndex: number = null,\r\n        colorDataSize = getColorDataSize(),\r\n        opacityDataSize = getOpacityDataSize(),\r\n        alphaTestDataSize = getAlphaTestDataSize();\r\n\r\n    MaterialData.count -= 1;\r\n    MaterialData.index -= 1;\r\n\r\n    lastComponentIndex = MaterialData.count;\r\n\r\n    deleteBySwapAndNotReset(sourceIndex, lastComponentIndex, MaterialData.shaderIndices);\r\n\r\n    //todo fix!\r\n    deleteBySwapAndReset(sourceIndex * colorDataSize, lastComponentIndex * colorDataSize, MaterialData.colors, colorDataSize, MaterialData.defaultColorArr);\r\n\r\n    deleteOneItemBySwapAndReset(sourceIndex * opacityDataSize, lastComponentIndex * opacityDataSize, MaterialData.opacities, MaterialData.defaultOpacity);\r\n    deleteOneItemBySwapAndReset(sourceIndex * alphaTestDataSize, lastComponentIndex * alphaTestDataSize, MaterialData.alphaTests, MaterialData.defaultAlphaTest);\r\n\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.gameObjectMap);\r\n\r\n    deleteComponentBySwapArray(sourceIndex, lastComponentIndex, MaterialData.materialMap);\r\n\r\n    //not dispose shader(for reuse shader)(if dipose shader, should change render worker)\r\n}))\r\n\r\nvar _checkDisposeComponentWorker = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    _checkDisposeComponentWorker = (component: Material) => {\r\n        it(\"should not dispose the material which is inited in the same frame\", () => {\r\n            expect(MaterialData.workerInitList.indexOf(component.index)).equal(-1);\r\n        });\r\n    }\r\n}\r\nelse {\r\n    _checkDisposeComponentWorker = (component: Material) => { };\r\n}\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nvar _setTypeArrayValue = requireCheckFunc((typeArr: Float32Array | Uint32Array, index: number, value: number) => {\r\n    it(\"should not exceed type arr's length\", () => {\r\n        expect(index).lte(typeArr.length - 1);\r\n    });\r\n}, (typeArr: Float32Array, index: number, value: number) => {\r\n    typeArr[index] = value;\r\n})\r\n\r\nexport var isTestAlpha = isTestAlphaUtils;\r\n\r\nexport var initData = (MaterialData: any) => {\r\n    // MaterialData.shaderMap = createMap();\r\n    // MaterialData.materialClassNameMap = createMap();\r\n    // MaterialData.colorMap = createMap();\r\n    // MaterialData.opacityMap = createMap();\r\n    // MaterialData.alphaTestMap = createMap();\r\n\r\n    MaterialData.materialMap = [];\r\n\r\n    MaterialData.gameObjectMap = [];\r\n\r\n    MaterialData.index = 0;\r\n    MaterialData.count = 0;\r\n\r\n    MaterialData.workerInitList = [];\r\n\r\n    MaterialData.defaultColorArr = _createDefaultColor().toVector3().toArray();\r\n    MaterialData.defaultOpacity = 1;\r\n    MaterialData.defaultAlphaTest = -1;\r\n\r\n    _initBufferData(MaterialData);\r\n\r\n    _initTable(MaterialData);\r\n}\r\n\r\nvar _initBufferData = (MaterialData: any) => {\r\n    var buffer: any = null,\r\n        count = DataBufferConfig.materialDataBufferCount,\r\n        size = Uint32Array.BYTES_PER_ELEMENT + Float32Array.BYTES_PER_ELEMENT * (getColorDataSize() + getOpacityDataSize() + getAlphaTestDataSize())\r\n\r\n    buffer = createSharedArrayBufferOrArrayBuffer(count * size);\r\n\r\n    createTypeArrays(buffer, count, MaterialData);\r\n\r\n    MaterialData.buffer = buffer;\r\n\r\n    _addDefaultTypeArrData(count, MaterialData);\r\n}\r\n\r\nvar _addDefaultTypeArrData = (count: number, MaterialData: any) => {\r\n    var color = _createDefaultColor(),\r\n        opacity = MaterialData.defaultOpacity,\r\n        alphaTest = MaterialData.defaultAlphaTest;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        setColor(i, color, MaterialData);\r\n        setOpacity(i, opacity, MaterialData);\r\n        setAlphaTest(i, alphaTest, MaterialData);\r\n    }\r\n}\r\n\r\nvar _initTable = (MaterialData: any) => {\r\n    MaterialData.shaderIndexTable = {\r\n        \"BasicMaterial\": 0\r\n    }\r\n\r\n    MaterialData.materialClassNameTable = {\r\n        0: \"BasicMaterial\"\r\n    }\r\n}\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n    getComponent, getGeometry, getMaterial,\r\n    getTransform\r\n} from \"../../core/entityObject/gameObject/GameObjectSystem\";\r\nimport {\r\n    getLocalToWorldMatrix,\r\n    getTempLocalToWorldMatrix\r\n} from \"../../component/transform/ThreeDTransformSystem\";\r\nimport { getCurrentCamera } from \"../../core/entityObject/scene/SceneSystem\";\r\nimport {\r\n    getPMatrix, getWorldToCameraMatrix\r\n} from \"../../component/camera/CameraControllerSystem\";\r\nimport { getTypeIDFromClass } from \"../../component/ComponentTypeIDManager\";\r\nimport { CameraController } from \"../../component/camera/CameraController\";\r\nimport { IRenderConfig } from \"../data/render_config\";\r\nimport { getShaderIndex } from \"../../component/material/MaterialSystem\";\r\nimport { createSharedArrayBufferOrArrayBuffer } from \"../../utils/arrayBufferUtils\";\r\nimport { getMatrix4DataSize, setMatrices } from \"../../utils/typeArrayUtils\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { DataBufferConfig } from \"../../config/DataBufferConfig\";\r\n\r\nexport var createRenderCommandBufferData = curry(requireCheckFunc((state: Map<any, any>, GameObjectData: any, ThreeDTransformData: any, CameraControllerData: any, CameraData: any, MaterialData: any, GeometryData: any, SceneData: any, RenderCommandBufferData: any, renderGameObjectArray: Array<GameObject>) => {\r\n    it(\"renderGameObjectArray.length should not exceed RenderCommandBufferData->buffer's count\", () => {\r\n        expect(renderGameObjectArray.length).lte(DataBufferConfig.renderCommandBufferCount)\r\n    })\r\n}, (state: Map<any, any>, GameObjectData: any, ThreeDTransformData: any, CameraControllerData: any, CameraData: any, MaterialData: any, GeometryData: any, SceneData: any, RenderCommandBufferData: any, renderGameObjectArray: Array<GameObject>) => {\r\n    var count = renderGameObjectArray.length,\r\n        buffer: any = RenderCommandBufferData.buffer,\r\n        mMatrices = RenderCommandBufferData.mMatrices,\r\n        vMatrices = RenderCommandBufferData.vMatrices,\r\n        pMatrices = RenderCommandBufferData.pMatrices,\r\n        materialIndices = RenderCommandBufferData.materialIndices,\r\n        shaderIndices = RenderCommandBufferData.shaderIndices,\r\n        geometryIndices = RenderCommandBufferData.geometryIndices,\r\n        currentCamera = getComponent(getCurrentCamera(SceneData), getTypeIDFromClass(CameraController), GameObjectData),\r\n        currentCameraIndex = currentCamera.index,\r\n        mat4Length = getMatrix4DataSize();\r\n\r\n    setMatrices(vMatrices, getWorldToCameraMatrix(currentCameraIndex, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData), 0);\r\n    setMatrices(pMatrices, getPMatrix(currentCameraIndex, CameraData), 0);\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        let matIndex = mat4Length * i,\r\n            gameObject = renderGameObjectArray[i],\r\n            geometry = getGeometry(gameObject, GameObjectData),\r\n            material = getMaterial(gameObject, GameObjectData),\r\n            transform = getTransform(gameObject, GameObjectData),\r\n            materialIndex = material.index,\r\n            shaderIndex = getShaderIndex(materialIndex, MaterialData);\r\n\r\n        setMatrices(mMatrices, getLocalToWorldMatrix(transform, getTempLocalToWorldMatrix(transform, ThreeDTransformData), ThreeDTransformData), matIndex);\r\n\r\n        materialIndices[i] = materialIndex;\r\n        shaderIndices[i] = shaderIndex;\r\n        geometryIndices[i] = geometry.index;\r\n    }\r\n\r\n    return {\r\n        buffer: buffer,\r\n        count: count\r\n    }\r\n}), 10)\r\n\r\nexport var initData = (DataBufferConfig: any, RenderCommandBufferData: any) => {\r\n    var mat4Length = getMatrix4DataSize(),\r\n        size = Float32Array.BYTES_PER_ELEMENT * mat4Length + Uint32Array.BYTES_PER_ELEMENT * 3,\r\n        buffer: any = null,\r\n        count = DataBufferConfig.renderCommandBufferCount;\r\n\r\n    buffer = createSharedArrayBufferOrArrayBuffer(count * size + 2 * Float32Array.BYTES_PER_ELEMENT * mat4Length);\r\n\r\n    RenderCommandBufferData.mMatrices = new Float32Array(buffer, 0, count * mat4Length);\r\n    RenderCommandBufferData.vMatrices = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * mat4Length, 1 * mat4Length);\r\n    RenderCommandBufferData.pMatrices = new Float32Array(buffer, (count + 1) * Float32Array.BYTES_PER_ELEMENT * mat4Length, 1 * mat4Length);\r\n    RenderCommandBufferData.materialIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length, count);\r\n    RenderCommandBufferData.shaderIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length + count * Uint32Array.BYTES_PER_ELEMENT, count);\r\n    RenderCommandBufferData.geometryIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length + count * Uint32Array.BYTES_PER_ELEMENT * 2, count);\r\n\r\n    RenderCommandBufferData.buffer = buffer;\r\n}\r\n","export enum EWorkerOperateType {\r\n    INIT_GL,\r\n    INIT_MATERIAL_GEOMETRY,\r\n    DRAW\r\n}\r\n","export enum EGeometryWorkerDataOperateType {\r\n    ADD,\r\n    RESET\r\n}","export enum EDisposeDataOperateType {\r\n    DISPOSE_BUFFER\r\n}\r\n\r\n","export var getRenderWorker = (WorkerInstanceData: any) => {\r\n    return WorkerInstanceData.renderWorker;\r\n}\r\n\r\nexport var setRenderWorker = (worker: Worker, WorkerInstanceData: any) => {\r\n    WorkerInstanceData.renderWorker = worker;\r\n}","import curry from \"wonder-lodash/curry\";\r\nimport { EWorkerOperateType } from \"../../both_file/EWorkerOperateType\";\r\nimport {\r\n    clearDisposedGeometryIndexArray,\r\n    clearWorkerInfoList, hasDisposedGeometryIndexArrayData, hasNewPointData,\r\n    isReallocate\r\n} from \"../../../../component/geometry/GeometrySystem\";\r\nimport { EGeometryWorkerDataOperateType } from \"../../../enum/EGeometryWorkerDataOperateType\";\r\nimport { clearWorkerInitList, hasNewInitedMaterial } from \"../../../../component/material/MaterialSystem\";\r\nimport { RenderCommandBufferWorkerData } from \"../../../type/dataType\";\r\nimport { EDisposeDataOperateType } from \"../../../enum/EDisposeDataOperateType\";\r\nimport { getRenderWorker } from \"../worker_instance/WorkerInstanceSystem\";\r\n\r\nexport var sendDrawData = curry((WorkerInstanceData: any, MaterialData: any, GeometryData: any, data: RenderCommandBufferWorkerData) => {\r\n    var geometryData = null,\r\n        disposeData = null,\r\n        materialData = null;\r\n\r\n    if (hasNewPointData(GeometryData)) {\r\n        geometryData = {\r\n            buffer: GeometryData.buffer,\r\n            type: EGeometryWorkerDataOperateType.ADD,\r\n            verticesInfoList: GeometryData.verticesWorkerInfoList,\r\n            indicesInfoList: GeometryData.indicesWorkerInfoList\r\n        };\r\n    }\r\n    else if (isReallocate(GeometryData)) {\r\n        geometryData = {\r\n            buffer: GeometryData.buffer,\r\n            type: EGeometryWorkerDataOperateType.RESET,\r\n            verticesInfoList: GeometryData.verticesInfoList,\r\n            indicesInfoList: GeometryData.indicesInfoList\r\n        };\r\n    }\r\n\r\n    if (hasDisposedGeometryIndexArrayData(GeometryData)) {\r\n        disposeData = {\r\n            type: EDisposeDataOperateType.DISPOSE_BUFFER,\r\n            disposedGeometryIndexArray: GeometryData.disposedGeometryIndexArray\r\n        };\r\n    }\r\n\r\n    if (hasNewInitedMaterial(MaterialData)) {\r\n        materialData = {\r\n            buffer: MaterialData.buffer,\r\n            workerInitList: MaterialData.workerInitList\r\n        };\r\n    }\r\n\r\n    getRenderWorker(WorkerInstanceData).postMessage({\r\n        operateType: EWorkerOperateType.DRAW,\r\n        renderCommandBufferData: data,\r\n        materialData: materialData,\r\n        geometryData: geometryData,\r\n        disposeData: disposeData\r\n    });\r\n\r\n    clearWorkerInfoList(GeometryData);\r\n    clearDisposedGeometryIndexArray(GeometryData);\r\n    clearWorkerInitList(MaterialData);\r\n})\r\n","import { Color } from \"../../structure/Color\";\r\n\r\nexport const render_config = {\r\n    \"clearColor\": Color.create(\"#000000\")\r\n}\r\n\r\nexport interface IRenderConfig {\r\n    clearColor: Color;\r\n}\r\n\r\n","import { GameObject } from \"../gameObject/GameObject\";\r\n\r\nexport class SceneData {\r\n    public static cameraArray: Array<GameObject> = null;\r\n}\r\n","export class RenderCommandBufferData {\r\n    public static buffer: SharedArrayBuffer = null;\r\n\r\n    public static mMatrices: Float32Array = null;\r\n    public static vMatrices: Float32Array = null;\r\n    public static pMatrices: Float32Array = null;\r\n    public static materialIndices: Uint32Array = null;\r\n    public static shaderIndices: Uint32Array = null;\r\n    public static geometryIndices: Uint32Array = null;\r\n}\r\n","export enum ERenderWorkerState {\r\n    DEFAULT,\r\n    DRAW_WAIT,\r\n    DRAW_COMPLETE\r\n}\r\n","import { ERenderWorkerState } from \"../../both_file/ERenderWorkerState\";\r\n\r\nexport class SendDrawRenderCommandBufferData {\r\n    public static state: ERenderWorkerState = null;\r\n}","export class BufferUtilsForUnitTest {\r\n    public static isDrawRenderCommandBufferDataTypeArrayNotExist(DrawRenderCommandBufferDataFromSystem: any) {\r\n        return DrawRenderCommandBufferDataFromSystem.mMatrices === null;\r\n    }\r\n}\r\n","import { Map } from \"immutable\";\r\nimport { EDrawMode } from \"../../enum/EDrawMode\";\r\nimport { RenderCommandBufferWorkerData } from \"../../type/dataType\";\r\nimport { BufferUtilsForUnitTest } from \"../../../utils/BufferUtilsForUnitTest\";\r\nimport { IRenderConfig } from \"../../data/render_config\";\r\nimport { getMatrix4DataSize } from \"../../../utils/typeArrayUtils\";\r\n\r\nexport var clear = (gl: WebGLRenderingContext, clearGL: Function, render_config: IRenderConfig, DeviceManagerDataFromSystem: any, data: RenderCommandBufferWorkerData) => {\r\n    clearGL(gl, render_config.clearColor, DeviceManagerDataFromSystem);\r\n\r\n    return data;\r\n}\r\n\r\nexport var buildDrawDataMap = (DeviceManagerDataFromSystem: any, MaterialDataFromSystem: any, ProgramDataFromSystem: any, LocationDataFromSystem: any, GLSLSenderDataFromSystem: any, GeometryDataFromSystem: any, ArrayBufferDataFromSystem: any, IndexBufferDataFromSystem: any, DrawRenderCommandBufferDataFromSystem: any, ) => {\r\n    return {\r\n        DeviceManagerDataFromSystem: DeviceManagerDataFromSystem,\r\n        MaterialDataFromSystem: MaterialDataFromSystem,\r\n        ProgramDataFromSystem: ProgramDataFromSystem,\r\n        LocationDataFromSystem: LocationDataFromSystem,\r\n        GLSLSenderDataFromSystem: GLSLSenderDataFromSystem,\r\n        GeometryDataFromSystem: GeometryDataFromSystem,\r\n        ArrayBufferDataFromSystem: ArrayBufferDataFromSystem,\r\n        IndexBufferDataFromSystem: IndexBufferDataFromSystem,\r\n        DrawRenderCommandBufferDataFromSystem: DrawRenderCommandBufferDataFromSystem\r\n    }\r\n}\r\n\r\nexport var buildDrawFuncDataMap = (bindIndexBuffer: Function, sendAttributeData: Function, sendUniformData: Function, use: Function, hasIndices: Function, getIndicesCount: Function, getIndexType: Function, getIndexTypeSize: Function, getVerticesCount: Function) => {\r\n    return {\r\n        bindIndexBuffer: bindIndexBuffer,\r\n        sendAttributeData: sendAttributeData,\r\n        sendUniformData: sendUniformData,\r\n        use: use,\r\n        hasIndices: hasIndices,\r\n        getIndicesCount: getIndicesCount,\r\n        getIndexType: getIndexType,\r\n        getIndexTypeSize: getIndexTypeSize,\r\n        getVerticesCount: getVerticesCount\r\n    }\r\n}\r\n\r\nexport var draw = (gl: WebGLRenderingContext, state: Map<any, any>, DataBufferConfig: any, {\r\n    bindIndexBuffer,\r\n    sendAttributeData,\r\n    sendUniformData,\r\n    use,\r\n    hasIndices,\r\n    getIndicesCount,\r\n    getIndexType,\r\n    getIndexTypeSize,\r\n    getVerticesCount\r\n}, {\r\n                       DeviceManagerDataFromSystem,\r\n        MaterialDataFromSystem,\r\n        ProgramDataFromSystem,\r\n        LocationDataFromSystem,\r\n        GLSLSenderDataFromSystem,\r\n        GeometryDataFromSystem,\r\n        ArrayBufferDataFromSystem,\r\n        IndexBufferDataFromSystem,\r\n        DrawRenderCommandBufferDataFromSystem\r\n                   }, bufferData: RenderCommandBufferWorkerData) => {\r\n    var mat4Length = getMatrix4DataSize(),\r\n        count = bufferData.count,\r\n        buffer: any = bufferData.buffer,\r\n        mMatrixFloatArrayForSend = DrawRenderCommandBufferDataFromSystem.mMatrixFloatArrayForSend,\r\n        vMatrixFloatArrayForSend = DrawRenderCommandBufferDataFromSystem.vMatrixFloatArrayForSend,\r\n        pMatrixFloatArrayForSend = DrawRenderCommandBufferDataFromSystem.pMatrixFloatArrayForSend,\r\n        {\r\n            mMatrices,\r\n            vMatrices,\r\n            pMatrices,\r\n            materialIndices,\r\n            shaderIndices,\r\n            geometryIndices\r\n        } = _createTypeArraysOnlyOnce(buffer, DataBufferConfig, mat4Length, DrawRenderCommandBufferDataFromSystem);\r\n\r\n    _updateSendMatrixFloat32ArrayData(vMatrices, 0, mat4Length, vMatrixFloatArrayForSend);\r\n    _updateSendMatrixFloat32ArrayData(pMatrices, 0, mat4Length, pMatrixFloatArrayForSend);\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        let matStartIndex = 16 * i,\r\n            matEndIndex = matStartIndex + 16,\r\n            shaderIndex = shaderIndices[i],\r\n            geometryIndex = geometryIndices[i],\r\n            drawMode = EDrawMode.TRIANGLES;\r\n\r\n        use(gl, shaderIndex, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem);\r\n\r\n        //todo set state\r\n\r\n        sendAttributeData(gl, shaderIndex, geometryIndex, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem, GeometryDataFromSystem, ArrayBufferDataFromSystem);\r\n\r\n        _updateSendMatrixFloat32ArrayData(mMatrices, matStartIndex, matEndIndex, mMatrixFloatArrayForSend);\r\n\r\n        sendUniformData(gl, shaderIndex, MaterialDataFromSystem, ProgramDataFromSystem, LocationDataFromSystem, GLSLSenderDataFromSystem, _buildRenderCommandUniformData(mMatrixFloatArrayForSend, vMatrices, pMatrices, materialIndices[i]));\r\n\r\n        if (hasIndices(geometryIndex, GeometryDataFromSystem)) {\r\n            bindIndexBuffer(gl, geometryIndex, ProgramDataFromSystem, GeometryDataFromSystem, IndexBufferDataFromSystem);\r\n\r\n            _drawElements(gl, geometryIndex, drawMode, getIndicesCount, getIndexType, getIndexTypeSize, GeometryDataFromSystem);\r\n        }\r\n        else {\r\n            _drawArray(gl, geometryIndex, drawMode, getVerticesCount, GeometryDataFromSystem);\r\n        }\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nvar _drawElements = (gl: WebGLRenderingContext, geometryIndex: number, drawMode: EDrawMode, getIndicesCount: Function, getIndexType: Function, getIndexTypeSize: Function, GeometryDataFromSystem: any) => {\r\n    var startOffset: number = 0,\r\n        count = getIndicesCount(geometryIndex, GeometryDataFromSystem),\r\n        type = getIndexType(GeometryDataFromSystem),\r\n        typeSize = getIndexTypeSize(GeometryDataFromSystem);\r\n\r\n    gl.drawElements(gl[drawMode], count, gl[type], typeSize * startOffset);\r\n}\r\n\r\nvar _drawArray = (gl: WebGLRenderingContext, geometryIndex: number, drawMode: EDrawMode, getVerticesCount: Function, GeometryDataFromSystem: any) => {\r\n    var startOffset: number = 0,\r\n        count = getVerticesCount(geometryIndex, GeometryDataFromSystem);\r\n\r\n    gl.drawArrays(gl[drawMode], startOffset, count);\r\n}\r\n\r\nvar _updateSendMatrixFloat32ArrayData = (sourceMatrices: Float32Array, matStartIndex: number, matEndIndex: number, targetMatrices: Float32Array) => {\r\n    for (let i = matStartIndex; i < matEndIndex; i++) {\r\n        targetMatrices[i - matStartIndex] = sourceMatrices[i];\r\n    }\r\n\r\n    return targetMatrices;\r\n}\r\n\r\nvar _buildRenderCommandUniformData = (mMatrices: Float32Array, vMatrices: Float32Array, pMatrices: Float32Array, materialIndex: number) => {\r\n    return {\r\n        mMatrix: mMatrices,\r\n        vMatrix: vMatrices,\r\n        pMatrix: pMatrices,\r\n        materialIndex: materialIndex\r\n    }\r\n}\r\n\r\nvar _createTypeArraysOnlyOnce = (buffer: any, DataBufferConfig: any, mat4Length: number, DrawRenderCommandBufferDataFromSystem: any) => {\r\n    if (BufferUtilsForUnitTest.isDrawRenderCommandBufferDataTypeArrayNotExist(DrawRenderCommandBufferDataFromSystem)) {\r\n        let count = DataBufferConfig.renderCommandBufferCount;\r\n\r\n        DrawRenderCommandBufferDataFromSystem.mMatrices = new Float32Array(buffer, 0, count * mat4Length);\r\n        DrawRenderCommandBufferDataFromSystem.vMatrices = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * mat4Length, 1 * mat4Length);\r\n        DrawRenderCommandBufferDataFromSystem.pMatrices = new Float32Array(buffer, (count + 1) * Float32Array.BYTES_PER_ELEMENT * mat4Length, 1 * mat4Length);\r\n        DrawRenderCommandBufferDataFromSystem.materialIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length, count);\r\n        DrawRenderCommandBufferDataFromSystem.shaderIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length + count * Uint32Array.BYTES_PER_ELEMENT, count);\r\n        DrawRenderCommandBufferDataFromSystem.geometryIndices = new Uint32Array(buffer, (count + 2) * Float32Array.BYTES_PER_ELEMENT * mat4Length + count * Uint32Array.BYTES_PER_ELEMENT * 2, count);\r\n    }\r\n\r\n    return DrawRenderCommandBufferDataFromSystem;\r\n}\r\n\r\nexport var initData = (DrawRenderCommandBufferDataFromSystem: any) => {\r\n    var mat4Length = getMatrix4DataSize();\r\n\r\n    DrawRenderCommandBufferDataFromSystem.mMatrixFloatArrayForSend = new Float32Array(mat4Length);\r\n    DrawRenderCommandBufferDataFromSystem.vMatrixFloatArrayForSend = new Float32Array(mat4Length);\r\n    DrawRenderCommandBufferDataFromSystem.pMatrixFloatArrayForSend = new Float32Array(mat4Length);\r\n}\r\n","import {\r\n    buildDrawFuncDataMap, clear as clearUtils, draw as drawUtils,\r\n    initData as initDataUtils\r\n} from \"../utils/draw/drawRenderCommandBufferUtils\";\r\nimport { clear as clearGL, getGL } from \"../device/DeviceManagerSystem\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport { DrawDataMap } from \"../type/utilsType\";\r\nimport { bindIndexBuffer, sendAttributeData, sendUniformData, use } from \"../shader/ShaderSystem\";\r\nimport {\r\n    getIndexType, getIndexTypeSize, getIndicesCount, getVerticesCount,\r\n    hasIndices\r\n} from \"../../component/geometry/GeometrySystem\";\r\nimport { IRenderConfig } from \"../data/render_config\";\r\nimport { RenderCommandBufferWorkerData } from \"../type/dataType\";\r\n\r\nexport var clear = curry((state: Map<any, any>, render_config: IRenderConfig, DeviceManagerData: any, data: RenderCommandBufferWorkerData) => {\r\n    return clearUtils(getGL(DeviceManagerData, state), clearGL, render_config, DeviceManagerData, data);\r\n});\r\n\r\nexport var draw = curry((state: Map<any, any>, DataBufferConfig: any, drawDataMap: DrawDataMap, bufferData: RenderCommandBufferWorkerData) => {\r\n    return drawUtils(getGL(drawDataMap.DeviceManagerDataFromSystem, state), state, DataBufferConfig, buildDrawFuncDataMap(bindIndexBuffer, sendAttributeData, sendUniformData, use, hasIndices, getIndicesCount, getIndexType, getIndexTypeSize, getVerticesCount), drawDataMap, bufferData)\r\n});\r\n\r\nexport var initData = initDataUtils;\r\n","export class DrawRenderCommandBufferData {\r\n    public static mMatrixFloatArrayForSend: Float32Array = null;\r\n    public static vMatrixFloatArrayForSend: Float32Array = null;\r\n    public static pMatrixFloatArrayForSend: Float32Array = null;\r\n\r\n    public static mMatrices: Float32Array = null;\r\n    public static vMatrices: Float32Array = null;\r\n    public static pMatrices: Float32Array = null;\r\n    public static materialIndices: Uint32Array = null;\r\n    public static shaderIndices: Uint32Array = null;\r\n    public static geometryIndices: Uint32Array = null;\r\n}","export class WorkerInstanceData {\r\n    public static renderWorker: Worker = null;\r\n\r\n}\r\n","import { Map } from \"immutable\";\r\nimport { getRenderList } from \"../../component/renderer/MeshRendererSystem\";\r\nimport { MeshRendererData } from \"../../component/renderer/MeshRendererData\";\r\nimport { compose } from \"../../utils/functionalUtils\";\r\nimport { createRenderCommandBufferData } from \"../command_buffer/RenderCommandBufferSystem\";\r\nimport { sendDrawData } from \"../worker/logic_file/draw/SendDrawRenderCommandBufferDataSystem\";\r\nimport { init as initMaterial } from \"../../component/material/MaterialSystem\";\r\nimport { MaterialData } from \"../../component/material/MaterialData\";\r\nimport { GameObjectData } from \"../../core/entityObject/gameObject/GameObjectData\";\r\nimport { GeometryData } from \"../../component/geometry/GeometryData\";\r\nimport { ArrayBufferData } from \"../buffer/ArrayBufferData\";\r\nimport { IndexBufferData } from \"../buffer/IndexBufferData\";\r\nimport { render_config } from \"../data/render_config\";\r\nimport { DeviceManagerData } from \"../device/DeviceManagerData\";\r\nimport { ThreeDTransformData } from \"../../component/transform/ThreeDTransformData\";\r\nimport { SceneData } from \"../../core/entityObject/scene/SceneData\";\r\nimport { CameraControllerData } from \"../../component/camera/CameraControllerData\";\r\nimport { CameraData } from \"../../component/camera/CameraData\";\r\nimport { EWorkerOperateType } from \"../worker/both_file/EWorkerOperateType\";\r\nimport { RenderCommandBufferData } from \"../command_buffer/RenderCommandBufferData\";\r\nimport { ERenderWorkerState } from \"../worker/both_file/ERenderWorkerState\";\r\nimport { SendDrawRenderCommandBufferData } from \"../worker/logic_file/draw/SendDrawRenderCommandBufferData\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer } from \"../../device/WorkerDetectSystem\";\r\nimport { clear, draw } from \"../draw/DrawRenderCommandBufferSystem\";\r\nimport { DrawRenderCommandBufferData } from \"../draw/DrawRenderCommandBufferData\";\r\nimport { ProgramData } from \"../shader/program/ProgramData\";\r\nimport { LocationData } from \"../shader/location/LocationData\";\r\nimport { GLSLSenderData } from \"../shader/glslSender/GLSLSenderData\";\r\nimport { buildDrawDataMap } from \"../utils/draw/drawRenderCommandBufferUtils\";\r\nimport { DataBufferConfig } from \"../../config/DataBufferConfig\";\r\nimport { getRenderWorker } from \"../worker/logic_file/worker_instance/WorkerInstanceSystem\";\r\nimport { WorkerInstanceData } from \"../worker/logic_file/worker_instance/WorkerInstanceData\";\r\n\r\nexport var init = null;\r\n\r\nexport var render = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    init = (state: Map<any, any>) => {\r\n        var renderWorker = getRenderWorker(WorkerInstanceData);\r\n\r\n        renderWorker.postMessage({\r\n            operateType: EWorkerOperateType.INIT_MATERIAL_GEOMETRY,\r\n            materialData: {\r\n                buffer: MaterialData.buffer,\r\n                materialCount: MaterialData.count,\r\n                materialClassNameTable: MaterialData.materialClassNameTable,\r\n                shaderIndexTable: MaterialData.shaderIndexTable\r\n            },\r\n            geometryData: {\r\n                buffer: GeometryData.buffer,\r\n                indexType: GeometryData.indexType,\r\n                indexTypeSize: GeometryData.indexTypeSize,\r\n                verticesInfoList: GeometryData.verticesInfoList,\r\n                indicesInfoList: GeometryData.indicesInfoList\r\n            }\r\n        });\r\n\r\n        renderWorker.onmessage = (e) => {\r\n            var data = e.data,\r\n                state = data.state;\r\n\r\n            SendDrawRenderCommandBufferData.state = state;\r\n        };\r\n\r\n        return state;\r\n    }\r\n\r\n    render = (state: Map<any, any>) => {\r\n        // if (SendDrawRenderCommandBufferData.state !== ERenderWorkerState.INIT_COMPLETE) {\r\n        //     return state;\r\n        // }\r\n\r\n        return compose(\r\n            sendDrawData(WorkerInstanceData, MaterialData, GeometryData),\r\n            // sortRenderCommands(state),\r\n            createRenderCommandBufferData(state, GameObjectData, ThreeDTransformData, CameraControllerData, CameraData, MaterialData, GeometryData, SceneData, RenderCommandBufferData),\r\n            getRenderList(state)\r\n        )(MeshRendererData)\r\n    }\r\n\r\n    let _initData = (SendDrawRenderCommandBufferData: any) => {\r\n        SendDrawRenderCommandBufferData.state = ERenderWorkerState.DEFAULT;\r\n    }\r\n\r\n    _initData(SendDrawRenderCommandBufferData);\r\n}\r\nelse {\r\n    init = (state: Map<any, any>) => {\r\n        initMaterial(state, MaterialData);\r\n    }\r\n\r\n    render = (state: Map<any, any>) => {\r\n        return compose(\r\n            draw(null, DataBufferConfig, buildDrawDataMap(DeviceManagerData, MaterialData, ProgramData, LocationData, GLSLSenderData, GeometryData, ArrayBufferData, IndexBufferData, DrawRenderCommandBufferData)),\r\n            clear(null, render_config, DeviceManagerData),\r\n            // sortRenderCommands(state),\r\n            createRenderCommandBufferData(state, GameObjectData, ThreeDTransformData, CameraControllerData, CameraData, MaterialData, GeometryData, SceneData, RenderCommandBufferData),\r\n            getRenderList(state)\r\n        )(MeshRendererData)\r\n    }\r\n}\r\n","import { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { Map } from \"immutable\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer } from \"../device/WorkerDetectSystem\";\r\nimport { render as renderByWebGLRender } from \"../renderer/render/WebGLRenderSystem\";\r\nimport { SendDrawRenderCommandBufferData } from \"../renderer/worker/logic_file/draw/SendDrawRenderCommandBufferData\";\r\nimport { ERenderWorkerState } from \"../renderer/worker/both_file/ERenderWorkerState\";\r\nimport { Scheduler } from \"./Scheduler\";\r\nimport { update as updateThreeDTransform } from \"../component/transform/ThreeDTransformSystem\";\r\nimport { GlobalTempData } from \"../definition/GlobalTempData\";\r\nimport { ThreeDTransformData } from \"../component/transform/ThreeDTransformData\";\r\nimport { update as updateCameraControllerSystem } from \"../component/camera/CameraControllerSystem\";\r\nimport { PerspectiveCameraData } from \"../component/camera/PerspectiveCameraData\";\r\nimport { CameraData } from \"../component/camera/CameraData\";\r\nimport { CameraControllerData } from \"../component/camera/CameraControllerData\";\r\nimport { DirectorTimeController } from \"../utils/time/DirectorTimeController\";\r\n\r\nexport var getState = (DirectorData: any) => {\r\n    return DirectorData.state;\r\n}\r\n\r\nexport var setState = (state: Map<any, any>, DirectorData: any) => {\r\n    return IO.of(() => {\r\n        DirectorData.state = state;\r\n    });\r\n}\r\n\r\nexport var run = null;\r\n\r\nexport var render = null;\r\n\r\nvar _sync = (elapsed: number, state: Map<any, any>, scheduler: Scheduler) => {\r\n    scheduler.update(elapsed);\r\n\r\n    var resultState = updateSystem(elapsed, state);\r\n\r\n    return resultState;\r\n}\r\n\r\nexport var updateSystem = (elapsed: number, state: Map<any, any>) => {\r\n    var resultState = updateThreeDTransform(elapsed, GlobalTempData, ThreeDTransformData, state);\r\n\r\n    resultState = updateCameraControllerSystem(PerspectiveCameraData, CameraData, CameraControllerData);\r\n\r\n    return resultState;\r\n}\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    run = (elapsed: number, state: Map<any, any>, timeController: DirectorTimeController, scheduler: Scheduler) => {\r\n        var resultState: Map<any, any> = state;\r\n\r\n        if (SendDrawRenderCommandBufferData.state === ERenderWorkerState.DRAW_COMPLETE) {\r\n            timeController.tick(elapsed);\r\n            SendDrawRenderCommandBufferData.state = ERenderWorkerState.DEFAULT;\r\n\r\n            resultState = _sync(elapsed, state, scheduler);\r\n        }\r\n        else if (SendDrawRenderCommandBufferData.state !== ERenderWorkerState.DRAW_WAIT) {\r\n            SendDrawRenderCommandBufferData.state = ERenderWorkerState.DRAW_WAIT;\r\n            resultState = render(resultState);\r\n        }\r\n\r\n        return resultState;\r\n    }\r\n\r\n    render = (state: Map<any, any>) => {\r\n        var resultState = null;\r\n\r\n        resultState = renderByWebGLRender(state)\r\n\r\n        return resultState;\r\n    }\r\n}\r\nelse {\r\n    run = (elapsed: number, state: Map<any, any>, timeController: DirectorTimeController, scheduler: Scheduler) => {\r\n        var resultState: Map<any, any> = state;\r\n\r\n        timeController.tick(elapsed);\r\n\r\n        resultState = _sync(elapsed, state, scheduler);\r\n        resultState = render(resultState);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    render = (state: Map<any, any>) => {\r\n        var resultState = renderByWebGLRender(state);\r\n\r\n        return resultState;\r\n    }\r\n}\r\n","import { Map } from \"immutable\";\r\nimport { createState } from \"../utils/stateUtils\";\r\n\r\nexport class DirectorData {\r\n    public static state: Map<any, any> = createState();\r\n}\r\n","import { registerClass } from \"../../../definition/typescript/decorator/registerClass\";\r\nimport {\r\n    addChild,\r\n    addComponent, create, dispose, disposeComponent, getAliveChildren, getComponent, getParent, getTransform,\r\n    hasChild,\r\n    hasComponent, initGameObject as initGameObjectSystem,\r\n    isAlive, removeChild\r\n} from \"./GameObjectSystem\";\r\nimport { GameObjectData } from \"./GameObjectData\";\r\nimport { Component } from \"../../../component/Component\";\r\nimport { getTypeIDFromClass } from \"../../../component/ComponentTypeIDManager\";\r\nimport { ThreeDTransformData } from \"../../../component/transform/ThreeDTransformData\";\r\nimport { create as createThreeDTransform } from \"../../../component/transform/ThreeDTransformSystem\";\r\nimport { requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { checkGameObjectShouldAlive } from \"../../../utils/contractUtils\";\r\nimport { getState } from \"../../DirectorSystem\";\r\nimport { DirectorData } from \"../../DirectorData\";\r\n\r\n@registerClass(\"GameObject\")\r\nexport class GameObject implements IUIDEntity {\r\n    public uid: number = null;\r\n}\r\n\r\nexport var createGameObject = () => create(createThreeDTransform(ThreeDTransformData), GameObjectData);\r\n\r\nexport var addGameObjectComponent = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    addComponent(gameObject, component, GameObjectData);\r\n})\r\n\r\nexport var disposeGameObject = requireCheckFunc((gameObject: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject) => {\r\n    dispose(gameObject, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\n// export var disposeBatchGameObjectChildren = requireCheckFunc((children: Array<GameObject>, parent:GameObject) => {\r\n//     for(let child of children){\r\n//         checkGameObjectShouldAlive(child, GameObjectData);\r\n//     }\r\n// }, (children: Array<GameObject>, parent:GameObject) => {\r\n//     disposeBatchChildren(children, parent, ThreeDTransformData, GameObjectData);\r\n// })\r\n\r\nexport var initGameObject = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    initGameObjectSystem(gameObject, getState(DirectorData), GameObjectData);\r\n})\r\n\r\nexport var disposeGameObjectComponent = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    disposeComponent(gameObject, component, GameObjectData);\r\n})\r\n\r\nexport var getGameObjectComponent = requireCheckFunc((gameObject: GameObject, _class: any) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, _class: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(_class), GameObjectData);\r\n})\r\n\r\nexport var getGameObjectTransform = (gameObject: GameObject) => {\r\n    return getTransform(gameObject, GameObjectData);\r\n}\r\n\r\nexport var hasGameObjectComponent = requireCheckFunc((gameObject: GameObject, _class: any) => {\r\n    // checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, _class: any) => {\r\n    return hasComponent(gameObject, getTypeIDFromClass(_class), GameObjectData);\r\n})\r\n\r\nexport var isGameObjectAlive = (gameObject: GameObject) => {\r\n    return isAlive(gameObject, GameObjectData);\r\n}\r\n\r\nexport var addGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    addChild(gameObject, child, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\nexport var removeGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    removeChild(gameObject, child, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\nexport var hasGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    return hasChild(gameObject, child, GameObjectData);\r\n})\r\n\r\nexport var getGameObjectChildren = requireCheckFunc((gameObject: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject) => {\r\n    return getAliveChildren(gameObject.uid, GameObjectData);\r\n})\r\n\r\n\r\nexport var getGameObjectParent = requireCheckFunc((gameObject: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject) => {\r\n    return getParent(gameObject.uid, GameObjectData);\r\n})\r\n\r\nexport interface IUIDEntity {\r\n    uid: number;\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { GeometryData } from \"./GeometryData\";\r\nimport {\r\n    getVertices as getGeometryVertices,\r\n    getIndices as getGeometryIndices, getConfigData, initGeometry as initGeometrySystem,\r\n    getGameObject, getDrawMode as getGeometryDrawMode,\r\n} from \"./GeometrySystem\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Component } from \"../Component\";\r\nimport { getState } from \"../../core/DirectorSystem\";\r\nimport { DirectorData } from \"../../core/DirectorData\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { checkComponentShouldAlive, isComponentIndexNotRemoved } from \"../ComponentSystem\";\r\n\r\n@registerClass(\"Geometry\")\r\nexport abstract class Geometry extends Component {\r\n}\r\n\r\nexport var getDrawMode = requireCheckFunc((geometry: Geometry) => {\r\n    _checkShouldAlive(geometry, GeometryData);\r\n}, (geometry: Geometry) => {\r\n    return getGeometryDrawMode(geometry.index, GeometryData);\r\n})\r\n\r\nexport var getVertices = requireCheckFunc((geometry: Geometry) => {\r\n    _checkShouldAlive(geometry, GeometryData);\r\n}, (geometry: Geometry) => {\r\n    return getGeometryVertices(geometry.index, GeometryData);\r\n})\r\n\r\nexport var getIndices = requireCheckFunc((geometry: Geometry) => {\r\n    _checkShouldAlive(geometry, GeometryData);\r\n}, (geometry: Geometry) => {\r\n    return getGeometryIndices(geometry.index, GeometryData);\r\n})\r\n\r\nexport var getGeometryConfigData = requireCheckFunc((geometry: Geometry) => {\r\n    _checkShouldAlive(geometry, GeometryData);\r\n}, (geometry: Geometry) => {\r\n    return getConfigData(geometry.index, GeometryData);\r\n})\r\n\r\nexport var initGeometry = (geometry: Geometry) => {\r\n    initGeometrySystem(geometry.index, getState(DirectorData));\r\n}\r\n\r\nexport var getGeometryGameObject = requireCheckFunc((geometry: Geometry) => {\r\n    _checkShouldAlive(geometry, GeometryData);\r\n}, (geometry: Geometry) => {\r\n    return getGameObject(geometry.index, GeometryData);\r\n})\r\n\r\nvar _checkShouldAlive = (geometry: Geometry, GeometryData: any) => {\r\n    checkComponentShouldAlive(geometry, GeometryData, (geometry: Geometry, GeometryData: any) => {\r\n        return isComponentIndexNotRemoved(geometry);\r\n    })\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport {\r\n    getAlphaTest, getColor, getGameObject, getOpacity,\r\n    initMaterial as initMaterialSystem,\r\n    setAlphaTest, setColor,\r\n    setOpacity\r\n} from \"./MaterialSystem\";\r\nimport { Color } from \"../../structure/Color\";\r\nimport { MaterialData } from \"./MaterialData\";\r\nimport { Component } from \"../Component\";\r\nimport { getState } from \"../../core/DirectorSystem\";\r\nimport { DirectorData } from \"../../core/DirectorData\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { checkComponentShouldAlive, isComponentIndexNotRemoved } from \"../ComponentSystem\";\r\n\r\n@registerClass(\"Material\")\r\nexport class Material extends Component {\r\n}\r\n\r\nexport var getMaterialColor = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material) => {\r\n    return getColor(material.index, MaterialData);\r\n})\r\n\r\nexport var setMaterialColor = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material, color: Color) => {\r\n    setColor(material.index, color, MaterialData);\r\n})\r\n\r\nexport var getMaterialOpacity = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material) => {\r\n    return getOpacity(material.index, MaterialData);\r\n})\r\n\r\nexport var setMaterialOpacity = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material, opacity: number) => {\r\n    setOpacity(material.index, opacity, MaterialData);\r\n})\r\n\r\nexport var getMaterialAlphaTest = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material) => {\r\n    return getAlphaTest(material.index, MaterialData);\r\n})\r\n\r\nexport var setMaterialAlphaTest = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (material: Material, alphaTest: number) => {\r\n    setAlphaTest(material.index, alphaTest, MaterialData);\r\n})\r\n\r\nexport var getMaterialGameObject = requireCheckFunc((material: Material) => {\r\n    _checkShouldAlive(material, MaterialData);\r\n}, (component: Material) => {\r\n    return getGameObject(component.index, MaterialData);\r\n})\r\n\r\n// export var getMaterialShader = (material: Material) => {\r\n//     return getShader(material.index, MaterialData.shaderMap);\r\n// }\r\n\r\nexport var initMaterial = (material: Material) => {\r\n    initMaterialSystem(material.index, getState(DirectorData));\r\n}\r\n\r\nvar _checkShouldAlive = (material: Material, MaterialData: any) => {\r\n    checkComponentShouldAlive(material, MaterialData, (material: Material, MaterialData: any) => {\r\n        return isComponentIndexNotRemoved(material);\r\n    })\r\n}\r\n","import { GameObject, IUIDEntity } from \"./GameObject\";\r\nimport { Component } from \"../../../component/Component\";\r\nimport { getTypeIDFromClass, getTypeIDFromComponent } from \"../../../component/ComponentTypeIDManager\";\r\nimport { createMap, deleteVal, isNotValidMapValue, isValidMapValue } from \"../../../utils/objectUtils\";\r\nimport { setParent } from \"../../../component/transform/ThreeDTransformSystem\";\r\nimport { GameObjectComponentData, GameObjectUIDMap } from \"./GameObjectData\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { ThreeDTransform } from \"../../../component/transform/ThreeDTransform\";\r\nimport { isNotUndefined } from \"../../../utils/JudgeUtils\";\r\nimport { execHandle, execInitHandle } from \"../../../component/ComponentSystem\";\r\nimport { Geometry } from \"../../../component/geometry/Geometry\";\r\nimport { Material } from \"../../../component/material/Material\";\r\nimport { filter, forEach } from \"../../../utils/arrayUtils\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { removeChildEntity } from \"../../../utils/entityUtils\";\r\nimport { isDisposeTooManyComponents, reAllocateGameObject } from \"../../../utils/memoryUtils\";\r\n\r\nexport var create = ensureFunc((gameObject: GameObject, transform: ThreeDTransform, GameObjectData: any) => {\r\n    it(\"componentMap should has data\", () => {\r\n        expect(_getComponentData(gameObject.uid, GameObjectData)).exist;\r\n    });\r\n}, (transform: ThreeDTransform, GameObjectData: any) => {\r\n    var gameObject: GameObject = new GameObject(),\r\n        uid = _buildUID(GameObjectData);\r\n\r\n    gameObject.uid = uid;\r\n\r\n    GameObjectData.aliveUIDArray.push(uid);\r\n\r\n    if (!transform) {\r\n        _setComponentData(uid, {}, GameObjectData);\r\n    }\r\n    else {\r\n        addComponent(gameObject, transform, GameObjectData);\r\n    }\r\n\r\n    return gameObject;\r\n})\r\n\r\nvar _buildUID = (GameObjectData: any) => {\r\n    return GameObjectData.uid++;\r\n}\r\n\r\nexport var isAlive = (entity: IUIDEntity, GameObjectData: any) => {\r\n    return isValidMapValue(_getComponentData(entity.uid, GameObjectData));\r\n}\r\n\r\nexport var isNotAlive = (entity: IUIDEntity, GameObjectData: any) => {\r\n    return !isAlive(entity, GameObjectData);\r\n}\r\n\r\nexport var initGameObject = (gameObject: GameObject, state: MapImmutable<any, any>, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        componentData: GameObjectComponentData = _getComponentData(uid, GameObjectData);\r\n\r\n    for (let typeID in componentData) {\r\n        if (componentData.hasOwnProperty(typeID)) {\r\n            execInitHandle(typeID, componentData[typeID].index, state);\r\n        }\r\n    }\r\n}\r\n\r\nexport var dispose = (entity: IUIDEntity, ThreeDTransformData: any, GameObjectData: any) => {\r\n    _diposeAllDatas(entity, GameObjectData);\r\n\r\n    GameObjectData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(GameObjectData.disposeCount)) {\r\n        reAllocateGameObject(GameObjectData);\r\n\r\n        GameObjectData.disposeCount = 0;\r\n    }\r\n}\r\n\r\nvar _removeFromChildrenMap = (parentUID: number, childUID: number, GameObjectData: any) => {\r\n    removeChildEntity(getChildren(parentUID, GameObjectData), childUID);\r\n};\r\n\r\nvar _diposeAllDatas = (gameObject: GameObject, GameObjectData: any) => {\r\n    let uid = gameObject.uid,\r\n        children = getChildren(uid, GameObjectData);\r\n\r\n    _disposeAllComponents(gameObject, GameObjectData);\r\n    _disposeMapDatas(uid, GameObjectData);\r\n\r\n    if (_isChildrenExist(children)) {\r\n        forEach(children, (child: GameObject) => {\r\n            if (isNotAlive(child, GameObjectData)) {\r\n                return;\r\n            }\r\n\r\n            _diposeAllDatas(child, GameObjectData);\r\n        })\r\n    }\r\n}\r\n\r\nvar _disposeMapDatas = (uid: number, GameObjectData: any) => {\r\n    deleteVal(uid, GameObjectData.childrenMap);\r\n    // deleteVal(uid, GameObjectData.parentMap);\r\n    deleteVal(uid, GameObjectData.componentMap);\r\n}\r\n\r\nvar _disposeAllComponents = (gameObject: GameObject, GameObjectData: any) => {\r\n    var components = _getComponentData(gameObject.uid, GameObjectData);\r\n\r\n    //todo optimize?\r\n    for (let typeID in components) {\r\n        if (components.hasOwnProperty(typeID)) {\r\n            let component = components[typeID];\r\n\r\n            execHandle(component, \"disposeHandleMap\");\r\n        }\r\n    }\r\n}\r\n\r\nexport var addComponent = requireCheckFunc((gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    it(\"component should exist\", () => {\r\n        expect(component).exist;\r\n    });\r\n    it(\"should not has this type of component, please dispose it\", () => {\r\n        expect(hasComponent(gameObject, getTypeIDFromComponent(component), GameObjectData)).false;\r\n    });\r\n}, (gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        typeID = getTypeIDFromComponent(component),\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    execHandle(component, \"addComponentHandleMap\", [component, gameObject]);\r\n\r\n    if (!data) {\r\n        let d = {};\r\n\r\n        d[typeID] = component;\r\n        _setComponentData(uid, d, GameObjectData);\r\n\r\n        return;\r\n    }\r\n\r\n    data[typeID] = component;\r\n})\r\n\r\nvar _removeComponent = (typeID: string, gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(data)) {\r\n        deleteVal(typeID, data);\r\n    }\r\n}\r\n\r\n// export var removeComponent = (gameObject:GameObject, component: Component, GameObjectData:any) => {\r\n//     _removeComponent(getTypeIDFromComponent(component), gameObject, component, GameObjectData);\r\n// }\r\n\r\nexport var disposeComponent = (gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var typeID = getTypeIDFromComponent(component);\r\n\r\n    _removeComponent(typeID, gameObject, component, GameObjectData);\r\n\r\n    execHandle(component, \"disposeHandleMap\");\r\n}\r\n\r\nexport var getComponent = (gameObject: GameObject, componentTypeID: string, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(data)) {\r\n        let component = data[componentTypeID];\r\n\r\n        return isValidMapValue(component) ? component : null;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nvar _getComponentData = (uid: number, GameObjectData: any) => GameObjectData.componentMap[uid];\r\n\r\nvar _setComponentData = (uid: number, data: GameObjectComponentData, GameObjectData: any) => GameObjectData.componentMap[uid] = data;\r\n\r\nexport var hasComponent = (gameObject: GameObject, componentTypeID: string, GameObjectData: any) => {\r\n    return getComponent(gameObject, componentTypeID, GameObjectData) !== null;\r\n}\r\n\r\nexport var getTransform = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(ThreeDTransform), GameObjectData);\r\n}\r\n\r\nexport var getGeometry = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(Geometry), GameObjectData);\r\n}\r\n\r\nexport var getMaterial = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(Material), GameObjectData);\r\n}\r\n\r\nvar _isParentExist = (parent: GameObject) => isNotUndefined(parent);\r\n\r\nvar _isChildrenExist = (children: Array<GameObject>) => isNotUndefined(children);\r\n\r\nvar _isComponentExist = (component: Component) => component !== null;\r\n\r\nvar _isGameObjectEqual = (gameObject1: GameObject, gameObject2: GameObject) => gameObject1.uid === gameObject2.uid;\r\n\r\nexport var getParent = (uid: number, GameObjectData: any) => GameObjectData.parentMap[uid];\r\n\r\nvar _setParent = (uid: number, parent: GameObject, GameObjectData: any) => {\r\n    GameObjectData.parentMap[uid] = parent;\r\n}\r\n\r\nexport var getChildren = (uid: number, GameObjectData: any) => {\r\n    return GameObjectData.childrenMap[uid];\r\n}\r\n\r\nexport var setChildren = (uid: number, children: Array<GameObject>, GameObjectData: any) => {\r\n    GameObjectData.childrenMap[uid] = children;\r\n}\r\n\r\n\r\nexport var getAliveChildren = (uid: number, GameObjectData: any) => {\r\n    return filter(getChildren(uid, GameObjectData), (gameObject: GameObject) => {\r\n        return isAlive(gameObject, GameObjectData);\r\n    })\r\n}\r\n\r\nvar _addChild = (uid: number, child: GameObject, GameObjectData: any) => {\r\n    var children = getChildren(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(children)) {\r\n        children.push(child);\r\n    }\r\n    else {\r\n        setChildren(uid, [child], GameObjectData);\r\n    }\r\n}\r\n\r\nexport var addChild = requireCheckFunc((gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n}, (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    var transform = getTransform(gameObject, GameObjectData),\r\n        uid = gameObject.uid,\r\n        childUID = child.uid,\r\n        parent = getParent(childUID, GameObjectData);\r\n\r\n    if (_isParentExist(parent)) {\r\n        removeChild(parent, child, ThreeDTransformData, GameObjectData);\r\n    }\r\n\r\n    _setParent(childUID, gameObject, GameObjectData);\r\n\r\n    if (_isComponentExist(transform)) {\r\n        setParent(getTransform(child, GameObjectData), transform, ThreeDTransformData);\r\n    }\r\n\r\n    _addChild(uid, child, GameObjectData);\r\n})\r\n\r\nexport var removeChild = requireCheckFunc((gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    it(\"child should has transform component\", () => {\r\n        expect(getTransform(child, GameObjectData)).exist;\r\n    });\r\n}, (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        childUID = child.uid;\r\n\r\n    deleteVal(childUID, GameObjectData.parentMap);\r\n\r\n    setParent(getTransform(child, GameObjectData), null, ThreeDTransformData);\r\n\r\n    _removeFromChildrenMap(uid, childUID, GameObjectData);\r\n})\r\n\r\nexport var hasChild = (gameObject: GameObject, child: GameObject, GameObjectData: any) => {\r\n    if (isNotAlive(gameObject, GameObjectData) || isNotAlive(child, GameObjectData)) {\r\n        return false;\r\n    }\r\n\r\n    let parent = getParent(child.uid, GameObjectData);\r\n\r\n    if (!_isParentExist(parent) || isNotAlive(parent, GameObjectData)) {\r\n        return false;\r\n    }\r\n\r\n    return _isGameObjectEqual(parent, gameObject);\r\n}\r\n\r\nexport var initData = (GameObjectData: any) => {\r\n    GameObjectData.uid = 0;\r\n\r\n    GameObjectData.componentMap = createMap();\r\n    GameObjectData.parentMap = createMap();\r\n    GameObjectData.childrenMap = createMap();\r\n\r\n    GameObjectData.disposeCount = 0;\r\n\r\n    GameObjectData.aliveUIDArray = [];\r\n}\r\n","import {\r\n    dispose as disposePerspectiveCamera, initData as initDataPerspectiveCamera,\r\n    updateProjectionMatrix as updateProjectionMatrixPerspectiveCamera\r\n} from \"./PerspectiveCameraSystem\";\r\nimport { Map } from \"immutable\";\r\nimport { addToDirtyList, getGameObject } from \"./CameraControllerSystem\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { createMap, deleteVal } from \"../../utils/objectUtils\";\r\nimport { getTransform } from \"../../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { getLocalToWorldMatrix, getTempLocalToWorldMatrix } from \"../transform/ThreeDTransformSystem\";\r\n\r\nexport var init = (state: Map<any, any>, index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    updateProjectionMatrix(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var updateProjectionMatrix = (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    updateProjectionMatrixPerspectiveCamera(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var getWorldToCameraMatrix = (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return _getCameraToWorldMatrix(index, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData).clone().invert();\r\n}\r\n\r\nvar _getCameraToWorldMatrix = (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    var transform = getTransform(getGameObject(index, CameraControllerData), GameObjectData);\r\n\r\n    return getLocalToWorldMatrix(transform, getTempLocalToWorldMatrix(transform, ThreeDTransformData), ThreeDTransformData);\r\n}\r\n\r\nexport var getPMatrix = (index: number, CameraData: any) => {\r\n    return CameraData.pMatrixMap[index];\r\n}\r\n\r\nexport var setPMatrix = (index: number, pMatrix: Matrix4, CameraData: any) => {\r\n    CameraData.pMatrixMap[index] = pMatrix;\r\n}\r\n\r\n// export var setPMatrix = (index:number, pMatrix:Matrix4, CameraControllerData:any, CameraData:any) => {\r\n//     CameraData.pMatrixMap[index] = pMatrix;\r\n//\r\n//     addToDirtyList(index, CameraControllerData);\r\n// }\r\n\r\nexport var getNear = (index: number, CameraData: any) => {\r\n    return CameraData.nearMap[index];\r\n}\r\n\r\nexport var setNear = (index: number, near: number, CameraControllerData: any, CameraData: any) => {\r\n    CameraData.nearMap[index] = near;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var getFar = (index: number, CameraData: any) => {\r\n    return CameraData.farMap[index];\r\n}\r\n\r\nexport var setFar = (index: number, far: number, CameraControllerData: any, CameraData: any) => {\r\n    CameraData.farMap[index] = far;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var dispose = (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    deleteVal(index, CameraData.nearMap);\r\n    deleteVal(index, CameraData.farMap);\r\n    deleteVal(index, CameraData.worldToCameraMatrixMap);\r\n    deleteVal(index, CameraData.pMatrixMap);\r\n\r\n    disposePerspectiveCamera(index, PerspectiveCameraData);\r\n}\r\n\r\nexport var initData = (PerspectiveCameraData: any, CameraData: any) => {\r\n    CameraData.nearMap = createMap();\r\n    CameraData.farMap = createMap();\r\n    CameraData.worldToCameraMatrixMap = createMap();\r\n    CameraData.pMatrixMap = createMap();\r\n\r\n    initDataPerspectiveCamera(PerspectiveCameraData);\r\n}\r\n\r\n","import { getFar, getNear, getPMatrix, setFar, setNear } from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { CameraData } from \"./CameraData\";\r\n\r\nexport var getCameraPMatrix = (cameraController: CameraController) => {\r\n    return getPMatrix(cameraController.index, CameraData);\r\n}\r\n\r\nexport var getCameraNear = (cameraController: CameraController) => {\r\n    return getNear(cameraController.index, CameraData);\r\n}\r\n\r\nexport var setCameraNear = (cameraController: CameraController, near: number) => {\r\n    setNear(cameraController.index, near, CameraControllerData, CameraData);\r\n}\r\n\r\nexport var getCameraFar = (cameraController: CameraController) => {\r\n    return getFar(cameraController.index, CameraData);\r\n}\r\n\r\nexport var setCameraFar = (cameraController: CameraController, far: number) => {\r\n    setFar(cameraController.index, far, CameraControllerData, CameraData);\r\n}\r\n","import { getFar, getNear, getPMatrix, setFar, setNear } from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport { getAspect, getFovy, setAspect, setFovy } from \"./PerspectiveCameraSystem\";\r\nimport { PerspectiveCameraData } from \"./PerspectiveCameraData\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\n\r\nexport var getPerspectiveCameraFovy = (cameraController: CameraController) => {\r\n    return getFovy(cameraController.index, PerspectiveCameraData);\r\n}\r\n\r\nexport var setPerspectiveCameraFovy = (cameraController: CameraController, fovy: number) => {\r\n    setFovy(cameraController.index, fovy, PerspectiveCameraData, CameraControllerData);\r\n}\r\n\r\nexport var getPerspectiveCameraAspect = (cameraController: CameraController) => {\r\n    return getAspect(cameraController.index, PerspectiveCameraData);\r\n}\r\n\r\nexport var setPerspectiveCameraAspect = (cameraController: CameraController, aspect: number) => {\r\n    setAspect(cameraController.index, aspect, PerspectiveCameraData, CameraControllerData);\r\n}\r\n","import { BoxGeometry, BoxGeometryConfigData } from \"./BoxGeometry\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport {\r\n    create as createGeometry,\r\n    isIndicesBufferNeed32BitsByData\r\n} from \"./GeometrySystem\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\n\r\nexport var create = (GeometryData: any) => {\r\n    var geometry = new BoxGeometry(),\r\n        index: number = null;\r\n\r\n    geometry = createGeometry(geometry, GeometryData);\r\n\r\n    index = geometry.index;\r\n\r\n    setConfigData(index, {}, GeometryData);\r\n\r\n    GeometryData.computeDataFuncMap[index] = _computeData;\r\n\r\n    return geometry;\r\n}\r\n\r\nvar _computeData = (index: number, GeometryData: any) => {\r\n    var {\r\n            width,\r\n        height,\r\n        depth,\r\n        widthSegments,\r\n        heightSegments,\r\n        depthSegments\r\n        } = _getConfigData(index, GeometryData),\r\n        sides = {\r\n            FRONT: 0,\r\n            BACK: 1,\r\n            TOP: 2,\r\n            BOTTOM: 3,\r\n            RIGHT: 4,\r\n            LEFT: 5\r\n        },\r\n        vertices = [],\r\n        // var normals = [];\r\n        // var texCoords = [];\r\n        indices = [];\r\n\r\n    var faceAxes = [\r\n        [0, 1, 3], // FRONT\r\n        [4, 5, 7], // BACK\r\n        [3, 2, 6], // TOP\r\n        [1, 0, 4], // BOTTOM\r\n        [1, 4, 2], // RIGHT\r\n        [5, 0, 6]  // LEFT\r\n    ];\r\n\r\n    // var faceNormals = [\r\n    //     [  0,  0,  1 ], // FRONT\r\n    //     [  0,  0, -1 ], // BACK\r\n    //     [  0,  1,  0 ], // TOP\r\n    //     [  0, -1,  0 ], // BOTTOM\r\n    //     [  1,  0,  0 ], // RIGHT\r\n    //     [ -1,  0,  0 ]  // LEFT\r\n    // ];\r\n    var corners = [\r\n        Vector3.create(-width, -height, depth),\r\n        Vector3.create(width, -height, depth),\r\n        Vector3.create(width, height, depth),\r\n        Vector3.create(-width, height, depth),\r\n        Vector3.create(width, -height, -depth),\r\n        Vector3.create(-width, -height, -depth),\r\n        Vector3.create(-width, height, -depth),\r\n        Vector3.create(width, height, -depth)\r\n    ];\r\n\r\n    function generateFace(side, uSegments, vSegments) {\r\n        var x, y, z, u, v;\r\n        var i, j;\r\n        var offset = vertices.length / 3;\r\n\r\n        for (i = 0; i <= uSegments; i++) {\r\n            for (j = 0; j <= vSegments; j++) {\r\n                let temp1 = GlobalTempData.vector3_1,\r\n                    temp2 = GlobalTempData.vector3_2,\r\n                    temp3 = GlobalTempData.vector3_3,\r\n                    r = GlobalTempData.vector3_4;\r\n\r\n                temp1.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][1]], i / uSegments);\r\n                temp2.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][2]], j / vSegments);\r\n                temp3.sub2(temp2, corners[faceAxes[side][0]]);\r\n                r.add2(temp1, temp3);\r\n                u = i / uSegments;\r\n                v = j / vSegments;\r\n\r\n                vertices.push(r.x, r.y, r.z);\r\n                // normals.push(faceNormals[side][0], faceNormals[side][1], faceNormals[side][2]);\r\n                // texCoords.push(u, v);\r\n\r\n                if ((i < uSegments) && (j < vSegments)) {\r\n                    indices.push(offset + j + i * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1), offset + j + i * (uSegments + 1) + 1);\r\n                    indices.push(offset + j + (i + 1) * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1) + 1, offset + j + i * (uSegments + 1) + 1);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    generateFace(sides.FRONT, widthSegments, heightSegments);\r\n    generateFace(sides.BACK, widthSegments, heightSegments);\r\n    generateFace(sides.TOP, widthSegments, depthSegments);\r\n    generateFace(sides.BOTTOM, widthSegments, depthSegments);\r\n    generateFace(sides.RIGHT, depthSegments, heightSegments);\r\n    generateFace(sides.LEFT, depthSegments, heightSegments);\r\n\r\n    return {\r\n        vertices: vertices,\r\n        indices: indices\r\n    };\r\n}\r\n\r\nvar _getConfigData = ensureFunc((data: BoxGeometryConfigData) => {\r\n    it(\"config data should be defined\", () => {\r\n        expect(data).exist;\r\n        expect(data.width).exist;\r\n        expect(data.height).exist;\r\n        expect(data.depth).exist;\r\n        expect(data.widthSegments).exist;\r\n        expect(data.heightSegments).exist;\r\n        expect(data.depthSegments).exist;\r\n    })\r\n}, (index: number, GeometryData: any) => {\r\n    return GeometryData.configDataMap[index];\r\n})\r\n\r\nexport var setConfigData = (index: number, data: BoxGeometryConfigData, GeometryData: any) => {\r\n    GeometryData.configDataMap[index] = ExtendUtils.extend({\r\n        width: 10,\r\n        height: 10,\r\n        depth: 10,\r\n        widthSegments: 1,\r\n        heightSegments: 1,\r\n        depthSegments: 1\r\n    },\r\n        data\r\n    );\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { create, setConfigData } from \"./BoxGeometrySystem\";\r\nimport { GeometryData } from \"./GeometryData\";\r\n\r\n@registerClass(\"BoxGeometry\")\r\nexport class BoxGeometry extends Geometry {\r\n}\r\n\r\nexport var createBoxGeometry = () => {\r\n    return create(GeometryData);\r\n}\r\n\r\nexport var setBoxGeometryConfigData = (geometry: BoxGeometry, data: BoxGeometryConfigData) => {\r\n    setConfigData(geometry.index, data, GeometryData);\r\n}\r\n\r\nexport type BoxGeometryConfigDataMap = {\r\n    [index: number]: BoxGeometryConfigData\r\n}\r\n\r\nexport type BoxGeometryConfigData = {\r\n    width?: number;\r\n    height?: number;\r\n    depth?: number;\r\n    widthSegments?: number;\r\n    heightSegments?: number;\r\n    depthSegments?: number;\r\n}\r\n","import { CustomGeometry } from \"./CustomGeometry\";\r\nimport { create as createGeometry, getIndices, getVertices } from \"./GeometrySystem\";\r\n\r\nexport var create = (GeometryData: any) => {\r\n    return createGeometry(new CustomGeometry(), GeometryData);\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { create } from \"./CustomGeometrySystem\";\r\nimport { GeometryData } from \"./GeometryData\";\r\nimport { setIndices, setVertices } from \"./GeometrySystem\";\r\n\r\n@registerClass(\"CustomGeometry\")\r\nexport class CustomGeometry extends Geometry {\r\n}\r\n\r\nexport var createCustomGeometry = () => {\r\n    return create(GeometryData);\r\n}\r\n\r\nexport var setCustomGeometryVertices = (geometry: Geometry, vertices: Float32Array) => {\r\n    return setVertices(geometry.index, vertices, GeometryData);\r\n}\r\n\r\nexport var setCustomGeometryIndices = (geometry: Geometry, indices: Uint16Array | Uint32Array) => {\r\n    return setIndices(geometry.index, indices, GeometryData);\r\n}\r\n","import { BasicMaterial } from \"./BasicMaterial\";\r\nimport { create as createMaterial, setShaderIndex } from \"./MaterialSystem\";\r\nimport { create as createShader } from \"../../renderer/shader/ShaderSystem\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var create = (ShaderData: any, MaterialData: any) => {\r\n    var material = new BasicMaterial(),\r\n        materialClassName = \"BasicMaterial\";\r\n\r\n    material = createMaterial(material, materialClassName, MaterialData);\r\n\r\n    setShaderIndex(material.index, createShader(materialClassName, MaterialData, ShaderData), MaterialData);\r\n\r\n    return material;\r\n}\r\n\r\n// var _createShader = (materialClassName: string, MaterialData:any, ShaderData: any) => {\r\n//     var shaderMap = ShaderData.shaderMap,\r\n//         shader = shaderMap[materialClassName];\r\n//\r\n//     if (isValidMapValue(shader)) {\r\n//         return shader;\r\n//     }\r\n//\r\n//     shader = createShader(materialClassName, MaterialData, ShaderData);\r\n//\r\n//     // shaderMap[materialClassName] = shader;\r\n//\r\n//     return shader;\r\n// }\r\n","import { Shader } from \"./Shader\";\r\n\r\nexport class ShaderData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    // public static vsSourceMap = null;\r\n    // public static fsSourceMap = null;\r\n\r\n    public static shaderMap: ShaderShaderMap = null;\r\n}\r\n\r\nexport type ShaderShaderMap = {\r\n    [materialClassName: string]: Shader\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Material } from \"./Material\";\r\nimport { create } from \"./BasicMaterialSystem\";\r\nimport { ShaderData } from \"../../renderer/shader/ShaderData\";\r\nimport { MaterialData } from \"./MaterialData\";\r\n\r\n@registerClass(\"BasicMaterial\")\r\nexport class BasicMaterial extends Material {\r\n}\r\n\r\nexport var createBasicMaterial = () => {\r\n    return create(ShaderData, MaterialData);\r\n}\r\n","export const DebugConfig = {\r\n    isTest: false,\r\n    debugCollision: false,\r\n    showDebugPanel: false\r\n};","declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport {Log} from \"../Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","export abstract class Entity {\r\n    public static UID: number = 1;\r\n\r\n    private _uid: string = null;\r\n    get uid() {\r\n        return this._uid;\r\n    }\r\n    set uid(uid: string) {\r\n        this._uid = uid;\r\n    }\r\n\r\n    constructor(uidPre: string) {\r\n        this._uid = uidPre + String(Entity.UID++);\r\n    }\r\n}","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { JudgeUtils as JudgeUtils$ } from \"wonder-commonlib/dist/es2015/utils/JudgeUtils\";\r\nimport { Entity } from \"./core/Entity\";\r\nimport { IObserver } from \"./observer/IObserver\";\r\n\r\nexport class JudgeUtils extends JudgeUtils$ {\r\n    public static isPromise(obj) {\r\n        return !!obj\r\n            && !super.isFunction(obj.subscribe)\r\n            && super.isFunction(obj.then);\r\n    }\r\n\r\n    public static isEqual(ob1: Entity, ob2: Entity) {\r\n        return ob1.uid === ob2.uid;\r\n    }\r\n\r\n    public static isIObserver(i: IObserver) {\r\n        return i.next && i.error && i.completed;\r\n    }\r\n}","import { IObserver } from \"./IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport class SubjectObserver implements IObserver {\r\n    public observers: Collection<IObserver> = Collection.create<IObserver>();\r\n\r\n    private _disposable: IDisposable = null;\r\n\r\n    public isEmpty() {\r\n        return this.observers.getCount() === 0;\r\n    }\r\n\r\n    public next(value: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.next(value);\r\n        });\r\n    }\r\n\r\n    public error(error: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.error(error);\r\n        });\r\n    }\r\n\r\n    public completed() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.completed();\r\n        });\r\n    }\r\n\r\n    public addChild(observer: Observer) {\r\n        this.observers.addChild(observer);\r\n\r\n        observer.setDisposable(this._disposable);\r\n    }\r\n\r\n    public removeChild(observer: Observer) {\r\n        this.observers.removeChild((ob: Observer) => {\r\n            return JudgeUtils.isEqual(ob, observer);\r\n        });\r\n    }\r\n\r\n    public dispose() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.dispose();\r\n        });\r\n\r\n        this.observers.removeAllChildren();\r\n    }\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this.observers.forEach((observer: Observer) => {\r\n            observer.setDisposable(disposable);\r\n        });\r\n\r\n        this._disposable = disposable;\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\n\r\nexport abstract class Observer extends Entity implements IObserver {\r\n    private _isDisposed: boolean = null;\r\n    get isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    set isDisposed(isDisposed: boolean) {\r\n        this._isDisposed = isDisposed;\r\n    }\r\n\r\n    protected onUserNext: Function = null;\r\n    protected onUserError: Function = null;\r\n    protected onUserCompleted: Function = null;\r\n\r\n    private _isStop: boolean = false;\r\n    //private _disposeHandler:wdCb.Collection<Function> = wdCb.Collection.create<Function>();\r\n    private _disposable: IDisposable = null;\r\n\r\n\r\n    constructor(observer: IObserver);\r\n    constructor(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    constructor(...args) {\r\n        super(\"Observer\");\r\n\r\n        if (args.length === 1) {\r\n            let observer: IObserver = args[0];\r\n\r\n            this.onUserNext = function(v) {\r\n                observer.next(v);\r\n            };\r\n            this.onUserError = function(e) {\r\n                observer.error(e);\r\n            };\r\n            this.onUserCompleted = function() {\r\n                observer.completed();\r\n            };\r\n        }\r\n        else {\r\n            let onNext = args[0],\r\n                onError = args[1],\r\n                onCompleted = args[2];\r\n\r\n            this.onUserNext = onNext || function(v) { };\r\n            this.onUserError = onError || function(e) {\r\n                throw e;\r\n            };\r\n            this.onUserCompleted = onCompleted || function() { };\r\n        }\r\n    }\r\n\r\n    public next(value: any) {\r\n        if (!this._isStop) {\r\n            return this.onNext(value);\r\n        }\r\n    }\r\n\r\n    public error(error: any) {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onError(error);\r\n        }\r\n    }\r\n\r\n    public completed() {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onCompleted();\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        this._isStop = true;\r\n        this._isDisposed = true;\r\n\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n        }\r\n\r\n        //this._disposeHandler.forEach((handler) => {\r\n        //    handler();\r\n        //});\r\n    }\r\n\r\n    //public fail(e) {\r\n    //    if (!this._isStop) {\r\n    //        this._isStop = true;\r\n    //        this.error(e);\r\n    //        return true;\r\n    //    }\r\n    //\r\n    //    return false;\r\n    //}\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this._disposable = disposable;\r\n    }\r\n\r\n    protected abstract onNext(value: any);\r\n\r\n    protected abstract onError(error: any);\r\n\r\n    protected abstract onCompleted();\r\n}","export class Main {\r\n    public static isTest: boolean = false;\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Main } from \"../../../core/Main\";\r\n\r\nexport function assert(cond: boolean, message: string = \"contract error\") {\r\n    Log.error(!cond, message);\r\n}\r\n\r\nexport function requireCheck(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            if (Main.isTest) {\r\n                InFunc.apply(this, args);\r\n            }\r\n\r\n            return value.apply(this, args);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensure(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            var result = value.apply(this, args),\r\n                params = [result].concat(args);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireGetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            if (Main.isTest) {\r\n                InFunc.call(this);\r\n            }\r\n\r\n            return getter.call(this);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireSetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            if (Main.isTest) {\r\n                InFunc.call(this, val);\r\n            }\r\n\r\n            setter.call(this, val);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            var result = getter.call(this);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.call(this, result);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureSetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            var result = setter.call(this, val),\r\n                params = [result, val];\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function invariant(func) {\r\n    return function(target) {\r\n        if (Main.isTest) {\r\n            func(target);\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\nexport class AutoDetachObserver extends Observer {\r\n    public static create(observer: IObserver);\r\n    public static create(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    public static create(...args) {\r\n        if (args.length === 1) {\r\n            return new this(args[0]);\r\n        }\r\n        else {\r\n            return new this(args[0], args[1], args[2]);\r\n        }\r\n    }\r\n\r\n    @requireCheck(function() {\r\n        if (this.isDisposed) {\r\n            Log.warn(\"only can dispose once\");\r\n        }\r\n    })\r\n    public dispose() {\r\n        if (this.isDisposed) {\r\n            return;\r\n        }\r\n\r\n        super.dispose();\r\n    }\r\n\r\n    protected onNext(value: any) {\r\n        try {\r\n            this.onUserNext(value);\r\n        }\r\n        catch (e) {\r\n            this.onError(e);\r\n        }\r\n    }\r\n\r\n    protected onError(error: any) {\r\n        try {\r\n            this.onUserError(error);\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n        finally {\r\n            this.dispose();\r\n        }\r\n    }\r\n\r\n    protected onCompleted() {\r\n        try {\r\n            this.onUserCompleted();\r\n            this.dispose();\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n    }\r\n}","import { IDisposable } from \"./IDisposable\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { GeneratorSubject } from \"../subject/GeneratorSubject\";\r\nimport { Observer } from \"../core/Observer\";\r\n\r\nexport class InnerSubscription implements IDisposable {\r\n    public static create(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        var obj = new this(subject, observer);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _subject: Subject | GeneratorSubject = null;\r\n    private _observer: Observer = null;\r\n\r\n    constructor(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n\r\n    public dispose() {\r\n        this._subject.remove(this._observer);\r\n\r\n        this._observer.dispose();\r\n    }\r\n}","import { IObserver } from \"../observer/IObserver\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { SubjectObserver } from \"../observer/SubjectObserver\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { InnerSubscription } from \"../Disposable/InnerSubscription\";\r\n\r\nexport class Subject implements IObserver {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    set source(source: Stream) {\r\n        this._source = source;\r\n    }\r\n\r\n    private _observer: any = new SubjectObserver();\r\n\r\n    public subscribe(arg1?: Function | Observer, onError?: Function, onCompleted?: Function): IDisposable {\r\n        var observer: Observer = arg1 instanceof Observer\r\n            ? <AutoDetachObserver>arg1\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //this._source && observer.setDisposeHandler(this._source.disposeHandler);\r\n\r\n        this._observer.addChild(observer);\r\n\r\n        return InnerSubscription.create(this, observer);\r\n    }\r\n\r\n    public next(value: any) {\r\n        this._observer.next(value);\r\n    }\r\n\r\n    public error(error: any) {\r\n        this._observer.error(error);\r\n    }\r\n\r\n    public completed() {\r\n        this._observer.completed();\r\n    }\r\n\r\n    public start() {\r\n        if (!this._source) {\r\n            return;\r\n        }\r\n\r\n        this._observer.setDisposable(this._source.buildStream(this));\r\n    }\r\n\r\n    public remove(observer: Observer) {\r\n        this._observer.removeChild(observer);\r\n    }\r\n\r\n    public dispose() {\r\n        this._observer.dispose();\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\n\r\nexport class SingleDisposable extends Entity implements IDisposable {\r\n    public static create(disposeHandler: Function = function() { }) {\r\n        var obj = new this(disposeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _disposeHandler: Function = null;\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposeHandler: Function) {\r\n        super(\"SingleDisposable\");\r\n\r\n        this._disposeHandler = disposeHandler;\r\n    }\r\n\r\n    public setDisposeHandler(handler: Function) {\r\n        this._disposeHandler = handler;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._disposeHandler();\r\n    }\r\n}","export class ClassMapUtils {\r\n    private static _classMap: ClassMapData = {};\r\n\r\n    public static addClassMap(className: string, _class: any) {\r\n        this._classMap[className] = _class;\r\n    }\r\n\r\n    public static getClass(className: string) {\r\n        return this._classMap[className];\r\n    }\r\n}\r\n\r\ntype ClassMapData = {\r\n    [className: string]: any;\r\n}\r\n","export class FunctionUtils {\r\n    public static bind(object: any, func: Function) {\r\n        return function() {\r\n            return func.apply(object, arguments);\r\n        };\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Entity } from \"./Entity\";\r\nimport { Scheduler } from \"./Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Observer } from \"./Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { FunctionUtils } from \"wonder-commonlib/dist/es2015/utils/FunctionUtils\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport abstract class Stream extends Entity {\r\n    public scheduler: Scheduler = null;\r\n    public subscribeFunc: (observer: IObserver) => Function | void = null;\r\n\r\n    constructor(subscribeFunc) {\r\n        super(\"Stream\");\r\n\r\n        this.subscribeFunc = subscribeFunc || function() { };\r\n    }\r\n\r\n    public abstract subscribe(arg1: Function | Observer | Subject, onError?: Function, onCompleted?: Function): IDisposable;\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public do(onNext?: Function, onError?: Function, onCompleted?: Function) {\r\n        return ClassMapUtils.getClass(\"DoStream\").create(this, onNext, onError, onCompleted);\r\n    }\r\n\r\n    public map(selector: Function) {\r\n        return ClassMapUtils.getClass(\"MapStream\").create(this, selector);\r\n    }\r\n\r\n    public flatMap(selector: Function) {\r\n        return this.map(selector).mergeAll();\r\n    }\r\n\r\n    public concatMap(selector: Function) {\r\n        return this.map(selector).concatAll();\r\n    }\r\n\r\n    public mergeAll() {\r\n        return ClassMapUtils.getClass(\"MergeAllStream\").create(this);\r\n    }\r\n\r\n    public concatAll() {\r\n        return this.merge(1);\r\n    }\r\n\r\n    public skipUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"SkipUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    public takeUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"TakeUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public take(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            self.subscribe((value: any) => {\r\n                if (count > 0) {\r\n                    observer.next(value);\r\n                }\r\n\r\n                count--;\r\n\r\n                if (count <= 0) {\r\n                    observer.completed();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public takeLast(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > count) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                while (queue.length > 0) {\r\n                    observer.next(queue.shift());\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public takeWhile(predicate: (value: any, index: number, source: Stream) => boolean, thisArg = this) {\r\n        var self = this,\r\n            bindPredicate = null;\r\n\r\n        bindPredicate = FunctionUtils.bind(thisArg, predicate);\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var i = 0,\r\n                isStart = false;\r\n\r\n            self.subscribe((value: any) => {\r\n                if (bindPredicate(value, i++, self)) {\r\n                    try {\r\n                        observer.next(value);\r\n                        isStart = true;\r\n                    }\r\n                    catch (e) {\r\n                        observer.error(e);\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    if (isStart) {\r\n                        observer.completed();\r\n                    }\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public lastOrDefault(defaultValue: any = null) {\r\n        var self = this;\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > 1) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                if (queue.length === 0) {\r\n                    observer.next(defaultValue);\r\n                }\r\n                else {\r\n                    while (queue.length > 0) {\r\n                        observer.next(queue.shift());\r\n                    }\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public filter(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public filterWithState(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterWithStateStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public concat(streamArr: Array<Stream>);\r\n    public concat(...otherStream);\r\n\r\n    public concat() {\r\n        var args: Array<Stream> = null;\r\n\r\n        if (JudgeUtils.isArray(arguments[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n            args = Array.prototype.slice.call(arguments, 0);\r\n        }\r\n\r\n        args.unshift(this);\r\n\r\n        return ClassMapUtils.getClass(\"ConcatStream\").create(args);\r\n    }\r\n\r\n    public merge(maxConcurrent: number);\r\n    public merge(streamArr: Array<Stream>);\r\n    public merge(...otherStreams);\r\n\r\n    public merge(...args) {\r\n        if (JudgeUtils.isNumber(args[0])) {\r\n            var maxConcurrent: number = args[0];\r\n\r\n            return ClassMapUtils.getClass(\"MergeStream\").create(this, maxConcurrent);\r\n        }\r\n\r\n        if (JudgeUtils.isArray(args[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n        }\r\n\r\n        let stream: Stream = null;\r\n\r\n        args.unshift(this);\r\n\r\n        stream = ClassMapUtils.getClass(\"Operator\").fromArray(args).mergeAll();\r\n\r\n        return stream;\r\n    }\r\n\r\n    public repeat(count: number = -1) {\r\n        return ClassMapUtils.getClass(\"RepeatStream\").create(this, count);\r\n    }\r\n\r\n    public ignoreElements() {\r\n        return ClassMapUtils.getClass(\"IgnoreElementsStream\").create(this);\r\n    }\r\n\r\n    protected handleSubject(subject: any) {\r\n        if (this._isSubject(subject)) {\r\n            this._setSubject(subject);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private _isSubject(subject: Subject) {\r\n        return subject instanceof Subject;\r\n    }\r\n\r\n    private _setSubject(subject: Subject) {\r\n        subject.source = this;\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\n\r\nexport abstract class BaseStream extends Stream {\r\n    public abstract subscribeCore(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(arg1: Function | Observer | Subject, onError?, onCompleted?): IDisposable {\r\n        var observer: Observer = null;\r\n\r\n        if (this.handleSubject(arg1)) {\r\n            return;\r\n        }\r\n\r\n        observer = arg1 instanceof Observer\r\n            ? AutoDetachObserver.create(<IObserver>arg1)\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //observer.setDisposeHandler(this.disposeHandler);\r\n\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        super.buildStream(observer);\r\n\r\n        return this.subscribeCore(observer);\r\n    }\r\n\r\n    //private _hasMultiObservers(){\r\n    //    return this.scheduler.getObservers() > 1;\r\n    //}\r\n}","import { JudgeUtils } from \"../JudgeUtils\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\n\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}\r\n","import { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class Scheduler {\r\n    //todo remove \"...args\"\r\n    public static create(...args) {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _requestLoopId: any = null;\r\n    get requestLoopId() {\r\n        return this._requestLoopId;\r\n    }\r\n    set requestLoopId(requestLoopId: any) {\r\n        this._requestLoopId = requestLoopId;\r\n    }\r\n\r\n    //param observer is used by TestScheduler to rewrite\r\n\r\n    public publishRecursive(observer: IObserver, initial: any, action: Function) {\r\n        action(initial);\r\n    }\r\n\r\n    public publishInterval(observer: IObserver, initial: any, interval: number, action: Function): number {\r\n        return root.setInterval(() => {\r\n            initial = action(initial);\r\n        }, interval);\r\n    }\r\n\r\n    public publishIntervalRequest(observer: IObserver, action: Function) {\r\n        var self = this,\r\n            loop = (time) => {\r\n                var isEnd = action(time);\r\n\r\n                if (isEnd) {\r\n                    return;\r\n                }\r\n\r\n                self._requestLoopId = root.requestNextAnimationFrame(loop);\r\n            };\r\n\r\n        this._requestLoopId = root.requestNextAnimationFrame(loop);\r\n    }\r\n\r\n    public publishTimeout(observer: IObserver, time: number, action: Function): number {\r\n        return root.setTimeout(() => {\r\n            action(time);\r\n            observer.completed();\r\n        }, time);\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class AnonymousStream extends Stream {\r\n    public static create(subscribeFunc: Function) {\r\n        var obj = new this(subscribeFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(subscribeFunc: Function) {\r\n        super(subscribeFunc);\r\n\r\n        this.scheduler = Scheduler.create();\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public subscribe(subject: Subject): IDisposable;\r\n    public subscribe(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(onNext: (value: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void, onComplete: () => void): IDisposable;\r\n\r\n    public subscribe(...args): IDisposable {\r\n        var observer: AutoDetachObserver = null;\r\n\r\n        if (args[0] instanceof Subject) {\r\n            let subject: Subject = <Subject>args[0];\r\n\r\n            this.handleSubject(subject);\r\n\r\n            return;\r\n        }\r\n        else if (JudgeUtils.isIObserver(<IObserver>args[0])) {\r\n            observer = AutoDetachObserver.create(<IObserver>args[0]);\r\n        }\r\n        else {\r\n            let onNext: Function = <Function>args[0],\r\n                onError: Function = <Function>args[1] || null,\r\n                onCompleted: Function = <Function>args[2] || null;\r\n\r\n            observer = AutoDetachObserver.create(onNext, onError, onCompleted);\r\n        }\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromArrayStream extends BaseStream {\r\n    public static create(array: Array<any>, scheduler: Scheduler) {\r\n        var obj = new this(array, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _array: Array<any> = null;\r\n\r\n    constructor(array: Array<any>, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._array = array;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var array = this._array,\r\n            len = array.length;\r\n\r\n        function loopRecursive(i) {\r\n            if (i < len) {\r\n                observer.next(array[i]);\r\n\r\n                loopRecursive(i + 1);\r\n            } else {\r\n                observer.completed();\r\n            }\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromPromiseStream extends BaseStream {\r\n    public static create(promise: any, scheduler: Scheduler) {\r\n        var obj = new this(promise, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _promise: any = null;\r\n\r\n    constructor(promise: any, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._promise = promise;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        this._promise.then((data) => {\r\n            observer.next(data);\r\n            observer.completed();\r\n        }, (err) => {\r\n            observer.error(err);\r\n        }, observer);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromEventPatternStream extends BaseStream {\r\n    public static create(addHandler: Function, removeHandler: Function) {\r\n        var obj = new this(addHandler, removeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _addHandler: Function = null;\r\n    private _removeHandler: Function = null;\r\n\r\n    constructor(addHandler: Function, removeHandler: Function) {\r\n        super(null);\r\n\r\n        this._addHandler = addHandler;\r\n        this._removeHandler = removeHandler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        function innerHandler(event) {\r\n            observer.next(event);\r\n        }\r\n\r\n        this._addHandler(innerHandler);\r\n\r\n        return SingleDisposable.create(() => {\r\n            self._removeHandler(innerHandler);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalStream extends BaseStream {\r\n    public static create(interval: number, scheduler: Scheduler) {\r\n        var obj = new this(interval, scheduler);\r\n\r\n        obj.initWhenCreate();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _interval: number = null;\r\n\r\n    constructor(interval: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._interval = interval;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public initWhenCreate() {\r\n        this._interval = this._interval <= 0 ? 1 : this._interval;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            id = null;\r\n\r\n        id = this.scheduler.publishInterval(observer, 0, this._interval, (count) => {\r\n            //self.scheduler.next(count);\r\n            observer.next(count);\r\n\r\n            return count + 1;\r\n        });\r\n\r\n        //Disposer.addDisposeHandler(() => {\r\n        //});\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearInterval(id);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalRequestStream extends BaseStream {\r\n    public static create(scheduler: Scheduler) {\r\n        var obj = new this(scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _isEnd: boolean = false;\r\n\r\n    constructor(scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        this.scheduler.publishIntervalRequest(observer, (time) => {\r\n            observer.next(time);\r\n\r\n            return self._isEnd;\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.cancelNextRequestAnimationFrame(self.scheduler.requestLoopId);\r\n            self._isEnd = true;\r\n        });\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { BaseStream } from \"./BaseStream\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class TimeoutStream extends BaseStream {\r\n    @requireCheck(function(time: number, scheduler: Scheduler) {\r\n        assert(time > 0, Log.info.FUNC_SHOULD(\"time\", \"> 0\"));\r\n    })\r\n    public static create(time: number, scheduler: Scheduler) {\r\n        var obj = new this(time, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _time: number = null;\r\n\r\n    constructor(time: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._time = time;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var id = null;\r\n\r\n        id = this.scheduler.publishTimeout(observer, this._time, (time) => {\r\n            observer.next(time);\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearTimeout(id);\r\n        });\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\nexport class GroupDisposable extends Entity implements IDisposable {\r\n    public static create(disposable?: IDisposable) {\r\n        var obj = new this(disposable);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _group: Collection<IDisposable> = Collection.create<IDisposable>();\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposable?: IDisposable) {\r\n        super(\"GroupDisposable\");\r\n\r\n        if (disposable) {\r\n            this._group.addChild(disposable);\r\n        }\r\n    }\r\n\r\n    public add(disposable: IDisposable) {\r\n        this._group.addChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove(disposable: IDisposable) {\r\n        this._group.removeChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._group.forEach((disposable: IDisposable) => {\r\n            disposable.dispose();\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\n\r\nexport class DeferStream extends BaseStream {\r\n    public static create(buildStreamFunc: Function) {\r\n        var obj = new this(buildStreamFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _buildStreamFunc: Function = null;\r\n\r\n    constructor(buildStreamFunc: Function) {\r\n        super(null);\r\n\r\n        this._buildStreamFunc = buildStreamFunc;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var group = GroupDisposable.create();\r\n\r\n        group.add(this._buildStreamFunc().buildStream(observer));\r\n\r\n        return group;\r\n    }\r\n}","import { ClassMapUtils } from \"../../../utils/ClassMapUtils\";\r\n\r\nexport function registerClass(className: string) {\r\n    return function(target) {\r\n        ClassMapUtils.addClassMap(className, target);\r\n    }\r\n}\r\n\r\n","import { AnonymousStream } from \"../stream/AnonymousStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { FromArrayStream } from \"../stream/FromArrayStream\";\r\nimport { FromPromiseStream } from \"../stream/FromPromiseStream\";\r\nimport { FromEventPatternStream } from \"../stream/FromEventPatternStream\";\r\nimport { IntervalStream } from \"../stream/IntervalStream\";\r\nimport { IntervalRequestStream } from \"../stream/IntervalRequestStream\";\r\nimport { TimeoutStream } from \"../stream/TimeoutStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"./Variable\";\r\nimport { DeferStream } from \"../stream/DeferStream\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Operator\")\r\nexport class Operator {\r\n    public static empty() {\r\n        return this.createStream((observer: IObserver) => {\r\n            observer.completed();\r\n        });\r\n    }\r\n\r\n    public static createStream(subscribeFunc) {\r\n        return AnonymousStream.create(subscribeFunc);\r\n    }\r\n\r\n    public static fromArray(array: Array<any>, scheduler = Scheduler.create()) {\r\n        return FromArrayStream.create(array, scheduler);\r\n    }\r\n}\r\n\r\nexport var createStream = Operator.createStream;\r\n\r\nexport var empty = Operator.empty;\r\n\r\nexport var fromArray = Operator.fromArray;\r\n\r\nexport var fromPromise = (promise: any, scheduler = Scheduler.create()) => {\r\n    return FromPromiseStream.create(promise, scheduler);\r\n};\r\n\r\nexport var fromEventPattern = (addHandler: Function, removeHandler: Function) => {\r\n    return FromEventPatternStream.create(addHandler, removeHandler);\r\n};\r\n\r\nexport var interval = (interval, scheduler = Scheduler.create()) => {\r\n    return IntervalStream.create(interval, scheduler);\r\n};\r\n\r\nexport var intervalRequest = (scheduler = Scheduler.create()) => {\r\n    return IntervalRequestStream.create(scheduler);\r\n};\r\n\r\nexport var timeout = (time, scheduler = Scheduler.create()) => {\r\n    return TimeoutStream.create(time, scheduler);\r\n};\r\nexport var callFunc = (func: Function, context = root) => {\r\n    return createStream((observer: IObserver) => {\r\n        try {\r\n            observer.next(func.call(context, null));\r\n        }\r\n        catch (e) {\r\n            observer.error(e);\r\n        }\r\n\r\n        observer.completed();\r\n    });\r\n};\r\n\r\nexport var judge = (condition: Function, thenSource: Function, elseSource: Function) => {\r\n    return condition() ? thenSource() : elseSource();\r\n};\r\n\r\nexport var defer = (buildStreamFunc: Function) => {\r\n    return DeferStream.create(buildStreamFunc);\r\n};\r\n\r\nexport var just = (returnValue: any) => {\r\n    return createStream((observer: IObserver) => {\r\n        observer.next(returnValue);\r\n        observer.completed();\r\n    });\r\n}\r\n","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class ConcatObserver extends Observer {\r\n    public static create(currentObserver: IObserver, startNextStream: Function) {\r\n        return new this(currentObserver, startNextStream);\r\n    }\r\n\r\n    //private currentObserver:IObserver = null;\r\n    protected currentObserver: any = null;\r\n    private _startNextStream: Function = null;\r\n\r\n    constructor(currentObserver: IObserver, startNextStream: Function) {\r\n        super(null, null, null);\r\n\r\n        this.currentObserver = currentObserver;\r\n        this._startNextStream = startNextStream;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        /*!\r\n        if \"this.currentObserver.next\" error, it will pase to this.currentObserver->onError.\r\n        so it shouldn't invoke this.currentObserver.error here again!\r\n         */\r\n        //try{\r\n        this.currentObserver.next(value);\r\n        //}\r\n        //catch(e){\r\n        //    this.currentObserver.error(e);\r\n        //}\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        //this.currentObserver.completed();\r\n        this._startNextStream();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { ConcatObserver } from \"../observer/ConcatObserver\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"ConcatStream\")\r\nexport class ConcatStream extends BaseStream {\r\n    public static create(sources: Array<Stream>) {\r\n        var obj = new this(sources);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _sources: Collection<Stream> = Collection.create<Stream>();\r\n\r\n    constructor(sources: Array<Stream>) {\r\n        super(null);\r\n\r\n        var self = this;\r\n\r\n        //todo don't set scheduler here?\r\n        this.scheduler = sources[0].scheduler;\r\n\r\n        sources.forEach((source) => {\r\n            if (JudgeUtils.isPromise(source)) {\r\n                self._sources.addChild(fromPromise(source));\r\n            }\r\n            else {\r\n                self._sources.addChild(source);\r\n            }\r\n        });\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            count = this._sources.getCount(),\r\n            d = GroupDisposable.create();\r\n\r\n        function loopRecursive(i) {\r\n            if (i === count) {\r\n                observer.completed();\r\n\r\n                return;\r\n            }\r\n\r\n            d.add(self._sources.getChild(i).buildStream(ConcatObserver.create(\r\n                observer, () => {\r\n                    loopRecursive(i + 1);\r\n                })\r\n            ));\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return GroupDisposable.create(d);\r\n    }\r\n}\r\n","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class IgnoreElementsObserver extends Observer {\r\n    public static create(currentObserver: IObserver) {\r\n        return new this(currentObserver);\r\n    }\r\n\r\n    private _currentObserver: IObserver = null;\r\n\r\n    constructor(currentObserver: IObserver) {\r\n        super(null, null, null);\r\n\r\n        this._currentObserver = currentObserver;\r\n    }\r\n\r\n    protected onNext(value) {\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this._currentObserver.completed();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IgnoreElementsObserver } from \"../observer/IgnoreElementsObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"IgnoreElementsStream\")\r\nexport class IgnoreElementsStream extends BaseStream {\r\n    public static create(source: Stream) {\r\n        var obj = new this(source);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n\r\n    constructor(source: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.buildStream(IgnoreElementsObserver.create(observer));\r\n    }\r\n}\r\n","import { root } from \"../global/Variable\";\r\n\r\nroot.requestNextAnimationFrame = (function() {\r\n    var originalRequestAnimationFrame = undefined,\r\n        wrapper = undefined,\r\n        callback = undefined,\r\n        geckoVersion = null,\r\n        userAgent = root.navigator && root.navigator.userAgent,\r\n        index = 0,\r\n        self = this;\r\n\r\n    wrapper = function(time) {\r\n        time = root.performance.now();\r\n        self.callback(time);\r\n    };\r\n\r\n    /*!\r\n     bug!\r\n     below code:\r\n     when invoke b after 1s, will only invoke b, not invoke a!\r\n\r\n     function a(time){\r\n     console.log(\"a\", time);\r\n     webkitRequestAnimationFrame(a);\r\n     }\r\n\r\n     function b(time){\r\n     console.log(\"b\", time);\r\n     webkitRequestAnimationFrame(b);\r\n     }\r\n\r\n     a();\r\n\r\n     setTimeout(b, 1000);\r\n\r\n\r\n\r\n     so use requestAnimationFrame priority!\r\n     */\r\n    if (root.requestAnimationFrame) {\r\n        return requestAnimationFrame;\r\n    }\r\n\r\n\r\n    // Workaround for Chrome 10 bug where Chrome\r\n    // does not pass the time to the animation function\r\n\r\n    if (root.webkitRequestAnimationFrame) {\r\n        // Define the wrapper\r\n\r\n        // Make the switch\r\n\r\n        originalRequestAnimationFrame = root.webkitRequestAnimationFrame;\r\n\r\n        root.webkitRequestAnimationFrame = function(callback, element) {\r\n            self.callback = callback;\r\n\r\n            // Browser calls the wrapper and wrapper calls the callback\r\n\r\n            return originalRequestAnimationFrame(wrapper, element);\r\n        }\r\n    }\r\n\r\n    //修改time参数\r\n    if (root.msRequestAnimationFrame) {\r\n        originalRequestAnimationFrame = root.msRequestAnimationFrame;\r\n\r\n        root.msRequestAnimationFrame = function(callback) {\r\n            self.callback = callback;\r\n\r\n            return originalRequestAnimationFrame(wrapper);\r\n        }\r\n    }\r\n\r\n    // Workaround for Gecko 2.0, which has a bug in\r\n    // mozRequestAnimationFrame() that restricts animations\r\n    // to 30-40 fps.\r\n\r\n    if (root.mozRequestAnimationFrame) {\r\n        // Check the Gecko version. Gecko is used by browsers\r\n        // other than Firefox. Gecko 2.0 corresponds to\r\n        // Firefox 4.0.\r\n\r\n        index = userAgent.indexOf('rv:');\r\n\r\n        if (userAgent.indexOf('Gecko') != -1) {\r\n            geckoVersion = userAgent.substr(index + 3, 3);\r\n\r\n            if (geckoVersion === '2.0') {\r\n                // Forces the return statement to fall through\r\n                // to the setTimeout() function.\r\n\r\n                root.mozRequestAnimationFrame = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    return root.webkitRequestAnimationFrame ||\r\n        root.mozRequestAnimationFrame ||\r\n        root.oRequestAnimationFrame ||\r\n        root.msRequestAnimationFrame ||\r\n\r\n        function(callback, element) {\r\n            var start,\r\n                finish;\r\n\r\n            root.setTimeout(function() {\r\n                start = root.performance.now();\r\n                callback(start);\r\n                finish = root.performance.now();\r\n\r\n                self.timeout = 1000 / 60 - (finish - start);\r\n\r\n            }, self.timeout);\r\n        };\r\n}());\r\n\r\nroot.cancelNextRequestAnimationFrame = root.cancelRequestAnimationFrame\r\n    || root.webkitCancelAnimationFrame\r\n    || root.webkitCancelRequestAnimationFrame\r\n    || root.mozCancelRequestAnimationFrame\r\n    || root.oCancelRequestAnimationFrame\r\n    || root.msCancelRequestAnimationFrame\r\n    || clearTimeout;\r\n\r\n","import { ensure, assert } from \"../../definition/typescript/decorator/contract\";\r\nimport { Log } from \"../Log\";\r\n\r\nexport abstract class TimeController {\r\n    public elapsed: number = null;\r\n    public pauseElapsed: number = 0;\r\n    public pauseTime: number = null;\r\n    public startTime: number = null;\r\n\r\n    public start() {\r\n        this.startTime = this.getNow();\r\n        this.pauseElapsed = null;\r\n    }\r\n\r\n    public stop() {\r\n        this.startTime = null;\r\n    }\r\n\r\n    public pause() {\r\n        this.pauseTime = this.getNow();\r\n    }\r\n\r\n    public resume() {\r\n        this.pauseElapsed += this.getNow() - this.pauseTime;\r\n        this.pauseTime = null;\r\n    }\r\n\r\n    @ensure(function() {\r\n        assert(this.elapsed >= 0, Log.info.FUNC_SHOULD(`elapsed:${this.elapsed}`, \">= 0\"));\r\n    })\r\n    public computeElapseTime(time: number) {\r\n        if (this.pauseElapsed) {\r\n            this.elapsed = time - this.pauseElapsed - this.startTime;\r\n        }\r\n        else {\r\n            this.elapsed = time - this.startTime;\r\n        }\r\n\r\n        if (this.elapsed < 0) {\r\n            this.elapsed = 0;\r\n        }\r\n\r\n        return this.elapsed;\r\n    }\r\n\r\n    protected abstract getNow();\r\n}","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { TimeController } from \"./TimeController\";\r\nimport { root } from \"../../definition/Variable\";\r\n\r\nconst STARTING_FPS = 60,\r\n    GAMETIME_SCALE = 1000;\r\n\r\n@registerClass(\"DirectorTimeController\")\r\nexport class DirectorTimeController extends TimeController {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    public gameTime: number = null;\r\n    public fps: number = null;\r\n    public isTimeChange: boolean = false;\r\n    public deltaTime: number = null;\r\n\r\n    private _lastTime: number = null;\r\n\r\n    public tick(time: number) {\r\n        this.deltaTime = this._lastTime !== null ? time - this._lastTime : time;\r\n        this._updateFps(this.deltaTime);\r\n        this.gameTime = time / GAMETIME_SCALE;\r\n\r\n        this._lastTime = time;\r\n    }\r\n\r\n    public start() {\r\n        super.start();\r\n\r\n        this.isTimeChange = true;\r\n        this.elapsed = 0;\r\n    }\r\n\r\n    public resume() {\r\n        super.resume();\r\n\r\n        this.isTimeChange = true;\r\n    }\r\n\r\n    protected getNow() {\r\n        return root.performance.now();\r\n    }\r\n\r\n    private _updateFps(deltaTime: number) {\r\n        if (this._lastTime === null) {\r\n            this.fps = STARTING_FPS;\r\n        }\r\n        else {\r\n            this.fps = 1000 / deltaTime;\r\n        }\r\n    }\r\n}","import {\r\n    getCanvas, getHeight, getStyleHeight, getStyleWidth, getWidth, setHeight, setStyleWidth, getX, setX, getY, setY,\r\n    setWidth, setCanvas, setStyleHeight\r\n} from \"./ViewSystem\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { getState } from \"../core/DirectorSystem\";\r\nimport { DirectorData } from \"../core/DirectorData\";\r\n\r\n@registerClass(\"View\")\r\nexport class View {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    get dom() {\r\n        return getCanvas(getState(DirectorData));\r\n    }\r\n    // set dom(dom: HTMLCanvasElement) {\r\n    //     setCanvas(dom).run();\r\n    // }\r\n\r\n    get width() {\r\n        return getWidth(this.dom);\r\n    }\r\n    // set width(width: number) {\r\n    //     setWidth(width, this.dom).run();\r\n    // }\r\n\r\n    get height() {\r\n        return getHeight(this.dom);\r\n    }\r\n    // set height(height: number) {\r\n    //     setHeight(height, this.dom).run();\r\n    // }\r\n\r\n    get styleWidth() {\r\n        return getStyleWidth(this.dom);\r\n    }\r\n    // set styleWidth(styleWidth: string) {\r\n    //     setStyleWidth(styleWidth, this.dom).run();\r\n    // }\r\n\r\n    get styleHeight() {\r\n        return getStyleHeight(this.dom);\r\n    }\r\n    // set styleHeight(styleHeight: string) {\r\n    //     setStyleHeight(styleHeight, this.dom).run();\r\n    // }\r\n\r\n    get x() {\r\n        return getX(this.dom);\r\n    }\r\n    // set x(x: number) {\r\n    //     setX(x, this.dom).run();\r\n    // }\r\n\r\n    get y() {\r\n        return getY(this.dom);\r\n    }\r\n    // set y(y: number) {\r\n    //     setY(y, this.dom).run();\r\n    // }\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../../definition/typescript/decorator/singleton\";\r\n// import { createGL, getGL, getViewport, setGL, setScreen } from \"./DeviceManagerSystem\";\r\nimport { createGL, getGL, getViewport, setGL } from \"./DeviceManagerSystem\";\r\nimport { View } from \"../../structure/View\";\r\nimport { getState } from \"../../core/DirectorSystem\";\r\nimport { DirectorData } from \"../../core/DirectorData\";\r\nimport { it, requireCheck } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { getCanvas } from \"../../structure/ViewSystem\";\r\nimport { fromJS } from \"immutable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { DeviceManagerData } from \"./DeviceManagerData\";\r\nimport { ContextConfigData } from \"../../definition/type/mainType\";\r\n\r\n//todo change to function\r\n\r\n/*!\r\n DeviceManager is responsible for global setting of gl\r\n */\r\n@singleton()\r\n@registerClass(\"DeviceManager\")\r\nexport class DeviceManager {\r\n    public static getInstance(): any { }\r\n\r\n    get gl() {\r\n        return getGL(DeviceManagerData, getState(DirectorData));\r\n    }\r\n    // set gl(gl: WebGLRenderingContext) {\r\n    //     setGL(gl, getState(DirectorData));\r\n    // }\r\n\r\n    get viewport() {\r\n        return getViewport(getState(DirectorData));\r\n    }\r\n\r\n    public view: View = View.create();\r\n\r\n    private constructor() { }\r\n\r\n    public createGL(canvasId: string, contextConfig: ContextConfigData) {\r\n        return createGL(canvasId, fromJS(contextConfig), getState(DirectorData));\r\n    }\r\n\r\n    //todo open setScreen\r\n    // @requireCheck(() => {\r\n    //     it(\"canvas should be setter\", () => {\r\n    //         expect(getCanvas(getState(DirectorData))).exist;\r\n    //     });\r\n    // })\r\n    // public setScreen() {\r\n    //     return setScreen(DeviceManagerData, getState(DirectorData));\r\n    // }\r\n}\r\n\r\nexport var setDeviceManagerGL = (gl: WebGLRenderingContext) => {\r\n    return setGL(gl, DeviceManagerData, getState(DirectorData));\r\n}\r\n","import { Collection } from \"./Collection\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\nimport { Log } from \"./Log\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\n\r\nexport class Hash<T> {\r\n    public static create<T>(children = {}) {\r\n        var obj = new this(<{ [s: string]: T }>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: { [s: string]: T } = {}) {\r\n        this._children = children;\r\n    }\r\n\r\n    private _children: {\r\n        [s: string]: T\r\n    } = null;\r\n\r\n    public getChildren() {\r\n        return this._children;\r\n    }\r\n\r\n    public getCount() {\r\n        var result = 0,\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result++;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getKeys() {\r\n        var result = Collection.create<string>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(key);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getValues() {\r\n        var result = Collection.create<T>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(children[key]);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getChild(key: string) {\r\n        return this._children[key];\r\n    }\r\n\r\n    public setValue(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChild(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: {} | Hash<T>) {\r\n        var i = null,\r\n            children = null;\r\n\r\n        if (arg instanceof Hash) {\r\n            children = arg.getChildren();\r\n        }\r\n        else {\r\n            children = arg;\r\n        }\r\n\r\n        for (i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                this.addChild(i, children[i]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public appendChild(key: string, value: any) {\r\n        if (this._children[key] instanceof Collection) {\r\n            let c = <any>(this._children[key]);\r\n\r\n            c.addChild(<T>value);\r\n        }\r\n        else {\r\n            this._children[key] = <any>(Collection.create<any>().addChild(value));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public setChildren(children: { [s: string]: T }) {\r\n        this._children = children;\r\n    }\r\n\r\n    public removeChild(arg: any): Collection<T> {\r\n        var result = [];\r\n\r\n        if (JudgeUtils.isString(arg)) {\r\n            let key = <string>arg;\r\n\r\n            result.push(this._children[key]);\r\n\r\n            this._children[key] = void 0;\r\n            delete this._children[key];\r\n        }\r\n        else if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg,\r\n                self = this;\r\n\r\n            this.forEach((val: any, key: string) => {\r\n                if (func(val, key)) {\r\n                    result.push(self._children[key]);\r\n\r\n                    self._children[key] = void 0;\r\n                    delete self._children[key];\r\n                }\r\n            });\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this._children = {};\r\n    }\r\n\r\n    public hasChild(key: string): boolean {\r\n        return this._children[key] !== void 0;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        var result = false;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (func(val, key)) {\r\n                result = true;\r\n                return $BREAK;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        var children = this._children;\r\n\r\n        for (let i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                if (func.call(context, children[i], i) === $BREAK) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public filter(func: Function): Hash<T> {\r\n        var result = {},\r\n            children = this._children,\r\n            value = null;\r\n\r\n        for (let key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                value = children[key];\r\n\r\n                if (func.call(children, value, key)) {\r\n                    result[key] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n        return Hash.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: Function) {\r\n        var result = [],\r\n            self = this,\r\n            scope = this._children;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (!func.call(scope, val, key)) {\r\n                return;\r\n            }\r\n\r\n            result = [key, self.getChild(key)];\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public map(func: Function): Hash<T> {\r\n        var resultMap = {};\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            var result = func(val, key);\r\n\r\n            if (result !== $REMOVE) {\r\n                Log.error(!JudgeUtils.isArray(result) || result.length !== 2, Log.info.FUNC_MUST_BE(\"iterator\", \"[key, value]\"));\r\n\r\n                resultMap[result[0]] = result[1];\r\n            }\r\n        });\r\n\r\n        return Hash.create<T>(resultMap);\r\n    }\r\n\r\n    public toCollection(): Collection<any> {\r\n        var result = Collection.create<any>();\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result.addChildren(val);\r\n            }\r\n            //else if(val instanceof Hash){\r\n            //    Log.error(true, Log.info.FUNC_NOT_SUPPORT(\"toCollection\", \"value is Hash\"));\r\n            //}\r\n            else {\r\n                result.addChild(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public toArray(): Array<T> {\r\n        var result = [];\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result = result.concat(val.getChildren());\r\n            }\r\n            else {\r\n                result.push(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Hash<T>);\r\n    public clone(target: Hash<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Hash<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Hash.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Hash.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this._children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend({}, this._children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n}","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { TimeController } from \"./TimeController\";\r\nimport { Director } from \"../../core/Director\";\r\nimport { root } from \"../../definition/Variable\";\r\n\r\n@registerClass(\"CommonTimeController\")\r\nexport class CommonTimeController extends TimeController {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    protected getNow() {\r\n        if (Director.getInstance().isTimeChange) {\r\n            return Director.getInstance().elapsed;\r\n        }\r\n\r\n        return root.performance.now();\r\n    }\r\n}","import { Hash } from \"wonder-commonlib/dist/es2015/Hash\";\r\nimport { CommonTimeController } from \"../utils/time/CommonTimeController\";\r\n\r\nexport class Scheduler {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _scheduleCount = 0;\r\n    private _schedules: Hash<any> = Hash.create<any>();\r\n\r\n    public update(elapsed: number) {\r\n        this._schedules.forEach((scheduleItem: any, scheduleId: string) => {\r\n            if (scheduleItem.isStop || scheduleItem.isPause) {\r\n                return;\r\n            }\r\n\r\n            scheduleItem.update(elapsed);\r\n\r\n            if (scheduleItem.isFinish) {\r\n                this.remove(scheduleId);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * schedule the task to each frame\r\n     * @param task\r\n     * @param args\r\n     * @returns {string} schedule id\r\n     */\r\n    public scheduleLoop(task: Function, args: Array<any> = []) {\r\n        return this._schedule(LoopScheduleItem, Array.prototype.slice.call(arguments, 0));\r\n    }\r\n\r\n    /**\r\n     * schedule the task to the next speficied frame\r\n     * @param task\r\n     * @param {number} frame\r\n     * @param args\r\n     * @returns {string} schedule id\r\n     */\r\n    public scheduleFrame(task, frame = 1, args?) {\r\n        return this._schedule(FrameScheduleItem, Array.prototype.slice.call(arguments, 0));\r\n    }\r\n\r\n    /**\r\n     * schedule the task to internal, like setInterval\r\n     * @param task\r\n     * @param time\r\n     * @param args\r\n     * @returns {string} schedule id\r\n     */\r\n    public scheduleInterval(task, time = 0, args?) {\r\n        return this._schedule(IntervalScheduleItem, Array.prototype.slice.call(arguments, 0));\r\n    }\r\n\r\n    /**\r\n     * schedule the task to time, like setTimeout\r\n     * @param task\r\n     * @param time\r\n     * @param args\r\n     * @returns {string} schedule id\r\n     */\r\n    public scheduleTime(task, time = 0, args?) {\r\n        return this._schedule(TimeScheduleItem, Array.prototype.slice.call(arguments, 0));\r\n    }\r\n\r\n    /**\r\n     * pause the specified schedule\r\n     * @param scheduleId\r\n     */\r\n    public pause(scheduleId?: string) {\r\n        if (arguments.length === 0) {\r\n            let self = this;\r\n\r\n            this._schedules.forEach((scheduleItem: any, scheduleId: string) => {\r\n                self.pause(scheduleId);\r\n            });\r\n        }\r\n        else if (arguments.length === 1) {\r\n            let scheduleItem = this._schedules.getChild(arguments[0]);\r\n\r\n            scheduleItem.pause();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * resume the specified schedule\r\n     * @param scheduleId\r\n     */\r\n    public resume(scheduleId?: string) {\r\n        if (arguments.length === 0) {\r\n            let self = this;\r\n\r\n            this._schedules.forEach((scheduleItem: any, scheduleId: string) => {\r\n                self.resume(scheduleId);\r\n            });\r\n        }\r\n        else if (arguments.length === 1) {\r\n            let scheduleItem = this._schedules.getChild(arguments[0]);\r\n\r\n            scheduleItem.resume();\r\n        }\r\n    }\r\n\r\n    public start(scheduleId?: string) {\r\n        if (arguments.length === 0) {\r\n            let self = this;\r\n\r\n            this._schedules.forEach((scheduleItem: any, scheduleId: string) => {\r\n                self.start(scheduleId);\r\n            });\r\n        }\r\n        else if (arguments.length === 1) {\r\n            let scheduleItem = this._schedules.getChild(arguments[0]);\r\n\r\n            scheduleItem.start();\r\n        }\r\n    }\r\n\r\n    public stop(scheduleId?: string) {\r\n        if (arguments.length === 0) {\r\n            let self = this;\r\n\r\n            this._schedules.forEach((scheduleItem: any, scheduleId: string) => {\r\n                self.stop(scheduleId);\r\n            });\r\n        }\r\n        else if (arguments.length === 1) {\r\n            let scheduleItem = this._schedules.getChild(arguments[0]);\r\n\r\n            scheduleItem.stop();\r\n        }\r\n    }\r\n\r\n    public has(scheduleId: string) {\r\n        return !!this._schedules.hasChild(scheduleId)\r\n    }\r\n\r\n    /**\r\n     * remove the specify schedule by id\r\n     * @param id\r\n     */\r\n    public remove(scheduleId: string) {\r\n        this._schedules.removeChild(scheduleId);\r\n    }\r\n\r\n    public removeAll() {\r\n        this._schedules.removeAllChildren();\r\n    }\r\n\r\n    private _schedule(_class: any, args: Array<any>) {\r\n        var scheduleId = this._buildId();\r\n\r\n        this._schedules.setValue(scheduleId, _class.create.apply(_class, args));\r\n\r\n        return scheduleId;\r\n    }\r\n\r\n    private _buildId() {\r\n        return 'Schedule_' + (this._scheduleCount++);\r\n    }\r\n}\r\n\r\nclass ScheduleItem {\r\n    constructor(task: Function, args: Array<any>) {\r\n        this.task = task;\r\n        this.args = args;\r\n    }\r\n\r\n    public isPause: boolean = false;\r\n    public isStop: boolean = false;\r\n    public pauseTime: number = null;\r\n    public pauseElapsed: number = null;\r\n    public startTime: number = null;\r\n    public isFinish: boolean = false;\r\n\r\n    protected task: Function = null;\r\n    protected args: Array<any> = null;\r\n    protected timeController: CommonTimeController = CommonTimeController.create();\r\n\r\n    /**\r\n     * pause the specified schedule\r\n     * @param scheduleId\r\n     */\r\n    public pause() {\r\n        this.isPause = true;\r\n        this.timeController.pause();\r\n    }\r\n\r\n    /**\r\n     * resume the specified schedule\r\n     * @param scheduleId\r\n     */\r\n    public resume() {\r\n        this.isPause = false;\r\n        this.timeController.resume();\r\n    }\r\n\r\n    public start() {\r\n        this.isStop = false;\r\n        this.timeController.start();\r\n    }\r\n\r\n    public stop() {\r\n        this.isStop = true;\r\n        this.timeController.stop();\r\n    }\r\n\r\n    public finish() {\r\n        this.isFinish = true;\r\n    }\r\n}\r\n\r\nclass TimeScheduleItem extends ScheduleItem {\r\n    public static create(task: Function, time: number = 0, args: Array<any> = []) {\r\n        var obj = new this(task, time, args);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(task: Function, time: number = 0, args: Array<any> = []) {\r\n        super(task, args);\r\n\r\n        this._time = time;\r\n    }\r\n\r\n    private _time: number = null;\r\n\r\n    public update(elapsed: number) {\r\n        var elapsed = this.timeController.computeElapseTime(elapsed);\r\n\r\n        if (elapsed >= this._time) {\r\n            this.task.apply(this, this.args);\r\n            this.finish();\r\n        }\r\n    }\r\n}\r\n\r\nclass IntervalScheduleItem extends ScheduleItem {\r\n    public static create(task: Function, time: number = 0, args: Array<any> = []) {\r\n        var obj = new this(task, time, args);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(task: Function, time: number = 0, args: Array<any> = []) {\r\n        super(task, args);\r\n\r\n        this._intervalTime = time;\r\n    }\r\n\r\n    private _intervalTime: number = null;\r\n    private _elapsed: number = 0;\r\n\r\n    public update(elapsed: number) {\r\n        var elapsed = this.timeController.computeElapseTime(elapsed);\r\n\r\n        if (elapsed - this._elapsed >= this._intervalTime) {\r\n            this.task.apply(this, this.args);\r\n            this._elapsed = elapsed;\r\n        }\r\n    }\r\n\r\n    public start() {\r\n        super.start();\r\n\r\n        this._elapsed = 0;\r\n    }\r\n}\r\n\r\nclass LoopScheduleItem extends ScheduleItem {\r\n    public static create(task: Function, args: Array<any> = []) {\r\n        var obj = new this(task, args);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public update(elapsed: number) {\r\n        this.task.apply(this, this.args);\r\n    }\r\n}\r\n\r\nclass FrameScheduleItem extends ScheduleItem {\r\n    public static create(task: Function, frame: number = 1, args: Array<any> = []) {\r\n        var obj = new this(task, frame, args);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(task: Function, frame: number = 1, args: Array<any> = []) {\r\n        super(task, args);\r\n\r\n        this._frame = frame;\r\n    }\r\n\r\n    private _frame: number = null;\r\n\r\n    public update(elapsed: number) {\r\n        this._frame--;\r\n\r\n        if (this._frame <= 0) {\r\n            this.task.apply(this, this.args);\r\n            this.finish();\r\n        }\r\n    }\r\n}\r\n","import \"wonder-frp/dist/es2015/stream/ConcatStream\";\r\nimport \"wonder-frp/dist/es2015/stream/IgnoreElementsStream\";\r\nimport \"wonder-frp/dist/es2015/extend/root\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../definition/typescript/decorator/singleton\";\r\nimport { IDisposable } from \"wonder-frp/dist/es2015/Disposable/IDisposable\";\r\nimport { DirectorTimeController } from \"../utils/time/DirectorTimeController\";\r\n// import { WebGLRenderer } from \"../renderer/renderer/WebGLRenderer\";\r\nimport { callFunc, intervalRequest } from \"wonder-frp/dist/es2015/global/Operator\";\r\n// import { GameObjectScene } from \"./entityObject/scene/gameObjectScene/GameObjectScene\";\r\n// import { BasicState } from \"../renderer/state/BasicState\";\r\n// import { EventManager } from \"../event/EventManager\";\r\n// import { CustomEvent } from \"../event/object/CustomEvent\";\r\n// import { EEngineEvent } from \"../event/EEngineEvent\";\r\nimport {\r\n    init as initTransform, initData as initThreeDTransformData, addAddComponentHandle as addThreeDTransformAddComponentHandle, addDisposeHandle as addThreeDTransformDisposeHandle, update as updateTransform\r\n} from \"../component/transform/ThreeDTransformSystem\";\r\nimport { getState, render, run, setState } from \"./DirectorSystem\";\r\nimport { DirectorData } from \"./DirectorData\";\r\nimport { ThreeDTransformData } from \"../component/transform/ThreeDTransformData\";\r\nimport { Map } from \"immutable\";\r\nimport { GlobalTempData } from \"../definition/GlobalTempData\";\r\nimport { Scene } from \"./entityObject/scene/Scene\";\r\nimport { GameObjectData } from \"./entityObject/gameObject/GameObjectData\";\r\nimport { create, initData as initSceneData } from \"./entityObject/scene/SceneSystem\";\r\nimport {\r\n    addAddComponentHandle as addGeometryAddComponentHandle, addDisposeHandle as addGeometryDisposeHandle, addInitHandle as addGeometryInitHandle,\r\n    init as initGeometry, initData as initGeometryData\r\n} from \"../component/geometry/GeometrySystem\";\r\nimport { init as initRenderer } from \"../renderer/render/WebGLRenderSystem\";\r\nimport { GeometryData } from \"../component/geometry/GeometryData\";\r\nimport { Geometry } from \"../component/geometry/Geometry\";\r\nimport {\r\n    addAddComponentHandle as addMaterialAddComponentHandle, addDisposeHandle as addMaterialDisposeHandle,\r\n    addInitHandle as addMaterialInitHandle\r\n} from \"../component/material/MaterialSystem\";\r\nimport {\r\n    addAddComponentHandle as addMeshRendererAddComponentHandle,\r\n    addDisposeHandle as addMeshRendererDisposeHandle\r\n} from \"../component/renderer/MeshRendererSystem\";\r\nimport { addAddComponentHandle as addTagAddComponentHandle, addDisposeHandle as addTagDisposeHandle } from \"../component/tag/TagSystem\";\r\nimport { Tag } from \"../component/tag/Tag\";\r\nimport { ThreeDTransform } from \"../component/transform/ThreeDTransform\";\r\nimport { Material } from \"../component/material/Material\";\r\nimport { MeshRenderer } from \"../component/renderer/MeshRenderer\";\r\nimport {\r\n    addAddComponentHandle as addCameraControllerAddComponentHandle, addDisposeHandle as addCameraControllerDisposeHandle, init as initCameraController,\r\n    update as updateCameraController\r\n} from \"../component/camera/CameraControllerSystem\";\r\nimport { PerspectiveCameraData } from \"../component/camera/PerspectiveCameraData\";\r\nimport { CameraData } from \"../component/camera/CameraData\";\r\nimport { CameraControllerData } from \"../component/camera/CameraControllerData\";\r\nimport { CameraController } from \"../component/camera/CameraController\";\r\nimport { DeviceManager } from \"../renderer/device/DeviceManager\";\r\nimport { Scheduler } from \"./Scheduler\";\r\nimport { SendDrawRenderCommandBufferData } from \"../renderer/worker/logic_file/draw/SendDrawRenderCommandBufferData\";\r\nimport { ERenderWorkerState } from \"../renderer/worker/both_file/ERenderWorkerState\";\r\n\r\n@singleton(true)\r\n@registerClass(\"Director\")\r\nexport class Director {\r\n    public static getInstance(): any { };\r\n\r\n    private constructor() { }\r\n\r\n    get view() {\r\n        return DeviceManager.getInstance().view;\r\n    }\r\n\r\n    // public scene: SceneDispatcher = null;\r\n    public scene: Scene = create(GameObjectData);\r\n    // public renderer: Renderer = null;\r\n    public scheduler: Scheduler = null;\r\n\r\n    private _gameLoop: IDisposable = null;\r\n    // private _gameState: EGameState = EGameState.NORMAL;\r\n    private _timeController: DirectorTimeController = DirectorTimeController.create();\r\n    // private _transformSystem: ThreeDTransformSystem = ThreeDTransformSystem.create();\r\n\r\n    public initWhenCreate() {\r\n        // this.scene = SceneDispatcher.create();\r\n        // this.renderer = WebGLRenderer.create();\r\n        this.scheduler = Scheduler.create();\r\n    }\r\n\r\n    public start() {\r\n        // this._gameState = EGameState.NORMAL;\r\n\r\n        this._startLoop();\r\n    }\r\n\r\n    private _startLoop() {\r\n        var self = this;\r\n\r\n        // console.log(IgnoreElementsStream, ConcatStream);\r\n\r\n        this._gameLoop = this._buildInitStream()\r\n            .ignoreElements()\r\n            .concat(this._buildLoopStream())\r\n            .subscribe((time) => {\r\n                //todo need polyfill\r\n                /*!\r\n                 I assume that the time is DOMHighResTimeStamp, but it may be DOMTimeStamp in some browser!\r\n                 so it need polyfill\r\n                 */\r\n                setState(self._loopBody(time, getState(DirectorData)), DirectorData).run();\r\n                // }, (e) => {\r\n                //     console.error(e);\r\n                //     throw e;\r\n                // });\r\n            });\r\n    }\r\n\r\n    private _buildInitStream() {\r\n        return callFunc(() => {\r\n            setState(this._init(getState(DirectorData)), DirectorData);\r\n        }, this);\r\n    }\r\n\r\n    private _init(state: Map<any, any>) {\r\n        var resultState = state;\r\n\r\n        // resultState = this._initGameObjectScene(resultState);\r\n        resultState = this._initSystem(resultState);\r\n\r\n        resultState = this._initRenderer(resultState);\r\n\r\n        // this.renderer.init();\r\n\r\n        this._timeController.start();\r\n        this.scheduler.start();\r\n\r\n        return resultState;\r\n    }\r\n\r\n    // private _initGameObjectScene(state: Map<any, any>) {\r\n    //     var resultState = state,\r\n    //         gameObjectScene: GameObjectScene = this.scene.gameObjectScene;\r\n    //\r\n    //     gameObjectScene.init(resultState);\r\n    //\r\n    //     return resultState;\r\n    // }\r\n\r\n    private _initSystem(state: Map<any, any>) {\r\n        var resultState = initTransform(GlobalTempData, ThreeDTransformData, state);\r\n\r\n        resultState = initGeometry(GeometryData, state);\r\n\r\n        resultState = initCameraController(PerspectiveCameraData, CameraData, CameraControllerData, state);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _initRenderer(state: Map<any, any>) {\r\n        var resultState = initRenderer(state);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _buildLoopStream() {\r\n        return intervalRequest();\r\n    }\r\n\r\n    private _loopBody(time: number, state: Map<any, any>) {\r\n        var elapsed: number = null;\r\n\r\n        // if (this._gameState === EGameState.PAUSE || this._gameState === EGameState.STOP) {\r\n        //     return false;\r\n        // }\r\n\r\n        elapsed = this._timeController.computeElapseTime(time);\r\n\r\n        return run(elapsed, state, this._timeController, this.scheduler);\r\n    }\r\n}\r\n\r\naddGeometryAddComponentHandle(Geometry);\r\naddGeometryDisposeHandle(Geometry);\r\naddGeometryInitHandle(Geometry);\r\n\r\naddMaterialAddComponentHandle(Material);\r\naddMaterialDisposeHandle(Material);\r\naddMaterialInitHandle(Material);\r\n\r\naddMeshRendererAddComponentHandle(MeshRenderer);\r\naddMeshRendererDisposeHandle(MeshRenderer);\r\n\r\naddTagAddComponentHandle(Tag);\r\naddTagDisposeHandle(Tag);\r\n\r\naddThreeDTransformAddComponentHandle(ThreeDTransform);\r\naddThreeDTransformDisposeHandle(ThreeDTransform);\r\n\r\naddCameraControllerAddComponentHandle(CameraController);\r\naddCameraControllerDisposeHandle(CameraController);\r\n\r\n","import { GameObject } from \"../gameObject/GameObject\";\r\nimport { it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { isAlive } from \"../gameObject/GameObjectSystem\";\r\nimport { GameObjectData } from \"../gameObject/GameObjectData\";\r\nimport { addChild, removeChild } from \"./SceneSystem\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { ThreeDTransformData } from \"../../../component/transform/ThreeDTransformData\";\r\nimport { SceneData } from \"./SceneData\";\r\n\r\nexport class Scene extends GameObject {\r\n}\r\n\r\nexport var addSceneChild = requireCheckFunc((scene: Scene, gameObject: GameObject) => {\r\n    it(\"scene should alive\", () => {\r\n        expect(isAlive(scene, GameObjectData)).true;\r\n    });\r\n}, (scene: Scene, gameObject: GameObject) => {\r\n    addChild(scene, gameObject, ThreeDTransformData, GameObjectData, SceneData);\r\n})\r\n\r\nexport var removeSceneChild = requireCheckFunc((scene: Scene, gameObject: GameObject) => {\r\n    it(\"scene should alive\", () => {\r\n        expect(isAlive(scene, GameObjectData)).true;\r\n    });\r\n}, (scene: Scene, gameObject: GameObject) => {\r\n    removeChild(scene, gameObject, ThreeDTransformData, GameObjectData);\r\n})\r\n","import {\r\n    // disableVertexAttribArray as disableVertexAttribArrayUtils,\r\n    // getMaterialShaderLibConfig as getMaterialShaderLibConfigUtils, getProgram as getProgramUtils,\r\n    initData as initDataUtils\r\n    // initShader as initShaderUtils, isProgramExist as isProgramExistUtils, registerProgram as registerProgramUtils,\r\n    // sendAttributeData as sendAttributeDataUtils,\r\n    // sendUniformData as sendUniformDataUtils,\r\n    // use as useUtils\r\n} from \"../../utils/shader/program/programUtils\";\r\n// import { getVertices } from \"../../../component/geometry/GeometrySystem\";\r\n\r\n// export var use = useUtils;\r\n\r\n// export var disableVertexAttribArray = disableVertexAttribArrayUtils;\r\n\r\n// export var getMaterialShaderLibConfig = getMaterialShaderLibConfigUtils;\r\n\r\n// export var registerProgram = registerProgramUtils;\r\n\r\n// export var getProgram = getProgramUtils;\r\n\r\n// export var isProgramExist = isProgramExistUtils;\r\n\r\n// export var initShader = initShaderUtils;\r\n\r\n// export var sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, ProgramData:any, LocationData: any, GLSLSenderData:any, GeometryData: any, ArrayBufferData: any) => {\r\n//     sendAttributeDataUtils(gl, shaderIndex, geometryIndex, getVertices, ProgramData, LocationData, GLSLSenderData, GeometryData, ArrayBufferData);\r\n// }\r\n\r\n// export var sendUniformData = sendUniformDataUtils;\r\n\r\nexport var initData = initDataUtils;\r\n","import { GPUDetector } from \"./GPUDetector\";\r\nimport { Map } from \"immutable\";\r\nimport curry from \"wonder-lodash/curry\";\r\n\r\n//todo extract more logic from GPUDetector here\r\n\r\nexport var detect = curry((getGL: Function, DeviceManagerDataFromSystem: any, state: Map<any, any>) => {\r\n    return GPUDetector.getInstance().detect(state, getGL, DeviceManagerDataFromSystem);\r\n})\r\n","import { EWorkerOperateType } from \"../EWorkerOperateType\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n    clear as clearUtils,\r\n    getGL as getGLUtils, getViewport as getViewportUtils,\r\n    initData as initDataUtils, setCanvasPixelRatio as setCanvasPixelRatioUtils,\r\n    setColorWrite as setColorWriteUtils, setContextConfig as setContextConfigUtils,\r\n    setGL as setGLUtils, setPixelRatio as setPixelRatioUtils, setScreen as setScreenUtils, setViewport as setViewportUtils\r\n} from \"../../../utils/device/deviceManagerUtils\";\r\nimport { chain, compose } from \"../../../../utils/functionalUtils\";\r\nimport { setHeight, setStyleHeight, setStyleWidth, setWidth, setY, setX } from \"../../../../structure/ViewSystem\";\r\nimport { ScreenData, ViewportData } from \"../../../type/messageDataType\";\r\nimport { isValueExist } from \"../../../../utils/stateUtils\";\r\nimport { setRenderWorker } from \"../../logic_file/worker_instance/WorkerInstanceSystem\";\r\nimport { Color } from \"../../../../structure/Color\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\n\r\nexport var createGL = curry((canvas: HTMLCanvasElement, WorkerInstanceData: any, contextConfig: Map<string, any>, viewportData: ViewportData, renderWorkerFilePath: string) => {\r\n    return IO.of(() => {\r\n        var offscreen = (<any>canvas).transferControlToOffscreen(),\r\n            renderWorker = new Worker(renderWorkerFilePath);\r\n\r\n        renderWorker.postMessage({\r\n            operateType: EWorkerOperateType.INIT_GL,\r\n            canvas: offscreen,\r\n            options: contextConfig.get(\"options\").toObject(),\r\n            viewportData: viewportData\r\n        }, [offscreen]);\r\n\r\n        setRenderWorker(renderWorker, WorkerInstanceData);\r\n    })\r\n})\r\n\r\nexport var setContextConfig = setContextConfigUtils;\r\n\r\nexport var getGL = getGLUtils;\r\n\r\nexport var setGL = setGLUtils;\r\n\r\nexport var setPixelRatio = setPixelRatioUtils;\r\n\r\nexport var getViewport = getViewportUtils;\r\n\r\nexport var setViewport = curry((viewportData: ViewportData | null, state: Map<any, any>) => {\r\n    if (viewportData === null) {\r\n        return state;\r\n    }\r\n\r\n    return setViewportUtils(viewportData.x, viewportData.y, viewportData.width, viewportData.height, state);\r\n});\r\n\r\nexport var getViewportData = (screenData: ScreenData, state: Map<any, any>) => {\r\n    var oldViewportData = getViewport(state),\r\n        {\r\n            x,\r\n            y,\r\n            width,\r\n            height\r\n        } = screenData;\r\n\r\n    if (isValueExist(oldViewportData) && oldViewportData.x === x && oldViewportData.y === y && oldViewportData.width === width && oldViewportData.height === height) {\r\n        return null;\r\n    }\r\n\r\n    return {\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height\r\n    }\r\n}\r\n\r\nexport var setViewportOfGL = curry((DeviceManagerWorkerData: any, {\r\n    x,\r\n    y,\r\n    width,\r\n    height\r\n}, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        var gl = getGL(DeviceManagerWorkerData, state);\r\n\r\n        gl.viewport(x, y, width, height);\r\n\r\n        return state;\r\n    });\r\n})\r\n\r\nexport var setScreen = curry((canvas: HTMLCanvasElement, DeviceManagerWorkerData: any, state: Map<any, any>) => {\r\n    return setScreenUtils(canvas, _setScreenData, DeviceManagerWorkerData, state);\r\n});\r\n\r\nvar _setScreenData = curry((DeviceManagerWorkerData: any, canvas: HTMLCanvasElement, state: Map<any, any>, data: any) => {\r\n    var {\r\n        x,\r\n        y,\r\n        width,\r\n        height,\r\n        styleWidth,\r\n        styleHeight\r\n    } = data;\r\n\r\n    return IO.of(() => {\r\n        compose(chain(setStyleWidth(styleWidth)), chain(setStyleHeight(styleHeight)), chain(setHeight(height)), chain(setWidth(width)), chain(setY(y)), setX(x))(canvas).run();\r\n\r\n        return data;\r\n    });\r\n})\r\n\r\nexport var setCanvasPixelRatio = curry((useDevicePixelRatio: boolean, canvas: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        if (!useDevicePixelRatio) {\r\n            return null;\r\n        }\r\n\r\n        return setCanvasPixelRatioUtils(useDevicePixelRatio, canvas).run();\r\n    });\r\n});\r\n\r\nexport var clear = clearUtils;\r\n\r\nexport var setColorWrite = setColorWriteUtils;\r\n\r\nexport var initData = initDataUtils;\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { ensureFunc, it } from \"../../definition/typescript/decorator/contract\";\r\nimport { getRenderWorkerFilePath, isSupportRenderWorkerAndSharedArrayBuffer } from \"../../device/WorkerDetectSystem\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { chain, compose, map } from \"../../utils/functionalUtils\";\r\nimport { createGL, getGL, setCanvasPixelRatio as setCanvasPixelRatioFromDeviceManagerSystem, setScreen as setScreenFromDeviceManagerSystem } from \"./DeviceManagerSystem\";\r\nimport { detect } from \"./GPUDetectorSystem\";\r\nimport {\r\n    createGL as createGLWorker, getViewportData,\r\n    setCanvasPixelRatio as setCanvasPixelRatioFromDeviceManagerWorkerSystem,\r\n    setContextConfig, setPixelRatio,\r\n    setScreen as setScreenFromDeviceManagerWorkerSystem, setViewport\r\n} from \"../worker/both_file/device/DeviceManagerWorkerSystem\";\r\nimport { DeviceManagerData } from \"./DeviceManagerData\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { setCanvas } from \"../../structure/ViewSystem\";\r\nimport { ViewportData } from \"../type/messageDataType\";\r\nimport { Map } from \"immutable\";\r\nimport { WorkerInstanceData } from \"../worker/logic_file/worker_instance/WorkerInstanceData\";\r\n\r\nexport var initDevice = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    initDevice = curry((contextConfig: Map<string, any>, state: Map<any, any>, configState: Map<any, any>, canvas: HTMLCanvasElement) => {\r\n        return IO.of(() => {\r\n            var screenData = setScreenFromDeviceManagerWorkerSystem(canvas, null, state).run(),\r\n                viewportData: ViewportData = getViewportData(screenData, state);\r\n\r\n            createGLWorker(canvas, WorkerInstanceData, contextConfig, viewportData, getRenderWorkerFilePath()).run();\r\n\r\n            return compose(\r\n                setCanvas(canvas),\r\n                setContextConfig(contextConfig),\r\n                setViewport(viewportData),\r\n                setPixelRatio(setCanvasPixelRatioFromDeviceManagerWorkerSystem(configState.get(\"useDevicePixelRatio\"), canvas).run())\r\n            )(state);\r\n        });\r\n    });\r\n}\r\nelse {\r\n    initDevice = curry((contextConfig: Map<string, any>, state: Map<any, any>, configState: Map<any, any>, canvas: HTMLCanvasElement) => {\r\n        return compose(\r\n            map(detect(getGL, DeviceManagerData)),\r\n            chain(setCanvasPixelRatioFromDeviceManagerSystem(configState.get(\"useDevicePixelRatio\"), canvas)),\r\n            chain(setScreenFromDeviceManagerSystem(canvas, DeviceManagerData)),\r\n            createGL,\r\n        )(canvas, contextConfig, DeviceManagerData, state);\r\n    });\r\n}\r\n\r\nexport var createCanvas = curry((DomQuery: any, domID: string) => {\r\n    return IO.of(() => {\r\n        if (domID !== \"\") {\r\n            return DomQuery.create(_getCanvasID(domID)).get(0);\r\n        }\r\n\r\n        return DomQuery.create(\"<canvas></canvas>\").prependTo(\"body\").get(0);\r\n    })\r\n})\r\n\r\nvar _getCanvasID = ensureFunc((id: string) => {\r\n    it(\"dom id should be #string\", () => {\r\n        expect(/#[^#]+/.test(id)).true;\r\n    });\r\n}, (domID: string) => {\r\n    if (domID.indexOf('#') > -1) {\r\n        return domID;\r\n    }\r\n\r\n    return `#${domID}`;\r\n});\r\n\r\n","import { GeometryData } from \"../component/geometry/GeometryData\";\r\nimport { PerspectiveCameraData } from \"../component/camera/PerspectiveCameraData\";\r\nimport { CameraData } from \"../component/camera/CameraData\";\r\nimport { CameraControllerData } from \"../component/camera/CameraControllerData\";\r\nimport { ThreeDTransformData } from \"../component/transform/ThreeDTransformData\";\r\nimport { GameObjectData } from \"./entityObject/gameObject/GameObjectData\";\r\nimport { GlobalTempData } from \"../definition/GlobalTempData\";\r\nimport { initData as initSceneData } from \"./entityObject/scene/SceneSystem\";\r\nimport {\r\n    initData as initThreeDTransformData\r\n} from \"../component/transform/ThreeDTransformSystem\";\r\nimport {\r\n    initData as initGeometryData\r\n} from \"../component/geometry/GeometrySystem\";\r\nimport { initData as initShaderData } from \"../renderer/shader/ShaderSystem\";\r\nimport { ShaderData } from \"../renderer/shader/ShaderData\";\r\nimport { DataBufferConfig } from \"../config/DataBufferConfig\";\r\nimport {\r\n    initData as initMaterialData\r\n} from \"../component/material/MaterialSystem\";\r\nimport { MaterialData } from \"../component/material/MaterialData\";\r\nimport {\r\n    initData as initMeshRendererData\r\n} from \"../component/renderer/MeshRendererSystem\";\r\nimport { MeshRendererData } from \"../component/renderer/MeshRendererData\";\r\nimport { initData as initTagData } from \"../component/tag/TagSystem\";\r\nimport { TagData } from \"../component/tag/TagData\";\r\nimport { SceneData } from \"./entityObject/scene/SceneData\";\r\nimport { initData as initCameraControllerData } from \"../component/camera/CameraControllerSystem\";\r\nimport { initData as initGameObjectData } from \"./entityObject/gameObject/GameObjectSystem\";\r\n// import { initData as initWorkerTimeData } from \"../renderer/worker/logic_file/core/WorkerTimeSystem\";\r\n// import { WorkerTimeData } from \"../renderer/worker/logic_file/core/WorkerTimeData\";\r\nimport { initData as initRenderCommandBufferData } from \"../renderer/command_buffer/RenderCommandBufferSystem\";\r\nimport { render_config } from \"../renderer/data/render_config\";\r\nimport { RenderCommandBufferData } from \"../renderer/command_buffer/RenderCommandBufferData\";\r\nimport { initData as initProgramData } from \"../renderer/shader/program/ProgramSystem\";\r\nimport { initData as initLocationData } from \"../renderer/shader/location/LocationSystem\";\r\nimport { initData as initGLSLSenderData } from \"../renderer/shader/glslSender/GLSLSenderSystem\";\r\nimport { initData as initArrayBufferData } from \"../renderer/buffer/ArrayBufferSystem\";\r\nimport { initData as initIndexBufferData } from \"../renderer/buffer/IndexBufferSystem\";\r\nimport { initData as initDrawRenderCommandBufferData } from \"../renderer/draw/DrawRenderCommandBufferSystem\";\r\nimport { DebugConfig } from \"../config/DebugConfig\";\r\nimport { EScreenSize } from \"../renderer/device/EScreenSize\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { CompileConfig } from \"../config/CompileConfig\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { chain, compose } from \"../utils/functionalUtils\";\r\nimport { Main } from \"wonder-frp/dist/es2015/core/Main\";\r\nimport { it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { fromJS, Map } from \"immutable\";\r\nimport { createCanvas, initDevice } from \"../renderer/device/initDeviceSystem\";\r\nimport { isSupportRenderWorkerAndSharedArrayBuffer, setWorkerConfig } from \"../device/WorkerDetectSystem\";\r\nimport { DrawRenderCommandBufferData } from \"../renderer/draw/DrawRenderCommandBufferData\";\r\nimport { IndexBufferData } from \"../renderer/buffer/IndexBufferData\";\r\nimport { ArrayBufferData } from \"../renderer/buffer/ArrayBufferData\";\r\nimport { GLSLSenderData } from \"../renderer/shader/glslSender/GLSLSenderData\";\r\nimport { LocationData } from \"../renderer/shader/location/LocationData\";\r\nimport { ProgramData } from \"../renderer/shader/program/ProgramData\";\r\n\r\nexport var getIsTest = (MainData: any) => {\r\n    return MainData.isTest;\r\n}\r\n\r\nexport var setIsTest = (isTest: boolean, MainData: any) => {\r\n    return IO.of(() => {\r\n        MainData.isTest = isTest;\r\n    });\r\n}\r\n\r\nexport var setLibIsTest = (isTest: boolean) => {\r\n    return IO.of(() => {\r\n        Main.isTest = isTest;\r\n    });\r\n}\r\n\r\nexport var setConfig = (closeContractTest: boolean, MainData: any, WorkerDetectData: any, {\r\n    canvasId = \"\",\r\n    isTest = DebugConfig.isTest,\r\n    screenSize = EScreenSize.FULL,\r\n    useDevicePixelRatio = false,\r\n    contextConfig = {\r\n        options: {\r\n            alpha: true,\r\n            depth: true,\r\n            stencil: false,\r\n            antialias: true,\r\n            premultipliedAlpha: true,\r\n            preserveDrawingBuffer: false\r\n        }\r\n    },\r\n    workerConfig = {\r\n        renderWorkerFileDir: \"/Wonder.js/dist/worker/\"\r\n    }\r\n}) => {\r\n    return IO.of(() => {\r\n        var _isTest = false;\r\n\r\n        if (CompileConfig.closeContractTest) {\r\n            _isTest = false;\r\n            setLibIsTest(false).run();\r\n        }\r\n        else {\r\n            _isTest = isTest;\r\n            setLibIsTest(isTest).run();\r\n        }\r\n\r\n        setIsTest(_isTest, MainData).run();\r\n\r\n        setWorkerConfig(workerConfig, WorkerDetectData).run();\r\n\r\n        return fromJS({\r\n            Main: {\r\n                screenSize: screenSize\r\n            },\r\n            config: {\r\n                canvasId: canvasId,\r\n                contextConfig: {\r\n                    options: ExtendUtils.extend({\r\n                        alpha: true,\r\n                        depth: true,\r\n                        stencil: false,\r\n                        antialias: true,\r\n                        premultipliedAlpha: true,\r\n                        preserveDrawingBuffer: false\r\n                    }, contextConfig.options)\r\n                },\r\n                useDevicePixelRatio: useDevicePixelRatio\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nexport var init = requireCheckFunc((gameState: Map<string, any>, configState: Map<any, any>, DomQuery: any) => {\r\n    it(\"should set config before\", () => {\r\n        expect(configState.get(\"useDevicePixelRatio\")).exist;\r\n    })\r\n}, (gameState: Map<string, any>, configState: Map<any, any>, DomQuery: any) => {\r\n    return compose(\r\n        chain(initDevice(configState.get(\"contextConfig\"), gameState, configState)),\r\n        createCanvas(DomQuery)\r\n    )(configState.get(\"canvasId\"));\r\n});\r\n\r\nexport var initData = null;\r\n\r\nif (isSupportRenderWorkerAndSharedArrayBuffer()) {\r\n    initData = () => {\r\n        _initData();\r\n    }\r\n}\r\nelse {\r\n    initData = () => {\r\n        _initData();\r\n\r\n        initProgramData(ProgramData);\r\n\r\n        initLocationData(LocationData);\r\n\r\n        initGLSLSenderData(GLSLSenderData);\r\n\r\n        initArrayBufferData(ArrayBufferData);\r\n\r\n        initIndexBufferData(IndexBufferData);\r\n\r\n        initDrawRenderCommandBufferData(DrawRenderCommandBufferData);\r\n    }\r\n}\r\n\r\nvar _initData = () => {\r\n    initShaderData(ShaderData);\r\n\r\n    initGeometryData(DataBufferConfig, GeometryData);\r\n\r\n    initMaterialData(MaterialData);\r\n\r\n    initMeshRendererData(MeshRendererData);\r\n\r\n    initTagData(TagData);\r\n\r\n    initThreeDTransformData(GlobalTempData, ThreeDTransformData);\r\n\r\n    initSceneData(SceneData);\r\n\r\n    initCameraControllerData(CameraControllerData, PerspectiveCameraData, CameraData);\r\n\r\n    initGameObjectData(GameObjectData);\r\n\r\n    // initWorkerTimeData(WorkerTimeData);\r\n\r\n    initRenderCommandBufferData(DataBufferConfig, RenderCommandBufferData);\r\n}\r\n\r\n\r\n","import {\r\n    getIsTest, init as initMain, initData as initDataMainSystem, setConfig, setIsTest,\r\n    setLibIsTest\r\n} from \"./MainSystem\";\r\nimport { CompileConfig } from \"../config/CompileConfig\";\r\nimport { Map } from \"immutable\";\r\nimport { DirectorData } from \"./DirectorData\";\r\nimport { getState, setState } from \"./DirectorSystem\";\r\nimport { it, requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { MainData } from \"./MainData\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { MainConfigData } from \"../definition/type/mainType\";\r\nimport { WorkerDetectData } from \"../device/WorkerDetectData\";\r\n\r\nexport class Main {\r\n    static get isTest() {\r\n        return getIsTest(MainData);\r\n    }\r\n    static set isTest(isTest: boolean) {\r\n        setIsTest(isTest, MainData).run();\r\n\r\n        setLibIsTest(isTest).run();\r\n    }\r\n\r\n    private static _configState: Map<any, any> = null;\r\n\r\n    public static setConfig(configState: MainConfigData) {\r\n        this._configState = setConfig(CompileConfig.closeContractTest, MainData, WorkerDetectData, configState).run();\r\n\r\n        setState(getState(DirectorData).set(\"Main\", this._configState.get(\"Main\")), DirectorData).run();\r\n\r\n        return this;\r\n    }\r\n\r\n    @requireCheck(() => {\r\n        it(\"configState should exist\", () => {\r\n            expect(Main._configState).exist;\r\n        });\r\n    })\r\n    public static init() {\r\n        initDataMainSystem();\r\n\r\n        setState(initMain(getState(DirectorData), this._configState.get(\"config\"), DomQuery).run(), DirectorData).run();\r\n\r\n        return this;\r\n    }\r\n}\r\n","export function execOnlyOnce(flagName: string) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            var result = null;\r\n\r\n            if (this[flagName]) {\r\n                return;\r\n            }\r\n\r\n            this[flagName] = true;\r\n\r\n            return value.apply(this, args);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}","export function virtual(target, name, descriptor) {\r\n    return descriptor;\r\n}","import { Color } from \"../../../../structure/Color\";\r\n\r\nexport class DeviceManagerWorkerData {\r\n    public static gl: WebGLRenderingContext = null;\r\n\r\n    public static clearColor: Color = null;\r\n\r\n    public static writeRed: boolean = null;\r\n    public static writeGreen: boolean = null;\r\n    public static writeBlue: boolean = null;\r\n    public static writeAlpha: boolean = null;\r\n}","import { EBufferType } from \"../../../enum/EBufferType\";\r\nimport { ArrayBufferDataMap } from \"../../../type/dataType\";\r\n\r\nexport class ArrayBufferWorkerData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n\r\n    public static bufferDataMap: ArrayBufferDataMap = null;\r\n}\r\n\r\n","export class IndexBufferWorkerData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n}\r\n\r\n","export class DrawRenderCommandBufferWorkerData {\r\n    public static mMatrixFloatArrayForSend: Float32Array = null;\r\n    public static vMatrixFloatArrayForSend: Float32Array = null;\r\n    public static pMatrixFloatArrayForSend: Float32Array = null;\r\n\r\n    public static mMatrices: Float32Array = null;\r\n    public static vMatrices: Float32Array = null;\r\n    public static pMatrices: Float32Array = null;\r\n    public static materialIndices: Uint32Array = null;\r\n    public static shaderIndices: Uint32Array = null;\r\n    public static geometryIndices: Uint32Array = null;\r\n}","import { GeometryIndicesCacheMap, GeometryVerticesCacheMap } from \"../../../../definition/type/geometryType\";\r\n\r\nexport class GeometryWorkerData {\r\n    public static verticesCacheMap: GeometryVerticesCacheMap = null;\r\n    public static indicesCacheMap: GeometryIndicesCacheMap = null;\r\n\r\n    public static vertices: Float32Array = null;\r\n    public static indices: Uint16Array | Uint32Array = null;\r\n}\r\n","import { chain, compose, map } from \"../../../utils/functionalUtils\";\r\nimport { detect } from \"../../device/GPUDetectorSystem\";\r\nimport {\r\n    getGL, setContextConfig, setGL,\r\n    setViewportOfGL\r\n} from \"../both_file/device/DeviceManagerWorkerSystem\";\r\nimport { DeviceManagerWorkerData } from \"../both_file/device/DeviceManagerWorkerData\";\r\nimport { createState } from \"../../../utils/stateUtils\";\r\nimport { ContextConfigOptionsData } from \"../../type/dataType\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { MessageInitGLData } from \"../../type/messageDataType\";\r\nimport { Map } from \"immutable\";\r\nimport { setCanvas } from \"../../../structure/ViewSystem\";\r\n\r\nexport var initGL = (data: MessageInitGLData) => {\r\n    return compose(\r\n        map(detect(getGL, DeviceManagerWorkerData)),\r\n        chain(setViewportOfGL(DeviceManagerWorkerData, data.viewportData)),\r\n        _createGL(data.canvas, data.options, DeviceManagerWorkerData)\r\n    )(createState());\r\n}\r\n\r\nvar _createGL = curry((canvas: HTMLCanvasElement, options: ContextConfigOptionsData, DeviceManagerWorkerData: any, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        var gl = _getContext(canvas, options);\r\n\r\n        if (!gl) {\r\n            DomQuery.create(\"<p class='not-support-webgl'></p>\").prependTo(\"body\").text(\"Your device doesn't support WebGL\");\r\n        }\r\n\r\n        return compose(setCanvas(canvas), setContextConfig(options), setGL(gl, DeviceManagerWorkerData))(state);\r\n    });\r\n})\r\n\r\nvar _getContext = (canvas: HTMLCanvasElement, options: ContextConfigOptionsData): WebGLRenderingContext => {\r\n    return (canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options)) as WebGLRenderingContext;\r\n}\r\n","import { MaterialClassNameTable, ShaderIndexTable } from \"../../../../definition/type/materialType\";\r\n\r\nexport class MaterialWorkerData {\r\n    public static shaderIndices: Uint32Array = null;\r\n\r\n    public static materialClassNameTable: MaterialClassNameTable = null;\r\n    public static shaderIndexTable: ShaderIndexTable = null;\r\n    public static colors: Float32Array = null;\r\n    public static opacities: Float32Array = null;\r\n    public static alphaTests: Float32Array = null;\r\n}\r\n\r\nexport type MaterialInitWorkerData = {\r\n    buffer: SharedArrayBuffer;\r\n    materialCount: number;\r\n    materialClassNameTable: MaterialClassNameTable;\r\n    shaderIndexTable: ShaderIndexTable;\r\n}\r\n\r\nexport type MaterialUpdateWorkerData = {\r\n    buffer: SharedArrayBuffer;\r\n    workerInitList: Array<number>;\r\n}\r\n","import { SendAttributeConfigMap, SendUniformConfigMap, UniformCacheMap } from \"../../../../type/dataType\";\r\n\r\nexport class GLSLSenderWorkerData {\r\n    public static uniformCacheMap: UniformCacheMap = null;\r\n\r\n    public static sendAttributeConfigMap: SendAttributeConfigMap = null;\r\n    public static sendUniformConfigMap: SendUniformConfigMap = null;\r\n\r\n    public static vertexAttribHistory: Array<boolean> = null;\r\n\r\n}\r\n","import { AttributeLocationMap, UniformLocationMap } from \"../../../../type/dataType\";\r\n\r\nexport class LocationWorkerData {\r\n    public static attributeLocationMap: AttributeLocationMap = null;\r\n    public static uniformLocationMap: UniformLocationMap = null;\r\n\r\n}\r\n","import { ProgramMap } from \"../../../../type/dataType\";\r\n\r\nexport class ProgramWorkerData {\r\n    public static programMap: ProgramMap = null;\r\n\r\n    public static lastUsedProgram: WebGLProgram = null;\r\n\r\n    public static lastBindedArrayBuffer: WebGLBuffer = null;\r\n    public static lastBindedIndexBuffer: WebGLBuffer = null;\r\n}\r\n","import { Map } from \"immutable\";\r\nimport { createState } from \"../../../../utils/stateUtils\";\r\n\r\nexport class StateData {\r\n    public static state: Map<any, any> = createState();\r\n}\r\n\r\n","import { Map } from \"immutable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\n\r\nexport var getState = (StateData: any) => {\r\n    return StateData.state;\r\n}\r\n\r\nexport var setState = (state: Map<any, any>, StateData: any) => {\r\n    return IO.of(() => {\r\n        StateData.state = state;\r\n    });\r\n}\r\n\r\n","import { initData as initDataUtils } from \"../../../../utils/shader/program/programUtils\";\r\n\r\nexport var initData = initDataUtils;\r\n\r\n","import { initData as initDeviceManagerWorkerDataSystem } from \"../renderer/worker/both_file/device/DeviceManagerWorkerSystem\";\r\nimport { initData as initProgramWorkerDataSystem } from \"../renderer/worker/render_file/shader/program/ProgramWorkerSystem\";\r\n\r\nexport var initDeviceManagerWorkerData = initDeviceManagerWorkerDataSystem;\r\nexport var initProgramWorkerData = initProgramWorkerDataSystem;\r\n","import { DomQuery as DomQueryFromCommonlib } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { fromArray as fromArrayFromFrp, Operator } from \"wonder-frp/dist/es2015/global/Operator\";\r\nimport { initData as initThreeDTransformDataSystem } from \"../component/transform/ThreeDTransformSystem\";\r\nimport { initData as initTagDataSystem } from \"../component/tag/TagSystem\";\r\nimport {\r\n    hasIndices,\r\n    initData as initGeometryDataSystem, setIndices, setVertices\r\n} from \"../component/geometry/GeometrySystem\";\r\nimport { getShaderIndex as getShaderIndexSystem, initData as initMaterialDataSystem } from \"../component/material/MaterialSystem\";\r\nimport {\r\n    initData as initShaderDataSystem,\r\n    sendAttributeData as sendAttributeDataSystem, sendUniformData as sendUniformDataSystem,\r\n    use\r\n} from \"../renderer/shader/ShaderSystem\";\r\n\r\nimport { initData as initMeshRendererDataSystem } from \"../component/renderer/MeshRendererSystem\";\r\nimport { createState as createStateUtils } from \"../utils/stateUtils\";\r\nimport { Map } from \"immutable\";\r\nimport { initData as initArrayBufferDataSystem } from \"../renderer/buffer/ArrayBufferSystem\";\r\nimport { initData as initIndexBufferDataSystem } from \"../renderer/buffer/IndexBufferSystem\";\r\nimport { initData as initCameraControllerDataSystem } from \"../component/camera/CameraControllerSystem\";\r\nimport { initData as initGameObjectDataSystem } from \"../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { disableVertexAttribArray as disableVertexAttribArrayUtils } from \"../renderer/utils/shader/program/programUtils\";\r\nimport { initData as initDeviceManagerDataSystem } from \"../renderer/device/DeviceManagerSystem\";\r\nimport { initData as initProgramDataSystem } from \"../renderer/shader/program/ProgramSystem\";\r\nimport { initData as initLocationDataSystem } from \"../renderer/shader/location/LocationSystem\";\r\nimport { initData as initGLSLSenderDataSystem } from \"../renderer/shader/glslSender/GLSLSenderSystem\";\r\nimport { initData as initSceneDataSystem } from \"../core/entityObject/scene/SceneSystem\";\r\nimport { initData as initRenderCommandBufferDataSystem } from \"../renderer/command_buffer/RenderCommandBufferSystem\";\r\nimport { IRenderConfig } from \"../renderer/data/render_config\";\r\nimport { initData as initDrawRenderCommandBufferDataSystem } from \"../renderer/draw/DrawRenderCommandBufferSystem\";\r\nimport { updateSystem as updateAllSystems } from \"../core/DirectorSystem\";\r\n\r\nexport var initThreeDTransformData = initThreeDTransformDataSystem;\r\n\r\nexport var DomQuery = DomQueryFromCommonlib;\r\n\r\nexport var fromArray = fromArrayFromFrp;\r\n\r\nexport var initTagData = initTagDataSystem;\r\n\r\nexport var initGeometryData = initGeometryDataSystem;\r\n\r\nexport var initMaterialData = initMaterialDataSystem;\r\n\r\nexport var initShaderData = initShaderDataSystem;\r\n\r\nexport var initProgramData = initProgramDataSystem;\r\n\r\nexport var initLocationData = initLocationDataSystem;\r\n\r\nexport var initGLSLSenderData = initGLSLSenderDataSystem;\r\n\r\nexport var initMeshRendererData = initMeshRendererDataSystem;\r\n\r\nexport var initArrayBufferData = initArrayBufferDataSystem;\r\n\r\nexport var initIndexBufferData = initIndexBufferDataSystem;\r\n\r\nexport var initDeviceManagerData = initDeviceManagerDataSystem;\r\n\r\nexport var initCameraControllerData = initCameraControllerDataSystem;\r\n\r\nexport var initGameObjectData = initGameObjectDataSystem;\r\n\r\nexport var initSceneData = initSceneDataSystem;\r\n\r\nexport var initRenderCommandBufferData = initRenderCommandBufferDataSystem;\r\n\r\nexport var initDrawRenderCommandBufferData = initDrawRenderCommandBufferDataSystem;\r\n\r\nexport var createState = createStateUtils;\r\n\r\nexport var useProgram = use;\r\n\r\nexport var sendAttributeData = sendAttributeDataSystem;\r\n\r\nexport var sendUniformData = sendUniformDataSystem;\r\n\r\nexport var disableVertexAttribArray = disableVertexAttribArrayUtils\r\n\r\nexport var setGeometryIndices = setIndices;\r\n\r\nexport var setGeometryVertices = setVertices;\r\n\r\nexport var hasGeometryIndices = hasIndices;\r\n\r\nexport var getShaderIndex = getShaderIndexSystem;\r\n\r\nexport var updateSystem = updateAllSystems;\r\n"],"names":["Log","Log$","this","global","JudgeUtils","JudgeUtils$","expect","deleteVal","deleteBySwap","addAddComponentHandle","addDisposeHandle","ComponentData","deleteBySwapArray","Component","CameraController","addAddComponentHandleToMap","addDisposeHandleToMap","CameraControllerData","init","PerspectiveCameraData","CameraData","initCamera","updateProjectionMatrix","dispose","getWorldToCameraMatrix","getWorldToCameraMatrixCamera","getPMatrix","getPMatrixCamera","initData","initDataCamera","Vector2","Matrix3","Vector4","Vector3","Quaternion","Matrix4","ThreeDTransform","create","setBatchDatas","getParent","setParent","getGameObject","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","getChildren","_addChild","setChildren","_setParent","swap","addToDirtyList","isNotAlive","isTranslate","update","getThreeDTransformDataParent","isAlive","Tag","addTag","addTagSystemTag","removeTag","removeTagSystemTag","findGameObjectsByTag","findTagSystemTagGameObjectsByTag","TagData","addComponent","disposeComponent","isThreeDTransformAlive","getThreeDTransformChildren","setThreeDTransformChildren","isGameObjectAlive","getGameObjectChildren","setGameObjectChildren","_isParentExist","_isChildrenExist","ThreeDTransformData","_buildUID","GlobalTempData","setParentHierarchy","setBatchDatasSystem","updateSystem","_disposeMapDatas","toString","root","WorkerDetectData","MeshRenderer","_checkShouldAlive","MeshRendererData","createGameObject","addChild","addGameObject","removeChild","removeGameObject","Color","getShaderIndexFromTable","getOpacity","getAlphaTest","getColorArr3","isTestAlpha","Shader","Map","EVariableType","EBufferType","use","sendAttributeData","getOrCreateArrayBuffer","sendUniformData","getOrCreateBuffer","_initBuffer","_resetBindedBuffer","getAttribLocation","isAttributeLocationNotExist","sendBuffer","sendAttributeDataProgram","sendUniformDataProgram","bindIndexBuffer","useProgram","GPUDetector","EGPUPrecision","EDrawMode","getIndexType","getIndexTypeSize","hasIndices","getDrawMode","getVerticesCount","getIndicesCount","EScreenSize","RectRegion","getGL","setGL","setContextConfig","setPixelRatio","getViewport","setViewport","setCanvasPixelRatio","setViewportOfGL","getScreenSize","setScreen","clear","setColorWrite","getGLUtils","setGLUtils","setContextConfigUtils","setPixelRatioUtils","getViewportUtils","setCanvasPixelRatioUtils","setViewportOfGLUtils","setScreenUtils","clearUtils","initDataUtils","disposeBuffer","disposeBufferUtils","addInitHandle","addInitHandleToMap","GeometryData","_fillTypeArr","disposeArrayBuffer","disposeIndexBuffer","_initBufferData","getIndexTypeUtils","getIndexTypeSizeUtils","hasIndicesUtils","getDrawModeUtils","getVerticesCountUtils","getIndicesCountUtils","getAttribLocationUtils","getUniformLocation","getUniformLocationUtils","isUniformLocationNotExist","isUniformLocationNotExistUtils","isAttributeLocationNotExistUtils","getUniformData","getUniformDataUtils","sendBufferUtils","sendMatrix4","sendMatrix4Utils","sendVector3","sendVector3Utils","sendFloat1","sendFloat1Utils","buildGLSLSource","lowp_fragment","mediump_fragment","highp_fragment","buildGLSLSourceUtils","initUtils","sendAttributeDataUtils","sendUniformDataUtils","bindIndexBufferUtils","useUtils","MaterialData","initShader","getShaderIndexFromTableUtils","getColorArr3Utils","getOpacityUtils","getAlphaTestUtils","isTestAlphaUtils","DataBufferConfig","EWorkerOperateType","EGeometryWorkerDataOperateType","EDisposeDataOperateType","ERenderWorkerState","draw","clearGL","drawUtils","render","SendDrawRenderCommandBufferData","initMaterial","updateThreeDTransform","updateCameraControllerSystem","renderByWebGLRender","GameObject","createThreeDTransform","initGameObject","initGameObjectSystem","Geometry","getGeometryDrawMode","getVertices","getGeometryVertices","getIndices","getGeometryIndices","initGeometry","initGeometrySystem","Material","initMaterialSystem","updateProjectionMatrixPerspectiveCamera","disposePerspectiveCamera","initDataPerspectiveCamera","BoxGeometry","createGeometry","CustomGeometry","BasicMaterial","createMaterial","createShader","$BREAK","$REMOVE","ExtendUtils","List","Collection","requireCheck","assert","registerClass","DirectorTimeController","View","DeviceManager","fromJS","CommonTimeController","Director","Scheduler","initTransform","initCameraController","initRenderer","addGeometryAddComponentHandle","addGeometryDisposeHandle","addGeometryInitHandle","addMaterialAddComponentHandle","addMaterialDisposeHandle","addMaterialInitHandle","addMeshRendererAddComponentHandle","addMeshRendererDisposeHandle","addTagAddComponentHandle","addTagDisposeHandle","addThreeDTransformAddComponentHandle","addThreeDTransformDisposeHandle","addCameraControllerAddComponentHandle","addCameraControllerDisposeHandle","detect","createGL","setViewportUtils","_setScreenData","setScreenFromDeviceManagerWorkerSystem","createGLWorker","setCanvasPixelRatioFromDeviceManagerWorkerSystem","setCanvasPixelRatioFromDeviceManagerSystem","setScreenFromDeviceManagerSystem","getIsTest","_initData","initProgramData","initLocationData","initGLSLSenderData","initArrayBufferData","initIndexBufferData","initDrawRenderCommandBufferData","initShaderData","initGeometryData","initMaterialData","initMeshRendererData","initTagData","initThreeDTransformData","initSceneData","initCameraControllerData","initGameObjectData","initRenderCommandBufferData","initDataMainSystem","initMain","Main","DeviceManagerWorkerData","getState","setState","initDeviceManagerWorkerDataSystem","initProgramWorkerDataSystem","initThreeDTransformDataSystem","DomQuery","DomQueryFromCommonlib","fromArray","fromArrayFromFrp","initTagDataSystem","initGeometryDataSystem","initMaterialDataSystem","initShaderDataSystem","initProgramDataSystem","initLocationDataSystem","initGLSLSenderDataSystem","initMeshRendererDataSystem","initArrayBufferDataSystem","initIndexBufferDataSystem","initDeviceManagerDataSystem","initCameraControllerDataSystem","initGameObjectDataSystem","initSceneDataSystem","initRenderCommandBufferDataSystem","initDrawRenderCommandBufferDataSystem","createState","createStateUtils","sendAttributeDataSystem","sendUniformDataSystem","disableVertexAttribArray","disableVertexAttribArrayUtils","getShaderIndex","getShaderIndexSystem","updateAllSystems"],"mappings":"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GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SAE5B,MAAM,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;SAErF,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;SACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,C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,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3C,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3C,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3C,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3C,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3C,MAA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"}
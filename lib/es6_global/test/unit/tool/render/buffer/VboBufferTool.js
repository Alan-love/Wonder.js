// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as GeometryAdmin$Wonderjs              from "../../../../../src/ecs/admin/component/GeometryAdmin.js";
import * as VboBufferSystem$Wonderjs            from "../../../../../src/renderer/buffer/VboBufferSystem.js";
import * as ArrayBufferSystem$Wonderjs          from "../../../../../src/renderer/buffer/ArrayBufferSystem.js";
import * as DeviceManagerSystem$Wonderjs        from "../../../../../src/renderer/device/DeviceManagerSystem.js";
import * as SourceInstanceAdmin$Wonderjs        from "../../../../../src/ecs/admin/component/instance/SourceInstanceAdmin.js";
import * as InstanceBufferSystem$Wonderjs       from "../../../../../src/renderer/buffer/InstanceBufferSystem.js";
import * as SparseMapSystem$WonderCommonlib     from "../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as ElementArrayBufferSystem$Wonderjs   from "../../../../../src/renderer/buffer/ElementArrayBufferSystem.js";
import * as VboBufferGetStateDataUtils$Wonderjs from "../../../../../src/renderer/buffer/VboBufferGetStateDataUtils.js";

function getOrCreateArrayBuffer(geometryIndex, state) {
  return VboBufferSystem$Wonderjs.getOrCreateBuffer(DeviceManagerSystem$Wonderjs.getGl(state), geometryIndex, VboBufferGetStateDataUtils$Wonderjs.getVboBufferData(state)[/* vertexBufferMap */0], ArrayBufferSystem$Wonderjs.createBuffer, GeometryAdmin$Wonderjs.unsafeGetVertices, state);
}

function getOrCreateElementArrayBuffer(geometryIndex, state) {
  return VboBufferSystem$Wonderjs.getOrCreateBuffer(DeviceManagerSystem$Wonderjs.getGl(state), geometryIndex, VboBufferGetStateDataUtils$Wonderjs.getVboBufferData(state)[/* elementArrayBufferMap */1], ElementArrayBufferSystem$Wonderjs.createBuffer, GeometryAdmin$Wonderjs.unsafeGetIndices, state);
}

function getOrCreateInstanceBuffer(sourceInstanceIndex, state) {
  return InstanceBufferSystem$Wonderjs.getOrCreateBuffer(DeviceManagerSystem$Wonderjs.getGl(state), sourceInstanceIndex, SourceInstanceAdmin$Wonderjs.getSourceInstanceData(state)[/* modelMatrixInstanceBufferCapacityMap */2], VboBufferGetStateDataUtils$Wonderjs.getVboBufferData(state)[/* modelMatrixInstanceBufferMap */2], state);
}

function passBufferShouldExistCheckWhenDisposeGeometry(geometryIndex, state) {
  var match = VboBufferGetStateDataUtils$Wonderjs.getVboBufferData(state);
  var vertexBufferMap = match[/* vertexBufferMap */0];
  var elementArrayBufferMap = match[/* elementArrayBufferMap */1];
  SparseMapSystem$WonderCommonlib.set(geometryIndex, 0, vertexBufferMap);
  SparseMapSystem$WonderCommonlib.set(geometryIndex, 0, elementArrayBufferMap);
  return state;
}

function passBufferShouldExistCheckWhenDisposeSourceInstance(sourceInstanceIndex, state) {
  var match = VboBufferGetStateDataUtils$Wonderjs.getVboBufferData(state);
  var modelMatrixInstanceBufferMap = match[/* modelMatrixInstanceBufferMap */2];
  SparseMapSystem$WonderCommonlib.set(sourceInstanceIndex, 0, modelMatrixInstanceBufferMap);
  return state;
}

var getVboBufferData = VboBufferGetStateDataUtils$Wonderjs.getVboBufferData;

export {
  getOrCreateArrayBuffer                              ,
  getOrCreateElementArrayBuffer                       ,
  getOrCreateInstanceBuffer                           ,
  passBufferShouldExistCheckWhenDisposeGeometry       ,
  passBufferShouldExistCheckWhenDisposeSourceInstance ,
  getVboBufferData                                    ,
  
}
/* GeometryAdmin-Wonderjs Not a pure module */

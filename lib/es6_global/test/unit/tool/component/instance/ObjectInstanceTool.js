// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as Js_option                          from "../../../../../../../node_modules/bs-platform/lib/es6/js_option.js";
import * as GameObject$Wonderjs                from "../../../../../src/ecs/admin/api/GameObject.js";
import * as InstanceTool$Wonderjs              from "./InstanceTool.js";
import * as VboBufferTool$Wonderjs             from "../../render/buffer/VboBufferTool.js";
import * as SourceInstance$Wonderjs            from "../../../../../src/ecs/component/api/instance/SourceInstance.js";
import * as SparseMapSystem$WonderCommonlib    from "../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as ObjectInstanceStateCommon$Wonderjs from "../../../../../src/ecs/component/system/instance/objectInstance/ObjectInstanceStateCommon.js";

function createObjectInstanceGameObject(state) {
  var match = GameObject$Wonderjs.createGameObject(state);
  var gameObject = match[1];
  var match$1 = InstanceTool$Wonderjs.addSourceInstance(gameObject, match[0]);
  var sourceInstance = match$1[1];
  var state$1 = VboBufferTool$Wonderjs.passBufferShouldExistCheckWhenDisposeSourceInstance(sourceInstance, match$1[0]);
  var match$2 = SourceInstance$Wonderjs.createSourceInstanceObjectInstance(sourceInstance, state$1);
  var objectInstanceGameObject = match$2[1];
  var state$2 = match$2[0];
  return /* tuple */[
          state$2,
          gameObject,
          sourceInstance,
          objectInstanceGameObject,
          Js_option.getExn(GameObject$Wonderjs.getGameObjectObjectInstanceComponent(objectInstanceGameObject, state$2))
        ];
}

function createObjectInstanceGameObjectArr(count, state) {
  var match = GameObject$Wonderjs.createGameObject(state);
  var gameObject = match[1];
  var match$1 = InstanceTool$Wonderjs.addSourceInstance(gameObject, match[0]);
  var sourceInstance = match$1[1];
  var state$1 = VboBufferTool$Wonderjs.passBufferShouldExistCheckWhenDisposeSourceInstance(sourceInstance, match$1[0]);
  var objectInstanceGameObjectArr = /* array */[];
  for(var i = 0 ,i_finish = count - 1 | 0; i <= i_finish; ++i){
    var match$2 = SourceInstance$Wonderjs.createSourceInstanceObjectInstance(sourceInstance, state$1);
    objectInstanceGameObjectArr.push(match$2[1]);
  }
  return /* tuple */[
          state$1,
          gameObject,
          sourceInstance,
          objectInstanceGameObjectArr,
          objectInstanceGameObjectArr.map((function (objectInstanceGameObject) {
                  return Js_option.getExn(GameObject$Wonderjs.getGameObjectObjectInstanceComponent(objectInstanceGameObject, state$1));
                }))
        ];
}

function isDisposed(objectInstance, state) {
  var match = ObjectInstanceStateCommon$Wonderjs.getObjectInstanceData(state);
  return 1 - SparseMapSystem$WonderCommonlib.has(objectInstance, match[/* sourceInstanceMap */1]);
}

var getObjectInstanceData = ObjectInstanceStateCommon$Wonderjs.getObjectInstanceData;

export {
  createObjectInstanceGameObject    ,
  createObjectInstanceGameObjectArr ,
  getObjectInstanceData             ,
  isDisposed                        ,
  
}
/* GameObject-Wonderjs Not a pure module */

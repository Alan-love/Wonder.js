// Generated by BUCKLESCRIPT VERSION 3.1.4, PLEASE EDIT WITH CARE

import * as Caml_array from "../../../../../../../../node_modules/bs-platform/lib/es6/caml_array.js";
import * as SettingTool$Wonderjs from "../../../../../tool/service/setting/SettingTool.js";
import * as MainStateTool$Wonderjs from "../../../../../tool/service/state/MainStateTool.js";
import * as StateDataMain$Wonderjs from "../../../../../../src/service/state/main/data/StateDataMain.js";
import * as WorkerJobTool$Wonderjs from "../../../../../tool/service/workerJob/WorkerJobTool.js";
import * as RenderConfigTool$Wonderjs from "../../../../../tool/service/renderConfig/RenderConfigTool.js";
import * as SettingWorkerTool$Wonderjs from "../../../tool/SettingWorkerTool.js";
import * as IsDebugMainService$Wonderjs from "../../../../../../src/service/state/main/state/IsDebugMainService.js";
import * as SharedArrayBufferTool$Wonderjs from "../../../../../tool/SharedArrayBufferTool.js";
import * as CreateStateMainService$Wonderjs from "../../../../../../src/service/state/main/state/CreateStateMainService.js";

function initWithJobConfig(_, $staropt$star, $staropt$star$1, $staropt$star$2, $staropt$star$3, $staropt$star$4, $staropt$star$5, $staropt$star$6, _$1) {
  var isDebug = $staropt$star ? $staropt$star[0] : "true";
  var canvasId = $staropt$star$1 ? $staropt$star$1[0] : /* None */0;
  var useHardwareInstance = $staropt$star$2 ? $staropt$star$2[0] : "true";
  var context = $staropt$star$3 ? $staropt$star$3[0] : "\n        {\n        \"alpha\": true,\n        \"depth\": true,\n        \"stencil\": false,\n        \"antialias\": true,\n        \"premultiplied_alpha\": true,\n        \"preserve_drawing_buffer\": false\n        }\n               ";
  var workerJobRecord = $staropt$star$4 ? $staropt$star$4[0] : WorkerJobTool$Wonderjs.buildWorkerJobConfig(/* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* () */0);
  var renderConfigRecord = $staropt$star$5 ? $staropt$star$5[0] : RenderConfigTool$Wonderjs.buildRenderConfig(/* None */0, /* None */0, /* () */0);
  var buffer = $staropt$star$6 ? $staropt$star$6[0] : SettingTool$Wonderjs.buildBufferConfigStr(/* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* None */0, /* () */0);
  SharedArrayBufferTool$Wonderjs.setSharedArrayBufferToBeArrayBuffer();
  var state = CreateStateMainService$Wonderjs.createState(/* () */0);
  var newrecord = Caml_array.caml_array_dup(state);
  var init = state[/* workerDetectRecord */38];
  newrecord[/* workerDetectRecord */38] = /* record */[
    /* isSupportSharedArrayBuffer */init[/* isSupportSharedArrayBuffer */0],
    /* isSupportRenderWorkerAndSharedArrayBuffer */true
  ];
  return MainStateTool$Wonderjs.setState(RenderConfigTool$Wonderjs.create(renderConfigRecord, WorkerJobTool$Wonderjs.create(workerJobRecord, SettingWorkerTool$Wonderjs.createStateAndSetToStateData(/* Some */[newrecord], /* Some */[isDebug], /* Some */[canvasId], /* Some */[context], /* Some */[useHardwareInstance], /* Some */["true"], /* Some */[buffer], /* () */0))));
}

function openContractCheck() {
  IsDebugMainService$Wonderjs.setIsDebug(StateDataMain$Wonderjs.stateData, true);
  return /* () */0;
}

function closeContractCheck() {
  IsDebugMainService$Wonderjs.setIsDebug(StateDataMain$Wonderjs.stateData, false);
  return /* () */0;
}

export {
  initWithJobConfig ,
  openContractCheck ,
  closeContractCheck ,
  
}
/* SettingTool-Wonderjs Not a pure module */

// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as IndicesService$Wonderjs                             from "../../../../service/primitiive/geometry/IndicesService.js";
import * as DrawGLSLMainService$Wonderjs                        from "../../../../service/state/main/sender/DrawGLSLMainService.js";
import * as RenderGeometryService$Wonderjs                      from "../../../../service/record/geometry/RenderGeometryService.js";
import * as ReduceStateMainService$Wonderjs                     from "../../../../service/state/main/array/ReduceStateMainService.js";
import * as GetComponentGameObjectService$Wonderjs              from "../../../../service/record/gameObject/GetComponentGameObjectService.js";
import * as ObjectInstanceArraySourceInstanceService$Wonderjs   from "../../../../service/record/instance/sourceInstance/ObjectInstanceArraySourceInstanceService.js";
import * as HandleUniformInstanceNoCachableMainService$Wonderjs from "../../../../service/state/main/sender/uniform/HandleUniformInstanceNoCachableMainService.js";

function render(gl, uid, renderFunc, state) {
  var match = renderFunc(gl, uid, state);
  var state$1 = match[0];
  var uniformInstanceSendNoCachableData = HandleUniformInstanceNoCachableMainService$Wonderjs.unsafeGetUniformSendData(match[1], state$1);
  var drawMode = RenderGeometryService$Wonderjs.getDrawMode(gl);
  var indexType = RenderGeometryService$Wonderjs.getIndexType(gl);
  var indexTypeSize = RenderGeometryService$Wonderjs.getIndexTypeSize(gl);
  var indicesCount = IndicesService$Wonderjs.getIndicesCount(match[2], state$1[/* boxGeometryRecord */20][/* indicesMap */3]);
  var sourceInstance = GetComponentGameObjectService$Wonderjs.unsafeGetSourceInstanceComponent(uid, state$1[/* gameObjectRecord */10]);
  var objectInstanceArray = ObjectInstanceArraySourceInstanceService$Wonderjs.getObjectInstanceArray(sourceInstance, state$1[/* sourceInstanceRecord */6]);
  return ReduceStateMainService$Wonderjs.reduceState((function (state, uid) {
                var state$1 = ReduceStateMainService$Wonderjs.reduceState((function (state, param) {
                        param[/* sendDataFunc */2](gl, param[/* pos */0], param[/* getDataFunc */1](GetComponentGameObjectService$Wonderjs.unsafeGetTransformComponent(uid, state[/* gameObjectRecord */10]), state));
                        return state;
                      }), state, uniformInstanceSendNoCachableData);
                DrawGLSLMainService$Wonderjs.drawElement(/* tuple */[
                      drawMode,
                      indexType,
                      indexTypeSize,
                      indicesCount
                    ], gl);
                return state$1;
              }), state$1, objectInstanceArray);
}

export {
  render ,
  
}
/* IndicesService-Wonderjs Not a pure module */

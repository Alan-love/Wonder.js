// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as Curry                                          from "../../../../../node_modules/bs-platform/lib/es6/curry.js";
import * as DisposeECSService$Wonderjs                     from "../../service/primitive/ecs/DisposeECSService.js";
import * as SparseMapService$WonderCommonlib               from "../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapService.js";
import * as DisposeGameObjectMainService$Wonderjs          from "../../service/state/main/gameObject/DisposeGameObjectMainService.js";
import * as DisposeComponentGameObjectMainService$Wonderjs from "../../service/state/main/gameObject/DisposeComponentGameObjectMainService.js";

function _disposeComponents(batchDisposeBasicMaterialComponentFunc, batchDisposeLightMaterialComponentFunc, state) {
  var gameObjectRecord = state[/* gameObjectRecord */10];
  var disposedBasicCameraViewArray = gameObjectRecord[/* disposedBasicCameraViewArray */5];
  var disposedTransformArray = gameObjectRecord[/* disposedTransformArray */6];
  var disposedTransformArrayForKeepOrder = gameObjectRecord[/* disposedTransformArrayForKeepOrder */7];
  var disposedPerspectiveCameraProjectionArray = gameObjectRecord[/* disposedPerspectiveCameraProjectionArray */8];
  var disposedBasicMaterialArray = gameObjectRecord[/* disposedBasicMaterialArray */9];
  var disposedLightMaterialArray = gameObjectRecord[/* disposedLightMaterialArray */10];
  var disposedBoxGeometryArray = gameObjectRecord[/* disposedBoxGeometryArray */11];
  var disposedCustomGeometryArray = gameObjectRecord[/* disposedCustomGeometryArray */12];
  var disposedSourceInstanceArray = gameObjectRecord[/* disposedSourceInstanceArray */13];
  var disposedObjectInstanceArray = gameObjectRecord[/* disposedObjectInstanceArray */14];
  var disposedAmbientLightArray = gameObjectRecord[/* disposedAmbientLightArray */15];
  var disposedDirectionLightArray = gameObjectRecord[/* disposedDirectionLightArray */16];
  var disposedPointLightArray = gameObjectRecord[/* disposedPointLightArray */17];
  var disposedMeshRendererComponentArray = gameObjectRecord[/* disposedMeshRendererComponentArray */18];
  var disposedMeshRendererUidArray = gameObjectRecord[/* disposedMeshRendererUidArray */19];
  var state$1 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeBasicCameraViewComponent(state, disposedBasicCameraViewArray);
  var state$2 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposePerspectiveCameraProjectionComponent(state$1, disposedPerspectiveCameraProjectionArray);
  var state$3 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeTransformComponent(state$2, /* false */0, disposedTransformArray);
  var state$4 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeTransformComponent(state$3, /* true */1, disposedTransformArrayForKeepOrder);
  var state$5 = Curry._2(batchDisposeBasicMaterialComponentFunc, state$4, disposedBasicMaterialArray);
  var state$6 = Curry._2(batchDisposeLightMaterialComponentFunc, state$5, disposedLightMaterialArray);
  var match = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeBoxGeometryComponent(state$6, disposedBoxGeometryArray);
  var match$1 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeCustomGeometryComponent(match[0], disposedCustomGeometryArray);
  var partial_arg = /* tuple */[
    batchDisposeLightMaterialComponentFunc,
    batchDisposeLightMaterialComponentFunc
  ];
  var match$2 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeSourceInstanceComponent(match$1[0], /* false */0, (function (param, param$1, param$2) {
          return DisposeGameObjectMainService$Wonderjs.batchDispose(partial_arg, param, param$1, param$2);
        }), disposedSourceInstanceArray);
  var state$7 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeObjectInstanceComponent(match$2[0], disposedObjectInstanceArray);
  var state$8 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeAmbientLightComponent(state$7, disposedAmbientLightArray);
  var state$9 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeDirectionLightComponent(state$8, disposedDirectionLightArray);
  var state$10 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeLightMaterialComponent(state$9, disposedPointLightArray);
  var state$11 = DisposeComponentGameObjectMainService$Wonderjs.batchDisposeMeshRendererComponent(DisposeECSService$Wonderjs.buildMapFromArray(disposedMeshRendererUidArray, SparseMapService$WonderCommonlib.createEmpty(/* () */0)), state$10, disposedMeshRendererComponentArray);
  return /* tuple */[
          state$11,
          match[1],
          match$1[1],
          match$2[1]
        ];
}

function _disposeGameObjects(batchDisposeBasicMaterialComponentFunc, batchDisposeLightMaterialComponentFunc, state) {
  var gameObjectRecord = state[/* gameObjectRecord */10];
  var disposedUidArray = gameObjectRecord[/* disposedUidArray */3];
  var disposedUidArrayForKeepOrder = gameObjectRecord[/* disposedUidArrayForKeepOrder */4];
  var match = DisposeGameObjectMainService$Wonderjs.batchDispose(/* tuple */[
        batchDisposeBasicMaterialComponentFunc,
        batchDisposeLightMaterialComponentFunc
      ], disposedUidArray, /* false */0, state);
  var match$1 = DisposeGameObjectMainService$Wonderjs.batchDispose(/* tuple */[
        batchDisposeBasicMaterialComponentFunc,
        batchDisposeLightMaterialComponentFunc
      ], disposedUidArrayForKeepOrder, /* true */1, match[0]);
  var state$1 = DisposeGameObjectMainService$Wonderjs.clearDeferDisposeData(match$1[0]);
  return /* tuple */[
          state$1,
          match[1].concat(match$1[1]),
          match[2].concat(match$1[2]),
          match[3].concat(match$1[3])
        ];
}

function execJob(batchDisposeBasicMaterialComponentFunc, batchDisposeLightMaterialComponentFunc, state) {
  var match = _disposeComponents(batchDisposeBasicMaterialComponentFunc, batchDisposeLightMaterialComponentFunc, state);
  var match$1 = _disposeGameObjects(batchDisposeBasicMaterialComponentFunc, batchDisposeLightMaterialComponentFunc, match[0]);
  return /* tuple */[
          match$1[0],
          match[1].concat(match$1[1]),
          match[2].concat(match$1[2]),
          match[3].concat(match$1[3])
        ];
}

export {
  _disposeComponents  ,
  _disposeGameObjects ,
  execJob             ,
  
}
/* DisposeECSService-Wonderjs Not a pure module */

// Generated by BUCKLESCRIPT VERSION 3.1.4, PLEASE EDIT WITH CARE

import * as ArrayService$WonderCommonlib from "../../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/ArrayService.js";
import * as HandleAttributeConfigDataInitMaterialService$Wonderjs from "../../../sender/attribute/HandleAttributeConfigDataInitMaterialService.js";

function _readAttributes(param, sendDataArrTuple, attributes) {
  if (attributes) {
    var attributeLocationMap = param[2];
    var program = param[1];
    var gl = param[0];
    return ArrayService$WonderCommonlib.reduceOneParam((function (sendDataArrTuple, param) {
                  var type_ = param[/* type_ */2];
                  var buffer = param[/* buffer */1];
                  var name = param[/* name */0];
                  if (name && type_) {
                    var name$1 = name[0];
                    if (buffer === "instance_mMatrix") {
                      return HandleAttributeConfigDataInitMaterialService$Wonderjs.addModelMatrixInstanceArrayBufferSendData(/* tuple */[
                                  gl,
                                  program,
                                  name$1,
                                  attributeLocationMap
                                ], sendDataArrTuple);
                    } else {
                      return HandleAttributeConfigDataInitMaterialService$Wonderjs.addOtherArrayBufferSendData(/* tuple */[
                                  gl,
                                  program,
                                  name$1,
                                  buffer,
                                  type_[0],
                                  attributeLocationMap
                                ], sendDataArrTuple);
                    }
                  } else {
                    return HandleAttributeConfigDataInitMaterialService$Wonderjs.addElementBufferSendData(buffer, sendDataArrTuple);
                  }
                }), sendDataArrTuple, attributes[0]);
  } else {
    return sendDataArrTuple;
  }
}

function _readAttributeSendData(shaderLibDataArr, gl, program, attributeLocationMap) {
  return HandleAttributeConfigDataInitMaterialService$Wonderjs.readAttributeSendData(shaderLibDataArr, /* tuple */[
              gl,
              program
            ], _readAttributes, attributeLocationMap);
}

function addAttributeSendData(glTuple, shaderLibDataArr, recordTuple) {
  return HandleAttributeConfigDataInitMaterialService$Wonderjs.addAttributeSendData(glTuple, shaderLibDataArr, _readAttributeSendData, recordTuple);
}

export {
  _readAttributes ,
  _readAttributeSendData ,
  addAttributeSendData ,
  
}
/* ArrayService-WonderCommonlib Not a pure module */

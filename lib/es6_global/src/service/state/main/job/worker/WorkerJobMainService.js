// Generated by BUCKLESCRIPT VERSION 3.1.4, PLEASE EDIT WITH CARE

import * as Curry from "../../../../../../../../node_modules/bs-platform/lib/es6/curry.js";
import * as Caml_array from "../../../../../../../../node_modules/bs-platform/lib/es6/caml_array.js";
import * as HashMapService$WonderCommonlib from "../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/HashMapService.js";
import * as OperateRenderWorkerJobService$Wonderjs from "../../../../record/main/workerJob/OperateRenderWorkerJobService.js";
import * as OperateMainInitWorkerJobMainService$Wonderjs from "./OperateMainInitWorkerJobMainService.js";
import * as OperateMainLoopWorkerJobMainService$Wonderjs from "./OperateMainLoopWorkerJobMainService.js";

function getMainInitJobStream(stateData, param, state) {
  return OperateMainInitWorkerJobMainService$Wonderjs.getMainInitJobStream(Curry._1(param[0], /* () */0), stateData, param[1], state);
}

function getMainLoopJobStream(stateData, param, state) {
  return OperateMainLoopWorkerJobMainService$Wonderjs.getMainLoopJobStream(Curry._1(param[0], /* () */0), stateData, param[1], state);
}

function getRenderWorkerJobStreamArr(pipelineJobs, workerJobs, param, stateData) {
  return OperateRenderWorkerJobService$Wonderjs.getRenderWorkerJobStreamArr(/* tuple */[
              pipelineJobs,
              workerJobs
            ], Curry._1(param[0], /* () */0), stateData, param[1]);
}

function addWorkerMainInitJob(param, action, targetHandleFunc, state) {
  var sourceJobName = param[1];
  var targetJobName = param[0];
  var newrecord = Caml_array.caml_array_dup(state);
  var init = state[/* jobRecord */1];
  newrecord[/* jobRecord */1] = /* record */[
    /* noWorkerInitJobList */init[/* noWorkerInitJobList */0],
    /* noWorkerLoopJobList */init[/* noWorkerLoopJobList */1],
    /* workerCustomMainInitTargetJobMap */HashMapService$WonderCommonlib.set(sourceJobName, /* tuple */[
          targetJobName,
          action,
          targetHandleFunc
        ], state[/* jobRecord */1][/* workerCustomMainInitTargetJobMap */2]),
    /* workerCustomMainInitSourceJobMap */HashMapService$WonderCommonlib.set(targetJobName, sourceJobName, state[/* jobRecord */1][/* workerCustomMainInitSourceJobMap */3]),
    /* workerCustomMainInitRemovedDefaultJobMap */init[/* workerCustomMainInitRemovedDefaultJobMap */4],
    /* workerCustomMainLoopTargetJobMap */init[/* workerCustomMainLoopTargetJobMap */5],
    /* workerCustomMainLoopSourceJobMap */init[/* workerCustomMainLoopSourceJobMap */6],
    /* workerCustomMainLoopRemovedDefaultJobMap */init[/* workerCustomMainLoopRemovedDefaultJobMap */7]
  ];
  return newrecord;
}

function removeWorkerMainInitJob(targetJobName, state) {
  var match = HashMapService$WonderCommonlib.get(targetJobName, state[/* jobRecord */1][/* workerCustomMainInitSourceJobMap */3]);
  if (match) {
    var newrecord = Caml_array.caml_array_dup(state);
    var init = state[/* jobRecord */1];
    newrecord[/* jobRecord */1] = /* record */[
      /* noWorkerInitJobList */init[/* noWorkerInitJobList */0],
      /* noWorkerLoopJobList */init[/* noWorkerLoopJobList */1],
      /* workerCustomMainInitTargetJobMap */HashMapService$WonderCommonlib.deleteVal(match[0], state[/* jobRecord */1][/* workerCustomMainInitTargetJobMap */2]),
      /* workerCustomMainInitSourceJobMap */init[/* workerCustomMainInitSourceJobMap */3],
      /* workerCustomMainInitRemovedDefaultJobMap */init[/* workerCustomMainInitRemovedDefaultJobMap */4],
      /* workerCustomMainLoopTargetJobMap */init[/* workerCustomMainLoopTargetJobMap */5],
      /* workerCustomMainLoopSourceJobMap */init[/* workerCustomMainLoopSourceJobMap */6],
      /* workerCustomMainLoopRemovedDefaultJobMap */init[/* workerCustomMainLoopRemovedDefaultJobMap */7]
    ];
    return newrecord;
  } else {
    var newrecord$1 = Caml_array.caml_array_dup(state);
    var init$1 = state[/* jobRecord */1];
    newrecord$1[/* jobRecord */1] = /* record */[
      /* noWorkerInitJobList */init$1[/* noWorkerInitJobList */0],
      /* noWorkerLoopJobList */init$1[/* noWorkerLoopJobList */1],
      /* workerCustomMainInitTargetJobMap */init$1[/* workerCustomMainInitTargetJobMap */2],
      /* workerCustomMainInitSourceJobMap */init$1[/* workerCustomMainInitSourceJobMap */3],
      /* workerCustomMainInitRemovedDefaultJobMap */HashMapService$WonderCommonlib.set(targetJobName, true, state[/* jobRecord */1][/* workerCustomMainInitRemovedDefaultJobMap */4]),
      /* workerCustomMainLoopTargetJobMap */init$1[/* workerCustomMainLoopTargetJobMap */5],
      /* workerCustomMainLoopSourceJobMap */init$1[/* workerCustomMainLoopSourceJobMap */6],
      /* workerCustomMainLoopRemovedDefaultJobMap */init$1[/* workerCustomMainLoopRemovedDefaultJobMap */7]
    ];
    return newrecord$1;
  }
}

function addWorkerMainLoopJob(param, action, targetHandleFunc, state) {
  var sourceJobName = param[1];
  var targetJobName = param[0];
  var newrecord = Caml_array.caml_array_dup(state);
  var init = state[/* jobRecord */1];
  newrecord[/* jobRecord */1] = /* record */[
    /* noWorkerInitJobList */init[/* noWorkerInitJobList */0],
    /* noWorkerLoopJobList */init[/* noWorkerLoopJobList */1],
    /* workerCustomMainInitTargetJobMap */init[/* workerCustomMainInitTargetJobMap */2],
    /* workerCustomMainInitSourceJobMap */init[/* workerCustomMainInitSourceJobMap */3],
    /* workerCustomMainInitRemovedDefaultJobMap */init[/* workerCustomMainInitRemovedDefaultJobMap */4],
    /* workerCustomMainLoopTargetJobMap */HashMapService$WonderCommonlib.set(sourceJobName, /* tuple */[
          targetJobName,
          action,
          targetHandleFunc
        ], state[/* jobRecord */1][/* workerCustomMainLoopTargetJobMap */5]),
    /* workerCustomMainLoopSourceJobMap */HashMapService$WonderCommonlib.set(targetJobName, sourceJobName, state[/* jobRecord */1][/* workerCustomMainLoopSourceJobMap */6]),
    /* workerCustomMainLoopRemovedDefaultJobMap */init[/* workerCustomMainLoopRemovedDefaultJobMap */7]
  ];
  return newrecord;
}

function removeWorkerMainLoopJob(targetJobName, state) {
  var match = HashMapService$WonderCommonlib.get(targetJobName, state[/* jobRecord */1][/* workerCustomMainLoopSourceJobMap */6]);
  if (match) {
    var newrecord = Caml_array.caml_array_dup(state);
    var init = state[/* jobRecord */1];
    newrecord[/* jobRecord */1] = /* record */[
      /* noWorkerInitJobList */init[/* noWorkerInitJobList */0],
      /* noWorkerLoopJobList */init[/* noWorkerLoopJobList */1],
      /* workerCustomMainInitTargetJobMap */init[/* workerCustomMainInitTargetJobMap */2],
      /* workerCustomMainInitSourceJobMap */init[/* workerCustomMainInitSourceJobMap */3],
      /* workerCustomMainInitRemovedDefaultJobMap */init[/* workerCustomMainInitRemovedDefaultJobMap */4],
      /* workerCustomMainLoopTargetJobMap */HashMapService$WonderCommonlib.deleteVal(match[0], state[/* jobRecord */1][/* workerCustomMainLoopTargetJobMap */5]),
      /* workerCustomMainLoopSourceJobMap */init[/* workerCustomMainLoopSourceJobMap */6],
      /* workerCustomMainLoopRemovedDefaultJobMap */init[/* workerCustomMainLoopRemovedDefaultJobMap */7]
    ];
    return newrecord;
  } else {
    var newrecord$1 = Caml_array.caml_array_dup(state);
    var init$1 = state[/* jobRecord */1];
    newrecord$1[/* jobRecord */1] = /* record */[
      /* noWorkerInitJobList */init$1[/* noWorkerInitJobList */0],
      /* noWorkerLoopJobList */init$1[/* noWorkerLoopJobList */1],
      /* workerCustomMainInitTargetJobMap */init$1[/* workerCustomMainInitTargetJobMap */2],
      /* workerCustomMainInitSourceJobMap */init$1[/* workerCustomMainInitSourceJobMap */3],
      /* workerCustomMainInitRemovedDefaultJobMap */init$1[/* workerCustomMainInitRemovedDefaultJobMap */4],
      /* workerCustomMainLoopTargetJobMap */init$1[/* workerCustomMainLoopTargetJobMap */5],
      /* workerCustomMainLoopSourceJobMap */init$1[/* workerCustomMainLoopSourceJobMap */6],
      /* workerCustomMainLoopRemovedDefaultJobMap */HashMapService$WonderCommonlib.set(targetJobName, true, state[/* jobRecord */1][/* workerCustomMainLoopRemovedDefaultJobMap */7])
    ];
    return newrecord$1;
  }
}

export {
  getMainInitJobStream ,
  getMainLoopJobStream ,
  getRenderWorkerJobStreamArr ,
  addWorkerMainInitJob ,
  removeWorkerMainInitJob ,
  addWorkerMainLoopJob ,
  removeWorkerMainLoopJob ,
  
}
/* HashMapService-WonderCommonlib Not a pure module */

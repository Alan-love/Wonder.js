// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as Contract$WonderLog               from "../../../../../../node_modules/wonder-log/lib/es6_global/src/Contract.js";
import * as ArrayService$Wonderjs            from "../../atom/ArrayService.js";
import * as MainStateData$Wonderjs           from "../../state/main/data/MainStateData.js";
import * as IsDebugMainService$Wonderjs      from "../../state/main/state/IsDebugMainService.js";
import * as ArrayService$WonderCommonlib     from "../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/ArrayService.js";
import * as DisposeComponentService$Wonderjs from "../../primitiive/component/DisposeComponentService.js";

function isAlive(cameraView, param) {
  return DisposeComponentService$Wonderjs.isAlive(cameraView, param[/* disposedIndexArray */8]);
}

function _disposeData(cameraProjection, record) {
  return /* record */[
          /* index */record[/* index */0],
          /* dirtyArray */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* dirtyArray */1]),
          /* pMatrixMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* pMatrixMap */2]),
          /* nearMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* nearMap */3]),
          /* farMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* farMap */4]),
          /* fovyMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* fovyMap */5]),
          /* aspectMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* aspectMap */6]),
          /* gameObjectMap */DisposeComponentService$Wonderjs.disposeSparseMapData(cameraProjection, record[/* gameObjectMap */7]),
          /* disposedIndexArray */record[/* disposedIndexArray */8]
        ];
}

function handleDisposeComponent(cameraProjection, record) {
  Contract$WonderLog.requireCheck((function () {
          return DisposeComponentService$Wonderjs.checkComponentShouldAlive(cameraProjection, isAlive, record);
        }), IsDebugMainService$Wonderjs.getIsDebug(MainStateData$Wonderjs.stateData));
  var newrecord = record.slice();
  return _disposeData(cameraProjection, (newrecord[/* disposedIndexArray */8] = ArrayService$Wonderjs.push(cameraProjection, record[/* disposedIndexArray */8]), newrecord));
}

function handleBatchDisposeComponent(cameraProjectionArray, _, record) {
  Contract$WonderLog.requireCheck((function () {
          return DisposeComponentService$Wonderjs.checkComponentShouldAliveWithBatchDispose(cameraProjectionArray, isAlive, record);
        }), IsDebugMainService$Wonderjs.getIsDebug(MainStateData$Wonderjs.stateData));
  var newrecord = record.slice();
  return ArrayService$WonderCommonlib.reduceOneParam((function (record, cameraProjection) {
                return _disposeData(cameraProjection, record);
              }), (newrecord[/* disposedIndexArray */8] = record[/* disposedIndexArray */8].concat(cameraProjectionArray), newrecord), cameraProjectionArray);
}

export {
  isAlive                     ,
  _disposeData                ,
  handleDisposeComponent      ,
  handleBatchDisposeComponent ,
  
}
/* Contract-WonderLog Not a pure module */

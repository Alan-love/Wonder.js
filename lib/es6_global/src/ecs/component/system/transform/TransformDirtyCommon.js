// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as Contract$Wonderjs                from "../../../../definition/Contract.js";
import * as ArraySystem$Wonderjs             from "../../../../structure/ArraySystem.js";
import * as SparseMapSystem$WonderCommonlib  from "../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as TransformHierachyCommon$Wonderjs from "./TransformHierachyCommon.js";

function mark(transform, isDirty, data) {
  SparseMapSystem$WonderCommonlib.set(transform, isDirty, data[/* dirtyMap */6]);
  return data;
}

function markHierachyDirty(transform, data) {
  return ArraySystem$Wonderjs.reduceOneParam((function (data, child) {
                return markHierachyDirty(child, data);
              }), data, TransformHierachyCommon$Wonderjs.unsafeGetChildren(transform, mark(transform, /* true */1, data)));
}

function isDirty(transform, data) {
  var dirtyMap = data[/* dirtyMap */6];
  return Contract$Wonderjs.ensureCheck((function (isDirty) {
                return Contract$Wonderjs.test("should return bool", (function () {
                              Contract$Wonderjs.assertExist(SparseMapSystem$WonderCommonlib.get(transform, dirtyMap));
                              return Contract$Wonderjs.assertIsBool(isDirty);
                            }));
              }), SparseMapSystem$WonderCommonlib.unsafeGet(transform, dirtyMap));
}

export {
  mark              ,
  markHierachyDirty ,
  isDirty           ,
  
}
/* ArraySystem-Wonderjs Not a pure module */

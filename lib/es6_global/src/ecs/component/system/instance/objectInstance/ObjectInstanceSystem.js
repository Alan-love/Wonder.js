// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ComponentSystem$Wonderjs                      from "../../component/ComponentSystem.js";
import * as SparseMapSystem$WonderCommonlib               from "../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as ObjectInstanceStateCommon$Wonderjs            from "./ObjectInstanceStateCommon.js";
import * as ObjectInstanceDisposeComponentCommon$Wonderjs from "./ObjectInstanceDisposeComponentCommon.js";

var isAlive = ObjectInstanceDisposeComponentCommon$Wonderjs.isAlive;

function _setSourceInstance(objectInstance, sourceInstance, data) {
  SparseMapSystem$WonderCommonlib.set(objectInstance, sourceInstance, data[/* sourceInstanceMap */1]);
  return data;
}

function create(sourceInstance, uid, state) {
  var data = ObjectInstanceStateCommon$Wonderjs.getObjectInstanceData(state);
  var index = data[/* index */0];
  var disposedIndexArray = data[/* disposedIndexArray */2];
  var match = ComponentSystem$Wonderjs.generateIndex(index, disposedIndexArray);
  var index$1 = match[0];
  data[/* index */0] = match[1];
  _setSourceInstance(index$1, sourceInstance, data);
  ComponentSystem$Wonderjs.addComponentToGameObjectMap(index$1, uid, data[/* gameObjectMap */3]);
  return /* tuple */[
          state,
          index$1
        ];
}

var deepCopyStateForRestore = ObjectInstanceStateCommon$Wonderjs.deepCopyStateForRestore;

export {
  isAlive                 ,
  _setSourceInstance      ,
  create                  ,
  deepCopyStateForRestore ,
  
}
/* ObjectInstanceStateCommon-Wonderjs Not a pure module */

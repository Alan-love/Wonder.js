// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ComponentSystem$Wonderjs                      from "../../component/ComponentSystem.js";
import * as SparseMapSystem$WonderCommonlib               from "../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as ObjectInstanceStateCommon$Wonderjs            from "./ObjectInstanceStateCommon.js";
import * as ObjectInstanceDisposeComponentCommon$Wonderjs from "./ObjectInstanceDisposeComponentCommon.js";

var isAlive = ObjectInstanceDisposeComponentCommon$Wonderjs.isAlive;

var _setSourceInstance = SparseMapSystem$WonderCommonlib.set;

function create(sourceInstance, uid, state) {
  var data = ObjectInstanceStateCommon$Wonderjs.getObjectInstanceData(state);
  var match = ComponentSystem$Wonderjs.generateIndex(data[/* index */0], data[/* disposedIndexArray */2]);
  var index = match[0];
  var newrecord = state.slice();
  return /* tuple */[
          (newrecord[/* objectInstanceData */8] = /* record */[
              /* index */match[1],
              /* sourceInstanceMap */SparseMapSystem$WonderCommonlib.set(index, sourceInstance, data[/* sourceInstanceMap */1]),
              /* disposedIndexArray */data[/* disposedIndexArray */2],
              /* gameObjectMap */ComponentSystem$Wonderjs.addComponentToGameObjectMap(index, uid, data[/* gameObjectMap */3])
            ], newrecord),
          index
        ];
}

var deepCopyStateForRestore = ObjectInstanceStateCommon$Wonderjs.deepCopyStateForRestore;

export {
  isAlive                 ,
  _setSourceInstance      ,
  create                  ,
  deepCopyStateForRestore ,
  
}
/* ComponentSystem-Wonderjs Not a pure module */

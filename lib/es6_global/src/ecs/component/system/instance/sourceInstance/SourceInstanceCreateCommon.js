// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ComponentSystem$Wonderjs            from "../../component/ComponentSystem.js";
import * as ArraySystem$WonderCommonlib         from "../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/ArraySystem.js";
import * as SparseMapSystem$WonderCommonlib     from "../../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapSystem.js";
import * as SourceInstanceStateCommon$Wonderjs  from "./SourceInstanceStateCommon.js";
import * as SourceInstanceStaticCommon$Wonderjs from "./SourceInstanceStaticCommon.js";

function create(state) {
  var data = SourceInstanceStateCommon$Wonderjs.getSourceInstanceData(state);
  var objectInstanceArrayMap = data[/* objectInstanceArrayMap */1];
  var match = ComponentSystem$Wonderjs.generateIndex(data[/* index */0], data[/* disposedIndexArray */6]);
  var index = match[0];
  SparseMapSystem$WonderCommonlib.set(index, ArraySystem$WonderCommonlib.createEmpty(/* () */0), objectInstanceArrayMap);
  var state$1 = SourceInstanceStaticCommon$Wonderjs.markIsSendTransformMatrixData(index, /* false */0, SourceInstanceStaticCommon$Wonderjs.markModelMatrixIsStatic(index, /* true */1, state));
  var newrecord = state$1.slice();
  var init = SourceInstanceStateCommon$Wonderjs.getSourceInstanceData(state$1);
  newrecord[/* sourceInstanceData */7] = /* record */[
    /* index */match[1],
    /* objectInstanceArrayMap */objectInstanceArrayMap,
    /* matrixInstanceBufferCapacityMap */init[/* matrixInstanceBufferCapacityMap */2],
    /* matrixFloat32ArrayMap */init[/* matrixFloat32ArrayMap */3],
    /* isTransformStaticMap */init[/* isTransformStaticMap */4],
    /* isSendTransformMatrixDataMap */init[/* isSendTransformMatrixDataMap */5],
    /* disposedIndexArray */match[2],
    /* gameObjectMap */init[/* gameObjectMap */7]
  ];
  return /* tuple */[
          newrecord,
          index
        ];
}

export {
  create ,
  
}
/* ComponentSystem-Wonderjs Not a pure module */

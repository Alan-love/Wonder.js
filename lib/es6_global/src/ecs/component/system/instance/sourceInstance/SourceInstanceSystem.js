// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ComponentSystem$Wonderjs                         from "../../component/ComponentSystem.js";
import * as TransformSystem$Wonderjs                         from "../../transform/TransformSystem.js";
import * as ObjectInstanceSystem$Wonderjs                    from "../objectInstance/ObjectInstanceSystem.js";
import * as GameObjectCreateCommon$Wonderjs                  from "../../../../admin/GameObjectCreateCommon.js";
import * as SourceInstanceStateCommon$Wonderjs               from "./SourceInstanceStateCommon.js";
import * as SourceInstanceCreateCommon$Wonderjs              from "./SourceInstanceCreateCommon.js";
import * as SourceInstanceStaticCommon$Wonderjs              from "./SourceInstanceStaticCommon.js";
import * as GameObjectAddComponentCommon$Wonderjs            from "../../../../admin/GameObjectAddComponentCommon.js";
import * as SourceInstanceDisposeComponentCommon$Wonderjs    from "./SourceInstanceDisposeComponentCommon.js";
import * as SourceInstanceObjectInstanceArrayCommon$Wonderjs from "./SourceInstanceObjectInstanceArrayCommon.js";

var isAlive = SourceInstanceDisposeComponentCommon$Wonderjs.isAlive;

var create = SourceInstanceCreateCommon$Wonderjs.create;

var getObjectInstanceArray = SourceInstanceObjectInstanceArrayCommon$Wonderjs.getObjectInstanceArray;

function _addObjectInstnace(sourceInstance, uid, data) {
  var objectInstanceArrayMap = data[/* objectInstanceArrayMap */1];
  SourceInstanceObjectInstanceArrayCommon$Wonderjs.unsafeGetObjectInstanceArray(sourceInstance, objectInstanceArrayMap).push(uid);
  return data;
}

function createInstance(sourceInstance, state) {
  var match = GameObjectCreateCommon$Wonderjs.create(state);
  var uid = match[1];
  var state$1 = match[0];
  _addObjectInstnace(sourceInstance, uid, SourceInstanceStateCommon$Wonderjs.getSourceInstanceData(state$1));
  var match$1 = TransformSystem$Wonderjs.create(state$1);
  var match$2 = ObjectInstanceSystem$Wonderjs.create(sourceInstance, uid, match$1[0]);
  var state$2 = GameObjectAddComponentCommon$Wonderjs.addObjectInstanceComponent(uid, match$2[1], GameObjectAddComponentCommon$Wonderjs.addTransformComponent(uid, match$1[1], match$2[0]));
  return /* tuple */[
          state$2,
          uid
        ];
}

function getGameObject(sourceInstance, state) {
  return ComponentSystem$Wonderjs.getComponentGameObject(sourceInstance, SourceInstanceStateCommon$Wonderjs.getSourceInstanceData(state)[/* gameObjectMap */7]);
}

var getSourceInstanceData = SourceInstanceStateCommon$Wonderjs.getSourceInstanceData;

var isSendModelMatrix = SourceInstanceStaticCommon$Wonderjs.isSendModelMatrix;

var markSendModelMatrix = SourceInstanceStaticCommon$Wonderjs.markSendModelMatrix;

var markModelMatrixIsStatic = SourceInstanceStaticCommon$Wonderjs.markModelMatrixIsStatic;

var isModelMatrixIsStatic = SourceInstanceStaticCommon$Wonderjs.isModelMatrixIsStatic;

var deepCopyStateForRestore = SourceInstanceStateCommon$Wonderjs.deepCopyStateForRestore;

var restore = SourceInstanceStateCommon$Wonderjs.restore;

export {
  isAlive                 ,
  create                  ,
  getSourceInstanceData   ,
  isSendModelMatrix       ,
  markSendModelMatrix     ,
  getObjectInstanceArray  ,
  _addObjectInstnace      ,
  createInstance          ,
  getGameObject           ,
  markModelMatrixIsStatic ,
  isModelMatrixIsStatic   ,
  deepCopyStateForRestore ,
  restore                 ,
  
}
/* TransformSystem-Wonderjs Not a pure module */

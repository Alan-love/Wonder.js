// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ArraySystem$Wonderjs                 from "../../../../structure/ArraySystem.js";
import * as ShaderSystem$Wonderjs                from "../../../../renderer/shader/ShaderSystem.js";
import * as MaterialHelper$Wonderjs              from "../../../component/data/material/MaterialHelper.js";
import * as MaterialSystem$Wonderjs              from "../../../component/system/material/MaterialSystem.js";
import * as SparseMapSystem$Wonderjs             from "../../../../structure/SparseMapSystem.js";
import * as ShaderStateCommon$Wonderjs           from "../../../../renderer/shader/ShaderStateCommon.js";
import * as MaterialInitComponentCommon$Wonderjs from "../../../component/system/material/MaterialInitComponentCommon.js";

function pregetGLSLData(_, state) {
  var glslData = ShaderStateCommon$Wonderjs.getGLSLData(state);
  glslData[/* precision */0] = /* Some */[ShaderSystem$Wonderjs.getPrecisionSource(state)];
  return state;
}

var initData = MaterialHelper$Wonderjs.initData;

function initMaterials(materialIndexArr, gl, state) {
  return ArraySystem$Wonderjs.reduceState((function (state, materialIndex) {
                return MaterialInitComponentCommon$Wonderjs.initMaterial(gl, materialIndex, state);
              }), state, materialIndexArr);
}

function _getAllAliveMaterials(state) {
  return SparseMapSystem$Wonderjs.getValidKeys(MaterialSystem$Wonderjs.getMaterialData(state)[/* gameObjectMap */3]);
}

function restore(gl, currentState, targetState) {
  var newState = MaterialSystem$Wonderjs.restore(currentState, targetState);
  return initMaterials(SparseMapSystem$Wonderjs.getValidKeys(MaterialSystem$Wonderjs.getMaterialData(newState)[/* gameObjectMap */3]), gl, newState);
}

var unsafeGetShaderIndex = MaterialSystem$Wonderjs.unsafeGetShaderIndex;

var deepCopyStateForRestore = MaterialSystem$Wonderjs.deepCopyStateForRestore;

export {
  pregetGLSLData          ,
  initData                ,
  unsafeGetShaderIndex    ,
  initMaterials           ,
  _getAllAliveMaterials   ,
  deepCopyStateForRestore ,
  restore                 ,
  
}
/* ArraySystem-Wonderjs Not a pure module */

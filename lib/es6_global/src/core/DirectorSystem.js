// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as StateData$Wonderjs            from "./StateData.js";
import * as StateSystem$Wonderjs          from "./StateSystem.js";
import * as LogicJobSystem$Wonderjs       from "../data/job/logic/LogicJobSystem.js";
import * as RenderJobSystem$Wonderjs      from "../data/job/render/RenderJobSystem.js";
import * as DeviceManagerSystem$Wonderjs  from "../renderer/device/DeviceManagerSystem.js";
import * as TimeControllerSystem$Wonderjs from "./timeController/TimeControllerSystem.js";

function init(state) {
  return RenderJobSystem$Wonderjs.execRenderInitJobs(DeviceManagerSystem$Wonderjs.unsafeGetGl(state), LogicJobSystem$Wonderjs.execLogicInitJobs(state));
}

function _run(time, state) {
  var elapsed = TimeControllerSystem$Wonderjs.computeElapseTime(time, state);
  return RenderJobSystem$Wonderjs.execRenderRenderJobs(DeviceManagerSystem$Wonderjs.unsafeGetGl(state), LogicJobSystem$Wonderjs.execLogicUpdateJobs(elapsed, state));
}

var loopBody = _run;

function start(state) {
  var _loop = function (_, state) {
    return requestAnimationFrame((function (time) {
                  _loop(time, StateSystem$Wonderjs.setState(StateData$Wonderjs.stateData, _run(time, state)));
                  return /* () */0;
                }));
  };
  _loop(0, init(state));
  return /* () */0;
}

export {
  init     ,
  _run     ,
  loopBody ,
  start    ,
  
}
/* StateSystem-Wonderjs Not a pure module */

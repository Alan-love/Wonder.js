// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as StateData$Wonderjs                from "./StateData.js";
import * as StateSystem$Wonderjs              from "./StateSystem.js";
import * as GameObjectAdmin$Wonderjs          from "../ecs/admin/GameObjectAdmin.js";
import * as WebGLRenderAdmin$Wonderjs         from "../renderer/core/admin/WebGLRenderAdmin.js";
import * as TimeControllerSystem$Wonderjs     from "./timeController/TimeControllerSystem.js";
import * as ScheduleControllerSystem$Wonderjs from "./scheduler/ScheduleControllerSystem.js";

function init(state) {
  return ScheduleControllerSystem$Wonderjs.start(TimeControllerSystem$Wonderjs.start(WebGLRenderAdmin$Wonderjs.init(GameObjectAdmin$Wonderjs.init(state))));
}

function _sync(time, state) {
  var elapsed = TimeControllerSystem$Wonderjs.computeElapseTime(time, state);
  return GameObjectAdmin$Wonderjs.update(elapsed, ScheduleControllerSystem$Wonderjs.update(elapsed, TimeControllerSystem$Wonderjs.tick(elapsed, state)));
}

function _run(time, state) {
  return WebGLRenderAdmin$Wonderjs.render(_sync(time, state));
}

function loopBody(time, state) {
  return WebGLRenderAdmin$Wonderjs.render(_sync(time, state));
}

function start(state) {
  var _loop = function (_, state) {
    return requestAnimationFrame((function (time) {
                  _loop(time, StateSystem$Wonderjs.setState(StateData$Wonderjs.stateData, WebGLRenderAdmin$Wonderjs.render(_sync(time, state))));
                  return /* () */0;
                }));
  };
  _loop(0, init(state));
  return /* () */0;
}

export {
  init     ,
  _sync    ,
  _run     ,
  loopBody ,
  start    ,
  
}
/* StateSystem-Wonderjs Not a pure module */

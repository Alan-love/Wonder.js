<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>imgui</title>
</head>

<body>
    <script src="../e2e/js/AssetTool.js"></script>
    <script src="../e2e/js/ReplaceFetchTool.js"></script>
    <script src="../e2e/js/ScheduleTool.js"></script>
    <script src="../e2e/js/BasicBoxesTool.js"></script>
    <script src="../e2e/js/LightBoxesTool.js"></script>
    <script src="../e2e/js/PositionTool.js"></script>
    <script src="../e2e/js/LightTool.js"></script>
    <script src="../e2e/js/CameraTool.js"></script>
    <script src="../e2e/js/CustomGeometryTool.js"></script>
    <script src="../e2e/js/BasicMaterialTool.js"></script>
    <script src="../e2e/js/LightMaterialTool.js"></script>
    <script src="../../dist/wd.js"></script>
    <script>

        window.onload = function () {
            return AssetTool.loadConfig(["./data/setting.json", "./data/"], null, function () {
                AssetTool.loadIMGUIAsset("../res/font/myFont.fnt", "../res/font/myFont.png",
                    [
                        ["./1.png", "1"],
                        ["./2.jpg", "2"]
                    ],
                    wd.unsafeGetState(), function (state) {
                        var state = wd.unsafeGetState();


                        var state =
                            wd.setSetting(
                                {
                                    "textColor": [1.0, 1.0, 1.0],
                                    "buttonSetting": {
                                        "buttonColor": [0.5, 0.5, 0.5],
                                        "hoverButtonColor": [0.5, 0.0, 1.0],
                                        "clickButtonColor": [0.5, 1.0, 0.0]
                                    },
                                    "radioButtonSetting": {

                                        "radioButtonOuterColor": [0.3, 0.3, 0.3],
                                        "radioButtonInnerColor":



                                            [0.15, 0.15, 0.15],


                                        "radioButtonOuterColorHover":
                                            [0.33, 0.33, 0.33],


                                        "radioButtonInnerColorHover":

                                            [0.15, 0.15, 0.15],

                                        "radioButtonCircleSegments":

                                            9,

                                        "radioButtonInnerRadius": 0.6,

                                        "radioButtonOuterRadius":
                                            1.0
                                    },
                                    "checkboxSetting": {

                                        "checkboxOuterColor": [0.3, 0.3, 0.3],
                                        "checkboxInnerColor":



                                            [0.15, 0.15, 0.15],


                                        "checkboxOuterColorHover":
                                            [0.33, 0.33, 0.33],


                                        "checkboxInnerColorHover":

                                            [0.15, 0.15, 0.15],


                                        "checkboxInnerSizeRatio": 0.6,

                                        "checkboxOuterSizeRatio":
                                            1.0
                                    },
                                    "sliderSetting": {

                                        "sliderBackgroundColor": [0.3, 0.3, 0.3],
                                        "sliderFillColor":



                                            [0.15, 0.15, 0.15],


                                        "sliderBackgroundColorHover":
                                            [0.33, 0.33, 0.33],


                                        "sliderFillColorHover":

                                            [0.15, 0.15, 0.15],
                                    },


                                    "fontTexUvForWhite": [0.5, 0.5]
                                }, state
                            );


                        var state = wd.setIMGUIFunc(
                            1, (labelFunc, api, record) => {
                                var radioButtonX = 200;
                                var radioButtonY = 20;
                                var radioButtonWidth = 100;
                                var radioButtonHeight = 100;


                                var [record, selectIndex1] = api.radioButton(
                                    [
                                        [

                                            [radioButtonX, radioButtonY, radioButtonWidth, radioButtonHeight], "a"

                                        ],
                                        [

                                            [radioButtonX * 2, radioButtonY * 2, 100, 150],
                                            "b"

                                        ]
                                    ],
                                    "group1",
                                    record
                                );


                                var [record, selectIndex2] = api.radioButton(
                                    [
                                        [

                                            [radioButtonX * 3, radioButtonY, radioButtonWidth, radioButtonHeight], "a"

                                        ],
                                        [

                                            [radioButtonX * 5, radioButtonY * 3, 100, 150],
                                            "b"

                                        ]
                                    ],
                                    "group2",
                                    record
                                );

                                // console.log(selectIndex1, selectIndex2)




                                var [record, selectIndex2] = api.checkbox(


                                    [200, 400, 300, 100],
                                    "checkbox",
                                    record
                                );






                                var [record, isSelected1, value1] = api.sliderFloat(
                                    [
                                        [200, 600, 300, 50],
                                        100
                                    ],
                                    [
                                        0.1, 5.5, 2
                                    ],
                                    [
                                        1.3, "float"
                                    ],
                                    record
                                );




                                var [record, isSelected2, value2] = api.sliderFloat(
                                    [
                                        [600, 600, 300, 50],
                                        100
                                    ],
                                    [
                                        0.1, 5.5, 2
                                    ],
                                    [
                                        1.3, "float"
                                    ],
                                    record
                                );


                                var [record, isSelected3, value3] = api.sliderInt(
                                    [
                                        [1200, 600, 300, 50],
                                        100
                                    ],
                                    [
                                        2, 7
                                    ],
                                    [
                                        3, "int"
                                    ],
                                    record
                                );


                                console.log(isSelected3, value3);



                                // var [record, isButtonClick] = api.button(
                                //     [200, 400, 100, 50], "b", record
                                // );

                                // // if (isButtonClick) {
                                // //     console.log(isButtonClick);
                                // // }



                                // var [record, isButtonClick] = api.button(
                                //     [400, 200, 100, 50], "b", record
                                // );


                                // // var record = api.label(
                                // //     [20, 20, 300, 100], "ab", 0, record
                                // // );



                                // var record = api.image(
                                //     [50, 150, 50, 100], [0, 0, 1, 1], "1", record
                                // );


                                // var record = api.image(
                                //     [200, 300, 100, 100], [0, 0, 1, 1], "2", record
                                // );


                                // var record = api.label(
                                //     [20, 150, 300, 100], "c", 1, record
                                // );

                                // var record = api.image(
                                //     [500, 300, 100, 100], [0, 0, 1, 1], "2", record
                                // );




                                return record
                            }, state);


                        wd.setState(state);



                        var record = LightBoxesTool.createBox(state);







                        var state = wd.setAmbientLightColor([0.2, 0.2, 0.2], state);


                        // var state = LightTool.createLights([-10, 0, 20], [5, 0, 25], state);


                        var data = LightBoxesTool.createCamera(state);
                        var state = data[0];
                        var camera = data[1];


                        // var transform = wd.unsafeGetGameObjectTransformComponent(camera
                        // , state);

                        // state = wd.setTransformLocalPosition(transform, [0,0,50], state);



                        var [state, cameraController] = wd.createArcballCameraController(state);

                        var state =
                            wd.setArcballCameraControllerDistance(cameraController, 50, state);



                        // var state =
                        //     wd.setArcballCameraControllerMoveSpeedX(cameraController, 0.1, state);

                        var state =
                            wd.setArcballCameraControllerWheelSpeed(cameraController, 5, state);

                        var state = wd.addGameObjectArcballCameraControllerComponent(camera, cameraController, state);


                        state =
                            wd.setCurrentCameraGameObject(
                                camera, state
                            );










                        wd.startDirector(state);
                    });
            });
        };
    </script>
</body>

</html>